function CK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function AK(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var U1={exports:{}},pm={},$1={exports:{}},yt={};var ek;function PK(){if(ek)return yt;ek=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function p(U){return U===null||typeof U!="object"?null:(U=m&&U[m]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function _(U,G,K){this.props=U,this.context=G,this.refs=b,this.updater=K||y}_.prototype.isReactComponent={},_.prototype.setState=function(U,G){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,G,"setState")},_.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function S(){}S.prototype=_.prototype;function O(U,G,K){this.props=U,this.context=G,this.refs=b,this.updater=K||y}var R=O.prototype=new S;R.constructor=O,x(R,_.prototype),R.isPureReactComponent=!0;var z=Array.isArray,P=Object.prototype.hasOwnProperty,A={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function T(U,G,K){var X,te={},ie=null,re=null;if(G!=null)for(X in G.ref!==void 0&&(re=G.ref),G.key!==void 0&&(ie=""+G.key),G)P.call(G,X)&&!N.hasOwnProperty(X)&&(te[X]=G[X]);var xe=arguments.length-2;if(xe===1)te.children=K;else if(1<xe){for(var ae=Array(xe),ve=0;ve<xe;ve++)ae[ve]=arguments[ve+2];te.children=ae}if(U&&U.defaultProps)for(X in xe=U.defaultProps,xe)te[X]===void 0&&(te[X]=xe[X]);return{$$typeof:t,type:U,key:ie,ref:re,props:te,_owner:A.current}}function I(U,G){return{$$typeof:t,type:U.type,key:G,ref:U.ref,props:U.props,_owner:U._owner}}function j(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function D(U){var G={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(K){return G[K]})}var F=/\/+/g;function V(U,G){return typeof U=="object"&&U!==null&&U.key!=null?D(""+U.key):G.toString(36)}function $(U,G,K,X,te){var ie=typeof U;(ie==="undefined"||ie==="boolean")&&(U=null);var re=!1;if(U===null)re=!0;else switch(ie){case"string":case"number":re=!0;break;case"object":switch(U.$$typeof){case t:case e:re=!0}}if(re)return re=U,te=te(re),U=X===""?"."+V(re,0):X,z(te)?(K="",U!=null&&(K=U.replace(F,"$&/")+"/"),$(te,G,K,"",function(ve){return ve})):te!=null&&(j(te)&&(te=I(te,K+(!te.key||re&&re.key===te.key?"":(""+te.key).replace(F,"$&/")+"/")+U)),G.push(te)),1;if(re=0,X=X===""?".":X+":",z(U))for(var xe=0;xe<U.length;xe++){ie=U[xe];var ae=X+V(ie,xe);re+=$(ie,G,K,ae,te)}else if(ae=p(U),typeof ae=="function")for(U=ae.call(U),xe=0;!(ie=U.next()).done;)ie=ie.value,ae=X+V(ie,xe++),re+=$(ie,G,K,ae,te);else if(ie==="object")throw G=String(U),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return re}function Z(U,G,K){if(U==null)return U;var X=[],te=0;return $(U,X,"","",function(ie){return G.call(K,ie,te++)}),X}function J(U){if(U._status===-1){var G=U._result;G=G(),G.then(function(K){(U._status===0||U._status===-1)&&(U._status=1,U._result=K)},function(K){(U._status===0||U._status===-1)&&(U._status=2,U._result=K)}),U._status===-1&&(U._status=0,U._result=G)}if(U._status===1)return U._result.default;throw U._result}var B={current:null},Q={transition:null},H={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:Q,ReactCurrentOwner:A};function k(){throw Error("act(...) is not supported in production builds of React.")}return yt.Children={map:Z,forEach:function(U,G,K){Z(U,function(){G.apply(this,arguments)},K)},count:function(U){var G=0;return Z(U,function(){G++}),G},toArray:function(U){return Z(U,function(G){return G})||[]},only:function(U){if(!j(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},yt.Component=_,yt.Fragment=n,yt.Profiler=i,yt.PureComponent=O,yt.StrictMode=r,yt.Suspense=c,yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,yt.act=k,yt.cloneElement=function(U,G,K){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var X=x({},U.props),te=U.key,ie=U.ref,re=U._owner;if(G!=null){if(G.ref!==void 0&&(ie=G.ref,re=A.current),G.key!==void 0&&(te=""+G.key),U.type&&U.type.defaultProps)var xe=U.type.defaultProps;for(ae in G)P.call(G,ae)&&!N.hasOwnProperty(ae)&&(X[ae]=G[ae]===void 0&&xe!==void 0?xe[ae]:G[ae])}var ae=arguments.length-2;if(ae===1)X.children=K;else if(1<ae){xe=Array(ae);for(var ve=0;ve<ae;ve++)xe[ve]=arguments[ve+2];X.children=xe}return{$$typeof:t,type:U.type,key:te,ref:ie,props:X,_owner:re}},yt.createContext=function(U){return U={$$typeof:a,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:s,_context:U},U.Consumer=U},yt.createElement=T,yt.createFactory=function(U){var G=T.bind(null,U);return G.type=U,G},yt.createRef=function(){return{current:null}},yt.forwardRef=function(U){return{$$typeof:o,render:U}},yt.isValidElement=j,yt.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:J}},yt.memo=function(U,G){return{$$typeof:d,type:U,compare:G===void 0?null:G}},yt.startTransition=function(U){var G=Q.transition;Q.transition={};try{U()}finally{Q.transition=G}},yt.unstable_act=k,yt.useCallback=function(U,G){return B.current.useCallback(U,G)},yt.useContext=function(U){return B.current.useContext(U)},yt.useDebugValue=function(){},yt.useDeferredValue=function(U){return B.current.useDeferredValue(U)},yt.useEffect=function(U,G){return B.current.useEffect(U,G)},yt.useId=function(){return B.current.useId()},yt.useImperativeHandle=function(U,G,K){return B.current.useImperativeHandle(U,G,K)},yt.useInsertionEffect=function(U,G){return B.current.useInsertionEffect(U,G)},yt.useLayoutEffect=function(U,G){return B.current.useLayoutEffect(U,G)},yt.useMemo=function(U,G){return B.current.useMemo(U,G)},yt.useReducer=function(U,G,K){return B.current.useReducer(U,G,K)},yt.useRef=function(U){return B.current.useRef(U)},yt.useState=function(U){return B.current.useState(U)},yt.useSyncExternalStore=function(U,G,K){return B.current.useSyncExternalStore(U,G,K)},yt.useTransition=function(){return B.current.useTransition()},yt.version="18.3.1",yt}var tk;function Jr(){return tk||(tk=1,$1.exports=PK()),$1.exports}var nk;function IK(){if(nk)return pm;nk=1;var t=Jr(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,c,d){var f,m={},p=null,y=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(y=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(m[f]=c[f]);if(o&&o.defaultProps)for(f in c=o.defaultProps,c)m[f]===void 0&&(m[f]=c[f]);return{$$typeof:e,type:o,key:p,ref:y,props:m,_owner:i.current}}return pm.Fragment=n,pm.jsx=a,pm.jsxs=a,pm}var rk;function jK(){return rk||(rk=1,U1.exports=IK()),U1.exports}var l=jK(),E=Jr();const Te=vi(E),kK=CK({__proto__:null,default:Te},[E]);var Wy={},q1={exports:{}},ai={},H1={exports:{}},W1={};var ik;function RK(){return ik||(ik=1,(function(t){function e(Q,H){var k=Q.length;Q.push(H);e:for(;0<k;){var U=k-1>>>1,G=Q[U];if(0<i(G,H))Q[U]=H,Q[k]=G,k=U;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var H=Q[0],k=Q.pop();if(k!==H){Q[0]=k;e:for(var U=0,G=Q.length,K=G>>>1;U<K;){var X=2*(U+1)-1,te=Q[X],ie=X+1,re=Q[ie];if(0>i(te,k))ie<G&&0>i(re,te)?(Q[U]=re,Q[ie]=k,U=ie):(Q[U]=te,Q[X]=k,U=X);else if(ie<G&&0>i(re,k))Q[U]=re,Q[ie]=k,U=ie;else break e}}return H}function i(Q,H){var k=Q.sortIndex-H.sortIndex;return k!==0?k:Q.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],d=[],f=1,m=null,p=3,y=!1,x=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(Q){for(var H=n(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=Q)r(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(d)}}function z(Q){if(b=!1,R(Q),!x)if(n(c)!==null)x=!0,J(P);else{var H=n(d);H!==null&&B(z,H.startTime-Q)}}function P(Q,H){x=!1,b&&(b=!1,S(T),T=-1),y=!0;var k=p;try{for(R(H),m=n(c);m!==null&&(!(m.expirationTime>H)||Q&&!D());){var U=m.callback;if(typeof U=="function"){m.callback=null,p=m.priorityLevel;var G=U(m.expirationTime<=H);H=t.unstable_now(),typeof G=="function"?m.callback=G:m===n(c)&&r(c),R(H)}else r(c);m=n(c)}if(m!==null)var K=!0;else{var X=n(d);X!==null&&B(z,X.startTime-H),K=!1}return K}finally{m=null,p=k,y=!1}}var A=!1,N=null,T=-1,I=5,j=-1;function D(){return!(t.unstable_now()-j<I)}function F(){if(N!==null){var Q=t.unstable_now();j=Q;var H=!0;try{H=N(!0,Q)}finally{H?V():(A=!1,N=null)}}else A=!1}var V;if(typeof O=="function")V=function(){O(F)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Z=$.port2;$.port1.onmessage=F,V=function(){Z.postMessage(null)}}else V=function(){_(F,0)};function J(Q){N=Q,A||(A=!0,V())}function B(Q,H){T=_(function(){Q(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,J(P))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var k=p;p=H;try{return Q()}finally{p=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,H){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var k=p;p=Q;try{return H()}finally{p=k}},t.unstable_scheduleCallback=function(Q,H,k){var U=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?U+k:U):k=U,Q){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=k+G,Q={id:f++,callback:H,priorityLevel:Q,startTime:k,expirationTime:G,sortIndex:-1},k>U?(Q.sortIndex=k,e(d,Q),n(c)===null&&Q===n(d)&&(b?(S(T),T=-1):b=!0,B(z,k-U))):(Q.sortIndex=G,e(c,Q),x||y||(x=!0,J(P))),Q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Q){var H=p;return function(){var k=p;p=H;try{return Q.apply(this,arguments)}finally{p=k}}}})(W1)),W1}var sk;function DK(){return sk||(sk=1,H1.exports=RK()),H1.exports}var ak;function OK(){if(ak)return ai;ak=1;var t=Jr(),e=DK();function n(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,h){a(u,h),a(u+"Capture",h)}function a(u,h){for(i[u]=h,u=0;u<h.length;u++)r.add(h[u])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(u){return c.call(m,u)?!0:c.call(f,u)?!1:d.test(u)?m[u]=!0:(f[u]=!0,!1)}function y(u,h,g,w){if(g!==null&&g.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function x(u,h,g,w){if(h===null||typeof h>"u"||y(u,h,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function b(u,h,g,w,C,M,W){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=w,this.attributeNamespace=C,this.mustUseProperty=g,this.propertyName=u,this.type=h,this.sanitizeURL=M,this.removeEmptyString=W}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){_[u]=new b(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];_[h]=new b(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){_[u]=new b(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){_[u]=new b(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){_[u]=new b(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){_[u]=new b(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){_[u]=new b(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){_[u]=new b(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){_[u]=new b(u,5,!1,u.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function O(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(S,O);_[h]=new b(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(S,O);_[h]=new b(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(S,O);_[h]=new b(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){_[u]=new b(u,1,!1,u.toLowerCase(),null,!1,!1)}),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){_[u]=new b(u,1,!1,u.toLowerCase(),null,!0,!0)});function R(u,h,g,w){var C=_.hasOwnProperty(h)?_[h]:null;(C!==null?C.type!==0:w||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(x(h,g,C,w)&&(g=null),w||C===null?p(h)&&(g===null?u.removeAttribute(h):u.setAttribute(h,""+g)):C.mustUseProperty?u[C.propertyName]=g===null?C.type===3?!1:"":g:(h=C.attributeName,w=C.attributeNamespace,g===null?u.removeAttribute(h):(C=C.type,g=C===3||C===4&&g===!0?"":""+g,w?u.setAttributeNS(w,h,g):u.setAttribute(h,g))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),A=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),D=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),Q=Symbol.iterator;function H(u){return u===null||typeof u!="object"?null:(u=Q&&u[Q]||u["@@iterator"],typeof u=="function"?u:null)}var k=Object.assign,U;function G(u){if(U===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);U=h&&h[1]||""}return`
`+U+u}var K=!1;function X(u,h){if(!u||K)return"";K=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(pe){var w=pe}Reflect.construct(u,[],h)}else{try{h.call()}catch(pe){w=pe}u.call(h.prototype)}else{try{throw Error()}catch(pe){w=pe}u()}}catch(pe){if(pe&&w&&typeof pe.stack=="string"){for(var C=pe.stack.split(`
`),M=w.stack.split(`
`),W=C.length-1,ee=M.length-1;1<=W&&0<=ee&&C[W]!==M[ee];)ee--;for(;1<=W&&0<=ee;W--,ee--)if(C[W]!==M[ee]){if(W!==1||ee!==1)do if(W--,ee--,0>ee||C[W]!==M[ee]){var ne=`
`+C[W].replace(" at new "," at ");return u.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",u.displayName)),ne}while(1<=W&&0<=ee);break}}}finally{K=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?G(u):""}function te(u){switch(u.tag){case 5:return G(u.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return u=X(u.type,!1),u;case 11:return u=X(u.type.render,!1),u;case 1:return u=X(u.type,!0),u;default:return""}}function ie(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case N:return"Fragment";case A:return"Portal";case I:return"Profiler";case T:return"StrictMode";case V:return"Suspense";case $:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case D:return(u.displayName||"Context")+".Consumer";case j:return(u._context.displayName||"Context")+".Provider";case F:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Z:return h=u.displayName||null,h!==null?h:ie(u.type)||"Memo";case J:h=u._payload,u=u._init;try{return ie(u(h))}catch{}}return null}function re(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(h);case 8:return h===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function xe(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ae(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ve(u){var h=ae(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),w=""+u[h];if(!u.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var C=g.get,M=g.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return C.call(this)},set:function(W){w=""+W,M.call(this,W)}}),Object.defineProperty(u,h,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(W){w=""+W},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Ce(u){u._valueTracker||(u._valueTracker=ve(u))}function me(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var g=h.getValue(),w="";return u&&(w=ae(u)?u.checked?"true":"false":u.value),u=w,u!==g?(h.setValue(u),!0):!1}function Ie(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function De(u,h){var g=h.checked;return k({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??u._wrapperState.initialChecked})}function Je(u,h){var g=h.defaultValue==null?"":h.defaultValue,w=h.checked!=null?h.checked:h.defaultChecked;g=xe(h.value!=null?h.value:g),u._wrapperState={initialChecked:w,initialValue:g,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function ot(u,h){h=h.checked,h!=null&&R(u,"checked",h,!1)}function Fe(u,h){ot(u,h);var g=xe(h.value),w=h.type;if(g!=null)w==="number"?(g===0&&u.value===""||u.value!=g)&&(u.value=""+g):u.value!==""+g&&(u.value=""+g);else if(w==="submit"||w==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?ut(u,h.type,g):h.hasOwnProperty("defaultValue")&&ut(u,h.type,xe(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function pt(u,h,g){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var w=h.type;if(!(w!=="submit"&&w!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,g||h===u.value||(u.value=h),u.defaultValue=h}g=u.name,g!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,g!==""&&(u.name=g)}function ut(u,h,g){(h!=="number"||Ie(u.ownerDocument)!==u)&&(g==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+g&&(u.defaultValue=""+g))}var oe=Array.isArray;function Ne(u,h,g,w){if(u=u.options,h){h={};for(var C=0;C<g.length;C++)h["$"+g[C]]=!0;for(g=0;g<u.length;g++)C=h.hasOwnProperty("$"+u[g].value),u[g].selected!==C&&(u[g].selected=C),C&&w&&(u[g].defaultSelected=!0)}else{for(g=""+xe(g),h=null,C=0;C<u.length;C++){if(u[C].value===g){u[C].selected=!0,w&&(u[C].defaultSelected=!0);return}h!==null||u[C].disabled||(h=u[C])}h!==null&&(h.selected=!0)}}function Xe(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return k({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function de(u,h){var g=h.value;if(g==null){if(g=h.children,h=h.defaultValue,g!=null){if(h!=null)throw Error(n(92));if(oe(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),g=h}u._wrapperState={initialValue:xe(g)}}function Ke(u,h){var g=xe(h.value),w=xe(h.defaultValue);g!=null&&(g=""+g,g!==u.value&&(u.value=g),h.defaultValue==null&&u.defaultValue!==g&&(u.defaultValue=g)),w!=null&&(u.defaultValue=""+w)}function dt(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function nt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rt(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?nt(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Rt,Yt=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,g,w,C){MSApp.execUnsafeLocalFunction(function(){return u(h,g,w,C)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(Rt=Rt||document.createElement("div"),Rt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Rt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function pr(u,h){if(h){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=h;return}}u.textContent=h}var Rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ws=["Webkit","ms","Moz","O"];Object.keys(Rn).forEach(function(u){Ws.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),Rn[h]=Rn[u]})});function $r(u,h,g){return h==null||typeof h=="boolean"||h===""?"":g||typeof h!="number"||h===0||Rn.hasOwnProperty(u)&&Rn[u]?(""+h).trim():h+"px"}function Ei(u,h){u=u.style;for(var g in h)if(h.hasOwnProperty(g)){var w=g.indexOf("--")===0,C=$r(g,h[g],w);g==="float"&&(g="cssFloat"),w?u.setProperty(g,C):u[g]=C}}var Yo=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zn(u,h){if(h){if(Yo[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function Qo(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ks=null;function Ha(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var $i=null,ms=null,Qt=null;function ei(u){if(u=em(u)){if(typeof $i!="function")throw Error(n(280));var h=u.stateNode;h&&(h=ay(h),$i(u.stateNode,u.type,h))}}function Gs(u){ms?Qt?Qt.push(u):Qt=[u]:ms=u}function Ze(){if(ms){var u=ms,h=Qt;if(Qt=ms=null,ei(u),h)for(u=0;u<h.length;u++)ei(h[u])}}function Pt(u,h){return u(h)}function Bt(){}var _n=!1;function Ar(u,h,g){if(_n)return u(h,g);_n=!0;try{return Pt(u,h,g)}finally{_n=!1,(ms!==null||Qt!==null)&&(Bt(),Ze())}}function Pr(u,h){var g=u.stateNode;if(g===null)return null;var w=ay(g);if(w===null)return null;g=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(u=u.type,w=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!w;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(n(231,h,typeof g));return g}var Ir=!1;if(o)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{Ir=!1}function Si(u,h,g,w,C,M,W,ee,ne){var pe=Array.prototype.slice.call(arguments,3);try{h.apply(g,pe)}catch(Ee){this.onError(Ee)}}var Wa=!1,Xs=null,id=!1,qi=null,Vg={onError:function(u){Wa=!0,Xs=u}};function Fg(u,h,g,w,C,M,W,ee,ne){Wa=!1,Xs=null,Si.apply(Vg,arguments)}function Ah(u,h,g,w,C,M,W,ee,ne){if(Fg.apply(this,arguments),Wa){if(Wa){var pe=Xs;Wa=!1,Xs=null}else throw Error(n(198));id||(id=!0,qi=pe)}}function ps(u){var h=u,g=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(g=h.return),u=h.return;while(u)}return h.tag===3?g:null}function Ph(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function Bg(u){if(ps(u)!==u)throw Error(n(188))}function zg(u){var h=u.alternate;if(!h){if(h=ps(u),h===null)throw Error(n(188));return h!==u?null:u}for(var g=u,w=h;;){var C=g.return;if(C===null)break;var M=C.alternate;if(M===null){if(w=C.return,w!==null){g=w;continue}break}if(C.child===M.child){for(M=C.child;M;){if(M===g)return Bg(C),u;if(M===w)return Bg(C),h;M=M.sibling}throw Error(n(188))}if(g.return!==w.return)g=C,w=M;else{for(var W=!1,ee=C.child;ee;){if(ee===g){W=!0,g=C,w=M;break}if(ee===w){W=!0,w=C,g=M;break}ee=ee.sibling}if(!W){for(ee=M.child;ee;){if(ee===g){W=!0,g=M,w=C;break}if(ee===w){W=!0,w=M,g=C;break}ee=ee.sibling}if(!W)throw Error(n(189))}}if(g.alternate!==w)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?u:h}function Ug(u){return u=zg(u),u!==null?xc(u):null}function xc(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=xc(u);if(h!==null)return h;u=u.sibling}return null}var Ih=e.unstable_scheduleCallback,sd=e.unstable_cancelCallback,bc=e.unstable_shouldYield,Ka=e.unstable_requestPaint,rn=e.unstable_now,xw=e.unstable_getCurrentPriorityLevel,ad=e.unstable_ImmediatePriority,jh=e.unstable_UserBlockingPriority,wc=e.unstable_NormalPriority,kh=e.unstable_LowPriority,od=e.unstable_IdlePriority,_c=null,Ni=null;function $g(u){if(Ni&&typeof Ni.onCommitFiberRoot=="function")try{Ni.onCommitFiberRoot(_c,u,void 0,(u.current.flags&128)===128)}catch{}}var Ti=Math.clz32?Math.clz32:Ec,Ys=Math.log,Hi=Math.LN2;function Ec(u){return u>>>=0,u===0?32:31-(Ys(u)/Hi|0)|0}var Qs=64,Jo=4194304;function Lt(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Ga(u,h){var g=u.pendingLanes;if(g===0)return 0;var w=0,C=u.suspendedLanes,M=u.pingedLanes,W=g&268435455;if(W!==0){var ee=W&~C;ee!==0?w=Lt(ee):(M&=W,M!==0&&(w=Lt(M)))}else W=g&~C,W!==0?w=Lt(W):M!==0&&(w=Lt(M));if(w===0)return 0;if(h!==0&&h!==w&&(h&C)===0&&(C=w&-w,M=h&-h,C>=M||C===16&&(M&4194240)!==0))return h;if((w&4)!==0&&(w|=g&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=w;0<h;)g=31-Ti(h),C=1<<g,w|=u[g],h&=~C;return w}function Sc(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nc(u,h){for(var g=u.suspendedLanes,w=u.pingedLanes,C=u.expirationTimes,M=u.pendingLanes;0<M;){var W=31-Ti(M),ee=1<<W,ne=C[W];ne===-1?((ee&g)===0||(ee&w)!==0)&&(C[W]=Sc(ee,h)):ne<=h&&(u.expiredLanes|=ee),M&=~ee}}function Rh(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Dh(){var u=Qs;return Qs<<=1,(Qs&4194240)===0&&(Qs=64),u}function Oh(u){for(var h=[],g=0;31>g;g++)h.push(u);return h}function Tc(u,h,g){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-Ti(h),u[h]=g}function bw(u,h){var g=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var w=u.eventTimes;for(u=u.expirationTimes;0<g;){var C=31-Ti(g),M=1<<C;h[C]=0,w[C]=-1,u[C]=-1,g&=~M}}function Mh(u,h){var g=u.entangledLanes|=h;for(u=u.entanglements;g;){var w=31-Ti(g),C=1<<w;C&h|u[w]&h&&(u[w]|=h),g&=~C}}var Nt=0;function Js(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Lh,ld,Vh,Fh,Bh,Zs=!1,cd=[],ea=null,ta=null,gr=null,Cc=new Map,Xa=new Map,Ci=[],qg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zo(u,h){switch(u){case"focusin":case"focusout":ea=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Cc.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xa.delete(h.pointerId)}}function gs(u,h,g,w,C,M){return u===null||u.nativeEvent!==M?(u={blockedOn:h,domEventName:g,eventSystemFlags:w,nativeEvent:M,targetContainers:[C]},h!==null&&(h=em(h),h!==null&&ld(h)),u):(u.eventSystemFlags|=w,h=u.targetContainers,C!==null&&h.indexOf(C)===-1&&h.push(C),u)}function Hg(u,h,g,w,C){switch(h){case"focusin":return ea=gs(ea,u,h,g,w,C),!0;case"dragenter":return ta=gs(ta,u,h,g,w,C),!0;case"mouseover":return gr=gs(gr,u,h,g,w,C),!0;case"pointerover":var M=C.pointerId;return Cc.set(M,gs(Cc.get(M)||null,u,h,g,w,C)),!0;case"gotpointercapture":return M=C.pointerId,Xa.set(M,gs(Xa.get(M)||null,u,h,g,w,C)),!0}return!1}function ud(u){var h=jc(u.target);if(h!==null){var g=ps(h);if(g!==null){if(h=g.tag,h===13){if(h=Ph(g),h!==null){u.blockedOn=h,Bh(u.priority,function(){Vh(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Kt(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var g=dd(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(g===null){g=u.nativeEvent;var w=new g.constructor(g.type,g);Ks=w,g.target.dispatchEvent(w),Ks=null}else return h=em(g),h!==null&&ld(h),u.blockedOn=g,!1;h.shift()}return!0}function Wg(u,h,g){Kt(u)&&g.delete(h)}function ww(){Zs=!1,ea!==null&&Kt(ea)&&(ea=null),ta!==null&&Kt(ta)&&(ta=null),gr!==null&&Kt(gr)&&(gr=null),Cc.forEach(Wg),Xa.forEach(Wg)}function el(u,h){u.blockedOn===h&&(u.blockedOn=null,Zs||(Zs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ww)))}function tl(u){function h(C){return el(C,u)}if(0<cd.length){el(cd[0],u);for(var g=1;g<cd.length;g++){var w=cd[g];w.blockedOn===u&&(w.blockedOn=null)}}for(ea!==null&&el(ea,u),ta!==null&&el(ta,u),gr!==null&&el(gr,u),Cc.forEach(h),Xa.forEach(h),g=0;g<Ci.length;g++)w=Ci[g],w.blockedOn===u&&(w.blockedOn=null);for(;0<Ci.length&&(g=Ci[0],g.blockedOn===null);)ud(g),g.blockedOn===null&&Ci.shift()}var Ya=z.ReactCurrentBatchConfig,Qa=!0;function na(u,h,g,w){var C=Nt,M=Ya.transition;Ya.transition=null;try{Nt=1,zh(u,h,g,w)}finally{Nt=C,Ya.transition=M}}function Kg(u,h,g,w){var C=Nt,M=Ya.transition;Ya.transition=null;try{Nt=4,zh(u,h,g,w)}finally{Nt=C,Ya.transition=M}}function zh(u,h,g,w){if(Qa){var C=dd(u,h,g,w);if(C===null)kw(u,h,w,ra,g),Zo(u,w);else if(Hg(C,u,h,g,w))w.stopPropagation();else if(Zo(u,w),h&4&&-1<qg.indexOf(u)){for(;C!==null;){var M=em(C);if(M!==null&&Lh(M),M=dd(u,h,g,w),M===null&&kw(u,h,w,ra,g),M===C)break;C=M}C!==null&&w.stopPropagation()}else kw(u,h,w,null,g)}}var ra=null;function dd(u,h,g,w){if(ra=null,u=Ha(w),u=jc(u),u!==null)if(h=ps(u),h===null)u=null;else if(g=h.tag,g===13){if(u=Ph(h),u!==null)return u;u=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return ra=u,null}function fd(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xw()){case ad:return 1;case jh:return 4;case wc:case kh:return 16;case od:return 536870912;default:return 16}default:return 16}}var Ai=null,hd=null,Ja=null;function Gg(){if(Ja)return Ja;var u,h=hd,g=h.length,w,C="value"in Ai?Ai.value:Ai.textContent,M=C.length;for(u=0;u<g&&h[u]===C[u];u++);var W=g-u;for(w=1;w<=W&&h[g-w]===C[M-w];w++);return Ja=C.slice(u,1<w?1-w:void 0)}function Ac(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function ia(){return!0}function Uh(){return!1}function jr(u){function h(g,w,C,M,W){this._reactName=g,this._targetInst=C,this.type=w,this.nativeEvent=M,this.target=W,this.currentTarget=null;for(var ee in u)u.hasOwnProperty(ee)&&(g=u[ee],this[ee]=g?g(M):M[ee]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?ia:Uh,this.isPropagationStopped=Uh,this}return k(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ia)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ia)},persist:function(){},isPersistent:ia}),h}var sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pc=jr(sa),nl=k({},sa,{view:0,detail:0}),md=jr(nl),pd,gd,Pi,Ic=k({},nl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ht,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Pi&&(Pi&&u.type==="mousemove"?(pd=u.screenX-Pi.screenX,gd=u.screenY-Pi.screenY):gd=pd=0,Pi=u),pd)},movementY:function(u){return"movementY"in u?u.movementY:gd}}),$h=jr(Ic),Xg=k({},Ic,{dataTransfer:0}),Yg=jr(Xg),yd=k({},nl,{relatedTarget:0}),yr=jr(yd),Qg=k({},sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Jg=jr(Qg),rl=k({},sa,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),v=jr(rl),L=k({},sa,{data:0}),q=jr(L),Y={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ke(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=ge[u])?!!h[u]:!1}function ht(){return ke}var Pn=k({},nl,{key:function(u){if(u.key){var h=Y[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Ac(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?ue[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ht,charCode:function(u){return u.type==="keypress"?Ac(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ac(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),zt=jr(Pn),On=k({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ii=jr(On),Za=k({},nl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ht}),aa=jr(Za),oa=k({},sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),vd=jr(oa),qh=k({},Ic,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),wW=jr(qh),_W=[9,13,27,32],_w=o&&"CompositionEvent"in window,Hh=null;o&&"documentMode"in document&&(Hh=document.documentMode);var EW=o&&"TextEvent"in window&&!Hh,WI=o&&(!_w||Hh&&8<Hh&&11>=Hh),KI=" ",GI=!1;function XI(u,h){switch(u){case"keyup":return _W.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YI(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var xd=!1;function SW(u,h){switch(u){case"compositionend":return YI(h);case"keypress":return h.which!==32?null:(GI=!0,KI);case"textInput":return u=h.data,u===KI&&GI?null:u;default:return null}}function NW(u,h){if(xd)return u==="compositionend"||!_w&&XI(u,h)?(u=Gg(),Ja=hd=Ai=null,xd=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return WI&&h.locale!=="ko"?null:h.data;default:return null}}var TW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QI(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!TW[u.type]:h==="textarea"}function JI(u,h,g,w){Gs(w),h=ry(h,"onChange"),0<h.length&&(g=new Pc("onChange","change",null,g,w),u.push({event:g,listeners:h}))}var Wh=null,Kh=null;function CW(u){g2(u,0)}function Zg(u){var h=Sd(u);if(me(h))return u}function AW(u,h){if(u==="change")return h}var ZI=!1;if(o){var Ew;if(o){var Sw="oninput"in document;if(!Sw){var e2=document.createElement("div");e2.setAttribute("oninput","return;"),Sw=typeof e2.oninput=="function"}Ew=Sw}else Ew=!1;ZI=Ew&&(!document.documentMode||9<document.documentMode)}function t2(){Wh&&(Wh.detachEvent("onpropertychange",n2),Kh=Wh=null)}function n2(u){if(u.propertyName==="value"&&Zg(Kh)){var h=[];JI(h,Kh,u,Ha(u)),Ar(CW,h)}}function PW(u,h,g){u==="focusin"?(t2(),Wh=h,Kh=g,Wh.attachEvent("onpropertychange",n2)):u==="focusout"&&t2()}function IW(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Zg(Kh)}function jW(u,h){if(u==="click")return Zg(h)}function kW(u,h){if(u==="input"||u==="change")return Zg(h)}function RW(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var ys=typeof Object.is=="function"?Object.is:RW;function Gh(u,h){if(ys(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var g=Object.keys(u),w=Object.keys(h);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var C=g[w];if(!c.call(h,C)||!ys(u[C],h[C]))return!1}return!0}function r2(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function i2(u,h){var g=r2(u);u=0;for(var w;g;){if(g.nodeType===3){if(w=u+g.textContent.length,u<=h&&w>=h)return{node:g,offset:h-u};u=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=r2(g)}}function s2(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?s2(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function a2(){for(var u=window,h=Ie();h instanceof u.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)u=h.contentWindow;else break;h=Ie(u.document)}return h}function Nw(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function DW(u){var h=a2(),g=u.focusedElem,w=u.selectionRange;if(h!==g&&g&&g.ownerDocument&&s2(g.ownerDocument.documentElement,g)){if(w!==null&&Nw(g)){if(h=w.start,u=w.end,u===void 0&&(u=h),"selectionStart"in g)g.selectionStart=h,g.selectionEnd=Math.min(u,g.value.length);else if(u=(h=g.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var C=g.textContent.length,M=Math.min(w.start,C);w=w.end===void 0?M:Math.min(w.end,C),!u.extend&&M>w&&(C=w,w=M,M=C),C=i2(g,M);var W=i2(g,w);C&&W&&(u.rangeCount!==1||u.anchorNode!==C.node||u.anchorOffset!==C.offset||u.focusNode!==W.node||u.focusOffset!==W.offset)&&(h=h.createRange(),h.setStart(C.node,C.offset),u.removeAllRanges(),M>w?(u.addRange(h),u.extend(W.node,W.offset)):(h.setEnd(W.node,W.offset),u.addRange(h)))}}for(h=[],u=g;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<h.length;g++)u=h[g],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var OW=o&&"documentMode"in document&&11>=document.documentMode,bd=null,Tw=null,Xh=null,Cw=!1;function o2(u,h,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Cw||bd==null||bd!==Ie(w)||(w=bd,"selectionStart"in w&&Nw(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Xh&&Gh(Xh,w)||(Xh=w,w=ry(Tw,"onSelect"),0<w.length&&(h=new Pc("onSelect","select",null,h,g),u.push({event:h,listeners:w}),h.target=bd)))}function ey(u,h){var g={};return g[u.toLowerCase()]=h.toLowerCase(),g["Webkit"+u]="webkit"+h,g["Moz"+u]="moz"+h,g}var wd={animationend:ey("Animation","AnimationEnd"),animationiteration:ey("Animation","AnimationIteration"),animationstart:ey("Animation","AnimationStart"),transitionend:ey("Transition","TransitionEnd")},Aw={},l2={};o&&(l2=document.createElement("div").style,"AnimationEvent"in window||(delete wd.animationend.animation,delete wd.animationiteration.animation,delete wd.animationstart.animation),"TransitionEvent"in window||delete wd.transitionend.transition);function ty(u){if(Aw[u])return Aw[u];if(!wd[u])return u;var h=wd[u],g;for(g in h)if(h.hasOwnProperty(g)&&g in l2)return Aw[u]=h[g];return u}var c2=ty("animationend"),u2=ty("animationiteration"),d2=ty("animationstart"),f2=ty("transitionend"),h2=new Map,m2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function il(u,h){h2.set(u,h),s(h,[u])}for(var Pw=0;Pw<m2.length;Pw++){var Iw=m2[Pw],MW=Iw.toLowerCase(),LW=Iw[0].toUpperCase()+Iw.slice(1);il(MW,"on"+LW)}il(c2,"onAnimationEnd"),il(u2,"onAnimationIteration"),il(d2,"onAnimationStart"),il("dblclick","onDoubleClick"),il("focusin","onFocus"),il("focusout","onBlur"),il(f2,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yh));function p2(u,h,g){var w=u.type||"unknown-event";u.currentTarget=g,Ah(w,h,void 0,u),u.currentTarget=null}function g2(u,h){h=(h&4)!==0;for(var g=0;g<u.length;g++){var w=u[g],C=w.event;w=w.listeners;e:{var M=void 0;if(h)for(var W=w.length-1;0<=W;W--){var ee=w[W],ne=ee.instance,pe=ee.currentTarget;if(ee=ee.listener,ne!==M&&C.isPropagationStopped())break e;p2(C,ee,pe),M=ne}else for(W=0;W<w.length;W++){if(ee=w[W],ne=ee.instance,pe=ee.currentTarget,ee=ee.listener,ne!==M&&C.isPropagationStopped())break e;p2(C,ee,pe),M=ne}}}if(id)throw u=qi,id=!1,qi=null,u}function sn(u,h){var g=h[Vw];g===void 0&&(g=h[Vw]=new Set);var w=u+"__bubble";g.has(w)||(y2(h,u,2,!1),g.add(w))}function jw(u,h,g){var w=0;h&&(w|=4),y2(g,u,w,h)}var ny="_reactListening"+Math.random().toString(36).slice(2);function Qh(u){if(!u[ny]){u[ny]=!0,r.forEach(function(g){g!=="selectionchange"&&(VW.has(g)||jw(g,!1,u),jw(g,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[ny]||(h[ny]=!0,jw("selectionchange",!1,h))}}function y2(u,h,g,w){switch(fd(h)){case 1:var C=na;break;case 4:C=Kg;break;default:C=zh}g=C.bind(null,h,g,u),C=void 0,!Ir||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(C=!0),w?C!==void 0?u.addEventListener(h,g,{capture:!0,passive:C}):u.addEventListener(h,g,!0):C!==void 0?u.addEventListener(h,g,{passive:C}):u.addEventListener(h,g,!1)}function kw(u,h,g,w,C){var M=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var W=w.tag;if(W===3||W===4){var ee=w.stateNode.containerInfo;if(ee===C||ee.nodeType===8&&ee.parentNode===C)break;if(W===4)for(W=w.return;W!==null;){var ne=W.tag;if((ne===3||ne===4)&&(ne=W.stateNode.containerInfo,ne===C||ne.nodeType===8&&ne.parentNode===C))return;W=W.return}for(;ee!==null;){if(W=jc(ee),W===null)return;if(ne=W.tag,ne===5||ne===6){w=M=W;continue e}ee=ee.parentNode}}w=w.return}Ar(function(){var pe=M,Ee=Ha(g),Ae=[];e:{var _e=h2.get(u);if(_e!==void 0){var Ve=Pc,Ue=u;switch(u){case"keypress":if(Ac(g)===0)break e;case"keydown":case"keyup":Ve=zt;break;case"focusin":Ue="focus",Ve=yr;break;case"focusout":Ue="blur",Ve=yr;break;case"beforeblur":case"afterblur":Ve=yr;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=$h;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=Yg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=aa;break;case c2:case u2:case d2:Ve=Jg;break;case f2:Ve=vd;break;case"scroll":Ve=md;break;case"wheel":Ve=wW;break;case"copy":case"cut":case"paste":Ve=v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=Ii}var He=(h&4)!==0,In=!He&&u==="scroll",ce=He?_e!==null?_e+"Capture":null:_e;He=[];for(var se=pe,he;se!==null;){he=se;var Pe=he.stateNode;if(he.tag===5&&Pe!==null&&(he=Pe,ce!==null&&(Pe=Pr(se,ce),Pe!=null&&He.push(Jh(se,Pe,he)))),In)break;se=se.return}0<He.length&&(_e=new Ve(_e,Ue,null,g,Ee),Ae.push({event:_e,listeners:He}))}}if((h&7)===0){e:{if(_e=u==="mouseover"||u==="pointerover",Ve=u==="mouseout"||u==="pointerout",_e&&g!==Ks&&(Ue=g.relatedTarget||g.fromElement)&&(jc(Ue)||Ue[eo]))break e;if((Ve||_e)&&(_e=Ee.window===Ee?Ee:(_e=Ee.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ve?(Ue=g.relatedTarget||g.toElement,Ve=pe,Ue=Ue?jc(Ue):null,Ue!==null&&(In=ps(Ue),Ue!==In||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Ve=null,Ue=pe),Ve!==Ue)){if(He=$h,Pe="onMouseLeave",ce="onMouseEnter",se="mouse",(u==="pointerout"||u==="pointerover")&&(He=Ii,Pe="onPointerLeave",ce="onPointerEnter",se="pointer"),In=Ve==null?_e:Sd(Ve),he=Ue==null?_e:Sd(Ue),_e=new He(Pe,se+"leave",Ve,g,Ee),_e.target=In,_e.relatedTarget=he,Pe=null,jc(Ee)===pe&&(He=new He(ce,se+"enter",Ue,g,Ee),He.target=he,He.relatedTarget=In,Pe=He),In=Pe,Ve&&Ue)t:{for(He=Ve,ce=Ue,se=0,he=He;he;he=_d(he))se++;for(he=0,Pe=ce;Pe;Pe=_d(Pe))he++;for(;0<se-he;)He=_d(He),se--;for(;0<he-se;)ce=_d(ce),he--;for(;se--;){if(He===ce||ce!==null&&He===ce.alternate)break t;He=_d(He),ce=_d(ce)}He=null}else He=null;Ve!==null&&v2(Ae,_e,Ve,He,!1),Ue!==null&&In!==null&&v2(Ae,In,Ue,He,!0)}}e:{if(_e=pe?Sd(pe):window,Ve=_e.nodeName&&_e.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&_e.type==="file")var Ge=AW;else if(QI(_e))if(ZI)Ge=kW;else{Ge=IW;var et=PW}else(Ve=_e.nodeName)&&Ve.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Ge=jW);if(Ge&&(Ge=Ge(u,pe))){JI(Ae,Ge,g,Ee);break e}et&&et(u,_e,pe),u==="focusout"&&(et=_e._wrapperState)&&et.controlled&&_e.type==="number"&&ut(_e,"number",_e.value)}switch(et=pe?Sd(pe):window,u){case"focusin":(QI(et)||et.contentEditable==="true")&&(bd=et,Tw=pe,Xh=null);break;case"focusout":Xh=Tw=bd=null;break;case"mousedown":Cw=!0;break;case"contextmenu":case"mouseup":case"dragend":Cw=!1,o2(Ae,g,Ee);break;case"selectionchange":if(OW)break;case"keydown":case"keyup":o2(Ae,g,Ee)}var tt;if(_w)e:{switch(u){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else xd?XI(u,g)&&(lt="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(lt="onCompositionStart");lt&&(WI&&g.locale!=="ko"&&(xd||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&xd&&(tt=Gg()):(Ai=Ee,hd="value"in Ai?Ai.value:Ai.textContent,xd=!0)),et=ry(pe,lt),0<et.length&&(lt=new q(lt,u,null,g,Ee),Ae.push({event:lt,listeners:et}),tt?lt.data=tt:(tt=YI(g),tt!==null&&(lt.data=tt)))),(tt=EW?SW(u,g):NW(u,g))&&(pe=ry(pe,"onBeforeInput"),0<pe.length&&(Ee=new q("onBeforeInput","beforeinput",null,g,Ee),Ae.push({event:Ee,listeners:pe}),Ee.data=tt))}g2(Ae,h)})}function Jh(u,h,g){return{instance:u,listener:h,currentTarget:g}}function ry(u,h){for(var g=h+"Capture",w=[];u!==null;){var C=u,M=C.stateNode;C.tag===5&&M!==null&&(C=M,M=Pr(u,g),M!=null&&w.unshift(Jh(u,M,C)),M=Pr(u,h),M!=null&&w.push(Jh(u,M,C))),u=u.return}return w}function _d(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function v2(u,h,g,w,C){for(var M=h._reactName,W=[];g!==null&&g!==w;){var ee=g,ne=ee.alternate,pe=ee.stateNode;if(ne!==null&&ne===w)break;ee.tag===5&&pe!==null&&(ee=pe,C?(ne=Pr(g,M),ne!=null&&W.unshift(Jh(g,ne,ee))):C||(ne=Pr(g,M),ne!=null&&W.push(Jh(g,ne,ee)))),g=g.return}W.length!==0&&u.push({event:h,listeners:W})}var FW=/\r\n?/g,BW=/\u0000|\uFFFD/g;function x2(u){return(typeof u=="string"?u:""+u).replace(FW,`
`).replace(BW,"")}function iy(u,h,g){if(h=x2(h),x2(u)!==h&&g)throw Error(n(425))}function sy(){}var Rw=null,Dw=null;function Ow(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Mw=typeof setTimeout=="function"?setTimeout:void 0,zW=typeof clearTimeout=="function"?clearTimeout:void 0,b2=typeof Promise=="function"?Promise:void 0,UW=typeof queueMicrotask=="function"?queueMicrotask:typeof b2<"u"?function(u){return b2.resolve(null).then(u).catch($W)}:Mw;function $W(u){setTimeout(function(){throw u})}function Lw(u,h){var g=h,w=0;do{var C=g.nextSibling;if(u.removeChild(g),C&&C.nodeType===8)if(g=C.data,g==="/$"){if(w===0){u.removeChild(C),tl(h);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=C}while(g);tl(h)}function sl(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function w2(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return u;h--}else g==="/$"&&h++}u=u.previousSibling}return null}var Ed=Math.random().toString(36).slice(2),la="__reactFiber$"+Ed,Zh="__reactProps$"+Ed,eo="__reactContainer$"+Ed,Vw="__reactEvents$"+Ed,qW="__reactListeners$"+Ed,HW="__reactHandles$"+Ed;function jc(u){var h=u[la];if(h)return h;for(var g=u.parentNode;g;){if(h=g[eo]||g[la]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(u=w2(u);u!==null;){if(g=u[la])return g;u=w2(u)}return h}u=g,g=u.parentNode}return null}function em(u){return u=u[la]||u[eo],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Sd(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function ay(u){return u[Zh]||null}var Fw=[],Nd=-1;function al(u){return{current:u}}function an(u){0>Nd||(u.current=Fw[Nd],Fw[Nd]=null,Nd--)}function Jt(u,h){Nd++,Fw[Nd]=u.current,u.current=h}var ol={},kr=al(ol),ti=al(!1),kc=ol;function Td(u,h){var g=u.type.contextTypes;if(!g)return ol;var w=u.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var C={},M;for(M in g)C[M]=h[M];return w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=C),C}function ni(u){return u=u.childContextTypes,u!=null}function oy(){an(ti),an(kr)}function _2(u,h,g){if(kr.current!==ol)throw Error(n(168));Jt(kr,h),Jt(ti,g)}function E2(u,h,g){var w=u.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var C in w)if(!(C in h))throw Error(n(108,re(u)||"Unknown",C));return k({},g,w)}function ly(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||ol,kc=kr.current,Jt(kr,u),Jt(ti,ti.current),!0}function S2(u,h,g){var w=u.stateNode;if(!w)throw Error(n(169));g?(u=E2(u,h,kc),w.__reactInternalMemoizedMergedChildContext=u,an(ti),an(kr),Jt(kr,u)):an(ti),Jt(ti,g)}var to=null,cy=!1,Bw=!1;function N2(u){to===null?to=[u]:to.push(u)}function WW(u){cy=!0,N2(u)}function ll(){if(!Bw&&to!==null){Bw=!0;var u=0,h=Nt;try{var g=to;for(Nt=1;u<g.length;u++){var w=g[u];do w=w(!0);while(w!==null)}to=null,cy=!1}catch(C){throw to!==null&&(to=to.slice(u+1)),Ih(ad,ll),C}finally{Nt=h,Bw=!1}}return null}var Cd=[],Ad=0,uy=null,dy=0,Wi=[],Ki=0,Rc=null,no=1,ro="";function Dc(u,h){Cd[Ad++]=dy,Cd[Ad++]=uy,uy=u,dy=h}function T2(u,h,g){Wi[Ki++]=no,Wi[Ki++]=ro,Wi[Ki++]=Rc,Rc=u;var w=no;u=ro;var C=32-Ti(w)-1;w&=~(1<<C),g+=1;var M=32-Ti(h)+C;if(30<M){var W=C-C%5;M=(w&(1<<W)-1).toString(32),w>>=W,C-=W,no=1<<32-Ti(h)+C|g<<C|w,ro=M+u}else no=1<<M|g<<C|w,ro=u}function zw(u){u.return!==null&&(Dc(u,1),T2(u,1,0))}function Uw(u){for(;u===uy;)uy=Cd[--Ad],Cd[Ad]=null,dy=Cd[--Ad],Cd[Ad]=null;for(;u===Rc;)Rc=Wi[--Ki],Wi[Ki]=null,ro=Wi[--Ki],Wi[Ki]=null,no=Wi[--Ki],Wi[Ki]=null}var ji=null,ki=null,un=!1,vs=null;function C2(u,h){var g=Qi(5,null,null,0);g.elementType="DELETED",g.stateNode=h,g.return=u,h=u.deletions,h===null?(u.deletions=[g],u.flags|=16):h.push(g)}function A2(u,h){switch(u.tag){case 5:var g=u.type;return h=h.nodeType!==1||g.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,ji=u,ki=sl(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,ji=u,ki=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(g=Rc!==null?{id:no,overflow:ro}:null,u.memoizedState={dehydrated:h,treeContext:g,retryLane:1073741824},g=Qi(18,null,null,0),g.stateNode=h,g.return=u,u.child=g,ji=u,ki=null,!0):!1;default:return!1}}function $w(u){return(u.mode&1)!==0&&(u.flags&128)===0}function qw(u){if(un){var h=ki;if(h){var g=h;if(!A2(u,h)){if($w(u))throw Error(n(418));h=sl(g.nextSibling);var w=ji;h&&A2(u,h)?C2(w,g):(u.flags=u.flags&-4097|2,un=!1,ji=u)}}else{if($w(u))throw Error(n(418));u.flags=u.flags&-4097|2,un=!1,ji=u}}}function P2(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ji=u}function fy(u){if(u!==ji)return!1;if(!un)return P2(u),un=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!Ow(u.type,u.memoizedProps)),h&&(h=ki)){if($w(u))throw I2(),Error(n(418));for(;h;)C2(u,h),h=sl(h.nextSibling)}if(P2(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="/$"){if(h===0){ki=sl(u.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++}u=u.nextSibling}ki=null}}else ki=ji?sl(u.stateNode.nextSibling):null;return!0}function I2(){for(var u=ki;u;)u=sl(u.nextSibling)}function Pd(){ki=ji=null,un=!1}function Hw(u){vs===null?vs=[u]:vs.push(u)}var KW=z.ReactCurrentBatchConfig;function tm(u,h,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var w=g.stateNode}if(!w)throw Error(n(147,u));var C=w,M=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===M?h.ref:(h=function(W){var ee=C.refs;W===null?delete ee[M]:ee[M]=W},h._stringRef=M,h)}if(typeof u!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,u))}return u}function hy(u,h){throw u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function j2(u){var h=u._init;return h(u._payload)}function k2(u){function h(ce,se){if(u){var he=ce.deletions;he===null?(ce.deletions=[se],ce.flags|=16):he.push(se)}}function g(ce,se){if(!u)return null;for(;se!==null;)h(ce,se),se=se.sibling;return null}function w(ce,se){for(ce=new Map;se!==null;)se.key!==null?ce.set(se.key,se):ce.set(se.index,se),se=se.sibling;return ce}function C(ce,se){return ce=gl(ce,se),ce.index=0,ce.sibling=null,ce}function M(ce,se,he){return ce.index=he,u?(he=ce.alternate,he!==null?(he=he.index,he<se?(ce.flags|=2,se):he):(ce.flags|=2,se)):(ce.flags|=1048576,se)}function W(ce){return u&&ce.alternate===null&&(ce.flags|=2),ce}function ee(ce,se,he,Pe){return se===null||se.tag!==6?(se=M1(he,ce.mode,Pe),se.return=ce,se):(se=C(se,he),se.return=ce,se)}function ne(ce,se,he,Pe){var Ge=he.type;return Ge===N?Ee(ce,se,he.props.children,Pe,he.key):se!==null&&(se.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===J&&j2(Ge)===se.type)?(Pe=C(se,he.props),Pe.ref=tm(ce,se,he),Pe.return=ce,Pe):(Pe=Ly(he.type,he.key,he.props,null,ce.mode,Pe),Pe.ref=tm(ce,se,he),Pe.return=ce,Pe)}function pe(ce,se,he,Pe){return se===null||se.tag!==4||se.stateNode.containerInfo!==he.containerInfo||se.stateNode.implementation!==he.implementation?(se=L1(he,ce.mode,Pe),se.return=ce,se):(se=C(se,he.children||[]),se.return=ce,se)}function Ee(ce,se,he,Pe,Ge){return se===null||se.tag!==7?(se=Uc(he,ce.mode,Pe,Ge),se.return=ce,se):(se=C(se,he),se.return=ce,se)}function Ae(ce,se,he){if(typeof se=="string"&&se!==""||typeof se=="number")return se=M1(""+se,ce.mode,he),se.return=ce,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case P:return he=Ly(se.type,se.key,se.props,null,ce.mode,he),he.ref=tm(ce,null,se),he.return=ce,he;case A:return se=L1(se,ce.mode,he),se.return=ce,se;case J:var Pe=se._init;return Ae(ce,Pe(se._payload),he)}if(oe(se)||H(se))return se=Uc(se,ce.mode,he,null),se.return=ce,se;hy(ce,se)}return null}function _e(ce,se,he,Pe){var Ge=se!==null?se.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return Ge!==null?null:ee(ce,se,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case P:return he.key===Ge?ne(ce,se,he,Pe):null;case A:return he.key===Ge?pe(ce,se,he,Pe):null;case J:return Ge=he._init,_e(ce,se,Ge(he._payload),Pe)}if(oe(he)||H(he))return Ge!==null?null:Ee(ce,se,he,Pe,null);hy(ce,he)}return null}function Ve(ce,se,he,Pe,Ge){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return ce=ce.get(he)||null,ee(se,ce,""+Pe,Ge);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case P:return ce=ce.get(Pe.key===null?he:Pe.key)||null,ne(se,ce,Pe,Ge);case A:return ce=ce.get(Pe.key===null?he:Pe.key)||null,pe(se,ce,Pe,Ge);case J:var et=Pe._init;return Ve(ce,se,he,et(Pe._payload),Ge)}if(oe(Pe)||H(Pe))return ce=ce.get(he)||null,Ee(se,ce,Pe,Ge,null);hy(se,Pe)}return null}function Ue(ce,se,he,Pe){for(var Ge=null,et=null,tt=se,lt=se=0,nr=null;tt!==null&&lt<he.length;lt++){tt.index>lt?(nr=tt,tt=null):nr=tt.sibling;var Dt=_e(ce,tt,he[lt],Pe);if(Dt===null){tt===null&&(tt=nr);break}u&&tt&&Dt.alternate===null&&h(ce,tt),se=M(Dt,se,lt),et===null?Ge=Dt:et.sibling=Dt,et=Dt,tt=nr}if(lt===he.length)return g(ce,tt),un&&Dc(ce,lt),Ge;if(tt===null){for(;lt<he.length;lt++)tt=Ae(ce,he[lt],Pe),tt!==null&&(se=M(tt,se,lt),et===null?Ge=tt:et.sibling=tt,et=tt);return un&&Dc(ce,lt),Ge}for(tt=w(ce,tt);lt<he.length;lt++)nr=Ve(tt,ce,lt,he[lt],Pe),nr!==null&&(u&&nr.alternate!==null&&tt.delete(nr.key===null?lt:nr.key),se=M(nr,se,lt),et===null?Ge=nr:et.sibling=nr,et=nr);return u&&tt.forEach(function(yl){return h(ce,yl)}),un&&Dc(ce,lt),Ge}function He(ce,se,he,Pe){var Ge=H(he);if(typeof Ge!="function")throw Error(n(150));if(he=Ge.call(he),he==null)throw Error(n(151));for(var et=Ge=null,tt=se,lt=se=0,nr=null,Dt=he.next();tt!==null&&!Dt.done;lt++,Dt=he.next()){tt.index>lt?(nr=tt,tt=null):nr=tt.sibling;var yl=_e(ce,tt,Dt.value,Pe);if(yl===null){tt===null&&(tt=nr);break}u&&tt&&yl.alternate===null&&h(ce,tt),se=M(yl,se,lt),et===null?Ge=yl:et.sibling=yl,et=yl,tt=nr}if(Dt.done)return g(ce,tt),un&&Dc(ce,lt),Ge;if(tt===null){for(;!Dt.done;lt++,Dt=he.next())Dt=Ae(ce,Dt.value,Pe),Dt!==null&&(se=M(Dt,se,lt),et===null?Ge=Dt:et.sibling=Dt,et=Dt);return un&&Dc(ce,lt),Ge}for(tt=w(ce,tt);!Dt.done;lt++,Dt=he.next())Dt=Ve(tt,ce,lt,Dt.value,Pe),Dt!==null&&(u&&Dt.alternate!==null&&tt.delete(Dt.key===null?lt:Dt.key),se=M(Dt,se,lt),et===null?Ge=Dt:et.sibling=Dt,et=Dt);return u&&tt.forEach(function(TK){return h(ce,TK)}),un&&Dc(ce,lt),Ge}function In(ce,se,he,Pe){if(typeof he=="object"&&he!==null&&he.type===N&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case P:e:{for(var Ge=he.key,et=se;et!==null;){if(et.key===Ge){if(Ge=he.type,Ge===N){if(et.tag===7){g(ce,et.sibling),se=C(et,he.props.children),se.return=ce,ce=se;break e}}else if(et.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===J&&j2(Ge)===et.type){g(ce,et.sibling),se=C(et,he.props),se.ref=tm(ce,et,he),se.return=ce,ce=se;break e}g(ce,et);break}else h(ce,et);et=et.sibling}he.type===N?(se=Uc(he.props.children,ce.mode,Pe,he.key),se.return=ce,ce=se):(Pe=Ly(he.type,he.key,he.props,null,ce.mode,Pe),Pe.ref=tm(ce,se,he),Pe.return=ce,ce=Pe)}return W(ce);case A:e:{for(et=he.key;se!==null;){if(se.key===et)if(se.tag===4&&se.stateNode.containerInfo===he.containerInfo&&se.stateNode.implementation===he.implementation){g(ce,se.sibling),se=C(se,he.children||[]),se.return=ce,ce=se;break e}else{g(ce,se);break}else h(ce,se);se=se.sibling}se=L1(he,ce.mode,Pe),se.return=ce,ce=se}return W(ce);case J:return et=he._init,In(ce,se,et(he._payload),Pe)}if(oe(he))return Ue(ce,se,he,Pe);if(H(he))return He(ce,se,he,Pe);hy(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,se!==null&&se.tag===6?(g(ce,se.sibling),se=C(se,he),se.return=ce,ce=se):(g(ce,se),se=M1(he,ce.mode,Pe),se.return=ce,ce=se),W(ce)):g(ce,se)}return In}var Id=k2(!0),R2=k2(!1),my=al(null),py=null,jd=null,Ww=null;function Kw(){Ww=jd=py=null}function Gw(u){var h=my.current;an(my),u._currentValue=h}function Xw(u,h,g){for(;u!==null;){var w=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),u===g)break;u=u.return}}function kd(u,h){py=u,Ww=jd=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(ri=!0),u.firstContext=null)}function Gi(u){var h=u._currentValue;if(Ww!==u)if(u={context:u,memoizedValue:h,next:null},jd===null){if(py===null)throw Error(n(308));jd=u,py.dependencies={lanes:0,firstContext:u}}else jd=jd.next=u;return h}var Oc=null;function Yw(u){Oc===null?Oc=[u]:Oc.push(u)}function D2(u,h,g,w){var C=h.interleaved;return C===null?(g.next=g,Yw(h)):(g.next=C.next,C.next=g),h.interleaved=g,io(u,w)}function io(u,h){u.lanes|=h;var g=u.alternate;for(g!==null&&(g.lanes|=h),g=u,u=u.return;u!==null;)u.childLanes|=h,g=u.alternate,g!==null&&(g.childLanes|=h),g=u,u=u.return;return g.tag===3?g.stateNode:null}var cl=!1;function Qw(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O2(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function so(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function ul(u,h,g){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,(It&2)!==0){var C=w.pending;return C===null?h.next=h:(h.next=C.next,C.next=h),w.pending=h,io(u,g)}return C=w.interleaved,C===null?(h.next=h,Yw(w)):(h.next=C.next,C.next=h),w.interleaved=h,io(u,g)}function gy(u,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194240)!==0)){var w=h.lanes;w&=u.pendingLanes,g|=w,h.lanes=g,Mh(u,g)}}function M2(u,h){var g=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var C=null,M=null;if(g=g.firstBaseUpdate,g!==null){do{var W={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};M===null?C=M=W:M=M.next=W,g=g.next}while(g!==null);M===null?C=M=h:M=M.next=h}else C=M=h;g={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:M,shared:w.shared,effects:w.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=h}function yy(u,h,g,w){var C=u.updateQueue;cl=!1;var M=C.firstBaseUpdate,W=C.lastBaseUpdate,ee=C.shared.pending;if(ee!==null){C.shared.pending=null;var ne=ee,pe=ne.next;ne.next=null,W===null?M=pe:W.next=pe,W=ne;var Ee=u.alternate;Ee!==null&&(Ee=Ee.updateQueue,ee=Ee.lastBaseUpdate,ee!==W&&(ee===null?Ee.firstBaseUpdate=pe:ee.next=pe,Ee.lastBaseUpdate=ne))}if(M!==null){var Ae=C.baseState;W=0,Ee=pe=ne=null,ee=M;do{var _e=ee.lane,Ve=ee.eventTime;if((w&_e)===_e){Ee!==null&&(Ee=Ee.next={eventTime:Ve,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Ue=u,He=ee;switch(_e=h,Ve=g,He.tag){case 1:if(Ue=He.payload,typeof Ue=="function"){Ae=Ue.call(Ve,Ae,_e);break e}Ae=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=He.payload,_e=typeof Ue=="function"?Ue.call(Ve,Ae,_e):Ue,_e==null)break e;Ae=k({},Ae,_e);break e;case 2:cl=!0}}ee.callback!==null&&ee.lane!==0&&(u.flags|=64,_e=C.effects,_e===null?C.effects=[ee]:_e.push(ee))}else Ve={eventTime:Ve,lane:_e,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ee===null?(pe=Ee=Ve,ne=Ae):Ee=Ee.next=Ve,W|=_e;if(ee=ee.next,ee===null){if(ee=C.shared.pending,ee===null)break;_e=ee,ee=_e.next,_e.next=null,C.lastBaseUpdate=_e,C.shared.pending=null}}while(!0);if(Ee===null&&(ne=Ae),C.baseState=ne,C.firstBaseUpdate=pe,C.lastBaseUpdate=Ee,h=C.shared.interleaved,h!==null){C=h;do W|=C.lane,C=C.next;while(C!==h)}else M===null&&(C.shared.lanes=0);Vc|=W,u.lanes=W,u.memoizedState=Ae}}function L2(u,h,g){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var w=u[h],C=w.callback;if(C!==null){if(w.callback=null,w=g,typeof C!="function")throw Error(n(191,C));C.call(w)}}}var nm={},ca=al(nm),rm=al(nm),im=al(nm);function Mc(u){if(u===nm)throw Error(n(174));return u}function Jw(u,h){switch(Jt(im,h),Jt(rm,u),Jt(ca,nm),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:rt(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=rt(h,u)}an(ca),Jt(ca,h)}function Rd(){an(ca),an(rm),an(im)}function V2(u){Mc(im.current);var h=Mc(ca.current),g=rt(h,u.type);h!==g&&(Jt(rm,u),Jt(ca,g))}function Zw(u){rm.current===u&&(an(ca),an(rm))}var gn=al(0);function vy(u){for(var h=u;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var e1=[];function t1(){for(var u=0;u<e1.length;u++)e1[u]._workInProgressVersionPrimary=null;e1.length=0}var xy=z.ReactCurrentDispatcher,n1=z.ReactCurrentBatchConfig,Lc=0,yn=null,Un=null,er=null,by=!1,sm=!1,am=0,GW=0;function Rr(){throw Error(n(321))}function r1(u,h){if(h===null)return!1;for(var g=0;g<h.length&&g<u.length;g++)if(!ys(u[g],h[g]))return!1;return!0}function i1(u,h,g,w,C,M){if(Lc=M,yn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,xy.current=u===null||u.memoizedState===null?JW:ZW,u=g(w,C),sm){M=0;do{if(sm=!1,am=0,25<=M)throw Error(n(301));M+=1,er=Un=null,h.updateQueue=null,xy.current=eK,u=g(w,C)}while(sm)}if(xy.current=Ey,h=Un!==null&&Un.next!==null,Lc=0,er=Un=yn=null,by=!1,h)throw Error(n(300));return u}function s1(){var u=am!==0;return am=0,u}function ua(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?yn.memoizedState=er=u:er=er.next=u,er}function Xi(){if(Un===null){var u=yn.alternate;u=u!==null?u.memoizedState:null}else u=Un.next;var h=er===null?yn.memoizedState:er.next;if(h!==null)er=h,Un=u;else{if(u===null)throw Error(n(310));Un=u,u={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},er===null?yn.memoizedState=er=u:er=er.next=u}return er}function om(u,h){return typeof h=="function"?h(u):h}function a1(u){var h=Xi(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var w=Un,C=w.baseQueue,M=g.pending;if(M!==null){if(C!==null){var W=C.next;C.next=M.next,M.next=W}w.baseQueue=C=M,g.pending=null}if(C!==null){M=C.next,w=w.baseState;var ee=W=null,ne=null,pe=M;do{var Ee=pe.lane;if((Lc&Ee)===Ee)ne!==null&&(ne=ne.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),w=pe.hasEagerState?pe.eagerState:u(w,pe.action);else{var Ae={lane:Ee,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};ne===null?(ee=ne=Ae,W=w):ne=ne.next=Ae,yn.lanes|=Ee,Vc|=Ee}pe=pe.next}while(pe!==null&&pe!==M);ne===null?W=w:ne.next=ee,ys(w,h.memoizedState)||(ri=!0),h.memoizedState=w,h.baseState=W,h.baseQueue=ne,g.lastRenderedState=w}if(u=g.interleaved,u!==null){C=u;do M=C.lane,yn.lanes|=M,Vc|=M,C=C.next;while(C!==u)}else C===null&&(g.lanes=0);return[h.memoizedState,g.dispatch]}function o1(u){var h=Xi(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var w=g.dispatch,C=g.pending,M=h.memoizedState;if(C!==null){g.pending=null;var W=C=C.next;do M=u(M,W.action),W=W.next;while(W!==C);ys(M,h.memoizedState)||(ri=!0),h.memoizedState=M,h.baseQueue===null&&(h.baseState=M),g.lastRenderedState=M}return[M,w]}function F2(){}function B2(u,h){var g=yn,w=Xi(),C=h(),M=!ys(w.memoizedState,C);if(M&&(w.memoizedState=C,ri=!0),w=w.queue,l1($2.bind(null,g,w,u),[u]),w.getSnapshot!==h||M||er!==null&&er.memoizedState.tag&1){if(g.flags|=2048,lm(9,U2.bind(null,g,w,C,h),void 0,null),tr===null)throw Error(n(349));(Lc&30)!==0||z2(g,h,C)}return C}function z2(u,h,g){u.flags|=16384,u={getSnapshot:h,value:g},h=yn.updateQueue,h===null?(h={lastEffect:null,stores:null},yn.updateQueue=h,h.stores=[u]):(g=h.stores,g===null?h.stores=[u]:g.push(u))}function U2(u,h,g,w){h.value=g,h.getSnapshot=w,q2(h)&&H2(u)}function $2(u,h,g){return g(function(){q2(h)&&H2(u)})}function q2(u){var h=u.getSnapshot;u=u.value;try{var g=h();return!ys(u,g)}catch{return!0}}function H2(u){var h=io(u,1);h!==null&&_s(h,u,1,-1)}function W2(u){var h=ua();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:om,lastRenderedState:u},h.queue=u,u=u.dispatch=QW.bind(null,yn,u),[h.memoizedState,u]}function lm(u,h,g,w){return u={tag:u,create:h,destroy:g,deps:w,next:null},h=yn.updateQueue,h===null?(h={lastEffect:null,stores:null},yn.updateQueue=h,h.lastEffect=u.next=u):(g=h.lastEffect,g===null?h.lastEffect=u.next=u:(w=g.next,g.next=u,u.next=w,h.lastEffect=u)),u}function K2(){return Xi().memoizedState}function wy(u,h,g,w){var C=ua();yn.flags|=u,C.memoizedState=lm(1|h,g,void 0,w===void 0?null:w)}function _y(u,h,g,w){var C=Xi();w=w===void 0?null:w;var M=void 0;if(Un!==null){var W=Un.memoizedState;if(M=W.destroy,w!==null&&r1(w,W.deps)){C.memoizedState=lm(h,g,M,w);return}}yn.flags|=u,C.memoizedState=lm(1|h,g,M,w)}function G2(u,h){return wy(8390656,8,u,h)}function l1(u,h){return _y(2048,8,u,h)}function X2(u,h){return _y(4,2,u,h)}function Y2(u,h){return _y(4,4,u,h)}function Q2(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function J2(u,h,g){return g=g!=null?g.concat([u]):null,_y(4,4,Q2.bind(null,h,u),g)}function c1(){}function Z2(u,h){var g=Xi();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&r1(h,w[1])?w[0]:(g.memoizedState=[u,h],u)}function ej(u,h){var g=Xi();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&r1(h,w[1])?w[0]:(u=u(),g.memoizedState=[u,h],u)}function tj(u,h,g){return(Lc&21)===0?(u.baseState&&(u.baseState=!1,ri=!0),u.memoizedState=g):(ys(g,h)||(g=Dh(),yn.lanes|=g,Vc|=g,u.baseState=!0),h)}function XW(u,h){var g=Nt;Nt=g!==0&&4>g?g:4,u(!0);var w=n1.transition;n1.transition={};try{u(!1),h()}finally{Nt=g,n1.transition=w}}function nj(){return Xi().memoizedState}function YW(u,h,g){var w=ml(u);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},rj(u))ij(h,g);else if(g=D2(u,h,g,w),g!==null){var C=Hr();_s(g,u,w,C),sj(g,h,w)}}function QW(u,h,g){var w=ml(u),C={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(rj(u))ij(h,C);else{var M=u.alternate;if(u.lanes===0&&(M===null||M.lanes===0)&&(M=h.lastRenderedReducer,M!==null))try{var W=h.lastRenderedState,ee=M(W,g);if(C.hasEagerState=!0,C.eagerState=ee,ys(ee,W)){var ne=h.interleaved;ne===null?(C.next=C,Yw(h)):(C.next=ne.next,ne.next=C),h.interleaved=C;return}}catch{}g=D2(u,h,C,w),g!==null&&(C=Hr(),_s(g,u,w,C),sj(g,h,w))}}function rj(u){var h=u.alternate;return u===yn||h!==null&&h===yn}function ij(u,h){sm=by=!0;var g=u.pending;g===null?h.next=h:(h.next=g.next,g.next=h),u.pending=h}function sj(u,h,g){if((g&4194240)!==0){var w=h.lanes;w&=u.pendingLanes,g|=w,h.lanes=g,Mh(u,g)}}var Ey={readContext:Gi,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},JW={readContext:Gi,useCallback:function(u,h){return ua().memoizedState=[u,h===void 0?null:h],u},useContext:Gi,useEffect:G2,useImperativeHandle:function(u,h,g){return g=g!=null?g.concat([u]):null,wy(4194308,4,Q2.bind(null,h,u),g)},useLayoutEffect:function(u,h){return wy(4194308,4,u,h)},useInsertionEffect:function(u,h){return wy(4,2,u,h)},useMemo:function(u,h){var g=ua();return h=h===void 0?null:h,u=u(),g.memoizedState=[u,h],u},useReducer:function(u,h,g){var w=ua();return h=g!==void 0?g(h):h,w.memoizedState=w.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},w.queue=u,u=u.dispatch=YW.bind(null,yn,u),[w.memoizedState,u]},useRef:function(u){var h=ua();return u={current:u},h.memoizedState=u},useState:W2,useDebugValue:c1,useDeferredValue:function(u){return ua().memoizedState=u},useTransition:function(){var u=W2(!1),h=u[0];return u=XW.bind(null,u[1]),ua().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,g){var w=yn,C=ua();if(un){if(g===void 0)throw Error(n(407));g=g()}else{if(g=h(),tr===null)throw Error(n(349));(Lc&30)!==0||z2(w,h,g)}C.memoizedState=g;var M={value:g,getSnapshot:h};return C.queue=M,G2($2.bind(null,w,M,u),[u]),w.flags|=2048,lm(9,U2.bind(null,w,M,g,h),void 0,null),g},useId:function(){var u=ua(),h=tr.identifierPrefix;if(un){var g=ro,w=no;g=(w&~(1<<32-Ti(w)-1)).toString(32)+g,h=":"+h+"R"+g,g=am++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=GW++,h=":"+h+"r"+g.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},ZW={readContext:Gi,useCallback:Z2,useContext:Gi,useEffect:l1,useImperativeHandle:J2,useInsertionEffect:X2,useLayoutEffect:Y2,useMemo:ej,useReducer:a1,useRef:K2,useState:function(){return a1(om)},useDebugValue:c1,useDeferredValue:function(u){var h=Xi();return tj(h,Un.memoizedState,u)},useTransition:function(){var u=a1(om)[0],h=Xi().memoizedState;return[u,h]},useMutableSource:F2,useSyncExternalStore:B2,useId:nj,unstable_isNewReconciler:!1},eK={readContext:Gi,useCallback:Z2,useContext:Gi,useEffect:l1,useImperativeHandle:J2,useInsertionEffect:X2,useLayoutEffect:Y2,useMemo:ej,useReducer:o1,useRef:K2,useState:function(){return o1(om)},useDebugValue:c1,useDeferredValue:function(u){var h=Xi();return Un===null?h.memoizedState=u:tj(h,Un.memoizedState,u)},useTransition:function(){var u=o1(om)[0],h=Xi().memoizedState;return[u,h]},useMutableSource:F2,useSyncExternalStore:B2,useId:nj,unstable_isNewReconciler:!1};function xs(u,h){if(u&&u.defaultProps){h=k({},h),u=u.defaultProps;for(var g in u)h[g]===void 0&&(h[g]=u[g]);return h}return h}function u1(u,h,g,w){h=u.memoizedState,g=g(w,h),g=g==null?h:k({},h,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var Sy={isMounted:function(u){return(u=u._reactInternals)?ps(u)===u:!1},enqueueSetState:function(u,h,g){u=u._reactInternals;var w=Hr(),C=ml(u),M=so(w,C);M.payload=h,g!=null&&(M.callback=g),h=ul(u,M,C),h!==null&&(_s(h,u,C,w),gy(h,u,C))},enqueueReplaceState:function(u,h,g){u=u._reactInternals;var w=Hr(),C=ml(u),M=so(w,C);M.tag=1,M.payload=h,g!=null&&(M.callback=g),h=ul(u,M,C),h!==null&&(_s(h,u,C,w),gy(h,u,C))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var g=Hr(),w=ml(u),C=so(g,w);C.tag=2,h!=null&&(C.callback=h),h=ul(u,C,w),h!==null&&(_s(h,u,w,g),gy(h,u,w))}};function aj(u,h,g,w,C,M,W){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,M,W):h.prototype&&h.prototype.isPureReactComponent?!Gh(g,w)||!Gh(C,M):!0}function oj(u,h,g){var w=!1,C=ol,M=h.contextType;return typeof M=="object"&&M!==null?M=Gi(M):(C=ni(h)?kc:kr.current,w=h.contextTypes,M=(w=w!=null)?Td(u,C):ol),h=new h(g,M),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Sy,u.stateNode=h,h._reactInternals=u,w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=C,u.__reactInternalMemoizedMaskedChildContext=M),h}function lj(u,h,g,w){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,w),h.state!==u&&Sy.enqueueReplaceState(h,h.state,null)}function d1(u,h,g,w){var C=u.stateNode;C.props=g,C.state=u.memoizedState,C.refs={},Qw(u);var M=h.contextType;typeof M=="object"&&M!==null?C.context=Gi(M):(M=ni(h)?kc:kr.current,C.context=Td(u,M)),C.state=u.memoizedState,M=h.getDerivedStateFromProps,typeof M=="function"&&(u1(u,h,M,g),C.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(h=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),h!==C.state&&Sy.enqueueReplaceState(C,C.state,null),yy(u,g,C,w),C.state=u.memoizedState),typeof C.componentDidMount=="function"&&(u.flags|=4194308)}function Dd(u,h){try{var g="",w=h;do g+=te(w),w=w.return;while(w);var C=g}catch(M){C=`
Error generating stack: `+M.message+`
`+M.stack}return{value:u,source:h,stack:C,digest:null}}function f1(u,h,g){return{value:u,source:null,stack:g??null,digest:h??null}}function h1(u,h){try{console.error(h.value)}catch(g){setTimeout(function(){throw g})}}var tK=typeof WeakMap=="function"?WeakMap:Map;function cj(u,h,g){g=so(-1,g),g.tag=3,g.payload={element:null};var w=h.value;return g.callback=function(){jy||(jy=!0,A1=w),h1(u,h)},g}function uj(u,h,g){g=so(-1,g),g.tag=3;var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var C=h.value;g.payload=function(){return w(C)},g.callback=function(){h1(u,h)}}var M=u.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(g.callback=function(){h1(u,h),typeof w!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var W=h.stack;this.componentDidCatch(h.value,{componentStack:W!==null?W:""})}),g}function dj(u,h,g){var w=u.pingCache;if(w===null){w=u.pingCache=new tK;var C=new Set;w.set(h,C)}else C=w.get(h),C===void 0&&(C=new Set,w.set(h,C));C.has(g)||(C.add(g),u=pK.bind(null,u,h,g),h.then(u,u))}function fj(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function hj(u,h,g,w,C){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(h=so(-1,1),h.tag=2,ul(g,h,1))),g.lanes|=1),u):(u.flags|=65536,u.lanes=C,u)}var nK=z.ReactCurrentOwner,ri=!1;function qr(u,h,g,w){h.child=u===null?R2(h,null,g,w):Id(h,u.child,g,w)}function mj(u,h,g,w,C){g=g.render;var M=h.ref;return kd(h,C),w=i1(u,h,g,w,M,C),g=s1(),u!==null&&!ri?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~C,ao(u,h,C)):(un&&g&&zw(h),h.flags|=1,qr(u,h,w,C),h.child)}function pj(u,h,g,w,C){if(u===null){var M=g.type;return typeof M=="function"&&!O1(M)&&M.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(h.tag=15,h.type=M,gj(u,h,M,w,C)):(u=Ly(g.type,null,w,h,h.mode,C),u.ref=h.ref,u.return=h,h.child=u)}if(M=u.child,(u.lanes&C)===0){var W=M.memoizedProps;if(g=g.compare,g=g!==null?g:Gh,g(W,w)&&u.ref===h.ref)return ao(u,h,C)}return h.flags|=1,u=gl(M,w),u.ref=h.ref,u.return=h,h.child=u}function gj(u,h,g,w,C){if(u!==null){var M=u.memoizedProps;if(Gh(M,w)&&u.ref===h.ref)if(ri=!1,h.pendingProps=w=M,(u.lanes&C)!==0)(u.flags&131072)!==0&&(ri=!0);else return h.lanes=u.lanes,ao(u,h,C)}return m1(u,h,g,w,C)}function yj(u,h,g){var w=h.pendingProps,C=w.children,M=u!==null?u.memoizedState:null;if(w.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(Md,Ri),Ri|=g;else{if((g&1073741824)===0)return u=M!==null?M.baseLanes|g:g,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,Jt(Md,Ri),Ri|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=M!==null?M.baseLanes:g,Jt(Md,Ri),Ri|=w}else M!==null?(w=M.baseLanes|g,h.memoizedState=null):w=g,Jt(Md,Ri),Ri|=w;return qr(u,h,C,g),h.child}function vj(u,h){var g=h.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(h.flags|=512,h.flags|=2097152)}function m1(u,h,g,w,C){var M=ni(g)?kc:kr.current;return M=Td(h,M),kd(h,C),g=i1(u,h,g,w,M,C),w=s1(),u!==null&&!ri?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~C,ao(u,h,C)):(un&&w&&zw(h),h.flags|=1,qr(u,h,g,C),h.child)}function xj(u,h,g,w,C){if(ni(g)){var M=!0;ly(h)}else M=!1;if(kd(h,C),h.stateNode===null)Ty(u,h),oj(h,g,w),d1(h,g,w,C),w=!0;else if(u===null){var W=h.stateNode,ee=h.memoizedProps;W.props=ee;var ne=W.context,pe=g.contextType;typeof pe=="object"&&pe!==null?pe=Gi(pe):(pe=ni(g)?kc:kr.current,pe=Td(h,pe));var Ee=g.getDerivedStateFromProps,Ae=typeof Ee=="function"||typeof W.getSnapshotBeforeUpdate=="function";Ae||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ee!==w||ne!==pe)&&lj(h,W,w,pe),cl=!1;var _e=h.memoizedState;W.state=_e,yy(h,w,W,C),ne=h.memoizedState,ee!==w||_e!==ne||ti.current||cl?(typeof Ee=="function"&&(u1(h,g,Ee,w),ne=h.memoizedState),(ee=cl||aj(h,g,ee,w,_e,ne,pe))?(Ae||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(h.flags|=4194308)):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=ne),W.props=w,W.state=ne,W.context=pe,w=ee):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{W=h.stateNode,O2(u,h),ee=h.memoizedProps,pe=h.type===h.elementType?ee:xs(h.type,ee),W.props=pe,Ae=h.pendingProps,_e=W.context,ne=g.contextType,typeof ne=="object"&&ne!==null?ne=Gi(ne):(ne=ni(g)?kc:kr.current,ne=Td(h,ne));var Ve=g.getDerivedStateFromProps;(Ee=typeof Ve=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ee!==Ae||_e!==ne)&&lj(h,W,w,ne),cl=!1,_e=h.memoizedState,W.state=_e,yy(h,w,W,C);var Ue=h.memoizedState;ee!==Ae||_e!==Ue||ti.current||cl?(typeof Ve=="function"&&(u1(h,g,Ve,w),Ue=h.memoizedState),(pe=cl||aj(h,g,pe,w,_e,Ue,ne)||!1)?(Ee||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(w,Ue,ne),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(w,Ue,ne)),typeof W.componentDidUpdate=="function"&&(h.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof W.componentDidUpdate!="function"||ee===u.memoizedProps&&_e===u.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&_e===u.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=Ue),W.props=w,W.state=Ue,W.context=ne,w=pe):(typeof W.componentDidUpdate!="function"||ee===u.memoizedProps&&_e===u.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&_e===u.memoizedState||(h.flags|=1024),w=!1)}return p1(u,h,g,w,M,C)}function p1(u,h,g,w,C,M){vj(u,h);var W=(h.flags&128)!==0;if(!w&&!W)return C&&S2(h,g,!1),ao(u,h,M);w=h.stateNode,nK.current=h;var ee=W&&typeof g.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,u!==null&&W?(h.child=Id(h,u.child,null,M),h.child=Id(h,null,ee,M)):qr(u,h,ee,M),h.memoizedState=w.state,C&&S2(h,g,!0),h.child}function bj(u){var h=u.stateNode;h.pendingContext?_2(u,h.pendingContext,h.pendingContext!==h.context):h.context&&_2(u,h.context,!1),Jw(u,h.containerInfo)}function wj(u,h,g,w,C){return Pd(),Hw(C),h.flags|=256,qr(u,h,g,w),h.child}var g1={dehydrated:null,treeContext:null,retryLane:0};function y1(u){return{baseLanes:u,cachePool:null,transitions:null}}function _j(u,h,g){var w=h.pendingProps,C=gn.current,M=!1,W=(h.flags&128)!==0,ee;if((ee=W)||(ee=u!==null&&u.memoizedState===null?!1:(C&2)!==0),ee?(M=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(C|=1),Jt(gn,C&1),u===null)return qw(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(W=w.children,u=w.fallback,M?(w=h.mode,M=h.child,W={mode:"hidden",children:W},(w&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=W):M=Vy(W,w,0,null),u=Uc(u,w,g,null),M.return=h,u.return=h,M.sibling=u,h.child=M,h.child.memoizedState=y1(g),h.memoizedState=g1,u):v1(h,W));if(C=u.memoizedState,C!==null&&(ee=C.dehydrated,ee!==null))return rK(u,h,W,w,ee,C,g);if(M){M=w.fallback,W=h.mode,C=u.child,ee=C.sibling;var ne={mode:"hidden",children:w.children};return(W&1)===0&&h.child!==C?(w=h.child,w.childLanes=0,w.pendingProps=ne,h.deletions=null):(w=gl(C,ne),w.subtreeFlags=C.subtreeFlags&14680064),ee!==null?M=gl(ee,M):(M=Uc(M,W,g,null),M.flags|=2),M.return=h,w.return=h,w.sibling=M,h.child=w,w=M,M=h.child,W=u.child.memoizedState,W=W===null?y1(g):{baseLanes:W.baseLanes|g,cachePool:null,transitions:W.transitions},M.memoizedState=W,M.childLanes=u.childLanes&~g,h.memoizedState=g1,w}return M=u.child,u=M.sibling,w=gl(M,{mode:"visible",children:w.children}),(h.mode&1)===0&&(w.lanes=g),w.return=h,w.sibling=null,u!==null&&(g=h.deletions,g===null?(h.deletions=[u],h.flags|=16):g.push(u)),h.child=w,h.memoizedState=null,w}function v1(u,h){return h=Vy({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function Ny(u,h,g,w){return w!==null&&Hw(w),Id(h,u.child,null,g),u=v1(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function rK(u,h,g,w,C,M,W){if(g)return h.flags&256?(h.flags&=-257,w=f1(Error(n(422))),Ny(u,h,W,w)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(M=w.fallback,C=h.mode,w=Vy({mode:"visible",children:w.children},C,0,null),M=Uc(M,C,W,null),M.flags|=2,w.return=h,M.return=h,w.sibling=M,h.child=w,(h.mode&1)!==0&&Id(h,u.child,null,W),h.child.memoizedState=y1(W),h.memoizedState=g1,M);if((h.mode&1)===0)return Ny(u,h,W,null);if(C.data==="$!"){if(w=C.nextSibling&&C.nextSibling.dataset,w)var ee=w.dgst;return w=ee,M=Error(n(419)),w=f1(M,w,void 0),Ny(u,h,W,w)}if(ee=(W&u.childLanes)!==0,ri||ee){if(w=tr,w!==null){switch(W&-W){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(w.suspendedLanes|W))!==0?0:C,C!==0&&C!==M.retryLane&&(M.retryLane=C,io(u,C),_s(w,u,C,-1))}return D1(),w=f1(Error(n(421))),Ny(u,h,W,w)}return C.data==="$?"?(h.flags|=128,h.child=u.child,h=gK.bind(null,u),C._reactRetry=h,null):(u=M.treeContext,ki=sl(C.nextSibling),ji=h,un=!0,vs=null,u!==null&&(Wi[Ki++]=no,Wi[Ki++]=ro,Wi[Ki++]=Rc,no=u.id,ro=u.overflow,Rc=h),h=v1(h,w.children),h.flags|=4096,h)}function Ej(u,h,g){u.lanes|=h;var w=u.alternate;w!==null&&(w.lanes|=h),Xw(u.return,h,g)}function x1(u,h,g,w,C){var M=u.memoizedState;M===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:C}:(M.isBackwards=h,M.rendering=null,M.renderingStartTime=0,M.last=w,M.tail=g,M.tailMode=C)}function Sj(u,h,g){var w=h.pendingProps,C=w.revealOrder,M=w.tail;if(qr(u,h,w.children,g),w=gn.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Ej(u,g,h);else if(u.tag===19)Ej(u,g,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}if(Jt(gn,w),(h.mode&1)===0)h.memoizedState=null;else switch(C){case"forwards":for(g=h.child,C=null;g!==null;)u=g.alternate,u!==null&&vy(u)===null&&(C=g),g=g.sibling;g=C,g===null?(C=h.child,h.child=null):(C=g.sibling,g.sibling=null),x1(h,!1,C,g,M);break;case"backwards":for(g=null,C=h.child,h.child=null;C!==null;){if(u=C.alternate,u!==null&&vy(u)===null){h.child=C;break}u=C.sibling,C.sibling=g,g=C,C=u}x1(h,!0,g,null,M);break;case"together":x1(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Ty(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function ao(u,h,g){if(u!==null&&(h.dependencies=u.dependencies),Vc|=h.lanes,(g&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,g=gl(u,u.pendingProps),h.child=g,g.return=h;u.sibling!==null;)u=u.sibling,g=g.sibling=gl(u,u.pendingProps),g.return=h;g.sibling=null}return h.child}function iK(u,h,g){switch(h.tag){case 3:bj(h),Pd();break;case 5:V2(h);break;case 1:ni(h.type)&&ly(h);break;case 4:Jw(h,h.stateNode.containerInfo);break;case 10:var w=h.type._context,C=h.memoizedProps.value;Jt(my,w._currentValue),w._currentValue=C;break;case 13:if(w=h.memoizedState,w!==null)return w.dehydrated!==null?(Jt(gn,gn.current&1),h.flags|=128,null):(g&h.child.childLanes)!==0?_j(u,h,g):(Jt(gn,gn.current&1),u=ao(u,h,g),u!==null?u.sibling:null);Jt(gn,gn.current&1);break;case 19:if(w=(g&h.childLanes)!==0,(u.flags&128)!==0){if(w)return Sj(u,h,g);h.flags|=128}if(C=h.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),Jt(gn,gn.current),w)break;return null;case 22:case 23:return h.lanes=0,yj(u,h,g)}return ao(u,h,g)}var Nj,b1,Tj,Cj;Nj=function(u,h){for(var g=h.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},b1=function(){},Tj=function(u,h,g,w){var C=u.memoizedProps;if(C!==w){u=h.stateNode,Mc(ca.current);var M=null;switch(g){case"input":C=De(u,C),w=De(u,w),M=[];break;case"select":C=k({},C,{value:void 0}),w=k({},w,{value:void 0}),M=[];break;case"textarea":C=Xe(u,C),w=Xe(u,w),M=[];break;default:typeof C.onClick!="function"&&typeof w.onClick=="function"&&(u.onclick=sy)}Zn(g,w);var W;g=null;for(pe in C)if(!w.hasOwnProperty(pe)&&C.hasOwnProperty(pe)&&C[pe]!=null)if(pe==="style"){var ee=C[pe];for(W in ee)ee.hasOwnProperty(W)&&(g||(g={}),g[W]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(i.hasOwnProperty(pe)?M||(M=[]):(M=M||[]).push(pe,null));for(pe in w){var ne=w[pe];if(ee=C?.[pe],w.hasOwnProperty(pe)&&ne!==ee&&(ne!=null||ee!=null))if(pe==="style")if(ee){for(W in ee)!ee.hasOwnProperty(W)||ne&&ne.hasOwnProperty(W)||(g||(g={}),g[W]="");for(W in ne)ne.hasOwnProperty(W)&&ee[W]!==ne[W]&&(g||(g={}),g[W]=ne[W])}else g||(M||(M=[]),M.push(pe,g)),g=ne;else pe==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ee=ee?ee.__html:void 0,ne!=null&&ee!==ne&&(M=M||[]).push(pe,ne)):pe==="children"?typeof ne!="string"&&typeof ne!="number"||(M=M||[]).push(pe,""+ne):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(pe)?(ne!=null&&pe==="onScroll"&&sn("scroll",u),M||ee===ne||(M=[])):(M=M||[]).push(pe,ne))}g&&(M=M||[]).push("style",g);var pe=M;(h.updateQueue=pe)&&(h.flags|=4)}},Cj=function(u,h,g,w){g!==w&&(h.flags|=4)};function cm(u,h){if(!un)switch(u.tailMode){case"hidden":h=u.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function Dr(u){var h=u.alternate!==null&&u.alternate.child===u.child,g=0,w=0;if(h)for(var C=u.child;C!==null;)g|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=u,C=C.sibling;else for(C=u.child;C!==null;)g|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=u,C=C.sibling;return u.subtreeFlags|=w,u.childLanes=g,h}function sK(u,h,g){var w=h.pendingProps;switch(Uw(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(h),null;case 1:return ni(h.type)&&oy(),Dr(h),null;case 3:return w=h.stateNode,Rd(),an(ti),an(kr),t1(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(u===null||u.child===null)&&(fy(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,vs!==null&&(j1(vs),vs=null))),b1(u,h),Dr(h),null;case 5:Zw(h);var C=Mc(im.current);if(g=h.type,u!==null&&h.stateNode!=null)Tj(u,h,g,w,C),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(n(166));return Dr(h),null}if(u=Mc(ca.current),fy(h)){w=h.stateNode,g=h.type;var M=h.memoizedProps;switch(w[la]=h,w[Zh]=M,u=(h.mode&1)!==0,g){case"dialog":sn("cancel",w),sn("close",w);break;case"iframe":case"object":case"embed":sn("load",w);break;case"video":case"audio":for(C=0;C<Yh.length;C++)sn(Yh[C],w);break;case"source":sn("error",w);break;case"img":case"image":case"link":sn("error",w),sn("load",w);break;case"details":sn("toggle",w);break;case"input":Je(w,M),sn("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!M.multiple},sn("invalid",w);break;case"textarea":de(w,M),sn("invalid",w)}Zn(g,M),C=null;for(var W in M)if(M.hasOwnProperty(W)){var ee=M[W];W==="children"?typeof ee=="string"?w.textContent!==ee&&(M.suppressHydrationWarning!==!0&&iy(w.textContent,ee,u),C=["children",ee]):typeof ee=="number"&&w.textContent!==""+ee&&(M.suppressHydrationWarning!==!0&&iy(w.textContent,ee,u),C=["children",""+ee]):i.hasOwnProperty(W)&&ee!=null&&W==="onScroll"&&sn("scroll",w)}switch(g){case"input":Ce(w),pt(w,M,!0);break;case"textarea":Ce(w),dt(w);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(w.onclick=sy)}w=C,h.updateQueue=w,w!==null&&(h.flags|=4)}else{W=C.nodeType===9?C:C.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=nt(g)),u==="http://www.w3.org/1999/xhtml"?g==="script"?(u=W.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof w.is=="string"?u=W.createElement(g,{is:w.is}):(u=W.createElement(g),g==="select"&&(W=u,w.multiple?W.multiple=!0:w.size&&(W.size=w.size))):u=W.createElementNS(u,g),u[la]=h,u[Zh]=w,Nj(u,h,!1,!1),h.stateNode=u;e:{switch(W=Qo(g,w),g){case"dialog":sn("cancel",u),sn("close",u),C=w;break;case"iframe":case"object":case"embed":sn("load",u),C=w;break;case"video":case"audio":for(C=0;C<Yh.length;C++)sn(Yh[C],u);C=w;break;case"source":sn("error",u),C=w;break;case"img":case"image":case"link":sn("error",u),sn("load",u),C=w;break;case"details":sn("toggle",u),C=w;break;case"input":Je(u,w),C=De(u,w),sn("invalid",u);break;case"option":C=w;break;case"select":u._wrapperState={wasMultiple:!!w.multiple},C=k({},w,{value:void 0}),sn("invalid",u);break;case"textarea":de(u,w),C=Xe(u,w),sn("invalid",u);break;default:C=w}Zn(g,C),ee=C;for(M in ee)if(ee.hasOwnProperty(M)){var ne=ee[M];M==="style"?Ei(u,ne):M==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Yt(u,ne)):M==="children"?typeof ne=="string"?(g!=="textarea"||ne!=="")&&pr(u,ne):typeof ne=="number"&&pr(u,""+ne):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?ne!=null&&M==="onScroll"&&sn("scroll",u):ne!=null&&R(u,M,ne,W))}switch(g){case"input":Ce(u),pt(u,w,!1);break;case"textarea":Ce(u),dt(u);break;case"option":w.value!=null&&u.setAttribute("value",""+xe(w.value));break;case"select":u.multiple=!!w.multiple,M=w.value,M!=null?Ne(u,!!w.multiple,M,!1):w.defaultValue!=null&&Ne(u,!!w.multiple,w.defaultValue,!0);break;default:typeof C.onClick=="function"&&(u.onclick=sy)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Dr(h),null;case 6:if(u&&h.stateNode!=null)Cj(u,h,u.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(n(166));if(g=Mc(im.current),Mc(ca.current),fy(h)){if(w=h.stateNode,g=h.memoizedProps,w[la]=h,(M=w.nodeValue!==g)&&(u=ji,u!==null))switch(u.tag){case 3:iy(w.nodeValue,g,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&iy(w.nodeValue,g,(u.mode&1)!==0)}M&&(h.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[la]=h,h.stateNode=w}return Dr(h),null;case 13:if(an(gn),w=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(un&&ki!==null&&(h.mode&1)!==0&&(h.flags&128)===0)I2(),Pd(),h.flags|=98560,M=!1;else if(M=fy(h),w!==null&&w.dehydrated!==null){if(u===null){if(!M)throw Error(n(318));if(M=h.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(n(317));M[la]=h}else Pd(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Dr(h),M=!1}else vs!==null&&(j1(vs),vs=null),M=!0;if(!M)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=g,h):(w=w!==null,w!==(u!==null&&u.memoizedState!==null)&&w&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(gn.current&1)!==0?$n===0&&($n=3):D1())),h.updateQueue!==null&&(h.flags|=4),Dr(h),null);case 4:return Rd(),b1(u,h),u===null&&Qh(h.stateNode.containerInfo),Dr(h),null;case 10:return Gw(h.type._context),Dr(h),null;case 17:return ni(h.type)&&oy(),Dr(h),null;case 19:if(an(gn),M=h.memoizedState,M===null)return Dr(h),null;if(w=(h.flags&128)!==0,W=M.rendering,W===null)if(w)cm(M,!1);else{if($n!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(W=vy(u),W!==null){for(h.flags|=128,cm(M,!1),w=W.updateQueue,w!==null&&(h.updateQueue=w,h.flags|=4),h.subtreeFlags=0,w=g,g=h.child;g!==null;)M=g,u=w,M.flags&=14680066,W=M.alternate,W===null?(M.childLanes=0,M.lanes=u,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=W.childLanes,M.lanes=W.lanes,M.child=W.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=W.memoizedProps,M.memoizedState=W.memoizedState,M.updateQueue=W.updateQueue,M.type=W.type,u=W.dependencies,M.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),g=g.sibling;return Jt(gn,gn.current&1|2),h.child}u=u.sibling}M.tail!==null&&rn()>Ld&&(h.flags|=128,w=!0,cm(M,!1),h.lanes=4194304)}else{if(!w)if(u=vy(W),u!==null){if(h.flags|=128,w=!0,g=u.updateQueue,g!==null&&(h.updateQueue=g,h.flags|=4),cm(M,!0),M.tail===null&&M.tailMode==="hidden"&&!W.alternate&&!un)return Dr(h),null}else 2*rn()-M.renderingStartTime>Ld&&g!==1073741824&&(h.flags|=128,w=!0,cm(M,!1),h.lanes=4194304);M.isBackwards?(W.sibling=h.child,h.child=W):(g=M.last,g!==null?g.sibling=W:h.child=W,M.last=W)}return M.tail!==null?(h=M.tail,M.rendering=h,M.tail=h.sibling,M.renderingStartTime=rn(),h.sibling=null,g=gn.current,Jt(gn,w?g&1|2:g&1),h):(Dr(h),null);case 22:case 23:return R1(),w=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==w&&(h.flags|=8192),w&&(h.mode&1)!==0?(Ri&1073741824)!==0&&(Dr(h),h.subtreeFlags&6&&(h.flags|=8192)):Dr(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function aK(u,h){switch(Uw(h),h.tag){case 1:return ni(h.type)&&oy(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Rd(),an(ti),an(kr),t1(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return Zw(h),null;case 13:if(an(gn),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Pd()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return an(gn),null;case 4:return Rd(),null;case 10:return Gw(h.type._context),null;case 22:case 23:return R1(),null;case 24:return null;default:return null}}var Cy=!1,Or=!1,oK=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Od(u,h){var g=u.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){En(u,h,w)}else g.current=null}function w1(u,h,g){try{g()}catch(w){En(u,h,w)}}var Aj=!1;function lK(u,h){if(Rw=Qa,u=a2(),Nw(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var C=w.anchorOffset,M=w.focusNode;w=w.focusOffset;try{g.nodeType,M.nodeType}catch{g=null;break e}var W=0,ee=-1,ne=-1,pe=0,Ee=0,Ae=u,_e=null;t:for(;;){for(var Ve;Ae!==g||C!==0&&Ae.nodeType!==3||(ee=W+C),Ae!==M||w!==0&&Ae.nodeType!==3||(ne=W+w),Ae.nodeType===3&&(W+=Ae.nodeValue.length),(Ve=Ae.firstChild)!==null;)_e=Ae,Ae=Ve;for(;;){if(Ae===u)break t;if(_e===g&&++pe===C&&(ee=W),_e===M&&++Ee===w&&(ne=W),(Ve=Ae.nextSibling)!==null)break;Ae=_e,_e=Ae.parentNode}Ae=Ve}g=ee===-1||ne===-1?null:{start:ee,end:ne}}else g=null}g=g||{start:0,end:0}}else g=null;for(Dw={focusedElem:u,selectionRange:g},Qa=!1,Be=h;Be!==null;)if(h=Be,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Be=u;else for(;Be!==null;){h=Be;try{var Ue=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var He=Ue.memoizedProps,In=Ue.memoizedState,ce=h.stateNode,se=ce.getSnapshotBeforeUpdate(h.elementType===h.type?He:xs(h.type,He),In);ce.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var he=h.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Pe){En(h,h.return,Pe)}if(u=h.sibling,u!==null){u.return=h.return,Be=u;break}Be=h.return}return Ue=Aj,Aj=!1,Ue}function um(u,h,g){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&u)===u){var M=C.destroy;C.destroy=void 0,M!==void 0&&w1(h,g,M)}C=C.next}while(C!==w)}}function Ay(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&u)===u){var w=g.create;g.destroy=w()}g=g.next}while(g!==h)}}function _1(u){var h=u.ref;if(h!==null){var g=u.stateNode;u.tag,u=g,typeof h=="function"?h(u):h.current=u}}function Pj(u){var h=u.alternate;h!==null&&(u.alternate=null,Pj(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[la],delete h[Zh],delete h[Vw],delete h[qW],delete h[HW])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function Ij(u){return u.tag===5||u.tag===3||u.tag===4}function jj(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Ij(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function E1(u,h,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(u,h):g.insertBefore(u,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(u,g)):(h=g,h.appendChild(u)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=sy));else if(w!==4&&(u=u.child,u!==null))for(E1(u,h,g),u=u.sibling;u!==null;)E1(u,h,g),u=u.sibling}function S1(u,h,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?g.insertBefore(u,h):g.appendChild(u);else if(w!==4&&(u=u.child,u!==null))for(S1(u,h,g),u=u.sibling;u!==null;)S1(u,h,g),u=u.sibling}var vr=null,bs=!1;function dl(u,h,g){for(g=g.child;g!==null;)kj(u,h,g),g=g.sibling}function kj(u,h,g){if(Ni&&typeof Ni.onCommitFiberUnmount=="function")try{Ni.onCommitFiberUnmount(_c,g)}catch{}switch(g.tag){case 5:Or||Od(g,h);case 6:var w=vr,C=bs;vr=null,dl(u,h,g),vr=w,bs=C,vr!==null&&(bs?(u=vr,g=g.stateNode,u.nodeType===8?u.parentNode.removeChild(g):u.removeChild(g)):vr.removeChild(g.stateNode));break;case 18:vr!==null&&(bs?(u=vr,g=g.stateNode,u.nodeType===8?Lw(u.parentNode,g):u.nodeType===1&&Lw(u,g),tl(u)):Lw(vr,g.stateNode));break;case 4:w=vr,C=bs,vr=g.stateNode.containerInfo,bs=!0,dl(u,h,g),vr=w,bs=C;break;case 0:case 11:case 14:case 15:if(!Or&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){C=w=w.next;do{var M=C,W=M.destroy;M=M.tag,W!==void 0&&((M&2)!==0||(M&4)!==0)&&w1(g,h,W),C=C.next}while(C!==w)}dl(u,h,g);break;case 1:if(!Or&&(Od(g,h),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(ee){En(g,h,ee)}dl(u,h,g);break;case 21:dl(u,h,g);break;case 22:g.mode&1?(Or=(w=Or)||g.memoizedState!==null,dl(u,h,g),Or=w):dl(u,h,g);break;default:dl(u,h,g)}}function Rj(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new oK),h.forEach(function(w){var C=yK.bind(null,u,w);g.has(w)||(g.add(w),w.then(C,C))})}}function ws(u,h){var g=h.deletions;if(g!==null)for(var w=0;w<g.length;w++){var C=g[w];try{var M=u,W=h,ee=W;e:for(;ee!==null;){switch(ee.tag){case 5:vr=ee.stateNode,bs=!1;break e;case 3:vr=ee.stateNode.containerInfo,bs=!0;break e;case 4:vr=ee.stateNode.containerInfo,bs=!0;break e}ee=ee.return}if(vr===null)throw Error(n(160));kj(M,W,C),vr=null,bs=!1;var ne=C.alternate;ne!==null&&(ne.return=null),C.return=null}catch(pe){En(C,h,pe)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)Dj(h,u),h=h.sibling}function Dj(u,h){var g=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(ws(h,u),da(u),w&4){try{um(3,u,u.return),Ay(3,u)}catch(He){En(u,u.return,He)}try{um(5,u,u.return)}catch(He){En(u,u.return,He)}}break;case 1:ws(h,u),da(u),w&512&&g!==null&&Od(g,g.return);break;case 5:if(ws(h,u),da(u),w&512&&g!==null&&Od(g,g.return),u.flags&32){var C=u.stateNode;try{pr(C,"")}catch(He){En(u,u.return,He)}}if(w&4&&(C=u.stateNode,C!=null)){var M=u.memoizedProps,W=g!==null?g.memoizedProps:M,ee=u.type,ne=u.updateQueue;if(u.updateQueue=null,ne!==null)try{ee==="input"&&M.type==="radio"&&M.name!=null&&ot(C,M),Qo(ee,W);var pe=Qo(ee,M);for(W=0;W<ne.length;W+=2){var Ee=ne[W],Ae=ne[W+1];Ee==="style"?Ei(C,Ae):Ee==="dangerouslySetInnerHTML"?Yt(C,Ae):Ee==="children"?pr(C,Ae):R(C,Ee,Ae,pe)}switch(ee){case"input":Fe(C,M);break;case"textarea":Ke(C,M);break;case"select":var _e=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!M.multiple;var Ve=M.value;Ve!=null?Ne(C,!!M.multiple,Ve,!1):_e!==!!M.multiple&&(M.defaultValue!=null?Ne(C,!!M.multiple,M.defaultValue,!0):Ne(C,!!M.multiple,M.multiple?[]:"",!1))}C[Zh]=M}catch(He){En(u,u.return,He)}}break;case 6:if(ws(h,u),da(u),w&4){if(u.stateNode===null)throw Error(n(162));C=u.stateNode,M=u.memoizedProps;try{C.nodeValue=M}catch(He){En(u,u.return,He)}}break;case 3:if(ws(h,u),da(u),w&4&&g!==null&&g.memoizedState.isDehydrated)try{tl(h.containerInfo)}catch(He){En(u,u.return,He)}break;case 4:ws(h,u),da(u);break;case 13:ws(h,u),da(u),C=u.child,C.flags&8192&&(M=C.memoizedState!==null,C.stateNode.isHidden=M,!M||C.alternate!==null&&C.alternate.memoizedState!==null||(C1=rn())),w&4&&Rj(u);break;case 22:if(Ee=g!==null&&g.memoizedState!==null,u.mode&1?(Or=(pe=Or)||Ee,ws(h,u),Or=pe):ws(h,u),da(u),w&8192){if(pe=u.memoizedState!==null,(u.stateNode.isHidden=pe)&&!Ee&&(u.mode&1)!==0)for(Be=u,Ee=u.child;Ee!==null;){for(Ae=Be=Ee;Be!==null;){switch(_e=Be,Ve=_e.child,_e.tag){case 0:case 11:case 14:case 15:um(4,_e,_e.return);break;case 1:Od(_e,_e.return);var Ue=_e.stateNode;if(typeof Ue.componentWillUnmount=="function"){w=_e,g=_e.return;try{h=w,Ue.props=h.memoizedProps,Ue.state=h.memoizedState,Ue.componentWillUnmount()}catch(He){En(w,g,He)}}break;case 5:Od(_e,_e.return);break;case 22:if(_e.memoizedState!==null){Lj(Ae);continue}}Ve!==null?(Ve.return=_e,Be=Ve):Lj(Ae)}Ee=Ee.sibling}e:for(Ee=null,Ae=u;;){if(Ae.tag===5){if(Ee===null){Ee=Ae;try{C=Ae.stateNode,pe?(M=C.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(ee=Ae.stateNode,ne=Ae.memoizedProps.style,W=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,ee.style.display=$r("display",W))}catch(He){En(u,u.return,He)}}}else if(Ae.tag===6){if(Ee===null)try{Ae.stateNode.nodeValue=pe?"":Ae.memoizedProps}catch(He){En(u,u.return,He)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===u)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===u)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===u)break e;Ee===Ae&&(Ee=null),Ae=Ae.return}Ee===Ae&&(Ee=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:ws(h,u),da(u),w&4&&Rj(u);break;case 21:break;default:ws(h,u),da(u)}}function da(u){var h=u.flags;if(h&2){try{e:{for(var g=u.return;g!==null;){if(Ij(g)){var w=g;break e}g=g.return}throw Error(n(160))}switch(w.tag){case 5:var C=w.stateNode;w.flags&32&&(pr(C,""),w.flags&=-33);var M=jj(u);S1(u,M,C);break;case 3:case 4:var W=w.stateNode.containerInfo,ee=jj(u);E1(u,ee,W);break;default:throw Error(n(161))}}catch(ne){En(u,u.return,ne)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function cK(u,h,g){Be=u,Oj(u)}function Oj(u,h,g){for(var w=(u.mode&1)!==0;Be!==null;){var C=Be,M=C.child;if(C.tag===22&&w){var W=C.memoizedState!==null||Cy;if(!W){var ee=C.alternate,ne=ee!==null&&ee.memoizedState!==null||Or;ee=Cy;var pe=Or;if(Cy=W,(Or=ne)&&!pe)for(Be=C;Be!==null;)W=Be,ne=W.child,W.tag===22&&W.memoizedState!==null?Vj(C):ne!==null?(ne.return=W,Be=ne):Vj(C);for(;M!==null;)Be=M,Oj(M),M=M.sibling;Be=C,Cy=ee,Or=pe}Mj(u)}else(C.subtreeFlags&8772)!==0&&M!==null?(M.return=C,Be=M):Mj(u)}}function Mj(u){for(;Be!==null;){var h=Be;if((h.flags&8772)!==0){var g=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Or||Ay(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!Or)if(g===null)w.componentDidMount();else{var C=h.elementType===h.type?g.memoizedProps:xs(h.type,g.memoizedProps);w.componentDidUpdate(C,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var M=h.updateQueue;M!==null&&L2(h,M,w);break;case 3:var W=h.updateQueue;if(W!==null){if(g=null,h.child!==null)switch(h.child.tag){case 5:g=h.child.stateNode;break;case 1:g=h.child.stateNode}L2(h,W,g)}break;case 5:var ee=h.stateNode;if(g===null&&h.flags&4){g=ee;var ne=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&g.focus();break;case"img":ne.src&&(g.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var pe=h.alternate;if(pe!==null){var Ee=pe.memoizedState;if(Ee!==null){var Ae=Ee.dehydrated;Ae!==null&&tl(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Or||h.flags&512&&_1(h)}catch(_e){En(h,h.return,_e)}}if(h===u){Be=null;break}if(g=h.sibling,g!==null){g.return=h.return,Be=g;break}Be=h.return}}function Lj(u){for(;Be!==null;){var h=Be;if(h===u){Be=null;break}var g=h.sibling;if(g!==null){g.return=h.return,Be=g;break}Be=h.return}}function Vj(u){for(;Be!==null;){var h=Be;try{switch(h.tag){case 0:case 11:case 15:var g=h.return;try{Ay(4,h)}catch(ne){En(h,g,ne)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var C=h.return;try{w.componentDidMount()}catch(ne){En(h,C,ne)}}var M=h.return;try{_1(h)}catch(ne){En(h,M,ne)}break;case 5:var W=h.return;try{_1(h)}catch(ne){En(h,W,ne)}}}catch(ne){En(h,h.return,ne)}if(h===u){Be=null;break}var ee=h.sibling;if(ee!==null){ee.return=h.return,Be=ee;break}Be=h.return}}var uK=Math.ceil,Py=z.ReactCurrentDispatcher,N1=z.ReactCurrentOwner,Yi=z.ReactCurrentBatchConfig,It=0,tr=null,Mn=null,xr=0,Ri=0,Md=al(0),$n=0,dm=null,Vc=0,Iy=0,T1=0,fm=null,ii=null,C1=0,Ld=1/0,oo=null,jy=!1,A1=null,fl=null,ky=!1,hl=null,Ry=0,hm=0,P1=null,Dy=-1,Oy=0;function Hr(){return(It&6)!==0?rn():Dy!==-1?Dy:Dy=rn()}function ml(u){return(u.mode&1)===0?1:(It&2)!==0&&xr!==0?xr&-xr:KW.transition!==null?(Oy===0&&(Oy=Dh()),Oy):(u=Nt,u!==0||(u=window.event,u=u===void 0?16:fd(u.type)),u)}function _s(u,h,g,w){if(50<hm)throw hm=0,P1=null,Error(n(185));Tc(u,g,w),((It&2)===0||u!==tr)&&(u===tr&&((It&2)===0&&(Iy|=g),$n===4&&pl(u,xr)),si(u,w),g===1&&It===0&&(h.mode&1)===0&&(Ld=rn()+500,cy&&ll()))}function si(u,h){var g=u.callbackNode;Nc(u,h);var w=Ga(u,u===tr?xr:0);if(w===0)g!==null&&sd(g),u.callbackNode=null,u.callbackPriority=0;else if(h=w&-w,u.callbackPriority!==h){if(g!=null&&sd(g),h===1)u.tag===0?WW(Bj.bind(null,u)):N2(Bj.bind(null,u)),UW(function(){(It&6)===0&&ll()}),g=null;else{switch(Js(w)){case 1:g=ad;break;case 4:g=jh;break;case 16:g=wc;break;case 536870912:g=od;break;default:g=wc}g=Gj(g,Fj.bind(null,u))}u.callbackPriority=h,u.callbackNode=g}}function Fj(u,h){if(Dy=-1,Oy=0,(It&6)!==0)throw Error(n(327));var g=u.callbackNode;if(Vd()&&u.callbackNode!==g)return null;var w=Ga(u,u===tr?xr:0);if(w===0)return null;if((w&30)!==0||(w&u.expiredLanes)!==0||h)h=My(u,w);else{h=w;var C=It;It|=2;var M=Uj();(tr!==u||xr!==h)&&(oo=null,Ld=rn()+500,Bc(u,h));do try{hK();break}catch(ee){zj(u,ee)}while(!0);Kw(),Py.current=M,It=C,Mn!==null?h=0:(tr=null,xr=0,h=$n)}if(h!==0){if(h===2&&(C=Rh(u),C!==0&&(w=C,h=I1(u,C))),h===1)throw g=dm,Bc(u,0),pl(u,w),si(u,rn()),g;if(h===6)pl(u,w);else{if(C=u.current.alternate,(w&30)===0&&!dK(C)&&(h=My(u,w),h===2&&(M=Rh(u),M!==0&&(w=M,h=I1(u,M))),h===1))throw g=dm,Bc(u,0),pl(u,w),si(u,rn()),g;switch(u.finishedWork=C,u.finishedLanes=w,h){case 0:case 1:throw Error(n(345));case 2:zc(u,ii,oo);break;case 3:if(pl(u,w),(w&130023424)===w&&(h=C1+500-rn(),10<h)){if(Ga(u,0)!==0)break;if(C=u.suspendedLanes,(C&w)!==w){Hr(),u.pingedLanes|=u.suspendedLanes&C;break}u.timeoutHandle=Mw(zc.bind(null,u,ii,oo),h);break}zc(u,ii,oo);break;case 4:if(pl(u,w),(w&4194240)===w)break;for(h=u.eventTimes,C=-1;0<w;){var W=31-Ti(w);M=1<<W,W=h[W],W>C&&(C=W),w&=~M}if(w=C,w=rn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*uK(w/1960))-w,10<w){u.timeoutHandle=Mw(zc.bind(null,u,ii,oo),w);break}zc(u,ii,oo);break;case 5:zc(u,ii,oo);break;default:throw Error(n(329))}}}return si(u,rn()),u.callbackNode===g?Fj.bind(null,u):null}function I1(u,h){var g=fm;return u.current.memoizedState.isDehydrated&&(Bc(u,h).flags|=256),u=My(u,h),u!==2&&(h=ii,ii=g,h!==null&&j1(h)),u}function j1(u){ii===null?ii=u:ii.push.apply(ii,u)}function dK(u){for(var h=u;;){if(h.flags&16384){var g=h.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var C=g[w],M=C.getSnapshot;C=C.value;try{if(!ys(M(),C))return!1}catch{return!1}}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function pl(u,h){for(h&=~T1,h&=~Iy,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var g=31-Ti(h),w=1<<g;u[g]=-1,h&=~w}}function Bj(u){if((It&6)!==0)throw Error(n(327));Vd();var h=Ga(u,0);if((h&1)===0)return si(u,rn()),null;var g=My(u,h);if(u.tag!==0&&g===2){var w=Rh(u);w!==0&&(h=w,g=I1(u,w))}if(g===1)throw g=dm,Bc(u,0),pl(u,h),si(u,rn()),g;if(g===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,zc(u,ii,oo),si(u,rn()),null}function k1(u,h){var g=It;It|=1;try{return u(h)}finally{It=g,It===0&&(Ld=rn()+500,cy&&ll())}}function Fc(u){hl!==null&&hl.tag===0&&(It&6)===0&&Vd();var h=It;It|=1;var g=Yi.transition,w=Nt;try{if(Yi.transition=null,Nt=1,u)return u()}finally{Nt=w,Yi.transition=g,It=h,(It&6)===0&&ll()}}function R1(){Ri=Md.current,an(Md)}function Bc(u,h){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==-1&&(u.timeoutHandle=-1,zW(g)),Mn!==null)for(g=Mn.return;g!==null;){var w=g;switch(Uw(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&oy();break;case 3:Rd(),an(ti),an(kr),t1();break;case 5:Zw(w);break;case 4:Rd();break;case 13:an(gn);break;case 19:an(gn);break;case 10:Gw(w.type._context);break;case 22:case 23:R1()}g=g.return}if(tr=u,Mn=u=gl(u.current,null),xr=Ri=h,$n=0,dm=null,T1=Iy=Vc=0,ii=fm=null,Oc!==null){for(h=0;h<Oc.length;h++)if(g=Oc[h],w=g.interleaved,w!==null){g.interleaved=null;var C=w.next,M=g.pending;if(M!==null){var W=M.next;M.next=C,w.next=W}g.pending=w}Oc=null}return u}function zj(u,h){do{var g=Mn;try{if(Kw(),xy.current=Ey,by){for(var w=yn.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}by=!1}if(Lc=0,er=Un=yn=null,sm=!1,am=0,N1.current=null,g===null||g.return===null){$n=1,dm=h,Mn=null;break}e:{var M=u,W=g.return,ee=g,ne=h;if(h=xr,ee.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var pe=ne,Ee=ee,Ae=Ee.tag;if((Ee.mode&1)===0&&(Ae===0||Ae===11||Ae===15)){var _e=Ee.alternate;_e?(Ee.updateQueue=_e.updateQueue,Ee.memoizedState=_e.memoizedState,Ee.lanes=_e.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var Ve=fj(W);if(Ve!==null){Ve.flags&=-257,hj(Ve,W,ee,M,h),Ve.mode&1&&dj(M,pe,h),h=Ve,ne=pe;var Ue=h.updateQueue;if(Ue===null){var He=new Set;He.add(ne),h.updateQueue=He}else Ue.add(ne);break e}else{if((h&1)===0){dj(M,pe,h),D1();break e}ne=Error(n(426))}}else if(un&&ee.mode&1){var In=fj(W);if(In!==null){(In.flags&65536)===0&&(In.flags|=256),hj(In,W,ee,M,h),Hw(Dd(ne,ee));break e}}M=ne=Dd(ne,ee),$n!==4&&($n=2),fm===null?fm=[M]:fm.push(M),M=W;do{switch(M.tag){case 3:M.flags|=65536,h&=-h,M.lanes|=h;var ce=cj(M,ne,h);M2(M,ce);break e;case 1:ee=ne;var se=M.type,he=M.stateNode;if((M.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(fl===null||!fl.has(he)))){M.flags|=65536,h&=-h,M.lanes|=h;var Pe=uj(M,ee,h);M2(M,Pe);break e}}M=M.return}while(M!==null)}qj(g)}catch(Ge){h=Ge,Mn===g&&g!==null&&(Mn=g=g.return);continue}break}while(!0)}function Uj(){var u=Py.current;return Py.current=Ey,u===null?Ey:u}function D1(){($n===0||$n===3||$n===2)&&($n=4),tr===null||(Vc&268435455)===0&&(Iy&268435455)===0||pl(tr,xr)}function My(u,h){var g=It;It|=2;var w=Uj();(tr!==u||xr!==h)&&(oo=null,Bc(u,h));do try{fK();break}catch(C){zj(u,C)}while(!0);if(Kw(),It=g,Py.current=w,Mn!==null)throw Error(n(261));return tr=null,xr=0,$n}function fK(){for(;Mn!==null;)$j(Mn)}function hK(){for(;Mn!==null&&!bc();)$j(Mn)}function $j(u){var h=Kj(u.alternate,u,Ri);u.memoizedProps=u.pendingProps,h===null?qj(u):Mn=h,N1.current=null}function qj(u){var h=u;do{var g=h.alternate;if(u=h.return,(h.flags&32768)===0){if(g=sK(g,h,Ri),g!==null){Mn=g;return}}else{if(g=aK(g,h),g!==null){g.flags&=32767,Mn=g;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{$n=6,Mn=null;return}}if(h=h.sibling,h!==null){Mn=h;return}Mn=h=u}while(h!==null);$n===0&&($n=5)}function zc(u,h,g){var w=Nt,C=Yi.transition;try{Yi.transition=null,Nt=1,mK(u,h,g,w)}finally{Yi.transition=C,Nt=w}return null}function mK(u,h,g,w){do Vd();while(hl!==null);if((It&6)!==0)throw Error(n(327));g=u.finishedWork;var C=u.finishedLanes;if(g===null)return null;if(u.finishedWork=null,u.finishedLanes=0,g===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var M=g.lanes|g.childLanes;if(bw(u,M),u===tr&&(Mn=tr=null,xr=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||ky||(ky=!0,Gj(wc,function(){return Vd(),null})),M=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||M){M=Yi.transition,Yi.transition=null;var W=Nt;Nt=1;var ee=It;It|=4,N1.current=null,lK(u,g),Dj(g,u),DW(Dw),Qa=!!Rw,Dw=Rw=null,u.current=g,cK(g),Ka(),It=ee,Nt=W,Yi.transition=M}else u.current=g;if(ky&&(ky=!1,hl=u,Ry=C),M=u.pendingLanes,M===0&&(fl=null),$g(g.stateNode),si(u,rn()),h!==null)for(w=u.onRecoverableError,g=0;g<h.length;g++)C=h[g],w(C.value,{componentStack:C.stack,digest:C.digest});if(jy)throw jy=!1,u=A1,A1=null,u;return(Ry&1)!==0&&u.tag!==0&&Vd(),M=u.pendingLanes,(M&1)!==0?u===P1?hm++:(hm=0,P1=u):hm=0,ll(),null}function Vd(){if(hl!==null){var u=Js(Ry),h=Yi.transition,g=Nt;try{if(Yi.transition=null,Nt=16>u?16:u,hl===null)var w=!1;else{if(u=hl,hl=null,Ry=0,(It&6)!==0)throw Error(n(331));var C=It;for(It|=4,Be=u.current;Be!==null;){var M=Be,W=M.child;if((Be.flags&16)!==0){var ee=M.deletions;if(ee!==null){for(var ne=0;ne<ee.length;ne++){var pe=ee[ne];for(Be=pe;Be!==null;){var Ee=Be;switch(Ee.tag){case 0:case 11:case 15:um(8,Ee,M)}var Ae=Ee.child;if(Ae!==null)Ae.return=Ee,Be=Ae;else for(;Be!==null;){Ee=Be;var _e=Ee.sibling,Ve=Ee.return;if(Pj(Ee),Ee===pe){Be=null;break}if(_e!==null){_e.return=Ve,Be=_e;break}Be=Ve}}}var Ue=M.alternate;if(Ue!==null){var He=Ue.child;if(He!==null){Ue.child=null;do{var In=He.sibling;He.sibling=null,He=In}while(He!==null)}}Be=M}}if((M.subtreeFlags&2064)!==0&&W!==null)W.return=M,Be=W;else e:for(;Be!==null;){if(M=Be,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:um(9,M,M.return)}var ce=M.sibling;if(ce!==null){ce.return=M.return,Be=ce;break e}Be=M.return}}var se=u.current;for(Be=se;Be!==null;){W=Be;var he=W.child;if((W.subtreeFlags&2064)!==0&&he!==null)he.return=W,Be=he;else e:for(W=se;Be!==null;){if(ee=Be,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:Ay(9,ee)}}catch(Ge){En(ee,ee.return,Ge)}if(ee===W){Be=null;break e}var Pe=ee.sibling;if(Pe!==null){Pe.return=ee.return,Be=Pe;break e}Be=ee.return}}if(It=C,ll(),Ni&&typeof Ni.onPostCommitFiberRoot=="function")try{Ni.onPostCommitFiberRoot(_c,u)}catch{}w=!0}return w}finally{Nt=g,Yi.transition=h}}return!1}function Hj(u,h,g){h=Dd(g,h),h=cj(u,h,1),u=ul(u,h,1),h=Hr(),u!==null&&(Tc(u,1,h),si(u,h))}function En(u,h,g){if(u.tag===3)Hj(u,u,g);else for(;h!==null;){if(h.tag===3){Hj(h,u,g);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(fl===null||!fl.has(w))){u=Dd(g,u),u=uj(h,u,1),h=ul(h,u,1),u=Hr(),h!==null&&(Tc(h,1,u),si(h,u));break}}h=h.return}}function pK(u,h,g){var w=u.pingCache;w!==null&&w.delete(h),h=Hr(),u.pingedLanes|=u.suspendedLanes&g,tr===u&&(xr&g)===g&&($n===4||$n===3&&(xr&130023424)===xr&&500>rn()-C1?Bc(u,0):T1|=g),si(u,h)}function Wj(u,h){h===0&&((u.mode&1)===0?h=1:(h=Jo,Jo<<=1,(Jo&130023424)===0&&(Jo=4194304)));var g=Hr();u=io(u,h),u!==null&&(Tc(u,h,g),si(u,g))}function gK(u){var h=u.memoizedState,g=0;h!==null&&(g=h.retryLane),Wj(u,g)}function yK(u,h){var g=0;switch(u.tag){case 13:var w=u.stateNode,C=u.memoizedState;C!==null&&(g=C.retryLane);break;case 19:w=u.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(h),Wj(u,g)}var Kj;Kj=function(u,h,g){if(u!==null)if(u.memoizedProps!==h.pendingProps||ti.current)ri=!0;else{if((u.lanes&g)===0&&(h.flags&128)===0)return ri=!1,iK(u,h,g);ri=(u.flags&131072)!==0}else ri=!1,un&&(h.flags&1048576)!==0&&T2(h,dy,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;Ty(u,h),u=h.pendingProps;var C=Td(h,kr.current);kd(h,g),C=i1(null,h,w,u,C,g);var M=s1();return h.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ni(w)?(M=!0,ly(h)):M=!1,h.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,Qw(h),C.updater=Sy,h.stateNode=C,C._reactInternals=h,d1(h,w,u,g),h=p1(null,h,w,!0,M,g)):(h.tag=0,un&&M&&zw(h),qr(null,h,C,g),h=h.child),h;case 16:w=h.elementType;e:{switch(Ty(u,h),u=h.pendingProps,C=w._init,w=C(w._payload),h.type=w,C=h.tag=xK(w),u=xs(w,u),C){case 0:h=m1(null,h,w,u,g);break e;case 1:h=xj(null,h,w,u,g);break e;case 11:h=mj(null,h,w,u,g);break e;case 14:h=pj(null,h,w,xs(w.type,u),g);break e}throw Error(n(306,w,""))}return h;case 0:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:xs(w,C),m1(u,h,w,C,g);case 1:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:xs(w,C),xj(u,h,w,C,g);case 3:e:{if(bj(h),u===null)throw Error(n(387));w=h.pendingProps,M=h.memoizedState,C=M.element,O2(u,h),yy(h,w,null,g);var W=h.memoizedState;if(w=W.element,M.isDehydrated)if(M={element:w,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},h.updateQueue.baseState=M,h.memoizedState=M,h.flags&256){C=Dd(Error(n(423)),h),h=wj(u,h,w,g,C);break e}else if(w!==C){C=Dd(Error(n(424)),h),h=wj(u,h,w,g,C);break e}else for(ki=sl(h.stateNode.containerInfo.firstChild),ji=h,un=!0,vs=null,g=R2(h,null,w,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(Pd(),w===C){h=ao(u,h,g);break e}qr(u,h,w,g)}h=h.child}return h;case 5:return V2(h),u===null&&qw(h),w=h.type,C=h.pendingProps,M=u!==null?u.memoizedProps:null,W=C.children,Ow(w,C)?W=null:M!==null&&Ow(w,M)&&(h.flags|=32),vj(u,h),qr(u,h,W,g),h.child;case 6:return u===null&&qw(h),null;case 13:return _j(u,h,g);case 4:return Jw(h,h.stateNode.containerInfo),w=h.pendingProps,u===null?h.child=Id(h,null,w,g):qr(u,h,w,g),h.child;case 11:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:xs(w,C),mj(u,h,w,C,g);case 7:return qr(u,h,h.pendingProps,g),h.child;case 8:return qr(u,h,h.pendingProps.children,g),h.child;case 12:return qr(u,h,h.pendingProps.children,g),h.child;case 10:e:{if(w=h.type._context,C=h.pendingProps,M=h.memoizedProps,W=C.value,Jt(my,w._currentValue),w._currentValue=W,M!==null)if(ys(M.value,W)){if(M.children===C.children&&!ti.current){h=ao(u,h,g);break e}}else for(M=h.child,M!==null&&(M.return=h);M!==null;){var ee=M.dependencies;if(ee!==null){W=M.child;for(var ne=ee.firstContext;ne!==null;){if(ne.context===w){if(M.tag===1){ne=so(-1,g&-g),ne.tag=2;var pe=M.updateQueue;if(pe!==null){pe=pe.shared;var Ee=pe.pending;Ee===null?ne.next=ne:(ne.next=Ee.next,Ee.next=ne),pe.pending=ne}}M.lanes|=g,ne=M.alternate,ne!==null&&(ne.lanes|=g),Xw(M.return,g,h),ee.lanes|=g;break}ne=ne.next}}else if(M.tag===10)W=M.type===h.type?null:M.child;else if(M.tag===18){if(W=M.return,W===null)throw Error(n(341));W.lanes|=g,ee=W.alternate,ee!==null&&(ee.lanes|=g),Xw(W,g,h),W=M.sibling}else W=M.child;if(W!==null)W.return=M;else for(W=M;W!==null;){if(W===h){W=null;break}if(M=W.sibling,M!==null){M.return=W.return,W=M;break}W=W.return}M=W}qr(u,h,C.children,g),h=h.child}return h;case 9:return C=h.type,w=h.pendingProps.children,kd(h,g),C=Gi(C),w=w(C),h.flags|=1,qr(u,h,w,g),h.child;case 14:return w=h.type,C=xs(w,h.pendingProps),C=xs(w.type,C),pj(u,h,w,C,g);case 15:return gj(u,h,h.type,h.pendingProps,g);case 17:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:xs(w,C),Ty(u,h),h.tag=1,ni(w)?(u=!0,ly(h)):u=!1,kd(h,g),oj(h,w,C),d1(h,w,C,g),p1(null,h,w,!0,u,g);case 19:return Sj(u,h,g);case 22:return yj(u,h,g)}throw Error(n(156,h.tag))};function Gj(u,h){return Ih(u,h)}function vK(u,h,g,w){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(u,h,g,w){return new vK(u,h,g,w)}function O1(u){return u=u.prototype,!(!u||!u.isReactComponent)}function xK(u){if(typeof u=="function")return O1(u)?1:0;if(u!=null){if(u=u.$$typeof,u===F)return 11;if(u===Z)return 14}return 2}function gl(u,h){var g=u.alternate;return g===null?(g=Qi(u.tag,h,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=h,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&14680064,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,h=u.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function Ly(u,h,g,w,C,M){var W=2;if(w=u,typeof u=="function")O1(u)&&(W=1);else if(typeof u=="string")W=5;else e:switch(u){case N:return Uc(g.children,C,M,h);case T:W=8,C|=8;break;case I:return u=Qi(12,g,h,C|2),u.elementType=I,u.lanes=M,u;case V:return u=Qi(13,g,h,C),u.elementType=V,u.lanes=M,u;case $:return u=Qi(19,g,h,C),u.elementType=$,u.lanes=M,u;case B:return Vy(g,C,M,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case j:W=10;break e;case D:W=9;break e;case F:W=11;break e;case Z:W=14;break e;case J:W=16,w=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return h=Qi(W,g,h,C),h.elementType=u,h.type=w,h.lanes=M,h}function Uc(u,h,g,w){return u=Qi(7,u,w,h),u.lanes=g,u}function Vy(u,h,g,w){return u=Qi(22,u,w,h),u.elementType=B,u.lanes=g,u.stateNode={isHidden:!1},u}function M1(u,h,g){return u=Qi(6,u,null,h),u.lanes=g,u}function L1(u,h,g){return h=Qi(4,u.children!==null?u.children:[],u.key,h),h.lanes=g,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function bK(u,h,g,w,C){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oh(0),this.expirationTimes=Oh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oh(0),this.identifierPrefix=w,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function V1(u,h,g,w,C,M,W,ee,ne){return u=new bK(u,h,g,ee,ne),h===1?(h=1,M===!0&&(h|=8)):h=0,M=Qi(3,null,null,h),u.current=M,M.stateNode=u,M.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qw(M),u}function wK(u,h,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:A,key:w==null?null:""+w,children:u,containerInfo:h,implementation:g}}function Xj(u){if(!u)return ol;u=u._reactInternals;e:{if(ps(u)!==u||u.tag!==1)throw Error(n(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ni(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(u.tag===1){var g=u.type;if(ni(g))return E2(u,g,h)}return h}function Yj(u,h,g,w,C,M,W,ee,ne){return u=V1(g,w,!0,u,C,M,W,ee,ne),u.context=Xj(null),g=u.current,w=Hr(),C=ml(g),M=so(w,C),M.callback=h??null,ul(g,M,C),u.current.lanes=C,Tc(u,C,w),si(u,w),u}function Fy(u,h,g,w){var C=h.current,M=Hr(),W=ml(C);return g=Xj(g),h.context===null?h.context=g:h.pendingContext=g,h=so(M,W),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=ul(C,h,W),u!==null&&(_s(u,C,W,M),gy(u,C,W)),W}function By(u){return u=u.current,u.child?(u.child.tag===5,u.child.stateNode):null}function Qj(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<h?g:h}}function F1(u,h){Qj(u,h),(u=u.alternate)&&Qj(u,h)}function _K(){return null}var Jj=typeof reportError=="function"?reportError:function(u){console.error(u)};function B1(u){this._internalRoot=u}zy.prototype.render=B1.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));Fy(u,h,null,null)},zy.prototype.unmount=B1.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;Fc(function(){Fy(null,u,null,null)}),h[eo]=null}};function zy(u){this._internalRoot=u}zy.prototype.unstable_scheduleHydration=function(u){if(u){var h=Fh();u={blockedOn:null,target:u,priority:h};for(var g=0;g<Ci.length&&h!==0&&h<Ci[g].priority;g++);Ci.splice(g,0,u),g===0&&ud(u)}};function z1(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Uy(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function Zj(){}function EK(u,h,g,w,C){if(C){if(typeof w=="function"){var M=w;w=function(){var pe=By(W);M.call(pe)}}var W=Yj(h,w,u,0,null,!1,!1,"",Zj);return u._reactRootContainer=W,u[eo]=W.current,Qh(u.nodeType===8?u.parentNode:u),Fc(),W}for(;C=u.lastChild;)u.removeChild(C);if(typeof w=="function"){var ee=w;w=function(){var pe=By(ne);ee.call(pe)}}var ne=V1(u,0,!1,null,null,!1,!1,"",Zj);return u._reactRootContainer=ne,u[eo]=ne.current,Qh(u.nodeType===8?u.parentNode:u),Fc(function(){Fy(h,ne,g,w)}),ne}function $y(u,h,g,w,C){var M=g._reactRootContainer;if(M){var W=M;if(typeof C=="function"){var ee=C;C=function(){var ne=By(W);ee.call(ne)}}Fy(h,W,u,C)}else W=EK(g,h,u,C,w);return By(W)}Lh=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var g=Lt(h.pendingLanes);g!==0&&(Mh(h,g|1),si(h,rn()),(It&6)===0&&(Ld=rn()+500,ll()))}break;case 13:Fc(function(){var w=io(u,1);if(w!==null){var C=Hr();_s(w,u,1,C)}}),F1(u,1)}},ld=function(u){if(u.tag===13){var h=io(u,134217728);if(h!==null){var g=Hr();_s(h,u,134217728,g)}F1(u,134217728)}},Vh=function(u){if(u.tag===13){var h=ml(u),g=io(u,h);if(g!==null){var w=Hr();_s(g,u,h,w)}F1(u,h)}},Fh=function(){return Nt},Bh=function(u,h){var g=Nt;try{return Nt=u,h()}finally{Nt=g}},$i=function(u,h,g){switch(h){case"input":if(Fe(u,g),h=g.name,g.type==="radio"&&h!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<g.length;h++){var w=g[h];if(w!==u&&w.form===u.form){var C=ay(w);if(!C)throw Error(n(90));me(w),Fe(w,C)}}}break;case"textarea":Ke(u,g);break;case"select":h=g.value,h!=null&&Ne(u,!!g.multiple,h,!1)}},Pt=k1,Bt=Fc;var SK={usingClientEntryPoint:!1,Events:[em,Sd,ay,Gs,Ze,k1]},mm={findFiberByHostInstance:jc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NK={bundleType:mm.bundleType,version:mm.version,rendererPackageName:mm.rendererPackageName,rendererConfig:mm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Ug(u),u===null?null:u.stateNode},findFiberByHostInstance:mm.findFiberByHostInstance||_K,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qy.isDisabled&&qy.supportsFiber)try{_c=qy.inject(NK),Ni=qy}catch{}}return ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SK,ai.createPortal=function(u,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z1(h))throw Error(n(200));return wK(u,h,null,g)},ai.createRoot=function(u,h){if(!z1(u))throw Error(n(299));var g=!1,w="",C=Jj;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(C=h.onRecoverableError)),h=V1(u,1,!1,null,null,g,!1,w,C),u[eo]=h.current,Qh(u.nodeType===8?u.parentNode:u),new B1(h)},ai.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Ug(h),u=u===null?null:u.stateNode,u},ai.flushSync=function(u){return Fc(u)},ai.hydrate=function(u,h,g){if(!Uy(h))throw Error(n(200));return $y(null,u,h,!0,g)},ai.hydrateRoot=function(u,h,g){if(!z1(u))throw Error(n(405));var w=g!=null&&g.hydratedSources||null,C=!1,M="",W=Jj;if(g!=null&&(g.unstable_strictMode===!0&&(C=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onRecoverableError!==void 0&&(W=g.onRecoverableError)),h=Yj(h,null,u,1,g??null,C,!1,M,W),u[eo]=h.current,Qh(u),w)for(u=0;u<w.length;u++)g=w[u],C=g._getVersion,C=C(g._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[g,C]:h.mutableSourceEagerHydrationData.push(g,C);return new zy(h)},ai.render=function(u,h,g){if(!Uy(h))throw Error(n(200));return $y(null,u,h,!1,g)},ai.unmountComponentAtNode=function(u){if(!Uy(u))throw Error(n(40));return u._reactRootContainer?(Fc(function(){$y(null,null,u,!1,function(){u._reactRootContainer=null,u[eo]=null})}),!0):!1},ai.unstable_batchedUpdates=k1,ai.unstable_renderSubtreeIntoContainer=function(u,h,g,w){if(!Uy(g))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return $y(u,h,g,!1,w)},ai.version="18.3.1-next-f1338f8080-20240426",ai}var ok;function OV(){if(ok)return q1.exports;ok=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),q1.exports=OK(),q1.exports}var lk;function MK(){if(lk)return Wy;lk=1;var t=OV();return Wy.createRoot=t.createRoot,Wy.hydrateRoot=t.hydrateRoot,Wy}var LK=MK();const VK=vi(LK);function ck({onNavigate:t}){const e=()=>{console.log(" Boto de Login clicado no Welcome"),t("login")},n=()=>{console.log(" Boto de Criar Conta clicado no Welcome"),t("signup")},[r,i]=E.useState(!1),s=E.useRef(null);return E.useEffect(()=>{s.current&&s.current.play().then(()=>{i(!0)}).catch(a=>{console.error("Autoplay failed:",a)})},[]),l.jsxs("div",{className:"bg-black text-white overflow-hidden relative w-full h-screen",children:[l.jsx("div",{className:"fixed top-0 left-0 w-full h-full z-0 pointer-events-none bg-black",style:{}}),l.jsx("div",{className:`fixed top-0 left-0 w-full h-full z-0 overflow-hidden transition-opacity duration-1000 ${r?"opacity-100":"opacity-0"}`,children:l.jsx("video",{ref:s,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,"webkit-playsinline":"true",preload:"auto",controls:!1,onPlay:()=>i(!0),className:"w-full h-full object-cover",style:{filter:"brightness(0.6) contrast(1.1)"},children:l.jsx("source",{src:"/assets/videos/entrada.mp4",type:"video/mp4"})})}),l.jsx("div",{className:"fixed top-0 left-0 w-full h-full z-10 pointer-events-none opacity-0 animate-fadeIn",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0) 40%, rgba(0,0,0,0.8) 100%)",animationDelay:"0.2s"}}),l.jsxs("main",{className:"relative z-20 h-screen flex flex-col justify-between px-6 pb-12 pt-20",children:[l.jsxs("div",{className:"flex flex-col items-center text-center pt-[env(safe-area-inset-top)] opacity-0 animate-scaleIn",style:{animationDelay:"0.4s"},children:[l.jsxs("div",{className:"relative inline-block",children:[l.jsx("div",{className:"absolute inset-0 blur-3xl opacity-60",style:{background:"radial-gradient(circle, rgba(0, 212, 255, 0.4) 0%, rgba(123, 47, 247, 0.3) 50%, transparent 70%)"}}),l.jsx("h1",{className:"text-3xl font-black relative nexcoin-logo-text",children:"NexCoin"}),l.jsx("div",{className:"h-[2px] w-24 mx-auto mt-3 rounded-full",style:{background:"linear-gradient(90deg, transparent, #00d4ff, #7b2ff7, transparent)",boxShadow:"0 0 10px rgba(0, 212, 255, 0.8)"}})]}),l.jsx("p",{className:"mt-4 text-white/70 font-medium tracking-wide uppercase text-[10px]",children:"Future of Finance"})]}),l.jsx("div",{className:"flex-grow"}),l.jsxs("div",{className:"w-full max-w-sm mx-auto flex flex-col gap-3 items-center pb-[env(safe-area-inset-bottom)]",children:[l.jsx("button",{onClick:n,className:"w-full bg-white text-black font-bold py-3.5 px-6 rounded-full shadow-lg active:scale-[0.98] transition-all duration-200 text-base opacity-0 animate-slideUp",style:{animationDelay:"0.6s"},children:"Create Account"}),l.jsx("button",{onClick:e,className:"w-full py-3 text-white font-semibold active:opacity-60 transition-opacity duration-200 text-base bg-white/10 rounded-full opacity-0 animate-slideUp",style:{animationDelay:"0.8s"},children:"Login"}),l.jsx("p",{className:"text-[10px] text-white/40 text-center mt-1 px-8 opacity-0 animate-fadeIn",style:{animationDelay:"1s"},children:"By signing up, you agree to our Terms of Service and Privacy Policy."})]})]})]})}const FK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MV=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var BK={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zK=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},c)=>E.createElement("svg",{ref:c,...BK,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:MV("lucide",i),...o},[...a.map(([d,f])=>E.createElement(d,f)),...Array.isArray(s)?s:[s]]));const We=(t,e)=>{const n=E.forwardRef(({className:r,...i},s)=>E.createElement(zK,{ref:s,iconNode:e,className:MV(`lucide-${FK(t)}`,r),...i}));return n.displayName=`${t}`,n};const Iv=We("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const LV=We("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);const UK=We("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);const sC=We("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const jv=We("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const vt=We("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const $K=We("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const YS=We("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const aC=We("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const Km=We("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const vl=We("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const An=We("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Pa=We("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Fx=We("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const Eo=We("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const zl=We("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const qK=We("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Bx=We("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const VV=We("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const dp=We("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const uk=We("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const vn=We("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const HK=We("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const WK=We("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const FV=We("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const mf=We("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const fu=We("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const BV=We("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const dk=We("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const o0=We("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const KK=We("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const GK=We("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);const l0=We("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const XK=We("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);const Ml=We("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const YK=We("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Nf=We("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const QK=We("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const JK=We("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);const ZK=We("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const eG=We("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const fk=We("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const wu=We("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const tG=We("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const nG=We("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const zV=We("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Gl=We("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const rG=We("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const iG=We("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const sG=We("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const UV=We("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const Tf=We("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const ts=We("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const K1=We("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const ho=We("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const _u=We("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const is=We("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const QS=We("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const hk=We("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const oC=We("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const $V=We("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);const gi=We("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),aG=()=>{};var mk={};const qV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},oG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},HV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=s>>2,m=(s&3)<<4|o>>4;let p=(o&15)<<2|d>>6,y=d&63;c||(y=64,a||(p=64)),r.push(n[f],n[m],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):oG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||d==null||m==null)throw new lG;const p=s<<2|o>>4;if(r.push(p),d!==64){const y=o<<4&240|d>>2;if(r.push(y),m!==64){const x=d<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class lG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cG=function(t){const e=qV(t);return HV.encodeByteArray(e,!0)},c0=function(t){return cG(t).replace(/\./g,"")},WV=function(t){try{return HV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function KV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uG=()=>KV().__FIREBASE_DEFAULTS__,dG=()=>{if(typeof process>"u"||typeof mk>"u")return;const t=mk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&WV(t[1]);return e&&JSON.parse(e)},zx=()=>{try{return aG()||uG()||dG()||fG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GV=t=>zx()?.emulatorHosts?.[t],XV=t=>{const e=GV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YV=()=>zx()?.config,QV=t=>zx()?.[`_${t}`];class hG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function lc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Ux(t){return(await fetch(t,{credentials:"include"})).ok}function JV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[c0(JSON.stringify(n)),c0(JSON.stringify(a)),""].join(".")}const Gm={};function mG(){const t={prod:[],emulator:[]};for(const e of Object.keys(Gm))Gm[e]?t.emulator.push(e):t.prod.push(e);return t}function pG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let pk=!1;function lC(t,e){if(typeof window>"u"||typeof document>"u"||!lc(window.location.host)||Gm[t]===e||Gm[t]||pk)return;Gm[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=mG().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function o(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{pk=!0,a()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=pG(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),b=n("learnmore"),_=document.getElementById(b)||document.createElement("a"),S=n("preprendIcon"),O=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const R=p.element;o(R),f(_,b);const z=d();c(O,S),R.append(O,x,_,z),document.body.appendChild(R)}s?(x.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function ZV(){const t=zx()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bG(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eF(){return!ZV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tF(){return!ZV()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function nF(){try{return typeof indexedDB=="object"}catch{return!1}}function wG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const _G="FirebaseError";class Ua extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_G,Object.setPrototypeOf(this,Ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xp.prototype.create)}}class Xp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?EG(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ua(i,o,r)}}function EG(t,e){return t.replace(SG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const SG=/\{\$([^}]+)}/g;function NG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(gk(s)&&gk(a)){if(!Fs(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gk(t){return t!==null&&typeof t=="object"}function Yp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Lm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Vm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function TG(t,e){const n=new CG(t,e);return n.subscribe.bind(n)}class CG{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");AG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=G1),i.error===void 0&&(i.error=G1),i.complete===void 0&&(i.complete=G1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function G1(){}function kt(t){return t&&t._delegate?t._delegate:t}class Xl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Kc="[DEFAULT]";let PG=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jG(e))try{this.getOrInitializeService({instanceIdentifier:Kc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Kc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kc){return this.instances.has(e)}getOptions(e=Kc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kc){return this.component?this.component.multipleInstances?e:Kc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function IG(t){return t===Kc?void 0:t}function jG(t){return t.instantiationMode==="EAGER"}class kG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var _t;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_t||(_t={}));const RG={debug:_t.DEBUG,verbose:_t.VERBOSE,info:_t.INFO,warn:_t.WARN,error:_t.ERROR,silent:_t.SILENT},DG=_t.INFO,OG={[_t.DEBUG]:"log",[_t.VERBOSE]:"log",[_t.INFO]:"info",[_t.WARN]:"warn",[_t.ERROR]:"error"},MG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=OG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cC{constructor(e){this.name=e,this._logLevel=DG,this._logHandler=MG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _t))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_t.DEBUG,...e),this._logHandler(this,_t.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_t.VERBOSE,...e),this._logHandler(this,_t.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_t.INFO,...e),this._logHandler(this,_t.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_t.WARN,...e),this._logHandler(this,_t.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_t.ERROR,...e),this._logHandler(this,_t.ERROR,...e)}}const LG=(t,e)=>e.some(n=>t instanceof n);let yk,vk;function VG(){return yk||(yk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FG(){return vk||(vk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rF=new WeakMap,JS=new WeakMap,iF=new WeakMap,X1=new WeakMap,uC=new WeakMap;function BG(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ul(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&rF.set(n,t)}).catch(()=>{}),uC.set(e,t),e}function zG(t){if(JS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});JS.set(t,e)}let ZS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return JS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ul(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UG(t){ZS=t(ZS)}function $G(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Y1(this),e,...n);return iF.set(r,e.sort?e.sort():[e]),Ul(r)}:FG().includes(t)?function(...e){return t.apply(Y1(this),e),Ul(rF.get(this))}:function(...e){return Ul(t.apply(Y1(this),e))}}function qG(t){return typeof t=="function"?$G(t):(t instanceof IDBTransaction&&zG(t),LG(t,VG())?new Proxy(t,ZS):t)}function Ul(t){if(t instanceof IDBRequest)return BG(t);if(X1.has(t))return X1.get(t);const e=qG(t);return e!==t&&(X1.set(t,e),uC.set(e,t)),e}const Y1=t=>uC.get(t);function HG(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Ul(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ul(a.result),c.oldVersion,c.newVersion,Ul(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}const WG=["get","getKey","getAll","getAllKeys","count"],KG=["put","add","delete","clear"],Q1=new Map;function xk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Q1.get(e))return Q1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=KG.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WG.includes(n)))return;const s=async function(a,...o){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(o.shift())),(await Promise.all([d[n](...o),i&&c.done]))[0]};return Q1.set(e,s),s}UG(t=>({...t,get:(e,n,r)=>xk(e,n)||t.get(e,n,r),has:(e,n)=>!!xk(e,n)||t.has(e,n)}));class GG{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XG(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XG(t){return t.getComponent()?.type==="VERSION"}const eN="@firebase/app",bk="0.14.8";const So=new cC("@firebase/app"),YG="@firebase/app-compat",QG="@firebase/analytics-compat",JG="@firebase/analytics",ZG="@firebase/app-check-compat",eX="@firebase/app-check",tX="@firebase/auth",nX="@firebase/auth-compat",rX="@firebase/database",iX="@firebase/data-connect",sX="@firebase/database-compat",aX="@firebase/functions",oX="@firebase/functions-compat",lX="@firebase/installations",cX="@firebase/installations-compat",uX="@firebase/messaging",dX="@firebase/messaging-compat",fX="@firebase/performance",hX="@firebase/performance-compat",mX="@firebase/remote-config",pX="@firebase/remote-config-compat",gX="@firebase/storage",yX="@firebase/storage-compat",vX="@firebase/firestore",xX="@firebase/ai",bX="@firebase/firestore-compat",wX="firebase",_X="12.9.0";const u0="[DEFAULT]",EX={[eN]:"fire-core",[YG]:"fire-core-compat",[JG]:"fire-analytics",[QG]:"fire-analytics-compat",[eX]:"fire-app-check",[ZG]:"fire-app-check-compat",[tX]:"fire-auth",[nX]:"fire-auth-compat",[rX]:"fire-rtdb",[iX]:"fire-data-connect",[sX]:"fire-rtdb-compat",[aX]:"fire-fn",[oX]:"fire-fn-compat",[lX]:"fire-iid",[cX]:"fire-iid-compat",[uX]:"fire-fcm",[dX]:"fire-fcm-compat",[fX]:"fire-perf",[hX]:"fire-perf-compat",[mX]:"fire-rc",[pX]:"fire-rc-compat",[gX]:"fire-gcs",[yX]:"fire-gcs-compat",[vX]:"fire-fst",[bX]:"fire-fst-compat",[xX]:"fire-vertex","fire-js":"fire-js",[wX]:"fire-js-all"};const fp=new Map,SX=new Map,tN=new Map;function wk(t,e){try{t.container.addComponent(e)}catch(n){So.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Eu(t){const e=t.name;if(tN.has(e))return So.debug(`There were multiple attempts to register component ${e}.`),!1;tN.set(e,t);for(const n of fp.values())wk(n,t);for(const n of SX.values())wk(n,t);return!0}function rh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function NX(t,e,n=u0){rh(t,e).clearInstance(n)}function li(t){return t==null?!1:t.settings!==void 0}const TX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$l=new Xp("app","Firebase",TX);class CX{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $l.create("app-deleted",{appName:this._name})}}const qu=_X;function sF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:u0,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw $l.create("bad-app-name",{appName:String(i)});if(n||(n=YV()),!n)throw $l.create("no-options");const s=fp.get(i);if(s){if(Fs(n,s.options)&&Fs(r,s.config))return s;throw $l.create("duplicate-app",{appName:i})}const a=new kG(i);for(const c of tN.values())a.addComponent(c);const o=new CX(n,r,a);return fp.set(i,o),o}function dC(t=u0){const e=fp.get(t);if(!e&&t===u0&&YV())return sF();if(!e)throw $l.create("no-app",{appName:t});return e}function _k(){return Array.from(fp.values())}function Ia(t,e,n){let r=EX[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),So.warn(a.join(" "));return}Eu(new Xl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const AX="firebase-heartbeat-database",PX=1,hp="firebase-heartbeat-store";let J1=null;function aF(){return J1||(J1=HG(AX,PX,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hp)}catch(n){console.warn(n)}}}}).catch(t=>{throw $l.create("idb-open",{originalErrorMessage:t.message})})),J1}async function IX(t){try{const n=(await aF()).transaction(hp),r=await n.objectStore(hp).get(oF(t));return await n.done,r}catch(e){if(e instanceof Ua)So.warn(e.message);else{const n=$l.create("idb-get",{originalErrorMessage:e?.message});So.warn(n.message)}}}async function Ek(t,e){try{const r=(await aF()).transaction(hp,"readwrite");await r.objectStore(hp).put(e,oF(t)),await r.done}catch(n){if(n instanceof Ua)So.warn(n.message);else{const r=$l.create("idb-set",{originalErrorMessage:n?.message});So.warn(r.message)}}}function oF(t){return`${t.name}!${t.options.appId}`}const jX=1024,kX=30;class RX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sk();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>kX){const i=MX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){So.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sk(),{heartbeatsToSend:n,unsentEntries:r}=DX(this._heartbeatsCache.heartbeats),i=c0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return So.warn(e),""}}}function Sk(){return new Date().toISOString().substring(0,10)}function DX(t,e=jX){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Nk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Nk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nF()?wG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IX(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ek(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ek(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Nk(t){return c0(JSON.stringify({version:2,heartbeats:t})).length}function MX(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function LX(t){Eu(new Xl("platform-logger",e=>new GG(e),"PRIVATE")),Eu(new Xl("heartbeat",e=>new RX(e),"PRIVATE")),Ia(eN,bk,t),Ia(eN,bk,"esm2020"),Ia("fire-js","")}LX("");var Tk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ql,lF;(function(){var t;function e(N,T){function I(){}I.prototype=T.prototype,N.F=T.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(j,D,F){for(var V=Array(arguments.length-2),$=2;$<arguments.length;$++)V[$-2]=arguments[$];return T.prototype[D].apply(j,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,T,I){I||(I=0);const j=Array(16);if(typeof T=="string")for(var D=0;D<16;++D)j[D]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(D=0;D<16;++D)j[D]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=N.g[0],I=N.g[1],D=N.g[2];let F=N.g[3],V;V=T+(F^I&(D^F))+j[0]+3614090360&4294967295,T=I+(V<<7&4294967295|V>>>25),V=F+(D^T&(I^D))+j[1]+3905402710&4294967295,F=T+(V<<12&4294967295|V>>>20),V=D+(I^F&(T^I))+j[2]+606105819&4294967295,D=F+(V<<17&4294967295|V>>>15),V=I+(T^D&(F^T))+j[3]+3250441966&4294967295,I=D+(V<<22&4294967295|V>>>10),V=T+(F^I&(D^F))+j[4]+4118548399&4294967295,T=I+(V<<7&4294967295|V>>>25),V=F+(D^T&(I^D))+j[5]+1200080426&4294967295,F=T+(V<<12&4294967295|V>>>20),V=D+(I^F&(T^I))+j[6]+2821735955&4294967295,D=F+(V<<17&4294967295|V>>>15),V=I+(T^D&(F^T))+j[7]+4249261313&4294967295,I=D+(V<<22&4294967295|V>>>10),V=T+(F^I&(D^F))+j[8]+1770035416&4294967295,T=I+(V<<7&4294967295|V>>>25),V=F+(D^T&(I^D))+j[9]+2336552879&4294967295,F=T+(V<<12&4294967295|V>>>20),V=D+(I^F&(T^I))+j[10]+4294925233&4294967295,D=F+(V<<17&4294967295|V>>>15),V=I+(T^D&(F^T))+j[11]+2304563134&4294967295,I=D+(V<<22&4294967295|V>>>10),V=T+(F^I&(D^F))+j[12]+1804603682&4294967295,T=I+(V<<7&4294967295|V>>>25),V=F+(D^T&(I^D))+j[13]+4254626195&4294967295,F=T+(V<<12&4294967295|V>>>20),V=D+(I^F&(T^I))+j[14]+2792965006&4294967295,D=F+(V<<17&4294967295|V>>>15),V=I+(T^D&(F^T))+j[15]+1236535329&4294967295,I=D+(V<<22&4294967295|V>>>10),V=T+(D^F&(I^D))+j[1]+4129170786&4294967295,T=I+(V<<5&4294967295|V>>>27),V=F+(I^D&(T^I))+j[6]+3225465664&4294967295,F=T+(V<<9&4294967295|V>>>23),V=D+(T^I&(F^T))+j[11]+643717713&4294967295,D=F+(V<<14&4294967295|V>>>18),V=I+(F^T&(D^F))+j[0]+3921069994&4294967295,I=D+(V<<20&4294967295|V>>>12),V=T+(D^F&(I^D))+j[5]+3593408605&4294967295,T=I+(V<<5&4294967295|V>>>27),V=F+(I^D&(T^I))+j[10]+38016083&4294967295,F=T+(V<<9&4294967295|V>>>23),V=D+(T^I&(F^T))+j[15]+3634488961&4294967295,D=F+(V<<14&4294967295|V>>>18),V=I+(F^T&(D^F))+j[4]+3889429448&4294967295,I=D+(V<<20&4294967295|V>>>12),V=T+(D^F&(I^D))+j[9]+568446438&4294967295,T=I+(V<<5&4294967295|V>>>27),V=F+(I^D&(T^I))+j[14]+3275163606&4294967295,F=T+(V<<9&4294967295|V>>>23),V=D+(T^I&(F^T))+j[3]+4107603335&4294967295,D=F+(V<<14&4294967295|V>>>18),V=I+(F^T&(D^F))+j[8]+1163531501&4294967295,I=D+(V<<20&4294967295|V>>>12),V=T+(D^F&(I^D))+j[13]+2850285829&4294967295,T=I+(V<<5&4294967295|V>>>27),V=F+(I^D&(T^I))+j[2]+4243563512&4294967295,F=T+(V<<9&4294967295|V>>>23),V=D+(T^I&(F^T))+j[7]+1735328473&4294967295,D=F+(V<<14&4294967295|V>>>18),V=I+(F^T&(D^F))+j[12]+2368359562&4294967295,I=D+(V<<20&4294967295|V>>>12),V=T+(I^D^F)+j[5]+4294588738&4294967295,T=I+(V<<4&4294967295|V>>>28),V=F+(T^I^D)+j[8]+2272392833&4294967295,F=T+(V<<11&4294967295|V>>>21),V=D+(F^T^I)+j[11]+1839030562&4294967295,D=F+(V<<16&4294967295|V>>>16),V=I+(D^F^T)+j[14]+4259657740&4294967295,I=D+(V<<23&4294967295|V>>>9),V=T+(I^D^F)+j[1]+2763975236&4294967295,T=I+(V<<4&4294967295|V>>>28),V=F+(T^I^D)+j[4]+1272893353&4294967295,F=T+(V<<11&4294967295|V>>>21),V=D+(F^T^I)+j[7]+4139469664&4294967295,D=F+(V<<16&4294967295|V>>>16),V=I+(D^F^T)+j[10]+3200236656&4294967295,I=D+(V<<23&4294967295|V>>>9),V=T+(I^D^F)+j[13]+681279174&4294967295,T=I+(V<<4&4294967295|V>>>28),V=F+(T^I^D)+j[0]+3936430074&4294967295,F=T+(V<<11&4294967295|V>>>21),V=D+(F^T^I)+j[3]+3572445317&4294967295,D=F+(V<<16&4294967295|V>>>16),V=I+(D^F^T)+j[6]+76029189&4294967295,I=D+(V<<23&4294967295|V>>>9),V=T+(I^D^F)+j[9]+3654602809&4294967295,T=I+(V<<4&4294967295|V>>>28),V=F+(T^I^D)+j[12]+3873151461&4294967295,F=T+(V<<11&4294967295|V>>>21),V=D+(F^T^I)+j[15]+530742520&4294967295,D=F+(V<<16&4294967295|V>>>16),V=I+(D^F^T)+j[2]+3299628645&4294967295,I=D+(V<<23&4294967295|V>>>9),V=T+(D^(I|~F))+j[0]+4096336452&4294967295,T=I+(V<<6&4294967295|V>>>26),V=F+(I^(T|~D))+j[7]+1126891415&4294967295,F=T+(V<<10&4294967295|V>>>22),V=D+(T^(F|~I))+j[14]+2878612391&4294967295,D=F+(V<<15&4294967295|V>>>17),V=I+(F^(D|~T))+j[5]+4237533241&4294967295,I=D+(V<<21&4294967295|V>>>11),V=T+(D^(I|~F))+j[12]+1700485571&4294967295,T=I+(V<<6&4294967295|V>>>26),V=F+(I^(T|~D))+j[3]+2399980690&4294967295,F=T+(V<<10&4294967295|V>>>22),V=D+(T^(F|~I))+j[10]+4293915773&4294967295,D=F+(V<<15&4294967295|V>>>17),V=I+(F^(D|~T))+j[1]+2240044497&4294967295,I=D+(V<<21&4294967295|V>>>11),V=T+(D^(I|~F))+j[8]+1873313359&4294967295,T=I+(V<<6&4294967295|V>>>26),V=F+(I^(T|~D))+j[15]+4264355552&4294967295,F=T+(V<<10&4294967295|V>>>22),V=D+(T^(F|~I))+j[6]+2734768916&4294967295,D=F+(V<<15&4294967295|V>>>17),V=I+(F^(D|~T))+j[13]+1309151649&4294967295,I=D+(V<<21&4294967295|V>>>11),V=T+(D^(I|~F))+j[4]+4149444226&4294967295,T=I+(V<<6&4294967295|V>>>26),V=F+(I^(T|~D))+j[11]+3174756917&4294967295,F=T+(V<<10&4294967295|V>>>22),V=D+(T^(F|~I))+j[2]+718787259&4294967295,D=F+(V<<15&4294967295|V>>>17),V=I+(F^(D|~T))+j[9]+3951481745&4294967295,N.g[0]=N.g[0]+T&4294967295,N.g[1]=N.g[1]+(D+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+F&4294967295}r.prototype.v=function(N,T){T===void 0&&(T=N.length);const I=T-this.blockSize,j=this.C;let D=this.h,F=0;for(;F<T;){if(D==0)for(;F<=I;)i(this,N,F),F+=this.blockSize;if(typeof N=="string"){for(;F<T;)if(j[D++]=N.charCodeAt(F++),D==this.blockSize){i(this,j),D=0;break}}else for(;F<T;)if(j[D++]=N[F++],D==this.blockSize){i(this,j),D=0;break}}this.h=D,this.o+=T},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var T=1;T<N.length-8;++T)N[T]=0;T=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=T&255,T/=256;for(this.v(N),N=Array(16),T=0,I=0;I<4;++I)for(let j=0;j<32;j+=8)N[T++]=this.g[I]>>>j&255;return N};function s(N,T){var I=o;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=T(N)}function a(N,T){this.h=T;const I=[];let j=!0;for(let D=N.length-1;D>=0;D--){const F=N[D]|0;j&&F==T||(I[D]=F,j=!1)}this.g=I}var o={};function c(N){return-128<=N&&N<128?s(N,function(T){return new a([T|0],T<0?-1:0)}):new a([N|0],N<0?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return m;if(N<0)return _(d(-N));const T=[];let I=1;for(let j=0;N>=I;j++)T[j]=N/I|0,I*=4294967296;return new a(T,0)}function f(N,T){if(N.length==0)throw Error("number format error: empty string");if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(N.charAt(0)=="-")return _(f(N.substring(1),T));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=d(Math.pow(T,8));let j=m;for(let F=0;F<N.length;F+=8){var D=Math.min(8,N.length-F);const V=parseInt(N.substring(F,F+D),T);D<8?(D=d(Math.pow(T,D)),j=j.j(D).add(d(V))):(j=j.j(I),j=j.add(d(V)))}return j}var m=c(0),p=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(b(this))return-_(this).m();let N=0,T=1;for(let I=0;I<this.g.length;I++){const j=this.i(I);N+=(j>=0?j:4294967296+j)*T,T*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(x(this))return"0";if(b(this))return"-"+_(this).toString(N);const T=d(Math.pow(N,6));var I=this;let j="";for(;;){const D=z(I,T).g;I=S(I,D.j(T));let F=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,x(I))return F+j;for(;F.length<6;)F="0"+F;j=F+j}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function x(N){if(N.h!=0)return!1;for(let T=0;T<N.g.length;T++)if(N.g[T]!=0)return!1;return!0}function b(N){return N.h==-1}t.l=function(N){return N=S(this,N),b(N)?-1:x(N)?0:1};function _(N){const T=N.g.length,I=[];for(let j=0;j<T;j++)I[j]=~N.g[j];return new a(I,~N.h).add(p)}t.abs=function(){return b(this)?_(this):this},t.add=function(N){const T=Math.max(this.g.length,N.g.length),I=[];let j=0;for(let D=0;D<=T;D++){let F=j+(this.i(D)&65535)+(N.i(D)&65535),V=(F>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);j=V>>>16,F&=65535,V&=65535,I[D]=V<<16|F}return new a(I,I[I.length-1]&-2147483648?-1:0)};function S(N,T){return N.add(_(T))}t.j=function(N){if(x(this)||x(N))return m;if(b(this))return b(N)?_(this).j(_(N)):_(_(this).j(N));if(b(N))return _(this.j(_(N)));if(this.l(y)<0&&N.l(y)<0)return d(this.m()*N.m());const T=this.g.length+N.g.length,I=[];for(var j=0;j<2*T;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(let D=0;D<N.g.length;D++){const F=this.i(j)>>>16,V=this.i(j)&65535,$=N.i(D)>>>16,Z=N.i(D)&65535;I[2*j+2*D]+=V*Z,O(I,2*j+2*D),I[2*j+2*D+1]+=F*Z,O(I,2*j+2*D+1),I[2*j+2*D+1]+=V*$,O(I,2*j+2*D+1),I[2*j+2*D+2]+=F*$,O(I,2*j+2*D+2)}for(N=0;N<T;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=T;N<2*T;N++)I[N]=0;return new a(I,0)};function O(N,T){for(;(N[T]&65535)!=N[T];)N[T+1]+=N[T]>>>16,N[T]&=65535,T++}function R(N,T){this.g=N,this.h=T}function z(N,T){if(x(T))throw Error("division by zero");if(x(N))return new R(m,m);if(b(N))return T=z(_(N),T),new R(_(T.g),_(T.h));if(b(T))return T=z(N,_(T)),new R(_(T.g),T.h);if(N.g.length>30){if(b(N)||b(T))throw Error("slowDivide_ only works with positive integers.");for(var I=p,j=T;j.l(N)<=0;)I=P(I),j=P(j);var D=A(I,1),F=A(j,1);for(j=A(j,2),I=A(I,2);!x(j);){var V=F.add(j);V.l(N)<=0&&(D=D.add(I),F=V),j=A(j,1),I=A(I,1)}return T=S(N,D.j(T)),new R(D,T)}for(D=m;N.l(T)>=0;){for(I=Math.max(1,Math.floor(N.m()/T.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),F=d(I),V=F.j(T);b(V)||V.l(N)>0;)I-=j,F=d(I),V=F.j(T);x(F)&&(F=p),D=D.add(F),N=S(N,V)}return new R(D,N)}t.B=function(N){return z(this,N).h},t.and=function(N){const T=Math.max(this.g.length,N.g.length),I=[];for(let j=0;j<T;j++)I[j]=this.i(j)&N.i(j);return new a(I,this.h&N.h)},t.or=function(N){const T=Math.max(this.g.length,N.g.length),I=[];for(let j=0;j<T;j++)I[j]=this.i(j)|N.i(j);return new a(I,this.h|N.h)},t.xor=function(N){const T=Math.max(this.g.length,N.g.length),I=[];for(let j=0;j<T;j++)I[j]=this.i(j)^N.i(j);return new a(I,this.h^N.h)};function P(N){const T=N.g.length+1,I=[];for(let j=0;j<T;j++)I[j]=N.i(j)<<1|N.i(j-1)>>>31;return new a(I,N.h)}function A(N,T){const I=T>>5;T%=32;const j=N.g.length-I,D=[];for(let F=0;F<j;F++)D[F]=T>0?N.i(F+I)>>>T|N.i(F+I+1)<<32-T:N.i(F+I);return new a(D,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,lF=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,ql=a}).apply(typeof Tk<"u"?Tk:typeof self<"u"?self:typeof window<"u"?window:{});var Ky=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cF,Fm,uF,kv,nN,dF,fF,hF;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ky=="object"&&Ky];for(var L=0;L<v.length;++L){var q=v[L];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var r=n(this);function i(v,L){if(L)e:{var q=r;v=v.split(".");for(var Y=0;Y<v.length-1;Y++){var ue=v[Y];if(!(ue in q))break e;q=q[ue]}v=v[v.length-1],Y=q[v],L=L(Y),L!=Y&&L!=null&&e(q,v,{configurable:!0,writable:!0,value:L})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(L){var q=[],Y;for(Y in L)Object.prototype.hasOwnProperty.call(L,Y)&&q.push([Y,L[Y]]);return q}});var s=s||{},a=this||self;function o(v){var L=typeof v;return L=="object"&&v!=null||L=="function"}function c(v,L,q){return v.call.apply(v.bind,arguments)}function d(v,L,q){return d=c,d.apply(null,arguments)}function f(v,L){var q=Array.prototype.slice.call(arguments,1);return function(){var Y=q.slice();return Y.push.apply(Y,arguments),v.apply(this,Y)}}function m(v,L){function q(){}q.prototype=L.prototype,v.Z=L.prototype,v.prototype=new q,v.prototype.constructor=v,v.Ob=function(Y,ue,ge){for(var ke=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)ke[ht-2]=arguments[ht];return L.prototype[ue].apply(Y,ke)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function y(v){const L=v.length;if(L>0){const q=Array(L);for(let Y=0;Y<L;Y++)q[Y]=v[Y];return q}return[]}function x(v,L){for(let Y=1;Y<arguments.length;Y++){const ue=arguments[Y];var q=typeof ue;if(q=q!="object"?q:ue?Array.isArray(ue)?"array":q:"null",q=="array"||q=="object"&&typeof ue.length=="number"){q=v.length||0;const ge=ue.length||0;v.length=q+ge;for(let ke=0;ke<ge;ke++)v[q+ke]=ue[ke]}else v.push(ue)}}class b{constructor(L,q){this.i=L,this.j=q,this.h=0,this.g=null}get(){let L;return this.h>0?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function _(v){a.setTimeout(()=>{throw v},0)}function S(){var v=N;let L=null;return v.g&&(L=v.g,v.g=v.g.next,v.g||(v.h=null),L.next=null),L}class O{constructor(){this.h=this.g=null}add(L,q){const Y=R.get();Y.set(L,q),this.h?this.h.next=Y:this.g=Y,this.h=Y}}var R=new b(()=>new z,v=>v.reset());class z{constructor(){this.next=this.g=this.h=null}set(L,q){this.h=L,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let P,A=!1,N=new O,T=()=>{const v=Promise.resolve(void 0);P=()=>{v.then(I)}};function I(){for(var v;v=S();){try{v.h.call(v.g)}catch(q){_(q)}var L=R;L.j(v),L.h<100&&(L.h++,v.next=L.g,L.g=v)}A=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(v,L){this.type=v,this.g=this.target=L,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var v=!1,L=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const q=()=>{};a.addEventListener("test",q,L),a.removeEventListener("test",q,L)}catch{}return v})();function V(v){return/^[\s\xa0]*$/.test(v)}function $(v,L){D.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,L)}m($,D),$.prototype.init=function(v,L){const q=this.type=v.type,Y=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=L,L=v.relatedTarget,L||(q=="mouseover"?L=v.fromElement:q=="mouseout"&&(L=v.toElement)),this.relatedTarget=L,Y?(this.clientX=Y.clientX!==void 0?Y.clientX:Y.pageX,this.clientY=Y.clientY!==void 0?Y.clientY:Y.pageY,this.screenX=Y.screenX||0,this.screenY=Y.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Z="closure_listenable_"+(Math.random()*1e6|0),J=0;function B(v,L,q,Y,ue){this.listener=v,this.proxy=null,this.src=L,this.type=q,this.capture=!!Y,this.ha=ue,this.key=++J,this.da=this.fa=!1}function Q(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function H(v,L,q){for(const Y in v)L.call(q,v[Y],Y,v)}function k(v,L){for(const q in v)L.call(void 0,v[q],q,v)}function U(v){const L={};for(const q in v)L[q]=v[q];return L}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(v,L){let q,Y;for(let ue=1;ue<arguments.length;ue++){Y=arguments[ue];for(q in Y)v[q]=Y[q];for(let ge=0;ge<G.length;ge++)q=G[ge],Object.prototype.hasOwnProperty.call(Y,q)&&(v[q]=Y[q])}}function X(v){this.src=v,this.g={},this.h=0}X.prototype.add=function(v,L,q,Y,ue){const ge=v.toString();v=this.g[ge],v||(v=this.g[ge]=[],this.h++);const ke=ie(v,L,Y,ue);return ke>-1?(L=v[ke],q||(L.fa=!1)):(L=new B(L,this.src,ge,!!Y,ue),L.fa=q,v.push(L)),L};function te(v,L){const q=L.type;if(q in v.g){var Y=v.g[q],ue=Array.prototype.indexOf.call(Y,L,void 0),ge;(ge=ue>=0)&&Array.prototype.splice.call(Y,ue,1),ge&&(Q(L),v.g[q].length==0&&(delete v.g[q],v.h--))}}function ie(v,L,q,Y){for(let ue=0;ue<v.length;++ue){const ge=v[ue];if(!ge.da&&ge.listener==L&&ge.capture==!!q&&ge.ha==Y)return ue}return-1}var re="closure_lm_"+(Math.random()*1e6|0),xe={};function ae(v,L,q,Y,ue){if(Array.isArray(L)){for(let ge=0;ge<L.length;ge++)ae(v,L[ge],q,Y,ue);return null}return q=pt(q),v&&v[Z]?v.J(L,q,o(Y)?!!Y.capture:!1,ue):ve(v,L,q,!1,Y,ue)}function ve(v,L,q,Y,ue,ge){if(!L)throw Error("Invalid event type");const ke=o(ue)?!!ue.capture:!!ue;let ht=ot(v);if(ht||(v[re]=ht=new X(v)),q=ht.add(L,q,Y,ke,ge),q.proxy)return q;if(Y=Ce(),q.proxy=Y,Y.src=v,Y.listener=q,v.addEventListener)F||(ue=ke),ue===void 0&&(ue=!1),v.addEventListener(L.toString(),Y,ue);else if(v.attachEvent)v.attachEvent(De(L.toString()),Y);else if(v.addListener&&v.removeListener)v.addListener(Y);else throw Error("addEventListener and attachEvent are unavailable.");return q}function Ce(){function v(q){return L.call(v.src,v.listener,q)}const L=Je;return v}function me(v,L,q,Y,ue){if(Array.isArray(L))for(var ge=0;ge<L.length;ge++)me(v,L[ge],q,Y,ue);else Y=o(Y)?!!Y.capture:!!Y,q=pt(q),v&&v[Z]?(v=v.i,ge=String(L).toString(),ge in v.g&&(L=v.g[ge],q=ie(L,q,Y,ue),q>-1&&(Q(L[q]),Array.prototype.splice.call(L,q,1),L.length==0&&(delete v.g[ge],v.h--)))):v&&(v=ot(v))&&(L=v.g[L.toString()],v=-1,L&&(v=ie(L,q,Y,ue)),(q=v>-1?L[v]:null)&&Ie(q))}function Ie(v){if(typeof v!="number"&&v&&!v.da){var L=v.src;if(L&&L[Z])te(L.i,v);else{var q=v.type,Y=v.proxy;L.removeEventListener?L.removeEventListener(q,Y,v.capture):L.detachEvent?L.detachEvent(De(q),Y):L.addListener&&L.removeListener&&L.removeListener(Y),(q=ot(L))?(te(q,v),q.h==0&&(q.src=null,L[re]=null)):Q(v)}}}function De(v){return v in xe?xe[v]:xe[v]="on"+v}function Je(v,L){if(v.da)v=!0;else{L=new $(L,this);const q=v.listener,Y=v.ha||v.src;v.fa&&Ie(v),v=q.call(Y,L)}return v}function ot(v){return v=v[re],v instanceof X?v:null}var Fe="__closure_events_fn_"+(Math.random()*1e9>>>0);function pt(v){return typeof v=="function"?v:(v[Fe]||(v[Fe]=function(L){return v.handleEvent(L)}),v[Fe])}function ut(){j.call(this),this.i=new X(this),this.M=this,this.G=null}m(ut,j),ut.prototype[Z]=!0,ut.prototype.removeEventListener=function(v,L,q,Y){me(this,v,L,q,Y)};function oe(v,L){var q,Y=v.G;if(Y)for(q=[];Y;Y=Y.G)q.push(Y);if(v=v.M,Y=L.type||L,typeof L=="string")L=new D(L,v);else if(L instanceof D)L.target=L.target||v;else{var ue=L;L=new D(Y,v),K(L,ue)}ue=!0;let ge,ke;if(q)for(ke=q.length-1;ke>=0;ke--)ge=L.g=q[ke],ue=Ne(ge,Y,!0,L)&&ue;if(ge=L.g=v,ue=Ne(ge,Y,!0,L)&&ue,ue=Ne(ge,Y,!1,L)&&ue,q)for(ke=0;ke<q.length;ke++)ge=L.g=q[ke],ue=Ne(ge,Y,!1,L)&&ue}ut.prototype.N=function(){if(ut.Z.N.call(this),this.i){var v=this.i;for(const L in v.g){const q=v.g[L];for(let Y=0;Y<q.length;Y++)Q(q[Y]);delete v.g[L],v.h--}}this.G=null},ut.prototype.J=function(v,L,q,Y){return this.i.add(String(v),L,!1,q,Y)},ut.prototype.K=function(v,L,q,Y){return this.i.add(String(v),L,!0,q,Y)};function Ne(v,L,q,Y){if(L=v.i.g[String(L)],!L)return!0;L=L.concat();let ue=!0;for(let ge=0;ge<L.length;++ge){const ke=L[ge];if(ke&&!ke.da&&ke.capture==q){const ht=ke.listener,Pn=ke.ha||ke.src;ke.fa&&te(v.i,ke),ue=ht.call(Pn,Y)!==!1&&ue}}return ue&&!Y.defaultPrevented}function Xe(v,L){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=d(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(L)>2147483647?-1:a.setTimeout(v,L||0)}function de(v){v.g=Xe(()=>{v.g=null,v.i&&(v.i=!1,de(v))},v.l);const L=v.h;v.h=null,v.m.apply(null,L)}class Ke extends j{constructor(L,q){super(),this.m=L,this.l=q,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dt(v){j.call(this),this.h=v,this.g={}}m(dt,j);var nt=[];function rt(v){H(v.g,function(L,q){this.g.hasOwnProperty(q)&&Ie(L)},v),v.g={}}dt.prototype.N=function(){dt.Z.N.call(this),rt(this)},dt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rt=a.JSON.stringify,Yt=a.JSON.parse,pr=class{stringify(v){return a.JSON.stringify(v,void 0)}parse(v){return a.JSON.parse(v,void 0)}};function Rn(){}function Ws(){}var $r={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ei(){D.call(this,"d")}m(Ei,D);function Yo(){D.call(this,"c")}m(Yo,D);var Zn={},Qo=null;function Ks(){return Qo=Qo||new ut}Zn.Ia="serverreachability";function Ha(v){D.call(this,Zn.Ia,v)}m(Ha,D);function $i(v){const L=Ks();oe(L,new Ha(L))}Zn.STAT_EVENT="statevent";function ms(v,L){D.call(this,Zn.STAT_EVENT,v),this.stat=L}m(ms,D);function Qt(v){const L=Ks();oe(L,new ms(L,v))}Zn.Ja="timingevent";function ei(v,L){D.call(this,Zn.Ja,v),this.size=L}m(ei,D);function Gs(v,L){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){v()},L)}function Ze(){this.g=!0}Ze.prototype.ua=function(){this.g=!1};function Pt(v,L,q,Y,ue,ge){v.info(function(){if(v.g)if(ge){var ke="",ht=ge.split("&");for(let zt=0;zt<ht.length;zt++){var Pn=ht[zt].split("=");if(Pn.length>1){const On=Pn[0];Pn=Pn[1];const Ii=On.split("_");ke=Ii.length>=2&&Ii[1]=="type"?ke+(On+"="+Pn+"&"):ke+(On+"=redacted&")}}}else ke=null;else ke=ge;return"XMLHTTP REQ ("+Y+") [attempt "+ue+"]: "+L+`
`+q+`
`+ke})}function Bt(v,L,q,Y,ue,ge,ke){v.info(function(){return"XMLHTTP RESP ("+Y+") [ attempt "+ue+"]: "+L+`
`+q+`
`+ge+" "+ke})}function _n(v,L,q,Y){v.info(function(){return"XMLHTTP TEXT ("+L+"): "+Pr(v,q)+(Y?" "+Y:"")})}function Ar(v,L){v.info(function(){return"TIMEOUT: "+L})}Ze.prototype.info=function(){};function Pr(v,L){if(!v.g)return L;if(!L)return null;try{const ge=JSON.parse(L);if(ge){for(v=0;v<ge.length;v++)if(Array.isArray(ge[v])){var q=ge[v];if(!(q.length<2)){var Y=q[1];if(Array.isArray(Y)&&!(Y.length<1)){var ue=Y[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(let ke=1;ke<Y.length;ke++)Y[ke]=""}}}}return Rt(ge)}catch{return L}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dn={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Si;function Wa(){}m(Wa,Rn),Wa.prototype.g=function(){return new XMLHttpRequest},Si=new Wa;function Xs(v){return encodeURIComponent(String(v))}function id(v){var L=1;v=v.split(":");const q=[];for(;L>0&&v.length;)q.push(v.shift()),L--;return v.length&&q.push(v.join(":")),q}function qi(v,L,q,Y){this.j=v,this.i=L,this.l=q,this.S=Y||1,this.V=new dt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vg}function Vg(){this.i=null,this.g="",this.h=!1}var Fg={},Ah={};function ps(v,L,q){v.M=1,v.A=Ga(Hi(L)),v.u=q,v.R=!0,Ph(v,null)}function Ph(v,L){v.F=Date.now(),xc(v),v.B=Hi(v.A);var q=v.B,Y=v.S;Array.isArray(Y)||(Y=[String(Y)]),Fh(q.i,"t",Y),v.C=0,q=v.j.L,v.h=new Vg,v.g=Xg(v.j,q?L:null,!v.u),v.P>0&&(v.O=new Ke(d(v.Y,v,v.g),v.P)),L=v.V,q=v.g,Y=v.ba;var ue="readystatechange";Array.isArray(ue)||(ue&&(nt[0]=ue.toString()),ue=nt);for(let ge=0;ge<ue.length;ge++){const ke=ae(q,ue[ge],Y||L.handleEvent,!1,L.h||L);if(!ke)break;L.g[ke.key]=ke}L=v.J?U(v.J):{},v.u?(v.v||(v.v="POST"),L["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,L)):(v.v="GET",v.g.ea(v.B,v.v,null,L)),$i(),Pt(v.i,v.v,v.B,v.l,v.S,v.u)}qi.prototype.ba=function(v){v=v.target;const L=this.O;L&&na(v)==3?L.j():this.Y(v)},qi.prototype.Y=function(v){try{if(v==this.g)e:{const ht=na(this.g),Pn=this.g.ya(),zt=this.g.ca();if(!(ht<3)&&(ht!=3||this.g&&(this.h.h||this.g.la()||Kg(this.g)))){this.K||ht!=4||Pn==7||(Pn==8||zt<=0?$i(3):$i(2)),sd(this);var L=this.g.ca();this.X=L;var q=Bg(this);if(this.o=L==200,Bt(this.i,this.v,this.B,this.l,this.S,ht,L),this.o){if(this.U&&!this.L){t:{if(this.g){var Y,ue=this.g;if((Y=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(Y)){var ge=Y;break t}}ge=null}if(v=ge)_n(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,rn(this,v);else{this.o=!1,this.m=3,Qt(12),Ka(this),bc(this);break e}}if(this.R){v=!0;let On;for(;!this.K&&this.C<q.length;)if(On=Ug(this,q),On==Ah){ht==4&&(this.m=4,Qt(14),v=!1),_n(this.i,this.l,null,"[Incomplete Response]");break}else if(On==Fg){this.m=4,Qt(15),_n(this.i,this.l,q,"[Invalid Chunk]"),v=!1;break}else _n(this.i,this.l,On,null),rn(this,On);if(zg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||q.length!=0||this.h.h||(this.m=1,Qt(16),v=!1),this.o=this.o&&v,!v)_n(this.i,this.l,q,"[Invalid Chunked Response]"),Ka(this),bc(this);else if(q.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Pc(ke),ke.P=!0,Qt(11))}}else _n(this.i,this.l,q,null),rn(this,q);ht==4&&Ka(this),this.o&&!this.K&&(ht==4?pd(this.j,this):(this.o=!1,xc(this)))}else zh(this.g),L==400&&q.indexOf("Unknown SID")>0?(this.m=3,Qt(12)):(this.m=0,Qt(13)),Ka(this),bc(this)}}}catch{}};function Bg(v){if(!zg(v))return v.g.la();const L=Kg(v.g);if(L==="")return"";let q="";const Y=L.length,ue=na(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Ka(v),bc(v),"";v.h.i=new a.TextDecoder}for(let ge=0;ge<Y;ge++)v.h.h=!0,q+=v.h.i.decode(L[ge],{stream:!(ue&&ge==Y-1)});return L.length=0,v.h.g+=q,v.C=0,v.h.g}function zg(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Ug(v,L){var q=v.C,Y=L.indexOf(`
`,q);return Y==-1?Ah:(q=Number(L.substring(q,Y)),isNaN(q)?Fg:(Y+=1,Y+q>L.length?Ah:(L=L.slice(Y,Y+q),v.C=Y+q,L)))}qi.prototype.cancel=function(){this.K=!0,Ka(this)};function xc(v){v.T=Date.now()+v.H,Ih(v,v.H)}function Ih(v,L){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Gs(d(v.aa,v),L)}function sd(v){v.D&&(a.clearTimeout(v.D),v.D=null)}qi.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Ar(this.i,this.B),this.M!=2&&($i(),Qt(17)),Ka(this),this.m=2,bc(this)):Ih(this,this.T-v)};function bc(v){v.j.I==0||v.K||pd(v.j,v)}function Ka(v){sd(v);var L=v.O;L&&typeof L.dispose=="function"&&L.dispose(),v.O=null,rt(v.V),v.g&&(L=v.g,v.g=null,L.abort(),L.dispose())}function rn(v,L){try{var q=v.j;if(q.I!=0&&(q.g==v||kh(q.h,v))){if(!v.L&&kh(q.h,v)&&q.I==3){try{var Y=q.Ba.g.parse(L)}catch{Y=null}if(Array.isArray(Y)&&Y.length==3){var ue=Y;if(ue[0]==0){e:if(!q.v){if(q.g)if(q.g.F+3e3<v.F)md(q),Ai(q);else break e;sa(q),Qt(18)}}else q.xa=ue[1],0<q.xa-q.K&&ue[2]<37500&&q.F&&q.A==0&&!q.C&&(q.C=Gs(d(q.Va,q),6e3));wc(q.h)<=1&&q.ta&&(q.ta=void 0)}else Pi(q,11)}else if((v.L||q.g==v)&&md(q),!V(L))for(ue=q.Ba.g.parse(L),L=0;L<ue.length;L++){let zt=ue[L];const On=zt[0];if(!(On<=q.K))if(q.K=On,zt=zt[1],q.I==2)if(zt[0]=="c"){q.M=zt[1],q.ba=zt[2];const Ii=zt[3];Ii!=null&&(q.ka=Ii,q.j.info("VER="+q.ka));const Za=zt[4];Za!=null&&(q.za=Za,q.j.info("SVER="+q.za));const aa=zt[5];aa!=null&&typeof aa=="number"&&aa>0&&(Y=1.5*aa,q.O=Y,q.j.info("backChannelRequestTimeoutMs_="+Y)),Y=q;const oa=v.g;if(oa){const vd=oa.g?oa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vd){var ge=Y.h;ge.g||vd.indexOf("spdy")==-1&&vd.indexOf("quic")==-1&&vd.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(od(ge,ge.h),ge.h=null))}if(Y.G){const qh=oa.g?oa.g.getResponseHeader("X-HTTP-Session-Id"):null;qh&&(Y.wa=qh,Lt(Y.J,Y.G,qh))}}q.I=3,q.l&&q.l.ra(),q.aa&&(q.T=Date.now()-v.F,q.j.info("Handshake RTT: "+q.T+"ms")),Y=q;var ke=v;if(Y.na=$h(Y,Y.L?Y.ba:null,Y.W),ke.L){_c(Y.h,ke);var ht=ke,Pn=Y.O;Pn&&(ht.H=Pn),ht.D&&(sd(ht),xc(ht)),Y.g=ke}else jr(Y);q.i.length>0&&Ja(q)}else zt[0]!="stop"&&zt[0]!="close"||Pi(q,7);else q.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Pi(q,7):fd(q):zt[0]!="noop"&&q.l&&q.l.qa(zt),q.A=0)}}$i(4)}catch{}}var xw=class{constructor(v,L){this.g=v,this.map=L}};function ad(v){this.l=v||10,a.PerformanceNavigationTiming?(v=a.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function jh(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function wc(v){return v.h?1:v.g?v.g.size:0}function kh(v,L){return v.h?v.h==L:v.g?v.g.has(L):!1}function od(v,L){v.g?v.g.add(L):v.h=L}function _c(v,L){v.h&&v.h==L?v.h=null:v.g&&v.g.has(L)&&v.g.delete(L)}ad.prototype.cancel=function(){if(this.i=Ni(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Ni(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let L=v.i;for(const q of v.g.values())L=L.concat(q.G);return L}return y(v.i)}var $g=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ti(v,L){if(v){v=v.split("&");for(let q=0;q<v.length;q++){const Y=v[q].indexOf("=");let ue,ge=null;Y>=0?(ue=v[q].substring(0,Y),ge=v[q].substring(Y+1)):ue=v[q],L(ue,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function Ys(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let L;v instanceof Ys?(this.l=v.l,Ec(this,v.j),this.o=v.o,this.g=v.g,Qs(this,v.u),this.h=v.h,Jo(this,Bh(v.i)),this.m=v.m):v&&(L=String(v).match($g))?(this.l=!1,Ec(this,L[1]||"",!0),this.o=Sc(L[2]||""),this.g=Sc(L[3]||"",!0),Qs(this,L[4]),this.h=Sc(L[5]||"",!0),Jo(this,L[6]||"",!0),this.m=Sc(L[7]||"")):(this.l=!1,this.i=new Nt(null,this.l))}Ys.prototype.toString=function(){const v=[];var L=this.j;L&&v.push(Nc(L,Dh,!0),":");var q=this.g;return(q||L=="file")&&(v.push("//"),(L=this.o)&&v.push(Nc(L,Dh,!0),"@"),v.push(Xs(q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.u,q!=null&&v.push(":",String(q))),(q=this.h)&&(this.g&&q.charAt(0)!="/"&&v.push("/"),v.push(Nc(q,q.charAt(0)=="/"?Tc:Oh,!0))),(q=this.i.toString())&&v.push("?",q),(q=this.m)&&v.push("#",Nc(q,Mh)),v.join("")},Ys.prototype.resolve=function(v){const L=Hi(this);let q=!!v.j;q?Ec(L,v.j):q=!!v.o,q?L.o=v.o:q=!!v.g,q?L.g=v.g:q=v.u!=null;var Y=v.h;if(q)Qs(L,v.u);else if(q=!!v.h){if(Y.charAt(0)!="/")if(this.g&&!this.h)Y="/"+Y;else{var ue=L.h.lastIndexOf("/");ue!=-1&&(Y=L.h.slice(0,ue+1)+Y)}if(ue=Y,ue==".."||ue==".")Y="";else if(ue.indexOf("./")!=-1||ue.indexOf("/.")!=-1){Y=ue.lastIndexOf("/",0)==0,ue=ue.split("/");const ge=[];for(let ke=0;ke<ue.length;){const ht=ue[ke++];ht=="."?Y&&ke==ue.length&&ge.push(""):ht==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),Y&&ke==ue.length&&ge.push("")):(ge.push(ht),Y=!0)}Y=ge.join("/")}else Y=ue}return q?L.h=Y:q=v.i.toString()!=="",q?Jo(L,Bh(v.i)):q=!!v.m,q&&(L.m=v.m),L};function Hi(v){return new Ys(v)}function Ec(v,L,q){v.j=q?Sc(L,!0):L,v.j&&(v.j=v.j.replace(/:$/,""))}function Qs(v,L){if(L){if(L=Number(L),isNaN(L)||L<0)throw Error("Bad port number "+L);v.u=L}else v.u=null}function Jo(v,L,q){L instanceof Nt?(v.i=L,cd(v.i,v.l)):(q||(L=Nc(L,bw)),v.i=new Nt(L,v.l))}function Lt(v,L,q){v.i.set(L,q)}function Ga(v){return Lt(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function Sc(v,L){return v?L?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Nc(v,L,q){return typeof v=="string"?(v=encodeURI(v).replace(L,Rh),q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Rh(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Dh=/[#\/\?@]/g,Oh=/[#\?:]/g,Tc=/[#\?]/g,bw=/[#\?@]/g,Mh=/#/g;function Nt(v,L){this.h=this.g=null,this.i=v||null,this.j=!!L}function Js(v){v.g||(v.g=new Map,v.h=0,v.i&&Ti(v.i,function(L,q){v.add(decodeURIComponent(L.replace(/\+/g," ")),q)}))}t=Nt.prototype,t.add=function(v,L){Js(this),this.i=null,v=Zs(this,v);let q=this.g.get(v);return q||this.g.set(v,q=[]),q.push(L),this.h+=1,this};function Lh(v,L){Js(v),L=Zs(v,L),v.g.has(L)&&(v.i=null,v.h-=v.g.get(L).length,v.g.delete(L))}function ld(v,L){return Js(v),L=Zs(v,L),v.g.has(L)}t.forEach=function(v,L){Js(this),this.g.forEach(function(q,Y){q.forEach(function(ue){v.call(L,ue,Y,this)},this)},this)};function Vh(v,L){Js(v);let q=[];if(typeof L=="string")ld(v,L)&&(q=q.concat(v.g.get(Zs(v,L))));else for(v=Array.from(v.g.values()),L=0;L<v.length;L++)q=q.concat(v[L]);return q}t.set=function(v,L){return Js(this),this.i=null,v=Zs(this,v),ld(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[L]),this.h+=1,this},t.get=function(v,L){return v?(v=Vh(this,v),v.length>0?String(v[0]):L):L};function Fh(v,L,q){Lh(v,L),q.length>0&&(v.i=null,v.g.set(Zs(v,L),y(q)),v.h+=q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],L=Array.from(this.g.keys());for(let Y=0;Y<L.length;Y++){var q=L[Y];const ue=Xs(q);q=Vh(this,q);for(let ge=0;ge<q.length;ge++){let ke=ue;q[ge]!==""&&(ke+="="+Xs(q[ge])),v.push(ke)}}return this.i=v.join("&")};function Bh(v){const L=new Nt;return L.i=v.i,v.g&&(L.g=new Map(v.g),L.h=v.h),L}function Zs(v,L){return L=String(L),v.j&&(L=L.toLowerCase()),L}function cd(v,L){L&&!v.j&&(Js(v),v.i=null,v.g.forEach(function(q,Y){const ue=Y.toLowerCase();Y!=ue&&(Lh(this,Y),Fh(this,ue,q))},v)),v.j=L}function ea(v,L){const q=new Ze;if(a.Image){const Y=new Image;Y.onload=f(gr,q,"TestLoadImage: loaded",!0,L,Y),Y.onerror=f(gr,q,"TestLoadImage: error",!1,L,Y),Y.onabort=f(gr,q,"TestLoadImage: abort",!1,L,Y),Y.ontimeout=f(gr,q,"TestLoadImage: timeout",!1,L,Y),a.setTimeout(function(){Y.ontimeout&&Y.ontimeout()},1e4),Y.src=v}else L(!1)}function ta(v,L){const q=new Ze,Y=new AbortController,ue=setTimeout(()=>{Y.abort(),gr(q,"TestPingServer: timeout",!1,L)},1e4);fetch(v,{signal:Y.signal}).then(ge=>{clearTimeout(ue),ge.ok?gr(q,"TestPingServer: ok",!0,L):gr(q,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(ue),gr(q,"TestPingServer: error",!1,L)})}function gr(v,L,q,Y,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),Y(q)}catch{}}function Cc(){this.g=new pr}function Xa(v){this.i=v.Sb||null,this.h=v.ab||!1}m(Xa,Rn),Xa.prototype.g=function(){return new Ci(this.i,this.h)};function Ci(v,L){ut.call(this),this.H=v,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ci,ut),t=Ci.prototype,t.open=function(v,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=L,this.readyState=1,gs(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const L={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(L.body=v),(this.H||a).fetch(new Request(this.D,L)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zo(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,gs(this)),this.g&&(this.readyState=3,gs(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;qg(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function qg(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var L=v.value?v.value:new Uint8Array(0);(L=this.B.decode(L,{stream:!v.done}))&&(this.response=this.responseText+=L)}v.done?Zo(this):gs(this),this.readyState==3&&qg(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,Zo(this))},t.Na=function(v){this.g&&(this.response=v,Zo(this))},t.ga=function(){this.g&&Zo(this)};function Zo(v){v.readyState=4,v.l=null,v.j=null,v.B=null,gs(v)}t.setRequestHeader=function(v,L){this.A.append(v,L)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],L=this.h.entries();for(var q=L.next();!q.done;)q=q.value,v.push(q[0]+": "+q[1]),q=L.next();return v.join(`\r
`)};function gs(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Hg(v){let L="";return H(v,function(q,Y){L+=Y,L+=":",L+=q,L+=`\r
`}),L}function ud(v,L,q){e:{for(Y in q){var Y=!1;break e}Y=!0}Y||(q=Hg(q),typeof v=="string"?q!=null&&Xs(q):Lt(v,L,q))}function Kt(v){ut.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Kt,ut);var Wg=/^https?$/i,ww=["POST","PUT"];t=Kt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,L,q,Y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);L=L?L.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Si.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(L,String(v),!0),this.B=!1}catch(ge){el(this,ge);return}if(v=q||"",q=new Map(this.headers),Y)if(Object.getPrototypeOf(Y)===Object.prototype)for(var ue in Y)q.set(ue,Y[ue]);else if(typeof Y.keys=="function"&&typeof Y.get=="function")for(const ge of Y.keys())q.set(ge,Y.get(ge));else throw Error("Unknown input type for opt_headers: "+String(Y));Y=Array.from(q.keys()).find(ge=>ge.toLowerCase()=="content-type"),ue=a.FormData&&v instanceof a.FormData,!(Array.prototype.indexOf.call(ww,L,void 0)>=0)||Y||ue||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,ke]of q)this.g.setRequestHeader(ge,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ge){el(this,ge)}};function el(v,L){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=L,v.o=5,tl(v),Qa(v)}function tl(v){v.A||(v.A=!0,oe(v,"complete"),oe(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,oe(this,"complete"),oe(this,"abort"),Qa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qa(this,!0)),Kt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ya(this):this.Xa())},t.Xa=function(){Ya(this)};function Ya(v){if(v.h&&typeof s<"u"){if(v.v&&na(v)==4)setTimeout(v.Ca.bind(v),0);else if(oe(v,"readystatechange"),na(v)==4){v.h=!1;try{const ge=v.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var q;if(!(q=L)){var Y;if(Y=ge===0){let ke=String(v.D).match($g)[1]||null;!ke&&a.self&&a.self.location&&(ke=a.self.location.protocol.slice(0,-1)),Y=!Wg.test(ke?ke.toLowerCase():"")}q=Y}if(q)oe(v,"complete"),oe(v,"success");else{v.o=6;try{var ue=na(v)>2?v.g.statusText:""}catch{ue=""}v.l=ue+" ["+v.ca()+"]",tl(v)}}finally{Qa(v)}}}}function Qa(v,L){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const q=v.g;v.g=null,L||oe(v,"ready");try{q.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function na(v){return v.g?v.g.readyState:0}t.ca=function(){try{return na(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var L=this.g.responseText;return v&&L.indexOf(v)==0&&(L=L.substring(v.length)),Yt(L)}};function Kg(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function zh(v){const L={};v=(v.g&&na(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let Y=0;Y<v.length;Y++){if(V(v[Y]))continue;var q=id(v[Y]);const ue=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const ge=L[ue]||[];L[ue]=ge,ge.push(q)}k(L,function(Y){return Y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ra(v,L,q){return q&&q.internalChannelParams&&q.internalChannelParams[v]||L}function dd(v){this.za=0,this.i=[],this.j=new Ze,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ra("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ra("baseRetryDelayMs",5e3,v),this.Za=ra("retryDelaySeedMs",1e4,v),this.Ta=ra("forwardChannelMaxRetries",2,v),this.va=ra("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new ad(v&&v.concurrentRequestLimit),this.Ba=new Cc,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=dd.prototype,t.ka=8,t.I=1,t.connect=function(v,L,q,Y){Qt(0),this.W=v,this.H=L||{},q&&Y!==void 0&&(this.H.OSID=q,this.H.OAID=Y),this.F=this.X,this.J=$h(this,null,this.W),Ja(this)};function fd(v){if(hd(v),v.I==3){var L=v.V++,q=Hi(v.J);if(Lt(q,"SID",v.M),Lt(q,"RID",L),Lt(q,"TYPE","terminate"),ia(v,q),L=new qi(v,v.j,L),L.M=2,L.A=Ga(Hi(q)),q=!1,a.navigator&&a.navigator.sendBeacon)try{q=a.navigator.sendBeacon(L.A.toString(),"")}catch{}!q&&a.Image&&(new Image().src=L.A,q=!0),q||(L.g=Xg(L.j,null),L.g.ea(L.A)),L.F=Date.now(),xc(L)}Ic(v)}function Ai(v){v.g&&(Pc(v),v.g.cancel(),v.g=null)}function hd(v){Ai(v),v.v&&(a.clearTimeout(v.v),v.v=null),md(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&a.clearTimeout(v.m),v.m=null)}function Ja(v){if(!jh(v.h)&&!v.m){v.m=!0;var L=v.Ea;P||T(),A||(P(),A=!0),N.add(L,v),v.D=0}}function Gg(v,L){return wc(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=L.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Gs(d(v.Ea,v,L),gd(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const ue=new qi(this,this.j,v);let ge=this.o;if(this.U&&(ge?(ge=U(ge),K(ge,this.U)):ge=this.U),this.u!==null||this.R||(ue.J=ge,ge=null),this.S)e:{for(var L=0,q=0;q<this.i.length;q++){t:{var Y=this.i[q];if("__data__"in Y.map&&(Y=Y.map.__data__,typeof Y=="string")){Y=Y.length;break t}Y=void 0}if(Y===void 0)break;if(L+=Y,L>4096){L=q;break e}if(L===4096||q===this.i.length-1){L=q+1;break e}}L=1e3}else L=1e3;L=Uh(this,ue,L),q=Hi(this.J),Lt(q,"RID",v),Lt(q,"CVER",22),this.G&&Lt(q,"X-HTTP-Session-Id",this.G),ia(this,q),ge&&(this.R?L="headers="+Xs(Hg(ge))+"&"+L:this.u&&ud(q,this.u,ge)),od(this.h,ue),this.Ra&&Lt(q,"TYPE","init"),this.S?(Lt(q,"$req",L),Lt(q,"SID","null"),ue.U=!0,ps(ue,q,null)):ps(ue,q,L),this.I=2}}else this.I==3&&(v?Ac(this,v):this.i.length==0||jh(this.h)||Ac(this))};function Ac(v,L){var q;L?q=L.l:q=v.V++;const Y=Hi(v.J);Lt(Y,"SID",v.M),Lt(Y,"RID",q),Lt(Y,"AID",v.K),ia(v,Y),v.u&&v.o&&ud(Y,v.u,v.o),q=new qi(v,v.j,q,v.D+1),v.u===null&&(q.J=v.o),L&&(v.i=L.G.concat(v.i)),L=Uh(v,q,1e3),q.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),od(v.h,q),ps(q,Y,L)}function ia(v,L){v.H&&H(v.H,function(q,Y){Lt(L,Y,q)}),v.l&&H({},function(q,Y){Lt(L,Y,q)})}function Uh(v,L,q){q=Math.min(v.i.length,q);const Y=v.l?d(v.l.Ka,v.l,v):null;e:{var ue=v.i;let ht=-1;for(;;){const Pn=["count="+q];ht==-1?q>0?(ht=ue[0].g,Pn.push("ofs="+ht)):ht=0:Pn.push("ofs="+ht);let zt=!0;for(let On=0;On<q;On++){var ge=ue[On].g;const Ii=ue[On].map;if(ge-=ht,ge<0)ht=Math.max(0,ue[On].g-100),zt=!1;else try{ge="req"+ge+"_"||"";try{var ke=Ii instanceof Map?Ii:Object.entries(Ii);for(const[Za,aa]of ke){let oa=aa;o(aa)&&(oa=Rt(aa)),Pn.push(ge+Za+"="+encodeURIComponent(oa))}}catch(Za){throw Pn.push(ge+"type="+encodeURIComponent("_badmap")),Za}}catch{Y&&Y(Ii)}}if(zt){ke=Pn.join("&");break e}}ke=void 0}return v=v.i.splice(0,q),L.G=v,ke}function jr(v){if(!v.g&&!v.v){v.Y=1;var L=v.Da;P||T(),A||(P(),A=!0),N.add(L,v),v.A=0}}function sa(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Gs(d(v.Da,v),gd(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,nl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Gs(d(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qt(10),Ai(this),nl(this))};function Pc(v){v.B!=null&&(a.clearTimeout(v.B),v.B=null)}function nl(v){v.g=new qi(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var L=Hi(v.na);Lt(L,"RID","rpc"),Lt(L,"SID",v.M),Lt(L,"AID",v.K),Lt(L,"CI",v.F?"0":"1"),!v.F&&v.ia&&Lt(L,"TO",v.ia),Lt(L,"TYPE","xmlhttp"),ia(v,L),v.u&&v.o&&ud(L,v.u,v.o),v.O&&(v.g.H=v.O);var q=v.g;v=v.ba,q.M=1,q.A=Ga(Hi(L)),q.u=null,q.R=!0,Ph(q,v)}t.Va=function(){this.C!=null&&(this.C=null,Ai(this),sa(this),Qt(19))};function md(v){v.C!=null&&(a.clearTimeout(v.C),v.C=null)}function pd(v,L){var q=null;if(v.g==L){md(v),Pc(v),v.g=null;var Y=2}else if(kh(v.h,L))q=L.G,_c(v.h,L),Y=1;else return;if(v.I!=0){if(L.o)if(Y==1){q=L.u?L.u.length:0,L=Date.now()-L.F;var ue=v.D;Y=Ks(),oe(Y,new ei(Y,q)),Ja(v)}else jr(v);else if(ue=L.m,ue==3||ue==0&&L.X>0||!(Y==1&&Gg(v,L)||Y==2&&sa(v)))switch(q&&q.length>0&&(L=v.h,L.i=L.i.concat(q)),ue){case 1:Pi(v,5);break;case 4:Pi(v,10);break;case 3:Pi(v,6);break;default:Pi(v,2)}}}function gd(v,L){let q=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(q*=2),q*L}function Pi(v,L){if(v.j.info("Error code "+L),L==2){var q=d(v.bb,v),Y=v.Ua;const ue=!Y;Y=new Ys(Y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ec(Y,"https"),Ga(Y),ue?ea(Y.toString(),q):ta(Y.toString(),q)}else Qt(2);v.I=0,v.l&&v.l.pa(L),Ic(v),hd(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function Ic(v){if(v.I=0,v.ja=[],v.l){const L=Ni(v.h);(L.length!=0||v.i.length!=0)&&(x(v.ja,L),x(v.ja,v.i),v.h.i.length=0,y(v.i),v.i.length=0),v.l.oa()}}function $h(v,L,q){var Y=q instanceof Ys?Hi(q):new Ys(q);if(Y.g!="")L&&(Y.g=L+"."+Y.g),Qs(Y,Y.u);else{var ue=a.location;Y=ue.protocol,L=L?L+"."+ue.hostname:ue.hostname,ue=+ue.port;const ge=new Ys(null);Y&&Ec(ge,Y),L&&(ge.g=L),ue&&Qs(ge,ue),q&&(ge.h=q),Y=ge}return q=v.G,L=v.wa,q&&L&&Lt(Y,q,L),Lt(Y,"VER",v.ka),ia(v,Y),Y}function Xg(v,L,q){if(L&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return L=v.Aa&&!v.ma?new Kt(new Xa({ab:q})):new Kt(v.ma),L.Fa(v.L),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yg(){}t=Yg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function yd(){}yd.prototype.g=function(v,L){return new yr(v,L)};function yr(v,L){ut.call(this),this.g=new dd(L),this.l=v,this.h=L&&L.messageUrlParams||null,v=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(v?v["X-WebChannel-Content-Type"]=L.messageContentType:v={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.sa&&(v?v["X-WebChannel-Client-Profile"]=L.sa:v={"X-WebChannel-Client-Profile":L.sa}),this.g.U=v,(v=L&&L.Qb)&&!V(v)&&(this.g.u=v),this.A=L&&L.supportsCrossDomainXhr||!1,this.v=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!V(L)&&(this.g.G=L,v=this.h,v!==null&&L in v&&(v=this.h,L in v&&delete v[L])),this.j=new rl(this)}m(yr,ut),yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yr.prototype.close=function(){fd(this.g)},yr.prototype.o=function(v){var L=this.g;if(typeof v=="string"){var q={};q.__data__=v,v=q}else this.v&&(q={},q.__data__=Rt(v),v=q);L.i.push(new xw(L.Ya++,v)),L.I==3&&Ja(L)},yr.prototype.N=function(){this.g.l=null,delete this.j,fd(this.g),delete this.g,yr.Z.N.call(this)};function Qg(v){Ei.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var L=v.__sm__;if(L){e:{for(const q in L){v=q;break e}v=void 0}(this.i=v)&&(v=this.i,L=L!==null&&v in L?L[v]:void 0),this.data=L}else this.data=v}m(Qg,Ei);function Jg(){Yo.call(this),this.status=1}m(Jg,Yo);function rl(v){this.g=v}m(rl,Yg),rl.prototype.ra=function(){oe(this.g,"a")},rl.prototype.qa=function(v){oe(this.g,new Qg(v))},rl.prototype.pa=function(v){oe(this.g,new Jg)},rl.prototype.oa=function(){oe(this.g,"b")},yd.prototype.createWebChannel=yd.prototype.g,yr.prototype.send=yr.prototype.o,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,hF=function(){return new yd},fF=function(){return Ks()},dF=Zn,nN={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,kv=Ir,Dn.COMPLETE="complete",uF=Dn,Ws.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",ut.prototype.listen=ut.prototype.J,Fm=Ws,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,cF=Kt}).apply(typeof Ky<"u"?Ky:typeof self<"u"?self:typeof window<"u"?window:{});class ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");let ih="12.9.0";function VX(t){ih=t}const Yl=new cC("@firebase/firestore");function Jd(){return Yl.logLevel}function FX(t){Yl.setLogLevel(t)}function we(t,...e){if(Yl.logLevel<=_t.DEBUG){const n=e.map(fC);Yl.debug(`Firestore (${ih}): ${t}`,...n)}}function jn(t,...e){if(Yl.logLevel<=_t.ERROR){const n=e.map(fC);Yl.error(`Firestore (${ih}): ${t}`,...n)}}function yi(t,...e){if(Yl.logLevel<=_t.WARN){const n=e.map(fC);Yl.warn(`Firestore (${ih}): ${t}`,...n)}}function fC(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,mF(t,r,n)}function mF(t,e,n){let r=`FIRESTORE (${ih}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw jn(r),new Error(r)}function qe(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||mF(e,i,r)}function BX(t,e){t||Le(57014,e)}function Re(t,e){return t}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends Ua{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class pF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ar.UNAUTHENTICATED)))}shutdown(){}}class zX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class UX{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ur,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},o=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ur)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe(typeof r.accessToken=="string",31837,{l:r}),new pF(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new ar(e)}}class $X{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class qX{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $X(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ar.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HX{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0,3512);const r=s=>{s.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,we("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new rN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class WX{getToken(){return Promise.resolve(new rN(""))}invalidateToken(){}start(e,n){}shutdown(){}}function KX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class $x{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=KX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function st(t,e){return t<e?-1:t>e?1:0}function iN(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Z1(i)===Z1(s)?st(i,s):Z1(i)?1:-1}return st(t.length,e.length)}const GX=55296,XX=57343;function Z1(t){const e=t.charCodeAt(0);return e>=GX&&e<=XX}function Cf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function yF(t){return t+"\0"}const sN="__name__";class va{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return va.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof va?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=va.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return st(e.length,n.length)}static compareSegments(e,n){const r=va.isNumericId(e),i=va.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?va.extractNumericId(e).compare(va.extractNumericId(n)):iN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ql.fromString(e.substring(4,e.length-2))}}class xt extends va{construct(e,n,r){return new xt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new xt(n)}static emptyPath(){return new xt([])}}const YX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends va{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return YX.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===sN}static keyField(){return new cn([sN])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new be(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new be(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new be(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new be(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(xt.fromString(e))}static fromName(e){return new je(xt.fromString(e).popFirst(5))}static empty(){return new je(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new xt(e.slice()))}}function hC(t,e,n){if(!n)throw new be(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function vF(t,e,n,r){if(e===!0&&r===!0)throw new be(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Ck(t){if(!je.isDocumentKey(t))throw new be(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ak(t){if(je.isDocumentKey(t))throw new be(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xF(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function qx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function bt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qx(t);throw new be(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function bF(t,e){if(e<=0)throw new be(fe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function Bn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Hu(t,e){if(!xF(t))throw new be(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new be(fe.INVALID_ARGUMENT,n);return!0}const Pk=-62135596800,Ik=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ik);return new gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Pk)throw new be(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ik}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hu(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Pk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:Bn("string",gt._jsonSchemaVersion),seconds:Bn("number"),nanoseconds:Bn("number")};class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new gt(0,0))}static max(){return new Ye(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Af=-1;class Pf{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function aN(t){return t.fields.find((e=>e.kind===2))}function Gc(t){return t.fields.filter((e=>e.kind!==2))}function QX(t,e){let n=st(t.collectionGroup,e.collectionGroup);if(n!==0)return n;for(let r=0;r<Math.min(t.fields.length,e.fields.length);++r)if(n=JX(t.fields[r],e.fields[r]),n!==0)return n;return st(t.fields.length,e.fields.length)}Pf.UNKNOWN_ID=-1;class hu{constructor(e,n){this.fieldPath=e,this.kind=n}}function JX(t,e){const n=cn.comparator(t.fieldPath,e.fieldPath);return n!==0?n:st(t.kind,e.kind)}class If{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new If(0,Bi.min())}}function wF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Bi(i,je.empty(),e)}function _F(t){return new Bi(t.readTime,t.key,Af)}class Bi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Bi(Ye.min(),je.empty(),Af)}static max(){return new Bi(Ye.max(),je.empty(),Af)}}function mC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:st(t.largestBatchId,e.largestBatchId))}const EF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cc(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==EF)throw t;we("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&n()}),(c=>r(c)))})),a=!0,s===i&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((i=>i?le.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next((f=>{a[d]=f,++o,o===s&&r(a)}),(f=>i(f)))}}))}static doWhile(e,n){return new le(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}const Di="SimpleDb";class Hx{static open(e,n,r,i){try{return new Hx(n,e.transaction(i,r))}catch(s){throw new Xm(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ur,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Xm(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=pC(r.target.error);this.S.reject(new Xm(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(we(Di,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new eY(n)}}class ja{static delete(e){return we(Di,"Removing database:",e),eu(KV().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!nF())return!1;if(ja.F())return!0;const e=Gn(),n=ja.M(e),r=0<n&&n<10,i=NF(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,ja.M(Gn())===12.2&&jn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(we(Di,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new Xm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new be(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new be(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Xm(e,a))},i.onupgradeneeded=s=>{we(Di,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{we(Di,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const o=Hx.open(this.db,e,s?"readonly":"readwrite",r),c=i(o).next((d=>(o.C(),d))).catch((d=>(o.abort(d),le.reject(d)))).toPromise();return c.catch((()=>{})),await o.D,c}catch(o){const c=o,d=c.name!=="FirebaseError"&&a<3;if(we(Di,"Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function NF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ZX{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return eu(this.U.delete())}}class Xm extends be{constructor(e,n){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function uc(t){return t.name==="IndexedDbTransactionError"}class eY{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(we(Di,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(we(Di,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),eu(r)}add(e){return we(Di,"ADD",this.store.name,e,e),eu(this.store.add(e))}get(e){return eu(this.store.get(e)).next((n=>(n===void 0&&(n=null),we(Di,"GET",this.store.name,e,n),n)))}delete(e){return we(Di,"DELETE",this.store.name,e),eu(this.store.delete(e))}count(){return we(Di,"COUNT",this.store.name),eu(this.store.count())}H(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new le(((a,o)=>{s.onerror=c=>{o(c.target.error)},s.onsuccess=c=>{a(c.target.result)}}))}{const s=this.cursor(r),a=[];return this.J(s,((o,c)=>{a.push(c)})).next((()=>a))}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new le(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}X(e,n){we(Di,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.J(i,((s,a,o)=>o.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}te(e){const n=this.cursor({});return new le(((r,i)=>{n.onerror=s=>{const a=pC(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():r()})):r()}}))}J(e,n){const r=[];return new le(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const c=new ZX(o),d=n(o.primaryKey,o.value,c);if(d instanceof le){const f=d.catch((m=>(c.done(),le.reject(m))));r.push(f)}c.isDone?i():c.G===null?o.continue():o.continue(c.G)}})).next((()=>le.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function eu(t){return new le(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=pC(r.target.error);n(i)}}))}let jk=!1;function pC(t){const e=ja.M(Gn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jk||(jk=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Ym="IndexBackfiller";class tY{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){we(Ym,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();we(Ym,`Documents written: ${n}`)}catch(n){uc(n)?we(Ym,"Ignoring IndexedDB error during index backfill: ",n):await cc(n)}await this.re(6e4)}))}}class nY{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return le.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return we(Ym,`Processing collection: ${a}`),this.oe(e,a,i).next((o=>{i-=o,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((o=>(we(Ym,`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=_F(s);mC(a,r)>0&&(r=a)})),new Bi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class ui{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ui.ce=-1;const Hl=-1;function Qp(t){return t==null}function mp(t){return t===0&&1/t==-1/0}function TF(t){return typeof t=="number"&&Number.isInteger(t)&&!mp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const d0="";function Br(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kk(e)),e=rY(t.get(n),e);return kk(e)}function rY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case d0:n+="";break;default:n+=s}}return n}function kk(t){return t+d0+""}function Sa(t){const e=t.length;if(qe(e>=2,64408,{path:t}),e===2)return qe(t.charAt(0)===d0&&t.charAt(1)==="",56145,{path:t}),xt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(d0,s);switch((a<0||a>n)&&Le(50515,{path:t}),t.charAt(a+1)){case"":const o=t.substring(s,a);let c;i.length===0?c=o:(i+=o,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Le(61167,{path:t})}s=a+2}return new xt(r)}const Xc="remoteDocuments",Jp="owner",Fd="owner",pp="mutationQueues",iY="userId",Cs="mutations",Rk="batchId",su="userMutationsIndex",Dk=["userId","batchId"];function Rv(t,e){return[t,Br(e)]}function CF(t,e,n){return[t,Br(e),n]}const sY={},jf="documentMutations",f0="remoteDocumentsV14",aY=["prefixPath","collectionGroup","readTime","documentId"],Dv="documentKeyIndex",oY=["prefixPath","collectionGroup","documentId"],AF="collectionGroupIndex",lY=["collectionGroup","readTime","prefixPath","documentId"],gp="remoteDocumentGlobal",oN="remoteDocumentGlobalKey",kf="targets",PF="queryTargetsIndex",cY=["canonicalId","targetId"],Rf="targetDocuments",uY=["targetId","path"],gC="documentTargetsIndex",dY=["path","targetId"],h0="targetGlobalKey",mu="targetGlobal",yp="collectionParents",fY=["collectionId","parent"],Df="clientMetadata",hY="clientId",Wx="bundles",mY="bundleId",Kx="namedQueries",pY="name",yC="indexConfiguration",gY="indexId",lN="collectionGroupIndex",yY="collectionGroup",Qm="indexState",vY=["indexId","uid"],IF="sequenceNumberIndex",xY=["uid","sequenceNumber"],Jm="indexEntries",bY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jF="documentKeyIndex",wY=["indexId","uid","orderedDocumentKey"],Gx="documentOverlays",_Y=["userId","collectionPath","documentId"],cN="collectionPathOverlayIndex",EY=["userId","collectionPath","largestBatchId"],kF="collectionGroupOverlayIndex",SY=["userId","collectionGroup","largestBatchId"],vC="globals",NY="name",RF=[pp,Cs,jf,Xc,kf,Jp,mu,Rf,Df,gp,yp,Wx,Kx],TY=[...RF,Gx],DF=[pp,Cs,jf,f0,kf,Jp,mu,Rf,Df,gp,yp,Wx,Kx,Gx],OF=DF,xC=[...OF,yC,Qm,Jm],CY=xC,MF=[...xC,vC],AY=MF;class uN extends SF{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Yn(t,e){const n=Re(t);return ja.O(n.le,e)}function Ok(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LF(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function VF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class tn{constructor(e,n){this.comparator=e,this.root=n||Er.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gy(this.root,e,this.comparator,!0)}}class Gy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Er.RED,this.left=i??Er.EMPTY,this.right=s??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Er(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1;Er.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ht{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mk(this.data.getIterator())}getIteratorFrom(e){return new Mk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ht)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ht(this.comparator);return n.data=e,n}}class Mk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bd(t){return t.hasNext()?t.getNext():void 0}class di{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new di([])}unionWith(e){let n=new Ht(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new di(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Cf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class FF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function PY(){return typeof atob<"u"}class wn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new FF("Invalid base64 string: "+s):s}})(e);return new wn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new wn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wn.EMPTY_BYTE_STRING=new wn("");const IY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function No(t){if(qe(!!t,39018),typeof t=="string"){let e=0;const n=IY.exec(t);if(qe(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:fn(t.seconds),nanos:fn(t.nanos)}}function fn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function To(t){return typeof t=="string"?wn.fromBase64String(t):wn.fromUint8Array(t)}const BF="server_timestamp",zF="__type__",UF="__previous_value__",$F="__local_write_time__";function Xx(t){return(t?.mapValue?.fields||{})[zF]?.stringValue===BF}function Yx(t){const e=t.mapValue.fields[UF];return Xx(e)?Yx(e):e}function vp(t){const e=No(t.mapValue.fields[$F].timestampValue);return new gt(e.seconds,e.nanos)}class jY{constructor(e,n,r,i,s,a,o,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f,this.apiKey=m}}const xp="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||xp}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===xp}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}function kY(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new be(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(t.options.projectId,e)}const bC="__type__",qF="__max__",Ll={mapValue:{fields:{__type__:{stringValue:qF}}}},wC="__vector__",Of="value",Ov={nullValue:"NULL_VALUE"};function Jl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xx(t)?4:HF(t)?9007199254740991:Qx(t)?10:11:Le(28295,{value:t})}function Ma(t,e){if(t===e)return!0;const n=Jl(t);if(n!==Jl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vp(t).isEqual(vp(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=No(i.timestampValue),o=No(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return To(i.bytesValue).isEqual(To(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return fn(i.geoPointValue.latitude)===fn(s.geoPointValue.latitude)&&fn(i.geoPointValue.longitude)===fn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return fn(i.integerValue)===fn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=fn(i.doubleValue),o=fn(s.doubleValue);return a===o?mp(a)===mp(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return Cf(t.arrayValue.values||[],e.arrayValue.values||[],Ma);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Ok(a)!==Ok(o))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(o[c]===void 0||!Ma(a[c],o[c])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function bp(t,e){return(t.values||[]).find((n=>Ma(n,e)))!==void 0}function Zl(t,e){if(t===e)return 0;const n=Jl(t),r=Jl(e);if(n!==r)return st(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=fn(s.integerValue||s.doubleValue),c=fn(a.integerValue||a.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(t,e);case 3:return Lk(t.timestampValue,e.timestampValue);case 4:return Lk(vp(t),vp(e));case 5:return iN(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=To(s),c=To(a);return o.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),c=a.split("/");for(let d=0;d<o.length&&d<c.length;d++){const f=st(o[d],c[d]);if(f!==0)return f}return st(o.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=st(fn(s.latitude),fn(a.latitude));return o!==0?o:st(fn(s.longitude),fn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Vk(t.arrayValue,e.arrayValue);case 10:return(function(s,a){const o=s.fields||{},c=a.fields||{},d=o[Of]?.arrayValue,f=c[Of]?.arrayValue,m=st(d?.values?.length||0,f?.values?.length||0);return m!==0?m:Vk(d,f)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Ll.mapValue&&a===Ll.mapValue)return 0;if(s===Ll.mapValue)return 1;if(a===Ll.mapValue)return-1;const o=s.fields||{},c=Object.keys(o),d=a.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const p=iN(c[m],f[m]);if(p!==0)return p;const y=Zl(o[c[m]],d[f[m]]);if(y!==0)return y}return st(c.length,f.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function Lk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const n=No(t),r=No(e),i=st(n.seconds,r.seconds);return i!==0?i:st(n.nanos,r.nanos)}function Vk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Zl(n[i],r[i]);if(s)return s}return st(n.length,r.length)}function Mf(t){return dN(t)}function dN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=No(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return To(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=dN(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${dN(n.fields[a])}`;return i+"}"})(t.mapValue):Le(61005,{value:t})}function Mv(t){switch(Jl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Yx(t);return e?16+Mv(e):16;case 5:return 2*t.stringValue.length;case 6:return To(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Mv(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return dc(r.fields,((s,a)=>{i+=s.length+Mv(a)})),i})(t.mapValue);default:throw Le(13486,{value:t})}}function Su(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function fN(t){return!!t&&"integerValue"in t}function wp(t){return!!t&&"arrayValue"in t}function Fk(t){return!!t&&"nullValue"in t}function Bk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lv(t){return!!t&&"mapValue"in t}function Qx(t){return(t?.mapValue?.fields||{})[bC]?.stringValue===wC}function Zm(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return dc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Zm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Zm(t.arrayValue.values[n]);return e}return{...t}}function HF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qF}const WF={mapValue:{fields:{[bC]:{stringValue:wC},[Of]:{arrayValue:{}}}}};function RY(t){return"nullValue"in t?Ov:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Su(Ql.empty(),je.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Qx(t)?WF:{mapValue:{}}:Le(35942,{value:t})}function DY(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Su(Ql.empty(),je.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?WF:"mapValue"in t?Qx(t)?{mapValue:{}}:Ll:Le(61959,{value:t})}function zk(t,e){const n=Zl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Uk(t,e){const n=Zl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zm(n)}setAll(e){let n=cn.emptyPath(),r={},i=[];e.forEach(((a,o)=>{if(!n.isImmediateParentOf(o)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Zm(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ma(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new lr(Zm(this.value))}}function KF(t){const e=[];return dc(t.fields,((n,r)=>{const i=new cn([n]);if(Lv(r)){const s=KF(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new di(e)}class ln{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new ln(e,0,Ye.min(),Ye.min(),Ye.min(),lr.empty(),0)}static newFoundDocument(e,n,r,i){return new ln(e,1,n,Ye.min(),r,i,0)}static newNoDocument(e,n){return new ln(e,2,n,Ye.min(),Ye.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Ye.min(),Ye.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ec{constructor(e,n){this.position=e,this.inclusive=n}}function $k(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=je.comparator(je.fromName(a.referenceValue),n.key):r=Zl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function qk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ma(t.position[n],e.position[n]))return!1;return!0}class _p{constructor(e,n="asc"){this.field=e,this.dir=n}}function OY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class GF{}class St extends GF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MY(e,n,r):n==="array-contains"?new FY(e,r):n==="in"?new e6(e,r):n==="not-in"?new BY(e,r):n==="array-contains-any"?new zY(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new LY(e,r):new VY(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zl(n,this.value)):n!==null&&Jl(this.value)===Jl(n)&&this.matchesComparison(Zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $t extends GF{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new $t(e,n)}matches(e){return Lf(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Lf(t){return t.op==="and"}function hN(t){return t.op==="or"}function _C(t){return XF(t)&&Lf(t)}function XF(t){for(const e of t.filters)if(e instanceof $t)return!1;return!0}function mN(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+Mf(t.value);if(_C(t))return t.filters.map((e=>mN(e))).join(",");{const e=t.filters.map((n=>mN(n))).join(",");return`${t.op}(${e})`}}function YF(t,e){return t instanceof St?(function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&Ma(r.value,i.value)})(t,e):t instanceof $t?(function(r,i){return i instanceof $t&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,o)=>s&&YF(a,i.filters[o])),!0):!1})(t,e):void Le(19439)}function QF(t,e){const n=t.filters.concat(e);return $t.create(n,t.op)}function JF(t){return t instanceof St?(function(n){return`${n.field.canonicalString()} ${n.op} ${Mf(n.value)}`})(t):t instanceof $t?(function(n){return n.op.toString()+" {"+n.getFilters().map(JF).join(" ,")+"}"})(t):"Filter"}class MY extends St{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class LY extends St{constructor(e,n){super(e,"in",n),this.keys=ZF("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class VY extends St{constructor(e,n){super(e,"not-in",n),this.keys=ZF("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ZF(t,e){return(e.arrayValue?.values||[]).map((n=>je.fromName(n.referenceValue)))}class FY extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return wp(n)&&bp(n.arrayValue,this.value)}}class e6 extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&bp(this.value.arrayValue,n)}}class BY extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(bp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!bp(this.value.arrayValue,n)}}class zY extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!wp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>bp(this.value.arrayValue,r)))}}class UY{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function pN(t,e=null,n=[],r=[],i=null,s=null,a=null){return new UY(t,e,n,r,i,s,a)}function Nu(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>mN(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Qp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Mf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Mf(r))).join(",")),e.Te=n}return e.Te}function Zp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!OY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!YF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qk(t.startAt,e.startAt)&&qk(t.endAt,e.endAt)}function m0(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function p0(t,e){return t.filters.filter((n=>n instanceof St&&n.field.isEqual(e)))}function Hk(t,e,n){let r=Ov,i=!0;for(const s of p0(t,e)){let a=Ov,o=!0;switch(s.op){case"<":case"<=":a=RY(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=Ov}zk({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];zk({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function Wk(t,e,n){let r=Ll,i=!0;for(const s of p0(t,e)){let a=Ll,o=!0;switch(s.op){case">=":case">":a=DY(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=Ll}Uk({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];Uk({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}class Mo{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function t6(t,e,n,r,i,s,a,o){return new Mo(t,e,n,r,i,s,a,o)}function sh(t){return new Mo(t)}function Kk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $Y(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function EC(t){return t.collectionGroup!==null}function pf(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Ht(cn.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(o=o.add(d.field))}))})),o})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new _p(s,r))})),n.has(cn.keyField().canonicalString())||e.Ie.push(new _p(cn.keyField(),r))}return e.Ie}function zr(t){const e=Re(t);return e.Ee||(e.Ee=r6(e,pf(t))),e.Ee}function n6(t){const e=Re(t);return e.Re||(e.Re=r6(e,t.explicitOrderBy)),e.Re}function r6(t,e){if(t.limitType==="F")return pN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new _p(i.field,s)}));const n=t.endAt?new ec(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ec(t.startAt.position,t.startAt.inclusive):null;return pN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function gN(t,e){const n=t.filters.concat([e]);return new Mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function qY(t,e){const n=t.explicitOrderBy.concat([e]);return new Mo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function g0(t,e,n){return new Mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function HY(t,e){return new Mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function WY(t,e){return new Mo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}function eg(t,e){return Zp(zr(t),zr(e))&&t.limitType===e.limitType}function i6(t){return`${Nu(zr(t))}|lt:${t.limitType}`}function Zd(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>JF(i))).join(", ")}]`),Qp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Mf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Mf(i))).join(",")),`Target(${r})`})(zr(t))}; limitType=${t.limitType})`}function tg(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):je.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of pf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,o,c){const d=$k(a,o,c);return a.inclusive?d<=0:d<0})(r.startAt,pf(r),i)||r.endAt&&!(function(a,o,c){const d=$k(a,o,c);return a.inclusive?d>=0:d>0})(r.endAt,pf(r),i))})(t,e)}function s6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function a6(t){return(e,n)=>{let r=!1;for(const i of pf(t)){const s=KY(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function KY(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):(function(s,a,o){const c=a.data.field(s),d=o.data.field(s);return c!==null&&d!==null?Zl(c,d):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}class Lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return VF(this.inner)}size(){return this.innerSize}}const GY=new tn(je.comparator);function fi(){return GY}const o6=new tn(je.comparator);function Bm(...t){let e=o6;for(const n of t)e=e.insert(n.key,n);return e}function l6(t){let e=o6;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Na(){return ep()}function c6(){return ep()}function ep(){return new Lo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const XY=new tn(je.comparator),YY=new Ht(je.comparator);function mt(...t){let e=YY;for(const n of t)e=e.add(n);return e}const QY=new Ht(st);function SC(){return QY}function NC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mp(e)?"-0":e}}function u6(t){return{integerValue:""+t}}function d6(t,e){return TF(e)?u6(e):NC(t,e)}class Jx{constructor(){this._=void 0}}function JY(t,e,n){return t instanceof Vf?(function(i,s){const a={fields:{[zF]:{stringValue:BF},[$F]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Xx(s)&&(s=Yx(s)),s&&(a.fields[UF]=s),{mapValue:a}})(n,e):t instanceof Tu?h6(t,e):t instanceof Cu?m6(t,e):(function(i,s){const a=f6(i,s),o=Gk(a)+Gk(i.Ae);return fN(a)&&fN(i.Ae)?u6(o):NC(i.serializer,o)})(t,e)}function ZY(t,e,n){return t instanceof Tu?h6(t,e):t instanceof Cu?m6(t,e):n}function f6(t,e){return t instanceof Ff?(function(r){return fN(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Vf extends Jx{}class Tu extends Jx{constructor(e){super(),this.elements=e}}function h6(t,e){const n=p6(e);for(const r of t.elements)n.some((i=>Ma(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Cu extends Jx{constructor(e){super(),this.elements=e}}function m6(t,e){let n=p6(e);for(const r of t.elements)n=n.filter((i=>!Ma(i,r)));return{arrayValue:{values:n}}}class Ff extends Jx{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gk(t){return fn(t.integerValue||t.doubleValue)}function p6(t){return wp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ng{constructor(e,n){this.field=e,this.transform=n}}function eQ(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Tu&&i instanceof Tu||r instanceof Cu&&i instanceof Cu?Cf(r.elements,i.elements,Ma):r instanceof Ff&&i instanceof Ff?Ma(r.Ae,i.Ae):r instanceof Vf&&i instanceof Vf})(t.transform,e.transform)}class tQ{constructor(e,n){this.version=e,this.transformResults=n}}class hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hn}static exists(e){return new hn(void 0,e)}static updateTime(e){return new hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zx{}function g6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oh(t.key,hn.none()):new ah(t.key,t.data,hn.none());{const n=t.data,r=lr.empty();let i=new Ht(cn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Vo(t.key,r,new di(i.toArray()),hn.none())}}function nQ(t,e,n){t instanceof ah?(function(i,s,a){const o=i.value.clone(),c=Yk(i.fieldTransforms,s,a.transformResults);o.setAll(c),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,n):t instanceof Vo?(function(i,s,a){if(!Vv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=Yk(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(y6(i)),c.setAll(o),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function tp(t,e,n,r){return t instanceof ah?(function(s,a,o,c){if(!Vv(s.precondition,a))return o;const d=s.value.clone(),f=Qk(s.fieldTransforms,c,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Vo?(function(s,a,o,c){if(!Vv(s.precondition,a))return o;const d=Qk(s.fieldTransforms,c,a),f=a.data;return f.setAll(y6(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,a,o){return Vv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,n)}function rQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=f6(r.transform,i||null);s!=null&&(n===null&&(n=lr.empty()),n.set(r.field,s))}return n||null}function Xk(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Cf(r,i,((s,a)=>eQ(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ah extends Zx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vo extends Zx{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function y6(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Yk(t,e,n){const r=new Map;qe(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,ZY(a,o,n[i]))}return r}function Qk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,JY(s,a,e))}return r}class oh extends Zx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TC extends Zx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CC{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nQ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=tp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=tp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=c6();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const c=g6(a,o);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Ye.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),mt())}isEqual(e){return this.batchId===e.batchId&&Cf(this.mutations,e.mutations,((n,r)=>Xk(n,r)))&&Cf(this.baseMutations,e.baseMutations,((n,r)=>Xk(n,r)))}}class AC{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){qe(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return XY})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new AC(e,n,r,i)}}class PC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class v6{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}class iQ{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ln,Ct;function x6(t){switch(t){case fe.OK:return Le(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function b6(t){if(t===void 0)return jn("GRPC error has no .code"),fe.UNKNOWN;switch(t){case Ln.OK:return fe.OK;case Ln.CANCELLED:return fe.CANCELLED;case Ln.UNKNOWN:return fe.UNKNOWN;case Ln.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Ln.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Ln.INTERNAL:return fe.INTERNAL;case Ln.UNAVAILABLE:return fe.UNAVAILABLE;case Ln.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Ln.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Ln.NOT_FOUND:return fe.NOT_FOUND;case Ln.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Ln.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Ln.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Ln.ABORTED:return fe.ABORTED;case Ln.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Ln.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Ln.DATA_LOSS:return fe.DATA_LOSS;default:return Le(39323,{code:t})}}(Ct=Ln||(Ln={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";let yN=null;function sQ(t){if(yN)throw new Error("a TestingHooksSpi instance is already set");yN=t}function w6(){return new TextEncoder}const aQ=new ql([4294967295,4294967295],0);function Jk(t){const e=w6().encode(t),n=new lF;return n.update(e),new Uint8Array(n.digest())}function Zk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ql([n,r],0),new ql([i,s],0)]}class IC{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zm(`Invalid padding: ${n}`);if(r<0)throw new zm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ql.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ql.fromNumber(r)));return i.compare(aQ)===1&&(i=new ql([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Jk(e),[r,i]=Zk(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new IC(s,i,n);return r.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const n=Jk(e),[r,i]=Zk(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.be(a)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class rg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ig.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rg(Ye.min(),i,new tn(st),fi(),mt())}}class ig{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ig(r,n,mt(),mt(),mt())}}class Fv{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class _6{constructor(e,n){this.targetId=e,this.Ce=n}}class E6{constructor(e,n,r=wn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class eR{constructor(){this.ve=0,this.Fe=tR(),this.Me=wn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=mt(),n=mt(),r=mt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Le(38017,{changeType:s})}})),new ig(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=tR()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class oQ{constructor(e){this.Ge=e,this.ze=new Map,this.je=fi(),this.He=Xy(),this.Je=Xy(),this.Ze=new tn(st)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(m0(s))if(r===0){const a=new je(s.path);this.et(n,a,ln.newNoDocument(a,Ye.min()))}else qe(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),c=o?this.ct(o,e,a):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}yN?.lt((function(f,m,p,y,x){const b={localCacheCount:f,existenceFilterCount:m.count,databaseId:p.database,projectId:p.projectId},_=m.unchangedNames;return _&&(b.bloomFilter={applied:x===0,hashCount:_?.hashCount??0,bitmapLength:_?.bits?.bitmap?.length??0,padding:_?.bits?.padding??0,mightContain:S=>y?.mightContain(S)??!1}),b})(a,e.Ce,this.Ge.ht(),o,c))}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=To(r).toUint8Array()}catch(c){if(c instanceof FF)return yi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new IC(a,i,s)}catch(c){return yi(c instanceof zm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const o=this.ot(a);if(o){if(s.current&&m0(o.target)){const c=new je(o.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,ln.newNoDocument(c,e))}s.Be&&(n.set(a,s.ke()),s.Ke())}}));let r=mt();this.Je.forEach(((s,a)=>{let o=!0;a.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new rg(e,n,this.Ze,this.je,r);return this.je=fi(),this.He=Xy(),this.Je=Xy(),this.Ze=new tn(st),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new eR,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ht(st),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ht(st),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eR),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Xy(){return new tn(je.comparator)}function tR(){return new tn(je.comparator)}const lQ={asc:"ASCENDING",desc:"DESCENDING"},cQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uQ={and:"AND",or:"OR"};class dQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vN(t,e){return t.useProto3Json||Qp(e)?e:{value:e}}function Bf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function S6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fQ(t,e){return Bf(t,e.toTimestamp())}function kn(t){return qe(!!t,49232),Ye.fromTimestamp((function(n){const r=No(n);return new gt(r.seconds,r.nanos)})(t))}function jC(t,e){return xN(t,e).canonicalString()}function xN(t,e){const n=(function(i){return new xt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function N6(t){const e=xt.fromString(t);return qe(D6(e),10190,{key:e.toString()}),e}function Ep(t,e){return jC(t.databaseId,e.path)}function ka(t,e){const n=N6(e);if(n.get(1)!==t.databaseId.projectId)throw new be(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(A6(n))}function T6(t,e){return jC(t.databaseId,e)}function C6(t){const e=N6(t);return e.length===4?xt.emptyPath():A6(e)}function bN(t){return new xt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function A6(t){return qe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function nR(t,e,n){return{name:Ep(t,e),fields:n.value.mapValue.fields}}function eb(t,e,n){const r=ka(t,e.name),i=kn(e.updateTime),s=e.createTime?kn(e.createTime):Ye.min(),a=new lr({mapValue:{fields:e.fields}}),o=ln.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function hQ(t,e){return"found"in e?(function(r,i){qe(!!i.found,43571),i.found.name,i.found.updateTime;const s=ka(r,i.found.name),a=kn(i.found.updateTime),o=i.found.createTime?kn(i.found.createTime):Ye.min(),c=new lr({mapValue:{fields:i.found.fields}});return ln.newFoundDocument(s,a,o,c)})(t,e):"missing"in e?(function(r,i){qe(!!i.missing,3894),qe(!!i.readTime,22933);const s=ka(r,i.missing),a=kn(i.readTime);return ln.newNoDocument(s,a)})(t,e):Le(7234,{result:e})}function mQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Le(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(qe(f===void 0||typeof f=="string",58123),wn.fromBase64String(f||"")):(qe(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),wn.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(d){const f=d.code===void 0?fe.UNKNOWN:b6(d.code);return new be(f,d.message||"")})(a);n=new E6(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ka(t,r.document.name),s=kn(r.document.updateTime),a=r.document.createTime?kn(r.document.createTime):Ye.min(),o=new lr({mapValue:{fields:r.document.fields}}),c=ln.newFoundDocument(i,s,a,o),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Fv(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ka(t,r.document),s=r.readTime?kn(r.readTime):Ye.min(),a=ln.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Fv([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ka(t,r.document),s=r.removedTargetIds||[];n=new Fv([],s,i,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new iQ(i,s),o=r.targetId;n=new _6(o,a)}}return n}function Sp(t,e){let n;if(e instanceof ah)n={update:nR(t,e.key,e.value)};else if(e instanceof oh)n={delete:Ep(t,e.key)};else if(e instanceof Vo)n={update:nR(t,e.key,e.data),updateMask:bQ(e.fieldMask)};else{if(!(e instanceof TC))return Le(16599,{dt:e.type});n={verify:Ep(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const o=a.transform;if(o instanceof Vf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Tu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Cu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ff)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Le(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:fQ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Le(27497)})(t,e.precondition)),n}function wN(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?hn.updateTime(kn(s.updateTime)):s.exists!==void 0?hn.exists(s.exists):hn.none()})(e.currentDocument):hn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let c=null;if("setToServerValue"in o)qe(o.setToServerValue==="REQUEST_TIME",16630,{proto:o}),c=new Vf;else if("appendMissingElements"in o){const f=o.appendMissingElements.values||[];c=new Tu(f)}else if("removeAllFromArray"in o){const f=o.removeAllFromArray.values||[];c=new Cu(f)}else"increment"in o?c=new Ff(a,o.increment):Le(16584,{proto:o});const d=cn.fromServerFormat(o.fieldPath);return new ng(d,c)})(t,i))):[];if(e.update){e.update.name;const i=ka(t,e.update.name),s=new lr({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(c){const d=c.fieldPaths||[];return new di(d.map((f=>cn.fromServerFormat(f))))})(e.updateMask);return new Vo(i,s,a,n,r)}return new ah(i,s,n,r)}if(e.delete){const i=ka(t,e.delete);return new oh(i,n)}if(e.verify){const i=ka(t,e.verify);return new TC(i,n)}return Le(1463,{proto:e})}function pQ(t,e){return t&&t.length>0?(qe(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?kn(i.updateTime):kn(s);return a.isEqual(Ye.min())&&(a=kn(s)),new tQ(a,i.transformResults||[])})(n,e)))):[]}function P6(t,e){return{documents:[T6(t,e.path)]}}function tb(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=T6(t,i);const s=(function(d){if(d.length!==0)return R6($t.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(d){if(d.length!==0)return d.map((f=>(function(p){return{field:Il(p.field),direction:yQ(p.dir)}})(f)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=vN(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function I6(t,e,n,r){const{ft:i,parent:s}=tb(t,e),a={},o=[];let c=0;return n.forEach((d=>{const f=r?d.alias:"aggregate_"+c++;a[f]=d.alias,d.aggregateType==="count"?o.push({alias:f,count:{}}):d.aggregateType==="avg"?o.push({alias:f,avg:{field:Il(d.fieldPath)}}):d.aggregateType==="sum"&&o.push({alias:f,sum:{field:Il(d.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},gt:a,parent:s}}function j6(t){let e=C6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qe(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=(function(m){const p=k6(m);return p instanceof $t&&_C(p)?p.getFilters():[p]})(n.where));let a=[];n.orderBy&&(a=(function(m){return m.map((p=>(function(x){return new _p(ef(x.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(p)))})(n.orderBy));let o=null;n.limit&&(o=(function(m){let p;return p=typeof m=="object"?m.value:m,Qp(p)?null:p})(n.limit));let c=null;n.startAt&&(c=(function(m){const p=!!m.before,y=m.values||[];return new ec(y,p)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const p=!m.before,y=m.values||[];return new ec(y,p)})(n.endAt)),t6(e,i,a,s,o,"F",c,d)}function gQ(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function k6(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ef(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ef(n.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ef(n.unaryFilter.field);return St.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ef(n.unaryFilter.field);return St.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return St.create(ef(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return $t.create(n.compositeFilter.filters.map((r=>k6(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function yQ(t){return lQ[t]}function vQ(t){return cQ[t]}function xQ(t){return uQ[t]}function Il(t){return{fieldPath:t.canonicalString()}}function ef(t){return cn.fromServerFormat(t.fieldPath)}function R6(t){return t instanceof St?(function(n){if(n.op==="=="){if(Bk(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NAN"}};if(Fk(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bk(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NAN"}};if(Fk(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(n.field),op:vQ(n.op),value:n.value}}})(t):t instanceof $t?(function(n){const r=n.getFilters().map((i=>R6(i)));return r.length===1?r[0]:{compositeFilter:{op:xQ(n.op),filters:r}}})(t):Le(54877,{filter:t})}function bQ(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function D6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function O6(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class mo{constructor(e,n,r,i,s=Ye.min(),a=Ye.min(),o=wn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class M6{constructor(e){this.yt=e}}function wQ(t,e){let n;if(e.document)n=eb(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=je.fromSegments(e.noDocument.path),i=Pu(e.noDocument.readTime);n=ln.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Le(56709);{const r=je.fromSegments(e.unknownDocument.path),i=Pu(e.unknownDocument.version);n=ln.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new gt(i[0],i[1]);return Ye.fromTimestamp(s)})(e.readTime)),n}function rR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:y0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:Ep(s,a.key),fields:a.data.value.mapValue.fields,updateTime:Bf(s,a.version.toTimestamp()),createTime:Bf(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Au(e.version)};else{if(!e.isUnknownDocument())return Le(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Au(e.version)}}return r}function y0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Au(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pu(t){const e=new gt(t.seconds,t.nanoseconds);return Ye.fromTimestamp(e)}function tu(t,e){const n=(e.baseMutations||[]).map((s=>wN(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>wN(t.yt,s))),i=gt.fromMillis(e.localWriteTimeMs);return new CC(e.batchId,i,n,r)}function Um(t){const e=Pu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Pu(t.lastLimboFreeSnapshotVersion):Ye.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return qe(a===1,1966,{count:a}),zr(sh(C6(s.documents[0])))})(t.query):(function(s){return zr(j6(s))})(t.query),new mo(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,wn.fromBase64String(t.resumeToken))}function L6(t,e){const n=Au(e.snapshotVersion),r=Au(e.lastLimboFreeSnapshotVersion);let i;i=m0(e.target)?P6(t.yt,e.target):tb(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Nu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function nb(t){const e=j6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?g0(e,e.limit,"L"):e}function e_(t,e){return new PC(e.largestBatchId,wN(t.yt,e.overlayMutation))}function iR(t,e){const n=e.path.lastSegment();return[t,Br(e.path.popLast()),n]}function sR(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Au(r.readTime),documentKey:Br(r.documentKey.path),largestBatchId:r.largestBatchId}}class _Q{getBundleMetadata(e,n){return aR(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Pu(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return aR(e).put((function(i){return{bundleId:i.id,createTime:Au(kn(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return oR(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:nb(s.bundledQuery),readTime:Pu(s.readTime)}})(r)}))}saveNamedQuery(e,n){return oR(e).put((function(i){return{name:i.name,readTime:Au(kn(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function aR(t){return Yn(t,Wx)}function oR(t){return Yn(t,Kx)}class rb{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new rb(e,r)}getOverlay(e,n){return gm(e).get(iR(this.userId,n)).next((r=>r?e_(this.serializer,r):null))}getOverlays(e,n){const r=Na();return le.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const o=new PC(n,a);i.push(this.bt(e,o))})),le.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(Br(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(gm(e).X(cN,o))})),le.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Na(),s=Br(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return gm(e).H(cN,a).next((o=>{for(const c of o){const d=e_(this.serializer,c);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Na();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return gm(e).ee({index:kF,range:o},((c,d,f)=>{const m=e_(this.serializer,d);s.size()<i||m.largestBatchId===a?(s.set(m.getKey(),m),a=m.largestBatchId):f.done()})).next((()=>s))}bt(e,n){return gm(e).put((function(i,s,a){const[o,c,d]=iR(s,a.mutation.key);return{userId:s,collectionPath:c,documentId:d,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Sp(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function gm(t){return Yn(t,Gx)}class EQ{St(e){return Yn(e,vC)}getSessionToken(e){return this.St(e).get("sessionToken").next((n=>{const r=n?.value;return r?wn.fromUint8Array(r):wn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}class nu{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(fn(e.integerValue));else if("doubleValue"in e){const r=fn(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),mp(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=No(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(To(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?HF(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):Qx(e)?this.kt(e.mapValue,n):(this.Kt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Nt(n)):Le(19022,{Ut:e})}Ot(e,n){this.Ft(n,25),this.$t(e,n)}$t(e,n){n.xt(e)}Kt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=Of,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(fn(s)),this.Ot(i,n),this.Ct(r[i],n)}qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),je.fromName(e).path.forEach((r=>{this.Ft(n,60),this.$t(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}nu.Wt=new nu;const zd=255;function SQ(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function lR(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=SQ(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class NQ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=n.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const n=this.en(e),r=lR(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=lR(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(zd),this.sn(255)}_n(){this.an(zd),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===zd?(this.sn(zd),this.sn(0)):this.sn(n)}Ht(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===zd?(this.an(zd),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class TQ{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class CQ{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class ym{constructor(){this.cn=new NQ,this.ascending=new TQ(this.cn),this.descending=new CQ(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class ru{constructor(e,n,r,i){this.hn=e,this.Pn=n,this.Tn=r,this.In=i}En(){const e=this.In.length,n=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.In,0),n!==e?r.set([0],this.In.length):++r[r.length-1],new ru(this.hn,this.Pn,this.Tn,r)}Rn(e,n,r){return{indexId:this.hn,uid:e,arrayValue:Bv(this.Tn),directionalValue:Bv(this.In),orderedDocumentKey:Bv(n),documentKey:r.path.toArray()}}An(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function xl(t,e){let n=t.hn-e.hn;return n!==0?n:(n=cR(t.Tn,e.Tn),n!==0?n:(n=cR(t.In,e.In),n!==0?n:je.comparator(t.Pn,e.Pn)))}function cR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Bv(t){return tF()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function uR(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class dR{constructor(e){this.Vn=new Ht(((n,r)=>cn.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(qe(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=aN(e);if(n!==void 0&&!this.pn(n))return!1;const r=Gc(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.pn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Vn.size>0){const o=this.Vn.getIterator().getNext();if(!i.has(o.field.canonicalString())){const c=r[s];if(!this.yn(o,c)||!this.wn(this.dn[a++],c))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.dn.length||!this.wn(this.dn[a++],o))return!1}return!0}bn(){if(this.fn)return null;let e=new Ht(cn.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new hu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new hu(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new hu(r.field,r.dir==="asc"?0:1)));return new Pf(Pf.UNKNOWN_ID,this.collectionId,n,If.empty())}pn(e){for(const n of this.mn)if(this.yn(n,e))return!0;return!1}yn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}wn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function V6(t){if(qe(t instanceof St||t instanceof $t,20012),t instanceof St){if(t instanceof e6){const n=t.value.arrayValue?.values?.map((r=>St.create(t.field,"==",r)))||[];return $t.create(n,"or")}return t}const e=t.filters.map((n=>V6(n)));return $t.create(e,t.op)}function AQ(t){if(t.getFilters().length===0)return[];const e=SN(V6(t));return qe(F6(e),7391),_N(e)||EN(e)?[e]:e.getFilters()}function _N(t){return t instanceof St}function EN(t){return t instanceof $t&&_C(t)}function F6(t){return _N(t)||EN(t)||(function(n){if(n instanceof $t&&hN(n)){for(const r of n.getFilters())if(!_N(r)&&!EN(r))return!1;return!0}return!1})(t)}function SN(t){if(qe(t instanceof St||t instanceof $t,34018),t instanceof St)return t;if(t.filters.length===1)return SN(t.filters[0]);const e=t.filters.map((r=>SN(r)));let n=$t.create(e,t.op);return n=v0(n),F6(n)?n:(qe(n instanceof $t,64498),qe(Lf(n),40251),qe(n.filters.length>1,57927),n.filters.reduce(((r,i)=>kC(r,i))))}function kC(t,e){let n;return qe(t instanceof St||t instanceof $t,38388),qe(e instanceof St||e instanceof $t,25473),n=t instanceof St?e instanceof St?(function(i,s){return $t.create([i,s],"and")})(t,e):fR(t,e):e instanceof St?fR(e,t):(function(i,s){if(qe(i.filters.length>0&&s.filters.length>0,48005),Lf(i)&&Lf(s))return QF(i,s.getFilters());const a=hN(i)?i:s,o=hN(i)?s:i,c=a.filters.map((d=>kC(d,o)));return $t.create(c,"or")})(t,e),v0(n)}function fR(t,e){if(Lf(e))return QF(e,t.getFilters());{const n=e.filters.map((r=>kC(t,r)));return $t.create(n,"or")}}function v0(t){if(qe(t instanceof St||t instanceof $t,11850),t instanceof St)return t;const e=t.getFilters();if(e.length===1)return v0(e[0]);if(XF(t))return t;const n=e.map((i=>v0(i))),r=[];return n.forEach((i=>{i instanceof St?r.push(i):i instanceof $t&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:$t.create(r,t.op)}class PQ{constructor(){this.Sn=new RC}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Bi.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Bi.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class RC{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ht(xt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ht(xt.comparator)).toArray()}}const hR="IndexedDbIndexManager",Yy=new Uint8Array(0);class IQ{constructor(e,n){this.databaseId=n,this.Dn=new RC,this.Cn=new Lo((r=>Nu(r)),((r,i)=>Zp(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Dn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.Dn.add(n)}));const s={collectionId:r,parent:Br(i)};return mR(e).put(s)}return le.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[yF(n),""],!1,!0);return mR(e).H(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(Sa(a.parent))}return r}))}addFieldIndex(e,n){const r=vm(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=$d(e);return s.next((o=>{a.put(sR(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=vm(e),i=$d(e),s=Ud(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=vm(e),r=Ud(e),i=$d(e);return n.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,n){return le.forEach(this.vn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new dR(r).bn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Ud(e);let i=!0;const s=new Map;return le.forEach(this.vn(n),(a=>this.Fn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=mt();const o=[];return le.forEach(s,((c,d)=>{we(hR,`Using index ${(function(R){return`id=${R.indexId}|cg=${R.collectionGroup}|f=${R.fields.map((z=>`${z.fieldPath}:${z.kind}`)).join(",")}`})(c)} to execute ${Nu(n)}`);const f=(function(R,z){const P=aN(z);if(P===void 0)return null;for(const A of p0(R,P.fieldPath))switch(A.op){case"array-contains-any":return A.value.arrayValue.values||[];case"array-contains":return[A.value]}return null})(d,c),m=(function(R,z){const P=new Map;for(const A of Gc(z))for(const N of p0(R,A.fieldPath))switch(N.op){case"==":case"in":P.set(A.fieldPath.canonicalString(),N.value);break;case"not-in":case"!=":return P.set(A.fieldPath.canonicalString(),N.value),Array.from(P.values())}return null})(d,c),p=(function(R,z){const P=[];let A=!0;for(const N of Gc(z)){const T=N.kind===0?Hk(R,N.fieldPath,R.startAt):Wk(R,N.fieldPath,R.startAt);P.push(T.value),A&&(A=T.inclusive)}return new ec(P,A)})(d,c),y=(function(R,z){const P=[];let A=!0;for(const N of Gc(z)){const T=N.kind===0?Wk(R,N.fieldPath,R.endAt):Hk(R,N.fieldPath,R.endAt);P.push(T.value),A&&(A=T.inclusive)}return new ec(P,A)})(d,c),x=this.Mn(c,d,p),b=this.Mn(c,d,y),_=this.xn(c,d,m),S=this.On(c.indexId,f,x,p.inclusive,b,y.inclusive,_);return le.forEach(S,(O=>r.Z(O,n.limit).next((R=>{R.forEach((z=>{const P=je.fromSegments(z.documentKey);a.has(P)||(a=a.add(P),o.push(P))}))}))))})).next((()=>o))}return le.resolve(null)}))}vn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=AQ($t.create(e.filters,"and")).map((r=>pN(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,n),n)}On(e,n,r,i,s,a,o){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),d=c/(n!=null?n.length:1),f=[];for(let m=0;m<c;++m){const p=n?this.Nn(n[m/d]):Yy,y=this.Bn(e,p,r[m%d],i),x=this.Ln(e,p,s[m%d],a),b=o.map((_=>this.Bn(e,p,_,!0)));f.push(...this.createRange(y,x,b))}return f}Bn(e,n,r,i){const s=new ru(e,je.empty(),n,r);return i?s:s.En()}Ln(e,n,r,i){const s=new ru(e,je.empty(),n,r);return i?s.En():s}Fn(e,n){const r=new dR(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)r.gn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,n){let r=2;const i=this.vn(n);return le.forEach(i,(s=>this.Fn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(c){let d=new Ht(cn.comparator),f=!1;for(const m of c.filters)for(const p of m.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?f=!0:d=d.add(p.field));for(const m of c.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(f?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}kn(e,n){const r=new ym;for(const i of Gc(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.ln(i.kind);nu.Wt.Dt(s,a)}return r.un()}Nn(e){const n=new ym;return nu.Wt.Dt(e,n.ln(0)),n.un()}Kn(e,n){const r=new ym;return nu.Wt.Dt(Su(this.databaseId,n),r.ln((function(s){const a=Gc(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}xn(e,n,r){if(r===null)return[];let i=[];i.push(new ym);let s=0;for(const a of Gc(e)){const o=r[s++];for(const c of i)if(this.qn(n,a.fieldPath)&&wp(o))i=this.Un(i,a,o);else{const d=c.ln(a.kind);nu.Wt.Dt(o,d)}}return this.$n(i)}Mn(e,n,r){return this.xn(e,n,r.position)}$n(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Un(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const c=new ym;c.seed(o.un()),nu.Wt.Dt(a,c.ln(n.kind)),s.push(c)}return s}qn(e,n){return!!e.filters.find((r=>r instanceof St&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=vm(e),i=$d(e);return(n?r.H(lN,IDBKeyRange.bound(n,n)):r.H()).next((s=>{const a=[];return le.forEach(s,(o=>i.get([o.indexId,this.uid]).next((c=>{a.push((function(f,m){const p=m?new If(m.sequenceNumber,new Bi(Pu(m.readTime),new je(Sa(m.documentKey)),m.largestBatchId)):If.empty(),y=f.fields.map((([x,b])=>new hu(cn.fromServerFormat(x),b)));return new Pf(f.indexId,f.collectionGroup,y,p)})(o,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:st(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=vm(e),s=$d(e);return this.Wn(e).next((a=>i.H(lN,IDBKeyRange.bound(n,n)).next((o=>le.forEach(o,(c=>s.put(sR(c.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return le.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?le.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(r.set(i.collectionGroup,o),le.forEach(o,(c=>this.Qn(e,i,c).next((d=>{const f=this.Gn(s,c);return d.isEqual(f)?le.resolve():this.zn(e,s,c,d,f)})))))))}))}jn(e,n,r,i){return Ud(e).put(i.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(e,n,r,i){return Ud(e).delete(i.An(this.uid,this.Kn(r,n.key),n.key))}Qn(e,n,r){const i=Ud(e);let s=new Ht(xl);return i.ee({index:jF,range:IDBKeyRange.only([r.indexId,this.uid,Bv(this.Kn(r,n))])},((a,o)=>{s=s.add(new ru(r.indexId,n,uR(o.arrayValue),uR(o.directionalValue)))})).next((()=>s))}Gn(e,n){let r=new Ht(xl);const i=this.kn(n,e);if(i==null)return r;const s=aN(n);if(s!=null){const a=e.data.field(s.fieldPath);if(wp(a))for(const o of a.arrayValue.values||[])r=r.add(new ru(n.indexId,e.key,this.Nn(o),i))}else r=r.add(new ru(n.indexId,e.key,Yy,i));return r}zn(e,n,r,i,s){we(hR,"Updating index entries for document '%s'",n.key);const a=[];return(function(c,d,f,m,p){const y=c.getIterator(),x=d.getIterator();let b=Bd(y),_=Bd(x);for(;b||_;){let S=!1,O=!1;if(b&&_){const R=f(b,_);R<0?O=!0:R>0&&(S=!0)}else b!=null?O=!0:S=!0;S?(m(_),_=Bd(x)):O?(p(b),b=Bd(y)):(b=Bd(y),_=Bd(x))}})(i,s,xl,(o=>{a.push(this.jn(e,n,r,o))}),(o=>{a.push(this.Hn(e,n,r,o))})),le.waitFor(a)}Wn(e){let n=1;return $d(e).ee({index:IF,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,o)=>xl(a,o))).filter(((a,o,c)=>!o||xl(a,c[o-1])!==0));const i=[];i.push(e);for(const a of r){const o=xl(a,e),c=xl(a,n);if(o===0)i[0]=e.En();else if(o>0&&c<0)i.push(a),i.push(a.En());else if(c>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Jn(i[a],i[a+1]))return[];const o=i[a].An(this.uid,Yy,je.empty()),c=i[a+1].An(this.uid,Yy,je.empty());s.push(IDBKeyRange.bound(o,c))}return s}Jn(e,n){return xl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(pR)}getMinOffset(e,n){return le.mapArray(this.vn(n),(r=>this.Fn(e,r).next((i=>i||Le(44426))))).next(pR)}}function mR(t){return Yn(t,yp)}function Ud(t){return Yn(t,Jm)}function vm(t){return Yn(t,yC)}function $d(t){return Yn(t,Qm)}function pR(t){qe(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;mC(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Bi(e.readTime,e.documentKey,n)}const gR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},B6=41943040;class Vr{static withCacheSize(e){return new Vr(e,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function z6(t,e,n){const r=t.store(Cs),i=t.store(jf),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const c=r.ee({range:a},((f,m,p)=>(o++,p.delete())));s.push(c.next((()=>{qe(o===1,47070,{batchId:n.batchId})})));const d=[];for(const f of n.mutations){const m=CF(e,f.key.path,n.batchId);s.push(i.delete(m)),d.push(f.key)}return le.waitFor(s).next((()=>d))}function x0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Le(14731);e=t.noDocument}return JSON.stringify(e).length}Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(B6,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);class ib{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,n,r,i){qe(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new ib(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return bl(e).ee({index:su,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=tf(e),a=bl(e);return a.add({}).next((o=>{qe(typeof o=="number",49019);const c=new CC(o,n,r,i),d=(function(y,x,b){const _=b.baseMutations.map((O=>Sp(y.yt,O))),S=b.mutations.map((O=>Sp(y.yt,O)));return{userId:x,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:_,mutations:S}})(this.serializer,this.userId,c),f=[];let m=new Ht(((p,y)=>st(p.canonicalString(),y.canonicalString())));for(const p of i){const y=CF(this.userId,p.key.path,o);m=m.add(p.key.path.popLast()),f.push(a.put(d)),f.push(s.put(y,sY))}return m.forEach((p=>{f.push(this.indexManager.addToCollectionParentIndex(e,p))})),e.addOnCommittedListener((()=>{this.Zn[o]=c.keys()})),le.waitFor(f).next((()=>c))}))}lookupMutationBatch(e,n){return bl(e).get(n).next((r=>r?(qe(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),tu(this.serializer,r)):null))}Xn(e,n){return this.Zn[n]?le.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return bl(e).ee({index:su,range:i},((a,o,c)=>{o.userId===this.userId&&(qe(o.batchId>=r,47524,{Yn:r}),s=tu(this.serializer,o)),c.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Hl;return bl(e).ee({index:su,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Hl],[this.userId,Number.POSITIVE_INFINITY]);return bl(e).H(su,n).next((r=>r.map((i=>tu(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Rv(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return tf(e).ee({range:i},((a,o,c)=>{const[d,f,m]=a,p=Sa(f);if(d===this.userId&&n.path.isEqual(p))return bl(e).get(m).next((y=>{if(!y)throw Le(61480,{er:a,batchId:m});qe(y.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:y.userId,batchId:m}),s.push(tu(this.serializer,y))}));c.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ht(st);const i=[];return n.forEach((s=>{const a=Rv(this.userId,s.path),o=IDBKeyRange.lowerBound(a),c=tf(e).ee({range:o},((d,f,m)=>{const[p,y,x]=d,b=Sa(y);p===this.userId&&s.path.isEqual(b)?r=r.add(x):m.done()}));i.push(c)})),le.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Rv(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new Ht(st);return tf(e).ee({range:a},((c,d,f)=>{const[m,p,y]=c,x=Sa(p);m===this.userId&&r.isPrefixOf(x)?x.length===i&&(o=o.add(y)):f.done()})).next((()=>this.tr(e,o)))}tr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(bl(e).get(s).next((a=>{if(a===null)throw Le(35274,{batchId:s});qe(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(tu(this.serializer,a))})))})),le.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return z6(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.nr(n.batchId)})),le.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return le.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return tf(e).ee({range:r},((s,a,o)=>{if(s[0]===this.userId){const c=Sa(s[1]);i.push(c)}else o.done()})).next((()=>{qe(i.length===0,56720,{rr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return U6(e,this.userId,n)}ir(e){return $6(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Hl,lastStreamToken:""}))}}function U6(t,e,n){const r=Rv(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return tf(t).ee({range:s,Y:!0},((o,c,d)=>{const[f,m,p]=o;f===e&&m===i&&(a=!0),d.done()})).next((()=>a))}function bl(t){return Yn(t,Cs)}function tf(t){return Yn(t,jf)}function $6(t){return Yn(t,pp)}class Iu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Iu(0)}static ar(){return new Iu(-1)}}class jQ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.ur(e).next((n=>{const r=new Iu(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((n=>Ye.fromTimestamp(new gt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.cr(e,i))))}addTargetData(e,n){return this.lr(e,n).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(n,r),this.cr(e,r))))))}updateTargetData(e,n){return this.lr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>qd(e).delete(n.targetId))).next((()=>this.ur(e))).next((r=>(qe(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return qd(e).ee(((a,o)=>{const c=Um(o);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))})).next((()=>le.waitFor(s))).next((()=>i))}forEachTarget(e,n){return qd(e).ee(((r,i)=>{const s=Um(i);n(s)}))}ur(e){return yR(e).get(h0).next((n=>(qe(n!==null,2888),n)))}cr(e,n){return yR(e).put(h0,n)}lr(e,n){return qd(e).put(L6(this.serializer,n))}hr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Nu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return qd(e).ee({range:i,index:PF},((a,o,c)=>{const d=Um(o);Zp(n,d.target)&&(s=d,c.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=jl(e);return n.forEach((a=>{const o=Br(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))})),le.waitFor(i)}removeMatchingKeys(e,n,r){const i=jl(e);return le.forEach(n,(s=>{const a=Br(s.path);return le.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=jl(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=jl(e);let s=mt();return i.ee({range:r,Y:!0},((a,o,c)=>{const d=Sa(a[1]),f=new je(d);s=s.add(f)})).next((()=>s))}containsKey(e,n){const r=Br(n.path),i=IDBKeyRange.bound([r],[yF(r)],!1,!0);let s=0;return jl(e).ee({index:gC,Y:!0,range:i},(([a,o],c,d)=>{a!==0&&(s++,d.done())})).next((()=>s>0))}At(e,n){return qd(e).get(n).next((r=>r?Um(r):null))}}function qd(t){return Yn(t,kf)}function yR(t){return Yn(t,mu)}function jl(t){return Yn(t,Rf)}const vR="LruGarbageCollector",q6=1048576;function xR([t,e],[n,r]){const i=st(t,n);return i===0?st(e,r):i}class kQ{constructor(e){this.Pr=e,this.buffer=new Ht(xR),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();xR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class H6{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(vR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uc(n)?we(vR,"Ignoring IndexedDB error during garbage collection: ",n):await cc(n)}await this.Ar(3e5)}))}}class RQ{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(ui.ce);const r=new kQ(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(gR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gR):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,a,o,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,o=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),Jd()<=_t.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(c-o)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function W6(t,e){return new RQ(t,e)}class DQ{constructor(e,n){this.db=e,this.garbageCollector=W6(this,n)}dr(e){const n=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}mr(e,n){return this.yr(e,((r,i)=>n(i)))}addReference(e,n,r){return Qy(e,r)}removeReference(e,n,r){return Qy(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Qy(e,n)}wr(e,n){return(function(i,s){let a=!1;return $6(i).te((o=>U6(i,o,s).next((c=>(c&&(a=!0),le.resolve(!c)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.yr(e,((a,o)=>{if(o<=n){const c=this.wr(e,a).next((d=>{if(!d)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Ye.min()),jl(e).delete((function(m){return[0,Br(m.path)]})(a)))))}));i.push(c)}})).next((()=>le.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Qy(e,n)}yr(e,n){const r=jl(e);let i,s=ui.ce;return r.ee({index:gC},(([a,o],{path:c,sequenceNumber:d})=>{a===0?(s!==ui.ce&&n(new je(Sa(i)),s),s=d,i=c):s=ui.ce})).next((()=>{s!==ui.ce&&n(new je(Sa(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qy(t,e){return jl(t).put((function(r,i){return{targetId:0,path:Br(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class K6{constructor(){this.changes=new Lo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class OQ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return $c(e).put(r)}removeEntry(e,n,r){return $c(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],y0(a),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.br(e,r))))}getEntry(e,n){let r=ln.newInvalidDocument(n);return $c(e).ee({index:Dv,range:IDBKeyRange.only(xm(n))},((i,s)=>{r=this.Sr(n,s)})).next((()=>r))}Dr(e,n){let r={size:0,document:ln.newInvalidDocument(n)};return $c(e).ee({index:Dv,range:IDBKeyRange.only(xm(n))},((i,s)=>{r={document:this.Sr(n,s),size:x0(s)}})).next((()=>r))}getEntries(e,n){let r=fi();return this.Cr(e,n,((i,s)=>{const a=this.Sr(i,s);r=r.insert(i,a)})).next((()=>r))}vr(e,n){let r=fi(),i=new tn(je.comparator);return this.Cr(e,n,((s,a)=>{const o=this.Sr(s,a);r=r.insert(s,o),i=i.insert(s,x0(a))})).next((()=>({documents:r,Fr:i})))}Cr(e,n,r){if(n.isEmpty())return le.resolve();let i=new Ht(_R);n.forEach((c=>i=i.add(c)));const s=IDBKeyRange.bound(xm(i.first()),xm(i.last())),a=i.getIterator();let o=a.getNext();return $c(e).ee({index:Dv,range:s},((c,d,f)=>{const m=je.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;o&&_R(o,m)<0;)r(o,null),o=a.getNext();o&&o.isEqual(m)&&(r(o,d),o=a.hasNext()?a.getNext():null),o?f.j(xm(o)):f.done()})).next((()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),y0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $c(e).H(IDBKeyRange.bound(o,c,!0)).next((d=>{s?.incrementDocumentReadCount(d.length);let f=fi();for(const m of d){const p=this.Sr(je.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);p.isFoundDocument()&&(tg(n,p)||i.has(p.key))&&(f=f.insert(p.key,p))}return f}))}getAllFromCollectionGroup(e,n,r,i){let s=fi();const a=wR(n,r),o=wR(n,Bi.max());return $c(e).ee({index:AF,range:IDBKeyRange.bound(a,o,!0)},((c,d,f)=>{const m=this.Sr(je.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(m.key,m),s.size===i&&f.done()})).next((()=>s))}newChangeBuffer(e){return new MQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return bR(e).get(oN).next((n=>(qe(!!n,20021),n)))}br(e,n){return bR(e).put(oN,n)}Sr(e,n){if(n){const r=wQ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ye.min())))return r}return ln.newInvalidDocument(e)}}function G6(t){return new OQ(t)}class MQ extends K6{constructor(e,n){super(),this.Mr=e,this.trackRemovals=n,this.Or=new Lo((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Ht(((s,a)=>st(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.Or.get(s);if(n.push(this.Mr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const c=rR(this.Mr.serializer,a);i=i.add(s.path.popLast());const d=x0(c);r+=d-o.size,n.push(this.Mr.addEntry(e,s,c))}else if(r-=o.size,this.trackRemovals){const c=rR(this.Mr.serializer,a.convertToNoDocument(Ye.min()));n.push(this.Mr.addEntry(e,s,c))}})),i.forEach((s=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Mr.updateMetadata(e,r)),le.waitFor(n)}getFromCache(e,n){return this.Mr.Dr(e,n).next((r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Mr.vr(e,n).next((({documents:r,Fr:i})=>(i.forEach(((s,a)=>{this.Or.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function bR(t){return Yn(t,gp)}function $c(t){return Yn(t,f0)}function xm(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function wR(t,e){const n=e.documentKey.path.toArray();return[t,y0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function _R(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=st(n[s],r[s]),i)return i;return i=st(n.length,r.length),i||(i=st(n[n.length-2],r[r.length-2]),i||st(n[n.length-1],r[r.length-1]))}class LQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class X6{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&tp(r.mutation,i,di.empty(),gt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,mt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=mt()){const i=Na();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=Bm();return s.forEach(((o,c)=>{a=a.insert(o,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Na();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,mt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{n.set(a,o)}))}))}computeViews(e,n,r,i){let s=fi();const a=ep(),o=(function(){return ep()})();return n.forEach(((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Vo)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),tp(f.mutation,d,f.mutation.getFieldMask(),gt.now())):a.set(d.key,di.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((d,f)=>a.set(d,f))),n.forEach(((d,f)=>o.set(d,new LQ(f,a.get(d)??null)))),o)))}recalculateAndSaveOverlays(e,n){const r=ep();let i=new tn(((a,o)=>a-o)),s=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const o of a)o.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||di.empty();f=o.applyToLocalView(d,f),r.set(c,f);const m=(i.get(o.batchId)||mt()).add(c);i=i.insert(o.batchId,m)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),d=c.key,f=c.value,m=c6();f.forEach((p=>{if(!s.has(p)){const y=g6(n.get(p),r.get(p));y!==null&&m.set(p,y),s=s.add(p)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return le.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return $Y(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):le.resolve(Na());let o=Af,c=s;return a.next((d=>le.forEach(d,((f,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),s.get(f)?le.resolve():this.remoteDocumentCache.getEntry(e,f).next((p=>{c=c.insert(f,p)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,c,d,mt()))).next((f=>({batchId:o,changes:l6(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((r=>{let i=Bm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Bm();return this.indexManager.getCollectionParents(e,s).next((o=>le.forEach(o,(c=>{const d=(function(m,p){return new Mo(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((m,p)=>{a=a.insert(m,p)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((c,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,ln.newInvalidDocument(f)))}));let o=Bm();return a.forEach(((c,d)=>{const f=s.get(c);f!==void 0&&tp(f.mutation,d,di.empty(),gt.now()),tg(n,d)&&(o=o.insert(c,d))})),o}))}}class VQ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:kn(i.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:nb(i.bundledQuery),readTime:kn(i.readTime)}})(n)),le.resolve()}}class FQ{constructor(){this.overlays=new tn(je.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Na();return le.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=Na(),s=n.length+1,a=new je(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const c=o.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tn(((d,f)=>d-f));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Na(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const o=Na(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,f)=>o.set(d,f))),!(o.size()>=i)););return le.resolve(o)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new PC(n,r));let s=this.Lr.get(n);s===void 0&&(s=mt(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class BQ{constructor(){this.sessionToken=wn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class DC{constructor(){this.kr=new Ht(ir.Kr),this.qr=new Ht(ir.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ir(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ir(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new je(new xt([])),r=new ir(n,e),i=new ir(n,e+1),s=[];return this.qr.forEachInRange([r,i],(a=>{this.Wr(a),s.push(a.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new je(new xt([])),r=new ir(n,e),i=new ir(n,e+1);let s=mt();return this.qr.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new ir(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ir{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return je.comparator(e.key,n.key)||st(e.Hr,n.Hr)}static Ur(e,n){return st(e.Hr,n.Hr)||je.comparator(e.key,n.key)}}class zQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ht(ir.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new CC(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Jr=this.Jr.add(new ir(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return le.resolve(a)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Hl:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ir(n,0),i=new ir(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(a=>{const o=this.Zr(a.Hr);s.push(o)})),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ht(st);return n.forEach((i=>{const s=new ir(i,0),a=new ir(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],(o=>{r=r.add(o.Hr)}))})),le.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;je.isDocumentKey(s)||(s=s.child(""));const a=new ir(new je(s),0);let o=new Ht(st);return this.Jr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(o=o.add(c.Hr)),!0)}),a),le.resolve(this.Yr(o))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return le.forEach(n.mutations,(i=>{const s=new ir(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new ir(n,0),i=this.Jr.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class UQ{constructor(e){this.ti=e,this.docs=(function(){return new tn(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ln.newInvalidDocument(i))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fi();const a=n.path,o=new je(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||mC(_F(f),r)<=0||(i.has(f.key)||tg(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return le.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Le(9500)}ni(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new $Q(this)}getSize(e){return le.resolve(this.size)}}class $Q extends K6{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class qQ{constructor(e){this.persistence=e,this.ri=new Lo((n=>Nu(n)),Zp),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.ii=0,this.si=new DC,this.targetCount=0,this.oi=Iu._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Iu(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),le.waitFor(s).next((()=>i))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),le.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}class OC{constructor(e,n){this._i={},this.overlays={},this.ai=new ui(0),this.ui=!1,this.ui=!0,this.ci=new BQ,this.referenceDelegate=e(this),this.li=new qQ(this),this.indexManager=new PQ,this.remoteDocumentCache=(function(i){return new UQ(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new M6(n),this.Pi=new VQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new zQ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new HQ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return le.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class HQ extends SF{constructor(e){super(),this.currentSequenceNumber=e}}class sb{constructor(e){this.persistence=e,this.Ri=new DC,this.Ai=null}static Vi(e){return new sb(e)}get di(){if(this.Ai)return this.Ai;throw Le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(r=>{const i=je.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,Ye.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class b0{constructor(e,n){this.persistence=e,this.fi=new Lo((r=>Br(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=W6(this,n)}static Vi(e,n){return new b0(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return le.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?le.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(a=>this.wr(e,a,n).next((o=>{o||(r++,s.removeEntry(a,Ye.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Mv(e.data.value)),n}wr(e,n,r){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class WQ{constructor(e){this.serializer=e}k(e,n,r,i){const s=new Hx("createOrUpgrade",n);r<1&&i>=1&&((function(c){c.createObjectStore(Jp)})(e),(function(c){c.createObjectStore(pp,{keyPath:iY}),c.createObjectStore(Cs,{keyPath:Rk,autoIncrement:!0}).createIndex(su,Dk,{unique:!0}),c.createObjectStore(jf)})(e),ER(e),(function(c){c.createObjectStore(Xc)})(e));let a=le.resolve();return r<3&&i>=3&&(r!==0&&((function(c){c.deleteObjectStore(Rf),c.deleteObjectStore(kf),c.deleteObjectStore(mu)})(e),ER(e)),a=a.next((()=>(function(c){const d=c.store(mu),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ye.min().toTimestamp(),targetCount:0};return d.put(h0,f)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(c,d){return d.store(Cs).H().next((m=>{c.deleteObjectStore(Cs),c.createObjectStore(Cs,{keyPath:Rk,autoIncrement:!0}).createIndex(su,Dk,{unique:!0});const p=d.store(Cs),y=m.map((x=>p.put(x)));return le.waitFor(y)}))})(e,s)))),a=a.next((()=>{(function(c){c.createObjectStore(Df,{keyPath:hY})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.gi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(c){c.createObjectStore(gp)})(e),this.pi(s))))),r<7&&i>=7&&(a=a.next((()=>this.yi(s)))),r<8&&i>=8&&(a=a.next((()=>this.wi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.bi(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(c){c.createObjectStore(Wx,{keyPath:mY})})(e),(function(c){c.createObjectStore(Kx,{keyPath:pY})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(c){const d=c.createObjectStore(Gx,{keyPath:_Y});d.createIndex(cN,EY,{unique:!1}),d.createIndex(kF,SY,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(c){const d=c.createObjectStore(f0,{keyPath:aY});d.createIndex(Dv,oY),d.createIndex(AF,lY)})(e))).next((()=>this.Si(e,s))).next((()=>e.deleteObjectStore(Xc)))),r<14&&i>=14&&(a=a.next((()=>this.Di(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(c){c.createObjectStore(yC,{keyPath:gY,autoIncrement:!0}).createIndex(lN,yY,{unique:!1}),c.createObjectStore(Qm,{keyPath:vY}).createIndex(IF,xY,{unique:!1}),c.createObjectStore(Jm,{keyPath:bY}).createIndex(jF,wY,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(Qm).clear()})).next((()=>{n.objectStore(Jm).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(c){c.createObjectStore(vC,{keyPath:NY})})(e)}))),r<18&&i>=18&&tF()&&(a=a.next((()=>{n.objectStore(Qm).clear()})).next((()=>{n.objectStore(Jm).clear()}))),a}pi(e){let n=0;return e.store(Xc).ee(((r,i)=>{n+=x0(i)})).next((()=>{const r={byteSize:n};return e.store(gp).put(oN,r)}))}gi(e){const n=e.store(pp),r=e.store(Cs);return n.H().next((i=>le.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,Hl],[s.userId,s.lastAcknowledgedBatchId]);return r.H(su,a).next((o=>le.forEach(o,(c=>{qe(c.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const d=tu(this.serializer,c);return z6(e,s.userId,d).next((()=>{}))}))))}))))}yi(e){const n=e.store(Rf),r=e.store(Xc);return e.store(mu).get(h0).next((i=>{const s=[];return r.ee(((a,o)=>{const c=new xt(a),d=(function(m){return[0,Br(m)]})(c);s.push(n.get(d).next((f=>f?le.resolve():(m=>n.put({targetId:0,path:Br(m),sequenceNumber:i.highestListenSequenceNumber}))(c))))})).next((()=>le.waitFor(s)))}))}wi(e,n){e.createObjectStore(yp,{keyPath:fY});const r=n.store(yp),i=new RC,s=a=>{if(i.add(a)){const o=a.lastSegment(),c=a.popLast();return r.put({collectionId:o,parent:Br(c)})}};return n.store(Xc).ee({Y:!0},((a,o)=>{const c=new xt(a);return s(c.popLast())})).next((()=>n.store(jf).ee({Y:!0},(([a,o,c],d)=>{const f=Sa(o);return s(f.popLast())}))))}bi(e){const n=e.store(kf);return n.ee(((r,i)=>{const s=Um(i),a=L6(this.serializer,s);return n.put(a)}))}Si(e,n){const r=n.store(Xc),i=[];return r.ee(((s,a)=>{const o=n.store(f0),c=(function(m){return m.document?new je(xt.fromString(m.document.name).popFirst(5)):m.noDocument?je.fromSegments(m.noDocument.path):m.unknownDocument?je.fromSegments(m.unknownDocument.path):Le(36783)})(a).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(d))})).next((()=>le.waitFor(i)))}Di(e,n){const r=n.store(Cs),i=G6(this.serializer),s=new OC(sb.Vi,this.serializer.yt);return r.H().next((a=>{const o=new Map;return a.forEach((c=>{let d=o.get(c.userId)??mt();tu(this.serializer,c).keys().forEach((f=>d=d.add(f))),o.set(c.userId,d)})),le.forEach(o,((c,d)=>{const f=new ar(d),m=rb.wt(this.serializer,f),p=s.getIndexManager(f),y=ib.wt(f,this.serializer,p,s.referenceDelegate);return new X6(i,y,m,p).recalculateAndSaveOverlaysForDocumentKeys(new uN(n,ui.ce),c).next()}))}))}}function ER(t){t.createObjectStore(Rf,{keyPath:uY}).createIndex(gC,dY,{unique:!0}),t.createObjectStore(kf,{keyPath:"targetId"}).createIndex(PF,cY,{unique:!0}),t.createObjectStore(mu)}const wl="IndexedDbPersistence",t_=18e5,n_=5e3,r_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Y6="main";class MC{constructor(e,n,r,i,s,a,o,c,d,f,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ci=s,this.window=a,this.document=o,this.Fi=d,this.Mi=f,this.xi=m,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=p=>Promise.resolve(),!MC.v())throw new be(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new DQ(this,i),this.Ki=n+Y6,this.serializer=new M6(c),this.qi=new ja(this.Ki,this.xi,new WQ(this.serializer)),this.ci=new EQ,this.li=new jQ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=G6(this.serializer),this.Pi=new _Q,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,f===!1&&jn(wl,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new be(fe.FAILED_PRECONDITION,r_);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new ui(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Jy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((n=>this.isPrimary&&!n?this.Ji(e).next((()=>!1)):!!n&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(uc(e))return we(wl,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return we(wl,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return bm(e).get(Fd).next((n=>le.resolve(this.Xi(n))))}Yi(e){return Jy(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,t_)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Yn(n,Df);return r.H().next((i=>{const s=this.ns(i,t_),a=i.filter((o=>s.indexOf(o)===-1));return le.forEach(a,(o=>r.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ui)for(const n of e)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?le.resolve(!0):bm(e).get(Fd).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,n_)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new be(fe.FAILED_PRECONDITION,r_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jy(e).H().next((r=>this.ns(r,n_).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&we(wl,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Jp,Df],(e=>{const n=new uN(e,ui.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(e,n){return e.filter((r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Jy(e).H().next((n=>this.ns(n,t_).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,n){return ib.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new IQ(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return rb.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,n,r){we(wl,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(c){return c===18?AY:c===17?MF:c===16?CY:c===15?xC:c===14?OF:c===13?DF:c===12?TY:c===11?RF:void Le(60245)})(this.xi);let a;return this.qi.runTransaction(e,i,s,(o=>(a=new uN(o,this.ai?this.ai.next():ui.ce),n==="readwrite-primary"?this.ji(a).next((c=>!!c||this.Hi(a))).next((c=>{if(!c)throw jn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new be(fe.FAILED_PRECONDITION,EF);return r(a)})).next((c=>this.Zi(a).next((()=>c)))):this.Ps(a).next((()=>r(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Ps(e){return bm(e).get(Fd).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,n_)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new be(fe.FAILED_PRECONDITION,r_)}))}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return bm(e).put(Fd,n)}static v(){return ja.v()}Ji(e){const n=bm(e);return n.get(Fd).next((r=>this.Xi(r)?(we(wl,"Releasing primary lease."),n.delete(Fd)):le.resolve()))}ts(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(jn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;eF()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const n=this.Ui?.getItem(this.rs(e))!==null;return we(wl,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return jn(wl,"Failed to get zombied client id.",n),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){jn("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function bm(t){return Yn(t,Jp)}function Jy(t){return Yn(t,Df)}function LC(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class VC{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=mt(),i=mt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new VC(e,n.fromCache,r,i)}}class KQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Q6{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return eF()?8:NF(Gn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new KQ;return this.ys(e,n,a).next((o=>{if(s.result=o,this.As)return this.ws(e,n,a,o.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Jd()<=_t.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Zd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Jd()<=_t.DEBUG&&we("QueryEngine","Query:",Zd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Jd()<=_t.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Zd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):le.resolve())}gs(e,n){if(Kk(n))return le.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=g0(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=mt(...s);return this.fs.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.bs(n,o);return this.Ss(n,d,a,c.readTime)?this.gs(e,g0(n,null,"F")):this.Ds(e,d,n,c)}))))})))))}ps(e,n,r,i){return Kk(n)||i.isEqual(Ye.min())?le.resolve(null):this.fs.getDocuments(e,r).next((s=>{const a=this.bs(n,s);return this.Ss(n,a,r,i)?le.resolve(null):(Jd()<=_t.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Zd(n)),this.Ds(e,a,n,wF(i,Af)).next((o=>o)))}))}bs(e,n){let r=new Ht(a6(e));return n.forEach(((i,s)=>{tg(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return Jd()<=_t.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Zd(n)),this.fs.getDocumentsMatchingQuery(e,n,Bi.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}const FC="LocalStore",GQ=3e8;class XQ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new tn(st),this.Fs=new Lo((s=>Nu(s)),Zp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new X6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function J6(t,e,n,r){return new XQ(t,e,n,r)}async function Z6(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],o=[];let c=mt();for(const d of i){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of s){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ns:d,removedBatchIds:a,addedBatchIds:o})))}))}))}function YQ(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(o,c,d,f){const m=d.batch,p=m.keys();let y=le.resolve();return p.forEach((x=>{y=y.next((()=>f.getEntry(c,x))).next((b=>{const _=d.docVersions.get(x);qe(_!==null,48541),b.version.compareTo(_)<0&&(m.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),f.addEntry(b)))}))})),y.next((()=>o.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let c=mt();for(let d=0;d<o.mutationResults.length;++d)o.mutationResults[d].transformResults.length>0&&(c=c.add(o.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function eB(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function QQ(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const o=[];e.targetChanges.forEach(((f,m)=>{const p=i.get(m);if(!p)return;o.push(n.li.removeMatchingKeys(s,f.removedDocuments,m).next((()=>n.li.addMatchingKeys(s,f.addedDocuments,m))));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(wn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(m,y),(function(b,_,S){return b.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=GQ?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(p,y,f)&&o.push(n.li.updateTargetData(s,y))}));let c=fi(),d=mt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))})),o.push(tB(s,a,e.documentUpdates).next((f=>{c=f.Bs,d=f.Ls}))),!r.isEqual(Ye.min())){const f=n.li.getLastRemoteSnapshotVersion(s).next((m=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));o.push(f)}return le.waitFor(o).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,c,d))).next((()=>c))})).then((s=>(n.vs=i,s)))}function tB(t,e,n){let r=mt(),i=mt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=fi();return n.forEach(((o,c)=>{const d=s.get(o);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(Ye.min())?(e.removeEntry(o,c.readTime),a=a.insert(o,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(o,c)):we(FC,"Ignoring outdated watch update for ",o,". Current version:",d.version," Watch version:",c.version)})),{Bs:a,Ls:i}}))}function JQ(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Hl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function zf(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,le.resolve(i)):n.li.allocateTargetId(r).next((a=>(i=new mo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Uf(t,e,n){const r=Re(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!uc(a))throw a;we(FC,`Failed to update sequence numbers for target ${e}: ${a}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function w0(t,e,n){const r=Re(t);let i=Ye.min(),s=mt();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,d,f){const m=Re(c),p=m.Fs.get(f);return p!==void 0?le.resolve(m.vs.get(p)):m.li.getTargetData(d,f)})(r,a,zr(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(a,o.targetId).next((c=>{s=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Ye.min(),n?s:mt()))).next((o=>(iB(r,s6(e),o),{documents:o,ks:s})))))}function nB(t,e){const n=Re(t),r=Re(n.li),i=n.vs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function rB(t,e){const n=Re(t),r=n.Ms.get(e)||Ye.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.xs.getAllFromCollectionGroup(i,e,wF(r,Af),Number.MAX_SAFE_INTEGER))).then((i=>(iB(n,e,i),i)))}function iB(t,e,n){let r=t.Ms.get(e)||Ye.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}async function ZQ(t,e,n,r){const i=Re(t);let s=mt(),a=fi();for(const d of n){const f=e.Ks(d.metadata.name);d.document&&(s=s.add(f));const m=e.qs(d);m.setReadTime(e.Us(d.metadata.readTime)),a=a.insert(f,m)}const o=i.xs.newChangeBuffer({trackRemovals:!0}),c=await zf(i,(function(f){return zr(sh(xt.fromString(`__bundle__/docs/${f}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(d=>tB(d,o,a).next((f=>(o.apply(d),f))).next((f=>i.li.removeMatchingKeysForTargetId(d,c.targetId).next((()=>i.li.addMatchingKeys(d,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(d,f.Bs,f.Ls))).next((()=>f.Bs))))))}async function eJ(t,e,n=mt()){const r=await zf(t,zr(nb(e.bundledQuery))),i=Re(t);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=kn(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Pi.saveNamedQuery(s,e);const o=r.withResumeToken(wn.EMPTY_BYTE_STRING,a);return i.vs=i.vs.insert(o.targetId,o),i.li.updateTargetData(s,o).next((()=>i.li.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.li.addMatchingKeys(s,n,r.targetId))).next((()=>i.Pi.saveNamedQuery(s,e)))}))}const sB="firestore_clients";function SR(t,e){return`${sB}_${t}_${e}`}const aB="firestore_mutations";function NR(t,e,n){let r=`${aB}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const oB="firestore_targets";function i_(t,e){return`${oB}_${t}_${e}`}const xa="SharedClientState";class _0{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static $s(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new be(i.error.code,i.error.message))),a?new _0(e,n,i.state,s):(jn(xa,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class np{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static $s(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new be(r.error.code,r.error.message))),s?new np(e,r.state,i):(jn(xa,`Failed to parse target state for ID '${e}': ${n}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class E0{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static $s(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=SC();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=TF(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new E0(e,s):(jn(xa,`Failed to parse client data for instance '${e}': ${n}`),null)}}class BC{constructor(e,n){this.clientId=e,this.onlineState=n}static $s(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new BC(n.clientId,n.onlineState):(jn(xa,`Failed to parse online state: ${e}`),null)}}class NN{constructor(){this.activeTargetIds=SC()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class s_{constructor(e,n,r,i,s){this.window=e,this.Ci=n,this.persistenceKey=r,this.zs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new tn(st),this.started=!1,this.Zs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Xs=SR(this.persistenceKey,this.zs),this.Ys=(function(c){return`firestore_sequence_number_${c}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new NN),this.eo=new RegExp(`^${sB}_${a}_([^_]*)$`),this.no=new RegExp(`^${aB}_${a}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${oB}_${a}_(\\d+)$`),this.io=(function(c){return`firestore_online_state_${c}`})(this.persistenceKey),this.so=(function(c){return`firestore_bundle_loaded_v2_${c}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const i=this.getItem(SR(this.persistenceKey,r));if(i){const s=E0.$s(r,i);s&&(this.Js=this.Js.insert(s.clientId,s))}}this.oo();const n=this.storage.getItem(this.io);if(n){const r=this._o(n);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let n=!1;return this.Js.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,n,r){this.co(e,n,r),this.lo(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(i_(this.persistenceKey,e));if(i){const s=np.$s(e,i);s&&(r=s.state)}}return n&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(i_(this.persistenceKey,e))}updateQueryState(e,n,r){this.Po(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.lo(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return we(xa,"READ",e,n),n}setItem(e,n){we(xa,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){we(xa,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const n=e;if(n.storageArea===this.storage){if(we(xa,"EVENT",n.key,n.newValue),n.key===this.Xs)return void jn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.eo.test(n.key)){if(n.newValue==null){const r=this.Eo(n.key);return this.Ro(r,null)}{const r=this.Ao(n.key,n.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(n.key)){if(n.newValue!==null){const r=this.Vo(n.key,n.newValue);if(r)return this.mo(r)}}else if(this.ro.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(n.key===this.io){if(n.newValue!==null){const r=this._o(n.newValue);if(r)return this.ao(r)}}else if(n.key===this.Ys){const r=(function(s){let a=ui.ce;if(s!=null)try{const o=JSON.parse(s);qe(typeof o=="number",30636,{yo:s}),a=o}catch(o){jn(xa,"Failed to read sequence number from WebStorage",o)}return a})(n.newValue);r!==ui.ce&&this.sequenceNumberHandler(r)}else if(n.key===this.so){const r=this.wo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.bo(i))))}}}else this.Zs.push(n)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,n,r){const i=new _0(this.currentUser,e,n,r),s=NR(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ws())}lo(e){const n=NR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}To(e){const n={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(n))}Po(e,n,r){const i=i_(this.persistenceKey,e),s=new np(e,n,r);this.setItem(i,s.Ws())}Io(e){const n=JSON.stringify(Array.from(e));this.setItem(this.so,n)}Eo(e){const n=this.eo.exec(e);return n?n[1]:null}Ao(e,n){const r=this.Eo(e);return E0.$s(r,n)}Vo(e,n){const r=this.no.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return _0.$s(new ar(s),i,n)}fo(e,n){const r=this.ro.exec(e),i=Number(r[1]);return np.$s(i,n)}_o(e){return BC.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);we(xa,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,n){const r=n?this.Js.insert(e,n):this.Js.remove(e),i=this.uo(this.Js),s=this.uo(r),a=[],o=[];return s.forEach((c=>{i.has(c)||a.push(c)})),i.forEach((c=>{s.has(c)||o.push(c)})),this.syncEngine.Co(a,o).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let n=SC();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class lB{constructor(){this.vo=new NN,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new NN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class tJ{Mo(e){}shutdown(){}}const TR="ConnectivityMonitor";class CR{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(TR,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(TR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zy=null;function TN(){return Zy===null?Zy=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zy++,"0x"+Zy.toString(16)}const a_="RestConnection",nJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class rJ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===xp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const a=TN(),o=this.Qo(e,n.toUriEncodedString());we(a_,`Sending RPC '${e}' ${a}:`,o,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,s);const{host:d}=new URL(o),f=lc(d);return this.zo(e,o,c,r,f).then((m=>(we(a_,`Received RPC '${e}' ${a}: `,m),m)),(m=>{throw yi(a_,`RPC '${e}' ${a} failed with error: `,m,"url: ",o,"request:",r),m}))}jo(e,n,r,i,s,a){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ih})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=nJ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class iJ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Mr="WebChannelConnection",wm=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class gf extends rJ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!gf.c_){const e=fF();wm(e,dF.STAT_EVENT,(n=>{n.stat===nN.PROXY?we(Mr,"STAT_EVENT: detected buffering proxy"):n.stat===nN.NOPROXY&&we(Mr,"STAT_EVENT: detected no buffering proxy")})),gf.c_=!0}}zo(e,n,r,i,s){const a=TN();return new Promise(((o,c)=>{const d=new cF;d.setWithCredentials(!0),d.listenOnce(uF.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case kv.NO_ERROR:const m=d.getResponseJson();we(Mr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),o(m);break;case kv.TIMEOUT:we(Mr,`RPC '${e}' ${a} timed out`),c(new be(fe.DEADLINE_EXCEEDED,"Request time out"));break;case kv.HTTP_ERROR:const p=d.getStatus();if(we(Mr,`RPC '${e}' ${a} failed with status:`,p,"response text:",d.getResponseText()),p>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const b=(function(S){const O=S.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(O)>=0?O:fe.UNKNOWN})(x.status);c(new be(b,x.message))}else c(new be(fe.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new be(fe.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{we(Mr,`RPC '${e}' ${a} completed.`)}}));const f=JSON.stringify(i);we(Mr,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=TN(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(o.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,n,r),o.encodeInitMessageHeaders=!0;const d=s.join("");we(Mr,`Creating RPC '${e}' stream ${i}: ${d}`,o);const f=a.createWebChannel(d,o);this.I_(f);let m=!1,p=!1;const y=new iJ({Ho:x=>{p?we(Mr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(we(Mr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),we(Mr,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Jo:()=>f.close()});return wm(f,Fm.EventType.OPEN,(()=>{p||(we(Mr,`RPC '${e}' stream ${i} transport opened.`),y.i_())})),wm(f,Fm.EventType.CLOSE,(()=>{p||(p=!0,we(Mr,`RPC '${e}' stream ${i} transport closed`),y.o_(),this.E_(f))})),wm(f,Fm.EventType.ERROR,(x=>{p||(p=!0,yi(Mr,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),y.o_(new be(fe.UNAVAILABLE,"The operation could not be completed")))})),wm(f,Fm.EventType.MESSAGE,(x=>{if(!p){const b=x.data[0];qe(!!b,16349);const _=b,S=_?.error||_[0]?.error;if(S){we(Mr,`RPC '${e}' stream ${i} received error:`,S);const O=S.status;let R=(function(A){const N=Ln[A];if(N!==void 0)return b6(N)})(O),z=S.message;O==="NOT_FOUND"&&z.includes("database")&&z.includes("does not exist")&&z.includes(this.databaseId.database)&&yi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),R===void 0&&(R=fe.INTERNAL,z="Unknown error status: "+O+" with message "+S.message),p=!0,y.o_(new be(R,z)),f.close()}else we(Mr,`RPC '${e}' stream ${i} received:`,b),y.__(b)}})),gf.u_(),setTimeout((()=>{y.s_()}),0),y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return hF()}}function sJ(t){return new gf(t)}function cB(){return typeof window<"u"?window:null}function zv(){return typeof document<"u"?document:null}function Wu(t){return new dQ(t,!0)}gf.c_=!1;class zC{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const AR="PersistentStream";class uB{constructor(e,n,r,i,s,a,o,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(jn(n.toString()),jn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new be(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(AR,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(AR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aJ extends uB{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=mQ(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ye.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ye.min():a.readTime?kn(a.readTime):Ye.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=bN(this.serializer),n.addTarget=(function(s,a){let o;const c=a.target;if(o=m0(c)?{documents:P6(s,c)}:{query:tb(s,c).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=S6(s,a.resumeToken);const d=vN(s,a.expectedCount);d!==null&&(o.expectedCount=d)}else if(a.snapshotVersion.compareTo(Ye.min())>0){o.readTime=Bf(s,a.snapshotVersion.toTimestamp());const d=vN(s,a.expectedCount);d!==null&&(o.expectedCount=d)}return o})(this.serializer,e);const r=gQ(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=bN(this.serializer),n.removeTarget=e,this.K_(n)}}class oJ extends uB{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=pQ(e.writeResults,e.commitTime),r=kn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=bN(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Sp(this.serializer,r)))};this.K_(n)}}class lJ{}class cJ extends lJ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new be(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Wo(e,xN(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(fe.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.jo(e,xN(n,r),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(fe.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function uJ(t,e,n,r){return new cJ(t,e,n,r)}class dJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(jn(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ju="RemoteStore";class fJ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((a=>{r.enqueueAndForget((async()=>{fc(this)&&(we(ju,"Restarting streams for network reachability change."),await(async function(c){const d=Re(c);d.Ea.add(4),await lh(d),d.Va.set("Unknown"),d.Ea.delete(4),await sg(d)})(this))}))})),this.Va=new dJ(r,i)}}async function sg(t){if(fc(t))for(const e of t.Ra)await e(!0)}async function lh(t){for(const e of t.Ra)await e(!1)}function ab(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qC(n)?$C(n):uh(n).O_()&&UC(n,e))}function $f(t,e){const n=Re(t),r=uh(n);n.Ia.delete(e),r.O_()&&dB(n,e),n.Ia.size===0&&(r.O_()?r.L_():fc(n)&&n.Va.set("Unknown"))}function UC(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uh(t).Z_(e)}function dB(t,e){t.da.$e(e),uh(t).X_(e)}function $C(t){t.da=new oQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),uh(t).start(),t.Va.ua()}function qC(t){return fc(t)&&!uh(t).x_()&&t.Ia.size>0}function fc(t){return Re(t).Ea.size===0}function fB(t){t.da=void 0}async function hJ(t){t.Va.set("Online")}async function mJ(t){t.Ia.forEach(((e,n)=>{UC(t,e)}))}async function pJ(t,e){fB(t),qC(t)?(t.Va.ha(e),$C(t)):t.Va.set("Unknown")}async function gJ(t,e,n){if(t.Va.set("Online"),e instanceof E6&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.da.removeTarget(o))})(t,e)}catch(r){we(ju,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await S0(t,r)}else if(e instanceof Fv?t.da.Xe(e):e instanceof _6?t.da.st(e):t.da.tt(e),!n.isEqual(Ye.min()))try{const r=await eB(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const o=s.da.Tt(a);return o.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(c.resumeToken,a))}})),o.targetMismatches.forEach(((c,d)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(wn.EMPTY_BYTE_STRING,f.snapshotVersion)),dB(s,c);const m=new mo(f.target,c,d,f.sequenceNumber);UC(s,m)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){we(ju,"Failed to raise snapshot:",r),await S0(t,r)}}async function S0(t,e,n){if(!uc(e))throw e;t.Ea.add(1),await lh(t),t.Va.set("Offline"),n||(n=()=>eB(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(ju,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await sg(t)}))}function hB(t,e){return e().catch((n=>S0(t,n,e)))}async function ch(t){const e=Re(t),n=tc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hl;for(;yJ(e);)try{const i=await JQ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,vJ(e,i)}catch(i){await S0(e,i)}mB(e)&&pB(e)}function yJ(t){return fc(t)&&t.Ta.length<10}function vJ(t,e){t.Ta.push(e);const n=tc(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function mB(t){return fc(t)&&!tc(t).x_()&&t.Ta.length>0}function pB(t){tc(t).start()}async function xJ(t){tc(t).ra()}async function bJ(t){const e=tc(t);for(const n of t.Ta)e.ea(n.mutations)}async function wJ(t,e,n){const r=t.Ta.shift(),i=AC.from(r,e,n);await hB(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await ch(t)}async function _J(t,e){e&&tc(t).Y_&&await(async function(r,i){if((function(a){return x6(a)&&a!==fe.ABORTED})(i.code)){const s=r.Ta.shift();tc(r).B_(),await hB(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await ch(r)}})(t,e),mB(t)&&pB(t)}async function PR(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),we(ju,"RemoteStore received new credentials");const r=fc(n);n.Ea.add(3),await lh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sg(n)}async function CN(t,e){const n=Re(t);e?(n.Ea.delete(2),await sg(n)):e||(n.Ea.add(2),await lh(n),n.Va.set("Unknown"))}function uh(t){return t.ma||(t.ma=(function(n,r,i){const s=Re(n);return s.sa(),new aJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:hJ.bind(null,t),Yo:mJ.bind(null,t),t_:pJ.bind(null,t),J_:gJ.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),qC(t)?$C(t):t.Va.set("Unknown")):(await t.ma.stop(),fB(t))}))),t.ma}function tc(t){return t.fa||(t.fa=(function(n,r,i){const s=Re(n);return s.sa(),new oJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:xJ.bind(null,t),t_:_J.bind(null,t),ta:bJ.bind(null,t),na:wJ.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await ch(t)):(await t.fa.stop(),t.Ta.length>0&&(we(ju,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class HC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new HC(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dh(t,e){if(jn("AsyncQueue",`${e}: ${t}`),uc(t))return new be(fe.UNAVAILABLE,`${e}: ${t}`);throw t}class pu{static emptySet(e){return new pu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=Bm(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class IR{constructor(){this.ga=new tn(je.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class ku{constructor(e,n,r,i,s,a,o,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((o=>{a.push({type:0,doc:o})})),new ku(e,n,pu.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class EJ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class SJ{constructor(){this.queries=jR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Re(n),s=i.queries;i.queries=jR(),s.forEach(((a,o)=>{for(const c of o.ba)c.onError(r)}))})(this,new be(fe.ABORTED,"Firestore shutting down"))}}function jR(){return new Lo((t=>i6(t)),eg)}async function WC(t,e){const n=Re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new EJ,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=dh(a,`Initialization of query '${Zd(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&GC(n)}async function KC(t,e){const n=Re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.ba.indexOf(e);a>=0&&(s.ba.splice(a,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NJ(t,e){const n=Re(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.ba)o.Fa(i)&&(r=!0);a.wa=i}}r&&GC(n)}function TJ(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function GC(t){t.Ca.forEach((e=>{e.next()}))}var AN,kR;(kR=AN||(AN={})).Ma="default",kR.Cache="cache";class XC{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ku(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ku.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==AN.Cache}}class gB{constructor(e,n){this.qa=e,this.byteLength=n}Ua(){return"metadata"in this.qa}}class RR{constructor(e){this.serializer=e}Ks(e){return ka(this.serializer,e)}qs(e){return e.metadata.exists?eb(this.serializer,e.document,!1):ln.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return kn(e)}}class YC{constructor(e,n){this.$a=e,this.serializer=n,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=yB(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++n;const r=xt.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new RR(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ks(i.metadata.name);for(const a of i.metadata.queries){const o=(n.get(a)||mt()).add(s);n.set(a,o)}}return n}async ja(e){const n=await ZQ(e,new RR(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const i of this.Wa)await eJ(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:n}}}function yB(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class vB{constructor(e){this.key=e}}class xB{constructor(e){this.key=e}}class bB{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=mt(),this.mutatedKeys=mt(),this.eu=a6(e),this.tu=new pu(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new IR,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,m)=>{const p=i.get(f),y=tg(this.query,m)?m:null,x=!!p&&this.mutatedKeys.has(p.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;p&&y?p.data.isEqual(y.data)?x!==b&&(r.track({type:3,doc:y}),_=!0):this.su(p,y)||(r.track({type:2,doc:y}),_=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(o=!0)):!p&&y?(r.track({type:0,doc:y}),_=!0):p&&!y&&(r.track({type:1,doc:p}),_=!0,(c||d)&&(o=!0)),_&&(y?(a=a.add(y),s=b?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Ss:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((f,m)=>(function(y,x){const b=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:_})}};return b(y)-b(x)})(f.type,m.type)||this.eu(f.doc,m.doc))),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,d=c!==this.Xa;return this.Xa=c,a.length!==0||d?{snapshot:new ku(this.query,e.tu,s,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new IR,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new xB(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new vB(r))})),n}cu(e){this.Za=e.ks,this.Ya=mt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ku.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const hc="SyncEngine";class CJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class AJ{constructor(e){this.key=e,this.hu=!1}}class PJ{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Lo((o=>i6(o)),eg),this.Iu=new Map,this.Eu=new Set,this.Ru=new tn(je.comparator),this.Au=new Map,this.Vu=new DC,this.du={},this.mu=new Map,this.fu=Iu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IJ(t,e,n=!0){const r=ob(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await wB(r,e,n,!0),i}async function jJ(t,e){const n=ob(t);await wB(n,e,!0,!1)}async function wB(t,e,n,r){const i=await zf(t.localStore,zr(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await QC(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&ab(t.remoteStore,i),o}async function QC(t,e,n,r,i){t.pu=(m,p,y)=>(async function(b,_,S,O){let R=_.view.ru(S);R.Ss&&(R=await w0(b.localStore,_.query,!1).then((({documents:N})=>_.view.ru(N,R))));const z=O&&O.targetChanges.get(_.targetId),P=O&&O.targetMismatches.get(_.targetId)!=null,A=_.view.applyChanges(R,b.isPrimaryClient,z,P);return PN(b,_.targetId,A.au),A.snapshot})(t,m,p,y);const s=await w0(t.localStore,e,!0),a=new bB(e,s.ks),o=a.ru(s.documents),c=ig.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(o,t.isPrimaryClient,c);PN(t,n,d.au);const f=new CJ(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function kJ(t,e,n){const r=Re(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!eg(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Uf(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&$f(r.remoteStore,i.targetId),qf(r,i.targetId)})).catch(cc)):(qf(r,i.targetId),await Uf(r.localStore,i.targetId,!0))}async function RJ(t,e){const n=Re(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$f(n.remoteStore,r.targetId))}async function DJ(t,e,n){const r=tA(t);try{const i=await(function(a,o){const c=Re(a),d=gt.now(),f=o.reduce(((y,x)=>y.add(x.key)),mt());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let x=fi(),b=mt();return c.xs.getEntries(y,f).next((_=>{x=_,x.forEach(((S,O)=>{O.isValidDocument()||(b=b.add(S))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,x))).next((_=>{m=_;const S=[];for(const O of o){const R=rQ(O,m.get(O.key).overlayedDocument);R!=null&&S.push(new Vo(O.key,R,KF(R.value.mapValue),hn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,S,o)})).next((_=>{p=_;const S=_.applyToLocalDocumentSet(m,b);return c.documentOverlayCache.saveOverlays(y,_.batchId,S)}))})).then((()=>({batchId:p.batchId,changes:l6(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,o,c){let d=a.du[a.currentUser.toKey()];d||(d=new tn(st)),d=d.insert(o,c),a.du[a.currentUser.toKey()]=d})(r,i.batchId,n),await Fo(r,i.changes),await ch(r.remoteStore)}catch(i){const s=dh(i,"Failed to persist write");n.reject(s)}}async function _B(t,e){const n=Re(t);try{const r=await QQ(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(qe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?qe(a.hu,14607):i.removedDocuments.size>0&&(qe(a.hu,42227),a.hu=!1))})),await Fo(n,r,e)}catch(r){await cc(r)}}function DR(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const c=Re(a);c.onlineState=o;let d=!1;c.queries.forEach(((f,m)=>{for(const p of m.ba)p.va(o)&&(d=!0)})),d&&GC(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OJ(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new tn(je.comparator);a=a.insert(s,ln.newNoDocument(s,Ye.min()));const o=mt().add(s),c=new rg(Ye.min(),new Map,new tn(st),a,o);await _B(r,c),r.Ru=r.Ru.remove(s),r.Au.delete(e),eA(r)}else await Uf(r.localStore,e,!1).then((()=>qf(r,e,n))).catch(cc)}async function MJ(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await YQ(n.localStore,e);ZC(n,r,null),JC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Fo(n,i)}catch(i){await cc(i)}}async function LJ(t,e,n){const r=Re(t);try{const i=await(function(a,o){const c=Re(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return c.mutationQueue.lookupMutationBatch(d,o).next((m=>(qe(m!==null,37113),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,o))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>c.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);ZC(r,e,n),JC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Fo(r,i)}catch(i){await cc(i)}}async function VJ(t,e){const n=Re(t);fc(n.remoteStore)||we(hc,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(a){const o=Re(a);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(c=>o.mutationQueue.getHighestUnacknowledgedBatchId(c)))})(n.localStore);if(r===Hl)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=dh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function JC(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function ZC(t,e,n){const r=Re(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function qf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||EB(t,r)}))}function EB(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&($f(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),eA(t))}function PN(t,e,n){for(const r of n)r instanceof vB?(t.Vu.addReference(r.key,e),FJ(t,r)):r instanceof xB?(we(hc,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||EB(t,r.key)):Le(19791,{wu:r})}function FJ(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(we(hc,"New document in limbo: "+n),t.Eu.add(r),eA(t))}function eA(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new je(xt.fromString(e)),r=t.fu.next();t.Au.set(r,new AJ(n)),t.Ru=t.Ru.insert(n,r),ab(t.remoteStore,new mo(zr(sh(n.path)),r,"TargetPurposeLimboResolution",ui.ce))}}async function Fo(t,e,n){const r=Re(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((o,c)=>{a.push(r.pu(c,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=VC.Es(c.targetId,d);s.push(f)}})))})),await Promise.all(a),r.Pu.J_(i),await(async function(c,d){const f=Re(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>le.forEach(d,(p=>le.forEach(p.Ts,(y=>f.persistence.referenceDelegate.addReference(m,p.targetId,y))).next((()=>le.forEach(p.Is,(y=>f.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))))))}catch(m){if(!uc(m))throw m;we(FC,"Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const y=f.vs.get(p),x=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(x);f.vs=f.vs.insert(p,b)}}})(r.localStore,s))}async function BJ(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){we(hc,"User change. New user:",e.toKey());const r=await Z6(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((o=>{o.forEach((c=>{c.reject(new be(fe.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Fo(n,r.Ns)}}function zJ(t,e){const n=Re(t),r=n.Au.get(e);if(r&&r.hu)return mt().add(r.key);{let i=mt();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}async function UJ(t,e){const n=Re(t),r=await w0(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&PN(n,e.targetId,i.au),i}async function $J(t,e){const n=Re(t);return rB(n.localStore,e).then((r=>Fo(n,r)))}async function qJ(t,e,n,r){const i=Re(t),s=await(function(o,c){const d=Re(o),f=Re(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(m=>f.Xn(m,c).next((p=>p?d.localDocuments.getDocuments(m,p):le.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await ch(i.remoteStore):n==="acknowledged"||n==="rejected"?(ZC(i,e,r||null),JC(i,e),(function(o,c){Re(Re(o).mutationQueue).nr(c)})(i.localStore,e)):Le(6720,"Unknown batchState",{bu:n}),await Fo(i,s)):we(hc,"Cannot apply mutation batch with id: "+e)}async function HJ(t,e){const n=Re(t);if(ob(n),tA(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await OR(n,r.toArray());n.gu=!0,await CN(n.remoteStore,!0);for(const s of i)ab(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(qf(n,a),Uf(n.localStore,a,!0)))),$f(n.remoteStore,a)})),await i,await OR(n,r),(function(a){const o=Re(a);o.Au.forEach(((c,d)=>{$f(o.remoteStore,d)})),o.Vu.zr(),o.Au=new Map,o.Ru=new tn(je.comparator)})(n),n.gu=!1,await CN(n.remoteStore,!1)}}async function OR(t,e,n){const r=Re(t),i=[],s=[];for(const a of e){let o;const c=r.Iu.get(a);if(c&&c.length!==0){o=await zf(r.localStore,zr(c[0]));for(const d of c){const f=r.Tu.get(d),m=await UJ(r,f);m.snapshot&&s.push(m.snapshot)}}else{const d=await nB(r.localStore,a);o=await zf(r.localStore,d),await QC(r,SB(d),a,!1,o.resumeToken)}i.push(o)}return r.Pu.J_(s),i}function SB(t){return t6(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function WJ(t){return(function(n){return Re(Re(n).persistence).hs()})(Re(t).localStore)}async function KJ(t,e,n,r){const i=Re(t);if(i.gu)return void we(hc,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await rB(i.localStore,s6(s[0])),o=rg.createSynthesizedRemoteEventForCurrentChange(e,n==="current",wn.EMPTY_BYTE_STRING);await Fo(i,a,o);break}case"rejected":await Uf(i.localStore,e,!0),qf(i,e,r);break;default:Le(64155,n)}}async function GJ(t,e,n){const r=ob(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){we(hc,"Adding an already active target "+i);continue}const s=await nB(r.localStore,i),a=await zf(r.localStore,s);await QC(r,SB(s),a.targetId,!1,a.resumeToken),ab(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await Uf(r.localStore,i,!1).then((()=>{$f(r.remoteStore,i),qf(r,i)})).catch(cc)}}function ob(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_B.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OJ.bind(null,e),e.Pu.J_=NJ.bind(null,e.eventManager),e.Pu.yu=TJ.bind(null,e.eventManager),e}function tA(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LJ.bind(null,e),e}function XJ(t,e,n){const r=Re(t);(async function(s,a,o){try{const c=await a.getMetadata();if(await(function(y,x){const b=Re(y),_=kn(x.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",(S=>b.Pi.getBundleMetadata(S,x.id))).then((S=>!!S&&S.createTime.compareTo(_)>=0))})(s.localStore,c))return await a.close(),o._completeWith((function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}})(c)),Promise.resolve(new Set);o._updateProgress(yB(c));const d=new YC(c,a.serializer);let f=await a.Su();for(;f;){const p=await d.Ga(f);p&&o._updateProgress(p),f=await a.Su()}const m=await d.ja(s.localStore);return await Fo(s,m.Ja,void 0),await(function(y,x){const b=Re(y);return b.persistence.runTransaction("Save bundle","readwrite",(_=>b.Pi.saveBundleMetadata(_,x)))})(s.localStore,c),o._completeWith(m.progress),Promise.resolve(m.Ha)}catch(c){return yi(hc,`Loading bundle failed with ${c}`),o._failWith(c),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return J6(this.persistence,new Q6,e.initialUser,this.serializer)}Cu(e){return new OC(sb.Vi,this.serializer)}Du(e){return new lB}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hf.provider={build:()=>new Hf};class nA extends Hf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){qe(this.persistence.referenceDelegate instanceof b0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new H6(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new OC((r=>b0.Vi(r,n)),this.serializer)}}class rA extends Hf{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await tA(this.xu.syncEngine),await ch(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return J6(this.persistence,new Q6,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new H6(r,e.asyncQueue,n)}Mu(e,n){const r=new nY(n,this.persistence);return new tY(e.asyncQueue,r)}Cu(e){const n=LC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new MC(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,cB(),zv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new lB}}class NB extends rA{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof s_&&(this.sharedClientState.syncEngine={So:qJ.bind(null,n),Do:KJ.bind(null,n),Co:GJ.bind(null,n),hs:WJ.bind(null,n),bo:$J.bind(null,n)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await HJ(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=cB();if(!s_.v(n))throw new be(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=LC(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new s_(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class nc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>DR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BJ.bind(null,this.syncEngine),await CN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SJ})()}createDatastore(e){const n=Wu(e.databaseInfo.databaseId),r=sJ(e.databaseInfo);return uJ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,o){return new fJ(r,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>DR(this.syncEngine,n,0)),(function(){return CR.v()?new CR:new tJ})())}createSyncEngine(e,n){return(function(i,s,a,o,c,d,f){const m=new PJ(i,s,a,o,c,d);return f&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);we(ju,"RemoteStore shutting down."),r.Ea.add(5),await lh(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}nc.provider={build:()=>new nc};function MR(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class lb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):jn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class YJ{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new ur,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.qu(`length string (${n}) is not valid number`);const i=await this.Uu(r);return new gB(JSON.parse(i),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}class QJ{constructor(e,n){this.bundleData=e,this.serializer=n,this.cursor=0,this.elements=[];let r=this.Su();if(!r||!r.Ua())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r?.qa)}`);this.metadata=r;do r=this.Su(),r!==null&&this.elements.push(r);while(r!==null)}getMetadata(){return this.metadata}Qu(){return this.elements}Su(){if(this.cursor===this.bundleData.length)return null;const e=this.Ku(),n=this.Uu(e);return new gB(JSON.parse(n),e)}Uu(e){if(this.cursor+e>this.bundleData.length)throw new be(fe.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}Ku(){const e=this.cursor;let n=this.cursor;for(;n<this.bundleData.length;){if(this.bundleData[n]==="{"){if(n===e)throw new Error("First character is a bracket and not a number");return this.cursor=n,Number(this.bundleData.slice(e,n))}n++}throw new Error("Reached the end of bundle when more is expected.")}}let JJ=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new be(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const a=Re(i),o={documents:s.map((m=>Ep(a.serializer,m)))},c=await a.jo("BatchGetDocuments",a.serializer.databaseId,xt.emptyPath(),o,s.length),d=new Map;c.forEach((m=>{const p=hQ(a.serializer,m);d.set(p.key.toString(),p)}));const f=[];return s.forEach((m=>{const p=d.get(m.toString());qe(!!p,55234,{key:m}),f.push(p)})),f})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new oh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=je.fromPath(r);this.mutations.push(new TC(i,this.precondition(i)))})),await(async function(r,i){const s=Re(r),a={writes:i.map((o=>Sp(s.serializer,o)))};await s.Wo("Commit",s.serializer.databaseId,xt.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Le(50498,{Gu:e.constructor.name});n=Ye.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new be(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ye.min())?hn.exists(!1):hn.updateTime(n):hn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ye.min()))throw new be(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hn.updateTime(n)}return hn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class ZJ{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new zC(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new JJ(this.datastore),n=this.Ju(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Zu(i)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Qp(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!x6(n)}return!1}}const rc="FirestoreClient";class eZ{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=ar.UNAUTHENTICATED,this.clientId=$x.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{we(rc,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(we(rc,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dh(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function o_(t,e){t.asyncQueue.verifyOperationInProgress(),we(rc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await Z6(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function LR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iA(t);we(rc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>PR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>PR(e.remoteStore,i))),t._onlineComponents=e}async function iA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(rc,"Using user provided OfflineComponentProvider");try{await o_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;yi("Error using user provided cache. Falling back to memory cache: "+n),await o_(t,new Hf)}}else we(rc,"Using default OfflineComponentProvider"),await o_(t,new nA(void 0));return t._offlineComponents}async function cb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(rc,"Using user provided OnlineComponentProvider"),await LR(t,t._uninitializedComponentsProvider._online)):(we(rc,"Using default OnlineComponentProvider"),await LR(t,new nc))),t._onlineComponents}function TB(t){return iA(t).then((e=>e.persistence))}function fh(t){return iA(t).then((e=>e.localStore))}function CB(t){return cb(t).then((e=>e.remoteStore))}function sA(t){return cb(t).then((e=>e.syncEngine))}function AB(t){return cb(t).then((e=>e.datastore))}async function Wf(t){const e=await cb(t),n=e.eventManager;return n.onListen=IJ.bind(null,e.syncEngine),n.onUnlisten=kJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=jJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=RJ.bind(null,e.syncEngine),n}function tZ(t){return t.asyncQueue.enqueue((async()=>{const e=await TB(t),n=await CB(t);return e.setNetworkEnabled(!0),(function(i){const s=Re(i);return s.Ea.delete(0),sg(s)})(n)}))}function nZ(t){return t.asyncQueue.enqueue((async()=>{const e=await TB(t),n=await CB(t);return e.setNetworkEnabled(!1),(async function(i){const s=Re(i);s.Ea.add(0),await lh(s),s.Va.set("Offline")})(n)}))}function rZ(t,e,n,r){const i=new lb(r),s=new XC(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>WC(await Wf(t),s))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>KC(await Wf(t),s)))}}function iZ(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await(function(d,f){const m=Re(d);return m.persistence.runTransaction("read document","readonly",(p=>m.localDocuments.getDocument(p,f)))})(i,s);o.isFoundDocument()?a.resolve(o):o.isNoDocument()?a.resolve(null):a.reject(new be(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const c=dh(o,`Failed to get document '${s} from cache`);a.reject(c)}})(await fh(t),e,n))),n.promise}function PB(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,c,d){const f=new lb({next:p=>{f.Nu(),a.enqueueAndForget((()=>KC(s,m)));const y=p.docs.has(o);!y&&p.fromCache?d.reject(new be(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?d.reject(new be(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new XC(sh(o.path),f,{includeMetadataChanges:!0,Ka:!0});return WC(s,m)})(await Wf(t),t.asyncQueue,e,n,r))),r.promise}function sZ(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await w0(i,s,!0),c=new bB(s,o.ks),d=c.ru(o.documents),f=c.applyChanges(d,!1);a.resolve(f.snapshot)}catch(o){const c=dh(o,`Failed to execute query '${s} against cache`);a.reject(c)}})(await fh(t),e,n))),n.promise}function IB(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,c,d){const f=new lb({next:p=>{f.Nu(),a.enqueueAndForget((()=>KC(s,m))),p.fromCache&&c.source==="server"?d.reject(new be(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new XC(o,f,{includeMetadataChanges:!0,Ka:!0});return WC(s,m)})(await Wf(t),t.asyncQueue,e,n,r))),r.promise}function aZ(t,e,n){const r=new ur;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await AB(t);r.resolve((async function(a,o,c){const d=Re(a),{request:f,gt:m,parent:p}=I6(d.serializer,n6(o),c);d.connection.Ko||delete f.parent;const y=(await d.jo("RunAggregationQuery",d.serializer.databaseId,p,f,1)).filter((b=>!!b.result));qe(y.length===1,64727);const x=y[0].result?.aggregateFields;return Object.keys(x).reduce(((b,_)=>(b[m[_]]=x[_],b)),{})})(i,e,n))}catch(i){r.reject(i)}})),r.promise}function oZ(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((async()=>DJ(await sA(t),e,n))),n.promise}function lZ(t,e){const n=new lb(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Re(i).Ca.add(s),s.next()})(await Wf(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Re(i).Ca.delete(s)})(await Wf(t),n)))}}function cZ(t,e,n){const r=new ur;return t.asyncQueue.enqueueAndForget((async()=>{const i=await AB(t);new ZJ(t.asyncQueue,i,n,e,r).ju()})),r.promise}function uZ(t,e,n,r){const i=(function(a,o){let c;return c=typeof a=="string"?w6().encode(a):a,(function(f,m){return new YJ(f,m)})((function(f,m){if(f instanceof Uint8Array)return MR(f,m);if(f instanceof ArrayBuffer)return MR(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(c),o)})(n,Wu(e));t.asyncQueue.enqueueAndForget((async()=>{XJ(await sA(t),i,r)}))}function dZ(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const s=Re(r);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Pi.getNamedQuery(a,i)))})(await fh(t),e)))}function jB(t,e){return(function(r,i){return new QJ(r,i)})(t,e)}function fZ(t,e){return t.asyncQueue.enqueue((async()=>(async function(r,i){const s=Re(r),a=s.indexManager,o=[];return s.persistence.runTransaction("Configure indexes","readwrite",(c=>a.getFieldIndexes(c).next((d=>(function(m,p,y,x,b){m=[...m],p=[...p],m.sort(y),p.sort(y);const _=m.length,S=p.length;let O=0,R=0;for(;O<S&&R<_;){const z=y(m[R],p[O]);z<0?b(m[R++]):z>0?x(p[O++]):(O++,R++)}for(;O<S;)x(p[O++]);for(;R<_;)b(m[R++])})(d,i,QX,(f=>{o.push(a.addFieldIndex(c,f))}),(f=>{o.push(a.deleteFieldIndex(c,f))})))).next((()=>le.waitFor(o)))))})(await fh(t),e)))}function hZ(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){Re(r).Cs.As=i})(await fh(t),e)))}function mZ(t){return t.asyncQueue.enqueue((async()=>(function(n){const r=Re(n),i=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",(s=>i.deleteAllFieldIndexes(s)))})(await fh(t))))}function kB(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const pZ="ComponentProvider",VR=new Map;function gZ(t,e,n,r,i){return new jY(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,kB(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const RB="firestore.googleapis.com",FR=!0;class BR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RB,this.ssl=FR}else this.host=e.host,this.ssl=e.ssl??FR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=B6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q6)throw new be(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}vF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kB(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ag{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new BR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new BR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new gF;switch(r.type){case"firstParty":return new qX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=VR.get(n);r&&(we(pZ,"Removing Datastore"),VR.delete(n),r.terminate())})(this),Promise.resolve()}}function DB(t,e,n,r={}){t=bt(t,ag);const i=lc(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(Ux(`https://${o}`),lC("Firestore",!0)),s.host!==RB&&s.host!==o&&yi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:o,ssl:i,emulatorOptions:r};if(!Fs(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=ar.MOCK_USER;else{d=JV(r.mockUserToken,t._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new be(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ar(m)}t._authCredentials=new zX(new pF(d,f))}}class Xn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xn(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Hu(n,qt._jsonSchema))return new qt(e,r||null,new je(xt.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Bn("string",qt._jsonSchemaVersion),referencePath:Bn("string")};class Ds extends Xn{constructor(e,n,r){super(e,n,sh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new je(e))}withConverter(e){return new Ds(this.firestore,e,this._path)}}function it(t,e,...n){if(t=kt(t),hC("collection","path",e),t instanceof ag){const r=xt.fromString(e,...n);return Ak(r),new Ds(t,null,r)}{if(!(t instanceof qt||t instanceof Ds))throw new be(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return Ak(r),new Ds(t.firestore,null,r)}}function yZ(t,e){if(t=bt(t,ag),hC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new be(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xn(t,null,(function(r){return new Mo(xt.emptyPath(),r)})(e))}function ct(t,e,...n){if(t=kt(t),arguments.length===1&&(e=$x.newId()),hC("doc","path",e),t instanceof ag){const r=xt.fromString(e,...n);return Ck(r),new qt(t,null,new je(r))}{if(!(t instanceof qt||t instanceof Ds))throw new be(fe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xt.fromString(e,...n));return Ck(r),new qt(t.firestore,t instanceof Ds?t.converter:null,new je(r))}}function vZ(t,e){return t=kt(t),e=kt(e),(t instanceof qt||t instanceof Ds)&&(e instanceof qt||e instanceof Ds)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function aA(t,e){return t=kt(t),e=kt(e),t instanceof Xn&&e instanceof Xn&&t.firestore===e.firestore&&eg(t._query,e._query)&&t.converter===e.converter}const zR="AsyncQueue";class UR{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zC(this,"async_queue_retry"),this._c=()=>{const r=zv();r&&we(zR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!uc(e))throw e;we(zR,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,jn("INTERNAL UNHANDLED ERROR: ",$R(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=HC.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Le(47125,{Pc:$R(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function $R(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class OB{constructor(){this._progressObserver={},this._taskCompletionResolver=new ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const MB=-1;class Wt extends ag{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new UR,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UR(e),this._firestoreClient=void 0,await e}}}function LB(t,e,n){n||(n=xp);const r=rh(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Fs(s,e))return i;throw new be(fe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new be(fe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<q6)throw new be(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&lc(e.host)&&Ux(e.host),r.initialize({options:e,instanceIdentifier:n})}function VB(t,e){const n=typeof t=="object"?t:dC(),r=typeof t=="string"?t:e||xp,i=rh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=XV("firestore");s&&DB(i,...s)}return i}function pn(t){if(t._terminated)throw new be(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FB(t),t._firestoreClient}function FB(t){const e=t._freezeSettings(),n=gZ(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new eZ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}function xZ(t,e){yi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return BB(t,nc.provider,{build:r=>new rA(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function bZ(t){yi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();BB(t,nc.provider,{build:n=>new NB(n,e.cacheSizeBytes)})}function BB(t,e,n){if((t=bt(t,Wt))._firestoreClient||t._terminated)throw new be(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new be(fe.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},FB(t)}function wZ(t){if(t._initialized&&!t._terminated)throw new be(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ur;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!ja.v())return Promise.resolve();const i=r+Y6;await ja.delete(i)})(LC(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function _Z(t){return(function(n){const r=new ur;return n.asyncQueue.enqueueAndForget((async()=>VJ(await sA(n),r))),r.promise})(pn(t=bt(t,Wt)))}function EZ(t){return tZ(pn(t=bt(t,Wt)))}function SZ(t){return nZ(pn(t=bt(t,Wt)))}function NZ(t){return NX(t.app,"firestore",t._databaseId.database),t._delete()}function IN(t,e){const n=pn(t=bt(t,Wt)),r=new OB;return uZ(n,t._databaseId,e,r),r}function zB(t,e){return dZ(pn(t=bt(t,Wt)),e).then((n=>n?new Xn(t,null,n.query):null))}class ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ci(wn.fromBase64String(e))}catch(n){throw new be(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ci(wn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hu(e,ci._jsonSchema))return ci.fromBase64String(e.bytes)}}ci._jsonSchemaVersion="firestore/bytes/1.0",ci._jsonSchema={type:Bn("string",ci._jsonSchemaVersion),bytes:Bn("string")};class Ku{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function TZ(){return new Ku(sN)}class mc{constructor(e){this._methodName=e}}class Os{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Os._jsonSchemaVersion}}static fromJSON(e){if(Hu(e,Os._jsonSchema))return new Os(e.latitude,e.longitude)}}Os._jsonSchemaVersion="firestore/geoPoint/1.0",Os._jsonSchema={type:Bn("string",Os._jsonSchemaVersion),latitude:Bn("number"),longitude:Bn("number")};class Li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hu(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Li(e.vectorValues);throw new be(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Bn("string",Li._jsonSchemaVersion),vectorValues:Bn("object")};const CZ=/^__.*__$/;class AZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vo(e,this.data,this.fieldMask,n,this.fieldTransforms):new ah(e,this.data,n,this.fieldTransforms)}}class UB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $B(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{dataSource:t})}}class ub{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ub({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return N0(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if($B(this.dataSource)&&CZ.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class PZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wu(e)}createContext(e,n,r,i=!1){return new ub({dataSource:e,methodName:n,targetDoc:r,path:cn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gu(t){const e=t._freezeSettings(),n=Wu(t._databaseId);return new PZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function db(t,e,n,r,i,s={}){const a=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);hA("Data must be an object, but it was:",a,r);const o=WB(r,a);let c,d;if(s.merge)c=new di(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const p=Co(e,m,n);if(!a.contains(p))throw new be(fe.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);GB(f,p)||f.push(p)}c=new di(f),d=a.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=a.fieldTransforms;return new AZ(new lr(o),c,d)}class og extends mc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof og}}function qB(t,e,n){return new ub({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class oA extends mc{_toFieldTransform(e){return new ng(e.path,new Vf)}isEqual(e){return e instanceof oA}}class lA extends mc{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=qB(this,e,!0),r=this.Ac.map((s=>Xu(s,n))),i=new Tu(r);return new ng(e.path,i)}isEqual(e){return e instanceof lA&&Fs(this.Ac,e.Ac)}}class cA extends mc{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=qB(this,e,!0),r=this.Ac.map((s=>Xu(s,n))),i=new Cu(r);return new ng(e.path,i)}isEqual(e){return e instanceof cA&&Fs(this.Ac,e.Ac)}}class uA extends mc{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Ff(e.serializer,d6(e.serializer,this.Vc));return new ng(e.path,n)}isEqual(e){return e instanceof uA&&this.Vc===e.Vc}}function dA(t,e,n,r){const i=t.createContext(1,e,n);hA("Data must be an object, but it was:",i,r);const s=[],a=lr.empty();dc(r,((c,d)=>{const f=mA(e,c,n);d=kt(d);const m=i.childContextForFieldPath(f);if(d instanceof og)s.push(f);else{const p=Xu(d,m);p!=null&&(s.push(f),a.set(f,p))}}));const o=new di(s);return new UB(a,o,i.fieldTransforms)}function fA(t,e,n,r,i,s){const a=t.createContext(1,e,n),o=[Co(e,r,n)],c=[i];if(s.length%2!=0)throw new be(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)o.push(Co(e,s[p])),c.push(s[p+1]);const d=[],f=lr.empty();for(let p=o.length-1;p>=0;--p)if(!GB(d,o[p])){const y=o[p];let x=c[p];x=kt(x);const b=a.childContextForFieldPath(y);if(x instanceof og)d.push(y);else{const _=Xu(x,b);_!=null&&(d.push(y),f.set(y,_))}}const m=new di(d);return new UB(f,m,a.fieldTransforms)}function HB(t,e,n,r=!1){return Xu(n,t.createContext(r?4:3,e))}function Xu(t,e){if(KB(t=kt(t)))return hA("Unsupported field value:",e,t),WB(t,e);if(t instanceof mc)return(function(r,i){if(!$B(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const o of r){let c=Xu(o,i.childContextForArray(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return d6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=gt.fromDate(r);return{timestampValue:Bf(i.serializer,s)}}if(r instanceof gt){const s=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bf(i.serializer,s)}}if(r instanceof Os)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ci)return{bytesValue:S6(i.serializer,r._byteString)};if(r instanceof qt){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:jC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Li)return(function(a,o){const c=a instanceof Li?a.toArray():a;return{mapValue:{fields:{[bC]:{stringValue:wC},[Of]:{arrayValue:{values:c.map((f=>{if(typeof f!="number")throw o.createError("VectorValues must only contain numeric values.");return NC(o.serializer,f)}))}}}}}})(r,i);if(O6(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${qx(r)}`)})(t,e)}function WB(t,e){const n={};return VF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dc(t,((r,i)=>{const s=Xu(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function KB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof Os||t instanceof ci||t instanceof qt||t instanceof mc||t instanceof Li||O6(t))}function hA(t,e,n){if(!KB(n)||!xF(n)){const r=qx(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Co(t,e,n){if((e=kt(e))instanceof Ku)return e._internalPath;if(typeof e=="string")return mA(t,e);throw N0("Field path arguments must be of type string or ",t,!1,void 0,n)}const IZ=new RegExp("[~\\*/\\[\\]]");function mA(t,e,n){if(e.search(IZ)>=0)throw N0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ku(...e.split("."))._internalPath}catch{throw N0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function N0(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new be(fe.INVALID_ARGUMENT,o+t+c)}function GB(t,e){return t.some((n=>n.isEqual(e)))}class pA{convertValue(e,n="none"){switch(Jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(To(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return dc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Of].arrayValue?.values?.map((r=>fn(r.doubleValue)));return new Li(n)}convertGeoPoint(e){return new Os(fn(e.latitude),fn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Yx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vp(e));default:return null}}convertTimestamp(e){const n=No(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=xt.fromString(e);qe(D6(r),9688,{name:e});const i=new Ql(r.get(1),r.get(3)),s=new je(r.popFirst(5));return i.isEqual(n)||jn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class pc extends pA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function jZ(){return new og("deleteField")}function ss(){return new oA("serverTimestamp")}function kZ(...t){return new lA("arrayUnion",t)}function RZ(...t){return new cA("arrayRemove",t)}function DZ(t){return new uA("increment",t)}function OZ(t){return new Li(t)}function MZ(t){const e=pn(bt(t.firestore,Wt)),n=e._onlineComponents?.datastore.serializer;return n===void 0?null:tb(n,zr(t._query)).ft}function LZ(t,e){const n=LF(e,((s,a)=>new v6(a,s.aggregateType,s._internalFieldPath))),r=pn(bt(t.firestore,Wt)),i=r._onlineComponents?.datastore.serializer;return i===void 0?null:I6(i,n6(t._query),n,!0).request}const qR="@firebase/firestore",HR="4.11.0";function yf(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Kf{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class XB{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new lr({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class Np{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new VZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Co("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class VZ extends Np{data(){return super.data()}}function YB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gA{}class hh extends gA{}function jt(t,e,...n){let r=[];e instanceof gA&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((c=>c instanceof Yu)).length,o=s.filter((c=>c instanceof mh)).length;if(a>1||a>0&&o>0)throw new be(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class mh extends hh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new mh(e,n,r)}_apply(e){const n=this._parse(e);return JB(e._query,n),new Xn(e.firestore,e.converter,gN(e._query,n))}_parse(e){const n=Gu(e.firestore);return(function(s,a,o,c,d,f,m){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new be(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){KR(m,f);const x=[];for(const b of m)x.push(WR(c,s,b));p={arrayValue:{values:x}}}else p=WR(c,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||KR(m,f),p=HB(o,a,m,f==="in"||f==="not-in");return St.create(d,f,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Et(t,e,n){const r=e,i=Co("where",t);return mh._create(i,r,n)}class Yu extends gA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Yu(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:$t.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const c of o)JB(a,c),a=gN(a,c)})(e._query,n),new Xn(e.firestore,e.converter,gN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function FZ(...t){return t.forEach((e=>ZB("or",e))),Yu._create("or",t)}function BZ(...t){return t.forEach((e=>ZB("and",e))),Yu._create("and",t)}class fb extends hh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new fb(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new be(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _p(s,a)})(e._query,this._field,this._direction);return new Xn(e.firestore,e.converter,qY(e._query,n))}}function hb(t,e="asc"){const n=e,r=Co("orderBy",t);return fb._create(r,n)}class lg extends hh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new lg(e,n,r)}_apply(e){return new Xn(e.firestore,e.converter,g0(e._query,this._limit,this._limitType))}}function lo(t){return bF("limit",t),lg._create("limit",t,"F")}function zZ(t){return bF("limitToLast",t),lg._create("limitToLast",t,"L")}class cg extends hh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new cg(e,n,r)}_apply(e){const n=QB(e,this.type,this._docOrFields,this._inclusive);return new Xn(e.firestore,e.converter,HY(e._query,n))}}function UZ(...t){return cg._create("startAt",t,!0)}function $Z(...t){return cg._create("startAfter",t,!1)}class ug extends hh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new ug(e,n,r)}_apply(e){const n=QB(e,this.type,this._docOrFields,this._inclusive);return new Xn(e.firestore,e.converter,WY(e._query,n))}}function qZ(...t){return ug._create("endBefore",t,!1)}function HZ(...t){return ug._create("endAt",t,!0)}function QB(t,e,n,r){if(n[0]=kt(n[0]),n[0]instanceof Np)return(function(s,a,o,c,d){if(!c)throw new be(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const f=[];for(const m of pf(s))if(m.field.isKeyField())f.push(Su(a,c.key));else{const p=c.data.field(m.field);if(Xx(p))throw new be(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const y=m.field.canonicalString();throw new be(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(p)}return new ec(f,d)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Gu(t.firestore);return(function(a,o,c,d,f,m){const p=a.explicitOrderBy;if(f.length>p.length)throw new be(fe.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let x=0;x<f.length;x++){const b=f[x];if(p[x].field.isKeyField()){if(typeof b!="string")throw new be(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof b}`);if(!EC(a)&&b.indexOf("/")!==-1)throw new be(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${b}' contains a slash.`);const _=a.path.child(xt.fromString(b));if(!je.isDocumentKey(_))throw new be(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const S=new je(_);y.push(Su(o,S))}else{const _=HB(c,d,b);y.push(_)}}return new ec(y,m)})(t._query,t.firestore._databaseId,i,e,n,r)}}function WR(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new be(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EC(e)&&n.indexOf("/")!==-1)throw new be(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(xt.fromString(n));if(!je.isDocumentKey(r))throw new be(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Su(t,new je(r))}if(n instanceof qt)return Su(t,n._key);throw new be(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qx(n)}.`)}function KR(t,e){if(!Array.isArray(t)||t.length===0)throw new be(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JB(t,e){const n=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function ZB(t,e){if(!(e instanceof mh||e instanceof Yu))throw new be(fe.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function mb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class yA extends pA{constructor(e){super(),this.firestore=e}convertBytes(e){return new ci(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function WZ(t){return new Kf("sum",Co("sum",t))}function KZ(t){return new Kf("avg",Co("average",t))}function ez(){return new Kf("count")}function GZ(t,e){return t instanceof Kf&&e instanceof Kf&&t.aggregateType===e.aggregateType&&t._internalFieldPath?.canonicalString()===e._internalFieldPath?.canonicalString()}function XZ(t,e){return aA(t.query,e.query)&&Fs(t.data(),e.data())}function YZ(t){return tz(t,{count:ez()})}function tz(t,e){const n=bt(t.firestore,Wt),r=pn(n),i=LF(e,((s,a)=>new v6(a,s.aggregateType,s._internalFieldPath)));return aZ(r,t._query,i).then((s=>(function(o,c,d){const f=new pc(o);return new XB(c,f,d)})(n,t,s)))}class QZ{constructor(e){this.kind="memory",this._onlineComponentProvider=nc.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new nA(void 0)}}toJSON(){return{kind:this.kind}}}class JZ{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=rz(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class ZZ{constructor(){this.kind="memoryEager",this._offlineComponentProvider=Hf.provider}toJSON(){return{kind:this.kind}}}class eee{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new nA(e)}}toJSON(){return{kind:this.kind}}}function tee(){return new ZZ}function nee(t){return new eee(t?.cacheSizeBytes)}function ree(t){return new QZ(t)}function nz(t){return new JZ(t)}class iee{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=nc.provider,this._offlineComponentProvider={build:n=>new rA(n,e?.cacheSizeBytes,this.forceOwnership)}}}class see{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=nc.provider,this._offlineComponentProvider={build:n=>new NB(n,e?.cacheSizeBytes)}}}function rz(t){return new iee(t?.forceOwnership)}function iz(){return new see}const sz="NOT SUPPORTED";class po{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mi extends Np{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Co("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=mi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}function aee(t,e,n){if(Hu(e,mi._jsonSchema)){if(e.bundle===sz)throw new be(fe.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Wu(t._databaseId),i=jB(e.bundle,r),s=i.t(),a=new YC(i.getMetadata(),r);for(const f of s)a.o(f);const o=a.documents;if(o.length!==1)throw new be(fe.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${o.length} documents.`);const c=eb(r,o[0].document),d=new je(xt.fromString(e.bundleName));return new mi(t,new yA(t),d,c,new po(!1,!1),n||null)}}mi._jsonSchemaVersion="firestore/documentSnapshot/1.0",mi._jsonSchema={type:Bn("string",mi._jsonSchemaVersion),bundleSource:Bn("string","DocumentSnapshot"),bundleName:Bn("string"),bundle:Bn("string")};class rp extends mi{data(e={}){return super.data(e)}}class pi{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new po(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new rp(this._firestore,this._userDataWriter,r.key,r,new po(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const c=new rp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new po(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const c=new rp(i._firestore,i._userDataWriter,o.doc.key,o.doc,new po(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return o.type!==0&&(d=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:lee(o.type),doc:c,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$x.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function oee(t,e,n){if(Hu(e,pi._jsonSchema)){if(e.bundle===sz)throw new be(fe.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Wu(t._databaseId),i=jB(e.bundle,r),s=i.t(),a=new YC(i.getMetadata(),r);for(const p of s)a.o(p);if(a.queries.length!==1)throw new be(fe.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${a.queries.length} queries.`);const o=nb(a.queries[0].bundledQuery),c=a.documents;let d=new pu;c.map((p=>{const y=eb(r,p.document);d=d.add(y)}));const f=ku.fromInitialDocuments(o,d,mt(),!1,!1),m=new Xn(t,n||null,o);return new pi(t,new yA(t),m,f)}}function lee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}function cee(t,e){return t instanceof mi&&e instanceof mi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof pi&&e instanceof pi&&t._firestore===e._firestore&&aA(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}pi._jsonSchemaVersion="firestore/querySnapshot/1.0",pi._jsonSchema={type:Bn("string",pi._jsonSchemaVersion),bundleSource:Bn("string","QuerySnapshot"),bundleName:Bn("string"),bundle:Bn("string")};const uee={maxAttempts:5};class az{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Gu(e)}set(e,n,r){this._verifyNotCommitted();const i=Vl(e,this._firestore),s=mb(i.converter,n,r),a=db(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,hn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Vl(e,this._firestore);let a;return a=typeof(n=kt(n))=="string"||n instanceof Ku?fA(this._dataReader,"WriteBatch.update",s._key,n,r,i):dA(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,hn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Vl(e,this._firestore);return this._mutations=this._mutations.concat(new oh(n._key,hn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new be(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vl(t,e){if((t=kt(t)).firestore!==e)throw new be(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class dee{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Gu(e)}get(e){const n=Vl(e,this._firestore),r=new yA(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Le(24041);const s=i[0];if(s.isFoundDocument())return new Np(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Np(this._firestore,r,n._key,null,n.converter);throw Le(18433,{doc:s})}))}set(e,n,r){const i=Vl(e,this._firestore),s=mb(i.converter,n,r),a=db(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=Vl(e,this._firestore);let a;return a=typeof(n=kt(n))=="string"||n instanceof Ku?fA(this._dataReader,"Transaction.update",s._key,n,r,i):dA(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=Vl(e,this._firestore);return this._transaction.delete(n._key),this}}class oz extends dee{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Vl(e,this._firestore),r=new pc(this._firestore);return super.get(e).then((i=>new mi(this._firestore,r,n._key,i._document,new po(!1,!1),n.converter)))}}function vA(t,e,n){t=bt(t,Wt);const r={...uee,...n};(function(a){if(a.maxAttempts<1)throw new be(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const i=pn(t);return cZ(i,(s=>e(new oz(t,s))),r)}function os(t){t=bt(t,qt);const e=bt(t.firestore,Wt),n=pn(e);return PB(n,t._key).then((r=>xA(e,t,r)))}function fee(t){t=bt(t,qt);const e=bt(t.firestore,Wt),n=pn(e),r=new pc(e);return iZ(n,t._key).then((i=>new mi(e,r,t._key,i,new po(i!==null&&i.hasLocalMutations,!0),t.converter)))}function hee(t){t=bt(t,qt);const e=bt(t.firestore,Wt),n=pn(e);return PB(n,t._key,{source:"server"}).then((r=>xA(e,t,r)))}function Tt(t){t=bt(t,Xn);const e=bt(t.firestore,Wt),n=pn(e),r=new pc(e);return YB(t._query),IB(n,t._query).then((i=>new pi(e,r,t,i)))}function mee(t){t=bt(t,Xn);const e=bt(t.firestore,Wt),n=pn(e),r=new pc(e);return sZ(n,t._query).then((i=>new pi(e,r,t,i)))}function pee(t){t=bt(t,Xn);const e=bt(t.firestore,Wt),n=pn(e),r=new pc(e);return IB(n,t._query,{source:"server"}).then((i=>new pi(e,r,t,i)))}function cr(t,e,n){t=bt(t,qt);const r=bt(t.firestore,Wt),i=mb(t.converter,e,n),s=Gu(r);return ph(r,[db(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,hn.none())])}function Bs(t,e,n,...r){t=bt(t,qt);const i=bt(t.firestore,Wt),s=Gu(i);let a;return a=typeof(e=kt(e))=="string"||e instanceof Ku?fA(s,"updateDoc",t._key,e,n,r):dA(s,"updateDoc",t._key,e),ph(i,[a.toMutation(t._key,hn.exists(!0))])}function Ru(t){return ph(bt(t.firestore,Wt),[new oh(t._key,hn.none())])}function Vi(t,e){const n=bt(t.firestore,Wt),r=ct(t),i=mb(t.converter,e),s=Gu(t.firestore);return ph(n,[db(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,hn.exists(!1))]).then((()=>r))}function zi(t,...e){t=kt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||yf(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(yf(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,a,o;if(t instanceof qt)a=bt(t.firestore,Wt),o=sh(t._key.path),s={next:d=>{e[r]&&e[r](xA(a,t,d))},error:e[r+1],complete:e[r+2]};else{const d=bt(t,Xn);a=bt(d.firestore,Wt),o=d._query;const f=new pc(a);s={next:m=>{e[r]&&e[r](new pi(a,f,d,m))},error:e[r+1],complete:e[r+2]},YB(t._query)}const c=pn(a);return rZ(c,o,i,s)}function gee(t,e,...n){const r=kt(t),i=(function(c){const d={bundle:"",bundleName:"",bundleSource:""},f=["bundle","bundleName","bundleSource"];for(const m of f){if(!(m in c)){d.error=`snapshotJson missing required field: ${m}`;break}const p=c[m];if(typeof p!="string"){d.error=`snapshotJson field '${m}' must be a string.`;break}if(p.length===0){d.error=`snapshotJson field '${m}' cannot be an empty string.`;break}m==="bundle"?d.bundle=p:m==="bundleName"?d.bundleName=p:m==="bundleSource"&&(d.bundleSource=p)}return d})(e);if(i.error)throw new be(fe.INVALID_ARGUMENT,i.error);let s,a=0;if(typeof n[a]!="object"||yf(n[a])||(s=n[a++]),i.bundleSource==="QuerySnapshot"){let o=null;if(typeof n[a]=="object"&&yf(n[a])){const c=n[a++];o={next:c.next,error:c.error,complete:c.complete}}else o={next:n[a++],error:n[a++],complete:n[a++]};return(function(d,f,m,p,y){let x,b=!1;return IN(d,f.bundle).then((()=>zB(d,f.bundleName))).then((S=>{S&&!b&&(y&&S.withConverter(y),x=zi(S,m||{},p))})).catch((S=>(p.error&&p.error(S),()=>{}))),()=>{b||(b=!0,x&&x())}})(r,i,s,o,n[a])}if(i.bundleSource==="DocumentSnapshot"){let o=null;if(typeof n[a]=="object"&&yf(n[a])){const c=n[a++];o={next:c.next,error:c.error,complete:c.complete}}else o={next:n[a++],error:n[a++],complete:n[a++]};return(function(d,f,m,p,y){let x,b=!1;return IN(d,f.bundle).then((()=>{if(!b){const S=new qt(d,y||null,je.fromPath(f.bundleName));x=zi(S,m||{},p)}})).catch((S=>(p.error&&p.error(S),()=>{}))),()=>{b||(b=!0,x&&x())}})(r,i,s,o,n[a])}throw new be(fe.INVALID_ARGUMENT,`unsupported bundle source: ${i.bundleSource}`)}function yee(t,e){t=bt(t,Wt);const n=pn(t),r=yf(e)?e:{next:e};return lZ(n,r)}function ph(t,e){const n=pn(t);return oZ(n,e)}function xA(t,e,n){const r=n.docs.get(e._key),i=new pc(t);return new mi(t,i,e._key,r,new po(n.hasPendingWrites,n.fromCache),e.converter)}function iu(t){return t=bt(t,Wt),pn(t),new az(t,(e=>ph(t,e)))}function vee(t,e){t=bt(t,Wt);const n=pn(t);if(!n._uninitializedComponentsProvider||n._uninitializedComponentsProvider._offline.kind==="memory")return yi("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=(function(s){const a=typeof s=="string"?(function(d){try{return JSON.parse(d)}catch(f){throw new be(fe.INVALID_ARGUMENT,"Failed to parse JSON: "+f?.message)}})(s):s,o=[];if(Array.isArray(a.indexes))for(const c of a.indexes){const d=GR(c,"collectionGroup"),f=[];if(Array.isArray(c.fields))for(const m of c.fields){const p=GR(m,"fieldPath"),y=mA("setIndexConfiguration",p);m.arrayConfig==="CONTAINS"?f.push(new hu(y,2)):m.order==="ASCENDING"?f.push(new hu(y,0)):m.order==="DESCENDING"&&f.push(new hu(y,1))}o.push(new Pf(Pf.UNKNOWN_ID,d,f,If.empty()))}return o})(e);return fZ(n,r)}function GR(t,e){if(typeof t[e]!="string")throw new be(fe.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}class lz{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function xee(t){t=bt(t,Wt);const e=XR.get(t);if(e)return e;if(pn(t)._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;const r=new lz(t);return XR.set(t,r),r}function bee(t){cz(t,!0)}function wee(t){cz(t,!1)}function _ee(t){const e=pn(t._firestore);mZ(e).then((n=>we("deleting all persistent cache indexes succeeded"))).catch((n=>yi("deleting all persistent cache indexes failed",n)))}function cz(t,e){const n=pn(t._firestore);hZ(n,e).then((r=>we(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((r=>yi(`setting persistent cache index auto creation isEnabled=${e} failed`,r)))}const XR=new WeakMap;class Eee{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return bA.instance.onExistenceFilterMismatch(e)}}class bA{constructor(){this.i=new Map}static get instance(){return ev||(ev=new bA,sQ(ev)),ev}u(e){this.i.forEach((n=>n(e)))}onExistenceFilterMismatch(e){const n=Symbol(),r=this.i;return r.set(n,e),()=>r.delete(n)}}let ev=null;(function(e,n=!0){VX(qu),Eu(new Xl("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Wt(new UX(r.getProvider("auth-internal")),new HX(a,r.getProvider("app-check-internal")),kY(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Ia(qR,HR,e),Ia(qR,HR,"esm2020")})();const See=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:pA,AggregateField:Kf,AggregateQuerySnapshot:XB,Bytes:ci,CACHE_SIZE_UNLIMITED:MB,CollectionReference:Ds,DocumentReference:qt,DocumentSnapshot:mi,FieldPath:Ku,FieldValue:mc,Firestore:Wt,FirestoreError:be,GeoPoint:Os,LoadBundleTask:OB,PersistentCacheIndexManager:lz,Query:Xn,QueryCompositeFilterConstraint:Yu,QueryConstraint:hh,QueryDocumentSnapshot:rp,QueryEndAtConstraint:ug,QueryFieldFilterConstraint:mh,QueryLimitConstraint:lg,QueryOrderByConstraint:fb,QuerySnapshot:pi,QueryStartAtConstraint:cg,SnapshotMetadata:po,Timestamp:gt,Transaction:oz,VectorValue:Li,WriteBatch:az,_AutoId:$x,_ByteString:wn,_DatabaseId:Ql,_DocumentKey:je,_EmptyAppCheckTokenProvider:WX,_EmptyAuthCredentialsProvider:gF,_FieldPath:cn,_TestingHooks:Eee,_cast:bt,_debugAssert:BX,_internalAggregationQueryToProtoRunAggregationQueryRequest:LZ,_internalQueryToProtoQueryTarget:MZ,_isBase64Available:PY,_logWarn:yi,_validateIsNotUsedTogether:vF,addDoc:Vi,aggregateFieldEqual:GZ,aggregateQuerySnapshotEqual:XZ,and:BZ,arrayRemove:RZ,arrayUnion:kZ,average:KZ,clearIndexedDbPersistence:wZ,collection:it,collectionGroup:yZ,connectFirestoreEmulator:DB,count:ez,deleteAllPersistentCacheIndexes:_ee,deleteDoc:Ru,deleteField:jZ,disableNetwork:SZ,disablePersistentCacheIndexAutoCreation:wee,doc:ct,documentId:TZ,documentSnapshotFromJSON:aee,enableIndexedDbPersistence:xZ,enableMultiTabIndexedDbPersistence:bZ,enableNetwork:EZ,enablePersistentCacheIndexAutoCreation:bee,endAt:HZ,endBefore:qZ,ensureFirestoreConfigured:pn,executeWrite:ph,getAggregateFromServer:tz,getCountFromServer:YZ,getDoc:os,getDocFromCache:fee,getDocFromServer:hee,getDocs:Tt,getDocsFromCache:mee,getDocsFromServer:pee,getFirestore:VB,getPersistentCacheIndexManager:xee,increment:DZ,initializeFirestore:LB,limit:lo,limitToLast:zZ,loadBundle:IN,memoryEagerGarbageCollector:tee,memoryLocalCache:ree,memoryLruGarbageCollector:nee,namedQuery:zB,onSnapshot:zi,onSnapshotResume:gee,onSnapshotsInSync:yee,or:FZ,orderBy:hb,persistentLocalCache:nz,persistentMultipleTabManager:iz,persistentSingleTabManager:rz,query:jt,queryEqual:aA,querySnapshotFromJSON:oee,refEqual:vZ,runTransaction:vA,serverTimestamp:ss,setDoc:cr,setIndexConfiguration:vee,setLogLevel:FX,snapshotEqual:cee,startAfter:$Z,startAt:UZ,sum:WZ,terminate:NZ,updateDoc:Bs,vector:OZ,waitForPendingWrites:_Z,where:Et,writeBatch:iu},Symbol.toStringTag,{value:"Module"}));var Nee="firebase",Tee="12.9.0";Ia(Nee,Tee,"app");function uz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cee=uz,dz=new Xp("auth","Firebase",uz());const T0=new cC("@firebase/auth");function Aee(t,...e){T0.logLevel<=_t.WARN&&T0.warn(`Auth (${qu}): ${t}`,...e)}function Uv(t,...e){T0.logLevel<=_t.ERROR&&T0.error(`Auth (${qu}): ${t}`,...e)}function ls(t,...e){throw _A(t,...e)}function Ms(t,...e){return _A(t,...e)}function wA(t,e,n){const r={...Cee(),[e]:n};return new Xp("auth","Firebase",r).create(e,{appName:t.name})}function wo(t){return wA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pee(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ls(t,"argument-error"),wA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _A(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dz.create(t,...e)}function at(t,e,...n){if(!t)throw _A(e,...n)}function go(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Uv(e),new Error(e)}function Ao(t,e){t||go(e)}function jN(){return typeof self<"u"&&self.location?.href||""}function Iee(){return YR()==="http:"||YR()==="https:"}function YR(){return typeof self<"u"&&self.location?.protocol||null}function jee(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Iee()||vG()||"connection"in navigator)?navigator.onLine:!0}function kee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class dg{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ao(n>e,"Short delay should be less than long delay!"),this.isMobile=gG()||xG()}get(){return jee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function EA(t,e){Ao(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class fz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;go("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;go("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;go("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ree={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Dee=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Oee=new dg(3e4,6e4);function Bo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function $a(t,e,n,r,i={}){return hz(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=Yp({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...s};return yG()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&lc(t.emulatorConfig.host)&&(d.credentials="include"),fz.fetch()(await mz(t,t.config.apiHost,n,o),d)})}async function hz(t,e,n){t._canInitEmulator=!1;const r={...Ree,...e};try{const i=new Lee(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw tv(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[c,d]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw tv(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw tv(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw tv(t,"user-disabled",a);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw wA(t,f,d);ls(t,f)}}catch(i){if(i instanceof Ua)throw i;ls(t,"network-request-failed",{message:String(i)})}}async function fg(t,e,n,r,i={}){const s=await $a(t,e,n,r,i);return"mfaPendingCredential"in s&&ls(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function mz(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?EA(t.config,i):`${t.config.apiScheme}://${i}`;return Dee.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function Mee(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Lee{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ms(this.auth,"network-request-failed")),Oee.get())})}}function tv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ms(t,e,r);return i.customData._tokenResponse=n,i}function QR(t){return t!==void 0&&t.enterprise!==void 0}class Vee{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Mee(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Fee(t,e){return $a(t,"GET","/v2/recaptchaConfig",Bo(t,e))}async function Bee(t,e){return $a(t,"POST","/v1/accounts:delete",e)}async function C0(t,e){return $a(t,"POST","/v1/accounts:lookup",e)}function ip(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function zee(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=SA(r);at(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:ip(l_(i.auth_time)),issuedAtTime:ip(l_(i.iat)),expirationTime:ip(l_(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function l_(t){return Number(t)*1e3}function SA(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Uv("JWT malformed, contained fewer than 3 sections"),null;try{const i=WV(n);return i?JSON.parse(i):(Uv("Failed to decode base64 JWT payload"),null)}catch(i){return Uv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function JR(t){const e=SA(t);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ua&&Uee(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Uee({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class $ee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class kN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ip(this.lastLoginAt),this.creationTime=ip(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function A0(t){const e=t.auth,n=await t.getIdToken(),r=await Gf(t,C0(e,{idToken:n}));at(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?pz(i.providerUserInfo):[],a=Hee(t.providerData,s),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,d=o?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new kN(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function qee(t){const e=kt(t);await A0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function pz(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Wee(t,e){const n=await hz(t,{},async()=>{const r=Yp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await mz(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:r};return t.emulatorConfig&&lc(t.emulatorConfig.host)&&(c.credentials="include"),fz.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Kee(t,e){return $a(t,"POST","/v2/accounts:revokeToken",Bo(t,e))}class vf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){at(e.length!==0,"internal-error");const n=JR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Wee(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new vf;return r&&(at(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(at(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(at(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vf,this.toJSON())}_performRefresh(){return go("not implemented")}}function _l(t,e){at(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class js{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new $ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new kN(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Gf(this,this.stsTokenManager.getToken(this.auth,e));return at(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return zee(this,e)}reload(){return qee(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new js({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await A0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(wo(this.auth));const e=await this.getIdToken();return await Gf(this,Bee(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:y,providerData:x,stsTokenManager:b}=n;at(m&&b,e,"internal-error");const _=vf.fromJSON(this.name,b);at(typeof m=="string",e,"internal-error"),_l(r,e.name),_l(i,e.name),at(typeof p=="boolean",e,"internal-error"),at(typeof y=="boolean",e,"internal-error"),_l(s,e.name),_l(a,e.name),_l(o,e.name),_l(c,e.name),_l(d,e.name),_l(f,e.name);const S=new js({uid:m,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:_,createdAt:d,lastLoginAt:f});return x&&Array.isArray(x)&&(S.providerData=x.map(O=>({...O}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new vf;i.updateFromServerResponse(n);const s=new js({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await A0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];at(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?pz(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,o=new vf;o.updateFromIdToken(r);const c=new js({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new kN(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,d),c}}const ZR=new Map;function yo(t){Ao(t instanceof Function,"Expected a class definition");let e=ZR.get(t);return e?(Ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ZR.set(t,e),e)}class gz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gz.type="NONE";const eD=gz;function $v(t,e,n){return`firebase:${t}:${e}:${n}`}class xf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$v(this.userKey,i.apiKey,s),this.fullPersistenceKey=$v("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await C0(this.auth,{idToken:e}).catch(()=>{});return n?js._fromGetAccountInfoResponse(this.auth,n,e):null}return js._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new xf(yo(eD),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||yo(eD);const a=$v(r,e.config.apiKey,e.name);let o=null;for(const d of n)try{const f=await d._get(a);if(f){let m;if(typeof f=="string"){const p=await C0(e,{idToken:f}).catch(()=>{});if(!p)break;m=await js._fromGetAccountInfoResponse(e,p,f)}else m=js._fromJSON(e,f);d!==s&&(o=m),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new xf(s,e,r):(s=c[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new xf(s,e,r))}}function tD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_z(e))return"Blackberry";if(Ez(e))return"Webos";if(vz(e))return"Safari";if((e.includes("chrome/")||xz(e))&&!e.includes("edge/"))return"Chrome";if(wz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function yz(t=Gn()){return/firefox\//i.test(t)}function vz(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xz(t=Gn()){return/crios\//i.test(t)}function bz(t=Gn()){return/iemobile/i.test(t)}function wz(t=Gn()){return/android/i.test(t)}function _z(t=Gn()){return/blackberry/i.test(t)}function Ez(t=Gn()){return/webos/i.test(t)}function NA(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gee(t=Gn()){return NA(t)&&!!window.navigator?.standalone}function Xee(){return bG()&&document.documentMode===10}function Sz(t=Gn()){return NA(t)||wz(t)||Ez(t)||_z(t)||/windows phone/i.test(t)||bz(t)}function Nz(t,e=[]){let n;switch(t){case"Browser":n=tD(Gn());break;case"Worker":n=`${tD(Gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${qu}/${r}`}class Yee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const c=e(s);a(c)}catch(c){o(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Qee(t,e={}){return $a(t,"GET","/v2/passwordPolicy",Bo(t,e))}const Jee=6;class Zee{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Jee,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class ete{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new nD(this),this.idTokenSubscription=new nD(this),this.beforeStateQueue=new Yee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yo(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await xf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await C0(this,{idToken:e}),r=await js._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(li(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,o=await this.tryRedirectSignIn(e);(!s||s===a)&&o?.user&&(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await A0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kee()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(wo(this));const n=e?kt(e):null;return n&&at(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qee(this),n=new Zee(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Kee(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yo(e)||this._popupRedirectResolver;at(n,this,"argument-error"),this.redirectPersistenceManager=await xf.create(this,[yo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&Aee(`Error while retrieving App Check token: ${e.error}`),e?.token}}function zo(t){return kt(t)}class nD{constructor(e){this.auth=e,this.observer=null,this.addObserver=TG(n=>this.observer=n)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tte(t){pb=t}function Tz(t){return pb.loadJS(t)}function nte(){return pb.recaptchaEnterpriseScript}function rte(){return pb.gapiScript}function ite(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ste{constructor(){this.enterprise=new ate}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ate{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ote="recaptcha-enterprise",Cz="NO_RECAPTCHA";class lte{constructor(e){this.type=ote,this.auth=zo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{Fee(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const d=new Vee(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(c=>{o(c)})})}function i(s,a,o){const c=window.grecaptcha;QR(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(Cz)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ste().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&QR(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=nte();c.length!==0&&(c+=o),Tz(c).then(()=>{i(o,s,a)}).catch(d=>{a(d)})}}).catch(o=>{a(o)})})}}async function rD(t,e,n,r=!1,i=!1){const s=new lte(t);let a;if(i)a=Cz;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,d=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function P0(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await rD(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await rD(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}function cte(t,e){const n=rh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Fs(s,e??{}))return i;ls(i,"already-initialized")}return n.initialize({options:e})}function ute(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(yo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function dte(t,e,n){const r=zo(t);at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Az(e),{host:a,port:o}=fte(e),c=o===null?"":`:${o}`,d={url:`${s}//${a}${c}/`},f=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){at(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),at(Fs(d,r.config.emulator)&&Fs(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,lc(a)?(Ux(`${s}//${a}${c}`),lC("Auth",!0)):hte()}function Az(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fte(t){const e=Az(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:iD(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:iD(a)}}}function iD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class TA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return go("not implemented")}_getIdTokenResponse(e){return go("not implemented")}_linkToIdToken(e,n){return go("not implemented")}_getReauthenticationResolver(e){return go("not implemented")}}async function mte(t,e){return $a(t,"POST","/v1/accounts:update",e)}async function pte(t,e){return $a(t,"POST","/v1/accounts:signUp",e)}async function gte(t,e){return fg(t,"POST","/v1/accounts:signInWithPassword",Bo(t,e))}async function yte(t,e){return $a(t,"POST","/v1/accounts:sendOobCode",Bo(t,e))}async function vte(t,e){return yte(t,e)}async function xte(t,e){return fg(t,"POST","/v1/accounts:signInWithEmailLink",Bo(t,e))}async function bte(t,e){return fg(t,"POST","/v1/accounts:signInWithEmailLink",Bo(t,e))}class Tp extends TA{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Tp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Tp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P0(e,n,"signInWithPassword",gte);case"emailLink":return xte(e,{email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return P0(e,r,"signUpPassword",pte);case"emailLink":return bte(e,{idToken:n,email:this._email,oobCode:this._password});default:ls(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function bf(t,e){return fg(t,"POST","/v1/accounts:signInWithIdp",Bo(t,e))}const wte="http://localhost";class Du extends TA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Du(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ls("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Du(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return bf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,bf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,bf(e,n)}buildRequest(){const e={requestUri:wte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yp(n)}return e}}function _te(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ete(t){const e=Lm(Vm(t)).link,n=e?Lm(Vm(e)).deep_link_id:null,r=Lm(Vm(t)).deep_link_id;return(r?Lm(Vm(r)).link:null)||r||n||e||t}class CA{constructor(e){const n=Lm(Vm(e)),r=n.apiKey??null,i=n.oobCode??null,s=_te(n.mode??null);at(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Ete(e);try{return new CA(n)}catch{return null}}}class Qu{constructor(){this.providerId=Qu.PROVIDER_ID}static credential(e,n){return Tp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=CA.parseLink(n);return at(r,"argument-error"),Tp._fromEmailAndCode(e,r.code,r.tenantId)}}Qu.PROVIDER_ID="password";Qu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class AA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hg extends AA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class kl extends hg{constructor(){super("facebook.com")}static credential(e){return Du._fromParams({providerId:kl.PROVIDER_ID,signInMethod:kl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kl.credentialFromTaggedObject(e)}static credentialFromError(e){return kl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kl.credential(e.oauthAccessToken)}catch{return null}}}kl.FACEBOOK_SIGN_IN_METHOD="facebook.com";kl.PROVIDER_ID="facebook.com";class uo extends hg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Du._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.GOOGLE_SIGN_IN_METHOD="google.com";uo.PROVIDER_ID="google.com";class Rl extends hg{constructor(){super("github.com")}static credential(e){return Du._fromParams({providerId:Rl.PROVIDER_ID,signInMethod:Rl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rl.credentialFromTaggedObject(e)}static credentialFromError(e){return Rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rl.credential(e.oauthAccessToken)}catch{return null}}}Rl.GITHUB_SIGN_IN_METHOD="github.com";Rl.PROVIDER_ID="github.com";class Dl extends hg{constructor(){super("twitter.com")}static credential(e,n){return Du._fromParams({providerId:Dl.PROVIDER_ID,signInMethod:Dl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dl.credentialFromTaggedObject(e)}static credentialFromError(e){return Dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Dl.credential(n,r)}catch{return null}}}Dl.TWITTER_SIGN_IN_METHOD="twitter.com";Dl.PROVIDER_ID="twitter.com";async function Ste(t,e){return fg(t,"POST","/v1/accounts:signUp",Bo(t,e))}class Ou{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await js._fromIdTokenResponse(e,r,i),a=sD(r);return new Ou({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=sD(r);return new Ou({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function sD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class I0 extends Ua{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,I0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new I0(e,n,r,i)}}function Pz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?I0._fromErrorAndOperation(t,s,e,r):s})}async function Nte(t,e,n=!1){const r=await Gf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ou._forOperation(t,"link",r)}async function Iz(t,e,n=!1){const{auth:r}=t;if(li(r.app))return Promise.reject(wo(r));const i="reauthenticate";try{const s=await Gf(t,Pz(r,i,e,t),n);at(s.idToken,r,"internal-error");const a=SA(s.idToken);at(a,r,"internal-error");const{sub:o}=a;return at(t.uid===o,r,"user-mismatch"),Ou._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ls(r,"user-mismatch"),s}}async function jz(t,e,n=!1){if(li(t.app))return Promise.reject(wo(t));const r="signIn",i=await Pz(t,r,e),s=await Ou._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Tte(t,e){return jz(zo(t),e)}async function Cte(t,e){return Iz(kt(t),e)}async function kz(t){const e=zo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ate(t,e,n){const r=zo(t);await P0(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",vte)}async function Pte(t,e,n){if(li(t.app))return Promise.reject(wo(t));const r=zo(t),a=await P0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ste).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&kz(t),c}),o=await Ou._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function aD(t,e,n){return li(t.app)?Promise.reject(wo(t)):Tte(kt(t),Qu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&kz(t),r})}function Rz(t,e){return Ite(kt(t),null,e)}async function Ite(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const a=await Gf(t,mte(r,s));await t._updateTokensIfNecessary(a,!0)}function jte(t,e){return kt(t).setPersistence(e)}function kte(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function Rte(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function Dte(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function Ote(t){return kt(t).signOut()}async function Mte(t){return kt(t).delete()}const j0="__sak";class Dz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(j0,"1"),this.storage.removeItem(j0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Lte=1e3,Vte=10;class Oz extends Dz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Xee()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Vte):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Lte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Oz.type="LOCAL";const Mz=Oz;class Lz extends Dz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Lz.type="SESSION";const Vz=Lz;function Fte(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class gb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new gb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async d=>d(n.origin,s)),c=await Fte(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gb.receivers=[];function PA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class Bte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,c)=>{const d=PA("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(p.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Ra(){return window}function zte(t){Ra().location.href=t}function Fz(){return typeof Ra().WorkerGlobalScope<"u"&&typeof Ra().importScripts=="function"}async function Ute(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $te(){return navigator?.serviceWorker?.controller||null}function qte(){return Fz()?self:null}const Bz="firebaseLocalStorageDb",Hte=1,k0="firebaseLocalStorage",zz="fbase_key";class mg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yb(t,e){return t.transaction([k0],e?"readwrite":"readonly").objectStore(k0)}function Wte(){const t=indexedDB.deleteDatabase(Bz);return new mg(t).toPromise()}function RN(){const t=indexedDB.open(Bz,Hte);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(k0,{keyPath:zz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(k0)?e(r):(r.close(),await Wte(),e(await RN()))})})}async function oD(t,e,n){const r=yb(t,!0).put({[zz]:e,value:n});return new mg(r).toPromise()}async function Kte(t,e){const n=yb(t,!1).get(e),r=await new mg(n).toPromise();return r===void 0?null:r.value}function lD(t,e){const n=yb(t,!0).delete(e);return new mg(n).toPromise()}const Gte=800,Xte=3;class Uz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await RN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Xte)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gb._getInstance(qte()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Ute(),!this.activeServiceWorker)return;this.sender=new Bte(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$te()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await RN();return await oD(e,j0,"1"),await lD(e,j0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>oD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Kte(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>lD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=yb(i,!1).getAll();return new mg(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Uz.type="LOCAL";const Yte=Uz;new dg(3e4,6e4);function $z(t,e){return e?yo(e):(at(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class IA extends TA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return bf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return bf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Qte(t){return jz(t.auth,new IA(t),t.bypassAuthState)}function Jte(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),Iz(n,new IA(t),t.bypassAuthState)}async function Zte(t){const{auth:e,user:n}=t;return at(n,e,"internal-error"),Nte(n,new IA(t),t.bypassAuthState)}class qz{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qte;case"linkViaPopup":case"linkViaRedirect":return Zte;case"reauthViaPopup":case"reauthViaRedirect":return Jte;default:ls(this.auth,"internal-error")}}resolve(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ene=new dg(2e3,1e4);async function tne(t,e,n){if(li(t.app))return Promise.reject(Ms(t,"operation-not-supported-in-this-environment"));const r=zo(t);Pee(t,e,AA);const i=$z(r,n);return new au(r,"signInViaPopup",e,i).executeNotNull()}class au extends qz{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,au.currentPopupAction&&au.currentPopupAction.cancel(),au.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){Ao(this.filter.length===1,"Popup operations only handle one event");const e=PA();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ms(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,au.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ene.get())};e()}}au.currentPopupAction=null;const nne="pendingRedirect",qv=new Map;class rne extends qz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=qv.get(this.auth._key());if(!e){try{const r=await ine(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}qv.set(this.auth._key(),e)}return this.bypassAuthState||qv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ine(t,e){const n=one(e),r=ane(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function sne(t,e){qv.set(t._key(),e)}function ane(t){return yo(t._redirectPersistence)}function one(t){return $v(nne,t.config.apiKey,t.name)}async function lne(t,e,n=!1){if(li(t.app))return Promise.reject(wo(t));const r=zo(t),i=$z(r,e),a=await new rne(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}const cne=600*1e3;class une{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dne(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Hz(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Ms(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cne&&this.cachedEventUids.clear(),this.cachedEventUids.has(cD(e))}saveEventToCache(e){this.cachedEventUids.add(cD(e)),this.lastProcessedEventTime=Date.now()}}function cD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Hz({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function dne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hz(t);default:return!1}}async function fne(t,e={}){return $a(t,"GET","/v1/projects",e)}const hne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mne=/^https?/;async function pne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await fne(t);for(const n of e)try{if(gne(n))return}catch{}ls(t,"unauthorized-domain")}function gne(t){const e=jN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!mne.test(n))return!1;if(hne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yne=new dg(3e4,6e4);function uD(){const t=Ra().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vne(t){return new Promise((e,n)=>{function r(){uD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uD(),n(Ms(t,"network-request-failed"))},timeout:yne.get()})}if(Ra().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ra().gapi?.load)r();else{const i=ite("iframefcb");return Ra()[i]=()=>{gapi.load?r():n(Ms(t,"network-request-failed"))},Tz(`${rte()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Hv=null,e})}let Hv=null;function xne(t){return Hv=Hv||vne(t),Hv}const bne=new dg(5e3,15e3),wne="__/auth/iframe",_ne="emulator/auth/iframe",Ene={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nne(t){const e=t.config;at(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?EA(e,_ne):`https://${t.config.authDomain}/${wne}`,r={apiKey:e.apiKey,appName:t.name,v:qu},i=Sne.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Yp(r).slice(1)}`}async function Tne(t){const e=await xne(t),n=Ra().gapi;return at(n,t,"internal-error"),e.open({where:document.body,url:Nne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ene,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Ms(t,"network-request-failed"),o=Ra().setTimeout(()=>{s(a)},bne.get());function c(){Ra().clearTimeout(o),i(r)}r.ping(c).then(c,()=>{s(a)})}))}const Cne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ane=500,Pne=600,Ine="_blank",jne="http://localhost";class dD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kne(t,e,n,r=Ane,i=Pne){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const c={...Cne,width:r.toString(),height:i.toString(),top:s,left:a},d=Gn().toLowerCase();n&&(o=xz(d)?Ine:n),yz(d)&&(e=e||jne,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[y,x])=>`${p}${y}=${x},`,"");if(Gee(d)&&o!=="_self")return Rne(e||"",o),new dD(null);const m=window.open(e||"",o,f);at(m,t,"popup-blocked");try{m.focus()}catch{}return new dD(m)}function Rne(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Dne="__/auth/handler",One="emulator/auth/handler",Mne=encodeURIComponent("fac");async function fD(t,e,n,r,i,s){at(t.config.authDomain,t,"auth-domain-config-required"),at(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:qu,eventId:i};if(e instanceof AA){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",NG(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof hg){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const c=await t._getAppCheckToken(),d=c?`#${Mne}=${encodeURIComponent(c)}`:"";return`${Lne(t)}?${Yp(o).slice(1)}${d}`}function Lne({config:t}){return t.emulator?EA(t,One):`https://${t.authDomain}/${Dne}`}const c_="webStorageSupport";class Vne{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vz,this._completeRedirectFn=lne,this._overrideRedirectResult=sne}async _openPopup(e,n,r,i){Ao(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await fD(e,n,r,jN(),i);return kne(e,s,PA())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await fD(e,n,r,jN(),i);return zte(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ao(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Tne(e),r=new une(e);return n.register("authEvent",i=>(at(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(c_,{type:c_},i=>{const s=i?.[0]?.[c_];s!==void 0&&n(!!s),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pne(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Sz()||vz()||NA()}}const Fne=Vne;var hD="@firebase/auth",mD="1.12.0";class Bne{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zne(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Une(t){Eu(new Xl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;at(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nz(t)},d=new ete(r,i,s,c);return ute(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Eu(new Xl("auth-internal",e=>{const n=zo(e.getProvider("auth").getImmediate());return(r=>new Bne(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(hD,mD,zne(t)),Ia(hD,mD,"esm2020")}const $ne=300,qne=QV("authIdTokenMaxAge")||$ne;let pD=null;const Hne=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qne)return;const i=n?.token;pD!==i&&(pD=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Wne(t=dC()){const e=rh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=cte(t,{popupRedirectResolver:Fne,persistence:[Yte,Mz,Vz]}),r=QV("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Hne(s.toString());Rte(n,a,()=>a(n.currentUser)),kte(n,o=>a(o))}}const i=GV("auth");return i&&dte(n,`http://${i}`),n}function Kne(){return document.getElementsByTagName("head")?.[0]??document}tte({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ms("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Kne().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Une("Browser");const Wz="firebasestorage.googleapis.com",Gne="storageBucket",Xne=120*1e3,Yne=600*1e3;class qa extends Ua{constructor(e,n,r=0){super(u_(e),`Firebase Storage: ${n} (${u_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return u_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var La;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(La||(La={}));function u_(t){return"storage/"+t}function Qne(){const t="An unknown error occurred, please check the error payload for server response.";return new qa(La.UNKNOWN,t)}function Jne(){return new qa(La.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Zne(){return new qa(La.CANCELED,"User canceled the upload/download.")}function ere(t){return new qa(La.INVALID_URL,"Invalid URL '"+t+"'.")}function tre(t){return new qa(La.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function gD(t){return new qa(La.INVALID_ARGUMENT,t)}function Kz(){return new qa(La.APP_DELETED,"The Firebase app was deleted.")}function nre(t){return new qa(La.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class ks{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ks.makeFromUrl(e,n)}catch{return new ks(e,"")}if(r.path==="")return r;throw tre(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function d(z){z.path_=decodeURIComponent(z.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${f}/b/${i}/o${p}`,"i"),x={bucket:1,path:3},b=n===Wz?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",S=new RegExp(`^https?://${b}/${i}/${_}`,"i"),R=[{regex:o,indices:c,postModify:s},{regex:y,indices:x,postModify:d},{regex:S,indices:{bucket:1,path:2},postModify:d}];for(let z=0;z<R.length;z++){const P=R[z],A=P.regex.exec(e);if(A){const N=A[P.indices.bucket];let T=A[P.indices.path];T||(T=""),r=new ks(N,T),P.postModify(r);break}}if(r==null)throw ere(e);return r}}class rre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ire(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function c(){return o===2}let d=!1;function f(..._){d||(d=!0,e.apply(null,_))}function m(_){i=setTimeout(()=>{i=null,t(y,c())},_)}function p(){s&&clearTimeout(s)}function y(_,...S){if(d){p();return}if(_){p(),f.call(null,_,...S);return}if(c()||a){p(),f.call(null,_,...S);return}r<64&&(r*=2);let R;o===1?(o=2,R=0):R=(r+Math.random())*1e3,m(R)}let x=!1;function b(_){x||(x=!0,p(),!d&&(i!==null?(_||(o=2),clearTimeout(i),m(0)):_||(o=1)))}return m(0),s=setTimeout(()=>{a=!0,b(!0)},n),b}function sre(t){t(!1)}function are(t){return t!==void 0}function yD(t,e,n,r){if(r<e)throw gD(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gD(`Invalid value for '${t}'. Expected ${n} or less.`)}function ore(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var R0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(R0||(R0={}));function lre(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class cre{constructor(e,n,r,i,s,a,o,c,d,f,m,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new nv(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const c=o.loaded,d=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===R0.NO_ERROR,c=s.getStatus();if(!o||lre(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===R0.ABORT;r(!1,new nv(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new nv(d,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());are(c)?s(c):s()}catch(c){a(c)}else if(o!==null){const c=Qne();c.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,c)):a(c)}else if(i.canceled){const c=this.appDelete_?Kz():Zne();a(c)}else{const c=Jne();a(c)}};this.canceled_?n(!1,new nv(!1,null,!0)):this.backoffId_=ire(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nv{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function ure(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function dre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function fre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function mre(t,e,n,r,i,s,a=!0,o=!1){const c=ore(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return fre(f,e),ure(f,n),dre(f,s),hre(f,r),new cre(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}function pre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gre(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class D0{constructor(e,n){this._service=e,n instanceof ks?this._location=n:this._location=ks.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new D0(e,n)}get root(){const e=new ks(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return gre(this._location.path)}get storage(){return this._service}get parent(){const e=pre(this._location.path);if(e===null)return null;const n=new ks(this._location.bucket,e);return new D0(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw nre(e)}}function vD(t,e){const n=e?.[Gne];return n==null?null:ks.makeFromBucketSpec(n,t)}function yre(t,e,n,r={}){t.host=`${e}:${n}`;const i=lc(e);i&&(Ux(`https://${t.host}/b`),lC("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:JV(s,t.app.options.projectId))}class vre{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=Wz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Xne,this._maxUploadRetryTime=Yne,this._requests=new Set,i!=null?this._bucket=ks.makeFromBucketSpec(i,this._host):this._bucket=vD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ks.makeFromBucketSpec(this._url,e):this._bucket=vD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){yD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){yD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new D0(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new rre(Kz());{const a=mre(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const xD="@firebase/storage",bD="0.14.0";const Gz="storage";function xre(t=dC(),e){t=kt(t);const r=rh(t,Gz).getImmediate({identifier:e}),i=XV("storage");return i&&bre(r,...i),r}function bre(t,e,n,r={}){yre(t,e,n,r)}function wre(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new vre(n,r,i,e,qu)}function _re(){Eu(new Xl(Gz,wre,"PUBLIC").setMultipleInstances(!0)),Ia(xD,bD,""),Ia(xD,bD,"esm2020")}_re();const Ere={apiKey:"AIzaSyBv8ljlrTY9LsoPUZPQpw1YaX2W6D5_O54",authDomain:"nexcoin-1f42f.firebaseapp.com",projectId:"nexcoin-1f42f",storageBucket:"nexcoin-1f42f.firebasestorage.app",messagingSenderId:"575773698878",appId:"1:575773698878:web:29261adabbe23c039f1a6f"},O0=_k().length===0?sF(Ere):_k()[0],xn=Wne(O0);jte(xn,Mz).then(()=>{console.log(" Persistncia do Firebase Auth configurada com sucesso")}).catch(t=>{console.error(" Erro ao configurar persistncia:",t)});let Se;try{Se=VB(O0)}catch{Se=LB(O0,{localCache:nz({tabManager:iz(),cacheSizeBytes:MB})})}const Sre=console.error;console.error=(...t)=>{typeof t[0]=="string"&&(t[0].includes("WebChannelConnection")||t[0].includes("@firebase/firestore"))||Sre(...t)};xre(O0);const DN={pt:{welcome:"Bem-vindo",createAccount:"Criar Conta",login:"Login",signUp:"Cadastro",termsAgreement:"Ao se cadastrar, voc concorda com nossos Termos de Servio e Poltica de Privacidade.",futureOfFinance:"Future of Finance",dontHaveAccount:"No tem uma conta?",alreadyHaveAccount:"J tem uma conta?",email:"Digite seu telefone",phone:"Telefone",fullName:"Nome completo",password:"Senha",confirmPassword:"Confirmar senha",forgotPassword:"Esqueceu a senha?",continue:"Continuar",portuguese:"Portugus",english:"Ingls",spanish:"Espanhol",register:"Cadastrar",home:"Incio",wallet:"Carteira",convert:"Converter",crypto:"Cripto",profile:"Perfil",totalBalance:"Saldo total",hideBalance:"Ocultar saldo",showBalance:"Exibir saldo",recentTransactions:"Transaes recentes",deposit:"Depositar",withdraw:"Sacar",transfer:"Transferir",noTransactions:"Nenhuma transao ainda",quickActions:"Aes rpidas",viewAll:"Ver tudo",cashAndStablecoins:"Dinheiro e Stablecoins",statement:"Extrato",viewAllTransactions:"Ver todas as transaes",market:"Mercado",myAccounts:"Minhas Contas",myCryptos:"Minhas Criptomoedas",trade:"Negociar",activity:"Atividade",myWallet:"Minha Carteira",assets:"Ativos",search:"Pesquisar",totalAssets:"Total em ativos",cryptoAssets:"Ativos em Cripto",fiatBalance:"Saldo em Fiat",manageHoldings:"Gerenciar ativos",send:"Enviar",loadingAssets:"Carregando ativos...",noAssetsInPortfolio:"Nenhum ativo no portflio",startAddingCryptos:"Comece adicionando criptomoedas na aba",goToCrypto:"Ir para Cripto",cryptocurrencies:"Criptomoedas",clickToAddBalance:"Clique 2x para adicionar saldo",removeAsset:"Remover ativo",addBalance:"Adicionar Saldo",enterValidValue:"Digite um valor vlido",balanceAddedSuccess:"Saldo adicionado com sucesso!",errorAddingBalance:"Erro ao adicionar saldo",cancel:"Cancelar",add:"Adicionar",confirmDeletion:"Confirmar Excluso",areYouSureDelete:"Tem certeza que deseja remover permanentemente",fromYourPortfolio:"do seu portflio?",delete:"Excluir",currentBalance:"Saldo atual",valueToAdd:"Valor a adicionar",newBalance:"Novo saldo",adding:"Adicionando...",addCryptosToPortfolio:"Adicione criptomoedas ao seu portflio",toAddMoreCryptos:"Para adicionar mais criptomoedas, v na aba",andClickCrypto:"e clique 2x na moeda desejada",inCryptoTab:"Na aba Cripto, clique 2x em qualquer moeda para adicionar",selectAssetToDelete:"Selecione um ativo para excluir",assetRemovedSuccess:"Ativo removido com sucesso!",errorRemovingAsset:"Erro ao remover ativo",removing:"Removendo...",remove:"Remover",convertCrypto:"Converter Cripto",from:"De",to:"Para",amount:"Valor",youGet:"Voc recebe",exchangeRate:"Taxa de cmbio",convertNow:"Converter agora",selectCrypto:"Selecionar cripto",cryptoMarket:"Mercado Cripto",topGainers:"Maiores altas",topLosers:"Maiores quedas",marketCap:"Cap. de mercado",volume24h:"Volume 24h",price:"Preo",change24h:"Variao 24h",myProfile:"Meu Perfil",settings:"Configuraes",security:"Segurana",notifications:"Notificaes",language:"Idioma",support:"Suporte",about:"Sobre",logout:"Sair",account:"Conta",personalInfo:"Informaes pessoais",accountData:"Dados da conta",helpCenter:"Central de ajuda",termsAndPrivacy:"Termos e privacidade",appPreferences:"Preferncias do app",dangerZone:"Zona de Perigo",deleteAccount:"Excluir conta",help:"Ajuda",privacy:"Privacidade",aboutUs:"Sobre ns",securitySettings:"Configuraes de Segurana",changePassword:"Alterar senha",twoFactor:"Autenticao de dois fatores",biometric:"Biometria",currentPassword:"Senha atual",newPassword:"Nova senha",confirmNewPassword:"Confirmar nova senha",updatePassword:"Atualizar senha",authentication:"Autenticao",lastChanged:"ltima alterao h 3 meses",addExtraLayer:"Adicione uma camada extra de segurana",securityNotifications:"Notificaes de segurana",emailAlerts:"Alertas por e-mail",receiveSuspiciousActivity:"Receba notificaes de atividades suspeitas",recentActivity:"Atividades recentes",viewDevicesAccess:"Veja dispositivos e acessos recentes",connectedDevices:"Dispositivos conectados",activeDevices:"3 dispositivos ativos",activeSessions:"Sesses ativas",manageSessions:"Gerencie suas sesses",yourAccountProtected:"Sua conta est protegida",keepInfoSecure:"Continue mantendo suas informaes seguras",securityTips:"Dicas de segurana",useStrongPassword:"Use uma senha forte e nica",enableTwoFactor:"Ative a autenticao de dois fatores",neverShareCredentials:"Nunca compartilhe suas credenciais",notificationSettings:"Configuraes de Notificaes",pushNotifications:"Notificaes push",emailNotifications:"Notificaes por e-mail",transactionAlerts:"Alertas de transao",priceAlerts:"Alertas de preo",newsUpdates:"Atualizaes de notcias",languageSettings:"Configuraes de Idioma",selectLanguage:"Selecione seu idioma",languageUpdated:"Idioma atualizado com sucesso!",selectYourLanguage:"Selecione seu idioma",languageDescription:"Escolha o idioma de sua preferncia para o aplicativo",sent:"Enviado",received:"Recebido",pending:"Pendente",completed:"Concludo",failed:"Falhou",transactions:"Transaes",allTransactions:"Todas as transaes",confirm:"Confirmar",save:"Salvar",edit:"Editar",back:"Voltar",next:"Prximo",done:"Concludo",loading:"Carregando...",error:"Erro",success:"Sucesso",close:"Fechar",welcomeBack:"Bem-vindo de volta",goodMorning:"Bom dia",goodAfternoon:"Boa tarde",goodEvening:"Boa noite",depositFunds:"Depositar fundos",withdrawFunds:"Sacar fundos",selectAmount:"Selecionar valor",enterAmount:"Inserir valor",minimum:"Mnimo",maximum:"Mximo",available:"Disponvel",receive:"Receber",name:"Nome",country:"Pas",dateOfBirth:"Data de nascimento",address:"Endereo",portfolioValue:"Valor do portflio",dailyChange:"Variao diria",profit:"Lucro",loss:"Perda",myCards:"Meus cartes",addCard:"Adicionar carto",manageCards:"Gerenciar cartes",bottomNav:{home:"Incio",wallet:"Carteira",convert:"Converter",crypto:"Cripto",profile:"Perfil"},cryptoPage:{all:"Todos",favorites:"Favoritos",searchCrypto:"Pesquisar criptomoeda...",addBalance:"Adicionar Saldo",enterAmount:"Digite o valor",add:"Adicionar",balance:"Saldo",noFavorites:"Nenhum favorito ainda",addFavoritesTip:"Toque na estrela para adicionar favoritos",topGainersToday:"Maiores Altas Hoje",cryptoAddedSuccess:"Cripto adicionada com sucesso!",errorAddingCrypto:"Erro ao adicionar cripto",invalidAmount:"Valor invlido"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Cripto  Cripto",cryptoToFiat:"Cripto  Moeda",fiatToFiat:"Moeda  Moeda",convertAll:"Converter tudo",exchangeRate:"Cotao",conversionFee:"Taxa de converso (0.5%)",processing:"Processamento",confirmExchange:"Confirmar Exchange",converting:"Convertendo...",conversionHistory:"Histrico de Converses",insufficientBalance:"Saldo insuficiente",insufficientBalanceWithFee:"Saldo insuficiente (inclui taxa 0,5%)",noBalance:"Sem saldo em",conversionCompleted:"Converso Realizada!",anotherConversion:"Deseja fazer outra converso?",yesAnother:"Sim, fazer outra",noGoHome:"No, voltar para Home",conversionSuccess:"Converso realizada com sucesso!",conversionError:"Erro ao processar converso",deleteConversion:" Deseja excluir esta converso?",conversionDeleted:" Converso excluda com sucesso!",errorDeletingConversion:"Erro ao excluir converso",noConversions:"Nenhuma converso realizada ainda",loadingHistory:"Carregando histrico...",needTwoAccounts:"Voc precisa ter contas em pelo menos 2 pases diferentes para fazer converses entre moedas.",needBankAccount:"Voc precisa abrir uma conta bancria para converter cripto em moeda fiat.",seconds:"segundos",clickToDelete:"Clique 2x para excluir"}},en:{welcome:"Welcome",createAccount:"Create Account",login:"Login",signUp:"Sign Up",termsAgreement:"By signing up, you agree to our Terms of Service and Privacy Policy.",futureOfFinance:"Future of Finance",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",email:"Enter your phone",phone:"Phone",fullName:"Full name",password:"Password",confirmPassword:"Confirm password",forgotPassword:"Forgot password?",continue:"Continue",portuguese:"Portuguese",english:"English",spanish:"Spanish",register:"Register",home:"Home",wallet:"Wallet",convert:"Convert",crypto:"Crypto",profile:"Profile",totalBalance:"Total Balance",hideBalance:"Hide Balance",showBalance:"Show Balance",recentTransactions:"Recent Transactions",deposit:"Deposit",withdraw:"Withdraw",transfer:"Transfer",noTransactions:"No transactions yet",quickActions:"Quick Actions",viewAll:"View All",cashAndStablecoins:"Cash and Stablecoins",statement:"Statement",viewAllTransactions:"View All Transactions",market:"Market",myAccounts:"My Accounts",myCryptos:"My Cryptos",trade:"Trade",activity:"Activity",myWallet:"My Wallet",assets:"Assets",search:"Search",totalAssets:"Total Assets",cryptoAssets:"Crypto Assets",fiatBalance:"Fiat Balance",manageHoldings:"Manage Holdings",send:"Send",loadingAssets:"Loading assets...",noAssetsInPortfolio:"No assets in portfolio",startAddingCryptos:"Start adding cryptocurrencies in the",goToCrypto:"Go to Crypto",cryptocurrencies:"Cryptocurrencies",clickToAddBalance:"Double-click to add balance",removeAsset:"Remove Asset",addBalance:"Add Balance",enterValidValue:"Enter a valid value",balanceAddedSuccess:"Balance added successfully!",errorAddingBalance:"Error adding balance",cancel:"Cancel",add:"Add",confirmDeletion:"Confirm Deletion",areYouSureDelete:"Are you sure you want to permanently remove",fromYourPortfolio:"from your portfolio?",delete:"Delete",currentBalance:"Current balance",valueToAdd:"Value to add",newBalance:"New balance",adding:"Adding...",addCryptosToPortfolio:"Add cryptocurrencies to your portfolio",toAddMoreCryptos:"To add more cryptocurrencies, go to the",andClickCrypto:"tab and double-click on the desired coin",inCryptoTab:"In the Crypto tab, double-click on any coin to add",selectAssetToDelete:"Select an asset to delete",assetRemovedSuccess:"Asset removed successfully!",errorRemovingAsset:"Error removing asset",removing:"Removing...",remove:"Remove",convertCrypto:"Convert Crypto",from:"From",to:"To",amount:"Amount",youGet:"You get",exchangeRate:"Exchange Rate",convertNow:"Convert now",selectCrypto:"Select crypto",cryptoMarket:"Crypto Market",topGainers:"Top Gainers",topLosers:"Top Losers",marketCap:"Market Cap",volume24h:"24h Volume",price:"Price",change24h:"24h Change",myProfile:"My Profile",settings:"Settings",security:"Security",notifications:"Notifications",language:"Language",support:"Support",about:"About",logout:"Logout",account:"Account",personalInfo:"Personal Information",accountData:"Account Data",helpCenter:"Help Center",termsAndPrivacy:"Terms & Privacy",appPreferences:"App Preferences",dangerZone:"Danger Zone",deleteAccount:"Delete Account",help:"Help",privacy:"Privacy",aboutUs:"About Us",securitySettings:"Security Settings",changePassword:"Change Password",twoFactor:"Two-Factor Authentication",biometric:"Biometric",currentPassword:"Current Password",newPassword:"New Password",confirmNewPassword:"Confirm New Password",updatePassword:"Update Password",authentication:"Authentication",lastChanged:"Last changed 3 months ago",addExtraLayer:"Add an extra layer of security",securityNotifications:"Security Notifications",emailAlerts:"Email Alerts",receiveSuspiciousActivity:"Receive notifications of suspicious activities",recentActivity:"Recent Activity",viewDevicesAccess:"View devices and recent access",connectedDevices:"Connected Devices",activeDevices:"3 active devices",activeSessions:"Active Sessions",manageSessions:"Manage your sessions",yourAccountProtected:"Your account is protected",keepInfoSecure:"Keep your information secure",securityTips:"Security Tips",useStrongPassword:"Use a strong and unique password",enableTwoFactor:"Enable two-factor authentication",neverShareCredentials:"Never share your credentials",notificationSettings:"Notification Settings",pushNotifications:"Push Notifications",emailNotifications:"Email Notifications",transactionAlerts:"Transaction Alerts",priceAlerts:"Price Alerts",newsUpdates:"News Updates",languageSettings:"Language Settings",selectLanguage:"Select your language",languageUpdated:"Language updated successfully!",selectYourLanguage:"Select your language",languageDescription:"Choose your preferred language for the app",sent:"Sent",received:"Received",pending:"Pending",completed:"Completed",failed:"Failed",transactions:"Transactions",allTransactions:"All Transactions",confirm:"Confirm",save:"Save",edit:"Edit",back:"Back",next:"Next",done:"Done",loading:"Loading...",error:"Error",success:"Success",close:"Close",welcomeBack:"Welcome back",goodMorning:"Good morning",goodAfternoon:"Good afternoon",goodEvening:"Good evening",depositFunds:"Deposit Funds",withdrawFunds:"Withdraw Funds",selectAmount:"Select Amount",enterAmount:"Enter Amount",minimum:"Minimum",maximum:"Maximum",available:"Available",receive:"Receive",name:"Name",country:"Country",dateOfBirth:"Date of Birth",address:"Address",portfolioValue:"Portfolio Value",dailyChange:"Daily Change",profit:"Profit",loss:"Loss",myCards:"My Cards",addCard:"Add Card",manageCards:"Manage Cards",bottomNav:{home:"Home",wallet:"Wallet",convert:"Convert",crypto:"Crypto",profile:"Profile"},cryptoPage:{all:"All",favorites:"Favorites",searchCrypto:"Search cryptocurrency...",addBalance:"Add Balance",enterAmount:"Enter amount",add:"Add",balance:"Balance",noFavorites:"No favorites yet",addFavoritesTip:"Tap the star to add favorites",topGainersToday:"Top Gainers Today",cryptoAddedSuccess:"Crypto added successfully!",errorAddingCrypto:"Error adding crypto",invalidAmount:"Invalid amount"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Crypto  Crypto",cryptoToFiat:"Crypto  Fiat",fiatToFiat:"Fiat  Fiat",convertAll:"Convert all",exchangeRate:"Exchange Rate",conversionFee:"Conversion fee (0.5%)",processing:"Processing",confirmExchange:"Confirm Exchange",converting:"Converting...",conversionHistory:"Conversion History",insufficientBalance:"Insufficient balance",insufficientBalanceWithFee:"Insufficient balance (includes 0.5% fee)",noBalance:"No balance in",conversionCompleted:"Conversion Completed!",anotherConversion:"Do you want to make another conversion?",yesAnother:"Yes, make another",noGoHome:"No, go to Home",conversionSuccess:"Conversion completed successfully!",conversionError:"Error processing conversion",deleteConversion:" Do you want to delete this conversion?",conversionDeleted:" Conversion deleted successfully!",errorDeletingConversion:"Error deleting conversion",noConversions:"No conversions made yet",loadingHistory:"Loading history...",needTwoAccounts:"You need accounts in at least 2 different countries to make currency conversions.",needBankAccount:"You need to open a bank account to convert crypto to fiat currency.",seconds:"seconds",clickToDelete:"Double-click to delete"}},es:{welcome:"Bienvenido",createAccount:"Crear Cuenta",login:"Iniciar Sesin",signUp:"Registro",termsAgreement:"Al registrarte, aceptas nuestros Trminos de Servicio y Poltica de Privacidad.",futureOfFinance:"Future of Finance",dontHaveAccount:"No tienes una cuenta?",alreadyHaveAccount:"Ya tienes una cuenta?",email:"Ingresa tu telfono",phone:"Telfono",fullName:"Nombre completo",password:"Contrasea",confirmPassword:"Confirmar contrasea",forgotPassword:"Olvidaste la contrasea?",continue:"Continuar",portuguese:"Portugus",english:"Ingls",spanish:"Espaol",register:"Registrarse",home:"Inicio",wallet:"Billetera",convert:"Convertir",crypto:"Cripto",profile:"Perfil",totalBalance:"Saldo Total",hideBalance:"Ocultar Saldo",showBalance:"Mostrar Saldo",recentTransactions:"Transacciones Recientes",deposit:"Depositar",withdraw:"Retirar",transfer:"Transferir",noTransactions:"No hay transacciones an",quickActions:"Acciones Rpidas",viewAll:"Ver Todo",cashAndStablecoins:"Dinero y Stablecoins",statement:"Estado de Cuenta",viewAllTransactions:"Ver Todas las Transacciones",market:"Mercado",myAccounts:"Mis Cuentas",myCryptos:"Mis Criptos",trade:"Negociar",activity:"Actividad",myWallet:"Mi Billetera",assets:"Activos",search:"Buscar",totalAssets:"Total en Activos",cryptoAssets:"Activos en Cripto",fiatBalance:"Saldo en Fiat",manageHoldings:"Gestionar Activos",send:"Enviar",loadingAssets:"Cargando activos...",noAssetsInPortfolio:"No hay activos en el portafolio",startAddingCryptos:"Comienza agregando criptomonedas en la pestaa",goToCrypto:"Ir a Cripto",cryptocurrencies:"Criptomonedas",clickToAddBalance:"Haz doble clic para agregar saldo",removeAsset:"Eliminar Activo",addBalance:"Agregar Saldo",enterValidValue:"Ingresa un valor vlido",balanceAddedSuccess:"Saldo agregado con xito!",errorAddingBalance:"Error al agregar saldo",cancel:"Cancelar",add:"Agregar",confirmDeletion:"Confirmar Eliminacin",areYouSureDelete:"Ests seguro de que deseas eliminar permanentemente",fromYourPortfolio:"de tu portafolio?",delete:"Eliminar",currentBalance:"Saldo actual",valueToAdd:"Valor a agregar",newBalance:"Nuevo saldo",adding:"Agregando...",addCryptosToPortfolio:"Agrega criptomonedas a tu portafolio",toAddMoreCryptos:"Para agregar ms criptomonedas, ve a la",andClickCrypto:"pestaa y haz doble clic en la moneda deseada",inCryptoTab:"En la pestaa Cripto, haz doble clic en cualquier moneda para agregar",selectAssetToDelete:"Selecciona un activo para eliminar",assetRemovedSuccess:"Activo eliminado con xito!",errorRemovingAsset:"Error al eliminar activo",removing:"Eliminando...",remove:"Eliminar",convertCrypto:"Convertir Cripto",from:"De",to:"A",amount:"Cantidad",youGet:"Recibes",exchangeRate:"Tasa de Cambio",convertNow:"Convertir ahora",selectCrypto:"Seleccionar cripto",cryptoMarket:"Mercado Cripto",topGainers:"Mayores Subidas",topLosers:"Mayores Cadas",marketCap:"Cap. de Mercado",volume24h:"Volumen 24h",price:"Precio",change24h:"Cambio 24h",myProfile:"Mi Perfil",settings:"Configuracin",security:"Seguridad",notifications:"Notificaciones",language:"Idioma",support:"Soporte",about:"Acerca de",logout:"Salir",account:"Cuenta",personalInfo:"Informacin Personal",accountData:"Datos de la Cuenta",helpCenter:"Centro de Ayuda",termsAndPrivacy:"Trminos y Privacidad",appPreferences:"Preferencias de la App",dangerZone:"Zona de Peligro",deleteAccount:"Eliminar Cuenta",help:"Ayuda",privacy:"Privacidad",aboutUs:"Acerca de Nosotros",securitySettings:"Configuracin de Seguridad",changePassword:"Cambiar Contrasea",twoFactor:"Autenticacin de Dos Factores",biometric:"Biometra",currentPassword:"Contrasea Actual",newPassword:"Nueva Contrasea",confirmNewPassword:"Confirmar Nueva Contrasea",updatePassword:"Actualizar Contrasea",authentication:"Autenticacin",lastChanged:"ltimo cambio hace 3 meses",addExtraLayer:"Agrega una capa extra de seguridad",securityNotifications:"Notificaciones de Seguridad",emailAlerts:"Alertas por Correo",receiveSuspiciousActivity:"Recibe notificaciones de actividades sospechosas",recentActivity:"Actividad Reciente",viewDevicesAccess:"Ver dispositivos y accesos recientes",connectedDevices:"Dispositivos Conectados",activeDevices:"3 dispositivos activos",activeSessions:"Sesiones Activas",manageSessions:"Gestiona tus sesiones",yourAccountProtected:"Tu cuenta est protegida",keepInfoSecure:"Mantn tu informacin segura",securityTips:"Consejos de Seguridad",useStrongPassword:"Usa una contrasea fuerte y nica",enableTwoFactor:"Activa la autenticacin de dos factores",neverShareCredentials:"Nunca compartas tus credenciales",notificationSettings:"Configuracin de Notificaciones",pushNotifications:"Notificaciones Push",emailNotifications:"Notificaciones por Correo",transactionAlerts:"Alertas de Transaccin",priceAlerts:"Alertas de Precio",newsUpdates:"Actualizaciones de Noticias",languageSettings:"Configuracin de Idioma",selectLanguage:"Selecciona tu idioma",languageUpdated:"Idioma actualizado con xito!",selectYourLanguage:"Selecciona tu idioma",languageDescription:"Elige tu idioma preferido para la aplicacin",sent:"Enviado",received:"Recibido",pending:"Pendiente",completed:"Completado",failed:"Fallido",transactions:"Transacciones",allTransactions:"Todas las Transacciones",confirm:"Confirmar",save:"Guardar",edit:"Editar",back:"Volver",next:"Siguiente",done:"Hecho",loading:"Cargando...",error:"Error",success:"xito",close:"Cerrar",welcomeBack:"Bienvenido de nuevo",goodMorning:"Buenos das",goodAfternoon:"Buenas tardes",goodEvening:"Buenas noches",depositFunds:"Depositar Fondos",withdrawFunds:"Retirar Fondos",selectAmount:"Seleccionar Cantidad",enterAmount:"Ingresar Cantidad",minimum:"Mnimo",maximum:"Mximo",available:"Disponible",receive:"Recibir",name:"Nombre",country:"Pas",dateOfBirth:"Fecha de Nacimiento",address:"Direccin",portfolioValue:"Valor del Portafolio",dailyChange:"Cambio Diario",profit:"Ganancia",loss:"Prdida",myCards:"Mis Tarjetas",addCard:"Agregar Tarjeta",manageCards:"Gestionar Tarjetas",bottomNav:{home:"Inicio",wallet:"Billetera",convert:"Convertir",crypto:"Cripto",profile:"Perfil"},cryptoPage:{all:"Todos",favorites:"Favoritos",searchCrypto:"Buscar criptomoneda...",addBalance:"Agregar Saldo",enterAmount:"Ingresar cantidad",add:"Agregar",balance:"Saldo",noFavorites:"An no hay favoritos",addFavoritesTip:"Toca la estrella para agregar favoritos",topGainersToday:"Mayores Subidas Hoy",cryptoAddedSuccess:"Cripto agregada con xito!",errorAddingCrypto:"Error al agregar cripto",invalidAmount:"Cantidad invlida"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Cripto  Cripto",cryptoToFiat:"Cripto  Fiat",fiatToFiat:"Fiat  Fiat",convertAll:"Convertir todo",exchangeRate:"Tasa de Cambio",conversionFee:"Tarifa de conversin (0.5%)",processing:"Procesamiento",confirmExchange:"Confirmar Exchange",converting:"Convirtiendo...",conversionHistory:"Historial de Conversiones",insufficientBalance:"Saldo insuficiente",insufficientBalanceWithFee:"Saldo insuficiente (incluye tarifa 0,5%)",noBalance:"Sin saldo en",conversionCompleted:"Conversin Completada!",anotherConversion:"Deseas hacer otra conversin?",yesAnother:"S, hacer otra",noGoHome:"No, volver al Inicio",conversionSuccess:"Conversin realizada con xito!",conversionError:"Error al procesar conversin",deleteConversion:" Deseas eliminar esta conversin?",conversionDeleted:" Conversin eliminada con xito!",errorDeletingConversion:"Error al eliminar conversin",noConversions:"An no se han realizado conversiones",loadingHistory:"Cargando historial...",needTwoAccounts:"Necesitas cuentas en al menos 2 pases diferentes para hacer conversiones de moneda.",needBankAccount:"Necesitas abrir una cuenta bancaria para convertir cripto en moneda fiat.",seconds:"segundos",clickToDelete:"Haz doble clic para eliminar"}}},Nl=()=>{try{const t=navigator.language.toLowerCase();return t.startsWith("pt")?"pt":t.startsWith("es")?"es":"en"}catch(t){return console.error("Erro ao detectar idioma do navegador:",t),"pt"}},wD=Nl(),Nre={language:wD,setLanguage:async()=>{},t:DN[wD]},Xz=E.createContext(Nre);function Tre({children:t}){const[e,n]=E.useState(Nl());E.useEffect(()=>{try{const s=xn.onAuthStateChanged(a=>{if(a&&a.uid){const o=ct(Se,"users",a.uid),c=zi(o,d=>{try{if(d.exists()){const f=d.data();f?.language&&["pt","en","es"].includes(f.language)?n(f.language):n(Nl())}else n(Nl())}catch(f){console.error("Erro ao processar dados do usurio:",f),n(Nl())}},d=>{d.code!=="permission-denied"&&console.error("Erro ao escutar idioma do usurio:",d),n(Nl())});return()=>c()}else n(Nl())});return()=>s()}catch(s){console.error("Erro ao configurar listener de autenticao:",s),n(Nl())}},[]);const i={language:e,setLanguage:async s=>{try{if(!["pt","en","es"].includes(s)){console.error("Idioma invlido:",s);return}n(s);const a=xn.currentUser;if(a)try{const o=ct(Se,"users",a.uid);await Bs(o,{language:s}),console.log(" Idioma salvo no Firestore:",s)}catch(o){console.error("Erro ao salvar idioma no Firestore:",o)}}catch(a){console.error("Erro ao definir idioma:",a)}},t:DN[e]||DN.pt};return l.jsx(Xz.Provider,{value:i,children:t})}function fs(){return E.useContext(Xz)}const Yz=E.createContext({phoneNumber:"",setPhoneNumber:()=>{}});function Qz(){return E.useContext(Yz)}function Cre({children:t}){const[e,n]=E.useState(""),r={phoneNumber:e,setPhoneNumber:n};return l.jsx(Yz.Provider,{value:r,children:t})}async function Jz(t,e,n,r,i,s){try{if(console.log(" Salvando ativo no portfolio:",{userId:t,symbol:e,coinId:n,amount:r,name:i,valueUsd:s}),!t){console.warn(" userId vazio, cancelando salvamento");return}const a=ct(Se,"users",t,"portfolio",e);await cr(a,{symbol:e,coinId:n,amount:r,name:i||e,valueUsd:s||0,updatedAt:new Date},{merge:!0}),console.log(" Ativo salvo no portfolio com sucesso!")}catch(a){throw console.error(" Erro ao salvar ativo no portfolio:",a),a instanceof Error&&(console.error(" Mensagem:",a.message),console.error(" Stack:",a.stack)),a}}async function Are(t,e){try{console.log(" Removendo ativo do portfolio:",e);const n=ct(Se,"users",t,"portfolio",e);await Ru(n),console.log(" Ativo removido do portfolio com sucesso!")}catch(n){throw console.error(" Erro ao remover ativo do portfolio:",n),n}}async function Pre(t,e,n,r,i,s){for(let c=1;c<=3;c++)try{console.log(` Atualizando saldo (tentativa ${c}/3):`,{symbol:e,deltaAmount:r});const d=ct(Se,"users",t,"portfolio",e),f=await os(d);if(f.exists()){const p=(f.data().amount||0)+r;if(p<=0)await Ru(d),console.log(" Ativo removido (saldo zerado)");else{const y=s?p*s:0;await Bs(d,{amount:p,valueUsd:y,updatedAt:new Date}),console.log(" Saldo atualizado:",p,"valueUsd:",y)}}else if(r>0){const m=s?r*s:0;await Jz(t,e,n,r,i,m),console.log(" Novo ativo criado com saldo:",r)}return}catch(d){if(console.error(` Erro ao atualizar saldo (tentativa ${c}/3):`,d),c===3)throw d;await new Promise(f=>setTimeout(f,500*c))}}async function Ire(t){console.log(" initializeUserPortfolio no  necessrio com a nova estrutura de coleo")}async function jre(t,e){try{if(!t){console.warn(" userId vazio, cancelando sincronizao");return}if(!e||Object.keys(e).length===0){console.warn(" Preos vazios, cancelando sincronizao");return}console.log(" Sincronizando valores do portfolio com preos atuais...");const n=it(Se,"users",t,"portfolio"),r=await Tt(n);if(r.empty){console.log(" Nenhum ativo encontrado para sincronizar");return}const i=r.docs.map(async s=>{try{const a=s.data(),{coinId:o,amount:c,symbol:d}=a;if(!o||c===void 0){console.warn(` Dados invlidos para ativo ${s.id}:`,{symbol:a.symbol||"N/A",coinId:o||"AUSENTE",amount:c!==void 0?c:"AUSENTE"}),console.warn(" Este documento ser removido no prximo login");return}const f=e[o];if(!f||!f.usd){console.warn(` Preo no encontrado para ${o} (${d||s.id})`);return}const m=c*f.usd,p=ct(Se,"users",t,"portfolio",s.id);await Bs(p,{valueUsd:m,updatedAt:new Date}),console.log(` Ativo ${s.id} atualizado: ${c} x $${f.usd.toFixed(2)} = $${m.toFixed(2)}`)}catch(a){console.error(` Erro ao atualizar ativo ${s.id}:`,a)}});await Promise.all(i),console.log(" Sincronizao de valores concluda!")}catch(n){console.error(" Erro ao sincronizar valores do portfolio:",n)}}async function kre(t){try{console.log(" Iniciando migrao de wallets para portfolio..."),console.log(" userId:",t);const e=it(Se,"users",t,"wallets"),n=await Tt(e);if(n.empty){console.log(" Nenhuma wallet encontrada para migrar");return}console.log(` Total de wallets encontradas: ${n.size}`);let r=0,i=0;for(const s of n.docs)try{const a=s.data();if(console.log(` Verificando wallet: ${s.id}`,a),!a.symbol||!a.coinId||a.amount===void 0){console.warn(` Wallet ${s.id} possui dados invlidos, pulando...`,{symbol:a.symbol,coinId:a.coinId,amount:a.amount}),i++;continue}const o=ct(Se,"users",t,"portfolio",s.id);await cr(o,{symbol:a.symbol,coinId:a.coinId,amount:a.amount,name:a.name||a.symbol,valueUsd:a.valueUsd||0,createdAt:a.createdAt||new Date,updatedAt:new Date},{merge:!1}),console.log(` Wallet ${s.id} migrada para portfolio`),r++}catch(a){console.error(` Erro ao migrar wallet ${s.id}:`,a),i++}console.log(" Migrao concluda!"),console.log(` Resumo: ${r} migradas, ${i} erros`)}catch(e){throw console.error(" Erro na migrao:",e),e}}async function Rre(t){try{const e=it(Se,"users",t,"wallets"),n=await Tt(e),r=!n.empty;return r&&console.log(` Usurio ${t} possui ${n.size} wallets que precisam ser migradas`),r}catch(e){return console.error(" Erro ao verificar necessidade de migrao:",e),!1}}async function Dre(t){try{await Rre(t)?(console.log(" Migrao automtica necessria..."),await kre(t),console.log(" Migrao automtica concluda!")):console.log(" Nenhuma migrao necessria"),await Ore(t)}catch(e){console.error(" Erro na migrao automtica:",e)}}async function Ore(t){try{console.log(" Verificando documentos invlidos no portfolio...");const e=it(Se,"users",t,"portfolio"),n=await Tt(e);if(n.empty){console.log(" Portfolio vazio, nada a limpar");return}let r=0,i=0;for(const s of n.docs){const a=s.data();if(s.id==="holdings"&&Array.isArray(a.holdings)){console.log(' Encontrado documento "holdings" com estrutura antiga (array)'),console.log(" Migrando",a.holdings.length,"holdings para documentos separados...");try{for(const o of a.holdings)if(o.symbol&&o.coinId&&o.amount!==void 0){const c=ct(Se,"users",t,"portfolio",o.symbol);await cr(c,{symbol:o.symbol,coinId:o.coinId,amount:o.amount,name:o.name||o.symbol,valueUsd:0,createdAt:new Date,updatedAt:new Date},{merge:!0}),console.log(` Holding ${o.symbol} migrado para documento separado`),i++}else console.warn(" Holding invlido no array:",o);await Ru(s.ref),console.log(' Documento "holdings" antigo deletado aps migrao'),r++}catch(o){console.error(' Erro ao migrar documento "holdings":',o)}continue}if(!a.symbol||!a.coinId||a.amount===void 0){console.warn(` Deletando documento invlido: ${s.id}`,a);try{await Ru(s.ref),r++,console.log(` Documento ${s.id} deletado`)}catch(o){console.error(` Erro ao deletar documento ${s.id}:`,o)}}}i>0&&console.log(` ${i} holding(s) migrado(s) de estrutura antiga para nova`),r>0&&console.log(` ${r} documento(s) invlido(s) removido(s) do portfolio`),i===0&&r===0&&console.log(" Nenhum documento invlido encontrado")}catch(e){console.error(" Erro ao limpar documentos invlidos:",e)}}const Vt=t=>Array.from({length:t},()=>Math.floor(Math.random()*10)).join(""),Mre=()=>{const t=Vt(8),e=Math.floor(Math.random()*10);return`${t}-${e}`},Es=(t,e,n)=>{const r=Vt(2);return`${t}${r}${e}${n}`},Lre={BR:{bankCode:"336",branchCode:"0001",swift:"NEXCBRBR"},US:{routingNumber:"021000021",swift:"NEXCUSNY"},PT:{bankCode:"0035",swift:"NEXCPTPL"},ES:{bankCode:"2100",swift:"NEXCESMM"},FR:{bankCode:"30004",branchCode:"00001",swift:"NEXCFRPP"},DE:{bankCode:"10050000",swift:"NEXCDEFF"},IT:{bankCode:"05034",branchCode:"01600",swift:"NEXCITM1"},GB:{sortCode:"60-16-13",swift:"NEXCGB2L"},NL:{bankCode:"NEXC",swift:"NEXCNL2A"},BE:{bankCode:"735",swift:"NEXCBEBB"},CH:{bankCode:"00235",swift:"NEXCCHZZ"},AT:{bankCode:"12000",swift:"NEXCATWW"},CA:{routingNumber:"000010001",swift:"NEXCCATT"},AU:{routingNumber:"062-000",swift:"NEXCAU2S"},MX:{bankCode:"072",swift:"NEXCMXMM"},AR:{bankCode:"336",branchCode:"0001",swift:"NEXCARBA"},CL:{bankCode:"055",swift:"NEXCCLRM"},CO:{bankCode:"0001",swift:"NEXCCOBB"}},Zz=(t,e)=>{const n=e?`${e}_${t}_${Date.now()}`:`${t}_${Date.now()}`,r=new Date,i=Lre[t],a={BR:{country:"BR",countryName:"Brasil",flagCode:"br",currency:"BRL",accountNumber:Mre(),bankCode:i?.bankCode,branchCode:i?.branchCode,bankName:"NexCoin transactions",accountType:"Conta Corrente",swift:i?.swift},US:{country:"US",countryName:"Estados Unidos",flagCode:"us",currency:"USD",accountNumber:Vt(12),routingNumber:i?.routingNumber,bankName:"NexCoin transactions",accountType:"Checking Account",swift:i?.swift},PT:{country:"PT",countryName:"Portugal",flagCode:"pt",currency:"EUR",accountNumber:Vt(11),iban:Es("PT",i?.bankCode||"0000",Vt(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Conta  Ordem",bankCode:i?.bankCode},ES:{country:"ES",countryName:"Espanha",flagCode:"es",currency:"EUR",accountNumber:Vt(10),iban:Es("ES",i?.bankCode||"0000",Vt(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente",bankCode:i?.bankCode},FR:{country:"FR",countryName:"Frana",flagCode:"fr",currency:"EUR",accountNumber:Vt(11),iban:Es("FR",i?.bankCode||"00000",Vt(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Compte Courant",bankCode:i?.bankCode,branchCode:i?.branchCode},DE:{country:"DE",countryName:"Alemanha",flagCode:"de",currency:"EUR",accountNumber:Vt(10),iban:Es("DE",i?.bankCode||"00000000",Vt(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Girokonto",bankCode:i?.bankCode},IT:{country:"IT",countryName:"Itlia",flagCode:"it",currency:"EUR",accountNumber:Vt(12),iban:Es("IT",(i?.bankCode||"00000")+(i?.branchCode||"00000"),Vt(12)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Conto Corrente",bankCode:i?.bankCode,branchCode:i?.branchCode},GB:{country:"GB",countryName:"Reino Unido",flagCode:"gb",currency:"GBP",accountNumber:Vt(8),iban:Es("GB",i?.sortCode?.replace(/-/g,"")||"000000",Vt(8)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Current Account",sortCode:i?.sortCode},NL:{country:"NL",countryName:"Holanda",flagCode:"nl",currency:"EUR",accountNumber:Vt(10),iban:Es("NL",i?.bankCode||"NEXC",Vt(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Betaalrekening",bankCode:i?.bankCode},BE:{country:"BE",countryName:"Blgica",flagCode:"be",currency:"EUR",accountNumber:Vt(12),iban:Es("BE",i?.bankCode||"000",Vt(12)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Compte  Vue",bankCode:i?.bankCode},CH:{country:"CH",countryName:"Sua",flagCode:"ch",currency:"CHF",accountNumber:Vt(9),iban:Es("CH",i?.bankCode||"00000",Vt(9)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Privatkonto",bankCode:i?.bankCode},AT:{country:"AT",countryName:"ustria",flagCode:"at",currency:"EUR",accountNumber:Vt(11),iban:Es("AT",i?.bankCode||"00000",Vt(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Girokonto",bankCode:i?.bankCode},CA:{country:"CA",countryName:"Canad",flagCode:"ca",currency:"CAD",accountNumber:Vt(12),routingNumber:i?.routingNumber,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Chequing Account"},AU:{country:"AU",countryName:"Austrlia",flagCode:"au",currency:"AUD",accountNumber:Vt(9),routingNumber:i?.routingNumber,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Transaction Account"},MX:{country:"MX",countryName:"Mxico",flagCode:"mx",currency:"MXN",accountNumber:Vt(18),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta de Cheques"},AR:{country:"AR",countryName:"Argentina",flagCode:"ar",currency:"ARS",accountNumber:Vt(14),bankCode:i?.bankCode,branchCode:i?.branchCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente"},CL:{country:"CL",countryName:"Chile",flagCode:"cl",currency:"CLP",accountNumber:Vt(12),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente"},CO:{country:"CO",countryName:"Colmbia",flagCode:"co",currency:"COP",accountNumber:Vt(11),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta de Ahorros"}}[t]||{country:t,countryName:"Pas",flagCode:t.toLowerCase(),currency:"USD",accountNumber:Vt(10),iban:Es(t,"0000",Vt(10)),swift:`NEXC${t}XX`,bankName:"NexCoin transactions",accountType:"Account"};return{id:n,...a,createdAt:r}},rv=()=>[{code:"BR",name:"Brasil",flag:"br",currency:"BRL"},{code:"US",name:"Estados Unidos",flag:"us",currency:"USD"},{code:"PT",name:"Portugal",flag:"pt",currency:"EUR"},{code:"ES",name:"Espanha",flag:"es",currency:"EUR"},{code:"FR",name:"Frana",flag:"fr",currency:"EUR"},{code:"DE",name:"Alemanha",flag:"de",currency:"EUR"},{code:"IT",name:"Itlia",flag:"it",currency:"EUR"},{code:"GB",name:"Reino Unido",flag:"gb",currency:"GBP"},{code:"NL",name:"Holanda",flag:"nl",currency:"EUR"},{code:"BE",name:"Blgica",flag:"be",currency:"EUR"},{code:"CH",name:"Sua",flag:"ch",currency:"CHF"},{code:"AT",name:"ustria",flag:"at",currency:"EUR"},{code:"CA",name:"Canad",flag:"ca",currency:"CAD"},{code:"AU",name:"Austrlia",flag:"au",currency:"AUD"},{code:"MX",name:"Mxico",flag:"mx",currency:"MXN"},{code:"AR",name:"Argentina",flag:"ar",currency:"ARS"},{code:"CL",name:"Chile",flag:"cl",currency:"CLP"},{code:"CO",name:"Colmbia",flag:"co",currency:"COP"}];function eU(t){if(!t)return"";let e=t.trim();if(e.startsWith("+55"))e=e.substring(3);else if(e.startsWith("55")){const r=e.replace(/\D/g,"");(r.length===13||r.length===14)&&(e=e.substring(2))}const n=e.replace(/\D/g,"");return n.length!==10&&n.length!==11&&console.warn(` Telefone com formato invlido para PIX: ${t} (${n.length} dgitos)`),n}const tU=E.createContext({user:null,userData:null,loading:!0,isAuthenticated:!1,isPinVerified:!1,auth:xn,signUp:async()=>{},signIn:async()=>{},signInWithPhoneAndPin:async()=>{},signInWithGoogle:async()=>{},logout:async()=>{},verifyPin:async()=>!1,setPinVerified:()=>{},checkIfUserHasPin:async()=>!1,checkPhoneExists:async()=>!1,reloadUserData:async()=>{},updateLanguage:async()=>{},updateVisibleCards:async()=>{},dismissAlert:async()=>{},syncPixKeys:async()=>{}});function Ft(){return E.useContext(tU)}function Vre({children:t}){const[e,n]=E.useState(null),[r,i]=E.useState(null),[s,a]=E.useState(!0),[o,c]=E.useState(!1),d=E.useRef(""),f=E.useRef(""),m="nexcoin_pin_verified",p=J=>{c(J),J&&e?.uid?(localStorage.setItem(m,e.uid),console.log(" Estado de PIN verificado salvo no localStorage")):(localStorage.removeItem(m),console.log(" Estado de PIN verificado removido do localStorage"))},y=J=>{const Q=localStorage.getItem(m)===J;return console.log(" Verificando PIN do localStorage:",Q?"Verificado":"No verificado"),Q},x=J=>{const B=J.replace(/\D/g,"");return J.startsWith("+")?`+${B}`:`+${B}`},b=(J,B)=>`${J}_${B}_NexCoin2024!`,_=async J=>{try{const B=ct(Se,"users",J),Q=await os(B);if(Q.exists()){const H=Q.data();return i(H),H}return null}catch(B){return console.error("Erro ao carregar dados do usurio:",B),null}},S=async()=>{if(e){const J=await _(e.uid);i(J)}},O=async(J,B,Q)=>{try{console.log(" Criando chaves PIX automticas para usurio brasileiro...");const H=it(Se,"bankAccounts"),k=jt(H,Et("userId","==",J),Et("currency","==","BRL"),lo(1)),U=await Tt(k);let G="",K="";if(U.empty){console.log(" Criando conta bancria BRL...");const xe=Zz("BR",J);G=(await Vi(H,{...xe,userId:J,isPrimary:!0,createdAt:new Date})).id,K=xe.accountNumber,console.log(" Conta BRL criada:",G)}else{const xe=U.docs[0];G=xe.id,K=xe.data().accountNumber,console.log(" Conta BRL encontrada:",G)}const X=it(Se,"pixKeys"),te=jt(X,Et("userId","==",J),Et("accountId","==",G));if(!(await Tt(te)).empty){console.log(" Chaves PIX j existem para este usurio");return}await Vi(X,{userId:J,accountId:G,accountNumber:K,currency:"BRL",country:"BR",keyType:"email",keyValue:B,createdAt:new Date}),console.log(" Chave PIX (email) criada:",B);const re=eU(Q);await Vi(X,{userId:J,accountId:G,accountNumber:K,currency:"BRL",country:"BR",keyType:"phone",keyValue:re,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",re),console.log(" Chaves PIX automticas criadas com sucesso!")}catch(H){console.error(" Erro ao criar chaves PIX automticas:",H)}},R=async(J,B,Q)=>{try{console.log(" Sincronizando chaves PIX com novos dados do perfil...");const H=it(Se,"pixKeys"),k=jt(H,Et("userId","==",J)),U=await Tt(k);if(U.empty){console.log(" Nenhuma chave PIX encontrada para sincronizar");return}const G=[];U.forEach(K=>{const X=K.data(),te=ct(Se,"pixKeys",K.id);X.keyType==="email"&&B&&(console.log(" Atualizando chave PIX de email:",B),G.push(Bs(te,{keyValue:B}))),X.keyType==="phone"&&Q&&(console.log(" Atualizando chave PIX de telefone:",Q),G.push(Bs(te,{keyValue:Q})))}),await Promise.all(G),console.log(" Chaves PIX sincronizadas com sucesso!")}catch(H){console.error(" Erro ao sincronizar chaves PIX:",H)}},z=async(J,B,Q,H,k,U)=>{try{const G=x(H),K=it(Se,"users"),X=jt(K,Et("phone","==",G),lo(1));if(!(await Tt(X)).empty)throw new Error("Este nmero de telefone j est cadastrado");const ie=b(G,U),xe=(await Pte(xn,J,ie)).user,ae=ct(Se,"users",xe.uid),ve={uid:xe.uid,email:xe.email||J,name:Q,phone:G,country:k,accountPin:U,createdAt:new Date,aprovado:"yes"};await cr(ae,ve),i(ve),await Ire(xe.uid),k==="BR"&&await O(xe.uid,J,G)}catch(G){const K=G.code;throw K==="auth/email-already-in-use"?new Error("Este e-mail j est cadastrado. Faa login ou use outro e-mail."):K==="auth/invalid-email"?new Error("E-mail invlido. Verifique e tente novamente."):K==="auth/weak-password"?new Error("Senha muito fraca. Use no mnimo 6 caracteres."):K==="auth/operation-not-allowed"?new Error("Cadastro com e-mail desabilitado. Entre em contato com o suporte."):new Error(G.message||"Erro ao criar conta. Tente novamente.")}},P=async(J,B)=>{try{const Q=await aD(xn,J,B),H=await _(Q.user.uid);if(H&&H.phone&&H.accountPin)try{const k=x(H.phone),U=b(k,H.accountPin);await Rz(Q.user,U),console.log(" Senha migrada com sucesso! Agora voc pode fazer login com telefone + PIN.")}catch(k){console.error(" Erro ao migrar senha:",k)}}catch(Q){const H=Q.code;throw H==="auth/user-not-found"?new Error("E-mail no cadastrado. Crie uma conta primeiro."):H==="auth/wrong-password"?new Error("Senha incorreta. Tente novamente."):H==="auth/invalid-email"?new Error("E-mail invlido. Verifique e tente novamente."):H==="auth/user-disabled"?new Error("Esta conta foi desabilitada. Entre em contato com o suporte."):H==="auth/too-many-requests"?new Error("Muitas tentativas. Aguarde alguns minutos e tente novamente."):new Error("Erro ao fazer login. Verifique suas credenciais.")}},A=async(J,B)=>{try{console.log(" Iniciando login com telefone + PIN..."),console.log(" Telefone recebido (original):",J);const Q=x(J);console.log(" Telefone normalizado:",Q);const H=it(Se,"users");let k=jt(H,Et("phone","==",Q),lo(1)),U=await Tt(k);if(console.log(" Busca com telefone normalizado - Encontrado:",!U.empty),U.empty&&(console.log(" No encontrou com telefone normalizado, tentando original..."),k=jt(H,Et("phone","==",J),lo(1)),U=await Tt(k),console.log(" Busca com telefone original - Encontrado:",!U.empty)),U.empty)throw console.error(" Telefone no cadastrado. Tentativas:"),console.error("   - Normalizado:",Q),console.error("   - Original:",J),new Error("Nmero de telefone no cadastrado");const K=U.docs[0].data();if(console.log(" Usurio encontrado:",K.email),console.log(" Telefone cadastrado:",K.phone),K.accountPin!==B)throw console.error(" PIN incorreto"),new Error("PIN incorreto");console.log(" PIN correto! Autenticando no Firebase Auth...");const X=b(Q,B);try{const te=await aD(xn,K.email,X);console.log(" Login bem-sucedido!"),await _(te.user.uid),p(!0)}catch(te){if(console.warn(" Falha no login com senha gerada. Cdigo:",te.code),te.code==="auth/invalid-credential"||te.code==="auth/wrong-password"){console.log(" Tentando recuperar acesso para usurio antigo...");try{throw await Ate(xn,K.email),new Error("Sua conta precisa ser atualizada. Enviamos um e-mail para redefinir sua senha. Aps redefinir, voc poder fazer login com telefone + PIN.")}catch(ie){throw ie.message.includes("Enviamos um e-mail")?ie:(console.error(" Erro ao enviar e-mail de reset:",ie),new Error("Erro ao processar login. Entre em contato com o suporte."))}}else throw te}}catch(Q){throw console.error(" Erro no signInWithPhoneAndPin:",Q),Q.message==="Nmero de telefone no cadastrado"||Q.message==="PIN incorreto"||Q.message&&Q.message.includes("Enviamos um e-mail")?Q:Q.code==="auth/wrong-password"||Q.code==="auth/invalid-credential"?new Error("PIN incorreto"):Q.code==="auth/user-not-found"?new Error("Nmero de telefone no cadastrado"):Q.code==="auth/too-many-requests"?new Error("Muitas tentativas. Aguarde alguns minutos e tente novamente."):new Error("Erro ao fazer login. Tente novamente.")}},N=async J=>{try{console.log(" ============ CHECK PHONE EXISTS ============"),console.log(" Telefone recebido (original):",J);const B=x(J);console.log(" Telefone normalizado:",B);const Q=it(Se,"users");console.log(" Buscando com telefone normalizado...");let H=jt(Q,Et("phone","==",B),lo(1)),k=await Tt(H);if(console.log(" Resultado busca normalizado:",k.empty?"NO ENCONTRADO ":"ENCONTRADO "),!k.empty){const U=k.docs[0].data();return console.log(" Usurio encontrado:",U.name,"| Email:",U.email),console.log(" =========================================="),!0}if(console.log(" Buscando com telefone original..."),H=jt(Q,Et("phone","==",J),lo(1)),k=await Tt(H),console.log(" Resultado busca original:",k.empty?"NO ENCONTRADO ":"ENCONTRADO "),!k.empty){const U=k.docs[0].data();return console.log(" Usurio encontrado:",U.name,"| Email:",U.email),console.log(" =========================================="),!0}return console.error(" ============ TELEFONE NO ENCONTRADO ============"),console.error(" Tentativas:"),console.error("   1. Normalizado:",B),console.error("   2. Original:",J),console.error(" ================================================"),!1}catch(B){if(console.error(" Erro ao verificar telefone:",B),B.code==="permission-denied")throw new Error("FIRESTORE_PERMISSION_DENIED");return!1}},T=async()=>{try{const J=new uo,B=await tne(xn,J);if(!await _(B.user.uid)){const H=ct(Se,"users",B.user.uid),k={uid:B.user.uid,email:B.user.email||"",name:B.user.displayName||"",phone:"",country:"",accountPin:"",createdAt:new Date,aprovado:"yes"};await cr(H,k),i(k)}}catch(J){throw console.error("Erro ao fazer login com Google:",J),new Error(J.message||"Erro ao fazer login com Google")}},I=async()=>{try{await Ote(xn),n(null),i(null),p(!1)}catch(J){throw console.error("Erro ao fazer logout:",J),new Error(J.message||"Erro ao fazer logout")}},j=async J=>{if(!r)return!1;const B=r.accountPin===J;return B&&p(!0),B},D=async()=>r?!!r.accountPin&&r.accountPin.length===6:!1;E.useEffect(()=>Dte(xn,async B=>{if(n(B),B){await _(B.uid);try{await Dre(B.uid)}catch(H){console.error(" Erro na migrao automtica (no crtico):",H)}const Q=y(B.uid);c(Q)}else i(null),c(!1);a(!1)}),[]),E.useEffect(()=>{if(!e?.uid)return;console.log(" Iniciando sincronizao em tempo real dos dados do usurio...");const J=ct(Se,"users",e.uid),B=zi(J,Q=>{if(Q.exists()){const H=Q.data();console.log(" Dados do usurio atualizados em tempo real:",H.name),i(H)}else console.warn(" Documento do usurio no existe"),i(null)},Q=>{console.error(" Erro na sincronizao em tempo real:",Q)});return()=>{console.log(" Parando sincronizao em tempo real dos dados do usurio"),B()}},[e?.uid]),E.useEffect(()=>{if(!e?.uid||!r)return;if(r.country!=="BR"){console.log(" Usurio no  brasileiro, pulando criao de chaves PIX");return}(async()=>{try{console.log(" Verificando se chaves PIX existem para o usurio...");const B=it(Se,"pixKeys"),Q=jt(B,Et("userId","==",e.uid),lo(1));(await Tt(Q)).empty?(console.log(" Chaves PIX no encontradas, criando automaticamente..."),await O(e.uid,r.email,r.phone)):console.log(" Chaves PIX j existem para este usurio")}catch(B){console.error(" Erro ao verificar/criar chaves PIX:",B)}})()},[e?.uid,r?.country]);const F=async J=>{if(!r)return;const B=ct(Se,"users",r.uid),Q={...r,preferences:{...r.preferences,dismissedAlerts:[...r.preferences?.dismissedAlerts||[],J]}};await cr(B,Q),i(Q)},V=async J=>{if(!r)return;const B=ct(Se,"users",r.uid),Q={...r,language:J};await cr(B,Q),i(Q)},$=async J=>{if(!r)return;const B=ct(Se,"users",r.uid),Q={...r,preferences:{...r.preferences,visibleCards:J}};await cr(B,Q),i(Q)};E.useEffect(()=>{if(!e?.uid||!r)return;const J=d.current!==r.email,B=f.current!==r.phone;(J||B)&&(console.log(" Detectada mudana no perfil, sincronizando chaves PIX..."),R(e.uid,J?r.email:void 0,B?r.phone:void 0),d.current=r.email,f.current=r.phone)},[r?.email,r?.phone,e?.uid]);const Z={user:e,userData:r,loading:s,isAuthenticated:!!e,isPinVerified:o,auth:xn,signUp:z,signIn:P,signInWithPhoneAndPin:A,signInWithGoogle:T,logout:I,verifyPin:j,setPinVerified:p,checkIfUserHasPin:D,checkPhoneExists:N,reloadUserData:S,updateLanguage:V,updateVisibleCards:$,dismissAlert:F,syncPixKeys:R};return l.jsx(tU.Provider,{value:Z,children:t})}function vo({countryCode:t,size:e="md"}){const n={sm:"w-10 h-10",md:"w-12 h-12",lg:"w-16 h-16"},r={sm:"w-6 h-6",md:"w-7 h-7",lg:"w-9 h-9"},a=`https://flagcdn.com/w80/${{BR:"br",US:"us",PT:"pt",ES:"es",FR:"fr",DE:"de",IT:"it",GB:"gb",NL:"nl",BE:"be",CH:"ch",AT:"at",EU:"eu"}[t]||t.toLowerCase()}.png`;return l.jsxs("div",{className:`${n[e]} rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden`,children:[l.jsx("img",{src:a,alt:`${t} flag`,className:`${r[e]} object-cover rounded-full`,onError:o=>{o.currentTarget.style.display="none",o.currentTarget.nextSibling&&(o.currentTarget.nextSibling.style.display="block")}}),l.jsx("span",{className:"text-sm hidden",children:t})]})}function Fre({onNavigate:t}){const{language:e,setLanguage:n,t:r}=fs(),{setPhoneNumber:i}=Qz(),{checkPhoneExists:s}=Ft(),[a,o]=E.useState(""),[c,d]=E.useState(!1),[f,m]=E.useState(!1),[p,y]=E.useState(!1),[x,b]=E.useState(""),[_,S]=E.useState(!1),[O,R]=E.useState({code:"+55",countryCode:"BR",name:"Brasil"}),z=E.useRef(null);E.useEffect(()=>{z.current&&z.current.focus()},[]);const P=()=>[{code:"pt-BR",countryCode:"BR",name:r.portuguese},{code:"en-US",countryCode:"US",name:r.english},{code:"es",countryCode:"ES",name:r.spanish}],A=[{code:"+55",countryCode:"BR",name:"Brasil",mask:"(XX) XXXXX-XXXX",maxLength:15},{code:"+1",countryCode:"US",name:"USA",mask:"(XXX) XXX-XXXX",maxLength:14},{code:"+44",countryCode:"GB",name:"Reino Unido",mask:"XXXX XXX XXXX",maxLength:13},{code:"+33",countryCode:"FR",name:"Frana",mask:"XX XX XX XX XX",maxLength:14},{code:"+49",countryCode:"DE",name:"Alemanha",mask:"XXX XXXXXXX",maxLength:11},{code:"+39",countryCode:"IT",name:"Itlia",mask:"XXX XXX XXXX",maxLength:12},{code:"+34",countryCode:"ES",name:"Espanha",mask:"XXX XX XX XX",maxLength:11},{code:"+351",countryCode:"PT",name:"Portugal",mask:"XXX XXX XXX",maxLength:11}],N=(F,V)=>{const $=F.replace(/\D/g,"");if(!A.find(J=>J.countryCode===V))return $;switch(V){case"BR":return $.length<=2?$:$.length<=7?`(${$.slice(0,2)}) ${$.slice(2)}`:$.length<=11?`(${$.slice(0,2)}) ${$.slice(2,7)}-${$.slice(7)}`:`(${$.slice(0,2)}) ${$.slice(2,7)}-${$.slice(7,11)}`;case"US":return $.length<=3?$:$.length<=6?`(${$.slice(0,3)}) ${$.slice(3)}`:`(${$.slice(0,3)}) ${$.slice(3,6)}-${$.slice(6,10)}`;case"GB":return $.length<=4?$:$.length<=7?`${$.slice(0,4)} ${$.slice(4)}`:`${$.slice(0,4)} ${$.slice(4,7)} ${$.slice(7,11)}`;case"FR":return $.length<=2?$:$.length<=4?`${$.slice(0,2)} ${$.slice(2)}`:$.length<=6?`${$.slice(0,2)} ${$.slice(2,4)} ${$.slice(4)}`:$.length<=8?`${$.slice(0,2)} ${$.slice(2,4)} ${$.slice(4,6)} ${$.slice(6)}`:`${$.slice(0,2)} ${$.slice(2,4)} ${$.slice(4,6)} ${$.slice(6,8)} ${$.slice(8,10)}`;case"DE":return $.length<=3?$:`${$.slice(0,3)} ${$.slice(3,10)}`;case"IT":return $.length<=3?$:$.length<=6?`${$.slice(0,3)} ${$.slice(3)}`:`${$.slice(0,3)} ${$.slice(3,6)} ${$.slice(6,10)}`;case"ES":return $.length<=3?$:$.length<=5?`${$.slice(0,3)} ${$.slice(3)}`:$.length<=7?`${$.slice(0,3)} ${$.slice(3,5)} ${$.slice(5)}`:`${$.slice(0,3)} ${$.slice(3,5)} ${$.slice(5,7)} ${$.slice(7,9)}`;case"PT":return $.length<=3?$:$.length<=6?`${$.slice(0,3)} ${$.slice(3)}`:`${$.slice(0,3)} ${$.slice(3,6)} ${$.slice(6,9)}`;default:return $}},T=F=>{const V=N(F.target.value,O.countryCode);o(V)},j=(F=>F.replace(/\D/g,"").length>=10)(a),D=async()=>{if(a&&j){const F=`${O.code}${a.replace(/\\D/g,"")}`;i(F),S(!0),b("");try{const V=await s(F);S(!1),V?t("passwordEntry"):b(r.email||"Telefone no encontrado")}catch{S(!1),b(r.email||"Telefone no encontrado")}}};return l.jsxs("div",{className:"bg-black text-white p-4 pb-20",children:[(c||f)&&l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{d(!1),m(!1)}}),l.jsx("div",{className:"w-full max-w-md mx-auto pt-2 pb-4",children:l.jsx("button",{onClick:()=>t("welcome"),className:"flex items-center gap-2 text-white transition-opacity active:opacity-60",children:l.jsx(vt,{className:"w-5 h-5"})})}),l.jsxs("main",{className:"w-full max-w-md mx-auto pt-4",children:[l.jsxs("div",{className:"space-y-2 mb-5",children:[l.jsx("h2",{className:"text-2xl tracking-tight text-white",children:r.welcome}),l.jsx("p",{className:"text-slate-400 text-sm",children:r.dontHaveAccount})]}),l.jsxs("div",{className:"flex gap-2 mb-3",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{className:"h-12 flex items-center gap-2 bg-zinc-900 px-3 rounded-xl shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)] transition-colors active:opacity-70",onClick:()=>d(!c),children:[l.jsx(vo,{countryCode:O.countryCode,size:"sm"}),l.jsx("span",{className:"text-sm",children:O.code}),l.jsx(Pa,{className:"w-4 h-4 text-gray-400"})]}),c&&l.jsx("div",{className:"absolute top-full mt-2 left-0 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[200px]",children:A.map(F=>l.jsxs("button",{className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{R(F),o(""),d(!1)},children:[l.jsx(vo,{countryCode:F.countryCode,size:"sm"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"text-sm",children:F.name}),l.jsx("div",{className:"text-xs text-gray-400",children:F.code})]})]},F.code))})]}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{ref:z,className:"w-full h-12 bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.email,type:"tel",value:a,onChange:T,onBlur:()=>y(!0)})})]}),p&&a&&!j&&l.jsx("p",{className:"text-red-500 text-xs -mt-2 mb-3",children:r.email}),x&&l.jsx("p",{className:"text-red-500 text-xs -mt-2 mb-3",children:x}),l.jsx("a",{className:"text-blue-500 text-sm mb-5 block transition-opacity active:opacity-60",href:"#",children:r.forgotPassword}),l.jsx("button",{className:`w-full py-3.5 rounded-full mb-5 transition-all duration-300 ${a&&j?"bg-white text-black hover:opacity-90 active:scale-[0.98]":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,disabled:!a||!j,onClick:D,children:_?l.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[l.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.928l3-2.647z"})]}):r.continue}),l.jsx("div",{className:"text-center mb-5",children:l.jsx("button",{onClick:()=>t("signup"),className:"w-full bg-zinc-900 text-white py-3.5 rounded-full transition-colors hover:bg-zinc-800 active:scale-[0.98]",children:r.createAccount})}),l.jsxs("div",{className:"flex justify-center items-center mb-4 relative",children:[l.jsxs("button",{className:"flex items-center gap-2 text-slate-300 text-sm px-3 py-2 rounded-lg transition-colors active:bg-zinc-800",onClick:()=>m(!f),children:[l.jsx(o0,{className:"w-4 h-4"}),P().find(F=>F.code===e)?.name,l.jsx(Pa,{className:"w-4 h-4"})]}),f&&l.jsx("div",{className:"absolute bottom-full mb-2 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[160px]",children:P().map(F=>l.jsx("button",{className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{n(F.code),m(!1)},children:l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"text-sm",children:F.name})})},F.code))})]})]}),l.jsx("footer",{className:"w-full max-w-md mx-auto mt-8 pb-3 flex flex-col items-center gap-2",children:l.jsx("a",{className:"text-xs text-slate-400 hover:underline",href:"#",children:"Poltica de Privacidade"})})]})}const nU=E.createContext({signUpData:null,setSignUpData:()=>{},clearSignUpData:()=>{}});function jA(){return E.useContext(nU)}function Bre({children:t}){const[e,n]=E.useState(null),r=s=>{n(s)},i=()=>{n(null)};return l.jsx(nU.Provider,{value:{signUpData:e,setSignUpData:r,clearSignUpData:i},children:t})}function zre(t){if(!t)return"";const e=new Set(["de","da","do","dos","das","e","em","para","com","sem","of","the","and","in","on","at","to","for","with","del","la","el","los","las","y","en","por","con","le","les","du","des","et","au","aux","di","della","degli","delle"]);return t.toLowerCase().split(" ").map((n,r)=>r===0?n.charAt(0).toUpperCase()+n.slice(1):e.has(n)?n:n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}function Ure({onNavigate:t}){const{signUp:e,signInWithGoogle:n}=Ft(),{setSignUpData:r}=jA(),{language:i,setLanguage:s,t:a}=fs(),[o,c]=E.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[d,f]=E.useState({email:!1,phone:!1,password:!1,confirmPassword:!1,name:!1}),[m,p]=E.useState(!1),[y,x]=E.useState(!1),[b,_]=E.useState(!1),[S,O]=E.useState(!1),[R,z]=E.useState({code:"+55",countryCode:"BR",name:"Brasil"}),P=()=>[{code:"pt-BR",countryCode:"BR",name:a.portuguese},{code:"en-US",countryCode:"US",name:a.english},{code:"es",countryCode:"ES",name:a.spanish}],A=[{code:"+55",countryCode:"BR",name:"Brasil",mask:"(XX) XXXXX-XXXX",maxLength:15},{code:"+1",countryCode:"US",name:"USA",mask:"(XXX) XXX-XXXX",maxLength:14},{code:"+44",countryCode:"GB",name:"Reino Unido",mask:"XXXX XXX XXXX",maxLength:13},{code:"+33",countryCode:"FR",name:"Frana",mask:"XX XX XX XX XX",maxLength:14},{code:"+49",countryCode:"DE",name:"Alemanha",mask:"XXX XXXXXXX",maxLength:11},{code:"+39",countryCode:"IT",name:"Itlia",mask:"XXX XXX XXXX",maxLength:12},{code:"+34",countryCode:"ES",name:"Espanha",mask:"XXX XX XX XX",maxLength:11},{code:"+351",countryCode:"PT",name:"Portugal",mask:"XXX XXX XXX",maxLength:11}],N=(U,G)=>{const K=U.replace(/\D/g,"");if(!A.find(te=>te.countryCode===G))return K;switch(G){case"BR":return K.length<=2?K:K.length<=7?`(${K.slice(0,2)}) ${K.slice(2)}`:K.length<=11?`(${K.slice(0,2)}) ${K.slice(2,7)}-${K.slice(7)}`:`(${K.slice(0,2)}) ${K.slice(2,7)}-${K.slice(7,11)}`;case"US":return K.length<=3?K:K.length<=6?`(${K.slice(0,3)}) ${K.slice(3)}`:`(${K.slice(0,3)}) ${K.slice(3,6)}-${K.slice(6,10)}`;case"GB":return K.length<=4?K:K.length<=7?`${K.slice(0,4)} ${K.slice(4)}`:`${K.slice(0,4)} ${K.slice(4,7)} ${K.slice(7,11)}`;case"FR":return K.length<=2?K:K.length<=4?`${K.slice(0,2)} ${K.slice(2)}`:K.length<=6?`${K.slice(0,2)} ${K.slice(2,4)} ${K.slice(4)}`:K.length<=8?`${K.slice(0,2)} ${K.slice(2,4)} ${K.slice(4,6)} ${K.slice(6)}`:`${K.slice(0,2)} ${K.slice(2,4)} ${K.slice(4,6)} ${K.slice(6,8)} ${K.slice(8,10)}`;case"DE":return K.length<=3?K:`${K.slice(0,3)} ${K.slice(3,10)}`;case"IT":return K.length<=3?K:K.length<=6?`${K.slice(0,3)} ${K.slice(3)}`:`${K.slice(0,3)} ${K.slice(3,6)} ${K.slice(6,10)}`;case"ES":return K.length<=3?K:K.length<=5?`${K.slice(0,3)} ${K.slice(3)}`:K.length<=7?`${K.slice(0,3)} ${K.slice(3,5)} ${K.slice(5)}`:`${K.slice(0,3)} ${K.slice(3,5)} ${K.slice(5,7)} ${K.slice(7,9)}`;case"PT":return K.length<=3?K:K.length<=6?`${K.slice(0,3)} ${K.slice(3)}`:`${K.slice(0,3)} ${K.slice(3,6)} ${K.slice(6,9)}`;default:return K}},T=U=>{const G=N(U.target.value,R.countryCode);c({...o,phone:G})},I=U=>{const te=U.target.value.replace(/\s+/g," ").split(" ").slice(0,5).join(" "),ie=te.trim().length>0?zre(te):te;c({...o,name:ie})},j=U=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(U),D=U=>U.replace(/\D/g,"").length>=10,F=U=>{const G=U.length>=8,K=/[A-Z]/.test(U),X=/[!@#$%^&*(),.?":{}|<>]/.test(U);return{hasMinLength:G,hasUpperCase:K,hasSpecialChar:X,isValid:G&&K&&X}},V=U=>{const G=U.trim().split(" ").filter(K=>K.length>0);return G.length>=1&&G.length<=5},$=j(o.email),Z=D(o.phone),J=F(o.password),B=V(o.name),Q=o.password===o.confirmPassword&&o.confirmPassword.length>0,H=B&&$&&Z&&J.isValid&&Q,k=()=>{if(!H)return;const U=o.phone.replace(/\D/g,""),G=`${R.code}${U}`;r({name:o.name,email:o.email,phone:G,password:o.password,country:""}),t("countrySelection")};return l.jsxs("div",{className:"bg-black text-white p-4 pb-20",children:[(b||S)&&l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{_(!1),O(!1)}}),l.jsx("div",{className:"w-full max-w-md mx-auto pt-2 pb-4",children:l.jsx("button",{onClick:()=>t("welcome"),className:"flex items-center gap-2 text-white transition-opacity active:opacity-60",children:l.jsx(vt,{className:"w-5 h-5"})})}),l.jsx("main",{className:"w-full max-w-md mx-auto pt-2 pb-4",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("h2",{className:"text-2xl font-bold tracking-tight text-white",children:a.createAccount}),l.jsx("p",{className:"text-slate-400 text-sm mb-5",children:a.dontHaveAccount}),l.jsxs("form",{className:"space-y-3 mb-5",children:[l.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.fullName||a.name,type:"text",value:o.name,onChange:I,onBlur:()=>f({...d,name:!0})}),d.name&&o.name&&!B&&l.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:"Nome invlido"}),l.jsxs("div",{children:[l.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.email,type:"email",value:o.email,onChange:U=>c({...o,email:U.target.value}),onBlur:()=>f({...d,email:!0})}),d.email&&o.email&&!$&&l.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:"E-mail invlido"})]}),l.jsxs("div",{className:"flex gap-2 relative",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{type:"button",className:"flex items-center gap-2 bg-zinc-900 px-3 py-[13px] rounded-xl shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)] transition-colors active:opacity-70 h-[50px]",onClick:()=>_(!b),children:[l.jsx(vo,{countryCode:R.countryCode,size:"sm"}),l.jsx("span",{className:"font-medium text-sm",children:R.code}),l.jsx(Pa,{className:"w-4 h-4 text-gray-400"})]}),b&&l.jsx("div",{className:"absolute top-full mt-2 left-0 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[200px]",children:A.map(U=>l.jsxs("button",{type:"button",className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{z(U),c({...o,phone:""}),_(!1)},children:[l.jsx(vo,{countryCode:U.countryCode,size:"sm"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-sm",children:U.name}),l.jsx("div",{className:"text-xs text-gray-400",children:U.code})]})]},U.code))})]}),l.jsx("div",{className:"flex-1",children:l.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.phone,type:"tel",value:o.phone,onChange:T,onBlur:()=>f({...d,phone:!0})})})]}),d.phone&&o.phone&&!Z&&l.jsx("p",{className:"text-xs text-red-500 -mt-2 ml-1",children:"Telefone invlido"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 pr-12 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.password,type:m?"text":"password",value:o.password,onChange:U=>c({...o,password:U.target.value}),onBlur:()=>f({...d,password:!0})}),l.jsx("button",{type:"button",className:"absolute right-4 top-[14px] text-gray-400 hover:text-gray-300 transition-colors cursor-pointer",onMouseDown:U=>{U.preventDefault()},onClick:U=>{U.preventDefault(),U.stopPropagation(),p(!m)},children:m?l.jsx(mf,{className:"w-5 h-5"}):l.jsx(fu,{className:"w-5 h-5"})}),d.password&&o.password&&!J.isValid&&l.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:"A senha deve ter pelo menos 8 caracteres, 1 maiscula e 1 caractere especial"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 pr-12 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.confirmPassword,type:y?"text":"password",value:o.confirmPassword,onChange:U=>c({...o,confirmPassword:U.target.value}),onBlur:()=>f({...d,confirmPassword:!0})}),l.jsx("button",{type:"button",className:"absolute right-4 top-[14px] text-gray-400 hover:text-gray-300 transition-colors cursor-pointer",onMouseDown:U=>{U.preventDefault()},onClick:U=>{U.preventDefault(),U.stopPropagation(),x(!y)},children:y?l.jsx(mf,{className:"w-5 h-5"}):l.jsx(fu,{className:"w-5 h-5"})}),d.confirmPassword&&o.confirmPassword&&!Q&&l.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:"As senhas no coincidem"})]}),l.jsx("button",{type:"button",className:`w-full py-3.5 rounded-full font-semibold transition-all duration-300 ${H?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:from-blue-600 hover:to-purple-600 active:scale-[0.98]":"bg-zinc-800 text-zinc-500 cursor-not-allowed"}`,onClick:k,disabled:!H,children:a.continue})]}),l.jsxs("div",{className:"relative flex items-center my-5",children:[l.jsx("div",{className:"flex-grow border-t border-gray-800"}),l.jsx("span",{className:"flex-shrink mx-4 text-slate-500 text-xs font-medium uppercase tracking-wider",children:"ou"}),l.jsx("div",{className:"flex-grow border-t border-gray-800"})]}),l.jsx("div",{className:"flex justify-center mb-4",children:l.jsxs("button",{className:"w-full py-3.5 rounded-full font-semibold bg-white text-black hover:opacity-90 active:scale-[0.98] transition-all duration-300 flex items-center justify-center gap-3",children:[l.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[l.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),l.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),l.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l3.66-2.84z",fill:"#FBBC05"}),l.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Google"]})}),l.jsx("div",{className:"text-center pt-2",children:l.jsxs("p",{className:"text-sm text-slate-400",children:[a.alreadyHaveAccount," ",l.jsx("button",{onClick:()=>t("login"),className:"text-blue-500 font-medium hover:underline",children:a.login})]})})]})}),l.jsxs("footer",{className:"w-full max-w-md mx-auto mt-8 pb-3 flex flex-col items-center gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("button",{className:"flex items-center gap-2 text-slate-300 text-sm font-medium px-3 py-2 rounded-lg transition-colors active:bg-zinc-800",onClick:()=>O(!S),children:[l.jsx(vo,{countryCode:P().find(U=>U.code===i)?.countryCode||"BR",size:"sm"}),P().find(U=>U.code===i)?.name||a.portuguese,l.jsx(Pa,{className:"w-4 h-4"})]}),S&&l.jsx("div",{className:"absolute bottom-full mb-2 left-1/2 -translate-x-1/2 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[220px]",children:P().map(U=>l.jsxs("button",{className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{s(U.code),O(!1)},children:[l.jsx(vo,{countryCode:U.countryCode,size:"sm"}),l.jsx("div",{className:"flex-1",children:l.jsx("div",{className:"font-medium text-sm",children:U.name})})]},U.code))})]}),l.jsx("a",{className:"text-xs text-slate-400 hover:underline",href:"#",children:"Poltica de Privacidade"})]})]})}function $re({onNavigate:t}){const{userData:e,verifyPin:n,setPinVerified:r,signUp:i}=Ft(),{signUpData:s,clearSignUpData:a}=jA(),[o,c]=E.useState(["","","","","",""]),[d,f]=E.useState(["","","","","",""]),[m,p]=E.useState("create"),[y,x]=E.useState(""),[b,_]=E.useState(!1),[S,O]=E.useState(!1),R=E.useRef([]);E.useEffect(()=>{p(s?"create":"verify")},[s]),E.useEffect(()=>{R.current[0]&&R.current[0].focus()},[m]);const z=(D,F,V=!1)=>{if(F&&!/^\d$/.test(F))return;const $=V?[...d]:[...o];if($[D]=F,V?f($):c($),F&&D<5&&R.current[D+1]?.focus(),$.every(Z=>Z!=="")){const Z=$.join("");if(m==="create")setTimeout(()=>{p("confirm"),x("")},100);else if(m==="confirm"){const J=o.join("");Z===J?A(Z):(x("Os PINs no coincidem. Tente novamente."),_(!0),setTimeout(()=>{_(!1),f(["","","","","",""]),R.current[0]?.focus()},500))}else m==="verify"&&(async()=>await n(Z)?(r(!0),t("home")):(x("PIN incorreto. Tente novamente."),_(!0),setTimeout(()=>{_(!1),c(["","","","","",""]),R.current[0]?.focus()},500)))()}},P=(D,F,V=!1)=>{if(F.key==="Backspace"){F.preventDefault();const $=V?[...d]:[...o];$[D]===""?D>0&&($[D-1]="",V?f($):c($),R.current[D-1]?.focus()):($[D]="",V?f($):c($))}},A=async D=>{if(!s){console.error("Sem dados de cadastro");return}try{O(!0),x(""),await i(s.email,s.password,s.name,s.phone,s.country,D),a(),r(!0),t("home")}catch(F){console.error("Erro ao criar conta:",F),x(F.message||"Erro ao criar conta. Tente novamente."),O(!1)}},N=()=>{m==="confirm"?(p("create"),f(["","","","","",""]),x("")):t("login")},T=()=>m==="create"?"Crie seu PIN":m==="confirm"?"Confirme seu PIN":"Digite seu PIN",I=()=>m==="create"?"Crie um PIN de 6 dgitos para proteger sua conta":m==="confirm"?"Digite o PIN novamente para confirmar":"Digite seu PIN para acessar sua conta",j=m==="confirm"?d:o;return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[l.jsx("header",{className:"px-6 pt-6 pb-4",children:l.jsx("button",{onClick:N,className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:l.jsx(vt,{className:"w-5 h-5"})})}),l.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 -mt-20",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center mb-8 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:l.jsx(Ml,{className:"w-10 h-10 text-white"})}),l.jsx("h1",{className:"text-3xl font-bold mb-2 text-center",children:T()}),l.jsx("p",{className:"text-sm text-gray-400 mb-12 text-center max-w-xs",children:I()}),l.jsx("div",{className:`flex gap-3 mb-6 ${b?"animate-shake":""}`,children:j.map((D,F)=>l.jsx("input",{ref:V=>R.current[F]=V,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:D,onChange:V=>z(F,V.target.value,m==="confirm"),onKeyDown:V=>P(F,V,m==="confirm"),className:"w-14 h-16 bg-zinc-900 border-2 border-zinc-800 rounded-2xl text-center text-2xl font-bold text-white focus:border-white focus:outline-none transition-all",style:{caretColor:"transparent"}},`${m}-${F}`))}),y&&l.jsx("p",{className:"text-red-500 text-sm mb-4 text-center animate-fade-in",children:y}),l.jsx("p",{className:"text-xs text-gray-500 text-center max-w-xs",children:m==="verify"?"Use seu PIN de 6 dgitos para acessar sua conta":"Escolha um PIN fcil de lembrar, mas difcil de adivinhar"})]}),m==="verify"&&l.jsx("footer",{className:"px-6 pb-8",children:l.jsx("button",{onClick:()=>t("login"),className:"w-full text-center text-sm text-gray-400 hover:text-white transition-colors",children:"Esqueci meu PIN"})}),l.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
          20%, 40%, 60%, 80% { transform: translateX(10px); }
        }
        .animate-shake {
          animation: shake 0.5s;
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
      `})]})}function _D({onNavigate:t}){const{signUpData:e,setSignUpData:n}=jA(),[r,i]=E.useState(null),[s,a]=E.useState(null),[o,c]=E.useState(!1),d=[{id:"BR",name:"Brasil",code:"BR",currency:"BRL"},{id:"US",name:"Estados Unidos",code:"US",currency:"USD"},{id:"PT",name:"Portugal",code:"PT",currency:"EUR"},{id:"ES",name:"Espanha",code:"ES",currency:"EUR"},{id:"FR",name:"Frana",code:"FR",currency:"EUR"},{id:"DE",name:"Alemanha",code:"DE",currency:"EUR"},{id:"IT",name:"Itlia",code:"IT",currency:"EUR"},{id:"GB",name:"Reino Unido",code:"GB",currency:"EUR"},{id:"NL",name:"Holanda",code:"NL",currency:"EUR"},{id:"BE",name:"Blgica",code:"BE",currency:"EUR"},{id:"CH",name:"Sua",code:"CH",currency:"EUR"},{id:"AT",name:"ustria",code:"AT",currency:"EUR"}],f=[{id:"BRL",name:"Real Brasileiro",symbol:"R$",code:"BR"},{id:"USD",name:"Dlar Americano",symbol:"$",code:"US"},{id:"EUR",name:"Euro",symbol:"",code:"EU"}],m=d.find(x=>x.id===r),p=(x,b)=>{i(x),a(b),c(!1)},y=()=>{r&&s&&e&&(n({...e,country:r}),t("pinSetup"))};return l.jsxs("div",{className:"bg-black text-white min-h-screen flex flex-col p-6",children:[l.jsx("div",{className:"w-full max-w-md mx-auto pt-4 pb-8",children:l.jsx("h1",{className:"text-2xl font-bold tracking-tight text-center mb-2",children:"NexCoin"})}),l.jsxs("main",{className:"w-full max-w-md mx-auto flex-1 overflow-y-auto hide-scrollbar",children:[l.jsxs("div",{className:"space-y-2 mb-6",children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Configurao inicial"}),l.jsx("p",{className:"text-slate-400 text-sm",children:"Selecione seu pas de origem e a moeda preferencial para suas transaes."})]}),l.jsxs("div",{className:"mb-8",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pas de origem"}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{type:"button",onClick:()=>c(!o),className:"w-full bg-zinc-900 rounded-2xl p-4 flex items-center justify-between hover:bg-zinc-800 transition-all",children:m?l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(vo,{countryCode:m.code,size:"md"}),l.jsx("div",{className:"text-left",children:l.jsx("div",{className:"font-semibold",children:m.name})})]}):l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-400",children:"Selecione um pas"}),l.jsx(Pa,{className:"w-5 h-5 text-gray-400"})]})}),o&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-zinc-900 rounded-2xl border border-zinc-800 max-h-80 overflow-y-auto hide-scrollbar z-50 shadow-xl",children:d.map(x=>l.jsxs("button",{type:"button",onClick:()=>p(x.id,x.currency),className:"w-full p-4 flex items-center gap-3 hover:bg-zinc-800 transition-colors first:rounded-t-2xl last:rounded-b-2xl",children:[l.jsx(vo,{countryCode:x.code,size:"sm"}),l.jsx("div",{className:"text-left flex-1",children:l.jsx("div",{className:"font-semibold",children:x.name})}),r===x.id&&l.jsx("div",{className:"w-5 h-5 rounded-full bg-white flex items-center justify-center",children:l.jsx(An,{className:"w-3 h-3 text-black"})})]},x.id))})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-lg font-semibold",children:"Moeda Preferencial"}),l.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Escolha a moeda que deseja usar como padro"}),f.map(x=>l.jsxs("button",{type:"button",onClick:()=>a(x.id),className:`w-full bg-zinc-900 rounded-2xl p-4 flex items-center justify-between transition-all duration-300 ${s===x.id?"ring-1 ring-inset ring-white/60":"hover:bg-zinc-800"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(vo,{countryCode:x.code,size:"md"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-semibold",children:x.name}),l.jsxs("div",{className:"text-sm text-gray-400",children:[x.symbol," ",x.id]})]})]}),s===x.id&&l.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center",children:l.jsx(An,{className:"w-4 h-4 text-black"})})]},x.id))]})]}),l.jsx("button",{type:"button",onClick:y,className:`w-full py-4 rounded-full font-semibold transition-all duration-300 ${r&&s?"bg-white text-black hover:opacity-90 active:scale-[0.98]":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,disabled:!r||!s,children:"Continuar"})]})}const rU=E.createContext({prices:{},isLoading:!0,lastUpdate:null});function xi(){return E.useContext(rU)}function qre({children:t}){const[e,n]=E.useState({}),[r,i]=E.useState(!0),[s,a]=E.useState(null),o=["bitcoin","ethereum","tether","binancecoin","solana","ripple","cardano","avalanche-2","dogecoin","polkadot","matic-network","chainlink","uniswap","litecoin","cosmos","stellar","tron","shiba-inu","wrapped-bitcoin","dai","leo-token","usd-coin","the-open-network","ethereum-classic","bitcoin-cash","aptos","arbitrum","optimism","internet-computer","filecoin","near","vechain","algorand","injective-protocol","aave","maker","the-graph","immutable-x","blockstack","hedera-hashgraph","fantom","the-sandbox","decentraland","axie-infinity","tezos","theta-token","eos","monero","flow","chiliz","zcash","thorchain","klay-token","dash","neo","iota","quant-network","elrond-erd-2","pepe","fetch-ai","sui","sei-network"],c=async()=>{try{const f=o.join(","),m=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${f}&vs_currencies=usd&include_24hr_change=true&include_market_cap=true`,{method:"GET",headers:{Accept:"application/json"}});if(!m.ok){d();return}const p=m.headers.get("content-type");if(!p||!p.includes("application/json")){d();return}const y=await m.json();n(y),a(new Date),i(!1)}catch{d()}},d=()=>{n({bitcoin:{usd:87450,usd_24h_change:2.5,usd_market_cap:172e10},ethereum:{usd:2889.03,usd_24h_change:1.8,usd_market_cap:347e9},tether:{usd:1,usd_24h_change:0,usd_market_cap:958e8},binancecoin:{usd:312.45,usd_24h_change:-.8,usd_market_cap:488e8},solana:{usd:98.76,usd_24h_change:5.2,usd_market_cap:428e8},ripple:{usd:.52,usd_24h_change:1.2,usd_market_cap:28e9},"usd-coin":{usd:1,usd_24h_change:.01,usd_market_cap:32e9},cardano:{usd:.45,usd_24h_change:-.5,usd_market_cap:158e8},dogecoin:{usd:.08,usd_24h_change:3.1,usd_market_cap:112e8},tron:{usd:.12,usd_24h_change:.8,usd_market_cap:105e8},"avalanche-2":{usd:36.5,usd_24h_change:2.7,usd_market_cap:135e8},polkadot:{usd:6.85,usd_24h_change:2.3,usd_market_cap:95e8},"matic-network":{usd:.98,usd_24h_change:1.5,usd_market_cap:89e8},chainlink:{usd:14.25,usd_24h_change:3.2,usd_market_cap:78e8},"shiba-inu":{usd:9e-6,usd_24h_change:4.5,usd_market_cap:53e8},litecoin:{usd:78.5,usd_24h_change:-1.2,usd_market_cap:57e8},uniswap:{usd:11.2,usd_24h_change:2.1,usd_market_cap:67e8},stellar:{usd:.11,usd_24h_change:.5,usd_market_cap:32e8},cosmos:{usd:9.45,usd_24h_change:1.8,usd_market_cap:36e8},monero:{usd:165.2,usd_24h_change:-.3,usd_market_cap:3e9},"ethereum-classic":{usd:26.8,usd_24h_change:1.1,usd_market_cap:39e8},"bitcoin-cash":{usd:385,usd_24h_change:-1.5,usd_market_cap:76e8},near:{usd:5.2,usd_24h_change:2.9,usd_market_cap:54e8},algorand:{usd:.35,usd_24h_change:1.3,usd_market_cap:28e8},vechain:{usd:.032,usd_24h_change:.8,usd_market_cap:23e8},fantom:{usd:.68,usd_24h_change:3.5,usd_market_cap:19e8},"the-graph":{usd:.28,usd_24h_change:2.2,usd_market_cap:21e8},filecoin:{usd:5.15,usd_24h_change:-.9,usd_market_cap:25e8},"hedera-hashgraph":{usd:.075,usd_24h_change:1.7,usd_market_cap:24e8},aptos:{usd:8.9,usd_24h_change:4.2,usd_market_cap:35e8},arbitrum:{usd:.82,usd_24h_change:2.8,usd_market_cap:29e8},optimism:{usd:2.15,usd_24h_change:1.9,usd_market_cap:22e8},"render-token":{usd:7.35,usd_24h_change:5.1,usd_market_cap:28e8},"injective-protocol":{usd:22.5,usd_24h_change:3.8,usd_market_cap:21e8},sui:{usd:3.45,usd_24h_change:6.2,usd_market_cap:32e8}}),a(new Date),i(!1)};return E.useEffect(()=>{c();const f=setInterval(c,1e4);return()=>clearInterval(f)},[]),l.jsx(rU.Provider,{value:{prices:e,isLoading:r,lastUpdate:s},children:t})}const iU=E.createContext({portfolio:{totalBalanceUSDT:0,change24h:0,changePercent24h:0,holdings:[],priceHistory:[]},isLoading:!0,refreshHoldings:async()=>{},updateHoldings:async()=>{},addOrUpdateCrypto:async()=>{},removeCrypto:async()=>{},updateBalance:async()=>{}});function $s(){return E.useContext(iU)}function Hre({children:t}){const{prices:e,isLoading:n}=xi(),{user:r,auth:i}=Ft(),[s,a]=E.useState({totalBalanceUSDT:0,change24h:0,changePercent24h:0,holdings:[],priceHistory:[]}),[o,c]=E.useState(!0),[d,f]=E.useState(!1),[m,p]=E.useState([]);E.useEffect(()=>{if(!r?.uid){c(!1);return}console.log(" Iniciando listener de portfolio para userId:",r.uid);let O=0;const R=3;let z=null,P=null,A=!1;const N=()=>{if(A){console.log(" Configurao de listener j em andamento, ignorando...");return}A=!0,z&&(console.log(" Limpando listener anterior antes de criar novo..."),z(),z=null);const T=it(Se,"users",r.uid,"portfolio"),I=jt(T);z=zi(I,j=>{console.log(" Snapshot recebido - Total de ativos no portfolio:",j.size),O=0,A=!1;const D=[];j.forEach(F=>{const V=F.data();console.log(" Ativo encontrado:",{id:F.id,data:V}),D.push({symbol:V.symbol,coinId:V.coinId,amount:V.amount,name:V.name,valueUsd:V.valueUsd||0,updatedAt:V.updatedAt?.toDate()})}),console.log(" Total de holdings carregados:",D.length),a(F=>({...F,holdings:D})),c(!1),f(!1)},j=>{console.error(" Erro no listener da coleo portfolio:",j),A=!1,j.code==="permission-denied"?(console.error(" Permisso negada - verificar regras do Firestore"),f(!0),c(!1)):j.code==="unavailable"&&O<R?(O++,console.log(` Tentando reconectar... (tentativa ${O}/${R})`),P&&clearTimeout(P),P=setTimeout(()=>{z&&z(),N()},1e3*O)):c(!1)})};return N(),()=>{console.log(" Cancelando listener da coleo portfolio"),z&&z(),P&&clearTimeout(P)}},[r?.uid]),E.useEffect(()=>{if(n||!e||Object.keys(e).length===0)return;let O=0;s.holdings.forEach(A=>{const N=e[A.coinId]?.usd||0;O+=A.amount*N});let R=0;s.holdings.forEach(A=>{const N=e[A.coinId]?.usd||0,T=e[A.coinId]?.usd_24h_change||0,I=N/(1+T/100);R+=A.amount*I});const z=O-R,P=R!==0?(O-R)/R*100:0;p(A=>[...A,O].slice(-50)),a({totalBalanceUSDT:O,change24h:z,changePercent24h:P,holdings:s.holdings,priceHistory:m}),c(!1)},[e,n,s.holdings]),E.useEffect(()=>{a(O=>({...O,priceHistory:m}))},[m]);const y=async()=>{console.log(" refreshHoldings: listener automtico est ativo")},x=async O=>{console.warn(" updateHoldings est deprecated com a nova estrutura de coleo")},b=async(O,R,z,P)=>{if(!r)return;console.log(" Adicionando/atualizando crypto:",{symbol:O,coinId:R,amount:z,name:P});const A=e[R]?.usd||0,N=z*A;await Jz(r.uid,O,R,z,P,N),console.log(" Crypto adicionado, aguardando atualizao do listener")},_=async O=>{r&&await Are(r.uid,O)},S=async(O,R,z,P)=>{if(!r)return;const A=e[R]?.usd||0;await Pre(r.uid,O,R,z,P,A)};return l.jsx(iU.Provider,{value:{portfolio:s,isLoading:o,refreshHoldings:y,updateHoldings:x,addOrUpdateCrypto:b,removeCrypto:_,updateBalance:S},children:t})}const sU=E.createContext({rates:{},loading:!0});function Wre({children:t}){const[e,n]=E.useState({}),[r,i]=E.useState(!0);return E.useEffect(()=>{(async()=>{try{n({USD:1,BRL:5.2,EUR:.92,GBP:.79}),i(!1)}catch(a){console.error("Erro ao buscar taxas de cmbio:",a),n({USD:1,BRL:5.2,EUR:.92,GBP:.79}),i(!1)}})()},[]),l.jsx(sU.Provider,{value:{rates:e,loading:r},children:t})}function kA(){return E.useContext(sU)}const aU=E.createContext(void 0);function Kre({children:t}){const[e,n]=E.useState(null),[r,i]=E.useState(!1),[s,a]=E.useState(null),[o,c]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(null),[y,x]=E.useState(!1),[b,_]=E.useState(null),[S,O]=E.useState(null),R=E.useCallback(D=>{console.log(" [Location] Posio obtida com sucesso:",D);const F={latitude:D.coords.latitude,longitude:D.coords.longitude,accuracy:D.coords.accuracy,altitude:D.coords.altitude,altitudeAccuracy:D.coords.altitudeAccuracy,heading:D.coords.heading,speed:D.coords.speed};n({coordinates:F,timestamp:D.timestamp}),f(!0),i(!1),a(null),P(F.latitude,F.longitude)},[]),z=E.useCallback(D=>{if(D.message.includes("permissions policy")||D.message.includes("Permissions Policy")||D.code===1){console.log(" [Location] GPS no disponvel - Ativando modo simulao (So Paulo)...");const $={latitude:-23.55052,longitude:-46.633308,accuracy:10},Z={coordinates:$,timestamp:Date.now(),city:"So Paulo",state:"So Paulo",country:"Brasil",address:"Praa da S, Centro Histrico de So Paulo, So Paulo, Brasil"};n(Z),f(!1),i(!1),a(null),A($.latitude,$.longitude,{city:"So Paulo",state:"So Paulo",country:"Brasil",address:"Praa da S, Centro Histrico de So Paulo, So Paulo, Brasil"}),console.log(" [Location] Modo simulao ativo - Exibindo So Paulo");return}console.error(" [Location] Erro de geolocalizao:",D),console.error(" [Location] Cdigo do erro:",D.code),console.error(" [Location] Mensagem:",D.message);let V="Erro ao obter localizao";switch(D.code){case D.PERMISSION_DENIED:V="Voc bloqueou o acesso  localizao. Por favor, permita nas configuraes do navegador.",console.error(" [Location] PERMISSO NEGADA - Usurio bloqueou a localizao"),f(!1);break;case D.POSITION_UNAVAILABLE:V="Localizao indisponvel. Verifique se o GPS est ativado.",console.error(" [Location] POSIO INDISPONVEL - GPS pode estar desligado");break;case D.TIMEOUT:V="Tempo esgotado ao obter localizao. Tente novamente.",console.error(" [Location] TIMEOUT - Demorou muito para obter localizao");break;default:V=`Erro desconhecido (cdigo ${D.code}): ${D.message}`,console.error(" [Location] ERRO DESCONHECIDO:",D)}a(V),i(!1)},[]),P=async(D,F)=>{try{console.log(" [Geocoding] Fazendo geocoding reverso...");const V=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${D}&lon=${F}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"NexCoin/1.0"}});if(V.ok){const $=await V.json();console.log(" [Geocoding] Endereo obtido:",$);const Z={city:$.address?.city||$.address?.town||$.address?.village||"Desconhecido",state:$.address?.state||"",country:$.address?.country||"",address:$.display_name||""};n(J=>J?{...J,...Z}:null),A(D,F,Z)}else A(D,F)}catch{console.log(" [Geocoding] No foi possvel obter endereo (ambiente restrito)"),A(D,F)}},A=async(D,F,V)=>{x(!0),O(null);try{const $=xn.currentUser;if(!$){console.log(" [Firestore] Usurio NO autenticado - no salvando localizao"),console.log(" [Firestore] Faa login primeiro para salvar a localizao"),x(!1),O("Usurio no autenticado");return}console.log(" [Firestore]  Usurio autenticado:",$.uid),console.log(" [Firestore] Email:",$.email),console.log(" [Firestore] Salvando em: userLocations/"+$.uid);const Z=ct(Se,"userLocations",$.uid),J={userId:$.uid,userEmail:$.email||"",coordinates:{latitude:D,longitude:F},timestamp:ss(),updatedAt:ss()};V?(J.city=V.city,J.state=V.state,J.country=V.country,J.address=V.address,console.log(" [Firestore] Com endereo:",V.city)):console.log(" [Firestore] Sem dados de endereo"),console.log(" [Firestore] Dados completos:",J),await cr(Z,J,{merge:!0}),console.log(" [Firestore]  LOCALIZAO SALVA COM SUCESSO! "),console.log(" [Firestore] Acesse: https://console.firebase.google.com"),console.log(" [Firestore] V em: Firestore Database > userLocations"),x(!1),_(new Date),O(null)}catch($){console.error(" [Firestore] ERRO ao salvar localizao:",$),console.error(" [Firestore] Detalhes do erro:",JSON.stringify($,null,2));const Z=$ instanceof Error&&($.message.includes("permission-denied")||$.message.includes("Missing or insufficient permissions"));x(!1),Z?(O("Firestore permission-denied - Regras precisam ser publicadas"),console.error(" [Firestore] ERRO DE PERMISSO - As regras do Firestore no foram publicadas!"),console.error(" [Firestore] Execute: bash deploy-firestore-rules.sh"),console.error(" [Firestore] Ou publique manualmente em: https://console.firebase.google.com/project/nexcoin-1f42f/firestore/rules")):O("Erro ao salvar localizao no Firestore")}},N=E.useCallback(async()=>{if(!navigator.geolocation){a("Geolocalizao no  suportada pelo seu navegador");return}i(!0),a(null),navigator.geolocation.getCurrentPosition(R,z,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[R,z]),T=E.useCallback(()=>{if(!navigator.geolocation){a("Geolocalizao no  suportada pelo seu navegador");return}if(o){console.log(" [Location] J est monitorando localizao");return}console.log(" [Location] Iniciando monitoramento de localizao..."),i(!0),a(null),c(!0);const D=navigator.geolocation.watchPosition(R,z,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0});p(D),console.log(" [Location] Monitoramento iniciado com ID:",D)},[R,z,o]),I=E.useCallback(()=>{m!==null&&(console.log(" [Location] Parando monitoramento de localizao..."),navigator.geolocation.clearWatch(m),p(null),c(!1),console.log(" [Location] Monitoramento parado"))},[m]),j={location:e,isLoading:r,error:s,isWatching:o,hasPermission:d,watchLocation:T,stopWatching:I,getCurrentLocation:N,isSavingToFirestore:y,lastFirestoreSave:b,firestoreError:S};return Te.useEffect(()=>{console.log(" [Location] Iniciando rastreamento automtico ao abrir o app...");const D=setTimeout(()=>{o||(console.log(" [Location] Ativando GPS automaticamente..."),T())},1e3);return()=>{clearTimeout(D)}},[]),l.jsx(aU.Provider,{value:j,children:t})}function Gre(){const t=E.useContext(aU);if(t===void 0)throw new Error("useLocation deve ser usado dentro de LocationProvider");return t}async function oU(t,e=200,n=.7){return new Promise((r,i)=>{const s=new FileReader;s.onload=a=>{const o=new Image;o.onload=()=>{let c=o.width,d=o.height;c>d?c>e&&(d=d*e/c,c=e):d>e&&(c=c*e/d,d=e);const f=document.createElement("canvas");f.width=c,f.height=d;const m=f.getContext("2d");if(!m){i(new Error("No foi possvel criar contexto do canvas"));return}m.drawImage(o,0,0,c,d);const p=f.toDataURL("image/jpeg",n),x=p.length*3/4/1024;if(console.log(" Imagem comprimida:"),console.log(`   Original: ${(t.size/1024).toFixed(2)} KB`),console.log(`   Comprimida: ${x.toFixed(2)} KB`),console.log(`   Dimenses: ${c}x${d}`),x>100&&n>.3){console.log(" Imagem ainda muito grande, comprimindo mais..."),oU(t,e*.8,n*.7).then(r).catch(i);return}r(p)},o.onerror=()=>{i(new Error("Erro ao carregar imagem"))},o.src=a.target?.result},s.onerror=()=>{i(new Error("Erro ao ler arquivo"))},s.readAsDataURL(t)})}var vb=OV();const Xre=vi(vb);var Yre=t=>{switch(t){case"success":return Zre;case"info":return tie;case"warning":return eie;case"error":return nie;default:return null}},Qre=Array(12).fill(0),Jre=({visible:t,className:e})=>Te.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Te.createElement("div",{className:"sonner-spinner"},Qre.map((n,r)=>Te.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Zre=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),eie=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),tie=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),nie=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Te.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),rie=Te.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Te.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Te.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),iie=()=>{let[t,e]=Te.useState(document.hidden);return Te.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},ON=1,sie=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:ON++,s=this.toasts.find(o=>o.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:n}),{...o,...t,id:i,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,a=r.then(async c=>{if(s=["resolve",c],Te.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(oie(c)&&!c.ok){i=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:d,description:f})}else if(e.success!==void 0){i=!1;let d=typeof e.success=="function"?await e.success(c):e.success,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let d=typeof e.error=="function"?await e.error(c):e.error,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),o=()=>new Promise((c,d)=>a.then(()=>s[0]==="reject"?d(s[1]):c(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=e?.id||ON++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},oi=new sie,aie=(t,e)=>{let n=e?.id||ON++;return oi.addToast({title:t,...e,id:n}),n},oie=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",lie=aie,cie=()=>oi.toasts,uie=()=>oi.getActiveToasts(),Me=Object.assign(lie,{success:oi.success,info:oi.info,warning:oi.warning,error:oi.error,custom:oi.custom,message:oi.message,promise:oi.promise,dismiss:oi.dismiss,loading:oi.loading},{getHistory:cie,getToasts:uie});function die(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}die(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function iv(t){return t.label!==void 0}var fie=3,hie="32px",mie="16px",ED=4e3,pie=356,gie=14,yie=20,vie=200;function Ss(...t){return t.filter(Boolean).join(" ")}function xie(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var bie=t=>{var e,n,r,i,s,a,o,c,d,f,m;let{invert:p,toast:y,unstyled:x,interacting:b,setHeights:_,visibleToasts:S,heights:O,index:R,toasts:z,expanded:P,removeToast:A,defaultRichColors:N,closeButton:T,style:I,cancelButtonStyle:j,actionButtonStyle:D,className:F="",descriptionClassName:V="",duration:$,position:Z,gap:J,loadingIcon:B,expandByDefault:Q,classNames:H,icons:k,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:G}=t,[K,X]=Te.useState(null),[te,ie]=Te.useState(null),[re,xe]=Te.useState(!1),[ae,ve]=Te.useState(!1),[Ce,me]=Te.useState(!1),[Ie,De]=Te.useState(!1),[Je,ot]=Te.useState(!1),[Fe,pt]=Te.useState(0),[ut,oe]=Te.useState(0),Ne=Te.useRef(y.duration||$||ED),Xe=Te.useRef(null),de=Te.useRef(null),Ke=R===0,dt=R+1<=S,nt=y.type,rt=y.dismissible!==!1,Rt=y.className||"",Yt=y.descriptionClassName||"",pr=Te.useMemo(()=>O.findIndex(Ze=>Ze.toastId===y.id)||0,[O,y.id]),Rn=Te.useMemo(()=>{var Ze;return(Ze=y.closeButton)!=null?Ze:T},[y.closeButton,T]),Ws=Te.useMemo(()=>y.duration||$||ED,[y.duration,$]),$r=Te.useRef(0),Ei=Te.useRef(0),Yo=Te.useRef(0),Zn=Te.useRef(null),[Qo,Ks]=Z.split("-"),Ha=Te.useMemo(()=>O.reduce((Ze,Pt,Bt)=>Bt>=pr?Ze:Ze+Pt.height,0),[O,pr]),$i=iie(),ms=y.invert||p,Qt=nt==="loading";Ei.current=Te.useMemo(()=>pr*J+Ha,[pr,Ha]),Te.useEffect(()=>{Ne.current=Ws},[Ws]),Te.useEffect(()=>{xe(!0)},[]),Te.useEffect(()=>{let Ze=de.current;if(Ze){let Pt=Ze.getBoundingClientRect().height;return oe(Pt),_(Bt=>[{toastId:y.id,height:Pt,position:y.position},...Bt]),()=>_(Bt=>Bt.filter(_n=>_n.toastId!==y.id))}},[_,y.id]),Te.useLayoutEffect(()=>{if(!re)return;let Ze=de.current,Pt=Ze.style.height;Ze.style.height="auto";let Bt=Ze.getBoundingClientRect().height;Ze.style.height=Pt,oe(Bt),_(_n=>_n.find(Ar=>Ar.toastId===y.id)?_n.map(Ar=>Ar.toastId===y.id?{...Ar,height:Bt}:Ar):[{toastId:y.id,height:Bt,position:y.position},..._n])},[re,y.title,y.description,_,y.id]);let ei=Te.useCallback(()=>{ve(!0),pt(Ei.current),_(Ze=>Ze.filter(Pt=>Pt.toastId!==y.id)),setTimeout(()=>{A(y)},vie)},[y,A,_,Ei]);Te.useEffect(()=>{if(y.promise&&nt==="loading"||y.duration===1/0||y.type==="loading")return;let Ze;return P||b||G&&$i?(()=>{if(Yo.current<$r.current){let Pt=new Date().getTime()-$r.current;Ne.current=Ne.current-Pt}Yo.current=new Date().getTime()})():Ne.current!==1/0&&($r.current=new Date().getTime(),Ze=setTimeout(()=>{var Pt;(Pt=y.onAutoClose)==null||Pt.call(y,y),ei()},Ne.current)),()=>clearTimeout(Ze)},[P,b,y,nt,G,$i,ei]),Te.useEffect(()=>{y.delete&&ei()},[ei,y.delete]);function Gs(){var Ze,Pt,Bt;return k!=null&&k.loading?Te.createElement("div",{className:Ss(H?.loader,(Ze=y?.classNames)==null?void 0:Ze.loader,"sonner-loader"),"data-visible":nt==="loading"},k.loading):B?Te.createElement("div",{className:Ss(H?.loader,(Pt=y?.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":nt==="loading"},B):Te.createElement(Jre,{className:Ss(H?.loader,(Bt=y?.classNames)==null?void 0:Bt.loader),visible:nt==="loading"})}return Te.createElement("li",{tabIndex:0,ref:de,className:Ss(F,Rt,H?.toast,(e=y?.classNames)==null?void 0:e.toast,H?.default,H?.[nt],(n=y?.classNames)==null?void 0:n[nt]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:N,"data-styled":!(y.jsx||y.unstyled||x),"data-mounted":re,"data-promise":!!y.promise,"data-swiped":Je,"data-removed":ae,"data-visible":dt,"data-y-position":Qo,"data-x-position":Ks,"data-index":R,"data-front":Ke,"data-swiping":Ce,"data-dismissible":rt,"data-type":nt,"data-invert":ms,"data-swipe-out":Ie,"data-swipe-direction":te,"data-expanded":!!(P||Q&&re),style:{"--index":R,"--toasts-before":R,"--z-index":z.length-R,"--offset":`${ae?Fe:Ei.current}px`,"--initial-height":Q?"auto":`${ut}px`,...I,...y.style},onDragEnd:()=>{me(!1),X(null),Zn.current=null},onPointerDown:Ze=>{Qt||!rt||(Xe.current=new Date,pt(Ei.current),Ze.target.setPointerCapture(Ze.pointerId),Ze.target.tagName!=="BUTTON"&&(me(!0),Zn.current={x:Ze.clientX,y:Ze.clientY}))},onPointerUp:()=>{var Ze,Pt,Bt,_n;if(Ie||!rt)return;Zn.current=null;let Ar=Number(((Ze=de.current)==null?void 0:Ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Pr=Number(((Pt=de.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ir=new Date().getTime()-((Bt=Xe.current)==null?void 0:Bt.getTime()),Dn=K==="x"?Ar:Pr,Si=Math.abs(Dn)/Ir;if(Math.abs(Dn)>=yie||Si>.11){pt(Ei.current),(_n=y.onDismiss)==null||_n.call(y,y),ie(K==="x"?Ar>0?"right":"left":Pr>0?"down":"up"),ei(),De(!0),ot(!1);return}me(!1),X(null)},onPointerMove:Ze=>{var Pt,Bt,_n,Ar;if(!Zn.current||!rt||((Pt=window.getSelection())==null?void 0:Pt.toString().length)>0)return;let Pr=Ze.clientY-Zn.current.y,Ir=Ze.clientX-Zn.current.x,Dn=(Bt=t.swipeDirections)!=null?Bt:xie(Z);!K&&(Math.abs(Ir)>1||Math.abs(Pr)>1)&&X(Math.abs(Ir)>Math.abs(Pr)?"x":"y");let Si={x:0,y:0};K==="y"?(Dn.includes("top")||Dn.includes("bottom"))&&(Dn.includes("top")&&Pr<0||Dn.includes("bottom")&&Pr>0)&&(Si.y=Pr):K==="x"&&(Dn.includes("left")||Dn.includes("right"))&&(Dn.includes("left")&&Ir<0||Dn.includes("right")&&Ir>0)&&(Si.x=Ir),(Math.abs(Si.x)>0||Math.abs(Si.y)>0)&&ot(!0),(_n=de.current)==null||_n.style.setProperty("--swipe-amount-x",`${Si.x}px`),(Ar=de.current)==null||Ar.style.setProperty("--swipe-amount-y",`${Si.y}px`)}},Rn&&!y.jsx?Te.createElement("button",{"aria-label":U,"data-disabled":Qt,"data-close-button":!0,onClick:Qt||!rt?()=>{}:()=>{var Ze;ei(),(Ze=y.onDismiss)==null||Ze.call(y,y)},className:Ss(H?.closeButton,(i=y?.classNames)==null?void 0:i.closeButton)},(s=k?.close)!=null?s:rie):null,y.jsx||E.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:Te.createElement(Te.Fragment,null,nt||y.icon||y.promise?Te.createElement("div",{"data-icon":"",className:Ss(H?.icon,(a=y?.classNames)==null?void 0:a.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Gs():null,y.type!=="loading"?y.icon||k?.[nt]||Yre(nt):null):null,Te.createElement("div",{"data-content":"",className:Ss(H?.content,(o=y?.classNames)==null?void 0:o.content)},Te.createElement("div",{"data-title":"",className:Ss(H?.title,(c=y?.classNames)==null?void 0:c.title)},typeof y.title=="function"?y.title():y.title),y.description?Te.createElement("div",{"data-description":"",className:Ss(V,Yt,H?.description,(d=y?.classNames)==null?void 0:d.description)},typeof y.description=="function"?y.description():y.description):null),E.isValidElement(y.cancel)?y.cancel:y.cancel&&iv(y.cancel)?Te.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||j,onClick:Ze=>{var Pt,Bt;iv(y.cancel)&&rt&&((Bt=(Pt=y.cancel).onClick)==null||Bt.call(Pt,Ze),ei())},className:Ss(H?.cancelButton,(f=y?.classNames)==null?void 0:f.cancelButton)},y.cancel.label):null,E.isValidElement(y.action)?y.action:y.action&&iv(y.action)?Te.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||D,onClick:Ze=>{var Pt,Bt;iv(y.action)&&((Bt=(Pt=y.action).onClick)==null||Bt.call(Pt,Ze),!Ze.defaultPrevented&&ei())},className:Ss(H?.actionButton,(m=y?.classNames)==null?void 0:m.actionButton)},y.action.label):null))};function SD(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function wie(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?mie:hie;function c(d){["top","right","bottom","left"].forEach(f=>{n[`${a}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${a}-${d}`]=o:n[`${a}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(o)}),n}var _ie=E.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:c,mobileOffset:d,theme:f="light",richColors:m,duration:p,style:y,visibleToasts:x=fie,toastOptions:b,dir:_=SD(),gap:S=gie,loadingIcon:O,icons:R,containerAriaLabel:z="Notifications",pauseWhenPageIsHidden:P}=t,[A,N]=Te.useState([]),T=Te.useMemo(()=>Array.from(new Set([r].concat(A.filter(G=>G.position).map(G=>G.position)))),[A,r]),[I,j]=Te.useState([]),[D,F]=Te.useState(!1),[V,$]=Te.useState(!1),[Z,J]=Te.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=Te.useRef(null),Q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=Te.useRef(null),k=Te.useRef(!1),U=Te.useCallback(G=>{N(K=>{var X;return(X=K.find(te=>te.id===G.id))!=null&&X.delete||oi.dismiss(G.id),K.filter(({id:te})=>te!==G.id)})},[]);return Te.useEffect(()=>oi.subscribe(G=>{if(G.dismiss){N(K=>K.map(X=>X.id===G.id?{...X,delete:!0}:X));return}setTimeout(()=>{Xre.flushSync(()=>{N(K=>{let X=K.findIndex(te=>te.id===G.id);return X!==-1?[...K.slice(0,X),{...K[X],...G},...K.slice(X+1)]:[G,...K]})})})}),[]),Te.useEffect(()=>{if(f!=="system"){J(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:K})=>{J(K?"dark":"light")})}catch{G.addListener(({matches:X})=>{try{J(X?"dark":"light")}catch(te){console.error(te)}})}},[f]),Te.useEffect(()=>{A.length<=1&&F(!1)},[A]),Te.useEffect(()=>{let G=K=>{var X,te;i.every(ie=>K[ie]||K.code===ie)&&(F(!0),(X=B.current)==null||X.focus()),K.code==="Escape"&&(document.activeElement===B.current||(te=B.current)!=null&&te.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[i]),Te.useEffect(()=>{if(B.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,k.current=!1)}},[B.current]),Te.createElement("section",{ref:e,"aria-label":`${z} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((G,K)=>{var X;let[te,ie]=G.split("-");return A.length?Te.createElement("ol",{key:G,dir:_==="auto"?SD():_,tabIndex:-1,ref:B,className:o,"data-sonner-toaster":!0,"data-theme":Z,"data-y-position":te,"data-lifted":D&&A.length>1&&!s,"data-x-position":ie,style:{"--front-toast-height":`${((X=I[0])==null?void 0:X.height)||0}px`,"--width":`${pie}px`,"--gap":`${S}px`,...y,...wie(c,d)},onBlur:re=>{k.current&&!re.currentTarget.contains(re.relatedTarget)&&(k.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||k.current||(k.current=!0,H.current=re.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{V||F(!1)},onDragEnd:()=>F(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},A.filter(re=>!re.position&&K===0||re.position===G).map((re,xe)=>{var ae,ve;return Te.createElement(bie,{key:re.id,icons:R,index:xe,toast:re,defaultRichColors:m,duration:(ae=b?.duration)!=null?ae:p,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:n,visibleToasts:x,closeButton:(ve=b?.closeButton)!=null?ve:a,interacting:V,position:G,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,removeToast:U,toasts:A.filter(Ce=>Ce.position==re.position),heights:I.filter(Ce=>Ce.position==re.position),setHeights:j,expandByDefault:s,gap:S,loadingIcon:O,expanded:D,pauseWhenPageIsHidden:P,swipeDirections:t.swipeDirections})})):null}))});const ND={BTC:"https://coin-images.coingecko.com/coins/images/1/large/bitcoin.png",ETH:"https://coin-images.coingecko.com/coins/images/279/large/ethereum.png",USDT:"https://coin-images.coingecko.com/coins/images/325/large/Tether.png",TETHER:"https://coin-images.coingecko.com/coins/images/325/large/Tether.png",BNB:"https://coin-images.coingecko.com/coins/images/825/large/bnb-icon2_2x.png",SOL:"https://coin-images.coingecko.com/coins/images/4128/large/solana.png",XRP:"https://coin-images.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png",ADA:"https://coin-images.coingecko.com/coins/images/975/large/cardano.png",AVAX:"https://coin-images.coingecko.com/coins/images/12559/large/Avalanche_Circle_RedWhite_Trans.png",DOGE:"https://coin-images.coingecko.com/coins/images/5/large/dogecoin.png",DOT:"https://coin-images.coingecko.com/coins/images/12171/large/polkadot.png",MATIC:"https://coin-images.coingecko.com/coins/images/4713/large/matic-token-icon.png",LINK:"https://coin-images.coingecko.com/coins/images/877/large/chainlink-new-logo.png",UNI:"https://coin-images.coingecko.com/coins/images/12504/large/uniswap-uni.png",LTC:"https://coin-images.coingecko.com/coins/images/2/large/litecoin.png",ATOM:"https://coin-images.coingecko.com/coins/images/1481/large/cosmos_hub.png",XLM:"https://coin-images.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png",TRX:"https://coin-images.coingecko.com/coins/images/1094/large/tron-logo.png",SHIB:"https://coin-images.coingecko.com/coins/images/11939/large/shiba.png",WBTC:"https://coin-images.coingecko.com/coins/images/7598/large/wrapped_bitcoin_wbtc.png",DAI:"https://coin-images.coingecko.com/coins/images/9956/large/4943.png",LEO:"https://coin-images.coingecko.com/coins/images/8418/large/leo-token.png",USDC:"https://coin-images.coingecko.com/coins/images/6319/large/USD_Coin_icon.png",TON:"https://coin-images.coingecko.com/coins/images/17980/large/ton_symbol.png",ETC:"https://coin-images.coingecko.com/coins/images/453/large/ethereum-classic-logo.png",BCH:"https://coin-images.coingecko.com/coins/images/780/large/bitcoin-cash-circle.png",APT:"https://coin-images.coingecko.com/coins/images/26455/large/aptos_round.png",ARB:"https://coin-images.coingecko.com/coins/images/16547/large/photo_2023-03-29_21.47.00.jpeg",OP:"https://coin-images.coingecko.com/coins/images/25244/large/Optimism.png",ICP:"https://coin-images.coingecko.com/coins/images/14495/large/Internet_Computer_logo.png",FIL:"https://coin-images.coingecko.com/coins/images/12817/large/filecoin.png",NEAR:"https://coin-images.coingecko.com/coins/images/10365/large/near_icon.png",VET:"https://coin-images.coingecko.com/coins/images/1167/large/VeChain-Logo-768x725.png",ALGO:"https://coin-images.coingecko.com/coins/images/4380/large/download.png",INJ:"https://coin-images.coingecko.com/coins/images/12882/large/Secondary_Symbol.png",AAVE:"https://coin-images.coingecko.com/coins/images/12645/large/AAVE.png",MKR:"https://coin-images.coingecko.com/coins/images/1364/large/Mark_Maker.png",GRT:"https://coin-images.coingecko.com/coins/images/13397/large/Graph_Token.png",IMX:"https://coin-images.coingecko.com/coins/images/17233/large/imx.png",STX:"https://coin-images.coingecko.com/coins/images/2069/large/Stacks_logo_full.png",HBAR:"https://coin-images.coingecko.com/coins/images/3688/large/hbar.png",FTM:"https://coin-images.coingecko.com/coins/images/4001/large/Fantom.png",SAND:"https://coin-images.coingecko.com/coins/images/12129/large/sandbox_logo.jpg",MANA:"https://coin-images.coingecko.com/coins/images/878/large/decentraland-mana.png",AXS:"https://coin-images.coingecko.com/coins/images/13029/large/axie_infinity_logo.png",XTZ:"https://coin-images.coingecko.com/coins/images/976/large/Tezos-logo.png",THETA:"https://coin-images.coingecko.com/coins/images/2538/large/theta-token-logo.png",EOS:"https://coin-images.coingecko.com/coins/images/738/large/eos-eos-logo.png",XMR:"https://coin-images.coingecko.com/coins/images/69/large/monero_logo.png",FLOW:"https://coin-images.coingecko.com/coins/images/13446/large/flow.png",CHZ:"https://coin-images.coingecko.com/coins/images/8834/large/Chiliz.png",ZEC:"https://coin-images.coingecko.com/coins/images/486/large/circle-zcash-color.png",RUNE:"https://coin-images.coingecko.com/coins/images/6595/large/TC-Icon-Round-Dark.png",KLAY:"https://coin-images.coingecko.com/coins/images/9672/large/klaytn.png",DASH:"https://coin-images.coingecko.com/coins/images/19/large/dash-logo.png",NEO:"https://coin-images.coingecko.com/coins/images/480/large/NEO_512_512.png",IOTA:"https://coin-images.coingecko.com/coins/images/692/large/IOTA_Swirl.png",QNT:"https://coin-images.coingecko.com/coins/images/3370/large/5ZOu7brX_400x400.jpg",EGLD:"https://coin-images.coingecko.com/coins/images/12335/large/egld-token-logo.png",PEPE:"https://coin-images.coingecko.com/coins/images/29850/large/pepe-token.jpeg",FET:"https://coin-images.coingecko.com/coins/images/5681/large/Fetch.jpg",SUI:"https://coin-images.coingecko.com/coins/images/26375/large/sui_asset.jpeg",SEI:"https://coin-images.coingecko.com/coins/images/28205/large/sei_icon.jpg",BRL:"https://flagcdn.com/w80/br.png",USD:"https://flagcdn.com/w80/us.png",EUR:"https://flagcdn.com/w80/eu.png",GBP:"https://flagcdn.com/w80/gb.png"},Eie={BTC:"#F7931A",ETH:"#627EEA",USDT:"#26A17B",TETHER:"#26A17B",BNB:"#F3BA2F",SOL:"#14F195",XRP:"#23292F",ADA:"#0033AD",AVAX:"#E84142",DOGE:"#C2A633",DOT:"#E6007A",MATIC:"#8247E5",LINK:"#2A5ADA",UNI:"#FF007A",LTC:"#345D9D",ATOM:"#2E3148",XLM:"#14B6E7",TRX:"#EB0029",SHIB:"#FFA409",WBTC:"#F09242",DAI:"#F5AC37",LEO:"#D33C40",USDC:"#2775CA",TON:"#0088CC",ETC:"#328432",BCH:"#8DC351",APT:"#000000",ARB:"#28A0F0",OP:"#FF0420",ICP:"#29ABE2",FIL:"#0090FF",NEAR:"#000000",VET:"#15BDFF",ALGO:"#000000",INJ:"#00F2FE",AAVE:"#B6509E",MKR:"#1AAB9B",GRT:"#6747ED",IMX:"#0B0D23",STX:"#5546FF",HBAR:"#000000",FTM:"#13B5EC",SAND:"#00ADEF",MANA:"#FF2D55",AXS:"#0055D5",XTZ:"#2C7DF7",THETA:"#2AB8E6",EOS:"#000000",XMR:"#FF6600",FLOW:"#00EF8B",CHZ:"#CD0124",ZEC:"#F4B728",RUNE:"#00CCFF",KLAY:"#FF3D00",DASH:"#008CE7",NEO:"#58BF00",IOTA:"#000000",QNT:"#1A1A1A",EGLD:"#000000",PEPE:"#22C55E",FET:"#0714FE",SUI:"#6FBCF0",SEI:"#A91B1B"};function At({symbol:t,size:e="md"}){const[n,r]=E.useState(!1),i={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},s=ND[t.toUpperCase()]||ND.BTC,a=Eie[t.toUpperCase()]||"#6B7280";return n?l.jsx("div",{className:`${i[e]} rounded-full flex items-center justify-center text-white shadow-md`,style:{backgroundColor:a},children:l.jsx("span",{className:e==="xs"?"text-[8px]":e==="sm"?"text-[10px]":e==="md"?"text-xs":"text-sm",children:t.toUpperCase().slice(0,3)})}):l.jsx("div",{className:`${i[e]} rounded-full overflow-hidden flex items-center justify-center bg-white shadow-md`,children:l.jsx("img",{src:s,alt:`${t} icon`,className:"w-full h-full object-cover",onError:()=>r(!0),crossOrigin:"anonymous",loading:"lazy"})})}function Sie({coinId:t,color:e}){const[n,r]=E.useState([]);E.useEffect(()=>{const o=async()=>{try{const d=await fetch(`https://api.coingecko.com/api/v3/coins/${t}/market_chart?vs_currency=usd&days=1&interval=hourly`);if(!d.ok){r(i());return}const f=d.headers.get("content-type");if(!f||!f.includes("application/json")){r(i());return}const m=await d.json();if(m.prices&&m.prices.length>0){const p=m.prices.map(y=>y[1]);r(p)}else r(i())}catch{r(i())}};o();const c=setInterval(o,15e3);return()=>clearInterval(c)},[t]);const i=()=>{const o=[];let c=100;for(let d=0;d<24;d++)c+=(Math.random()-.5)*10,o.push(c);return o},s=()=>{if(n.length===0)return"M0,20 L100,20";const o=Math.min(...n),d=Math.max(...n)-o||1;return`M${n.map((m,p)=>{const y=p/(n.length-1)*100,x=40-(m-o)/d*30-5;return`${y},${x}`}).join(" L")}`},a=()=>{if(n.length===0)return"M0,20 L100,20 L100,40 L0,40 Z";const o=Math.min(...n),d=Math.max(...n)-o||1;return`M${n.map((m,p)=>{const y=p/(n.length-1)*100,x=40-(m-o)/d*30-5;return`${y},${x}`}).join(" L")} L100,40 L0,40 Z`};return l.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 40",children:[l.jsx("defs",{children:l.jsxs("linearGradient",{id:`gradient-${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:e,stopOpacity:"0.3"}),l.jsx("stop",{offset:"100%",stopColor:e,stopOpacity:"0"})]})}),l.jsx("path",{d:a(),fill:`url(#gradient-${t})`}),l.jsx("path",{d:s(),fill:"none",stroke:e,strokeLinecap:"round",strokeWidth:"2"})]})}function lU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=lU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Xt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=lU(t))&&(r&&(r+=" "),r+=e);return r}var Nie=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function RA(t){if(typeof t!="string")return!1;var e=Nie;return e.includes(t)}var Tie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Cie=new Set(Tie);function cU(t){return typeof t!="string"?!1:Cie.has(t)}function uU(t){return typeof t=="string"&&t.startsWith("data-")}function zs(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(cU(n)||uU(n))&&(e[n]=t[n]);return e}function xb(t){if(t==null)return null;if(E.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return zs(e)}return typeof t=="object"&&!Array.isArray(t)?zs(t):null}function Ur(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(cU(n)||uU(n)||RA(n))&&(e[n]=t[n]);return e}function Aie(t){return t==null?null:E.isValidElement(t)?Ur(t.props):typeof t=="object"&&!Array.isArray(t)?Ur(t):null}var Pie=["children","width","height","viewBox","className","style","title","desc"];function MN(){return MN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MN.apply(null,arguments)}function Iie(t,e){if(t==null)return{};var n,r,i=jie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var dU=E.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:o,title:c,desc:d}=t,f=Iie(t,Pie),m=s||{width:r,height:i,x:0,y:0},p=Xt("recharts-surface",a);return E.createElement("svg",MN({},Ur(f),{className:p,width:r,height:i,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),E.createElement("title",null,c),E.createElement("desc",null,d),n)}),kie=["children","className"];function LN(){return LN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LN.apply(null,arguments)}function Rie(t,e){if(t==null)return{};var n,r,i=Die(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Die(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cs=E.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Rie(t,kie),s=Xt("recharts-layer",r);return E.createElement("g",LN({className:s},Ur(i),{ref:e}),n)}),Oie=E.createContext(null);function Zt(t){return function(){return t}}const fU=Math.cos,M0=Math.sin,qs=Math.sqrt,L0=Math.PI,bb=2*L0,VN=Math.PI,FN=2*VN,Yc=1e-6,Mie=FN-Yc;function hU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Lie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return hU;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Vie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?hU:Lie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,c=r-e,d=i-n,f=a-e,m=o-n,p=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Yc)if(!(Math.abs(m*c-d*f)>Yc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-a,x=i-o,b=c*c+d*d,_=y*y+x*x,S=Math.sqrt(b),O=Math.sqrt(p),R=s*Math.tan((VN-Math.acos((b+p-_)/(2*S*O)))/2),z=R/O,P=R/S;Math.abs(z-1)>Yc&&this._append`L${e+z*f},${n+z*m}`,this._append`A${s},${s},0,0,${+(m*y>f*x)},${this._x1=e+P*c},${this._y1=n+P*d}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),c=r*Math.sin(i),d=e+o,f=n+c,m=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Yc||Math.abs(this._y1-f)>Yc)&&this._append`L${d},${f}`,r&&(p<0&&(p=p%FN+FN),p>Mie?this._append`A${r},${r},0,1,${m},${e-o},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=f}`:p>Yc&&this._append`A${r},${r},0,${+(p>=VN)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function DA(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Vie(e)}function OA(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function mU(t){this._context=t}mU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function wb(t){return new mU(t)}function pU(t){return t[0]}function gU(t){return t[1]}function yU(t,e){var n=Zt(!0),r=null,i=wb,s=null,a=DA(o);t=typeof t=="function"?t:t===void 0?pU:Zt(t),e=typeof e=="function"?e:e===void 0?gU:Zt(e);function o(c){var d,f=(c=OA(c)).length,m,p=!1,y;for(r==null&&(s=i(y=a())),d=0;d<=f;++d)!(d<f&&n(m=c[d],d,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(m,d,c),+e(m,d,c));if(y)return s=null,y+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:Zt(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:Zt(+c),o):e},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Zt(!!c),o):n},o.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),o):i},o.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),o):r},o}function sv(t,e,n){var r=null,i=Zt(!0),s=null,a=wb,o=null,c=DA(d);t=typeof t=="function"?t:t===void 0?pU:Zt(+t),e=typeof e=="function"?e:Zt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?gU:Zt(+n);function d(m){var p,y,x,b=(m=OA(m)).length,_,S=!1,O,R=new Array(b),z=new Array(b);for(s==null&&(o=a(O=c())),p=0;p<=b;++p){if(!(p<b&&i(_=m[p],p,m))===S)if(S=!S)y=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=p-1;x>=y;--x)o.point(R[x],z[x]);o.lineEnd(),o.areaEnd()}S&&(R[p]=+t(_,p,m),z[p]=+e(_,p,m),o.point(r?+r(_,p,m):R[p],n?+n(_,p,m):z[p]))}if(O)return o=null,O+""||null}function f(){return yU().defined(i).curve(a).context(s)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Zt(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Zt(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Zt(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Zt(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Zt(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Zt(+m),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Zt(!!m),d):i},d.curve=function(m){return arguments.length?(a=m,s!=null&&(o=a(s)),d):a},d.context=function(m){return arguments.length?(m==null?s=o=null:o=a(s=m),d):s},d}class vU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Fie(t){return new vU(t,!0)}function Bie(t){return new vU(t,!1)}const MA={draw(t,e){const n=qs(e/L0);t.moveTo(n,0),t.arc(0,0,n,0,bb)}},zie={draw(t,e){const n=qs(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},xU=qs(1/3),Uie=xU*2,$ie={draw(t,e){const n=qs(e/Uie),r=n*xU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},qie={draw(t,e){const n=qs(e),r=-n/2;t.rect(r,r,n,n)}},Hie=.8908130915292852,bU=M0(L0/10)/M0(7*L0/10),Wie=M0(bb/10)*bU,Kie=-fU(bb/10)*bU,Gie={draw(t,e){const n=qs(e*Hie),r=Wie*n,i=Kie*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=bb*s/5,o=fU(a),c=M0(a);t.lineTo(c*n,-o*n),t.lineTo(o*r-c*i,c*r+o*i)}t.closePath()}},d_=qs(3),Xie={draw(t,e){const n=-qs(e/(d_*3));t.moveTo(0,n*2),t.lineTo(-d_*n,-n),t.lineTo(d_*n,-n),t.closePath()}},Ji=-.5,Zi=qs(3)/2,BN=1/qs(12),Yie=(BN/2+1)*3,Qie={draw(t,e){const n=qs(e/Yie),r=n/2,i=n*BN,s=r,a=n*BN+n,o=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,c),t.lineTo(Ji*r-Zi*i,Zi*r+Ji*i),t.lineTo(Ji*s-Zi*a,Zi*s+Ji*a),t.lineTo(Ji*o-Zi*c,Zi*o+Ji*c),t.lineTo(Ji*r+Zi*i,Ji*i-Zi*r),t.lineTo(Ji*s+Zi*a,Ji*a-Zi*s),t.lineTo(Ji*o+Zi*c,Ji*c-Zi*o),t.closePath()}};function Jie(t,e){let n=null,r=DA(i);t=typeof t=="function"?t:Zt(t||MA),e=typeof e=="function"?e:Zt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Zt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Zt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function V0(){}function F0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function wU(t){this._context=t}wU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:F0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:F0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zie(t){return new wU(t)}function _U(t){this._context=t}_U.prototype={areaStart:V0,areaEnd:V0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:F0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ese(t){return new _U(t)}function EU(t){this._context=t}EU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:F0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tse(t){return new EU(t)}function SU(t){this._context=t}SU.prototype={areaStart:V0,areaEnd:V0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function nse(t){return new SU(t)}function TD(t){return t<0?-1:1}function CD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(TD(s)+TD(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function AD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function f_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function B0(t){this._context=t}B0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:f_(this,this._t0,AD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,f_(this,AD(this,n=CD(this,t,e)),n);break;default:f_(this,this._t0,n=CD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function NU(t){this._context=new TU(t)}(NU.prototype=Object.create(B0.prototype)).point=function(t,e){B0.prototype.point.call(this,e,t)};function TU(t){this._context=t}TU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function rse(t){return new B0(t)}function ise(t){return new NU(t)}function CU(t){this._context=t}CU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=PD(t),i=PD(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function PD(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function sse(t){return new CU(t)}function _b(t,e){this._context=t,this._t=e}_b.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ase(t){return new _b(t,.5)}function ose(t){return new _b(t,0)}function lse(t){return new _b(t,1)}function Mu(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function zN(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function cse(t,e){return t[e]}function use(t){const e=[];return e.key=t,e}function dse(){var t=Zt([]),e=zN,n=Mu,r=cse;function i(s){var a=Array.from(t.apply(this,arguments),use),o,c=a.length,d=-1,f;for(const m of s)for(o=0,++d;o<c;++o)(a[o][d]=[0,+r(m,a[o].key,d,s)]).data=m;for(o=0,f=OA(e(a));o<c;++o)a[f[o]].index=o;return n(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Zt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Zt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?zN:typeof s=="function"?s:Zt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Mu,i):n},i}function fse(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Mu(t,e)}}function hse(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Mu(t,e)}}function mse(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,c=0,d=0;o<a;++o){for(var f=t[e[o]],m=f[r][1]||0,p=f[r-1][1]||0,y=(m-p)/2,x=0;x<o;++x){var b=t[e[x]],_=b[r][1]||0,S=b[r-1][1]||0;y+=_-S}c+=m,d+=y*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Mu(t,e)}}var h_={},m_={},ID;function pse(){return ID||(ID=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(m_)),m_}var p_={},jD;function AU(){return jD||(jD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(p_)),p_}var g_={},kD;function LA(){return kD||(kD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(g_)),g_}var y_={},v_={},RD;function gse(){return RD||(RD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(v_)),v_}var DD;function VA(){return DD||(DD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gse(),n=LA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,c="",d="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const m=i[o];d?m==="\\"&&o+1<a?(o++,c+=i[o]):m===d?d="":c+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,s.push(c),c=""):c+=m:m==="["?(f=!0,c&&(s.push(c),c="")):m==="."?c&&(s.push(c),c=""):c+=m,o++}return c&&s.push(c),s}t.toPath=r})(y_)),y_}var OD;function FA(){return OD||(OD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pse(),n=AU(),r=LA(),i=VA();function s(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const f=o[c];return f===void 0?n.isDeepKey(c)?s(o,i.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const f=o[c];return f===void 0?d:f}default:{if(Array.isArray(c))return a(o,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const f=o[c];return f===void 0?d:f}}}function a(o,c,d){if(c.length===0)return d;let f=o;for(let m=0;m<c.length;m++){if(f==null||e.isUnsafeProperty(c[m]))return d;f=f[c[m]]}return f===void 0?d:f}t.get=s})(h_)),h_}var x_,MD;function yse(){return MD||(MD=1,x_=FA().get),x_}var vse=yse();const Eb=vi(vse);var xse=4;function Fl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xse,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Tn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,a)=>{var o=n[a-1];return typeof o=="string"?i+o+s:o!==void 0?i+Fl(o)+s:i+s},"")}var Rs=t=>t===0?0:t>0?1:-1,Va=t=>typeof t=="number"&&t!=+t,Lu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Qe=t=>(typeof t=="number"||t instanceof Number)&&!Va(t),Fa=t=>Qe(t)||typeof t=="string",bse=0,Cp=t=>{var e=++bse;return"".concat(t||"").concat(e)},ic=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(e)&&typeof e!="string")return r;var s;if(Lu(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Va(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},PU=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Fn(t,e,n){return Qe(t)&&Qe(e)?Fl(t+n*(e-t)):e}function IU(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Eb(r,e))===n)}var dr=t=>t===null||typeof t>"u",pg=t=>dr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Ta(t){return t!=null}function Ju(){}var wse=["type","size","sizeType"];function UN(){return UN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UN.apply(null,arguments)}function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){_se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _se(t,e,n){return(e=Ese(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ese(t){var e=Sse(t,"string");return typeof e=="symbol"?e:e+""}function Sse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nse(t,e){if(t==null)return{};var n,r,i=Tse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var jU={symbolCircle:MA,symbolCross:zie,symbolDiamond:$ie,symbolSquare:qie,symbolStar:Gie,symbolTriangle:Xie,symbolWye:Qie},Cse=Math.PI/180,Ase=t=>{var e="symbol".concat(pg(t));return jU[e]||MA},Pse=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Cse;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ise=(t,e)=>{jU["symbol".concat(pg(t))]=e},kU=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Nse(t,wse),s=VD(VD({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var p=Ase(a),y=Jie().type(p).size(Pse(n,r,a)),x=y();if(x!==null)return x},{className:c,cx:d,cy:f}=s,m=Ur(s);return Qe(d)&&Qe(f)&&Qe(n)?E.createElement("path",UN({},m,{className:Xt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:o()})):null};kU.registerSymbol=Ise;var RU=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,BA=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(E.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{RA(i)&&(r[i]=(s=>n[i](n,s)))}),r},jse=(t,e,n)=>r=>(t(e,n,r),null),kse=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];RA(i)&&typeof s=="function"&&(r||(r={}),r[i]=jse(s,e,n))}),r};function FD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FD(Object(n),!0).forEach(function(r){Dse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dse(t,e,n){return(e=Ose(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ose(t){var e=Mse(t,"string");return typeof e=="symbol"?e:e+""}function Mse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bi(t,e){var n=Rse({},t),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return s}var b_={},w_={},BD;function Lse(){return BD||(BD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],o=r(a,s,n);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(w_)),w_}var __={},zD;function Vse(){return zD||(zD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(__)),__}var E_={},UD;function DU(){return UD||(UD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(E_)),E_}var S_={},N_={},T_={},$D;function Fse(){return $D||($D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(T_)),T_}var qD;function zA(){return qD||(qD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fse();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(N_)),N_}var C_={},HD;function Bse(){return HD||(HD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(C_)),C_}var WD;function zse(){return WD||(WD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zA(),n=Bse();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(S_)),S_}var A_={},P_={},KD;function Use(){return KD||(KD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FA();function n(r){return function(i){return e.get(i,r)}}t.property=n})(P_)),P_}var I_={},j_={},k_={},R_={},GD;function OU(){return GD||(GD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(R_)),R_}var D_={},XD;function MU(){return XD||(XD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(D_)),D_}var O_={},YD;function LU(){return YD||(YD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(O_)),O_}var QD;function $se(){return QD||(QD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=OU(),n=MU(),r=LU();function i(f,m,p){return typeof p!="function"?i(f,m,()=>{}):s(f,m,function y(x,b,_,S,O,R){const z=p(x,b,_,S,O,R);return z!==void 0?!!z:s(x,b,y,R)},new Map)}function s(f,m,p,y){if(m===f)return!0;switch(typeof m){case"object":return a(f,m,p,y);case"function":return Object.keys(m).length>0?s(f,{...m},p,y):r.isEqualsSameValueZero(f,m);default:return e.isObject(f)?typeof m=="string"?m==="":!0:r.isEqualsSameValueZero(f,m)}}function a(f,m,p,y){if(m==null)return!0;if(Array.isArray(m))return c(f,m,p,y);if(m instanceof Map)return o(f,m,p,y);if(m instanceof Set)return d(f,m,p,y);const x=Object.keys(m);if(f==null||n.isPrimitive(f))return x.length===0;if(x.length===0)return!0;if(y?.has(m))return y.get(m)===f;y?.set(m,f);try{for(let b=0;b<x.length;b++){const _=x[b];if(!n.isPrimitive(f)&&!(_ in f)||m[_]===void 0&&f[_]!==void 0||m[_]===null&&f[_]!==null||!p(f[_],m[_],_,f,m,y))return!1}return!0}finally{y?.delete(m)}}function o(f,m,p,y){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,b]of m.entries()){const _=f.get(x);if(p(_,b,x,f,m,y)===!1)return!1}return!0}function c(f,m,p,y){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let b=0;b<m.length;b++){const _=m[b];let S=!1;for(let O=0;O<f.length;O++){if(x.has(O))continue;const R=f[O];let z=!1;if(p(R,_,b,f,m,y)&&(z=!0),z){x.add(O),S=!0;break}}if(!S)return!1}return!0}function d(f,m,p,y){return m.size===0?!0:f instanceof Set?c([...f],[...m],p,y):!1}t.isMatchWith=i,t.isSetMatch=d})(k_)),k_}var JD;function VU(){return JD||(JD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$se();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(j_)),j_}var M_={},L_={},V_={},ZD;function qse(){return ZD||(ZD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(V_)),V_}var F_={},e5;function UA(){return e5||(e5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(F_)),F_}var B_={},t5;function FU(){return t5||(t5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",m="[object Function]",p="[object ArrayBuffer]",y="[object Object]",x="[object Error]",b="[object DataView]",_="[object Uint8Array]",S="[object Uint8ClampedArray]",O="[object Uint16Array]",R="[object Uint32Array]",z="[object BigUint64Array]",P="[object Int8Array]",A="[object Int16Array]",N="[object Int32Array]",T="[object BigInt64Array]",I="[object Float32Array]",j="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=p,t.arrayTag=f,t.bigInt64ArrayTag=T,t.bigUint64ArrayTag=z,t.booleanTag=i,t.dataViewTag=b,t.dateTag=o,t.errorTag=x,t.float32ArrayTag=I,t.float64ArrayTag=j,t.functionTag=m,t.int16ArrayTag=A,t.int32ArrayTag=N,t.int8ArrayTag=P,t.mapTag=c,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=O,t.uint32ArrayTag=R,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=S})(B_)),B_}var z_={},n5;function Hse(){return n5||(n5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(z_)),z_}var r5;function BU(){return r5||(r5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qse(),n=UA(),r=FU(),i=MU(),s=Hse();function a(f,m){return o(f,void 0,f,new Map,m)}function o(f,m,p,y=new Map,x=void 0){const b=x?.(f,m,p,y);if(b!==void 0)return b;if(i.isPrimitive(f))return f;if(y.has(f))return y.get(f);if(Array.isArray(f)){const _=new Array(f.length);y.set(f,_);for(let S=0;S<f.length;S++)_[S]=o(f[S],S,p,y,x);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;y.set(f,_);for(const[S,O]of f)_.set(S,o(O,S,p,y,x));return _}if(f instanceof Set){const _=new Set;y.set(f,_);for(const S of f)_.add(o(S,void 0,p,y,x));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);y.set(f,_);for(let S=0;S<f.length;S++)_[S]=o(f[S],S,p,y,x);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return y.set(f,_),c(_,f,p,y,x),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return y.set(f,_),c(_,f,p,y,x),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return y.set(f,_),c(_,f,p,y,x),_}if(f instanceof Error){const _=new f.constructor;return y.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,c(_,f,p,y,x),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return y.set(f,_),c(_,f,p,y,x),_}if(f instanceof Number){const _=new Number(f.valueOf());return y.set(f,_),c(_,f,p,y,x),_}if(f instanceof String){const _=new String(f.valueOf());return y.set(f,_),c(_,f,p,y,x),_}if(typeof f=="object"&&d(f)){const _=Object.create(Object.getPrototypeOf(f));return y.set(f,_),c(_,f,p,y,x),_}return f}function c(f,m,p=f,y,x){const b=[...Object.keys(m),...e.getSymbols(m)];for(let _=0;_<b.length;_++){const S=b[_],O=Object.getOwnPropertyDescriptor(f,S);(O==null||O.writable)&&(f[S]=o(m[S],S,p,y,x))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=c})(L_)),L_}var i5;function Wse(){return i5||(i5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BU();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(M_)),M_}var s5;function Kse(){return s5||(s5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VU(),n=Wse();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(I_)),I_}var U_={},$_={},q_={},a5;function Gse(){return a5||(a5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BU(),n=UA(),r=FU();function i(s,a){return e.cloneDeepWith(s,(o,c,d,f)=>{const m=a?.(o,c,d,f);if(m!==void 0)return m;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const p={};return f.set(s,p),e.copyProperties(p,s,d,f),p}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new s.constructor(s?.valueOf());return e.copyProperties(p,s),p}case r.argumentsTag:{const p={};return e.copyProperties(p,s),p.length=s.length,p[Symbol.iterator]=s[Symbol.iterator],p}default:return}}})}t.cloneDeepWith=i})(q_)),q_}var o5;function Xse(){return o5||(o5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gse();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})($_)),$_}var H_={},W_={},l5;function zU(){return l5||(l5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(W_)),W_}var K_={},c5;function Yse(){return c5||(c5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UA();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(K_)),K_}var u5;function Qse(){return u5||(u5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=AU(),n=zU(),r=Yse(),i=VA();function s(a,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&e.isDeepKey(o)&&a?.[o]==null?c=i.toPath(o):c=[o],c.length===0)return!1;let d=a;for(let f=0;f<c.length;f++){const m=c[f];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=s})(H_)),H_}var d5;function Jse(){return d5||(d5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VU(),n=LA(),r=Xse(),i=FA(),s=Qse();function a(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return c=r.cloneDeep(c),function(d){const f=i.get(d,o);return f===void 0?s.has(d,o):c===void 0?f===void 0:e.isMatch(f,c)}}t.matchesProperty=a})(U_)),U_}var f5;function Zse(){return f5||(f5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DU(),n=Use(),r=Kse(),i=Jse();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(A_)),A_}var h5;function eae(){return h5||(h5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lse(),n=Vse(),r=DU(),i=zse(),s=Zse();function a(o,c=r.identity){return i.isArrayLikeObject(o)?e.uniqBy(Array.from(o),n.ary(s.iteratee(c),1)):[]}t.uniqBy=a})(b_)),b_}var G_,m5;function tae(){return m5||(m5=1,G_=eae().uniqBy),G_}var nae=tae();const p5=vi(nae);function rae(t,e,n){return e===!0?p5(t,n):typeof e=="function"?p5(t,e):t}var X_={exports:{}},Y_={},Q_={exports:{}},J_={};var g5;function iae(){if(g5)return J_;g5=1;var t=Jr();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(m,p){var y=p(),x=r({inst:{value:y,getSnapshot:p}}),b=x[0].inst,_=x[1];return s(function(){b.value=y,b.getSnapshot=p,c(b)&&_({inst:b})},[m,y,p]),i(function(){return c(b)&&_({inst:b}),m(function(){c(b)&&_({inst:b})})},[m]),a(y),y}function c(m){var p=m.getSnapshot;m=m.value;try{var y=p();return!n(m,y)}catch{return!0}}function d(m,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return J_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,J_}var y5;function sae(){return y5||(y5=1,Q_.exports=iae()),Q_.exports}var v5;function aae(){if(v5)return Y_;v5=1;var t=Jr(),e=sae();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,o=t.useMemo,c=t.useDebugValue;return Y_.useSyncExternalStoreWithSelector=function(d,f,m,p,y){var x=s(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=o(function(){function S(A){if(!O){if(O=!0,R=A,A=p(A),y!==void 0&&b.hasValue){var N=b.value;if(y(N,A))return z=N}return z=A}if(N=z,r(R,A))return N;var T=p(A);return y!==void 0&&y(N,T)?(R=A,N):(R=A,z=T)}var O=!1,R,z,P=m===void 0?null:m;return[function(){return S(f())},P===null?void 0:function(){return S(P())}]},[f,m,p,y]);var _=i(d,x[0],x[1]);return a(function(){b.hasValue=!0,b.value=_},[_]),c(_),_},Y_}var x5;function oae(){return x5||(x5=1,X_.exports=aae()),X_.exports}var lae=oae(),$A=E.createContext(null),cae=t=>t,Tr=()=>{var t=E.useContext($A);return t?t.store.dispatch:cae},Wv=()=>{},uae=()=>Wv,dae=(t,e)=>t===e;function ft(t){var e=E.useContext($A),n=E.useMemo(()=>e?r=>{if(r!=null)return t(r)}:Wv,[e,t]);return lae.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:uae,e?e.store.getState:Wv,e?e.store.getState:Wv,n,dae)}function fae(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function hae(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function mae(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var b5=t=>Array.isArray(t)?t:[t];function pae(t){const e=Array.isArray(t[0])?t[0]:t;return mae(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function gae(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var yae=class{constructor(t){this.value=t}deref(){return this.value}},vae=typeof WeakRef<"u"?WeakRef:yae,xae=0,w5=1;function av(){return{s:xae,v:void 0,o:null,p:null}}function UU(t,e={}){let n=av();const{resultEqualityCheck:r}=e;let i,s=0;function a(){let o=n;const{length:c}=arguments;for(let m=0,p=c;m<p;m++){const y=arguments[m];if(typeof y=="function"||typeof y=="object"&&y!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const b=x.get(y);b===void 0?(o=av(),x.set(y,o)):o=b}else{let x=o.p;x===null&&(o.p=x=new Map);const b=x.get(y);b===void 0?(o=av(),x.set(y,o)):o=b}}const d=o;let f;if(o.s===w5)f=o.v;else if(f=t.apply(null,arguments),s++,r){const m=i?.deref?.()??i;m!=null&&r(m,f)&&(f=m,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new vae(f):f}return d.s=w5,d.v=f,f}return a.clearCache=()=>{n=av(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function bae(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,o,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),fae(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...c},{memoize:m,memoizeOptions:p=[],argsMemoize:y=UU,argsMemoizeOptions:x=[]}=f,b=b5(p),_=b5(x),S=pae(i),O=m(function(){return s++,d.apply(null,arguments)},...b),R=y(function(){a++;const P=gae(S,arguments);return o=O.apply(null,P),o},..._);return Object.assign(R,{resultFunc:d,memoizedResultFunc:O,dependencies:S,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var ye=bae(UU),wae=Object.assign((t,e=ye)=>{hae(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,o,c)=>(a[n[c]]=o,a),{}))},{withTypes:()=>wae}),Z_={},eE={},tE={},_5;function _ae(){return _5||(_5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=n})(tE)),tE}var nE={},rE={},E5;function $U(){return E5||(E5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(rE)),rE}var S5;function Eae(){return S5||(S5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$U(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(nE)),nE}var N5;function Sae(){return N5||(N5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_ae(),n=Eae(),r=VA();function i(s,a,o,c){if(s==null)return[];o=c?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(y=>String(y));const d=(y,x)=>{let b=y;for(let _=0;_<x.length&&b!=null;++_)b=b[x[_]];return b},f=(y,x)=>x==null||y==null?x:typeof y=="object"&&"key"in y?Object.hasOwn(x,y.key)?x[y.key]:d(x,y.path):typeof y=="function"?y(x):Array.isArray(y)?d(x,y):typeof x=="object"?x[y]:x,m=a.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return s.map(y=>({original:y,criteria:m.map(x=>f(x,y))})).slice().sort((y,x)=>{for(let b=0;b<m.length;b++){const _=e.compareValues(y.criteria[b],x.criteria[b],o[b]);if(_!==0)return _}return 0}).map(y=>y.original)}t.orderBy=i})(eE)),eE}var iE={},T5;function Nae(){return T5||(T5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(o,c)=>{for(let d=0;d<o.length;d++){const f=o[d];Array.isArray(f)&&c<s?a(f,c+1):i.push(f)}};return a(n,0),i}t.flatten=e})(iE)),iE}var sE={},C5;function qU(){return C5||(C5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zU(),n=zA(),r=OU(),i=LU();function s(a,o,c){return r.isObject(c)&&(typeof o=="number"&&n.isArrayLike(c)&&e.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.isEqualsSameValueZero(c[o],a):!1}t.isIterateeCall=s})(sE)),sE}var A5;function Tae(){return A5||(A5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sae(),n=Nae(),r=qU();function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(Z_)),Z_}var aE,P5;function Cae(){return P5||(P5=1,aE=Tae().sortBy),aE}var Aae=Cae();const Sb=vi(Aae);var HU=t=>t.legend.settings,Pae=t=>t.legend.size,Iae=t=>t.legend.payload;ye([Iae,HU],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Sb(r,n):r});var ov=1;function jae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=E.useState({height:0,left:0,top:0,width:0}),r=E.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>ov||Math.abs(a.left-e.left)>ov||Math.abs(a.top-e.top)>ov||Math.abs(a.width-e.width)>ov)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function br(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var kae=typeof Symbol=="function"&&Symbol.observable||"@@observable",I5=kae,oE=()=>Math.random().toString(36).substring(7).split("").join("."),Rae={INIT:`@@redux/INIT${oE()}`,REPLACE:`@@redux/REPLACE${oE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${oE()}`},z0=Rae;function qA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function WU(t,e,n){if(typeof t!="function")throw new Error(br(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(br(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(br(1));return n(WU)(t,e)}let r=t,i=e,s=new Map,a=s,o=0,c=!1;function d(){a===s&&(a=new Map,s.forEach((_,S)=>{a.set(S,_)}))}function f(){if(c)throw new Error(br(3));return i}function m(_){if(typeof _!="function")throw new Error(br(4));if(c)throw new Error(br(5));let S=!0;d();const O=o++;return a.set(O,_),function(){if(S){if(c)throw new Error(br(6));S=!1,d(),a.delete(O),s=null}}}function p(_){if(!qA(_))throw new Error(br(7));if(typeof _.type>"u")throw new Error(br(8));if(typeof _.type!="string")throw new Error(br(17));if(c)throw new Error(br(9));try{c=!0,i=r(i,_)}finally{c=!1}return(s=a).forEach(O=>{O()}),_}function y(_){if(typeof _!="function")throw new Error(br(10));r=_,p({type:z0.REPLACE})}function x(){const _=m;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(br(11));function O(){const z=S;z.next&&z.next(f())}return O(),{unsubscribe:_(O)}},[I5](){return this}}}return p({type:z0.INIT}),{dispatch:p,subscribe:m,getState:f,replaceReducer:y,[I5]:x}}function Dae(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:z0.INIT})>"u")throw new Error(br(12));if(typeof n(void 0,{type:z0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(br(13))})}function KU(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{Dae(n)}catch(s){i=s}return function(a={},o){if(i)throw i;let c=!1;const d={};for(let f=0;f<r.length;f++){const m=r[f],p=n[m],y=a[m],x=p(y,o);if(typeof x>"u")throw o&&o.type,new Error(br(14));d[m]=x,c=c||x!==y}return c=c||r.length!==Object.keys(a).length,c?d:a}}function U0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Oae(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(br(15))};const a={getState:i.getState,dispatch:(c,...d)=>s(c,...d)},o=t.map(c=>c(a));return s=U0(...o)(i.dispatch),{...i,dispatch:s}}}function GU(t){return qA(t)&&"type"in t&&typeof t.type=="string"}var XU=Symbol.for("immer-nothing"),j5=Symbol.for("immer-draftable"),Qr=Symbol.for("immer-state");function As(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mi=Object,Xf=Mi.getPrototypeOf,$0="constructor",Nb="prototype",$N="configurable",q0="enumerable",Kv="writable",Ap="value",Po=t=>!!t&&!!t[Qr];function Us(t){return t?YU(t)||Cb(t)||!!t[j5]||!!t[$0]?.[j5]||Ab(t)||Pb(t):!1}var Mae=Mi[Nb][$0].toString(),k5=new WeakMap;function YU(t){if(!t||!HA(t))return!1;const e=Xf(t);if(e===null||e===Mi[Nb])return!0;const n=Mi.hasOwnProperty.call(e,$0)&&e[$0];if(n===Object)return!0;if(!nf(n))return!1;let r=k5.get(n);return r===void 0&&(r=Function.toString.call(n),k5.set(n,r)),r===Mae}function Tb(t,e,n=!0){gg(t)===0?(n?Reflect.ownKeys(t):Mi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function gg(t){const e=t[Qr];return e?e.type_:Cb(t)?1:Ab(t)?2:Pb(t)?3:0}var R5=(t,e,n=gg(t))=>n===2?t.has(e):Mi[Nb].hasOwnProperty.call(t,e),qN=(t,e,n=gg(t))=>n===2?t.get(e):t[e],H0=(t,e,n,r=gg(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Lae(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Cb=Array.isArray,Ab=t=>t instanceof Map,Pb=t=>t instanceof Set,HA=t=>typeof t=="object",nf=t=>typeof t=="function",lE=t=>typeof t=="boolean";function Vae(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var co=t=>t.copy_||t.base_,WA=t=>t.modified_?t.copy_:t.base_;function HN(t,e){if(Ab(t))return new Map(t);if(Pb(t))return new Set(t);if(Cb(t))return Array[Nb].slice.call(t);const n=YU(t);if(e===!0||e==="class_only"&&!n){const r=Mi.getOwnPropertyDescriptors(t);delete r[Qr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o[Kv]===!1&&(o[Kv]=!0,o[$N]=!0),(o.get||o.set)&&(r[a]={[$N]:!0,[Kv]:!0,[q0]:o[q0],[Ap]:t[a]})}return Mi.create(Xf(t),r)}else{const r=Xf(t);if(r!==null&&n)return{...t};const i=Mi.create(r);return Mi.assign(i,t)}}function KA(t,e=!1){return Ib(t)||Po(t)||!Us(t)||(gg(t)>1&&Mi.defineProperties(t,{set:lv,add:lv,clear:lv,delete:lv}),Mi.freeze(t),e&&Tb(t,(n,r)=>{KA(r,!0)},!1)),t}function Fae(){As(2)}var lv={[Ap]:Fae};function Ib(t){return t===null||!HA(t)?!0:Mi.isFrozen(t)}var W0="MapSet",WN="Patches",D5="ArrayMethods",QU={};function Vu(t){const e=QU[t];return e||As(0,t),e}var O5=t=>!!QU[t],Pp,JU=()=>Pp,Bae=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:O5(W0)?Vu(W0):void 0,arrayMethodsPlugin_:O5(D5)?Vu(D5):void 0});function M5(t,e){e&&(t.patchPlugin_=Vu(WN),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function KN(t){GN(t),t.drafts_.forEach(zae),t.drafts_=null}function GN(t){t===Pp&&(Pp=t.parent_)}var L5=t=>Pp=Bae(Pp,t);function zae(t){const e=t[Qr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function V5(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Qr].modified_&&(KN(e),As(4)),Us(t)&&(t=F5(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Qr].base_,t,e)}else t=F5(e,n);return Uae(e,t,!0),KN(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==XU?t:void 0}function F5(t,e){if(Ib(e))return e;const n=e[Qr];if(!n)return K0(e,t.handledSet_,t);if(!jb(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);t$(n,t)}return n.copy_}function Uae(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&KA(e,n)}function ZU(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var jb=(t,e)=>t.scope_===e,$ae=[];function e$(t,e,n,r){const i=co(t),s=t.type_;if(r!==void 0&&qN(i,r,s)===e){H0(i,r,n,s);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;Tb(i,(c,d)=>{if(Po(d)){const f=o.get(d)||[];f.push(c),o.set(d,f)}})}const a=t.draftLocations_.get(e)??$ae;for(const o of a)H0(i,o,n,s)}function qae(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!jb(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const a=WA(s);e$(t,s.draft_??s,a,n),t$(s,i)})}function t$(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}ZU(t)}}function Hae(t,e,n){const{scope_:r}=t;if(Po(n)){const i=n[Qr];jb(i,r)&&i.callbacks_.push(function(){Gv(t);const a=WA(i);e$(t,n,a,e)})}else Us(n)&&t.callbacks_.push(function(){const s=co(t);t.type_===3?s.has(n)&&K0(n,r.handledSet_,r):qN(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&K0(qN(t.copy_,e,t.type_),r.handledSet_,r)})}function K0(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Po(t)||e.has(t)||!Us(t)||Ib(t)||(e.add(t),Tb(t,(r,i)=>{if(Po(i)){const s=i[Qr];if(jb(s,n)){const a=WA(s);H0(t,r,a,t.type_),ZU(s)}}else Us(i)&&K0(i,e,n)})),t}function Wae(t,e){const n=Cb(t),r={type_:n?1:0,scope_:e?e.scope_:JU(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=G0;n&&(i=[r],s=Ip);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,[o,r]}var G0={get(t,e){if(e===Qr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=co(t);if(!R5(i,e,t.type_))return Kae(t,i,e);const s=i[e];if(t.finalized_||!Us(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Vae(e))return s;if(s===cE(t.base_,e)){Gv(t);const a=t.type_===1?+e:e,o=YN(t.scope_,s,t,a);return t.copy_[a]=o}return s},has(t,e){return e in co(t)},ownKeys(t){return Reflect.ownKeys(co(t))},set(t,e,n){const r=n$(co(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=cE(co(t),e),s=i?.[Qr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Lae(n,i)&&(n!==void 0||R5(t.base_,e,t.type_)))return!0;Gv(t),XN(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Hae(t,e,n)),!0},deleteProperty(t,e){return Gv(t),cE(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),XN(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=co(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Kv]:!0,[$N]:t.type_!==1||e!=="length",[q0]:r[q0],[Ap]:n[e]}},defineProperty(){As(11)},getPrototypeOf(t){return Xf(t.base_)},setPrototypeOf(){As(12)}},Ip={};for(let t in G0){let e=G0[t];Ip[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Ip.deleteProperty=function(t,e){return Ip.set.call(this,t,e,void 0)};Ip.set=function(t,e,n){return G0.set.call(this,t[0],e,n,t[0])};function cE(t,e){const n=t[Qr];return(n?co(n):t)[e]}function Kae(t,e,n){const r=n$(e,n);return r?Ap in r?r[Ap]:r.get?.call(t.draft_):void 0}function n$(t,e){if(!(e in t))return;let n=Xf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Xf(n)}}function XN(t){t.modified_||(t.modified_=!0,t.parent_&&XN(t.parent_))}function Gv(t){t.copy_||(t.assigned_=new Map,t.copy_=HN(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Gae=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(nf(n)&&!nf(r)){const a=r;r=n;const o=this;return function(d=a,...f){return o.produce(d,m=>r.call(this,m,...f))}}nf(r)||As(6),i!==void 0&&!nf(i)&&As(7);let s;if(Us(n)){const a=L5(this),o=YN(a,n,void 0);let c=!0;try{s=r(o),c=!1}finally{c?KN(a):GN(a)}return M5(a,i),V5(s,a)}else if(!n||!HA(n)){if(s=r(n),s===void 0&&(s=n),s===XU&&(s=void 0),this.autoFreeze_&&KA(s,!0),i){const a=[],o=[];Vu(WN).generateReplacementPatches_(n,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else As(1,n)},this.produceWithPatches=(n,r)=>{if(nf(n))return(o,...c)=>this.produceWithPatches(o,d=>n(d,...c));let i,s;return[this.produce(n,r,(o,c)=>{i=o,s=c}),i,s]},lE(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),lE(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),lE(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Us(e)||As(8),Po(e)&&(e=Ls(e));const n=L5(this),r=YN(n,e,void 0);return r[Qr].isManual_=!0,GN(n),r}finishDraft(e,n){const r=e&&e[Qr];(!r||!r.isManual_)&&As(9);const{scope_:i}=r;return M5(i,n),V5(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Vu(WN).applyPatches_;return Po(e)?i(e,n):this.produce(e,s=>i(s,n))}};function YN(t,e,n,r){const[i,s]=Ab(e)?Vu(W0).proxyMap_(e,n):Pb(e)?Vu(W0).proxySet_(e,n):Wae(e,n);return(n?.scope_??JU()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?qae(n,s,r):s.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:d}=c;s.modified_&&d&&d.generatePatches_(s,[],c)}),i}function Ls(t){return Po(t)||As(10,t),r$(t)}function r$(t){if(!Us(t)||Ib(t))return t;const e=t[Qr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=HN(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=HN(t,!0);return Tb(n,(i,s)=>{H0(n,i,r$(s))},r),e&&(e.finalized_=!1),n}var Xae=new Gae,i$=Xae.produce;function s$(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Yae=s$(),Qae=s$,Jae=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?U0:U0.apply(null,arguments)};function us(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Fi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>GU(r)&&r.type===t,n}var a$=class $m extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,$m.prototype)}static get[Symbol.species](){return $m}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new $m(...e[0].concat(this)):new $m(...e.concat(this))}};function B5(t){return Us(t)?i$(t,()=>{}):t}function cv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Zae(t){return typeof t=="boolean"}var eoe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new a$;return n&&(Zae(n)?a.push(Yae):a.push(Qae(n.extraArgument))),a},o$="RTK_autoBatch",dn=()=>t=>({payload:t,meta:{[o$]:!0}}),z5=t=>e=>{setTimeout(e,t)},l$=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const o=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:z5(10):t.type==="callback"?t.queueNotification:z5(t.timeout),d=()=>{a=!1,s&&(s=!1,o.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const m=()=>i&&f(),p=r.subscribe(m);return o.add(f),()=>{p(),o.delete(f)}},dispatch(f){try{return i=!f?.meta?.[o$],s=!i,s&&(a||(a=!0,c(d))),r.dispatch(f)}finally{i=!0}}})},toe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new a$(t);return r&&i.push(l$(typeof r=="object"?r:void 0)),i};function noe(t){const e=eoe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(qA(n))o=KU(n);else throw new Error(Fi(1));let c;typeof r=="function"?c=r(e):c=e();let d=U0;i&&(d=Jae({trace:!1,...typeof i=="object"&&i}));const f=Oae(...c),m=toe(f);let p=typeof a=="function"?a(m):m();const y=d(...p);return WU(o,s,y)}function c$(t){const e={},n=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Fi(28));if(o in e)throw new Error(Fi(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function roe(t){return typeof t=="function"}function ioe(t,e){let[n,r,i]=c$(e),s;if(roe(t))s=()=>B5(t());else{const o=B5(t);s=()=>o}function a(o=s(),c){let d=[n[c.type],...r.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,m)=>{if(m)if(Po(f)){const y=m(f,c);return y===void 0?f:y}else{if(Us(f))return i$(f,p=>m(p,c));{const p=m(f,c);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},o)}return a.getInitialState=s,a}var soe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",aoe=(t=21)=>{let e="",n=t;for(;n--;)e+=soe[Math.random()*64|0];return e},ooe=Symbol.for("rtk-slice-createasyncthunk");function loe(t,e){return`${t}/${e}`}function coe({creators:t}={}){const e=t?.asyncThunk?.[ooe];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Fi(11));const a=(typeof r.reducers=="function"?r.reducers(doe()):r.reducers)||{},o=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,z){const P=typeof R=="string"?R:R.type;if(!P)throw new Error(Fi(12));if(P in c.sliceCaseReducersByType)throw new Error(Fi(13));return c.sliceCaseReducersByType[P]=z,d},addMatcher(R,z){return c.sliceMatchers.push({matcher:R,reducer:z}),d},exposeAction(R,z){return c.actionCreators[R]=z,d},exposeCaseReducer(R,z){return c.sliceCaseReducersByName[R]=z,d}};o.forEach(R=>{const z=a[R],P={reducerName:R,type:loe(i,R),createNotation:typeof r.reducers=="function"};hoe(z)?poe(P,z,d,e):foe(P,z,d)});function f(){const[R={},z=[],P=void 0]=typeof r.extraReducers=="function"?c$(r.extraReducers):[r.extraReducers],A={...R,...c.sliceCaseReducersByType};return ioe(r.initialState,N=>{for(let T in A)N.addCase(T,A[T]);for(let T of c.sliceMatchers)N.addMatcher(T.matcher,T.reducer);for(let T of z)N.addMatcher(T.matcher,T.reducer);P&&N.addDefaultCase(P)})}const m=R=>R,p=new Map,y=new WeakMap;let x;function b(R,z){return x||(x=f()),x(R,z)}function _(){return x||(x=f()),x.getInitialState()}function S(R,z=!1){function P(N){let T=N[R];return typeof T>"u"&&z&&(T=cv(y,P,_)),T}function A(N=m){const T=cv(p,z,()=>new WeakMap);return cv(T,N,()=>{const I={};for(const[j,D]of Object.entries(r.selectors??{}))I[j]=uoe(D,N,()=>cv(y,N,_),z);return I})}return{reducerPath:R,getSelectors:A,get selectors(){return A(P)},selectSlice:P}}const O={name:i,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:_,...S(s),injectInto(R,{reducerPath:z,...P}={}){const A=z??s;return R.inject({reducerPath:A,reducer:b},P),{...O,...S(A,!0)}}};return O}}function uoe(t,e,n,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=n()),t(o,...a)}return i.unwrapped=t,i}var wi=coe();function doe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function foe({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!moe(r))throw new Error(Fi(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?us(t,a):us(t))}function hoe(t){return t._reducerDefinitionType==="asyncThunk"}function moe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function poe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Fi(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:c,settled:d,options:f}=n,m=i(t,s,f);r.exposeAction(e,m),a&&r.addCase(m.fulfilled,a),o&&r.addCase(m.pending,o),c&&r.addCase(m.rejected,c),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:a||uv,pending:o||uv,rejected:c||uv,settled:d||uv})}function uv(){}var goe="task",u$="listener",d$="completed",GA="cancelled",yoe=`task-${GA}`,voe=`task-${d$}`,QN=`${u$}-${GA}`,xoe=`${u$}-${d$}`,kb=class{constructor(t){this.code=t,this.message=`${goe} ${GA} (reason: ${t})`}name="TaskAbortError";message},XA=(t,e)=>{if(typeof t!="function")throw new TypeError(Fi(32))},X0=()=>{},f$=(t,e=X0)=>(t.catch(e),t),h$=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),gu=t=>{if(t.aborted)throw new kb(t.reason)};function m$(t,e){let n=X0;return new Promise((r,i)=>{const s=()=>i(new kb(t.reason));if(t.aborted){s();return}n=h$(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=X0})}var boe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof kb?"cancelled":"rejected",error:n}}finally{e?.()}},Y0=t=>e=>f$(m$(t,e).then(n=>(gu(t),n))),p$=t=>{const e=Y0(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:wf}=Object,U5={},Rb="listenerMiddleware",woe=(t,e)=>{const n=r=>h$(t,()=>r.abort(t.reason));return(r,i)=>{XA(r);const s=new AbortController;n(s);const a=boe(async()=>{gu(t),gu(s.signal);const o=await r({pause:Y0(s.signal),delay:p$(s.signal),signal:s.signal});return gu(s.signal),o},()=>s.abort(voe));return i?.autoJoin&&e.push(a.catch(X0)),{result:Y0(t)(a),cancel(){s.abort(yoe)}}}},_oe=(t,e)=>{const n=async(r,i)=>{gu(e);let s=()=>{};const o=[new Promise((c,d)=>{let f=t({predicate:r,effect:(m,p)=>{p.unsubscribe(),c([m,p.getState(),p.getOriginalState()])}});s=()=>{f(),d()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await m$(e,Promise.race(o));return gu(e),c}finally{s()}};return(r,i)=>f$(n(r,i))},g$=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=us(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Fi(21));return XA(s),{predicate:i,type:e,effect:s}},y$=wf(t=>{const{type:e,predicate:n,effect:r}=g$(t);return{id:aoe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Fi(22))}}},{withTypes:()=>y$}),$5=(t,e)=>{const{type:n,effect:r,predicate:i}=g$(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},JN=t=>{t.pending.forEach(e=>{e.abort(QN)})},Eoe=(t,e)=>()=>{for(const n of e.keys())JN(n);t.clear()},q5=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},v$=wf(us(`${Rb}/add`),{withTypes:()=>v$}),Soe=us(`${Rb}/removeAll`),x$=wf(us(`${Rb}/remove`),{withTypes:()=>x$}),Noe=(...t)=>{console.error(`${Rb}/error`,...t)},yg=(t={})=>{const e=new Map,n=new Map,r=y=>{const x=n.get(y)??0;n.set(y,x+1)},i=y=>{const x=n.get(y)??1;x===1?n.delete(y):n.set(y,x-1)},{extra:s,onError:a=Noe}=t;XA(a);const o=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),x=>{y.unsubscribe(),x?.cancelActive&&JN(y)}),c=y=>{const x=$5(e,y)??y$(y);return o(x)};wf(c,{withTypes:()=>c});const d=y=>{const x=$5(e,y);return x&&(x.unsubscribe(),y.cancelActive&&JN(x)),!!x};wf(d,{withTypes:()=>d});const f=async(y,x,b,_)=>{const S=new AbortController,O=_oe(c,S.signal),R=[];try{y.pending.add(S),r(y),await Promise.resolve(y.effect(x,wf({},b,{getOriginalState:_,condition:(z,P)=>O(z,P).then(Boolean),take:O,delay:p$(S.signal),pause:Y0(S.signal),extra:s,signal:S.signal,fork:woe(S.signal,R),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((z,P,A)=>{z!==S&&(z.abort(QN),A.delete(z))})},cancel:()=>{S.abort(QN),y.pending.delete(S)},throwIfCancelled:()=>{gu(S.signal)}})))}catch(z){z instanceof kb||q5(a,z,{raisedBy:"effect"})}finally{await Promise.all(R),S.abort(xoe),i(y),y.pending.delete(S)}},m=Eoe(e,n);return{middleware:y=>x=>b=>{if(!GU(b))return x(b);if(v$.match(b))return c(b.payload);if(Soe.match(b)){m();return}if(x$.match(b))return d(b.payload);let _=y.getState();const S=()=>{if(_===U5)throw new Error(Fi(23));return _};let O;try{if(O=x(b),e.size>0){const R=y.getState(),z=Array.from(e.values());for(const P of z){let A=!1;try{A=P.predicate(b,R,_)}catch(N){A=!1,q5(a,N,{raisedBy:"predicate"})}A&&f(P,b,y,S)}}}finally{_=U5}return O},startListening:c,stopListening:d,clearListeners:m}};function Fi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Toe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},b$=wi({name:"chartLayout",initialState:Toe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Coe,setLayout:Aoe,setChartSize:Poe,setScale:Ioe}=b$.actions,joe=b$.reducer;function w$(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Ot(t){return Number.isFinite(t)}function sc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function H5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H5(Object(n),!0).forEach(function(r){koe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function koe(t,e,n){return(e=Roe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Roe(t){var e=Doe(t,"string");return typeof e=="symbol"?e:e+""}function Doe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kn(t,e,n){return dr(t)||dr(e)?n:Fa(e)?Eb(t,e,n):typeof e=="function"?e(t):n}var Ooe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&Qe(t[s]))return sf(sf({},t),{},{[s]:t[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&Qe(t[a]))return sf(sf({},t),{},{[a]:t[a]+(i||0)})}return t},Hs=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Moe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0,o=0;o<n;++o){var c=t[o],d=c?.[i];if(d!=null){var f=d[1],m=d[0],p=Va(f)?m:f;p>=0?(d[0]=s,s+=p,d[1]=s):(d[0]=a,a+=p,d[1]=a)}}}},Loe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0;a<n;++a){var o=t[a],c=o?.[i];if(c!=null){var d=Va(c[1])?c[0]:c[1];d>=0?(c[0]=s,s+=d,c[1]=s):(c[0]=0,c[1]=0)}}}},Voe={sign:Moe,expand:fse,none:Mu,silhouette:hse,wiggle:mse,positive:Loe},Foe=(t,e,n)=>{var r,i=(r=Voe[n])!==null&&r!==void 0?r:Mu,s=dse().keys(e).value((o,c)=>Number(Kn(o,c,0))).order(zN).offset(i),a=s(t);return a.forEach((o,c)=>{o.forEach((d,f)=>{var m=Kn(t[f],e[c],0);Array.isArray(m)&&m.length===2&&Qe(m[0])&&Qe(m[1])&&(d[0]=m[0],d[1]=m[1])})}),a};function Boe(t){return t==null?void 0:String(t)}function Q0(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!dr(i[e.dataKey])){var o=IU(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var c=Kn(i,dr(a)?e.dataKey:a),d=e.scale.map(c);return Qe(d)?d:null}var zoe=t=>{var e=t.flat(2).filter(Qe);return[Math.min(...e),Math.max(...e)]},Uoe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],$oe=(t,e,n)=>{if(t!=null)return Uoe(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:a}=s,o=a.reduce((c,d)=>{var f=w$(d,e,n),m=zoe(f);return!Ot(m[0])||!Ot(m[1])?c:[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},W5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,K5=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Yf=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Sb(e,f=>f.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var c=i[a],d=i[a-1];s=Math.min((c?.coordinate||0)-(d?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function G5(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return sf(sf({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Db(t,e){if(t)return String(t);if(typeof e=="string")return e}var qoe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Hoe=(t,e)=>e==="centric"?t.angle:t.radius,Uo=t=>t.layout.width,$o=t=>t.layout.height,Woe=t=>t.layout.scale,_$=t=>t.layout.margin,Ob=ye(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Mb=ye(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Koe="data-recharts-item-index",Goe="data-recharts-item-id",vg=60;function X5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(n),!0).forEach(function(r){Xoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xoe(t,e,n){return(e=Yoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yoe(t){var e=Qoe(t,"string");return typeof e=="symbol"?e:e+""}function Qoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Joe=t=>t.brush.height;function Zoe(t){var e=Mb(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:vg;return n+i}return n},0)}function ele(t){var e=Mb(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:vg;return n+i}return n},0)}function tle(t){var e=Ob(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function nle(t){var e=Ob(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Cr=ye([Uo,$o,_$,Joe,Zoe,ele,tle,nle,HU,Pae],(t,e,n,r,i,s,a,o,c,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+a,bottom:(n.bottom||0)+o},p=dv(dv({},m),f),y=p.bottom;p.bottom+=r,p=Ooe(p,c,d);var x=t-p.left-p.right,b=e-p.top-p.bottom;return dv(dv({brushBottom:y},p),{},{width:Math.max(x,0),height:Math.max(b,0)})}),rle=ye(Cr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),ile=ye(Uo,$o,(t,e)=>({x:0,y:0,width:t,height:e})),sle=E.createContext(null),_i=()=>E.useContext(sle)!=null,Lb=t=>t.brush,Vb=ye([Lb,Cr,_$],(t,e,n)=>({height:t.height,x:Qe(t.x)?t.x:e.left,y:Qe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Qe(t.width)?t.width:e.width})),uE={},dE={},fE={},Y5;function ale(){return Y5||(Y5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,o=null;const c=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),f=()=>{o!==null&&(n.apply(a,o),a=void 0,o=null)},m=()=>{d&&f(),b()};let p=null;const y=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},r)},x=()=>{p!==null&&(clearTimeout(p),p=null)},b=()=>{x(),a=void 0,o=null},_=()=>{f()},S=function(...O){if(i?.aborted)return;a=this,o=O;const R=p==null;y(),c&&R&&f()};return S.schedule=y,S.cancel=b,S.flush=_,i?.addEventListener("abort",b,{once:!0}),S}t.debounce=e})(fE)),fE}var Q5;function ole(){return Q5||(Q5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ale();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:c}=s,d=Array(2);a&&(d[0]="leading"),o&&(d[1]="trailing");let f,m=null;const p=e.debounce(function(...b){f=r.apply(this,b),m=null},i,{edges:d}),y=function(...b){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(f=r.apply(this,b),m=Date.now(),p.cancel(),p.schedule(),f):(p.apply(this,b),f)},x=()=>(p.flush(),f);return y.cancel=p.cancel,y.flush=x,y}t.debounce=n})(dE)),dE}var J5;function lle(){return J5||(J5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ole();function n(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:o})}t.throttle=n})(uE)),uE}var hE,Z5;function cle(){return Z5||(Z5=1,hE=lle().throttle),hE}var ule=cle();const dle=vi(ule);var eO=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},Ca={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},E$=(t,e,n)=>{var{width:r=Ca.width,height:i=Ca.height,aspect:s,maxHeight:a}=n,o=Lu(r)?t:Number(r),c=Lu(i)?e:Number(i);return s&&s>0&&(o?c=o/s:c&&(o=c*s),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:o,calculatedHeight:c}},fle={width:0,height:0,overflow:"visible"},hle={width:0,overflowX:"visible"},mle={height:0,overflowY:"visible"},ple={},gle=t=>{var{width:e,height:n}=t,r=Lu(e),i=Lu(n);return r&&i?fle:r?hle:i?mle:ple};function yle(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=Ca.width,s=Ca.height):i===void 0?i=r&&r>0?void 0:Ca.width:s===void 0&&(s=r&&r>0?void 0:Ca.height),{width:i,height:s}}function ZN(){return ZN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZN.apply(null,arguments)}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){vle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vle(t,e,n){return(e=xle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xle(t){var e=ble(t,"string");return typeof e=="symbol"?e:e+""}function ble(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S$=E.createContext(Ca.initialDimension);function wle(t){return sc(t.width)&&sc(t.height)}function N$(t){var{children:e,width:n,height:r}=t,i=E.useMemo(()=>({width:n,height:r}),[n,r]);return wle(i)?E.createElement(S$.Provider,{value:i},e):null}var YA=()=>E.useContext(S$),_le=E.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Ca.initialDimension,width:i,height:s,minWidth:a=Ca.minWidth,minHeight:o,maxHeight:c,children:d,debounce:f=Ca.debounce,id:m,className:p,onResize:y,style:x={}}=t,b=E.useRef(null),_=E.useRef();_.current=y,E.useImperativeHandle(e,()=>b.current);var[S,O]=E.useState({containerWidth:r.width,containerHeight:r.height}),R=E.useCallback((T,I)=>{O(j=>{var D=Math.round(T),F=Math.round(I);return j.containerWidth===D&&j.containerHeight===F?j:{containerWidth:D,containerHeight:F}})},[]);E.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return Ju;var T=F=>{var V,$=F[0];if($!=null){var{width:Z,height:J}=$.contentRect;R(Z,J),(V=_.current)===null||V===void 0||V.call(_,Z,J)}};f>0&&(T=dle(T,f,{trailing:!0,leading:!1}));var I=new ResizeObserver(T),{width:j,height:D}=b.current.getBoundingClientRect();return R(j,D),I.observe(b.current),()=>{I.disconnect()}},[R,f]);var{containerWidth:z,containerHeight:P}=S;eO(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:A,calculatedHeight:N}=E$(z,P,{width:i,height:s,aspect:n,maxHeight:c});return eO(A!=null&&A>0||N!=null&&N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,A,N,i,s,a,o,n),E.createElement("div",{id:m?"".concat(m):void 0,className:Xt("recharts-responsive-container",p),style:nO(nO({},x),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:c}),ref:b},E.createElement("div",{style:gle({width:i,height:s})},E.createElement(N$,{width:A,height:N},d)))}),T$=E.forwardRef((t,e)=>{var n=YA();if(sc(n.width)&&sc(n.height))return t.children;var{width:r,height:i}=yle({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=E$(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Qe(s)&&Qe(a)?E.createElement(N$,{width:s,height:a},t.children):E.createElement(_le,ZN({},t,{width:r,height:i,ref:e}))});function QA(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Fb=()=>{var t,e=_i(),n=ft(rle),r=ft(Vb),i=(t=ft(Lb))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Ele={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Sle=()=>{var t;return(t=ft(Cr))!==null&&t!==void 0?t:Ele},Nle=()=>ft(Uo),Tle=()=>ft($o),nn=t=>t.layout.layoutType,Zu=()=>ft(nn),C$=()=>{var t=Zu();if(t==="horizontal"||t==="vertical")return t},A$=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Cle=()=>{var t=Zu();return t!==void 0},xg=t=>{var e=Tr(),n=_i(),{width:r,height:i}=t,s=YA(),a=r,o=i;return s&&(a=s.width>0?s.width:r,o=s.height>0?s.height:i),E.useEffect(()=>{!n&&sc(a)&&sc(o)&&e(Poe({width:a,height:o}))},[e,n,a,o]),null},P$=Symbol.for("immer-nothing"),rO=Symbol.for("immer-draftable"),Ui=Symbol.for("immer-state");function Ps(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var jp=Object.getPrototypeOf;function Qf(t){return!!t&&!!t[Ui]}function Fu(t){return t?I$(t)||Array.isArray(t)||!!t[rO]||!!t.constructor?.[rO]||bg(t)||zb(t):!1}var Ale=Object.prototype.constructor.toString(),iO=new WeakMap;function I$(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=iO.get(n);return r===void 0&&(r=Function.toString.call(n),iO.set(n,r)),r===Ale}function J0(t,e,n=!0){Bb(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Bb(t){const e=t[Ui];return e?e.type_:Array.isArray(t)?1:bg(t)?2:zb(t)?3:0}function eT(t,e){return Bb(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function j$(t,e,n){const r=Bb(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function Ple(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function bg(t){return t instanceof Map}function zb(t){return t instanceof Set}function Qc(t){return t.copy_||t.base_}function tT(t,e){if(bg(t))return new Map(t);if(zb(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=I$(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ui];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(jp(t),r)}else{const r=jp(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function JA(t,e=!1){return Ub(t)||Qf(t)||!Fu(t)||(Bb(t)>1&&Object.defineProperties(t,{set:fv,add:fv,clear:fv,delete:fv}),Object.freeze(t),e&&Object.values(t).forEach(n=>JA(n,!0))),t}function Ile(){Ps(2)}var fv={value:Ile};function Ub(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var jle={};function Bu(t){const e=jle[t];return e||Ps(0,t),e}var kp;function k$(){return kp}function kle(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function sO(t,e){e&&(Bu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function nT(t){rT(t),t.drafts_.forEach(Rle),t.drafts_=null}function rT(t){t===kp&&(kp=t.parent_)}function aO(t){return kp=kle(kp,t)}function Rle(t){const e=t[Ui];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function oO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ui].modified_&&(nT(e),Ps(4)),Fu(t)&&(t=Z0(e,t),e.parent_||ex(e,t)),e.patches_&&Bu("Patches").generateReplacementPatches_(n[Ui].base_,t,e.patches_,e.inversePatches_)):t=Z0(e,n,[]),nT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==P$?t:void 0}function Z0(t,e,n){if(Ub(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Ui];if(!i)return J0(e,(s,a)=>lO(t,i,e,s,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return ex(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),J0(a,(c,d)=>lO(t,i,s,c,d,n,o),r),ex(t,s,!1),n&&t.patches_&&Bu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function lO(t,e,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=Ub(i);if(!(o&&!a)){if(Qf(i)){const c=s&&e&&e.type_!==3&&!eT(e.assigned_,r)?s.concat(r):void 0,d=Z0(t,i,c);if(j$(n,r,d),Qf(d))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Fu(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;Z0(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(bg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ex(t,i)}}}function ex(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&JA(e,n)}function Dle(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:k$(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=ZA;n&&(i=[r],s=Rp);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var ZA={get(t,e){if(e===Ui)return t;const n=Qc(t);if(!eT(n,e))return Ole(t,n,e);const r=n[e];return t.finalized_||!Fu(r)?r:r===mE(t.base_,e)?(pE(t),t.copy_[e]=sT(r,t)):r},has(t,e){return e in Qc(t)},ownKeys(t){return Reflect.ownKeys(Qc(t))},set(t,e,n){const r=R$(Qc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=mE(Qc(t),e),s=i?.[Ui];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(Ple(n,i)&&(n!==void 0||eT(t.base_,e)))return!0;pE(t),iT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return mE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,pE(t),iT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Qc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ps(11)},getPrototypeOf(t){return jp(t.base_)},setPrototypeOf(){Ps(12)}},Rp={};J0(ZA,(t,e)=>{Rp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Rp.deleteProperty=function(t,e){return Rp.set.call(this,t,e,void 0)};Rp.set=function(t,e,n){return ZA.set.call(this,t[0],e,n,t[0])};function mE(t,e){const n=t[Ui];return(n?Qc(n):t)[e]}function Ole(t,e,n){const r=R$(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function R$(t,e){if(!(e in t))return;let n=jp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=jp(n)}}function iT(t){t.modified_||(t.modified_=!0,t.parent_&&iT(t.parent_))}function pE(t){t.copy_||(t.copy_=tT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Mle=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(c=s,...d){return a.produce(c,f=>n.call(this,f,...d))}}typeof n!="function"&&Ps(6),r!==void 0&&typeof r!="function"&&Ps(7);let i;if(Fu(e)){const s=aO(this),a=sT(e,void 0);let o=!0;try{i=n(a),o=!1}finally{o?nT(s):rT(s)}return sO(s,r),oO(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===P$&&(i=void 0),this.autoFreeze_&&JA(i,!0),r){const s=[],a=[];Bu("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Ps(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,c=>e(c,...o));let r,i;return[this.produce(e,n,(a,o)=>{r=a,i=o}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Fu(t)||Ps(8),Qf(t)&&(t=Lle(t));const e=aO(this),n=sT(t,void 0);return n[Ui].isManual_=!0,rT(e),n}finishDraft(t,e){const n=t&&t[Ui];(!n||!n.isManual_)&&Ps(9);const{scope_:r}=n;return sO(r,e),oO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Bu("Patches").applyPatches_;return Qf(t)?r(t,e):this.produce(t,i=>r(i,e))}};function sT(t,e){const n=bg(t)?Bu("MapSet").proxyMap_(t,e):zb(t)?Bu("MapSet").proxySet_(t,e):Dle(t,e);return(e?e.scope_:k$()).drafts_.push(n),n}function Lle(t){return Qf(t)||Ps(10,t),D$(t)}function D$(t){if(!Fu(t)||Ub(t))return t;const e=t[Ui];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=tT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=tT(t,!0);return J0(n,(i,s)=>{j$(n,i,D$(s))},r),e&&(e.finalized_=!1),n}var Vle=new Mle;Vle.produce;var Fle={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},O$=wi({name:"legend",initialState:Fle,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:dn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ls(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:dn()},removeLegendPayload:{reducer(t,e){var n=Ls(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:dn()}}}),{setLegendSize:qAe,setLegendSettings:HAe,addLegendPayload:Ble,replaceLegendPayload:zle,removeLegendPayload:Ule}=O$.actions,$le=O$.reducer;function aT(){return aT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aT.apply(null,arguments)}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){qle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qle(t,e,n){return(e=Hle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hle(t){var e=Wle(t,"string");return typeof e=="symbol"?e:e+""}function Wle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kle(t){return Array.isArray(t)&&Fa(t[0])&&Fa(t[1])?t.join(" ~ "):t}var Hd={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Gle=t=>{var{separator:e=Hd.separator,contentStyle:n,itemStyle:r,labelStyle:i=Hd.labelStyle,payload:s,formatter:a,itemSorter:o,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:m,accessibilityLayer:p=Hd.accessibilityLayer}=t,y=()=>{if(s&&s.length){var P={padding:0,margin:0},A=(o?Sb(s,o):s).map((N,T)=>{if(N.type==="none")return null;var I=N.formatter||a||Kle,{value:j,name:D}=N,F=j,V=D;if(I){var $=I(j,D,N,T,s);if(Array.isArray($))[F,V]=$;else if($!=null)F=$;else return null}var Z=_m(_m({},Hd.itemStyle),{},{color:N.color||Hd.itemStyle.color},r);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:Z},Fa(V)?E.createElement("span",{className:"recharts-tooltip-item-name"},V):null,Fa(V)?E.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,E.createElement("span",{className:"recharts-tooltip-item-value"},F),E.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:P},A)}return null},x=_m(_m({},Hd.contentStyle),n),b=_m({margin:0},i),_=!dr(f),S=_?f:"",O=Xt("recharts-default-tooltip",c),R=Xt("recharts-tooltip-label",d);_&&m&&s!==void 0&&s!==null&&(S=m(f,s));var z=p?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",aT({className:O,style:x},z),E.createElement("p",{className:R,style:b},E.isValidElement(S)?S:"".concat(S)),y())},Em="recharts-tooltip-wrapper",Xle={visibility:"hidden"};function Yle(t){var{coordinate:e,translateX:n,translateY:r}=t;return Xt(Em,{["".concat(Em,"-right")]:Qe(n)&&e&&Qe(e.x)&&n>=e.x,["".concat(Em,"-left")]:Qe(n)&&e&&Qe(e.x)&&n<e.x,["".concat(Em,"-bottom")]:Qe(r)&&e&&Qe(e.y)&&r>=e.y,["".concat(Em,"-top")]:Qe(r)&&e&&Qe(e.y)&&r<e.y})}function uO(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=t;if(s&&Qe(s[r]))return s[r];var f=n[r]-o-(i>0?i:0),m=n[r]+i;if(e[r])return a[r]?f:m;var p=c[r];if(p==null)return 0;if(a[r]){var y=f,x=p;return y<x?Math.max(m,p):Math.max(f,p)}if(d==null)return 0;var b=m+o,_=p+d;return b>_?Math.max(f,p):Math.max(m,p)}function Qle(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Jle(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:a,tooltipBox:o,useTranslate3d:c,viewBox:d}=t,f,m,p;return o.height>0&&o.width>0&&n?(m=uO({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),p=uO({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=Qle({translateX:m,translateY:p,useTranslate3d:c})):f=Xle,{cssProperties:f,cssClasses:Yle({translateX:m,translateY:p,coordinate:n})}}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){oT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oT(t,e,n){return(e=Zle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zle(t){var e=ece(t,"string");return typeof e=="symbol"?e:e+""}function ece(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class tce extends E.PureComponent{constructor(){super(...arguments),oT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),oT(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:c,offset:d,position:f,reverseDirection:m,useTranslate3d:p,viewBox:y,wrapperStyle:x,lastBoundingBox:b,innerRef:_,hasPortalFromProps:S}=this.props,O=typeof d=="number"?d:d.x,R=typeof d=="number"?d:d.y,{cssClasses:z,cssProperties:P}=Jle({allowEscapeViewBox:n,coordinate:a,offsetLeft:O,offsetTop:R,position:f,reverseDirection:m,tooltipBox:{height:b.height,width:b.width},useTranslate3d:p,viewBox:y}),A=S?{}:hv(hv({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),N=hv(hv({},A),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},x);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:z,style:N,ref:_},s)}}var M$=()=>{var t;return(t=ft(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function lT(){return lT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lT.apply(null,arguments)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){nce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nce(t,e,n){return(e=rce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rce(t){var e=ice(t,"string");return typeof e=="symbol"?e:e+""}function ice(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mO={curveBasisClosed:ese,curveBasisOpen:tse,curveBasis:Zie,curveBumpX:Fie,curveBumpY:Bie,curveLinearClosed:nse,curveLinear:wb,curveMonotoneX:rse,curveMonotoneY:ise,curveNatural:sse,curveStep:ase,curveStepAfter:lse,curveStepBefore:ose},tx=t=>Ot(t.x)&&Ot(t.y),pO=t=>t.base!=null&&tx(t.base)&&tx(t),Sm=t=>t.x,Nm=t=>t.y,sce=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(pg(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=mO["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return mO[n]||wb},gO={connectNulls:!1,type:"linear"},ace=t=>{var{type:e=gO.type,points:n=[],baseLine:r,layout:i,connectNulls:s=gO.connectNulls}=t,a=sce(e,i),o=s?n.filter(tx):n;if(Array.isArray(r)){var c,d=n.map((x,b)=>hO(hO({},x),{},{base:r[b]}));i==="vertical"?c=sv().y(Nm).x1(Sm).x0(x=>x.base.x):c=sv().x(Sm).y1(Nm).y0(x=>x.base.y);var f=c.defined(pO).curve(a),m=s?d.filter(pO):d;return f(m)}var p;i==="vertical"&&Qe(r)?p=sv().y(Nm).x1(Sm).x0(r):Qe(r)?p=sv().x(Sm).y1(Nm).y0(r):p=yU().x(Sm).y(Nm);var y=p.defined(tx).curve(a);return y(o)},sp=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Zu();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},o=n&&n.length?ace(a):r;return E.createElement("path",lT({},zs(t),BA(t),{className:Xt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},oce=["x","y","top","left","width","height","className"];function cT(){return cT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cT.apply(null,arguments)}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cce(t,e,n){return(e=uce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uce(t){var e=dce(t,"string");return typeof e=="symbol"?e:e+""}function dce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fce(t,e){if(t==null)return{};var n,r,i=hce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var mce=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),pce=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=t,c=fce(t,oce),d=lce({x:e,y:n,top:r,left:i,width:s,height:a},c);return!Qe(e)||!Qe(n)||!Qe(s)||!Qe(a)||!Qe(r)||!Qe(i)?null:E.createElement("path",cT({},Ur(d),{className:Xt("recharts-cross",o),d:mce(e,n,s,a,r,i)}))};function gce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yce(t,e,n){return(e=vce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vce(t){var e=xce(t,"string");return typeof e=="symbol"?e:e+""}function xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bce=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),L$=(t,e,n)=>t.map(r=>"".concat(bce(r)," ").concat(e,"ms ").concat(n)).join(","),wce=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Dp=(t,e)=>Object.keys(e).reduce((n,r)=>xO(xO({},n),{},{[r]:t(r,e[r])}),{});function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){_ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ce(t,e,n){return(e=Ece(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ece(t){var e=Sce(t,"string");return typeof e=="symbol"?e:e+""}function Sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nx=(t,e,n)=>t+(e-t)*n,uT=t=>{var{from:e,to:n}=t;return e!==n},V$=(t,e,n)=>{var r=Dp((i,s)=>{if(uT(s)){var[a,o]=t(s.from,s.to,s.velocity);return Hn(Hn({},s),{},{from:a,velocity:o})}return s},e);return n<1?Dp((i,s)=>uT(s)&&r[i]!=null?Hn(Hn({},s),{},{velocity:nx(s.velocity,r[i].velocity,n),from:nx(s.from,r[i].from,n)}):s,e):V$(t,r,n-1)};function Nce(t,e,n,r,i,s){var a,o=r.reduce((p,y)=>Hn(Hn({},p),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),c=()=>Dp((p,y)=>y.from,o),d=()=>!Object.values(o).filter(uT).length,f=null,m=p=>{a||(a=p);var y=p-a,x=y/n.dt;o=V$(n,o,x),i(Hn(Hn(Hn({},t),e),c())),a=p,d()||(f=s.setTimeout(m))};return()=>(f=s.setTimeout(m),()=>{var p;(p=f)===null||p===void 0||p()})}function Tce(t,e,n,r,i,s,a){var o=null,c=i.reduce((m,p)=>{var y=t[p],x=e[p];return y==null||x==null?m:Hn(Hn({},m),{},{[p]:[y,x]})},{}),d,f=m=>{d||(d=m);var p=(m-d)/r,y=Dp((b,_)=>nx(..._,n(p)),c);if(s(Hn(Hn(Hn({},t),e),y)),p<1)o=a.setTimeout(f);else{var x=Dp((b,_)=>nx(..._,n(1)),c);s(Hn(Hn(Hn({},t),e),x))}};return()=>(o=a.setTimeout(f),()=>{var m;(m=o)===null||m===void 0||m()})}const Cce=(t,e,n,r,i,s)=>{var a=wce(t,e);return n==null?()=>(i(Hn(Hn({},t),e)),()=>{}):n.isStepper===!0?Nce(t,e,n,a,i,s):Tce(t,e,n,r,a,i,s)};var rx=1e-4,F$=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],B$=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),wO=(t,e)=>n=>{var r=F$(t,e);return B$(r,n)},Ace=(t,e)=>n=>{var r=F$(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return B$(i,n)},Pce=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},Ice=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=Pce(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},jce=(t,e,n,r)=>{var i=wO(t,n),s=wO(e,r),a=Ace(t,n),o=d=>d>1?1:d<0?0:d,c=d=>{for(var f=d>1?1:d,m=f,p=0;p<8;++p){var y=i(m)-f,x=a(m);if(Math.abs(y-f)<rx||x<rx)return s(m);m=o(m-y/x)}return s(m)};return c.isStepper=!1,c},_O=function(){return jce(...Ice(...arguments))},kce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,o,c)=>{var d=-(a-o)*n,f=c*r,m=c+(d-f)*i/1e3,p=c*i/1e3+a;return Math.abs(p-o)<rx&&Math.abs(m)<rx?[o,0]:[p,m]};return s.isStepper=!0,s.dt=i,s},Rce=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _O(t);case"spring":return kce();default:if(t.split("(")[0]==="cubic-bezier")return _O(t)}return typeof t=="function"?t:null};function Dce(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[c,...d]=o;if(typeof c=="number"){i=t.setTimeout(s.bind(null,d),c);return}s(c),i=t.setTimeout(s.bind(null,d));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class Oce{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Mce(){return Dce(new Oce)}var Lce=E.createContext(Mce);function Vce(t,e){var n=E.useContext(Lce);return E.useMemo(()=>e??n(t),[t,e,n])}var Fce=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),wg={isSsr:Fce()},Bce={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},EO={t:0},gE={t:1};function $b(t){var e=bi(t,Bce),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:c,children:d}=e,f=n==="auto"?!wg.isSsr:n,m=Vce(e.animationId,e.animationManager),[p,y]=E.useState(f?EO:gE),x=E.useRef(null);return E.useEffect(()=>{f||y(gE)},[f]),E.useEffect(()=>{if(!f||!r)return Ju;var b=Cce(EO,gE,Rce(s),i,y,m.getTimeoutController()),_=()=>{x.current=b()};return m.start([c,a,_,i,o]),()=>{m.stop(),x.current&&x.current(),o()}},[f,r,i,s,a,c,o,m]),d(p.t)}function qb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=E.useRef(Cp(e)),r=E.useRef(t);return r.current!==t&&(n.current=Cp(e),r.current=t),n.current}var zce=["radius"],Uce=["radius"],SO,NO,TO,CO,AO,PO,IO,jO,kO,RO;function DO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DO(Object(n),!0).forEach(function(r){$ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ce(t,e,n){return(e=qce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qce(t){var e=Hce(t,"string");return typeof e=="symbol"?e:e+""}function Hce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(null,arguments)}function MO(t,e){if(t==null)return{};var n,r,i=Wce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function fa(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var LO=(t,e,n,r,i)=>{var s=Fl(n),a=Fl(r),o=Math.min(Math.abs(s)/2,Math.abs(a)/2),c=a>=0?1:-1,d=s>=0?1:-1,f=a>=0&&s>=0||a<0&&s<0?1:0,m;if(o>0&&Array.isArray(i)){for(var p=[0,0,0,0],y=0,x=4;y<x;y++){var b,_=(b=i[y])!==null&&b!==void 0?b:0;p[y]=_>o?o:_}m=Tn(SO||(SO=fa(["M",",",""])),t,e+c*p[0]),p[0]>0&&(m+=Tn(NO||(NO=fa(["A ",",",",0,0,",",",",",""])),p[0],p[0],f,t+d*p[0],e)),m+=Tn(TO||(TO=fa(["L ",",",""])),t+n-d*p[1],e),p[1]>0&&(m+=Tn(CO||(CO=fa(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],f,t+n,e+c*p[1])),m+=Tn(AO||(AO=fa(["L ",",",""])),t+n,e+r-c*p[2]),p[2]>0&&(m+=Tn(PO||(PO=fa(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],f,t+n-d*p[2],e+r)),m+=Tn(IO||(IO=fa(["L ",",",""])),t+d*p[3],e+r),p[3]>0&&(m+=Tn(jO||(jO=fa(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],f,t,e+r-c*p[3])),m+="Z"}else if(o>0&&i===+i&&i>0){var S=Math.min(o,i);m=Tn(kO||(kO=fa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*S,S,S,f,t+d*S,e,t+n-d*S,e,S,S,f,t+n,e+c*S,t+n,e+r-c*S,S,S,f,t+n-d*S,e+r,t+d*S,e+r,S,S,f,t,e+r-c*S)}else m=Tn(RO||(RO=fa(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},VO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},z$=t=>{var e=bi(t,VO),n=E.useRef(null),[r,i]=E.useState(-1);E.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var B=n.current.getTotalLength();B&&i(B)}catch{}},[]);var{x:s,y:a,width:o,height:c,radius:d,className:f}=e,{animationEasing:m,animationDuration:p,animationBegin:y,isAnimationActive:x,isUpdateAnimationActive:b}=e,_=E.useRef(o),S=E.useRef(c),O=E.useRef(s),R=E.useRef(a),z=E.useMemo(()=>({x:s,y:a,width:o,height:c,radius:d}),[s,a,o,c,d]),P=qb(z,"rectangle-");if(s!==+s||a!==+a||o!==+o||c!==+c||o===0||c===0)return null;var A=Xt("recharts-rectangle",f);if(!b){var N=Ur(e),{radius:T}=N,I=MO(N,zce);return E.createElement("path",ix({},I,{x:Fl(s),y:Fl(a),width:Fl(o),height:Fl(c),radius:typeof d=="number"?d:void 0,className:A,d:LO(s,a,o,c,d)}))}var j=_.current,D=S.current,F=O.current,V=R.current,$="0px ".concat(r===-1?1:r,"px"),Z="".concat(r,"px 0px"),J=L$(["strokeDasharray"],p,typeof m=="string"?m:VO.animationEasing);return E.createElement($b,{animationId:P,key:P,canBegin:r>0,duration:p,easing:m,isActive:b,begin:y},B=>{var Q=Fn(j,o,B),H=Fn(D,c,B),k=Fn(F,s,B),U=Fn(V,a,B);n.current&&(_.current=Q,S.current=H,O.current=k,R.current=U);var G;x?B>0?G={transition:J,strokeDasharray:Z}:G={strokeDasharray:$}:G={strokeDasharray:Z};var K=Ur(e),{radius:X}=K,te=MO(K,Uce);return E.createElement("path",ix({},te,{radius:typeof d=="number"?d:void 0,className:A,d:LO(k,U,Q,H,d),ref:n,style:OO(OO({},G),e.style)}))})};function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){Kce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kce(t,e,n){return(e=Gce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gce(t){var e=Xce(t,"string");return typeof e=="symbol"?e:e+""}function Xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sx=Math.PI/180,Yce=t=>t*180/Math.PI,Sr=(t,e,n,r)=>({x:t+Math.cos(-sx*r)*n,y:e+Math.sin(-sx*r)*n}),Qce=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Jce=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},Zce=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=Jce({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(n-i)/a,c=Math.acos(o);return r>s&&(c=2*Math.PI-c),{radius:a,angle:Yce(c),angleInRadian:c}},eue=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},tue=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},nue=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=Zce({x:n,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:c,endAngle:d}=eue(e),f=s,m;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;m=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=c}return m?BO(BO({},e),{},{radius:i,angle:tue(f,e)}):null};function U$(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=Sr(e,n,r,i),o=Sr(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var zO,UO,$O,qO,HO,WO,KO;function dT(){return dT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dT.apply(null,arguments)}function ou(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var rue=(t,e)=>{var n=Rs(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},mv=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:c}=t,d=o*(a?1:-1)+r,f=Math.asin(o/d)/sx,m=c?i:i+s*f,p=Sr(e,n,d,m),y=Sr(e,n,r,m),x=c?i-s*f:i,b=Sr(e,n,d*Math.cos(f*sx),x);return{center:p,circleTangency:y,lineTangency:b,theta:f}},$$=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,o=rue(s,a),c=s+o,d=Sr(e,n,i,s),f=Sr(e,n,i,c),m=Tn(zO||(zO=ou(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(o)>180),+(s>c),f.x,f.y);if(r>0){var p=Sr(e,n,r,s),y=Sr(e,n,r,c);m+=Tn(UO||(UO=ou(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,r,r,+(Math.abs(o)>180),+(s<=c),p.x,p.y)}else m+=Tn($O||($O=ou(["L ",","," Z"])),e,n);return m},iue=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:c,endAngle:d}=t,f=Rs(d-c),{circleTangency:m,lineTangency:p,theta:y}=mv({cx:e,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:o}),{circleTangency:x,lineTangency:b,theta:_}=mv({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:o}),S=o?Math.abs(c-d):Math.abs(c-d)-y-_;if(S<0)return a?Tn(qO||(qO=ou(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,s,s,s*2,s,s,-s*2):$$({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var O=Tn(HO||(HO=ou(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,s,s,+(f<0),m.x,m.y,i,i,+(S>180),+(f<0),x.x,x.y,s,s,+(f<0),b.x,b.y);if(r>0){var{circleTangency:R,lineTangency:z,theta:P}=mv({cx:e,cy:n,radius:r,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:A,lineTangency:N,theta:T}=mv({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),I=o?Math.abs(c-d):Math.abs(c-d)-P-T;if(I<0&&s===0)return"".concat(O,"L").concat(e,",").concat(n,"Z");O+=Tn(WO||(WO=ou(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),N.x,N.y,s,s,+(f<0),A.x,A.y,r,r,+(I>180),+(f>0),R.x,R.y,s,s,+(f<0),z.x,z.y)}else O+=Tn(KO||(KO=ou(["L",",","Z"])),e,n);return O},sue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},q$=t=>{var e=bi(t,sue),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f,className:m}=e;if(s<i||d===f)return null;var p=Xt("recharts-sector",m),y=s-i,x=ic(a,y,0,!0),b;return x>0&&Math.abs(d-f)<360?b=iue({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,y/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f}):b=$$({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),E.createElement("path",dT({},Ur(e),{className:p,d:b}))};function aue(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(RU(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,c=Sr(r,i,s,o),d=Sr(r,i,a,o);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return U$(e)}}var yE={},vE={},xE={},GO;function oue(){return GO||(GO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$U();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(xE)),xE}var XO;function lue(){return XO||(XO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oue();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(vE)),vE}var YO;function cue(){return YO||(YO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=qU(),n=lue();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=i,i+=a;return c}t.range=r})(yE)),yE}var bE,QO;function uue(){return QO||(QO=1,bE=cue().range),bE}var due=uue();const H$=vi(due);function Wl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function fue(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eP(t){let e,n,r;t.length!==2?(e=Wl,n=(o,c)=>Wl(t(o),c),r=(o,c)=>t(o)-c):(e=t===Wl||t===fue?t:hue,n=t,r=t);function i(o,c,d=0,f=o.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;n(o[m],c)<0?d=m+1:f=m}while(d<f)}return d}function s(o,c,d=0,f=o.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;n(o[m],c)<=0?d=m+1:f=m}while(d<f)}return d}function a(o,c,d=0,f=o.length){const m=i(o,c,d,f-1);return m>d&&r(o[m-1],c)>-r(o[m],c)?m-1:m}return{left:i,center:a,right:s}}function hue(){return 0}function W$(t){return t===null?NaN:+t}function*mue(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const pue=eP(Wl),_g=pue.right;eP(W$).center;class JO extends Map{constructor(e,n=vue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ZO(this,e))}has(e){return super.has(ZO(this,e))}set(e,n){return super.set(gue(this,e),n)}delete(e){return super.delete(yue(this,e))}}function ZO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function gue({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function yue({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function vue(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xue(t=Wl){if(t===Wl)return K$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function K$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const bue=Math.sqrt(50),wue=Math.sqrt(10),_ue=Math.sqrt(2);function ax(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=bue?10:s>=wue?5:s>=_ue?2:1;let o,c,d;return i<0?(d=Math.pow(10,-i)/a,o=Math.round(t*d),c=Math.round(e*d),o/d<t&&++o,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*a,o=Math.round(t/d),c=Math.round(e/d),o*d<t&&++o,c*d>e&&--c),c<o&&.5<=n&&n<2?ax(t,e,n*2):[o,c,d]}function fT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?ax(e,t,n):ax(t,e,n);if(!(s>=i))return[];const o=s-i+1,c=new Array(o);if(r)if(a<0)for(let d=0;d<o;++d)c[d]=(s-d)/-a;else for(let d=0;d<o;++d)c[d]=(s-d)*a;else if(a<0)for(let d=0;d<o;++d)c[d]=(i+d)/-a;else for(let d=0;d<o;++d)c[d]=(i+d)*a;return c}function hT(t,e,n){return e=+e,t=+t,n=+n,ax(t,e,n)[2]}function mT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?hT(e,t,n):hT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function e4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function t4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function G$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?K$:xue(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),m=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*m*(c-m)/c)*(d-c/2<0?-1:1),y=Math.max(n,Math.floor(e-d*m/c+p)),x=Math.min(r,Math.floor(e+(c-d)*m/c+p));G$(t,e,y,x,i)}const s=t[e];let a=n,o=r;for(Tm(t,n,e),i(t[r],s)>0&&Tm(t,n,r);a<o;){for(Tm(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Tm(t,n,o):(++o,Tm(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Tm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Eue(t,e,n){if(t=Float64Array.from(mue(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return t4(t);if(e>=1)return e4(t);var r,i=(r-1)*e,s=Math.floor(i),a=e4(G$(t,s).subarray(0,s+1)),o=t4(t.subarray(s+1));return a+(o-a)*(i-s)}}function Sue(t,e,n=W$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Nue(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function hs(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function qo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const pT=Symbol("implicit");function tP(){var t=new JO,e=[],n=[],r=pT;function i(s){let a=t.get(s);if(a===void 0){if(r!==pT)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new JO;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return tP(e,n).unknown(r)},hs.apply(i,arguments),i}function nP(){var t=tP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,c=0,d=0,f=.5;delete t.unknown;function m(){var p=e().length,y=i<r,x=y?i:r,b=y?r:i;s=(b-x)/Math.max(1,p-c+d*2),o&&(s=Math.floor(s)),x+=(b-x-s*(p-c))*f,a=s*(1-c),o&&(x=Math.round(x),a=Math.round(a));var _=Nue(p).map(function(S){return x+s*S});return n(y?_.reverse():_)}return t.domain=function(p){return arguments.length?(e(p),m()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,o=!0,m()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(p){return arguments.length?(o=!!p,m()):o},t.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),m()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},t.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},t.copy=function(){return nP(e(),[r,i]).round(o).paddingInner(c).paddingOuter(d).align(f)},hs.apply(m(),arguments)}function X$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return X$(e())},t}function Tue(){return X$(nP.apply(null,arguments).paddingInner(1))}function rP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Y$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Eg(){}var Op=.7,ox=1/Op,_f="\\s*([+-]?\\d+)\\s*",Mp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Da="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cue=/^#([0-9a-f]{3,8})$/,Aue=new RegExp(`^rgb\\(${_f},${_f},${_f}\\)$`),Pue=new RegExp(`^rgb\\(${Da},${Da},${Da}\\)$`),Iue=new RegExp(`^rgba\\(${_f},${_f},${_f},${Mp}\\)$`),jue=new RegExp(`^rgba\\(${Da},${Da},${Da},${Mp}\\)$`),kue=new RegExp(`^hsl\\(${Mp},${Da},${Da}\\)$`),Rue=new RegExp(`^hsla\\(${Mp},${Da},${Da},${Mp}\\)$`),n4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rP(Eg,Lp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:r4,formatHex:r4,formatHex8:Due,formatHsl:Oue,formatRgb:i4,toString:i4});function r4(){return this.rgb().formatHex()}function Due(){return this.rgb().formatHex8()}function Oue(){return Q$(this).formatHsl()}function i4(){return this.rgb().formatRgb()}function Lp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Cue.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?s4(e):n===3?new hi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?pv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?pv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Aue.exec(t))?new hi(e[1],e[2],e[3],1):(e=Pue.exec(t))?new hi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Iue.exec(t))?pv(e[1],e[2],e[3],e[4]):(e=jue.exec(t))?pv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kue.exec(t))?l4(e[1],e[2]/100,e[3]/100,1):(e=Rue.exec(t))?l4(e[1],e[2]/100,e[3]/100,e[4]):n4.hasOwnProperty(t)?s4(n4[t]):t==="transparent"?new hi(NaN,NaN,NaN,0):null}function s4(t){return new hi(t>>16&255,t>>8&255,t&255,1)}function pv(t,e,n,r){return r<=0&&(t=e=n=NaN),new hi(t,e,n,r)}function Mue(t){return t instanceof Eg||(t=Lp(t)),t?(t=t.rgb(),new hi(t.r,t.g,t.b,t.opacity)):new hi}function gT(t,e,n,r){return arguments.length===1?Mue(t):new hi(t,e,n,r??1)}function hi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}rP(hi,gT,Y$(Eg,{brighter(t){return t=t==null?ox:Math.pow(ox,t),new hi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Op:Math.pow(Op,t),new hi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new hi(yu(this.r),yu(this.g),yu(this.b),lx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a4,formatHex:a4,formatHex8:Lue,formatRgb:o4,toString:o4}));function a4(){return`#${lu(this.r)}${lu(this.g)}${lu(this.b)}`}function Lue(){return`#${lu(this.r)}${lu(this.g)}${lu(this.b)}${lu((isNaN(this.opacity)?1:this.opacity)*255)}`}function o4(){const t=lx(this.opacity);return`${t===1?"rgb(":"rgba("}${yu(this.r)}, ${yu(this.g)}, ${yu(this.b)}${t===1?")":`, ${t})`}`}function lx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function yu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function lu(t){return t=yu(t),(t<16?"0":"")+t.toString(16)}function l4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Is(t,e,n,r)}function Q$(t){if(t instanceof Is)return new Is(t.h,t.s,t.l,t.opacity);if(t instanceof Eg||(t=Lp(t)),!t)return new Is;if(t instanceof Is)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,c=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=c<.5?s+i:2-s-i,a*=60):o=c>0&&c<1?0:a,new Is(a,o,c,t.opacity)}function Vue(t,e,n,r){return arguments.length===1?Q$(t):new Is(t,e,n,r??1)}function Is(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}rP(Is,Vue,Y$(Eg,{brighter(t){return t=t==null?ox:Math.pow(ox,t),new Is(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Op:Math.pow(Op,t),new Is(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new hi(wE(t>=240?t-240:t+120,i,r),wE(t,i,r),wE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Is(c4(this.h),gv(this.s),gv(this.l),lx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lx(this.opacity);return`${t===1?"hsl(":"hsla("}${c4(this.h)}, ${gv(this.s)*100}%, ${gv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function c4(t){return t=(t||0)%360,t<0?t+360:t}function gv(t){return Math.max(0,Math.min(1,t||0))}function wE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const iP=t=>()=>t;function Fue(t,e){return function(n){return t+n*e}}function Bue(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function zue(t){return(t=+t)==1?J$:function(e,n){return n-e?Bue(e,n,t):iP(isNaN(e)?n:e)}}function J$(t,e){var n=e-t;return n?Fue(t,n):iP(isNaN(t)?e:t)}const u4=(function t(e){var n=zue(e);function r(i,s){var a=n((i=gT(i)).r,(s=gT(s)).r),o=n(i.g,s.g),c=n(i.b,s.b),d=J$(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function Uue(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function $ue(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function que(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=gh(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function Hue(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function cx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Wue(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=gh(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var yT=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_E=new RegExp(yT.source,"g");function Kue(t){return function(){return t}}function Gue(t){return function(e){return t(e)+""}}function Xue(t,e){var n=yT.lastIndex=_E.lastIndex=0,r,i,s,a=-1,o=[],c=[];for(t=t+"",e=e+"";(r=yT.exec(t))&&(i=_E.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,c.push({i:a,x:cx(r,i)})),n=_E.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?c[0]?Gue(c[0].x):Kue(e):(e=c.length,function(d){for(var f=0,m;f<e;++f)o[(m=c[f]).i]=m.x(d);return o.join("")})}function gh(t,e){var n=typeof e,r;return e==null||n==="boolean"?iP(e):(n==="number"?cx:n==="string"?(r=Lp(e))?(e=r,u4):Xue:e instanceof Lp?u4:e instanceof Date?Hue:$ue(e)?Uue:Array.isArray(e)?que:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Wue:cx)(t,e)}function sP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Yue(t,e){e===void 0&&(e=t,t=gh);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function Que(t){return function(){return t}}function ux(t){return+t}var d4=[0,1];function Kr(t){return t}function vT(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Que(isNaN(e)?NaN:.5)}function Jue(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Zue(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=vT(i,r),s=n(a,s)):(r=vT(r,i),s=n(s,a)),function(o){return s(r(o))}}function ede(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=vT(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var c=_g(t,o,1,r)-1;return s[c](i[c](o))}}function Sg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hb(){var t=d4,e=d4,n=gh,r,i,s,a=Kr,o,c,d;function f(){var p=Math.min(t.length,e.length);return a!==Kr&&(a=Jue(t[0],t[p-1])),o=p>2?ede:Zue,c=d=null,m}function m(p){return p==null||isNaN(p=+p)?s:(c||(c=o(t.map(r),e,n)))(r(a(p)))}return m.invert=function(p){return a(i((d||(d=o(e,t.map(r),cx)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,ux),f()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),n=sP,f()},m.clamp=function(p){return arguments.length?(a=p?!0:Kr,f()):a!==Kr},m.interpolate=function(p){return arguments.length?(n=p,f()):n},m.unknown=function(p){return arguments.length?(s=p,m):s},function(p,y){return r=p,i=y,f()}}function aP(){return Hb()(Kr,Kr)}function tde(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function dx(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Jf(t){return t=dx(Math.abs(t)),t?t[1]:NaN}function nde(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),s.push(n.substring(i-=o,i+o)),!((c+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function rde(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var ide=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vp(t){if(!(e=ide.exec(t)))throw new Error("invalid format: "+t);var e;return new oP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vp.prototype=oP.prototype;function oP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}oP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sde(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var fx;function ade(t,e){var n=dx(t,e);if(!n)return fx=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(fx=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+dx(t,Math.max(0,e+s-1))[0]}function f4(t,e){var n=dx(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const h4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:tde,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>f4(t*100,e),r:f4,s:ade,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function m4(t){return t}var p4=Array.prototype.map,g4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ode(t){var e=t.grouping===void 0||t.thousands===void 0?m4:nde(p4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?m4:rde(p4.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m,p){m=Vp(m);var y=m.fill,x=m.align,b=m.sign,_=m.symbol,S=m.zero,O=m.width,R=m.comma,z=m.precision,P=m.trim,A=m.type;A==="n"?(R=!0,A="g"):h4[A]||(z===void 0&&(z=12),P=!0,A="g"),(S||y==="0"&&x==="=")&&(S=!0,y="0",x="=");var N=(p&&p.prefix!==void 0?p.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():""),T=(_==="$"?r:/[%p]/.test(A)?a:"")+(p&&p.suffix!==void 0?p.suffix:""),I=h4[A],j=/[defgprs%]/.test(A);z=z===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function D(F){var V=N,$=T,Z,J,B;if(A==="c")$=I(F)+$,F="";else{F=+F;var Q=F<0||1/F<0;if(F=isNaN(F)?c:I(Math.abs(F),z),P&&(F=sde(F)),Q&&+F==0&&b!=="+"&&(Q=!1),V=(Q?b==="("?b:o:b==="-"||b==="("?"":b)+V,$=(A==="s"&&!isNaN(F)&&fx!==void 0?g4[8+fx/3]:"")+$+(Q&&b==="("?")":""),j){for(Z=-1,J=F.length;++Z<J;)if(B=F.charCodeAt(Z),48>B||B>57){$=(B===46?i+F.slice(Z+1):F.slice(Z))+$,F=F.slice(0,Z);break}}}R&&!S&&(F=e(F,1/0));var H=V.length+F.length+$.length,k=H<O?new Array(O-H+1).join(y):"";switch(R&&S&&(F=e(k+F,k.length?O-$.length:1/0),k=""),x){case"<":F=V+F+$+k;break;case"=":F=V+k+F+$;break;case"^":F=k.slice(0,H=k.length>>1)+V+F+$+k.slice(H);break;default:F=k+V+F+$;break}return s(F)}return D.toString=function(){return m+""},D}function f(m,p){var y=Math.max(-8,Math.min(8,Math.floor(Jf(p)/3)))*3,x=Math.pow(10,-y),b=d((m=Vp(m),m.type="f",m),{suffix:g4[8+y/3]});return function(_){return b(x*_)}}return{format:d,formatPrefix:f}}var yv,lP,Z$;lde({thousands:",",grouping:[3],currency:["$",""]});function lde(t){return yv=ode(t),lP=yv.format,Z$=yv.formatPrefix,yv}function cde(t){return Math.max(0,-Jf(Math.abs(t)))}function ude(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Jf(e)/3)))*3-Jf(Math.abs(t)))}function dde(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Jf(e)-Jf(t))+1}function e8(t,e,n,r){var i=mT(t,e,n),s;switch(r=Vp(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=ude(i,a))&&(r.precision=s),Z$(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=dde(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=cde(i))&&(r.precision=s-(r.type==="%")*2);break}}return lP(r)}function gc(t){var e=t.domain;return t.ticks=function(n){var r=e();return fT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return e8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],c,d,f=10;for(o<a&&(d=a,a=o,o=d,d=i,i=s,s=d);f-- >0;){if(d=hT(a,o,n),d===c)return r[i]=a,r[s]=o,e(r);if(d>0)a=Math.floor(a/d)*d,o=Math.ceil(o/d)*d;else if(d<0)a=Math.ceil(a*d)/d,o=Math.floor(o*d)/d;else break;c=d}return t},t}function t8(){var t=aP();return t.copy=function(){return Sg(t,t8())},hs.apply(t,arguments),gc(t)}function n8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ux),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return n8(t).unknown(e)},t=arguments.length?Array.from(t,ux):[0,1],gc(n)}function r8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function y4(t){return Math.log(t)}function v4(t){return Math.exp(t)}function fde(t){return-Math.log(-t)}function hde(t){return-Math.exp(-t)}function mde(t){return isFinite(t)?+("1e"+t):t<0?0:t}function pde(t){return t===10?mde:t===Math.E?Math.exp:e=>Math.pow(t,e)}function gde(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function x4(t){return(e,n)=>-t(-e,n)}function cP(t){const e=t(y4,v4),n=e.domain;let r=10,i,s;function a(){return i=gde(r),s=pde(r),n()[0]<0?(i=x4(i),s=x4(s),t(fde,hde)):t(y4,v4),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const c=n();let d=c[0],f=c[c.length-1];const m=f<d;m&&([d,f]=[f,d]);let p=i(d),y=i(f),x,b;const _=o==null?10:+o;let S=[];if(!(r%1)&&y-p<_){if(p=Math.floor(p),y=Math.ceil(y),d>0){for(;p<=y;++p)for(x=1;x<r;++x)if(b=p<0?x/s(-p):x*s(p),!(b<d)){if(b>f)break;S.push(b)}}else for(;p<=y;++p)for(x=r-1;x>=1;--x)if(b=p>0?x/s(-p):x*s(p),!(b<d)){if(b>f)break;S.push(b)}S.length*2<_&&(S=fT(d,f,_))}else S=fT(p,y,Math.min(y-p,_)).map(s);return m?S.reverse():S},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Vp(c)).precision==null&&(c.trim=!0),c=lP(c)),o===1/0)return c;const d=Math.max(1,r*o/e.ticks().length);return f=>{let m=f/s(Math.round(i(f)));return m*r<r-.5&&(m*=r),m<=d?c(f):""}},e.nice=()=>n(r8(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function i8(){const t=cP(Hb()).domain([1,10]);return t.copy=()=>Sg(t,i8()).base(t.base()),hs.apply(t,arguments),t}function b4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function w4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function uP(t){var e=1,n=t(b4(e),w4(e));return n.constant=function(r){return arguments.length?t(b4(e=+r),w4(e)):e},gc(n)}function s8(){var t=uP(Hb());return t.copy=function(){return Sg(t,s8()).constant(t.constant())},hs.apply(t,arguments)}function _4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function yde(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function vde(t){return t<0?-t*t:t*t}function dP(t){var e=t(Kr,Kr),n=1;function r(){return n===1?t(Kr,Kr):n===.5?t(yde,vde):t(_4(n),_4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},gc(e)}function fP(){var t=dP(Hb());return t.copy=function(){return Sg(t,fP()).exponent(t.exponent())},hs.apply(t,arguments),t}function xde(){return fP.apply(null,arguments).exponent(.5)}function E4(t){return Math.sign(t)*t*t}function bde(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function a8(){var t=aP(),e=[0,1],n=!1,r;function i(s){var a=bde(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(E4(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,ux)).map(E4)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return a8(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},hs.apply(i,arguments),gc(i)}function o8(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=Sue(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[_g(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Wl),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return o8().domain(t).range(e).unknown(r)},hs.apply(s,arguments)}function l8(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[_g(r,c,0,n)]:s}function o(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,o()):i.slice()},a.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return l8().domain([t,e]).range(i).unknown(s)},hs.apply(gc(a),arguments)}function c8(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[_g(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return c8().domain(t).range(e).unknown(n)},hs.apply(i,arguments)}const EE=new Date,SE=new Date;function Qn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const c=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return c;let d;do c.push(d=new Date(+s)),e(s,o),t(s);while(d<s&&s<a);return c},i.filter=s=>Qn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(EE.setTime(+s),SE.setTime(+a),t(EE),t(SE),Math.floor(n(EE,SE))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const hx=Qn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);hx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Qn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):hx);hx.range;const xo=1e3,ns=xo*60,bo=ns*60,Io=bo*24,hP=Io*7,S4=Io*30,NE=Io*365,cu=Qn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xo)},(t,e)=>(e-t)/xo,t=>t.getUTCSeconds());cu.range;const mP=Qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xo)},(t,e)=>{t.setTime(+t+e*ns)},(t,e)=>(e-t)/ns,t=>t.getMinutes());mP.range;const pP=Qn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ns)},(t,e)=>(e-t)/ns,t=>t.getUTCMinutes());pP.range;const gP=Qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xo-t.getMinutes()*ns)},(t,e)=>{t.setTime(+t+e*bo)},(t,e)=>(e-t)/bo,t=>t.getHours());gP.range;const yP=Qn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*bo)},(t,e)=>(e-t)/bo,t=>t.getUTCHours());yP.range;const Ng=Qn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ns)/Io,t=>t.getDate()-1);Ng.range;const Wb=Qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Io,t=>t.getUTCDate()-1);Wb.range;const u8=Qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Io,t=>Math.floor(t/Io));u8.range;function ed(t){return Qn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ns)/hP)}const Kb=ed(0),mx=ed(1),wde=ed(2),_de=ed(3),Zf=ed(4),Ede=ed(5),Sde=ed(6);Kb.range;mx.range;wde.range;_de.range;Zf.range;Ede.range;Sde.range;function td(t){return Qn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/hP)}const Gb=td(0),px=td(1),Nde=td(2),Tde=td(3),eh=td(4),Cde=td(5),Ade=td(6);Gb.range;px.range;Nde.range;Tde.range;eh.range;Cde.range;Ade.range;const vP=Qn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());vP.range;const xP=Qn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());xP.range;const jo=Qn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());jo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});jo.range;const ko=Qn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ko.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ko.range;function d8(t,e,n,r,i,s){const a=[[cu,1,xo],[cu,5,5*xo],[cu,15,15*xo],[cu,30,30*xo],[s,1,ns],[s,5,5*ns],[s,15,15*ns],[s,30,30*ns],[i,1,bo],[i,3,3*bo],[i,6,6*bo],[i,12,12*bo],[r,1,Io],[r,2,2*Io],[n,1,hP],[e,1,S4],[e,3,3*S4],[t,1,NE]];function o(d,f,m){const p=f<d;p&&([d,f]=[f,d]);const y=m&&typeof m.range=="function"?m:c(d,f,m),x=y?y.range(d,+f+1):[];return p?x.reverse():x}function c(d,f,m){const p=Math.abs(f-d)/m,y=eP(([,,_])=>_).right(a,p);if(y===a.length)return t.every(mT(d/NE,f/NE,m));if(y===0)return hx.every(Math.max(mT(d,f,m),1));const[x,b]=a[p/a[y-1][2]<a[y][2]/p?y-1:y];return x.every(b)}return[o,c]}const[Pde,Ide]=d8(ko,xP,Gb,u8,yP,pP),[jde,kde]=d8(jo,vP,Kb,Ng,gP,mP);function TE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function CE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Cm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Rde(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,c=t.shortMonths,d=Am(i),f=Pm(i),m=Am(s),p=Pm(s),y=Am(a),x=Pm(a),b=Am(o),_=Pm(o),S=Am(c),O=Pm(c),R={a:B,A:Q,b:H,B:k,c:null,d:I4,e:I4,f:nfe,g:ffe,G:mfe,H:Zde,I:efe,j:tfe,L:f8,m:rfe,M:ife,p:U,q:G,Q:R4,s:D4,S:sfe,u:afe,U:ofe,V:lfe,w:cfe,W:ufe,x:null,X:null,y:dfe,Y:hfe,Z:pfe,"%":k4},z={a:K,A:X,b:te,B:ie,c:null,d:j4,e:j4,f:xfe,g:Pfe,G:jfe,H:gfe,I:yfe,j:vfe,L:m8,m:bfe,M:wfe,p:re,q:xe,Q:R4,s:D4,S:_fe,u:Efe,U:Sfe,V:Nfe,w:Tfe,W:Cfe,x:null,X:null,y:Afe,Y:Ife,Z:kfe,"%":k4},P={a:j,A:D,b:F,B:V,c:$,d:A4,e:A4,f:Xde,g:C4,G:T4,H:P4,I:P4,j:Hde,L:Gde,m:qde,M:Wde,p:I,q:$de,Q:Qde,s:Jde,S:Kde,u:Vde,U:Fde,V:Bde,w:Lde,W:zde,x:Z,X:J,y:C4,Y:T4,Z:Ude,"%":Yde};R.x=A(n,R),R.X=A(r,R),R.c=A(e,R),z.x=A(n,z),z.X=A(r,z),z.c=A(e,z);function A(ae,ve){return function(Ce){var me=[],Ie=-1,De=0,Je=ae.length,ot,Fe,pt;for(Ce instanceof Date||(Ce=new Date(+Ce));++Ie<Je;)ae.charCodeAt(Ie)===37&&(me.push(ae.slice(De,Ie)),(Fe=N4[ot=ae.charAt(++Ie)])!=null?ot=ae.charAt(++Ie):Fe=ot==="e"?" ":"0",(pt=ve[ot])&&(ot=pt(Ce,Fe)),me.push(ot),De=Ie+1);return me.push(ae.slice(De,Ie)),me.join("")}}function N(ae,ve){return function(Ce){var me=Cm(1900,void 0,1),Ie=T(me,ae,Ce+="",0),De,Je;if(Ie!=Ce.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(ve&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(De=CE(Cm(me.y,0,1)),Je=De.getUTCDay(),De=Je>4||Je===0?px.ceil(De):px(De),De=Wb.offset(De,(me.V-1)*7),me.y=De.getUTCFullYear(),me.m=De.getUTCMonth(),me.d=De.getUTCDate()+(me.w+6)%7):(De=TE(Cm(me.y,0,1)),Je=De.getDay(),De=Je>4||Je===0?mx.ceil(De):mx(De),De=Ng.offset(De,(me.V-1)*7),me.y=De.getFullYear(),me.m=De.getMonth(),me.d=De.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Je="Z"in me?CE(Cm(me.y,0,1)).getUTCDay():TE(Cm(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Je+5)%7:me.w+me.U*7-(Je+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,CE(me)):TE(me)}}function T(ae,ve,Ce,me){for(var Ie=0,De=ve.length,Je=Ce.length,ot,Fe;Ie<De;){if(me>=Je)return-1;if(ot=ve.charCodeAt(Ie++),ot===37){if(ot=ve.charAt(Ie++),Fe=P[ot in N4?ve.charAt(Ie++):ot],!Fe||(me=Fe(ae,Ce,me))<0)return-1}else if(ot!=Ce.charCodeAt(me++))return-1}return me}function I(ae,ve,Ce){var me=d.exec(ve.slice(Ce));return me?(ae.p=f.get(me[0].toLowerCase()),Ce+me[0].length):-1}function j(ae,ve,Ce){var me=y.exec(ve.slice(Ce));return me?(ae.w=x.get(me[0].toLowerCase()),Ce+me[0].length):-1}function D(ae,ve,Ce){var me=m.exec(ve.slice(Ce));return me?(ae.w=p.get(me[0].toLowerCase()),Ce+me[0].length):-1}function F(ae,ve,Ce){var me=S.exec(ve.slice(Ce));return me?(ae.m=O.get(me[0].toLowerCase()),Ce+me[0].length):-1}function V(ae,ve,Ce){var me=b.exec(ve.slice(Ce));return me?(ae.m=_.get(me[0].toLowerCase()),Ce+me[0].length):-1}function $(ae,ve,Ce){return T(ae,e,ve,Ce)}function Z(ae,ve,Ce){return T(ae,n,ve,Ce)}function J(ae,ve,Ce){return T(ae,r,ve,Ce)}function B(ae){return a[ae.getDay()]}function Q(ae){return s[ae.getDay()]}function H(ae){return c[ae.getMonth()]}function k(ae){return o[ae.getMonth()]}function U(ae){return i[+(ae.getHours()>=12)]}function G(ae){return 1+~~(ae.getMonth()/3)}function K(ae){return a[ae.getUTCDay()]}function X(ae){return s[ae.getUTCDay()]}function te(ae){return c[ae.getUTCMonth()]}function ie(ae){return o[ae.getUTCMonth()]}function re(ae){return i[+(ae.getUTCHours()>=12)]}function xe(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ve=A(ae+="",R);return ve.toString=function(){return ae},ve},parse:function(ae){var ve=N(ae+="",!1);return ve.toString=function(){return ae},ve},utcFormat:function(ae){var ve=A(ae+="",z);return ve.toString=function(){return ae},ve},utcParse:function(ae){var ve=N(ae+="",!0);return ve.toString=function(){return ae},ve}}}var N4={"-":"",_:" ",0:"0"},fr=/^\s*\d+/,Dde=/^%/,Ode=/[\\^$*+?|[\]().{}]/g;function Mt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Mde(t){return t.replace(Ode,"\\$&")}function Am(t){return new RegExp("^(?:"+t.map(Mde).join("|")+")","i")}function Pm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Lde(t,e,n){var r=fr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Vde(t,e,n){var r=fr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Fde(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Bde(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function zde(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function T4(t,e,n){var r=fr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function C4(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ude(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $de(t,e,n){var r=fr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function qde(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function A4(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Hde(t,e,n){var r=fr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function P4(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Wde(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Kde(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Gde(t,e,n){var r=fr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Xde(t,e,n){var r=fr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Yde(t,e,n){var r=Dde.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Qde(t,e,n){var r=fr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Jde(t,e,n){var r=fr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function I4(t,e){return Mt(t.getDate(),e,2)}function Zde(t,e){return Mt(t.getHours(),e,2)}function efe(t,e){return Mt(t.getHours()%12||12,e,2)}function tfe(t,e){return Mt(1+Ng.count(jo(t),t),e,3)}function f8(t,e){return Mt(t.getMilliseconds(),e,3)}function nfe(t,e){return f8(t,e)+"000"}function rfe(t,e){return Mt(t.getMonth()+1,e,2)}function ife(t,e){return Mt(t.getMinutes(),e,2)}function sfe(t,e){return Mt(t.getSeconds(),e,2)}function afe(t){var e=t.getDay();return e===0?7:e}function ofe(t,e){return Mt(Kb.count(jo(t)-1,t),e,2)}function h8(t){var e=t.getDay();return e>=4||e===0?Zf(t):Zf.ceil(t)}function lfe(t,e){return t=h8(t),Mt(Zf.count(jo(t),t)+(jo(t).getDay()===4),e,2)}function cfe(t){return t.getDay()}function ufe(t,e){return Mt(mx.count(jo(t)-1,t),e,2)}function dfe(t,e){return Mt(t.getFullYear()%100,e,2)}function ffe(t,e){return t=h8(t),Mt(t.getFullYear()%100,e,2)}function hfe(t,e){return Mt(t.getFullYear()%1e4,e,4)}function mfe(t,e){var n=t.getDay();return t=n>=4||n===0?Zf(t):Zf.ceil(t),Mt(t.getFullYear()%1e4,e,4)}function pfe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Mt(e/60|0,"0",2)+Mt(e%60,"0",2)}function j4(t,e){return Mt(t.getUTCDate(),e,2)}function gfe(t,e){return Mt(t.getUTCHours(),e,2)}function yfe(t,e){return Mt(t.getUTCHours()%12||12,e,2)}function vfe(t,e){return Mt(1+Wb.count(ko(t),t),e,3)}function m8(t,e){return Mt(t.getUTCMilliseconds(),e,3)}function xfe(t,e){return m8(t,e)+"000"}function bfe(t,e){return Mt(t.getUTCMonth()+1,e,2)}function wfe(t,e){return Mt(t.getUTCMinutes(),e,2)}function _fe(t,e){return Mt(t.getUTCSeconds(),e,2)}function Efe(t){var e=t.getUTCDay();return e===0?7:e}function Sfe(t,e){return Mt(Gb.count(ko(t)-1,t),e,2)}function p8(t){var e=t.getUTCDay();return e>=4||e===0?eh(t):eh.ceil(t)}function Nfe(t,e){return t=p8(t),Mt(eh.count(ko(t),t)+(ko(t).getUTCDay()===4),e,2)}function Tfe(t){return t.getUTCDay()}function Cfe(t,e){return Mt(px.count(ko(t)-1,t),e,2)}function Afe(t,e){return Mt(t.getUTCFullYear()%100,e,2)}function Pfe(t,e){return t=p8(t),Mt(t.getUTCFullYear()%100,e,2)}function Ife(t,e){return Mt(t.getUTCFullYear()%1e4,e,4)}function jfe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?eh(t):eh.ceil(t),Mt(t.getUTCFullYear()%1e4,e,4)}function kfe(){return"+0000"}function k4(){return"%"}function R4(t){return+t}function D4(t){return Math.floor(+t/1e3)}var Wd,g8,y8;Rfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Rfe(t){return Wd=Rde(t),g8=Wd.format,Wd.parse,y8=Wd.utcFormat,Wd.utcParse,Wd}function Dfe(t){return new Date(t)}function Ofe(t){return t instanceof Date?+t:+new Date(+t)}function bP(t,e,n,r,i,s,a,o,c,d){var f=aP(),m=f.invert,p=f.domain,y=d(".%L"),x=d(":%S"),b=d("%I:%M"),_=d("%I %p"),S=d("%a %d"),O=d("%b %d"),R=d("%B"),z=d("%Y");function P(A){return(c(A)<A?y:o(A)<A?x:a(A)<A?b:s(A)<A?_:r(A)<A?i(A)<A?S:O:n(A)<A?R:z)(A)}return f.invert=function(A){return new Date(m(A))},f.domain=function(A){return arguments.length?p(Array.from(A,Ofe)):p().map(Dfe)},f.ticks=function(A){var N=p();return t(N[0],N[N.length-1],A??10)},f.tickFormat=function(A,N){return N==null?P:d(N)},f.nice=function(A){var N=p();return(!A||typeof A.range!="function")&&(A=e(N[0],N[N.length-1],A??10)),A?p(r8(N,A)):f},f.copy=function(){return Sg(f,bP(t,e,n,r,i,s,a,o,c,d))},f}function Mfe(){return hs.apply(bP(jde,kde,jo,vP,Kb,Ng,gP,mP,cu,g8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Lfe(){return hs.apply(bP(Pde,Ide,ko,xP,Gb,Wb,yP,pP,cu,y8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xb(){var t=0,e=1,n,r,i,s,a=Kr,o=!1,c;function d(m){return m==null||isNaN(m=+m)?c:a(i===0?.5:(m=(s(m)-n)*i,o?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(o=!!m,d):o},d.interpolator=function(m){return arguments.length?(a=m,d):a};function f(m){return function(p){var y,x;return arguments.length?([y,x]=p,a=m(y,x),d):[a(0),a(1)]}}return d.range=f(gh),d.rangeRound=f(sP),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function yc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function v8(){var t=gc(Xb()(Kr));return t.copy=function(){return yc(t,v8())},qo.apply(t,arguments)}function x8(){var t=cP(Xb()).domain([1,10]);return t.copy=function(){return yc(t,x8()).base(t.base())},qo.apply(t,arguments)}function b8(){var t=uP(Xb());return t.copy=function(){return yc(t,b8()).constant(t.constant())},qo.apply(t,arguments)}function wP(){var t=dP(Xb());return t.copy=function(){return yc(t,wP()).exponent(t.exponent())},qo.apply(t,arguments)}function Vfe(){return wP.apply(null,arguments).exponent(.5)}function w8(){var t=[],e=Kr;function n(r){if(r!=null&&!isNaN(r=+r))return e((_g(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Wl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Eue(t,s/r))},n.copy=function(){return w8(e).domain(t)},qo.apply(n,arguments)}function Yb(){var t=0,e=.5,n=1,r=1,i,s,a,o,c,d=Kr,f,m=!1,p;function y(b){return isNaN(b=+b)?p:(b=.5+((b=+f(b))-s)*(r*b<r*s?o:c),d(m?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,n]=b,i=f(t=+t),s=f(e=+e),a=f(n=+n),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y):[t,e,n]},y.clamp=function(b){return arguments.length?(m=!!b,y):m},y.interpolator=function(b){return arguments.length?(d=b,y):d};function x(b){return function(_){var S,O,R;return arguments.length?([S,O,R]=_,d=Yue(b,[S,O,R]),y):[d(0),d(.5),d(1)]}}return y.range=x(gh),y.rangeRound=x(sP),y.unknown=function(b){return arguments.length?(p=b,y):p},function(b){return f=b,i=b(t),s=b(e),a=b(n),o=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y}}function _8(){var t=gc(Yb()(Kr));return t.copy=function(){return yc(t,_8())},qo.apply(t,arguments)}function E8(){var t=cP(Yb()).domain([.1,1,10]);return t.copy=function(){return yc(t,E8()).base(t.base())},qo.apply(t,arguments)}function S8(){var t=uP(Yb());return t.copy=function(){return yc(t,S8()).constant(t.constant())},qo.apply(t,arguments)}function _P(){var t=dP(Yb());return t.copy=function(){return yc(t,_P()).exponent(t.exponent())},qo.apply(t,arguments)}function Ffe(){return _P.apply(null,arguments).exponent(.5)}const qm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nP,scaleDiverging:_8,scaleDivergingLog:E8,scaleDivergingPow:_P,scaleDivergingSqrt:Ffe,scaleDivergingSymlog:S8,scaleIdentity:n8,scaleImplicit:pT,scaleLinear:t8,scaleLog:i8,scaleOrdinal:tP,scalePoint:Tue,scalePow:fP,scaleQuantile:o8,scaleQuantize:l8,scaleRadial:a8,scaleSequential:v8,scaleSequentialLog:x8,scaleSequentialPow:wP,scaleSequentialQuantile:w8,scaleSequentialSqrt:Vfe,scaleSequentialSymlog:b8,scaleSqrt:xde,scaleSymlog:s8,scaleThreshold:c8,scaleTime:Mfe,scaleUtc:Lfe,tickFormat:e8},Symbol.toStringTag,{value:"Module"}));var Ho=t=>t.chartData,N8=ye([Ho],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),EP=(t,e,n,r)=>r?N8(t):Ho(t),Bfe=(t,e,n)=>n?N8(t):Ho(t);function Ro(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ot(e)&&Ot(n))return!0}return!1}function O4(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function T8(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Ot(n))i=n;else if(typeof n=="function")return;if(Ot(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Ro(a))return a}}function zfe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Ro(r))return O4(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Qe(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&W5.test(i)){var c=W5.exec(i);if(c==null||c[1]==null||e==null)a=void 0;else{var d=+c[1];a=e[0]-d}}else a=e?.[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(Qe(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e?.[1]))}catch{}else if(typeof s=="string"&&K5.test(s)){var f=K5.exec(s);if(f==null||f[1]==null||e==null)o=void 0;else{var m=+f[1];o=e[1]+m}}else o=e?.[1];var p=[a,o];if(Ro(p))return e==null?p:O4(p,e,n)}}}var yh=1e9,Ufe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},NP,mn=!0,ds="[DecimalError] ",vu=ds+"Invalid argument: ",SP=ds+"Exponent out of range: ",vh=Math.floor,Jc=Math.pow,$fe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oi,sr=1e7,on=7,C8=9007199254740991,gx=vh(C8/on),ze={};ze.absoluteValue=ze.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ze.comparedTo=ze.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*on;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ze.dividedBy=ze.div=function(t){return _o(this,new this.constructor(t))};ze.dividedToIntegerBy=ze.idiv=function(t){var e=this,n=e.constructor;return Gt(_o(e,new n(t),0,1),n.precision)};ze.equals=ze.eq=function(t){return!this.cmp(t)};ze.exponent=function(){return zn(this)};ze.greaterThan=ze.gt=function(t){return this.cmp(t)>0};ze.greaterThanOrEqualTo=ze.gte=function(t){return this.cmp(t)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(t){return this.cmp(t)<0};ze.lessThanOrEqualTo=ze.lte=function(t){return this.cmp(t)<1};ze.logarithm=ze.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Oi))throw Error(ds+"NaN");if(n.s<1)throw Error(ds+(n.s?"NaN":"-Infinity"));return n.eq(Oi)?new r(0):(mn=!1,e=_o(Fp(n,s),Fp(t,s),s),mn=!0,Gt(e,i))};ze.minus=ze.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?I8(e,t):A8(e,(t.s=-t.s,t))};ze.modulo=ze.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ds+"NaN");return n.s?(mn=!1,e=_o(n,t,0,1).times(t),mn=!0,n.minus(e)):Gt(new r(n),i)};ze.naturalExponential=ze.exp=function(){return P8(this)};ze.naturalLogarithm=ze.ln=function(){return Fp(this)};ze.negated=ze.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ze.plus=ze.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A8(e,t):I8(e,(t.s=-t.s,t))};ze.precision=ze.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(vu+t);if(e=zn(i)+1,r=i.d.length-1,n=r*on+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ze.squareRoot=ze.sqrt=function(){var t,e,n,r,i,s,a,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(ds+"NaN")}for(t=zn(o),mn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Aa(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=vh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(_o(o,s,a+2)).times(.5),Aa(s.d).slice(0,a)===(e=Aa(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Gt(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return mn=!0,Gt(r,n)};ze.times=ze.mul=function(t){var e,n,r,i,s,a,o,c,d,f=this,m=f.constructor,p=f.d,y=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,n=f.e+t.e,c=p.length,d=y.length,c<d&&(s=p,p=y,y=s,a=c,c=d,d=a),s=[],a=c+d,r=a;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)o=s[i]+y[r]*p[i-r-1]+e,s[i--]=o%sr|0,e=o/sr|0;s[i]=(s[i]+e)%sr|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,mn?Gt(t,m.precision):t};ze.toDecimalPlaces=ze.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ba(t,0,yh),e===void 0?e=r.rounding:Ba(e,0,8),Gt(n,t+zn(n)+1,e))};ze.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=zu(r,!0):(Ba(t,0,yh),e===void 0?e=i.rounding:Ba(e,0,8),r=Gt(new i(r),t+1,e),n=zu(r,!0,t+1)),n};ze.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?zu(i):(Ba(t,0,yh),e===void 0?e=s.rounding:Ba(e,0,8),r=Gt(new s(i),t+zn(i)+1,e),n=zu(r.abs(),!1,t+zn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ze.toInteger=ze.toint=function(){var t=this,e=t.constructor;return Gt(new e(t),zn(t)+1,e.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(t){var e,n,r,i,s,a,o=this,c=o.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(Oi);if(o=new c(o),!o.s){if(t.s<1)throw Error(ds+"Infinity");return o}if(o.eq(Oi))return o;if(r=c.precision,t.eq(Oi))return Gt(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=f<0?-f:f)<=C8){for(i=new c(Oi),e=Math.ceil(r/on+4),mn=!1;n%2&&(i=i.times(o),L4(i.d,e)),n=vh(n/2),n!==0;)o=o.times(o),L4(o.d,e);return mn=!0,t.s<0?new c(Oi).div(i):Gt(i,r)}}else if(s<0)throw Error(ds+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,mn=!1,i=t.times(Fp(o,r+d)),mn=!0,i=P8(i),i.s=s,i};ze.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=zn(i),r=zu(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ba(t,1,yh),e===void 0?e=s.rounding:Ba(e,0,8),i=Gt(new s(i),t,e),n=zn(i),r=zu(i,t<=n||n<=s.toExpNeg,t)),r};ze.toSignificantDigits=ze.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ba(t,1,yh),e===void 0?e=r.rounding:Ba(e,0,8)),Gt(new r(n),t,e)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zn(t),n=t.constructor;return zu(t,e<=n.toExpNeg||e>=n.toExpPos)};function A8(t,e){var n,r,i,s,a,o,c,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),mn?Gt(e,m):e;if(c=t.d,d=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,o=d.length):(r=d,i=a,o=c.length),a=Math.ceil(m/on),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=c.length,s=d.length,o-s<0&&(s=o,r=d,d=c,c=r),n=0;s;)n=(c[--s]=c[s]+d[s]+n)/sr|0,c[s]%=sr;for(n&&(c.unshift(n),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,mn?Gt(e,m):e}function Ba(t,e,n){if(t!==~~t||t<e||t>n)throw Error(vu+t)}function Aa(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=on-r.length,n&&(s+=Cl(n)),s+=r;a=t[e],r=a+"",n=on-r.length,n&&(s+=Cl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var _o=(function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%sr|0,a=s/sr|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,c;if(s!=a)c=s>a?1:-1;else for(o=c=0;o<s;o++)if(r[o]!=i[o]){c=r[o]>i[o]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*sr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,c,d,f,m,p,y,x,b,_,S,O,R,z,P,A,N,T,I=r.constructor,j=r.s==i.s?1:-1,D=r.d,F=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(ds+"Division by zero");for(c=r.e-i.e,N=F.length,P=D.length,y=new I(j),x=y.d=[],d=0;F[d]==(D[d]||0);)++d;if(F[d]>(D[d]||0)&&--c,s==null?O=s=I.precision:a?O=s+(zn(r)-zn(i))+1:O=s,O<0)return new I(0);if(O=O/on+2|0,d=0,N==1)for(f=0,F=F[0],O++;(d<P||f)&&O--;d++)R=f*sr+(D[d]||0),x[d]=R/F|0,f=R%F|0;else{for(f=sr/(F[0]+1)|0,f>1&&(F=t(F,f),D=t(D,f),N=F.length,P=D.length),z=N,b=D.slice(0,N),_=b.length;_<N;)b[_++]=0;T=F.slice(),T.unshift(0),A=F[0],F[1]>=sr/2&&++A;do f=0,o=e(F,b,N,_),o<0?(S=b[0],N!=_&&(S=S*sr+(b[1]||0)),f=S/A|0,f>1?(f>=sr&&(f=sr-1),m=t(F,f),p=m.length,_=b.length,o=e(m,b,p,_),o==1&&(f--,n(m,N<p?T:F,p))):(f==0&&(o=f=1),m=F.slice()),p=m.length,p<_&&m.unshift(0),n(b,m,_),o==-1&&(_=b.length,o=e(F,b,N,_),o<1&&(f++,n(b,N<_?T:F,_))),_=b.length):o===0&&(f++,b=[0]),x[d++]=f,o&&b[0]?b[_++]=D[z]||0:(b=[D[z]],_=1);while((z++<P||b[0]!==void 0)&&O--)}return x[0]||x.shift(),y.e=c,Gt(y,a?s+zn(y)+1:s)}})();function P8(t,e){var n,r,i,s,a,o,c=0,d=0,f=t.constructor,m=f.precision;if(zn(t)>16)throw Error(SP+zn(t));if(!t.s)return new f(Oi);for(mn=!1,o=m,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(Jc(2,d))/Math.LN10*2+5|0,o+=r,n=i=s=new f(Oi),f.precision=o;;){if(i=Gt(i.times(t),o),n=n.times(++c),a=s.plus(_o(i,n,o)),Aa(a.d).slice(0,o)===Aa(s.d).slice(0,o)){for(;d--;)s=Gt(s.times(s),o);return f.precision=m,e==null?(mn=!0,Gt(s,m)):s}s=a}}function zn(t){for(var e=t.e*on,n=t.d[0];n>=10;n/=10)e++;return e}function AE(t,e,n){if(e>t.LN10.sd())throw mn=!0,n&&(t.precision=n),Error(ds+"LN10 precision limit exceeded");return Gt(new t(t.LN10),e)}function Cl(t){for(var e="";t--;)e+="0";return e}function Fp(t,e){var n,r,i,s,a,o,c,d,f,m=1,p=10,y=t,x=y.d,b=y.constructor,_=b.precision;if(y.s<1)throw Error(ds+(y.s?"NaN":"-Infinity"));if(y.eq(Oi))return new b(0);if(e==null?(mn=!1,d=_):d=e,y.eq(10))return e==null&&(mn=!0),AE(b,d);if(d+=p,b.precision=d,n=Aa(x),r=n.charAt(0),s=zn(y),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Aa(y.d),r=n.charAt(0),m++;s=zn(y),r>1?(y=new b("0."+n),s++):y=new b(r+"."+n.slice(1))}else return c=AE(b,d+2,_).times(s+""),y=Fp(new b(r+"."+n.slice(1)),d-p).plus(c),b.precision=_,e==null?(mn=!0,Gt(y,_)):y;for(o=a=y=_o(y.minus(Oi),y.plus(Oi),d),f=Gt(y.times(y),d),i=3;;){if(a=Gt(a.times(f),d),c=o.plus(_o(a,new b(i),d)),Aa(c.d).slice(0,d)===Aa(o.d).slice(0,d))return o=o.times(2),s!==0&&(o=o.plus(AE(b,d+2,_).times(s+""))),o=_o(o,new b(m),d),b.precision=_,e==null?(mn=!0,Gt(o,_)):o;o=c,i+=2}}function M4(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=vh(n/on),t.d=[],r=(n+1)%on,n<0&&(r+=on),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=on;r<i;)t.d.push(+e.slice(r,r+=on));e=e.slice(r),r=on-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),mn&&(t.e>gx||t.e<-gx))throw Error(SP+n)}else t.s=0,t.e=0,t.d=[0];return t}function Gt(t,e,n){var r,i,s,a,o,c,d,f,m=t.d;for(a=1,s=m[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=on,i=e,d=m[f=0];else{if(f=Math.ceil((r+1)/on),s=m.length,f>=s)return t;for(d=s=m[f],a=1;s>=10;s/=10)a++;r%=on,i=r-on+a}if(n!==void 0&&(s=Jc(10,a-i-1),o=d/s%10|0,c=e<0||m[f+1]!==void 0||d%s,c=n<4?(o||c)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||c||n==6&&(r>0?i>0?d/Jc(10,a-i):0:m[f-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(s=zn(t),m.length=1,e=e-s-1,m[0]=Jc(10,(on-e%on)%on),t.e=vh(-e/on)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=f,s=1,f--):(m.length=f+1,s=Jc(10,on-r),m[f]=i>0?(d/Jc(10,a-i)%Jc(10,i)|0)*s:0),c)for(;;)if(f==0){(m[0]+=s)==sr&&(m[0]=1,++t.e);break}else{if(m[f]+=s,m[f]!=sr)break;m[f--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(mn&&(t.e>gx||t.e<-gx))throw Error(SP+zn(t));return t}function I8(t,e){var n,r,i,s,a,o,c,d,f,m,p=t.constructor,y=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),mn?Gt(e,y):e;if(c=t.d,m=e.d,r=e.e,d=t.e,c=c.slice(),a=d-r,a){for(f=a<0,f?(n=c,a=-a,o=m.length):(n=m,r=d,o=c.length),i=Math.max(Math.ceil(y/on),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,o=m.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(c[i]!=m[i]){f=c[i]<m[i];break}a=0}for(f&&(n=c,c=m,m=n,e.s=-e.s),o=c.length,i=m.length-o;i>0;--i)c[o++]=0;for(i=m.length;i>a;){if(c[--i]<m[i]){for(s=i;s&&c[--s]===0;)c[s]=sr-1;--c[s],c[i]+=sr}c[i]-=m[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,mn?Gt(e,y):e):new p(0)}function zu(t,e,n){var r,i=zn(t),s=Aa(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Cl(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Cl(-i-1)+s,n&&(r=n-a)>0&&(s+=Cl(r))):i>=a?(s+=Cl(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Cl(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Cl(r))),t.s<0?"-"+s:s}function L4(t,e){if(t.length>e)return t.length=e,!0}function j8(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(vu+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return M4(a,s.toString())}else if(typeof s!="string")throw Error(vu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,$fe.test(s))M4(a,s);else throw Error(vu+s)}if(i.prototype=ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=j8,i.config=i.set=qfe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function qfe(t){if(!t||typeof t!="object")throw Error(ds+"Object expected");var e,n,r,i=["precision",1,yh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(vh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(vu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(vu+n+": "+r);return this}var NP=j8(Ufe);Oi=new NP(1);const Ut=NP;function k8(t){var e;return t===0?e=1:e=Math.floor(new Ut(t).abs().log(10).toNumber())+1,e}function R8(t,e,n){for(var r=new Ut(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var D8=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},O8=(t,e,n)=>{if(t.lte(0))return new Ut(0);var r=k8(t.toNumber()),i=new Ut(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Ut(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=o.mul(i);return e?new Ut(c.toNumber()):new Ut(Math.ceil(c.toNumber()))},Hfe=(t,e,n)=>{var r=new Ut(1),i=new Ut(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ut(10).pow(k8(t)-1),i=new Ut(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ut(Math.floor(t)))}else t===0?i=new Ut(Math.floor((e-1)/2)):n||(i=new Ut(Math.floor(t)));for(var a=Math.floor((e-1)/2),o=[],c=0;c<e;c++)o.push(i.add(new Ut(c-a).mul(r)).toNumber());return o},M8=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var a=O8(new Ut(n).sub(e).div(r-1),i,s),o;e<=0&&n>=0?o=new Ut(0):(o=new Ut(e).add(n).div(2),o=o.sub(new Ut(o).mod(a)));var c=Math.ceil(o.sub(e).div(a).toNumber()),d=Math.ceil(new Ut(n).sub(o).div(a).toNumber()),f=c+d+1;return f>r?M8(e,n,r,i,s+1):(f<r&&(d=n>0?d+(r-f):d,c=n>0?c:c+(r-f)),{step:a,tickMin:o.sub(new Ut(c).mul(a)),tickMax:o.add(new Ut(d).mul(a))})},Wfe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,c]=D8([n,r]);if(o===-1/0||c===1/0){var d=c===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return n>r?d.reverse():d}if(o===c)return Hfe(o,i,s);var{step:f,tickMin:m,tickMax:p}=M8(o,c,a,s,0),y=R8(m,p.add(new Ut(.1).mul(f)),f);return n>r?y.reverse():y},Kfe=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=D8([r,i]);if(a===-1/0||o===1/0)return[r,i];if(a===o)return[a];var c=Math.max(n,2),d=O8(new Ut(o).sub(a).div(c-1),s,0),f=[...R8(new Ut(a),new Ut(o),d),o];return s===!1&&(f=f.map(m=>Math.round(m))),r>i?f.reverse():f},Gfe=t=>t.rootProps.barCategoryGap,Qb=t=>t.rootProps.stackOffset,L8=t=>t.rootProps.reverseStackOrder,TP=t=>t.options.chartName,CP=t=>t.rootProps.syncId,V8=t=>t.rootProps.syncMethod,AP=t=>t.options.eventEmitter,Xfe=t=>t.rootProps.baseValue,Gr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},qc={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ha={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Jb=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function PP(t,e,n){if(n!=="auto")return n;if(t!=null)return Hs(t,e)?"category":"number"}function V4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(n),!0).forEach(function(r){Yfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yfe(t,e,n){return(e=Qfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qfe(t){var e=Jfe(t,"string");return typeof e=="symbol"?e:e+""}function Jfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F4={allowDataOverflow:qc.allowDataOverflow,allowDecimals:qc.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:qc.angleAxisId,includeHidden:!1,name:void 0,reversed:qc.reversed,scale:qc.scale,tick:qc.tick,tickCount:void 0,ticks:void 0,type:qc.type,unit:void 0},B4={allowDataOverflow:ha.allowDataOverflow,allowDecimals:ha.allowDecimals,allowDuplicatedCategory:ha.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ha.radiusAxisId,includeHidden:ha.includeHidden,name:void 0,reversed:ha.reversed,scale:ha.scale,tick:ha.tick,tickCount:ha.tickCount,ticks:void 0,type:ha.type,unit:void 0},Zfe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},IP=ye([Zfe,A$],(t,e)=>{var n;if(t!=null)return t;var r=(n=PP(e,"angleAxis",F4.type))!==null&&n!==void 0?n:"category";return yx(yx({},F4),{},{type:r})}),ehe=(t,e)=>t.polarAxis.radiusAxis[e],jP=ye([ehe,A$],(t,e)=>{var n;if(t!=null)return t;var r=(n=PP(e,"radiusAxis",B4.type))!==null&&n!==void 0?n:"category";return yx(yx({},B4),{},{type:r})}),Zb=t=>t.polarOptions,kP=ye([Uo,$o,Cr],Qce),F8=ye([Zb,kP],(t,e)=>{if(t!=null)return ic(t.innerRadius,e,0)}),B8=ye([Zb,kP],(t,e)=>{if(t!=null)return ic(t.outerRadius,e,e*.8)}),the=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},z8=ye([Zb],the);ye([IP,z8],Jb);var U8=ye([kP,F8,B8],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ye([jP,U8],Jb);var $8=ye([nn,Zb,F8,B8,Uo,$o],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:o,startAngle:c,endAngle:d}=e;return{cx:ic(a,i,i/2),cy:ic(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),hr=(t,e)=>e,ew=(t,e,n)=>n;function RP(t){return t?.id}function q8(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var f=RP(o);d.forEach((m,p)=>{var y=s==null||i?p:String(Kn(m,s,null)),x=Kn(m,o.dataKey,0),b;a.has(y)?b=a.get(y):b={},Object.assign(b,{[f]:x}),a.set(y,b)})}}),Array.from(a.values())}function DP(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var tw=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function nw(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function nhe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var mr=t=>{var e=nn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},xh=t=>t.tooltip.settings.axisId;function rhe(t){if(t in qm)return qm[t]();var e="scale".concat(pg(t));if(e in qm)return qm[e]()}function z4(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(s){function a(){return s.apply(this,arguments)}return a.toString=function(){return s.toString()},a})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var a=i[0],o=i[1];return a<=o?s>=a&&s<=o:s>=o&&s<=a},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,a)=>{var o=t(s);if(o!=null){if(t.bandwidth&&a!==null&&a!==void 0&&a.position){var c=t.bandwidth();switch(a.position){case"middle":o+=c/2;break;case"end":o+=c;break}}return o}}}}function U4(t,e,n){if(typeof t=="function")return z4(t.copy().domain(e).range(n));if(t!=null){var r=rhe(t);if(r!=null)return r.domain(e).range(n),z4(r)}}var ihe=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Ro(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];Ot(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function $4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(n),!0).forEach(function(r){she(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function she(t,e,n){return(e=ahe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ahe(t){var e=ohe(t,"string");return typeof e=="symbol"?e:e+""}function ohe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xT=[0,"auto"],H8={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},lhe=(t,e)=>t.cartesianAxis.xAxis[e],Wo=(t,e)=>{var n=lhe(t,e);return n??H8},rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:xT,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:vg},W8=(t,e)=>t.cartesianAxis.yAxis[e],Ko=(t,e)=>{var n=W8(t,e);return n??rr},che={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},OP=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??che},Zr=(t,e,n)=>{switch(e){case"xAxis":return Wo(t,n);case"yAxis":return Ko(t,n);case"zAxis":return OP(t,n);case"angleAxis":return IP(t,n);case"radiusAxis":return jP(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},uhe=(t,e,n)=>{switch(e){case"xAxis":return Wo(t,n);case"yAxis":return Ko(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Tg=(t,e,n)=>{switch(e){case"xAxis":return Wo(t,n);case"yAxis":return Ko(t,n);case"angleAxis":return IP(t,n);case"radiusAxis":return jP(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},K8=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function G8(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var MP=t=>t.graphicalItems.cartesianItems,dhe=ye([hr,ew],G8),X8=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Cg=ye([MP,Zr,dhe],X8,{memoizeOptions:{resultEqualityCheck:nw}}),Y8=ye([Cg],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(DP)),Q8=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),fhe=ye([Cg],Q8),J8=t=>t.map(e=>e.data).filter(Boolean).flat(1),hhe=ye([Cg],J8,{memoizeOptions:{resultEqualityCheck:nw}}),Z8=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},LP=ye([hhe,EP],Z8),e9=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Kn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Kn(i,r)}))):t.map(r=>({value:r})),rw=ye([LP,Zr,Cg],e9);function t9(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Xv(t){if(Fa(t)||t instanceof Date){var e=Number(t);if(Ot(e))return e}}function q4(t){if(Array.isArray(t)){var e=[Xv(t[0]),Xv(t[1])];return Ro(e)?e:void 0}var n=Xv(t);if(n!=null)return[n,n]}function Do(t){return t.map(Xv).filter(Ta)}function mhe(t,e,n){return!n||typeof e!="number"||Va(e)?[]:n.length?Do(n.flatMap(r=>{var i=Kn(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Ot(s)||!Ot(a)))return[e-s,e+a]})):[]}var Jn=t=>{var e=mr(t),n=xh(t);return Tg(t,e,n)},Ag=ye([Jn],t=>t?.dataKey),phe=ye([Y8,EP,Jn],q8),n9=(t,e,n,r)=>{var i={},s=e.reduce((a,o)=>{if(o.stackId==null)return a;var c=a[o.stackId];return c==null&&(c=[]),c.push(o),a[o.stackId]=c,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,c]=a,d=r?[...c].reverse():c,f=d.map(RP);return[o,{stackedData:Foe(t,f,n),graphicalItems:d}]}))},r9=ye([phe,Y8,Qb,L8],n9),i9=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=$oe(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},ghe=ye([Zr],t=>t.allowDataOverflow),VP=t=>{var e;if(t==null||!("domain"in t))return xT;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Do(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:xT},s9=ye([Zr],VP),a9=ye([s9,ghe],T8),yhe=ye([r9,Ho,hr,a9],i9,{memoizeOptions:{resultEqualityCheck:tw}}),FP=t=>t.errorBars,vhe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>t9(n,r)),xx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},o9=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(o=>{n.forEach(c=>{var d,f,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(S=>t9(i,S)),p=Kn(o,(f=e.dataKey)!==null&&f!==void 0?f:c.dataKey),y=mhe(o,p,m);if(y.length>=2){var x=Math.min(...y),b=Math.max(...y);(s==null||x<s)&&(s=x),(a==null||b>a)&&(a=b)}var _=q4(p);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),a=a==null?_[1]:Math.max(a,_[1]))})}),e?.dataKey!=null&&t.forEach(o=>{var c=q4(Kn(o,e.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),Ot(s)&&Ot(a))return[s,a]},xhe=ye([LP,Zr,fhe,FP,hr],o9,{memoizeOptions:{resultEqualityCheck:tw}});function bhe(t){var{value:e}=t;if(Fa(e)||e instanceof Date)return e}var whe=(t,e,n)=>{var r=t.map(bhe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&PU(r))?H$(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},l9=t=>t.referenceElements.dots,bh=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),_he=ye([l9,hr,ew],bh),c9=t=>t.referenceElements.areas,Ehe=ye([c9,hr,ew],bh),u9=t=>t.referenceElements.lines,She=ye([u9,hr,ew],bh),d9=(t,e)=>{if(t!=null){var n=Do(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Nhe=ye(_he,hr,d9),f9=(t,e)=>{if(t!=null){var n=Do(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},The=ye([Ehe,hr],f9);function Che(t){var e;if(t.x!=null)return Do([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Do(n)}function Ahe(t){var e;if(t.y!=null)return Do([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Do(n)}var h9=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Che(r):Ahe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Phe=ye([She,hr],h9),Ihe=ye(Nhe,Phe,The,(t,e,n)=>xx(t,n,e)),m9=(t,e,n,r,i,s,a,o)=>{if(n!=null)return n;var c=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",d=c?xx(r,s,i):xx(s,i);return zfe(e,d,t.allowDataOverflow)},jhe=ye([Zr,s9,a9,yhe,xhe,Ihe,nn,hr],m9,{memoizeOptions:{resultEqualityCheck:tw}}),khe=[0,1],p9=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:o,type:c}=t,d=Hs(e,s);if(d&&o==null){var f;return H$(0,(f=n?.length)!==null&&f!==void 0?f:0)}return c==="category"?whe(r,t,d):i==="expand"?khe:a}},BP=ye([Zr,nn,LP,rw,Qb,hr,jhe],p9);function Rhe(t){return t in qm}var g9=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(pg(r));return Rhe(s)?s:"point"}}},wh=ye([Zr,K8,TP],g9);function zP(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?U4(t.scale,n,r):U4(e,n,r)}var y9=(t,e,n)=>{var r=VP(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Ro(t))return Wfe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Ro(t))return Kfe(t,e.tickCount,e.allowDecimals)}},UP=ye([BP,Tg,wh],y9),v9=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Ro(e)&&Array.isArray(n)&&n.length>0){var i,s,a=e[0],o=(i=n[0])!==null&&i!==void 0?i:0,c=e[1],d=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(a,o),Math.max(c,d)]}return e},Dhe=ye([Zr,BP,UP,hr],v9),Ohe=ye(rw,Zr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Do(t.map(m=>m.value))).sort((m,p)=>m-p),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var c=r[o],d=r[o+1];if(!(c==null||d==null)){var f=d-c;n=Math.min(n,f)}}return n/a}}),x9=ye(Ohe,nn,Gfe,Cr,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Ot(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=ic(n,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),Mhe=(t,e,n)=>{var r=Wo(t,e);return r==null||typeof r.padding!="string"?0:x9(t,"xAxis",e,n,r.padding)},Lhe=(t,e,n)=>{var r=Ko(t,e);return r==null||typeof r.padding!="string"?0:x9(t,"yAxis",e,n,r.padding)},Vhe=ye(Wo,Mhe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Fhe=ye(Ko,Lhe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Bhe=ye([Cr,Vhe,Vb,Lb,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),zhe=ye([Cr,nn,Fhe,Vb,Lb,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Pg=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Bhe(t,n,r);case"yAxis":return zhe(t,n,r);case"zAxis":return(i=OP(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return z8(t);case"radiusAxis":return U8(t,n);default:return}},b9=ye([Zr,Pg],Jb),Uhe=ye([wh,Dhe],ihe),iw=ye([Zr,wh,Uhe,b9],zP);ye([Cg,FP,hr],vhe);function w9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var sw=(t,e)=>e,aw=(t,e,n)=>n,$he=ye(Ob,sw,aw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(w9)),qhe=ye(Mb,sw,aw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(w9)),_9=(t,e)=>({width:t.width,height:e.height}),Hhe=(t,e)=>{var n=typeof e.width=="number"?e.width:vg;return{width:n,height:t.height}};ye(Cr,Wo,_9);var Whe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Khe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Ghe=ye($o,Cr,$he,sw,aw,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var c=_9(e,o);a==null&&(a=Whe(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(d)*c.height,a+=(d?-1:1)*c.height}),s}),Xhe=ye(Uo,Cr,qhe,sw,aw,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var c=Hhe(e,o);a==null&&(a=Khe(e,r,t));var d=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(d)*c.width,a+=(d?-1:1)*c.width}),s}),Yhe=(t,e)=>{var n=Wo(t,e);if(n!=null)return Ghe(t,n.orientation,n.mirror)};ye([Cr,Wo,Yhe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}});var Qhe=(t,e)=>{var n=Ko(t,e);if(n!=null)return Xhe(t,n.orientation,n.mirror)},Jhe=ye([Cr,Ko,Qhe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Zhe=ye(Cr,Ko,(t,e)=>{var n=typeof e.width=="number"?e.width:vg;return{width:n,height:t.height}}),E9=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,o=Hs(t,r),c=e.map(d=>d.value);if(a&&o&&s==="category"&&i&&PU(c))return c}},$P=ye([nn,rw,Zr,hr],E9),S9=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Hs(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},qP=ye([nn,rw,Tg,hr],S9);ye([nn,uhe,wh,iw,$P,qP,Pg,UP,hr],(t,e,n,r,i,s,a,o,c)=>{if(e!=null){var d=Hs(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:o,range:a,realScaleType:n,scale:r}}});var eme=(t,e,n,r,i,s,a,o,c)=>{if(!(e==null||r==null)){var d=Hs(t,c),{type:f,ticks:m,tickCount:p}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/y:0;x=c==="angleAxis"&&s!=null&&s.length>=2?Rs(s[0]-s[1])*2*x:x;var b=m||i;return b?b.map((_,S)=>{var O=a?a.indexOf(_):_,R=r.map(O);return Ot(R)?{index:S,coordinate:R+x,value:_,offset:x}:null}).filter(Ta):d&&o?o.map((_,S)=>{var O=r.map(_);return Ot(O)?{coordinate:O+x,value:_,index:S,offset:x}:null}).filter(Ta):r.ticks?r.ticks(p).map((_,S)=>{var O=r.map(_);return Ot(O)?{coordinate:O+x,value:_,index:S,offset:x}:null}).filter(Ta):r.domain().map((_,S)=>{var O=r.map(_);return Ot(O)?{coordinate:O+x,value:a?a[_]:_,index:S,offset:x}:null}).filter(Ta)}},tme=ye([nn,Tg,wh,iw,UP,Pg,$P,qP,hr],eme),nme=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Hs(t,a),{tickCount:c}=e,d=0;return d=a==="angleAxis"&&r?.length>=2?Rs(r[0]-r[1])*2*d:d,o&&s?s.map((f,m)=>{var p=n.map(f);return Ot(p)?{coordinate:p+d,value:f,index:m,offset:d}:null}).filter(Ta):n.ticks?n.ticks(c).map((f,m)=>{var p=n.map(f);return Ot(p)?{coordinate:p+d,value:f,index:m,offset:d}:null}).filter(Ta):n.domain().map((f,m)=>{var p=n.map(f);return Ot(p)?{coordinate:p+d,value:i?i[f]:f,index:m,offset:d}:null}).filter(Ta)}},ow=ye([nn,Tg,iw,Pg,$P,qP,hr],nme),lw=ye(Zr,iw,(t,e)=>{if(!(t==null||e==null))return vx(vx({},t),{},{scale:e})}),rme=ye([Zr,wh,BP,b9],zP);ye((t,e,n)=>OP(t,n),rme,(t,e)=>{if(!(t==null||e==null))return vx(vx({},t),{},{scale:e})});var ime=ye([nn,Ob,Mb],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),N9=t=>t.options.defaultTooltipEventType,T9=t=>t.options.validateTooltipEventTypes;function C9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function HP(t,e){var n=N9(t),r=T9(t);return C9(e,n,r)}function sme(t){return ft(e=>HP(e,t))}var A9=(t,e)=>{var n,r=Number(e);if(!(Va(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},ame=t=>t.tooltip.settings,Ol={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ome={itemInteraction:{click:Ol,hover:Ol},axisInteraction:{click:Ol,hover:Ol},keyboardInteraction:Ol,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},P9=wi({name:"tooltip",initialState:ome,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:dn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ls(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:dn()},removeTooltipEntrySettings:{reducer(t,e){var n=Ls(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:dn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:lme,replaceTooltipEntrySettings:cme,removeTooltipEntrySettings:ume,setTooltipSettingsState:dme,setActiveMouseOverItemIndex:fme,mouseLeaveItem:WAe,mouseLeaveChart:I9,setActiveClickItemIndex:KAe,setMouseOverAxisIndex:j9,setMouseClickAxisIndex:hme,setSyncInteraction:bT,setKeyboardInteraction:wT}=P9.actions,mme=P9.reducer;function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(r){pme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pme(t,e,n){return(e=gme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gme(t){var e=yme(t,"string");return typeof e=="symbol"?e:e+""}function yme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vme(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function xme(t){return t.index!=null}var k9=(t,e,n,r)=>{if(e==null)return Ol;var i=vme(t,e,n);if(i==null)return Ol;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(xme(i)){if(s)return vv(vv({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return vv(vv({},Ol),{},{coordinate:i.coordinate})};function bme(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function wme(t,e){var n=bme(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function _me(t,e,n){if(n==null||e==null)return!0;var r=Kn(t,e);return r==null||!Ro(n)?!0:wme(r,n)}var WP=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Ot(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var c=Math.max(a,Math.min(s,o)),d=e[c];return d==null||_me(d,n,r)?String(c):null},R9=(t,e,n,r,i,s,a)=>{if(s!=null){var o=a[0],c=o?.getPosition(s);if(c!=null)return c;var d=i?.[Number(s)];if(d)return n==="horizontal"?{x:d.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:d.coordinate}}},D9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},O9=t=>t.options.tooltipPayloadSearcher,_h=t=>t.tooltip;function W4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W4(Object(n),!0).forEach(function(r){Eme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eme(t,e,n){return(e=Sme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sme(t){var e=Nme(t,"string");return typeof e=="symbol"?e:e+""}function Nme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tme(t,e){return t??e}var M9=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:f}=n,m=[];return t.reduce((p,y)=>{var x,{dataDefinedOnItem:b,settings:_}=y,S=Tme(b,o),O=Array.isArray(S)?w$(S,d,f):S,R=(x=_?.dataKey)!==null&&x!==void 0?x:r,z=_?.nameKey,P;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&a==="axis"?P=IU(O,r,i):P=s(O,e,c,z),Array.isArray(P))P.forEach(N=>{var T=K4(K4({},_),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});p.push(G5({tooltipEntrySettings:T,dataKey:N.dataKey,payload:N.payload,value:Kn(N.payload,N.dataKey),name:N.name}))});else{var A;p.push(G5({tooltipEntrySettings:_,dataKey:R,payload:P,value:Kn(P,R),name:(A=Kn(P,z))!==null&&A!==void 0?A:_?.name}))}return p},m)}},KP=ye([Jn,K8,TP],g9),Cme=ye([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Ame=ye([mr,xh],G8),Eh=ye([Cme,Jn,Ame],X8,{memoizeOptions:{resultEqualityCheck:nw}}),Pme=ye([Eh],t=>t.filter(DP)),Ime=ye([Eh],J8,{memoizeOptions:{resultEqualityCheck:nw}}),Sh=ye([Ime,Ho],Z8),jme=ye([Pme,Ho,Jn],q8),GP=ye([Sh,Jn,Eh],e9),L9=ye([Jn],VP),kme=ye([Jn],t=>t.allowDataOverflow),V9=ye([L9,kme],T8),Rme=ye([Eh],t=>t.filter(DP)),Dme=ye([jme,Rme,Qb,L8],n9),Ome=ye([Dme,Ho,mr,V9],i9),Mme=ye([Eh],Q8),Lme=ye([Sh,Jn,Mme,FP,mr],o9,{memoizeOptions:{resultEqualityCheck:tw}}),Vme=ye([l9,mr,xh],bh),Fme=ye([Vme,mr],d9),Bme=ye([c9,mr,xh],bh),zme=ye([Bme,mr],f9),Ume=ye([u9,mr,xh],bh),$me=ye([Ume,mr],h9),qme=ye([Fme,$me,zme],xx),Hme=ye([Jn,L9,V9,Ome,Lme,qme,nn,mr],m9),Ig=ye([Jn,nn,Sh,GP,Qb,mr,Hme],p9),Wme=ye([Ig,Jn,KP],y9),Kme=ye([Jn,Ig,Wme,mr],v9),F9=t=>{var e=mr(t),n=xh(t),r=!1;return Pg(t,e,n,r)},B9=ye([Jn,F9],Jb),z9=ye([Jn,KP,Kme,B9],zP),Gme=ye([nn,GP,Jn,mr],E9),Xme=ye([nn,GP,Jn,mr],S9),Yme=(t,e,n,r,i,s,a,o)=>{if(e){var{type:c}=e,d=Hs(t,o);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/f:0;return m=o==="angleAxis"&&i!=null&&i?.length>=2?Rs(i[0]-i[1])*2*m:m,d&&a?a.map((p,y)=>{var x=r.map(p);return Ot(x)?{coordinate:x+m,value:p,index:y,offset:m}:null}).filter(Ta):r.domain().map((p,y)=>{var x=r.map(p);return Ot(x)?{coordinate:x+m,value:s?s[p]:p,index:y,offset:m}:null}).filter(Ta)}}},Go=ye([nn,Jn,KP,z9,F9,Gme,Xme,mr],Yme),XP=ye([N9,T9,ame],(t,e,n)=>C9(n.shared,t,e)),U9=t=>t.tooltip.settings.trigger,YP=t=>t.tooltip.settings.defaultIndex,jg=ye([_h,XP,U9,YP],k9),Bp=ye([jg,Sh,Ag,Ig],WP),$9=ye([Go,Bp],A9),Qme=ye([jg],t=>{if(t)return t.dataKey});ye([jg],t=>{if(t)return t.graphicalItemId});var q9=ye([_h,XP,U9,YP],D9),Jme=ye([Uo,$o,nn,Cr,Go,YP,q9],R9),Zme=ye([jg,Jme],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),epe=ye([jg],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),tpe=ye([q9,Bp,Ho,Ag,$9,O9,XP],M9),npe=ye([tpe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function G4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G4(Object(n),!0).forEach(function(r){rpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rpe(t,e,n){return(e=ipe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ipe(t){var e=spe(t,"string");return typeof e=="symbol"?e:e+""}function spe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ape=()=>ft(Jn),ope=()=>{var t=ape(),e=ft(Go),n=ft(z9);return Yf(!t||!n?void 0:X4(X4({},t),{},{scale:n}),e)};function Y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(n),!0).forEach(function(r){lpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lpe(t,e,n){return(e=cpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cpe(t){var e=upe(t,"string");return typeof e=="symbol"?e:e+""}function upe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dpe=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},fpe=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=r;return Kd(Kd(Kd({},r),Sr(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:c}=r;return Kd(Kd(Kd({},r),Sr(r.cx,r.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function hpe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var H9=(t,e,n,r,i)=>{var s,a=(s=e?.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<a;o++){var c,d,f,m,p,y=o>0?(c=n[o-1])===null||c===void 0?void 0:c.coordinate:(d=n[a-1])===null||d===void 0?void 0:d.coordinate,x=(f=n[o])===null||f===void 0?void 0:f.coordinate,b=o>=a-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(p=n[o+1])===null||p===void 0?void 0:p.coordinate,_=void 0;if(!(y==null||x==null||b==null))if(Rs(x-y)!==Rs(b-x)){var S=[];if(Rs(b-x)===Rs(i[1]-i[0])){_=b;var O=x+i[1]-i[0];S[0]=Math.min(O,(O+y)/2),S[1]=Math.max(O,(O+y)/2)}else{_=y;var R=b+i[1]-i[0];S[0]=Math.min(x,(R+x)/2),S[1]=Math.max(x,(R+x)/2)}var z=[Math.min(x,(_+x)/2),Math.max(x,(_+x)/2)];if(t>z[0]&&t<=z[1]||t>=S[0]&&t<=S[1]){var P;return(P=n[o])===null||P===void 0?void 0:P.index}}else{var A=Math.min(y,b),N=Math.max(y,b);if(t>(A+x)/2&&t<=(N+x)/2){var T;return(T=n[o])===null||T===void 0?void 0:T.index}}}else if(e)for(var I=0;I<a;I++){var j=e[I];if(j!=null){var D=e[I+1],F=e[I-1];if(I===0&&D!=null&&t<=(j.coordinate+D.coordinate)/2||I===a-1&&F!=null&&t>(j.coordinate+F.coordinate)/2||I>0&&I<a-1&&F!=null&&D!=null&&t>(j.coordinate+F.coordinate)/2&&t<=(j.coordinate+D.coordinate)/2)return j.index}}return-1},W9=()=>ft(TP),QP=(t,e)=>e,K9=(t,e,n)=>n,JP=(t,e,n,r)=>r,mpe=ye(Go,t=>Sb(t,e=>e.coordinate)),ZP=ye([_h,QP,K9,JP],k9),eI=ye([ZP,Sh,Ag,Ig],WP),ppe=(t,e,n)=>{if(e!=null){var r=_h(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},G9=ye([_h,QP,K9,JP],D9),bx=ye([Uo,$o,nn,Cr,Go,JP,G9],R9),gpe=ye([ZP,bx],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),X9=ye([Go,eI],A9),ype=ye([G9,eI,Ho,Ag,X9,O9,QP],M9),vpe=ye([ZP,eI],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),xpe=(t,e,n,r,i,s,a)=>{if(!(!t||!n||!r||!i)&&hpe(t,a)){var o=qoe(t,e),c=H9(o,s,i,n,r),d=dpe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},bpe=(t,e,n,r,i,s,a)=>{if(!(!t||!r||!i||!s||!n)){var o=nue(t,n);if(o){var c=Hoe(o,e),d=H9(c,a,s,r,i),f=fpe(e,s,d,o);return{activeIndex:String(d),activeCoordinate:f}}}},wpe=(t,e,n,r,i,s,a,o)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?xpe(t,e,r,i,s,a,o):bpe(t,e,n,r,i,s,a)},_pe=ye(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Epe=ye(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Gr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:nhe}});function Q4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(n),!0).forEach(function(r){Spe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Spe(t,e,n){return(e=Npe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Npe(t){var e=Tpe(t,"string");return typeof e=="symbol"?e:e+""}function Tpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cpe={},Ape={zIndexMap:Object.values(Gr).reduce((t,e)=>J4(J4({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Cpe)},Ppe=new Set(Object.values(Gr));function Ipe(t){return Ppe.has(t)}var Y9=wi({name:"zIndex",initialState:Ape,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:dn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Ipe(n)&&delete t.zIndexMap[n])},prepare:dn()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:dn()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:dn()}}}),{registerZIndexPortal:jpe,unregisterZIndexPortal:kpe,registerZIndexPortalElement:Rpe,unregisterZIndexPortalElement:Dpe}=Y9.actions,Ope=Y9.reducer;function Xo(t){var{zIndex:e,children:n}=t,r=Cle(),i=r&&e!==void 0&&e!==0,s=_i(),a=Tr();E.useLayoutEffect(()=>i?(a(jpe({zIndex:e})),()=>{a(kpe({zIndex:e}))}):Ju,[a,e,i]);var o=ft(c=>_pe(c,e,s));return i?o?vb.createPortal(n,o):null:n}function _T(){return _T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_T.apply(null,arguments)}function Z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(n),!0).forEach(function(r){Mpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mpe(t,e,n){return(e=Lpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lpe(t){var e=Vpe(t,"string");return typeof e=="symbol"?e:e+""}function Vpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fpe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return E.isValidElement(e)?E.cloneElement(e,r):E.createElement(n,r)}function Bpe(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:c,tooltipEventType:d,chartName:f}=t,m=n,p=r,y=i;if(!c||!m||f!=="ScatterChart"&&d!=="axis")return null;var x,b,_;if(f==="ScatterChart")x=m,b=pce,_=Gr.cursorLine;else if(f==="BarChart")x=gce(o,m,s,a),b=z$,_=Gr.cursorRectangle;else if(o==="radial"&&RU(m)){var{cx:S,cy:O,radius:R,startAngle:z,endAngle:P}=U$(m);x={cx:S,cy:O,startAngle:z,endAngle:P,innerRadius:R,outerRadius:R},b=q$,_=Gr.cursorLine}else x={points:aue(o,m,s)},b=sp,_=Gr.cursorLine;var A=typeof c=="object"&&"className"in c?c.className:void 0,N=xv(xv(xv(xv({stroke:"#ccc",pointerEvents:"none"},s),x),xb(c)),{},{payload:p,payloadIndex:y,className:Xt("recharts-tooltip-cursor",A)});return E.createElement(Xo,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},E.createElement(Fpe,{cursor:c,cursorComp:b,cursorProps:N}))}function zpe(t){var e=ope(),n=Sle(),r=Zu(),i=W9();return e==null||n==null||r==null||i==null?null:E.createElement(Bpe,_T({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Q9=E.createContext(null),Upe=()=>E.useContext(Q9),PE={exports:{}},eM;function $pe(){return eM||(eM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,m||c,p),x=n?n+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],y]:c._events[x].push(y):(c._events[x]=y,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)e.call(f,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},o.prototype.listeners=function(d){var f=n?n+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,y=m.length,x=new Array(y);p<y;p++)x[p]=m[p].fn;return x},o.prototype.listenerCount=function(d){var f=n?n+d:d,m=this._events[f];return m?m.fn?1:m.length:0},o.prototype.emit=function(d,f,m,p,y,x){var b=n?n+d:d;if(!this._events[b])return!1;var _=this._events[b],S=arguments.length,O,R;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,m),!0;case 4:return _.fn.call(_.context,f,m,p),!0;case 5:return _.fn.call(_.context,f,m,p,y),!0;case 6:return _.fn.call(_.context,f,m,p,y,x),!0}for(R=1,O=new Array(S-1);R<S;R++)O[R-1]=arguments[R];_.fn.apply(_.context,O)}else{var z=_.length,P;for(R=0;R<z;R++)switch(_[R].once&&this.removeListener(d,_[R].fn,void 0,!0),S){case 1:_[R].fn.call(_[R].context);break;case 2:_[R].fn.call(_[R].context,f);break;case 3:_[R].fn.call(_[R].context,f,m);break;case 4:_[R].fn.call(_[R].context,f,m,p);break;default:if(!O)for(P=1,O=new Array(S-1);P<S;P++)O[P-1]=arguments[P];_[R].fn.apply(_[R].context,O)}}return!0},o.prototype.on=function(d,f,m){return s(this,d,f,m,!1)},o.prototype.once=function(d,f,m){return s(this,d,f,m,!0)},o.prototype.removeListener=function(d,f,m,p){var y=n?n+d:d;if(!this._events[y])return this;if(!f)return a(this,y),this;var x=this._events[y];if(x.fn)x.fn===f&&(!p||x.once)&&(!m||x.context===m)&&a(this,y);else{for(var b=0,_=[],S=x.length;b<S;b++)(x[b].fn!==f||p&&!x[b].once||m&&x[b].context!==m)&&_.push(x[b]);_.length?this._events[y]=_.length===1?_[0]:_:a(this,y)}return this},o.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(PE)),PE.exports}var qpe=$pe();const Hpe=vi(qpe);var zp=new Hpe,ET="recharts.syncEvent.tooltip",tM="recharts.syncEvent.brush",J9=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Va(n))return t[n]}},Wpe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},Z9=wi({name:"options",initialState:Wpe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Kpe=Z9.reducer,{createEventEmitter:Gpe}=Z9.actions;function Xpe(t){return t.tooltip.syncInteraction}var Ype={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},e7=wi({name:"chartData",initialState:Ype,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:nM,setDataStartEndIndexes:Qpe,setComputedData:GAe}=e7.actions,Jpe=e7.reducer,Zpe=["x","y"];function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){ege(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ege(t,e,n){return(e=tge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tge(t){var e=nge(t,"string");return typeof e=="symbol"?e:e+""}function nge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rge(t,e){if(t==null)return{};var n,r,i=ige(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ige(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sge(){var t=ft(CP),e=ft(AP),n=Tr(),r=ft(V8),i=ft(Go),s=Zu(),a=Fb(),o=ft(c=>c.rootProps.className);E.useEffect(()=>{if(t==null)return Ju;var c=(d,f,m)=>{if(e!==m&&t===d){if(r==="index"){var p;if(a&&f!==null&&f!==void 0&&(p=f.payload)!==null&&p!==void 0&&p.coordinate&&f.payload.sourceViewBox){var y=f.payload.coordinate,{x,y:b}=y,_=rge(y,Zpe),{x:S,y:O,width:R,height:z}=f.payload.sourceViewBox,P=Gd(Gd({},_),{},{x:a.x+(R?(x-S)/R:0)*a.width,y:a.y+(z?(b-O)/z:0)*a.height});n(Gd(Gd({},f),{},{payload:Gd(Gd({},f.payload),{},{coordinate:P})}))}else n(f);return}if(i!=null){var A;if(typeof r=="function"){var N={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},T=r(i,N);A=i[T]}else r==="value"&&(A=i.find(J=>String(J.value)===f.payload.label));var{coordinate:I}=f.payload;if(A==null||f.payload.active===!1||I==null||a==null){n(bT({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:j,y:D}=I,F=Math.min(j,a.x+a.width),V=Math.min(D,a.y+a.height),$={x:s==="horizontal"?A.coordinate:F,y:s==="horizontal"?V:A.coordinate},Z=bT({active:f.payload.active,coordinate:$,dataKey:f.payload.dataKey,index:String(A.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(Z)}}};return zp.on(ET,c),()=>{zp.off(ET,c)}},[o,n,e,t,r,i,s,a])}function age(){var t=ft(CP),e=ft(AP),n=Tr();E.useEffect(()=>{if(t==null)return Ju;var r=(i,s,a)=>{e!==a&&t===i&&n(Qpe(s))};return zp.on(tM,r),()=>{zp.off(tM,r)}},[n,e,t])}function oge(){var t=Tr();E.useEffect(()=>{t(Gpe())},[t]),sge(),age()}function lge(t,e,n,r,i,s){var a=ft(y=>ppe(y,t,e)),o=ft(AP),c=ft(CP),d=ft(V8),f=ft(Xpe),m=f?.active,p=Fb();E.useEffect(()=>{if(!m&&c!=null&&o!=null){var y=bT({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});zp.emit(ET,c,y,o)}},[m,n,a,i,r,o,c,d,s,p])}function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){cge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cge(t,e,n){return(e=uge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uge(t){var e=dge(t,"string");return typeof e=="symbol"?e:e+""}function dge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fge(t){return t.dataKey}function hge(t,e){return E.isValidElement(t)?E.cloneElement(t,e):typeof t=="function"?E.createElement(t,e):E.createElement(Gle,e)}var aM=[],mge={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function pge(t){var e,n,r=bi(t,mge),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:c,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:p,position:y,reverseDirection:x,useTranslate3d:b,wrapperStyle:_,cursor:S,shared:O,trigger:R,defaultIndex:z,portal:P,axisId:A}=r,N=Tr(),T=typeof z=="number"?String(z):z;E.useEffect(()=>{N(dme({shared:O,trigger:R,axisId:A,active:i,defaultIndex:T}))},[N,O,R,A,i,T]);var I=Fb(),j=M$(),D=sme(O),{activeIndex:F,isActive:V}=(e=ft(re=>vpe(re,D,R,T)))!==null&&e!==void 0?e:{},$=ft(re=>ype(re,D,R,T)),Z=ft(re=>X9(re,D,R,T)),J=ft(re=>gpe(re,D,R,T)),B=$,Q=Upe(),H=(n=i??V)!==null&&n!==void 0?n:!1,[k,U]=jae([B,H]),G=D==="axis"?Z:void 0;lge(D,R,J,G,F,H);var K=P??Q;if(K==null||I==null||D==null)return null;var X=B??aM;H||(X=aM),d&&X.length&&(X=rae(X.filter(re=>re.value!=null&&(re.hide!==!0||r.includeHidden)),p,fge));var te=X.length>0,ie=E.createElement(tce,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:f,active:H,coordinate:J,hasPayload:te,offset:m,position:y,reverseDirection:x,useTranslate3d:b,viewBox:I,wrapperStyle:_,lastBoundingBox:k,innerRef:U,hasPortalFromProps:!!P},hge(c,sM(sM({},r),{},{payload:X,label:G,active:H,activeIndex:F,coordinate:J,accessibilityLayer:j})));return E.createElement(E.Fragment,null,vb.createPortal(ie,K),H&&E.createElement(zpe,{cursor:S,tooltipEventType:D,coordinate:J,payload:X,index:F}))}function gge(t,e,n){return(e=yge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yge(t){var e=vge(t,"string");return typeof e=="symbol"?e:e+""}function vge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xge{constructor(e){gge(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){wge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wge(t,e,n){return(e=_ge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ge(t){var e=Ege(t,"string");return typeof e=="symbol"?e:e+""}function Ege(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sge={cacheSize:2e3,enableCache:!0},t7=bge({},Sge),lM=new xge(t7.cacheSize),Nge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cM="recharts_measurement_span";function Tge(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var uM=(t,e)=>{try{var n=document.getElementById(cM);n||(n=document.createElement("span"),n.setAttribute("id",cM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Nge,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},ap=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wg.isSsr)return{width:0,height:0};if(!t7.enableCache)return uM(e,n);var r=Tge(e,n),i=lM.get(r);if(i)return i;var s=uM(e,n);return lM.set(r,s),s},n7;function Cge(t,e,n){return(e=Age(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Age(t){var e=Pge(t,"string");return typeof e=="symbol"?e:e+""}function Pge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ige=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,jge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kge={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Rge=["cm","mm","pt","pc","in","Q","px"];function Dge(t){return Rge.includes(t)}var af="NaN";function Oge(t,e){return t*kge[e]}class _r{static parse(e){var n,[,r,i]=(n=jge.exec(e))!==null&&n!==void 0?n:[];return r==null?_r.NaN:new _r(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Va(e)&&(this.unit=""),n!==""&&!Ige.test(n)&&(this.num=NaN,this.unit=""),Dge(n)&&(this.num=Oge(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new _r(NaN,""):new _r(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new _r(NaN,""):new _r(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _r(NaN,""):new _r(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _r(NaN,""):new _r(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Va(this.num)}}n7=_r;Cge(_r,"NaN",new n7(NaN,""));function r7(t){if(t==null||t.includes(af))return af;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=dM.exec(e))!==null&&n!==void 0?n:[],a=_r.parse(r??""),o=_r.parse(s??""),c=i==="*"?a.multiply(o):a.divide(o);if(c.isNaN())return af;e=e.replace(dM,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,m,p]=(d=fM.exec(e))!==null&&d!==void 0?d:[],y=_r.parse(f??""),x=_r.parse(p??""),b=m==="+"?y.add(x):y.subtract(x);if(b.isNaN())return af;e=e.replace(fM,b.toString())}return e}var hM=/\(([^()]*)\)/;function Mge(t){for(var e=t,n;(n=hM.exec(e))!=null;){var[,r]=n;e=e.replace(hM,r7(r))}return e}function Lge(t){var e=t.replace(/\s+/g,"");return e=Mge(e),e=r7(e),e}function Vge(t){try{return Lge(t)}catch{return af}}function IE(t){var e=Vge(t.slice(5,-1));return e===af?"":e}var Fge=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Bge=["dx","dy","angle","className","breakAll"];function ST(){return ST=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ST.apply(null,arguments)}function mM(t,e){if(t==null)return{};var n,r,i=zge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var i7=/[ \f\n\r\t\v\u2028\u2029]+/,s7=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];dr(e)||(n?i=e.toString().split(""):i=e.toString().split(i7));var s=i.map(o=>({word:o,width:ap(o,r).width})),a=n?0:ap("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function Uge(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var a7=(t,e,n,r)=>t.reduce((i,s)=>{var{word:a,width:o}=s,c=i[i.length-1];if(c&&o!=null&&(e==null||r||c.width+o+n<Number(e)))c.words.push(a),c.width+=o+n;else{var d={words:[a],width:o};i.push(d)}return i},[]),o7=t=>t.reduce((e,n)=>e.width>n.width?e:n),$ge="",pM=(t,e,n,r,i,s,a,o)=>{var c=t.slice(0,e),d=s7({breakAll:n,style:r,children:c+$ge});if(!d)return[!1,[]];var f=a7(d.wordsWithComputedWidth,s,a,o),m=f.length>i||o7(f).width>Number(s);return[m,f]},qge=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:c}=t,d=Qe(s),f=String(a),m=a7(e,r,n,i);if(!d||i)return m;var p=m.length>s||o7(m).width>Number(r);if(!p)return m;for(var y=0,x=f.length-1,b=0,_;y<=x&&b<=f.length-1;){var S=Math.floor((y+x)/2),O=S-1,[R,z]=pM(f,O,c,o,s,r,n,i),[P]=pM(f,S,c,o,s,r,n,i);if(!R&&!P&&(y=S+1),R&&P&&(x=S-1),!R&&P){_=z;break}b++}return _||m},gM=t=>{var e=dr(t)?[]:t.toString().split(i7);return[{words:e,width:void 0}]},Hge=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!wg.isSsr){var o,c,d=s7({breakAll:s,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:m}=d;o=f,c=m}else return gM(r);return qge({breakAll:s,children:r,maxLines:a,style:i},o,c,e,!!n)}return gM(r)},l7="#808080",Wge={angle:0,breakAll:!1,capHeight:"0.71em",fill:l7,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},tI=E.forwardRef((t,e)=>{var n=bi(t,Wge),{x:r,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:c,textAnchor:d,verticalAnchor:f}=n,m=mM(n,Fge),p=E.useMemo(()=>Hge({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:y,dy:x,angle:b,className:_,breakAll:S}=m,O=mM(m,Bge);if(!Fa(r)||!Fa(i)||p.length===0)return null;var R=Number(r)+(Qe(y)?y:0),z=Number(i)+(Qe(x)?x:0);if(!Ot(R)||!Ot(z))return null;var P;switch(f){case"start":P=IE("calc(".concat(a,")"));break;case"middle":P=IE("calc(".concat((p.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:P=IE("calc(".concat(p.length-1," * -").concat(s,")"));break}var A=[],N=p[0];if(c&&N!=null){var T=N.width,{width:I}=m;A.push("scale(".concat(Qe(I)&&Qe(T)?I/T:1,")"))}return b&&A.push("rotate(".concat(b,", ").concat(R,", ").concat(z,")")),A.length&&(O.transform=A.join(" ")),E.createElement("text",ST({},Ur(O),{ref:e,x:R,y:z,className:Xt("recharts-text",_),textAnchor:d,fill:o.includes("url")?l7:o}),p.map((j,D)=>{var F=j.words.join(S?"":" ");return E.createElement("tspan",{x:R,dy:D===0?P:s,key:"".concat(F,"-").concat(D)},F)}))});tI.displayName="Text";function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ma(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){Kge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kge(t,e,n){return(e=Gge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gge(t){var e=Xge(t,"string");return typeof e=="symbol"?e:e+""}function Xge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yge=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:a,height:o,upperWidth:c,lowerWidth:d}=QA(e),f=s,m=s+(c-d)/2,p=(f+m)/2,y=(c+d)/2,x=f+c/2,b=o>=0?1:-1,_=b*r,S=b>0?"end":"start",O=b>0?"start":"end",R=c>=0?1:-1,z=R*r,P=R>0?"end":"start",A=R>0?"start":"end",N=i;if(n==="top"){var T={x:f+c/2,y:a-_,horizontalAnchor:"middle",verticalAnchor:S};return N&&(T.height=Math.max(a-N.y,0),T.width=c),T}if(n==="bottom"){var I={x:m+d/2,y:a+o+_,horizontalAnchor:"middle",verticalAnchor:O};return N&&(I.height=Math.max(N.y+N.height-(a+o),0),I.width=d),I}if(n==="left"){var j={x:p-z,y:a+o/2,horizontalAnchor:P,verticalAnchor:"middle"};return N&&(j.width=Math.max(j.x-N.x,0),j.height=o),j}if(n==="right"){var D={x:p+y+z,y:a+o/2,horizontalAnchor:A,verticalAnchor:"middle"};return N&&(D.width=Math.max(N.x+N.width-D.x,0),D.height=o),D}var F=N?{width:y,height:o}:{};return n==="insideLeft"?ma({x:p+z,y:a+o/2,horizontalAnchor:A,verticalAnchor:"middle"},F):n==="insideRight"?ma({x:p+y-z,y:a+o/2,horizontalAnchor:P,verticalAnchor:"middle"},F):n==="insideTop"?ma({x:f+c/2,y:a+_,horizontalAnchor:"middle",verticalAnchor:O},F):n==="insideBottom"?ma({x:m+d/2,y:a+o-_,horizontalAnchor:"middle",verticalAnchor:S},F):n==="insideTopLeft"?ma({x:f+z,y:a+_,horizontalAnchor:A,verticalAnchor:O},F):n==="insideTopRight"?ma({x:f+c-z,y:a+_,horizontalAnchor:P,verticalAnchor:O},F):n==="insideBottomLeft"?ma({x:m+z,y:a+o-_,horizontalAnchor:A,verticalAnchor:S},F):n==="insideBottomRight"?ma({x:m+d-z,y:a+o-_,horizontalAnchor:P,verticalAnchor:S},F):n&&typeof n=="object"&&(Qe(n.x)||Lu(n.x))&&(Qe(n.y)||Lu(n.y))?ma({x:s+ic(n.x,y),y:a+ic(n.y,o),horizontalAnchor:"end",verticalAnchor:"end"},F):ma({x,y:a+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},F)},Qge=["labelRef"],Jge=["content"];function vM(t,e){if(t==null)return{};var n,r,i=Zge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function xM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xM(Object(n),!0).forEach(function(r){eye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eye(t,e,n){return(e=tye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tye(t){var e=nye(t,"string");return typeof e=="symbol"?e:e+""}function nye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fo(){return fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fo.apply(null,arguments)}var c7=E.createContext(null),rye=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:o}=t,c=E.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,n,r,i,s,a]);return E.createElement(c7.Provider,{value:c},o)},u7=()=>{var t=E.useContext(c7),e=Fb();return t||(e?QA(e):void 0)},iye=E.createContext(null),sye=()=>{var t=E.useContext(iye),e=ft($8);return t||e},aye=t=>{var{value:e,formatter:n}=t,r=dr(t.children)?e:t.children;return typeof n=="function"?n(r):r},nI=t=>t!=null&&typeof t=="function",oye=(t,e)=>{var n=Rs(e-t),r=Math.min(Math.abs(e-t),360);return n*r},lye=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:o,cy:c,innerRadius:d,outerRadius:f,startAngle:m,endAngle:p,clockWise:y}=i,x=(d+f)/2,b=oye(m,p),_=b>=0?1:-1,S,O;switch(e){case"insideStart":S=m+_*s,O=y;break;case"insideEnd":S=p-_*s,O=!y;break;case"end":S=p+_*s,O=y;break;default:throw new Error("Unsupported position ".concat(e))}O=b<=0?O:!O;var R=Sr(o,c,x,S),z=Sr(o,c,x,S+(O?1:-1)*359),P="M".concat(R.x,",").concat(R.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(O?0:1,`,
    `).concat(z.x,",").concat(z.y),A=dr(t.id)?Cp("recharts-radial-line-"):t.id;return E.createElement("text",fo({},r,{dominantBaseline:"central",className:Xt("recharts-radial-bar-label",a)}),E.createElement("defs",null,E.createElement("path",{id:A,d:P})),E.createElement("textPath",{xlinkHref:"#".concat(A)},n))},cye=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:c}=t,d=(o+c)/2;if(n==="outside"){var{x:f,y:m}=Sr(r,i,a+e,d);return{x:f,y:m,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(s+a)/2,{x:y,y:x}=Sr(r,i,p,d);return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},Yv=t=>t!=null&&"cx"in t&&Qe(t.cx),uye={angle:0,offset:5,zIndex:Gr.label,position:"middle",textBreakAll:!1};function dye(t){if(!Yv(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Al(t){var e=bi(t,uye),{viewBox:n,parentViewBox:r,position:i,value:s,children:a,content:o,className:c="",textBreakAll:d,labelRef:f}=e,m=sye(),p=u7(),y=i==="center"?p:m??p,x,b,_;n==null?x=y:Yv(n)?x=n:x=QA(n);var S=dye(x);if(!x||dr(s)&&dr(a)&&!E.isValidElement(o)&&typeof o!="function")return null;var O=Hm(Hm({},e),{},{viewBox:x});if(E.isValidElement(o)){var{labelRef:R}=O,z=vM(O,Qge);return E.cloneElement(o,z)}if(typeof o=="function"){var{content:P}=O,A=vM(O,Jge);if(b=E.createElement(o,A),E.isValidElement(b))return b}else b=aye(e);var N=Ur(e);if(Yv(x)){if(i==="insideStart"||i==="insideEnd"||i==="end")return lye(e,i,b,N,x);_=cye(x,e.offset,e.position)}else{if(!S)return null;var T=Yge({viewBox:S,position:i,offset:e.offset,parentViewBox:Yv(r)?void 0:r});_=Hm(Hm({x:T.x,y:T.y,textAnchor:T.horizontalAnchor,verticalAnchor:T.verticalAnchor},T.width!==void 0?{width:T.width}:{}),T.height!==void 0?{height:T.height}:{})}return E.createElement(Xo,{zIndex:e.zIndex},E.createElement(tI,fo({ref:f,className:Xt("recharts-label",c)},N,_,{textAnchor:Uge(N.textAnchor)?N.textAnchor:_.textAnchor,breakAll:d}),b))}Al.displayName="Label";var fye=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?E.createElement(Al,fo({key:"label-implicit"},r)):Fa(t)?E.createElement(Al,fo({key:"label-implicit",value:t},r)):E.isValidElement(t)?t.type===Al?E.cloneElement(t,Hm({key:"label-implicit"},r)):E.createElement(Al,fo({key:"label-implicit",content:t},r)):nI(t)?E.createElement(Al,fo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?E.createElement(Al,fo({},t,{key:"label-implicit"},r)):null};function hye(t){var{label:e,labelRef:n}=t,r=u7();return fye(e,r,n)||null}var jE={},kE={},bM;function mye(){return bM||(bM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(kE)),kE}var RE={},wM;function pye(){return wM||(wM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(RE)),RE}var _M;function gye(){return _M||(_M=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mye(),n=pye(),r=zA();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(jE)),jE}var DE,EM;function yye(){return EM||(EM=1,DE=gye().last),DE}var vye=yye();const xye=vi(vye);var bye=["valueAccessor"],wye=["dataKey","clockWise","id","textBreakAll","zIndex"];function wx(){return wx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wx.apply(null,arguments)}function SM(t,e){if(t==null)return{};var n,r,i=_ye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _ye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Eye=t=>Array.isArray(t.value)?xye(t.value):t.value,d7=E.createContext(void 0),f7=d7.Provider,h7=E.createContext(void 0);h7.Provider;function Sye(){return E.useContext(d7)}function Nye(){return E.useContext(h7)}function Qv(t){var{valueAccessor:e=Eye}=t,n=SM(t,bye),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:o}=n,c=SM(n,wye),d=Sye(),f=Nye(),m=d||f;return!m||!m.length?null:E.createElement(Xo,{zIndex:o??Gr.label},E.createElement(cs,{className:"recharts-label-list"},m.map((p,y)=>{var x,b=dr(r)?e(p,y):Kn(p.payload,r),_=dr(s)?{}:{id:"".concat(s,"-").concat(y)};return E.createElement(Al,wx({key:"label-".concat(y)},Ur(p),c,_,{fill:(x=n.fill)!==null&&x!==void 0?x:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:a,viewBox:p.viewBox,index:y,zIndex:0}))})))}Qv.displayName="LabelList";function m7(t){var{label:e}=t;return e?e===!0?E.createElement(Qv,{key:"labelList-implicit"}):E.isValidElement(e)||nI(e)?E.createElement(Qv,{key:"labelList-implicit",content:e}):typeof e=="object"?E.createElement(Qv,wx({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function NT(){return NT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NT.apply(null,arguments)}var p7=t=>{var{cx:e,cy:n,r,className:i}=t,s=Xt("recharts-dot",i);return Qe(e)&&Qe(n)&&Qe(r)?E.createElement("circle",NT({},zs(t),BA(t),{className:s,cx:e,cy:n,r})):null},Tye={radiusAxis:{},angleAxis:{}},g7=wi({name:"polarAxis",initialState:Tye,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:XAe,removeRadiusAxis:YAe,addAngleAxis:QAe,removeAngleAxis:JAe}=g7.actions,Cye=g7.reducer;function Aye(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var rI=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,OE={},NM;function Pye(){return NM||(NM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(OE)),OE}var ME,TM;function Iye(){return TM||(TM=1,ME=Pye().isPlainObject),ME}var jye=Iye();const kye=vi(jye);var CM,AM,PM,IM,jM;function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){Rye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rye(t,e,n){return(e=Dye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dye(t){var e=Oye(t,"string");return typeof e=="symbol"?e:e+""}function Oye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _x(){return _x=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_x.apply(null,arguments)}function Im(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var DM=(t,e,n,r,i)=>{var s=n-r,a;return a=Tn(CM||(CM=Im(["M ",",",""])),t,e),a+=Tn(AM||(AM=Im(["L ",",",""])),t+n,e),a+=Tn(PM||(PM=Im(["L ",",",""])),t+n-s/2,e+i),a+=Tn(IM||(IM=Im(["L ",",",""])),t+n-s/2-r,e+i),a+=Tn(jM||(jM=Im(["L ",","," Z"])),t,e),a},Mye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lye=t=>{var e=bi(t,Mye),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:m}=e,p=E.useRef(null),[y,x]=E.useState(-1),b=E.useRef(i),_=E.useRef(s),S=E.useRef(a),O=E.useRef(n),R=E.useRef(r),z=qb(t,"trapezoid-");if(E.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var $=p.current.getTotalLength();$&&x($)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var P=Xt("recharts-trapezoid",o);if(!m)return E.createElement("g",null,E.createElement("path",_x({},Ur(e),{className:P,d:DM(n,r,i,s,a)})));var A=b.current,N=_.current,T=S.current,I=O.current,j=R.current,D="0px ".concat(y===-1?1:y,"px"),F="".concat(y,"px 0px"),V=L$(["strokeDasharray"],d,c);return E.createElement($b,{animationId:z,key:z,canBegin:y>0,duration:d,easing:c,isActive:m,begin:f},$=>{var Z=Fn(A,i,$),J=Fn(N,s,$),B=Fn(T,a,$),Q=Fn(I,n,$),H=Fn(j,r,$);p.current&&(b.current=Z,_.current=J,S.current=B,O.current=Q,R.current=H);var k=$>0?{transition:V,strokeDasharray:F}:{strokeDasharray:D};return E.createElement("path",_x({},Ur(e),{className:P,d:DM(Q,H,Z,J,B),ref:p,style:RM(RM({},k),e.style)}))})},Vye=["option","shapeType","activeClassName"];function Fye(t,e){if(t==null)return{};var n,r,i=Bye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ex(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){zye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zye(t,e,n){return(e=Uye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uye(t){var e=$ye(t,"string");return typeof e=="symbol"?e:e+""}function $ye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qye(t,e){return Ex(Ex({},e),t)}function Hye(t,e){return t==="symbols"}function MM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return E.createElement(z$,n);case"trapezoid":return E.createElement(Lye,n);case"sector":return E.createElement(q$,n);case"symbols":if(Hye(e))return E.createElement(kU,n);break;case"curve":return E.createElement(sp,n);default:return null}}function Wye(t){return E.isValidElement(t)?t.props:t}function Kye(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Fye(t,Vye),s;if(E.isValidElement(e))s=E.cloneElement(e,Ex(Ex({},i),Wye(e)));else if(typeof e=="function")s=e(i,i.index);else if(kye(e)&&typeof e!="boolean"){var a=qye(e,i);s=E.createElement(MM,{shapeType:n,elementProps:a})}else{var o=i;s=E.createElement(MM,{shapeType:n,elementProps:o})}return i.isActive?E.createElement(cs,{className:r},s):s}function y7(t){var{tooltipEntrySettings:e}=t,n=Tr(),r=_i(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(lme(e)):i.current!==e&&n(cme({prev:i.current,next:e})),i.current=e)},[e,n,r]),E.useLayoutEffect(()=>()=>{i.current&&(n(ume(i.current)),i.current=null)},[n]),null}function v7(t){var{legendPayload:e}=t,n=Tr(),r=_i(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(Ble(e)):i.current!==e&&n(zle({prev:i.current,next:e})),i.current=e)},[n,r,e]),E.useLayoutEffect(()=>()=>{i.current&&(n(Ule(i.current)),i.current=null)},[n]),null}var LE,Gye=()=>{var[t]=E.useState(()=>Cp("uid-"));return t},Xye=(LE=kK.useId)!==null&&LE!==void 0?LE:Gye;function Yye(t,e){var n=Xye();return e||(t?"".concat(t,"-").concat(n):n)}var Qye=E.createContext(void 0),x7=t=>{var{id:e,type:n,children:r}=t,i=Yye("recharts-".concat(n),e);return E.createElement(Qye.Provider,{value:i},r(i))},Jye={cartesianItems:[],polarItems:[]},b7=wi({name:"graphicalItems",initialState:Jye,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:dn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ls(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:dn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Ls(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:dn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:dn()},removePolarGraphicalItem:{reducer(t,e){var n=Ls(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:dn()}}}),{addCartesianGraphicalItem:Zye,replaceCartesianGraphicalItem:eve,removeCartesianGraphicalItem:tve,addPolarGraphicalItem:ZAe,removePolarGraphicalItem:ePe}=b7.actions,nve=b7.reducer,rve=t=>{var e=Tr(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?e(Zye(t)):n.current!==t&&e(eve({prev:n.current,next:t})),n.current=t},[e,t]),E.useLayoutEffect(()=>()=>{n.current&&(e(tve(n.current)),n.current=null)},[e]),null},w7=E.memo(rve),ive=["points"];function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){sve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sve(t,e,n){return(e=ave(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ave(t){var e=ove(t,"string");return typeof e=="symbol"?e:e+""}function ove(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sx.apply(null,arguments)}function lve(t,e){if(t==null)return{};var n,r,i=cve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uve(t){var{option:e,dotProps:n,className:r}=t;if(E.isValidElement(e))return E.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Xt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:a}=s,o=lve(s,ive);return E.createElement(p7,Sx({},o,{className:i}))}function dve(t,e){return t==null?!1:e?!0:t.length===1}function _7(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:o,clipPathId:c,zIndex:d=Gr.scatter}=t;if(!dve(e,n))return null;var f=rI(n),m=Aie(n),p=e.map((x,b)=>{var _,S,O=VE(VE(VE({r:3},a),m),{},{index:b,cx:(_=x.x)!==null&&_!==void 0?_:void 0,cy:(S=x.y)!==null&&S!==void 0?S:void 0,dataKey:s,value:x.value,payload:x.payload,points:e});return E.createElement(uve,{key:"dot-".concat(b),option:n,dotProps:O,className:i})}),y={};return o&&c!=null&&(y.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(c,")")),E.createElement(Xo,{zIndex:d},E.createElement(cs,Sx({className:r},y),p))}function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){fve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fve(t,e,n){return(e=hve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hve(t){var e=mve(t,"string");return typeof e=="symbol"?e:e+""}function mve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E7=0,pve={xAxis:{},yAxis:{},zAxis:{}},S7=wi({name:"cartesianAxis",initialState:pve,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:dn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:dn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:dn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:dn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:dn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:dn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:dn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:dn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:dn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-((s=a[0])!==null&&s!==void 0?s:0))<=1)return;var o=[...a,r].slice(-3);t.yAxis[n]=FM(FM({},i),{},{width:r,widthHistory:o})}}}}),{addXAxis:tPe,replaceXAxis:nPe,removeXAxis:rPe,addYAxis:gve,replaceYAxis:yve,removeYAxis:vve,addZAxis:iPe,replaceZAxis:sPe,removeZAxis:aPe,updateYAxisWidth:xve}=S7.actions,bve=S7.reducer,wve=ye([Cr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),_ve=ye([wve,Uo,$o],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),cw=()=>ft(_ve),Eve=()=>ft(npe);function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){Sve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sve(t,e,n){return(e=Nve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nve(t){var e=Tve(t,"string");return typeof e=="symbol"?e:e+""}function Tve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cve=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=FE(FE(FE({},o),xb(i)),BA(i)),d;return E.isValidElement(i)?d=E.cloneElement(i,c):typeof i=="function"?d=i(c):d=E.createElement(p7,c),E.createElement(cs,{className:"recharts-active-dot",clipPath:a},d)};function TT(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=Gr.activeDot}=t,o=ft(Bp),c=Eve();if(e==null||c==null)return null;var d=e.find(f=>c.includes(f.payload));return dr(d)?null:E.createElement(Xo,{zIndex:a},E.createElement(Cve,{point:d,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var Ave=t=>{var{chartData:e}=t,n=Tr(),r=_i();return E.useEffect(()=>r?()=>{}:(n(nM(e)),()=>{n(nM(void 0))}),[e,n,r]),null},zM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},N7=wi({name:"brush",initialState:zM,reducers:{setBrushSettings(t,e){return e.payload==null?zM:e.payload}}}),{setBrushSettings:oPe}=N7.actions,Pve=N7.reducer;function Ive(t){return(t%180+180)%180}var jve=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Ive(i),a=s*Math.PI/180,o=Math.atan(r/n),c=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},kve={dots:[],areas:[],lines:[]},T7=wi({name:"referenceElements",initialState:kve,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ls(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ls(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ls(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:lPe,removeDot:cPe,addArea:uPe,removeArea:dPe,addLine:fPe,removeLine:hPe}=T7.actions,Rve=T7.reducer,Dve=E.createContext(void 0),Ove=t=>{var{children:e}=t,[n]=E.useState("".concat(Cp("recharts"),"-clip")),r=cw();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return E.createElement(Dve.Provider,{value:n},E.createElement("defs",null,E.createElement("clipPath",{id:n},E.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function C7(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Mve(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return jve(r,n)}function Lve(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function Up(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Vve(t,e){return C7(t,e+1)}function Fve(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=e,c=0,d=1,f=a,m=function(){var x=r?.[c];if(x===void 0)return{v:C7(r,d)};var b=c,_,S=()=>(_===void 0&&(_=n(x,b)),_),O=x.coordinate,R=c===0||Up(t,O,S,f,o);R||(c=0,f=a,d+=1),R&&(f=O+t*(S()/2+i),c+=d)},p;d<=s.length;)if(p=m(),p)return p.v;return[]}function Bve(t,e,n,r,i){var s=(r||[]).slice(),a=s.length;if(a===0)return[];for(var{start:o,end:c}=e,d=1;d<=a;d++){for(var f=(a-1)%d,m=o,p=!0,y=function(){var z=r[b];if(z==null)return 0;var P=b,A,N=()=>(A===void 0&&(A=n(z,P)),A),T=z.coordinate,I=b===f||Up(t,T,N,m,c);if(!I)return p=!1,1;I&&(m=T+t*(N()/2+i))},x,b=f;b<a&&(x=y(),!(x!==0&&x===1));b+=d);if(p){for(var _=[],S=f;S<a;S+=d){var O=r[S];O!=null&&_.push(O)}return _}}return[]}function UM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(n),!0).forEach(function(r){zve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zve(t,e,n){return(e=Uve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uve(t){var e=$ve(t,"string");return typeof e=="symbol"?e:e+""}function $ve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qve(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=e,{end:c}=e,d=function(p){var y=s[p];if(y==null)return 1;var x=y,b,_=()=>(b===void 0&&(b=n(y,p)),b);if(p===a-1){var S=t*(x.coordinate+t*_()/2-c);s[p]=x=Lr(Lr({},x),{},{tickCoord:S>0?x.coordinate-S*t:x.coordinate})}else s[p]=x=Lr(Lr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var O=Up(t,x.tickCoord,_,o,c);O&&(c=x.tickCoord-t*(_()/2+i),s[p]=Lr(Lr({},x),{},{isShow:!0}))}},f=a-1;f>=0;f--)d(f);return s}function Hve(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,{start:c,end:d}=e;if(s){var f=r[o-1];if(f!=null){var m=n(f,o-1),p=t*(f.coordinate+t*m/2-d);if(a[o-1]=f=Lr(Lr({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate}),f.tickCoord!=null){var y=Up(t,f.tickCoord,()=>m,c,d);y&&(d=f.tickCoord-t*(m/2+i),a[o-1]=Lr(Lr({},f),{},{isShow:!0}))}}}for(var x=s?o-1:o,b=function(O){var R=a[O];if(R==null)return 1;var z=R,P,A=()=>(P===void 0&&(P=n(R,O)),P);if(O===0){var N=t*(z.coordinate-t*A()/2-c);a[O]=z=Lr(Lr({},z),{},{tickCoord:N<0?z.coordinate-N*t:z.coordinate})}else a[O]=z=Lr(Lr({},z),{},{tickCoord:z.coordinate});if(z.tickCoord!=null){var T=Up(t,z.tickCoord,A,c,d);T&&(c=z.tickCoord+t*(A()/2+i),a[O]=Lr(Lr({},z),{},{isShow:!0}))}},_=0;_<x;_++)b(_);return a}function Wve(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:c,tickFormatter:d,unit:f,angle:m}=t;if(!i||!i.length||!r)return[];if(Qe(c)||wg.isSsr){var p;return(p=Vve(i,Qe(c)?c:0))!==null&&p!==void 0?p:[]}var y=[],x=o==="top"||o==="bottom"?"width":"height",b=f&&x==="width"?ap(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(P,A)=>{var N=typeof d=="function"?d(P.value,A):P.value;return x==="width"?Mve(ap(N,{fontSize:e,letterSpacing:n}),b,m):ap(N,{fontSize:e,letterSpacing:n})[x]},S=i[0],O=i[1],R=i.length>=2&&S!=null&&O!=null?Rs(O.coordinate-S.coordinate):1,z=Lve(s,R,x);return c==="equidistantPreserveStart"?Fve(R,z,_,i,a):c==="equidistantPreserveEnd"?Bve(R,z,_,i,a):(c==="preserveStart"||c==="preserveStartEnd"?y=Hve(R,z,_,i,a,c==="preserveStartEnd"):y=qve(R,z,_,i,a),y.filter(P=>P.isShow))}var Kve=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>a&&(a=m.width)}});var o=n?n.getBoundingClientRect().width:0,c=i+s,d=a+c+o+(n?r:0);return Math.round(d)}return 0},Gve=["axisLine","width","height","className","hide","ticks","axisType"];function Xve(t,e){if(t==null)return{};var n,r,i=Yve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Uu(){return Uu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uu.apply(null,arguments)}function $M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$M(Object(n),!0).forEach(function(r){Qve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$M(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qve(t,e,n){return(e=Jve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jve(t){var e=Zve(t,"string");return typeof e=="symbol"?e:e+""}function Zve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jv={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Gr.axis};function e0e(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:c}=t;if(!o)return null;var d=Nn(Nn(Nn({},c),zs(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);d=Nn(Nn({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var m=+(s==="left"&&!a||s==="right"&&a);d=Nn(Nn({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return E.createElement("line",Uu({},d,{className:Xt("recharts-cartesian-axis-line",Eb(o,"className"))}))}function t0e(t,e,n,r,i,s,a,o,c){var d,f,m,p,y,x,b=o?-1:1,_=t.tickSize||a,S=Qe(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":d=f=t.coordinate,p=n+ +!o*i,m=p-b*_,x=m-b*c,y=S;break;case"left":m=p=t.coordinate,f=e+ +!o*r,d=f-b*_,y=d-b*c,x=S;break;case"right":m=p=t.coordinate,f=e+ +o*r,d=f+b*_,y=d+b*c,x=S;break;default:d=f=t.coordinate,p=n+ +o*i,m=p+b*_,x=m+b*c,y=S;break}return{line:{x1:d,y1:m,x2:f,y2:p},tick:{x:y,y:x}}}function n0e(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function r0e(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function i0e(t){var{option:e,tickProps:n,value:r}=t,i,s=Xt(n.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(e))i=E.cloneElement(e,Nn(Nn({},n),{},{className:s}));else if(typeof e=="function")i=e(Nn(Nn({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Xt(a,Aye(e))),i=E.createElement(tI,Uu({},n,{className:a}),r)}return i}var s0e=E.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:c,tickTextProps:d,orientation:f,mirror:m,x:p,y,width:x,height:b,tickSize:_,tickMargin:S,fontSize:O,letterSpacing:R,getTicksConfig:z,events:P,axisType:A}=t,N=Wve(Nn(Nn({},z),{},{ticks:n}),O,R),T=n0e(f,m),I=r0e(f,m),j=zs(z),D=xb(r),F={};typeof i=="object"&&(F=i);var V=Nn(Nn({},j),{},{fill:"none"},F),$=N.map(B=>Nn({entry:B},t0e(B,p,y,x,b,f,_,m,S))),Z=$.map(B=>{var{entry:Q,line:H}=B;return E.createElement(cs,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},i&&E.createElement("line",Uu({},V,H,{className:Xt("recharts-cartesian-axis-tick-line",Eb(i,"className"))})))}),J=$.map((B,Q)=>{var H,k,{entry:U,tick:G}=B,K=Nn(Nn(Nn(Nn({verticalAnchor:I},j),{},{textAnchor:T,stroke:"none",fill:s},G),{},{index:Q,payload:U,visibleTicksCount:N.length,tickFormatter:a,padding:c},d),{},{angle:(H=(k=d?.angle)!==null&&k!==void 0?k:j.angle)!==null&&H!==void 0?H:0}),X=Nn(Nn({},K),D);return E.createElement(cs,Uu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},kse(P,U,Q)),r&&E.createElement(i0e,{option:r,tickProps:X,value:"".concat(typeof a=="function"?a(U.value,Q):U.value).concat(o||"")}))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(A,"-ticks")},J.length>0&&E.createElement(Xo,{zIndex:Gr.label},E.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(A,"-tick-labels"),ref:e},J)),Z.length>0&&E.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(A,"-tick-lines")},Z))}),a0e=E.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:o,axisType:c}=t,d=Xve(t,Gve),[f,m]=E.useState(""),[p,y]=E.useState(""),x=E.useRef(null);E.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return Kve({ticks:x.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=E.useCallback(_=>{if(_){var S=_.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=S;var O=S[0];if(O){var R=window.getComputedStyle(O),z=R.fontSize,P=R.letterSpacing;(z!==f||P!==p)&&(m(z),y(P))}}},[f,p]);return a||r!=null&&r<=0||i!=null&&i<=0?null:E.createElement(Xo,{zIndex:t.zIndex},E.createElement(cs,{className:Xt("recharts-cartesian-axis",s)},E.createElement(e0e,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:zs(t)}),E.createElement(s0e,{ref:b,axisType:c,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:p,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),E.createElement(rye,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},E.createElement(hye,{label:t.label,labelRef:t.labelRef}),t.children)))}),A7=E.forwardRef((t,e)=>{var n=bi(t,Jv);return E.createElement(a0e,Uu({},n,{ref:e}))});A7.displayName="CartesianAxis";var o0e={},P7=wi({name:"errorBars",initialState:o0e,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:mPe,replaceErrorBar:pPe,removeErrorBar:gPe}=P7.actions,l0e=P7.reducer,c0e=["children"];function u0e(t,e){if(t==null)return{};var n,r,i=d0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function d0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var f0e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},h0e=E.createContext(f0e);function m0e(t){var{children:e}=t,n=u0e(t,c0e);return E.createElement(h0e.Provider,{value:n},e)}function iI(t,e){var n,r,i=ft(d=>Wo(d,t)),s=ft(d=>Ko(d,e)),a=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:H8.allowDataOverflow,o=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:rr.allowDataOverflow,c=a||o;return{needClip:c,needClipX:a,needClipY:o}}function I7(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=cw(),{needClipX:s,needClipY:a,needClip:o}=iI(e,n);if(!o||!i)return null;var{x:c,y:d,width:f,height:m}=i;return E.createElement("clipPath",{id:"clipPath-".concat(r)},E.createElement("rect",{x:s?c:c-f/2,y:a?d:d-m/2,width:s?f:f*2,height:a?m:m*2}))}var j7=(t,e,n,r)=>lw(t,"xAxis",e,r),k7=(t,e,n,r)=>ow(t,"xAxis",e,r),R7=(t,e,n,r)=>lw(t,"yAxis",n,r),D7=(t,e,n,r)=>ow(t,"yAxis",n,r),p0e=ye([nn,j7,R7,k7,D7],(t,e,n,r,i)=>Hs(t,"xAxis")?Yf(e,r,!1):Yf(n,i,!1)),g0e=(t,e,n,r,i)=>i;function y0e(t){return t.type==="line"}var v0e=ye([MP,g0e],(t,e)=>t.filter(y0e).find(n=>n.id===e)),x0e=ye([nn,j7,R7,k7,D7,v0e,p0e,EP],(t,e,n,r,i,s,a,o)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=o;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:m,data:p}=s,y;if(p!=null&&p.length>0?y=p:y=c?.slice(d,f+1),y!=null)return sxe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:a,displayedData:y})}});function O7(t){var e=xb(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),o=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(o)||o<0)&&(o=r),{r:a,strokeWidth:o}}return{r:n,strokeWidth:r}}var BE={exports:{}},zE={};var qM;function b0e(){if(qM)return zE;qM=1;var t=Jr();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,o=t.useDebugValue;return zE.useSyncExternalStoreWithSelector=function(c,d,f,m,p){var y=i(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=a(function(){function _(P){if(!S){if(S=!0,O=P,P=m(P),p!==void 0&&x.hasValue){var A=x.value;if(p(A,P))return R=A}return R=P}if(A=R,n(O,P))return A;var N=m(P);return p!==void 0&&p(A,N)?(O=P,A):(O=P,R=N)}var S=!1,O,R,z=f===void 0?null:f;return[function(){return _(d())},z===null?void 0:function(){return _(z())}]},[d,f,m,p]);var b=r(c,y[0],y[1]);return s(function(){x.hasValue=!0,x.value=b},[b]),o(b),b},zE}var HM;function w0e(){return HM||(HM=1,BE.exports=b0e()),BE.exports}w0e();function _0e(t){t()}function E0e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){_0e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var WM={notify(){},get:()=>[]};function S0e(t,e){let n,r=WM,i=0,s=!1;function a(b){f();const _=r.subscribe(b);let S=!1;return()=>{S||(S=!0,_(),m())}}function o(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return s}function f(){i++,n||(n=t.subscribe(c),r=E0e())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=WM)}function p(){s||(s=!0,f())}function y(){s&&(s=!1,m())}const x={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>r};return x}var N0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",T0e=N0e(),C0e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",A0e=C0e(),P0e=()=>T0e||A0e?E.useLayoutEffect:E.useEffect,I0e=P0e();function KM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function j0e(t,e){if(KM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!KM(t[n[i]],e[n[i]]))return!1;return!0}var k0e=Symbol.for("react-redux-context"),R0e=typeof globalThis<"u"?globalThis:{};function D0e(){if(!E.createContext)return{};const t=R0e[k0e]??=new Map;let e=t.get(E.createContext);return e||(e=E.createContext(null),t.set(E.createContext,e)),e}var O0e=D0e();function M0e(t){const{children:e,context:n,serverState:r,store:i}=t,s=E.useMemo(()=>{const c=S0e(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=E.useMemo(()=>i.getState(),[i]);I0e(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const o=n||O0e;return E.createElement(o.Provider,{value:s},e)}var L0e=M0e,V0e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function F0e(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function uw(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(V0e.has(r)){if(t[r]==null&&e[r]==null)continue;if(!j0e(t[r],e[r]))return!1}else if(!F0e(t[r],e[r]))return!1;return!0}var B0e=["id"],z0e=["type","layout","connectNulls","needClip","shape"],U0e=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(null,arguments)}function GM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GM(Object(n),!0).forEach(function(r){$0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $0e(t,e,n){return(e=q0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q0e(t){var e=H0e(t,"string");return typeof e=="symbol"?e:e+""}function H0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sI(t,e){if(t==null)return{};var n,r,i=W0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function W0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var K0e=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Db(n,e),payload:t}]},G0e=E.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:c,tooltipType:d,id:f}=t,m={dataDefinedOnItem:n,getPosition:Ju,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Db(a,e),hide:o,type:d,color:r,unit:c,graphicalItemId:f}};return E.createElement(y7,{tooltipEntrySettings:m})}),M7=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function X0e(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Y0e=(t,e,n)=>{var r=n.reduce((y,x)=>y+x);if(!r)return M7(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,o=[],c=0,d=0;c<n.length;d+=(f=n[c])!==null&&f!==void 0?f:0,++c){var f,m=n[c];if(m!=null&&d+m>s){o=[...n.slice(0,c),s-d];break}}var p=o.length%2===0?[0,a]:[a];return[...X0e(n,i),...o,...p].map(y=>"".concat(y,"px")).join(", ")};function Q0e(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r,{id:o}=r,c=sI(r,B0e),d=zs(c);return E.createElement(_7,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:d,needClip:a,clipPathId:e})}function J0e(t){var{showLabels:e,children:n,points:r}=t,i=E.useMemo(()=>r?.map(s=>{var a,o,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ba(ba({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return E.createElement(f7,{value:e?i:void 0},n)}function XM(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:o,connectNulls:c,needClip:d,shape:f}=s,m=sI(s,z0e),p=ba(ba({},Ur(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:o,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return E.createElement(E.Fragment,null,r?.length>1&&E.createElement(Kye,$p({shapeType:"curve",option:f},p,{pathRef:n})),E.createElement(Q0e,{points:r,clipPathId:e,props:s}))}function Z0e(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function exe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:m,animateNewValues:p,width:y,height:x,onAnimationEnd:b,onAnimationStart:_}=n,S=i.current,O=qb(a,"recharts-line-"),R=E.useRef(O),[z,P]=E.useState(!1),A=!z,N=E.useCallback(()=>{typeof b=="function"&&b(),P(!1)},[b]),T=E.useCallback(()=>{typeof _=="function"&&_(),P(!0)},[_]),I=Z0e(r.current),j=E.useRef(0);R.current!==O&&(j.current=s.current,R.current=O);var D=j.current;return E.createElement(J0e,{points:a,showLabels:A},n.children,E.createElement($b,{animationId:O,begin:d,duration:f,isActive:c,easing:m,onAnimationEnd:N,onAnimationStart:T,key:O},F=>{var V=Fn(D,I+D,F),$=Math.min(V,I),Z;if(c)if(o){var J="".concat(o).split(/[,\s]+/gim).map(H=>parseFloat(H));Z=Y0e($,I,J)}else Z=M7(I,$);else Z=o==null?void 0:String(o);if(F>0&&I>0&&(i.current=a,s.current=Math.max(s.current,$)),S){var B=S.length/a.length,Q=F===1?a:a.map((H,k)=>{var U=Math.floor(k*B);if(S[U]){var G=S[U];return ba(ba({},H),{},{x:Fn(G.x,H.x,F),y:Fn(G.y,H.y,F)})}return p?ba(ba({},H),{},{x:Fn(y*2,H.x,F),y:Fn(x/2,H.y,F)}):ba(ba({},H),{},{x:H.x,y:H.y})});return i.current=Q,E.createElement(XM,{props:n,points:Q,clipPathId:e,pathRef:r,strokeDasharray:Z})}return E.createElement(XM,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:Z})}),E.createElement(m7,{label:n.label}))}function txe(t){var{clipPathId:e,props:n}=t,r=E.useRef(null),i=E.useRef(0),s=E.useRef(null);return E.createElement(exe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var nxe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Kn(t.payload,e)}};class rxe extends E.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:o,left:c,width:d,height:f,id:m,needClip:p,zIndex:y}=this.props;if(e)return null;var x=Xt("recharts-line",i),b=m,{r:_,strokeWidth:S}=O7(n),O=rI(n),R=_*2+S,z=p?"url(#clipPath-".concat(O?"":"dots-").concat(b,")"):void 0;return E.createElement(Xo,{zIndex:y},E.createElement(cs,{className:x},p&&E.createElement("defs",null,E.createElement(I7,{clipPathId:b,xAxisId:s,yAxisId:a}),!O&&E.createElement("clipPath",{id:"clipPath-dots-".concat(b)},E.createElement("rect",{x:c-R/2,y:o-R/2,width:d+R,height:f+R}))),E.createElement(m0e,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:nxe,errorBarOffset:0},E.createElement(txe,{props:this.props,clipPathId:b}))),E.createElement(TT,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:z}))}}var L7={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Gr.line,type:"linear"};function ixe(t){var e=bi(t,L7),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:c,hide:d,isAnimationActive:f,label:m,legendType:p,xAxisId:y,yAxisId:x,id:b}=e,_=sI(e,U0e),{needClip:S}=iI(y,x),O=cw(),R=Zu(),z=_i(),P=ft(j=>x0e(j,y,x,z,b));if(R!=="horizontal"&&R!=="vertical"||P==null||O==null)return null;var{height:A,width:N,x:T,y:I}=O;return E.createElement(rxe,$p({},_,{id:b,connectNulls:o,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:f,hide:d,label:m,legendType:p,xAxisId:y,yAxisId:x,points:P,layout:R,height:A,width:N,left:T,top:I,needClip:S}))}function sxe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:c}=t;return c.map((d,f)=>{var m=Kn(d,a);if(e==="horizontal"){var p=Q0({axis:n,ticks:i,bandSize:o,entry:d,index:f}),y=dr(m)?null:r.scale.map(m);return{x:p,y:y??null,value:m,payload:d}}var x=dr(m)?null:n.scale.map(m),b=Q0({axis:r,ticks:s,bandSize:o,entry:d,index:f});return x==null||b==null?null:{x,y:b,value:m,payload:d}}).filter(Boolean)}function axe(t){var e=bi(t,L7),n=_i();return E.createElement(x7,{id:e.id,type:"line"},r=>E.createElement(E.Fragment,null,E.createElement(v7,{legendPayload:K0e(e)}),E.createElement(G0e,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),E.createElement(w7,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),E.createElement(ixe,$p({},e,{id:r}))))}var V7=E.memo(axe,uw);V7.displayName="Line";function aI(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:E7}function oI(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:E7}var F7=(t,e,n)=>lw(t,"xAxis",aI(t,e),n),B7=(t,e,n)=>ow(t,"xAxis",aI(t,e),n),z7=(t,e,n)=>lw(t,"yAxis",oI(t,e),n),U7=(t,e,n)=>ow(t,"yAxis",oI(t,e),n),oxe=ye([nn,F7,z7,B7,U7],(t,e,n,r,i)=>Hs(t,"xAxis")?Yf(e,r,!1):Yf(n,i,!1)),lxe=(t,e)=>e,$7=ye([MP,lxe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),q7=t=>{var e=nn(t),n=Hs(e,"xAxis");return n?"yAxis":"xAxis"},cxe=(t,e)=>{var n=q7(t);return n==="yAxis"?oI(t,e):aI(t,e)},uxe=(t,e,n)=>r9(t,q7(t),cxe(t,e),n),dxe=ye([$7,uxe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=RP(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,a=s?.find(o=>o.key===i);if(a!=null)return a.map(o=>[o[0],o[1]])}}}),fxe=ye([nn,F7,z7,B7,U7,dxe,Bfe,oxe,$7,Xfe],(t,e,n,r,i,s,a,o,c,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:p}=a;if(!(c==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:y}=c,x;if(y&&y.length>0?x=y:x=f?.slice(m,p+1),x!=null)return jxe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:c,stackedData:s,displayedData:x,chartBaseValue:d,bandSize:o})}}),hxe=["id"],mxe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xu.apply(null,arguments)}function H7(t,e){if(t==null)return{};var n,r,i=pxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){gxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gxe(t,e,n){return(e=yxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yxe(t){var e=vxe(t,"string");return typeof e=="symbol"?e:e+""}function vxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nx(t,e){return t&&t!=="none"?t:e}var xxe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:Nx(r,i),value:Db(n,e),payload:t}]},bxe=E.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:c,tooltipType:d,id:f}=t,m={dataDefinedOnItem:n,getPosition:Ju,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Db(a,e),hide:o,type:d,color:Nx(r,s),unit:c,graphicalItemId:f}};return E.createElement(y7,{tooltipEntrySettings:m})});function wxe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:a}=r,o=zs(r);return E.createElement(_7,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:o,needClip:i,clipPathId:e})}function _xe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var a,o,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return of(of({},c),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return E.createElement(f7,{value:e?i:void 0},n)}function QM(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:a,type:o,stroke:c,connectNulls:d,isRange:f}=s,{id:m}=s,p=H7(s,hxe),y=zs(p),x=Ur(p);return E.createElement(E.Fragment,null,e?.length>1&&E.createElement(cs,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},E.createElement(sp,xu({},x,{id:m,points:e,connectNulls:d,type:o,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),c!=="none"&&E.createElement(sp,xu({},y,{className:"recharts-area-curve",layout:a,type:o,connectNulls:d,fill:"none",points:e})),c!=="none"&&f&&E.createElement(sp,xu({},y,{className:"recharts-area-curve",layout:a,type:o,connectNulls:d,fill:"none",points:n}))),E.createElement(wxe,{points:e,props:p,clipPathId:i}))}function Exe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=t,o=(e=s[0])===null||e===void 0?void 0:e.y,c=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Ot(o)||!Ot(c))return null;var d=r*Math.abs(o-c),f=Math.max(...s.map(m=>m.x||0));return Qe(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(m=>m.x||0),f)),Qe(f)?E.createElement("rect",{x:0,y:o<c?o:o-d,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(d)}):null}function Sxe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=t,o=(e=s[0])===null||e===void 0?void 0:e.x,c=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Ot(o)||!Ot(c))return null;var d=r*Math.abs(o-c),f=Math.max(...s.map(m=>m.y||0));return Qe(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(m=>m.y||0),f)),Qe(f)?E.createElement("rect",{x:o<c?o:o-d,y:0,width:d,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}function Nxe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?E.createElement(Exe,{alpha:e,points:r,baseLine:i,strokeWidth:s}):E.createElement(Sxe,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function Txe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:a,baseLine:o,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:m,onAnimationStart:p,onAnimationEnd:y}=r,x=E.useMemo(()=>({points:a,baseLine:o}),[a,o]),b=qb(x,"recharts-area-"),_=C$(),[S,O]=E.useState(!1),R=!S,z=E.useCallback(()=>{typeof y=="function"&&y(),O(!1)},[y]),P=E.useCallback(()=>{typeof p=="function"&&p(),O(!0)},[p]);if(_==null)return null;var A=i.current,N=s.current;return E.createElement(_xe,{showLabels:R,points:a},r.children,E.createElement($b,{animationId:b,begin:d,duration:f,isActive:c,easing:m,onAnimationEnd:z,onAnimationStart:P,key:b},T=>{if(A){var I=A.length/a.length,j=T===1?a:a.map((F,V)=>{var $=Math.floor(V*I);if(A[$]){var Z=A[$];return of(of({},F),{},{x:Fn(Z.x,F.x,T),y:Fn(Z.y,F.y,T)})}return F}),D;return Qe(o)?D=Fn(N,o,T):dr(o)||Va(o)?D=Fn(N,0,T):D=o.map((F,V)=>{var $=Math.floor(V*I);if(Array.isArray(N)&&N[$]){var Z=N[$];return of(of({},F),{},{x:Fn(Z.x,F.x,T),y:Fn(Z.y,F.y,T)})}return F}),T>0&&(i.current=j,s.current=D),E.createElement(QM,{points:j,baseLine:D,needClip:e,clipPathId:n,props:r})}return T>0&&(i.current=a,s.current=o),E.createElement(cs,null,c&&E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(n)},E.createElement(Nxe,{alpha:T,points:a,baseLine:o,layout:_,strokeWidth:r.strokeWidth}))),E.createElement(cs,{clipPath:"url(#animationClipPath-".concat(n,")")},E.createElement(QM,{points:a,baseLine:o,needClip:e,clipPathId:n,props:r})))}),E.createElement(m7,{label:r.label}))}function Cxe(t){var{needClip:e,clipPathId:n,props:r}=t,i=E.useRef(null),s=E.useRef();return E.createElement(Txe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class Axe extends E.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:a,needClip:o,xAxisId:c,yAxisId:d,width:f,height:m,id:p,baseLine:y,zIndex:x}=this.props;if(e)return null;var b=Xt("recharts-area",i),_=p,{r:S,strokeWidth:O}=O7(n),R=rI(n),z=S*2+O,P=o?"url(#clipPath-".concat(R?"":"dots-").concat(_,")"):void 0;return E.createElement(Xo,{zIndex:x},E.createElement(cs,{className:b},o&&E.createElement("defs",null,E.createElement(I7,{clipPathId:_,xAxisId:c,yAxisId:d}),!R&&E.createElement("clipPath",{id:"clipPath-dots-".concat(_)},E.createElement("rect",{x:a-z/2,y:s-z/2,width:f+z,height:m+z}))),E.createElement(Cxe,{needClip:o,clipPathId:_,props:this.props})),E.createElement(TT,{points:r,mainColor:Nx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(y)&&E.createElement(TT,{points:y,mainColor:Nx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var W7={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Gr.area};function Pxe(t){var e,n=bi(t,W7),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:c,fill:d,fillOpacity:f,hide:m,isAnimationActive:p,legendType:y,stroke:x,xAxisId:b,yAxisId:_}=n,S=H7(n,mxe),O=Zu(),R=W9(),{needClip:z}=iI(b,_),P=_i(),{points:A,isRange:N,baseLine:T}=(e=ft($=>fxe($,t.id,P)))!==null&&e!==void 0?e:{},I=cw();if(O!=="horizontal"&&O!=="vertical"||I==null||R!=="AreaChart"&&R!=="ComposedChart")return null;var{height:j,width:D,x:F,y:V}=I;return!A||!A.length?null:E.createElement(Axe,xu({},S,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:T,connectNulls:o,dot:c,fill:d,fillOpacity:f,height:j,hide:m,layout:O,isAnimationActive:p==="auto"?!wg.isSsr:p,isRange:N,legendType:y,needClip:z,points:A,stroke:x,width:D,left:F,top:V,xAxisId:b,yAxisId:_}))}var Ixe=(t,e,n,r,i)=>{var s=n??e;if(Qe(s))return s;var a=t==="horizontal"?i:r,o=a.scale.domain();if(a.type==="number"){var c=Math.max(o[0],o[1]),d=Math.min(o[0],o[1]);return s==="dataMin"?d:s==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function jxe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:o,yAxis:c,displayedData:d,dataStartIndex:f,xAxisTicks:m,yAxisTicks:p,bandSize:y}=t,x=i&&i.length,b=Ixe(s,a,n,o,c),_=s==="horizontal",S=!1,O=d.map((z,P)=>{var A,N,T,I;if(x)I=i[f+P];else{var j=Kn(z,r);Array.isArray(j)?(I=j,S=!0):I=[b,j]}var D=(A=(N=I)===null||N===void 0?void 0:N[1])!==null&&A!==void 0?A:null,F=D==null||x&&!e&&Kn(z,r)==null;if(_){var V;return{x:Q0({axis:o,ticks:m,bandSize:y,entry:z,index:P}),y:F?null:(V=c.scale.map(D))!==null&&V!==void 0?V:null,value:I,payload:z}}return{x:F?null:(T=o.scale.map(D))!==null&&T!==void 0?T:null,y:Q0({axis:c,ticks:p,bandSize:y,entry:z,index:P}),value:I,payload:z}}),R;return x||S?R=O.map(z=>{var P,A=Array.isArray(z.value)?z.value[0]:null;if(_){var N;return{x:z.x,y:A!=null&&z.y!=null&&(N=c.scale.map(A))!==null&&N!==void 0?N:null,payload:z.payload}}return{x:A!=null&&(P=o.scale.map(A))!==null&&P!==void 0?P:null,y:z.y,payload:z.payload}}):R=_?c.scale.map(b):o.scale.map(b),{points:O,baseLine:R??0,isRange:S}}function kxe(t){var e=bi(t,W7),n=_i();return E.createElement(x7,{id:e.id,type:"area"},r=>E.createElement(E.Fragment,null,E.createElement(v7,{legendPayload:xxe(e)}),E.createElement(bxe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),E.createElement(w7,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:Boe(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),E.createElement(Pxe,xu({},e,{id:r}))))}var CT=E.memo(kxe,uw);CT.displayName="Area";var Rxe=["domain","range"],Dxe=["domain","range"];function JM(t,e){if(t==null)return{};var n,r,i=Oxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Oxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ZM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Mxe(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=JM(t,Rxe),{domain:s,range:a}=e,o=JM(e,Dxe);return!ZM(n,s)||!ZM(r,a)?!1:uw(i,o)}var Lxe=["type"],Vxe=["dangerouslySetInnerHTML","ticks","scale"],Fxe=["id","scale"];function AT(){return AT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AT.apply(null,arguments)}function eL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(n),!0).forEach(function(r){Bxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bxe(t,e,n){return(e=zxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zxe(t){var e=Uxe(t,"string");return typeof e=="symbol"?e:e+""}function Uxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PT(t,e){if(t==null)return{};var n,r,i=$xe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $xe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qxe(t){var e=Tr(),n=E.useRef(null),r=C$(),{type:i}=t,s=PT(t,Lxe),a=PP(r,"yAxis",i),o=E.useMemo(()=>{if(a!=null)return tL(tL({},s),{},{type:a})},[a,s]);return E.useLayoutEffect(()=>{o!=null&&(n.current===null?e(gve(o)):n.current!==o&&e(yve({prev:n.current,next:o})),n.current=o)},[o,e]),E.useLayoutEffect(()=>()=>{n.current&&(e(vve(n.current)),n.current=null)},[e]),null}function Hxe(t){var{yAxisId:e,className:n,width:r,label:i}=t,s=E.useRef(null),a=E.useRef(null),o=ft(ile),c=_i(),d=Tr(),f="yAxis",m=ft(A=>Zhe(A,e)),p=ft(A=>Jhe(A,e)),y=ft(A=>tme(A,f,e,c)),x=ft(A=>W8(A,e));if(E.useLayoutEffect(()=>{if(!(r!=="auto"||!m||nI(i)||E.isValidElement(i)||x==null)){var A=s.current;if(A){var N=A.getCalculatedWidth();Math.round(m.width)!==Math.round(N)&&d(xve({id:e,width:N}))}}},[y,m,d,i,e,r,x]),m==null||p==null||x==null)return null;var{dangerouslySetInnerHTML:b,ticks:_,scale:S}=t,O=PT(t,Vxe),{id:R,scale:z}=x,P=PT(x,Fxe);return E.createElement(A7,AT({},O,P,{ref:s,labelRef:a,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Xt("recharts-".concat(f," ").concat(f),n),viewBox:o,ticks:y,axisType:f}))}var Wxe={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:Jv.axisLine,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,label:!1,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:Jv.tickLine,tickSize:Jv.tickSize,type:rr.type,width:rr.width,yAxisId:0},Kxe=t=>{var e=bi(t,Wxe);return E.createElement(E.Fragment,null,E.createElement(qxe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),E.createElement(Hxe,e))},K7=E.memo(Kxe,Mxe);K7.displayName="YAxis";var Gxe=(t,e)=>e,lI=ye([Gxe,nn,$8,mr,B9,Go,mpe,Cr],wpe),cI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},G7=us("mouseClick"),X7=yg();X7.startListening({actionCreator:G7,effect:(t,e)=>{var n=t.payload,r=lI(e.getState(),cI(n));r?.activeIndex!=null&&e.dispatch(hme({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var IT=us("mouseMove"),Y7=yg(),bv=null;Y7.startListening({actionCreator:IT,effect:(t,e)=>{var n=t.payload;bv!==null&&cancelAnimationFrame(bv);var r=cI(n);bv=requestAnimationFrame(()=>{var i=e.getState(),s=HP(i,i.tooltip.settings.shared);if(s==="axis"){var a=lI(i,r);a?.activeIndex!=null?e.dispatch(j9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(I9())}bv=null})}});function Xxe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var nL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Q7=wi({name:"rootProps",initialState:nL,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:nL.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Yxe=Q7.reducer,{updateOptions:Qxe}=Q7.actions,Jxe=null,Zxe={updatePolarOptions:(t,e)=>e.payload},J7=wi({name:"polarOptions",initialState:Jxe,reducers:Zxe}),{updatePolarOptions:yPe}=J7.actions,ebe=J7.reducer,Z7=us("keyDown"),eq=us("focus"),uI=yg();uI.startListening({actionCreator:Z7,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=WP(i,Sh(n),Ag(n),Ig(n)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var c=Go(n);if(s==="Enter"){var d=bx(n,"axis","hover",String(i.index));e.dispatch(wT({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=ime(n),m=f==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,y=o+p*m;if(!(c==null||y>=c.length||y<0)){var x=bx(n,"axis","hover",String(y));e.dispatch(wT({active:!0,activeIndex:y.toString(),activeCoordinate:x}))}}}}}});uI.startListening({actionCreator:eq,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=bx(n,"axis","hover",String(s));e.dispatch(wT({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var es=us("externalEvent"),tq=yg(),UE=new Map;tq.startListening({actionCreator:es,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=UE.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),c={activeCoordinate:Zme(o),activeDataKey:Qme(o),activeIndex:Bp(o),activeLabel:$9(o),activeTooltipIndex:Bp(o),isTooltipActive:epe(o)};n(c,r)}finally{UE.delete(i)}});UE.set(i,a)}}});var tbe=ye([_h],t=>t.tooltipItemPayloads),nbe=ye([tbe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),nq=us("touchMove"),rq=yg();rq.startListening({actionCreator:nq,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=HP(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var a=lI(r,cI({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(j9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(Koe),m=(o=d.getAttribute(Goe))!==null&&o!==void 0?o:void 0,p=Eh(r).find(b=>b.id===m);if(f==null||p==null||m==null)return;var{dataKey:y}=p,x=nbe(r,f,m);e.dispatch(fme({activeDataKey:y,activeIndex:f,activeCoordinate:x,activeGraphicalItemId:m}))}}}});var rbe=KU({brush:Pve,cartesianAxis:bve,chartData:Jpe,errorBars:l0e,graphicalItems:nve,layout:joe,legend:$le,options:Kpe,polarAxis:Cye,polarOptions:ebe,referenceElements:Rve,rootProps:Yxe,tooltip:mme,zIndex:Ope}),ibe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return noe({reducer:rbe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([X7.middleware,Y7.middleware,uI.middleware,tq.middleware,rq.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(l$({type:"raf"}))},devTools:{serialize:{replacer:Xxe},name:"recharts-".concat(n)}})};function sbe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=_i(),s=E.useRef(null);if(i)return n;s.current==null&&(s.current=ibe(e,r));var a=$A;return E.createElement(L0e,{context:a,store:s.current},n)}function abe(t){var{layout:e,margin:n}=t,r=Tr(),i=_i();return E.useEffect(()=>{i||(r(Aoe(e)),r(Coe(n)))},[r,i,e,n]),null}var obe=E.memo(abe,uw);function lbe(t){var e=Tr();return E.useEffect(()=>{e(Qxe(t))},[e,t]),null}function rL(t){var{zIndex:e,isPanorama:n}=t,r=E.useRef(null),i=Tr();return E.useLayoutEffect(()=>(r.current&&i(Rpe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Dpe({zIndex:e,isPanorama:n}))}),[i,e,n]),E.createElement("g",{tabIndex:-1,ref:r})}function iL(t){var{children:e,isPanorama:n}=t,r=ft(Epe);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return E.createElement(E.Fragment,null,i.map(a=>E.createElement(rL,{key:a,zIndex:a,isPanorama:n})),e,s.map(a=>E.createElement(rL,{key:a,zIndex:a,isPanorama:n})))}var cbe=["children"];function ube(t,e){if(t==null)return{};var n,r,i=dbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tx.apply(null,arguments)}var fbe={width:"100%",height:"100%",display:"block"},hbe=E.forwardRef((t,e)=>{var n=Nle(),r=Tle(),i=M$();if(!sc(n)||!sc(r))return null;var{children:s,otherAttributes:a,title:o,desc:c}=t,d,f;return a!=null&&(typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0),E.createElement(dU,Tx({},a,{title:o,desc:c,role:f,tabIndex:d,width:n,height:r,style:fbe,ref:e}),s)}),mbe=t=>{var{children:e}=t,n=ft(Vb);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return E.createElement(dU,{width:r,height:i,x:a,y:s},e)},sL=E.forwardRef((t,e)=>{var{children:n}=t,r=ube(t,cbe),i=_i();return i?E.createElement(mbe,null,E.createElement(iL,{isPanorama:!0},n)):E.createElement(hbe,Tx({ref:e},r),E.createElement(iL,{isPanorama:!1},n))});function pbe(){var t=Tr(),[e,n]=E.useState(null),r=ft(Woe);return E.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Ot(s)&&s!==r&&t(Ioe(s))}},[e,t,r]),n}function aL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aL(Object(n),!0).forEach(function(r){ybe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ybe(t,e,n){return(e=vbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vbe(t){var e=xbe(t,"string");return typeof e=="symbol"?e:e+""}function xbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(null,arguments)}var bbe=()=>(oge(),null);function Cx(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var wbe=E.forwardRef((t,e)=>{var n,r,i=E.useRef(null),[s,a]=E.useState({containerWidth:Cx((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Cx((r=t.style)===null||r===void 0?void 0:r.height)}),o=E.useCallback((d,f)=>{a(m=>{var p=Math.round(d),y=Math.round(f);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),c=E.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:m}=d.getBoundingClientRect();o(f,m);var p=x=>{var b=x[0];if(b!=null){var{width:_,height:S}=b.contentRect;o(_,S)}},y=new ResizeObserver(p);y.observe(d),i.current=y}},[e,o]);return E.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[o]),E.createElement(E.Fragment,null,E.createElement(xg,{width:s.containerWidth,height:s.containerHeight}),E.createElement("div",Kl({ref:c},t)))}),_be=E.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=E.useState({containerWidth:Cx(n),containerHeight:Cx(r)}),a=E.useCallback((c,d)=>{s(f=>{var m=Math.round(c),p=Math.round(d);return f.containerWidth===m&&f.containerHeight===p?f:{containerWidth:m,containerHeight:p}})},[]),o=E.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();a(d,f)}},[e,a]);return E.createElement(E.Fragment,null,E.createElement(xg,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",Kl({ref:o},t)))}),Ebe=E.forwardRef((t,e)=>{var{width:n,height:r}=t;return E.createElement(E.Fragment,null,E.createElement(xg,{width:n,height:r}),E.createElement("div",Kl({ref:e},t)))}),Sbe=E.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?E.createElement(_be,Kl({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?E.createElement(Ebe,Kl({},t,{width:n,height:r,ref:e})):E.createElement(E.Fragment,null,E.createElement(xg,{width:n,height:r}),E.createElement("div",Kl({ref:e},t)))});function Nbe(t){return t?wbe:Sbe}var Tbe=E.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:m,onMouseUp:p,onTouchEnd:y,onTouchMove:x,onTouchStart:b,style:_,width:S,responsive:O,dispatchTouchEvents:R=!0}=t,z=E.useRef(null),P=Tr(),[A,N]=E.useState(null),[T,I]=E.useState(null),j=pbe(),D=YA(),F=D?.width>0?D.width:S,V=D?.height>0?D.height:i,$=E.useCallback(ae=>{j(ae),typeof e=="function"&&e(ae),N(ae),I(ae),ae!=null&&(z.current=ae)},[j,e,N,I]),Z=E.useCallback(ae=>{P(G7(ae)),P(es({handler:s,reactEvent:ae}))},[P,s]),J=E.useCallback(ae=>{P(IT(ae)),P(es({handler:d,reactEvent:ae}))},[P,d]),B=E.useCallback(ae=>{P(I9()),P(es({handler:f,reactEvent:ae}))},[P,f]),Q=E.useCallback(ae=>{P(IT(ae)),P(es({handler:m,reactEvent:ae}))},[P,m]),H=E.useCallback(()=>{P(eq())},[P]),k=E.useCallback(ae=>{P(Z7(ae.key))},[P]),U=E.useCallback(ae=>{P(es({handler:a,reactEvent:ae}))},[P,a]),G=E.useCallback(ae=>{P(es({handler:o,reactEvent:ae}))},[P,o]),K=E.useCallback(ae=>{P(es({handler:c,reactEvent:ae}))},[P,c]),X=E.useCallback(ae=>{P(es({handler:p,reactEvent:ae}))},[P,p]),te=E.useCallback(ae=>{P(es({handler:b,reactEvent:ae}))},[P,b]),ie=E.useCallback(ae=>{R&&P(nq(ae)),P(es({handler:x,reactEvent:ae}))},[P,R,x]),re=E.useCallback(ae=>{P(es({handler:y,reactEvent:ae}))},[P,y]),xe=Nbe(O);return E.createElement(Q9.Provider,{value:A},E.createElement(Oie.Provider,{value:T},E.createElement(xe,{width:F??_?.width,height:V??_?.height,className:Xt("recharts-wrapper",r),style:gbe({position:"relative",cursor:"default",width:F,height:V},_),onClick:Z,onContextMenu:U,onDoubleClick:G,onFocus:H,onKeyDown:k,onMouseDown:K,onMouseEnter:J,onMouseLeave:B,onMouseMove:Q,onMouseUp:X,onTouchEnd:re,onTouchMove:ie,onTouchStart:te,ref:$},E.createElement(bbe,null),n)))}),Cbe=["width","height","responsive","children","className","style","compact","title","desc"];function Abe(t,e){if(t==null)return{};var n,r,i=Pbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ibe=E.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:o,compact:c,title:d,desc:f}=t,m=Abe(t,Cbe),p=zs(m);return c?E.createElement(E.Fragment,null,E.createElement(xg,{width:n,height:r}),E.createElement(sL,{otherAttributes:p,title:d,desc:f},s)):E.createElement(Tbe,{className:a,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},E.createElement(sL,{otherAttributes:p,title:d,desc:f,ref:e},E.createElement(Ove,null,s)))});function jT(){return jT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jT.apply(null,arguments)}var jbe={top:5,right:5,bottom:5,left:5},kbe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:jbe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},iq=E.forwardRef(function(e,n){var r,i=bi(e.categoricalChartProps,kbe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return E.createElement(sbe,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:s},E.createElement(Ave,{chartData:d.data}),E.createElement(obe,{layout:i.layout,margin:i.margin}),E.createElement(lbe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(Ibe,jT({},i,{ref:n})))}),Rbe=["axis"],Dbe=E.forwardRef((t,e)=>E.createElement(iq,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Rbe,tooltipPayloadSearcher:J9,categoricalChartProps:t,ref:e})),Obe=["axis"],Mbe=E.forwardRef((t,e)=>E.createElement(iq,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Obe,tooltipPayloadSearcher:J9,categoricalChartProps:t,ref:e}));function Lbe({value:t}){const[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{const s=()=>{const c=[],d=t,f=t*.003;for(let m=0;m<24;m++){const p=m/24,y=(Math.random()-.5)*2,x=Math.sin(p*Math.PI*2)*.5,b=d+f*y*.5+f*x;c.push({value:b,timestamp:Date.now()-(24-m)*36e5})}return c};n(s()),i(!1);const a=setInterval(()=>{n(s())},60*1e3);return()=>clearInterval(a)},[t]),e.length===0?l.jsx("div",{className:"w-full h-full",style:{minHeight:"48px"}}):l.jsx("div",{className:"w-full h-full",style:{minWidth:"300px",minHeight:"48px"},children:l.jsx(T$,{width:"100%",height:"100%",minHeight:48,children:l.jsxs(Dbe,{data:e,children:[l.jsx(K7,{hide:!0,domain:["dataMin","dataMax"]}),l.jsx(V7,{type:"monotone",dataKey:"value",stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:2,dot:!1,animationDuration:1e3,isAnimationActive:!0})]})})})}const $E=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin"},{id:"ethereum",symbol:"ETH",name:"Ethereum"},{id:"tether",symbol:"USDT",name:"Tether"},{id:"binancecoin",symbol:"BNB",name:"BNB"},{id:"solana",symbol:"SOL",name:"Solana"},{id:"ripple",symbol:"XRP",name:"XRP"},{id:"cardano",symbol:"ADA",name:"Cardano"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin"},{id:"polkadot",symbol:"DOT",name:"Polkadot"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu"}];function Vbe({isOpen:t,onClose:e}){const[n,r]=E.useState(""),[i,s]=E.useState($E),{prices:a}=xi();E.useEffect(()=>{if(n.trim()==="")s($E);else{const c=$E.filter(d=>d.name.toLowerCase().includes(n.toLowerCase())||d.symbol.toLowerCase().includes(n.toLowerCase()));s(c)}},[n]);const o=c=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:c<1?6:2}).format(c);return t?l.jsxs("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm animate-in fade-in overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[l.jsx("style",{children:`
        .search-modal-container::-webkit-scrollbar {
          display: none;
        }
      `}),l.jsxs("div",{className:"min-h-screen p-6 pt-12 search-modal-container",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsxs("div",{className:"flex-1 bg-white/5 backdrop-blur-md rounded-2xl px-4 py-3 flex items-center gap-3 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[l.jsx(Gl,{className:"text-white/60 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Pesquisar criptomoeda...",value:n,onChange:c=>r(c.target.value),autoFocus:!0,className:"flex-1 bg-transparent text-white placeholder:text-white/40 outline-none text-sm"}),n&&l.jsx("button",{onClick:()=>r(""),className:"text-white/60 hover:text-white",children:l.jsx(gi,{className:"w-4 h-4"})})]}),l.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsx(gi,{className:"text-white w-5 h-5"})})]}),l.jsx("div",{className:"space-y-2",children:i.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-white/50 text-sm",children:"Nenhuma criptomoeda encontrada"})}):i.map(c=>{const d=a[c.id]?.usd||0,f=a[c.id]?.usd_24h_change||0,m=f>=0;return l.jsxs("button",{className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 flex items-center justify-between border border-white/10 hover:border-white/20 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(At,{symbol:c.symbol,size:"sm"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"text-white font-semibold text-sm",children:c.name}),l.jsx("p",{className:"text-white/50 text-xs",children:c.symbol})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-white font-semibold text-sm",children:d>0?`$${o(d)}`:""}),d>0&&l.jsxs("div",{className:`flex items-center justify-end gap-1 text-xs font-medium ${m?"text-[#34c759]":"text-[#ff3b30]"}`,children:[m?l.jsx(is,{className:"w-3 h-3"}):l.jsx(_u,{className:"w-3 h-3"}),Math.abs(f).toFixed(2).replace(".",","),"%"]})]})]},c.id)})})]})]}):null}function Wr(t,e){const n=typeof t=="string"?parseFloat(t):t;if(isNaN(n))return"0,00";const r=new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(n);if(e){const s={USD:"$",BRL:"R$",GBP:"",EUR:""}[e]||"";return s?`${s} ${r}`:r}return r}function or(t){return t===0?"0":t<1e-8?t.toFixed(8):t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8}).replace(/,(\d*?)0+$/,",$1").replace(/,$/,"")}function wv(t,e=2){return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:e,maximumFractionDigits:e}).format(t)}function Fbe({isOpen:t,onClose:e}){const{portfolio:n}=$s(),{prices:r}=xi(),i=o=>{const d=wv(o,2).split(",");return{main:d[0],cents:d[1]||"00"}},s=n.change24h>=0,a=n.holdings.map(o=>{const c=r[o.coinId]?.usd||(o.symbol==="USDT"?1:0),d=o.amount*c,f=d/n.totalBalanceUSDT*100;return{...o,valueUSDT:d,percentage:f,price:c}}).sort((o,c)=>c.valueUSDT-o.valueUSDT);return t?l.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-md animate-in fade-in overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[l.jsx("style",{children:`
        .stats-modal-container::-webkit-scrollbar {
          display: none;
        }
      `}),l.jsxs("div",{className:"min-h-screen p-6 pt-12 pb-24 stats-modal-container",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center",children:l.jsx(Iv,{className:"text-white w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-white text-xl",children:"Estatsticas"}),l.jsx("p",{className:"text-white/50 text-sm",children:"Anlise do Portflio"})]})]}),l.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center border border-white/10 hover:bg-white/20 transition-all",children:l.jsx(gi,{className:"text-white w-5 h-5"})})]}),l.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 mb-6 border border-white/10",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-white/50 text-sm mb-2",children:"Saldo Total"}),l.jsxs("h1",{className:"text-3xl text-white mb-3",children:[i(n.totalBalanceUSDT).main,l.jsxs("span",{className:"text-xl",children:[",",i(n.totalBalanceUSDT).cents]}),l.jsx("span",{className:"text-lg text-white/50 ml-2",children:"USDT"})]}),l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full ${s?"bg-[#34c759]/20":"bg-[#ff3b30]/20"}`,children:[s?l.jsx(is,{className:`w-4 h-4 ${s?"text-[#34c759]":"text-[#ff3b30]"}`}):l.jsx(_u,{className:`w-4 h-4 ${s?"text-[#34c759]":"text-[#ff3b30]"}`}),l.jsxs("span",{className:`text-sm ${s?"text-[#34c759]":"text-[#ff3b30]"}`,children:[wv(Math.abs(n.change24h))," USDT"]})]}),l.jsx("div",{className:`px-3 py-1 rounded-full ${s?"bg-[#34c759]/20":"bg-[#ff3b30]/20"}`,children:l.jsxs("span",{className:`text-sm ${s?"text-[#34c759]":"text-[#ff3b30]"}`,children:[s?"+":"",n.changePercent24h.toFixed(2).replace(".",","),"%"]})})]})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(fk,{className:"w-4 h-4 text-white/70"}),l.jsx("p",{className:"text-white/50 text-xs",children:"Total de Ativos"})]}),l.jsx("p",{className:"text-white text-2xl",children:a.length})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Iv,{className:"w-4 h-4 text-white/70"}),l.jsx("p",{className:"text-white/50 text-xs",children:"Maior Ativo"})]}),l.jsx("p",{className:"text-white text-lg",children:a[0]?.symbol||""}),l.jsxs("p",{className:"text-white/50 text-xs",children:[a[0]?.percentage.toFixed(1).replace(".",","),"%"]})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-white text-lg mb-4 flex items-center gap-2",children:[l.jsx(fk,{className:"w-5 h-5"}),"Distribuio de Ativos"]}),l.jsx("div",{className:"space-y-3",children:a.map(o=>{const c=r[o.coinId]?.usd_24h_change||0,d=c>=0;return l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(At,{symbol:o.symbol,size:"sm"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-white text-sm",children:o.name}),l.jsxs("p",{className:"text-white/50 text-xs",children:[wv(o.amount,4)," ",o.symbol]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-white text-sm",children:[wv(o.valueUSDT)," USDT"]}),l.jsxs("div",{className:`text-xs ${d?"text-[#34c759]":"text-[#ff3b30]"}`,children:[d?"+":"",c.toFixed(2).replace(".",","),"%"]})]})]}),l.jsx("div",{className:"relative h-2 bg-white/10 rounded-full overflow-hidden",children:l.jsx("div",{className:"absolute left-0 top-0 h-full bg-white/30 rounded-full transition-all",style:{width:`${o.percentage}%`}})}),l.jsxs("p",{className:"text-white/50 text-xs mt-2",children:[o.percentage.toFixed(2).replace(".",","),"% do portflio"]})]},o.symbol)})})]}),n.priceHistory.length>1&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"text-white text-lg mb-4 flex items-center gap-2",children:[l.jsx(Iv,{className:"w-5 h-5"}),"Histrico do Portflio"]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[l.jsx("div",{className:"h-32 relative",children:l.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[l.jsx("stop",{offset:"0%",stopColor:s?"#34c759":"#ff3b30",stopOpacity:"0.15"}),l.jsx("stop",{offset:"100%",stopColor:s?"#34c759":"#ff3b30",stopOpacity:"0"})]}),l.jsxs("filter",{id:"glow",children:[l.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"coloredBlur"}),l.jsxs("feMerge",{children:[l.jsx("feMergeNode",{in:"coloredBlur"}),l.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),l.jsx("path",{d:(()=>{const o=n.priceHistory,c=Math.min(...o),f=Math.max(...o)-c||1,m=o.map((x,b)=>{const _=b/(o.length-1)*100,S=100-(x-c)/f*70-15;return{x:_,y:S}});let p=`M${m[0].x},${m[0].y}`;for(let x=0;x<m.length-1;x++){const b=m[Math.max(0,x-1)],_=m[x],S=m[x+1],O=m[Math.min(m.length-1,x+2)],R=_.x+(S.x-b.x)/6,z=_.y+(S.y-b.y)/6,P=S.x-(O.x-_.x)/6,A=S.y-(O.y-_.y)/6;p+=` C${R},${z} ${P},${A} ${S.x},${S.y}`}return`${p} L100,100 L0,100 Z`})(),fill:"url(#chartGradient)"}),l.jsx("path",{d:(()=>{const o=n.priceHistory,c=Math.min(...o),f=Math.max(...o)-c||1,m=o.map((y,x)=>{const b=x/(o.length-1)*100,_=100-(y-c)/f*70-15;return{x:b,y:_}});let p=`M${m[0].x},${m[0].y}`;for(let y=0;y<m.length-1;y++){const x=m[Math.max(0,y-1)],b=m[y],_=m[y+1],S=m[Math.min(m.length-1,y+2)],O=b.x+(_.x-x.x)/6,R=b.y+(_.y-x.y)/6,z=_.x-(S.x-b.x)/6,P=_.y-(S.y-b.y)/6;p+=` C${O},${R} ${z},${P} ${_.x},${_.y}`}return p})(),fill:"none",stroke:s?"#34c759":"#ff3b30",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)"})]})}),l.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-white/50",children:[l.jsxs("span",{children:["ltimas ",n.priceHistory.length," atualizaes"]}),l.jsx("span",{children:"Atualiza a cada 5min"})]})]})]})]})]}):null}const Bbe=[{symbol:"BTC",name:"Bitcoin",coinId:"bitcoin"},{symbol:"ETH",name:"Ethereum",coinId:"ethereum"},{symbol:"BNB",name:"BNB",coinId:"binancecoin"},{symbol:"SOL",name:"Solana",coinId:"solana"},{symbol:"XRP",name:"Ripple",coinId:"ripple"},{symbol:"ADA",name:"Cardano",coinId:"cardano"},{symbol:"AVAX",name:"Avalanche",coinId:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",coinId:"dogecoin"},{symbol:"DOT",name:"Polkadot",coinId:"polkadot"},{symbol:"MATIC",name:"Polygon",coinId:"matic-network"},{symbol:"LINK",name:"Chainlink",coinId:"chainlink"},{symbol:"UNI",name:"Uniswap",coinId:"uniswap"},{symbol:"LTC",name:"Litecoin",coinId:"litecoin"},{symbol:"ATOM",name:"Cosmos",coinId:"cosmos"},{symbol:"XLM",name:"Stellar",coinId:"stellar"},{symbol:"TRX",name:"Tron",coinId:"tron"},{symbol:"SHIB",name:"Shiba Inu",coinId:"shiba-inu"},{symbol:"WBTC",name:"Wrapped Bitcoin",coinId:"wrapped-bitcoin"},{symbol:"DAI",name:"Dai",coinId:"dai"},{symbol:"LEO",name:"UNUS SED LEO",coinId:"leo-token"},{symbol:"USDC",name:"USD Coin",coinId:"usd-coin"},{symbol:"TON",name:"Toncoin",coinId:"the-open-network"},{symbol:"ETC",name:"Ethereum Classic",coinId:"ethereum-classic"},{symbol:"BCH",name:"Bitcoin Cash",coinId:"bitcoin-cash"},{symbol:"APT",name:"Aptos",coinId:"aptos"},{symbol:"ARB",name:"Arbitrum",coinId:"arbitrum"},{symbol:"OP",name:"Optimism",coinId:"optimism"},{symbol:"ICP",name:"Internet Computer",coinId:"internet-computer"},{symbol:"FIL",name:"Filecoin",coinId:"filecoin"},{symbol:"NEAR",name:"NEAR Protocol",coinId:"near"},{symbol:"VET",name:"VeChain",coinId:"vechain"},{symbol:"ALGO",name:"Algorand",coinId:"algorand"},{symbol:"INJ",name:"Injective",coinId:"injective-protocol"},{symbol:"AAVE",name:"Aave",coinId:"aave"},{symbol:"MKR",name:"Maker",coinId:"maker"},{symbol:"GRT",name:"The Graph",coinId:"the-graph"},{symbol:"IMX",name:"Immutable X",coinId:"immutable-x"},{symbol:"STX",name:"Stacks",coinId:"blockstack"},{symbol:"HBAR",name:"Hedera",coinId:"hedera-hashgraph"},{symbol:"FTM",name:"Fantom",coinId:"fantom"},{symbol:"SAND",name:"The Sandbox",coinId:"the-sandbox"},{symbol:"MANA",name:"Decentraland",coinId:"decentraland"},{symbol:"AXS",name:"Axie Infinity",coinId:"axie-infinity"},{symbol:"XTZ",name:"Tezos",coinId:"tezos"},{symbol:"THETA",name:"Theta Network",coinId:"theta-token"},{symbol:"EOS",name:"EOS",coinId:"eos"},{symbol:"XMR",name:"Monero",coinId:"monero"},{symbol:"FLOW",name:"Flow",coinId:"flow"},{symbol:"CHZ",name:"Chiliz",coinId:"chiliz"},{symbol:"ZEC",name:"Zcash",coinId:"zcash"},{symbol:"RUNE",name:"THORChain",coinId:"thorchain"},{symbol:"KLAY",name:"Klaytn",coinId:"klay-token"},{symbol:"DASH",name:"Dash",coinId:"dash"},{symbol:"NEO",name:"Neo",coinId:"neo"},{symbol:"IOTA",name:"IOTA",coinId:"iota"},{symbol:"QNT",name:"Quant",coinId:"quant-network"},{symbol:"EGLD",name:"MultiversX",coinId:"elrond-erd-2"},{symbol:"PEPE",name:"Pepe",coinId:"pepe"},{symbol:"FET",name:"Fetch.ai",coinId:"fetch-ai"},{symbol:"SUI",name:"Sui",coinId:"sui"},{symbol:"SEI",name:"Sei",coinId:"sei-network"}];function zbe({isOpen:t,onClose:e,visibleCards:n,onToggleCard:r}){const{prices:i}=xi();if(!t)return null;const s=a=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a);return l.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),l.jsxs("div",{className:"relative w-full max-w-md bg-[#1c1c1e] rounded-t-3xl sm:rounded-3xl shadow-2xl max-h-[85vh] flex flex-col animate-slide-up",children:[l.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"Gerenciar Criptomoedas"}),l.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors",children:l.jsx(gi,{className:"w-5 h-5 text-white/70"})})]}),l.jsx("div",{className:"px-6 py-3 bg-white/5",children:l.jsx("p",{className:"text-sm text-white/50",children:"Selecione as criptomoedas para exibir na tela inicial"})}),l.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:l.jsx("div",{className:"space-y-2",children:Bbe.map(a=>{const o=n.includes(a.symbol),c=i[a.coinId]?.usd||0,d=i[a.coinId]?.usd_24h_change||0;return l.jsxs("button",{onClick:()=>r(a.symbol),className:`w-full rounded-2xl p-4 flex items-center justify-between transition-all border ${o?"bg-white/10 border-white/20":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(At,{symbol:a.symbol,size:"md"}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"text-base font-bold text-white",children:a.name}),l.jsx("p",{className:"text-sm text-white/50",children:a.symbol})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm font-semibold text-white",children:s(c)}),l.jsxs("div",{className:`text-xs ${d>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[d>=0?"+":"",d.toFixed(2).replace(".",","),"%"]})]}),l.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-all ${o?"bg-green-500":"bg-white/10 border border-white/20"}`,children:o?l.jsx(An,{className:"w-4 h-4 text-white"}):l.jsx(wu,{className:"w-4 h-4 text-white/50"})})]})]},a.symbol)})})}),l.jsx("div",{className:"px-6 py-4 border-t border-white/10",children:l.jsx("button",{onClick:e,className:"w-full py-3.5 rounded-full bg-blue-500 hover:bg-blue-600 text-white font-semibold transition-colors",children:"Concluir"})})]})]})}function sq(t,e,n={}){const{maxRetries:r=3,retryDelay:i=1e3,onError:s}=n;let a=0,o=null,c=!1;const d=()=>{if(!c)try{o=zi(t,f=>{a=0,e(f)},f=>{if(console.error(" Erro no listener Firestore:",f),s&&s(f),f.code==="permission-denied"){console.error(" Erro de permisso - no ser feito retry");return}if(a<r&&!c){a++;const m=i*Math.pow(2,a-1);console.log(` Tentando reconectar (${a}/${r}) em ${m}ms...`),setTimeout(()=>{c||d()},m)}else console.error(" Mximo de tentativas de reconexo atingido")})}catch(f){console.error(" Erro ao configurar listener:",f)}};return d(),()=>{if(c=!0,o)try{o()}catch(f){console.error(" Erro ao desinscrever listener:",f)}}}function kg(){const{user:t}=Ft(),[e,n]=E.useState([]),[r,i]=E.useState(!0),[s,a]=E.useState(!1);E.useEffect(()=>{if(!t?.uid){i(!1),n([]),a(!1);return}console.log(" Iniciando listener de saldos fiat para userId:",t.uid);const d=it(Se,"users",t.uid,"fiatBalances"),f=jt(d),m=sq(f,p=>{console.log(" Snapshot de saldos fiat recebido - Total:",p.size);const y=[];p.forEach(x=>{const b=x.data();y.push({currency:b.currency||x.id,balance:b.balance||0,updatedAt:b.updatedAt?.toDate()||new Date})}),n(y),i(!1),a(!1),console.log(" Saldos fiat carregados:",y)},{maxRetries:3,retryDelay:1e3,onError:p=>{console.error(" Erro no listener de saldos fiat:",p),p.code==="permission-denied"&&(console.warn(" ERRO DE PERMISSO: Configure as regras do Firestore!"),a(!0)),i(!1)}});return()=>{console.log(" Cancelando listener de saldos fiat"),m()}},[t?.uid]);const o=d=>e.find(m=>m.currency===d)?.balance||0;return{balances:e,isLoading:r,hasPermissionError:s,getBalance:o,hasEnoughBalance:(d,f)=>o(d)>=f}}function wa({value:t,symbol:e,className:n="text-xl font-light",showSymbol:r=!0,decimalScale:i=.65}){const a=(typeof t=="number"?t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):t).split(","),o=a[0],c=a[1]||"00";return l.jsxs("span",{className:n,children:[r&&e&&`${e} `,o,l.jsxs("span",{style:{fontSize:`${i}em`},children:[",",c]})]})}var qE={},HE={},jm={},WE={},oL;function Ube(){return oL||(oL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(WE)),WE}var KE,lL;function $be(){if(lL)return KE;lL=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,c=typeof Hy=="object"&&Hy&&Hy.Object===Object&&Hy,d=typeof self=="object"&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),m=Object.prototype,p=m.toString,y=Math.max,x=Math.min,b=function(){return f.Date.now()};function _(P,A,N){var T,I,j,D,F,V,$=0,Z=!1,J=!1,B=!0;if(typeof P!="function")throw new TypeError(t);A=z(A)||0,S(N)&&(Z=!!N.leading,J="maxWait"in N,j=J?y(z(N.maxWait)||0,A):j,B="trailing"in N?!!N.trailing:B);function Q(re){var xe=T,ae=I;return T=I=void 0,$=re,D=P.apply(ae,xe),D}function H(re){return $=re,F=setTimeout(G,A),Z?Q(re):D}function k(re){var xe=re-V,ae=re-$,ve=A-xe;return J?x(ve,j-ae):ve}function U(re){var xe=re-V,ae=re-$;return V===void 0||xe>=A||xe<0||J&&ae>=j}function G(){var re=b();if(U(re))return K(re);F=setTimeout(G,k(re))}function K(re){return F=void 0,B&&T?Q(re):(T=I=void 0,D)}function X(){F!==void 0&&clearTimeout(F),$=0,T=V=I=F=void 0}function te(){return F===void 0?D:K(b())}function ie(){var re=b(),xe=U(re);if(T=arguments,I=this,V=re,xe){if(F===void 0)return H(V);if(J)return F=setTimeout(G,A),Q(V)}return F===void 0&&(F=setTimeout(G,A)),D}return ie.cancel=X,ie.flush=te,ie}function S(P){var A=typeof P;return!!P&&(A=="object"||A=="function")}function O(P){return!!P&&typeof P=="object"}function R(P){return typeof P=="symbol"||O(P)&&p.call(P)==n}function z(P){if(typeof P=="number")return P;if(R(P))return e;if(S(P)){var A=typeof P.valueOf=="function"?P.valueOf():P;P=S(A)?A+"":A}if(typeof P!="string")return P===0?P:+P;P=P.replace(r,"");var N=s.test(P);return N||a.test(P)?o(P.slice(2),N?2:8):i.test(P)?e:+P}return KE=_,KE}var GE={exports:{}};var cL;function dw(){return cL||(cL=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,r(o)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(GE)),GE.exports}var Oe={},XE={},uL;function aq(){return uL||(uL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Jr());function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(XE)),XE}var dL;function Rg(){if(dL)return Oe;dL=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.checkSpecKeys=Oe.checkNavigable=Oe.changeSlide=Oe.canUseDOM=Oe.canGoNext=void 0,Oe.clamp=d,Oe.extractObject=void 0,Oe.filterSettings=Q,Oe.validSettings=Oe.swipeStart=Oe.swipeMove=Oe.swipeEnd=Oe.slidesOnRight=Oe.slidesOnLeft=Oe.slideHandler=Oe.siblingDirection=Oe.safePreventDefault=Oe.lazyStartIndex=Oe.lazySlidesOnRight=Oe.lazySlidesOnLeft=Oe.lazyEndIndex=Oe.keyHandler=Oe.initializedState=Oe.getWidth=Oe.getTrackLeft=Oe.getTrackCSS=Oe.getTrackAnimateCSS=Oe.getTotalSlides=Oe.getSwipeDirection=Oe.getSlideCount=Oe.getRequiredLazySlides=Oe.getPreClones=Oe.getPostClones=Oe.getOnDemandLazySlides=Oe.getNavigableIndexes=Oe.getHeight=void 0;var t=n(Jr()),e=n(aq());function n(H){return H&&H.__esModule?H:{default:H}}function r(H){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},r(H)}function i(H,k){var U=Object.keys(H);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(H);k&&(G=G.filter(function(K){return Object.getOwnPropertyDescriptor(H,K).enumerable})),U.push.apply(U,G)}return U}function s(H){for(var k=1;k<arguments.length;k++){var U=arguments[k]!=null?arguments[k]:{};k%2?i(Object(U),!0).forEach(function(G){a(H,G,U[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(U)):i(Object(U)).forEach(function(G){Object.defineProperty(H,G,Object.getOwnPropertyDescriptor(U,G))})}return H}function a(H,k,U){return(k=o(k))in H?Object.defineProperty(H,k,{value:U,enumerable:!0,configurable:!0,writable:!0}):H[k]=U,H}function o(H){var k=c(H,"string");return r(k)=="symbol"?k:k+""}function c(H,k){if(r(H)!="object"||!H)return H;var U=H[Symbol.toPrimitive];if(U!==void 0){var G=U.call(H,k);if(r(G)!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(H)}function d(H,k,U){return Math.max(k,Math.min(H,U))}var f=Oe.safePreventDefault=function(k){var U=["onTouchStart","onTouchMove","onWheel"];U.includes(k._reactName)||k.preventDefault()},m=Oe.getOnDemandLazySlides=function(k){for(var U=[],G=p(k),K=y(k),X=G;X<K;X++)k.lazyLoadedList.indexOf(X)<0&&U.push(X);return U};Oe.getRequiredLazySlides=function(k){for(var U=[],G=p(k),K=y(k),X=G;X<K;X++)U.push(X);return U};var p=Oe.lazyStartIndex=function(k){return k.currentSlide-x(k)},y=Oe.lazyEndIndex=function(k){return k.currentSlide+b(k)},x=Oe.lazySlidesOnLeft=function(k){return k.centerMode?Math.floor(k.slidesToShow/2)+(parseInt(k.centerPadding)>0?1:0):0},b=Oe.lazySlidesOnRight=function(k){return k.centerMode?Math.floor((k.slidesToShow-1)/2)+1+(parseInt(k.centerPadding)>0?1:0):k.slidesToShow},_=Oe.getWidth=function(k){return k&&k.offsetWidth||0},S=Oe.getHeight=function(k){return k&&k.offsetHeight||0},O=Oe.getSwipeDirection=function(k){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G,K,X,te;return G=k.startX-k.curX,K=k.startY-k.curY,X=Math.atan2(K,G),te=Math.round(X*180/Math.PI),te<0&&(te=360-Math.abs(te)),te<=45&&te>=0||te<=360&&te>=315?"left":te>=135&&te<=225?"right":U===!0?te>=35&&te<=135?"up":"down":"vertical"},R=Oe.canGoNext=function(k){var U=!0;return k.infinite||(k.centerMode&&k.currentSlide>=k.slideCount-1||k.slideCount<=k.slidesToShow||k.currentSlide>=k.slideCount-k.slidesToShow)&&(U=!1),U};Oe.extractObject=function(k,U){var G={};return U.forEach(function(K){return G[K]=k[K]}),G},Oe.initializedState=function(k){var U=t.default.Children.count(k.children),G=k.listRef,K=Math.ceil(_(G)),X=k.trackRef&&k.trackRef.node,te=Math.ceil(_(X)),ie;if(k.vertical)ie=K;else{var re=k.centerMode&&parseInt(k.centerPadding)*2;typeof k.centerPadding=="string"&&k.centerPadding.slice(-1)==="%"&&(re*=K/100),ie=Math.ceil((K-re)/k.slidesToShow)}var xe=G&&S(G.querySelector('[data-index="0"]')),ae=xe*k.slidesToShow,ve=k.currentSlide===void 0?k.initialSlide:k.currentSlide;k.rtl&&k.currentSlide===void 0&&(ve=U-1-k.initialSlide);var Ce=k.lazyLoadedList||[],me=m(s(s({},k),{},{currentSlide:ve,lazyLoadedList:Ce}));Ce=Ce.concat(me);var Ie={slideCount:U,slideWidth:ie,listWidth:K,trackWidth:te,currentSlide:ve,slideHeight:xe,listHeight:ae,lazyLoadedList:Ce};return k.autoplaying===null&&k.autoplay&&(Ie.autoplaying="playing"),Ie},Oe.slideHandler=function(k){var U=k.waitForAnimate,G=k.animating,K=k.fade,X=k.infinite,te=k.index,ie=k.slideCount,re=k.lazyLoad,xe=k.currentSlide,ae=k.centerMode,ve=k.slidesToScroll,Ce=k.slidesToShow,me=k.useCSS,Ie=k.lazyLoadedList;if(U&&G)return{};var De=te,Je,ot,Fe,pt={},ut={},oe=X?te:d(te,0,ie-1);if(K){if(!X&&(te<0||te>=ie))return{};te<0?De=te+ie:te>=ie&&(De=te-ie),re&&Ie.indexOf(De)<0&&(Ie=Ie.concat(De)),pt={animating:!0,currentSlide:De,lazyLoadedList:Ie,targetSlide:De},ut={animating:!1,targetSlide:De}}else Je=De,De<0?(Je=De+ie,X?ie%ve!==0&&(Je=ie-ie%ve):Je=0):!R(k)&&De>xe?De=Je=xe:ae&&De>=ie?(De=X?ie:ie-1,Je=X?0:ie-1):De>=ie&&(Je=De-ie,X?ie%ve!==0&&(Je=0):Je=ie-Ce),!X&&De+Ce>=ie&&(Je=ie-Ce),ot=j(s(s({},k),{},{slideIndex:De})),Fe=j(s(s({},k),{},{slideIndex:Je})),X||(ot===Fe&&(De=Je),ot=Fe),re&&(Ie=Ie.concat(m(s(s({},k),{},{currentSlide:De})))),me?(pt={animating:!0,currentSlide:Je,trackStyle:I(s(s({},k),{},{left:ot})),lazyLoadedList:Ie,targetSlide:oe},ut={animating:!1,currentSlide:Je,trackStyle:T(s(s({},k),{},{left:Fe})),swipeLeft:null,targetSlide:oe}):pt={currentSlide:Je,trackStyle:T(s(s({},k),{},{left:Fe})),lazyLoadedList:Ie,targetSlide:oe};return{state:pt,nextState:ut}},Oe.changeSlide=function(k,U){var G,K,X,te,ie,re=k.slidesToScroll,xe=k.slidesToShow,ae=k.slideCount,ve=k.currentSlide,Ce=k.targetSlide,me=k.lazyLoad,Ie=k.infinite;if(te=ae%re!==0,G=te?0:(ae-ve)%re,U.message==="previous")X=G===0?re:xe-G,ie=ve-X,me&&!Ie&&(K=ve-X,ie=K===-1?ae-1:K),Ie||(ie=Ce-re);else if(U.message==="next")X=G===0?re:G,ie=ve+X,me&&!Ie&&(ie=(ve+re)%ae+G),Ie||(ie=Ce+re);else if(U.message==="dots")ie=U.index*U.slidesToScroll;else if(U.message==="children"){if(ie=U.index,Ie){var De=$(s(s({},k),{},{targetSlide:ie}));ie>U.currentSlide&&De==="left"?ie=ie-ae:ie<U.currentSlide&&De==="right"&&(ie=ie+ae)}}else U.message==="index"&&(ie=Number(U.index));return ie},Oe.keyHandler=function(k,U,G){return k.target.tagName.match("TEXTAREA|INPUT|SELECT")||!U?"":k.keyCode===37?G?"next":"previous":k.keyCode===39?G?"previous":"next":""},Oe.swipeStart=function(k,U,G){return k.target.tagName==="IMG"&&f(k),!U||!G&&k.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:k.touches?k.touches[0].pageX:k.clientX,startY:k.touches?k.touches[0].pageY:k.clientY,curX:k.touches?k.touches[0].pageX:k.clientX,curY:k.touches?k.touches[0].pageY:k.clientY}}},Oe.swipeMove=function(k,U){var G=U.scrolling,K=U.animating,X=U.vertical,te=U.swipeToSlide,ie=U.verticalSwiping,re=U.rtl,xe=U.currentSlide,ae=U.edgeFriction,ve=U.edgeDragged,Ce=U.onEdge,me=U.swiped,Ie=U.swiping,De=U.slideCount,Je=U.slidesToScroll,ot=U.infinite,Fe=U.touchObject,pt=U.swipeEvent,ut=U.listHeight,oe=U.listWidth;if(!G){if(K)return f(k);X&&te&&ie&&f(k);var Ne,Xe={},de=j(U);Fe.curX=k.touches?k.touches[0].pageX:k.clientX,Fe.curY=k.touches?k.touches[0].pageY:k.clientY,Fe.swipeLength=Math.round(Math.sqrt(Math.pow(Fe.curX-Fe.startX,2)));var Ke=Math.round(Math.sqrt(Math.pow(Fe.curY-Fe.startY,2)));if(!ie&&!Ie&&Ke>10)return{scrolling:!0};ie&&(Fe.swipeLength=Ke);var dt=(re?-1:1)*(Fe.curX>Fe.startX?1:-1);ie&&(dt=Fe.curY>Fe.startY?1:-1);var nt=Math.ceil(De/Je),rt=O(U.touchObject,ie),Rt=Fe.swipeLength;return ot||(xe===0&&(rt==="right"||rt==="down")||xe+1>=nt&&(rt==="left"||rt==="up")||!R(U)&&(rt==="left"||rt==="up"))&&(Rt=Fe.swipeLength*ae,ve===!1&&Ce&&(Ce(rt),Xe.edgeDragged=!0)),!me&&pt&&(pt(rt),Xe.swiped=!0),X?Ne=de+Rt*(ut/oe)*dt:re?Ne=de-Rt*dt:Ne=de+Rt*dt,ie&&(Ne=de+Rt*dt),Xe=s(s({},Xe),{},{touchObject:Fe,swipeLeft:Ne,trackStyle:T(s(s({},U),{},{left:Ne}))}),Math.abs(Fe.curX-Fe.startX)<Math.abs(Fe.curY-Fe.startY)*.8||Fe.swipeLength>10&&(Xe.swiping=!0,f(k)),Xe}},Oe.swipeEnd=function(k,U){var G=U.dragging,K=U.swipe,X=U.touchObject,te=U.listWidth,ie=U.touchThreshold,re=U.verticalSwiping,xe=U.listHeight,ae=U.swipeToSlide,ve=U.scrolling,Ce=U.onSwipe,me=U.targetSlide,Ie=U.currentSlide,De=U.infinite;if(!G)return K&&f(k),{};var Je=re?xe/ie:te/ie,ot=O(X,re),Fe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(ve||!X.swipeLength)return Fe;if(X.swipeLength>Je){f(k),Ce&&Ce(ot);var pt,ut,oe=De?Ie:me;switch(ot){case"left":case"up":ut=oe+A(U),pt=ae?P(U,ut):ut,Fe.currentDirection=0;break;case"right":case"down":ut=oe-A(U),pt=ae?P(U,ut):ut,Fe.currentDirection=1;break;default:pt=oe}Fe.triggerSlideHandler=pt}else{var Ne=j(U);Fe.trackStyle=I(s(s({},U),{},{left:Ne}))}return Fe};var z=Oe.getNavigableIndexes=function(k){for(var U=k.infinite?k.slideCount*2:k.slideCount,G=k.infinite?k.slidesToShow*-1:0,K=k.infinite?k.slidesToShow*-1:0,X=[];G<U;)X.push(G),G=K+k.slidesToScroll,K+=Math.min(k.slidesToScroll,k.slidesToShow);return X},P=Oe.checkNavigable=function(k,U){var G=z(k),K=0;if(U>G[G.length-1])U=G[G.length-1];else for(var X in G){if(U<G[X]){U=K;break}K=G[X]}return U},A=Oe.getSlideCount=function(k){var U=k.centerMode?k.slideWidth*Math.floor(k.slidesToShow/2):0;if(k.swipeToSlide){var G,K=k.listRef,X=K.querySelectorAll&&K.querySelectorAll(".slick-slide")||[];if(Array.from(X).every(function(re){if(k.vertical){if(re.offsetTop+S(re)/2>k.swipeLeft*-1)return G=re,!1}else if(re.offsetLeft-U+_(re)/2>k.swipeLeft*-1)return G=re,!1;return!0}),!G)return 0;var te=k.rtl===!0?k.slideCount-k.currentSlide:k.currentSlide,ie=Math.abs(G.dataset.index-te)||1;return ie}else return k.slidesToScroll},N=Oe.checkSpecKeys=function(k,U){return U.reduce(function(G,K){return G&&k.hasOwnProperty(K)},!0)?null:console.error("Keys Missing:",k)},T=Oe.getTrackCSS=function(k){N(k,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var U,G;if(!k.vertical)U=V(k)*k.slideWidth;else{var K=k.unslick?k.slideCount:k.slideCount+2*k.slidesToShow;G=K*k.slideHeight}var X={opacity:1,transition:"",WebkitTransition:""};if(k.useTransform){var te=k.vertical?"translate3d(0px, "+k.left+"px, 0px)":"translate3d("+k.left+"px, 0px, 0px)",ie=k.vertical?"translate3d(0px, "+k.left+"px, 0px)":"translate3d("+k.left+"px, 0px, 0px)",re=k.vertical?"translateY("+k.left+"px)":"translateX("+k.left+"px)";X=s(s({},X),{},{WebkitTransform:te,transform:ie,msTransform:re})}else k.vertical?X.top=k.left:X.left=k.left;return k.fade&&(X={opacity:1}),U&&(X.width=U),G&&(X.height=G),window&&!window.addEventListener&&window.attachEvent&&(k.vertical?X.marginTop=k.left+"px":X.marginLeft=k.left+"px"),X},I=Oe.getTrackAnimateCSS=function(k){N(k,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var U=T(k);return k.useTransform?(U.WebkitTransition="-webkit-transform "+k.speed+"ms "+k.cssEase,U.transition="transform "+k.speed+"ms "+k.cssEase):k.vertical?U.transition="top "+k.speed+"ms "+k.cssEase:U.transition="left "+k.speed+"ms "+k.cssEase,U},j=Oe.getTrackLeft=function(k){if(k.unslick)return 0;N(k,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var U=k.slideIndex,G=k.trackRef,K=k.infinite,X=k.centerMode,te=k.slideCount,ie=k.slidesToShow,re=k.slidesToScroll,xe=k.slideWidth,ae=k.listWidth,ve=k.variableWidth,Ce=k.slideHeight,me=k.fade,Ie=k.vertical,De=0,Je,ot,Fe=0;if(me||k.slideCount===1)return 0;var pt=0;if(K?(pt=-D(k),te%re!==0&&U+re>te&&(pt=-(U>te?ie-(U-te):te%re)),X&&(pt+=parseInt(ie/2))):(te%re!==0&&U+re>te&&(pt=ie-te%re),X&&(pt=parseInt(ie/2))),De=pt*xe,Fe=pt*Ce,Ie?Je=U*Ce*-1+Fe:Je=U*xe*-1+De,ve===!0){var ut,oe=G&&G.node;if(ut=U+D(k),ot=oe&&oe.childNodes[ut],Je=ot?ot.offsetLeft*-1:0,X===!0){ut=K?U+D(k):U,ot=oe&&oe.children[ut],Je=0;for(var Ne=0;Ne<ut;Ne++)Je-=oe&&oe.children[Ne]&&oe.children[Ne].offsetWidth;Je-=parseInt(k.centerPadding),Je+=ot&&(ae-ot.offsetWidth)/2}}return Je},D=Oe.getPreClones=function(k){return k.unslick||!k.infinite?0:k.variableWidth?k.slideCount:k.slidesToShow+(k.centerMode?1:0)},F=Oe.getPostClones=function(k){return k.unslick||!k.infinite?0:k.variableWidth?k.slideCount:k.slidesToShow+(k.centerMode?1:0)},V=Oe.getTotalSlides=function(k){return k.slideCount===1?1:D(k)+k.slideCount+F(k)},$=Oe.siblingDirection=function(k){return k.targetSlide>k.currentSlide?k.targetSlide>k.currentSlide+Z(k)?"left":"right":k.targetSlide<k.currentSlide-J(k)?"right":"left"},Z=Oe.slidesOnRight=function(k){var U=k.slidesToShow,G=k.centerMode,K=k.rtl,X=k.centerPadding;if(G){var te=(U-1)/2+1;return parseInt(X)>0&&(te+=1),K&&U%2===0&&(te+=1),te}return K?0:U-1},J=Oe.slidesOnLeft=function(k){var U=k.slidesToShow,G=k.centerMode,K=k.rtl,X=k.centerPadding;if(G){var te=(U-1)/2+1;return parseInt(X)>0&&(te+=1),!K&&U%2===0&&(te+=1),te}return K?U-1:0};Oe.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var B=Oe.validSettings=Object.keys(e.default);function Q(H){return B.reduce(function(k,U){return H.hasOwnProperty(U)&&(k[U]=H[U]),k},{})}return Oe}var km={},fL;function qbe(){if(fL)return km;fL=1,Object.defineProperty(km,"__esModule",{value:!0}),km.Track=void 0;var t=r(Jr()),e=r(dw()),n=Rg();function r(I){return I&&I.__esModule?I:{default:I}}function i(I){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},i(I)}function s(){return s=Object.assign?Object.assign.bind():function(I){for(var j=1;j<arguments.length;j++){var D=arguments[j];for(var F in D)({}).hasOwnProperty.call(D,F)&&(I[F]=D[F])}return I},s.apply(null,arguments)}function a(I,j){if(!(I instanceof j))throw new TypeError("Cannot call a class as a function")}function o(I,j){for(var D=0;D<j.length;D++){var F=j[D];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(I,R(F.key),F)}}function c(I,j,D){return j&&o(I.prototype,j),Object.defineProperty(I,"prototype",{writable:!1}),I}function d(I,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(j&&j.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),j&&f(I,j)}function f(I,j){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,F){return D.__proto__=F,D},f(I,j)}function m(I){var j=x();return function(){var D,F=b(I);if(j){var V=b(this).constructor;D=Reflect.construct(F,arguments,V)}else D=F.apply(this,arguments);return p(this,D)}}function p(I,j){if(j&&(i(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(I)}function y(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function x(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x=function(){return!!I})()}function b(I){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},b(I)}function _(I,j){var D=Object.keys(I);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(I);j&&(F=F.filter(function(V){return Object.getOwnPropertyDescriptor(I,V).enumerable})),D.push.apply(D,F)}return D}function S(I){for(var j=1;j<arguments.length;j++){var D=arguments[j]!=null?arguments[j]:{};j%2?_(Object(D),!0).forEach(function(F){O(I,F,D[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(D)):_(Object(D)).forEach(function(F){Object.defineProperty(I,F,Object.getOwnPropertyDescriptor(D,F))})}return I}function O(I,j,D){return(j=R(j))in I?Object.defineProperty(I,j,{value:D,enumerable:!0,configurable:!0,writable:!0}):I[j]=D,I}function R(I){var j=z(I,"string");return i(j)=="symbol"?j:j+""}function z(I,j){if(i(I)!="object"||!I)return I;var D=I[Symbol.toPrimitive];if(D!==void 0){var F=D.call(I,j);if(i(F)!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(I)}var P=function(j){var D,F,V,$,Z;j.rtl?Z=j.slideCount-1-j.index:Z=j.index,V=Z<0||Z>=j.slideCount,j.centerMode?($=Math.floor(j.slidesToShow/2),F=(Z-j.currentSlide)%j.slideCount===0,Z>j.currentSlide-$-1&&Z<=j.currentSlide+$&&(D=!0)):D=j.currentSlide<=Z&&Z<j.currentSlide+j.slidesToShow;var J;j.targetSlide<0?J=j.targetSlide+j.slideCount:j.targetSlide>=j.slideCount?J=j.targetSlide-j.slideCount:J=j.targetSlide;var B=Z===J;return{"slick-slide":!0,"slick-active":D,"slick-center":F,"slick-cloned":V,"slick-current":B}},A=function(j){var D={};return(j.variableWidth===void 0||j.variableWidth===!1)&&(D.width=j.slideWidth),j.fade&&(D.position="relative",j.vertical?D.top=-j.index*parseInt(j.slideHeight):D.left=-j.index*parseInt(j.slideWidth),D.opacity=j.currentSlide===j.index?1:0,D.zIndex=j.currentSlide===j.index?999:998,j.useCSS&&(D.transition="opacity "+j.speed+"ms "+j.cssEase+", visibility "+j.speed+"ms "+j.cssEase)),D},N=function(j,D){return j.key||D},T=function(j){var D,F=[],V=[],$=[],Z=t.default.Children.count(j.children),J=(0,n.lazyStartIndex)(j),B=(0,n.lazyEndIndex)(j);return t.default.Children.forEach(j.children,function(Q,H){var k,U={message:"children",index:H,slidesToScroll:j.slidesToScroll,currentSlide:j.currentSlide};!j.lazyLoad||j.lazyLoad&&j.lazyLoadedList.indexOf(H)>=0?k=Q:k=t.default.createElement("div",null);var G=A(S(S({},j),{},{index:H})),K=k.props.className||"",X=P(S(S({},j),{},{index:H}));if(F.push(t.default.cloneElement(k,{key:"original"+N(k,H),"data-index":H,className:(0,e.default)(X,K),tabIndex:"-1","aria-hidden":!X["slick-active"],style:S(S({outline:"none"},k.props.style||{}),G),onClick:function(re){k.props&&k.props.onClick&&k.props.onClick(re),j.focusOnSelect&&j.focusOnSelect(U)}})),j.infinite&&Z>1&&j.fade===!1&&!j.unslick){var te=Z-H;te<=(0,n.getPreClones)(j)&&(D=-te,D>=J&&(k=Q),X=P(S(S({},j),{},{index:D})),V.push(t.default.cloneElement(k,{key:"precloned"+N(k,D),"data-index":D,tabIndex:"-1",className:(0,e.default)(X,K),"aria-hidden":!X["slick-active"],style:S(S({},k.props.style||{}),G),onClick:function(re){k.props&&k.props.onClick&&k.props.onClick(re),j.focusOnSelect&&j.focusOnSelect(U)}}))),H<(0,n.getPostClones)(j)&&(D=Z+H,D<B&&(k=Q),X=P(S(S({},j),{},{index:D})),$.push(t.default.cloneElement(k,{key:"postcloned"+N(k,D),"data-index":D,tabIndex:"-1",className:(0,e.default)(X,K),"aria-hidden":!X["slick-active"],style:S(S({},k.props.style||{}),G),onClick:function(re){k.props&&k.props.onClick&&k.props.onClick(re),j.focusOnSelect&&j.focusOnSelect(U)}})))}}),j.rtl?V.concat(F,$).reverse():V.concat(F,$)};return km.Track=(function(I){d(D,I);var j=m(D);function D(){var F;a(this,D);for(var V=arguments.length,$=new Array(V),Z=0;Z<V;Z++)$[Z]=arguments[Z];return F=j.call.apply(j,[this].concat($)),O(y(F),"node",null),O(y(F),"handleRef",function(J){F.node=J}),F}return c(D,[{key:"render",value:function(){var V=T(this.props),$=this.props,Z=$.onMouseEnter,J=$.onMouseOver,B=$.onMouseLeave,Q={onMouseEnter:Z,onMouseOver:J,onMouseLeave:B};return t.default.createElement("div",s({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},Q),V)}}]),D})(t.default.PureComponent),km}var Rm={},hL;function Hbe(){if(hL)return Rm;hL=1;function t(P){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},t(P)}Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.Dots=void 0;var e=i(Jr()),n=i(dw()),r=Rg();function i(P){return P&&P.__esModule?P:{default:P}}function s(P,A){var N=Object.keys(P);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(P);A&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(P,I).enumerable})),N.push.apply(N,T)}return N}function a(P){for(var A=1;A<arguments.length;A++){var N=arguments[A]!=null?arguments[A]:{};A%2?s(Object(N),!0).forEach(function(T){o(P,T,N[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(N)):s(Object(N)).forEach(function(T){Object.defineProperty(P,T,Object.getOwnPropertyDescriptor(N,T))})}return P}function o(P,A,N){return(A=m(A))in P?Object.defineProperty(P,A,{value:N,enumerable:!0,configurable:!0,writable:!0}):P[A]=N,P}function c(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}function d(P,A){for(var N=0;N<A.length;N++){var T=A[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,m(T.key),T)}}function f(P,A,N){return A&&d(P.prototype,A),Object.defineProperty(P,"prototype",{writable:!1}),P}function m(P){var A=p(P,"string");return t(A)=="symbol"?A:A+""}function p(P,A){if(t(P)!="object"||!P)return P;var N=P[Symbol.toPrimitive];if(N!==void 0){var T=N.call(P,A);if(t(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}function y(P,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(A&&A.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),A&&x(P,A)}function x(P,A){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,T){return N.__proto__=T,N},x(P,A)}function b(P){var A=O();return function(){var N,T=R(P);if(A){var I=R(this).constructor;N=Reflect.construct(T,arguments,I)}else N=T.apply(this,arguments);return _(this,N)}}function _(P,A){if(A&&(t(A)=="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(P)}function S(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function O(){try{var P=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!P})()}function R(P){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},R(P)}var z=function(A){var N;return A.infinite?N=Math.ceil(A.slideCount/A.slidesToScroll):N=Math.ceil((A.slideCount-A.slidesToShow)/A.slidesToScroll)+1,N};return Rm.Dots=(function(P){y(N,P);var A=b(N);function N(){return c(this,N),A.apply(this,arguments)}return f(N,[{key:"clickHandler",value:function(I,j){j.preventDefault(),this.props.clickHandler(I)}},{key:"render",value:function(){for(var I=this.props,j=I.onMouseEnter,D=I.onMouseOver,F=I.onMouseLeave,V=I.infinite,$=I.slidesToScroll,Z=I.slidesToShow,J=I.slideCount,B=I.currentSlide,Q=z({slideCount:J,slidesToScroll:$,slidesToShow:Z,infinite:V}),H={onMouseEnter:j,onMouseOver:D,onMouseLeave:F},k=[],U=0;U<Q;U++){var G=(U+1)*$-1,K=V?G:(0,r.clamp)(G,0,J-1),X=K-($-1),te=V?X:(0,r.clamp)(X,0,J-1),ie=(0,n.default)({"slick-active":V?B>=te&&B<=K:B===te}),re={message:"dots",index:U,slidesToScroll:$,currentSlide:B},xe=this.clickHandler.bind(this,re);k=k.concat(e.default.createElement("li",{key:U,className:ie},e.default.cloneElement(this.props.customPaging(U),{onClick:xe})))}return e.default.cloneElement(this.props.appendDots(k),a({className:this.props.dotsClass},H))}}]),N})(e.default.PureComponent),Rm}var Hc={},mL;function Wbe(){if(mL)return Hc;mL=1;function t(P){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},t(P)}Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.PrevArrow=Hc.NextArrow=void 0;var e=i(Jr()),n=i(dw()),r=Rg();function i(P){return P&&P.__esModule?P:{default:P}}function s(){return s=Object.assign?Object.assign.bind():function(P){for(var A=1;A<arguments.length;A++){var N=arguments[A];for(var T in N)({}).hasOwnProperty.call(N,T)&&(P[T]=N[T])}return P},s.apply(null,arguments)}function a(P,A){var N=Object.keys(P);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(P);A&&(T=T.filter(function(I){return Object.getOwnPropertyDescriptor(P,I).enumerable})),N.push.apply(N,T)}return N}function o(P){for(var A=1;A<arguments.length;A++){var N=arguments[A]!=null?arguments[A]:{};A%2?a(Object(N),!0).forEach(function(T){c(P,T,N[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(N)):a(Object(N)).forEach(function(T){Object.defineProperty(P,T,Object.getOwnPropertyDescriptor(N,T))})}return P}function c(P,A,N){return(A=p(A))in P?Object.defineProperty(P,A,{value:N,enumerable:!0,configurable:!0,writable:!0}):P[A]=N,P}function d(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}function f(P,A){for(var N=0;N<A.length;N++){var T=A[N];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(P,p(T.key),T)}}function m(P,A,N){return A&&f(P.prototype,A),Object.defineProperty(P,"prototype",{writable:!1}),P}function p(P){var A=y(P,"string");return t(A)=="symbol"?A:A+""}function y(P,A){if(t(P)!="object"||!P)return P;var N=P[Symbol.toPrimitive];if(N!==void 0){var T=N.call(P,A);if(t(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(P)}function x(P,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(A&&A.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),A&&b(P,A)}function b(P,A){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,T){return N.__proto__=T,N},b(P,A)}function _(P){var A=R();return function(){var N,T=z(P);if(A){var I=z(this).constructor;N=Reflect.construct(T,arguments,I)}else N=T.apply(this,arguments);return S(this,N)}}function S(P,A){if(A&&(t(A)=="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(P)}function O(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}function R(){try{var P=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!P})()}function z(P){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},z(P)}return Hc.PrevArrow=(function(P){x(N,P);var A=_(N);function N(){return d(this,N),A.apply(this,arguments)}return m(N,[{key:"clickHandler",value:function(I,j){j&&j.preventDefault(),this.props.clickHandler(I,j)}},{key:"render",value:function(){var I={"slick-arrow":!0,"slick-prev":!0},j=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(I["slick-disabled"]=!0,j=null);var D={key:"0","data-role":"none",className:(0,n.default)(I),style:{display:"block"},onClick:j},F={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},V;return this.props.prevArrow?V=e.default.cloneElement(this.props.prevArrow,o(o({},D),F)):V=e.default.createElement("button",s({key:"0",type:"button"},D)," ","Previous"),V}}]),N})(e.default.PureComponent),Hc.NextArrow=(function(P){x(N,P);var A=_(N);function N(){return d(this,N),A.apply(this,arguments)}return m(N,[{key:"clickHandler",value:function(I,j){j&&j.preventDefault(),this.props.clickHandler(I,j)}},{key:"render",value:function(){var I={"slick-arrow":!0,"slick-next":!0},j=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(I["slick-disabled"]=!0,j=null);var D={key:"1","data-role":"none",className:(0,n.default)(I),style:{display:"block"},onClick:j},F={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},V;return this.props.nextArrow?V=e.default.cloneElement(this.props.nextArrow,o(o({},D),F)):V=e.default.createElement("button",s({key:"1",type:"button"},D)," ","Next"),V}}]),N})(e.default.PureComponent),Hc}var oq=(function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var a=s[i];n.call(r,a[1],a[0])}},e})()})(),kT=typeof window<"u"&&typeof document<"u"&&window.document===document,Ax=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),Kbe=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Ax):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}})(),Gbe=2;function Xbe(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&o()}function a(){Kbe(s)}function o(){var c=Date.now();if(n){if(c-i<Gbe)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=c}return o}var Ybe=20,Qbe=["top","right","bottom","left","width","height","size","weight"],Jbe=typeof MutationObserver<"u",Zbe=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Xbe(this.refresh.bind(this),Ybe)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!kT||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Jbe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!kT||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=Qbe.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),lq=(function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t}),th=(function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Ax}),cq=fw(0,0,0,0);function Px(t){return parseFloat(t)||0}function pL(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+Px(s)},0)}function ewe(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],a=t["padding-"+s];n[s]=Px(a)}return n}function twe(t){var e=t.getBBox();return fw(0,0,e.width,e.height)}function nwe(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return cq;var r=th(t).getComputedStyle(t),i=ewe(r),s=i.left+i.right,a=i.top+i.bottom,o=Px(r.width),c=Px(r.height);if(r.boxSizing==="border-box"&&(Math.round(o+s)!==e&&(o-=pL(r,"left","right")+s),Math.round(c+a)!==n&&(c-=pL(r,"top","bottom")+a)),!iwe(t)){var d=Math.round(o+s)-e,f=Math.round(c+a)-n;Math.abs(d)!==1&&(o-=d),Math.abs(f)!==1&&(c-=f)}return fw(i.left,i.top,o,c)}var rwe=(function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof th(t).SVGGraphicsElement}:function(t){return t instanceof th(t).SVGElement&&typeof t.getBBox=="function"}})();function iwe(t){return t===th(t).document.documentElement}function swe(t){return kT?rwe(t)?twe(t):nwe(t):cq}function awe(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return lq(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function fw(t,e,n,r){return{x:t,y:e,width:n,height:r}}var owe=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=fw(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=swe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),lwe=(function(){function t(e,n){var r=awe(n);lq(this,{target:e,contentRect:r})}return t})(),cwe=(function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new oq,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof th(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new owe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof th(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new lwe(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),uq=typeof WeakMap<"u"?new WeakMap:new oq,dq=(function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Zbe.getInstance(),r=new cwe(e,n,this);uq.set(this,r)}return t})();["observe","unobserve","disconnect"].forEach(function(t){dq.prototype[t]=function(){var e;return(e=uq.get(this))[t].apply(e,arguments)}});var uwe=(function(){return typeof Ax.ResizeObserver<"u"?Ax.ResizeObserver:dq})();const dwe=Object.freeze(Object.defineProperty({__proto__:null,default:uwe},Symbol.toStringTag,{value:"Module"})),fwe=AK(dwe);var gL;function hwe(){if(gL)return jm;gL=1,Object.defineProperty(jm,"__esModule",{value:!0}),jm.InnerSlider=void 0;var t=d(Jr()),e=d(Ube()),n=d($be()),r=d(dw()),i=Rg(),s=qbe(),a=Hbe(),o=Wbe(),c=d(fwe);function d(V){return V&&V.__esModule?V:{default:V}}function f(V){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},f(V)}function m(){return m=Object.assign?Object.assign.bind():function(V){for(var $=1;$<arguments.length;$++){var Z=arguments[$];for(var J in Z)({}).hasOwnProperty.call(Z,J)&&(V[J]=Z[J])}return V},m.apply(null,arguments)}function p(V,$){if(V==null)return{};var Z,J,B=y(V,$);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(V);for(J=0;J<Q.length;J++)Z=Q[J],$.includes(Z)||{}.propertyIsEnumerable.call(V,Z)&&(B[Z]=V[Z])}return B}function y(V,$){if(V==null)return{};var Z={};for(var J in V)if({}.hasOwnProperty.call(V,J)){if($.includes(J))continue;Z[J]=V[J]}return Z}function x(V,$){var Z=Object.keys(V);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(V);$&&(J=J.filter(function(B){return Object.getOwnPropertyDescriptor(V,B).enumerable})),Z.push.apply(Z,J)}return Z}function b(V){for(var $=1;$<arguments.length;$++){var Z=arguments[$]!=null?arguments[$]:{};$%2?x(Object(Z),!0).forEach(function(J){j(V,J,Z[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(Z)):x(Object(Z)).forEach(function(J){Object.defineProperty(V,J,Object.getOwnPropertyDescriptor(Z,J))})}return V}function _(V,$){if(!(V instanceof $))throw new TypeError("Cannot call a class as a function")}function S(V,$){for(var Z=0;Z<$.length;Z++){var J=$[Z];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(V,D(J.key),J)}}function O(V,$,Z){return $&&S(V.prototype,$),Object.defineProperty(V,"prototype",{writable:!1}),V}function R(V,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");V.prototype=Object.create($&&$.prototype,{constructor:{value:V,writable:!0,configurable:!0}}),Object.defineProperty(V,"prototype",{writable:!1}),$&&z(V,$)}function z(V,$){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Z,J){return Z.__proto__=J,Z},z(V,$)}function P(V){var $=T();return function(){var Z,J=I(V);if($){var B=I(this).constructor;Z=Reflect.construct(J,arguments,B)}else Z=J.apply(this,arguments);return A(this,Z)}}function A(V,$){if($&&(f($)=="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N(V)}function N(V){if(V===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V}function T(){try{var V=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T=function(){return!!V})()}function I(V){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},I(V)}function j(V,$,Z){return($=D($))in V?Object.defineProperty(V,$,{value:Z,enumerable:!0,configurable:!0,writable:!0}):V[$]=Z,V}function D(V){var $=F(V,"string");return f($)=="symbol"?$:$+""}function F(V,$){if(f(V)!="object"||!V)return V;var Z=V[Symbol.toPrimitive];if(Z!==void 0){var J=Z.call(V,$);if(f(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(V)}return jm.InnerSlider=(function(V){R(Z,V);var $=P(Z);function Z(J){var B;_(this,Z),B=$.call(this,J),j(N(B),"listRefHandler",function(H){return B.list=H}),j(N(B),"trackRefHandler",function(H){return B.track=H}),j(N(B),"adaptHeight",function(){if(B.props.adaptiveHeight&&B.list){var H=B.list.querySelector('[data-index="'.concat(B.state.currentSlide,'"]'));B.list.style.height=(0,i.getHeight)(H)+"px"}}),j(N(B),"componentDidMount",function(){if(B.props.onInit&&B.props.onInit(),B.props.lazyLoad){var H=(0,i.getOnDemandLazySlides)(b(b({},B.props),B.state));H.length>0&&(B.setState(function(U){return{lazyLoadedList:U.lazyLoadedList.concat(H)}}),B.props.onLazyLoad&&B.props.onLazyLoad(H))}var k=b({listRef:B.list,trackRef:B.track},B.props);B.updateState(k,!0,function(){B.adaptHeight(),B.props.autoplay&&B.autoPlay("update")}),B.props.lazyLoad==="progressive"&&(B.lazyLoadTimer=setInterval(B.progressiveLazyLoad,1e3)),B.ro=new c.default(function(){B.state.animating?(B.onWindowResized(!1),B.callbackTimers.push(setTimeout(function(){return B.onWindowResized()},B.props.speed))):B.onWindowResized()}),B.ro.observe(B.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(U){U.onfocus=B.props.pauseOnFocus?B.onSlideFocus:null,U.onblur=B.props.pauseOnFocus?B.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",B.onWindowResized):window.attachEvent("onresize",B.onWindowResized)}),j(N(B),"componentWillUnmount",function(){B.animationEndCallback&&clearTimeout(B.animationEndCallback),B.lazyLoadTimer&&clearInterval(B.lazyLoadTimer),B.callbackTimers.length&&(B.callbackTimers.forEach(function(H){return clearTimeout(H)}),B.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",B.onWindowResized):window.detachEvent("onresize",B.onWindowResized),B.autoplayTimer&&clearInterval(B.autoplayTimer),B.ro.disconnect()}),j(N(B),"componentDidUpdate",function(H){if(B.checkImagesLoad(),B.props.onReInit&&B.props.onReInit(),B.props.lazyLoad){var k=(0,i.getOnDemandLazySlides)(b(b({},B.props),B.state));k.length>0&&(B.setState(function(K){return{lazyLoadedList:K.lazyLoadedList.concat(k)}}),B.props.onLazyLoad&&B.props.onLazyLoad(k))}B.adaptHeight();var U=b(b({listRef:B.list,trackRef:B.track},B.props),B.state),G=B.didPropsChange(H);G&&B.updateState(U,G,function(){B.state.currentSlide>=t.default.Children.count(B.props.children)&&B.changeSlide({message:"index",index:t.default.Children.count(B.props.children)-B.props.slidesToShow,currentSlide:B.state.currentSlide}),B.props.autoplay?B.autoPlay("update"):B.pause("paused")})}),j(N(B),"onWindowResized",function(H){B.debouncedResize&&B.debouncedResize.cancel(),B.debouncedResize=(0,n.default)(function(){return B.resizeWindow(H)},50),B.debouncedResize()}),j(N(B),"resizeWindow",function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,k=!!(B.track&&B.track.node);if(k){var U=b(b({listRef:B.list,trackRef:B.track},B.props),B.state);B.updateState(U,H,function(){B.props.autoplay?B.autoPlay("update"):B.pause("paused")}),B.setState({animating:!1}),clearTimeout(B.animationEndCallback),delete B.animationEndCallback}}),j(N(B),"updateState",function(H,k,U){var G=(0,i.initializedState)(H);H=b(b(b({},H),G),{},{slideIndex:G.currentSlide});var K=(0,i.getTrackLeft)(H);H=b(b({},H),{},{left:K});var X=(0,i.getTrackCSS)(H);(k||t.default.Children.count(B.props.children)!==t.default.Children.count(H.children))&&(G.trackStyle=X),B.setState(G,U)}),j(N(B),"ssrInit",function(){if(B.props.variableWidth){var H=0,k=0,U=[],G=(0,i.getPreClones)(b(b(b({},B.props),B.state),{},{slideCount:B.props.children.length})),K=(0,i.getPostClones)(b(b(b({},B.props),B.state),{},{slideCount:B.props.children.length}));B.props.children.forEach(function(ot){U.push(ot.props.style.width),H+=ot.props.style.width});for(var X=0;X<G;X++)k+=U[U.length-1-X],H+=U[U.length-1-X];for(var te=0;te<K;te++)H+=U[te];for(var ie=0;ie<B.state.currentSlide;ie++)k+=U[ie];var re={width:H+"px",left:-k+"px"};if(B.props.centerMode){var xe="".concat(U[B.state.currentSlide],"px");re.left="calc(".concat(re.left," + (100% - ").concat(xe,") / 2 ) ")}return{trackStyle:re}}var ae=t.default.Children.count(B.props.children),ve=b(b(b({},B.props),B.state),{},{slideCount:ae}),Ce=(0,i.getPreClones)(ve)+(0,i.getPostClones)(ve)+ae,me=100/B.props.slidesToShow*Ce,Ie=100/Ce,De=-Ie*((0,i.getPreClones)(ve)+B.state.currentSlide)*me/100;B.props.centerMode&&(De+=(100-Ie*me/100)/2);var Je={width:me+"%",left:De+"%"};return{slideWidth:Ie+"%",trackStyle:Je}}),j(N(B),"checkImagesLoad",function(){var H=B.list&&B.list.querySelectorAll&&B.list.querySelectorAll(".slick-slide img")||[],k=H.length,U=0;Array.prototype.forEach.call(H,function(G){var K=function(){return++U&&U>=k&&B.onWindowResized()};if(!G.onclick)G.onclick=function(){return G.parentNode.focus()};else{var X=G.onclick;G.onclick=function(te){X(te),G.parentNode.focus()}}G.onload||(B.props.lazyLoad?G.onload=function(){B.adaptHeight(),B.callbackTimers.push(setTimeout(B.onWindowResized,B.props.speed))}:(G.onload=K,G.onerror=function(){K(),B.props.onLazyLoadError&&B.props.onLazyLoadError()}))})}),j(N(B),"progressiveLazyLoad",function(){for(var H=[],k=b(b({},B.props),B.state),U=B.state.currentSlide;U<B.state.slideCount+(0,i.getPostClones)(k);U++)if(B.state.lazyLoadedList.indexOf(U)<0){H.push(U);break}for(var G=B.state.currentSlide-1;G>=-(0,i.getPreClones)(k);G--)if(B.state.lazyLoadedList.indexOf(G)<0){H.push(G);break}H.length>0?(B.setState(function(K){return{lazyLoadedList:K.lazyLoadedList.concat(H)}}),B.props.onLazyLoad&&B.props.onLazyLoad(H)):B.lazyLoadTimer&&(clearInterval(B.lazyLoadTimer),delete B.lazyLoadTimer)}),j(N(B),"slideHandler",function(H){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,U=B.props,G=U.asNavFor,K=U.beforeChange,X=U.onLazyLoad,te=U.speed,ie=U.afterChange,re=B.state.currentSlide,xe=(0,i.slideHandler)(b(b(b({index:H},B.props),B.state),{},{trackRef:B.track,useCSS:B.props.useCSS&&!k})),ae=xe.state,ve=xe.nextState;if(ae){K&&K(re,ae.currentSlide);var Ce=ae.lazyLoadedList.filter(function(me){return B.state.lazyLoadedList.indexOf(me)<0});X&&Ce.length>0&&X(Ce),!B.props.waitForAnimate&&B.animationEndCallback&&(clearTimeout(B.animationEndCallback),ie&&ie(re),delete B.animationEndCallback),B.setState(ae,function(){G&&B.asNavForIndex!==H&&(B.asNavForIndex=H,G.innerSlider.slideHandler(H)),ve&&(B.animationEndCallback=setTimeout(function(){var me=ve.animating,Ie=p(ve,["animating"]);B.setState(Ie,function(){B.callbackTimers.push(setTimeout(function(){return B.setState({animating:me})},10)),ie&&ie(ae.currentSlide),delete B.animationEndCallback})},te))})}}),j(N(B),"changeSlide",function(H){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,U=b(b({},B.props),B.state),G=(0,i.changeSlide)(U,H);if(!(G!==0&&!G)&&(k===!0?B.slideHandler(G,k):B.slideHandler(G),B.props.autoplay&&B.autoPlay("update"),B.props.focusOnSelect)){var K=B.list.querySelectorAll(".slick-current");K[0]&&K[0].focus()}}),j(N(B),"clickHandler",function(H){B.clickable===!1&&(H.stopPropagation(),H.preventDefault()),B.clickable=!0}),j(N(B),"keyHandler",function(H){var k=(0,i.keyHandler)(H,B.props.accessibility,B.props.rtl);k!==""&&B.changeSlide({message:k})}),j(N(B),"selectHandler",function(H){B.changeSlide(H)}),j(N(B),"disableBodyScroll",function(){var H=function(U){U=U||window.event,U.preventDefault&&U.preventDefault(),U.returnValue=!1};window.ontouchmove=H}),j(N(B),"enableBodyScroll",function(){window.ontouchmove=null}),j(N(B),"swipeStart",function(H){B.props.verticalSwiping&&B.disableBodyScroll();var k=(0,i.swipeStart)(H,B.props.swipe,B.props.draggable);k!==""&&B.setState(k)}),j(N(B),"swipeMove",function(H){var k=(0,i.swipeMove)(H,b(b(b({},B.props),B.state),{},{trackRef:B.track,listRef:B.list,slideIndex:B.state.currentSlide}));k&&(k.swiping&&(B.clickable=!1),B.setState(k))}),j(N(B),"swipeEnd",function(H){var k=(0,i.swipeEnd)(H,b(b(b({},B.props),B.state),{},{trackRef:B.track,listRef:B.list,slideIndex:B.state.currentSlide}));if(k){var U=k.triggerSlideHandler;delete k.triggerSlideHandler,B.setState(k),U!==void 0&&(B.slideHandler(U),B.props.verticalSwiping&&B.enableBodyScroll())}}),j(N(B),"touchEnd",function(H){B.swipeEnd(H),B.clickable=!0}),j(N(B),"slickPrev",function(){B.callbackTimers.push(setTimeout(function(){return B.changeSlide({message:"previous"})},0))}),j(N(B),"slickNext",function(){B.callbackTimers.push(setTimeout(function(){return B.changeSlide({message:"next"})},0))}),j(N(B),"slickGoTo",function(H){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H=Number(H),isNaN(H))return"";B.callbackTimers.push(setTimeout(function(){return B.changeSlide({message:"index",index:H,currentSlide:B.state.currentSlide},k)},0))}),j(N(B),"play",function(){var H;if(B.props.rtl)H=B.state.currentSlide-B.props.slidesToScroll;else if((0,i.canGoNext)(b(b({},B.props),B.state)))H=B.state.currentSlide+B.props.slidesToScroll;else return!1;B.slideHandler(H)}),j(N(B),"autoPlay",function(H){B.autoplayTimer&&clearInterval(B.autoplayTimer);var k=B.state.autoplaying;if(H==="update"){if(k==="hovered"||k==="focused"||k==="paused")return}else if(H==="leave"){if(k==="paused"||k==="focused")return}else if(H==="blur"&&(k==="paused"||k==="hovered"))return;B.autoplayTimer=setInterval(B.play,B.props.autoplaySpeed+50),B.setState({autoplaying:"playing"})}),j(N(B),"pause",function(H){B.autoplayTimer&&(clearInterval(B.autoplayTimer),B.autoplayTimer=null);var k=B.state.autoplaying;H==="paused"?B.setState({autoplaying:"paused"}):H==="focused"?(k==="hovered"||k==="playing")&&B.setState({autoplaying:"focused"}):k==="playing"&&B.setState({autoplaying:"hovered"})}),j(N(B),"onDotsOver",function(){return B.props.autoplay&&B.pause("hovered")}),j(N(B),"onDotsLeave",function(){return B.props.autoplay&&B.state.autoplaying==="hovered"&&B.autoPlay("leave")}),j(N(B),"onTrackOver",function(){return B.props.autoplay&&B.pause("hovered")}),j(N(B),"onTrackLeave",function(){return B.props.autoplay&&B.state.autoplaying==="hovered"&&B.autoPlay("leave")}),j(N(B),"onSlideFocus",function(){return B.props.autoplay&&B.pause("focused")}),j(N(B),"onSlideBlur",function(){return B.props.autoplay&&B.state.autoplaying==="focused"&&B.autoPlay("blur")}),j(N(B),"render",function(){var H=(0,r.default)("slick-slider",B.props.className,{"slick-vertical":B.props.vertical,"slick-initialized":!0}),k=b(b({},B.props),B.state),U=(0,i.extractObject)(k,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),G=B.props.pauseOnHover;U=b(b({},U),{},{onMouseEnter:G?B.onTrackOver:null,onMouseLeave:G?B.onTrackLeave:null,onMouseOver:G?B.onTrackOver:null,focusOnSelect:B.props.focusOnSelect&&B.clickable?B.selectHandler:null});var K;if(B.props.dots===!0&&B.state.slideCount>=B.props.slidesToShow){var X=(0,i.extractObject)(k,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),te=B.props.pauseOnDotsHover;X=b(b({},X),{},{clickHandler:B.changeSlide,onMouseEnter:te?B.onDotsLeave:null,onMouseOver:te?B.onDotsOver:null,onMouseLeave:te?B.onDotsLeave:null}),K=t.default.createElement(a.Dots,X)}var ie,re,xe=(0,i.extractObject)(k,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);xe.clickHandler=B.changeSlide,B.props.arrows&&(ie=t.default.createElement(o.PrevArrow,xe),re=t.default.createElement(o.NextArrow,xe));var ae=null;B.props.vertical&&(ae={height:B.state.listHeight});var ve=null;B.props.vertical===!1?B.props.centerMode===!0&&(ve={padding:"0px "+B.props.centerPadding}):B.props.centerMode===!0&&(ve={padding:B.props.centerPadding+" 0px"});var Ce=b(b({},ae),ve),me=B.props.touchMove,Ie={className:"slick-list",style:Ce,onClick:B.clickHandler,onMouseDown:me?B.swipeStart:null,onMouseMove:B.state.dragging&&me?B.swipeMove:null,onMouseUp:me?B.swipeEnd:null,onMouseLeave:B.state.dragging&&me?B.swipeEnd:null,onTouchStart:me?B.swipeStart:null,onTouchMove:B.state.dragging&&me?B.swipeMove:null,onTouchEnd:me?B.touchEnd:null,onTouchCancel:B.state.dragging&&me?B.swipeEnd:null,onKeyDown:B.props.accessibility?B.keyHandler:null},De={className:H,dir:"ltr",style:B.props.style};return B.props.unslick&&(Ie={className:"slick-list"},De={className:H,style:B.props.style}),t.default.createElement("div",De,B.props.unslick?"":ie,t.default.createElement("div",m({ref:B.listRefHandler},Ie),t.default.createElement(s.Track,m({ref:B.trackRefHandler},U),B.props.children)),B.props.unslick?"":re,B.props.unslick?"":K)}),B.list=null,B.track=null,B.state=b(b({},e.default),{},{currentSlide:B.props.initialSlide,targetSlide:B.props.initialSlide?B.props.initialSlide:0,slideCount:t.default.Children.count(B.props.children)}),B.callbackTimers=[],B.clickable=!0,B.debouncedResize=null;var Q=B.ssrInit();return B.state=b(b({},B.state),Q),B}return O(Z,[{key:"didPropsChange",value:function(B){for(var Q=!1,H=0,k=Object.keys(this.props);H<k.length;H++){var U=k[H];if(!B.hasOwnProperty(U)){Q=!0;break}if(!(f(B[U])==="object"||typeof B[U]=="function"||isNaN(B[U]))&&B[U]!==this.props[U]){Q=!0;break}}return Q||t.default.Children.count(this.props.children)!==t.default.Children.count(B.children)}}]),Z})(t.default.Component),jm}var YE,yL;function mwe(){if(yL)return YE;yL=1;var t=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return YE=t,YE}var QE,vL;function pwe(){if(vL)return QE;vL=1;var t=mwe(),e=function(i){var s=/[height|width]$/;return s.test(i)},n=function(i){var s="",a=Object.keys(i);return a.forEach(function(o,c){var d=i[o];o=t(o),e(o)&&typeof d=="number"&&(d=d+"px"),d===!0?s+=o:d===!1?s+="not "+o:s+="("+o+": "+d+")",c<a.length-1&&(s+=" and ")}),s},r=function(i){var s="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(a,o){s+=n(a),o<i.length-1&&(s+=", ")}),s):n(i)};return QE=r,QE}var xL;function gwe(){return xL||(xL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=a(Jr()),n=hwe(),r=a(pwe()),i=a(aq()),s=Rg();function a(T){return T&&T.__esModule?T:{default:T}}function o(T){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},o(T)}function c(){return c=Object.assign?Object.assign.bind():function(T){for(var I=1;I<arguments.length;I++){var j=arguments[I];for(var D in j)({}).hasOwnProperty.call(j,D)&&(T[D]=j[D])}return T},c.apply(null,arguments)}function d(T,I){var j=Object.keys(T);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(T);I&&(D=D.filter(function(F){return Object.getOwnPropertyDescriptor(T,F).enumerable})),j.push.apply(j,D)}return j}function f(T){for(var I=1;I<arguments.length;I++){var j=arguments[I]!=null?arguments[I]:{};I%2?d(Object(j),!0).forEach(function(D){P(T,D,j[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(j)):d(Object(j)).forEach(function(D){Object.defineProperty(T,D,Object.getOwnPropertyDescriptor(j,D))})}return T}function m(T,I){if(!(T instanceof I))throw new TypeError("Cannot call a class as a function")}function p(T,I){for(var j=0;j<I.length;j++){var D=I[j];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,A(D.key),D)}}function y(T,I,j){return I&&p(T.prototype,I),Object.defineProperty(T,"prototype",{writable:!1}),T}function x(T,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(I&&I.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),I&&b(T,I)}function b(T,I){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,D){return j.__proto__=D,j},b(T,I)}function _(T){var I=R();return function(){var j,D=z(T);if(I){var F=z(this).constructor;j=Reflect.construct(D,arguments,F)}else j=D.apply(this,arguments);return S(this,j)}}function S(T,I){if(I&&(o(I)=="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O(T)}function O(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function R(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!T})()}function z(T){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(I){return I.__proto__||Object.getPrototypeOf(I)},z(T)}function P(T,I,j){return(I=A(I))in T?Object.defineProperty(T,I,{value:j,enumerable:!0,configurable:!0,writable:!0}):T[I]=j,T}function A(T){var I=N(T,"string");return o(I)=="symbol"?I:I+""}function N(T,I){if(o(T)!="object"||!T)return T;var j=T[Symbol.toPrimitive];if(j!==void 0){var D=j.call(T,I);if(o(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(T)}t.default=(function(T){x(j,T);var I=_(j);function j(D){var F;return m(this,j),F=I.call(this,D),P(O(F),"innerSliderRefHandler",function(V){return F.innerSlider=V}),P(O(F),"slickPrev",function(){return F.innerSlider.slickPrev()}),P(O(F),"slickNext",function(){return F.innerSlider.slickNext()}),P(O(F),"slickGoTo",function(V){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return F.innerSlider.slickGoTo(V,$)}),P(O(F),"slickPause",function(){return F.innerSlider.pause("paused")}),P(O(F),"slickPlay",function(){return F.innerSlider.autoPlay("play")}),F.state={breakpoint:null},F._responsiveMediaHandlers=[],F}return y(j,[{key:"media",value:function(F,V){var $=window.matchMedia(F),Z=function(B){var Q=B.matches;Q&&V()};$.addListener(Z),this._responsiveMediaHandlers.push({mql:$,query:F,listener:Z})}},{key:"componentDidMount",value:function(){var F=this;if(this.props.responsive){var V=this.props.responsive.map(function(Z){return Z.breakpoint});V.sort(function(Z,J){return Z-J}),V.forEach(function(Z,J){var B;J===0?B=(0,r.default)({minWidth:0,maxWidth:Z}):B=(0,r.default)({minWidth:V[J-1]+1,maxWidth:Z}),(0,s.canUseDOM)()&&F.media(B,function(){F.setState({breakpoint:Z})})});var $=(0,r.default)({minWidth:V.slice(-1)[0]});(0,s.canUseDOM)()&&this.media($,function(){F.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(F){F.mql.removeListener(F.listener)})}},{key:"render",value:function(){var F=this,V,$;this.state.breakpoint?($=this.props.responsive.filter(function(X){return X.breakpoint===F.state.breakpoint}),V=$[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),$[0].settings)):V=f(f({},i.default),this.props),V.centerMode&&(V.slidesToScroll>1,V.slidesToScroll=1),V.fade&&(V.slidesToShow>1,V.slidesToScroll>1,V.slidesToShow=1,V.slidesToScroll=1);var Z=e.default.Children.toArray(this.props.children);Z=Z.filter(function(X){return typeof X=="string"?!!X.trim():!!X}),V.variableWidth&&(V.rows>1||V.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),V.variableWidth=!1);for(var J=[],B=null,Q=0;Q<Z.length;Q+=V.rows*V.slidesPerRow){for(var H=[],k=Q;k<Q+V.rows*V.slidesPerRow;k+=V.slidesPerRow){for(var U=[],G=k;G<k+V.slidesPerRow&&(V.variableWidth&&Z[G].props.style&&(B=Z[G].props.style.width),!(G>=Z.length));G+=1)U.push(e.default.cloneElement(Z[G],{key:100*Q+10*k+G,tabIndex:-1,style:{width:"".concat(100/V.slidesPerRow,"%"),display:"inline-block"}}));H.push(e.default.createElement("div",{key:10*Q+k},U))}V.variableWidth?J.push(e.default.createElement("div",{key:Q,style:{width:B}},H)):J.push(e.default.createElement("div",{key:Q},H))}if(V==="unslick"){var K="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:K},Z)}else J.length<=V.slidesToShow&&(V.unslick=!0);return e.default.createElement(n.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(V)),J)}}]),j})(e.default.Component)})(HE)),HE}var bL;function ywe(){return bL||(bL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(gwe());function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(qE)),qE}var vwe=ywe();const xwe=vi(vwe);function bwe({onAccountClick:t,onAddAccountClick:e}){const{user:n}=Ft(),{getBalance:r}=kg(),{t:i}=fs(),[s,a]=E.useState([]),[o,c]=E.useState(!0),[d,f]=E.useState(!1);E.useEffect(()=>{if(!n?.uid)return;console.log(" Iniciando listener de contas bancrias para userId:",n.uid);let b=0;const _=3;let S=null,O=null,R=!1;const z=()=>{if(R){console.log(" Configurao de listener j em andamento, ignorando...");return}R=!0,S&&(console.log(" Limpando listener anterior antes de criar novo..."),S(),S=null);const P=it(Se,"bankAccounts"),A=jt(P,Et("userId","==",n.uid));S=zi(A,N=>{console.log(" Contas bancrias recebidas:",N.size),b=0,R=!1;const T=N.docs.map(I=>({...I.data(),id:I.id,createdAt:I.data().createdAt?.toDate()||new Date}));console.log(" Total de contas carregadas:",T.length),console.log(" Pases das contas:",T.map(I=>`${I.country} (${I.currency})`).join(", ")),a(T),f(!1),c(!1)},N=>{console.error(" Erro no listener de contas bancrias:",N),R=!1,N.code==="permission-denied"?(console.log(" Erro de permisso, tentando getDocs..."),m()):N.code==="unavailable"&&b<_?(b++,console.log(` Tentando reconectar listener de contas... (tentativa ${b}/${_})`),O=setTimeout(()=>{S&&S(),z()},1e3*b)):(f(!0),c(!1))})};return z(),()=>{console.log(" Desconectando listener de contas bancrias"),S&&S(),O&&clearTimeout(O)}},[n]);const m=async()=>{if(n?.uid)try{const b=it(Se,"bankAccounts"),_=jt(b,Et("userId","==",n.uid)),O=(await Tt(_)).docs.map(R=>({...R.data(),id:R.id,createdAt:R.data().createdAt?.toDate()||new Date}));a(O),f(!1)}catch(b){console.error(" Erro ao carregar contas com getDocs:",b),f(!0)}finally{c(!1)}},p={dots:!1,infinite:!1,speed:300,slidesToShow:1.2,slidesToScroll:1,arrows:!1,swipeToSlide:!0},y=b=>{switch(b.country){case"BR":return{label:"Pix",icon:""};case"US":return{label:` ${b.accountNumber.slice(-4)}`};case"EU":return{label:` ${b.iban?.slice(-4)||b.accountNumber.slice(-4)}`};default:return{label:` ${b.accountNumber.slice(-4)}`}}},x={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",KRW:"",ZAR:"R",ARS:"$",CLP:"$"};return o?l.jsxs("div",{className:"px-6 mb-8",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:i.myAccounts}),l.jsx("div",{className:"animate-pulse",children:l.jsx("div",{className:"bg-zinc-900/50 rounded-3xl h-48 w-[85%]"})})]}):d?l.jsxs("div",{className:"px-6 mb-8",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:i.myAccounts}),l.jsx("div",{className:"text-red-500",children:"Ocorreu um erro ao carregar suas contas. Tente novamente mais tarde."})]}):!n||s.length===0?null:l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4 px-6",children:i.myAccounts}),l.jsx("div",{className:"px-3",children:l.jsxs(xwe,{...p,children:[s.map(b=>{const _=y(b);return l.jsx("div",{className:"px-3",children:l.jsxs("button",{onClick:()=>t?.(b),className:"w-full bg-gradient-to-br from-zinc-800/90 via-zinc-900/95 to-black backdrop-blur-xl rounded-3xl p-5 border border-zinc-700/60 hover:border-zinc-600 shadow-lg shadow-black/40 transition-all active:scale-[0.98] text-left relative overflow-hidden group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] via-transparent to-transparent pointer-events-none"}),l.jsxs("div",{className:"flex items-center justify-between mb-10 relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800 border border-zinc-700",children:l.jsx("img",{src:`https://flagcdn.com/w80/${b.country.toLowerCase()}.png`,alt:b.currency,className:"w-full h-full object-cover"})}),l.jsx("div",{className:"text-xl font-semibold text-white",children:b.currency})]}),l.jsxs("div",{className:"px-4 py-2 rounded-full bg-zinc-800/80 backdrop-blur-sm border border-zinc-700/50 flex items-center gap-2",children:[_.icon&&l.jsx("span",{className:"text-cyan-400 text-sm",children:_.icon}),l.jsx("span",{className:"text-xs font-medium text-gray-300",children:_.label})]})]}),(b.iban||b.accountNumber)&&l.jsx("div",{className:"text-xs text-gray-500 mb-3 font-mono tracking-wider relative z-10",children:b.iban?l.jsxs(l.Fragment,{children:["  ",b.iban.slice(-6)]}):l.jsxs(l.Fragment,{children:["  ",b.accountNumber.slice(-6)]})}),l.jsx("div",{className:"relative z-10 tabular-nums text-white",children:l.jsx(wa,{value:r(b.currency),symbol:x[b.currency],className:"text-2xl font-light"})})]})},b.id)}),l.jsx("div",{className:"px-3",children:l.jsxs("div",{onClick:e,className:"w-full bg-transparent backdrop-blur-xl rounded-3xl p-5 border-2 border-dashed border-zinc-700/60 hover:border-zinc-600 hover:bg-white/5 shadow-lg shadow-black/40 transition-all active:scale-[0.98] text-left relative overflow-hidden group h-full min-h-[180px] flex flex-col cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-auto relative z-10",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 backdrop-blur-md border border-white/20 flex items-center justify-center",children:l.jsx(wu,{className:"text-white text-2xl font-light"})}),l.jsx("span",{className:"text-white/70 font-semibold",children:"Nova Conta"})]}),l.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10",children:l.jsxs("p",{className:"text-white/50 text-sm text-center",children:["Adicione uma conta",l.jsx("br",{}),"de outro pas"]})})]})})]})})]})}function wwe({onClose:t}){const[e,n]=E.useState(!1),r=`rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    //  Localizaes dos usurios
    match /userLocations/{userId} {
      allow read: if request.auth != null && request.auth.uid == userId;
      allow write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Dados dos usurios
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Saldos dos usurios
    match /balances/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Transaes
    match /transactions/{transactionId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null;
    }
    
    //  Transferncias de cripto
    match /cryptoTransfers/{transferId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null;
    }

    //  Contas bancrias
    match /bankAccounts/{accountId} {
      allow read, write: if request.auth != null;
    }
  }
}`,i=async()=>{try{await navigator.clipboard.writeText(r),n(!0),setTimeout(()=>n(!1),2e3)}catch(s){console.error("Erro ao copiar:",s)}};return l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl border border-white/20 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-[0_0_40px_rgba(255,255,255,0.1)]",children:[l.jsxs("div",{className:"sticky top-0 bg-white/5 backdrop-blur-md border-b border-white/10 px-6 py-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl text-white",children:" Configurar Firestore"}),l.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-all",children:l.jsx(gi,{className:"w-5 h-5 text-white"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-4",children:l.jsx("p",{className:"text-red-400 text-sm",children:" As regras de segurana do Firestore precisam ser configuradas para permitir o salvamento de localizaes."})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[l.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"1"}),"Acesse o Firebase Console"]}),l.jsxs("a",{href:"https://console.firebase.google.com/project/nexcoin-1f42f/firestore/rules",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-500/20 backdrop-blur-md rounded-xl px-4 py-3 border border-blue-500/30 hover:bg-blue-500/30 transition-all",children:[l.jsx(FV,{className:"w-4 h-4 text-blue-400"}),l.jsx("span",{className:"text-sm text-blue-400 flex-1 font-medium",children:"Clique aqui para abrir Firestore Rules"})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[l.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"2"}),"Navegue at as regras"]}),l.jsx("div",{className:"bg-white/5 rounded-xl px-4 py-3 border border-white/10",children:l.jsxs("p",{className:"text-xs text-white/60",children:["Firestore Database  ",l.jsx("span",{className:"text-white",children:"Rules"})]})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[l.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"3"}),"Cole estas regras"]}),l.jsxs("div",{className:"relative",children:[l.jsx("pre",{className:"bg-black/40 rounded-xl p-4 border border-white/10 overflow-x-auto text-xs text-white/80 font-mono",children:r}),l.jsx("button",{onClick:i,className:"absolute top-3 right-3 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-lg px-3 py-1.5 flex items-center gap-2 border border-white/10 transition-all",children:e?l.jsxs(l.Fragment,{children:[l.jsx(Bx,{className:"w-4 h-4 text-green-400"}),l.jsx("span",{className:"text-xs text-green-400",children:"Copiado!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(vn,{className:"w-4 h-4 text-white/60"}),l.jsx("span",{className:"text-xs text-white/60",children:"Copiar"})]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[l.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"4"}),"Publique as regras"]}),l.jsx("div",{className:"bg-white/5 rounded-xl px-4 py-3 border border-white/10",children:l.jsxs("p",{className:"text-xs text-white/60",children:["Clique no boto ",l.jsx("span",{className:"text-white font-medium",children:"Publicar"})," (Publish)"]})})]}),l.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4",children:l.jsx("p",{className:"text-green-400 text-sm",children:" Aps publicar, aguarde 1 minuto e recarregue a pgina. As localizaes sero salvas automaticamente!"})}),l.jsx("button",{onClick:t,className:"w-full bg-white/10 hover:bg-white/15 backdrop-blur-md rounded-xl px-4 py-3 border border-white/10 text-white transition-all",children:"Entendi"})]})]})})}function _we(t){return t>=1?t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:6}):t.toLocaleString("pt-BR",{minimumFractionDigits:6,maximumFractionDigits:8})}function wL({onNavigate:t,onNavigateWithAccount:e}){const{prices:n}=xi(),{portfolio:r}=$s(),{rates:i}=kA(),{user:s,userData:a,updateVisibleCards:o}=Ft(),{location:c,firestoreError:d}=Gre(),{t:f}=fs(),[m,p]=E.useState(!1),[y,x]=E.useState(!1),[b,_]=E.useState(!1),[S,O]=E.useState(!1),[R,z]=E.useState(""),[P,A]=E.useState(["BTC","ETH","SOL","BNB"]),[N,T]=E.useState(["USD"]),[I,j]=E.useState([]);E.useEffect(()=>{a?.preferences?.visibleCards&&A(a.preferences.visibleCards)},[a]),E.useEffect(()=>{if(!s)return;(async()=>{try{const te=it(Se,"bankAccounts"),ie=jt(te,Et("userId","==",s.uid)),re=await Tt(ie);if(re.empty){T(["USD"]),$("USD");return}const xe={USD:"USD",BRL:"BRL",GBP:"GBP",EUR:"EUR"},ae=re.docs.map(Ce=>{const me=Ce.data();return xe[me.currency]}).filter(Ce=>Ce!==void 0),ve=Array.from(new Set(ae));ve.length>0?(T(ve),ve.includes(V)||$(ve[0])):(T(["USD"]),$("USD")),j(re.docs.map(Ce=>Ce.data()))}catch(te){console.error("Erro ao carregar moedas disponveis:",te),T(["USD"])}})()},[s]);const D=async X=>{const te=P.includes(X)?P.filter(ie=>ie!==X):[...P,X];A(te);try{await o(te)}catch(ie){console.error("Erro ao salvar preferncias:",ie)}},F=[{symbol:"BTC",name:"Bitcoin",coinId:"bitcoin"},{symbol:"ETH",name:"Ethereum",coinId:"ethereum"},{symbol:"SOL",name:"Solana",coinId:"solana"},{symbol:"BNB",name:"BNB",coinId:"binancecoin"},{symbol:"XRP",name:"Ripple",coinId:"ripple"},{symbol:"ADA",name:"Cardano",coinId:"cardano"},{symbol:"AVAX",name:"Avalanche",coinId:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",coinId:"dogecoin"},{symbol:"DOT",name:"Polkadot",coinId:"polkadot"},{symbol:"MATIC",name:"Polygon",coinId:"matic-network"},{symbol:"LINK",name:"Chainlink",coinId:"chainlink"},{symbol:"UNI",name:"Uniswap",coinId:"uniswap"},{symbol:"LTC",name:"Litecoin",coinId:"litecoin"},{symbol:"ATOM",name:"Cosmos",coinId:"cosmos"},{symbol:"XLM",name:"Stellar",coinId:"stellar"},{symbol:"TRX",name:"Tron",coinId:"tron"},{symbol:"SHIB",name:"Shiba Inu",coinId:"shiba-inu"},{symbol:"WBTC",name:"Wrapped Bitcoin",coinId:"wrapped-bitcoin"},{symbol:"DAI",name:"Dai",coinId:"dai"},{symbol:"LEO",name:"UNUS SED LEO",coinId:"leo-token"},{symbol:"USDC",name:"USD Coin",coinId:"usd-coin"},{symbol:"TON",name:"Toncoin",coinId:"the-open-network"},{symbol:"ETC",name:"Ethereum Classic",coinId:"ethereum-classic"},{symbol:"BCH",name:"Bitcoin Cash",coinId:"bitcoin-cash"},{symbol:"APT",name:"Aptos",coinId:"aptos"},{symbol:"ARB",name:"Arbitrum",coinId:"arbitrum"},{symbol:"OP",name:"Optimism",coinId:"optimism"},{symbol:"ICP",name:"Internet Computer",coinId:"internet-computer"},{symbol:"FIL",name:"Filecoin",coinId:"filecoin"},{symbol:"NEAR",name:"NEAR Protocol",coinId:"near"},{symbol:"VET",name:"VeChain",coinId:"vechain"},{symbol:"ALGO",name:"Algorand",coinId:"algorand"},{symbol:"INJ",name:"Injective",coinId:"injective-protocol"},{symbol:"AAVE",name:"Aave",coinId:"aave"},{symbol:"MKR",name:"Maker",coinId:"maker"},{symbol:"GRT",name:"The Graph",coinId:"the-graph"},{symbol:"IMX",name:"Immutable X",coinId:"immutable-x"},{symbol:"STX",name:"Stacks",coinId:"blockstack"},{symbol:"HBAR",name:"Hedera",coinId:"hedera-hashgraph"},{symbol:"FTM",name:"Fantom",coinId:"fantom"},{symbol:"SAND",name:"The Sandbox",coinId:"the-sandbox"},{symbol:"MANA",name:"Decentraland",coinId:"decentraland"},{symbol:"AXS",name:"Axie Infinity",coinId:"axie-infinity"},{symbol:"XTZ",name:"Tezos",coinId:"tezos"},{symbol:"THETA",name:"Theta Network",coinId:"theta-token"},{symbol:"EOS",name:"EOS",coinId:"eos"},{symbol:"XMR",name:"Monero",coinId:"monero"},{symbol:"FLOW",name:"Flow",coinId:"flow"},{symbol:"CHZ",name:"Chiliz",coinId:"chiliz"},{symbol:"ZEC",name:"Zcash",coinId:"zcash"},{symbol:"RUNE",name:"THORChain",coinId:"thorchain"},{symbol:"KLAY",name:"Klaytn",coinId:"klay-token"},{symbol:"DASH",name:"Dash",coinId:"dash"},{symbol:"NEO",name:"Neo",coinId:"neo"},{symbol:"IOTA",name:"IOTA",coinId:"iota"},{symbol:"QNT",name:"Quant",coinId:"quant-network"},{symbol:"EGLD",name:"MultiversX",coinId:"elrond-erd-2"},{symbol:"PEPE",name:"Pepe",coinId:"pepe"},{symbol:"FET",name:"Fetch.ai",coinId:"fetch-ai"},{symbol:"SUI",name:"Sui",coinId:"sui"},{symbol:"SEI",name:"Sei",coinId:"sei-network"}],[V,$]=E.useState("USD"),[Z,J]=E.useState(0);E.useEffect(()=>{a?.photoURL&&z(a.photoURL)},[a]),E.useEffect(()=>(m||y||b?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[m,y,b]),E.useEffect(()=>{if(d&&(d.includes("Firestore")||d.includes("permission"))){console.log(" [NewHome] Erro de Firestore detectado:",d),console.log(" [NewHome] Abrindo modal de instrues...");const X=setTimeout(()=>{O(!0)},2e3);return()=>clearTimeout(X)}},[d]),n.bitcoin?.usd,n.ethereum?.usd;const B=1;n.bitcoin?.usd_24h_change,n.ethereum?.usd_24h_change,n.tether?.usd_24h_change,n.solana?.usd,n.binancecoin?.usd,n.solana?.usd_24h_change,n.binancecoin?.usd_24h_change;const Q=r.totalBalanceUSDT;r.change24h,r.changePercent24h;const H=r.holdings.find(X=>X.symbol==="USDT");H&&H.amount;const k=Q*B*(i[V]||1);E.useEffect(()=>{Z===0&&k>0&&J(k)},[k]),E.useEffect(()=>{if(Z===0)return;const X=Z,te=k,ie=400,re=performance.now(),xe=ae=>{const ve=ae-re,Ce=Math.min(ve/ie,1),me=1-Math.pow(1-Ce,3),Ie=X+(te-X)*me;J(Ie),Ce<1&&requestAnimationFrame(xe)};requestAnimationFrame(xe)},[V]);const U=()=>{if(N.length===0)return;const X=new(window.AudioContext||window.webkitAudioContext),te=8,ie=.02,re=.05;for(let ve=0;ve<te;ve++){const Ce=X.createOscillator(),me=X.createGain();Ce.connect(me),me.connect(X.destination);const Ie=X.currentTime+ve*re;Ce.frequency.setValueAtTime(1200+ve*50,Ie);const De=.15*(1-ve/te*.5);me.gain.setValueAtTime(De,Ie),me.gain.exponentialRampToValueAtTime(.01,Ie+ie),Ce.start(Ie),Ce.stop(Ie+ie)}const ae=(N.indexOf(V)+1)%N.length;$(N[ae])},G=X=>({USD:"$",BRL:"R$",GBP:"",EUR:""})[X]||"$",K=async X=>{const te=X.target.files?.[0];if(!(!te||!s))try{Me.loading("Comprimindo foto...",{id:"upload-photo"});const ie=await oU(te,200,.7);z(ie),Me.loading("Salvando foto...",{id:"upload-photo"}),await Bs(ct(Se,"users",s.uid),{photoURL:ie}),Me.success("Foto atualizada com sucesso!",{id:"upload-photo"})}catch(ie){console.error("Erro ao salvar foto:",ie),Me.error("Erro ao enviar foto. Tente novamente.",{id:"upload-photo"}),a?.photoURL&&z(a.photoURL)}};return l.jsxs("div",{className:"min-h-screen relative flex flex-col bg-gradient-to-b from-[#1a2942] via-black to-black",children:[l.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[l.jsxs("header",{className:"px-6 pt-12 pb-4 flex items-center justify-between gap-3 relative z-10",children:[l.jsx("label",{htmlFor:"profile-photo-input",className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white/10 cursor-pointer hover:border-white/30 transition-all active:scale-95 block bg-white/10",children:R?l.jsx("img",{alt:"User Avatar",className:"w-full h-full object-cover",src:R}):l.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/60 text-lg font-bold",children:a?.displayName?.[0]?.toUpperCase()||"U"})}),l.jsx("input",{type:"file",id:"profile-photo-input",className:"hidden",accept:"image/*",onChange:K}),l.jsxs("button",{className:"flex-1 bg-white/5 backdrop-blur-md rounded-full px-4 py-2.5 flex items-center gap-2 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",onClick:()=>p(!0),children:[l.jsx(Gl,{className:"text-white/60 w-5 h-5"}),l.jsx("span",{className:"text-white/60 text-sm font-medium",children:f.search})]}),l.jsx("button",{className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",onClick:()=>x(!0),children:l.jsx(Iv,{className:"text-white w-5 h-5"})})]}),l.jsx("section",{className:"mt-8 px-6 text-center relative z-10",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("span",{className:"text-xs font-medium text-white/60 mb-2 px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/20 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:f.cashAndStablecoins}),l.jsxs("h1",{className:"text-5xl font-bold flex flex-col items-center gap-1 text-white",children:[l.jsx("button",{onClick:U,className:"font-bold text-white hover:text-white/80 transition-colors cursor-pointer active:scale-95 flex items-baseline",children:l.jsx(wa,{value:Z,symbol:G(V),className:"text-4xl font-light tabular-nums"})}),l.jsxs("span",{className:"text-base font-medium text-white/50",children:[" ",l.jsx(wa,{value:Q,className:"text-base font-light",showSymbol:!1})," USDT"]})]}),l.jsx("div",{className:"mt-2 w-screen h-12 opacity-40 -mx-6",children:l.jsx(Lbe,{value:Q})})]})}),l.jsxs("section",{className:"mt-1 px-6 grid grid-cols-2 gap-8 relative z-10",children:[l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("button",{onClick:()=>{I.length>0,t("selectFiatAccount")},className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:l.jsx(LV,{className:"text-white w-6 h-6"})}),l.jsx("span",{className:"text-white text-sm font-light tracking-wide",children:f.deposit})]}),l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx("button",{onClick:()=>{const X=I.find(te=>te.currency==="BRL");X&&e?e("withdrawFiat",X):t("withdrawFiat")},className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:l.jsx(YS,{className:"text-white w-6 h-6"})}),l.jsx("span",{className:"text-white text-sm font-light tracking-wide",children:f.transfer})]})]}),l.jsx("section",{className:"mt-8 relative z-10",children:l.jsx(bwe,{onAccountClick:X=>{e&&e("fiatAccountDetails",X)},onAddAccountClick:()=>{t&&t("accountData")}})}),l.jsx("section",{className:"mt-8 px-4 relative z-10",children:l.jsx("button",{onClick:()=>t("transactions"),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-3 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] hover:bg-white/10 transition-all active:scale-[0.98]",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:l.jsx(tG,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("h3",{className:"text-sm font-bold text-white",children:f.statement}),l.jsx("p",{className:"text-xs text-white/50",children:f.viewAllTransactions})]})]}),l.jsx(Eo,{className:"w-4 h-4 text-white/50"})]})})}),r.holdings.filter(X=>X.amount>0).length>0&&l.jsxs("section",{className:"mt-6 px-4 relative z-10",children:[l.jsx("h3",{className:"text-white/40 text-xs font-medium mb-3 px-1",children:f.assets}),l.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] overflow-hidden",children:r.holdings.filter(X=>X.amount>0).map((X,te,ie)=>{const xe=F.find(me=>me.symbol===X.symbol)?.coinId||X.coinId||X.symbol.toLowerCase(),ae=n[xe]?.usd||0,ve=n[xe]?.usd_24h_change||0,Ce=X.amount*ae;return l.jsxs("div",{className:`px-4 py-3 flex items-center justify-between ${te!==ie.length-1?"border-b border-white/5":""} hover:bg-white/5 transition-colors`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(At,{symbol:X.symbol,size:"sm"}),l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-white",children:X.name}),l.jsxs("p",{className:"text-xs text-white/40",children:[l.jsx(wa,{value:Ce,className:"text-xs font-light",showSymbol:!1})," USDT"]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-sm text-white",children:X.symbol==="USDT"?l.jsxs(l.Fragment,{children:[l.jsx(wa,{value:X.amount,className:"text-sm font-light",showSymbol:!1})," ",X.symbol]}):l.jsxs(l.Fragment,{children:[_we(X.amount)," ",X.symbol]})}),l.jsxs("div",{className:`flex items-center justify-end text-xs ${ve>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[ve>=0?l.jsx(is,{className:"w-3 h-3"}):l.jsx(_u,{className:"w-3 h-3"}),Math.abs(ve).toFixed(2).replace(".",","),"%"]})]})]},X.symbol)})})]}),l.jsxs("section",{className:"mt-10 px-4 space-y-4 relative z-10 pb-32",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[l.jsx("h3",{className:"text-white/50 text-xs font-semibold",children:f.market}),l.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-full text-xs font-medium transition-all bg-white/5 backdrop-blur-md text-white/50 border border-white/10 hover:bg-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[l.jsx(iG,{className:"w-3.5 h-3.5"}),f.edit]})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:F.filter(X=>P.includes(X.symbol)).map(X=>{const te=n[X.coinId]?.usd||0,ie=n[X.coinId]?.usd_24h_change||0;return l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsxs("h4",{className:"text-sm font-bold text-white/50",children:[X.symbol,"-USDT"]}),l.jsx(At,{symbol:X.symbol,size:"sm"})]}),l.jsx("div",{className:"text-white mb-1",children:l.jsx(wa,{value:te,className:"text-lg font-light",showSymbol:!1})}),l.jsxs("div",{className:`flex items-center text-xs font-semibold mb-3 ${ie>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[ie>=0?l.jsx(is,{className:"w-4 h-4"}):l.jsx(_u,{className:"w-4 h-4"}),Math.abs(ie).toFixed(2).replace(".",","),"%"]}),l.jsx("div",{className:"h-10 w-full mt-2",children:l.jsx(Sie,{coinId:X.coinId,color:ie>=0?"#34c759":"#ff3b30"})})]},`${X.symbol}-${te}-${ie}`)})})]})]}),l.jsx(Vbe,{isOpen:m,onClose:()=>p(!1)}),l.jsx(Fbe,{isOpen:y,onClose:()=>x(!1)}),l.jsx(zbe,{isOpen:b,onClose:()=>_(!1),visibleCards:P,onToggleCard:D}),d&&d.includes("Firestore")&&S&&l.jsx(wwe,{onClose:()=>O(!1)})]})}function Ewe({onNavigate:t}){const[e,n]=E.useState(!0),{portfolio:r,isLoading:i,addOrUpdateCrypto:s,removeCrypto:a}=$s(),{prices:o}=xi(),{t:c}=fs(),[d,f]=E.useState({show:!1,holding:null}),[m,p]=E.useState(""),[y,x]=E.useState(!1),[b,_]=E.useState({show:!1,holding:null}),[S,O]=E.useState(!1),R=A=>{f({show:!0,holding:A}),p("")},z=async()=>{if(!d.holding||!m||parseFloat(m)<=0){Me.error(c.enterValidValue);return}x(!0);try{const A=d.holding.amount+parseFloat(m);await s(d.holding.symbol,d.holding.coinId,A,d.holding.name),Me.success(c.balanceAddedSuccess,{description:`+${m} ${d.holding.symbol}`}),f({show:!1,holding:null}),p("")}catch(A){console.error("Erro ao adicionar saldo:",A),Me.error(c.errorAddingBalance)}finally{x(!1)}},P=async()=>{if(!b.holding){Me.error("Selecione um ativo para excluir");return}O(!0);try{await a(b.holding.symbol),Me.success("Ativo removido com sucesso!",{description:`${b.holding.symbol}`}),_({show:!1,holding:null})}catch(A){console.error("Erro ao remover ativo:",A),Me.error("Erro ao remover ativo")}finally{O(!1)}};return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[l.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[l.jsxs("header",{className:"px-6 pt-8 pb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-lg",children:c.wallet}),l.jsx("button",{onClick:()=>n(!e),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:e?l.jsx(fu,{className:"w-5 h-5"}):l.jsx(mf,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[l.jsxs("button",{onClick:()=>t("receive"),className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:l.jsx(sC,{className:"w-6 h-6 text-white"})}),l.jsx("span",{className:"text-sm font-light text-white",children:c.receive})]}),l.jsxs("button",{onClick:()=>t("convert"),className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:l.jsx(UK,{className:"w-6 h-6 text-white"})}),l.jsx("span",{className:"text-sm font-light text-white",children:c.convert})]}),l.jsxs("button",{onClick:()=>t("withdraw"),className:"flex flex-col items-center gap-2",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:l.jsx(aC,{className:"w-6 h-6 text-white"})}),l.jsx("span",{className:"text-sm font-light text-white",children:c.send})]})]})]}),l.jsx("div",{className:"px-6 space-y-6 mb-24",children:i?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),l.jsx("p",{className:"text-white/50 mt-4",children:"Carregando ativos..."})]}):r.holdings.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhum ativo no portflio"}),l.jsxs("p",{className:"text-sm text-white/40 mb-8 max-w-xs mx-auto",children:["Comece adicionando criptomoedas na aba ",l.jsx("span",{className:"text-white font-semibold",children:"Cripto"})]}),l.jsx("button",{onClick:()=>t("crypto"),className:"px-8 py-4 bg-white/5 backdrop-blur-md rounded-2xl font-semibold text-white hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:"Ir para Cripto"})]}):l.jsxs(l.Fragment,{children:[r.holdings.some(A=>A.symbol==="USDT")&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Dinheiro e Stablecoins"}),r.holdings.filter(A=>A.symbol==="USDT").map(A=>{const N=o[A.coinId]?.usd||0;A.amount*N;const T=o[A.coinId]?.usd_24h_change||0;return l.jsxs("div",{onDoubleClick:()=>R(A),title:"Clique 2x para adicionar saldo",className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-5 hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] relative group cursor-pointer",children:[l.jsx("button",{onClick:I=>{I.stopPropagation(),_({show:!0,holding:{symbol:A.symbol,name:A.name,amount:A.amount}})},className:"absolute top-3 right-3 w-9 h-9 rounded-full bg-red-600/80 backdrop-blur-md flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 z-10",title:"Remover ativo",children:l.jsx(ho,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(At,{symbol:A.symbol,size:"md"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-semibold text-lg mb-1",children:A.symbol}),l.jsx("div",{className:"text-sm text-gray-400",children:A.name||A.symbol})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"font-light text-lg tabular-nums",children:e?`${or(A.amount)} ${A.symbol}`:""}),l.jsxs("div",{className:`text-sm ${T>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[T>=0?"":""," ",Math.abs(T).toFixed(2),"%"]})]})]})]},A.symbol)})]}),r.holdings.some(A=>A.symbol!=="USDT")?l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsx("h2",{className:"text-lg font-semibold",children:"Criptomoedas"})}),l.jsx("div",{className:"space-y-4",children:r.holdings.filter(A=>A.symbol!=="USDT").map(A=>{const N=o[A.coinId]?.usd||0;A.amount*N;const T=o[A.coinId]?.usd_24h_change||0;return l.jsxs("div",{onDoubleClick:()=>R(A),title:"Clique 2x para adicionar saldo",className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-5 hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] relative group cursor-pointer",children:[l.jsx("button",{onClick:I=>{I.stopPropagation(),_({show:!0,holding:{symbol:A.symbol,name:A.name,amount:A.amount}})},className:"absolute top-3 right-3 w-9 h-9 rounded-full bg-red-600/80 backdrop-blur-md flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 z-10",title:"Remover ativo",children:l.jsx(ho,{className:"w-4 h-4 text-white"})}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(At,{symbol:A.symbol,size:"md"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-semibold text-lg mb-1",children:A.symbol}),l.jsx("div",{className:"text-sm text-gray-400",children:A.name||A.symbol})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"font-light text-lg tabular-nums",children:e?`${or(A.amount)} ${A.symbol}`:""}),l.jsxs("div",{className:`text-sm ${T>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[T>=0?"":""," ",Math.abs(T).toFixed(2),"%"]})]})]})]},A.symbol)})}),l.jsx("div",{className:"mt-4 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 text-center",children:l.jsxs("p",{className:"text-sm text-white/50",children:[" Para adicionar mais criptomoedas, v na aba ",l.jsx("span",{className:"font-semibold text-white",children:"Cripto"})," e clique 2x na moeda desejada"]})})]}):l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Criptomoedas"}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10 text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto mb-4 flex items-center justify-center",children:l.jsx(wu,{className:"w-8 h-8 text-white/30"})}),l.jsx("p",{className:"text-white/50 text-sm mb-4",children:"Adicione criptomoedas ao seu portflio"}),l.jsx("button",{onClick:()=>t("crypto"),className:"px-6 py-3 bg-white text-black rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Ir para Cripto"}),l.jsx("p",{className:"text-xs text-white/30 mt-3",children:"Na aba Cripto, clique 2x em qualquer moeda para adicionar"})]})]})]})})]}),d.show&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>f({show:!1,holding:null}),children:l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 w-full max-w-md border border-white/10 shadow-[0_0_40px_rgba(255,255,255,0.1)]",onClick:A=>A.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Adicionar Saldo"}),l.jsx("button",{onClick:()=>f({show:!1,holding:null}),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10",children:l.jsx(gi,{className:"w-5 h-5 text-white"})})]}),l.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[l.jsx(At,{symbol:d.holding?.symbol||"USDT",size:"lg"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-semibold text-xl text-white mb-1",children:d.holding?.symbol||"USDT"}),l.jsx("div",{className:"text-sm text-gray-400",children:d.holding?.name||"USDT"})]})]}),l.jsxs("div",{className:"mb-4 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Saldo atual"}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:[or(d.holding?.amount||0)," ",d.holding?.symbol]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-400 mb-2",children:"Valor a adicionar"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",value:m,onChange:A=>p(A.target.value),placeholder:"0.00",step:"0.00000001",className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 pr-16 text-2xl font-bold text-white placeholder-gray-600 border border-white/10 focus:outline-none focus:border-white/30 transition-colors",autoFocus:!0}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-lg font-semibold text-gray-400",children:d.holding?.symbol})]}),m&&parseFloat(m)>0&&l.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Novo saldo: ",or((d.holding?.amount||0)+parseFloat(m))," ",d.holding?.symbol]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:()=>f({show:!1,holding:null}),className:"py-4 rounded-2xl font-semibold bg-white/5 hover:bg-white/10 text-white transition-colors border border-white/10",disabled:y,children:"Cancelar"}),l.jsx("button",{onClick:z,className:"py-4 rounded-2xl font-semibold bg-white text-black hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:y||!m||parseFloat(m)<=0,children:y?"Adicionando...":"Adicionar"})]})]})}),b.show&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>_({show:!1,holding:null}),children:l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 w-full max-w-md border border-white/10 shadow-[0_0_40px_rgba(255,255,255,0.1)]",onClick:A=>A.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Remover Ativo"}),l.jsx("button",{onClick:()=>_({show:!1,holding:null}),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10",children:l.jsx(gi,{className:"w-5 h-5 text-white"})})]}),l.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[l.jsx(At,{symbol:b.holding?.symbol||"USDT",size:"lg"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-semibold text-xl text-white mb-1",children:b.holding?.symbol||"USDT"}),l.jsx("div",{className:"text-sm text-gray-400",children:b.holding?.name||"USDT"})]})]}),l.jsxs("div",{className:"mb-4 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Saldo atual"}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:[or(b.holding?.amount||0)," ",b.holding?.symbol]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:()=>_({show:!1,holding:null}),className:"py-4 rounded-2xl font-semibold bg-white/5 hover:bg-white/10 text-white transition-colors border border-white/10",disabled:S,children:"Cancelar"}),l.jsx("button",{onClick:P,className:"py-4 rounded-2xl font-semibold bg-red-600 text-white hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:S,children:S?"Removendo...":"Remover"})]})]})})]})}const Swe="modulepreload",Nwe=function(t){return"/nexcoin/"+t},_L={},Twe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};var a=d;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=d(n.map(f=>{if(f=Nwe(f),f in _L)return;_L[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${p}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":Swe,m||(y.as="script"),y.crossOrigin="",y.href=f,c&&y.setAttribute("nonce",c),document.head.appendChild(y),m)return new Promise((x,b)=>{y.addEventListener("load",x),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};async function Cwe(t,e){try{if(console.log(" Salvando converso:",e),!t)throw new Error("userId  obrigatrio");const n=it(Se,"users",t,"conversions"),r={fromCurrency:e.fromCurrency,toCurrency:e.toCurrency,fromAmount:e.fromAmount,toAmount:e.toAmount,exchangeRate:e.exchangeRate,fee:e.fee,feePercentage:e.feePercentage,conversionMode:e.conversionMode,status:e.status,createdAt:gt.fromDate(new Date),completedAt:e.status==="completed"?gt.fromDate(new Date):null};e.fromCoinId!==void 0&&(r.fromCoinId=e.fromCoinId),e.toCoinId!==void 0&&(r.toCoinId=e.toCoinId),e.fromName!==void 0&&(r.fromName=e.fromName),e.toName!==void 0&&(r.toName=e.toName);const i=await Vi(n,r);console.log(" Converso salva com ID:",i.id);try{const s=it(Se,"users",t,"transactions");await Vi(s,{type:"convert",status:e.status,amount:e.toAmount,currency:e.toCurrency,fromAmount:e.fromAmount,fromCurrency:e.fromCurrency,toAmount:e.toAmount,toCurrency:e.toCurrency,fee:e.fee||0,feeCurrency:e.fromCurrency,description:`Converso de ${e.fromAmount} ${e.fromCurrency} para ${e.toAmount} ${e.toCurrency}`,createdAt:gt.fromDate(new Date),completedAt:e.status==="completed"?gt.fromDate(new Date):null}),console.log(" Transao de converso criada no histrico")}catch(s){console.error(" Erro ao criar transao de converso (no crtico):",s)}return i.id}catch(n){throw console.error(" Erro ao salvar converso:",n),n}}function RT(t,e=.5){return t*(e/100)}function EL(t,e,n){return t>=e+n}async function pa(t,e){try{const n=ct(Se,"users",t,"fiatBalances",e),r=await os(n);return r.exists()&&r.data().balance||0}catch(n){return console.error(` Erro ao buscar saldo de ${e}:`,n),0}}async function Pl(t,e,n,r,i){for(let o=1;o<=3;o++)try{console.log(` Atualizando saldo fiat ${e} (tentativa ${o}/3):`,n);const c=ct(Se,"users",t,"fiatBalances",e),d=await os(c);let f=0;d.exists()&&(f=d.data().balance||0);const m=f+n;return m<0?{success:!1,newBalance:f,message:`Saldo insuficiente. Saldo atual: ${f.toFixed(2)} ${e}`}:(d.exists()?await Bs(c,{balance:m,updatedAt:ss()}):await cr(c,{currency:e,balance:m,createdAt:ss(),updatedAt:ss()}),console.log(` Saldo de ${e} atualizado: ${f.toFixed(2)}  ${m.toFixed(2)}`),await Awe(t,{userId:t,currency:e,amount:Math.abs(n),type:n>=0?"credit":"debit",description:r,relatedConversionId:i,balanceBefore:f,balanceAfter:m,createdAt:new Date}),{success:!0,newBalance:m})}catch(c){if(console.error(` Erro ao atualizar saldo de ${e} (tentativa ${o}/3):`,c),o===3)return{success:!1,newBalance:0,message:c instanceof Error?c.message:"Erro ao atualizar saldo"};await new Promise(d=>setTimeout(d,500*o))}return{success:!1,newBalance:0,message:"Erro inesperado ao atualizar saldo"}}async function Awe(t,e){try{const n=ct(Se,"users",t,"fiatTransactions",`${Date.now()}`),r={userId:e.userId,currency:e.currency,amount:e.amount,type:e.type,description:e.description,balanceBefore:e.balanceBefore,balanceAfter:e.balanceAfter,createdAt:ss()};e.relatedConversionId!==void 0&&(r.relatedConversionId=e.relatedConversionId),await cr(n,r),console.log(" Transao fiat salva no histrico")}catch(n){console.error(" Erro ao salvar transao fiat:",n)}}class Pwe{locks=new Map;LOCK_TIMEOUT=3e4;async acquireLock(e,n){const r=this.locks.get(e);if(r){if(Date.now()-r.timestamp<this.LOCK_TIMEOUT)return console.warn(" Converso j em andamento para este usurio"),!1;console.warn(" Lock expirado removido:",r),this.locks.delete(e)}return this.locks.set(e,{userId:e,timestamp:Date.now(),operation:n}),console.log(" Lock adquirido:",{userId:e,operation:n}),!0}releaseLock(e){const n=this.locks.get(e);n&&(console.log(" Lock liberado:",{userId:e,duration:Date.now()-n.timestamp}),this.locks.delete(e))}hasActiveLock(e){const n=this.locks.get(e);return n?Date.now()-n.timestamp>=this.LOCK_TIMEOUT?(this.locks.delete(e),!1):!0:!1}clearAllLocks(){console.warn(" Limpando todos os locks"),this.locks.clear()}}const SL=new Pwe;async function El(t,e){try{if(!t||t.trim()===""){console.warn(" userId invlido para salvar log de auditoria");return}const n=ct(Se,"users",t,"auditLogs",`${Date.now()}_${Math.random().toString(36).substr(2,9)}`),r={userId:t,operation:e.operation,fromCurrency:e.fromCurrency,toCurrency:e.toCurrency,fromAmount:e.fromAmount,toAmount:e.toAmount,conversionMode:e.conversionMode,balancesBefore:e.balancesBefore||null,balancesAfter:e.balancesAfter||null,conversionId:e.conversionId||null,errorMessage:e.errorMessage||null,metadata:e.metadata||null,timestamp:ss(),userAgent:typeof navigator<"u"?navigator.userAgent:null};await cr(n,r),console.log(" Log de auditoria salvo:",e.operation)}catch(n){n instanceof Error&&n.message?.includes("permission-denied")?console.warn(" Log de auditoria desabilitado (permisso negada)"):console.error(" Erro ao salvar log de auditoria:",n)}}function Xd(t,e){return{from:Number(t.toFixed(8)),to:Number(e.toFixed(8))}}function Iwe(){const{user:t}=Ft(),{portfolio:e,updateBalance:n}=$s(),[r,i]=E.useState([]),[s,a]=E.useState(!0);return E.useEffect(()=>{if(!t?.uid){a(!1);return}console.log(" Iniciando listener de converses para userId:",t.uid);let c=null;const d=it(Se,"users",t.uid,"conversions"),f=jt(d,hb("createdAt","desc"),lo(50));return c=zi(f,m=>{console.log(" Snapshot de converses recebido - Total:",m.size);const p=[];m.forEach(y=>{const x=y.data();p.push({id:y.id,fromCurrency:x.fromCurrency,toCurrency:x.toCurrency,fromAmount:x.fromAmount,toAmount:x.toAmount,exchangeRate:x.exchangeRate,fee:x.fee,feePercentage:x.feePercentage,conversionMode:x.conversionMode,fromCoinId:x.fromCoinId,toCoinId:x.toCoinId,fromName:x.fromName,toName:x.toName,status:x.status,createdAt:x.createdAt?.toDate()||new Date,completedAt:x.completedAt?.toDate()})}),i(p),a(!1)},m=>{console.error(" Erro no listener de converses:",m),a(!1)}),()=>{console.log(" Cancelando listener de converses"),c&&c()}},[t?.uid]),{conversions:r,isLoading:s,executeConversion:async(c,d,f,m,p,y,x,b,_,S)=>{if(!t?.uid)return{success:!1,message:"Usurio no autenticado"};if(!await SL.acquireLock(t.uid,`${c}->${d}`))return{success:!1,message:"Aguarde a converso anterior finalizar"};let R=!1,z=!1,P;try{console.log(" Iniciando converso segura:",{from:c,to:d,amount:f,mode:y});const A=RT(f),N=f+A;let T=0,I=0;if(y==="crypto-crypto"){if(T=e.holdings.find(J=>J.symbol===c)?.amount||0,I=e.holdings.find(J=>J.symbol===d)?.amount||0,!EL(T,f,A))throw new Error(`Saldo insuficiente. Necessrio: ${N.toFixed(8)} ${c}`);await El(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Xd(T,I),metadata:{fee:A,totalDeducted:N,exchangeRate:p}}),console.log(" [CRYPTOCRYPTO] Saldo validado:",{available:T,required:N}),console.log(` [CRYPTOCRYPTO] Debitando ${N} ${c}`);const Z=e.holdings.find(J=>J.symbol===c)?.amount||0;if(!EL(Z,f,A))throw new Error("Saldo alterado durante converso. Tente novamente.");await n(c,x,-N,_),R=!0,console.log(" Dbito concludo"),await new Promise(J=>setTimeout(J,100)),console.log(` [CRYPTOCRYPTO] Creditando ${m} ${d}`),await n(d,b,m,S),z=!0,console.log(" Crdito concludo")}else if(y==="crypto-fiat")if(["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(c)){if(T=e.holdings.find(Q=>Q.symbol===c)?.amount||0,I=await pa(t.uid,d),T<f)throw new Error(`Saldo insuficiente. Disponvel: ${T.toFixed(8)} ${c}, Necessrio: ${f.toFixed(8)} ${c}`);if(await El(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Xd(T,I),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [CRYPTOFIAT] Saldo crypto validado:",{available:T,required:f}),console.log(` [CRYPTOFIAT] Debitando ${f} ${c}`),(e.holdings.find(Q=>Q.symbol===c)?.amount||0)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");await n(c,x,-f,_),R=!0,console.log(" Dbito cripto concludo"),console.log(` [CRYPTOFIAT] Creditando ${m} ${d}`);const B=await Pl(t.uid,d,m,`Converso de ${f} ${c} para ${d}`);if(!B.success)throw new Error(B.message||"Erro ao adicionar saldo fiat");z=!0,console.log(" Crdito fiat concludo")}else{if(T=await pa(t.uid,c),I=e.holdings.find(B=>B.symbol===d)?.amount||0,T<f)throw new Error(`Saldo insuficiente. Disponvel: ${T.toFixed(2)} ${c}, Necessrio: ${f.toFixed(2)} ${c}`);if(await El(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Xd(T,I),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [FIATCRYPTO] Saldo fiat validado:",{available:T,required:f}),console.log(` [FIATCRYPTO] Debitando ${f} ${c}`),await pa(t.uid,c)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");const J=await Pl(t.uid,c,-f,`Converso de ${f} ${c} para ${d}`);if(!J.success)throw new Error(J.message||"Erro ao debitar saldo fiat");R=!0,console.log(" Dbito fiat concludo"),console.log(` [FIATCRYPTO] Creditando ${m} ${d}`),await n(d,b,m,S),z=!0,console.log(" Crdito cripto concludo")}else if(y==="fiat-fiat"){if(T=await pa(t.uid,c),I=await pa(t.uid,d),T<f)throw new Error(`Saldo insuficiente. Disponvel: ${T.toFixed(2)} ${c}, Necessrio: ${f.toFixed(2)} ${c}`);if(await El(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Xd(T,I),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [FIATFIAT] Saldo validado:",{available:T,required:f}),console.log(` [FIATFIAT] Debitando ${f} ${c}`),await pa(t.uid,c)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");const V=await Pl(t.uid,c,-f,`Converso de ${f} ${c} para ${d}`);if(!V.success)throw new Error(V.message||"Erro ao debitar saldo");R=!0,console.log(" Dbito fiat concludo"),console.log(` [FIATFIAT] Creditando ${m} ${d}`);const $=await Pl(t.uid,d,m,`Converso de ${f} ${c} para ${d}`);if(!$.success)throw new Error($.message||"Erro ao adicionar saldo");z=!0,console.log(" Crdito fiat concludo")}P=await Cwe(t.uid,{fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,exchangeRate:p,fee:A,feePercentage:.5,conversionMode:y,fromCoinId:x,toCoinId:b,fromName:_,toName:S,status:"completed"}),console.log(" Converso executada com sucesso!",{conversionId:P});let j=0,D=0;if(y==="crypto-crypto"){const F=e.holdings.find($=>$.symbol===c),V=e.holdings.find($=>$.symbol===d);j=F?.amount||0,D=V?.amount||0}else y==="crypto-fiat"?["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(c)?(j=e.holdings.find(Z=>Z.symbol===c)?.amount||0,D=await pa(t.uid,d)):(j=await pa(t.uid,c),D=e.holdings.find(Z=>Z.symbol===d)?.amount||0):(j=await pa(t.uid,c),D=await pa(t.uid,d));return await El(t.uid,{operation:"conversion_success",conversionId:P,fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Xd(T,I),balancesAfter:Xd(j,D)}),{success:!0,message:"Converso realizada com sucesso!",conversionId:P}}catch(A){console.error(" Erro ao executar converso:",A);const N=A instanceof Error?A.message:"Erro ao executar converso";if(R&&!z){console.warn(" Iniciando ROLLBACK automtico...");try{if(y==="crypto-crypto"){const T=RT(f),I=f+T;await n(c,x,I,_),console.log(" ROLLBACK concludo: Dbito revertido")}else y==="crypto-fiat"?["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(c)?(await n(c,x,f,_),console.log(" ROLLBACK concludo: Dbito cripto revertido")):(await Pl(t.uid,c,f,`ROLLBACK: Converso falhou - ${N}`),console.log(" ROLLBACK concludo: Dbito fiat revertido")):y==="fiat-fiat"&&(await Pl(t.uid,c,f,`ROLLBACK: Converso falhou - ${N}`),console.log(" ROLLBACK concludo: Dbito fiat revertido"));await El(t.uid,{operation:"conversion_rollback",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:`Rollback executado: ${N}`,metadata:{debitCompleted:R,creditCompleted:z}})}catch(T){console.error(" ERRO CRTICO NO ROLLBACK:",T),await El(t.uid,{operation:"conversion_failed",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:`ERRO CRTICO: Rollback falhou - ${T instanceof Error?T.message:"Erro desconhecido"}`,metadata:{originalError:N,debitCompleted:R,creditCompleted:z}})}}else await El(t.uid,{operation:"conversion_failed",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:N,metadata:{debitCompleted:R,creditCompleted:z}});return{success:!1,message:N}}finally{SL.releaseLock(t.uid)}}}}function hw(){const[t,e]=E.useState([]),[n,r]=E.useState(!0),{user:i}=Ft();E.useEffect(()=>{if(!i?.uid){e([]),r(!1);return}r(!0);const p=it(Se,"users",i.uid,"transactions"),y=jt(p,hb("createdAt","desc")),x=sq(y,b=>{const S=b.docs.map(O=>{const R=O.data();let z;R.createdAt?.toDate?z=R.createdAt.toDate():R.createdAt instanceof Date?z=R.createdAt:typeof R.createdAt=="string"||typeof R.createdAt=="number"?z=new Date(R.createdAt):z=new Date;let P;return R.completedAt?.toDate?P=R.completedAt.toDate():R.completedAt instanceof Date?P=R.completedAt:R.completedAt&&(P=new Date(R.completedAt)),{...R,id:O.id,createdAt:z,completedAt:P}}).sort((O,R)=>R.createdAt.getTime()-O.createdAt.getTime());e(S),r(!1)},{maxRetries:3,retryDelay:1e3,onError:b=>{console.error(" Erro ao carregar transaes:",b),e([]),r(!1)}});return()=>{try{x()}catch(b){console.error(" Erro ao desinscrever listener:",b)}}},[i?.uid]);const s=async p=>{if(!i?.uid)throw new Error("Usurio no autenticado");try{const y=it(Se,"transactions"),x=await Vi(y,{...p,userId:i.uid,createdAt:gt.now(),completedAt:p.status==="completed"?gt.now():null});return console.log(" Transao salva:",x.id),x.id}catch(y){throw console.error(" Erro ao salvar transao:",y),y}},a=(p,y=2)=>p.toLocaleString("pt-BR",{minimumFractionDigits:y,maximumFractionDigits:y});return{transactions:t,isLoading:n,addTransaction:s,formatAmount:a,getCurrencySymbol:p=>({BRL:"R$",USD:"$",EUR:"",GBP:"",USDT:"",BTC:"",ETH:""})[p]||p,formatTransactionDescription:p=>{switch(p.type){case"send_crypto":return`Envio de ${p.currency}`;case"receive_crypto":return`Recebimento de ${p.currency}`;case"crypto_send":return`Enviado ${p.currency}`;case"crypto_receive":return`Recebido ${p.currency}`;case"pix_send":return"PIX enviado";case"pix_receive":return"PIX recebido";case"convert":return`Converso ${p.fromCurrency}  ${p.toCurrency}`;case"deposit_fiat":return`Depsito ${p.currency}`;case"withdraw_fiat":return`Transferncia ${p.currency}`;case"buy_crypto":return`Compra de ${p.currency}`;case"sell_crypto":return`Venda de ${p.currency}`;default:return p.description||"Transao"}},formatTransactionAmount:p=>{const x=["receive_crypto","crypto_receive","pix_receive","deposit_fiat","convert"].includes(p.type)?"+":"-";if(p.type==="convert"&&p.toAmount&&p.toCurrency)return`${x} ${a(p.toAmount)} ${p.toCurrency}`;const b=Math.abs(p.amount);return`${x} ${a(b)} ${p.currency}`},getTransactionIcon:p=>p.type==="convert"?"":["send_crypto","crypto_send","pix_send","withdraw_fiat"].includes(p.type)?"":["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(p.type)?"":"",getTransactionIconType:p=>p.type==="convert"?"conversao":["send_crypto","crypto_send","pix_send","withdraw_fiat"].includes(p.type)?"saida":(["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(p.type),"entrada")}}async function jwe(t,e,n,r,i){try{const s=it(Se,"notifications");await Vi(s,{userId:t,type:e,title:n,message:r,timestamp:ss(),read:!1,metadata:i||{},createdAt:ss()}),console.log(" Notification created:",{userId:t,type:e,title:n})}catch(s){throw console.error(" Error creating notification:",s),s}}async function kwe(t){try{const e=it(Se,"notifications"),n=jt(e,Et("userId","==",t),hb("timestamp","desc")),r=await Tt(n),i=[];return r.forEach(s=>{const a=s.data();i.push({id:s.id,userId:a.userId,type:a.type,title:a.title,message:a.message,timestamp:a.timestamp?.toDate()||new Date,read:a.read||!1,metadata:a.metadata||{}})}),console.log(` Loaded ${i.length} notifications for user ${t}`),i}catch(e){throw console.error(" Error loading notifications:",e),e}}async function Rwe(t){try{const e=ct(Se,"notifications",t);await Bs(e,{read:!0,readAt:ss()}),console.log(" Notification marked as read:",t)}catch(e){throw console.error(" Error marking notification as read:",e),e}}async function Dwe(t){try{const e=it(Se,"notifications"),n=jt(e,Et("userId","==",t),Et("read","==",!1)),r=await Tt(n),i=iu(Se);r.forEach(s=>{i.update(s.ref,{read:!0,readAt:ss()})}),await i.commit(),console.log(` Marked ${r.size} notifications as read`)}catch(e){throw console.error(" Error marking all notifications as read:",e),e}}async function Owe(t,e,n,r,i){await jwe(t,"transaction","Converso realizada",`Voc converteu ${e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})} ${n} para ${r.toLocaleString("pt-BR",{minimumFractionDigits:8,maximumFractionDigits:8})} ${i}`,{fromAmount:e,fromCurrency:n,toAmount:r,toCurrency:i,type:"conversion"})}function Mwe({onNavigate:t,onNavigateWithAccount:e}){const{user:n}=Ft(),{language:r}=fs(),[i,s]=E.useState(""),[a,o]=E.useState(""),[c,d]=E.useState("BTC"),[f,m]=E.useState("USDT"),[p,y]=E.useState(!1),[x,b]=E.useState(!1),[_,S]=E.useState("crypto-crypto"),[O,R]=E.useState(!1),[z,P]=E.useState(!1),[A,N]=E.useState([]),[T,I]=E.useState(!1),{prices:j}=xi(),{rates:D}=kA(),{portfolio:F}=$s(),{conversions:V,isLoading:$,executeConversion:Z}=Iwe(),{getBalance:J}=kg(),{addTransaction:B}=hw(),Q=E.useRef(null);E.useEffect(()=>{Q.current&&Q.current.focus()},[]),E.useEffect(()=>(z?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[z]),E.useEffect(()=>{if(!n?.uid)return;(async()=>{try{const Ne=it(Se,"bankAccounts"),Xe=jt(Ne,Et("userId","==",n.uid)),Ke=(await Tt(Xe)).docs.map(dt=>({...dt.data(),id:dt.id}));N(Ke),console.log(" Contas bancrias carregadas:",Ke.length)}catch(Ne){console.error(" Erro ao carregar contas bancrias:",Ne)}})()},[n]);const H=[{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BNB",name:"BNB",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"},{symbol:"XLM",name:"Stellar",id:"stellar"},{symbol:"TRX",name:"Tron",id:"tron"}],k=[{symbol:"BRL",name:"Real Brasileiro",flag:"https://flagcdn.com/w80/br.png"},{symbol:"USD",name:"Dlar Americano",flag:"https://flagcdn.com/w80/us.png"},{symbol:"EUR",name:"Euro",flag:"https://flagcdn.com/w80/eu.png"},{symbol:"GBP",name:"Libra Esterlina",flag:"https://flagcdn.com/w80/gb.png"}],U=E.useMemo(()=>{if(A.length===0)return[];const oe=[...new Set(A.map(Ne=>Ne.currency))];return k.filter(Ne=>oe.includes(Ne.symbol))},[A]),G=E.useMemo(()=>H.filter(oe=>{const Ne=F.holdings.find(Xe=>Xe.symbol===oe.symbol);return Ne&&Ne.amount>0}),[F.holdings]),K=oe=>F.holdings.find(Xe=>Xe.symbol===oe)?.amount||0,X=oe=>J(oe),te={BTC:"bitcoin",ETH:"ethereum",USDT:"tether",BNB:"binancecoin",SOL:"solana",XRP:"ripple",ADA:"cardano",AVAX:"avalanche-2",DOGE:"dogecoin",DOT:"polkadot",MATIC:"matic-network",LINK:"chainlink",UNI:"uniswap",LTC:"litecoin",ATOM:"cosmos",XLM:"stellar",TRX:"tron"},ie=oe=>H.some(Ne=>Ne.symbol===oe),re=oe=>k.some(Ne=>Ne.symbol===oe),xe=oe=>{if(oe==="fiat-fiat"&&U.length<2){Me.error("Voc precisa ter contas em pelo menos 2 pases diferentes para fazer converses entre moedas.");return}if(oe==="crypto-fiat"&&U.length===0){Me.error("Voc precisa abrir uma conta bancria para converter cripto em moeda fiat.");return}if(S(oe),oe==="crypto-crypto"){const Ne=G.length>0?G[0].symbol:"BTC";d(Ne),m(Ne==="USDT"?"BTC":"USDT")}else if(oe==="crypto-fiat"){const Ne=G.length>0?G[0].symbol:"BTC";d(Ne);const Xe=U.length>0?U[0].symbol:"BRL";m(Xe)}else{const Ne=U[0]?.symbol||"BRL",Xe=U[1]?.symbol||"USD";d(Ne),m(Xe)}s(""),o("")},ae=()=>{const oe=c,Ne=i;d(f),m(oe),s(a),o(Ne)},ve=oe=>{const Ne=oe.replace(/\D/g,"");if(!Ne){s("");return}const de=parseInt(Ne,10)/100;s(de.toString())},Ce=oe=>{if(!oe)return"0,00";const Ne=parseFloat(oe);if(isNaN(Ne))return"0,00";const Xe=Ne.toFixed(2),[de,Ke]=Xe.split(".");return`${de.replace(/\B(?=(\d{3})+(?!\d))/g,".")},${Ke}`},me=E.useMemo(()=>{if(_==="crypto-crypto"){const oe=te[c],Ne=te[f],Xe=j[oe]?.usd||1,de=j[Ne]?.usd||1;return Xe/de}else if(_==="crypto-fiat")if(ie(c)){const Ne=te[c],Xe=j[Ne]?.usd||1,de=D[f]||1;return Xe*de}else{const Ne=te[f],Xe=j[Ne]?.usd||1;return(D[c]||1)/Xe}else if(_==="fiat-fiat"){const oe=D[c]||1;return(D[f]||1)/oe}return 1},[_,c,f,j,D,te,ie]);E.useEffect(()=>{if(!i){o("");return}const oe=parseFloat(i);if(isNaN(oe)){o("");return}if(_==="crypto-crypto"){const Ne=te[c],Xe=te[f],de=j[Ne]?.usd||0,Ke=j[Xe]?.usd||1,dt=oe*de/Ke;o(f==="USDT"?dt.toFixed(2):dt.toString())}else if(_==="crypto-fiat")if(ie(c)){const Xe=te[c],de=j[Xe]?.usd||0,Ke=D[f]||1,nt=oe*de*Ke;o(nt.toFixed(2))}else{const Xe=te[f],de=j[Xe]?.usd||0,Ke=D[c]||1,nt=oe/Ke/de;o(f==="USDT"?nt.toFixed(2):nt.toString())}else if(_==="fiat-fiat"){const Ne=D[c]||1,Xe=D[f]||1,Ke=oe/Ne*Xe;o(Ke.toFixed(2))}},[i,c,f,j,D,_,te,ie]);const Ie=E.useMemo(()=>{if(!i)return!1;const oe=parseFloat(i);if(isNaN(oe)||oe<=0)return!1;if(_==="crypto-crypto"){const Ne=RT(oe),Xe=oe+Ne;return K(c)<Xe}else{if(_==="crypto-fiat")return ie(c)?K(c)<oe:X(c)<oe;if(_==="fiat-fiat")return X(c)<oe}return!1},[i,c,_,K,X,ie]),De=()=>{if(!i)return null;const oe=parseFloat(i);if(isNaN(oe)||oe<=0)return null;if(_==="crypto-crypto"){if(K(c)===0)return`Sem saldo em ${c}`;if(Ie)return"Saldo insuficiente (inclui taxa 0,5%)"}else if(_==="crypto-fiat"){if(K(c)===0)return`Sem saldo em ${c}`;if(Ie)return"Saldo insuficiente"}else if(_==="fiat-fiat"){if(X(c)===0)return`Sem saldo em ${c}`;if(Ie)return"Saldo insuficiente"}return null},Je=async()=>{if(!(!a||!i)){R(!0);try{const oe=H.find(Yt=>Yt.symbol===c),Ne=H.find(Yt=>Yt.symbol===f),Xe=k.find(Yt=>Yt.symbol===c),de=k.find(Yt=>Yt.symbol===f);let Ke,dt,nt,rt;_==="crypto-crypto"?(Ke=oe?.id,dt=Ne?.id,nt=oe?.name,rt=Ne?.name):_==="crypto-fiat"?ie(c)?(Ke=oe?.id,dt=void 0,nt=oe?.name,rt=de?.name):(Ke=void 0,dt=Ne?.id,nt=Xe?.name,rt=Ne?.name):_==="fiat-fiat"&&(Ke=void 0,dt=void 0,nt=Xe?.name,rt=de?.name);const Rt=await Z(c,f,parseFloat(i),parseFloat(a),me,_,Ke,dt,nt,rt);if(Rt.success){try{await B({type:"convert",status:"completed",amount:parseFloat(a),currency:f,fromAmount:parseFloat(i),fromCurrency:c,toAmount:parseFloat(a),toCurrency:f,fee:_==="crypto-crypto"?parseFloat(i)*.005:0,feeCurrency:c,description:`Converso ${c}  ${f}`}),console.log(" Transao salva no Firestore")}catch(Yt){console.error(" Erro ao salvar transao:",Yt)}s(""),o(""),Me.success("Converso realizada com sucesso!"),P(!0),n?.uid&&await Owe(n.uid,parseFloat(i),c,parseFloat(a),f)}else Me.error(Rt.message)}catch(oe){console.error("Erro ao executar a converso:",oe),Me.error("Erro ao processar converso")}finally{R(!1)}}},ot=()=>{P(!1)},Fe=()=>{P(!1),t("home")},pt=async oe=>{if(!(!n?.uid||!oe||!window.confirm(" Deseja excluir esta converso?")))try{const{deleteDoc:Xe,doc:de}=await Twe(async()=>{const{deleteDoc:Ke,doc:dt}=await Promise.resolve().then(()=>See);return{deleteDoc:Ke,doc:dt}},void 0);await Xe(de(Se,"users",n.uid,"conversions",oe)),Me.success(" Converso excluda com sucesso!"),console.log(` Converso ${oe} removida`)}catch(Xe){console.error(" Erro ao excluir converso:",Xe),Me.error("Erro ao excluir converso")}},ut=()=>{const oe=ie(c)?K(c):X(c);if(oe<=0){Me.error("Saldo insuficiente");return}let Ne;_==="crypto-crypto"?Ne=oe/1.005:Ne=oe;const de=Math.floor(Ne*100).toString();ve(de)};return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col relative",children:[l.jsxs("div",{className:"px-6 pt-12 pb-2 flex items-center flex-shrink-0",children:[l.jsx("button",{className:"w-10 h-10 flex items-center justify-start text-white",onClick:()=>t("home"),children:l.jsx(vt,{className:"w-6 h-6"})}),l.jsx("h1",{className:"flex-1 text-center text-lg",children:"Exchange"}),l.jsx("div",{className:"w-10 h-10"})]}),l.jsx("div",{className:"flex-1 overflow-y-auto hide-scrollbar pb-28",children:l.jsxs("div",{className:"flex flex-col px-4 pt-6",children:[l.jsxs("div",{className:"flex gap-2 mb-6 bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-1.5",children:[l.jsx("button",{onClick:()=>xe("crypto-crypto"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${_==="crypto-crypto"?"bg-white text-black":"text-gray-500"}`,children:"Cripto  Cripto"}),l.jsx("button",{onClick:()=>xe("crypto-fiat"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${_==="crypto-fiat"?"bg-white text-black":"text-gray-500"}`,children:"Cripto  Moeda"}),l.jsx("button",{onClick:()=>xe("fiat-fiat"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${_==="fiat-fiat"?"bg-white text-black":"text-gray-500"}`,children:"Moeda  Moeda"})]}),l.jsxs("div",{className:"relative space-y-2",children:[l.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-3xl p-6 flex items-center justify-between h-32 relative",children:[l.jsx("button",{className:"absolute top-3 right-3 text-[10px] text-gray-500 hover:text-white transition-colors px-2 py-1 rounded-lg hover:bg-white/5",onClick:ut,children:"Converter tudo"}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("button",{className:"flex items-center gap-2 group",onClick:()=>{y(!p),b(!1)},children:[l.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center",children:ie(c)?l.jsx(At,{symbol:c,size:"xs"}):l.jsx("img",{src:k.find(oe=>oe.symbol===c)?.flag,alt:c,className:"w-full h-full object-cover"})}),l.jsx("span",{className:"text-xl text-white",children:c}),l.jsx(Pa,{className:"w-4 h-4 text-gray-500"})]}),l.jsx("p",{className:"text-gray-500 text-xs mt-1",children:ie(c)?`Saldo: ${or(K(c))} ${c}`:`Saldo: ${Wr(X(c).toString(),c)}`})]}),l.jsx("div",{className:"text-right",children:l.jsx("input",{type:"text",inputMode:"numeric",value:Ce(i),onChange:oe=>ve(oe.target.value),placeholder:"0,00",className:"text-base font-normal text-white bg-transparent text-right focus:outline-none w-32 placeholder-gray-700",style:{caretColor:"#0A84FF"},ref:Q})}),p&&l.jsxs("div",{className:"absolute left-6 top-20 bg-zinc-900 rounded-xl p-2 shadow-2xl border border-zinc-700 z-50 w-[200px] max-h-[280px] overflow-y-auto",children:[_==="crypto-crypto"&&G.map(oe=>l.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===f&&m(c),d(oe.symbol),y(!1)},children:[l.jsx(At,{symbol:oe.symbol,size:"xs"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-sm",children:oe.name}),l.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),_==="crypto-fiat"&&l.jsxs(l.Fragment,{children:[H.map(oe=>l.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{d(oe.symbol),y(!1)},children:[l.jsx(At,{symbol:oe.symbol,size:"xs"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm",children:oe.name}),l.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),l.jsx("div",{className:"h-px bg-zinc-700 my-2"}),U.map(oe=>l.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{d(oe.symbol),y(!1)},children:[l.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm",children:oe.name}),l.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]}),_==="fiat-fiat"&&U.map(oe=>l.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===f&&m(c),d(oe.symbol),y(!1)},children:[l.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm",children:oe.name}),l.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]})]}),l.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10",children:l.jsx("button",{className:"w-10 h-10 bg-white/10 backdrop-blur-md text-white rounded-full flex items-center justify-center border border-white/20 active:scale-90 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.1),0_4px_15px_rgba(0,0,0,0.5),inset_0_1px_2px_rgba(255,255,255,0.3),inset_0_-1px_2px_rgba(0,0,0,0.3)]",onClick:ae,children:l.jsxs("div",{className:"flex flex-col items-center justify-center gap-0",children:[l.jsx(aC,{className:"w-3.5 h-3.5 stroke-[2.5]"}),l.jsx(sC,{className:"w-3.5 h-3.5 stroke-[2.5]"})]})})}),l.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-3xl p-6 flex items-center justify-between h-32 relative",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("button",{className:"flex items-center gap-2 group",onClick:()=>{b(!x),y(!1)},children:[l.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center",children:ie(f)?l.jsx(At,{symbol:f,size:"xs"}):l.jsx("img",{src:k.find(oe=>oe.symbol===f)?.flag,alt:f,className:"w-full h-full object-cover"})}),l.jsx("span",{className:"text-xl text-white",children:f}),l.jsx(Pa,{className:"w-4 h-4 text-gray-500"})]}),l.jsx("p",{className:"text-gray-500 text-xs mt-1",children:ie(f)?`Saldo: 0 ${f}`:"Saldo: $ 0,00"})]}),l.jsxs("div",{className:"text-right flex items-center",children:[l.jsx("div",{className:"text-base font-normal text-white text-right w-32 flex items-baseline justify-end",children:a?re(f)?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-base",children:Wr(a,f).split(",")[0]}),Wr(a,f).includes(",")&&l.jsxs("span",{className:"text-sm",children:[",",Wr(a,f).split(",")[1]]})]}):f==="USDT"?Wr(a):or(parseFloat(a)):"0"}),l.jsx("div",{className:"h-6 w-[2px] bg-[#0A84FF] ml-0.5 animate-pulse"})]}),x&&l.jsxs("div",{className:"absolute left-6 top-20 bg-zinc-900 rounded-xl p-2 shadow-2xl border border-zinc-700 z-50 w-[200px] max-h-[280px] overflow-y-auto",children:[_==="crypto-crypto"&&H.map(oe=>l.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===c&&d(f),m(oe.symbol),b(!1)},children:[l.jsx(At,{symbol:oe.symbol,size:"xs"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-semibold text-sm",children:oe.name}),l.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),_==="crypto-fiat"&&l.jsxs(l.Fragment,{children:[H.map(oe=>l.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{m(oe.symbol),b(!1)},children:[l.jsx(At,{symbol:oe.symbol,size:"xs"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm",children:oe.name}),l.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),l.jsx("div",{className:"h-px bg-zinc-700 my-2"}),U.map(oe=>l.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{m(oe.symbol),b(!1)},children:[l.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm",children:oe.name}),l.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]}),_==="fiat-fiat"&&U.map(oe=>l.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===c&&d(f),m(oe.symbol),b(!1)},children:[l.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-sm",children:oe.name}),l.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]})]})]}),l.jsxs("div",{className:"mt-6 px-4 space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-500 text-xs",children:"Cotao"}),l.jsxs("span",{className:"text-xs text-white",children:[i||"1"," ",c," = ",ie(f)&&f!=="USDT"?or((parseFloat(i)||1)*me):Wr((parseFloat(i)||1)*me)," ",f]})]}),_==="crypto-crypto"&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-gray-500 text-xs",children:"Taxa de converso (0.5%)"}),l.jsxs("span",{className:"text-xs text-white",children:[i?ie(c)&&c!=="USDT"?or(parseFloat(i)*.005):Wr(parseFloat(i)*.005):"0"," ",c]})]}),l.jsxs("div",{className:"flex justify-between items-center border-b border-zinc-900 pb-3",children:[l.jsx("span",{className:"text-gray-500 text-xs",children:"Processamento"}),l.jsx("span",{className:"text-xs text-white",children:"~ 30 segundos"})]})]}),l.jsxs("div",{className:"mt-6 px-2 pb-6",children:[l.jsx("button",{className:`w-full h-14 text-base rounded-2xl transition-opacity ${a&&i?"bg-white text-black active:opacity-90":"bg-zinc-800 text-gray-600 cursor-not-allowed"}`,disabled:!a||!i||Ie,onClick:Je,children:O?"Convertendo...":"Confirmar Exchange"}),Ie&&l.jsx("p",{className:"text-red-500 text-xs mt-2 text-center",children:De()})]}),l.jsxs("div",{className:"mt-10 px-2 pb-24",children:[l.jsxs("button",{className:"w-full flex items-center justify-between mb-4 active:opacity-70 transition-opacity",onClick:()=>I(!T),children:[l.jsx("h2",{className:"text-white text-lg",children:"Histrico de Converses"}),l.jsx(Pa,{className:`w-5 h-5 text-gray-500 transition-transform ${T?"rotate-180":""}`})]}),T&&l.jsxs(l.Fragment,{children:[(console.log(" [Convert] Estado do histrico:",{isLoading:$,conversionsCount:V.length,conversions:V.slice(0,3)}),null),$?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-white border-r-transparent"}),l.jsx("p",{className:"text-white/50 text-sm mt-4",children:"Carregando histrico..."})]}):V.length===0?l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-white/50 text-sm",children:"Nenhuma converso realizada ainda"})}):l.jsx("div",{className:"space-y-1",children:V.map((oe,Ne)=>{const Xe=Ne<V.length-1,Ke=oe.createdAt.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between py-4 active:bg-zinc-900/50 transition-colors cursor-pointer",onDoubleClick:()=>oe.id&&pt(oe.id),title:"Clique 2x para excluir",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center border border-zinc-800",children:l.jsx("svg",{className:"w-5 h-5 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-white",children:[oe.fromCurrency," para ",oe.toCurrency]}),l.jsx("p",{className:"text-[10px] text-gray-500",children:Ke})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-xs text-white",children:["+",oe.toCurrency==="USDT"||re(oe.toCurrency)?Wr(oe.toAmount):or(oe.toAmount)," ",oe.toCurrency]}),l.jsxs("p",{className:"text-[10px] text-gray-500",children:["-",oe.fromCurrency==="USDT"||re(oe.fromCurrency)?Wr(oe.fromAmount):or(oe.fromAmount)," ",oe.fromCurrency]})]})]}),Xe&&l.jsx("div",{className:"h-px bg-zinc-900 w-full ml-12"})]},oe.id||Ne)})})]})]})]})}),z&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6 overflow-hidden",children:l.jsxs("div",{className:"bg-black w-full h-full flex flex-col items-center justify-start pt-20 px-8 overflow-hidden",children:[l.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:l.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),l.jsx("h2",{className:"text-white text-xl font-bold mb-3 text-center",children:"Converso Realizada!"}),l.jsx("p",{className:"text-white/70 text-sm mb-8 text-center",children:"Deseja fazer outra converso?"}),l.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[l.jsx("button",{className:"w-full h-14 bg-white text-black font-bold text-base rounded-2xl transition-opacity active:opacity-90",onClick:ot,children:"Sim, fazer outra"}),l.jsx("button",{className:"w-full h-14 bg-white/10 backdrop-blur-md border border-white/20 text-white font-bold text-base rounded-2xl transition-opacity active:opacity-90",onClick:Fe,children:"No, voltar para Home"})]})]})})]})}function Lwe({onNavigate:t}){const[e,n]=E.useState("all"),{prices:r,isLoading:i}=xi(),{portfolio:s,addOrUpdateCrypto:a}=$s(),{user:o}=Ft(),{t:c}=fs(),[d,f]=E.useState({show:!1,crypto:null}),[m,p]=E.useState(""),[y,x]=E.useState(!1),[b,_]=E.useState(!1),[S,O]=E.useState(""),[R,z]=E.useState([]);E.useEffect(()=>{(async()=>{if(!o?.uid){z([]);return}try{const X=await os(ct(Se,"users",o.uid,"preferences","crypto-favorites"));if(X.exists()){const te=X.data();z(te.favorites||[])}else z([])}catch(X){X?.code!=="permission-denied"&&console.error("Erro ao carregar favoritos:",X),z([])}})()},[o]);const P=async K=>{if(!o?.uid){Me.error("Faa login para salvar favoritos");return}const X=R.includes(K)?R.filter(te=>te!==K):[...R,K];z(X);try{await cr(ct(Se,"users",o.uid,"preferences","crypto-favorites"),{favorites:X,updatedAt:new Date}),X.includes(K)?Me.success("Adicionado aos favoritos"):Me.success("Removido dos favoritos")}catch(te){console.error("Erro ao salvar favoritos:",te),Me.error("Erro ao salvar favorito"),z(R)}},[A,N]=E.useState(0),[T,I]=E.useState(!1),j=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin"},{id:"ethereum",symbol:"ETH",name:"Ethereum"},{id:"tether",symbol:"USDT",name:"Tether"},{id:"binancecoin",symbol:"BNB",name:"Binance Coin"},{id:"solana",symbol:"SOL",name:"Solana"},{id:"ripple",symbol:"XRP",name:"XRP"},{id:"usd-coin",symbol:"USDC",name:"USD Coin"},{id:"cardano",symbol:"ADA",name:"Cardano"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin"},{id:"tron",symbol:"TRX",name:"TRON"},{id:"avalanche-2",symbol:"AVAX",name:"Avalanche"},{id:"polkadot",symbol:"DOT",name:"Polkadot"},{id:"matic-network",symbol:"MATIC",name:"Polygon"},{id:"chainlink",symbol:"LINK",name:"Chainlink"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu"},{id:"litecoin",symbol:"LTC",name:"Litecoin"},{id:"uniswap",symbol:"UNI",name:"Uniswap"},{id:"stellar",symbol:"XLM",name:"Stellar"},{id:"cosmos",symbol:"ATOM",name:"Cosmos"},{id:"monero",symbol:"XMR",name:"Monero"},{id:"ethereum-classic",symbol:"ETC",name:"Ethereum Classic"},{id:"bitcoin-cash",symbol:"BCH",name:"Bitcoin Cash"},{id:"near",symbol:"NEAR",name:"NEAR Protocol"},{id:"algorand",symbol:"ALGO",name:"Algorand"},{id:"vechain",symbol:"VET",name:"VeChain"},{id:"fantom",symbol:"FTM",name:"Fantom"},{id:"the-graph",symbol:"GRT",name:"The Graph"},{id:"filecoin",symbol:"FIL",name:"Filecoin"},{id:"hedera-hashgraph",symbol:"HBAR",name:"Hedera"},{id:"aptos",symbol:"APT",name:"Aptos"},{id:"arbitrum",symbol:"ARB",name:"Arbitrum"},{id:"optimism",symbol:"OP",name:"Optimism"},{id:"render-token",symbol:"RNDR",name:"Render"},{id:"injective-protocol",symbol:"INJ",name:"Injective"},{id:"sui",symbol:"SUI",name:"Sui"}],D=K=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(K),F=K=>K>=1e12?`$ ${(K/1e12).toFixed(1)}T`:K>=1e9?`$ ${(K/1e9).toFixed(0)}B`:K>=1e6?`$ ${(K/1e6).toFixed(0)}M`:`$ ${K.toFixed(0)}`,V=j.map(K=>{const X=r[K.id],te=X?.usd||0,ie=X?.usd_24h_change||0,re=X?.usd_market_cap||0;return{...K,price:D(te),change:`${ie>=0?"+":""}${ie.toFixed(1)}%`,trend:ie>0?"up":ie<0?"down":"neutral",marketCap:F(re),isFavorite:R.includes(K.id)}}),$=E.useMemo(()=>j.map(X=>{const te=r[X.id],ie=te?.usd_24h_change||0,re=te?.usd||0;return{...X,changePercent:ie,price:re}}).filter(X=>X.changePercent>0).sort((X,te)=>te.changePercent-X.changePercent).slice(0,5),[r]),Z=K=>{const X=K.price,te=K.changePercent,ie=[];for(let re=0;re<24;re++){const xe=re/23,ae=(Math.random()-.5)*(te/5),ve=te*xe/100+ae,Ce=te*.3,me=(Math.random()-.5)*(Ce/5),Ie=Ce*xe/100+me;ie.push({time:`${re}h`,price:X*(1+ve/100),change:ve,pricePast:X*.95*(1+Ie/100)})}return ie};E.useEffect(()=>{if($.length===0||T)return;const K=setInterval(()=>{N(X=>(X+1)%$.length)},5e3);return()=>clearInterval(K)},[$.length,T]),E.useMemo(()=>$.map((K,X)=>({name:K.symbol,value:K.changePercent,price:K.price,fullName:K.name})),[$]);const J=s.holdings.map(K=>K.coinId),B=V.filter(K=>!J.includes(K.id)),H=E.useMemo(()=>{let K=B;if(S.trim()){const X=S.toLowerCase();K=K.filter(te=>te.name.toLowerCase().includes(X)||te.symbol.toLowerCase().includes(X)||te.id.toLowerCase().includes(X))}return e==="favorites"&&(K=K.filter(X=>X.isFavorite)),K},[B,S,e,R]),k="bg-white/5 backdrop-blur-md border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",U=K=>{f({show:!0,crypto:{id:K.id,symbol:K.symbol,name:K.name}}),p("")},G=async()=>{if(!d.crypto||!m||parseFloat(m)<=0){Me.error("Digite um valor vlido");return}x(!0);try{const K=parseFloat(m),X=s.holdings.find(ie=>ie.coinId===d.crypto.id),te=X?X.amount+K:K;await a(d.crypto.symbol,d.crypto.id,te,d.crypto.name),Me.success("Saldo adicionado com sucesso!",{description:`+${or(K)} ${d.crypto.symbol}`}),f({show:!1,crypto:null}),p("")}catch(K){console.error("Erro ao adicionar saldo:",K),Me.error("Erro ao adicionar saldo")}finally{x(!1)}};return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[l.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[l.jsxs("header",{className:"px-6 pt-8 pb-6",children:[l.jsx("h1",{className:"text-lg font-semibold mb-6",children:c.cryptoMarket}),l.jsxs("div",{className:"relative mb-6",children:[l.jsx(Gl,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2 z-10"}),l.jsx("input",{type:"text",placeholder:c.cryptoPage.searchCrypto,className:`w-full rounded-2xl pl-12 pr-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-zinc-700 ${k}`,value:S,onChange:K=>O(K.target.value)})]}),l.jsxs("div",{className:"flex gap-3 mb-6",children:[l.jsx("button",{onClick:()=>n("all"),className:e==="all"?"flex-1 py-3 rounded-full font-semibold transition-colors bg-white text-black":`flex-1 py-3 rounded-full font-semibold transition-colors text-gray-400 ${k}`,children:c.cryptoPage.all}),l.jsxs("button",{onClick:()=>n("favorites"),className:e==="favorites"?"flex-1 py-3 rounded-full font-semibold transition-colors bg-white text-black":`flex-1 py-3 rounded-full font-semibold transition-colors text-gray-400 ${k}`,children:[c.cryptoPage.favorites," ",l.jsx(K1,{className:"w-4 h-4 inline ml-1"})]})]})]}),l.jsx("div",{className:"px-6 mb-6",children:$.length>0&&$[A]&&l.jsx("div",{className:"relative",children:l.jsxs("div",{className:`rounded-2xl p-4 overflow-hidden relative ${k} cursor-pointer`,onDoubleClick:()=>U($[A]),onMouseEnter:()=>I(!0),onMouseLeave:()=>I(!1),children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#34c759]/10 via-transparent to-[#34c759]/5 pointer-events-none"}),l.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-3",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("h2",{className:"text-sm font-bold",children:"Cripto em Alta"})}),l.jsxs("div",{className:"flex items-center gap-1 text-xs text-[#34c759] font-semibold",children:[l.jsx(is,{className:"w-3 h-3"}),"Tempo Real"]})]}),l.jsxs("div",{className:"relative z-10 grid grid-cols-2 gap-3 mb-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(At,{symbol:$[A].symbol,size:"sm"}),l.jsx("div",{children:l.jsx("h3",{className:"text-base font-bold text-white",children:$[A].symbol})})]}),l.jsxs("div",{className:"mb-2",children:[l.jsx("p",{className:"text-xs text-white/40",children:"Preo"}),l.jsx("p",{className:"text-white",children:$[A].price<1?l.jsxs(l.Fragment,{children:["$ ",$[A].price.toLocaleString("pt-BR",{minimumFractionDigits:6,maximumFractionDigits:6})]}):l.jsx(wa,{value:$[A].price,symbol:"$",className:"text-lg font-light"})})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-white/40",children:"24h"}),l.jsxs("p",{className:"text-lg font-bold text-[#34c759] flex items-center gap-1",children:["+",$[A].changePercent.toFixed(2),"%",l.jsx(is,{className:"w-3 h-3"})]})]})]}),l.jsx("div",{className:"h-24 w-full",style:{minHeight:"96px",minWidth:"150px"},children:l.jsx(T$,{width:"100%",height:"100%",minHeight:96,children:l.jsxs(Mbe,{data:Z($[A]),children:[l.jsxs("defs",{children:[l.jsxs("linearGradient",{id:"colorCurrent",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"5%",stopColor:"#34c759",stopOpacity:.8}),l.jsx("stop",{offset:"95%",stopColor:"#34c759",stopOpacity:0})]}),l.jsxs("linearGradient",{id:"colorPast",x1:"0",y1:"0",x2:"0",y2:"1",children:[l.jsx("stop",{offset:"5%",stopColor:"#ff9f0a",stopOpacity:.4}),l.jsx("stop",{offset:"95%",stopColor:"#ff9f0a",stopOpacity:0})]})]}),l.jsx(pge,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.95)",border:"1px solid rgba(52, 199, 89, 0.3)",borderRadius:"8px",padding:"6px 10px"},labelStyle:{display:"none"},formatter:(K,X)=>X==="price"?[`$${K.toFixed(2)}`,"Hoje"]:X==="pricePast"?[`$${K.toFixed(2)}`,"5 dias atrs"]:["",""]}),l.jsx(CT,{type:"monotone",dataKey:"pricePast",stroke:"#ff9f0a",strokeWidth:1.5,strokeOpacity:.6,fill:"url(#colorPast)",dot:!1,animationDuration:1500,animationEasing:"ease-in-out",isAnimationActive:!0}),l.jsx(CT,{type:"monotone",dataKey:"price",stroke:"#34c759",strokeWidth:2,fill:"url(#colorCurrent)",dot:!1,animationDuration:1500,animationEasing:"ease-in-out",isAnimationActive:!0})]})})})]})]})})}),l.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(20px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `}),l.jsxs("div",{className:"px-6 space-y-4 pb-24",children:[l.jsx("button",{onClick:()=>_(!b),className:`w-full rounded-2xl p-4 hover:bg-white/10 transition-all ${k}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center",children:b?l.jsx(Fx,{className:"w-6 h-6 text-white rotate-90"}):l.jsx(Eo,{className:"w-6 h-6 text-white rotate-90"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-semibold text-white",children:b?"Ocultar Lista":"Ver Todas as Criptomoedas"}),l.jsxs("div",{className:"text-sm text-gray-400",children:[H.length," ",H.length===1?"ativo disponvel":"ativos disponveis"]})]})]}),l.jsx("div",{className:"text-sm font-semibold text-gray-400",children:b?"Ocultar":"Expandir"})]})}),b&&l.jsx(l.Fragment,{children:H.length>0?l.jsx(l.Fragment,{children:H.map(K=>l.jsxs("div",{className:`w-full rounded-2xl p-4 hover:bg-white/10 transition-colors cursor-pointer ${k}`,onDoubleClick:()=>U(K),title:"Clique 2x para adicionar saldo",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(At,{symbol:K.symbol,size:"md"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-semibold",children:K.name}),l.jsx("div",{className:"text-sm text-gray-400",children:K.symbol})]})]}),l.jsx("button",{className:"text-gray-400 hover:text-yellow-500 transition-colors",onClick:X=>{X.stopPropagation(),P(K.id)},children:l.jsx(K1,{className:`w-5 h-5 ${K.isFavorite?"fill-yellow-500 text-yellow-500":""}`})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-lg font-semibold",children:K.price}),l.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${K.trend==="up"?"text-green-500":K.trend==="down"?"text-red-500":"text-gray-400"}`,children:[K.trend==="up"&&l.jsx(is,{className:"w-4 h-4"}),K.trend==="down"&&l.jsx(_u,{className:"w-4 h-4"}),K.change]})]}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Market Cap: ",K.marketCap]})]},K.id))}):l.jsxs("div",{className:`rounded-2xl p-8 text-center ${k}`,children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto mb-4 flex items-center justify-center",children:l.jsx(K1,{className:"w-8 h-8 text-white/30 fill-white/30"})}),l.jsx("p",{className:"text-white font-semibold mb-2",children:"Todas as criptos esto ativas!"}),l.jsx("p",{className:"text-sm text-white/50",children:"Voc j adicionou todas as criptomoedas disponveis ao seu portflio."}),l.jsx("button",{onClick:()=>t("wallet"),className:"mt-4 px-6 py-3 bg-white text-black rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Ver Portflio"})]})})]})]}),d.show&&l.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>f({show:!1,crypto:null}),children:l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 w-full max-w-md border border-white/10 shadow-[0_0_40px_rgba(255,255,255,0.1)]",onClick:K=>K.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Adicionar ao Portflio"}),l.jsx("button",{onClick:()=>f({show:!1,crypto:null}),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10",children:l.jsx(gi,{className:"w-5 h-5 text-white"})})]}),l.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[l.jsx(At,{symbol:d.crypto?.symbol||"BTC",size:"lg"}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-semibold text-xl text-white mb-1",children:d.crypto?.symbol||"BTC"}),l.jsx("div",{className:"text-sm text-gray-400",children:d.crypto?.name||"Bitcoin"})]})]}),(()=>{const K=s.holdings.find(X=>X.coinId===d.crypto?.id);return K?l.jsxs("div",{className:"mb-4 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Saldo atual"}),l.jsxs("p",{className:"text-2xl font-bold text-white",children:[or(K.amount)," ",K.symbol]})]}):null})(),l.jsxs("div",{className:"mb-6",children:[l.jsx("label",{className:"block text-sm font-semibold text-gray-400 mb-2",children:"Quantidade a adicionar"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"number",value:m,onChange:K=>p(K.target.value),placeholder:"0.00",step:"0.00000001",className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 pr-16 text-2xl font-bold text-white placeholder-gray-600 border border-white/10 focus:outline-none focus:border-white/30 transition-colors",autoFocus:!0}),l.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-lg font-semibold text-gray-400",children:d.crypto?.symbol})]}),m&&parseFloat(m)>0&&(()=>{const X=s.holdings.find(te=>te.coinId===d.crypto?.id)?.amount||0;return l.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Novo saldo: ",or(X+parseFloat(m))," ",d.crypto?.symbol]})})()]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{onClick:()=>f({show:!1,crypto:null}),className:"py-4 rounded-2xl font-semibold bg-white/5 hover:bg-white/10 text-white transition-colors border border-white/10",disabled:y,children:"Cancelar"}),l.jsx("button",{onClick:G,className:"py-4 rounded-2xl font-semibold bg-white text-black hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:y||!m||parseFloat(m)<=0,children:y?"Adicionando...":"Adicionar"})]})]})})]})}function Vwe({onNavigate:t}){const{userData:e,logout:n}=Ft(),{t:r}=fs(),i=o=>{const c=o.split(" ");return c.length>=2?`${c[0][0]}${c[1][0]}`.toUpperCase():o.substring(0,2).toUpperCase()},s=async()=>{try{console.log(" Fazendo logout..."),await n(),console.log(" Logout concludo! Redirecionando..."),t("welcome")}catch(o){console.error("Erro ao fazer logout:",o),Me.error("Erro ao fazer logout")}},a=[{title:r.account,items:[{icon:oC,label:r.personalInfo,action:()=>t("personalInfo")},{icon:HK,label:r.accountData,action:()=>t("accountData")},{icon:Tf,label:r.security,action:()=>t("security")},{icon:Km,label:r.notifications,action:()=>t("notifications")}]},{title:r.support,items:[{icon:VV,label:r.helpCenter,action:()=>t("helpCenter")},{icon:BV,label:r.termsAndPrivacy,action:()=>t("termsMenu")}]},{title:r.settings,items:[{icon:o0,label:r.language,action:()=>t("languageSettings")},{icon:sG,label:r.appPreferences,action:()=>t("appPreferences")},{icon:YK,label:r.logout,action:s,danger:!0}]},{title:r.dangerZone,items:[{icon:ho,label:r.deleteAccount,action:()=>t("deleteAccount"),danger:!0}]}];return l.jsx("div",{className:"min-h-screen bg-black text-white flex flex-col",children:l.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsx("h1",{className:"text-xl mb-4",children:r.myProfile}),l.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center text-lg overflow-hidden",children:e?.photoURL?l.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):e?i(e.name):"U"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h2",{className:"",children:e?.name||"Usurio"}),l.jsx("p",{className:"text-sm text-gray-400",children:e?.email||""})]})]})})]}),a.map((o,c)=>l.jsxs("section",{className:"px-6 mb-6",children:[l.jsx("h3",{className:"text-xs text-gray-400 mb-2 px-1",children:o.title.toUpperCase()}),l.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl overflow-hidden border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.items.map((d,f)=>{const m=d.icon;return l.jsxs("div",{children:[l.jsxs("button",{onClick:d.action,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/10 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(m,{className:`w-5 h-5 ${d.danger?"text-red-500":"text-gray-400"}`}),l.jsx("span",{className:d.danger?"text-red-500":"",children:d.label})]}),l.jsx(Eo,{className:"w-5 h-5 text-gray-400"})]}),f<o.items.length-1&&l.jsx("div",{className:"h-px bg-white/10 mx-4"})]},d.label)})})]},c)),l.jsx("div",{className:"text-center mt-6 text-sm text-gray-500",children:"NexCoin v1.0.0"})]})})}function Fwe({onNavigate:t}){const{userData:e,user:n}=Ft(),[r,i]=E.useState(!1),[s,a]=E.useState(!1),[o,c]=E.useState({birthDate:e?.birthDate||"",address:e?.address||"",city:e?.city||"",state:e?.state||"",zipCode:e?.zipCode||"",document:e?.document||"",patrimony:e?.patrimony||"",accountPurpose:e?.accountPurpose||[]}),d=p=>{const y=p.split(" ");return y.length>=2?`${y[0][0]}${y[1][0]}`.toUpperCase():p.substring(0,2).toUpperCase()},f=async()=>{if(!(!n||!e)){a(!0);try{const p=ct(Se,"users",n.uid);await Bs(p,o),Object.assign(e,o),i(!1),alert("Perfil atualizado com sucesso!")}catch(p){console.error("Erro ao atualizar perfil:",p),alert("Erro ao atualizar perfil. Tente novamente.")}finally{a(!1)}}},m=p=>{if(!p)return"";const y=p.replace(/\D/g,"");return y.length===13?`+${y.slice(0,2)} ${y.slice(2,4)} ${y.slice(4,9)}-${y.slice(9)}`:p};return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-zinc-900 transition-colors",children:l.jsx(Fx,{className:"w-6 h-6"})}),r&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>i(!1),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:l.jsx(gi,{className:"w-5 h-5"})}),l.jsx("button",{onClick:f,disabled:s,className:"w-10 h-10 flex items-center justify-center rounded-full bg-gradient-to-r from-orange-500 to-purple-500 hover:opacity-90 transition-opacity disabled:opacity-50",children:l.jsx(zV,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"flex items-start justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold flex-1",children:"Informaes pessoais"}),!r&&l.jsx("div",{style:{display:"none"}}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsxs("span",{className:"text-blue-500",children:["@",e?.name?.toLowerCase().replace(/\s+/g,"")||"usuario"]})})]}),l.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center text-lg font-bold overflow-hidden",children:e?.photoURL?l.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):e?d(e.name):"U"})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-base font-semibold mb-3",children:"Conta pessoal"}),l.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-4 space-y-4",children:[l.jsxs("div",{className:"py-2",children:[l.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Nome completo"}),l.jsx("p",{className:"text-sm",children:e?.name?.toUpperCase()||"NO INFORMADO"})]}),l.jsx("div",{className:"h-px bg-white/10"}),l.jsxs("div",{className:"py-2",children:[l.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Data de nascimento"}),r?l.jsx("input",{type:"date",value:o.birthDate,onChange:p=>c({...o,birthDate:p.target.value}),className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):l.jsx("p",{className:"text-sm",children:e?.birthDate||"NO INFORMADO"})]}),l.jsx("div",{className:"h-px bg-white/10"}),l.jsxs("div",{className:"py-2",children:[l.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Documento de identificao (CPF/RG/Passaporte)"}),r?l.jsx("input",{type:"text",value:o.document,onChange:p=>c({...o,document:p.target.value}),placeholder:"Digite seu CPF, RG ou Passaporte",className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):l.jsx("p",{className:"text-sm",children:e?.document||"NO INFORMADO"})]}),l.jsx("div",{className:"h-px bg-white/10"}),l.jsxs("div",{className:"py-2",children:[l.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Endereo residencial"}),r?l.jsxs("div",{className:"space-y-2",children:[l.jsx("input",{type:"text",value:o.address,onChange:p=>c({...o,address:p.target.value}),placeholder:"Rua, nmero, complemento",className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("input",{type:"text",value:o.city,onChange:p=>c({...o,city:p.target.value}),placeholder:"Cidade",className:"bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}),l.jsx("input",{type:"text",value:o.state,onChange:p=>c({...o,state:p.target.value}),placeholder:"Estado",className:"bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"})]}),l.jsx("input",{type:"text",value:o.zipCode,onChange:p=>c({...o,zipCode:p.target.value}),placeholder:"CEP",className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"})]}):l.jsx("p",{className:"text-sm",children:e?.address&&e?.city&&e?.state&&e?.zipCode?`${e.address}, ${e.zipCode}, ${e.city}, ${e.state}`:"NO INFORMADO"})]}),l.jsx("div",{className:"h-px bg-white/10"}),l.jsxs("div",{className:"py-2",children:[l.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Nmero de celular"}),l.jsx("p",{className:"text-sm",children:m(e?.phone||"")||"NO INFORMADO"})]}),l.jsx("div",{className:"h-px bg-white/10"}),l.jsxs("div",{className:"py-2",children:[l.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"E-mail"}),l.jsx("p",{className:"text-sm text-orange-500",children:e?.email||"NO INFORMADO"})]}),l.jsx("div",{className:"h-px bg-white/10"}),l.jsxs("div",{className:"py-2",children:[l.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Domiclio fiscal"}),l.jsx("p",{className:"text-sm",children:e?.country||"NO INFORMADO"})]})]})]}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-base font-semibold mb-3",children:"Patrimnio"}),l.jsx("div",{className:"bg-zinc-900 rounded-3xl p-4",children:l.jsxs("div",{className:"py-2",children:[l.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Patrimnio informado (opcional)"}),r?l.jsx("input",{type:"text",value:o.patrimony,onChange:p=>c({...o,patrimony:p.target.value}),placeholder:"Ex: R$ 500.000,00",className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):l.jsx("p",{className:"text-sm",children:e?.patrimony||"NO INFORMADO"})]})})]})]})]})}async function mw(t){try{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",e.style.opacity="0",e.setAttribute("readonly",""),document.body.appendChild(e),e.focus(),e.select(),e.setSelectionRange(0,t.length);const n=document.execCommand("copy");if(document.body.removeChild(e),n)return!0}catch(e){console.warn("Legacy copy method failed, trying Clipboard API",e)}if(navigator.clipboard&&window.isSecureContext)try{return await navigator.clipboard.writeText(t),!0}catch(e){console.error("Clipboard API also failed",e)}return console.error("All clipboard methods failed"),!1}const Bwe=({code:t})=>l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800",children:l.jsx("img",{src:`https://flagcdn.com/w40/${t.toLowerCase()}.png`,alt:t,className:"w-full h-full object-cover"})});function zwe({account:t,onBack:e,onDelete:n}){const[r,i]=E.useState(null),s=(c,d)=>{mw(c),i(d),setTimeout(()=>i(null),2e3)},a=t.iban!==void 0,o=t.country==="BR";return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[l.jsx("header",{className:"px-6 py-4 flex items-center",children:l.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-zinc-900 transition-colors",children:l.jsx(vt,{className:"w-6 h-6"})})}),l.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:"Dados da conta"}),l.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[l.jsx(Bwe,{code:t.flagCode}),l.jsx("span",{className:"font-semibold",children:t.countryName})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6 mb-4",children:[l.jsx("p",{className:"text-xs font-semibold mb-6",children:a?"Apenas para transferncias internacionais":"Apenas para transferncias domsticas"}),l.jsxs("div",{className:"mb-5",children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Instituio"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.bankName}),l.jsx("button",{onClick:()=>s(t.bankName,"bankName"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:l.jsx(vn,{className:"w-4 h-4 text-blue-400"})})]})]}),l.jsxs("div",{className:"mb-5",children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Tipo de Conta"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.accountType}),l.jsx("button",{onClick:()=>s(t.accountType,"accountType"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:l.jsx(vn,{className:"w-4 h-4 text-blue-400"})})]})]}),l.jsxs("div",{className:"mb-5",children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Nmero da conta"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.accountNumber}),l.jsx("button",{onClick:()=>s(t.accountNumber,"accountNumber"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:l.jsx(vn,{className:"w-4 h-4 text-blue-400"})})]})]}),a&&l.jsxs(l.Fragment,{children:[t.iban&&l.jsxs("div",{className:"mb-5",children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"IBAN"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.iban}),l.jsx("button",{onClick:()=>s(t.iban,"iban"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:l.jsx(vn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.swift&&l.jsxs("div",{className:"mb-5",children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"SWIFT/BIC"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.swift}),l.jsx("button",{onClick:()=>s(t.swift,"swift"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:l.jsx(vn,{className:"w-4 h-4 text-blue-400"})})]})]})]}),!a&&l.jsxs(l.Fragment,{children:[t.sortCode&&l.jsxs("div",{className:"mb-5",children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Sort Code"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.sortCode}),l.jsx("button",{onClick:()=>s(t.sortCode,"sortCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:l.jsx(vn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.branchCode&&l.jsxs("div",{className:"mb-5",children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:o?"Agncia":"Branch Code"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.branchCode}),l.jsx("button",{onClick:()=>s(t.branchCode,"branchCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:l.jsx(vn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.routingNumber&&l.jsxs("div",{className:"mb-5",children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:t.country==="US"?"Routing Number":t.country==="GB"?"Sort Code":t.country==="AU"?"BSB":"Routing Number"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.routingNumber}),l.jsx("button",{onClick:()=>s(t.routingNumber,"routingNumber"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:l.jsx(vn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.bankCode&&l.jsxs("div",{className:"mb-5",children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:o?"Cdigo da Instituio":"Institution Code"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.bankCode}),l.jsx("button",{onClick:()=>s(t.bankCode,"bankCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:l.jsx(vn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.swift&&l.jsxs("div",{className:"mb-5",children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"SWIFT/BIC"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.swift}),l.jsx("button",{onClick:()=>s(t.swift,"swift"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:l.jsx(vn,{className:"w-4 h-4 text-blue-400"})})]})]})]}),l.jsxs("button",{className:"w-full bg-zinc-700 hover:bg-zinc-600 rounded-full py-3 flex items-center justify-center gap-2 transition-colors mt-6",children:[l.jsx(UV,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-semibold",children:"Compartilhar dados"})]})]}),a?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:l.jsx(dp,{className:"w-5 h-5"})})}),l.jsx("div",{children:l.jsx("p",{className:"text-sm font-semibold",children:"Normalmente as transferncias levam de trs a cinco dias teis para aparecer na sua conta Revolut"})})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:l.jsx(uk,{className:"w-5 h-5"})})}),l.jsx("div",{children:l.jsx("p",{className:"text-sm font-semibold",children:"O banco do remetente ou intermedirio poder cobrar por pagamentos internacionais"})})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:l.jsx(dk,{className:"w-5 h-5"})})}),l.jsx("div",{children:l.jsx("p",{className:"text-sm font-semibold",children:"Aceitamos somente transferncias SWIFT"})})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:l.jsx(uk,{className:"w-5 h-5"})})}),l.jsx("div",{children:l.jsx("p",{className:"text-sm font-semibold",children:"No cobraremos nenhuma taxa de transferncia para esta conta."})})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 flex gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:l.jsx(dk,{className:"w-5 h-5"})})}),l.jsx("div",{children:l.jsx("p",{className:"text-sm font-semibold",children:"Voc pode usar os dados da sua conta ou chave Pix para receber transferncias 24 horas, sem complicaes."})})]})]}),n&&t.id&&l.jsxs("button",{onClick:()=>n(t.id),className:"w-full mt-6 bg-red-900/20 hover:bg-red-900/30 border border-red-800 rounded-3xl py-4 flex items-center justify-center gap-2 transition-colors",children:[l.jsx(ho,{className:"w-5 h-5 text-red-500"}),l.jsx("span",{className:"text-sm font-semibold text-red-500",children:"Encerrar conta"})]})]})]})}const dI=E.createContext({});function fI(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const fq=typeof window<"u",hq=fq?E.useLayoutEffect:E.useEffect,pw=E.createContext(null);function hI(t,e){t.indexOf(e)===-1&&t.push(e)}function Ix(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const za=(t,e,n)=>n>e?e:n<t?t:n;let mI=()=>{};const Oo={},mq=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function pq(t){return typeof t=="object"&&t!==null}const gq=t=>/^0[^.\s]+$/u.test(t);function pI(t){let e;return()=>(e===void 0&&(e=t()),e)}const as=t=>t,Uwe=(t,e)=>n=>e(t(n)),Dg=(...t)=>t.reduce(Uwe),qp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class gI{constructor(){this.subscriptions=[]}add(e){return hI(this.subscriptions,e),()=>Ix(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vs=t=>t*1e3,rs=t=>t/1e3;function yq(t,e){return e?t*(1e3/e):0}const vq=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$we=1e-7,qwe=12;function Hwe(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=vq(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>$we&&++o<qwe);return a}function Og(t,e,n,r){if(t===e&&n===r)return as;const i=s=>Hwe(s,0,1,t,n);return s=>s===0||s===1?s:vq(i(s),e,r)}const xq=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,bq=t=>e=>1-t(1-e),wq=Og(.33,1.53,.69,.99),yI=bq(wq),_q=xq(yI),Eq=t=>(t*=2)<1?.5*yI(t):.5*(2-Math.pow(2,-10*(t-1))),vI=t=>1-Math.sin(Math.acos(t)),Sq=bq(vI),Nq=xq(vI),Wwe=Og(.42,0,1,1),Kwe=Og(0,0,.58,1),Tq=Og(.42,0,.58,1),Gwe=t=>Array.isArray(t)&&typeof t[0]!="number",Cq=t=>Array.isArray(t)&&typeof t[0]=="number",Xwe={linear:as,easeIn:Wwe,easeInOut:Tq,easeOut:Kwe,circIn:vI,circInOut:Nq,circOut:Sq,backIn:yI,backInOut:_q,backOut:wq,anticipate:Eq},Ywe=t=>typeof t=="string",NL=t=>{if(Cq(t)){mI(t.length===4);const[e,n,r,i]=t;return Og(e,n,r,i)}else if(Ywe(t))return Xwe[t];return t},_v=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Qwe(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function c(f){a.has(f)&&(d.schedule(f),t()),f(o)}const d={schedule:(f,m=!1,p=!1)=>{const x=p&&i?n:r;return m&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(o=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const Jwe=40;function Aq(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=_v.reduce((R,z)=>(R[z]=Qwe(s),R),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:f,update:m,preRender:p,render:y,postRender:x}=a,b=()=>{const R=Oo.useManualTiming?i.timestamp:performance.now();n=!1,Oo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(R-i.timestamp,Jwe),1)),i.timestamp=R,i.isProcessing=!0,o.process(i),c.process(i),d.process(i),f.process(i),m.process(i),p.process(i),y.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},_=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:_v.reduce((R,z)=>{const P=a[z];return R[z]=(A,N=!1,T=!1)=>(n||_(),P.schedule(A,N,T)),R},{}),cancel:R=>{for(let z=0;z<_v.length;z++)a[_v[z]].cancel(R)},state:i,steps:a}}const{schedule:en,cancel:ac,state:wr,steps:JE}=Aq(typeof requestAnimationFrame<"u"?requestAnimationFrame:as,!0);let Zv;function Zwe(){Zv=void 0}const Xr={now:()=>(Zv===void 0&&Xr.set(wr.isProcessing||Oo.useManualTiming?wr.timestamp:performance.now()),Zv),set:t=>{Zv=t,queueMicrotask(Zwe)}},Pq=t=>e=>typeof e=="string"&&e.startsWith(t),Iq=Pq("--"),e1e=Pq("var(--"),xI=t=>e1e(t)?t1e.test(t.split("/*")[0].trim()):!1,t1e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function TL(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Nh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Hp={...Nh,transform:t=>za(0,1,t)},Ev={...Nh,default:1},op=t=>Math.round(t*1e5)/1e5,bI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function n1e(t){return t==null}const r1e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wI=(t,e)=>n=>!!(typeof n=="string"&&r1e.test(n)&&n.startsWith(t)||e&&!n1e(n)&&Object.prototype.hasOwnProperty.call(n,e)),jq=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(bI);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},i1e=t=>za(0,255,t),ZE={...Nh,transform:t=>Math.round(i1e(t))},uu={test:wI("rgb","red"),parse:jq("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+ZE.transform(t)+", "+ZE.transform(e)+", "+ZE.transform(n)+", "+op(Hp.transform(r))+")"};function s1e(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const DT={test:wI("#"),parse:s1e,transform:uu.transform},Mg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Tl=Mg("deg"),Oa=Mg("%"),$e=Mg("px"),a1e=Mg("vh"),o1e=Mg("vw"),CL={...Oa,parse:t=>Oa.parse(t)/100,transform:t=>Oa.transform(t*100)},lf={test:wI("hsl","hue"),parse:jq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Oa.transform(op(e))+", "+Oa.transform(op(n))+", "+op(Hp.transform(r))+")"},Vn={test:t=>uu.test(t)||DT.test(t)||lf.test(t),parse:t=>uu.test(t)?uu.parse(t):lf.test(t)?lf.parse(t):DT.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?uu.transform(t):lf.transform(t),getAnimatableNone:t=>{const e=Vn.parse(t);return e.alpha=0,Vn.transform(e)}},l1e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function c1e(t){return isNaN(t)&&typeof t=="string"&&(t.match(bI)?.length||0)+(t.match(l1e)?.length||0)>0}const kq="number",Rq="color",u1e="var",d1e="var(",AL="${}",f1e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(f1e,c=>(Vn.test(c)?(r.color.push(s),i.push(Rq),n.push(Vn.parse(c))):c.startsWith(d1e)?(r.var.push(s),i.push(u1e),n.push(c)):(r.number.push(s),i.push(kq),n.push(parseFloat(c))),++s,AL)).split(AL);return{values:n,split:o,indexes:r,types:i}}function Dq(t){return Wp(t).values}function Oq(t){const{split:e,types:n}=Wp(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===kq?s+=op(i[a]):o===Rq?s+=Vn.transform(i[a]):s+=i[a]}return s}}const h1e=t=>typeof t=="number"?0:Vn.test(t)?Vn.getAnimatableNone(t):t;function m1e(t){const e=Dq(t);return Oq(t)(e.map(h1e))}const oc={test:c1e,parse:Dq,createTransformer:Oq,getAnimatableNone:m1e};function eS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function p1e({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,c=2*n-o;i=eS(c,o,t+1/3),s=eS(c,o,t),a=eS(c,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function jx(t,e){return n=>n>0?e:t}const bn=(t,e,n)=>t+(e-t)*n,tS=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},g1e=[DT,uu,lf],y1e=t=>g1e.find(e=>e.test(t));function PL(t){const e=y1e(t);if(!e)return!1;let n=e.parse(t);return e===lf&&(n=p1e(n)),n}const IL=(t,e)=>{const n=PL(t),r=PL(e);if(!n||!r)return jx(t,e);const i={...n};return s=>(i.red=tS(n.red,r.red,s),i.green=tS(n.green,r.green,s),i.blue=tS(n.blue,r.blue,s),i.alpha=bn(n.alpha,r.alpha,s),uu.transform(i))},OT=new Set(["none","hidden"]);function v1e(t,e){return OT.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function x1e(t,e){return n=>bn(t,e,n)}function _I(t){return typeof t=="number"?x1e:typeof t=="string"?xI(t)?jx:Vn.test(t)?IL:_1e:Array.isArray(t)?Mq:typeof t=="object"?Vn.test(t)?IL:b1e:jx}function Mq(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>_I(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function b1e(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=_I(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function w1e(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const _1e=(t,e)=>{const n=oc.createTransformer(e),r=Wp(t),i=Wp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?OT.has(t)&&!i.values.length||OT.has(e)&&!r.values.length?v1e(t,e):Dg(Mq(w1e(r,i),i.values),n):jx(t,e)};function Lq(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?bn(t,e,n):_I(t)(t,e)}const E1e=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>en.update(e,n),stop:()=>ac(e),now:()=>wr.isProcessing?wr.timestamp:Xr.now()}},Vq=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},kx=2e4;function EI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<kx;)e+=n,r=t.next(e);return e>=kx?1/0:e}function S1e(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(EI(r),kx);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:rs(i)}}const N1e=5;function Fq(t,e,n){const r=Math.max(e-N1e,0);return yq(n-t(r),e-r)}const Cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},nS=.001;function T1e({duration:t=Cn.duration,bounce:e=Cn.bounce,velocity:n=Cn.velocity,mass:r=Cn.mass}){let i,s,a=1-e;a=za(Cn.minDamping,Cn.maxDamping,a),t=za(Cn.minDuration,Cn.maxDuration,rs(t)),a<1?(i=d=>{const f=d*a,m=f*t,p=f-n,y=MT(d,a),x=Math.exp(-m);return nS-p/y*x},s=d=>{const m=d*a*t,p=m*n+n,y=Math.pow(a,2)*Math.pow(d,2)*t,x=Math.exp(-m),b=MT(Math.pow(d,2),a);return(-i(d)+nS>0?-1:1)*((p-y)*x)/b}):(i=d=>{const f=Math.exp(-d*t),m=(d-n)*t+1;return-nS+f*m},s=d=>{const f=Math.exp(-d*t),m=(n-d)*(t*t);return f*m});const o=5/t,c=A1e(i,s,o);if(t=Vs(t),isNaN(c))return{stiffness:Cn.stiffness,damping:Cn.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const C1e=12;function A1e(t,e,n){let r=n;for(let i=1;i<C1e;i++)r=r-t(r)/e(r);return r}function MT(t,e){return t*Math.sqrt(1-e*e)}const P1e=["duration","bounce"],I1e=["stiffness","damping","mass"];function jL(t,e){return e.some(n=>t[n]!==void 0)}function j1e(t){let e={velocity:Cn.velocity,stiffness:Cn.stiffness,damping:Cn.damping,mass:Cn.mass,isResolvedFromDuration:!1,...t};if(!jL(t,I1e)&&jL(t,P1e))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*za(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Cn.mass,stiffness:i,damping:s}}else{const n=T1e(t);e={...e,...n,mass:Cn.mass},e.isResolvedFromDuration=!0}return e}function Rx(t=Cn.visualDuration,e=Cn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:m,velocity:p,isResolvedFromDuration:y}=j1e({...n,velocity:-rs(n.velocity||0)}),x=p||0,b=d/(2*Math.sqrt(c*f)),_=a-s,S=rs(Math.sqrt(c/f)),O=Math.abs(_)<5;r||(r=O?Cn.restSpeed.granular:Cn.restSpeed.default),i||(i=O?Cn.restDelta.granular:Cn.restDelta.default);let R;if(b<1){const P=MT(S,b);R=A=>{const N=Math.exp(-b*S*A);return a-N*((x+b*S*_)/P*Math.sin(P*A)+_*Math.cos(P*A))}}else if(b===1)R=P=>a-Math.exp(-S*P)*(_+(x+S*_)*P);else{const P=S*Math.sqrt(b*b-1);R=A=>{const N=Math.exp(-b*S*A),T=Math.min(P*A,300);return a-N*((x+b*S*_)*Math.sinh(T)+P*_*Math.cosh(T))/P}}const z={calculatedDuration:y&&m||null,next:P=>{const A=R(P);if(y)o.done=P>=m;else{let N=P===0?x:0;b<1&&(N=P===0?Vs(x):Fq(R,P,A));const T=Math.abs(N)<=r,I=Math.abs(a-A)<=i;o.done=T&&I}return o.value=o.done?a:A,o},toString:()=>{const P=Math.min(EI(z),kx),A=Vq(N=>z.next(P*N).value,P,30);return P+"ms "+A},toTransition:()=>{}};return z}Rx.applyToOptions=t=>{const e=S1e(t,100,Rx);return t.ease=e.ease,t.duration=Vs(e.duration),t.type="keyframes",t};function LT({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:c,restDelta:d=.5,restSpeed:f}){const m=t[0],p={done:!1,value:m},y=T=>o!==void 0&&T<o||c!==void 0&&T>c,x=T=>o===void 0?c:c===void 0||Math.abs(o-T)<Math.abs(c-T)?o:c;let b=n*e;const _=m+b,S=a===void 0?_:a(_);S!==_&&(b=S-m);const O=T=>-b*Math.exp(-T/r),R=T=>S+O(T),z=T=>{const I=O(T),j=R(T);p.done=Math.abs(I)<=d,p.value=p.done?S:j};let P,A;const N=T=>{y(p.value)&&(P=T,A=Rx({keyframes:[p.value,x(p.value)],velocity:Fq(R,T,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return N(0),{calculatedDuration:null,next:T=>{let I=!1;return!A&&P===void 0&&(I=!0,z(T),N(T)),P!==void 0&&T>=P?A.next(T-P):(!I&&z(T),p)}}}function k1e(t,e,n){const r=[],i=n||Oo.mix||Lq,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||as:e;o=Dg(c,o)}r.push(o)}return r}function R1e(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(mI(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=k1e(e,r,i),c=o.length,d=f=>{if(a&&f<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const p=qp(t[m],t[m+1],f);return o[m](p)};return n?f=>d(za(t[0],t[s-1],f)):d}function D1e(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=qp(0,e,r);t.push(bn(n,1,i))}}function O1e(t){const e=[0];return D1e(e,t.length-1),e}function M1e(t,e){return t.map(n=>n*e)}function L1e(t,e){return t.map(()=>e||Tq).splice(0,t.length-1)}function lp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Gwe(r)?r.map(NL):NL(r),s={done:!1,value:e[0]},a=M1e(n&&n.length===e.length?n:O1e(e),t),o=R1e(a,e,{ease:Array.isArray(i)?i:L1e(e,i)});return{calculatedDuration:t,next:c=>(s.value=o(c),s.done=c>=t,s)}}const V1e=t=>t!==null;function SI(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(V1e),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const F1e={decay:LT,inertia:LT,tween:lp,keyframes:lp,spring:Rx};function Bq(t){typeof t.type=="string"&&(t.type=F1e[t.type])}class NI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const B1e=t=>t/100;class TI extends NI{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Xr.now()&&this.tick(Xr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Bq(e);const{type:n=lp,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const c=n||lp;c!==lp&&typeof o[0]!="number"&&(this.mixKeyframes=Dg(B1e,Lq(o[0],o[1])),o=[0,100]);const d=c({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...o].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=EI(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:p,repeatDelay:y,type:x,onUpdate:b,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const S=this.currentTime-d*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let R=this.currentTime,z=r;if(m){const T=Math.min(this.currentTime,i)/o;let I=Math.floor(T),j=T%1;!j&&T>=1&&(j=1),j===1&&I--,I=Math.min(I,m+1),I%2&&(p==="reverse"?(j=1-j,y&&(j-=y/o)):p==="mirror"&&(z=a)),R=za(0,1,j)*o}const P=O?{done:!1,value:f[0]}:z.next(R);s&&(P.value=s(P.value));let{done:A}=P;!O&&c!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return N&&x!==LT&&(P.value=SI(f,this.options,_,this.speed)),b&&b(P.value),N&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return rs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+rs(e)}get time(){return rs(this.currentTime)}set time(e){e=Vs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=rs(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=E1e,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function z1e(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const du=t=>t*180/Math.PI,VT=t=>{const e=du(Math.atan2(t[1],t[0]));return FT(e)},U1e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:VT,rotateZ:VT,skewX:t=>du(Math.atan(t[1])),skewY:t=>du(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},FT=t=>(t=t%360,t<0&&(t+=360),t),kL=VT,RL=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),DL=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),$1e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RL,scaleY:DL,scale:t=>(RL(t)+DL(t))/2,rotateX:t=>FT(du(Math.atan2(t[6],t[5]))),rotateY:t=>FT(du(Math.atan2(-t[2],t[0]))),rotateZ:kL,rotate:kL,skewX:t=>du(Math.atan(t[4])),skewY:t=>du(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function BT(t){return t.includes("scale")?1:0}function zT(t,e){if(!t||t==="none")return BT(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=$1e,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=U1e,i=o}if(!i)return BT(e);const s=r[e],a=i[1].split(",").map(H1e);return typeof s=="function"?s(a):a[s]}const q1e=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return zT(n,e)};function H1e(t){return parseFloat(t.trim())}const Th=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ch=new Set(Th),OL=t=>t===Nh||t===$e,W1e=new Set(["x","y","z"]),K1e=Th.filter(t=>!W1e.has(t));function G1e(t){const e=[];return K1e.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Bl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>zT(e,"x"),y:(t,{transform:e})=>zT(e,"y")};Bl.translateX=Bl.x;Bl.translateY=Bl.y;const bu=new Set;let UT=!1,$T=!1,qT=!1;function zq(){if($T){const t=Array.from(bu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=G1e(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$T=!1,UT=!1,bu.forEach(t=>t.complete(qT)),bu.clear()}function Uq(){bu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($T=!0)})}function X1e(){qT=!0,Uq(),zq(),qT=!1}class CI{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(bu.add(this),UT||(UT=!0,en.read(Uq),en.resolveKeyframes(zq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}z1e(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bu.delete(this)}cancel(){this.state==="scheduled"&&(bu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Y1e=t=>t.startsWith("--");function Q1e(t,e,n){Y1e(e)?t.style.setProperty(e,n):t.style[e]=n}const J1e=pI(()=>window.ScrollTimeline!==void 0),Z1e={};function e_e(t,e){const n=pI(t);return()=>Z1e[e]??n()}const $q=e_e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,ML={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wm([0,.65,.55,1]),circOut:Wm([.55,0,1,.45]),backIn:Wm([.31,.01,.66,-.59]),backOut:Wm([.33,1.53,.69,.99])};function qq(t,e){if(t)return typeof t=="function"?$q()?Vq(t,e):"ease-out":Cq(t)?Wm(t):Array.isArray(t)?t.map(n=>qq(n,e)||ML.easeOut):ML[t]}function t_e(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:c}={},d=void 0){const f={[e]:n};c&&(f.offset=c);const m=qq(o,i);Array.isArray(m)&&(f.easing=m);const p={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(f,p)}function Hq(t){return typeof t=="function"&&"applyToOptions"in t}function n_e({type:t,...e}){return Hq(t)&&$q()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Wq extends NI{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,mI(typeof e.type!="string");const d=n_e(e);this.animation=t_e(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=SI(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(f):Q1e(n,r,f),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return rs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+rs(e)}get time(){return rs(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Vs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&J1e()?(this.animation.timeline=e,as):n(this)}}const Kq={anticipate:Eq,backInOut:_q,circInOut:Nq};function r_e(t){return t in Kq}function i_e(t){typeof t.ease=="string"&&r_e(t.ease)&&(t.ease=Kq[t.ease])}const rS=10;class s_e extends Wq{constructor(e){i_e(e),Bq(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new TI({...a,autoplay:!1}),c=Math.max(rS,Xr.now()-this.startTime),d=za(0,rS,c-rS);n.setWithVelocity(o.sample(Math.max(0,c-d)).value,o.sample(c).value,d),o.stop()}}const LL=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(oc.test(t)||t==="0")&&!t.startsWith("url("));function a_e(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function o_e(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=LL(i,e),o=LL(s,e);return!a||!o?!1:a_e(t)||(n==="spring"||Hq(n))&&r}function HT(t){t.duration=0,t.type="keyframes"}const l_e=new Set(["opacity","clipPath","filter","transform"]),c_e=pI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function u_e(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return c_e()&&n&&l_e.has(n)&&(n!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const d_e=40;class f_e extends NI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:c,motionValue:d,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Xr.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:d,element:f,...m},y=f?.KeyframeResolver||CI;this.keyframeResolver=new y(o,(x,b,_)=>this.onKeyframesResolved(x,b,p,!_),c,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:c,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Xr.now(),o_e(e,s,a,o)||((Oo.instantAnimations||!c)&&f?.(SI(e,r,n)),e[0]=e[e.length-1],HT(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>d_e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&u_e(p),x=p.motionValue?.owner?.current,b=y?new s_e({...p,element:x}):new TI(p);b.finished.then(()=>{this.notifyFinished()}).catch(as),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),X1e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Gq(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}const h_e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function m_e(t){const e=h_e.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Xq(t,e,n=1){const[r,i]=m_e(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return mq(a)?parseFloat(a):a}return xI(i)?Xq(i,e,n+1):i}const p_e={type:"spring",stiffness:500,damping:25,restSpeed:10},g_e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),y_e={type:"keyframes",duration:.8},v_e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},x_e=(t,{keyframes:e})=>e.length>2?y_e:Ch.has(t)?t.startsWith("scale")?g_e(e[1]):p_e:v_e,b_e=t=>t!==null;function w_e(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(b_e),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}function Yq(t,e){if(t?.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function AI(t,e){const n=t?.[e]??t?.default??t;return n!==t?Yq(n,t):n}function __e({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const PI=(t,e,n,r={},i,s)=>a=>{const o=AI(r,t)||{},c=o.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Vs(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-d,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};__e(o)||Object.assign(f,x_e(t,f)),f.duration&&(f.duration=Vs(f.duration)),f.repeatDelay&&(f.repeatDelay=Vs(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(HT(f),f.delay===0&&(m=!0)),(Oo.instantAnimations||Oo.skipAnimations||i?.shouldSkipAnimations)&&(m=!0,HT(f),f.delay=0),f.allowFlatten=!o.type&&!o.ease,m&&!s&&e.get()!==void 0){const p=w_e(f.keyframes,o);if(p!==void 0){en.update(()=>{f.onUpdate(p),f.onComplete()});return}}return o.isSync?new TI(f):new f_e(f)};function VL(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function II(t,e,n,r){if(typeof e=="function"){const[i,s]=VL(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=VL(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Ef(t,e,n){const r=t.getProps();return II(r,e,n!==void 0?n:r.custom,t)}const Qq=new Set(["width","height","top","left","right","bottom",...Th]),FL=30,E_e=t=>!isNaN(parseFloat(t));class S_e{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Xr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=E_e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gI);const r=this.events[e].add(n);return e==="change"?()=>{r(),en.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>FL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,FL);return yq(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nh(t,e){return new S_e(t,e)}const WT=t=>Array.isArray(t);function N_e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,nh(n))}function T_e(t){return WT(t)?t[t.length-1]||0:t}function C_e(t,e){const n=Ef(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=T_e(s[a]);N_e(t,a,o)}}const Fr=t=>!!(t&&t.getVelocity);function A_e(t){return!!(Fr(t)&&t.add)}function KT(t,e){const n=t.getValue("willChange");if(A_e(n))return n.add(e);if(!n&&Oo.WillChange){const r=new Oo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function jI(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const P_e="framerAppearId",Jq="data-"+jI(P_e);function Zq(t){return t.props[Jq]}function I_e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function eH(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s,transitionEnd:a,...o}=e;const c=t.getDefaultTransition();s=s?Yq(s,c):c;const d=s?.reduceMotion;r&&(s=r);const f=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const p in o){const y=t.getValue(p,t.latestValues[p]??null),x=o[p];if(x===void 0||m&&I_e(m,p))continue;const b={delay:n,...AI(s||{},p)},_=y.get();if(_!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===_&&!b.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const z=Zq(t);if(z){const P=window.MotionHandoffAnimation(z,p,en);P!==null&&(b.startTime=P,S=!0)}}KT(t,p);const O=d??t.shouldReduceMotion;y.start(PI(p,y,x,O&&Qq.has(p)?{type:!1}:b,t,S));const R=y.animation;R&&f.push(R)}if(a){const p=()=>en.update(()=>{a&&C_e(t,a)});f.length?Promise.all(f).then(p):p()}return f}function GT(t,e,n={}){const r=Ef(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(eH(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=i;return j_e(t,e,c,d,f,m,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,d]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function j_e(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),o.push(GT(c,e,{...a,delay:n+(typeof r=="function"?0:r)+Gq(t.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(o)}function k_e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>GT(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=GT(t,e,n);else{const i=typeof e=="function"?Ef(t,e,n.custom):e;r=Promise.all(eH(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const R_e={test:t=>t==="auto",parse:t=>t},tH=t=>e=>e.test(t),nH=[Nh,$e,Oa,Tl,o1e,a1e,R_e],BL=t=>nH.find(tH(t));function D_e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||gq(t):!0}const O_e=new Set(["brightness","contrast","saturate","opacity"]);function M_e(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bI)||[];if(!r)return t;const i=n.replace(r,"");let s=O_e.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const L_e=/\b([a-z-]*)\(.*?\)/gu,XT={...oc,getAnimatableNone:t=>{const e=t.match(L_e);return e?e.map(M_e).join(" "):t}},zL={...Nh,transform:Math.round},V_e={rotate:Tl,rotateX:Tl,rotateY:Tl,rotateZ:Tl,scale:Ev,scaleX:Ev,scaleY:Ev,scaleZ:Ev,skew:Tl,skewX:Tl,skewY:Tl,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:Hp,originX:CL,originY:CL,originZ:$e},kI={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,inset:$e,insetBlock:$e,insetBlockStart:$e,insetBlockEnd:$e,insetInline:$e,insetInlineStart:$e,insetInlineEnd:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,paddingBlock:$e,paddingBlockStart:$e,paddingBlockEnd:$e,paddingInline:$e,paddingInlineStart:$e,paddingInlineEnd:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,marginBlock:$e,marginBlockStart:$e,marginBlockEnd:$e,marginInline:$e,marginInlineStart:$e,marginInlineEnd:$e,fontSize:$e,backgroundPositionX:$e,backgroundPositionY:$e,...V_e,zIndex:zL,fillOpacity:Hp,strokeOpacity:Hp,numOctaves:zL},F_e={...kI,color:Vn,backgroundColor:Vn,outlineColor:Vn,fill:Vn,stroke:Vn,borderColor:Vn,borderTopColor:Vn,borderRightColor:Vn,borderBottomColor:Vn,borderLeftColor:Vn,filter:XT,WebkitFilter:XT},rH=t=>F_e[t];function iH(t,e){let n=rH(t);return n!==XT&&(n=oc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const B_e=new Set(["auto","none","0"]);function z_e(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!B_e.has(s)&&Wp(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=iH(n,i)}class U_e extends CI{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),xI(m))){const p=Xq(m,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Qq.has(r)||e.length!==2)return;const[i,s]=e,a=BL(i),o=BL(s),c=TL(i),d=TL(s);if(c!==d&&Bl[r]){this.needsMeasurement=!0;return}if(a!==o)if(OL(a)&&OL(o))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else Bl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||D_e(e[i]))&&r.push(i);r.length&&z_e(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Bl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,c])=>{e.getValue(o).set(c)}),this.resolveNoneKeyframes()}}const $_e=new Set(["opacity","clipPath","filter","transform"]);function sH(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const aH=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function YT(t){return pq(t)&&"offsetHeight"in t}const{schedule:RI}=Aq(queueMicrotask,!1),Ts={x:!1,y:!1};function oH(){return Ts.x||Ts.y}function q_e(t){return t==="x"||t==="y"?Ts[t]?null:(Ts[t]=!0,()=>{Ts[t]=!1}):Ts.x||Ts.y?null:(Ts.x=Ts.y=!0,()=>{Ts.x=Ts.y=!1})}function lH(t,e){const n=sH(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function H_e(t){return!(t.pointerType==="touch"||oH())}function W_e(t,e,n={}){const[r,i,s]=lH(t,n);return r.forEach(a=>{let o=!1,c=!1,d;const f=()=>{a.removeEventListener("pointerleave",x)},m=_=>{d&&(d(_),d=void 0),f()},p=_=>{o=!1,window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",p),c&&(c=!1,m(_))},y=()=>{o=!0,window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",p,i)},x=_=>{if(_.pointerType!=="touch"){if(o){c=!0;return}m(_)}},b=_=>{if(!H_e(_))return;c=!1;const S=e(a,_);typeof S=="function"&&(d=S,a.addEventListener("pointerleave",x,i))};a.addEventListener("pointerenter",b,i),a.addEventListener("pointerdown",y,i)}),s}const cH=(t,e)=>e?t===e?!0:cH(t,e.parentElement):!1,DI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,K_e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function G_e(t){return K_e.has(t.tagName)||t.isContentEditable===!0}const X_e=new Set(["INPUT","SELECT","TEXTAREA"]);function Y_e(t){return X_e.has(t.tagName)||t.isContentEditable===!0}const e0=new WeakSet;function UL(t){return e=>{e.key==="Enter"&&t(e)}}function iS(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Q_e=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=UL(()=>{if(e0.has(n))return;iS(n,"down");const i=UL(()=>{iS(n,"up")}),s=()=>iS(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function $L(t){return DI(t)&&!oH()}const qL=new WeakSet;function J_e(t,e,n={}){const[r,i,s]=lH(t,n),a=o=>{const c=o.currentTarget;if(!$L(o)||qL.has(o))return;e0.add(c),n.stopPropagation&&qL.add(o);const d=e(c,o),f=(y,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),e0.has(c)&&e0.delete(c),$L(y)&&typeof d=="function"&&d(y,{success:x})},m=y=>{f(y,c===window||c===document||n.useGlobalTarget||cH(c,y.target))},p=y=>{f(y,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",p,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),YT(o)&&(o.addEventListener("focus",d=>Q_e(d,i)),!G_e(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function OI(t){return pq(t)&&"ownerSVGElement"in t}const t0=new WeakMap;let n0;const uH=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:OI(r)&&"getBBox"in r?r.getBBox()[e]:r[n],Z_e=uH("inline","width","offsetWidth"),eEe=uH("block","height","offsetHeight");function tEe({target:t,borderBoxSize:e}){t0.get(t)?.forEach(n=>{n(t,{get width(){return Z_e(t,e)},get height(){return eEe(t,e)}})})}function nEe(t){t.forEach(tEe)}function rEe(){typeof ResizeObserver>"u"||(n0=new ResizeObserver(nEe))}function iEe(t,e){n0||rEe();const n=sH(t);return n.forEach(r=>{let i=t0.get(r);i||(i=new Set,t0.set(r,i)),i.add(e),n0?.observe(r)}),()=>{n.forEach(r=>{const i=t0.get(r);i?.delete(e),i?.size||n0?.unobserve(r)})}}const r0=new Set;let cf;function sEe(){cf=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};r0.forEach(e=>e(t))},window.addEventListener("resize",cf)}function aEe(t){return r0.add(t),cf||sEe(),()=>{r0.delete(t),!r0.size&&typeof cf=="function"&&(window.removeEventListener("resize",cf),cf=void 0)}}function HL(t,e){return typeof t=="function"?aEe(t):iEe(t,e)}function oEe(t){return OI(t)&&t.tagName==="svg"}const lEe=[...nH,Vn,oc],cEe=t=>lEe.find(tH(t)),WL=()=>({translate:0,scale:1,origin:0,originPoint:0}),uf=()=>({x:WL(),y:WL()}),KL=()=>({min:0,max:0}),qn=()=>({x:KL(),y:KL()}),uEe=new WeakMap;function gw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Kp(t){return typeof t=="string"||Array.isArray(t)}const MI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],LI=["initial",...MI];function yw(t){return gw(t.animate)||LI.some(e=>Kp(t[e]))}function dH(t){return!!(yw(t)||t.variants)}function dEe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Fr(i))t.addValue(r,i);else if(Fr(s))t.addValue(r,nh(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,nh(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const QT={current:null},fH={current:!1},fEe=typeof window<"u";function hEe(){if(fH.current=!0,!!fEe)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>QT.current=t.matches;t.addEventListener("change",e),e()}else QT.current=!1}const GL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Dx={};function hH(t){Dx=t}function mEe(){return Dx}class pEe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:s,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=CI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Xr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,en.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=yw(n),this.isVariantNode=dH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const x=p[y];d[y]!==void 0&&Fr(x)&&x.set(d[y])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,uEe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(fH.current||hEe(),this.shouldReduceMotion=QT.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ac(this.notifyUpdate),ac(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&$_e.has(e)&&this.current instanceof HTMLElement){const{factory:a,keyframes:o,times:c,ease:d,duration:f}=n.accelerate,m=new Wq({element:this.current,name:e,keyframes:o,times:c,ease:d,duration:Vs(f)}),p=a(m);this.valueSubscriptions.set(e,()=>{p(),m.cancel()});return}const r=Ch.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&en.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dx){const n=Dx[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<GL.length;r++){const i=GL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=dEe(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=nh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(mq(r)||gq(r))?r=parseFloat(r):!cEe(r)&&oc.test(n)&&(r=iH(e,n)),this.setBaseTarget(e,Fr(r)?r.get():r)),Fr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=II(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Fr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gI),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){RI.render(this.render)}}class mH extends pEe{constructor(){super(...arguments),this.KeyframeResolver=U_e}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class vc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function pH({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function gEe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function yEe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function sS(t){return t===void 0||t===1}function JT({scale:t,scaleX:e,scaleY:n}){return!sS(t)||!sS(e)||!sS(n)}function Zc(t){return JT(t)||gH(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gH(t){return XL(t.x)||XL(t.y)}function XL(t){return t&&t!=="0%"}function Ox(t,e,n){const r=t-n,i=e*r;return n+i}function YL(t,e,n,r,i){return i!==void 0&&(t=Ox(t,i,r)),Ox(t,n,r)+e}function ZT(t,e=0,n=1,r,i){t.min=YL(t.min,e,n,r,i),t.max=YL(t.max,e,n,r,i)}function yH(t,{x:e,y:n}){ZT(t.x,e.translate,e.scale,e.originPoint),ZT(t.y,n.translate,n.scale,n.originPoint)}const QL=.999999999999,JL=1.0000000000001;function vEe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ff(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,yH(t,a)),r&&Zc(s.latestValues)&&ff(t,s.latestValues))}e.x<JL&&e.x>QL&&(e.x=1),e.y<JL&&e.y>QL&&(e.y=1)}function df(t,e){t.min=t.min+e,t.max=t.max+e}function ZL(t,e,n,r,i=.5){const s=bn(t.min,t.max,i);ZT(t,e,n,s,r)}function ff(t,e){ZL(t.x,e.x,e.scaleX,e.scale,e.originX),ZL(t.y,e.y,e.scaleY,e.scale,e.originY)}function vH(t,e){return pH(yEe(t.getBoundingClientRect(),e))}function xEe(t,e,n){const r=vH(t,n),{scroll:i}=e;return i&&(df(r.x,i.offset.x),df(r.y,i.offset.y)),r}const bEe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wEe=Th.length;function _Ee(t,e,n){let r="",i=!0;for(let s=0;s<wEe;s++){const a=Th[s],o=t[a];if(o===void 0)continue;let c=!0;if(typeof o=="number")c=o===(a.startsWith("scale")?1:0);else{const d=parseFloat(o);c=a.startsWith("scale")?d===1:d===0}if(!c||n){const d=aH(o,kI[a]);if(!c){i=!1;const f=bEe[a]||a;r+=`${f}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function VI(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const c in e){const d=e[c];if(Ch.has(c)){a=!0;continue}else if(Iq(c)){i[c]=d;continue}else{const f=aH(d,kI[c]);c.startsWith("origin")?(o=!0,s[c]=f):r[c]=f}}if(e.transform||(a||n?r.transform=_Ee(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${c} ${d} ${f}`}}function xH(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function e3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Dm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=e3(t,e.target.x),r=e3(t,e.target.y);return`${n}% ${r}%`}},EEe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=oc.parse(t);if(i.length>5)return r;const s=oc.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=c;const d=bn(o,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),s(i)}},eC={borderRadius:{...Dm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dm,borderTopRightRadius:Dm,borderBottomLeftRadius:Dm,borderBottomRightRadius:Dm,boxShadow:EEe};function bH(t,{layout:e,layoutId:n}){return Ch.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!eC[t]||t==="opacity")}function FI(t,e,n){const r=t.style,i=e?.style,s={};if(!r)return s;for(const a in r)(Fr(r[a])||i&&Fr(i[a])||bH(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}function SEe(t){return window.getComputedStyle(t)}class NEe extends mH{constructor(){super(...arguments),this.type="html",this.renderInstance=xH}readValueFromInstance(e,n){if(Ch.has(n))return this.projection?.isProjecting?BT(n):q1e(e,n);{const r=SEe(e),i=(Iq(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vH(e,n)}build(e,n,r){VI(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return FI(e,n,r)}}const TEe={offset:"stroke-dashoffset",array:"stroke-dasharray"},CEe={offset:"strokeDashoffset",array:"strokeDasharray"};function AEe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?TEe:CEe;t[s.offset]=`${-r}`,t[s.array]=`${e} ${n}`}const PEe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function wH(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},c,d,f){if(VI(t,o,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=f?.transformBox??"fill-box",delete m.transformBox);for(const y of PEe)m[y]!==void 0&&(p[y]=m[y],delete m[y]);e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&AEe(m,i,s,a,!1)}const _H=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),EH=t=>typeof t=="string"&&t.toLowerCase()==="svg";function IEe(t,e,n,r){xH(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(_H.has(i)?i:jI(i),e.attrs[i])}function SH(t,e,n){const r=FI(t,e,n);for(const i in t)if(Fr(t[i])||Fr(e[i])){const s=Th.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}class jEe extends mH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ch.has(n)){const r=rH(n);return r&&r.default||0}return n=_H.has(n)?n:jI(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return SH(e,n,r)}build(e,n,r){wH(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){IEe(e,n,r,i)}mount(e){this.isSVGTag=EH(e.tagName),super.mount(e)}}const kEe=LI.length;function NH(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?NH(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<kEe;n++){const r=LI[n],i=t.props[r];(Kp(i)||i===!1)&&(e[r]=i)}return e}function TH(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const REe=[...MI].reverse(),DEe=MI.length;function OEe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>k_e(t,n,r)))}function MEe(t){let e=OEe(t),n=t3(),r=!0;const i=c=>(d,f)=>{const m=Ef(t,f,c==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:p,transitionEnd:y,...x}=m;d={...d,...x,...y}}return d};function s(c){e=c(t)}function a(c){const{props:d}=t,f=NH(t.parent)||{},m=[],p=new Set;let y={},x=1/0;for(let _=0;_<DEe;_++){const S=REe[_],O=n[S],R=d[S]!==void 0?d[S]:f[S],z=Kp(R),P=S===c?O.isActive:null;P===!1&&(x=_);let A=R===f[S]&&R!==d[S]&&z;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),O.protectedKeys={...y},!O.isActive&&P===null||!R&&!O.prevProp||gw(R)||typeof R=="boolean")continue;if(S==="exit"&&O.isActive&&P!==!0){O.prevResolvedValues&&(y={...y,...O.prevResolvedValues});continue}const N=LEe(O.prevProp,R);let T=N||S===c&&O.isActive&&!A&&z||_>x&&z,I=!1;const j=Array.isArray(R)?R:[R];let D=j.reduce(i(S),{});P===!1&&(D={});const{prevResolvedValues:F={}}=O,V={...F,...D},$=B=>{T=!0,p.has(B)&&(I=!0,p.delete(B)),O.needsAnimating[B]=!0;const Q=t.getValue(B);Q&&(Q.liveStyle=!1)};for(const B in V){const Q=D[B],H=F[B];if(y.hasOwnProperty(B))continue;let k=!1;WT(Q)&&WT(H)?k=!TH(Q,H):k=Q!==H,k?Q!=null?$(B):p.add(B):Q!==void 0&&p.has(B)?$(B):O.protectedKeys[B]=!0}O.prevProp=R,O.prevResolvedValues=D,O.isActive&&(y={...y,...D}),r&&t.blockInitialAnimation&&(T=!1);const Z=A&&N;T&&(!Z||I)&&m.push(...j.map(B=>{const Q={type:S};if(typeof B=="string"&&r&&!Z&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,k=Ef(H,B);if(H.enteringChildren&&k){const{delayChildren:U}=k.transition||{};Q.delay=Gq(H.enteringChildren,t,U)}}return{animation:B,options:Q}}))}if(p.size){const _={};if(typeof d.initial!="boolean"){const S=Ef(t,Array.isArray(d.initial)?d.initial[0]:d.initial);S&&S.transition&&(_.transition=S.transition)}p.forEach(S=>{const O=t.getBaseTarget(S),R=t.getValue(S);R&&(R.liveStyle=!0),_[S]=O??null}),m.push({animation:_})}let b=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(m):Promise.resolve()}function o(c,d){if(n[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(c,d)),n[c].isActive=d;const f=a(c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=t3()}}}function LEe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!TH(e,t):!1}function Wc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function t3(){return{animate:Wc(!0),whileInView:Wc(),whileHover:Wc(),whileTap:Wc(),whileDrag:Wc(),whileFocus:Wc(),exit:Wc()}}function n3(t,e){t.min=e.min,t.max=e.max}function Ns(t,e){n3(t.x,e.x),n3(t.y,e.y)}function r3(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const CH=1e-4,VEe=1-CH,FEe=1+CH,AH=.01,BEe=0-AH,zEe=0+AH;function Yr(t){return t.max-t.min}function UEe(t,e,n){return Math.abs(t-e)<=n}function i3(t,e,n,r=.5){t.origin=r,t.originPoint=bn(e.min,e.max,t.origin),t.scale=Yr(n)/Yr(e),t.translate=bn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=VEe&&t.scale<=FEe||isNaN(t.scale))&&(t.scale=1),(t.translate>=BEe&&t.translate<=zEe||isNaN(t.translate))&&(t.translate=0)}function cp(t,e,n,r){i3(t.x,e.x,n.x,r?r.originX:void 0),i3(t.y,e.y,n.y,r?r.originY:void 0)}function s3(t,e,n){t.min=n.min+e.min,t.max=t.min+Yr(e)}function $Ee(t,e,n){s3(t.x,e.x,n.x),s3(t.y,e.y,n.y)}function a3(t,e,n){t.min=e.min-n.min,t.max=t.min+Yr(e)}function Mx(t,e,n){a3(t.x,e.x,n.x),a3(t.y,e.y,n.y)}function o3(t,e,n,r,i){return t-=e,t=Ox(t,1/n,r),i!==void 0&&(t=Ox(t,1/i,r)),t}function qEe(t,e=0,n=1,r=.5,i,s=t,a=t){if(Oa.test(e)&&(e=parseFloat(e),e=bn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=bn(s.min,s.max,r);t===s&&(o-=e),t.min=o3(t.min,e,n,o,i),t.max=o3(t.max,e,n,o,i)}function l3(t,e,[n,r,i],s,a){qEe(t,e[n],e[r],e[i],e.scale,s,a)}const HEe=["x","scaleX","originX"],WEe=["y","scaleY","originY"];function c3(t,e,n,r){l3(t.x,e,HEe,n?n.x:void 0,r?r.x:void 0),l3(t.y,e,WEe,n?n.y:void 0,r?r.y:void 0)}function u3(t){return t.translate===0&&t.scale===1}function PH(t){return u3(t.x)&&u3(t.y)}function d3(t,e){return t.min===e.min&&t.max===e.max}function KEe(t,e){return d3(t.x,e.x)&&d3(t.y,e.y)}function f3(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function IH(t,e){return f3(t.x,e.x)&&f3(t.y,e.y)}function h3(t){return Yr(t.x)/Yr(t.y)}function m3(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ya(t){return[t("x"),t("y")]}function GEe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:p,skewX:y,skewY:x}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,c=t.y.scale*e.y;return(o!==1||c!==1)&&(r+=`scale(${o}, ${c})`),r||"none"}const jH=["TopLeft","TopRight","BottomLeft","BottomRight"],XEe=jH.length,p3=t=>typeof t=="string"?parseFloat(t):t,g3=t=>typeof t=="number"||$e.test(t);function YEe(t,e,n,r,i,s){i?(t.opacity=bn(0,n.opacity??1,QEe(r)),t.opacityExit=bn(e.opacity??1,0,JEe(r))):s&&(t.opacity=bn(e.opacity??1,n.opacity??1,r));for(let a=0;a<XEe;a++){const o=`border${jH[a]}Radius`;let c=y3(e,o),d=y3(n,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||g3(c)===g3(d)?(t[o]=Math.max(bn(p3(c),p3(d),r),0),(Oa.test(d)||Oa.test(c))&&(t[o]+="%")):t[o]=d}(e.rotate||n.rotate)&&(t.rotate=bn(e.rotate||0,n.rotate||0,r))}function y3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const QEe=kH(0,.5,Sq),JEe=kH(.5,.95,as);function kH(t,e,n){return r=>r<t?0:r>e?1:n(qp(t,e,r))}function ZEe(t,e,n){const r=Fr(t)?t:nh(t);return r.start(PI("",r,e,n)),r.animation}function Gp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const eSe=(t,e)=>t.depth-e.depth;class tSe{constructor(){this.children=[],this.isDirty=!1}add(e){hI(this.children,e),this.isDirty=!0}remove(e){Ix(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eSe),this.isDirty=!1,this.children.forEach(e)}}function nSe(t,e){const n=Xr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ac(r),t(s-e))};return en.setup(r,!0),()=>ac(r)}function i0(t){return Fr(t)?t.get():t}class rSe{constructor(){this.members=[]}add(e){hI(this.members,e);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===e||r===this.lead||r===this.prevLead)continue;const i=r.instance;i&&i.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&Ix(this.members,r)}e.scheduleRender()}remove(e){if(Ix(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i],a=s.instance;if(s.isPresent!==!1&&(!a||a.isConnected!==!1)){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;if(!(i!==void 0&&s!==void 0&&i===s)){const c=r.instance;c&&c.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const s0={hasAnimatedSinceResize:!0,hasEverUpdated:!1},aS=["","X","Y","Z"],iSe=1e3;let sSe=0;function oS(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function RH(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Zq(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",en,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&RH(r)}function DH({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=sSe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lSe),this.nodes.forEach(fSe),this.nodes.forEach(hSe),this.nodes.forEach(cSe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new tSe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new gI),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=OI(a)&&!oEe(a),this.instance=a;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),t){let f,m=0;const p=()=>this.root.updateBlockedByResize=!1;en.read(()=>{m=window.innerWidth}),t(a,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,f&&f(),f=nSe(p,250),s0.hasAnimatedSinceResize&&(s0.hasAnimatedSinceResize=!1,this.nodes.forEach(b3)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||vSe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:_}=d.getProps(),S=!this.targetLayout||!IH(this.targetLayout,y),O=!m&&p;if(this.options.layoutRoot||this.resumeFrom||O||m&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...AI(x,"layout"),onPlay:b,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(f,O)}else m||b3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ac(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mSe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(v3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(x3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dSe),this.nodes.forEach(aSe),this.nodes.forEach(oSe)):this.nodes.forEach(x3),this.clearAllSnapshots();const o=Xr.now();wr.delta=za(0,1e3/60,o-wr.timestamp),wr.timestamp=o,wr.isProcessing=!0,JE.update.process(wr),JE.preRender.process(wr),JE.render.process(wr),wr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,RI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uSe),this.sharedNodes.forEach(pSe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,en.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){en.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Yr(this.snapshot.measuredBox.x)&&!Yr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=qn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!PH(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(o||Zc(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),xSe(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return qn();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(bSe))){const{scroll:d}=this.root;d&&(df(o.x,d.offset.x),df(o.y,d.offset.y))}return o}removeElementScroll(a){const o=qn();if(Ns(o,a),this.scroll?.wasRoot)return o;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Ns(o,a),df(o.x,f.offset.x),df(o.y,f.offset.y))}return o}applyTransform(a,o=!1){const c=qn();Ns(c,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ff(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Zc(f.latestValues)&&ff(c,f.latestValues)}return Zc(this.latestValues)&&ff(c,this.latestValues),c}removeTransform(a){const o=qn();Ns(o,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Zc(d.latestValues))continue;JT(d.latestValues)&&d.updateSnapshot();const f=qn(),m=d.measurePageBox();Ns(f,m),c3(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Zc(this.latestValues)&&c3(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!this.layout||!(f||m))return;this.resolvedRelativeTargetAt=wr.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qn(),this.targetWithTransforms=qn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$Ee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ns(this.target,this.layout.layoutBox),yH(this.target,this.targetDelta)):Ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||JT(this.parent.latestValues)||gH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qn(),this.relativeTargetOrigin=qn(),Mx(this.relativeTargetOrigin,o,c),Ns(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===wr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ns(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;vEe(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=qn());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(r3(this.prevProjectionDelta.x,this.projectionDelta.x),r3(this.prevProjectionDelta.y,this.projectionDelta.y)),cp(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!m3(this.projectionDelta.x,this.prevProjectionDelta.x)||!m3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=uf(),this.projectionDelta=uf(),this.projectionDeltaWithTransform=uf()}setAnimationOrigin(a,o=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},m=uf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=qn(),y=c?c.source:void 0,x=this.layout?this.layout.source:void 0,b=y!==x,_=this.getStack(),S=!_||_.members.length<=1,O=!!(b&&!S&&this.options.crossfade===!0&&!this.path.some(ySe));this.animationProgress=0;let R;this.mixTargetDelta=z=>{const P=z/1e3;w3(m.x,a.x,P),w3(m.y,a.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Mx(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gSe(this.relativeTarget,this.relativeTargetOrigin,p,P),R&&KEe(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=qn()),Ns(R,this.relativeTarget)),b&&(this.animationValues=f,YEe(f,d,this.latestValues,P,O,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ac(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=en.update(()=>{s0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nh(0)),this.currentAnimation=ZEe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iSe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:f}=a;if(!(!o||!c||!d)){if(this!==a&&this.layout&&d&&OH(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||qn();const m=Yr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+m;const p=Yr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}Ns(o,c),ff(o,f),cp(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new rSe),this.sharedNodes.get(a).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&oS("z",a,d,this.animationValues);for(let f=0;f<aS.length;f++)oS(`rotate${aS[f]}`,a,d,this.animationValues),oS(`skew${aS[f]}`,a,d,this.animationValues);a.render();for(const f in d)a.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=i0(o?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=i0(o?.pointerEvents)||""),this.hasProjected&&!Zc(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=GEe(this.projectionDeltaWithTransform,this.treeScale,f);c&&(m=c(f,m)),a.transform=m;const{x:p,y}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,d.animationValues?a.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in eC){if(f[x]===void 0)continue;const{correct:b,applyTo:_,isCSSVariable:S}=eC[x],O=m==="none"?f[x]:b(f[x],d);if(_){const R=_.length;for(let z=0;z<R;z++)a[_[z]]=O}else S?this.options.visualElement.renderState.vars[x]=O:a[x]=O}this.options.layoutId&&(a.pointerEvents=d===this?i0(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(v3),this.root.sharedNodes.clear()}}}function aSe(t){t.updateLayout()}function oSe(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?ya(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],p=Yr(m);m.min=n[f].min,m.max=m.min+p}):OH(i,e.layoutBox,n)&&ya(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],p=Yr(n[f]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=uf();cp(a,n,e.layoutBox);const o=uf();s?cp(o,t.applyTransform(r,!0),e.measuredBox):cp(o,n,e.layoutBox);const c=!PH(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const y=qn();Mx(y,e.layoutBox,m.layoutBox);const x=qn();Mx(x,n,p.layoutBox),IH(y,x)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function lSe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cSe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uSe(t){t.clearSnapshot()}function v3(t){t.clearMeasurements()}function x3(t){t.isLayoutDirty=!1}function dSe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function b3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function fSe(t){t.resolveTargetDelta()}function hSe(t){t.calcProjection()}function mSe(t){t.resetSkewAndRotation()}function pSe(t){t.removeLeadSnapshot()}function w3(t,e,n){t.translate=bn(e.translate,0,n),t.scale=bn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function _3(t,e,n,r){t.min=bn(e.min,n.min,r),t.max=bn(e.max,n.max,r)}function gSe(t,e,n,r){_3(t.x,e.x,n.x,r),_3(t.y,e.y,n.y,r)}function ySe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const vSe={duration:.45,ease:[.4,0,.1,1]},E3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),S3=E3("applewebkit/")&&!E3("chrome/")?Math.round:as;function N3(t){t.min=S3(t.min),t.max=S3(t.max)}function xSe(t){N3(t.x),N3(t.y)}function OH(t,e,n){return t==="position"||t==="preserve-aspect"&&!UEe(h3(e),h3(n),.2)}function bSe(t){return t!==t.root&&t.scroll?.wasRoot}const wSe=DH({attachResizeListener:(t,e)=>Gp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),lS={current:void 0},MH=DH({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!lS.current){const t=new wSe({});t.mount(window),t.setOptions({layoutScroll:!0}),lS.current=t}return lS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),BI=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function T3(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function _Se(...t){return e=>{let n=!1;const r=t.map(i=>{const s=T3(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():T3(t[i],null)}}}}function ESe(...t){return E.useCallback(_Se(...t),t)}class SSe extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=YT(r)&&r.offsetWidth||0,s=YT(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function NSe({children:t,isPresent:e,anchorX:n,anchorY:r,root:i,pop:s}){const a=E.useId(),o=E.useRef(null),c=E.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=E.useContext(BI),f=t.props?.ref??t?.ref,m=ESe(o,f);return E.useInsertionEffect(()=>{const{width:p,height:y,top:x,left:b,right:_,bottom:S}=c.current;if(e||s===!1||!o.current||!p||!y)return;const O=n==="left"?`left: ${b}`:`right: ${_}`,R=r==="bottom"?`bottom: ${S}`:`top: ${x}`;o.current.dataset.motionPopId=a;const z=document.createElement("style");d&&(z.nonce=d);const P=i??document.head;return P.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${O}px !important;
            ${R}px !important;
          }
        `),()=>{P.contains(z)&&P.removeChild(z)}},[e]),l.jsx(SSe,{isPresent:e,childRef:o,sizeRef:c,pop:s,children:s===!1?t:E.cloneElement(t,{ref:m})})}const TSe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,anchorY:c,root:d})=>{const f=fI(CSe),m=E.useId();let p=!0,y=E.useMemo(()=>(p=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:x=>{f.set(x,!0);for(const b of f.values())if(!b)return;r&&r()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,r]);return s&&p&&(y={...y}),E.useMemo(()=>{f.forEach((x,b)=>f.set(b,!1))},[n]),E.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),t=l.jsx(NSe,{pop:a==="popLayout",isPresent:n,anchorX:o,anchorY:c,root:d,children:t}),l.jsx(pw.Provider,{value:y,children:t})};function CSe(){return new Map}function LH(t=!0){const e=E.useContext(pw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=E.useId();E.useEffect(()=>{if(t)return i(s)},[t]);const a=E.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Sv=t=>t.key||"";function C3(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const zI=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",anchorY:c="top",root:d})=>{const[f,m]=LH(a),p=E.useMemo(()=>C3(t),[t]),y=a&&!f?[]:p.map(Sv),x=E.useRef(!0),b=E.useRef(p),_=fI(()=>new Map),S=E.useRef(new Set),[O,R]=E.useState(p),[z,P]=E.useState(p);hq(()=>{x.current=!1,b.current=p;for(let T=0;T<z.length;T++){const I=Sv(z[T]);y.includes(I)?(_.delete(I),S.current.delete(I)):_.get(I)!==!0&&_.set(I,!1)}},[z,y.length,y.join("-")]);const A=[];if(p!==O){let T=[...p];for(let I=0;I<z.length;I++){const j=z[I],D=Sv(j);y.includes(D)||(T.splice(I,0,j),A.push(j))}return s==="wait"&&A.length&&(T=A),P(C3(T)),R(p),null}const{forceRender:N}=E.useContext(dI);return l.jsx(l.Fragment,{children:z.map(T=>{const I=Sv(T),j=a&&!f?!1:p===z||y.includes(I),D=()=>{if(S.current.has(I))return;if(S.current.add(I),_.has(I))_.set(I,!0);else return;let F=!0;_.forEach(V=>{V||(F=!1)}),F&&(N?.(),P(b.current),a&&m?.(),r&&r())};return l.jsx(TSe,{isPresent:j,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:d,onExitComplete:j?void 0:D,anchorX:o,anchorY:c,children:T},I)})})},VH=E.createContext({strict:!1}),A3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let P3=!1;function ASe(){if(P3)return;const t={};for(const e in A3)t[e]={isEnabled:n=>A3[e].some(r=>!!n[r])};hH(t),P3=!0}function FH(){return ASe(),mEe()}function PSe(t){const e=FH();for(const n in t)e[n]={...e[n],...t[n]};hH(e)}const ISe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Lx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ISe.has(t)}let BH=t=>!Lx(t);function jSe(t){typeof t=="function"&&(BH=e=>e.startsWith("on")?!Lx(e):t(e))}try{jSe(require("@emotion/is-prop-valid").default)}catch{}function kSe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(BH(i)||n===!0&&Lx(i)||!e&&!Lx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const vw=E.createContext({});function RSe(t,e){if(yw(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Kp(n)?n:void 0,animate:Kp(r)?r:void 0}}return t.inherit!==!1?e:{}}function DSe(t){const{initial:e,animate:n}=RSe(t,E.useContext(vw));return E.useMemo(()=>({initial:e,animate:n}),[I3(e),I3(n)])}function I3(t){return Array.isArray(t)?t.join(" "):t}const UI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function zH(t,e,n){for(const r in e)!Fr(e[r])&&!bH(r,n)&&(t[r]=e[r])}function OSe({transformTemplate:t},e){return E.useMemo(()=>{const n=UI();return VI(n,e,t),Object.assign({},n.vars,n.style)},[e])}function MSe(t,e){const n=t.style||{},r={};return zH(r,n,t),Object.assign(r,OSe(t,e)),r}function LSe(t,e){const n={},r=MSe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const UH=()=>({...UI(),attrs:{}});function VSe(t,e,n,r){const i=E.useMemo(()=>{const s=UH();return wH(s,e,EH(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};zH(s,t.style,t),i.style={...s,...i.style}}return i}const FSe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $I(t){return typeof t!="string"||t.includes("-")?!1:!!(FSe.indexOf(t)>-1||/[A-Z]/u.test(t))}function BSe(t,e,n,{latestValues:r},i,s=!1,a){const c=(a??$I(t)?VSe:LSe)(e,r,i,t),d=kSe(e,typeof t=="string",s),f=t!==E.Fragment?{...d,...c,ref:n}:{},{children:m}=e,p=E.useMemo(()=>Fr(m)?m.get():m,[m]);return E.createElement(t,{...f,children:p})}function zSe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:USe(n,r,i,t),renderState:e()}}function USe(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=i0(s[p]);let{initial:a,animate:o}=t;const c=yw(t),d=dH(t);e&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const m=f?o:a;if(m&&typeof m!="boolean"&&!gw(m)){const p=Array.isArray(m)?m:[m];for(let y=0;y<p.length;y++){const x=II(t,p[y]);if(x){const{transitionEnd:b,transition:_,...S}=x;for(const O in S){let R=S[O];if(Array.isArray(R)){const z=f?R.length-1:0;R=R[z]}R!==null&&(i[O]=R)}for(const O in b)i[O]=b[O]}}}return i}const $H=t=>(e,n)=>{const r=E.useContext(vw),i=E.useContext(pw),s=()=>zSe(t,e,r,i);return n?s():fI(s)},$Se=$H({scrapeMotionValuesFromProps:FI,createRenderState:UI}),qSe=$H({scrapeMotionValuesFromProps:SH,createRenderState:UH}),HSe=Symbol.for("motionComponentSymbol");function WSe(t,e,n){const r=E.useRef(n);E.useInsertionEffect(()=>{r.current=n});const i=E.useRef(null);return E.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const a=r.current;if(typeof a=="function")if(s){const o=a(s);typeof o=="function"&&(i.current=o)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[e])}const qH=E.createContext({});function rf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function KSe(t,e,n,r,i,s){const{visualElement:a}=E.useContext(vw),o=E.useContext(VH),c=E.useContext(pw),d=E.useContext(BI),f=d.reducedMotion,m=d.skipAnimations,p=E.useRef(null),y=E.useRef(!1);r=r||o.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f,skipAnimations:m,isSVG:s}),y.current&&p.current&&(p.current.manuallyAnimateOnMount=!0));const x=p.current,b=E.useContext(qH);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&GSe(p.current,n,i,b);const _=E.useRef(!1);E.useInsertionEffect(()=>{x&&_.current&&x.update(n,c)});const S=n[Jq],O=E.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return hq(()=>{y.current=!0,x&&(_.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),O.current&&x.animationState&&x.animationState.animateChanges())}),E.useEffect(()=>{x&&(!O.current&&x.animationState&&x.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),O.current=!1),x.enteringChildren=void 0)}),x}function GSe(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:HH(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&rf(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:d})}function HH(t){if(t)return t.options.allowProjection!==!1?t.projection:HH(t.parent)}function cS(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&PSe(r);const s=n?n==="svg":$I(t),a=s?qSe:$Se;function o(d,f){let m;const p={...E.useContext(BI),...d,layoutId:XSe(d)},{isStatic:y}=p,x=DSe(d),b=a(d,y);if(!y&&fq){YSe();const _=QSe(p);m=_.MeasureLayout,x.visualElement=KSe(t,b,p,i,_.ProjectionNode,s)}return l.jsxs(vw.Provider,{value:x,children:[m&&x.visualElement?l.jsx(m,{visualElement:x.visualElement,...p}):null,BSe(t,d,WSe(b,x.visualElement,f),b,y,e,s)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=E.forwardRef(o);return c[HSe]=t,c}function XSe({layoutId:t}){const e=E.useContext(dI).id;return e&&t!==void 0?e+"-"+t:t}function YSe(t,e){E.useContext(VH).strict}function QSe(t){const e=FH(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function JSe(t,e){if(typeof Proxy>"u")return cS;const n=new Map,r=(s,a)=>cS(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,cS(a,void 0,t,e)),n.get(a))})}const ZSe=(t,e)=>e.isSVG??$I(t)?new jEe(e):new NEe(e,{allowProjection:t!==E.Fragment});class eNe extends vc{constructor(e){super(e),e.animationState||(e.animationState=MEe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let tNe=0;class nNe extends vc{constructor(){super(...arguments),this.id=tNe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const rNe={animation:{Feature:eNe},exit:{Feature:nNe}};function Lg(t){return{point:{x:t.pageX,y:t.pageY}}}const iNe=t=>e=>DI(e)&&t(e,Lg(e));function up(t,e,n,r){return Gp(t,e,iNe(n),r)}const WH=({current:t})=>t?t.ownerDocument.defaultView:null,j3=(t,e)=>Math.abs(t-e);function sNe(t,e){const n=j3(t.x,e.x),r=j3(t.y,e.y);return Math.sqrt(n**2+r**2)}const k3=new Set(["auto","scroll"]);class KH{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=dS(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=sNe(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!b)return;const{point:_}=y,{timestamp:S}=wr;this.history.push({..._,timestamp:S});const{onStart:O,onMove:R}=this.handlers;x||(O&&O(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=uS(x,this.transformPagePoint),en.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:b,onSessionEnd:_,resumeAnimation:S}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=dS(y.type==="pointercancel"?this.lastMoveEventInfo:uS(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,O),_&&_(y,O)},!DI(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const c=Lg(e),d=uS(c,this.transformPagePoint),{point:f}=d,{timestamp:m}=wr;this.history=[{...f,timestamp:m}];const{onSessionStart:p}=n;p&&p(e,dS(d,this.history)),this.removeListeners=Dg(up(this.contextWindow,"pointermove",this.handlePointerMove),up(this.contextWindow,"pointerup",this.handlePointerUp),up(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(k3.has(r.overflowX)||k3.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),en.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ac(this.updatePoint)}}function uS(t,e){return e?{point:e(t.point)}:t}function R3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function dS({point:t},e){return{point:t,delta:R3(t,GH(e)),offset:R3(t,aNe(e)),velocity:oNe(e,.1)}}function aNe(t){return t[0]}function GH(t){return t[t.length-1]}function oNe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=GH(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Vs(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&i.timestamp-r.timestamp>Vs(e)*2&&(r=t[1]);const s=rs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function lNe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?bn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?bn(n,t,r.max):Math.min(t,n)),t}function D3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function cNe(t,{top:e,left:n,bottom:r,right:i}){return{x:D3(t.x,n,i),y:D3(t.y,e,r)}}function O3(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function uNe(t,e){return{x:O3(t.x,e.x),y:O3(t.y,e.y)}}function dNe(t,e){let n=.5;const r=Yr(t),i=Yr(e);return i>r?n=qp(e.min,e.max-r,t.min):r>i&&(n=qp(t.min,t.max-i,e.min)),za(0,1,n)}function fNe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const tC=.35;function hNe(t=tC){return t===!1?t=0:t===!0&&(t=tC),{x:M3(t,"left","right"),y:M3(t,"top","bottom")}}function M3(t,e,n){return{min:L3(t,e),max:L3(t,n)}}function L3(t,e){return typeof t=="number"?t:t[e]||0}const mNe=new WeakMap;class pNe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{n&&this.snapToCursor(Lg(m).point),this.stopAnimation()},a=(m,p)=>{const{drag:y,dragPropagation:x,onDragStart:b}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=q_e(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ya(S=>{let O=this.getAxisMotionValue(S).get()||0;if(Oa.test(O)){const{projection:R}=this.visualElement;if(R&&R.layout){const z=R.layout.layoutBox[S];z&&(O=Yr(z)*(parseFloat(O)/100))}}this.originPoint[S]=O}),b&&en.update(()=>b(m,p),!1,!0),KT(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:b,onDrag:_}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:S}=p;if(x&&this.currentDirection===null){this.currentDirection=yNe(S),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),_&&en.update(()=>_(m,p),!1,!0)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>{const{dragSnapToOrigin:m}=this.getProps();(m||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:f}=this.getProps();this.panSession=new KH(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:WH(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&en.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Nv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=lNe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&rf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=cNe(r.layoutBox,e):this.constraints=!1,this.elastic=hNe(n),i!==this.constraints&&!rf(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&ya(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=fNe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!rf(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=xEe(r,i.root,this.visualElement.getTransformPagePoint());let a=uNe(i.layout.layoutBox,s);if(n){const o=n(gEe(a));this.hasMutatedConstraints=!!o,o&&(a=pH(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=ya(f=>{if(!Nv(f,n,this.currentDirection))return;let m=c&&c[f]||{};a&&(m={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,x)});return Promise.all(d).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return KT(this.visualElement,e),r.start(PI(e,r,0,n,this.visualElement,!1))}stopAnimation(){ya(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ya(n=>{const{drag:r}=this.getProps();if(!Nv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n],c=s.get()||0;s.set(e[n]-bn(a,o,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!rf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ya(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const c=o.get();i[a]=dNe({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),ya(a=>{if(!Nv(a,e,null))return;const o=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];o.set(bn(c,d,i[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;mNe.set(this.visualElement,this);const e=this.visualElement.current,n=up(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps(),p=d.target,y=p!==e&&Y_e(p);f&&m&&!y&&this.start(d)});let r;const i=()=>{const{dragConstraints:d}=this.getProps();rf(d)&&d.current&&(this.constraints=this.resolveRefConstraints(),r||(r=gNe(e,d.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),en.read(i);const o=Gp(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(ya(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=d[m].translate,p.set(p.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),c&&c(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=tC,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function V3(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function gNe(t,e,n){const r=HL(t,V3(n)),i=HL(e,V3(n));return()=>{r(),i()}}function Nv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yNe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vNe extends vc{constructor(e){super(e),this.removeGroupControls=as,this.removeListeners=as,this.controls=new pNe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||as}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const fS=t=>(e,n)=>{t&&en.update(()=>t(e,n),!1,!0)};class xNe extends vc{constructor(){super(...arguments),this.removePointerDownListener=as}onPointerDown(e){this.session=new KH(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WH(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:fS(e),onStart:fS(n),onMove:fS(r),onEnd:(s,a)=>{delete this.session,i&&en.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=up(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let hS=!1;class bNe extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),hS&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),s0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,e.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),hS=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||en.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),RI.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;hS=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XH(t){const[e,n]=LH(),r=E.useContext(dI);return l.jsx(bNe,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(qH),isPresent:e,safeToRemove:n})}const wNe={pan:{Feature:xNe},drag:{Feature:vNe,ProjectionNode:MH,MeasureLayout:XH}};function F3(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&en.postRender(()=>s(e,Lg(e)))}class _Ne extends vc{mount(){const{current:e}=this.node;e&&(this.unmount=W_e(e,(n,r)=>(F3(this.node,r,"Start"),i=>F3(this.node,i,"End"))))}unmount(){}}class ENe extends vc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dg(Gp(this.node.current,"focus",()=>this.onFocus()),Gp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function B3(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&en.postRender(()=>s(e,Lg(e)))}class SNe extends vc{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=J_e(e,(i,s)=>(B3(this.node,s,"Start"),(a,{success:o})=>B3(this.node,a,o?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:r?.tap===!1})}unmount(){}}const nC=new WeakMap,mS=new WeakMap,NNe=t=>{const e=nC.get(t.target);e&&e(t)},TNe=t=>{t.forEach(NNe)};function CNe({root:t,...e}){const n=t||document;mS.has(n)||mS.set(n,{});const r=mS.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(TNe,{root:t,...e})),r[i]}function ANe(t,e,n){const r=CNe(e);return nC.set(t,n),r.observe(t),()=>{nC.delete(t),r.unobserve(t)}}const PNe={some:0,all:1};class INe extends vc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:PNe[i]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),p=d?f:m;p&&p(c)};return ANe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(jNe(e,n))&&this.startObserver()}unmount(){}}function jNe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const kNe={inView:{Feature:INe},tap:{Feature:SNe},focus:{Feature:ENe},hover:{Feature:_Ne}},RNe={layout:{ProjectionNode:MH,MeasureLayout:XH}},DNe={...rNe,...kNe,...wNe,...RNe},Wn=JSe(DNe,ZSe),Tv=[{id:1,label:"Validando dados",duration:1500},{id:2,label:"Gerando nmero da conta",duration:2e3},{id:3,label:"Configurando segurana",duration:1800},{id:4,label:"Finalizando abertura",duration:1500}];function ONe({isOpen:t,countryName:e,onComplete:n}){const[r,i]=E.useState(0),[s,a]=E.useState([]);return E.useEffect(()=>{if(!t){i(0),a([]);return}let o;return(async()=>{for(let d=0;d<Tv.length;d++)i(d),await new Promise(f=>{o=setTimeout(f,Tv[d].duration)}),a(f=>[...f,d]);await new Promise(d=>{o=setTimeout(d,500)}),n()})(),()=>{o&&clearTimeout(o)}},[t,n]),t?vb.createPortal(l.jsx(zI,{children:l.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-6",children:[l.jsx(Wn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/90 backdrop-blur-md"}),l.jsxs(Wn.div,{initial:{opacity:0,scale:.8,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:40},transition:{type:"spring",duration:.5},className:"relative bg-zinc-900/95 backdrop-blur-xl rounded-3xl p-10 w-full max-w-md border border-white/20 shadow-[0_20px_100px_rgba(0,0,0,0.9)]",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-white/20 to-white/5 flex items-center justify-center border border-white/20",children:l.jsx(Wn.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:l.jsx(l0,{className:"w-8 h-8 text-white"})})}),l.jsx("h3",{className:"text-xl text-white mb-2",children:"Abrindo Conta"}),l.jsxs("p",{className:"text-sm text-white/60",children:["Configurando sua conta de ",e]})]}),l.jsx("div",{className:"space-y-4 mb-8",children:Tv.map((o,c)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-all ${r>c?"bg-green-500/20 border-2 border-green-500":r===c?"bg-white/20 border-2 border-white animate-pulse":"bg-white/5 border-2 border-white/20"}`,children:r>c?l.jsx(An,{className:"w-5 h-5 text-green-500"}):l.jsx("span",{className:"text-sm text-white",children:c+1})}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:`text-sm transition-all ${r>c?"text-green-400":r===c?"text-white":"text-white/40"}`,children:o.label})})]},o.id))}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-xs text-white/40",children:[s.length," de ",Tv.length," etapas concludas"]})})]})]})}),document.body):null}const MNe=async(t,e,n,r,i)=>{try{console.log(" Criando chaves PIX automticas para conta BRL...");const s=it(Se,"pixKeys"),a=jt(s,Et("userId","==",t),Et("accountId","==",e));if(!(await Tt(a)).empty){console.log(" Chaves PIX j existem para esta conta");return}await Vi(s,{userId:t,accountId:e,accountNumber:n,currency:"BRL",country:"BR",keyType:"email",keyValue:r,createdAt:new Date}),console.log(" Chave PIX (email) criada:",r),await Vi(s,{userId:t,accountId:e,accountNumber:n,currency:"BRL",country:"BR",keyType:"phone",keyValue:i,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",i)}catch(s){console.error(" Erro ao criar chaves PIX automticas:",s)}},z3=({code:t})=>l.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800",children:l.jsx("img",{src:`https://flagcdn.com/w40/${t.toLowerCase()}.png`,alt:t,className:"w-full h-full object-cover"})});function LNe({onNavigate:t}){const{user:e}=Ft(),[n,r]=E.useState(""),[i,s]=E.useState(!1),[a,o]=E.useState(null),[c,d]=E.useState([]),[f,m]=E.useState(!0),[p,y]=E.useState(!1),[x,b]=E.useState(!1),[_,S]=E.useState(!1),[O,R]=E.useState("");E.useEffect(()=>{if(!e)return;(async()=>{try{const j=it(Se,"bankAccounts"),D=jt(j,Et("userId","==",e.uid)),V=(await Tt(D)).docs.map($=>({...$.data(),id:$.id,createdAt:$.data().createdAt?.toDate()||new Date}));d(V),b(!1)}catch(j){console.error(" Erro ao carregar contas:",j),j?.code==="permission-denied"&&b(!0)}finally{m(!1)}})()},[e]);const P=rv().filter(I=>!c.some(j=>j.country===I.code)).filter(I=>I.name.toLowerCase().includes(n.toLowerCase())||I.code.toLowerCase().includes(n.toLowerCase())||I.currency.toLowerCase().includes(n.toLowerCase())),A=I=>{R(I),S(!0)},N=async()=>{if(!(!e||!O)){S(!1),y(!0);try{const I=it(Se,"bankAccounts"),j=jt(I,Et("userId","==",e.uid),Et("country","==",O));if(!(await Tt(j)).empty){console.log(" Conta j existe para:",O);const Z=rv().find(J=>J.code===O)?.name||O;Me.error("Conta j existe",{description:`Voc j possui uma conta bancria de ${Z}. No  possvel criar mais de uma conta por pas.`,duration:4e3}),r(""),s(!1),y(!1);return}const F=Zz(O),V=await Vi(I,{...F,userId:e.uid,createdAt:new Date}),$={...F,id:V.id,createdAt:new Date};if(d(Z=>[...Z,$]),r(""),s(!1),console.log(" Conta criada com sucesso para:",O),Me.success("Conta criada",{description:`Conta bancria de ${rv().find(Z=>Z.code===O)?.name} criada com sucesso!`,duration:3e3}),O==="BR"){const Z=ct(Se,"users",e.uid),B=(await os(Z)).data();B?.email&&B?.phone?(await MNe(e.uid,V.id,F.accountNumber,B.email,B.phone),console.log(" Chaves PIX criadas automaticamente!"),setTimeout(()=>{Me.success("Chaves PIX criadas!",{description:"Suas chaves PIX (email e telefone) foram configuradas automaticamente.",duration:4e3})},1500)):console.log(" Email ou telefone no encontrado no perfil do usurio")}setTimeout(()=>{t("home")},1e3)}catch(I){console.error(" Erro ao adicionar conta:",I),Me.error("Erro ao criar conta",{description:"No foi possvel criar a conta bancria. Tente novamente.",duration:3e3})}finally{y(!1)}}},T=async I=>{if(!I){Me.error("Erro",{description:"ID da conta no encontrado.",duration:3e3});return}if(window.confirm(`Tem certeza que deseja encerrar esta conta?

Esta ao no pode ser desfeita e voc perder todos os dados desta conta bancria.`))try{await Ru(ct(Se,"bankAccounts",I)),d(D=>D.filter(F=>F.id!==I)),o(null),Me.success("Conta encerrada",{description:"A conta bancria foi encerrada com sucesso.",duration:3e3}),console.log(" Conta deletada com sucesso:",I)}catch(D){console.error(" Erro ao deletar conta:",D),D?.code==="permission-denied"?Me.error(" Regras do Firestore no configuradas",{description:"Voc precisa atualizar as regras do Firestore. Consulte o arquivo /GUIA_FIRESTORE.md para instrues detalhadas.",duration:8e3}):Me.error("Erro ao encerrar conta",{description:"No foi possvel encerrar a conta. Tente novamente.",duration:3e3})}};return a?l.jsx(zwe,{account:a,onBack:()=>o(null),onDelete:T}):l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[l.jsx("header",{className:"sticky top-0 z-20 backdrop-blur-lg bg-black/80 border-b border-white/5",children:l.jsx("div",{className:"px-6 py-4 flex items-center gap-4",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-zinc-900 transition-colors",children:l.jsx(Fx,{className:"w-6 h-6"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl",children:"Contas"}),l.jsx("p",{className:"text-sm text-white/50",children:"Gerencie suas contas bancrias"})]})]})})}),l.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[l.jsx("h1",{className:"text-xl mb-6",children:"Dados da conta"}),f&&l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx("div",{className:"w-8 h-8 border-3 border-zinc-700 border-t-white rounded-full animate-spin"})}),x&&!f&&l.jsx("div",{className:"bg-red-900/20 border border-red-800 rounded-2xl p-4 mb-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(zl,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-red-500 mb-1",children:"Erro de permisso"}),l.jsx("p",{className:"text-sm text-gray-300",children:"Verifique se as regras do Firestore foram configuradas corretamente. Consulte o arquivo /FIRESTORE_RULES.txt"})]})]})}),!f&&c.length>0&&l.jsx("div",{className:"bg-zinc-900 rounded-3xl overflow-hidden mb-6",children:c.map((I,j)=>l.jsxs("div",{children:[l.jsxs("button",{className:"w-full px-4 py-4 flex items-center justify-between hover:bg-zinc-800 transition-colors",onClick:()=>o(I),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(z3,{code:I.flagCode}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-semibold",children:I.countryName}),l.jsx("p",{className:"text-sm text-gray-400",children:I.currency})]})]}),l.jsx(Eo,{className:"w-5 h-5 text-gray-400"})]}),j<c.length-1&&l.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},I.id))}),l.jsx("div",{className:"bg-zinc-900 rounded-3xl overflow-hidden",children:P.map((I,j)=>l.jsxs("div",{children:[l.jsxs("div",{className:"px-4 py-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(z3,{code:I.flag}),l.jsxs("div",{className:"text-left",children:[l.jsx("p",{className:"font-semibold",children:I.name}),l.jsx("p",{className:"text-sm text-gray-400",children:I.currency})]})]}),l.jsx("button",{className:"px-5 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-full text-sm font-semibold transition-colors disabled:opacity-50",onClick:()=>A(I.code),disabled:p,children:p?"Criando...":"Adicionar"})]}),j<P.length-1&&l.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},I.code))})]}),l.jsx(ONe,{isOpen:_,countryName:rv().find(I=>I.code===O)?.name||"",onComplete:N})]})}function VNe({onNavigate:t}){const[e,n]=E.useState(!1),[r,i]=E.useState(!0),{userData:s}=Ft(),{t:a}=fs(),o=[{title:"Autenticao",items:[{icon:Ml,label:"Alterar senha",description:"ltima alterao h 3 meses",action:()=>t("changePassword"),type:"button"},{icon:ts,label:"Autenticao de dois fatores",description:"Adicione uma camada extra de segurana",action:()=>n(!e),type:"toggle",enabled:e}]},{title:"Notificaes de segurana",items:[{icon:Nf,label:"Alertas por e-mail",description:"Receba notificaes de atividades suspeitas",action:()=>i(!r),type:"toggle",enabled:r},{icon:QS,label:"Atividades recentes",description:"Veja dispositivos e acessos recentes",action:()=>{},type:"button"}]},{title:"Privacidade",items:[{icon:fu,label:"Dispositivos conectados",description:"3 dispositivos ativos",action:()=>{},type:"button"},{icon:GK,label:"Sesses ativas",description:"Gerencie suas sesses",action:()=>{},type:"button"}]}];return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[l.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsx(vt,{className:"w-5 h-5 font-light"})}),l.jsx("h1",{className:"text-xl",children:a.security})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[l.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Tf,{className:"w-5 h-5 text-green-500 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"mb-1",children:a.yourAccountProtected}),l.jsx("p",{className:"text-sm text-gray-400",children:a.keepInfoSecure})]})]})}),l.jsx("div",{className:"space-y-6",children:o.map((c,d)=>l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs text-gray-400 mb-2 px-1",children:c.title}),l.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl overflow-hidden shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:c.items.map((f,m)=>{const p=f.icon;return l.jsxs("div",{children:[l.jsxs("button",{onClick:f.action,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/10 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[l.jsx(p,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("div",{className:"text-white",children:f.label}),l.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:f.description})]})]}),f.type==="toggle"?l.jsx("div",{className:`w - 12 h - 6 rounded - full transition - colors ${f.enabled?"bg-green-500":"bg-zinc-700"} `,children:l.jsx("div",{className:`w - 5 h - 5 bg - white rounded - full mt - 0.5 transition - transform ${f.enabled?"translate-x-6":"translate-x-0.5"} `})}):l.jsx(Eo,{className:"w-5 h-5 text-gray-400"})]}),m<c.items.length-1&&l.jsx("div",{className:"h-px bg-white/10 mx-4"})]},f.label)})})]},d))}),l.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[l.jsxs("h4",{className:"mb-2 flex items-center gap-2",children:[l.jsx(Tf,{className:"w-4 h-4 text-green-500"}),"Dicas de segurana"]}),l.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-green-500 mt-0.5",children:""}),l.jsx("span",{children:"Use uma senha forte e nica"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-green-500 mt-0.5",children:""}),l.jsx("span",{children:"Ative a autenticao de dois fatores"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-green-500 mt-0.5",children:""}),l.jsx("span",{children:"Nunca compartilhe suas credenciais"})]})]})]})]})]})}function FNe({onNavigate:t}){const[e,n]=E.useState(""),[r,i]=E.useState(""),[s,a]=E.useState(""),[o,c]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(!1),[y,x]=E.useState(!1),[b,_]=E.useState(""),[S,O]=E.useState(!1),z=(N=>({length:N.length>=8,uppercase:/[A-Z]/.test(N),lowercase:/[a-z]/.test(N),number:/[0-9]/.test(N),special:/[!@#$%^&*(),.?":{}|<>]/.test(N)}))(r),P=Object.values(z).every(Boolean),A=async()=>{if(!e||!r||!s){_("Preencha todos os campos");return}if(r!==s){_("As senhas no coincidem");return}if(!P){_("A nova senha no atende aos requisitos de segurana");return}if(r===e){_("A nova senha deve ser diferente da senha atual");return}x(!0),_("");try{const N=xn.currentUser;if(!N||!N.email)throw new Error("Usurio no autenticado");const T=Qu.credential(N.email,e);await Cte(N,T),await Rz(N,r),O(!0),n(""),i(""),a(""),setTimeout(()=>{t("security")},2e3)}catch(N){console.error("Erro ao alterar senha:",N),N.code==="auth/wrong-password"?_("Senha atual incorreta"):N.code==="auth/weak-password"?_("A nova senha  muito fraca"):N.code==="auth/requires-recent-login"?_("Por segurana, faa login novamente antes de alterar a senha"):N.code==="auth/network-request-failed"?_("Erro de conexo. Verifique sua internet"):_("Erro ao alterar senha. Tente novamente")}finally{x(!1)}};return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[l.jsx("button",{onClick:()=>t("security"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsx(vt,{className:"w-5 h-5 font-light"})}),l.jsx("h1",{className:"text-xl",children:"Alterar senha"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[S&&l.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(An,{className:"w-5 h-5 text-green-500 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-green-500 mb-1",children:"Senha alterada com sucesso!"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Redirecionando..."})]})]})}),b&&l.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(zl,{className:"w-5 h-5 text-red-500 mt-0.5"}),l.jsx("div",{className:"flex-1",children:l.jsx("p",{className:"text-sm text-red-400",children:b})})]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Senha atual"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:l.jsx(Ml,{className:"w-5 h-5 text-gray-400"})}),l.jsx("input",{type:o?"text":"password",value:e,onChange:N=>n(N.target.value),placeholder:"Digite sua senha atual",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||S}),l.jsx("button",{type:"button",onClick:()=>c(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||S,children:o?l.jsx(mf,{className:"w-5 h-5"}):l.jsx(fu,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Nova senha"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:l.jsx(Ml,{className:"w-5 h-5 text-gray-400"})}),l.jsx("input",{type:d?"text":"password",value:r,onChange:N=>i(N.target.value),placeholder:"Digite sua nova senha",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||S}),l.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||S,children:d?l.jsx(mf,{className:"w-5 h-5"}):l.jsx(fu,{className:"w-5 h-5"})})]}),r&&l.jsxs("div",{className:"mt-3 p-3 bg-white/5 backdrop-blur-md border border-white/10 rounded-xl",children:[l.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Requisitos da senha:"}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.length?"text-green-500":"text-gray-500"}`,children:[l.jsx(An,{className:"w-3 h-3"}),"Mnimo de 8 caracteres"]}),l.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.uppercase?"text-green-500":"text-gray-500"}`,children:[l.jsx(An,{className:"w-3 h-3"}),"Letra maiscula (A-Z)"]}),l.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.lowercase?"text-green-500":"text-gray-500"}`,children:[l.jsx(An,{className:"w-3 h-3"}),"Letra minscula (a-z)"]}),l.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.number?"text-green-500":"text-gray-500"}`,children:[l.jsx(An,{className:"w-3 h-3"}),"Nmero (0-9)"]}),l.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.special?"text-green-500":"text-gray-500"}`,children:[l.jsx(An,{className:"w-3 h-3"}),"Caractere especial (!@#$%...)"]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Confirmar nova senha"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:l.jsx(Ml,{className:"w-5 h-5 text-gray-400"})}),l.jsx("input",{type:m?"text":"password",value:s,onChange:N=>a(N.target.value),placeholder:"Confirme sua nova senha",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||S}),l.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||S,children:m?l.jsx(mf,{className:"w-5 h-5"}):l.jsx(fu,{className:"w-5 h-5"})})]}),s&&r!==s&&l.jsx("p",{className:"text-xs text-red-400 mt-2",children:"As senhas no coincidem"})]}),l.jsx("button",{onClick:A,disabled:y||S||!e||!r||!s||!P||r!==s,className:"w-full bg-white text-black py-4 rounded-2xl disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 transition-colors active:scale-95",children:y?"Alterando senha...":"Alterar senha"})]}),l.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl",children:[l.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm",children:[l.jsx(Ml,{className:"w-4 h-4 text-gray-400"}),"Dicas de segurana"]}),l.jsxs("ul",{className:"space-y-2 text-xs text-gray-400",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),l.jsx("span",{children:"Nunca compartilhe sua senha com ningum"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),l.jsx("span",{children:"Use uma senha nica para cada servio"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),l.jsx("span",{children:"Considere usar um gerenciador de senhas"})]})]})]})]})]})}function Nr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function BNe(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Cv=43200,U3=1440;let zNe={};function UNe(){return zNe}function $3(t){const e=Nr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function a0(t,e){const n=Nr(t),r=Nr(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function $Ne(t){return BNe(t,Date.now())}function qNe(t,e){const n=Nr(t),r=Nr(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function HNe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function WNe(t,e){return+Nr(t)-+Nr(e)}function KNe(t){const e=Nr(t);return e.setHours(23,59,59,999),e}function GNe(t){const e=Nr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function XNe(t){const e=Nr(t);return+KNe(e)==+GNe(e)}function YNe(t,e){const n=Nr(t),r=Nr(e),i=a0(n,r),s=Math.abs(qNe(n,r));let a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let o=a0(n,r)===-i;XNe(Nr(t))&&s===1&&a0(t,r)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function QNe(t,e,n){const r=WNe(t,e)/1e3;return HNe(n?.roundingMethod)(r)}const JNe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ZNe=(t,e,n)=>{let r;const i=JNe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Sf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const eTe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},tTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nTe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rTe={date:Sf({formats:eTe,defaultWidth:"full"}),time:Sf({formats:tTe,defaultWidth:"full"}),dateTime:Sf({formats:nTe,defaultWidth:"full"})},iTe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sTe=(t,e,n,r)=>iTe[t];function _a(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const aTe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},oTe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},lTe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},cTe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},dTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fTe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hTe={ordinalNumber:fTe,era:_a({values:aTe,defaultWidth:"wide"}),quarter:_a({values:oTe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_a({values:lTe,defaultWidth:"wide"}),day:_a({values:cTe,defaultWidth:"wide"}),dayPeriod:_a({values:uTe,defaultWidth:"wide",formattingValues:dTe,defaultFormattingWidth:"wide"})};function Ea(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(o)?pTe(o,m=>m.test(a)):mTe(o,m=>m.test(a));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(a.length);return{value:d,rest:f}}}function mTe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function pTe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function YH(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const gTe=/^(\d+)(th|st|nd|rd)?/i,yTe=/\d+/i,vTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xTe={any:[/^b/i,/^(a|c)/i]},bTe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wTe={any:[/1/i,/2/i,/3/i,/4/i]},_Te={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ETe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},STe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},NTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},TTe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},CTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ATe={ordinalNumber:YH({matchPattern:gTe,parsePattern:yTe,valueCallback:t=>parseInt(t,10)}),era:Ea({matchPatterns:vTe,defaultMatchWidth:"wide",parsePatterns:xTe,defaultParseWidth:"any"}),quarter:Ea({matchPatterns:bTe,defaultMatchWidth:"wide",parsePatterns:wTe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ea({matchPatterns:_Te,defaultMatchWidth:"wide",parsePatterns:ETe,defaultParseWidth:"any"}),day:Ea({matchPatterns:STe,defaultMatchWidth:"wide",parsePatterns:NTe,defaultParseWidth:"any"}),dayPeriod:Ea({matchPatterns:TTe,defaultMatchWidth:"any",parsePatterns:CTe,defaultParseWidth:"any"})},PTe={code:"en-US",formatDistance:ZNe,formatLong:rTe,formatRelative:sTe,localize:hTe,match:ATe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function ITe(t,e,n){const r=UNe(),i=n?.locale??r.locale??PTe,s=2520,a=a0(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:a});let c,d;a>0?(c=Nr(e),d=Nr(t)):(c=Nr(t),d=Nr(e));const f=QNe(d,c),m=($3(d)-$3(c))/1e3,p=Math.round((f-m)/60);let y;if(p<2)return n?.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,o):f<10?i.formatDistance("lessThanXSeconds",10,o):f<20?i.formatDistance("lessThanXSeconds",20,o):f<40?i.formatDistance("halfAMinute",0,o):f<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):p===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",p,o);if(p<45)return i.formatDistance("xMinutes",p,o);if(p<90)return i.formatDistance("aboutXHours",1,o);if(p<U3){const x=Math.round(p/60);return i.formatDistance("aboutXHours",x,o)}else{if(p<s)return i.formatDistance("xDays",1,o);if(p<Cv){const x=Math.round(p/U3);return i.formatDistance("xDays",x,o)}else if(p<Cv*2)return y=Math.round(p/Cv),i.formatDistance("aboutXMonths",y,o)}if(y=YNe(d,c),y<12){const x=Math.round(p/Cv);return i.formatDistance("xMonths",x,o)}else{const x=y%12,b=Math.trunc(y/12);return x<3?i.formatDistance("aboutXYears",b,o):x<9?i.formatDistance("overXYears",b,o):i.formatDistance("almostXYears",b+1,o)}}function jTe(t,e){return ITe(t,$Ne(t),e)}const kTe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},RTe=(t,e,n)=>{let r;const i=kTe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},DTe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},OTe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},MTe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},LTe={date:Sf({formats:DTe,defaultWidth:"full"}),time:Sf({formats:OTe,defaultWidth:"full"}),dateTime:Sf({formats:MTe,defaultWidth:"full"})},VTe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},FTe=(t,e,n,r)=>{const i=VTe[t];return typeof i=="function"?i(e):i},BTe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},zTe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},UTe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},$Te={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},qTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},HTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},WTe=(t,e)=>{const n=Number(t);return e?.unit==="week"?n+"":n+""},KTe={ordinalNumber:WTe,era:_a({values:BTe,defaultWidth:"wide"}),quarter:_a({values:zTe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_a({values:UTe,defaultWidth:"wide"}),day:_a({values:$Te,defaultWidth:"wide"}),dayPeriod:_a({values:qTe,defaultWidth:"wide",formattingValues:HTe,defaultFormattingWidth:"wide"})},GTe=/^(\d+)[o]?/i,XTe=/\d+/i,YTe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},QTe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},JTe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},ZTe={any:[/1/i,/2/i,/3/i,/4/i]},eCe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},tCe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},nCe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},rCe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},iCe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},sCe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},aCe={ordinalNumber:YH({matchPattern:GTe,parsePattern:XTe,valueCallback:t=>parseInt(t,10)}),era:Ea({matchPatterns:YTe,defaultMatchWidth:"wide",parsePatterns:QTe,defaultParseWidth:"any"}),quarter:Ea({matchPatterns:JTe,defaultMatchWidth:"wide",parsePatterns:ZTe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ea({matchPatterns:eCe,defaultMatchWidth:"wide",parsePatterns:tCe,defaultParseWidth:"any"}),day:Ea({matchPatterns:nCe,defaultMatchWidth:"wide",parsePatterns:rCe,defaultParseWidth:"any"}),dayPeriod:Ea({matchPatterns:iCe,defaultMatchWidth:"any",parsePatterns:sCe,defaultParseWidth:"any"})},oCe={code:"pt-BR",formatDistance:RTe,formatLong:LTe,formatRelative:FTe,localize:KTe,match:aCe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lCe({onNavigate:t}){const{user:e}=Ft(),[n,r]=E.useState("all"),[i,s]=E.useState([]),[a,o]=E.useState(!0);E.useEffect(()=>{c()},[e]);const c=async()=>{if(e)try{o(!0);const b=await kwe(e.uid);s(b)}catch(b){console.error("Error loading notifications:",b)}finally{o(!1)}},d=(b,_)=>b==="transaction"?_?.type==="deposit"?is:_?.type==="withdrawal"?_u:_?.type==="conversion"?$V:is:b==="security"?Tf:b==="alert"?zl:b==="info"?Bx:Km,f=[{label:"Todas",value:"all"},{label:"Transaes",value:"transactions"},{label:"Segurana",value:"security"},{label:"Atualizaes",value:"updates"}],m=i.filter(b=>n==="all"?!0:n==="transactions"?b.type==="transaction":n==="security"?b.type==="security":n==="updates"?b.type==="info"||b.type==="alert":!0),p=i.filter(b=>!b.read).length,y=async b=>{try{await Rwe(b),s(i.map(_=>_.id===b?{..._,read:!0}:_))}catch(_){console.error("Error marking notification as read:",_)}},x=async()=>{if(e)try{await Dwe(e.uid),s(i.map(b=>({...b,read:!0})))}catch(b){console.error("Error marking all notifications as read:",b)}};return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold",children:"Notificaes"}),p>0&&l.jsxs("p",{className:"text-xs text-gray-400",children:[p," no lida",p>1?"s":""]})]})]}),p>0&&l.jsx("button",{onClick:x,className:"text-sm text-white/70 hover:text-white transition-colors",children:"Marcar todas"})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar snap-x snap-mandatory",children:f.map(b=>l.jsx("button",{onClick:()=>r(b.value),className:`px-4 py-2 rounded-full whitespace-nowrap transition-colors snap-start flex-shrink-0 ${n===b.value?"bg-white text-black":"bg-zinc-900 text-gray-400 hover:bg-zinc-800"}`,children:b.label},b.value))})]}),l.jsx("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:a?l.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-900 flex items-center justify-center mb-4",children:l.jsx(Km,{className:"w-8 h-8 text-gray-600"})}),l.jsx("h3",{className:"font-semibold mb-2",children:"Carregando..."}),l.jsx("p",{className:"text-sm text-gray-400 text-center",children:"Aguarde enquanto carregamos suas notificaes"})]}):m.length===0?l.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-900 flex items-center justify-center mb-4",children:l.jsx(Km,{className:"w-8 h-8 text-gray-600"})}),l.jsx("h3",{className:"font-semibold mb-2",children:"Nenhuma notificao"}),l.jsx("p",{className:"text-sm text-gray-400 text-center",children:"Voc no tem notificaes nesta categoria"})]}):l.jsx("div",{className:"space-y-2",children:m.map(b=>{const _=d(b.type,b.metadata),S=b.read?"text-white/70":"text-white";return l.jsx("button",{onClick:()=>y(b.id),className:`w-full p-4 rounded-2xl transition-colors text-left ${b.read?"bg-zinc-900/50 hover:bg-zinc-900":"bg-zinc-900 hover:bg-zinc-800"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center flex-shrink-0",children:l.jsx(_,{className:`w-5 h-5 ${S}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[l.jsx("h3",{className:`font-semibold ${b.read?"text-gray-300":"text-white"}`,children:b.title}),!b.read&&l.jsx("div",{className:"w-2 h-2 rounded-full bg-white flex-shrink-0 mt-1.5"})]}),l.jsx("p",{className:"text-sm text-gray-400 mb-1",children:b.message}),l.jsx("p",{className:"text-xs text-gray-500",children:jTe(new Date(b.timestamp),{locale:oCe,addSuffix:!0})})]})]})},b.id)})})}),l.jsx("div",{className:"px-6 pb-6 space-y-3",children:l.jsxs("button",{onClick:()=>t("pushSettings"),className:"w-full py-3 rounded-2xl bg-zinc-900 hover:bg-zinc-800 transition-colors text-sm flex items-center justify-center gap-2",children:[l.jsx(ts,{className:"w-4 h-4"}),l.jsx("span",{children:"Configuraes de notificaes push"})]})})]})}function cCe({onNavigate:t}){const[e,n]=E.useState(!0),[r,i]=E.useState(!0),[s,a]=E.useState(!0),[o,c]=E.useState(!0),[d,f]=E.useState(!0),[m,p]=E.useState(!0),[y,x]=E.useState(!0),[b,_]=E.useState(!1),[S,O]=E.useState(!1),R=[{title:"Geral",items:[{icon:Km,label:"Ativar notificaes push",description:"Receber todas as notificaes no dispositivo",value:e,onChange:n,main:!0}]},{title:"Transaes",items:[{icon:is,label:"Todas as transaes",description:"Notificaes de todas as movimentaes",value:r,onChange:i,disabled:!e},{icon:is,label:"Depsitos",description:"Quando voc receber fundos",value:s,onChange:a,disabled:!e||!r,nested:!0},{icon:_u,label:"Saques",description:"Quando processar uma retirada",value:o,onChange:c,disabled:!e||!r,nested:!0}]},{title:"Segurana",items:[{icon:Tf,label:"Alertas de segurana",description:"Todas as notificaes de segurana",value:d,onChange:f,disabled:!e},{icon:ts,label:"Novos dispositivos",description:"Login em um novo dispositivo",value:m,onChange:p,disabled:!e||!d,nested:!0},{icon:zl,label:"Atividades suspeitas",description:"Tentativas de acesso no autorizadas",value:y,onChange:x,disabled:!e||!d,nested:!0}]},{title:"Mercado",items:[{icon:WK,label:"Alertas de preo",description:"Quando seus ativos atingirem metas",value:b,onChange:_,disabled:!e},{icon:Nf,label:"Notcias do mercado",description:"Atualizaes importantes do mercado",value:S,onChange:O,disabled:!e}]}];return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[l.jsx("header",{className:"px-6 pt-6 pb-4",children:l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:()=>t("notifications"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold",children:"Notificaes push"})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[l.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mb-6",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(ts,{className:"w-5 h-5 text-white/70 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold mb-1",children:"Mantenha-se informado"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Personalize suas notificaes para receber apenas as informaes mais importantes"})]})]})}),l.jsx("div",{className:"space-y-6",children:R.map((z,P)=>l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs text-gray-400 font-semibold mb-2 px-1",children:z.title}),l.jsx("div",{className:"bg-zinc-900 rounded-2xl overflow-hidden",children:z.items.map((A,N)=>{const T=A.icon,I=A.disabled||!1;return l.jsxs("div",{children:[l.jsx("div",{className:`px-4 py-3 ${A.nested?"pl-12":""} ${I?"opacity-50":""}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[l.jsx(T,{className:"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:A.label}),l.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:A.description})]})]}),l.jsx("button",{onClick:()=>!I&&A.onChange(!A.value),disabled:I,className:`w-12 h-6 rounded-full transition-colors flex-shrink-0 ml-3 ${I?"cursor-not-allowed":""} ${A.value&&!I?"bg-white/20":"bg-zinc-700"}`,children:l.jsx("div",{className:`w-5 h-5 bg-white rounded-full mt-0.5 transition-transform ${A.value?"translate-x-6":"translate-x-0.5"}`})})]})}),N<z.items.length-1&&l.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},A.label)})})]},P))}),l.jsx("div",{className:"mt-6 p-4 bg-zinc-900 rounded-2xl",children:l.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[l.jsx("strong",{className:"text-white",children:"Dica:"})," Algumas notificaes de segurana no podem ser desativadas para manter sua conta protegida."]})})]})]})}function uCe({onNavigate:t}){const[e,n]=E.useState("options"),[r,i]=E.useState(""),[s,a]=E.useState(""),[o,c]=E.useState(""),[d,f]=E.useState([]),[m,p]=E.useState(3),[y,x]=E.useState(null),[b,_]=E.useState(!1),S=E.useRef(null);E.useEffect(()=>{S.current?.scrollIntoView({behavior:"smooth"})},[d,b]);const O=[{question:"Como fazer um depsito?",answer:'Para fazer um depsito, v at a aba "Carteira", selecione a criptomoeda desejada e clique em "Depositar". Voc receber um endereo nico para enviar seus fundos. Certifique-se de usar a rede correta para evitar perda de fundos.'},{question:"Como sacar criptomoedas?",answer:'Na aba "Carteira", selecione a moeda que deseja sacar e clique em "Sacar". Insira o endereo de destino, escolha a rede blockchain e o valor. Confirme a transao com seu cdigo de segurana. O processamento pode levar de alguns minutos a horas dependendo da rede.'},{question:"Taxas de transao",answer:"As taxas variam de acordo com a criptomoeda e a rede blockchain utilizada. Depsitos so gratuitos. Para saques, as taxas so dinmicas e baseadas no congestionamento da rede. Voc sempre ver a taxa exata antes de confirmar qualquer transao."},{question:"Segurana da conta",answer:"Sua segurana  nossa prioridade. Recomendamos ativar a autenticao de dois fatores (2FA), usar senha forte e nica, e nunca compartilhar suas credenciais. Todas as transaes exigem confirmao adicional e seus fundos so protegidos com criptografia de nvel bancrio."}],R=()=>{r&&s&&(alert("E-mail enviado com sucesso! Nossa equipe responder em breve."),i(""),a(""),n("options"))},z=()=>{n("waiting"),setTimeout(()=>{p(2)},3e3),setTimeout(()=>{p(1)},6e3),setTimeout(()=>{f([{sender:"system",text:"Voc foi conectado com um agente",time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})},{sender:"agent",text:"Ol! Sou o agente Carlos. Como posso ajud-lo hoje?",time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}]),n("chatActive")},9e3)},P=()=>{if(o.trim()){const j={sender:"user",text:o,time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};f([...d,j]),c(""),_(!0),setTimeout(()=>{const D={sender:"agent",text:"Entendi sua questo. Vou verificar isso para voc.",time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};f(F=>[...F,D]),_(!1)},4e3)}},A=()=>l.jsxs("div",{className:"px-6 space-y-4",children:[l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("h2",{className:"font-semibold mb-2",children:"Como podemos ajudar?"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Escolha a melhor forma de entrar em contato com nossa equipe de suporte"})]}),l.jsx("button",{onClick:()=>n("email"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:l.jsx(Nf,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold mb-1",children:"Enviar e-mail"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Envie sua dvida por e-mail e receba resposta em at 24 horas"})]})]})}),l.jsx("button",{onClick:z,className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:l.jsx(QK,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold mb-1",children:"Chat ao vivo"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Converse com um agente em tempo real"}),l.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),l.jsx("span",{className:"text-xs text-green-500",children:"Disponvel agora"})]})]})]})}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("h3",{className:"font-semibold mb-3 text-sm",children:"Perguntas frequentes"}),l.jsx("div",{className:"space-y-2",children:O.map((j,D)=>l.jsxs("div",{children:[l.jsx("button",{onClick:()=>x(y===D?null:D),className:"w-full text-left text-sm text-gray-400 hover:text-white transition-colors py-2",children:j.question}),y===D&&l.jsx("div",{className:"mt-2 mb-2 bg-black rounded-xl p-3",children:l.jsx("p",{className:"text-xs text-gray-400",children:j.answer})})]},D))})]})]}),N=()=>l.jsxs("div",{className:"px-6 space-y-4",children:[l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("h2",{className:"font-semibold mb-2",children:"Enviar e-mail"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Preencha os campos abaixo e nossa equipe responder em breve"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Assunto"}),l.jsx("input",{type:"text",value:r,onChange:j=>i(j.target.value),placeholder:"Digite o assunto",className:"w-full bg-zinc-900 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Mensagem"}),l.jsx("textarea",{value:s,onChange:j=>a(j.target.value),placeholder:"Descreva sua dvida ou problema",rows:6,className:"w-full bg-zinc-900 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>n("options"),className:"flex-1 py-3 rounded-xl bg-zinc-900 hover:bg-zinc-800 transition-colors",children:"Cancelar"}),l.jsx("button",{onClick:R,disabled:!r||!s,className:"flex-1 py-3 rounded-xl bg-green-500 hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Enviar"})]})]})]}),T=()=>l.jsx("div",{className:"px-6",children:l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4",children:l.jsx(dp,{className:"w-8 h-8 text-green-500 animate-pulse"})}),l.jsx("h2",{className:"font-semibold mb-2",children:"Aguardando atendimento"}),l.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Voc est na fila. Em breve um agente estar disponvel."}),l.jsxs("div",{className:"bg-black rounded-xl p-4 mb-4",children:[l.jsx("div",{className:"text-3xl font-bold text-green-500 mb-1",children:m}),l.jsx("div",{className:"text-xs text-gray-400",children:"pessoas  sua frente"})]}),l.jsx("button",{onClick:()=>n("options"),className:"w-full py-3 rounded-xl bg-zinc-800 hover:bg-zinc-700 transition-colors",children:"Cancelar"})]})}),I=()=>l.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)]",children:[l.jsx("div",{className:"px-6 pb-4 bg-zinc-900 flex-shrink-0",children:l.jsxs("div",{className:"flex items-center gap-3 py-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center",children:l.jsx(oC,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-semibold text-sm",children:"Agente Carlos"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),l.jsx("span",{className:"text-xs text-gray-400",children:"Online"})]})]})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4 hide-scrollbar min-h-0",children:[d.map((j,D)=>l.jsx("div",{children:j.sender==="system"?l.jsx("div",{className:"text-center",children:l.jsx("span",{className:"text-xs text-gray-500 bg-zinc-900 px-3 py-1 rounded-full",children:j.text})}):l.jsx("div",{className:`flex ${j.sender==="user"?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`max-w-[75%] ${j.sender==="user"?"bg-white text-black":"bg-zinc-900"} rounded-2xl px-4 py-2.5`,children:[l.jsx("p",{className:"text-xs",children:j.text}),l.jsx("span",{className:"text-[10px] opacity-70 mt-1 block",children:j.time})]})})},D)),b&&l.jsx("div",{className:"flex justify-start",children:l.jsxs("div",{className:"max-w-[75%] bg-zinc-900 rounded-2xl px-4 py-3 flex items-center gap-1",children:[l.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms",animationDuration:"1s"}}),l.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms",animationDuration:"1s"}}),l.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms",animationDuration:"1s"}})]})}),l.jsx("div",{ref:S})]}),l.jsx("div",{className:"px-6 pb-6 pt-4 border-t border-zinc-900 flex-shrink-0",children:l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:o,onChange:j=>c(j.target.value),onKeyPress:j=>j.key==="Enter"&&P(),placeholder:"Digite sua mensagem...",className:"flex-1 bg-zinc-900 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-500"}),l.jsx("button",{onClick:P,disabled:!o.trim(),className:"w-12 h-12 rounded-xl bg-white hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:l.jsx(rG,{className:"w-5 h-5 text-black"})})]})})]});return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[l.jsx("header",{className:"px-6 pt-6 pb-4",children:l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:()=>e==="options"?t("profile"):n("options"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold",children:"Central de Ajuda"})]})}),l.jsxs("div",{className:"flex-1 pb-24",children:[e==="options"&&A(),e==="email"&&N(),e==="waiting"&&T(),e==="chatActive"&&I()]})]})}function dCe({onNavigate:t}){return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx("header",{className:"px-6 pt-6 pb-4 sticky top-0 bg-black z-10",children:l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold",children:"Termos de Uso"})]})}),l.jsxs("div",{className:"px-6 pb-24 space-y-6",children:[l.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:l.jsx("p",{className:"text-xs text-gray-400",children:"ltima atualizao: 26 de janeiro de 2026"})}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"1. Aceitao dos Termos"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Ao acessar e usar o NexCoin, voc concorda em cumprir estes Termos de Uso. Se voc no concordar com qualquer parte destes termos, no dever usar nossos servios."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"2. Elegibilidade"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Voc deve ter pelo menos 18 anos de idade para usar o NexCoin. Ao criar uma conta, voc declara e garante que tem capacidade legal para celebrar este contrato."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"3. Conta e Segurana"}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[l.jsx("p",{className:"leading-relaxed",children:" Voc  responsvel por manter a confidencialidade de suas credenciais de login"}),l.jsx("p",{className:"leading-relaxed",children:" Voc deve notificar imediatamente sobre qualquer uso no autorizado de sua conta"}),l.jsx("p",{className:"leading-relaxed",children:" O NexCoin no ser responsvel por perdas decorrentes do uso no autorizado de sua conta"})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"4. Uso da Plataforma"}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[l.jsxs("p",{className:"leading-relaxed",children:[l.jsx("strong",{className:"text-white",children:"Uso Permitido:"})," O NexCoin  uma plataforma para negociao de criptomoedas. Voc concorda em usar a plataforma apenas para fins legais."]}),l.jsxs("p",{className:"leading-relaxed",children:[l.jsx("strong",{className:"text-white",children:"Uso Proibido:"}),"  proibido usar a plataforma para lavagem de dinheiro, financiamento de terrorismo, fraude ou qualquer atividade ilegal."]})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"5. Transaes e Taxas"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Todas as transaes realizadas atravs do NexCoin esto sujeitas a taxas de rede. As taxas so claramente exibidas antes da confirmao de qualquer transao. Uma vez confirmada, a transao  irreversvel."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"6. Riscos de Criptomoedas"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Voc reconhece que o mercado de criptomoedas  voltil e que o valor dos seus ativos pode flutuar significativamente. O NexCoin no garante lucros e voc  responsvel por suas decises de investimento."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"7. Limitao de Responsabilidade"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"O NexCoin no ser responsvel por perdas diretas, indiretas, incidentais ou consequenciais resultantes do uso ou incapacidade de usar nossos servios, incluindo perda de fundos, dados ou lucros."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"8. Suspenso e Encerramento"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Reservamo-nos o direito de suspender ou encerrar sua conta a qualquer momento, sem aviso prvio, se acreditarmos que voc violou estes termos ou se envolveu em atividades fraudulentas."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"9. Modificaes dos Termos"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Podemos modificar estes termos a qualquer momento. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. O uso continuado da plataforma aps as modificaes constitui aceitao dos novos termos."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"10. Lei Aplicvel"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Estes termos so regidos pelas leis aplicveis em sua jurisdio. Qualquer disputa ser resolvida nos tribunais competentes."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"11. Contato"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Se voc tiver dvidas sobre estes Termos de Uso, entre em contato conosco atravs da Central de Ajuda."})]}),l.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-8",children:l.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Ao usar o NexCoin, voc concorda com estes Termos de Uso"})})]})]})}function fCe({onNavigate:t}){return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx("header",{className:"px-6 pt-6 pb-4 sticky top-0 bg-black z-10",children:l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold",children:"Poltica de Privacidade"})]})}),l.jsxs("div",{className:"px-6 pb-24 space-y-6",children:[l.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:l.jsx("p",{className:"text-xs text-gray-400",children:"ltima atualizao: 26 de janeiro de 2026"})}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"1. Introduo"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"O NexCoin valoriza sua privacidade. Esta Poltica de Privacidade descreve como coletamos, usamos, armazenamos e protegemos suas informaes pessoais quando voc usa nossos servios."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"2. Informaes que Coletamos"}),l.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-white mb-1",children:"2.1 Informaes de Cadastro:"}),l.jsx("p",{className:"leading-relaxed",children:" Nome completo, e-mail, nmero de telefone, pas de residncia"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-white mb-1",children:"2.2 Informaes de Transao:"}),l.jsx("p",{className:"leading-relaxed",children:" Histrico de transaes, endereos de carteiras, valores negociados"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-white mb-1",children:"2.3 Informaes Tcnicas:"}),l.jsx("p",{className:"leading-relaxed",children:" Endereo IP, tipo de dispositivo, sistema operacional, logs de acesso"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-white mb-1",children:"2.4 Informaes de Verificao:"}),l.jsx("p",{className:"leading-relaxed",children:" Documentos de identificao para conformidade KYC (Know Your Customer)"})]})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"3. Como Usamos suas Informaes"}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[l.jsx("p",{className:"leading-relaxed",children:" Fornecer e melhorar nossos servios de negociao de criptomoedas"}),l.jsx("p",{className:"leading-relaxed",children:" Processar transaes e garantir a segurana da sua conta"}),l.jsx("p",{className:"leading-relaxed",children:" Cumprir requisitos legais e regulatrios (AML/KYC)"}),l.jsx("p",{className:"leading-relaxed",children:" Comunicar sobre atualizaes, manutenes e questes de segurana"}),l.jsx("p",{className:"leading-relaxed",children:" Prevenir fraudes e atividades suspeitas"}),l.jsx("p",{className:"leading-relaxed",children:" Personalizar sua experincia no aplicativo"})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"4. Compartilhamento de Informaes"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"No vendemos suas informaes pessoais. Podemos compartilhar seus dados apenas nas seguintes situaes:"}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[l.jsx("p",{className:"leading-relaxed",children:" Com provedores de servios terceirizados essenciais para operao da plataforma"}),l.jsx("p",{className:"leading-relaxed",children:" Quando exigido por lei, ordem judicial ou autoridades regulatrias"}),l.jsx("p",{className:"leading-relaxed",children:" Para proteger nossos direitos legais e prevenir fraudes"}),l.jsx("p",{className:"leading-relaxed",children:" Com seu consentimento explcito"})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"5. Segurana dos Dados"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Implementamos medidas de segurana robustas para proteger suas informaes:"}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[l.jsx("p",{className:"leading-relaxed",children:" Criptografia de ponta a ponta para dados sensveis"}),l.jsx("p",{className:"leading-relaxed",children:" Autenticao de dois fatores (2FA)"}),l.jsx("p",{className:"leading-relaxed",children:" Armazenamento seguro em servidores com certificao de segurana"}),l.jsx("p",{className:"leading-relaxed",children:" Monitoramento contnuo contra acessos no autorizados"}),l.jsx("p",{className:"leading-relaxed",children:" Auditorias de segurana regulares"})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"6. Reteno de Dados"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Mantemos suas informaes pessoais pelo tempo necessrio para fornecer nossos servios e cumprir obrigaes legais. Dados de transaes so mantidos conforme exigido por regulamentaes financeiras."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"7. Seus Direitos"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Voc tem os seguintes direitos em relao s suas informaes pessoais:"}),l.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[l.jsx("p",{className:"leading-relaxed",children:" Acessar e revisar suas informaes pessoais"}),l.jsx("p",{className:"leading-relaxed",children:" Solicitar correo de dados incorretos"}),l.jsx("p",{className:"leading-relaxed",children:" Solicitar excluso de dados (sujeito a obrigaes legais)"}),l.jsx("p",{className:"leading-relaxed",children:" Optar por no receber comunicaes de marketing"}),l.jsx("p",{className:"leading-relaxed",children:" Portabilidade de dados"})]})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"8. Cookies e Rastreamento"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Usamos cookies e tecnologias similares para melhorar sua experincia, analisar o uso da plataforma e personalizar contedo. Voc pode gerenciar suas preferncias de cookies nas configuraes do aplicativo."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"9. Transferncias Internacionais"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Seus dados podem ser transferidos e processados em pases diferentes do seu pas de residncia. Garantimos que todas as transferncias cumpram as leis de proteo de dados aplicveis."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"10. Menores de Idade"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Nossos servios no so destinados a menores de 18 anos. No coletamos intencionalmente informaes de menores. Se voc acredita que coletamos dados de um menor, entre em contato conosco imediatamente."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"11. Alteraes na Poltica"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. Recomendamos revisar esta poltica regularmente."})]}),l.jsxs("section",{className:"space-y-3",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"12. Contato"}),l.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Se voc tiver dvidas sobre esta Poltica de Privacidade ou sobre como tratamos seus dados, entre em contato atravs da Central de Ajuda ou envie um e-mail para privacy@nexcoin.com."})]}),l.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-8",children:l.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Ao usar o NexCoin, voc concorda com esta Poltica de Privacidade"})})]})]})}function hCe({onNavigate:t}){return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx("header",{className:"px-6 pt-6 pb-4",children:l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold",children:"Termos e Privacidade"})]})}),l.jsxs("div",{className:"px-6 space-y-4",children:[l.jsx("button",{onClick:()=>t("termsAndConditions"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:l.jsx(BV,{className:"w-6 h-6 text-blue-500"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold mb-1",children:"Termos de Uso"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Leia os termos e condies de uso do NexCoin"})]})]})}),l.jsx("button",{onClick:()=>t("privacyPolicy"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center flex-shrink-0",children:l.jsx(Ml,{className:"w-6 h-6 text-purple-500"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold mb-1",children:"Poltica de Privacidade"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Saiba como protegemos e usamos seus dados"})]})]})}),l.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-6",children:l.jsx("p",{className:"text-xs text-gray-400",children:"ltima atualizao: 26 de janeiro de 2026"})})]})]})}function mCe({onNavigate:t}){const[e,n]=E.useState("pt"),[r,i]=E.useState("USD"),[s,a]=E.useState(!0),[o,c]=E.useState(!0),[d,f]=E.useState("5min"),[m,p]=E.useState(!0),y=[{code:"pt",name:"Portugus",flag:""},{code:"en",name:"English",flag:""},{code:"es",name:"Espaol",flag:""}],x=[{code:"USD",symbol:"$",name:"Dlar Americano"},{code:"EUR",symbol:"",name:"Euro"},{code:"BRL",symbol:"R$",name:"Real Brasileiro"},{code:"USDT",symbol:"USDT",name:"Tether"}];return l.jsxs("div",{className:"min-h-screen bg-black text-white",children:[l.jsx("header",{className:"px-6 pt-6 pb-4 sticky top-0 bg-black z-10",children:l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl",children:"Preferncias do App"})]})}),l.jsxs("div",{className:"px-6 pb-24 space-y-8",children:[l.jsx("h2",{className:"text-xs text-gray-400 mb-3 px-1",children:"IDIOMA"}),l.jsx("div",{className:"bg-zinc-900 rounded-2xl overflow-hidden",children:y.map((b,_)=>l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>n(b.code),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-zinc-800 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-2xl",children:b.flag}),l.jsx("span",{children:b.name})]}),e===b.code&&l.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center",children:l.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),_<y.length-1&&l.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},b.code))}),l.jsx("h2",{className:"text-xs text-gray-400 mb-3 px-1",children:"MOEDA PADRO"}),l.jsx("div",{className:"bg-zinc-900 rounded-2xl overflow-hidden",children:x.map((b,_)=>l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>i(b.code),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-zinc-800 transition-colors",children:[l.jsxs("div",{className:"text-left",children:[l.jsx("div",{children:b.code}),l.jsx("div",{className:"text-xs text-gray-400",children:b.name})]}),r===b.code&&l.jsx("div",{className:"w-5 h-5 rounded-full bg-green-500 flex items-center justify-center",children:l.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})]}),_<x.length-1&&l.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},b.code))}),l.jsx("h2",{className:"text-xs text-gray-400 mb-3 px-1",children:"EXIBIO"}),l.jsx("div",{className:"bg-zinc-900 rounded-2xl overflow-hidden",children:l.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(JK,{className:"w-5 h-5 text-gray-400"}),l.jsxs("div",{children:[l.jsx("div",{children:"Modo escuro"}),l.jsx("div",{className:"text-xs text-gray-400",children:"Tema dark ativado"})]})]}),l.jsx("button",{onClick:()=>p(!m),className:`w-12 h-7 rounded-full transition-colors ${m?"bg-green-500":"bg-zinc-700"}`,children:l.jsx("div",{className:`w-5 h-5 bg-white rounded-full transition-transform ${m?"translate-x-6":"translate-x-1"}`})})]})}),l.jsx("p",{className:"text-xs text-gray-400 mt-2 px-1",children:"O NexCoin usa tema escuro por padro para melhor experincia visual"}),l.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:l.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Suas preferncias so salvas automaticamente e sincronizadas entre dispositivos"})})]})]})}var Yd={},pS={exports:{}},gS,q3;function pCe(){if(q3)return gS;q3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gS=t,gS}var yS,H3;function gCe(){if(H3)return yS;H3=1;var t=pCe();function e(){}function n(){}return n.resetWarningCache=e,yS=function(){function r(a,o,c,d,f,m){if(m!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},yS}var W3;function QH(){return W3||(W3=1,pS.exports=gCe()()),pS.exports}var vS,K3;function JH(){return K3||(K3=1,vS={L:1,M:0,Q:3,H:2}),vS}var xS,G3;function ZH(){return G3||(G3=1,xS={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),xS}var bS,X3;function yCe(){if(X3)return bS;X3=1;var t=ZH();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},bS=e,bS}var wS,Y3;function vCe(){if(Y3)return wS;Y3=1;var t=JH();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var i=e.getRsBlockTable(n,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var s=i.length/3,a=new Array,o=0;o<s;o++)for(var c=i[o*3+0],d=i[o*3+1],f=i[o*3+2],m=0;m<c;m++)a.push(new e(d,f));return a},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},wS=e,wS}var _S,Q3;function xCe(){if(Q3)return _S;Q3=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},_S=t,_S}var ES,J3;function eW(){if(J3)return ES;J3=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return ES=t,ES}var SS,Z3;function tW(){if(Z3)return SS;Z3=1;var t=eW();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var i=0;i<n.length&&n[i]==0;)i++;this.num=new Array(n.length-i+r);for(var s=0;s<n.length-i;s++)this.num[s]=n[s+i]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(var s=0;s<n.getLength();s++)r[i+s]^=t.gexp(t.glog(this.get(i))+t.glog(n.get(s)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),i=new Array(this.getLength()),s=0;s<this.getLength();s++)i[s]=this.get(s);for(var s=0;s<n.getLength();s++)i[s]^=t.gexp(t.glog(n.get(s))+r);return new e(i,0).mod(n)}},SS=e,SS}var NS,eV;function bCe(){if(eV)return NS;eV=1;var t=ZH(),e=tW(),n=eW(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var a=s<<10;i.getBCHDigit(a)-i.getBCHDigit(i.G15)>=0;)a^=i.G15<<i.getBCHDigit(a)-i.getBCHDigit(i.G15);return(s<<10|a)^i.G15_MASK},getBCHTypeNumber:function(s){for(var a=s<<12;i.getBCHDigit(a)-i.getBCHDigit(i.G18)>=0;)a^=i.G18<<i.getBCHDigit(a)-i.getBCHDigit(i.G18);return s<<12|a},getBCHDigit:function(s){for(var a=0;s!=0;)a++,s>>>=1;return a},getPatternPosition:function(s){return i.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,a,o){switch(s){case r.PATTERN000:return(a+o)%2==0;case r.PATTERN001:return a%2==0;case r.PATTERN010:return o%3==0;case r.PATTERN011:return(a+o)%3==0;case r.PATTERN100:return(Math.floor(a/2)+Math.floor(o/3))%2==0;case r.PATTERN101:return a*o%2+a*o%3==0;case r.PATTERN110:return(a*o%2+a*o%3)%2==0;case r.PATTERN111:return(a*o%3+(a+o)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var a=new e([1],0),o=0;o<s;o++)a=a.multiply(new e([1,n.gexp(o)],0));return a},getLengthInBits:function(s,a){if(1<=a&&a<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(a<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(a<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+a)},getLostPoint:function(s){for(var a=s.getModuleCount(),o=0,c=0;c<a;c++)for(var d=0;d<a;d++){for(var f=0,m=s.isDark(c,d),p=-1;p<=1;p++)if(!(c+p<0||a<=c+p))for(var y=-1;y<=1;y++)d+y<0||a<=d+y||p==0&&y==0||m==s.isDark(c+p,d+y)&&f++;f>5&&(o+=3+f-5)}for(var c=0;c<a-1;c++)for(var d=0;d<a-1;d++){var x=0;s.isDark(c,d)&&x++,s.isDark(c+1,d)&&x++,s.isDark(c,d+1)&&x++,s.isDark(c+1,d+1)&&x++,(x==0||x==4)&&(o+=3)}for(var c=0;c<a;c++)for(var d=0;d<a-6;d++)s.isDark(c,d)&&!s.isDark(c,d+1)&&s.isDark(c,d+2)&&s.isDark(c,d+3)&&s.isDark(c,d+4)&&!s.isDark(c,d+5)&&s.isDark(c,d+6)&&(o+=40);for(var d=0;d<a;d++)for(var c=0;c<a-6;c++)s.isDark(c,d)&&!s.isDark(c+1,d)&&s.isDark(c+2,d)&&s.isDark(c+3,d)&&s.isDark(c+4,d)&&!s.isDark(c+5,d)&&s.isDark(c+6,d)&&(o+=40);for(var b=0,d=0;d<a;d++)for(var c=0;c<a;c++)s.isDark(c,d)&&b++;var _=Math.abs(100*b/a/a-50)/5;return o+=_*10,o}};return NS=i,NS}var TS,tV;function wCe(){if(tV)return TS;tV=1;var t=yCe(),e=vCe(),n=xCe(),r=bCe(),i=tW();function s(o,c){this.typeNumber=o,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var a=s.prototype;return a.addData=function(o){var c=new t(o);this.dataList.push(c),this.dataCache=null},a.isDark=function(o,c){if(o<0||this.moduleCount<=o||c<0||this.moduleCount<=c)throw new Error(o+","+c);return this.modules[o][c]},a.getModuleCount=function(){return this.moduleCount},a.make=function(){if(this.typeNumber<1){var o=1;for(o=1;o<40;o++){for(var c=e.getRSBlocks(o,this.errorCorrectLevel),d=new n,f=0,m=0;m<c.length;m++)f+=c[m].dataCount;for(var m=0;m<this.dataList.length;m++){var p=this.dataList[m];d.put(p.mode,4),d.put(p.getLength(),r.getLengthInBits(p.mode,o)),p.write(d)}if(d.getLengthInBits()<=f*8)break}this.typeNumber=o}this.makeImpl(!1,this.getBestMaskPattern())},a.makeImpl=function(o,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++)this.modules[d][f]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(o,c),this.typeNumber>=7&&this.setupTypeNumber(o),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},a.setupPositionProbePattern=function(o,c){for(var d=-1;d<=7;d++)if(!(o+d<=-1||this.moduleCount<=o+d))for(var f=-1;f<=7;f++)c+f<=-1||this.moduleCount<=c+f||(0<=d&&d<=6&&(f==0||f==6)||0<=f&&f<=6&&(d==0||d==6)||2<=d&&d<=4&&2<=f&&f<=4?this.modules[o+d][c+f]=!0:this.modules[o+d][c+f]=!1)},a.getBestMaskPattern=function(){for(var o=0,c=0,d=0;d<8;d++){this.makeImpl(!0,d);var f=r.getLostPoint(this);(d==0||o>f)&&(o=f,c=d)}return c},a.createMovieClip=function(o,c,d){var f=o.createEmptyMovieClip(c,d),m=1;this.make();for(var p=0;p<this.modules.length;p++)for(var y=p*m,x=0;x<this.modules[p].length;x++){var b=x*m,_=this.modules[p][x];_&&(f.beginFill(0,100),f.moveTo(b,y),f.lineTo(b+m,y),f.lineTo(b+m,y+m),f.lineTo(b,y+m),f.endFill())}return f},a.setupTimingPattern=function(){for(var o=8;o<this.moduleCount-8;o++)this.modules[o][6]==null&&(this.modules[o][6]=o%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},a.setupPositionAdjustPattern=function(){for(var o=r.getPatternPosition(this.typeNumber),c=0;c<o.length;c++)for(var d=0;d<o.length;d++){var f=o[c],m=o[d];if(this.modules[f][m]==null)for(var p=-2;p<=2;p++)for(var y=-2;y<=2;y++)p==-2||p==2||y==-2||y==2||p==0&&y==0?this.modules[f+p][m+y]=!0:this.modules[f+p][m+y]=!1}},a.setupTypeNumber=function(o){for(var c=r.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var f=!o&&(c>>d&1)==1;this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=f}for(var d=0;d<18;d++){var f=!o&&(c>>d&1)==1;this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=f}},a.setupTypeInfo=function(o,c){for(var d=this.errorCorrectLevel<<3|c,f=r.getBCHTypeInfo(d),m=0;m<15;m++){var p=!o&&(f>>m&1)==1;m<6?this.modules[m][8]=p:m<8?this.modules[m+1][8]=p:this.modules[this.moduleCount-15+m][8]=p}for(var m=0;m<15;m++){var p=!o&&(f>>m&1)==1;m<8?this.modules[8][this.moduleCount-m-1]=p:m<9?this.modules[8][15-m-1+1]=p:this.modules[8][15-m-1]=p}this.modules[this.moduleCount-8][8]=!o},a.mapData=function(o,c){for(var d=-1,f=this.moduleCount-1,m=7,p=0,y=this.moduleCount-1;y>0;y-=2)for(y==6&&y--;;){for(var x=0;x<2;x++)if(this.modules[f][y-x]==null){var b=!1;p<o.length&&(b=(o[p]>>>m&1)==1);var _=r.getMask(c,f,y-x);_&&(b=!b),this.modules[f][y-x]=b,m--,m==-1&&(p++,m=7)}if(f+=d,f<0||this.moduleCount<=f){f-=d,d=-d;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(o,c,d){for(var f=e.getRSBlocks(o,c),m=new n,p=0;p<d.length;p++){var y=d[p];m.put(y.mode,4),m.put(y.getLength(),r.getLengthInBits(y.mode,o)),y.write(m)}for(var x=0,p=0;p<f.length;p++)x+=f[p].dataCount;if(m.getLengthInBits()>x*8)throw new Error("code length overflow. ("+m.getLengthInBits()+">"+x*8+")");for(m.getLengthInBits()+4<=x*8&&m.put(0,4);m.getLengthInBits()%8!=0;)m.putBit(!1);for(;!(m.getLengthInBits()>=x*8||(m.put(s.PAD0,8),m.getLengthInBits()>=x*8));)m.put(s.PAD1,8);return s.createBytes(m,f)},s.createBytes=function(o,c){for(var d=0,f=0,m=0,p=new Array(c.length),y=new Array(c.length),x=0;x<c.length;x++){var b=c[x].dataCount,_=c[x].totalCount-b;f=Math.max(f,b),m=Math.max(m,_),p[x]=new Array(b);for(var S=0;S<p[x].length;S++)p[x][S]=255&o.buffer[S+d];d+=b;var O=r.getErrorCorrectPolynomial(_),R=new i(p[x],O.getLength()-1),z=R.mod(O);y[x]=new Array(O.getLength()-1);for(var S=0;S<y[x].length;S++){var P=S+z.getLength()-y[x].length;y[x][S]=P>=0?z.get(P):0}}for(var A=0,S=0;S<c.length;S++)A+=c[S].totalCount;for(var N=new Array(A),T=0,S=0;S<f;S++)for(var x=0;x<c.length;x++)S<p[x].length&&(N[T++]=p[x][S]);for(var S=0;S<m;S++)for(var x=0;x<c.length;x++)S<y[x].length&&(N[T++]=y[x][S]);return N},TS=s,TS}var Av={},nV;function _Ce(){if(nV)return Av;nV=1,Object.defineProperty(Av,"__esModule",{value:!0});var t=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var m=arguments[f];for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(d[p]=m[p])}return d},e=QH(),n=s(e),r=Jr(),i=s(r);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,f){var m={};for(var p in d)f.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(d,p)&&(m[p]=d[p]);return m}var o={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},c=(0,r.forwardRef)(function(d,f){var m=d.bgColor,p=d.bgD,y=d.fgD,x=d.fgColor,b=d.size,_=d.title,S=d.viewBoxSize,O=d.xmlns,R=O===void 0?"http://www.w3.org/2000/svg":O,z=a(d,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",t({},z,{height:b,ref:f,viewBox:"0 0 "+S+" "+S,width:b,xmlns:R}),_?i.default.createElement("title",null,_):null,i.default.createElement("path",{d:p,fill:m}),i.default.createElement("path",{d:y,fill:x}))});return c.displayName="QRCodeSvg",c.propTypes=o,Av.default=c,Av}var rV;function ECe(){if(rV)return Yd;rV=1,Object.defineProperty(Yd,"__esModule",{value:!0}),Yd.QRCode=void 0;var t=Object.assign||function(b){for(var _=1;_<arguments.length;_++){var S=arguments[_];for(var O in S)Object.prototype.hasOwnProperty.call(S,O)&&(b[O]=S[O])}return b},e=QH(),n=m(e),r=JH(),i=m(r),s=wCe(),a=m(s),o=Jr(),c=m(o),d=_Ce(),f=m(d);function m(b){return b&&b.__esModule?b:{default:b}}function p(b,_){var S={};for(var O in b)_.indexOf(O)>=0||Object.prototype.hasOwnProperty.call(b,O)&&(S[O]=b[O]);return S}var y={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},x=(0,o.forwardRef)(function(b,_){var S=b.bgColor,O=S===void 0?"#FFFFFF":S,R=b.fgColor,z=R===void 0?"#000000":R,P=b.level,A=P===void 0?"L":P,N=b.size,T=N===void 0?256:N,I=b.value,j=p(b,["bgColor","fgColor","level","size","value"]),D=new a.default(-1,i.default[A]);D.addData(I),D.make();var F=D.modules;return c.default.createElement(f.default,t({},j,{bgColor:O,bgD:F.map(function(V,$){return V.map(function(Z,J){return Z?"":"M "+J+" "+$+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:z,fgD:F.map(function(V,$){return V.map(function(Z,J){return Z?"M "+J+" "+$+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:_,size:T,viewBoxSize:F.length}))});return Yd.QRCode=x,x.displayName="QRCode",x.propTypes=y,Yd.default=x,Yd}var SCe=ECe();const NCe=vi(SCe);function TCe({onNavigate:t}){const[e,n]=E.useState(""),[r,i]=E.useState(null),[s,a]=E.useState("Ethereum"),[o,c]=E.useState(!1),[d,f]=E.useState(!1),{prices:m}=xi(),{portfolio:p}=$s(),y=P=>{a(P),c(!1),f(!1)},x=[{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"BNB",name:"Binance Coin",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"}],b=P=>p.holdings.find(N=>N.symbol===P)?.amount||0,_=[{id:"Ethereum",name:"Ethereum",icon:"ETH"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB"},{id:"Polygon",name:"Polygon",icon:"MATIC"},{id:"Arbitrum",name:"Arbitrum",icon:"ARB"},{id:"Optimism",name:"Optimism",icon:"OP"},{id:"Base",name:"Base",icon:"BASE"},{id:"Avalanche",name:"Avalanche C-Chain",icon:"AVAX"},{id:"Solana",name:"Solana",icon:"SOL"},{id:"Tron",name:"Tron",icon:"TRX"},{id:"Fantom",name:"Fantom",icon:"FTM"},{id:"zkSync",name:"zkSync Era",icon:"ZK"},{id:"Cronos",name:"Cronos",icon:"CRO"}],S=(P,A)=>(m[P]?.usd||0)*A,O=x.filter(P=>P.symbol.toLowerCase().includes(e.toLowerCase())||P.name.toLowerCase().includes(e.toLowerCase())),R=P=>{const A=document.createElement("textarea");A.value=P,A.style.position="fixed",A.style.left="-999999px",A.style.top="-999999px",document.body.appendChild(A),A.focus(),A.select();try{document.execCommand("copy"),c(!0),setTimeout(()=>c(!1),2e3)}catch(N){console.error("Erro ao copiar:",N)}document.body.removeChild(A)},z=(P,A)=>{const N=$=>{let Z=5381;for(let J=0;J<$.length;J++){const B=$.charCodeAt(J);Z=(Z<<5)+Z+B}return Math.abs(Z)+999999},T=($,Z)=>{const J=[];let B=N($);for(let Q=0;Q<Z;Q++){B=B*1664525+1013904223&2147483647;const H=(B^B>>16)&255;J.push(H===0?Q%255+1:H)}return J},I=$=>$.map(Z=>Z.toString(16).padStart(2,"0")).join(""),j=$=>{const Z="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let J=BigInt("0x"+I($)),B="";for(;J>0;){const Q=Number(J%58n);B=Z[Q]+B,J=J/58n}for(const Q of $)if(Q===0)B="1"+B;else break;return B},D=$=>{const Z="qpzry9x8gf2tvdw0s3jn54khce6mua7l";let J="";for(const B of $)J+=Z[B%Z.length];return J},F=`${P}-${A}-nexcoin-wallet`;if(A==="Tron"){const $=T(F,20);return"T"+j($).substring(1,34)}if(P==="BTC"){const $=T(F,32);return"bc1q"+D($).substring(0,38)}if(P==="SOL"||A==="Solana"){const $=T(F,32);return j($).substring(0,44)}if(P==="ETH"||A==="Ethereum"||A==="Polygon"||A==="Optimism"||A==="BSC"||A==="Arbitrum"||A==="Base"||A==="Avalanche"||A==="Fantom"||A==="zkSync"||A==="Cronos"||P==="BNB"||P==="MATIC"||P==="LINK"||P==="UNI"||P==="AVAX"||P==="USDT"){const $=T(F,20);return"0x"+I($)}if(P==="XRP"){const $=[0,...T(F,20)];return"r"+j($).substring(1,34)}if(P==="ADA"){const $=T(F,57);return"addr1"+D($).substring(0,98)}if(P==="DOT"){const $=[0,...T(F,32)];return j($).substring(0,48)}if(P==="DOGE"){const $=[30,...T(F,20)];return j($).substring(0,34)}if(P==="LTC"){const $=T(F,32);return"ltc1q"+D($).substring(0,38)}if(P==="ATOM"){const $=T(F,32);return"cosmos1"+D($).substring(0,38)}const V=T(F,20);return"0x"+I(V)};if(r){const P=x.find(N=>N.symbol===r);if(!P)return null;const A=z(P.symbol,s);return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-4xl mb-1 text-gray-400",children:["Receber ",P.symbol]}),l.jsx("p",{className:"text-lg text-gray-500",children:P.name})]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(At,{symbol:P.symbol,size:"lg"})})]})]}),l.jsx("div",{className:"px-6 py-8 flex items-center justify-center",children:l.jsx("div",{className:"w-64 h-64 bg-zinc-900 rounded-3xl p-6 flex items-center justify-center",children:l.jsx("div",{className:"w-full h-full bg-white rounded-2xl p-4 flex items-center justify-center",children:l.jsx(NCe,{value:A,size:180})})})}),l.jsx("div",{className:"px-6 mb-6",children:l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Endereo da carteira"}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"flex-1 bg-zinc-800 rounded-xl px-4 py-3 text-sm font-mono text-gray-300 overflow-hidden",children:l.jsx("div",{className:"truncate",children:A})}),l.jsx("button",{onClick:()=>R(A),className:"flex-shrink-0 w-12 h-12 rounded-xl bg-zinc-800 hover:bg-zinc-700 flex items-center justify-center transition-all active:scale-95",children:o?l.jsx(An,{className:"w-5 h-5 text-green-500"}):l.jsx(vn,{className:"w-5 h-5 text-gray-400"})})]}),o&&l.jsx("p",{className:"text-xs text-green-500 mt-2 text-center font-semibold",children:"Endereo copiado!"})]})}),l.jsx("div",{className:"flex-1 px-6",children:l.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6",children:[l.jsx("h2",{className:"text-xl mb-3",children:"Selecione a rede"}),l.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Certifique-se de selecionar a rede correta ou seus fundos podem ser perdidos."," ",l.jsx("a",{href:"#",className:"text-blue-500 hover:text-blue-400",children:"Saber mais"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>f(!d),className:"w-full bg-zinc-800 rounded-2xl p-4 flex items-center gap-4 hover:bg-zinc-700 transition-all",children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:l.jsx(At,{symbol:_.find(N=>N.id===s)?.icon||"ETH",size:"sm"})}),l.jsx("div",{className:"flex-1 text-left",children:l.jsx("div",{className:"text-lg font-semibold",children:_.find(N=>N.id===s)?.name||"Ethereum"})}),l.jsx(Pa,{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${d?"rotate-180":""}`})]}),d&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),l.jsx("div",{className:"absolute z-20 w-full mt-2 bg-zinc-800/95 backdrop-blur-xl rounded-2xl border border-zinc-700/50 shadow-2xl overflow-hidden",children:l.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:_.map(N=>l.jsxs("button",{onClick:()=>y(N.id),className:`w-full p-4 flex items-center gap-4 transition-all border-b border-zinc-700/30 last:border-b-0 ${s===N.id?"bg-blue-500/20":"hover:bg-zinc-700/50"}`,children:[l.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:l.jsx(At,{symbol:N.icon,size:"sm"})}),l.jsx("div",{className:"flex-1 text-left",children:l.jsxs("div",{className:"text-base font-semibold",children:[" ",N.name]})}),s===N.id&&l.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0",children:l.jsx(An,{className:"w-4 h-4 text-white",strokeWidth:3})})]},N.id))})})]})]})]})})]})}return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[l.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-3xl",children:"Receber"})]}),l.jsx("div",{className:"px-6 mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(Gl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Pesquise criptomoedas compatveis",value:e,onChange:P=>n(P.target.value),className:"w-full bg-zinc-900 text-white rounded-full py-3.5 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-gray-700 placeholder-gray-500"})]})}),l.jsxs("div",{className:"flex-1 px-6",children:[l.jsx("div",{className:"space-y-0",children:O.map(P=>{const A=b(P.symbol),N=S(P.id,A);return l.jsxs("button",{className:"w-full bg-zinc-900/50 hover:bg-zinc-800/50 transition-colors p-4 flex items-center gap-4 border-b border-zinc-800/50 last:border-b-0",onClick:()=>i(P.symbol),children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(At,{symbol:P.symbol,size:"md"})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("div",{className:"font-semibold text-base",children:P.symbol}),l.jsx("div",{className:"text-sm text-gray-400",children:P.name})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-semibold text-base",children:[P.symbol==="USDT"?Wr(A):or(A)," ",P.symbol]}),l.jsxs("div",{className:"text-sm text-gray-400",children:[Wr(N)," USDT"]})]})]},P.symbol)})}),O.length===0&&l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-400",children:"Nenhuma criptomoeda encontrada"})})]})]})}function nW(t,e){const n=Date.now(),r=Math.random().toString(36).substring(2,15),i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",s=a=>{let o="";for(let c=0;c<a;c++)o+=i[Math.floor(Math.random()*i.length)];return o};switch(t){case"Ethereum":case"BSC":case"Polygon":return`0x${e.substring(0,8)}${n.toString(16)}${r}`.substring(0,42);case"Bitcoin":return`bc1q${e.substring(0,6)}${r}${n.toString(36)}`.substring(0,42);case"Tron":return`T${s(33)}`;case"Solana":return`${e.substring(0,8)}${r}${n.toString(36)}Solana`.substring(0,44);case"Ripple":return`r${e.substring(0,7)}${r}${n.toString(36)}`.substring(0,34);default:return`${t.substring(0,3).toUpperCase()}${e.substring(0,8)}${r}${n.toString(36)}`}}async function rW(t,e,n){const r=n||nW(e,t);console.log(` Salvando endereo ${e}: ${r}`);const i=ct(Se,"users",t,"walletAddresses",e),s={network:e,address:r,userId:t,createdAt:new Date,updatedAt:new Date};await cr(i,s),console.log(" Endereo salvo no documento do usurio");const a=ct(Se,"walletAddressIndex",r.toLowerCase());return await cr(a,{address:r,userId:t,network:e,updatedAt:new Date}),console.log(` Endereo indexado globalmente: ${r}`),await new Promise(o=>setTimeout(o,300)),s}async function CCe(t,e){try{const n=ct(Se,"users",t,"walletAddresses",e),r=await os(n);return r.exists()?r.data().address:(await rW(t,e)).address}catch(n){return console.error(" Erro ao buscar endereo:",n),null}}async function ACe(t){try{console.log(" Buscando userId para endereo:",t);const e=ct(Se,"walletAddressIndex",t.toLowerCase()),n=await os(e);if(n.exists()){const r=n.data();return console.log(" Endereo encontrado no ndice global:",r.userId),r.userId}return console.warn(" Endereo no encontrado no ndice global:",t),console.warn(" Execute a migrao de endereos em: Perfil  Configuraes  Teste de Endereos"),null}catch(e){return console.error(" Erro ao buscar usurio por endereo:",e),null}}async function PCe(t,e){const n=nW(e,t);return await rW(t,e,n),n}async function ICe(t,e,n){try{console.log(" Validando endereo:",t,"na rede:",e);const r=await ACe(t);if(!r)return console.warn(" Endereo no encontrado no ndice:",t),{isValid:!1,userId:null,userName:null,error:"Endereo no encontrado. Certifique-se de que o destinatrio possui uma conta NexCoin."};if(n&&r===n)return console.warn(" Tentativa de auto-transferncia detectada"),{isValid:!1,userId:null,userName:null,error:"Voc no pode transferir para o seu prprio endereo."};console.log(" Usurio encontrado:",r);const i=ct(Se,"users",r,"walletAddresses",e),s=await os(i);if(!s.exists())return console.warn(` Endereo no pertence  rede ${e}`),{isValid:!1,userId:null,userName:null,error:`Este endereo no pertence  rede ${e}`};const a=s.data();if(a.address.toLowerCase()!==t.toLowerCase())return console.warn(` Endereo no corresponde: esperado ${a.address}, recebido ${t}`),{isValid:!1,userId:null,userName:null,error:`Endereo no corresponde  rede ${e}`};const o=ct(Se,"users",r),c=await os(o),d=c.exists()&&(c.data().name||c.data().email)||"Usurio";return console.log(" Endereo vlido! Destinatrio:",d,"(",r,")"),{isValid:!0,userId:r,userName:d}}catch(r){return console.error(" Erro ao validar endereo:",r),{isValid:!1,userId:null,userName:null,error:"Erro ao validar endereo"}}}async function jCe(t){try{console.log(" Iniciando transferncia de cripto:",t);const{fromUserId:e,toUserId:n,coinId:r,coinSymbol:i,amount:s,fee:a,network:o,toAddress:c}=t;if(!e||!n)throw new Error("Remetente ou destinatrio invlido");if(e===n)throw new Error("No  possvel transferir para si mesmo");if(s<=0)throw new Error("Valor invlido");const d=s+a,f=await vA(Se,async x=>{const b=ct(Se,"users",e,"portfolio",i),_=await x.get(b),S=ct(Se,"users",n,"portfolio",i),O=await x.get(S);if(!_.exists())throw new Error("Voc no possui saldo desta criptomoeda");const R=_.data().amount||0;if(R<d)throw new Error(`Saldo insuficiente. Necessrio: ${d} ${i}, Disponvel: ${R} ${i}`);const z=R-d;x.update(b,{amount:z,updatedAt:new Date}),console.log(` Debitado ${d} ${i} de ${e}. Novo saldo: ${z}`);let P;return O.exists()?(P=(O.data().amount||0)+s,x.update(S,{amount:P,updatedAt:new Date})):(P=s,x.set(S,{coinId:r,symbol:i,amount:P,name:i,createdAt:new Date,updatedAt:new Date})),console.log(` Creditado ${s} ${i} para ${n}. Novo saldo: ${P}`),{newFromBalance:z,newToBalance:P}}),m=`txn_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,p=ct(it(Se,"users",e,"transactions"));await cr(p,{id:p.id,type:"crypto_send",coinId:r,coinSymbol:i,currency:i,amount:-d,amountSent:s,fee:a,feeCurrency:i,network:o,toUserId:n,toAddress:c,status:"completed",transactionHash:t.transactionHash,transactionId:m,createdAt:gt.fromDate(new Date),description:`Enviado ${s} ${i} via ${o}`});const y=ct(it(Se,"users",n,"transactions"));return await cr(y,{id:y.id,type:"crypto_receive",coinId:r,coinSymbol:i,currency:i,amount:s,fee:0,feeCurrency:i,network:o,fromUserId:e,fromAddress:t.fromAddress||"NexCoin User",status:"completed",transactionHash:t.transactionHash,transactionId:m,createdAt:gt.fromDate(new Date),description:`Recebido ${s} ${i} via ${o}`}),console.log(" Transferncia concluda com sucesso!"),{success:!0,transactionId:p.id}}catch(e){return console.error(" Erro ao processar transferncia:",e),{success:!1,error:e.message||"Erro ao processar transferncia"}}}function kCe(){const t=Date.now().toString(16),e=Math.random().toString(16).substring(2);return`0x${t}${e}`.substring(0,66)}function iW(){const{user:t}=Ft(),[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{if(!t?.uid){n([]),i(!1);return}console.log(" Iniciando listener de endereos de wallet...");const o=it(Se,"users",t.uid,"walletAddresses"),c=zi(o,d=>{const f=[];d.forEach(m=>{const p=m.data();f.push({network:p.network,address:p.address,userId:p.userId,createdAt:p.createdAt?.toDate()||new Date,updatedAt:p.updatedAt?.toDate()||new Date})}),n(f),i(!1),console.log(" Endereos carregados:",f)},d=>{console.error(" Erro ao carregar endereos:",d),i(!1)});return()=>{console.log(" Cancelando listener de endereos"),c()}},[t?.uid]),{addresses:e,isLoading:r,getAddressForNetwork:async o=>{if(!t?.uid)throw new Error("Usurio no autenticado");const c=e.find(f=>f.network===o);return c?c.address:await CCe(t.uid,o)||""},regenerateAddress:async o=>{if(!t?.uid)throw new Error("Usurio no autenticado");const c=await PCe(t.uid,o);return console.log(` Novo endereo gerado para ${o}:`,c),c}}}function RCe({crypto:t,network:e,onBack:n}){const[r,i]=E.useState(""),[s,a]=E.useState(""),[o,c]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(!1),[y,x]=E.useState(!1),[b,_]=E.useState(""),[S,O]=E.useState(""),[R,z]=E.useState(!1),[P,A]=E.useState(!1),[N,T]=E.useState(null),{prices:I}=xi(),{user:j}=Ft(),{getAddressForNetwork:D}=iW();E.useEffect(()=>{const H=setTimeout(async()=>{if(!r||r.length<10){T(null);return}x(!0),T(null);try{const k=await ICe(r,e.id,j?.uid);T(k)}catch(k){console.error("Erro ao validar:",k),T({isValid:!1,userName:null,error:"Erro ao validar endereo"})}finally{x(!1)}},800);return()=>clearTimeout(H)},[r,e.id,j?.uid]);const F=Q=>Q>=1?Q.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8}):Q.toFixed(8),V=parseFloat(e.fee.split(" ")[0]),$=parseFloat(s)||0,Z=$+V,J=r&&s&&parseFloat(s)>0&&parseFloat(s)<=t.balance&&N?.isValid===!0,B=async()=>{if(!J||!j?.uid||!N?.userId){Me.error("Dados invlidos para transferncia");return}p(!0);try{const Q=kCe(),H=await D(e.id),k=await jCe({fromUserId:j.uid,toUserId:N.userId,coinId:t.id,coinSymbol:t.symbol,amount:$,fee:V,network:e.id,toAddress:r,fromAddress:H,status:"completed",transactionHash:Q,createdAt:new Date});k.success?(_(Q),O(new Date().toLocaleString("pt-BR")),c(!0),Me.success("Transferncia realizada com sucesso!")):Me.error(k.error||"Erro ao processar transferncia")}catch(Q){console.error("Erro ao enviar:",Q),Me.error(Q.message||"Erro ao processar transferncia")}finally{p(!1)}};return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsx("button",{onClick:n,className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h1",{className:"text-lg",children:["Enviar ",t.symbol]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(At,{symbol:t.symbol,size:"md"})})]}),l.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-400",children:"Saldo disponvel"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-semibold",children:[F(t.balance)," ",t.symbol]}),l.jsxs("div",{className:"text-xs text-gray-400",children:["$",((I[t.id]?.usd||0)*t.balance).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]}),l.jsxs("div",{className:"flex-1 px-6 space-y-6 overflow-y-auto",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-3",children:"Rede selecionada"}),l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:l.jsx(At,{symbol:e.icon,size:"sm"})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("div",{className:"font-semibold text-sm",children:e.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:["Taxa: ",e.fee]})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-3",children:"Endereo da carteira"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",placeholder:"Cole ou escaneie o endereo da carteira",value:r,onChange:Q=>i(Q.target.value),className:`w-full bg-zinc-900 text-white rounded-xl py-4 pl-4 pr-12 focus:outline-none focus:ring-2 placeholder-gray-500 transition-all ${N?.isValid?"focus:ring-green-500 ring-2 ring-green-500/50":N?.isValid===!1?"focus:ring-red-500 ring-2 ring-red-500/50":"focus:ring-gray-600"}`}),l.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[y&&l.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}),N?.isValid&&l.jsx(hk,{className:"w-5 h-5 text-green-500"}),N?.isValid===!1&&l.jsx(gi,{className:"w-5 h-5 text-red-500"})]})]}),N?.isValid&&N.userName&&l.jsxs("div",{className:"mt-3 bg-green-500/10 border border-green-500/20 rounded-xl p-3 flex items-start gap-3",children:[l.jsx(hk,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-green-500 text-sm font-semibold mb-0.5",children:"Destinatrio encontrado"}),l.jsxs("p",{className:"text-green-200/80 text-xs",children:["Enviando para: ",l.jsx("span",{className:"font-semibold",children:N.userName})]})]})]}),N?.isValid===!1&&N.error&&l.jsxs("div",{className:"mt-3 bg-red-500/10 border border-red-500/20 rounded-xl p-3 flex items-start gap-3",children:[l.jsx(zl,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-red-500 text-sm font-semibold mb-0.5",children:"Endereo invlido"}),l.jsx("p",{className:"text-red-200/80 text-xs",children:N.error})]})]}),r&&!N&&!y&&l.jsxs("div",{className:"mt-2 flex items-start gap-2 text-xs text-gray-400",children:[l.jsx(zl,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),l.jsx("p",{children:"Certifique-se de que o endereo est correto. Transaes no podem ser revertidas."})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("label",{className:"text-sm font-semibold",children:"Valor"}),l.jsx("button",{onClick:()=>a(t.balance.toString()),className:"text-xs text-gray-400 hover:text-white transition-colors",children:"Usar mximo"})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("input",{type:"number",placeholder:"0.00",value:s,onChange:Q=>a(Q.target.value),className:"flex-1 bg-transparent text-2xl font-bold outline-none placeholder-gray-600",step:"0.00000001"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(At,{symbol:t.symbol,size:"sm"}),l.jsx("span",{className:"font-semibold text-lg",children:t.symbol})]})]}),s&&l.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[" $",(parseFloat(s)*(I[t.id]?.usd||0)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),s&&r&&N?.isValid&&l.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 space-y-3",children:[l.jsx("h3",{className:"font-semibold text-sm mb-3",children:"Resumo da transao"}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Quantidade"}),l.jsxs("span",{className:"font-semibold",children:[s," ",t.symbol]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Taxa de rede"}),l.jsxs("span",{className:"font-semibold",children:[V," ",t.symbol]})]}),l.jsx("div",{className:"h-px bg-zinc-800 my-2"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-gray-400",children:"Total"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-bold text-lg",children:[t.symbol==="USDT"?Wr(Z):or(Z)," ",t.symbol]}),l.jsxs("div",{className:"text-xs text-gray-400",children:[" ",Wr(Z*(I[t.id]?.usd||0))," USDT"]})]})]})]}),l.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 flex gap-3",children:[l.jsx(zl,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),l.jsxs("div",{className:"text-sm text-yellow-200/90",children:[l.jsx("p",{className:"font-semibold mb-1",children:"Ateno"}),l.jsx("p",{className:"text-xs text-yellow-200/70",children:"Verifique cuidadosamente o endereo e a rede antes de enviar. Apenas endereos cadastrados na NexCoin so aceitos."})]})]})]}),l.jsxs("div",{className:"px-6 py-4 bg-black",children:[l.jsx("button",{disabled:!J||m,className:`w-full py-4 rounded-xl font-semibold text-lg transition-all ${J&&!m?"bg-white text-black hover:bg-gray-200":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,onClick:B,children:m?l.jsxs("span",{className:"flex items-center justify-center gap-2",children:[l.jsx("div",{className:"w-5 h-5 border-2 border-black/20 border-t-black rounded-full animate-spin"}),"Processando..."]}):"Enviar"}),!N?.isValid&&r&&!y&&l.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:"O endereo precisa estar cadastrado na NexCoin"})]}),l.jsx(zI,{children:o&&l.jsx(Wn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>{c(!1),n()},children:l.jsxs(Wn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",duration:.5},className:"bg-zinc-900 rounded-3xl p-8 max-w-sm w-full text-center relative overflow-hidden",onClick:Q=>Q.stopPropagation(),children:[l.jsxs(Wn.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6 relative",children:[l.jsx(Wn.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-16 h-16 bg-green-500/30 rounded-full flex items-center justify-center",children:l.jsx(Wn.svg,{initial:{pathLength:0},animate:{pathLength:1},transition:{delay:.5,duration:.5},className:"w-10 h-10 text-green-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:l.jsx(Wn.path,{d:"M20 6L9 17l-5-5"})})}),l.jsx(Wn.div,{initial:{scale:.8,opacity:.5},animate:{scale:2.5,opacity:0},transition:{duration:1,ease:"easeOut"},className:"absolute inset-0 bg-green-500 rounded-full"})]}),l.jsxs(Wn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},children:[l.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Enviado com sucesso!"}),l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Sua transao foi processada"}),N?.userName&&l.jsxs("p",{className:"text-green-400 text-sm font-semibold mb-6",children:["Destinatrio: ",N.userName]}),l.jsxs("div",{className:"bg-black/50 rounded-2xl p-4 mb-6 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Valor"}),l.jsxs("span",{className:"font-semibold text-white",children:[s," ",t.symbol]})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Rede"}),l.jsx("span",{className:"font-semibold text-white",children:e.name})]}),l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Para"}),l.jsxs("span",{className:"font-semibold text-white text-xs",children:[r.slice(0,8),"...",r.slice(-6)]})]})]}),l.jsx("button",{onClick:()=>{c(!1),f(!0)},className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-gray-200 transition-colors mb-3",children:"Ver Comprovante"}),l.jsx("button",{onClick:()=>{c(!1),n()},className:"w-full bg-zinc-800 text-white font-semibold py-3 rounded-xl hover:bg-zinc-700 transition-colors",children:"Fechar"})]})]})})})]})}function DCe({onNavigate:t}){const[e,n]=E.useState(""),[r,i]=E.useState(null),[s,a]=E.useState(null),{prices:o}=xi(),{portfolio:c}=$s(),d=S=>c.holdings.find(R=>R.coinId===S)?.amount||0,f=[{symbol:"USDT",name:"Tether",balance:d("tether"),id:"tether"},{symbol:"BTC",name:"Bitcoin",balance:d("bitcoin"),id:"bitcoin"},{symbol:"ETH",name:"Ethereum",balance:d("ethereum"),id:"ethereum"},{symbol:"BNB",name:"Binance Coin",balance:d("binancecoin"),id:"binancecoin"},{symbol:"SOL",name:"Solana",balance:d("solana"),id:"solana"},{symbol:"ADA",name:"Cardano",balance:d("cardano"),id:"cardano"},{symbol:"XRP",name:"Ripple",balance:d("ripple"),id:"ripple"},{symbol:"DOT",name:"Polkadot",balance:d("polkadot"),id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",balance:d("dogecoin"),id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",balance:d("avalanche-2"),id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",balance:d("matic-network"),id:"matic-network"},{symbol:"LINK",name:"Chainlink",balance:d("chainlink"),id:"chainlink"},{symbol:"UNI",name:"Uniswap",balance:d("uniswap"),id:"uniswap"},{symbol:"LTC",name:"Litecoin",balance:d("litecoin"),id:"litecoin"},{symbol:"ATOM",name:"Cosmos",balance:d("cosmos"),id:"cosmos"}],m=[{id:"Ethereum",name:"Ethereum (ERC20)",icon:"ETH",fee:"2.5 USDT"},{id:"Tron",name:"Tron (TRC20)",icon:"TRX",fee:"1.0 USDT"},{id:"Polygon",name:"Polygon",icon:"MATIC",fee:"0.5 USDT"},{id:"Solana",name:"Solana",icon:"SOL",fee:"0.3 USDT"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB",fee:"0.8 USDT"}],p=S=>S>=1?S.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8}):S.toFixed(8),y=(S,O)=>(o[S]?.usd||0)*O,x=f.filter(S=>S.symbol.toLowerCase().includes(e.toLowerCase())||S.name.toLowerCase().includes(e.toLowerCase())),b=f.find(S=>S.symbol===r),_=m.find(S=>S.id===s);return r&&b&&s&&_?l.jsx(RCe,{crypto:b,network:_,onBack:()=>{a(null)}}):r&&b?l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h1",{className:"text-lg",children:["Enviar ",b.symbol]}),l.jsx("div",{className:"flex-shrink-0",children:l.jsx(At,{symbol:b.symbol,size:"md"})})]}),l.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-400",children:"Saldo disponvel"}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-semibold",children:[p(b.balance)," ",b.symbol]}),l.jsxs("div",{className:"text-xs text-gray-400",children:["$",y(b.id,b.balance).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]}),l.jsx("div",{className:"flex-1 px-6 overflow-y-auto",children:l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-semibold mb-3",children:"Selecione a rede"}),l.jsx("div",{className:"space-y-2",children:m.map(S=>l.jsxs("button",{onClick:()=>a(S.id),className:"w-full bg-zinc-900 rounded-xl p-4 flex items-center gap-3 transition-all hover:bg-zinc-800",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:l.jsx(At,{symbol:S.icon,size:"sm"})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("div",{className:"font-semibold text-sm",children:S.name}),l.jsxs("div",{className:"text-xs text-gray-400",children:["Taxa: ",S.fee]})]})]},S.id))})]})})]}):l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[l.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-lg",children:"Enviar"})]}),l.jsx("div",{className:"px-6 mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(Gl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Pesquise criptomoedas compatveis",value:e,onChange:S=>n(S.target.value),className:"w-full bg-zinc-900 text-white rounded-full py-3.5 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-gray-700 placeholder-gray-500"})]})}),l.jsxs("div",{className:"flex-1 px-6 overflow-y-auto",children:[l.jsx("div",{className:"space-y-0",children:x.map(S=>{const O=y(S.id,S.balance);return l.jsxs("button",{className:"w-full bg-zinc-900/50 hover:bg-zinc-800/50 transition-colors p-4 flex items-center gap-4 border-b border-zinc-800/50 last:border-b-0",onClick:()=>i(S.symbol),children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(At,{symbol:S.symbol,size:"md"})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("div",{className:"font-semibold text-base",children:S.symbol}),l.jsx("div",{className:"text-sm text-gray-400",children:S.name})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"font-semibold text-base",children:[p(S.balance)," ",S.symbol]}),l.jsxs("div",{className:"text-sm text-gray-400",children:["$",O.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},S.symbol)})}),x.length===0&&l.jsx("div",{className:"text-center py-12",children:l.jsx("p",{className:"text-gray-400",children:"Nenhuma criptomoeda encontrada"})})]})]})}async function OCe(t,e){try{console.log(" ============ VALIDAO DE CHAVE PIX ============"),console.log(" Chave digitada pelo usurio:",t),console.log(" User ID atual:",e);const n=t.includes("@");let r;n?r=t.trim().replace(/\s/g,"").toLowerCase():r=t.trim().replace(/\s/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\+/g,"").toLowerCase(),console.log(" Tipo detectado:",n?"EMAIL":"TELEFONE/CPF/CNPJ"),console.log(" Chave PIX limpa para busca:",r);const i=it(Se,"pixKeys");console.log(" Buscando todas as chaves PIX no Firestore...");const s=await Tt(i);console.log(" Total de chaves PIX no sistema:",s.size),console.log(" ============ TODAS AS CHAVES NO SISTEMA ============"),s.docs.forEach((m,p)=>{const y=m.data();console.log(`  [${p+1}] ID: ${m.id}`),console.log(`      keyValue: "${y.keyValue}"`),console.log(`      keyType: ${y.keyType}`),console.log(`      userId: ${y.userId}`)}),console.log(" ====================================================");let a=null;for(const m of s.docs){const p=m.data(),y=p.keyValue||"",x=y.includes("@");let b;if(x?b=y.trim().replace(/\s/g,"").toLowerCase():b=y.trim().replace(/\s/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\+/g,"").toLowerCase(),console.log(" Comparando:"),console.log(`   Digitado (limpo): "${r}"`),console.log(`   Armazenado (original): "${y}"`),console.log(`   Armazenado (limpo): "${b}"`),console.log(`   Match: ${b===r?" SIM":" NO"}`),b===r){a={id:m.id,...p},console.log(" ============ CHAVE ENCONTRADA! ============"),console.log(" Documento ID:",m.id),console.log(" User ID:",p.userId),console.log(" Key Type:",p.keyType),console.log(" Key Value:",p.keyValue),console.log(" ==========================================");break}}if(!a)return console.error(" ============ CHAVE NO ENCONTRADA ============"),console.error(" Chave digitada:",t),console.error(" Chave limpa:",r),console.error(" Total de chaves no sistema:",s.size),console.error(" ============================================="),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Chave PIX no encontrada no sistema NexCoin"};const o=a;if(!o.userId)return console.error(" Chave encontrada mas sem userId!"),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Chave PIX invlida (sem usurio vinculado)"};if(e&&o.userId===e)return console.warn(" Tentativa de auto-transferncia PIX detectada"),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Voc no pode transferir para a sua prpria chave PIX."};const c=ct(Se,"users",o.userId),d=await os(c),f=d.exists()&&(d.data().name||d.data().email)||"Usurio";return console.log(" Chave PIX vlida! Destinatrio:",f,"(",o.userId,")"),{isValid:!0,userId:o.userId,userName:f,pixKeyType:o.keyType||"unknown"}}catch(n){return console.error(" ============ ERRO NA VALIDAO ============"),console.error(" Erro:",n),console.error(" ========================================="),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Erro ao validar chave PIX"}}}async function MCe(t){try{console.log(" Iniciando transferncia PIX:",t);const{fromUserId:e,toUserId:n,currency:r,amount:i,pixKey:s,pixKeyType:a,description:o,transactionId:c}=t;if(!e||!n)throw new Error("Remetente ou destinatrio invlido");if(e===n)throw new Error("No  possvel transferir para si mesmo");if(i<=0)throw new Error("Valor invlido");return await vA(Se,async d=>{const f=ct(Se,"users",e,"fiatBalances",r),m=await d.get(f),p=ct(Se,"users",n,"fiatBalances",r),y=await d.get(p);let x=0;m.exists()&&(x=m.data().balance||m.data().amount||0),x<i&&(console.warn(` Saldo fiat insuficiente (${x} ${r}). Isso indica que o usurio est usando saldo do portfolio.`),console.warn(" A validao do saldo j foi feita no frontend. Permitindo transferncia."));const b=Math.max(0,x-i);let _=0;y.exists()&&(_=y.data().balance||y.data().amount||0);const S=_+i;m.exists()?d.update(f,{balance:b,updatedAt:new Date}):d.set(f,{currency:r,balance:b,createdAt:new Date,updatedAt:new Date}),console.log(` Debitado ${i} ${r} de ${e}. Novo saldo: ${b}`),y.exists()?d.update(p,{balance:S,updatedAt:new Date}):d.set(p,{currency:r,balance:S,createdAt:new Date,updatedAt:new Date}),console.log(` Creditado ${i} ${r} para ${n}. Novo saldo: ${S}`);const O=ct(it(Se,"users",e,"transactions"));d.set(O,{id:O.id,type:"pix_send",currency:r,amount:-i,fee:0,feeCurrency:r,pixKey:s,pixKeyType:a,toUserId:n,status:"completed",transactionId:c,createdAt:gt.fromDate(new Date),description:o||`PIX enviado para ${s}`});const R=ct(it(Se,"users",n,"transactions"));d.set(R,{id:R.id,type:"pix_receive",currency:r,amount:i,fee:0,feeCurrency:r,pixKey:s,pixKeyType:a,fromUserId:e,status:"completed",transactionId:c,createdAt:gt.fromDate(new Date),description:o||`PIX recebido de ${s}`})}),console.log(" Transferncia PIX concluda com sucesso!"),{success:!0,transactionId:c}}catch(e){return console.error(" Erro ao processar transferncia PIX:",e),{success:!1,error:e.message||"Erro ao processar transferncia PIX"}}}function LCe(){const t=Date.now(),e=Math.random().toString(36).substring(2,9).toUpperCase();return`PIX${t}${e}`}function VCe({onNavigate:t,transactionData:e}){const[n,r]=E.useState(null),[i,s]=E.useState("idle"),a=(c,d)=>{const f=document.createElement("textarea");f.value=c,f.style.position="fixed",f.style.left="-999999px",f.style.top="-999999px",document.body.appendChild(f),f.focus(),f.select();try{document.execCommand("copy"),r(d),setTimeout(()=>r(null),2e3)}catch(m){console.error("Erro ao copiar:",m)}document.body.removeChild(f)},o=async()=>{const c=` Comprovante de Transferncia NexCoin

 Valor: ${e.symbol} ${e.amount}
 Moeda: ${e.currency}
 ID: ${e.transactionId}

 Mtodo: ${e.method}
 Destinatrio: ${e.recipientInfo}

 Status: ${e.status}
 Taxa: ${e.symbol} ${e.fee.toFixed(2)}
 Processamento: ${e.processingTime}
 Data: ${e.date}

 NexCoin - Seu banco digital de criptomoedas`;s("sharing");const d=m=>{try{const p=document.createElement("textarea");p.value=m,p.style.position="fixed",p.style.left="-999999px",p.style.top="-999999px",p.style.opacity="0",document.body.appendChild(p),p.focus(),p.select();const y=document.execCommand("copy");return document.body.removeChild(p),y?(console.log(" Comprovante copiado para rea de transferncia"),s("copied"),setTimeout(()=>s("idle"),3e3),!0):!1}catch(p){return console.error(" Erro ao copiar:",p),!1}},f=window.isSecureContext;try{if(f&&navigator.share&&typeof navigator.canShare=="function"&&navigator.canShare({text:c}))try{await navigator.share({title:" Comprovante de Transferncia - NexCoin",text:c}),console.log(" Comprovante compartilhado com sucesso"),s("idle");return}catch(p){if(p.name==="AbortError"){console.log(" Compartilhamento cancelado pelo usurio"),s("idle");return}console.log(" Web Share API no disponvel, usando mtodo alternativo...")}if(f&&navigator.clipboard&&typeof navigator.clipboard.writeText=="function")try{await navigator.clipboard.writeText(c),console.log(" Comprovante copiado para rea de transferncia"),s("copied"),setTimeout(()=>s("idle"),3e3);return}catch{console.log(" Clipboard API no disponvel, usando mtodo compatvel...")}d(c)||(console.error(" No foi possvel copiar o comprovante"),s("idle"),alert("No foi possvel copiar o comprovante. Por favor, tire um screenshot desta tela."))}catch(m){console.error(" Erro inesperado:",m),d(c)||(s("idle"),alert("No foi possvel copiar o comprovante. Por favor, tire um screenshot desta tela."))}};return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsx("button",{onClick:()=>t("home"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex flex-col items-center mb-6",children:[l.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mb-4 relative",children:l.jsx("div",{className:"w-16 h-16 bg-green-500/30 rounded-full flex items-center justify-center",children:l.jsx(qK,{className:"w-10 h-10 text-green-500"})})}),l.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Transferncia Confirmada!"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Comprovante de transferncia"})]})]}),l.jsxs("div",{className:"flex-1 px-6 space-y-4",children:[l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Status"}),l.jsx("div",{className:"bg-green-500/20 px-3 py-1 rounded-full",children:l.jsx("span",{className:"text-xs font-semibold text-green-500",children:e.status})})]}),l.jsx("div",{className:"h-px bg-zinc-800 mb-3"}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-4xl font-bold mb-1",children:[e.symbol," ",e.amount]}),l.jsx("div",{className:"text-sm text-gray-400",children:e.currency})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"ID da transao"}),l.jsx("button",{onClick:()=>a(e.transactionId,"txid"),className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:n==="txid"?l.jsxs(l.Fragment,{children:[l.jsx(An,{className:"w-3 h-3"})," Copiado"]}):l.jsxs(l.Fragment,{children:[l.jsx(vn,{className:"w-3 h-3"})," Copiar"]})})]}),l.jsx("div",{className:"font-mono text-sm bg-zinc-800 rounded-lg px-3 py-2 break-all",children:e.transactionId})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[l.jsx("h3",{className:"text-xs text-gray-400 font-semibold mb-3",children:"Detalhes da transferncia"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Mtodo"}),l.jsx("span",{className:"font-semibold",children:e.method})]}),l.jsx("div",{className:"h-px bg-zinc-800"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Taxa"}),l.jsxs("span",{className:"font-semibold",children:[e.symbol," ",e.fee.toFixed(2)]})]}),l.jsx("div",{className:"h-px bg-zinc-800"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Processamento"}),l.jsx("span",{className:"font-semibold text-yellow-500",children:e.processingTime})]}),l.jsx("div",{className:"h-px bg-zinc-800"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Data"}),l.jsx("span",{className:"font-semibold",children:e.date})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Destinatrio"}),l.jsx("button",{onClick:()=>a(e.recipientInfo,"recipient"),className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:n==="recipient"?l.jsxs(l.Fragment,{children:[l.jsx(An,{className:"w-3 h-3"})," Copiado"]}):l.jsxs(l.Fragment,{children:[l.jsx(vn,{className:"w-3 h-3"})," Copiar"]})})]}),l.jsx("div",{className:"text-sm text-white break-all",children:e.recipientInfo})]}),l.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 text-sm",children:l.jsxs("p",{className:"text-blue-200/90",children:[l.jsx("span",{className:"font-semibold",children:" Importante:"})," Guarde este comprovante para referncia futura. O processamento pode levar at ",e.processingTime,"."]})})]}),l.jsxs("div",{className:"px-6 pt-4 space-y-3",children:[l.jsx("button",{onClick:o,disabled:i==="sharing",className:`w-full font-semibold py-4 rounded-xl transition-colors flex items-center justify-center gap-2 ${i==="copied"?"bg-green-500 text-white":"bg-zinc-900 text-white hover:bg-zinc-800"} ${i==="sharing"?"opacity-50 cursor-not-allowed":""}`,children:i==="sharing"?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Compartilhando..."]}):i==="copied"?l.jsxs(l.Fragment,{children:[l.jsx(An,{className:"w-5 h-5"}),"Copiado para rea de transferncia!"]}):l.jsxs(l.Fragment,{children:[l.jsx(UV,{className:"w-5 h-5"}),"Compartilhar comprovante"]})}),l.jsx("button",{onClick:()=>t("home"),className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-gray-200 transition-colors",children:"Voltar para Home"})]})]})}function FCe({onNavigate:t}){const[e,n]=E.useState("BR"),[r,i]=E.useState(null),[s,a]=E.useState(null),[o,c]=E.useState(""),[d,f]=E.useState(!1),[m,p]=E.useState(!1),[y,x]=E.useState(!1),[b,_]=E.useState(null),[S,O]=E.useState(""),{rates:R}=kA(),{portfolio:z}=$s(),{user:P}=Ft(),{getBalance:A}=kg(),{addTransaction:N}=hw(),[T,I]=E.useState([]),[j,D]=E.useState(!0),[F,V]=E.useState(""),[$,Z]=E.useState(null),[J,B]=E.useState(null),[Q,H]=E.useState({bank:"",bankCode:"",agency:"",account:"",accountType:"Conta Corrente",name:"",document:""}),[k,U]=E.useState({accountNumber:"",routingNumber:"",accountType:"Checking",name:"",address:""}),[G,K]=E.useState({iban:"",bic:"",name:"",address:""}),[X,te]=E.useState({accountNumber:"",sortCode:"",name:"",address:""}),re=[{code:"BR",name:"Brasil",flag:"",currency:"BRL",symbol:"R$"},{code:"US",name:"Estados Unidos",flag:"",currency:"USD",symbol:"$"},{code:"EU",name:"Unio Europeia",flag:"",currency:"EUR",symbol:""},{code:"GB",name:"Reino Unido",flag:"",currency:"GBP",symbol:""}].find(de=>de.code===e),xe=z.totalBalanceUSDT,ae=de=>de*(R[re.currency]||1),ve=ae(xe),me={BR:[{id:"pix",name:"PIX",icon:ts,description:"Transferncia instantnea",processingTime:"Instantneo",minAmount:.01,maxAmount:1/0,fee:0},{id:"bank",name:"Transferncia Bancria",icon:vl,description:"TED ou DOC",processingTime:"1-2 dias teis",minAmount:.01,maxAmount:1/0,fee:0}],US:[{id:"ach",name:"ACH Transfer",icon:vl,description:"Electronic bank transfer",processingTime:"3-5 business days",minAmount:.01,maxAmount:1/0,fee:0},{id:"wire",name:"Wire Transfer",icon:ts,description:"Domestic wire",processingTime:"Same day",minAmount:.01,maxAmount:1/0,fee:25}],EU:[{id:"sepa",name:"SEPA Transfer",icon:vl,description:"Single Euro Payments Area",processingTime:"1-2 business days",minAmount:.01,maxAmount:1/0,fee:0},{id:"instant",name:"SEPA Instant",icon:ts,description:"Instant SEPA transfer",processingTime:"Instant",minAmount:.01,maxAmount:1/0,fee:2}],GB:[{id:"faster",name:"Faster Payments",icon:ts,description:"Instant bank transfer",processingTime:"Instant",minAmount:.01,maxAmount:1/0,fee:0},{id:"bacs",name:"BACS Transfer",icon:vl,description:"Standard bank transfer",processingTime:"3 business days",minAmount:.01,maxAmount:1/0,fee:0}]}[e],Ie=me.find(de=>de.id===s);E.useEffect(()=>{if(!P?.uid){D(!1);return}const de=it(Se,"bankAccounts"),Ke=jt(de,Et("userId","==",P.uid)),dt=zi(Ke,nt=>{const rt=nt.docs.map(Rt=>({...Rt.data(),id:Rt.id,createdAt:Rt.data().createdAt?.toDate()||new Date}));if(I(rt),D(!1),rt.length>0&&!r){const Rt=rt[0];i(Rt);const pr={BR:"BR",US:"US",PT:"EU",ES:"EU",FR:"EU",DE:"EU",IT:"EU",GB:"GB",UK:"GB"}[Rt.country]||"BR";n(pr)}},nt=>{console.error(" Erro ao carregar contas:",nt),D(!1)});return()=>dt()},[P]);const De={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",KRW:"",ZAR:"R",ARS:"$",CLP:"$"},Je=de=>{switch(de.country){case"BR":return{label:"Pix",icon:""};case"US":return{label:` ${de.accountNumber.slice(-4)}`};case"PT":case"ES":case"FR":case"DE":case"IT":return{label:` ${de.iban?.slice(-4)||de.accountNumber.slice(-4)}`};default:return{label:` ${de.accountNumber.slice(-4)}`}}},ot=de=>{const Ke=De[de]||de,nt=A(de).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});return`${Ke} ${nt}`},Fe=de=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(de),pt=de=>{const Ke=de.replace(/\D/g,"");if(Ke===""){c("");return}let nt=parseInt(Ke,10)/100;const rt=A(re.currency);nt>rt&&(nt=rt);const Rt=nt.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});c(Rt)},ut=de=>{if(!de)return{isValid:!1,type:null,error:null};const Ke=de.replace(/\s/g,"");return/^\d{11}$/.test(Ke)?{isValid:!0,type:"CPF",error:null}:/^\d{14}$/.test(Ke)?{isValid:!0,type:"CNPJ",error:null}:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(de)?{isValid:!0,type:"E-mail",error:null}:/^(\+55)?(\d{10,11})$/.test(Ke)?{isValid:!0,type:"Telefone",error:null}:/^[a-f0-9]{8}-?[a-f0-9]{4}-?[a-f0-9]{4}-?[a-f0-9]{4}-?[a-f0-9]{12}$/i.test(Ke)?{isValid:!0,type:"Chave Aleatria",error:null}:{isValid:!1,type:null,error:"Tipo de chave PIX no reconhecido. Use CPF, CNPJ, E-mail, Telefone ou Chave Aleatria."}},oe=de=>{let Ke=de.toLowerCase();Ke=Ke.replace(/[\s\-()]/g,""),V(Ke);const dt=ut(Ke);Z(dt.type),B(dt.error)},Ne=async()=>{if(!P?.uid){Me.error("Usurio no autenticado");return}const de=parseFloat(o.replace(/\./g,"").replace(",","."));if(console.log(" ============ VALIDAO DE TRANSFERNCIA PIX ============"),console.log(" Valor digitado (formatado):",o),console.log(" Valor convertido (nmero):",de),console.log(" Moeda:",re.currency),console.log(" Valor mnimo permitido:",Ie?.minAmount),!de||de<(Ie?.minAmount||0)){Me.error(`Valor mnimo: ${re.symbol} ${Ie?.minAmount}`);return}const Ke=A(re.currency),dt=ae(xe);console.log(" ====== DEBUG DE SALDOS ======"),console.log(" Saldo Fiat (Firestore):",Ke),console.log(" Saldo Portfolio (USDT):",xe),console.log(" Saldo Portfolio Convertido:",dt),console.log(" Taxa de converso:",R[re.currency]);const nt=Math.max(Ke,dt);if(console.log("  Saldo disponvel TOTAL para transferncia:",nt),console.log(" Comparao:",de,">",nt,"=",de>nt),de>nt){console.error(" SALDO INSUFICIENTE!"),console.error(" Tentou transferir:",de),console.error(" Saldo disponvel:",nt),console.error(" Diferena:",de-nt),Me.error(`Saldo insuficiente. Disponvel: ${re.symbol} ${Fe(nt)}`);return}if(console.log(" Validao de saldo OK!"),console.log(" ===================================================="),e==="BR"&&s==="pix"){if(!F){Me.error("Informe a chave PIX");return}const rt=ut(F);if(!rt.isValid){Me.error(rt.error||"Chave PIX invlida");return}}if(e==="BR"&&s==="bank"&&(!Q.bank||!Q.agency||!Q.account||!Q.name)){Me.error("Preencha todos os dados bancrios");return}if(e==="US"&&(!k.accountNumber||!k.routingNumber||!k.name)){Me.error("Fill in all bank details");return}if(e==="EU"&&(!G.iban||!G.name)){Me.error("Fill in all bank details");return}if(e==="GB"&&(!X.accountNumber||!X.sortCode||!X.name)){Me.error("Fill in all bank details");return}x(!0);try{if(e==="BR"&&s==="pix"){console.log(" Verificando se chave PIX pertence a um usurio NexCoin...");const Rn=await OCe(F,P.uid);if(Rn.isValid&&Rn.userId){console.log(" Chave PIX encontrada no sistema NexCoin"),console.log(` Remetente: ${P.uid}`),console.log(` Destinatrio: ${Rn.userId} (${Rn.userName})`);const Ws=LCe(),$r=await MCe({fromUserId:P.uid,toUserId:Rn.userId,currency:re.currency,amount:de,pixKey:F,pixKeyType:Rn.pixKeyType||$||"unknown",description:`Transferncia PIX para ${Rn.userName}`,transactionId:Ws,createdAt:new Date});if(!$r.success)throw new Error($r.error||"Erro ao processar transferncia PIX");console.log(" Transferncia PIX entre usurios concluda!"),Me.success(`Transferncia enviada para ${Rn.userName}!`),O(Ws),x(!1),f(!0);return}else{console.warn(" Chave PIX no encontrada no sistema NexCoin"),Me.error(Rn.error||"Chave PIX no encontrada no sistema NexCoin. Apenas transferncias entre usurios NexCoin so suportadas no momento."),x(!1);return}}let rt="";e==="BR"&&s==="pix"?rt=`Transferncia PIX - ${F}`:e==="BR"&&s==="bank"?rt=`Transferncia TED - ${Q.name}`:rt=`Transferncia via ${Ie?.name}`;const Rt=await Pl(P.uid,re.currency,-de,rt);if(!Rt.success)throw new Error(Rt.message||"Erro ao processar transferncia");let Yt="";e==="BR"&&s==="pix"?Yt=`Chave PIX: ${F} (${$})`:e==="BR"&&s==="bank"?Yt=`${Q.name} - ${Q.bank} Ag: ${Q.agency} Conta: ${Q.account}`:e==="US"?Yt=`${k.name} - Account: ${k.accountNumber}`:e==="EU"?Yt=`${G.name} - IBAN: ${G.iban}`:e==="GB"&&(Yt=`${X.name} - Sort Code: ${X.sortCode} Account: ${X.accountNumber}`);const pr=`TX${Date.now()}${Math.floor(Math.random()*1e3)}`;O(pr),await N({type:"withdraw_fiat",status:"completed",amount:de,currency:re.currency,fee:Ie?.fee||0,feeCurrency:re.currency,description:rt,recipientInfo:Yt,transactionHash:pr}),console.log(" Transferncia processada com sucesso"),Me.success("Transferncia realizada com sucesso!"),x(!1),f(!0)}catch(rt){console.error(" Erro ao processar transferncia:",rt),Me.error(rt.message||"Erro ao processar transferncia"),x(!1)}},Xe=()=>s?e==="BR"&&s==="pix"?l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-start justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg mb-1",children:"Transferir via PIX"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Transferncia instantnea"})]}),l.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:l.jsx(ts,{className:"w-6 h-6 text-white"})})]})]}),l.jsx("div",{className:"px-6 mb-6",children:l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Saldo disponvel"}),l.jsx("div",{className:"text-white",children:l.jsx(wa,{value:Fe(A("BRL")),symbol:"R$"})})]})}),l.jsxs("div",{className:"px-6 space-y-4",children:[l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Valor a transferir"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-xl font-light text-white",children:re.symbol}),l.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:o,onChange:de=>pt(de.target.value),className:"flex-1 bg-transparent text-xl font-light text-white outline-none placeholder-gray-600"})]}),l.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Mn: ",re.symbol," ",Ie?.minAmount,"  Mx: ",re.symbol," ",Fe(Ie?.maxAmount||0)]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Chave PIX do destinatrio"}),l.jsx("input",{type:"text",placeholder:"CPF, E-mail, Telefone ou Chave Aleatria",value:F,onChange:de=>oe(de.target.value),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),l.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Informe a chave PIX de quem vai receber a transferncia"}),J&&l.jsx("p",{className:"text-xs text-red-500 mt-1",children:J})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Taxa"}),l.jsxs("span",{className:"text-white",children:[re.symbol," 0,00"]})]}),l.jsx("div",{className:"h-px bg-zinc-800"}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Tempo"}),l.jsx("span",{className:"text-green-500",children:"Instantneo"})]})]}),l.jsx("button",{onClick:Ne,disabled:y,className:"w-full bg-white text-black py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processando...":"Confirmar Transferncia"})]})]}):e==="BR"&&s==="bank"?l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-start justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-lg mb-1",children:"Transferncia Bancria"}),l.jsx("p",{className:"text-sm text-gray-400",children:"TED ou DOC"})]}),l.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:l.jsx(vl,{className:"w-6 h-6 text-white"})})]})]}),l.jsx("div",{className:"px-6 mb-6",children:l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Saldo disponvel"}),l.jsxs("div",{className:"text-2xl font-bold text-white",children:[re.symbol," ",Fe(ve)]})]})}),l.jsxs("div",{className:"px-6 space-y-4",children:[l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Valor"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl font-bold text-white",children:re.symbol}),l.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:o,onChange:de=>pt(de.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[l.jsx("input",{type:"text",placeholder:"Banco",value:Q.bank,onChange:de=>H({...Q,bank:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("input",{type:"text",placeholder:"Cdigo",value:Q.bankCode,onChange:de=>H({...Q,bankCode:de.target.value}),className:"bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),l.jsx("input",{type:"text",placeholder:"Agncia",value:Q.agency,onChange:de=>H({...Q,agency:de.target.value}),className:"bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),l.jsx("input",{type:"text",placeholder:"Conta",value:Q.account,onChange:de=>H({...Q,account:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),l.jsxs("select",{value:Q.accountType,onChange:de=>H({...Q,accountType:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none",children:[l.jsx("option",{value:"Conta Corrente",children:"Conta Corrente"}),l.jsx("option",{value:"Conta Poupana",children:"Conta Poupana"})]}),l.jsx("input",{type:"text",placeholder:"Nome completo",value:Q.name,onChange:de=>H({...Q,name:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),l.jsx("input",{type:"text",placeholder:"CPF/CNPJ",value:Q.document,onChange:de=>H({...Q,document:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),l.jsx("button",{onClick:Ne,disabled:y,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processando...":"Confirmar Transferncia"})]})]}):e==="US"&&(s==="ach"||s==="wire")?l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-start justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-1",children:s==="ach"?"ACH Transfer":"Wire Transfer"}),l.jsx("p",{className:"text-sm text-gray-400",children:s==="ach"?"Electronic bank transfer":"Domestic wire"})]}),l.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:s==="ach"?l.jsx(vl,{className:"w-6 h-6 text-white"}):l.jsx(ts,{className:"w-6 h-6 text-white"})})]})]}),l.jsx("div",{className:"px-6 mb-6",children:l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Available balance"}),l.jsxs("div",{className:"text-2xl font-bold text-white",children:[re.symbol," ",Fe(ve)]})]})}),l.jsxs("div",{className:"px-6 space-y-4",children:[l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Amount"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl font-bold text-white",children:re.symbol}),l.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:o,onChange:de=>pt(de.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[l.jsx("input",{type:"text",placeholder:"Routing Number",value:k.routingNumber,onChange:de=>U({...k,routingNumber:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),l.jsx("input",{type:"text",placeholder:"Account Number",value:k.accountNumber,onChange:de=>U({...k,accountNumber:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),l.jsxs("select",{value:k.accountType,onChange:de=>U({...k,accountType:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none",children:[l.jsx("option",{value:"Checking",children:"Checking"}),l.jsx("option",{value:"Savings",children:"Savings"})]}),l.jsx("input",{type:"text",placeholder:"Account holder name",value:k.name,onChange:de=>U({...k,name:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),l.jsx("input",{type:"text",placeholder:"Address",value:k.address,onChange:de=>U({...k,address:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),l.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Fee"}),l.jsxs("span",{className:"font-semibold text-white",children:[re.symbol," ",Ie?.fee||0]})]})}),l.jsx("button",{onClick:Ne,disabled:y,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processing...":"Confirm Transfer"})]})]}):e==="EU"&&(s==="sepa"||s==="instant")?l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-start justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-1",children:s==="sepa"?"SEPA Transfer":"SEPA Instant"}),l.jsx("p",{className:"text-sm text-gray-400",children:s==="sepa"?"Single Euro Payments Area":"Instant transfer"})]}),l.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:s==="sepa"?l.jsx(vl,{className:"w-6 h-6 text-white"}):l.jsx(ts,{className:"w-6 h-6 text-white"})})]})]}),l.jsx("div",{className:"px-6 mb-6",children:l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Available balance"}),l.jsxs("div",{className:"text-2xl font-bold text-white",children:[re.symbol," ",Fe(ve)]})]})}),l.jsxs("div",{className:"px-6 space-y-4",children:[l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Amount"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl font-bold text-white",children:re.symbol}),l.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:o,onChange:de=>pt(de.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[l.jsx("input",{type:"text",placeholder:"IBAN",value:G.iban,onChange:de=>K({...G,iban:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500 font-mono text-sm"}),l.jsx("input",{type:"text",placeholder:"BIC/SWIFT (optional)",value:G.bic,onChange:de=>K({...G,bic:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),l.jsx("input",{type:"text",placeholder:"Beneficiary name",value:G.name,onChange:de=>K({...G,name:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),l.jsx("input",{type:"text",placeholder:"Address",value:G.address,onChange:de=>K({...G,address:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),l.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Fee"}),l.jsxs("span",{className:"font-semibold text-white",children:[re.symbol," ",Ie?.fee||0]})]})}),l.jsx("button",{onClick:Ne,disabled:y,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processing...":"Confirm Transfer"})]})]}):e==="GB"&&(s==="faster"||s==="bacs")?l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-start justify-between mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-1",children:s==="faster"?"Faster Payments":"BACS Transfer"}),l.jsx("p",{className:"text-sm text-gray-400",children:s==="faster"?"Instant bank transfer":"Standard bank transfer"})]}),l.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:s==="faster"?l.jsx(ts,{className:"w-6 h-6 text-white"}):l.jsx(vl,{className:"w-6 h-6 text-white"})})]})]}),l.jsx("div",{className:"px-6 mb-6",children:l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Available balance"}),l.jsxs("div",{className:"text-2xl font-bold text-white",children:[re.symbol," ",Fe(ve)]})]})}),l.jsxs("div",{className:"px-6 space-y-4",children:[l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Amount"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-2xl font-bold text-white",children:re.symbol}),l.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:o,onChange:de=>pt(de.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[l.jsx("input",{type:"text",placeholder:"Sort Code (12-34-56)",value:X.sortCode,onChange:de=>te({...X,sortCode:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),l.jsx("input",{type:"text",placeholder:"Account Number",value:X.accountNumber,onChange:de=>te({...X,accountNumber:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),l.jsx("input",{type:"text",placeholder:"Account holder name",value:X.name,onChange:de=>te({...X,name:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),l.jsx("input",{type:"text",placeholder:"Address",value:X.address,onChange:de=>te({...X,address:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),l.jsx("button",{onClick:Ne,disabled:y,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processing...":"Confirm Transfer"})]})]}):null:null;if(d){let de="";e==="BR"&&s==="pix"?de=`Chave PIX: ${F} (${$})`:e==="BR"&&s==="bank"?de=`${Q.name} - ${Q.bank} Ag: ${Q.agency} Conta: ${Q.account}`:e==="US"?de=`${k.name} - Account: ${k.accountNumber}`:e==="EU"?de=`${G.name} - IBAN: ${G.iban}`:e==="GB"&&(de=`${X.name} - Sort Code: ${X.sortCode} Account: ${X.accountNumber}`);const Ke={transactionId:S,amount:o,currency:re.currency,symbol:re.symbol,method:Ie?.name||"",processingTime:Ie?.processingTime||"",fee:Ie?.fee||0,recipientInfo:de,date:new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),status:"Processando"};return l.jsx(VCe,{onNavigate:t,transactionData:Ke})}return s?Xe():l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsx("button",{onClick:()=>t("home"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-lg mb-2",children:"Enviar Dinheiro"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Escolha seu pas e mtodo de transferncia"})]}),l.jsxs("div",{className:"px-6 mb-6",children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-3 font-semibold",children:"Selecione a Conta"}),j?l.jsx("div",{className:"bg-zinc-900/50 rounded-2xl h-32 animate-pulse"}):T.length===0?l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 text-center",children:[l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Nenhuma conta encontrada"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Adicione uma conta na pgina Home"})]}):l.jsx("div",{className:"space-y-3",children:T.map(de=>{const Ke=Je(de),dt=r?.id===de.id;return l.jsxs("button",{onClick:()=>{i(de);const rt={BR:"BR",US:"US",PT:"EU",ES:"EU",FR:"EU",DE:"EU",IT:"EU",GB:"GB",UK:"GB"}[de.country]||"BR";n(rt)},className:`w-full bg-gradient-to-br from-zinc-800/90 via-zinc-900/95 to-black backdrop-blur-xl rounded-2xl p-4 border transition-all active:scale-[0.98] text-left relative overflow-hidden group ${dt?"ring-2 ring-white border-white/30":"border-zinc-700/60 hover:border-zinc-600"}`,children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] via-transparent to-transparent pointer-events-none"}),l.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[l.jsx("div",{className:"flex items-center gap-3 flex-1",children:l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-lg font-semibold text-white mb-1",children:de.currency}),l.jsxs("div",{className:"flex items-center gap-2",children:[Ke.icon&&l.jsx("span",{className:"text-cyan-400 text-xs",children:Ke.icon}),l.jsx("span",{className:"text-xs text-gray-400",children:Ke.label})]})]})}),l.jsxs("div",{className:"text-right ml-3",children:[l.jsx("div",{className:"text-base font-semibold text-white tabular-nums",children:ot(de.currency)}),(de.iban||de.accountNumber)&&l.jsxs("div",{className:"text-xs text-gray-500 mt-1 font-mono",children:[" ",(de.iban||de.accountNumber).slice(-4)]})]})]})]},de.id)})})]}),l.jsx("div",{className:"px-6 mb-6",children:l.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[l.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Saldo disponvel para transferncia"}),l.jsx("div",{className:"text-white",children:r?l.jsx(wa,{value:Fe(A(r.currency)),symbol:De[r.currency]}):l.jsx(wa,{value:Fe(A(re.currency)),symbol:re.symbol})}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r?`Conta ${r.currency}`:` ${Fe(xe)} USDT`})]})}),l.jsxs("div",{className:"flex-1 px-6",children:[l.jsx("label",{className:"block text-xs text-gray-400 mb-3 font-semibold",children:"Mtodos de transferncia"}),l.jsx("div",{className:"space-y-3",children:me.map(de=>{const Ke=de.icon;return l.jsxs("button",{onClick:()=>a(de.id),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center flex-shrink-0",children:l.jsx(Ke,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("div",{className:"font-semibold text-lg mb-1",children:de.name}),l.jsx("div",{className:"text-sm text-gray-400",children:de.description}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[de.processingTime,"  Sem limite de transferncia"]})]}),l.jsx("div",{className:"text-gray-400",children:l.jsx(vt,{className:"w-5 h-5 rotate-180"})})]},de.id)})})]}),l.jsx("div",{className:"px-6 pt-4",children:l.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 text-sm text-yellow-200/90",children:[l.jsx("p",{className:"font-semibold mb-1",children:" Importante"}),l.jsx("p",{className:"text-xs text-yellow-200/70",children:"Certifique-se de inserir os dados bancrios corretos. Transferncias para dados incorretos no podero ser revertidas."})]})})]})}var Qd={},CS,iV;function BCe(){return iV||(iV=1,CS=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),CS}var AS={},Sl={},sV;function nd(){if(sV)return Sl;sV=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Sl.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Sl.getSymbolTotalCodewords=function(r){return e[r]},Sl.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Sl.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},Sl.isKanjiModeEnabled=function(){return typeof t<"u"},Sl.toSJIS=function(r){return t(r)},Sl}var PS={},aV;function qI(){return aV||(aV=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(PS)),PS}var IS,oV;function zCe(){if(oV)return IS;oV=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},IS=t,IS}var jS,lV;function UCe(){if(lV)return jS;lV=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},jS=t,jS}var kS={},cV;function $Ce(){return cV||(cV=1,(function(t){const e=nd().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),a=s===145?26:Math.ceil((s-13)/(2*i-2))*2,o=[s-7];for(let c=1;c<i-1;c++)o[c]=o[c-1]-a;return o.push(6),o.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),a=s.length;for(let o=0;o<a;o++)for(let c=0;c<a;c++)o===0&&c===0||o===0&&c===a-1||o===a-1&&c===0||i.push([s[o],s[c]]);return i}})(kS)),kS}var RS={},uV;function qCe(){if(uV)return RS;uV=1;const t=nd().getSymbolSize,e=7;return RS.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},RS}var DS={},dV;function HCe(){return dV||(dV=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let a=0,o=0,c=0,d=null,f=null;for(let m=0;m<s;m++){o=c=0,d=f=null;for(let p=0;p<s;p++){let y=i.get(m,p);y===d?o++:(o>=5&&(a+=e.N1+(o-5)),d=y,o=1),y=i.get(p,m),y===f?c++:(c>=5&&(a+=e.N1+(c-5)),f=y,c=1)}o>=5&&(a+=e.N1+(o-5)),c>=5&&(a+=e.N1+(c-5))}return a},t.getPenaltyN2=function(i){const s=i.size;let a=0;for(let o=0;o<s-1;o++)for(let c=0;c<s-1;c++){const d=i.get(o,c)+i.get(o,c+1)+i.get(o+1,c)+i.get(o+1,c+1);(d===4||d===0)&&a++}return a*e.N2},t.getPenaltyN3=function(i){const s=i.size;let a=0,o=0,c=0;for(let d=0;d<s;d++){o=c=0;for(let f=0;f<s;f++)o=o<<1&2047|i.get(d,f),f>=10&&(o===1488||o===93)&&a++,c=c<<1&2047|i.get(f,d),f>=10&&(c===1488||c===93)&&a++}return a*e.N3},t.getPenaltyN4=function(i){let s=0;const a=i.data.length;for(let c=0;c<a;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/a/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const a=s.size;for(let o=0;o<a;o++)for(let c=0;c<a;c++)s.isReserved(c,o)||s.xor(c,o,n(i,c,o))},t.getBestMask=function(i,s){const a=Object.keys(t.Patterns).length;let o=0,c=1/0;for(let d=0;d<a;d++){s(d),t.applyMask(d,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(d,i),f<c&&(c=f,o=d)}return o}})(DS)),DS}var Pv={},fV;function sW(){if(fV)return Pv;fV=1;const t=qI(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Pv.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},Pv.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},Pv}var OS={},Om={},hV;function WCe(){if(hV)return Om;hV=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),Om.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Om.exp=function(r){return t[r]},Om.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},Om}var mV;function KCe(){return mV||(mV=1,(function(t){const e=WCe();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let a=0;a<r.length;a++)for(let o=0;o<i.length;o++)s[a+o]^=e.mul(r[a],i[o]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const a=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],a);let o=0;for(;o<s.length&&s[o]===0;)o++;s=s.slice(o)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(OS)),OS}var MS,pV;function GCe(){if(pV)return MS;pV=1;const t=KCe();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),a=this.degree-s.length;if(a>0){const o=new Uint8Array(this.degree);return o.set(s,a),o}return s},MS=e,MS}var LS={},VS={},FS={},gV;function aW(){return gV||(gV=1,FS.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),FS}var ga={},yV;function oW(){if(yV)return ga;yV=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;ga.KANJI=new RegExp(n,"g"),ga.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ga.BYTE=new RegExp(r,"g"),ga.NUMERIC=new RegExp(t,"g"),ga.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ga.testKanji=function(c){return i.test(c)},ga.testNumeric=function(c){return s.test(c)},ga.testAlphanumeric=function(c){return a.test(c)},ga}var vV;function rd(){return vV||(vV=1,(function(t){const e=aW(),n=oW();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,a){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?s.ccBits[0]:a<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,a){if(t.isValid(s))return s;try{return r(s)}catch{return a}}})(VS)),VS}var xV;function XCe(){return xV||(xV=1,(function(t){const e=nd(),n=sW(),r=qI(),i=rd(),s=aW(),a=7973,o=e.getBCHDigit(a);function c(p,y,x){for(let b=1;b<=40;b++)if(y<=t.getCapacity(b,x,p))return b}function d(p,y){return i.getCharCountIndicator(p,y)+4}function f(p,y){let x=0;return p.forEach(function(b){const _=d(b.mode,y);x+=_+b.getBitsLength()}),x}function m(p,y){for(let x=1;x<=40;x++)if(f(p,x)<=t.getCapacity(x,y,i.MIXED))return x}t.from=function(y,x){return s.isValid(y)?parseInt(y,10):x},t.getCapacity=function(y,x,b){if(!s.isValid(y))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=i.BYTE);const _=e.getSymbolTotalCodewords(y),S=n.getTotalCodewordsCount(y,x),O=(_-S)*8;if(b===i.MIXED)return O;const R=O-d(b,y);switch(b){case i.NUMERIC:return Math.floor(R/10*3);case i.ALPHANUMERIC:return Math.floor(R/11*2);case i.KANJI:return Math.floor(R/13);case i.BYTE:default:return Math.floor(R/8)}},t.getBestVersionForData=function(y,x){let b;const _=r.from(x,r.M);if(Array.isArray(y)){if(y.length>1)return m(y,_);if(y.length===0)return 1;b=y[0]}else b=y;return c(b.mode,b.getLength(),_)},t.getEncodedBits=function(y){if(!s.isValid(y)||y<7)throw new Error("Invalid QR Code version");let x=y<<12;for(;e.getBCHDigit(x)-o>=0;)x^=a<<e.getBCHDigit(x)-o;return y<<12|x}})(LS)),LS}var BS={},bV;function YCe(){if(bV)return BS;bV=1;const t=nd(),e=1335,n=21522,r=t.getBCHDigit(e);return BS.getEncodedBits=function(s,a){const o=s.bit<<3|a;let c=o<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(o<<10|c)^n},BS}var zS={},US,wV;function QCe(){if(wV)return US;wV=1;const t=rd();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,a;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),a=parseInt(s,10),r.put(a,10);const o=this.data.length-i;o>0&&(s=this.data.substr(i),a=parseInt(s,10),r.put(a,o*3+1))},US=e,US}var $S,_V;function JCe(){if(_V)return $S;_V=1;const t=rd(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let a=e.indexOf(this.data[s])*45;a+=e.indexOf(this.data[s+1]),i.put(a,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},$S=n,$S}var qS,EV;function ZCe(){if(EV)return qS;EV=1;const t=rd();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},qS=e,qS}var HS,SV;function eAe(){if(SV)return HS;SV=1;const t=rd(),e=nd();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},HS=n,HS}var WS={exports:{}},NV;function tAe(){return NV||(NV=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},a={};a[r]=0;var o=e.PriorityQueue.make();o.push(r,0);for(var c,d,f,m,p,y,x,b,_;!o.empty();){c=o.pop(),d=c.value,m=c.cost,p=n[d]||{};for(f in p)p.hasOwnProperty(f)&&(y=p[f],x=m+y,b=a[f],_=typeof a[f]>"u",(_||b>x)&&(a[f]=x,o.push(f,x),s[f]=d))}if(typeof i<"u"&&typeof a[i]>"u"){var S=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(S)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(WS)),WS.exports}var TV;function nAe(){return TV||(TV=1,(function(t){const e=rd(),n=QCe(),r=JCe(),i=ZCe(),s=eAe(),a=oW(),o=nd(),c=tAe();function d(S){return unescape(encodeURIComponent(S)).length}function f(S,O,R){const z=[];let P;for(;(P=S.exec(R))!==null;)z.push({data:P[0],index:P.index,mode:O,length:P[0].length});return z}function m(S){const O=f(a.NUMERIC,e.NUMERIC,S),R=f(a.ALPHANUMERIC,e.ALPHANUMERIC,S);let z,P;return o.isKanjiModeEnabled()?(z=f(a.BYTE,e.BYTE,S),P=f(a.KANJI,e.KANJI,S)):(z=f(a.BYTE_KANJI,e.BYTE,S),P=[]),O.concat(R,z,P).sort(function(N,T){return N.index-T.index}).map(function(N){return{data:N.data,mode:N.mode,length:N.length}})}function p(S,O){switch(O){case e.NUMERIC:return n.getBitsLength(S);case e.ALPHANUMERIC:return r.getBitsLength(S);case e.KANJI:return s.getBitsLength(S);case e.BYTE:return i.getBitsLength(S)}}function y(S){return S.reduce(function(O,R){const z=O.length-1>=0?O[O.length-1]:null;return z&&z.mode===R.mode?(O[O.length-1].data+=R.data,O):(O.push(R),O)},[])}function x(S){const O=[];for(let R=0;R<S.length;R++){const z=S[R];switch(z.mode){case e.NUMERIC:O.push([z,{data:z.data,mode:e.ALPHANUMERIC,length:z.length},{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.ALPHANUMERIC:O.push([z,{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.KANJI:O.push([z,{data:z.data,mode:e.BYTE,length:d(z.data)}]);break;case e.BYTE:O.push([{data:z.data,mode:e.BYTE,length:d(z.data)}])}}return O}function b(S,O){const R={},z={start:{}};let P=["start"];for(let A=0;A<S.length;A++){const N=S[A],T=[];for(let I=0;I<N.length;I++){const j=N[I],D=""+A+I;T.push(D),R[D]={node:j,lastCount:0},z[D]={};for(let F=0;F<P.length;F++){const V=P[F];R[V]&&R[V].node.mode===j.mode?(z[V][D]=p(R[V].lastCount+j.length,j.mode)-p(R[V].lastCount,j.mode),R[V].lastCount+=j.length):(R[V]&&(R[V].lastCount=j.length),z[V][D]=p(j.length,j.mode)+4+e.getCharCountIndicator(j.mode,O))}}P=T}for(let A=0;A<P.length;A++)z[P[A]].end=0;return{map:z,table:R}}function _(S,O){let R;const z=e.getBestModeForData(S);if(R=e.from(O,z),R!==e.BYTE&&R.bit<z.bit)throw new Error('"'+S+'" cannot be encoded with mode '+e.toString(R)+`.
 Suggested mode is: `+e.toString(z));switch(R===e.KANJI&&!o.isKanjiModeEnabled()&&(R=e.BYTE),R){case e.NUMERIC:return new n(S);case e.ALPHANUMERIC:return new r(S);case e.KANJI:return new s(S);case e.BYTE:return new i(S)}}t.fromArray=function(O){return O.reduce(function(R,z){return typeof z=="string"?R.push(_(z,null)):z.data&&R.push(_(z.data,z.mode)),R},[])},t.fromString=function(O,R){const z=m(O,o.isKanjiModeEnabled()),P=x(z),A=b(P,R),N=c.find_path(A.map,"start","end"),T=[];for(let I=1;I<N.length-1;I++)T.push(A.table[N[I]].node);return t.fromArray(y(T))},t.rawSplit=function(O){return t.fromArray(m(O,o.isKanjiModeEnabled()))}})(zS)),zS}var CV;function rAe(){if(CV)return AS;CV=1;const t=nd(),e=qI(),n=zCe(),r=UCe(),i=$Ce(),s=qCe(),a=HCe(),o=sW(),c=GCe(),d=XCe(),f=YCe(),m=rd(),p=nAe();function y(A,N){const T=A.size,I=s.getPositions(N);for(let j=0;j<I.length;j++){const D=I[j][0],F=I[j][1];for(let V=-1;V<=7;V++)if(!(D+V<=-1||T<=D+V))for(let $=-1;$<=7;$++)F+$<=-1||T<=F+$||(V>=0&&V<=6&&($===0||$===6)||$>=0&&$<=6&&(V===0||V===6)||V>=2&&V<=4&&$>=2&&$<=4?A.set(D+V,F+$,!0,!0):A.set(D+V,F+$,!1,!0))}}function x(A){const N=A.size;for(let T=8;T<N-8;T++){const I=T%2===0;A.set(T,6,I,!0),A.set(6,T,I,!0)}}function b(A,N){const T=i.getPositions(N);for(let I=0;I<T.length;I++){const j=T[I][0],D=T[I][1];for(let F=-2;F<=2;F++)for(let V=-2;V<=2;V++)F===-2||F===2||V===-2||V===2||F===0&&V===0?A.set(j+F,D+V,!0,!0):A.set(j+F,D+V,!1,!0)}}function _(A,N){const T=A.size,I=d.getEncodedBits(N);let j,D,F;for(let V=0;V<18;V++)j=Math.floor(V/3),D=V%3+T-8-3,F=(I>>V&1)===1,A.set(j,D,F,!0),A.set(D,j,F,!0)}function S(A,N,T){const I=A.size,j=f.getEncodedBits(N,T);let D,F;for(D=0;D<15;D++)F=(j>>D&1)===1,D<6?A.set(D,8,F,!0):D<8?A.set(D+1,8,F,!0):A.set(I-15+D,8,F,!0),D<8?A.set(8,I-D-1,F,!0):D<9?A.set(8,15-D-1+1,F,!0):A.set(8,15-D-1,F,!0);A.set(I-8,8,1,!0)}function O(A,N){const T=A.size;let I=-1,j=T-1,D=7,F=0;for(let V=T-1;V>0;V-=2)for(V===6&&V--;;){for(let $=0;$<2;$++)if(!A.isReserved(j,V-$)){let Z=!1;F<N.length&&(Z=(N[F]>>>D&1)===1),A.set(j,V-$,Z),D--,D===-1&&(F++,D=7)}if(j+=I,j<0||T<=j){j-=I,I=-I;break}}}function R(A,N,T){const I=new n;T.forEach(function($){I.put($.mode.bit,4),I.put($.getLength(),m.getCharCountIndicator($.mode,A)),$.write(I)});const j=t.getSymbolTotalCodewords(A),D=o.getTotalCodewordsCount(A,N),F=(j-D)*8;for(I.getLengthInBits()+4<=F&&I.put(0,4);I.getLengthInBits()%8!==0;)I.putBit(0);const V=(F-I.getLengthInBits())/8;for(let $=0;$<V;$++)I.put($%2?17:236,8);return z(I,A,N)}function z(A,N,T){const I=t.getSymbolTotalCodewords(N),j=o.getTotalCodewordsCount(N,T),D=I-j,F=o.getBlocksCount(N,T),V=I%F,$=F-V,Z=Math.floor(I/F),J=Math.floor(D/F),B=J+1,Q=Z-J,H=new c(Q);let k=0;const U=new Array(F),G=new Array(F);let K=0;const X=new Uint8Array(A.buffer);for(let ae=0;ae<F;ae++){const ve=ae<$?J:B;U[ae]=X.slice(k,k+ve),G[ae]=H.encode(U[ae]),k+=ve,K=Math.max(K,ve)}const te=new Uint8Array(I);let ie=0,re,xe;for(re=0;re<K;re++)for(xe=0;xe<F;xe++)re<U[xe].length&&(te[ie++]=U[xe][re]);for(re=0;re<Q;re++)for(xe=0;xe<F;xe++)te[ie++]=G[xe][re];return te}function P(A,N,T,I){let j;if(Array.isArray(A))j=p.fromArray(A);else if(typeof A=="string"){let Z=N;if(!Z){const J=p.rawSplit(A);Z=d.getBestVersionForData(J,T)}j=p.fromString(A,Z||40)}else throw new Error("Invalid data");const D=d.getBestVersionForData(j,T);if(!D)throw new Error("The amount of data is too big to be stored in a QR Code");if(!N)N=D;else if(N<D)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+D+`.
`);const F=R(N,T,j),V=t.getSymbolSize(N),$=new r(V);return y($,N),x($),b($,N),S($,T,0),N>=7&&_($,N),O($,F),isNaN(I)&&(I=a.getBestMask($,S.bind(null,$,T))),a.applyMask(I,$),S($,T,I),{modules:$,version:N,errorCorrectionLevel:T,maskPattern:I,segments:j}}return AS.create=function(N,T){if(typeof N>"u"||N==="")throw new Error("No input text");let I=e.M,j,D;return typeof T<"u"&&(I=e.from(T.errorCorrectionLevel,e.M),j=d.from(T.version),D=a.from(T.maskPattern),T.toSJISFunc&&t.setToSJISFunction(T.toSJISFunc)),P(N,j,I,D)},AS}var KS={},GS={},AV;function lW(){return AV||(AV=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:s,scale:s?4:a,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const a=i.modules.size,o=i.modules.data,c=t.getScale(a,s),d=Math.floor((a+s.margin*2)*c),f=s.margin*c,m=[s.color.light,s.color.dark];for(let p=0;p<d;p++)for(let y=0;y<d;y++){let x=(p*d+y)*4,b=s.color.light;if(p>=f&&y>=f&&p<d-f&&y<d-f){const _=Math.floor((p-f)/c),S=Math.floor((y-f)/c);b=m[o[_*a+S]?1:0]}r[x++]=b.r,r[x++]=b.g,r[x++]=b.b,r[x]=b.a}}})(GS)),GS}var PV;function iAe(){return PV||(PV=1,(function(t){const e=lW();function n(i,s,a){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=a,s.width=a,s.style.height=a+"px",s.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,a,o){let c=o,d=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(d=r()),c=e.getOptions(c);const f=e.getImageWidth(s.modules.size,c),m=d.getContext("2d"),p=m.createImageData(f,f);return e.qrToImageData(p.data,s,c),n(m,d,f),m.putImageData(p,0,0),d},t.renderToDataURL=function(s,a,o){let c=o;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const d=t.render(s,a,c),f=c.type||"image/png",m=c.rendererOpts||{};return d.toDataURL(f,m.quality)}})(KS)),KS}var XS={},IV;function sAe(){if(IV)return XS;IV=1;const t=lW();function e(i,s){const a=i.a/255,o=s+'="'+i.hex+'"';return a<1?o+" "+s+'-opacity="'+a.toFixed(2).slice(1)+'"':o}function n(i,s,a){let o=i+s;return typeof a<"u"&&(o+=" "+a),o}function r(i,s,a){let o="",c=0,d=!1,f=0;for(let m=0;m<i.length;m++){const p=Math.floor(m%s),y=Math.floor(m/s);!p&&!d&&(d=!0),i[m]?(f++,m>0&&p>0&&i[m-1]||(o+=d?n("M",p+a,.5+y+a):n("m",c,0),c=0,d=!1),p+1<s&&i[m+1]||(o+=n("h",f),f=0)):c++}return o}return XS.render=function(s,a,o){const c=t.getOptions(a),d=s.modules.size,f=s.modules.data,m=d+c.margin*2,p=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",y="<path "+e(c.color.dark,"stroke")+' d="'+r(f,d,c.margin)+'"/>',x='viewBox="0 0 '+m+" "+m+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+x+' shape-rendering="crispEdges">'+p+y+`</svg>
`;return typeof o=="function"&&o(null,_),_},XS}var jV;function aAe(){if(jV)return Qd;jV=1;const t=BCe(),e=rAe(),n=iAe(),r=sAe();function i(s,a,o,c,d){const f=[].slice.call(arguments,1),m=f.length,p=typeof f[m-1]=="function";if(!p&&!t())throw new Error("Callback required as last argument");if(p){if(m<2)throw new Error("Too few arguments provided");m===2?(d=o,o=a,a=c=void 0):m===3&&(a.getContext&&typeof d>"u"?(d=c,c=void 0):(d=c,c=o,o=a,a=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(o=a,a=c=void 0):m===2&&!a.getContext&&(c=o,o=a,a=void 0),new Promise(function(y,x){try{const b=e.create(o,c);y(s(b,a,c))}catch(b){x(b)}})}try{const y=e.create(o,c);d(null,s(y,a,c))}catch(y){d(y)}}return Qd.create=e.create,Qd.toCanvas=i.bind(null,n.render),Qd.toDataURL=i.bind(null,n.renderToDataURL),Qd.toString=i.bind(null,function(s,a,o){return r.render(s,o)}),Qd}var oAe=aAe();const lAe=vi(oAe),kV=[{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"BNB",name:"Binance Coin",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"},{symbol:"TRX",name:"Tron",id:"tron"}],Mm=[{id:"Ethereum",name:"Ethereum (ERC20)",icon:"ETH",shortName:"ETH"},{id:"Tron",name:"Tron (TRC20)",icon:"TRX",shortName:"TRX"},{id:"Polygon",name:"Polygon",icon:"MATIC",shortName:"MATIC"},{id:"Solana",name:"Solana",icon:"SOL",shortName:"SOL"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB",shortName:"BNB"},{id:"Bitcoin",name:"Bitcoin",icon:"BTC",shortName:"BTC"},{id:"Ripple",name:"Ripple",icon:"XRP",shortName:"XRP"}];function cAe({onNavigate:t}){const[e,n]=E.useState(null),[r,i]=E.useState("Tron"),[s,a]=E.useState(""),[o,c]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(""),[y,x]=E.useState(""),[b,_]=E.useState(!1),[S,O]=E.useState(!1),R=E.useRef(null),z=E.useRef(null),{getAddressForNetwork:P,regenerateAddress:A,isLoading:N}=iW(),{portfolio:T}=$s(),{prices:I}=xi();E.useEffect(()=>{const k=U=>{z.current&&!z.current.contains(U.target)&&_(!1)};return b&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[b]);const j=k=>T.holdings.find(G=>G.symbol===k)?.amount||0,D=(k,U)=>(I[k]?.usd||0)*U,F=kV.filter(k=>k.symbol.toLowerCase().includes(m.toLowerCase())||k.name.toLowerCase().includes(m.toLowerCase()));E.useEffect(()=>{e&&V()},[r,e]),E.useEffect(()=>{s&&R.current&&lAe.toCanvas(R.current,s,{width:192,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(k=>{console.error("Erro ao gerar QR Code:",k)})},[s]);const V=async()=>{try{const k=await P(r);a(k),f(!1),console.log(` Endereo carregado para ${r}:`,k)}catch(k){console.error(" Erro ao carregar endereo:",k),Me.error("Erro ao carregar endereo")}},$=async()=>{if(!s){Me.error("Nenhum endereo disponvel");return}if(await mw(s)){f(!0);const U=Mm.find(G=>G.id===r);Me.success("Endereo copiado!",{description:`${U?.shortName}  ${s.substring(0,8)}...`}),setTimeout(()=>{f(!1)},3e3)}},Z=async()=>{if(r){c(!0);try{console.log(` Regenerando endereo para ${r}...`);const k=await A(r);a(k),f(!1);const U=Mm.find(G=>G.id===r);Me.success("Novo endereo gerado!",{description:`${U?.shortName}  ${k.substring(0,8)}...`}),console.log(` Novo endereo gerado para ${r}:`,k)}catch(k){console.error(" Erro ao regenerar endereo:",k),Me.error("Erro ao gerar novo endereo")}finally{c(!1)}}},J=k=>{n(k.symbol),p("")},B=()=>{e?(n(null),a(""),x("")):t("wallet")},Q=Mm.find(k=>k.id===r),H=kV.find(k=>k.symbol===e);return S?l.jsx("div",{className:"min-h-screen bg-black text-white pb-6",children:l.jsxs("div",{className:"px-6 pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("button",{onClick:()=>O(!1),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsx(vt,{className:"w-5 h-5 text-white"})}),l.jsx("h1",{className:"text-lg text-white",children:"Ajuda"}),l.jsx("div",{className:"w-10"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-2xl p-5",children:l.jsxs("div",{className:"flex gap-3",children:[l.jsx("div",{className:"text-yellow-500 text-2xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-yellow-200 font-semibold mb-2",children:"Ateno"}),l.jsx("p",{className:"text-yellow-200/80 text-sm leading-relaxed",children:"Envie apenas ativos compatveis com a rede selecionada. Enviar ativos de outras redes pode resultar em perda permanente dos seus fundos. Sempre verifique se a rede escolhida  compatvel com a plataforma de origem antes de realizar a transferncia."})]})]})}),l.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5 border border-white/10",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-white font-semibold mb-2",children:"Endereo nico"}),l.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:'Este endereo  exclusivo da sua conta e pode ser usado mltiplas vezes para receber criptomoedas. Use o boto "Novo" para gerar um novo endereo quando necessrio, por exemplo, para organizar diferentes transaes ou aumentar sua privacidade.'})]})]})}),l.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5 border border-white/10",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-white font-semibold mb-2",children:"Segurana"}),l.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:"Cada rede blockchain tem um endereo diferente. Ethereum (ERC20), Tron (TRC20), Polygon, Solana, BNB Smart Chain, Bitcoin e Ripple possuem formatos de endereos incompatveis entre si. Sempre confirme a rede antes de enviar ativos para evitar perdas irreversveis."})]})]})}),l.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5 border border-white/10",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-white font-semibold mb-2",children:"Como funciona"}),l.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:"Compartilhe este endereo ou QR Code com quem vai enviar criptomoedas para voc. Quando a transao for confirmada na blockchain, os depsitos aparecem automaticamente na sua carteira NexCoin. O tempo de confirmao varia de acordo com a rede: pode levar de segundos a alguns minutos."})]})]})}),l.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5 border border-white/10",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"text-2xl",children:""}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-white font-semibold mb-2",children:"Dica importante"}),l.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:"Ao receber sua primeira transao em uma determinada rede, recomendamos fazer um teste com uma pequena quantia primeiro. Depois de confirmar que tudo funcionou corretamente, voc pode realizar transaes maiores com segurana."})]})]})})]})]})}):e?l.jsx("div",{className:"min-h-screen bg-black text-white pb-6",children:l.jsxs("div",{className:"px-6 pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("button",{onClick:B,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsx(vt,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"text-center",children:[l.jsxs("h1",{className:"text-lg text-white",children:["Receber ",e]}),l.jsx("p",{className:"text-sm text-white/60",children:H?.name})]}),l.jsx("div",{className:"w-10"})]}),l.jsxs("div",{className:"mb-6",ref:z,children:[l.jsx("label",{className:"block text-white/70 text-sm font-semibold mb-3",children:"Selecione a rede"}),l.jsx("button",{onClick:()=>_(!b),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 p-4 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-3",children:Q&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:l.jsx(At,{symbol:Q.icon,size:"sm"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-white font-semibold",children:Q.name}),l.jsx("div",{className:"text-xs text-gray-400",children:Q.shortName})]})]})}),l.jsx("svg",{className:`w-5 h-5 text-white/60 transition-transform ${b?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),b&&l.jsx("div",{className:"mt-2 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 overflow-hidden shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsxs("div",{className:"max-h-[176px] overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[l.jsx("style",{children:`
                  div::-webkit-scrollbar {
                    display: none;
                  }
                `}),Mm.map((k,U)=>l.jsxs("button",{onClick:()=>{i(k.id),_(!1)},className:`w-full p-4 flex items-center justify-between transition-all ${r===k.id?"bg-white/10":"hover:bg-white/5"} ${U!==Mm.length-1?"border-b border-white/5":""}`,children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:l.jsx(At,{symbol:k.icon,size:"sm"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-white font-semibold",children:k.name}),l.jsx("div",{className:"text-xs text-gray-400",children:k.shortName})]})]}),r===k.id&&l.jsx("div",{className:"w-2 h-2 rounded-full bg-[#34c759]"})]},k.id))]})})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 mb-6 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[l.jsx("div",{className:"bg-white rounded-2xl p-8 mb-6 flex items-center justify-center",children:N?l.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[l.jsx(XK,{className:"w-12 h-12 text-black animate-spin mb-4"}),l.jsx("p",{className:"text-black text-sm font-semibold",children:"Gerando endereo..."})]}):l.jsx("canvas",{ref:R,className:"w-48 h-48"})}),l.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:Q&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center",children:l.jsx(At,{symbol:Q.icon,size:"sm"})}),l.jsx("span",{className:"text-sm font-semibold text-white/80",children:Q.name})]})}),l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"text-white/50 text-xs font-semibold mb-2 text-center",children:"SEU ENDEREO"}),N?l.jsx("div",{className:"flex items-center justify-center py-4",children:l.jsx("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):l.jsx("div",{className:"bg-black/30 rounded-xl p-4 border border-white/10",children:l.jsx("p",{className:"font-mono text-sm break-all text-white text-center leading-relaxed",children:s||"Gerando endereo..."})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsx("button",{className:"bg-white/5 backdrop-blur-md rounded-xl py-4 flex flex-col items-center gap-2 hover:bg-white/10 transition-all border border-white/10 disabled:opacity-50 disabled:cursor-not-allowed",onClick:$,disabled:!s||N,children:d?l.jsxs(l.Fragment,{children:[l.jsx(Bx,{className:"w-5 h-5 text-[#34c759]"}),l.jsx("span",{className:"text-xs text-[#34c759] font-semibold",children:"Copiado!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(vn,{className:"w-5 h-5 text-white"}),l.jsx("span",{className:"text-xs text-white font-semibold",children:"Copiar"})]})}),l.jsxs("button",{className:"bg-white/5 backdrop-blur-md rounded-xl py-4 flex flex-col items-center gap-2 hover:bg-white/10 transition-all border border-white/10 disabled:opacity-50 disabled:cursor-not-allowed",onClick:Z,disabled:o||!s||N,children:[l.jsx(nG,{className:`w-5 h-5 text-white ${o?"animate-spin":""}`}),l.jsx("span",{className:"text-xs text-white font-semibold",children:o?"Gerando...":"Novo"})]})]})]}),l.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-3.5 border border-white/10",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(VV,{className:"w-4 h-4 text-white/60"}),l.jsxs("p",{className:"text-white/70 text-xs text-center",children:["Dvidas sobre transaes? ",l.jsx("span",{onClick:()=>O(!0),className:"text-white font-semibold underline cursor-pointer hover:text-white/90 transition-colors",children:"Ajuda aqui"})]})]})})]})}):l.jsx("div",{className:"min-h-screen bg-black text-white pb-24",children:l.jsxs("div",{className:"px-6 pt-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsx("button",{onClick:B,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsx(vt,{className:"w-5 h-5 text-white"})}),l.jsx("h1",{className:"text-lg text-white",children:"Receber Cripto"}),l.jsx("div",{className:"w-10"})]}),l.jsx("div",{className:"mb-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(Gl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),l.jsx("input",{type:"text",placeholder:"Buscar criptomoeda...",value:m,onChange:k=>p(k.target.value),className:"w-full bg-white/5 backdrop-blur-md text-white rounded-2xl pl-12 pr-4 py-4 focus:outline-none focus:ring-2 focus:ring-white/20 placeholder-white/40 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]"})]})}),l.jsx("div",{className:"space-y-3",children:F.map(k=>{const U=j(k.symbol),G=D(k.id,U);return l.jsx("button",{onClick:()=>J(k),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 hover:bg-white/10 transition-all border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center",children:l.jsx(At,{symbol:k.symbol,size:"md"})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-white font-semibold text-base",children:k.name}),l.jsx("div",{className:"text-sm text-white/50",children:k.symbol})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-white font-semibold",children:U.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8})}),l.jsxs("div",{className:"text-sm text-white/50",children:["$",G.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})},k.symbol)})})]})})}function uAe({onNavigate:t}){const{transactions:e,isLoading:n,formatAmount:r,getCurrencySymbol:i,formatTransactionDescription:s,formatTransactionAmount:a,getTransactionIconType:o}=hw(),[c,d]=E.useState(""),f=E.useMemo(()=>{const y=e.filter(b=>{if(c){const _=c.toLowerCase();if(!s(b).toLowerCase().includes(_))return!1}return!0}),x={};return y.forEach(b=>{const _=b.createdAt,S=new Date,O=new Date(S);O.setDate(O.getDate()-1);let R;_.getDate()===S.getDate()&&_.getMonth()===S.getMonth()&&_.getFullYear()===S.getFullYear()?R="Hoje":_.getDate()===O.getDate()&&_.getMonth()===O.getMonth()&&_.getFullYear()===O.getFullYear()?R="Ontem":R=_.toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:_.getFullYear()!==S.getFullYear()?"numeric":void 0}),x[R]||(x[R]=[]),x[R].push(b)}),x},[e,c,s]),m=y=>y.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),p=y=>{switch(y){case"completed":return"text-green-500";case"pending":case"processing":return"text-yellow-500";case"failed":return"text-red-500";default:return"text-gray-400"}};return l.jsxs("div",{className:"min-h-screen bg-black pb-24",children:[l.jsxs("div",{className:"px-6 pt-4 pb-6",children:[l.jsx("button",{onClick:()=>t("home"),className:"w-12 h-12 rounded-full border border-gray-700 flex items-center justify-center mb-6",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Transaes"}),l.jsx("div",{className:"flex gap-3 mb-6",children:l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(Gl,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),l.jsx("input",{type:"text",placeholder:"Pesquisar",value:c,onChange:y=>d(y.target.value),className:`w-full bg-zinc-900/80 rounded-full pl-10 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-zinc-700 ${c?"pr-10":"pr-4"} py-3`}),c&&l.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-500",onClick:()=>d(""),children:l.jsx(gi,{className:"w-5 h-5"})})]})})]}),n&&l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(l0,{className:"w-8 h-8 animate-spin text-gray-400"})}),!n&&e.length===0&&l.jsxs("div",{className:"px-6 py-12 text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-900 flex items-center justify-center mx-auto mb-4",children:l.jsx(dp,{className:"w-10 h-10 text-gray-600"})}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma transao"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Suas transaes aparecero aqui"})]}),!n&&e.length>0&&Object.keys(f).length===0&&l.jsxs("div",{className:"px-6 py-12 text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-900 flex items-center justify-center mx-auto mb-4",children:l.jsx(Gl,{className:"w-10 h-10 text-gray-600"})}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum resultado"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Tente ajustar a busca"})]}),!n&&Object.keys(f).length>0&&l.jsx("div",{className:"px-6 space-y-6",children:Object.entries(f).map(([y,x])=>l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold text-gray-400 mb-3",children:y}),l.jsx("div",{className:"space-y-3",children:x.map(b=>l.jsxs("button",{className:"w-full bg-zinc-900/80 backdrop-blur rounded-2xl p-4 flex items-center justify-between hover:bg-zinc-800/80 transition-colors",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("div",{className:`w-12 h-12 rounded-full bg-white/5 flex items-center justify-center flex-shrink-0 ${o(b)==="entrada"?"text-green-500":o(b)==="saida"?"text-red-500":"text-orange-500"}`,children:[o(b)==="entrada"&&l.jsx(sC,{className:"w-4 h-4"}),o(b)==="saida"&&l.jsx(aC,{className:"w-4 h-4"}),o(b)==="conversao"&&l.jsx($K,{className:"w-4 h-4"})]}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-semibold text-white",children:s(b)}),l.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-1",children:[l.jsx(dp,{className:"w-3.5 h-3.5"}),m(b.createdAt),l.jsx("span",{className:"mx-1",children:""}),l.jsxs("span",{className:p(b.status),children:[b.status==="completed"&&"Concludo",b.status==="pending"&&"Pendente",b.status==="processing"&&"Processando",b.status==="failed"&&"Falhou"]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:`font-semibold ${["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(b.type)?"text-green-500":"text-white"}`,children:a(b)}),b.fee>0&&l.jsxs("div",{className:"text-sm text-gray-400",children:["Taxa: ",i(b.feeCurrency)," ",r(b.fee)]})]})]},b.id))})]},y))})]})}function dAe({currentScreen:t,onNavigate:e}){const{t:n}=fs(),r=[{id:"home",icon:KK,label:n.bottomNav.home},{id:"wallet",icon:$V,label:n.bottomNav.wallet},{id:"convert",icon:jv,label:n.bottomNav.convert},{id:"crypto",icon:is,label:n.bottomNav.crypto},{id:"profile",icon:oC,label:n.bottomNav.profile}];return l.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black border-t border-gray-800 z-[9999]",children:l.jsx("div",{className:"flex justify-around items-center py-3 px-4 max-w-md mx-auto relative z-10 pointer-events-auto",style:{transform:"translateZ(0)",willChange:"transform"},children:r.map(i=>{const s=i.icon,a=t===i.id;return l.jsxs("button",{onClick:()=>e(i.id),className:"flex flex-col items-center gap-1 transition-colors",children:[l.jsx(s,{className:`w-6 h-6 ${a?"text-white":"text-gray-500"}`}),l.jsx("span",{className:`text-xs ${a?"text-white":"text-gray-500"}`,children:i.label})]},i.id)})})})}function fAe({onNavigate:t}){const{t:e}=fs(),{phoneNumber:n}=Qz(),{signInWithPhoneAndPin:r}=Ft(),[i,s]=E.useState(["","","","","",""]),[a,o]=E.useState(!1),[c,d]=E.useState(!1),[f,m]=E.useState(""),p=E.useRef([]);E.useEffect(()=>{p.current[0]?.focus()},[]);const y=(S,O)=>{if(O&&!/^\d$/.test(O))return;a&&o(!1);const R=[...i];if(R[S]=O,s(R),O&&S<5&&p.current[S+1]?.focus(),S===5&&O){const z=[...R.slice(0,5),O].join("");x(z)}},x=S=>{d(!0),m(""),console.log("[PasswordEntry] Validando PIN:",S),console.log("[PasswordEntry] Telefone:",n),setTimeout(()=>{r(n,S).then(()=>{console.log("[PasswordEntry]  Login bem-sucedido!"),t("home")}).catch(O=>{console.log("[PasswordEntry]  Erro no login:",O.message),o(!0),m(O.message||"Erro ao fazer login"),console.log("[PasswordEntry] Exibindo mensagem de erro:",O.message),setTimeout(()=>{s(["","","","","",""]),p.current[0]?.focus(),o(!1),m("")},1500)}).finally(()=>{d(!1)})},300)},b=(S,O)=>{O.key==="Backspace"&&!i[S]&&S>0&&p.current[S-1]?.focus()},_=S=>{S.preventDefault();const O=S.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);if(O){const R=[...i];O.split("").forEach((A,N)=>{N<6&&(R[N]=A)}),s(R);const z=R.findIndex(A=>!A),P=z===-1?5:z;p.current[P]?.focus()}};return l.jsx("div",{className:"bg-black text-white min-h-screen flex items-start justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-[400px] flex flex-col",children:[l.jsx("header",{className:"pt-3 px-4 pb-1",children:l.jsx("button",{"aria-label":"Voltar",className:"flex items-center justify-center w-7 h-7 -ml-1 rounded-full active:bg-slate-800 transition-colors",onClick:()=>t("login"),children:l.jsx(vt,{className:"w-4 h-4"})})}),l.jsxs("main",{className:"flex-1 px-4",children:[l.jsx("h1",{className:"text-xl font-bold tracking-tight mb-3",children:e.password}),l.jsxs("div",{className:`flex items-center gap-1 mb-2 ${a?"animate-shake":""}`,children:[l.jsx("div",{className:"flex gap-1",children:[0,1,2].map(S=>l.jsx("div",{className:`w-[36px] h-[44px] rounded-lg flex items-center justify-center transition-all ${a?"bg-red-900/20 shadow-[inset_0_0_0_2px_rgba(239,68,68,0.5)]":"bg-zinc-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]"}`,children:l.jsx("input",{ref:O=>p.current[S]=O,"aria-label":`Dgito ${S+1}`,className:`w-full h-full bg-transparent border-none text-center text-lg font-bold focus:ring-0 focus:outline-none ${a?"text-red-500":"text-white"}`,maxLength:1,type:"password",value:i[S],onChange:O=>y(S,O.target.value),onKeyDown:O=>b(S,O),onPaste:_,inputMode:"numeric",disabled:c})},S))}),l.jsx("div",{className:"text-slate-500 font-bold",children:l.jsx("span",{className:`block w-1 h-0.5 rounded-full ${a?"bg-red-500":"bg-slate-500"}`})}),l.jsx("div",{className:"flex gap-1",children:[3,4,5].map(S=>l.jsx("div",{className:`w-[36px] h-[44px] rounded-lg flex items-center justify-center transition-all ${a?"bg-red-900/20 shadow-[inset_0_0_0_2px_rgba(239,68,68,0.5)]":"bg-zinc-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]"}`,children:l.jsx("input",{ref:O=>p.current[S]=O,"aria-label":`Dgito ${S+1}`,className:`w-full h-full bg-transparent border-none text-center text-lg font-bold focus:ring-0 focus:outline-none ${a?"text-red-500":"text-white"}`,maxLength:1,type:"password",value:i[S],onChange:O=>y(S,O.target.value),onKeyDown:O=>b(S,O),onPaste:_,inputMode:"numeric",disabled:c})},S))})]}),a&&l.jsx("p",{className:"text-red-500 text-[11px] font-medium mb-2 animate-fadeIn",children:f||"Senha incorreta"}),l.jsx("button",{className:"text-blue-500 font-semibold text-[13px] hover:underline transition-all",onClick:()=>{console.log("Forgot password clicked")},children:e.forgotPassword})]})]})})}function hAe({onNavigate:t}){const{portfolio:e,addOrUpdateCrypto:n,removeCrypto:r,isLoading:i}=$s(),{prices:s}=xi(),[a,o]=E.useState(null),[c,d]=E.useState(""),[f,m]=E.useState(!1),[p,y]=E.useState(null),[x,b]=E.useState(""),_=[{symbol:"BTC",coinId:"bitcoin",name:"Bitcoin"},{symbol:"ETH",coinId:"ethereum",name:"Ethereum"},{symbol:"USDT",coinId:"tether",name:"Tether"},{symbol:"BNB",coinId:"binancecoin",name:"Binance Coin"},{symbol:"SOL",coinId:"solana",name:"Solana"},{symbol:"ADA",coinId:"cardano",name:"Cardano"},{symbol:"XRP",coinId:"ripple",name:"Ripple"},{symbol:"DOT",coinId:"polkadot",name:"Polkadot"},{symbol:"DOGE",coinId:"dogecoin",name:"Dogecoin"},{symbol:"AVAX",coinId:"avalanche-2",name:"Avalanche"},{symbol:"MATIC",coinId:"matic-network",name:"Polygon"},{symbol:"LINK",coinId:"chainlink",name:"Chainlink"},{symbol:"UNI",coinId:"uniswap",name:"Uniswap"},{symbol:"LTC",coinId:"litecoin",name:"Litecoin"},{symbol:"ATOM",coinId:"cosmos",name:"Cosmos"}],S=(P,A)=>{o(P),d(A.toString())},O=async(P,A,N)=>{const T=parseFloat(c);if(isNaN(T)||T<0){alert("Por favor, insira um valor vlido");return}try{await n(P,A,T,N),o(null),d("")}catch(I){console.error("Erro ao atualizar holding:",I),alert("Erro ao atualizar. Tente novamente.")}},R=async P=>{if(confirm(`Tem certeza que deseja remover ${P} do seu portflio?`))try{await r(P)}catch(A){console.error("Erro ao remover holding:",A),alert("Erro ao remover. Tente novamente.")}},z=async()=>{if(!p){alert("Selecione uma criptomoeda");return}const P=parseFloat(x);if(isNaN(P)||P<=0){alert("Por favor, insira um valor vlido");return}try{await n(p.symbol,p.coinId,P,p.name),m(!1),y(null),b("")}catch(A){console.error("Erro ao adicionar holding:",A),alert("Erro ao adicionar. Tente novamente.")}};return l.jsxs("div",{className:"min-h-screen bg-black text-white pb-24",children:[l.jsxs("div",{className:"bg-gradient-to-b from-zinc-900 to-black px-6 pt-12 pb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsx("h1",{className:"text-xl font-bold",children:"Gerenciar Ativos"}),l.jsx("button",{onClick:()=>m(!0),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center hover:bg-white/10 transition-colors shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsx(wu,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-4 border border-white/10",children:[l.jsx("p",{className:"text-white/50 text-sm mb-1",children:"Saldo Total"}),l.jsxs("p",{className:"text-2xl font-bold",children:[Wr(e.totalBalanceUSDT)," USDT"]})]})]}),l.jsxs("div",{className:"px-6 pt-6",children:[l.jsx("h2",{className:"text-lg font-bold mb-4",children:"Seus Ativos"}),i?l.jsx("div",{className:"text-center py-12",children:l.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):e.holdings.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-white/50",children:"Nenhum ativo no portflio"}),l.jsx("button",{onClick:()=>m(!0),className:"mt-4 px-6 py-3 bg-blue-600 rounded-xl font-semibold",children:"Adicionar Primeiro Ativo"})]}):l.jsx("div",{className:"space-y-3",children:e.holdings.map(P=>{const A=s[P.coinId]?.usd||0,N=P.amount*A,T=a===P.symbol;return l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-4 border border-white/10",children:[l.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[l.jsx(At,{symbol:P.symbol,size:"md"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold",children:P.name||P.symbol}),l.jsx("p",{className:"text-white/50 text-sm",children:P.symbol})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-semibold",children:[or(P.amount)," ",P.symbol]}),l.jsx("p",{className:"text-white/50 text-sm",children:Wr(N)})]})]}),T?l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"number",value:c,onChange:I=>d(I.target.value),placeholder:"Quantidade",className:"flex-1 bg-white/10 rounded-xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-600"}),l.jsx("button",{onClick:()=>O(P.symbol,P.coinId,P.name||P.symbol),className:"w-10 h-10 bg-green-600 rounded-xl flex items-center justify-center",children:l.jsx(zV,{className:"w-5 h-5"})}),l.jsx("button",{onClick:()=>{o(null),d("")},className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center",children:l.jsx(gi,{className:"w-5 h-5"})})]}):l.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[l.jsxs("p",{className:"text-white/50 text-sm",children:["Quantidade: ",l.jsx("span",{className:"text-white font-semibold",children:or(P.amount)})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>S(P.symbol,P.amount),className:"w-8 h-8 bg-blue-600/20 rounded-lg flex items-center justify-center",children:l.jsx(ZK,{className:"w-4 h-4 text-blue-400"})}),l.jsx("button",{onClick:()=>R(P.symbol),className:"w-8 h-8 bg-red-600/20 rounded-lg flex items-center justify-center",children:l.jsx(ho,{className:"w-4 h-4 text-red-400"})})]})]})]},P.symbol)})})]}),l.jsx(zI,{children:f&&l.jsx(Wn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-md z-50 flex items-end",children:l.jsxs(Wn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"w-full bg-zinc-900 rounded-t-3xl p-6 pb-8",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Adicionar Ativo"}),l.jsx("button",{onClick:()=>{m(!1),y(null),b("")},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:l.jsx(gi,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-white/50 text-sm mb-2 block",children:"Criptomoeda"}),l.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:_.map(P=>l.jsxs("button",{onClick:()=>y(P),className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all ${p?.symbol===P.symbol?"bg-white/10 border-2 border-white/30":"bg-white/5 border border-white/10"}`,children:[l.jsx(At,{symbol:P.symbol,size:"sm"}),l.jsxs("div",{className:"flex-1 text-left",children:[l.jsx("p",{className:"font-semibold",children:P.name}),l.jsx("p",{className:"text-white/50 text-sm",children:P.symbol})]})]},P.symbol))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-white/50 text-sm mb-2 block",children:"Quantidade"}),l.jsx("input",{type:"number",value:x,onChange:P=>b(P.target.value),placeholder:"0.00",className:"w-full bg-white/10 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),l.jsx("button",{onClick:z,disabled:!p||!x,className:"w-full bg-white text-black rounded-xl py-4 font-semibold hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_20px_rgba(255,255,255,0.2),0_4px_15px_rgba(0,0,0,0.4)]",children:"Adicionar"})]})]})})})]})}function mAe({onNavigate:t,onSelectAccount:e,onNavigateWithAccount:n}){const{user:r}=Ft(),{getBalance:i}=kg(),[s,a]=E.useState([]),[o,c]=E.useState(!0);E.useEffect(()=>{if(!r?.uid){c(!1);return}console.log(" [SelectFiatAccount] Iniciando listener de contas bancrias para userId:",r.uid);const y=it(Se,"bankAccounts"),x=jt(y,Et("userId","==",r.uid)),b=zi(x,_=>{console.log(" [SelectFiatAccount] Contas bancrias recebidas:",_.size);const S=_.docs.map(O=>({...O.data(),id:O.id,createdAt:O.data().createdAt?.toDate()||new Date}));console.log(" [SelectFiatAccount] Total de contas carregadas:",S.length),console.log(" [SelectFiatAccount] Pases das contas:",S.map(O=>`${O.country} (${O.currency})`).join(", ")),a(S),c(!1)},_=>{console.error(" [SelectFiatAccount] Erro no listener de contas bancrias:",_),c(!1)});return()=>{console.log(" [SelectFiatAccount] Desconectando listener de contas bancrias"),b()}},[r]);const d={BRL:{flag:"",name:"Real Brasileiro",color:"#34c759"},USD:{flag:"",name:"Dlar Americano",color:"#007aff"},EUR:{flag:"",name:"Euro",color:"#5856d6"},GBP:{flag:"",name:"Libra Esterlina",color:"#ff9500"},JPY:{flag:"",name:"Iene Japons",color:"#ff2d55"},CAD:{flag:"",name:"Dlar Canadense",color:"#ff3b30"},AUD:{flag:"",name:"Dlar Australiano",color:"#ff9500"},CHF:{flag:"",name:"Franco Suo",color:"#af52de"},CNY:{flag:"",name:"Yuan Chins",color:"#ff3b30"},INR:{flag:"",name:"Rpia Indiana",color:"#ff9500"},MXN:{flag:"",name:"Peso Mexicano",color:"#34c759"},ARS:{flag:"",name:"Peso Argentino",color:"#5ac8fa"}},f={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",ARS:"$"},m=y=>{e&&e(y),n&&n("fiatAccountDetails",y)},p=y=>{const x=f[y]||y,b=i(y);let _;return y==="BRL"?_=b.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):_=b.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),`${x} ${_}`};return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsx("button",{onClick:()=>t("home"),className:"w-9 h-9 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] mb-4",children:l.jsx(vt,{className:"w-4 h-4"})}),l.jsx("h1",{className:"text-xl mb-1",children:"Selecionar conta"}),l.jsx("p",{className:"text-white/50 text-xs",children:"Escolha a conta para transacionar"})]}),l.jsxs("div",{className:"flex-1 px-6 pb-24",children:[o?l.jsx("div",{className:"space-y-2.5",children:[1,2,3].map(y=>l.jsx("div",{className:"w-full bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10 animate-pulse",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-11 h-11 rounded-full bg-white/10"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"h-4 bg-white/10 rounded mb-1.5 w-28"}),l.jsx("div",{className:"h-3 bg-white/10 rounded mb-1.5 w-20"}),l.jsx("div",{className:"h-5 bg-white/10 rounded w-24"})]})]})},y))}):l.jsx("div",{className:"space-y-2.5",children:s.length>0?s.map((y,x)=>{const b=d[y.currency]||{name:y.currency};return l.jsx("button",{onClick:()=>m(y),className:"w-full bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10 hover:bg-white/10 transition-all active:scale-[0.98] shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-11 h-11 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center overflow-hidden border border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1)] flex-shrink-0",children:l.jsx("img",{src:`https://flagcdn.com/w80/${y.country.toLowerCase()}.png`,alt:y.currency,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1 text-left min-w-0",children:[l.jsx("h3",{className:"text-sm font-semibold text-white mb-0.5 truncate",children:b.name}),l.jsx("p",{className:"text-xs text-white/40 mb-1 font-mono",children:y.iban?` ${y.iban.slice(-6)}`:` ${y.accountNumber.slice(-6)}`}),l.jsx("p",{className:"text-base font-bold text-white tabular-nums",children:p(y.currency)})]}),l.jsx(Eo,{className:"w-4 h-4 text-white/30 flex-shrink-0"})]})},`${y.currency}-${y.id||x}`)}):l.jsxs("div",{className:"text-center py-10",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center mx-auto mb-3 border border-white/10",children:l.jsx(wu,{className:"w-8 h-8 text-white/30"})}),l.jsx("h3",{className:"text-base font-bold text-white mb-1",children:"Nenhuma conta encontrada"}),l.jsx("p",{className:"text-xs text-white/50 mb-4",children:"Adicione uma conta fiat para comear"}),l.jsx("button",{onClick:()=>t("accountData"),className:"px-5 py-2.5 bg-white/10 backdrop-blur-md rounded-full text-sm text-white font-semibold border border-white/20 hover:bg-white/20 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:"Adicionar Conta"})]})}),!o&&s.length>0&&l.jsx("button",{onClick:()=>t("accountData"),className:"w-full mt-4 bg-white rounded-xl p-3.5 hover:bg-white/90 transition-all active:scale-[0.98] shadow-[0_4px_20px_rgba(255,255,255,0.15)]",children:l.jsxs("div",{className:"flex items-center justify-center gap-2.5",children:[l.jsx(wu,{className:"w-5 h-5 text-black"}),l.jsx("span",{className:"text-sm font-semibold text-black",children:"Adicionar Nova Conta"})]})})]})]})}function pAe(){const[t,e]=E.useState(!1),[n,r]=E.useState(!1),[i,s]=E.useState(!1),{user:a,userData:o,dismissAlert:c}=Ft();E.useEffect(()=>{if(o?.preferences?.dismissedAlerts?.includes("walletsMigration")){e(!0);return}const f=console.error;return console.error=(...m)=>{const p=m.join(" ");(p.includes("permission-denied")||p.includes("Missing or insufficient permissions"))&&s(!0),f.apply(console,m)},()=>{console.error=f}},[o]);const d=async()=>{if(a)try{await c("walletsMigration")}catch(f){console.error("Erro ao salvar dismiss:",f)}e(!0)};return!a||t||!i?null:l.jsx("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-md z-[100] flex items-center justify-center px-4",children:l.jsxs("div",{className:"max-w-md w-full bg-gradient-to-br from-red-600 to-red-700 rounded-2xl p-6 shadow-2xl border border-red-400/30 backdrop-blur-xl",children:[l.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0",children:l.jsx(zl,{className:"w-6 h-6 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:" Ao Obrigatria!"}),l.jsx("p",{className:"text-white/90 text-sm",children:"Deploy das regras do Firestore necessrio"})]})]}),l.jsxs("div",{className:"bg-black/30 rounded-xl p-4 mb-4 border border-white/10",children:[l.jsx("p",{className:"text-red-200 text-sm font-semibold mb-2",children:" Erro atual:"}),l.jsx("code",{className:"text-xs text-white/80 block",children:"FirebaseError: permission-denied"})]}),n?l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-black/30 rounded-xl p-4 mb-4 border border-white/10 max-h-64 overflow-y-auto",children:[l.jsx("h4",{className:"font-bold text-white mb-3",children:" Passo a Passo (2 minutos):"}),l.jsxs("div",{className:"space-y-3 text-sm text-white/90",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:"1. Abra o Firebase Console:"}),l.jsx("p",{className:"text-xs",children:"console.firebase.google.com"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:"2. V para Firestore Database:"}),l.jsx("p",{className:"text-xs",children:'Menu lateral  Firestore Database  Aba "Regras"'})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:"3. Cole as novas regras:"}),l.jsx("p",{className:"text-xs",children:"Copie o contedo de /firestore.rules e cole l"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:'4. Clique em "Publicar":'}),l.jsx("p",{className:"text-xs",children:"Aguarde alguns segundos e recarregue esta pgina"})]})]}),l.jsx("div",{className:"mt-4 pt-3 border-t border-white/20",children:l.jsxs("p",{className:"text-xs text-white/70",children:[" Arquivo completo com instrues detalhadas: ",l.jsx("span",{className:"font-mono text-yellow-200",children:"DEPLOY_FIRESTORE_RULES.md"})]})})]}),l.jsxs("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full bg-white text-red-600 rounded-xl py-3 px-4 font-bold text-sm hover:bg-red-50 transition-colors mb-2",children:[l.jsx("span",{children:" Abrir Firebase Console"}),l.jsx(FV,{className:"w-4 h-4"})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-white/90 text-sm space-y-2 mb-4",children:[l.jsx("p",{children:" Nova estrutura de wallets implementada"}),l.jsx("p",{className:"font-semibold text-yellow-200",children:" As regras de segurana precisam ser publicadas no Firebase"})]}),l.jsx("button",{onClick:()=>r(!0),className:"w-full bg-white text-red-600 rounded-xl py-3 px-4 font-bold text-sm hover:bg-red-50 transition-colors mb-2",children:" Ver Instrues Passo a Passo"})]}),l.jsx("button",{onClick:d,className:"w-full bg-white/10 text-white rounded-xl py-2 px-4 font-semibold text-sm hover:bg-white/20 transition-colors",children:n?"J fiz o deploy, fechar":"Fechar (no recomendado)"}),!n&&l.jsx("p",{className:"text-xs text-white/60 text-center mt-3",children:" A aplicao no funcionar at o deploy das regras"})]})})}function gAe(){const{user:t}=Ft(),{prices:e,isLoading:n}=xi(),r=E.useRef(""),i=E.useRef(!1);E.useEffect(()=>{if(!(!t?.uid||n||Object.keys(e).length===0)){if(!i.current){i.current=!0;const a=setTimeout(()=>{s()},2e3);return()=>clearTimeout(a)}s()}},[t?.uid,e,n]);const s=()=>{if(!t?.uid||Object.keys(e).length===0)return;const a=JSON.stringify(Object.entries(e).map(([c,d])=>`${c}:${d.usd}`).sort().join(","));if(a===r.current)return;r.current=a,(async()=>{try{await jre(t.uid,e)}catch(c){console.error(" Erro ao sincronizar valores das wallets:",c)}})()};return null}function HI(){const{user:t}=Ft(),[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{if(!t?.uid){n([]),i(!1);return}console.log(" Iniciando listener de chaves PIX para userId:",t.uid);const s=it(Se,"pixKeys"),a=jt(s,Et("userId","==",t.uid)),o=zi(a,c=>{console.log(" Snapshot de chaves PIX recebido - Total:",c.size);const d=[];c.forEach(f=>{const m=f.data();d.push({id:f.id,userId:m.userId,accountId:m.accountId,accountNumber:m.accountNumber,currency:m.currency,country:m.country,keyType:m.keyType,keyValue:m.keyValue,createdAt:m.createdAt?.toDate()||new Date})}),d.sort((f,m)=>m.createdAt.getTime()-f.createdAt.getTime()),n(d),i(!1)},c=>{console.error(" Erro no listener de chaves PIX:",c),i(!1)});return()=>{console.log(" Cancelando listener de chaves PIX"),o()}},[t?.uid]),{pixKeys:e,isLoading:r}}function yAe({account:t,onBack:e}){const{pixKeys:n,isLoading:r}=HI(),{user:i,userData:s}=Ft(),[a,o]=E.useState(!0);E.useEffect(()=>{a&&(async()=>{if(!i?.uid||!s?.email||!s?.phone||!t.id){console.log(" Dados do usurio incompletos para criar chaves PIX"),o(!1);return}if(t.currency!=="BRL"){console.log(" Conta no  BRL, pulando criao de chaves PIX"),o(!1);return}try{console.log(" Verificando chaves PIX para conta:",t.id);const y=it(Se,"pixKeys"),x=jt(y,Et("userId","==",i.uid),Et("accountId","==",t.id));if(!(await Tt(x)).empty){console.log(" Chaves PIX j existem para esta conta. Nenhuma ao necessria."),o(!1);return}console.log(" Criando chaves PIX automaticamente...");const _=s.email;await Vi(y,{userId:i.uid,accountId:t.id,accountNumber:t.accountNumber,currency:"BRL",country:"BR",keyType:"email",keyValue:_,createdAt:new Date}),console.log(" Chave PIX (email) criada:",_);const S=eU(s.phone);await Vi(y,{userId:i.uid,accountId:t.id,accountNumber:t.accountNumber,currency:"BRL",country:"BR",keyType:"phone",keyValue:S,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",S),console.log(" Chaves PIX criadas com sucesso!")}catch(y){console.error(" Erro ao inicializar chaves PIX:",y)}finally{o(!1)}})()},[i?.uid,s?.email,s?.phone,t.id,t.currency,t.accountNumber,a]);const c=n.filter(p=>p.accountId===t.id),d=p=>{switch(p){case"email":return Nf;case"phone":return eG;default:return Nf}},f=p=>{switch(p){case"email":return"E-mail";case"phone":return"Telefone";default:return p}},m=async(p,y)=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(p);else{const x=document.createElement("textarea");x.value=p,x.style.position="fixed",x.style.left="-999999px",x.style.top="-999999px",document.body.appendChild(x),x.focus(),x.select();const b=document.execCommand("copy");if(document.body.removeChild(x),!b)throw new Error("Falha ao copiar")}Me.success("Chave copiada!")}catch(x){console.error("Erro ao copiar chave:",x),Me.error("Erro ao copiar chave")}};return l.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black flex flex-col z-50",children:[l.jsx("div",{className:"flex items-center px-6 pt-6 pb-4",children:l.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-zinc-800/50 backdrop-blur-md flex items-center justify-center hover:bg-zinc-700/50 transition-colors",children:l.jsx(Fx,{className:"w-5 h-5 text-white"})})}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-8",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Suas chaves Pix"}),l.jsx("p",{className:"text-gray-400 text-base",children:"Suas chaves cadastradas"})]}),l.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 mb-6",children:c.length>0?l.jsx("p",{className:"text-gray-300 text-sm text-center",children:" Suas chaves PIX (email e telefone) foram criadas automaticamente"}):l.jsx("p",{className:"text-gray-300 text-sm text-center",children:"Nenhuma chave PIX encontrada"})}),l.jsx("div",{className:"space-y-3",children:r?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-400",children:"Carregando chaves..."})}):c.length===0?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-400",children:"Nenhuma chave cadastrada"})}):c.map(p=>{const y=d(p.keyType);return l.jsx("div",{className:"bg-zinc-900/80 backdrop-blur-xl rounded-3xl p-5 border border-zinc-800/50",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800/50 flex items-center justify-center flex-shrink-0",children:l.jsx(y,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-white font-semibold mb-1",children:f(p.keyType)}),l.jsx("p",{className:"text-gray-400 text-sm font-mono truncate",children:p.keyValue})]}),l.jsx("button",{onClick:()=>m(p.keyValue,p.id),className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center flex-shrink-0 transition-colors",children:l.jsx(vn,{className:"w-4 h-4 text-white"})})]})},p.id)})})]})]})}function vAe({onNavigate:t}){const{user:e}=Ft();HI();const[n,r]=E.useState("tarifas"),[i,s]=E.useState(!1),[a,o]=E.useState(null),[c,d]=E.useState(!0);E.useEffect(()=>{(async()=>{if(!e?.uid){d(!1);return}try{const x=it(Se,"bankAccounts"),b=jt(x,Et("userId","==",e.uid),Et("currency","==","BRL")),_=await Tt(b);if(_.empty)console.log(" Conta BRL no encontrada, usando dados padro");else{const S=_.docs[0].data();o(S)}}catch(x){console.error(" Erro ao carregar conta BRL:",x)}finally{d(!1)}})()},[e]);const f=(y,x)=>{mw(y),Me.success("Copiado!",{description:`${x} copiado para a rea de transferncia`,duration:2e3})},m=async()=>{const y=`
Receba BRL
Do Brasil com Pix

Nmero da conta: ${a?.accountNumber||"N/A"}
Agncia: ${a?.branchCode||"0001"}
    `.trim();if(navigator.share)try{await navigator.share({title:"Dados da Conta",text:y})}catch{console.log("Compartilhamento cancelado")}else f(y,"Informaes")},p=()=>{};return c?l.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center",children:l.jsx("div",{className:"text-white",children:"Carregando..."})}):l.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black flex flex-col z-50",children:[l.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-4",children:[l.jsx("button",{onClick:()=>t("home"),className:"w-10 h-10 rounded-full bg-zinc-800/50 backdrop-blur-md flex items-center justify-center hover:bg-zinc-700/50 transition-colors",children:l.jsx(vt,{className:"w-5 h-5 text-white"})}),l.jsxs("div",{className:"flex-1 text-center",children:[l.jsx("div",{className:"text-white font-semibold",children:"BRL"}),l.jsx("div",{className:"text-xs text-gray-400",children:"Minhas Chaves Pix"})]}),l.jsx("div",{className:"w-10"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-24",children:[l.jsxs("div",{className:"mb-6 mt-4",children:[l.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Receba BRL"}),l.jsx("p",{className:"text-gray-400 text-sm",children:"Do Brasil com Pix"})]}),l.jsx("button",{onClick:m,className:"w-full mb-6 px-6 py-3 rounded-2xl bg-white/10 hover:bg-white/15 backdrop-blur-md border border-white/20 text-white font-semibold transition-all shadow-lg",children:"Compartilhar"}),l.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur-xl rounded-3xl p-5 mb-6 border border-zinc-800/50",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Nmero da conta"}),l.jsx("p",{className:"text-white font-mono text-xl font-semibold",children:a?.accountNumber||"N/A"})]}),l.jsx("button",{onClick:()=>f(a?.accountNumber||"","Nmero da conta"),className:"ml-3 w-10 h-10 rounded-full bg-zinc-800/50 hover:bg-zinc-700/50 flex items-center justify-center transition-colors flex-shrink-0",children:l.jsx(vn,{className:"w-4 h-4 text-cyan-400"})})]}),l.jsxs("button",{className:"text-sm text-gray-400 hover:text-gray-300 transition-colors",children:["Clique ",l.jsx("span",{className:"underline",children:"aqui"})," para ver os seus dados de conta completos"]})]}),l.jsx("button",{onClick:()=>s(!0),className:"w-full mb-6 px-6 py-4 rounded-2xl bg-zinc-800/50 hover:bg-zinc-700/50 text-white font-semibold transition-all",children:"Gerenciar"}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Informaes resumidas"}),l.jsxs("div",{className:"flex gap-2 mb-4",children:[l.jsx("button",{onClick:()=>r("tarifas"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="tarifas"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Tarifas"}),l.jsx("button",{onClick:()=>r("tempo"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="tempo"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Tempo"}),l.jsx("button",{onClick:()=>r("limites"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="limites"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Limites"})]}),n==="tarifas"&&l.jsx("div",{className:"space-y-3",children:l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:[l.jsx("p",{className:"text-sm font-semibold text-white mb-1",children:"Quanto custa?"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-white",children:"Do Brasil (domstico)"}),l.jsx("p",{className:"text-cyan-400 font-semibold",children:"Sem tarifas"})]}),l.jsx(Eo,{className:"w-5 h-5 text-gray-400"})]})]})}),n==="tempo"&&l.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:l.jsx("p",{className:"text-gray-400 text-sm",children:"Transferncias Pix so instantneas"})}),n==="limites"&&l.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:l.jsx("p",{className:"text-gray-400 text-sm",children:"Sem limite de recebimento"})})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Disponibilidade"}),l.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50 flex items-start gap-3",children:[l.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:l.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})}),l.jsx("p",{className:"text-white text-sm",children:"DDAs (dbitos automticos) no disponveis"})]})]}),l.jsxs("div",{className:"text-center text-gray-400 text-sm mb-4",children:[l.jsx("p",{className:"mb-2",children:"Como podemos melhorar? Os dados no foram aceitos?"}),l.jsx("button",{className:"text-white hover:underline font-semibold",children:"Envie sua sugesto"})]})]}),i&&a&&l.jsx(yAe,{account:a,onBack:()=>s(!1),onSuccess:p})]})}var xAe=Object.defineProperty,Vx=Object.getOwnPropertySymbols,cW=Object.prototype.hasOwnProperty,uW=Object.prototype.propertyIsEnumerable,RV=(t,e,n)=>e in t?xAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rC=(t,e)=>{for(var n in e||(e={}))cW.call(e,n)&&RV(t,n,e[n]);if(Vx)for(var n of Vx(e))uW.call(e,n)&&RV(t,n,e[n]);return t},iC=(t,e)=>{var n={};for(var r in t)cW.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Vx)for(var r of Vx(t))e.indexOf(r)<0&&uW.call(t,r)&&(n[r]=t[r]);return n};var $u;(t=>{const e=class wt{constructor(c,d,f,m){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<wt.MIN_VERSION||c>wt.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let p=[];for(let x=0;x<this.size;x++)p.push(!1);for(let x=0;x<this.size;x++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const y=this.addEccAndInterleave(f);if(this.drawCodewords(y),m==-1){let x=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const _=this.getPenaltyScore();_<x&&(m=b,x=_),this.applyMask(b)}}i(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(c,d){const f=t.QrSegment.makeSegments(c);return wt.encodeSegments(f,d)}static encodeBinary(c,d){const f=t.QrSegment.makeBytes(c);return wt.encodeSegments([f],d)}static encodeSegments(c,d,f=1,m=40,p=-1,y=!0){if(!(wt.MIN_VERSION<=f&&f<=m&&m<=wt.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let x,b;for(x=f;;x++){const R=wt.getNumDataCodewords(x,d)*8,z=a.getTotalBits(c,x);if(z<=R){b=z;break}if(x>=m)throw new RangeError("Data too long")}for(const R of[wt.Ecc.MEDIUM,wt.Ecc.QUARTILE,wt.Ecc.HIGH])y&&b<=wt.getNumDataCodewords(x,R)*8&&(d=R);let _=[];for(const R of c){n(R.mode.modeBits,4,_),n(R.numChars,R.mode.numCharCountBits(x),_);for(const z of R.getData())_.push(z)}i(_.length==b);const S=wt.getNumDataCodewords(x,d)*8;i(_.length<=S),n(0,Math.min(4,S-_.length),_),n(0,(8-_.length%8)%8,_),i(_.length%8==0);for(let R=236;_.length<S;R^=253)n(R,8,_);let O=[];for(;O.length*8<_.length;)O.push(0);return _.forEach((R,z)=>O[z>>>3]|=R<<7-(z&7)),new wt(x,d,O,p)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let f=0;f<d;f++)for(let m=0;m<d;m++)f==0&&m==0||f==0&&m==d-1||f==d-1&&m==0||this.drawAlignmentPattern(c[f],c[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let f=d;for(let p=0;p<10;p++)f=f<<1^(f>>>9)*1335;const m=(d<<10|f)^21522;i(m>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,r(m,p));this.setFunctionModule(8,7,r(m,6)),this.setFunctionModule(8,8,r(m,7)),this.setFunctionModule(7,8,r(m,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,r(m,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,r(m,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,r(m,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let f=0;f<12;f++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;i(d>>>18==0);for(let f=0;f<18;f++){const m=r(d,f),p=this.size-11+f%3,y=Math.floor(f/3);this.setFunctionModule(p,y,m),this.setFunctionModule(y,p,m)}}drawFinderPattern(c,d){for(let f=-4;f<=4;f++)for(let m=-4;m<=4;m++){const p=Math.max(Math.abs(m),Math.abs(f)),y=c+m,x=d+f;0<=y&&y<this.size&&0<=x&&x<this.size&&this.setFunctionModule(y,x,p!=2&&p!=4)}}drawAlignmentPattern(c,d){for(let f=-2;f<=2;f++)for(let m=-2;m<=2;m++)this.setFunctionModule(c+m,d+f,Math.max(Math.abs(m),Math.abs(f))!=1)}setFunctionModule(c,d,f){this.modules[d][c]=f,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,f=this.errorCorrectionLevel;if(c.length!=wt.getNumDataCodewords(d,f))throw new RangeError("Invalid argument");const m=wt.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d],p=wt.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d],y=Math.floor(wt.getNumRawDataModules(d)/8),x=m-y%m,b=Math.floor(y/m);let _=[];const S=wt.reedSolomonComputeDivisor(p);for(let R=0,z=0;R<m;R++){let P=c.slice(z,z+b-p+(R<x?0:1));z+=P.length;const A=wt.reedSolomonComputeRemainder(P,S);R<x&&P.push(0),_.push(P.concat(A))}let O=[];for(let R=0;R<_[0].length;R++)_.forEach((z,P)=>{(R!=b-p||P>=x)&&O.push(z[R])});return i(O.length==y),O}drawCodewords(c){if(c.length!=Math.floor(wt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let m=0;m<this.size;m++)for(let p=0;p<2;p++){const y=f-p,b=(f+1&2)==0?this.size-1-m:m;!this.isFunction[b][y]&&d<c.length*8&&(this.modules[b][y]=r(c[d>>>3],7-(d&7)),d++)}}i(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let f=0;f<this.size;f++){let m;switch(c){case 0:m=(f+d)%2==0;break;case 1:m=d%2==0;break;case 2:m=f%3==0;break;case 3:m=(f+d)%3==0;break;case 4:m=(Math.floor(f/3)+Math.floor(d/2))%2==0;break;case 5:m=f*d%2+f*d%3==0;break;case 6:m=(f*d%2+f*d%3)%2==0;break;case 7:m=((f+d)%2+f*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][f]&&m&&(this.modules[d][f]=!this.modules[d][f])}}getPenaltyScore(){let c=0;for(let p=0;p<this.size;p++){let y=!1,x=0,b=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[p][_]==y?(x++,x==5?c+=wt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,b),y||(c+=this.finderPenaltyCountPatterns(b)*wt.PENALTY_N3),y=this.modules[p][_],x=1);c+=this.finderPenaltyTerminateAndCount(y,x,b)*wt.PENALTY_N3}for(let p=0;p<this.size;p++){let y=!1,x=0,b=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][p]==y?(x++,x==5?c+=wt.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,b),y||(c+=this.finderPenaltyCountPatterns(b)*wt.PENALTY_N3),y=this.modules[_][p],x=1);c+=this.finderPenaltyTerminateAndCount(y,x,b)*wt.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let y=0;y<this.size-1;y++){const x=this.modules[p][y];x==this.modules[p][y+1]&&x==this.modules[p+1][y]&&x==this.modules[p+1][y+1]&&(c+=wt.PENALTY_N2)}let d=0;for(const p of this.modules)d=p.reduce((y,x)=>y+(x?1:0),d);const f=this.size*this.size,m=Math.ceil(Math.abs(d*20-f*10)/f)-1;return i(0<=m&&m<=9),c+=m*wt.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let f=[6];for(let m=this.size-7;f.length<c;m-=d)f.splice(1,0,m);return f}}static getNumRawDataModules(c){if(c<wt.MIN_VERSION||c>wt.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const f=Math.floor(c/7)+2;d-=(25*f-10)*f-55,c>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(wt.getNumRawDataModules(c)/8)-wt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*wt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let m=0;m<c-1;m++)d.push(0);d.push(1);let f=1;for(let m=0;m<c;m++){for(let p=0;p<d.length;p++)d[p]=wt.reedSolomonMultiply(d[p],f),p+1<d.length&&(d[p]^=d[p+1]);f=wt.reedSolomonMultiply(f,2)}return d}static reedSolomonComputeRemainder(c,d){let f=d.map(m=>0);for(const m of c){const p=m^f.shift();f.push(0),d.forEach((y,x)=>f[x]^=wt.reedSolomonMultiply(y,p))}return f}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let f=0;for(let m=7;m>=0;m--)f=f<<1^(f>>>7)*285,f^=(d>>>m&1)*c;return i(f>>>8==0),f}finderPenaltyCountPatterns(c){const d=c[1];i(d<=this.size*3);const f=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(f&&c[0]>=d*4&&c[6]>=d?1:0)+(f&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,f){return c&&(this.finderPenaltyAddHistory(d,f),d=0),d+=this.size,this.finderPenaltyAddHistory(d,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(o,c,d){if(c<0||c>31||o>>>c)throw new RangeError("Value out of range");for(let f=c-1;f>=0;f--)d.push(o>>>f&1)}function r(o,c){return(o>>>c&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}const s=class Sn{constructor(c,d,f){if(this.mode=c,this.numChars=d,this.bitData=f,d<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(c){let d=[];for(const f of c)n(f,8,d);return new Sn(Sn.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!Sn.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let f=0;f<c.length;){const m=Math.min(c.length-f,3);n(parseInt(c.substring(f,f+m),10),m*3+1,d),f+=m}return new Sn(Sn.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!Sn.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],f;for(f=0;f+2<=c.length;f+=2){let m=Sn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f))*45;m+=Sn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f+1)),n(m,11,d)}return f<c.length&&n(Sn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f)),6,d),new Sn(Sn.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:Sn.isNumeric(c)?[Sn.makeNumeric(c)]:Sn.isAlphanumeric(c)?[Sn.makeAlphanumeric(c)]:[Sn.makeBytes(Sn.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new Sn(Sn.Mode.ECI,0,d)}static isNumeric(c){return Sn.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Sn.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let f=0;for(const m of c){const p=m.mode.numCharCountBits(d);if(m.numChars>=1<<p)return 1/0;f+=4+p+m.bitData.length}return f}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let f=0;f<c.length;f++)c.charAt(f)!="%"?d.push(c.charCodeAt(f)):(d.push(parseInt(c.substring(f+1,f+3),16)),f+=2);return d}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=s;t.QrSegment=s})($u||($u={}));(t=>{(e=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})($u||($u={}));(t=>{(e=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})($u||($u={}));var hf=$u;var bAe={L:hf.QrCode.Ecc.LOW,M:hf.QrCode.Ecc.MEDIUM,Q:hf.QrCode.Ecc.QUARTILE,H:hf.QrCode.Ecc.HIGH},dW=128,fW="L",hW="#FFFFFF",mW="#000000",pW=!1,gW=1,wAe=4,_Ae=0,EAe=.1;function yW(t,e=0){const n=[];return t.forEach(function(r,i){let s=null;r.forEach(function(a,o){if(!a&&s!==null){n.push(`M${s+e} ${i+e}h${o-s}v1H${s+e}z`),s=null;return}if(o===r.length-1){if(!a)return;s===null?n.push(`M${o+e},${i+e} h1v1H${o+e}z`):n.push(`M${s+e},${i+e} h${o+1-s}v1H${s+e}z`);return}a&&s===null&&(s=o)})}),n.join("")}function vW(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function SAe(t,e,n,r){if(r==null)return null;const i=t.length+n*2,s=Math.floor(e*EAe),a=i/e,o=(r.width||s)*a,c=(r.height||s)*a,d=r.x==null?t.length/2-o/2:r.x*a,f=r.y==null?t.length/2-c/2:r.y*a,m=r.opacity==null?1:r.opacity;let p=null;if(r.excavate){let x=Math.floor(d),b=Math.floor(f),_=Math.ceil(o+d-x),S=Math.ceil(c+f-b);p={x,y:b,w:_,h:S}}const y=r.crossOrigin;return{x:d,y:f,h:c,w:o,excavation:p,opacity:m,crossOrigin:y}}function NAe(t,e){return e!=null?Math.max(Math.floor(e),0):t?wAe:_Ae}function xW({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:s,size:a,boostLevel:o}){let c=Te.useMemo(()=>{const x=(Array.isArray(t)?t:[t]).reduce((b,_)=>(b.push(...hf.QrSegment.makeSegments(_)),b),[]);return hf.QrCode.encodeSegments(x,bAe[e],n,void 0,void 0,o)},[t,e,n,o]);const{cells:d,margin:f,numCells:m,calculatedImageSettings:p}=Te.useMemo(()=>{let y=c.getModules();const x=NAe(r,i),b=y.length+x*2,_=SAe(y,a,x,s);return{cells:y,margin:x,numCells:b,calculatedImageSettings:_}},[c,a,s,r,i]);return{qrcode:c,margin:f,cells:d,numCells:m,calculatedImageSettings:p}}var TAe=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),CAe=Te.forwardRef(function(e,n){const r=e,{value:i,size:s=dW,level:a=fW,bgColor:o=hW,fgColor:c=mW,includeMargin:d=pW,minVersion:f=gW,boostLevel:m,marginSize:p,imageSettings:y}=r,b=iC(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:_}=b,S=iC(b,["style"]),O=y?.src,R=Te.useRef(null),z=Te.useRef(null),P=Te.useCallback($=>{R.current=$,typeof n=="function"?n($):n&&(n.current=$)},[n]),[A,N]=Te.useState(!1),{margin:T,cells:I,numCells:j,calculatedImageSettings:D}=xW({value:i,level:a,minVersion:f,boostLevel:m,includeMargin:d,marginSize:p,imageSettings:y,size:s});Te.useEffect(()=>{if(R.current!=null){const $=R.current,Z=$.getContext("2d");if(!Z)return;let J=I;const B=z.current,Q=D!=null&&B!==null&&B.complete&&B.naturalHeight!==0&&B.naturalWidth!==0;Q&&D.excavation!=null&&(J=vW(I,D.excavation));const H=window.devicePixelRatio||1;$.height=$.width=s*H;const k=s/j*H;Z.scale(k,k),Z.fillStyle=o,Z.fillRect(0,0,j,j),Z.fillStyle=c,TAe?Z.fill(new Path2D(yW(J,T))):I.forEach(function(U,G){U.forEach(function(K,X){K&&Z.fillRect(X+T,G+T,1,1)})}),D&&(Z.globalAlpha=D.opacity),Q&&Z.drawImage(B,D.x+T,D.y+T,D.w,D.h)}}),Te.useEffect(()=>{N(!1)},[O]);const F=rC({height:s,width:s},_);let V=null;return O!=null&&(V=Te.createElement("img",{src:O,key:O,style:{display:"none"},onLoad:()=>{N(!0)},ref:z,crossOrigin:D?.crossOrigin})),Te.createElement(Te.Fragment,null,Te.createElement("canvas",rC({style:F,height:s,width:s,ref:P,role:"img"},S)),V)});CAe.displayName="QRCodeCanvas";var bW=Te.forwardRef(function(e,n){const r=e,{value:i,size:s=dW,level:a=fW,bgColor:o=hW,fgColor:c=mW,includeMargin:d=pW,minVersion:f=gW,boostLevel:m,title:p,marginSize:y,imageSettings:x}=r,b=iC(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:_,cells:S,numCells:O,calculatedImageSettings:R}=xW({value:i,level:a,minVersion:f,boostLevel:m,includeMargin:d,marginSize:y,imageSettings:x,size:s});let z=S,P=null;x!=null&&R!=null&&(R.excavation!=null&&(z=vW(S,R.excavation)),P=Te.createElement("image",{href:x.src,height:R.h,width:R.w,x:R.x+_,y:R.y+_,preserveAspectRatio:"none",opacity:R.opacity,crossOrigin:R.crossOrigin}));const A=yW(z,_);return Te.createElement("svg",rC({height:s,width:s,viewBox:`0 0 ${O} ${O}`,ref:n,role:"img"},b),!!p&&Te.createElement("title",null,p),Te.createElement("path",{fill:o,d:`M0,0 h${O}v${O}H0z`,shapeRendering:"crispEdges"}),Te.createElement("path",{fill:c,d:A,shapeRendering:"crispEdges"}),P)});bW.displayName="QRCodeSVG";function AAe({account:t,onClose:e}){const{user:n}=Ft(),{pixKeys:r,isLoading:i}=HI(),[s,a]=E.useState("transfer"),[o,c]=E.useState(""),[d,f]=E.useState(!1),[m,p]=E.useState(null),[y,x]=E.useState(""),[b,_]=E.useState(!1);console.log(" FiatAddFunds renderizado",{account:t,user:n?.uid,pixKeysCount:r.length,isLoadingPixKeys:i});const S=t.country==="BR",O=t.currency==="BRL"?"R$":t.currency==="USD"?"$":t.currency==="EUR"?"":"";E.useEffect(()=>{r.length>0&&!y&&x(r[0].id)},[r,y]);const R=r.find(D=>D.id===y),z=(D,F)=>{mw(D),p(F),Me.success("Copiado para rea de transferncia"),setTimeout(()=>p(null),2e3)},P=D=>{const F=D.replace(/\D/g,"");return F?(parseInt(F)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""},A=D=>{const F=P(D);c(F)},N=async()=>{const D=parseFloat(o.replace(/\./g,"").replace(",","."));if(!o||D<=0){Me.error("Insira um valor vlido");return}if(!n?.uid){Me.error("Usurio no autenticado");return}f(!0);try{const F=D,V=s==="pix"?"PIX":"Transferncia Bancria",$=await Pl(n.uid,t.currency,F,`Depsito via ${V}`);if($.success){const Z=t.currency==="BRL"?F.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):F.toFixed(2);Me.success(`Depsito de ${O}${Z} realizado com sucesso!`),c(""),setTimeout(()=>{e()},1e3)}else Me.error($.message||"Erro ao processar depsito")}catch(F){console.error("Erro ao simular depsito:",F),Me.error("Erro ao processar depsito")}finally{f(!1)}},I=(()=>{if(!R||!o)return"";const D=parseFloat(o.replace(/\./g,"").replace(",","."));if(D<=0)return"";const F={pixKey:R.keyValue,description:"Depsito NexCoin",merchantName:"NexCoin",merchantCity:"SAO PAULO",txid:Math.random().toString(36).substring(2,15).toUpperCase(),amount:D.toFixed(2)};return JSON.stringify(F)})(),j=D=>{switch(D){case"cpf":return"CPF";case"cnpj":return"CNPJ";case"email":return"E-mail";case"phone":return"Telefone";case"random":return"Aleatria";default:return D}};return l.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[l.jsxs("div",{className:"px-6 pt-12 pb-4 flex items-center flex-shrink-0",children:[l.jsx("button",{className:"w-10 h-10 flex items-center justify-start text-white",onClick:e,children:l.jsx(vt,{className:"w-6 h-6"})}),l.jsx("h1",{className:"flex-1 text-center font-semibold text-lg pr-10",children:"Adicionar Fundos"})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto hide-scrollbar px-6 pb-6",children:[l.jsx("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-4 mb-6",children:l.jsx("div",{className:"flex items-center gap-3 mb-2",children:l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-semibold text-white",children:t.bankName}),l.jsx("p",{className:"text-xs text-gray-400",children:t.accountNumber})]})})}),S&&l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Mtodo de Depsito"}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>a("transfer"),className:`flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all ${s==="transfer"?"bg-white text-black":"bg-[#0A0A0A] text-gray-400 border border-[#1A1A1A]"}`,children:"Transferncia"}),l.jsx("button",{onClick:()=>a("pix"),className:`flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all ${s==="pix"?"bg-white text-black":"bg-[#0A0A0A] text-gray-400 border border-[#1A1A1A]"}`,children:"PIX"})]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Valor do Depsito"}),l.jsxs("div",{className:"relative",children:[l.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-semibold text-white",children:O}),l.jsx("input",{type:"text",inputMode:"decimal",value:o,onChange:D=>A(D.target.value),placeholder:"0,00",className:"w-full bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl py-4 pl-12 pr-4 text-2xl font-semibold text-white placeholder-gray-600 focus:outline-none focus:border-white/20"})]})]}),s==="transfer"&&l.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-4 mb-6",children:[l.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Dados para Transferncia"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Banco"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-white font-medium",children:t.bankName}),l.jsx("button",{onClick:()=>z(t.bankName,"bank"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="bank"?l.jsx(An,{className:"w-4 h-4 text-green-500"}):l.jsx(vn,{className:"w-4 h-4 text-gray-400"})})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Agncia"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-white font-mono",children:t.branchCode}),l.jsx("button",{onClick:()=>z(t.branchCode,"branch"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="branch"?l.jsx(An,{className:"w-4 h-4 text-green-500"}):l.jsx(vn,{className:"w-4 h-4 text-gray-400"})})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Conta"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-white font-mono",children:t.accountNumber}),l.jsx("button",{onClick:()=>z(t.accountNumber,"account"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="account"?l.jsx(An,{className:"w-4 h-4 text-green-500"}):l.jsx(vn,{className:"w-4 h-4 text-gray-400"})})]})]}),t.iban&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"IBAN"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-white font-mono",children:t.iban}),l.jsx("button",{onClick:()=>z(t.iban,"iban"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="iban"?l.jsx(An,{className:"w-4 h-4 text-green-500"}):l.jsx(vn,{className:"w-4 h-4 text-gray-400"})})]})]}),t.swift&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"SWIFT/BIC"}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("p",{className:"text-sm text-white font-mono",children:t.swift}),l.jsx("button",{onClick:()=>z(t.swift,"swift"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="swift"?l.jsx(An,{className:"w-4 h-4 text-green-500"}):l.jsx(vn,{className:"w-4 h-4 text-gray-400"})})]})]})]})]}),s==="pix"&&l.jsx("div",{className:"space-y-4",children:r.length>0?l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Selecione a Chave PIX"}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>_(!b),className:"w-full bg-[#0A0A0A] border border-[#1A1A1A] rounded-xl p-4 flex items-center justify-between text-left",children:[R?l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:j(R.keyType)}),l.jsx("p",{className:"text-sm text-white font-mono",children:R.keyValue})]}):l.jsx("p",{className:"text-sm text-gray-400",children:"Selecione uma chave"}),l.jsx(Pa,{className:`w-5 h-5 text-gray-400 transition-transform ${b?"rotate-180":""}`})]}),b&&l.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#0A0A0A] border border-[#1A1A1A] rounded-xl overflow-hidden z-10 max-h-60 overflow-y-auto",children:r.map(D=>l.jsxs("button",{onClick:()=>{x(D.id),_(!1)},className:`w-full p-4 text-left hover:bg-white/5 transition-colors border-b border-[#1A1A1A] last:border-b-0 ${y===D.id?"bg-white/5":""}`,children:[l.jsx("p",{className:"text-xs text-gray-400 mb-1",children:j(D.keyType)}),l.jsx("p",{className:"text-sm text-white font-mono",children:D.keyValue})]},D.id))})]})]}),R&&o&&parseFloat(o)>0&&l.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-6",children:[l.jsx("h3",{className:"text-sm font-semibold text-white mb-4 text-center",children:"QR Code PIX"}),l.jsx("div",{className:"bg-white rounded-2xl p-6 mb-4 flex items-center justify-center",children:l.jsx(bW,{value:I,size:200,level:"H",includeMargin:!1,className:"w-full h-auto"})}),l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Valor"}),l.jsxs("span",{className:"text-sm text-white font-semibold",children:[O," ",t.currency==="BRL"?parseFloat(o).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):parseFloat(o).toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Chave"}),l.jsx("span",{className:"text-sm text-white font-mono truncate ml-4",children:R.keyValue})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-gray-400",children:"Destinatrio"}),l.jsx("span",{className:"text-sm text-white",children:"NexCoin"})]})]}),l.jsx("button",{onClick:()=>z(I,"pixPayload"),className:"w-full bg-white/10 hover:bg-white/15 border border-white/20 rounded-xl py-3 flex items-center justify-center gap-2 transition-colors",children:m==="pixPayload"?l.jsxs(l.Fragment,{children:[l.jsx(An,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{className:"text-sm font-medium text-green-500",children:"Cdigo Copiado!"})]}):l.jsxs(l.Fragment,{children:[l.jsx(vn,{className:"w-4 h-4 text-white"}),l.jsx("span",{className:"text-sm font-medium text-white",children:"Copiar Cdigo PIX"})]})})]}),!o||parseFloat(o)<=0?l.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 backdrop-blur-sm",children:l.jsxs("p",{className:"text-xs text-white/70",children:[" ",l.jsx("strong",{children:"Dica:"})," Insira o valor do depsito acima para gerar o QR Code PIX."]})}):null]}):l.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 backdrop-blur-sm",children:l.jsxs("p",{className:"text-xs text-white/70",children:[" ",l.jsx("strong",{children:"Nenhuma chave PIX cadastrada."})," Cadastre uma chave PIX para usar este mtodo."]})})}),l.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mt-6 backdrop-blur-sm",children:l.jsxs("p",{className:"text-xs text-white/60",children:[" ",l.jsx("strong",{children:"Simulao:"}),' Em produo, o sistema aguardaria confirmao da transferncia bancria. Aqui, o saldo ser adicionado instantaneamente ao clicar em "Confirmar Depsito".']})})]}),l.jsx("div",{className:"p-6 flex-shrink-0 border-t border-[#1A1A1A]",children:l.jsx("button",{onClick:N,disabled:!o||d||s==="pix"&&!R,className:"w-full bg-white text-black py-4 rounded-2xl font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 active:scale-[0.98]",children:d?"Processando...":"Confirmar Depsito"})})]})}function DV({account:t,onClose:e,onNavigateToConvert:n,onNavigateToWithdraw:r}){const[i,s]=E.useState("transactions"),[a,o]=E.useState(!1),[c,d]=E.useState(!1),{getBalance:f}=kg(),{transactions:m,isLoading:p,formatTransactionDescription:y,getTransactionIconType:x}=hw(),b=E.useMemo(()=>m.filter(z=>z.currency===t.currency||z.fromCurrency===t.currency||z.toCurrency===t.currency).slice(0,10),[m,t.currency]),_=z=>{const P=f(z);return z==="BRL"?`${P.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})} ${z}`:`${P.toFixed(2).replace(".",",")} ${z}`},S=z=>{let P=0,A=t.currency;z.type==="convert"?z.fromCurrency===t.currency?(P=-z.fromAmount,A=z.fromCurrency):z.toCurrency===t.currency&&(P=z.toAmount,A=z.toCurrency):z.type==="withdraw_fiat"||z.type==="send_crypto"||z.type==="crypto_send"||z.type==="pix_send"?(P=-Math.abs(z.amount),A=z.currency):(P=Math.abs(z.amount),A=z.currency);const N=P>=0?"+":"-",T=Math.abs(P);let I;return A==="BRL"?I=T.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):I=T.toFixed(2).replace(".",","),{formatted:`${N} ${I} ${A}`,amount:P}},O=z=>{const P=z.getDate(),A=z.toLocaleDateString("pt-BR",{month:"short"});return`${P} de ${A.charAt(0).toUpperCase()+A.slice(1)}`},R=z=>{switch(z){case"saida":return l.jsx(YS,{className:"w-5 h-5 text-white"});case"entrada":return l.jsx(LV,{className:"w-5 h-5 text-white"});case"conversao":return l.jsx(jv,{className:"w-5 h-5 text-white"})}};return l.jsx(l.Fragment,{children:c?l.jsx(AAe,{account:t,onClose:()=>d(!1)}):a?l.jsx(vAe,{onNavigate:z=>{z==="home"&&(o(!1),e())}}):l.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black z-50 overflow-y-auto",children:[l.jsx("div",{className:"flex items-center justify-between p-4 relative z-10",children:l.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center backdrop-blur-md border border-white/10 hover:bg-white/15 transition-all",children:l.jsx(gi,{className:"w-5 h-5 text-white"})})}),l.jsxs("div",{className:"flex flex-col items-center mt-8 px-4 relative z-10",children:[l.jsx("div",{className:"text-white/60 text-sm font-semibold mb-2 tracking-widest uppercase",children:t.currency}),l.jsx("div",{className:"text-xl font-light text-white mb-8 tabular-nums",children:_(t.currency)}),t.currency==="BRL"&&l.jsx("button",{onClick:()=>o(!0),className:"mb-8 px-6 py-2.5 rounded-full bg-white/10 hover:bg-white/15 backdrop-blur-md border border-white/20 transition-all flex items-center gap-2 text-white font-semibold text-sm shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:"Chaves Pix"}),l.jsxs("div",{className:"flex items-center gap-8 mb-10",children:[l.jsxs("button",{onClick:()=>d(!0),className:"flex flex-col items-center gap-2 group",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:l.jsx(wu,{className:"w-6 h-6 text-white"})}),l.jsx("span",{className:"text-xs text-white/70 font-light",children:"Adicionar"})]}),l.jsxs("button",{onClick:()=>{n&&n()},className:"flex flex-col items-center gap-2 group",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:l.jsx(jv,{className:"w-6 h-6 text-white"})}),l.jsx("span",{className:"text-xs text-white/70 font-light",children:"Converter"})]}),l.jsxs("button",{onClick:()=>{r&&r()},className:"flex flex-col items-center gap-2 group",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:l.jsx(YS,{className:"w-6 h-6 text-white"})}),l.jsx("span",{className:"text-xs text-white/70 font-light",children:"Enviar"})]})]})]}),l.jsx("div",{className:"px-4 mb-6",children:l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-full p-1 flex border border-white/10",children:[l.jsx("button",{onClick:()=>s("transactions"),className:`flex-1 py-2 rounded-full text-sm font-semibold transition-all ${i==="transactions"?"bg-white/20 backdrop-blur-md text-white shadow-[0_0_20px_rgba(255,255,255,0.05)]":"text-white/50 hover:text-white/70"}`,children:"Transaes"}),l.jsx("button",{onClick:()=>s("options"),className:`flex-1 py-2 rounded-full text-sm font-semibold transition-all ${i==="options"?"bg-white/20 backdrop-blur-md text-white shadow-[0_0_20px_rgba(255,255,255,0.05)]":"text-white/50 hover:text-white/70"}`,children:"Opes"})]})}),l.jsx("div",{className:"px-4 pb-8",children:i==="transactions"?l.jsx("div",{className:"space-y-3",children:p?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"inline-block w-8 h-8 border-4 border-white/20 border-t-white rounded-full animate-spin"}),l.jsx("p",{className:"text-white/50 mt-4 text-sm",children:"Carregando transaes..."})]}):b.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto mb-4 flex items-center justify-center",children:l.jsx(jv,{className:"w-8 h-8 text-white/30"})}),l.jsx("p",{className:"text-white/50 text-sm",children:"Nenhuma transao encontrada"}),l.jsx("p",{className:"text-white/30 text-xs mt-2",children:"Suas transaes aparecero aqui"})]}):l.jsx(l.Fragment,{children:b.map(z=>{const{formatted:P,amount:A}=S(z),N=x(z);return l.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)] hover:bg-white/10 transition-all",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0",children:R(N)}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("div",{className:"text-white font-semibold text-sm truncate",children:y(z)}),l.jsxs("div",{className:"text-white/50 text-xs",children:[z.recipientInfo||z.description||"Transao","  ",O(z.createdAt)]})]}),l.jsx("div",{className:"flex flex-col items-end",children:l.jsx("div",{className:`font-semibold text-sm tabular-nums ${A>=0?"text-[#34c759]":"text-white"}`,children:P})})]})},z.id)})})}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:[l.jsx("h3",{className:"text-white font-bold text-sm mb-3",children:"Dados da Conta"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-white/50 text-xs mb-1",children:"Banco"}),l.jsx("div",{className:"text-white text-sm font-semibold",children:t.bankName})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-white/50 text-xs mb-1",children:"Nmero da Conta"}),l.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.accountNumber})]}),t.routingNumber&&l.jsxs("div",{children:[l.jsx("div",{className:"text-white/50 text-xs mb-1",children:"Cdigo do Banco"}),l.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.routingNumber})]}),t.iban&&l.jsxs("div",{children:[l.jsx("div",{className:"text-white/50 text-xs mb-1",children:"IBAN"}),l.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.iban})]}),t.swift&&l.jsxs("div",{children:[l.jsx("div",{className:"text-white/50 text-xs mb-1",children:"SWIFT"}),l.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.swift})]})]})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl overflow-hidden border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:[l.jsxs("button",{className:"w-full p-4 flex items-center justify-between hover:bg-white/10 transition-all border-b border-white/5",children:[l.jsx("span",{className:"text-white text-sm font-semibold",children:"Configuraes da Conta"}),l.jsx(Eo,{className:"w-4 h-4 text-white/50"})]}),l.jsxs("button",{className:"w-full p-4 flex items-center justify-between hover:bg-white/10 transition-all",children:[l.jsx("span",{className:"text-[#ff3b30] text-sm font-semibold",children:"Remover Conta"}),l.jsx(Eo,{className:"w-4 h-4 text-[#ff3b30]/50"})]})]})]})})]})})}function PAe(){const{userData:t,logout:e}=Ft(),n=async()=>{try{await e()}catch(r){console.error("Erro ao fazer logout:",r)}};return l.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:l.jsxs("div",{className:"max-w-md w-full",children:[l.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-8 text-center",children:[l.jsx("div",{className:"mb-6 flex justify-center",children:l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-yellow-500/20 rounded-full blur-xl animate-pulse"}),l.jsx("div",{className:"relative bg-gradient-to-br from-yellow-500 to-orange-500 rounded-full p-4",children:l.jsx(dp,{className:"w-12 h-12 text-white"})})]})}),l.jsx("h1",{className:"text-2xl font-bold mb-3",children:"Conta em Anlise"}),l.jsxs("p",{className:"text-gray-400 mb-8 leading-relaxed",children:["Ol ",t?.name?.split(" ")[0]||"usurio","! Sua solicitao de acesso ao ",l.jsx("span",{className:"text-white font-semibold",children:"NexCoin"})," est sendo analisada pela nossa equipe de segurana."]}),l.jsxs("div",{className:"space-y-4 mb-8 text-left",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"mt-1",children:l.jsx(Bx,{className:"w-5 h-5 text-green-500"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-white font-medium",children:"Cadastro Realizado"}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Suas informaes foram recebidas com sucesso"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"mt-1",children:l.jsx("div",{className:"w-5 h-5 border-2 border-yellow-500 border-t-transparent rounded-full animate-spin"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-white font-medium",children:"Anlise de Segurana"}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Verificando seus dados e validando identidade"})]})]}),l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"mt-1",children:l.jsx("div",{className:"w-5 h-5 border-2 border-white/20 rounded-full"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-gray-400 font-medium",children:"Aprovao Final"}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Voc receber uma notificao quando for aprovado"})]})]})]}),l.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6",children:l.jsxs("div",{className:"flex items-start gap-3 text-left",children:[l.jsx(Nf,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm text-gray-300",children:[l.jsx("span",{className:"font-semibold text-white",children:"Tempo estimado:"})," 24 a 48 horas"]}),l.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Voc receber um e-mail em ",l.jsx("span",{className:"text-white",children:t?.email})," assim que sua conta for aprovada."]})]})]})}),l.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400 mb-6",children:[l.jsx(Tf,{className:"w-4 h-4 text-green-500"}),l.jsx("span",{children:"Protegido por verificao em duas etapas"})]}),l.jsx("button",{onClick:n,className:"w-full py-3 px-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-white font-medium transition-all",children:"Sair da Conta"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("p",{className:"text-sm text-gray-400",children:["Precisa de ajuda?"," ",l.jsx("a",{href:"mailto:suporte@nexcoin.com",className:"text-white hover:underline",children:"Entre em contato"})]})})]})})}async function IAe(t){try{console.log(" ============ INICIANDO EXCLUSO DE CONTA ============"),console.log(" User ID:",t),console.log(" [1/6] Deletando subcolees do usurio...");const e=["portfolio","assets","transactions","conversions","fiatBalances","fiatTransactions","pixKeys","wallets","walletAddresses","receiveAddresses","auditLogs","preferences"];for(const n of e)try{const r=it(Se,"users",t,n),i=await Tt(r);if(console.log(`   Deletando ${i.size} documentos de ${n}...`),i.size>0){const s=[];let a=iu(Se),o=0;const c=500;i.docs.forEach(d=>{a.delete(d.ref),o++,o===c&&(s.push(a),a=iu(Se),o=0)}),o>0&&s.push(a);for(const d of s)await d.commit();console.log(`   ${i.size} documentos deletados de ${n}`)}else console.log(`   Nenhum documento encontrado em ${n}`)}catch(r){console.log(`   Erro ao deletar ${n} (continuando):`,r.message)}console.log(" [2/6] Deletando documento principal do usurio...");try{const n=ct(Se,"users",t);await Ru(n),console.log("   Documento principal deletado")}catch{console.log("   Documento principal no encontrado ou j foi deletado (continuando)")}console.log(" [3/6] Deletando contas bancrias...");try{const n=it(Se,"bankAccounts"),r=jt(n,Et("userId","==",t)),i=await Tt(r);if(console.log(`   Deletando ${i.size} contas bancrias...`),i.size>0){const s=iu(Se);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} contas bancrias deletadas`)}else console.log("   Nenhuma conta bancria encontrada")}catch(n){console.log("   Erro ao deletar contas bancrias (continuando):",n.message)}console.log(" [4/6] Deletando chaves PIX...");try{const n=it(Se,"pixKeys"),r=jt(n,Et("userId","==",t)),i=await Tt(r);if(console.log(`   Deletando ${i.size} chaves PIX...`),i.size>0){const s=iu(Se);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} chaves PIX deletadas`)}else console.log("   Nenhuma chave PIX encontrada")}catch(n){console.log("   Erro ao deletar chaves PIX (continuando):",n.message)}console.log(" [5/6] Deletando ndice de endereos de carteira...");try{const n=it(Se,"walletAddressIndex"),r=jt(n,Et("userId","==",t)),i=await Tt(r);if(i.size>0){console.log(`   Deletando ${i.size} endereos do ndice...`);const s=iu(Se);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} endereos deletados do ndice`)}else console.log("   Nenhum endereo no ndice encontrado")}catch(n){console.log("   Erro ao deletar ndice de endereos (continuando):",n.message)}if(console.log(" [6/6] Deletando usurio do Firebase Auth..."),!xn.currentUser)throw new Error("Usurio no est autenticado");if(xn.currentUser.uid!==t)throw new Error("Erro de segurana: UID no corresponde ao usurio autenticado");return await Mte(xn.currentUser),console.log("   Usurio deletado do Firebase Auth"),console.log(" ============ CONTA EXCLUDA COM SUCESSO ============"),{success:!0}}catch(e){console.error(" ============ ERRO NA EXCLUSO DE CONTA ============"),console.error(" Erro:",e),console.error(" Mensagem:",e.message),console.error(" ================================================");let n="Erro ao excluir conta. Tente novamente.";return e.code==="auth/requires-recent-login"?n="Por segurana, faa login novamente antes de excluir sua conta.":e.code==="permission-denied"?n="Voc no tem permisso para excluir esta conta.":e.message&&(n=e.message),{success:!1,error:n}}}async function jAe(t){try{const e={assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0};try{const n=await Tt(it(Se,"users",t,"assets"));e.assets=n.size}catch{}try{const n=await Tt(it(Se,"users",t,"transactions"));e.transactions=n.size}catch{}try{const n=await Tt(it(Se,"users",t,"conversions"));e.conversions=n.size}catch{}try{const n=await Tt(it(Se,"users",t,"fiatBalances"));e.fiatBalances=n.size}catch{}try{const n=jt(it(Se,"bankAccounts"),Et("userId","==",t)),r=await Tt(n);e.bankAccounts=r.size}catch{}try{const n=jt(it(Se,"pixKeys"),Et("userId","==",t)),r=await Tt(n);e.pixKeys=r.size}catch{}return e.total=e.assets+e.transactions+e.conversions+e.fiatBalances+e.bankAccounts+e.pixKeys,console.log(" Contagem de dados do usurio:",e),e}catch(e){return console.error(" Erro geral ao contar dados do usurio:",e),{assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0}}}function kAe({onNavigate:t}){const{user:e,logout:n,verifyPin:r,userData:i}=Ft(),[s,a]=E.useState("warning"),[o,c]=E.useState(""),[d,f]=E.useState(""),[m,p]=E.useState(""),[y,x]=E.useState(!1),[b,_]=E.useState("password"),[S,O]=E.useState({assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0}),[R,z]=E.useState(!0);E.useEffect(()=>{e?.uid&&(A(),P())},[e?.uid]);const P=()=>{if(!xn.currentUser)return;const T=xn.currentUser.providerData;if(console.log(" Provedor de autenticao completo:",JSON.stringify(T,null,2)),console.log(" Email do usurio:",xn.currentUser.email),console.log(" Email verificado:",xn.currentUser.emailVerified),console.log(" Metadata:",xn.currentUser.metadata),T.length>0){const I=T[0].providerId;console.log(" Provider ID detectado:",I),I==="password"?(_("password"),console.log(" Usurio usa email/senha")):I==="google.com"?(_("google"),console.log(" Usurio usa login do Google - NO PRECISA DE SENHA")):(_("other"),console.log(" Usurio usa outro mtodo:",I))}else console.log(" Nenhum provedor encontrado!")},A=async()=>{if(e?.uid){z(!0);try{const T=await jAe(e.uid);O(T)}catch(T){console.error(" Erro ao carregar contagem:",T)}finally{z(!1)}}},N=async()=>{if(!e?.uid){Me.error("Usurio no autenticado");return}if(!xn.currentUser){Me.error("Erro: usurio no encontrado");return}const T=i&&i.accountPin;if(T){if(!d||d.length!==6){Me.error("Digite seu PIN de 6 dgitos");return}if(o!=="EXCLUIR"){Me.error('Digite "EXCLUIR" para confirmar a excluso');return}}else if(o!=="EXCLUIR"){Me.error('Digite "EXCLUIR" para confirmar a excluso');return}a("deleting"),x(!0);try{if(T){if(console.log(" Validando PIN..."),!await r(d)){console.error(" PIN incorreto"),p("PIN incorreto. Tente novamente."),Me.error("PIN incorreto. Verifique e tente novamente."),a("pin"),x(!1);return}console.log(" PIN validado com sucesso!")}else console.log(" Usurio sem dados no Firestore. Pulando validao de PIN.");console.log(" Iniciando excluso da conta...");const I=await IAe(e.uid);if(!I.success)throw new Error(I.error||"Erro ao excluir conta");console.log(" Conta excluda com sucesso!"),a("done"),setTimeout(()=>{n()},3e3)}catch(I){console.error(" Erro ao excluir conta:",I),console.error(" Cdigo:",I.code),console.error(" Mensagem:",I.message);let j="Erro ao excluir conta. Tente novamente.";I.code==="auth/requires-recent-login"?j="Por segurana, faa logout e login novamente antes de excluir sua conta.":I.code==="auth/network-request-failed"?j="Erro de conexo. Verifique sua internet e tente novamente.":I.message&&(j=I.message),Me.error(j),a(T?"pin":"confirm"),x(!1)}};return s==="done"?l.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:l.jsxs(Wn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-6",children:l.jsx(Wn.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},children:l.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),l.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Conta Excluda"}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Sua conta e todos os dados foram removidos permanentemente."}),l.jsx("p",{className:"text-sm text-gray-500",children:"Redirecionando..."})]})}):s==="deleting"?l.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:l.jsxs(Wn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[l.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-6",children:l.jsx(l0,{className:"w-10 h-10 text-red-500 animate-spin"})}),l.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Excluindo Conta..."}),l.jsx("p",{className:"text-gray-400 mb-6",children:"Removendo todos os seus dados do sistema."}),l.jsx("p",{className:"text-sm text-gray-500",children:"Isso pode levar alguns segundos."})]})}):l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4",children:[l.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center hover:bg-white/10 transition-colors mb-6",children:l.jsx(vt,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Excluir Conta"}),l.jsx("p",{className:"text-sm text-gray-400",children:"Ao permanente e irreversvel"})]}),l.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:l.jsx(QS,{className:"w-6 h-6 text-red-500"})})]})]}),l.jsxs("div",{className:"flex-1 px-6 space-y-4",children:[s==="warning"&&l.jsxs(Wn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[l.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-4",children:[l.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[l.jsx(ho,{className:"w-5 h-5 text-red-500"}),"Dados que sero excludos"]}),R?l.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(T=>l.jsx("div",{className:"h-8 bg-white/5 rounded-lg animate-pulse"},T))}):l.jsxs("div",{className:"space-y-3",children:[S.assets>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Ativos de criptomoedas"}),l.jsx("span",{className:"font-semibold text-white",children:S.assets})]}),S.transactions>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Transaes"}),l.jsx("span",{className:"font-semibold text-white",children:S.transactions})]}),S.conversions>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Converses"}),l.jsx("span",{className:"font-semibold text-white",children:S.conversions})]}),S.fiatBalances>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Saldos fiat"}),l.jsx("span",{className:"font-semibold text-white",children:S.fiatBalances})]}),S.bankAccounts>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Contas bancrias"}),l.jsx("span",{className:"font-semibold text-white",children:S.bankAccounts})]}),S.pixKeys>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-400",children:"Chaves PIX"}),l.jsx("span",{className:"font-semibold text-white",children:S.pixKeys})]}),S.total===0&&l.jsx("div",{className:"text-center text-gray-500 py-4",children:"Nenhum dado encontrado"}),S.total>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"h-px bg-white/10 my-3"}),l.jsxs("div",{className:"flex justify-between text-base",children:[l.jsx("span",{className:"font-bold text-white",children:"Total"}),l.jsxs("span",{className:"font-bold text-red-500",children:[S.total," itens"]})]})]})]})]}),l.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-red-500 mb-3 flex items-center gap-2",children:[l.jsx(QS,{className:"w-5 h-5"})," Ateno"]}),l.jsxs("ul",{className:"space-y-2 text-sm text-red-200/90",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-red-500 mt-0.5",children:""}),l.jsxs("span",{children:["Todos os seus ativos e saldos sero ",l.jsx("strong",{children:"permanentemente excludos"})]})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-red-500 mt-0.5",children:""}),l.jsxs("span",{children:["Seu histrico de transaes ser ",l.jsx("strong",{children:"apagado completamente"})]})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-red-500 mt-0.5",children:""}),l.jsxs("span",{children:["Suas chaves PIX e contas bancrias sero ",l.jsx("strong",{children:"removidas"})]})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-red-500 mt-0.5",children:""}),l.jsxs("span",{children:[l.jsx("strong",{children:"No ser possvel recuperar"})," nenhum dado aps a excluso"]})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-red-500 mt-0.5",children:""}),l.jsxs("span",{children:["Sua conta NexCoin ser ",l.jsx("strong",{children:"encerrada definitivamente"})]})]})]})]}),l.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-2xl p-6 mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-yellow-500 mb-3",children:" Recomendao"}),l.jsx("p",{className:"text-sm text-yellow-200/90",children:"Antes de excluir sua conta, certifique-se de ter sacado todos os seus saldos e transferido seus ativos."})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>a("confirm"),className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors flex items-center justify-center gap-2",children:[l.jsx(ho,{className:"w-5 h-5"}),"Continuar com Excluso"]}),l.jsx("button",{onClick:()=>t("profile"),className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors",children:"Cancelar"})]})]}),s==="confirm"&&l.jsxs(Wn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[l.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-6",children:[l.jsx("h2",{className:"text-lg font-bold mb-3",children:"Confirmao de Excluso"}),l.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Para confirmar que voc entende que esta ao  irreversvel, digite ",l.jsx("strong",{className:"text-red-500",children:"EXCLUIR"})," no campo abaixo."]}),l.jsx("input",{type:"text",placeholder:"Digite EXCLUIR",value:o,onChange:T=>c(T.target.value.toUpperCase()),className:"w-full bg-white/5 border border-white/10 text-white rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-red-500 placeholder-gray-500 text-center font-bold text-lg",autoFocus:!0}),o&&o!=="EXCLUIR"&&l.jsx("p",{className:"text-xs text-red-500 mt-2 text-center",children:'O texto no corresponde. Digite exatamente "EXCLUIR"'})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:()=>{i&&i.accountPin?a("pin"):N()},disabled:o!=="EXCLUIR",className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar"}),l.jsx("button",{onClick:()=>a("warning"),className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors",children:"Voltar"})]})]}),s==="pin"&&l.jsxs(Wn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[l.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-6",children:[l.jsxs("h2",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[l.jsx(Ml,{className:"w-5 h-5"}),"Digite seu PIN"]}),l.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Por segurana, digite seu PIN para confirmar a excluso da conta."}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"password",placeholder:"Seu PIN",value:d,onChange:T=>f(T.target.value),className:"w-full bg-white/5 border border-white/10 text-white rounded-xl px-4 py-3 pr-12 outline-none focus:ring-2 focus:ring-red-500 placeholder-gray-500",autoFocus:!0}),l.jsx("button",{type:"button",onClick:()=>f(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:l.jsx(ho,{className:"w-5 h-5"})})]}),m&&l.jsx("p",{className:"text-xs text-red-500 mt-2 text-center",children:m})]}),l.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 mb-6",children:l.jsxs("p",{className:"text-sm text-red-200/90 text-center",children:[l.jsx("strong",{children:"ltima confirmao:"}),' Ao clicar em "Excluir Minha Conta", todos os seus dados sero ',l.jsx("strong",{children:"permanentemente removidos"})," do NexCoin."]})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:N,disabled:!d||y,className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y?l.jsxs(l.Fragment,{children:[l.jsx(l0,{className:"w-5 h-5 animate-spin"}),"Excluindo..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ho,{className:"w-5 h-5"}),"Excluir Minha Conta Permanentemente"]})}),l.jsx("button",{onClick:()=>a("confirm"),disabled:y,className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50",children:"Voltar"})]})]})]})]})}function RAe({onNavigate:t}){const{language:e,setLanguage:n,t:r}=fs(),i=[{code:"pt",name:r.portuguese,nativeName:"Portugus (Brasil)",flag:""},{code:"en",name:r.english,nativeName:"English (US)",flag:""},{code:"es",name:r.spanish,nativeName:"Espaol",flag:""}],s=async a=>{await n(a),Me.success(r.languageUpdated)};return l.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[l.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[l.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsx(vt,{className:"w-5 h-5 font-light"})}),l.jsx("h1",{className:"text-xl",children:r.languageSettings})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[l.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 mb-6 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(o0,{className:"w-5 h-5 text-green-500 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"mb-1",children:r.selectLanguage}),l.jsx("p",{className:"text-sm text-gray-400",children:"O idioma ser aplicado em todo o aplicativo"})]})]})}),l.jsx("div",{className:"space-y-3",children:i.map(a=>l.jsx("button",{onClick:()=>s(a.code),className:`w-full p-4 rounded-2xl border transition-all active:scale-95 ${e===a.code?"bg-green-500/20 border-green-500/30":"bg-white/5 backdrop-blur-md border-white/10"} shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("span",{className:"text-3xl",children:a.flag}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-white mb-0.5",children:a.nativeName}),l.jsx("div",{className:"text-xs text-gray-400",children:a.name})]})]}),e===a.code&&l.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:l.jsx(An,{className:"w-4 h-4 text-white"})})]})},a.code))}),l.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[l.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm",children:[l.jsx(o0,{className:"w-4 h-4 text-green-500"}),"Idiomas disponveis"]}),l.jsxs("ul",{className:"space-y-2 text-xs text-gray-400",children:[l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-green-500 mt-0.5",children:""}),l.jsx("span",{children:"Portugus - Idioma padro para Brasil"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-green-500 mt-0.5",children:""}),l.jsx("span",{children:"English - Default language for international users"})]}),l.jsxs("li",{className:"flex items-start gap-2",children:[l.jsx("span",{className:"text-green-500 mt-0.5",children:""}),l.jsx("span",{children:"Espaol - Idioma predeterminado para usuarios hispanohablantes"})]})]})]})]})]})}class DAe extends Te.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary capturou erro:",e,n)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 p-6 max-w-md",children:[l.jsx("h2",{className:"text-xl mb-4",children:"Algo deu errado"}),l.jsx("p",{className:"text-white/60 text-sm mb-4",children:this.state.error?.message||"Erro desconhecido"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-white/10 hover:bg-white/20 text-white py-3 px-4 rounded-xl transition-all",children:"Recarregar pgina"})]})}):this.props.children}}function OAe(){const t=navigator.userAgent,e=/iPad|iPhone|iPod/.test(t),n=/Safari/.test(t)&&!/Chrome|CriOS|FxiOS/.test(t);return e||n}function MAe(){const{isAuthenticated:t,isPinVerified:e,userData:n}=Ft(),r=E.useRef(!1);E.useEffect(()=>{const i=OAe();if(console.log(" usePermissionsRequest - Estado atual:",{isAuthenticated:t,isPinVerified:e,hasUserData:!!n,userId:n?.userId,permissionsRequested:n?.permissionsRequested,hasRequestedRef:r.current,isIOSSafari:i}),!t){console.log(" No autenticado, aguardando...");return}if(!e){console.log(" PIN no verificado, aguardando...");return}if(!n){console.log(" Sem userData, aguardando...");return}if(r.current){console.log(" J solicitou nesta sesso");return}if(n.permissionsRequested){console.log(" J solicitou anteriormente (Firestore)");return}console.log(" TODAS VALIDAES PASSARAM! Iniciando solicitao de permisses em 1 segundo..."),r.current=!0;const s=setTimeout(()=>{console.log(" Timer disparado! Executando requestPermissions()"),a()},1e3);return()=>clearTimeout(s);async function a(){console.log(" === INICIANDO SOLICITAO DE PERMISSES ===");const o={location:"not_requested",camera:"not_requested"};try{console.log(" Solicitando permisso de LOCALIZAO (nativo)");try{await new Promise((c,d)=>{navigator.geolocation.getCurrentPosition(f=>{console.log(" Localizao concedida:",f.coords),o.location="granted",c()},f=>{console.log(" Localizao negada ou bloqueada:",f.message),f.code===1?o.location="denied":f.code===2?o.location="unavailable":o.location="timeout",c()},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}catch(c){console.error("Erro ao solicitar localizao:",c),o.location="error"}await new Promise(c=>setTimeout(c,1e3)),console.log(" Solicitando permisso de CMERA (nativo)");try{const c=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});console.log(" Cmera concedida"),o.camera="granted",c.getTracks().forEach(d=>d.stop())}catch(c){console.log(" Cmera no permitida:",c.name),c.name==="NotAllowedError"?o.camera="denied":c.name==="NotFoundError"?o.camera="not_found":c.name==="NotReadableError"?o.camera="in_use":c.name==="NotSupportedError"?o.camera="not_supported":o.camera="error"}if(console.log(" Salvando permisses:",o),n?.userId)try{const c=ct(Se,"users",n.userId);await Bs(c,{permissionsRequested:!0,locationPermission:o.location,cameraPermission:o.camera,permissionsRequestedAt:new Date().toISOString()}),console.log(" Permisses salvas no Firestore")}catch(c){console.error(" Erro ao salvar permisses:",c)}}catch(c){console.error(" Erro geral ao solicitar permisses:",c)}}},[t,e,n])}const LAe=console.error;console.error=(...t)=>{typeof t[0]=="string"&&(t[0].includes("WebChannelConnection")||t[0].includes("RPC")||t[0].includes("transport errored"))||LAe.apply(console,t)};function VAe(){const{isAuthenticated:t,isPinVerified:e,userData:n,loading:r}=Ft(),[i,s]=E.useState("welcome"),[a,o]=E.useState(!1),[c,d]=E.useState("fade"),[f,m]=E.useState(null),[p,y]=E.useState(null),[x,b]=E.useState(!1);MAe(),E.useEffect(()=>{if(!r){if(!x){t&&e?(console.log(" Inicializao: Usurio autenticado, indo para home"),s("home")):(console.log(" Inicializao: Usurio no autenticado, ficando em welcome"),s("welcome")),b(!0);return}if(t)t&&!e?["login","signup"].includes(i)&&(console.log(" Redirecionando para pinVerify (vindo de login/signup)"),s("pinVerify")):t&&e&&["welcome","login","signup","pinVerify"].includes(i)&&(console.log(" Redirecionando para home"),s("home"));else return}},[t,e,r,x]);const _=z=>({welcome:"fade",login:"slide",signup:"slideup",pinSetup:"slideup",pinVerify:"slideup",country:"scale",countrySelection:"scale",completeProfile:"slideup",home:"fade",wallet:"slide",convert:"scale",crypto:"slideup",profile:"slide",personalInfo:"slide",accountData:"slide",security:"scale",changePassword:"slideup",notifications:"slideup",pushSettings:"slideup",helpCenter:"slideup",termsAndConditions:"slideup",privacyPolicy:"slideup",termsMenu:"slideup",appPreferences:"slideup",deposit:"slideup",withdraw:"slide",withdrawFiat:"slide",receive:"fade",transactions:"scale",passwordEntry:"slideup",manageHoldings:"slideup",fiatAccountDetails:"slideup",selectFiatAccount:"slideup",deleteAccount:"slideup",languageSettings:"slideup"})[z]||"slide",S=z=>{console.log(" handleNavigate chamado para:",z),console.log(" Tela atual:",i),console.log(" isAuthenticated:",t),console.log(" isPinVerified:",e),console.log(" loading:",r),o(!0),setTimeout(()=>{console.log(" Mudando tela para:",z),s(z),d(_(z)),o(!1)},700)},O=(z,P)=>{m(P),S(z)},R=()=>{switch(i){case"welcome":return l.jsx(ck,{onNavigate:S});case"login":return l.jsx(Fre,{onNavigate:S});case"signup":return l.jsx(Ure,{onNavigate:S});case"pinSetup":return l.jsx($re,{onNavigate:S});case"country":return l.jsx(_D,{onNavigate:S});case"countrySelection":return l.jsx(_D,{onNavigate:S});case"home":return l.jsx(wL,{onNavigate:S,onNavigateWithAccount:O});case"wallet":return l.jsx(Ewe,{onNavigate:S});case"convert":return l.jsx(Mwe,{onNavigate:S,onNavigateWithAccount:O});case"crypto":return l.jsx(Lwe,{onNavigate:S});case"profile":return l.jsx(Vwe,{onNavigate:S});case"personalInfo":return l.jsx(Fwe,{onNavigate:S});case"accountData":return l.jsx(LNe,{onNavigate:S});case"security":return l.jsx(VNe,{onNavigate:S});case"changePassword":return l.jsx(FNe,{onNavigate:S});case"notifications":return l.jsx(lCe,{onNavigate:S});case"pushSettings":return l.jsx(cCe,{onNavigate:S});case"helpCenter":return l.jsx(uCe,{onNavigate:S});case"termsAndConditions":return l.jsx(dCe,{onNavigate:S});case"privacyPolicy":return l.jsx(fCe,{onNavigate:S});case"termsMenu":return l.jsx(hCe,{onNavigate:S});case"appPreferences":return l.jsx(mCe,{onNavigate:S});case"deposit":return l.jsx(TCe,{onNavigate:S});case"withdraw":return l.jsx(DCe,{onNavigate:S});case"withdrawFiat":return l.jsx(FCe,{onNavigate:S});case"receive":return l.jsx(cAe,{onNavigate:S});case"transactions":return l.jsx(uAe,{onNavigate:S});case"passwordEntry":return l.jsx(fAe,{onNavigate:S});case"manageHoldings":return l.jsx(hAe,{onNavigate:S});case"fiatAccountDetails":return f?l.jsx(DV,{account:f,onClose:()=>S("home"),onNavigateToConvert:()=>S("convert"),onNavigateToWithdraw:()=>O("withdrawFiat",f)}):l.jsx(wL,{onNavigate:S,onNavigateWithAccount:O});case"selectFiatAccount":return l.jsx(mAe,{onNavigate:S,onNavigateWithAccount:O});case"deleteAccount":return l.jsx(kAe,{onNavigate:S});case"languageSettings":return l.jsx(RAe,{onNavigate:S});default:return l.jsx(ck,{onNavigate:S})}};return l.jsxs("div",{className:"min-h-screen bg-black text-white w-full max-w-[430px] mx-auto relative",children:[t&&e&&n&&n.aprovado==="no"?l.jsx(PAe,{}):l.jsxs(l.Fragment,{children:[i==="fiatAccountDetails"&&f?l.jsx(DV,{account:f,onClose:()=>S("home"),onNavigateToConvert:()=>S("convert"),onNavigateToWithdraw:()=>O("withdrawFiat",f)}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:a?`page-${c}-exit`:`page-${c}-enter`,children:R()}),["home","wallet","convert","crypto","profile"].includes(i)&&l.jsx(dAe,{onNavigate:S,currentScreen:i})]}),t&&l.jsx(pAe,{}),l.jsx(gAe,{})]}),l.jsx(_ie,{position:"top-center",theme:"dark",toastOptions:{style:{background:"#18181b",border:"1px solid rgba(255, 255, 255, 0.1)",color:"#fff"}}})]})}function FAe(){return l.jsx(DAe,{children:l.jsx(Tre,{children:l.jsx(Bre,{children:l.jsx(Cre,{children:l.jsx(Vre,{children:l.jsx(qre,{children:l.jsx(Wre,{children:l.jsx(Hre,{children:l.jsx(Kre,{children:l.jsx(VAe,{})})})})})})})})})})}VK.createRoot(document.getElementById("root")).render(l.jsx(Te.StrictMode,{children:l.jsx(FAe,{})}));

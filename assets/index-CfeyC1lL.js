function DW(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Ny=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function di(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function OW(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var T1={exports:{}},Wh={},S1={exports:{}},bt={};var kj;function MW(){if(kj)return bt;kj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function p($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function _($,K,Z){this.props=$,this.context=K,this.refs=b,this.updater=Z||y}_.prototype.isReactComponent={},_.prototype.setState=function($,K){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,K,"setState")},_.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function T(){}T.prototype=_.prototype;function L($,K,Z){this.props=$,this.context=K,this.refs=b,this.updater=Z||y}var M=L.prototype=new T;M.constructor=L,x(M,_.prototype),M.isPureReactComponent=!0;var z=Array.isArray,I=Object.prototype.hasOwnProperty,j={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S($,K,Z){var Q,te={},ae=null,re=null;if(K!=null)for(Q in K.ref!==void 0&&(re=K.ref),K.key!==void 0&&(ae=""+K.key),K)I.call(K,Q)&&!C.hasOwnProperty(Q)&&(te[Q]=K[Q]);var xe=arguments.length-2;if(xe===1)te.children=Z;else if(1<xe){for(var se=Array(xe),he=0;he<xe;he++)se[he]=arguments[he+2];te.children=se}if($&&$.defaultProps)for(Q in xe=$.defaultProps,xe)te[Q]===void 0&&(te[Q]=xe[Q]);return{$$typeof:t,type:$,key:ae,ref:re,props:te,_owner:j.current}}function D($,K){return{$$typeof:t,type:$.type,key:K,ref:$.ref,props:$.props,_owner:$._owner}}function N($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function k($){var K={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Z){return K[Z]})}var O=/\/+/g;function A($,K){return typeof $=="object"&&$!==null&&$.key!=null?k(""+$.key):K.toString(36)}function W($,K,Z,Q,te){var ae=typeof $;(ae==="undefined"||ae==="boolean")&&($=null);var re=!1;if($===null)re=!0;else switch(ae){case"string":case"number":re=!0;break;case"object":switch($.$$typeof){case t:case e:re=!0}}if(re)return re=$,te=te(re),$=Q===""?"."+A(re,0):Q,z(te)?(Z="",$!=null&&(Z=$.replace(O,"$&/")+"/"),W(te,K,Z,"",function(he){return he})):te!=null&&(N(te)&&(te=D(te,Z+(!te.key||re&&re.key===te.key?"":(""+te.key).replace(O,"$&/")+"/")+$)),K.push(te)),1;if(re=0,Q=Q===""?".":Q+":",z($))for(var xe=0;xe<$.length;xe++){ae=$[xe];var se=Q+A(ae,xe);re+=W(ae,K,Z,se,te)}else if(se=p($),typeof se=="function")for($=se.call($),xe=0;!(ae=$.next()).done;)ae=ae.value,se=Q+A(ae,xe++),re+=W(ae,K,Z,se,te);else if(ae==="object")throw K=String($),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return re}function Y($,K,Z){if($==null)return $;var Q=[],te=0;return W($,Q,"","",function(ae){return K.call(Z,ae,te++)}),Q}function J($){if($._status===-1){var K=$._result;K=K(),K.then(function(Z){($._status===0||$._status===-1)&&($._status=1,$._result=Z)},function(Z){($._status===0||$._status===-1)&&($._status=2,$._result=Z)}),$._status===-1&&($._status=0,$._result=K)}if($._status===1)return $._result.default;throw $._result}var V={current:null},G={transition:null},q={ReactCurrentDispatcher:V,ReactCurrentBatchConfig:G,ReactCurrentOwner:j};function R(){throw Error("act(...) is not supported in production builds of React.")}return bt.Children={map:Y,forEach:function($,K,Z){Y($,function(){K.apply(this,arguments)},Z)},count:function($){var K=0;return Y($,function(){K++}),K},toArray:function($){return Y($,function(K){return K})||[]},only:function($){if(!N($))throw Error("React.Children.only expected to receive a single React element child.");return $}},bt.Component=_,bt.Fragment=n,bt.Profiler=i,bt.PureComponent=L,bt.StrictMode=r,bt.Suspense=c,bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,bt.act=R,bt.cloneElement=function($,K,Z){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Q=x({},$.props),te=$.key,ae=$.ref,re=$._owner;if(K!=null){if(K.ref!==void 0&&(ae=K.ref,re=j.current),K.key!==void 0&&(te=""+K.key),$.type&&$.type.defaultProps)var xe=$.type.defaultProps;for(se in K)I.call(K,se)&&!C.hasOwnProperty(se)&&(Q[se]=K[se]===void 0&&xe!==void 0?xe[se]:K[se])}var se=arguments.length-2;if(se===1)Q.children=Z;else if(1<se){xe=Array(se);for(var he=0;he<se;he++)xe[he]=arguments[he+2];Q.children=xe}return{$$typeof:t,type:$.type,key:te,ref:ae,props:Q,_owner:re}},bt.createContext=function($){return $={$$typeof:a,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:s,_context:$},$.Consumer=$},bt.createElement=S,bt.createFactory=function($){var K=S.bind(null,$);return K.type=$,K},bt.createRef=function(){return{current:null}},bt.forwardRef=function($){return{$$typeof:l,render:$}},bt.isValidElement=N,bt.lazy=function($){return{$$typeof:f,_payload:{_status:-1,_result:$},_init:J}},bt.memo=function($,K){return{$$typeof:d,type:$,compare:K===void 0?null:K}},bt.startTransition=function($){var K=G.transition;G.transition={};try{$()}finally{G.transition=K}},bt.unstable_act=R,bt.useCallback=function($,K){return V.current.useCallback($,K)},bt.useContext=function($){return V.current.useContext($)},bt.useDebugValue=function(){},bt.useDeferredValue=function($){return V.current.useDeferredValue($)},bt.useEffect=function($,K){return V.current.useEffect($,K)},bt.useId=function(){return V.current.useId()},bt.useImperativeHandle=function($,K,Z){return V.current.useImperativeHandle($,K,Z)},bt.useInsertionEffect=function($,K){return V.current.useInsertionEffect($,K)},bt.useLayoutEffect=function($,K){return V.current.useLayoutEffect($,K)},bt.useMemo=function($,K){return V.current.useMemo($,K)},bt.useReducer=function($,K,Z){return V.current.useReducer($,K,Z)},bt.useRef=function($){return V.current.useRef($)},bt.useState=function($){return V.current.useState($)},bt.useSyncExternalStore=function($,K,Z){return V.current.useSyncExternalStore($,K,Z)},bt.useTransition=function(){return V.current.useTransition()},bt.version="18.3.1",bt}var Rj;function Jr(){return Rj||(Rj=1,S1.exports=MW()),S1.exports}var Dj;function LW(){if(Dj)return Wh;Dj=1;var t=Jr(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,d){var f,m={},p=null,y=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(y=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(m[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)m[f]===void 0&&(m[f]=c[f]);return{$$typeof:e,type:l,key:p,ref:y,props:m,_owner:i.current}}return Wh.Fragment=n,Wh.jsx=a,Wh.jsxs=a,Wh}var Oj;function VW(){return Oj||(Oj=1,T1.exports=LW()),T1.exports}var o=VW(),E=Jr();const Ce=di(E),FW=DW({__proto__:null,default:Ce},[E]);var Py={},N1={exports:{}},ai={},P1={exports:{}},A1={};var Mj;function BW(){return Mj||(Mj=1,(function(t){function e(G,q){var R=G.length;G.push(q);e:for(;0<R;){var $=R-1>>>1,K=G[$];if(0<i(K,q))G[$]=q,G[R]=K,R=$;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var q=G[0],R=G.pop();if(R!==q){G[0]=R;e:for(var $=0,K=G.length,Z=K>>>1;$<Z;){var Q=2*($+1)-1,te=G[Q],ae=Q+1,re=G[ae];if(0>i(te,R))ae<K&&0>i(re,te)?(G[$]=re,G[ae]=R,$=ae):(G[$]=te,G[Q]=R,$=Q);else if(ae<K&&0>i(re,R))G[$]=re,G[ae]=R,$=ae;else break e}}return q}function i(G,q){var R=G.sortIndex-q.sortIndex;return R!==0?R:G.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],f=1,m=null,p=3,y=!1,x=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(G){for(var q=n(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=G)r(d),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(d)}}function z(G){if(b=!1,M(G),!x)if(n(c)!==null)x=!0,J(I);else{var q=n(d);q!==null&&V(z,q.startTime-G)}}function I(G,q){x=!1,b&&(b=!1,T(S),S=-1),y=!0;var R=p;try{for(M(q),m=n(c);m!==null&&(!(m.expirationTime>q)||G&&!k());){var $=m.callback;if(typeof $=="function"){m.callback=null,p=m.priorityLevel;var K=$(m.expirationTime<=q);q=t.unstable_now(),typeof K=="function"?m.callback=K:m===n(c)&&r(c),M(q)}else r(c);m=n(c)}if(m!==null)var Z=!0;else{var Q=n(d);Q!==null&&V(z,Q.startTime-q),Z=!1}return Z}finally{m=null,p=R,y=!1}}var j=!1,C=null,S=-1,D=5,N=-1;function k(){return!(t.unstable_now()-N<D)}function O(){if(C!==null){var G=t.unstable_now();N=G;var q=!0;try{q=C(!0,G)}finally{q?A():(j=!1,C=null)}}else j=!1}var A;if(typeof L=="function")A=function(){L(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=O,A=function(){Y.postMessage(null)}}else A=function(){_(O,0)};function J(G){C=G,j||(j=!0,A())}function V(G,q){S=_(function(){G(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,J(I))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(G){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var R=p;p=q;try{return G()}finally{p=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var R=p;p=G;try{return q()}finally{p=R}},t.unstable_scheduleCallback=function(G,q,R){var $=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?$+R:$):R=$,G){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=R+K,G={id:f++,callback:q,priorityLevel:G,startTime:R,expirationTime:K,sortIndex:-1},R>$?(G.sortIndex=R,e(d,G),n(c)===null&&G===n(d)&&(b?(T(S),S=-1):b=!0,V(z,R-$))):(G.sortIndex=K,e(c,G),x||y||(x=!0,J(I))),G},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(G){var q=p;return function(){var R=p;p=q;try{return G.apply(this,arguments)}finally{p=R}}}})(A1)),A1}var Lj;function zW(){return Lj||(Lj=1,P1.exports=BW()),P1.exports}var Vj;function $W(){if(Vj)return ai;Vj=1;var t=Jr(),e=zW();function n(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,h){a(u,h),a(u+"Capture",h)}function a(u,h){for(i[u]=h,u=0;u<h.length;u++)r.add(h[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(u){return c.call(m,u)?!0:c.call(f,u)?!1:d.test(u)?m[u]=!0:(f[u]=!0,!1)}function y(u,h,g,w){if(g!==null&&g.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function x(u,h,g,w){if(h===null||typeof h>"u"||y(u,h,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function b(u,h,g,w,P,F,H){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=w,this.attributeNamespace=P,this.mustUseProperty=g,this.propertyName=u,this.type=h,this.sanitizeURL=F,this.removeEmptyString=H}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){_[u]=new b(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];_[h]=new b(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){_[u]=new b(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){_[u]=new b(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){_[u]=new b(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){_[u]=new b(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){_[u]=new b(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){_[u]=new b(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){_[u]=new b(u,5,!1,u.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function L(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(T,L);_[h]=new b(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(T,L);_[h]=new b(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(T,L);_[h]=new b(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){_[u]=new b(u,1,!1,u.toLowerCase(),null,!1,!1)}),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){_[u]=new b(u,1,!1,u.toLowerCase(),null,!0,!0)});function M(u,h,g,w){var P=_.hasOwnProperty(h)?_[h]:null;(P!==null?P.type!==0:w||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(x(h,g,P,w)&&(g=null),w||P===null?p(h)&&(g===null?u.removeAttribute(h):u.setAttribute(h,""+g)):P.mustUseProperty?u[P.propertyName]=g===null?P.type===3?!1:"":g:(h=P.attributeName,w=P.attributeNamespace,g===null?u.removeAttribute(h):(P=P.type,g=P===3||P===4&&g===!0?"":""+g,w?u.setAttributeNS(w,h,g):u.setAttribute(h,g))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),j=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),V=Symbol.for("react.offscreen"),G=Symbol.iterator;function q(u){return u===null||typeof u!="object"?null:(u=G&&u[G]||u["@@iterator"],typeof u=="function"?u:null)}var R=Object.assign,$;function K(u){if($===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);$=h&&h[1]||""}return`
`+$+u}var Z=!1;function Q(u,h){if(!u||Z)return"";Z=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(pe){var w=pe}Reflect.construct(u,[],h)}else{try{h.call()}catch(pe){w=pe}u.call(h.prototype)}else{try{throw Error()}catch(pe){w=pe}u()}}catch(pe){if(pe&&w&&typeof pe.stack=="string"){for(var P=pe.stack.split(`
`),F=w.stack.split(`
`),H=P.length-1,ee=F.length-1;1<=H&&0<=ee&&P[H]!==F[ee];)ee--;for(;1<=H&&0<=ee;H--,ee--)if(P[H]!==F[ee]){if(H!==1||ee!==1)do if(H--,ee--,0>ee||P[H]!==F[ee]){var ne=`
`+P[H].replace(" at new "," at ");return u.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",u.displayName)),ne}while(1<=H&&0<=ee);break}}}finally{Z=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?K(u):""}function te(u){switch(u.tag){case 5:return K(u.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return u=Q(u.type,!1),u;case 11:return u=Q(u.type.render,!1),u;case 1:return u=Q(u.type,!0),u;default:return""}}function ae(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case C:return"Fragment";case j:return"Portal";case D:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case W:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case k:return(u.displayName||"Context")+".Consumer";case N:return(u._context.displayName||"Context")+".Provider";case O:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Y:return h=u.displayName||null,h!==null?h:ae(u.type)||"Memo";case J:h=u._payload,u=u._init;try{return ae(u(h))}catch{}}return null}function re(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(h);case 8:return h===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function xe(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function se(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function he(u){var h=se(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),w=""+u[h];if(!u.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var P=g.get,F=g.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return P.call(this)},set:function(H){w=""+H,F.call(this,H)}}),Object.defineProperty(u,h,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(H){w=""+H},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Te(u){u._valueTracker||(u._valueTracker=he(u))}function me(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var g=h.getValue(),w="";return u&&(w=se(u)?u.checked?"true":"false":u.value),u=w,u!==g?(h.setValue(u),!0):!1}function Re(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function je(u,h){var g=h.checked;return R({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??u._wrapperState.initialChecked})}function et(u,h){var g=h.defaultValue==null?"":h.defaultValue,w=h.checked!=null?h.checked:h.defaultChecked;g=xe(h.value!=null?h.value:g),u._wrapperState={initialChecked:w,initialValue:g,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Qe(u,h){h=h.checked,h!=null&&M(u,"checked",h,!1)}function We(u,h){Qe(u,h);var g=xe(h.value),w=h.type;if(g!=null)w==="number"?(g===0&&u.value===""||u.value!=g)&&(u.value=""+g):u.value!==""+g&&(u.value=""+g);else if(w==="submit"||w==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?dt(u,h.type,g):h.hasOwnProperty("defaultValue")&&dt(u,h.type,xe(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function wt(u,h,g){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var w=h.type;if(!(w!=="submit"&&w!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,g||h===u.value||(u.value=h),u.defaultValue=h}g=u.name,g!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,g!==""&&(u.name=g)}function dt(u,h,g){(h!=="number"||Re(u.ownerDocument)!==u)&&(g==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+g&&(u.defaultValue=""+g))}var tt=Array.isArray;function oe(u,h,g,w){if(u=u.options,h){h={};for(var P=0;P<g.length;P++)h["$"+g[P]]=!0;for(g=0;g<u.length;g++)P=h.hasOwnProperty("$"+u[g].value),u[g].selected!==P&&(u[g].selected=P),P&&w&&(u[g].defaultSelected=!0)}else{for(g=""+xe(g),h=null,P=0;P<u.length;P++){if(u[P].value===g){u[P].selected=!0,w&&(u[P].defaultSelected=!0);return}h!==null||u[P].disabled||(h=u[P])}h!==null&&(h.selected=!0)}}function Ie(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return R({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Xe(u,h){var g=h.value;if(g==null){if(g=h.children,h=h.defaultValue,g!=null){if(h!=null)throw Error(n(92));if(tt(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),g=h}u._wrapperState={initialValue:xe(g)}}function gt(u,h){var g=xe(h.value),w=xe(h.defaultValue);g!=null&&(g=""+g,g!==u.value&&(u.value=g),h.defaultValue==null&&u.defaultValue!==g&&(u.defaultValue=g)),w!=null&&(u.defaultValue=""+w)}function yt(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function fe(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function He(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?fe(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Nt,zt=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,g,w,P){MSApp.execUnsafeLocalFunction(function(){return u(h,g,w,P)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(Nt=Nt||document.createElement("div"),Nt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Nt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function ft(u,h){if(h){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=h;return}}u.textContent=h}var mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tr=["Webkit","ms","Moz","O"];Object.keys(mn).forEach(function(u){Tr.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),mn[h]=mn[u]})});function ur(u,h,g){return h==null||typeof h=="boolean"||h===""?"":g||typeof h!="number"||h===0||mn.hasOwnProperty(u)&&mn[u]?(""+h).trim():h+"px"}function pn(u,h){u=u.style;for(var g in h)if(h.hasOwnProperty(g)){var w=g.indexOf("--")===0,P=ur(g,h[g],w);g==="float"&&(g="cssFloat"),w?u.setProperty(g,P):u[g]=P}}var cs=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function In(u,h){if(h){if(cs[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function zo(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Us=null;function Ma(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Vi=null,us=null,Qt=null;function ei(u){if(u=jh(u)){if(typeof Vi!="function")throw Error(n(280));var h=u.stateNode;h&&(h=$g(h),Vi(u.stateNode,u.type,h))}}function qs(u){us?Qt?Qt.push(u):Qt=[u]:us=u}function nt(){if(us){var u=us,h=Qt;if(Qt=us=null,ei(u),h)for(u=0;u<h.length;u++)ei(h[u])}}function jt(u,h){return u(h)}function $t(){}var En=!1;function Sr(u,h,g){if(En)return u(h,g);En=!0;try{return jt(u,h,g)}finally{En=!1,(us!==null||Qt!==null)&&($t(),nt())}}function Nr(u,h){var g=u.stateNode;if(g===null)return null;var w=$g(g);if(w===null)return null;g=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(u=u.type,w=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!w;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(n(231,h,typeof g));return g}var Pr=!1;if(l)try{var On={};Object.defineProperty(On,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Pr=!1}function gi(u,h,g,w,P,F,H,ee,ne){var pe=Array.prototype.slice.call(arguments,3);try{h.apply(g,pe)}catch(Ee){this.onError(Ee)}}var La=!1,Hs=null,Bu=!1,Fi=null,bg={onError:function(u){La=!0,Hs=u}};function wg(u,h,g,w,P,F,H,ee,ne){La=!1,Hs=null,gi.apply(bg,arguments)}function sh(u,h,g,w,P,F,H,ee,ne){if(wg.apply(this,arguments),La){if(La){var pe=Hs;La=!1,Hs=null}else throw Error(n(198));Bu||(Bu=!0,Fi=pe)}}function ds(u){var h=u,g=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(g=h.return),u=h.return;while(u)}return h.tag===3?g:null}function ah(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function _g(u){if(ds(u)!==u)throw Error(n(188))}function Eg(u){var h=u.alternate;if(!h){if(h=ds(u),h===null)throw Error(n(188));return h!==u?null:u}for(var g=u,w=h;;){var P=g.return;if(P===null)break;var F=P.alternate;if(F===null){if(w=P.return,w!==null){g=w;continue}break}if(P.child===F.child){for(F=P.child;F;){if(F===g)return _g(P),u;if(F===w)return _g(P),h;F=F.sibling}throw Error(n(188))}if(g.return!==w.return)g=P,w=F;else{for(var H=!1,ee=P.child;ee;){if(ee===g){H=!0,g=P,w=F;break}if(ee===w){H=!0,w=P,g=F;break}ee=ee.sibling}if(!H){for(ee=F.child;ee;){if(ee===g){H=!0,g=F,w=P;break}if(ee===w){H=!0,w=F,g=P;break}ee=ee.sibling}if(!H)throw Error(n(189))}}if(g.alternate!==w)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?u:h}function Cg(u){return u=Eg(u),u!==null?sc(u):null}function sc(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=sc(u);if(h!==null)return h;u=u.sibling}return null}var oh=e.unstable_scheduleCallback,zu=e.unstable_cancelCallback,ac=e.unstable_shouldYield,Va=e.unstable_requestPaint,rn=e.unstable_now,nw=e.unstable_getCurrentPriorityLevel,$u=e.unstable_ImmediatePriority,lh=e.unstable_UserBlockingPriority,oc=e.unstable_NormalPriority,ch=e.unstable_LowPriority,Uu=e.unstable_IdlePriority,lc=null,yi=null;function Tg(u){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(lc,u,void 0,(u.current.flags&128)===128)}catch{}}var vi=Math.clz32?Math.clz32:cc,Ws=Math.log,Bi=Math.LN2;function cc(u){return u>>>=0,u===0?32:31-(Ws(u)/Bi|0)|0}var Ks=64,$o=4194304;function Ft(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Fa(u,h){var g=u.pendingLanes;if(g===0)return 0;var w=0,P=u.suspendedLanes,F=u.pingedLanes,H=g&268435455;if(H!==0){var ee=H&~P;ee!==0?w=Ft(ee):(F&=H,F!==0&&(w=Ft(F)))}else H=g&~P,H!==0?w=Ft(H):F!==0&&(w=Ft(F));if(w===0)return 0;if(h!==0&&h!==w&&(h&P)===0&&(P=w&-w,F=h&-h,P>=F||P===16&&(F&4194240)!==0))return h;if((w&4)!==0&&(w|=g&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=w;0<h;)g=31-vi(h),P=1<<g,w|=u[g],h&=~P;return w}function uc(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dc(u,h){for(var g=u.suspendedLanes,w=u.pingedLanes,P=u.expirationTimes,F=u.pendingLanes;0<F;){var H=31-vi(F),ee=1<<H,ne=P[H];ne===-1?((ee&g)===0||(ee&w)!==0)&&(P[H]=uc(ee,h)):ne<=h&&(u.expiredLanes|=ee),F&=~ee}}function uh(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function dh(){var u=Ks;return Ks<<=1,(Ks&4194240)===0&&(Ks=64),u}function fh(u){for(var h=[],g=0;31>g;g++)h.push(u);return h}function fc(u,h,g){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-vi(h),u[h]=g}function rw(u,h){var g=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var w=u.eventTimes;for(u=u.expirationTimes;0<g;){var P=31-vi(g),F=1<<P;h[P]=0,w[P]=-1,u[P]=-1,g&=~F}}function hh(u,h){var g=u.entangledLanes|=h;for(u=u.entanglements;g;){var w=31-vi(g),P=1<<w;P&h|u[w]&h&&(u[w]|=h),g&=~P}}var Pt=0;function Gs(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var mh,qu,ph,gh,yh,Xs=!1,Hu=[],Ys=null,Qs=null,dr=null,hc=new Map,Ba=new Map,xi=[],Sg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uo(u,h){switch(u){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":hc.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(h.pointerId)}}function fs(u,h,g,w,P,F){return u===null||u.nativeEvent!==F?(u={blockedOn:h,domEventName:g,eventSystemFlags:w,nativeEvent:F,targetContainers:[P]},h!==null&&(h=jh(h),h!==null&&qu(h)),u):(u.eventSystemFlags|=w,h=u.targetContainers,P!==null&&h.indexOf(P)===-1&&h.push(P),u)}function Ng(u,h,g,w,P){switch(h){case"focusin":return Ys=fs(Ys,u,h,g,w,P),!0;case"dragenter":return Qs=fs(Qs,u,h,g,w,P),!0;case"mouseover":return dr=fs(dr,u,h,g,w,P),!0;case"pointerover":var F=P.pointerId;return hc.set(F,fs(hc.get(F)||null,u,h,g,w,P)),!0;case"gotpointercapture":return F=P.pointerId,Ba.set(F,fs(Ba.get(F)||null,u,h,g,w,P)),!0}return!1}function Wu(u){var h=yc(u.target);if(h!==null){var g=ds(h);if(g!==null){if(h=g.tag,h===13){if(h=ah(g),h!==null){u.blockedOn=h,yh(u.priority,function(){ph(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Gt(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var g=Ku(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(g===null){g=u.nativeEvent;var w=new g.constructor(g.type,g);Us=w,g.target.dispatchEvent(w),Us=null}else return h=jh(g),h!==null&&qu(h),u.blockedOn=g,!1;h.shift()}return!0}function Pg(u,h,g){Gt(u)&&g.delete(h)}function iw(){Xs=!1,Ys!==null&&Gt(Ys)&&(Ys=null),Qs!==null&&Gt(Qs)&&(Qs=null),dr!==null&&Gt(dr)&&(dr=null),hc.forEach(Pg),Ba.forEach(Pg)}function qo(u,h){u.blockedOn===h&&(u.blockedOn=null,Xs||(Xs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iw)))}function Ho(u){function h(P){return qo(P,u)}if(0<Hu.length){qo(Hu[0],u);for(var g=1;g<Hu.length;g++){var w=Hu[g];w.blockedOn===u&&(w.blockedOn=null)}}for(Ys!==null&&qo(Ys,u),Qs!==null&&qo(Qs,u),dr!==null&&qo(dr,u),hc.forEach(h),Ba.forEach(h),g=0;g<xi.length;g++)w=xi[g],w.blockedOn===u&&(w.blockedOn=null);for(;0<xi.length&&(g=xi[0],g.blockedOn===null);)Wu(g),g.blockedOn===null&&xi.shift()}var za=z.ReactCurrentBatchConfig,$a=!0;function Js(u,h,g,w){var P=Pt,F=za.transition;za.transition=null;try{Pt=1,vh(u,h,g,w)}finally{Pt=P,za.transition=F}}function Ag(u,h,g,w){var P=Pt,F=za.transition;za.transition=null;try{Pt=4,vh(u,h,g,w)}finally{Pt=P,za.transition=F}}function vh(u,h,g,w){if($a){var P=Ku(u,h,g,w);if(P===null)pw(u,h,w,Zs,g),Uo(u,w);else if(Ng(P,u,h,g,w))w.stopPropagation();else if(Uo(u,w),h&4&&-1<Sg.indexOf(u)){for(;P!==null;){var F=jh(P);if(F!==null&&mh(F),F=Ku(u,h,g,w),F===null&&pw(u,h,w,Zs,g),F===P)break;P=F}P!==null&&w.stopPropagation()}else pw(u,h,w,null,g)}}var Zs=null;function Ku(u,h,g,w){if(Zs=null,u=Ma(w),u=yc(u),u!==null)if(h=ds(u),h===null)u=null;else if(g=h.tag,g===13){if(u=ah(h),u!==null)return u;u=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return Zs=u,null}function Gu(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nw()){case $u:return 1;case lh:return 4;case oc:case ch:return 16;case Uu:return 536870912;default:return 16}default:return 16}}var bi=null,Xu=null,Ua=null;function Ig(){if(Ua)return Ua;var u,h=Xu,g=h.length,w,P="value"in bi?bi.value:bi.textContent,F=P.length;for(u=0;u<g&&h[u]===P[u];u++);var H=g-u;for(w=1;w<=H&&h[g-w]===P[F-w];w++);return Ua=P.slice(u,1<w?1-w:void 0)}function mc(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function ea(){return!0}function xh(){return!1}function Ar(u){function h(g,w,P,F,H){this._reactName=g,this._targetInst=P,this.type=w,this.nativeEvent=F,this.target=H,this.currentTarget=null;for(var ee in u)u.hasOwnProperty(ee)&&(g=u[ee],this[ee]=g?g(F):F[ee]);return this.isDefaultPrevented=(F.defaultPrevented!=null?F.defaultPrevented:F.returnValue===!1)?ea:xh,this.isPropagationStopped=xh,this}return R(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=ea)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=ea)},persist:function(){},isPersistent:ea}),h}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=Ar(ta),Wo=R({},ta,{view:0,detail:0}),Yu=Ar(Wo),Qu,Ju,wi,gc=R({},Wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ht,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==wi&&(wi&&u.type==="mousemove"?(Qu=u.screenX-wi.screenX,Ju=u.screenY-wi.screenY):Ju=Qu=0,wi=u),Qu)},movementY:function(u){return"movementY"in u?u.movementY:Ju}}),bh=Ar(gc),jg=R({},gc,{dataTransfer:0}),kg=Ar(jg),Zu=R({},Wo,{relatedTarget:0}),fr=Ar(Zu),Rg=R({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),Dg=Ar(Rg),Ko=R({},ta,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),v=Ar(Ko),B=R({},ta,{data:0}),U=Ar(B),X={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ae(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=ge[u])?!!h[u]:!1}function ht(){return Ae}var jn=R({},Wo,{key:function(u){if(u.key){var h=X[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=mc(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?ue[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ht,charCode:function(u){return u.type==="keypress"?mc(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?mc(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Ut=Ar(jn),Mn=R({},gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_i=Ar(Mn),qa=R({},Wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ht}),na=Ar(qa),ra=R({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),ed=Ar(ra),wh=R({},gc,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),PH=Ar(wh),AH=[9,13,27,32],sw=l&&"CompositionEvent"in window,_h=null;l&&"documentMode"in document&&(_h=document.documentMode);var IH=l&&"TextEvent"in window&&!_h,C2=l&&(!sw||_h&&8<_h&&11>=_h),T2=" ",S2=!1;function N2(u,h){switch(u){case"keyup":return AH.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function P2(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var td=!1;function jH(u,h){switch(u){case"compositionend":return P2(h);case"keypress":return h.which!==32?null:(S2=!0,T2);case"textInput":return u=h.data,u===T2&&S2?null:u;default:return null}}function kH(u,h){if(td)return u==="compositionend"||!sw&&N2(u,h)?(u=Ig(),Ua=Xu=bi=null,td=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return C2&&h.locale!=="ko"?null:h.data;default:return null}}var RH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A2(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!RH[u.type]:h==="textarea"}function I2(u,h,g,w){qs(w),h=Fg(h,"onChange"),0<h.length&&(g=new pc("onChange","change",null,g,w),u.push({event:g,listeners:h}))}var Eh=null,Ch=null;function DH(u){G2(u,0)}function Og(u){var h=ad(u);if(me(h))return u}function OH(u,h){if(u==="change")return h}var j2=!1;if(l){var aw;if(l){var ow="oninput"in document;if(!ow){var k2=document.createElement("div");k2.setAttribute("oninput","return;"),ow=typeof k2.oninput=="function"}aw=ow}else aw=!1;j2=aw&&(!document.documentMode||9<document.documentMode)}function R2(){Eh&&(Eh.detachEvent("onpropertychange",D2),Ch=Eh=null)}function D2(u){if(u.propertyName==="value"&&Og(Ch)){var h=[];I2(h,Ch,u,Ma(u)),Sr(DH,h)}}function MH(u,h,g){u==="focusin"?(R2(),Eh=h,Ch=g,Eh.attachEvent("onpropertychange",D2)):u==="focusout"&&R2()}function LH(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Og(Ch)}function VH(u,h){if(u==="click")return Og(h)}function FH(u,h){if(u==="input"||u==="change")return Og(h)}function BH(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var hs=typeof Object.is=="function"?Object.is:BH;function Th(u,h){if(hs(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var g=Object.keys(u),w=Object.keys(h);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var P=g[w];if(!c.call(h,P)||!hs(u[P],h[P]))return!1}return!0}function O2(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function M2(u,h){var g=O2(u);u=0;for(var w;g;){if(g.nodeType===3){if(w=u+g.textContent.length,u<=h&&w>=h)return{node:g,offset:h-u};u=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=O2(g)}}function L2(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?L2(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function V2(){for(var u=window,h=Re();h instanceof u.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)u=h.contentWindow;else break;h=Re(u.document)}return h}function lw(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function zH(u){var h=V2(),g=u.focusedElem,w=u.selectionRange;if(h!==g&&g&&g.ownerDocument&&L2(g.ownerDocument.documentElement,g)){if(w!==null&&lw(g)){if(h=w.start,u=w.end,u===void 0&&(u=h),"selectionStart"in g)g.selectionStart=h,g.selectionEnd=Math.min(u,g.value.length);else if(u=(h=g.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var P=g.textContent.length,F=Math.min(w.start,P);w=w.end===void 0?F:Math.min(w.end,P),!u.extend&&F>w&&(P=w,w=F,F=P),P=M2(g,F);var H=M2(g,w);P&&H&&(u.rangeCount!==1||u.anchorNode!==P.node||u.anchorOffset!==P.offset||u.focusNode!==H.node||u.focusOffset!==H.offset)&&(h=h.createRange(),h.setStart(P.node,P.offset),u.removeAllRanges(),F>w?(u.addRange(h),u.extend(H.node,H.offset)):(h.setEnd(H.node,H.offset),u.addRange(h)))}}for(h=[],u=g;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<h.length;g++)u=h[g],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var $H=l&&"documentMode"in document&&11>=document.documentMode,nd=null,cw=null,Sh=null,uw=!1;function F2(u,h,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;uw||nd==null||nd!==Re(w)||(w=nd,"selectionStart"in w&&lw(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Sh&&Th(Sh,w)||(Sh=w,w=Fg(cw,"onSelect"),0<w.length&&(h=new pc("onSelect","select",null,h,g),u.push({event:h,listeners:w}),h.target=nd)))}function Mg(u,h){var g={};return g[u.toLowerCase()]=h.toLowerCase(),g["Webkit"+u]="webkit"+h,g["Moz"+u]="moz"+h,g}var rd={animationend:Mg("Animation","AnimationEnd"),animationiteration:Mg("Animation","AnimationIteration"),animationstart:Mg("Animation","AnimationStart"),transitionend:Mg("Transition","TransitionEnd")},dw={},B2={};l&&(B2=document.createElement("div").style,"AnimationEvent"in window||(delete rd.animationend.animation,delete rd.animationiteration.animation,delete rd.animationstart.animation),"TransitionEvent"in window||delete rd.transitionend.transition);function Lg(u){if(dw[u])return dw[u];if(!rd[u])return u;var h=rd[u],g;for(g in h)if(h.hasOwnProperty(g)&&g in B2)return dw[u]=h[g];return u}var z2=Lg("animationend"),$2=Lg("animationiteration"),U2=Lg("animationstart"),q2=Lg("transitionend"),H2=new Map,W2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Go(u,h){H2.set(u,h),s(h,[u])}for(var fw=0;fw<W2.length;fw++){var hw=W2[fw],UH=hw.toLowerCase(),qH=hw[0].toUpperCase()+hw.slice(1);Go(UH,"on"+qH)}Go(z2,"onAnimationEnd"),Go($2,"onAnimationIteration"),Go(U2,"onAnimationStart"),Go("dblclick","onDoubleClick"),Go("focusin","onFocus"),Go("focusout","onBlur"),Go(q2,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HH=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nh));function K2(u,h,g){var w=u.type||"unknown-event";u.currentTarget=g,sh(w,h,void 0,u),u.currentTarget=null}function G2(u,h){h=(h&4)!==0;for(var g=0;g<u.length;g++){var w=u[g],P=w.event;w=w.listeners;e:{var F=void 0;if(h)for(var H=w.length-1;0<=H;H--){var ee=w[H],ne=ee.instance,pe=ee.currentTarget;if(ee=ee.listener,ne!==F&&P.isPropagationStopped())break e;K2(P,ee,pe),F=ne}else for(H=0;H<w.length;H++){if(ee=w[H],ne=ee.instance,pe=ee.currentTarget,ee=ee.listener,ne!==F&&P.isPropagationStopped())break e;K2(P,ee,pe),F=ne}}}if(Bu)throw u=Fi,Bu=!1,Fi=null,u}function sn(u,h){var g=h[ww];g===void 0&&(g=h[ww]=new Set);var w=u+"__bubble";g.has(w)||(X2(h,u,2,!1),g.add(w))}function mw(u,h,g){var w=0;h&&(w|=4),X2(g,u,w,h)}var Vg="_reactListening"+Math.random().toString(36).slice(2);function Ph(u){if(!u[Vg]){u[Vg]=!0,r.forEach(function(g){g!=="selectionchange"&&(HH.has(g)||mw(g,!1,u),mw(g,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Vg]||(h[Vg]=!0,mw("selectionchange",!1,h))}}function X2(u,h,g,w){switch(Gu(h)){case 1:var P=Js;break;case 4:P=Ag;break;default:P=vh}g=P.bind(null,h,g,u),P=void 0,!Pr||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(P=!0),w?P!==void 0?u.addEventListener(h,g,{capture:!0,passive:P}):u.addEventListener(h,g,!0):P!==void 0?u.addEventListener(h,g,{passive:P}):u.addEventListener(h,g,!1)}function pw(u,h,g,w,P){var F=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var H=w.tag;if(H===3||H===4){var ee=w.stateNode.containerInfo;if(ee===P||ee.nodeType===8&&ee.parentNode===P)break;if(H===4)for(H=w.return;H!==null;){var ne=H.tag;if((ne===3||ne===4)&&(ne=H.stateNode.containerInfo,ne===P||ne.nodeType===8&&ne.parentNode===P))return;H=H.return}for(;ee!==null;){if(H=yc(ee),H===null)return;if(ne=H.tag,ne===5||ne===6){w=F=H;continue e}ee=ee.parentNode}}w=w.return}Sr(function(){var pe=F,Ee=Ma(g),Se=[];e:{var we=H2.get(u);if(we!==void 0){var Oe=pc,Fe=u;switch(u){case"keypress":if(mc(g)===0)break e;case"keydown":case"keyup":Oe=Ut;break;case"focusin":Fe="focus",Oe=fr;break;case"focusout":Fe="blur",Oe=fr;break;case"beforeblur":case"afterblur":Oe=fr;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Oe=bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Oe=kg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Oe=na;break;case z2:case $2:case U2:Oe=Dg;break;case q2:Oe=ed;break;case"scroll":Oe=Yu;break;case"wheel":Oe=PH;break;case"copy":case"cut":case"paste":Oe=v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Oe=_i}var qe=(h&4)!==0,kn=!qe&&u==="scroll",ce=qe?we!==null?we+"Capture":null:we;qe=[];for(var ie=pe,de;ie!==null;){de=ie;var Pe=de.stateNode;if(de.tag===5&&Pe!==null&&(de=Pe,ce!==null&&(Pe=Nr(ie,ce),Pe!=null&&qe.push(Ah(ie,Pe,de)))),kn)break;ie=ie.return}0<qe.length&&(we=new Oe(we,Fe,null,g,Ee),Se.push({event:we,listeners:qe}))}}if((h&7)===0){e:{if(we=u==="mouseover"||u==="pointerover",Oe=u==="mouseout"||u==="pointerout",we&&g!==Us&&(Fe=g.relatedTarget||g.fromElement)&&(yc(Fe)||Fe[Ha]))break e;if((Oe||we)&&(we=Ee.window===Ee?Ee:(we=Ee.ownerDocument)?we.defaultView||we.parentWindow:window,Oe?(Fe=g.relatedTarget||g.toElement,Oe=pe,Fe=Fe?yc(Fe):null,Fe!==null&&(kn=ds(Fe),Fe!==kn||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(Oe=null,Fe=pe),Oe!==Fe)){if(qe=bh,Pe="onMouseLeave",ce="onMouseEnter",ie="mouse",(u==="pointerout"||u==="pointerover")&&(qe=_i,Pe="onPointerLeave",ce="onPointerEnter",ie="pointer"),kn=Oe==null?we:ad(Oe),de=Fe==null?we:ad(Fe),we=new qe(Pe,ie+"leave",Oe,g,Ee),we.target=kn,we.relatedTarget=de,Pe=null,yc(Ee)===pe&&(qe=new qe(ce,ie+"enter",Fe,g,Ee),qe.target=de,qe.relatedTarget=kn,Pe=qe),kn=Pe,Oe&&Fe)t:{for(qe=Oe,ce=Fe,ie=0,de=qe;de;de=id(de))ie++;for(de=0,Pe=ce;Pe;Pe=id(Pe))de++;for(;0<ie-de;)qe=id(qe),ie--;for(;0<de-ie;)ce=id(ce),de--;for(;ie--;){if(qe===ce||ce!==null&&qe===ce.alternate)break t;qe=id(qe),ce=id(ce)}qe=null}else qe=null;Oe!==null&&Y2(Se,we,Oe,qe,!1),Fe!==null&&kn!==null&&Y2(Se,kn,Fe,qe,!0)}}e:{if(we=pe?ad(pe):window,Oe=we.nodeName&&we.nodeName.toLowerCase(),Oe==="select"||Oe==="input"&&we.type==="file")var Ke=OH;else if(A2(we))if(j2)Ke=FH;else{Ke=LH;var rt=MH}else(Oe=we.nodeName)&&Oe.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(Ke=VH);if(Ke&&(Ke=Ke(u,pe))){I2(Se,Ke,g,Ee);break e}rt&&rt(u,we,pe),u==="focusout"&&(rt=we._wrapperState)&&rt.controlled&&we.type==="number"&&dt(we,"number",we.value)}switch(rt=pe?ad(pe):window,u){case"focusin":(A2(rt)||rt.contentEditable==="true")&&(nd=rt,cw=pe,Sh=null);break;case"focusout":Sh=cw=nd=null;break;case"mousedown":uw=!0;break;case"contextmenu":case"mouseup":case"dragend":uw=!1,F2(Se,g,Ee);break;case"selectionchange":if($H)break;case"keydown":case"keyup":F2(Se,g,Ee)}var it;if(sw)e:{switch(u){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else td?N2(u,g)&&(lt="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(lt="onCompositionStart");lt&&(C2&&g.locale!=="ko"&&(td||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&td&&(it=Ig()):(bi=Ee,Xu="value"in bi?bi.value:bi.textContent,td=!0)),rt=Fg(pe,lt),0<rt.length&&(lt=new U(lt,u,null,g,Ee),Se.push({event:lt,listeners:rt}),it?lt.data=it:(it=P2(g),it!==null&&(lt.data=it)))),(it=IH?jH(u,g):kH(u,g))&&(pe=Fg(pe,"onBeforeInput"),0<pe.length&&(Ee=new U("onBeforeInput","beforeinput",null,g,Ee),Se.push({event:Ee,listeners:pe}),Ee.data=it))}G2(Se,h)})}function Ah(u,h,g){return{instance:u,listener:h,currentTarget:g}}function Fg(u,h){for(var g=h+"Capture",w=[];u!==null;){var P=u,F=P.stateNode;P.tag===5&&F!==null&&(P=F,F=Nr(u,g),F!=null&&w.unshift(Ah(u,F,P)),F=Nr(u,h),F!=null&&w.push(Ah(u,F,P))),u=u.return}return w}function id(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function Y2(u,h,g,w,P){for(var F=h._reactName,H=[];g!==null&&g!==w;){var ee=g,ne=ee.alternate,pe=ee.stateNode;if(ne!==null&&ne===w)break;ee.tag===5&&pe!==null&&(ee=pe,P?(ne=Nr(g,F),ne!=null&&H.unshift(Ah(g,ne,ee))):P||(ne=Nr(g,F),ne!=null&&H.push(Ah(g,ne,ee)))),g=g.return}H.length!==0&&u.push({event:h,listeners:H})}var WH=/\r\n?/g,KH=/\u0000|\uFFFD/g;function Q2(u){return(typeof u=="string"?u:""+u).replace(WH,`
`).replace(KH,"")}function Bg(u,h,g){if(h=Q2(h),Q2(u)!==h&&g)throw Error(n(425))}function zg(){}var gw=null,yw=null;function vw(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var xw=typeof setTimeout=="function"?setTimeout:void 0,GH=typeof clearTimeout=="function"?clearTimeout:void 0,J2=typeof Promise=="function"?Promise:void 0,XH=typeof queueMicrotask=="function"?queueMicrotask:typeof J2<"u"?function(u){return J2.resolve(null).then(u).catch(YH)}:xw;function YH(u){setTimeout(function(){throw u})}function bw(u,h){var g=h,w=0;do{var P=g.nextSibling;if(u.removeChild(g),P&&P.nodeType===8)if(g=P.data,g==="/$"){if(w===0){u.removeChild(P),Ho(h);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=P}while(g);Ho(h)}function Xo(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function Z2(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return u;h--}else g==="/$"&&h++}u=u.previousSibling}return null}var sd=Math.random().toString(36).slice(2),ia="__reactFiber$"+sd,Ih="__reactProps$"+sd,Ha="__reactContainer$"+sd,ww="__reactEvents$"+sd,QH="__reactListeners$"+sd,JH="__reactHandles$"+sd;function yc(u){var h=u[ia];if(h)return h;for(var g=u.parentNode;g;){if(h=g[Ha]||g[ia]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(u=Z2(u);u!==null;){if(g=u[ia])return g;u=Z2(u)}return h}u=g,g=u.parentNode}return null}function jh(u){return u=u[ia]||u[Ha],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function ad(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function $g(u){return u[Ih]||null}var _w=[],od=-1;function Yo(u){return{current:u}}function an(u){0>od||(u.current=_w[od],_w[od]=null,od--)}function Jt(u,h){od++,_w[od]=u.current,u.current=h}var Qo={},Ir=Yo(Qo),ti=Yo(!1),vc=Qo;function ld(u,h){var g=u.type.contextTypes;if(!g)return Qo;var w=u.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var P={},F;for(F in g)P[F]=h[F];return w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=P),P}function ni(u){return u=u.childContextTypes,u!=null}function Ug(){an(ti),an(Ir)}function eI(u,h,g){if(Ir.current!==Qo)throw Error(n(168));Jt(Ir,h),Jt(ti,g)}function tI(u,h,g){var w=u.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var P in w)if(!(P in h))throw Error(n(108,re(u)||"Unknown",P));return R({},g,w)}function qg(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Qo,vc=Ir.current,Jt(Ir,u),Jt(ti,ti.current),!0}function nI(u,h,g){var w=u.stateNode;if(!w)throw Error(n(169));g?(u=tI(u,h,vc),w.__reactInternalMemoizedMergedChildContext=u,an(ti),an(Ir),Jt(Ir,u)):an(ti),Jt(ti,g)}var Wa=null,Hg=!1,Ew=!1;function rI(u){Wa===null?Wa=[u]:Wa.push(u)}function ZH(u){Hg=!0,rI(u)}function Jo(){if(!Ew&&Wa!==null){Ew=!0;var u=0,h=Pt;try{var g=Wa;for(Pt=1;u<g.length;u++){var w=g[u];do w=w(!0);while(w!==null)}Wa=null,Hg=!1}catch(P){throw Wa!==null&&(Wa=Wa.slice(u+1)),oh($u,Jo),P}finally{Pt=h,Ew=!1}}return null}var cd=[],ud=0,Wg=null,Kg=0,zi=[],$i=0,xc=null,Ka=1,Ga="";function bc(u,h){cd[ud++]=Kg,cd[ud++]=Wg,Wg=u,Kg=h}function iI(u,h,g){zi[$i++]=Ka,zi[$i++]=Ga,zi[$i++]=xc,xc=u;var w=Ka;u=Ga;var P=32-vi(w)-1;w&=~(1<<P),g+=1;var F=32-vi(h)+P;if(30<F){var H=P-P%5;F=(w&(1<<H)-1).toString(32),w>>=H,P-=H,Ka=1<<32-vi(h)+P|g<<P|w,Ga=F+u}else Ka=1<<F|g<<P|w,Ga=u}function Cw(u){u.return!==null&&(bc(u,1),iI(u,1,0))}function Tw(u){for(;u===Wg;)Wg=cd[--ud],cd[ud]=null,Kg=cd[--ud],cd[ud]=null;for(;u===xc;)xc=zi[--$i],zi[$i]=null,Ga=zi[--$i],zi[$i]=null,Ka=zi[--$i],zi[$i]=null}var Ei=null,Ci=null,ln=!1,ms=null;function sI(u,h){var g=Wi(5,null,null,0);g.elementType="DELETED",g.stateNode=h,g.return=u,h=u.deletions,h===null?(u.deletions=[g],u.flags|=16):h.push(g)}function aI(u,h){switch(u.tag){case 5:var g=u.type;return h=h.nodeType!==1||g.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,Ei=u,Ci=Xo(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,Ei=u,Ci=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(g=xc!==null?{id:Ka,overflow:Ga}:null,u.memoizedState={dehydrated:h,treeContext:g,retryLane:1073741824},g=Wi(18,null,null,0),g.stateNode=h,g.return=u,u.child=g,Ei=u,Ci=null,!0):!1;default:return!1}}function Sw(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Nw(u){if(ln){var h=Ci;if(h){var g=h;if(!aI(u,h)){if(Sw(u))throw Error(n(418));h=Xo(g.nextSibling);var w=Ei;h&&aI(u,h)?sI(w,g):(u.flags=u.flags&-4097|2,ln=!1,Ei=u)}}else{if(Sw(u))throw Error(n(418));u.flags=u.flags&-4097|2,ln=!1,Ei=u}}}function oI(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Ei=u}function Gg(u){if(u!==Ei)return!1;if(!ln)return oI(u),ln=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!vw(u.type,u.memoizedProps)),h&&(h=Ci)){if(Sw(u))throw lI(),Error(n(418));for(;h;)sI(u,h),h=Xo(h.nextSibling)}if(oI(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="/$"){if(h===0){Ci=Xo(u.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++}u=u.nextSibling}Ci=null}}else Ci=Ei?Xo(u.stateNode.nextSibling):null;return!0}function lI(){for(var u=Ci;u;)u=Xo(u.nextSibling)}function dd(){Ci=Ei=null,ln=!1}function Pw(u){ms===null?ms=[u]:ms.push(u)}var eW=z.ReactCurrentBatchConfig;function kh(u,h,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var w=g.stateNode}if(!w)throw Error(n(147,u));var P=w,F=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===F?h.ref:(h=function(H){var ee=P.refs;H===null?delete ee[F]:ee[F]=H},h._stringRef=F,h)}if(typeof u!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,u))}return u}function Xg(u,h){throw u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function cI(u){var h=u._init;return h(u._payload)}function uI(u){function h(ce,ie){if(u){var de=ce.deletions;de===null?(ce.deletions=[ie],ce.flags|=16):de.push(ie)}}function g(ce,ie){if(!u)return null;for(;ie!==null;)h(ce,ie),ie=ie.sibling;return null}function w(ce,ie){for(ce=new Map;ie!==null;)ie.key!==null?ce.set(ie.key,ie):ce.set(ie.index,ie),ie=ie.sibling;return ce}function P(ce,ie){return ce=al(ce,ie),ce.index=0,ce.sibling=null,ce}function F(ce,ie,de){return ce.index=de,u?(de=ce.alternate,de!==null?(de=de.index,de<ie?(ce.flags|=2,ie):de):(ce.flags|=2,ie)):(ce.flags|=1048576,ie)}function H(ce){return u&&ce.alternate===null&&(ce.flags|=2),ce}function ee(ce,ie,de,Pe){return ie===null||ie.tag!==6?(ie=x1(de,ce.mode,Pe),ie.return=ce,ie):(ie=P(ie,de),ie.return=ce,ie)}function ne(ce,ie,de,Pe){var Ke=de.type;return Ke===C?Ee(ce,ie,de.props.children,Pe,de.key):ie!==null&&(ie.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===J&&cI(Ke)===ie.type)?(Pe=P(ie,de.props),Pe.ref=kh(ce,ie,de),Pe.return=ce,Pe):(Pe=xy(de.type,de.key,de.props,null,ce.mode,Pe),Pe.ref=kh(ce,ie,de),Pe.return=ce,Pe)}function pe(ce,ie,de,Pe){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==de.containerInfo||ie.stateNode.implementation!==de.implementation?(ie=b1(de,ce.mode,Pe),ie.return=ce,ie):(ie=P(ie,de.children||[]),ie.return=ce,ie)}function Ee(ce,ie,de,Pe,Ke){return ie===null||ie.tag!==7?(ie=Pc(de,ce.mode,Pe,Ke),ie.return=ce,ie):(ie=P(ie,de),ie.return=ce,ie)}function Se(ce,ie,de){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=x1(""+ie,ce.mode,de),ie.return=ce,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case I:return de=xy(ie.type,ie.key,ie.props,null,ce.mode,de),de.ref=kh(ce,null,ie),de.return=ce,de;case j:return ie=b1(ie,ce.mode,de),ie.return=ce,ie;case J:var Pe=ie._init;return Se(ce,Pe(ie._payload),de)}if(tt(ie)||q(ie))return ie=Pc(ie,ce.mode,de,null),ie.return=ce,ie;Xg(ce,ie)}return null}function we(ce,ie,de,Pe){var Ke=ie!==null?ie.key:null;if(typeof de=="string"&&de!==""||typeof de=="number")return Ke!==null?null:ee(ce,ie,""+de,Pe);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case I:return de.key===Ke?ne(ce,ie,de,Pe):null;case j:return de.key===Ke?pe(ce,ie,de,Pe):null;case J:return Ke=de._init,we(ce,ie,Ke(de._payload),Pe)}if(tt(de)||q(de))return Ke!==null?null:Ee(ce,ie,de,Pe,null);Xg(ce,de)}return null}function Oe(ce,ie,de,Pe,Ke){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return ce=ce.get(de)||null,ee(ie,ce,""+Pe,Ke);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case I:return ce=ce.get(Pe.key===null?de:Pe.key)||null,ne(ie,ce,Pe,Ke);case j:return ce=ce.get(Pe.key===null?de:Pe.key)||null,pe(ie,ce,Pe,Ke);case J:var rt=Pe._init;return Oe(ce,ie,de,rt(Pe._payload),Ke)}if(tt(Pe)||q(Pe))return ce=ce.get(de)||null,Ee(ie,ce,Pe,Ke,null);Xg(ie,Pe)}return null}function Fe(ce,ie,de,Pe){for(var Ke=null,rt=null,it=ie,lt=ie=0,er=null;it!==null&&lt<de.length;lt++){it.index>lt?(er=it,it=null):er=it.sibling;var Mt=we(ce,it,de[lt],Pe);if(Mt===null){it===null&&(it=er);break}u&&it&&Mt.alternate===null&&h(ce,it),ie=F(Mt,ie,lt),rt===null?Ke=Mt:rt.sibling=Mt,rt=Mt,it=er}if(lt===de.length)return g(ce,it),ln&&bc(ce,lt),Ke;if(it===null){for(;lt<de.length;lt++)it=Se(ce,de[lt],Pe),it!==null&&(ie=F(it,ie,lt),rt===null?Ke=it:rt.sibling=it,rt=it);return ln&&bc(ce,lt),Ke}for(it=w(ce,it);lt<de.length;lt++)er=Oe(it,ce,lt,de[lt],Pe),er!==null&&(u&&er.alternate!==null&&it.delete(er.key===null?lt:er.key),ie=F(er,ie,lt),rt===null?Ke=er:rt.sibling=er,rt=er);return u&&it.forEach(function(ol){return h(ce,ol)}),ln&&bc(ce,lt),Ke}function qe(ce,ie,de,Pe){var Ke=q(de);if(typeof Ke!="function")throw Error(n(150));if(de=Ke.call(de),de==null)throw Error(n(151));for(var rt=Ke=null,it=ie,lt=ie=0,er=null,Mt=de.next();it!==null&&!Mt.done;lt++,Mt=de.next()){it.index>lt?(er=it,it=null):er=it.sibling;var ol=we(ce,it,Mt.value,Pe);if(ol===null){it===null&&(it=er);break}u&&it&&ol.alternate===null&&h(ce,it),ie=F(ol,ie,lt),rt===null?Ke=ol:rt.sibling=ol,rt=ol,it=er}if(Mt.done)return g(ce,it),ln&&bc(ce,lt),Ke;if(it===null){for(;!Mt.done;lt++,Mt=de.next())Mt=Se(ce,Mt.value,Pe),Mt!==null&&(ie=F(Mt,ie,lt),rt===null?Ke=Mt:rt.sibling=Mt,rt=Mt);return ln&&bc(ce,lt),Ke}for(it=w(ce,it);!Mt.done;lt++,Mt=de.next())Mt=Oe(it,ce,lt,Mt.value,Pe),Mt!==null&&(u&&Mt.alternate!==null&&it.delete(Mt.key===null?lt:Mt.key),ie=F(Mt,ie,lt),rt===null?Ke=Mt:rt.sibling=Mt,rt=Mt);return u&&it.forEach(function(RW){return h(ce,RW)}),ln&&bc(ce,lt),Ke}function kn(ce,ie,de,Pe){if(typeof de=="object"&&de!==null&&de.type===C&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case I:e:{for(var Ke=de.key,rt=ie;rt!==null;){if(rt.key===Ke){if(Ke=de.type,Ke===C){if(rt.tag===7){g(ce,rt.sibling),ie=P(rt,de.props.children),ie.return=ce,ce=ie;break e}}else if(rt.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===J&&cI(Ke)===rt.type){g(ce,rt.sibling),ie=P(rt,de.props),ie.ref=kh(ce,rt,de),ie.return=ce,ce=ie;break e}g(ce,rt);break}else h(ce,rt);rt=rt.sibling}de.type===C?(ie=Pc(de.props.children,ce.mode,Pe,de.key),ie.return=ce,ce=ie):(Pe=xy(de.type,de.key,de.props,null,ce.mode,Pe),Pe.ref=kh(ce,ie,de),Pe.return=ce,ce=Pe)}return H(ce);case j:e:{for(rt=de.key;ie!==null;){if(ie.key===rt)if(ie.tag===4&&ie.stateNode.containerInfo===de.containerInfo&&ie.stateNode.implementation===de.implementation){g(ce,ie.sibling),ie=P(ie,de.children||[]),ie.return=ce,ce=ie;break e}else{g(ce,ie);break}else h(ce,ie);ie=ie.sibling}ie=b1(de,ce.mode,Pe),ie.return=ce,ce=ie}return H(ce);case J:return rt=de._init,kn(ce,ie,rt(de._payload),Pe)}if(tt(de))return Fe(ce,ie,de,Pe);if(q(de))return qe(ce,ie,de,Pe);Xg(ce,de)}return typeof de=="string"&&de!==""||typeof de=="number"?(de=""+de,ie!==null&&ie.tag===6?(g(ce,ie.sibling),ie=P(ie,de),ie.return=ce,ce=ie):(g(ce,ie),ie=x1(de,ce.mode,Pe),ie.return=ce,ce=ie),H(ce)):g(ce,ie)}return kn}var fd=uI(!0),dI=uI(!1),Yg=Yo(null),Qg=null,hd=null,Aw=null;function Iw(){Aw=hd=Qg=null}function jw(u){var h=Yg.current;an(Yg),u._currentValue=h}function kw(u,h,g){for(;u!==null;){var w=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),u===g)break;u=u.return}}function md(u,h){Qg=u,Aw=hd=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(ri=!0),u.firstContext=null)}function Ui(u){var h=u._currentValue;if(Aw!==u)if(u={context:u,memoizedValue:h,next:null},hd===null){if(Qg===null)throw Error(n(308));hd=u,Qg.dependencies={lanes:0,firstContext:u}}else hd=hd.next=u;return h}var wc=null;function Rw(u){wc===null?wc=[u]:wc.push(u)}function fI(u,h,g,w){var P=h.interleaved;return P===null?(g.next=g,Rw(h)):(g.next=P.next,P.next=g),h.interleaved=g,Xa(u,w)}function Xa(u,h){u.lanes|=h;var g=u.alternate;for(g!==null&&(g.lanes|=h),g=u,u=u.return;u!==null;)u.childLanes|=h,g=u.alternate,g!==null&&(g.childLanes|=h),g=u,u=u.return;return g.tag===3?g.stateNode:null}var Zo=!1;function Dw(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hI(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Ya(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function el(u,h,g){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,(kt&2)!==0){var P=w.pending;return P===null?h.next=h:(h.next=P.next,P.next=h),w.pending=h,Xa(u,g)}return P=w.interleaved,P===null?(h.next=h,Rw(w)):(h.next=P.next,P.next=h),w.interleaved=h,Xa(u,g)}function Jg(u,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194240)!==0)){var w=h.lanes;w&=u.pendingLanes,g|=w,h.lanes=g,hh(u,g)}}function mI(u,h){var g=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var P=null,F=null;if(g=g.firstBaseUpdate,g!==null){do{var H={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};F===null?P=F=H:F=F.next=H,g=g.next}while(g!==null);F===null?P=F=h:F=F.next=h}else P=F=h;g={baseState:w.baseState,firstBaseUpdate:P,lastBaseUpdate:F,shared:w.shared,effects:w.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=h}function Zg(u,h,g,w){var P=u.updateQueue;Zo=!1;var F=P.firstBaseUpdate,H=P.lastBaseUpdate,ee=P.shared.pending;if(ee!==null){P.shared.pending=null;var ne=ee,pe=ne.next;ne.next=null,H===null?F=pe:H.next=pe,H=ne;var Ee=u.alternate;Ee!==null&&(Ee=Ee.updateQueue,ee=Ee.lastBaseUpdate,ee!==H&&(ee===null?Ee.firstBaseUpdate=pe:ee.next=pe,Ee.lastBaseUpdate=ne))}if(F!==null){var Se=P.baseState;H=0,Ee=pe=ne=null,ee=F;do{var we=ee.lane,Oe=ee.eventTime;if((w&we)===we){Ee!==null&&(Ee=Ee.next={eventTime:Oe,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var Fe=u,qe=ee;switch(we=h,Oe=g,qe.tag){case 1:if(Fe=qe.payload,typeof Fe=="function"){Se=Fe.call(Oe,Se,we);break e}Se=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=qe.payload,we=typeof Fe=="function"?Fe.call(Oe,Se,we):Fe,we==null)break e;Se=R({},Se,we);break e;case 2:Zo=!0}}ee.callback!==null&&ee.lane!==0&&(u.flags|=64,we=P.effects,we===null?P.effects=[ee]:we.push(ee))}else Oe={eventTime:Oe,lane:we,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ee===null?(pe=Ee=Oe,ne=Se):Ee=Ee.next=Oe,H|=we;if(ee=ee.next,ee===null){if(ee=P.shared.pending,ee===null)break;we=ee,ee=we.next,we.next=null,P.lastBaseUpdate=we,P.shared.pending=null}}while(!0);if(Ee===null&&(ne=Se),P.baseState=ne,P.firstBaseUpdate=pe,P.lastBaseUpdate=Ee,h=P.shared.interleaved,h!==null){P=h;do H|=P.lane,P=P.next;while(P!==h)}else F===null&&(P.shared.lanes=0);Cc|=H,u.lanes=H,u.memoizedState=Se}}function pI(u,h,g){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var w=u[h],P=w.callback;if(P!==null){if(w.callback=null,w=g,typeof P!="function")throw Error(n(191,P));P.call(w)}}}var Rh={},sa=Yo(Rh),Dh=Yo(Rh),Oh=Yo(Rh);function _c(u){if(u===Rh)throw Error(n(174));return u}function Ow(u,h){switch(Jt(Oh,h),Jt(Dh,u),Jt(sa,Rh),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:He(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=He(h,u)}an(sa),Jt(sa,h)}function pd(){an(sa),an(Dh),an(Oh)}function gI(u){_c(Oh.current);var h=_c(sa.current),g=He(h,u.type);h!==g&&(Jt(Dh,u),Jt(sa,g))}function Mw(u){Dh.current===u&&(an(sa),an(Dh))}var gn=Yo(0);function ey(u){for(var h=u;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Lw=[];function Vw(){for(var u=0;u<Lw.length;u++)Lw[u]._workInProgressVersionPrimary=null;Lw.length=0}var ty=z.ReactCurrentDispatcher,Fw=z.ReactCurrentBatchConfig,Ec=0,yn=null,Un=null,Jn=null,ny=!1,Mh=!1,Lh=0,tW=0;function jr(){throw Error(n(321))}function Bw(u,h){if(h===null)return!1;for(var g=0;g<h.length&&g<u.length;g++)if(!hs(u[g],h[g]))return!1;return!0}function zw(u,h,g,w,P,F){if(Ec=F,yn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,ty.current=u===null||u.memoizedState===null?sW:aW,u=g(w,P),Mh){F=0;do{if(Mh=!1,Lh=0,25<=F)throw Error(n(301));F+=1,Jn=Un=null,h.updateQueue=null,ty.current=oW,u=g(w,P)}while(Mh)}if(ty.current=sy,h=Un!==null&&Un.next!==null,Ec=0,Jn=Un=yn=null,ny=!1,h)throw Error(n(300));return u}function $w(){var u=Lh!==0;return Lh=0,u}function aa(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?yn.memoizedState=Jn=u:Jn=Jn.next=u,Jn}function qi(){if(Un===null){var u=yn.alternate;u=u!==null?u.memoizedState:null}else u=Un.next;var h=Jn===null?yn.memoizedState:Jn.next;if(h!==null)Jn=h,Un=u;else{if(u===null)throw Error(n(310));Un=u,u={memoizedState:Un.memoizedState,baseState:Un.baseState,baseQueue:Un.baseQueue,queue:Un.queue,next:null},Jn===null?yn.memoizedState=Jn=u:Jn=Jn.next=u}return Jn}function Vh(u,h){return typeof h=="function"?h(u):h}function Uw(u){var h=qi(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var w=Un,P=w.baseQueue,F=g.pending;if(F!==null){if(P!==null){var H=P.next;P.next=F.next,F.next=H}w.baseQueue=P=F,g.pending=null}if(P!==null){F=P.next,w=w.baseState;var ee=H=null,ne=null,pe=F;do{var Ee=pe.lane;if((Ec&Ee)===Ee)ne!==null&&(ne=ne.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),w=pe.hasEagerState?pe.eagerState:u(w,pe.action);else{var Se={lane:Ee,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};ne===null?(ee=ne=Se,H=w):ne=ne.next=Se,yn.lanes|=Ee,Cc|=Ee}pe=pe.next}while(pe!==null&&pe!==F);ne===null?H=w:ne.next=ee,hs(w,h.memoizedState)||(ri=!0),h.memoizedState=w,h.baseState=H,h.baseQueue=ne,g.lastRenderedState=w}if(u=g.interleaved,u!==null){P=u;do F=P.lane,yn.lanes|=F,Cc|=F,P=P.next;while(P!==u)}else P===null&&(g.lanes=0);return[h.memoizedState,g.dispatch]}function qw(u){var h=qi(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var w=g.dispatch,P=g.pending,F=h.memoizedState;if(P!==null){g.pending=null;var H=P=P.next;do F=u(F,H.action),H=H.next;while(H!==P);hs(F,h.memoizedState)||(ri=!0),h.memoizedState=F,h.baseQueue===null&&(h.baseState=F),g.lastRenderedState=F}return[F,w]}function yI(){}function vI(u,h){var g=yn,w=qi(),P=h(),F=!hs(w.memoizedState,P);if(F&&(w.memoizedState=P,ri=!0),w=w.queue,Hw(wI.bind(null,g,w,u),[u]),w.getSnapshot!==h||F||Jn!==null&&Jn.memoizedState.tag&1){if(g.flags|=2048,Fh(9,bI.bind(null,g,w,P,h),void 0,null),Zn===null)throw Error(n(349));(Ec&30)!==0||xI(g,h,P)}return P}function xI(u,h,g){u.flags|=16384,u={getSnapshot:h,value:g},h=yn.updateQueue,h===null?(h={lastEffect:null,stores:null},yn.updateQueue=h,h.stores=[u]):(g=h.stores,g===null?h.stores=[u]:g.push(u))}function bI(u,h,g,w){h.value=g,h.getSnapshot=w,_I(h)&&EI(u)}function wI(u,h,g){return g(function(){_I(h)&&EI(u)})}function _I(u){var h=u.getSnapshot;u=u.value;try{var g=h();return!hs(u,g)}catch{return!0}}function EI(u){var h=Xa(u,1);h!==null&&vs(h,u,1,-1)}function CI(u){var h=aa();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vh,lastRenderedState:u},h.queue=u,u=u.dispatch=iW.bind(null,yn,u),[h.memoizedState,u]}function Fh(u,h,g,w){return u={tag:u,create:h,destroy:g,deps:w,next:null},h=yn.updateQueue,h===null?(h={lastEffect:null,stores:null},yn.updateQueue=h,h.lastEffect=u.next=u):(g=h.lastEffect,g===null?h.lastEffect=u.next=u:(w=g.next,g.next=u,u.next=w,h.lastEffect=u)),u}function TI(){return qi().memoizedState}function ry(u,h,g,w){var P=aa();yn.flags|=u,P.memoizedState=Fh(1|h,g,void 0,w===void 0?null:w)}function iy(u,h,g,w){var P=qi();w=w===void 0?null:w;var F=void 0;if(Un!==null){var H=Un.memoizedState;if(F=H.destroy,w!==null&&Bw(w,H.deps)){P.memoizedState=Fh(h,g,F,w);return}}yn.flags|=u,P.memoizedState=Fh(1|h,g,F,w)}function SI(u,h){return ry(8390656,8,u,h)}function Hw(u,h){return iy(2048,8,u,h)}function NI(u,h){return iy(4,2,u,h)}function PI(u,h){return iy(4,4,u,h)}function AI(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function II(u,h,g){return g=g!=null?g.concat([u]):null,iy(4,4,AI.bind(null,h,u),g)}function Ww(){}function jI(u,h){var g=qi();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&Bw(h,w[1])?w[0]:(g.memoizedState=[u,h],u)}function kI(u,h){var g=qi();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&Bw(h,w[1])?w[0]:(u=u(),g.memoizedState=[u,h],u)}function RI(u,h,g){return(Ec&21)===0?(u.baseState&&(u.baseState=!1,ri=!0),u.memoizedState=g):(hs(g,h)||(g=dh(),yn.lanes|=g,Cc|=g,u.baseState=!0),h)}function nW(u,h){var g=Pt;Pt=g!==0&&4>g?g:4,u(!0);var w=Fw.transition;Fw.transition={};try{u(!1),h()}finally{Pt=g,Fw.transition=w}}function DI(){return qi().memoizedState}function rW(u,h,g){var w=il(u);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},OI(u))MI(h,g);else if(g=fI(u,h,g,w),g!==null){var P=$r();vs(g,u,w,P),LI(g,h,w)}}function iW(u,h,g){var w=il(u),P={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(OI(u))MI(h,P);else{var F=u.alternate;if(u.lanes===0&&(F===null||F.lanes===0)&&(F=h.lastRenderedReducer,F!==null))try{var H=h.lastRenderedState,ee=F(H,g);if(P.hasEagerState=!0,P.eagerState=ee,hs(ee,H)){var ne=h.interleaved;ne===null?(P.next=P,Rw(h)):(P.next=ne.next,ne.next=P),h.interleaved=P;return}}catch{}g=fI(u,h,P,w),g!==null&&(P=$r(),vs(g,u,w,P),LI(g,h,w))}}function OI(u){var h=u.alternate;return u===yn||h!==null&&h===yn}function MI(u,h){Mh=ny=!0;var g=u.pending;g===null?h.next=h:(h.next=g.next,g.next=h),u.pending=h}function LI(u,h,g){if((g&4194240)!==0){var w=h.lanes;w&=u.pendingLanes,g|=w,h.lanes=g,hh(u,g)}}var sy={readContext:Ui,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},sW={readContext:Ui,useCallback:function(u,h){return aa().memoizedState=[u,h===void 0?null:h],u},useContext:Ui,useEffect:SI,useImperativeHandle:function(u,h,g){return g=g!=null?g.concat([u]):null,ry(4194308,4,AI.bind(null,h,u),g)},useLayoutEffect:function(u,h){return ry(4194308,4,u,h)},useInsertionEffect:function(u,h){return ry(4,2,u,h)},useMemo:function(u,h){var g=aa();return h=h===void 0?null:h,u=u(),g.memoizedState=[u,h],u},useReducer:function(u,h,g){var w=aa();return h=g!==void 0?g(h):h,w.memoizedState=w.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},w.queue=u,u=u.dispatch=rW.bind(null,yn,u),[w.memoizedState,u]},useRef:function(u){var h=aa();return u={current:u},h.memoizedState=u},useState:CI,useDebugValue:Ww,useDeferredValue:function(u){return aa().memoizedState=u},useTransition:function(){var u=CI(!1),h=u[0];return u=nW.bind(null,u[1]),aa().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,g){var w=yn,P=aa();if(ln){if(g===void 0)throw Error(n(407));g=g()}else{if(g=h(),Zn===null)throw Error(n(349));(Ec&30)!==0||xI(w,h,g)}P.memoizedState=g;var F={value:g,getSnapshot:h};return P.queue=F,SI(wI.bind(null,w,F,u),[u]),w.flags|=2048,Fh(9,bI.bind(null,w,F,g,h),void 0,null),g},useId:function(){var u=aa(),h=Zn.identifierPrefix;if(ln){var g=Ga,w=Ka;g=(w&~(1<<32-vi(w)-1)).toString(32)+g,h=":"+h+"R"+g,g=Lh++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=tW++,h=":"+h+"r"+g.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},aW={readContext:Ui,useCallback:jI,useContext:Ui,useEffect:Hw,useImperativeHandle:II,useInsertionEffect:NI,useLayoutEffect:PI,useMemo:kI,useReducer:Uw,useRef:TI,useState:function(){return Uw(Vh)},useDebugValue:Ww,useDeferredValue:function(u){var h=qi();return RI(h,Un.memoizedState,u)},useTransition:function(){var u=Uw(Vh)[0],h=qi().memoizedState;return[u,h]},useMutableSource:yI,useSyncExternalStore:vI,useId:DI,unstable_isNewReconciler:!1},oW={readContext:Ui,useCallback:jI,useContext:Ui,useEffect:Hw,useImperativeHandle:II,useInsertionEffect:NI,useLayoutEffect:PI,useMemo:kI,useReducer:qw,useRef:TI,useState:function(){return qw(Vh)},useDebugValue:Ww,useDeferredValue:function(u){var h=qi();return Un===null?h.memoizedState=u:RI(h,Un.memoizedState,u)},useTransition:function(){var u=qw(Vh)[0],h=qi().memoizedState;return[u,h]},useMutableSource:yI,useSyncExternalStore:vI,useId:DI,unstable_isNewReconciler:!1};function ps(u,h){if(u&&u.defaultProps){h=R({},h),u=u.defaultProps;for(var g in u)h[g]===void 0&&(h[g]=u[g]);return h}return h}function Kw(u,h,g,w){h=u.memoizedState,g=g(w,h),g=g==null?h:R({},h,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var ay={isMounted:function(u){return(u=u._reactInternals)?ds(u)===u:!1},enqueueSetState:function(u,h,g){u=u._reactInternals;var w=$r(),P=il(u),F=Ya(w,P);F.payload=h,g!=null&&(F.callback=g),h=el(u,F,P),h!==null&&(vs(h,u,P,w),Jg(h,u,P))},enqueueReplaceState:function(u,h,g){u=u._reactInternals;var w=$r(),P=il(u),F=Ya(w,P);F.tag=1,F.payload=h,g!=null&&(F.callback=g),h=el(u,F,P),h!==null&&(vs(h,u,P,w),Jg(h,u,P))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var g=$r(),w=il(u),P=Ya(g,w);P.tag=2,h!=null&&(P.callback=h),h=el(u,P,w),h!==null&&(vs(h,u,w,g),Jg(h,u,w))}};function VI(u,h,g,w,P,F,H){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,F,H):h.prototype&&h.prototype.isPureReactComponent?!Th(g,w)||!Th(P,F):!0}function FI(u,h,g){var w=!1,P=Qo,F=h.contextType;return typeof F=="object"&&F!==null?F=Ui(F):(P=ni(h)?vc:Ir.current,w=h.contextTypes,F=(w=w!=null)?ld(u,P):Qo),h=new h(g,F),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=ay,u.stateNode=h,h._reactInternals=u,w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=P,u.__reactInternalMemoizedMaskedChildContext=F),h}function BI(u,h,g,w){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,w),h.state!==u&&ay.enqueueReplaceState(h,h.state,null)}function Gw(u,h,g,w){var P=u.stateNode;P.props=g,P.state=u.memoizedState,P.refs={},Dw(u);var F=h.contextType;typeof F=="object"&&F!==null?P.context=Ui(F):(F=ni(h)?vc:Ir.current,P.context=ld(u,F)),P.state=u.memoizedState,F=h.getDerivedStateFromProps,typeof F=="function"&&(Kw(u,h,F,g),P.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(h=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),h!==P.state&&ay.enqueueReplaceState(P,P.state,null),Zg(u,g,P,w),P.state=u.memoizedState),typeof P.componentDidMount=="function"&&(u.flags|=4194308)}function gd(u,h){try{var g="",w=h;do g+=te(w),w=w.return;while(w);var P=g}catch(F){P=`
Error generating stack: `+F.message+`
`+F.stack}return{value:u,source:h,stack:P,digest:null}}function Xw(u,h,g){return{value:u,source:null,stack:g??null,digest:h??null}}function Yw(u,h){try{console.error(h.value)}catch(g){setTimeout(function(){throw g})}}var lW=typeof WeakMap=="function"?WeakMap:Map;function zI(u,h,g){g=Ya(-1,g),g.tag=3,g.payload={element:null};var w=h.value;return g.callback=function(){hy||(hy=!0,d1=w),Yw(u,h)},g}function $I(u,h,g){g=Ya(-1,g),g.tag=3;var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var P=h.value;g.payload=function(){return w(P)},g.callback=function(){Yw(u,h)}}var F=u.stateNode;return F!==null&&typeof F.componentDidCatch=="function"&&(g.callback=function(){Yw(u,h),typeof w!="function"&&(nl===null?nl=new Set([this]):nl.add(this));var H=h.stack;this.componentDidCatch(h.value,{componentStack:H!==null?H:""})}),g}function UI(u,h,g){var w=u.pingCache;if(w===null){w=u.pingCache=new lW;var P=new Set;w.set(h,P)}else P=w.get(h),P===void 0&&(P=new Set,w.set(h,P));P.has(g)||(P.add(g),u=_W.bind(null,u,h,g),h.then(u,u))}function qI(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function HI(u,h,g,w,P){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(h=Ya(-1,1),h.tag=2,el(g,h,1))),g.lanes|=1),u):(u.flags|=65536,u.lanes=P,u)}var cW=z.ReactCurrentOwner,ri=!1;function zr(u,h,g,w){h.child=u===null?dI(h,null,g,w):fd(h,u.child,g,w)}function WI(u,h,g,w,P){g=g.render;var F=h.ref;return md(h,P),w=zw(u,h,g,w,F,P),g=$w(),u!==null&&!ri?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~P,Qa(u,h,P)):(ln&&g&&Cw(h),h.flags|=1,zr(u,h,w,P),h.child)}function KI(u,h,g,w,P){if(u===null){var F=g.type;return typeof F=="function"&&!v1(F)&&F.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(h.tag=15,h.type=F,GI(u,h,F,w,P)):(u=xy(g.type,null,w,h,h.mode,P),u.ref=h.ref,u.return=h,h.child=u)}if(F=u.child,(u.lanes&P)===0){var H=F.memoizedProps;if(g=g.compare,g=g!==null?g:Th,g(H,w)&&u.ref===h.ref)return Qa(u,h,P)}return h.flags|=1,u=al(F,w),u.ref=h.ref,u.return=h,h.child=u}function GI(u,h,g,w,P){if(u!==null){var F=u.memoizedProps;if(Th(F,w)&&u.ref===h.ref)if(ri=!1,h.pendingProps=w=F,(u.lanes&P)!==0)(u.flags&131072)!==0&&(ri=!0);else return h.lanes=u.lanes,Qa(u,h,P)}return Qw(u,h,g,w,P)}function XI(u,h,g){var w=h.pendingProps,P=w.children,F=u!==null?u.memoizedState:null;if(w.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Jt(vd,Ti),Ti|=g;else{if((g&1073741824)===0)return u=F!==null?F.baseLanes|g:g,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,Jt(vd,Ti),Ti|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=F!==null?F.baseLanes:g,Jt(vd,Ti),Ti|=w}else F!==null?(w=F.baseLanes|g,h.memoizedState=null):w=g,Jt(vd,Ti),Ti|=w;return zr(u,h,P,g),h.child}function YI(u,h){var g=h.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(h.flags|=512,h.flags|=2097152)}function Qw(u,h,g,w,P){var F=ni(g)?vc:Ir.current;return F=ld(h,F),md(h,P),g=zw(u,h,g,w,F,P),w=$w(),u!==null&&!ri?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~P,Qa(u,h,P)):(ln&&w&&Cw(h),h.flags|=1,zr(u,h,g,P),h.child)}function QI(u,h,g,w,P){if(ni(g)){var F=!0;qg(h)}else F=!1;if(md(h,P),h.stateNode===null)ly(u,h),FI(h,g,w),Gw(h,g,w,P),w=!0;else if(u===null){var H=h.stateNode,ee=h.memoizedProps;H.props=ee;var ne=H.context,pe=g.contextType;typeof pe=="object"&&pe!==null?pe=Ui(pe):(pe=ni(g)?vc:Ir.current,pe=ld(h,pe));var Ee=g.getDerivedStateFromProps,Se=typeof Ee=="function"||typeof H.getSnapshotBeforeUpdate=="function";Se||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ee!==w||ne!==pe)&&BI(h,H,w,pe),Zo=!1;var we=h.memoizedState;H.state=we,Zg(h,w,H,P),ne=h.memoizedState,ee!==w||we!==ne||ti.current||Zo?(typeof Ee=="function"&&(Kw(h,g,Ee,w),ne=h.memoizedState),(ee=Zo||VI(h,g,ee,w,we,ne,pe))?(Se||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(h.flags|=4194308)):(typeof H.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=ne),H.props=w,H.state=ne,H.context=pe,w=ee):(typeof H.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{H=h.stateNode,hI(u,h),ee=h.memoizedProps,pe=h.type===h.elementType?ee:ps(h.type,ee),H.props=pe,Se=h.pendingProps,we=H.context,ne=g.contextType,typeof ne=="object"&&ne!==null?ne=Ui(ne):(ne=ni(g)?vc:Ir.current,ne=ld(h,ne));var Oe=g.getDerivedStateFromProps;(Ee=typeof Oe=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ee!==Se||we!==ne)&&BI(h,H,w,ne),Zo=!1,we=h.memoizedState,H.state=we,Zg(h,w,H,P);var Fe=h.memoizedState;ee!==Se||we!==Fe||ti.current||Zo?(typeof Oe=="function"&&(Kw(h,g,Oe,w),Fe=h.memoizedState),(pe=Zo||VI(h,g,pe,w,we,Fe,ne)||!1)?(Ee||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(w,Fe,ne),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(w,Fe,ne)),typeof H.componentDidUpdate=="function"&&(h.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof H.componentDidUpdate!="function"||ee===u.memoizedProps&&we===u.memoizedState||(h.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&we===u.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=Fe),H.props=w,H.state=Fe,H.context=ne,w=pe):(typeof H.componentDidUpdate!="function"||ee===u.memoizedProps&&we===u.memoizedState||(h.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&we===u.memoizedState||(h.flags|=1024),w=!1)}return Jw(u,h,g,w,F,P)}function Jw(u,h,g,w,P,F){YI(u,h);var H=(h.flags&128)!==0;if(!w&&!H)return P&&nI(h,g,!1),Qa(u,h,F);w=h.stateNode,cW.current=h;var ee=H&&typeof g.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,u!==null&&H?(h.child=fd(h,u.child,null,F),h.child=fd(h,null,ee,F)):zr(u,h,ee,F),h.memoizedState=w.state,P&&nI(h,g,!0),h.child}function JI(u){var h=u.stateNode;h.pendingContext?eI(u,h.pendingContext,h.pendingContext!==h.context):h.context&&eI(u,h.context,!1),Ow(u,h.containerInfo)}function ZI(u,h,g,w,P){return dd(),Pw(P),h.flags|=256,zr(u,h,g,w),h.child}var Zw={dehydrated:null,treeContext:null,retryLane:0};function e1(u){return{baseLanes:u,cachePool:null,transitions:null}}function ej(u,h,g){var w=h.pendingProps,P=gn.current,F=!1,H=(h.flags&128)!==0,ee;if((ee=H)||(ee=u!==null&&u.memoizedState===null?!1:(P&2)!==0),ee?(F=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(P|=1),Jt(gn,P&1),u===null)return Nw(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(H=w.children,u=w.fallback,F?(w=h.mode,F=h.child,H={mode:"hidden",children:H},(w&1)===0&&F!==null?(F.childLanes=0,F.pendingProps=H):F=by(H,w,0,null),u=Pc(u,w,g,null),F.return=h,u.return=h,F.sibling=u,h.child=F,h.child.memoizedState=e1(g),h.memoizedState=Zw,u):t1(h,H));if(P=u.memoizedState,P!==null&&(ee=P.dehydrated,ee!==null))return uW(u,h,H,w,ee,P,g);if(F){F=w.fallback,H=h.mode,P=u.child,ee=P.sibling;var ne={mode:"hidden",children:w.children};return(H&1)===0&&h.child!==P?(w=h.child,w.childLanes=0,w.pendingProps=ne,h.deletions=null):(w=al(P,ne),w.subtreeFlags=P.subtreeFlags&14680064),ee!==null?F=al(ee,F):(F=Pc(F,H,g,null),F.flags|=2),F.return=h,w.return=h,w.sibling=F,h.child=w,w=F,F=h.child,H=u.child.memoizedState,H=H===null?e1(g):{baseLanes:H.baseLanes|g,cachePool:null,transitions:H.transitions},F.memoizedState=H,F.childLanes=u.childLanes&~g,h.memoizedState=Zw,w}return F=u.child,u=F.sibling,w=al(F,{mode:"visible",children:w.children}),(h.mode&1)===0&&(w.lanes=g),w.return=h,w.sibling=null,u!==null&&(g=h.deletions,g===null?(h.deletions=[u],h.flags|=16):g.push(u)),h.child=w,h.memoizedState=null,w}function t1(u,h){return h=by({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function oy(u,h,g,w){return w!==null&&Pw(w),fd(h,u.child,null,g),u=t1(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function uW(u,h,g,w,P,F,H){if(g)return h.flags&256?(h.flags&=-257,w=Xw(Error(n(422))),oy(u,h,H,w)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(F=w.fallback,P=h.mode,w=by({mode:"visible",children:w.children},P,0,null),F=Pc(F,P,H,null),F.flags|=2,w.return=h,F.return=h,w.sibling=F,h.child=w,(h.mode&1)!==0&&fd(h,u.child,null,H),h.child.memoizedState=e1(H),h.memoizedState=Zw,F);if((h.mode&1)===0)return oy(u,h,H,null);if(P.data==="$!"){if(w=P.nextSibling&&P.nextSibling.dataset,w)var ee=w.dgst;return w=ee,F=Error(n(419)),w=Xw(F,w,void 0),oy(u,h,H,w)}if(ee=(H&u.childLanes)!==0,ri||ee){if(w=Zn,w!==null){switch(H&-H){case 4:P=2;break;case 16:P=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:P=32;break;case 536870912:P=268435456;break;default:P=0}P=(P&(w.suspendedLanes|H))!==0?0:P,P!==0&&P!==F.retryLane&&(F.retryLane=P,Xa(u,P),vs(w,u,P,-1))}return y1(),w=Xw(Error(n(421))),oy(u,h,H,w)}return P.data==="$?"?(h.flags|=128,h.child=u.child,h=EW.bind(null,u),P._reactRetry=h,null):(u=F.treeContext,Ci=Xo(P.nextSibling),Ei=h,ln=!0,ms=null,u!==null&&(zi[$i++]=Ka,zi[$i++]=Ga,zi[$i++]=xc,Ka=u.id,Ga=u.overflow,xc=h),h=t1(h,w.children),h.flags|=4096,h)}function tj(u,h,g){u.lanes|=h;var w=u.alternate;w!==null&&(w.lanes|=h),kw(u.return,h,g)}function n1(u,h,g,w,P){var F=u.memoizedState;F===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:P}:(F.isBackwards=h,F.rendering=null,F.renderingStartTime=0,F.last=w,F.tail=g,F.tailMode=P)}function nj(u,h,g){var w=h.pendingProps,P=w.revealOrder,F=w.tail;if(zr(u,h,w.children,g),w=gn.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&tj(u,g,h);else if(u.tag===19)tj(u,g,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}if(Jt(gn,w),(h.mode&1)===0)h.memoizedState=null;else switch(P){case"forwards":for(g=h.child,P=null;g!==null;)u=g.alternate,u!==null&&ey(u)===null&&(P=g),g=g.sibling;g=P,g===null?(P=h.child,h.child=null):(P=g.sibling,g.sibling=null),n1(h,!1,P,g,F);break;case"backwards":for(g=null,P=h.child,h.child=null;P!==null;){if(u=P.alternate,u!==null&&ey(u)===null){h.child=P;break}u=P.sibling,P.sibling=g,g=P,P=u}n1(h,!0,g,null,F);break;case"together":n1(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function ly(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function Qa(u,h,g){if(u!==null&&(h.dependencies=u.dependencies),Cc|=h.lanes,(g&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,g=al(u,u.pendingProps),h.child=g,g.return=h;u.sibling!==null;)u=u.sibling,g=g.sibling=al(u,u.pendingProps),g.return=h;g.sibling=null}return h.child}function dW(u,h,g){switch(h.tag){case 3:JI(h),dd();break;case 5:gI(h);break;case 1:ni(h.type)&&qg(h);break;case 4:Ow(h,h.stateNode.containerInfo);break;case 10:var w=h.type._context,P=h.memoizedProps.value;Jt(Yg,w._currentValue),w._currentValue=P;break;case 13:if(w=h.memoizedState,w!==null)return w.dehydrated!==null?(Jt(gn,gn.current&1),h.flags|=128,null):(g&h.child.childLanes)!==0?ej(u,h,g):(Jt(gn,gn.current&1),u=Qa(u,h,g),u!==null?u.sibling:null);Jt(gn,gn.current&1);break;case 19:if(w=(g&h.childLanes)!==0,(u.flags&128)!==0){if(w)return nj(u,h,g);h.flags|=128}if(P=h.memoizedState,P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),Jt(gn,gn.current),w)break;return null;case 22:case 23:return h.lanes=0,XI(u,h,g)}return Qa(u,h,g)}var rj,r1,ij,sj;rj=function(u,h){for(var g=h.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},r1=function(){},ij=function(u,h,g,w){var P=u.memoizedProps;if(P!==w){u=h.stateNode,_c(sa.current);var F=null;switch(g){case"input":P=je(u,P),w=je(u,w),F=[];break;case"select":P=R({},P,{value:void 0}),w=R({},w,{value:void 0}),F=[];break;case"textarea":P=Ie(u,P),w=Ie(u,w),F=[];break;default:typeof P.onClick!="function"&&typeof w.onClick=="function"&&(u.onclick=zg)}In(g,w);var H;g=null;for(pe in P)if(!w.hasOwnProperty(pe)&&P.hasOwnProperty(pe)&&P[pe]!=null)if(pe==="style"){var ee=P[pe];for(H in ee)ee.hasOwnProperty(H)&&(g||(g={}),g[H]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(i.hasOwnProperty(pe)?F||(F=[]):(F=F||[]).push(pe,null));for(pe in w){var ne=w[pe];if(ee=P?.[pe],w.hasOwnProperty(pe)&&ne!==ee&&(ne!=null||ee!=null))if(pe==="style")if(ee){for(H in ee)!ee.hasOwnProperty(H)||ne&&ne.hasOwnProperty(H)||(g||(g={}),g[H]="");for(H in ne)ne.hasOwnProperty(H)&&ee[H]!==ne[H]&&(g||(g={}),g[H]=ne[H])}else g||(F||(F=[]),F.push(pe,g)),g=ne;else pe==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ee=ee?ee.__html:void 0,ne!=null&&ee!==ne&&(F=F||[]).push(pe,ne)):pe==="children"?typeof ne!="string"&&typeof ne!="number"||(F=F||[]).push(pe,""+ne):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(pe)?(ne!=null&&pe==="onScroll"&&sn("scroll",u),F||ee===ne||(F=[])):(F=F||[]).push(pe,ne))}g&&(F=F||[]).push("style",g);var pe=F;(h.updateQueue=pe)&&(h.flags|=4)}},sj=function(u,h,g,w){g!==w&&(h.flags|=4)};function Bh(u,h){if(!ln)switch(u.tailMode){case"hidden":h=u.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function kr(u){var h=u.alternate!==null&&u.alternate.child===u.child,g=0,w=0;if(h)for(var P=u.child;P!==null;)g|=P.lanes|P.childLanes,w|=P.subtreeFlags&14680064,w|=P.flags&14680064,P.return=u,P=P.sibling;else for(P=u.child;P!==null;)g|=P.lanes|P.childLanes,w|=P.subtreeFlags,w|=P.flags,P.return=u,P=P.sibling;return u.subtreeFlags|=w,u.childLanes=g,h}function fW(u,h,g){var w=h.pendingProps;switch(Tw(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(h),null;case 1:return ni(h.type)&&Ug(),kr(h),null;case 3:return w=h.stateNode,pd(),an(ti),an(Ir),Vw(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(u===null||u.child===null)&&(Gg(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,ms!==null&&(m1(ms),ms=null))),r1(u,h),kr(h),null;case 5:Mw(h);var P=_c(Oh.current);if(g=h.type,u!==null&&h.stateNode!=null)ij(u,h,g,w,P),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(n(166));return kr(h),null}if(u=_c(sa.current),Gg(h)){w=h.stateNode,g=h.type;var F=h.memoizedProps;switch(w[ia]=h,w[Ih]=F,u=(h.mode&1)!==0,g){case"dialog":sn("cancel",w),sn("close",w);break;case"iframe":case"object":case"embed":sn("load",w);break;case"video":case"audio":for(P=0;P<Nh.length;P++)sn(Nh[P],w);break;case"source":sn("error",w);break;case"img":case"image":case"link":sn("error",w),sn("load",w);break;case"details":sn("toggle",w);break;case"input":et(w,F),sn("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!F.multiple},sn("invalid",w);break;case"textarea":Xe(w,F),sn("invalid",w)}In(g,F),P=null;for(var H in F)if(F.hasOwnProperty(H)){var ee=F[H];H==="children"?typeof ee=="string"?w.textContent!==ee&&(F.suppressHydrationWarning!==!0&&Bg(w.textContent,ee,u),P=["children",ee]):typeof ee=="number"&&w.textContent!==""+ee&&(F.suppressHydrationWarning!==!0&&Bg(w.textContent,ee,u),P=["children",""+ee]):i.hasOwnProperty(H)&&ee!=null&&H==="onScroll"&&sn("scroll",w)}switch(g){case"input":Te(w),wt(w,F,!0);break;case"textarea":Te(w),yt(w);break;case"select":case"option":break;default:typeof F.onClick=="function"&&(w.onclick=zg)}w=P,h.updateQueue=w,w!==null&&(h.flags|=4)}else{H=P.nodeType===9?P:P.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=fe(g)),u==="http://www.w3.org/1999/xhtml"?g==="script"?(u=H.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof w.is=="string"?u=H.createElement(g,{is:w.is}):(u=H.createElement(g),g==="select"&&(H=u,w.multiple?H.multiple=!0:w.size&&(H.size=w.size))):u=H.createElementNS(u,g),u[ia]=h,u[Ih]=w,rj(u,h,!1,!1),h.stateNode=u;e:{switch(H=zo(g,w),g){case"dialog":sn("cancel",u),sn("close",u),P=w;break;case"iframe":case"object":case"embed":sn("load",u),P=w;break;case"video":case"audio":for(P=0;P<Nh.length;P++)sn(Nh[P],u);P=w;break;case"source":sn("error",u),P=w;break;case"img":case"image":case"link":sn("error",u),sn("load",u),P=w;break;case"details":sn("toggle",u),P=w;break;case"input":et(u,w),P=je(u,w),sn("invalid",u);break;case"option":P=w;break;case"select":u._wrapperState={wasMultiple:!!w.multiple},P=R({},w,{value:void 0}),sn("invalid",u);break;case"textarea":Xe(u,w),P=Ie(u,w),sn("invalid",u);break;default:P=w}In(g,P),ee=P;for(F in ee)if(ee.hasOwnProperty(F)){var ne=ee[F];F==="style"?pn(u,ne):F==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&zt(u,ne)):F==="children"?typeof ne=="string"?(g!=="textarea"||ne!=="")&&ft(u,ne):typeof ne=="number"&&ft(u,""+ne):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(i.hasOwnProperty(F)?ne!=null&&F==="onScroll"&&sn("scroll",u):ne!=null&&M(u,F,ne,H))}switch(g){case"input":Te(u),wt(u,w,!1);break;case"textarea":Te(u),yt(u);break;case"option":w.value!=null&&u.setAttribute("value",""+xe(w.value));break;case"select":u.multiple=!!w.multiple,F=w.value,F!=null?oe(u,!!w.multiple,F,!1):w.defaultValue!=null&&oe(u,!!w.multiple,w.defaultValue,!0);break;default:typeof P.onClick=="function"&&(u.onclick=zg)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return kr(h),null;case 6:if(u&&h.stateNode!=null)sj(u,h,u.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(n(166));if(g=_c(Oh.current),_c(sa.current),Gg(h)){if(w=h.stateNode,g=h.memoizedProps,w[ia]=h,(F=w.nodeValue!==g)&&(u=Ei,u!==null))switch(u.tag){case 3:Bg(w.nodeValue,g,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&Bg(w.nodeValue,g,(u.mode&1)!==0)}F&&(h.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[ia]=h,h.stateNode=w}return kr(h),null;case 13:if(an(gn),w=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(ln&&Ci!==null&&(h.mode&1)!==0&&(h.flags&128)===0)lI(),dd(),h.flags|=98560,F=!1;else if(F=Gg(h),w!==null&&w.dehydrated!==null){if(u===null){if(!F)throw Error(n(318));if(F=h.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(n(317));F[ia]=h}else dd(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;kr(h),F=!1}else ms!==null&&(m1(ms),ms=null),F=!0;if(!F)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=g,h):(w=w!==null,w!==(u!==null&&u.memoizedState!==null)&&w&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(gn.current&1)!==0?qn===0&&(qn=3):y1())),h.updateQueue!==null&&(h.flags|=4),kr(h),null);case 4:return pd(),r1(u,h),u===null&&Ph(h.stateNode.containerInfo),kr(h),null;case 10:return jw(h.type._context),kr(h),null;case 17:return ni(h.type)&&Ug(),kr(h),null;case 19:if(an(gn),F=h.memoizedState,F===null)return kr(h),null;if(w=(h.flags&128)!==0,H=F.rendering,H===null)if(w)Bh(F,!1);else{if(qn!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(H=ey(u),H!==null){for(h.flags|=128,Bh(F,!1),w=H.updateQueue,w!==null&&(h.updateQueue=w,h.flags|=4),h.subtreeFlags=0,w=g,g=h.child;g!==null;)F=g,u=w,F.flags&=14680066,H=F.alternate,H===null?(F.childLanes=0,F.lanes=u,F.child=null,F.subtreeFlags=0,F.memoizedProps=null,F.memoizedState=null,F.updateQueue=null,F.dependencies=null,F.stateNode=null):(F.childLanes=H.childLanes,F.lanes=H.lanes,F.child=H.child,F.subtreeFlags=0,F.deletions=null,F.memoizedProps=H.memoizedProps,F.memoizedState=H.memoizedState,F.updateQueue=H.updateQueue,F.type=H.type,u=H.dependencies,F.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),g=g.sibling;return Jt(gn,gn.current&1|2),h.child}u=u.sibling}F.tail!==null&&rn()>xd&&(h.flags|=128,w=!0,Bh(F,!1),h.lanes=4194304)}else{if(!w)if(u=ey(H),u!==null){if(h.flags|=128,w=!0,g=u.updateQueue,g!==null&&(h.updateQueue=g,h.flags|=4),Bh(F,!0),F.tail===null&&F.tailMode==="hidden"&&!H.alternate&&!ln)return kr(h),null}else 2*rn()-F.renderingStartTime>xd&&g!==1073741824&&(h.flags|=128,w=!0,Bh(F,!1),h.lanes=4194304);F.isBackwards?(H.sibling=h.child,h.child=H):(g=F.last,g!==null?g.sibling=H:h.child=H,F.last=H)}return F.tail!==null?(h=F.tail,F.rendering=h,F.tail=h.sibling,F.renderingStartTime=rn(),h.sibling=null,g=gn.current,Jt(gn,w?g&1|2:g&1),h):(kr(h),null);case 22:case 23:return g1(),w=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==w&&(h.flags|=8192),w&&(h.mode&1)!==0?(Ti&1073741824)!==0&&(kr(h),h.subtreeFlags&6&&(h.flags|=8192)):kr(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function hW(u,h){switch(Tw(h),h.tag){case 1:return ni(h.type)&&Ug(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return pd(),an(ti),an(Ir),Vw(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return Mw(h),null;case 13:if(an(gn),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));dd()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return an(gn),null;case 4:return pd(),null;case 10:return jw(h.type._context),null;case 22:case 23:return g1(),null;case 24:return null;default:return null}}var cy=!1,Rr=!1,mW=typeof WeakSet=="function"?WeakSet:Set,Le=null;function yd(u,h){var g=u.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){Cn(u,h,w)}else g.current=null}function i1(u,h,g){try{g()}catch(w){Cn(u,h,w)}}var aj=!1;function pW(u,h){if(gw=$a,u=V2(),lw(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var P=w.anchorOffset,F=w.focusNode;w=w.focusOffset;try{g.nodeType,F.nodeType}catch{g=null;break e}var H=0,ee=-1,ne=-1,pe=0,Ee=0,Se=u,we=null;t:for(;;){for(var Oe;Se!==g||P!==0&&Se.nodeType!==3||(ee=H+P),Se!==F||w!==0&&Se.nodeType!==3||(ne=H+w),Se.nodeType===3&&(H+=Se.nodeValue.length),(Oe=Se.firstChild)!==null;)we=Se,Se=Oe;for(;;){if(Se===u)break t;if(we===g&&++pe===P&&(ee=H),we===F&&++Ee===w&&(ne=H),(Oe=Se.nextSibling)!==null)break;Se=we,we=Se.parentNode}Se=Oe}g=ee===-1||ne===-1?null:{start:ee,end:ne}}else g=null}g=g||{start:0,end:0}}else g=null;for(yw={focusedElem:u,selectionRange:g},$a=!1,Le=h;Le!==null;)if(h=Le,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Le=u;else for(;Le!==null;){h=Le;try{var Fe=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var qe=Fe.memoizedProps,kn=Fe.memoizedState,ce=h.stateNode,ie=ce.getSnapshotBeforeUpdate(h.elementType===h.type?qe:ps(h.type,qe),kn);ce.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var de=h.stateNode.containerInfo;de.nodeType===1?de.textContent="":de.nodeType===9&&de.documentElement&&de.removeChild(de.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Pe){Cn(h,h.return,Pe)}if(u=h.sibling,u!==null){u.return=h.return,Le=u;break}Le=h.return}return Fe=aj,aj=!1,Fe}function zh(u,h,g){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var P=w=w.next;do{if((P.tag&u)===u){var F=P.destroy;P.destroy=void 0,F!==void 0&&i1(h,g,F)}P=P.next}while(P!==w)}}function uy(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&u)===u){var w=g.create;g.destroy=w()}g=g.next}while(g!==h)}}function s1(u){var h=u.ref;if(h!==null){var g=u.stateNode;u.tag,u=g,typeof h=="function"?h(u):h.current=u}}function oj(u){var h=u.alternate;h!==null&&(u.alternate=null,oj(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[ia],delete h[Ih],delete h[ww],delete h[QH],delete h[JH])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function lj(u){return u.tag===5||u.tag===3||u.tag===4}function cj(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||lj(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function a1(u,h,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(u,h):g.insertBefore(u,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(u,g)):(h=g,h.appendChild(u)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=zg));else if(w!==4&&(u=u.child,u!==null))for(a1(u,h,g),u=u.sibling;u!==null;)a1(u,h,g),u=u.sibling}function o1(u,h,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?g.insertBefore(u,h):g.appendChild(u);else if(w!==4&&(u=u.child,u!==null))for(o1(u,h,g),u=u.sibling;u!==null;)o1(u,h,g),u=u.sibling}var hr=null,gs=!1;function tl(u,h,g){for(g=g.child;g!==null;)uj(u,h,g),g=g.sibling}function uj(u,h,g){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(lc,g)}catch{}switch(g.tag){case 5:Rr||yd(g,h);case 6:var w=hr,P=gs;hr=null,tl(u,h,g),hr=w,gs=P,hr!==null&&(gs?(u=hr,g=g.stateNode,u.nodeType===8?u.parentNode.removeChild(g):u.removeChild(g)):hr.removeChild(g.stateNode));break;case 18:hr!==null&&(gs?(u=hr,g=g.stateNode,u.nodeType===8?bw(u.parentNode,g):u.nodeType===1&&bw(u,g),Ho(u)):bw(hr,g.stateNode));break;case 4:w=hr,P=gs,hr=g.stateNode.containerInfo,gs=!0,tl(u,h,g),hr=w,gs=P;break;case 0:case 11:case 14:case 15:if(!Rr&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){P=w=w.next;do{var F=P,H=F.destroy;F=F.tag,H!==void 0&&((F&2)!==0||(F&4)!==0)&&i1(g,h,H),P=P.next}while(P!==w)}tl(u,h,g);break;case 1:if(!Rr&&(yd(g,h),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(ee){Cn(g,h,ee)}tl(u,h,g);break;case 21:tl(u,h,g);break;case 22:g.mode&1?(Rr=(w=Rr)||g.memoizedState!==null,tl(u,h,g),Rr=w):tl(u,h,g);break;default:tl(u,h,g)}}function dj(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new mW),h.forEach(function(w){var P=CW.bind(null,u,w);g.has(w)||(g.add(w),w.then(P,P))})}}function ys(u,h){var g=h.deletions;if(g!==null)for(var w=0;w<g.length;w++){var P=g[w];try{var F=u,H=h,ee=H;e:for(;ee!==null;){switch(ee.tag){case 5:hr=ee.stateNode,gs=!1;break e;case 3:hr=ee.stateNode.containerInfo,gs=!0;break e;case 4:hr=ee.stateNode.containerInfo,gs=!0;break e}ee=ee.return}if(hr===null)throw Error(n(160));uj(F,H,P),hr=null,gs=!1;var ne=P.alternate;ne!==null&&(ne.return=null),P.return=null}catch(pe){Cn(P,h,pe)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)fj(h,u),h=h.sibling}function fj(u,h){var g=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(ys(h,u),oa(u),w&4){try{zh(3,u,u.return),uy(3,u)}catch(qe){Cn(u,u.return,qe)}try{zh(5,u,u.return)}catch(qe){Cn(u,u.return,qe)}}break;case 1:ys(h,u),oa(u),w&512&&g!==null&&yd(g,g.return);break;case 5:if(ys(h,u),oa(u),w&512&&g!==null&&yd(g,g.return),u.flags&32){var P=u.stateNode;try{ft(P,"")}catch(qe){Cn(u,u.return,qe)}}if(w&4&&(P=u.stateNode,P!=null)){var F=u.memoizedProps,H=g!==null?g.memoizedProps:F,ee=u.type,ne=u.updateQueue;if(u.updateQueue=null,ne!==null)try{ee==="input"&&F.type==="radio"&&F.name!=null&&Qe(P,F),zo(ee,H);var pe=zo(ee,F);for(H=0;H<ne.length;H+=2){var Ee=ne[H],Se=ne[H+1];Ee==="style"?pn(P,Se):Ee==="dangerouslySetInnerHTML"?zt(P,Se):Ee==="children"?ft(P,Se):M(P,Ee,Se,pe)}switch(ee){case"input":We(P,F);break;case"textarea":gt(P,F);break;case"select":var we=P._wrapperState.wasMultiple;P._wrapperState.wasMultiple=!!F.multiple;var Oe=F.value;Oe!=null?oe(P,!!F.multiple,Oe,!1):we!==!!F.multiple&&(F.defaultValue!=null?oe(P,!!F.multiple,F.defaultValue,!0):oe(P,!!F.multiple,F.multiple?[]:"",!1))}P[Ih]=F}catch(qe){Cn(u,u.return,qe)}}break;case 6:if(ys(h,u),oa(u),w&4){if(u.stateNode===null)throw Error(n(162));P=u.stateNode,F=u.memoizedProps;try{P.nodeValue=F}catch(qe){Cn(u,u.return,qe)}}break;case 3:if(ys(h,u),oa(u),w&4&&g!==null&&g.memoizedState.isDehydrated)try{Ho(h.containerInfo)}catch(qe){Cn(u,u.return,qe)}break;case 4:ys(h,u),oa(u);break;case 13:ys(h,u),oa(u),P=u.child,P.flags&8192&&(F=P.memoizedState!==null,P.stateNode.isHidden=F,!F||P.alternate!==null&&P.alternate.memoizedState!==null||(u1=rn())),w&4&&dj(u);break;case 22:if(Ee=g!==null&&g.memoizedState!==null,u.mode&1?(Rr=(pe=Rr)||Ee,ys(h,u),Rr=pe):ys(h,u),oa(u),w&8192){if(pe=u.memoizedState!==null,(u.stateNode.isHidden=pe)&&!Ee&&(u.mode&1)!==0)for(Le=u,Ee=u.child;Ee!==null;){for(Se=Le=Ee;Le!==null;){switch(we=Le,Oe=we.child,we.tag){case 0:case 11:case 14:case 15:zh(4,we,we.return);break;case 1:yd(we,we.return);var Fe=we.stateNode;if(typeof Fe.componentWillUnmount=="function"){w=we,g=we.return;try{h=w,Fe.props=h.memoizedProps,Fe.state=h.memoizedState,Fe.componentWillUnmount()}catch(qe){Cn(w,g,qe)}}break;case 5:yd(we,we.return);break;case 22:if(we.memoizedState!==null){pj(Se);continue}}Oe!==null?(Oe.return=we,Le=Oe):pj(Se)}Ee=Ee.sibling}e:for(Ee=null,Se=u;;){if(Se.tag===5){if(Ee===null){Ee=Se;try{P=Se.stateNode,pe?(F=P.style,typeof F.setProperty=="function"?F.setProperty("display","none","important"):F.display="none"):(ee=Se.stateNode,ne=Se.memoizedProps.style,H=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,ee.style.display=ur("display",H))}catch(qe){Cn(u,u.return,qe)}}}else if(Se.tag===6){if(Ee===null)try{Se.stateNode.nodeValue=pe?"":Se.memoizedProps}catch(qe){Cn(u,u.return,qe)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===u)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===u)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===u)break e;Ee===Se&&(Ee=null),Se=Se.return}Ee===Se&&(Ee=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:ys(h,u),oa(u),w&4&&dj(u);break;case 21:break;default:ys(h,u),oa(u)}}function oa(u){var h=u.flags;if(h&2){try{e:{for(var g=u.return;g!==null;){if(lj(g)){var w=g;break e}g=g.return}throw Error(n(160))}switch(w.tag){case 5:var P=w.stateNode;w.flags&32&&(ft(P,""),w.flags&=-33);var F=cj(u);o1(u,F,P);break;case 3:case 4:var H=w.stateNode.containerInfo,ee=cj(u);a1(u,ee,H);break;default:throw Error(n(161))}}catch(ne){Cn(u,u.return,ne)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function gW(u,h,g){Le=u,hj(u)}function hj(u,h,g){for(var w=(u.mode&1)!==0;Le!==null;){var P=Le,F=P.child;if(P.tag===22&&w){var H=P.memoizedState!==null||cy;if(!H){var ee=P.alternate,ne=ee!==null&&ee.memoizedState!==null||Rr;ee=cy;var pe=Rr;if(cy=H,(Rr=ne)&&!pe)for(Le=P;Le!==null;)H=Le,ne=H.child,H.tag===22&&H.memoizedState!==null?gj(P):ne!==null?(ne.return=H,Le=ne):gj(P);for(;F!==null;)Le=F,hj(F),F=F.sibling;Le=P,cy=ee,Rr=pe}mj(u)}else(P.subtreeFlags&8772)!==0&&F!==null?(F.return=P,Le=F):mj(u)}}function mj(u){for(;Le!==null;){var h=Le;if((h.flags&8772)!==0){var g=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Rr||uy(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!Rr)if(g===null)w.componentDidMount();else{var P=h.elementType===h.type?g.memoizedProps:ps(h.type,g.memoizedProps);w.componentDidUpdate(P,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var F=h.updateQueue;F!==null&&pI(h,F,w);break;case 3:var H=h.updateQueue;if(H!==null){if(g=null,h.child!==null)switch(h.child.tag){case 5:g=h.child.stateNode;break;case 1:g=h.child.stateNode}pI(h,H,g)}break;case 5:var ee=h.stateNode;if(g===null&&h.flags&4){g=ee;var ne=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&g.focus();break;case"img":ne.src&&(g.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var pe=h.alternate;if(pe!==null){var Ee=pe.memoizedState;if(Ee!==null){var Se=Ee.dehydrated;Se!==null&&Ho(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Rr||h.flags&512&&s1(h)}catch(we){Cn(h,h.return,we)}}if(h===u){Le=null;break}if(g=h.sibling,g!==null){g.return=h.return,Le=g;break}Le=h.return}}function pj(u){for(;Le!==null;){var h=Le;if(h===u){Le=null;break}var g=h.sibling;if(g!==null){g.return=h.return,Le=g;break}Le=h.return}}function gj(u){for(;Le!==null;){var h=Le;try{switch(h.tag){case 0:case 11:case 15:var g=h.return;try{uy(4,h)}catch(ne){Cn(h,g,ne)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var P=h.return;try{w.componentDidMount()}catch(ne){Cn(h,P,ne)}}var F=h.return;try{s1(h)}catch(ne){Cn(h,F,ne)}break;case 5:var H=h.return;try{s1(h)}catch(ne){Cn(h,H,ne)}}}catch(ne){Cn(h,h.return,ne)}if(h===u){Le=null;break}var ee=h.sibling;if(ee!==null){ee.return=h.return,Le=ee;break}Le=h.return}}var yW=Math.ceil,dy=z.ReactCurrentDispatcher,l1=z.ReactCurrentOwner,Hi=z.ReactCurrentBatchConfig,kt=0,Zn=null,Ln=null,mr=0,Ti=0,vd=Yo(0),qn=0,$h=null,Cc=0,fy=0,c1=0,Uh=null,ii=null,u1=0,xd=1/0,Ja=null,hy=!1,d1=null,nl=null,my=!1,rl=null,py=0,qh=0,f1=null,gy=-1,yy=0;function $r(){return(kt&6)!==0?rn():gy!==-1?gy:gy=rn()}function il(u){return(u.mode&1)===0?1:(kt&2)!==0&&mr!==0?mr&-mr:eW.transition!==null?(yy===0&&(yy=dh()),yy):(u=Pt,u!==0||(u=window.event,u=u===void 0?16:Gu(u.type)),u)}function vs(u,h,g,w){if(50<qh)throw qh=0,f1=null,Error(n(185));fc(u,g,w),((kt&2)===0||u!==Zn)&&(u===Zn&&((kt&2)===0&&(fy|=g),qn===4&&sl(u,mr)),si(u,w),g===1&&kt===0&&(h.mode&1)===0&&(xd=rn()+500,Hg&&Jo()))}function si(u,h){var g=u.callbackNode;dc(u,h);var w=Fa(u,u===Zn?mr:0);if(w===0)g!==null&&zu(g),u.callbackNode=null,u.callbackPriority=0;else if(h=w&-w,u.callbackPriority!==h){if(g!=null&&zu(g),h===1)u.tag===0?ZH(vj.bind(null,u)):rI(vj.bind(null,u)),XH(function(){(kt&6)===0&&Jo()}),g=null;else{switch(Gs(w)){case 1:g=$u;break;case 4:g=lh;break;case 16:g=oc;break;case 536870912:g=Uu;break;default:g=oc}g=Sj(g,yj.bind(null,u))}u.callbackPriority=h,u.callbackNode=g}}function yj(u,h){if(gy=-1,yy=0,(kt&6)!==0)throw Error(n(327));var g=u.callbackNode;if(bd()&&u.callbackNode!==g)return null;var w=Fa(u,u===Zn?mr:0);if(w===0)return null;if((w&30)!==0||(w&u.expiredLanes)!==0||h)h=vy(u,w);else{h=w;var P=kt;kt|=2;var F=bj();(Zn!==u||mr!==h)&&(Ja=null,xd=rn()+500,Sc(u,h));do try{bW();break}catch(ee){xj(u,ee)}while(!0);Iw(),dy.current=F,kt=P,Ln!==null?h=0:(Zn=null,mr=0,h=qn)}if(h!==0){if(h===2&&(P=uh(u),P!==0&&(w=P,h=h1(u,P))),h===1)throw g=$h,Sc(u,0),sl(u,w),si(u,rn()),g;if(h===6)sl(u,w);else{if(P=u.current.alternate,(w&30)===0&&!vW(P)&&(h=vy(u,w),h===2&&(F=uh(u),F!==0&&(w=F,h=h1(u,F))),h===1))throw g=$h,Sc(u,0),sl(u,w),si(u,rn()),g;switch(u.finishedWork=P,u.finishedLanes=w,h){case 0:case 1:throw Error(n(345));case 2:Nc(u,ii,Ja);break;case 3:if(sl(u,w),(w&130023424)===w&&(h=u1+500-rn(),10<h)){if(Fa(u,0)!==0)break;if(P=u.suspendedLanes,(P&w)!==w){$r(),u.pingedLanes|=u.suspendedLanes&P;break}u.timeoutHandle=xw(Nc.bind(null,u,ii,Ja),h);break}Nc(u,ii,Ja);break;case 4:if(sl(u,w),(w&4194240)===w)break;for(h=u.eventTimes,P=-1;0<w;){var H=31-vi(w);F=1<<H,H=h[H],H>P&&(P=H),w&=~F}if(w=P,w=rn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*yW(w/1960))-w,10<w){u.timeoutHandle=xw(Nc.bind(null,u,ii,Ja),w);break}Nc(u,ii,Ja);break;case 5:Nc(u,ii,Ja);break;default:throw Error(n(329))}}}return si(u,rn()),u.callbackNode===g?yj.bind(null,u):null}function h1(u,h){var g=Uh;return u.current.memoizedState.isDehydrated&&(Sc(u,h).flags|=256),u=vy(u,h),u!==2&&(h=ii,ii=g,h!==null&&m1(h)),u}function m1(u){ii===null?ii=u:ii.push.apply(ii,u)}function vW(u){for(var h=u;;){if(h.flags&16384){var g=h.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var P=g[w],F=P.getSnapshot;P=P.value;try{if(!hs(F(),P))return!1}catch{return!1}}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function sl(u,h){for(h&=~c1,h&=~fy,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var g=31-vi(h),w=1<<g;u[g]=-1,h&=~w}}function vj(u){if((kt&6)!==0)throw Error(n(327));bd();var h=Fa(u,0);if((h&1)===0)return si(u,rn()),null;var g=vy(u,h);if(u.tag!==0&&g===2){var w=uh(u);w!==0&&(h=w,g=h1(u,w))}if(g===1)throw g=$h,Sc(u,0),sl(u,h),si(u,rn()),g;if(g===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,Nc(u,ii,Ja),si(u,rn()),null}function p1(u,h){var g=kt;kt|=1;try{return u(h)}finally{kt=g,kt===0&&(xd=rn()+500,Hg&&Jo())}}function Tc(u){rl!==null&&rl.tag===0&&(kt&6)===0&&bd();var h=kt;kt|=1;var g=Hi.transition,w=Pt;try{if(Hi.transition=null,Pt=1,u)return u()}finally{Pt=w,Hi.transition=g,kt=h,(kt&6)===0&&Jo()}}function g1(){Ti=vd.current,an(vd)}function Sc(u,h){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==-1&&(u.timeoutHandle=-1,GH(g)),Ln!==null)for(g=Ln.return;g!==null;){var w=g;switch(Tw(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&Ug();break;case 3:pd(),an(ti),an(Ir),Vw();break;case 5:Mw(w);break;case 4:pd();break;case 13:an(gn);break;case 19:an(gn);break;case 10:jw(w.type._context);break;case 22:case 23:g1()}g=g.return}if(Zn=u,Ln=u=al(u.current,null),mr=Ti=h,qn=0,$h=null,c1=fy=Cc=0,ii=Uh=null,wc!==null){for(h=0;h<wc.length;h++)if(g=wc[h],w=g.interleaved,w!==null){g.interleaved=null;var P=w.next,F=g.pending;if(F!==null){var H=F.next;F.next=P,w.next=H}g.pending=w}wc=null}return u}function xj(u,h){do{var g=Ln;try{if(Iw(),ty.current=sy,ny){for(var w=yn.memoizedState;w!==null;){var P=w.queue;P!==null&&(P.pending=null),w=w.next}ny=!1}if(Ec=0,Jn=Un=yn=null,Mh=!1,Lh=0,l1.current=null,g===null||g.return===null){qn=1,$h=h,Ln=null;break}e:{var F=u,H=g.return,ee=g,ne=h;if(h=mr,ee.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var pe=ne,Ee=ee,Se=Ee.tag;if((Ee.mode&1)===0&&(Se===0||Se===11||Se===15)){var we=Ee.alternate;we?(Ee.updateQueue=we.updateQueue,Ee.memoizedState=we.memoizedState,Ee.lanes=we.lanes):(Ee.updateQueue=null,Ee.memoizedState=null)}var Oe=qI(H);if(Oe!==null){Oe.flags&=-257,HI(Oe,H,ee,F,h),Oe.mode&1&&UI(F,pe,h),h=Oe,ne=pe;var Fe=h.updateQueue;if(Fe===null){var qe=new Set;qe.add(ne),h.updateQueue=qe}else Fe.add(ne);break e}else{if((h&1)===0){UI(F,pe,h),y1();break e}ne=Error(n(426))}}else if(ln&&ee.mode&1){var kn=qI(H);if(kn!==null){(kn.flags&65536)===0&&(kn.flags|=256),HI(kn,H,ee,F,h),Pw(gd(ne,ee));break e}}F=ne=gd(ne,ee),qn!==4&&(qn=2),Uh===null?Uh=[F]:Uh.push(F),F=H;do{switch(F.tag){case 3:F.flags|=65536,h&=-h,F.lanes|=h;var ce=zI(F,ne,h);mI(F,ce);break e;case 1:ee=ne;var ie=F.type,de=F.stateNode;if((F.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||de!==null&&typeof de.componentDidCatch=="function"&&(nl===null||!nl.has(de)))){F.flags|=65536,h&=-h,F.lanes|=h;var Pe=$I(F,ee,h);mI(F,Pe);break e}}F=F.return}while(F!==null)}_j(g)}catch(Ke){h=Ke,Ln===g&&g!==null&&(Ln=g=g.return);continue}break}while(!0)}function bj(){var u=dy.current;return dy.current=sy,u===null?sy:u}function y1(){(qn===0||qn===3||qn===2)&&(qn=4),Zn===null||(Cc&268435455)===0&&(fy&268435455)===0||sl(Zn,mr)}function vy(u,h){var g=kt;kt|=2;var w=bj();(Zn!==u||mr!==h)&&(Ja=null,Sc(u,h));do try{xW();break}catch(P){xj(u,P)}while(!0);if(Iw(),kt=g,dy.current=w,Ln!==null)throw Error(n(261));return Zn=null,mr=0,qn}function xW(){for(;Ln!==null;)wj(Ln)}function bW(){for(;Ln!==null&&!ac();)wj(Ln)}function wj(u){var h=Tj(u.alternate,u,Ti);u.memoizedProps=u.pendingProps,h===null?_j(u):Ln=h,l1.current=null}function _j(u){var h=u;do{var g=h.alternate;if(u=h.return,(h.flags&32768)===0){if(g=fW(g,h,Ti),g!==null){Ln=g;return}}else{if(g=hW(g,h),g!==null){g.flags&=32767,Ln=g;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{qn=6,Ln=null;return}}if(h=h.sibling,h!==null){Ln=h;return}Ln=h=u}while(h!==null);qn===0&&(qn=5)}function Nc(u,h,g){var w=Pt,P=Hi.transition;try{Hi.transition=null,Pt=1,wW(u,h,g,w)}finally{Hi.transition=P,Pt=w}return null}function wW(u,h,g,w){do bd();while(rl!==null);if((kt&6)!==0)throw Error(n(327));g=u.finishedWork;var P=u.finishedLanes;if(g===null)return null;if(u.finishedWork=null,u.finishedLanes=0,g===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var F=g.lanes|g.childLanes;if(rw(u,F),u===Zn&&(Ln=Zn=null,mr=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||my||(my=!0,Sj(oc,function(){return bd(),null})),F=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||F){F=Hi.transition,Hi.transition=null;var H=Pt;Pt=1;var ee=kt;kt|=4,l1.current=null,pW(u,g),fj(g,u),zH(yw),$a=!!gw,yw=gw=null,u.current=g,gW(g),Va(),kt=ee,Pt=H,Hi.transition=F}else u.current=g;if(my&&(my=!1,rl=u,py=P),F=u.pendingLanes,F===0&&(nl=null),Tg(g.stateNode),si(u,rn()),h!==null)for(w=u.onRecoverableError,g=0;g<h.length;g++)P=h[g],w(P.value,{componentStack:P.stack,digest:P.digest});if(hy)throw hy=!1,u=d1,d1=null,u;return(py&1)!==0&&u.tag!==0&&bd(),F=u.pendingLanes,(F&1)!==0?u===f1?qh++:(qh=0,f1=u):qh=0,Jo(),null}function bd(){if(rl!==null){var u=Gs(py),h=Hi.transition,g=Pt;try{if(Hi.transition=null,Pt=16>u?16:u,rl===null)var w=!1;else{if(u=rl,rl=null,py=0,(kt&6)!==0)throw Error(n(331));var P=kt;for(kt|=4,Le=u.current;Le!==null;){var F=Le,H=F.child;if((Le.flags&16)!==0){var ee=F.deletions;if(ee!==null){for(var ne=0;ne<ee.length;ne++){var pe=ee[ne];for(Le=pe;Le!==null;){var Ee=Le;switch(Ee.tag){case 0:case 11:case 15:zh(8,Ee,F)}var Se=Ee.child;if(Se!==null)Se.return=Ee,Le=Se;else for(;Le!==null;){Ee=Le;var we=Ee.sibling,Oe=Ee.return;if(oj(Ee),Ee===pe){Le=null;break}if(we!==null){we.return=Oe,Le=we;break}Le=Oe}}}var Fe=F.alternate;if(Fe!==null){var qe=Fe.child;if(qe!==null){Fe.child=null;do{var kn=qe.sibling;qe.sibling=null,qe=kn}while(qe!==null)}}Le=F}}if((F.subtreeFlags&2064)!==0&&H!==null)H.return=F,Le=H;else e:for(;Le!==null;){if(F=Le,(F.flags&2048)!==0)switch(F.tag){case 0:case 11:case 15:zh(9,F,F.return)}var ce=F.sibling;if(ce!==null){ce.return=F.return,Le=ce;break e}Le=F.return}}var ie=u.current;for(Le=ie;Le!==null;){H=Le;var de=H.child;if((H.subtreeFlags&2064)!==0&&de!==null)de.return=H,Le=de;else e:for(H=ie;Le!==null;){if(ee=Le,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:uy(9,ee)}}catch(Ke){Cn(ee,ee.return,Ke)}if(ee===H){Le=null;break e}var Pe=ee.sibling;if(Pe!==null){Pe.return=ee.return,Le=Pe;break e}Le=ee.return}}if(kt=P,Jo(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(lc,u)}catch{}w=!0}return w}finally{Pt=g,Hi.transition=h}}return!1}function Ej(u,h,g){h=gd(g,h),h=zI(u,h,1),u=el(u,h,1),h=$r(),u!==null&&(fc(u,1,h),si(u,h))}function Cn(u,h,g){if(u.tag===3)Ej(u,u,g);else for(;h!==null;){if(h.tag===3){Ej(h,u,g);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(nl===null||!nl.has(w))){u=gd(g,u),u=$I(h,u,1),h=el(h,u,1),u=$r(),h!==null&&(fc(h,1,u),si(h,u));break}}h=h.return}}function _W(u,h,g){var w=u.pingCache;w!==null&&w.delete(h),h=$r(),u.pingedLanes|=u.suspendedLanes&g,Zn===u&&(mr&g)===g&&(qn===4||qn===3&&(mr&130023424)===mr&&500>rn()-u1?Sc(u,0):c1|=g),si(u,h)}function Cj(u,h){h===0&&((u.mode&1)===0?h=1:(h=$o,$o<<=1,($o&130023424)===0&&($o=4194304)));var g=$r();u=Xa(u,h),u!==null&&(fc(u,h,g),si(u,g))}function EW(u){var h=u.memoizedState,g=0;h!==null&&(g=h.retryLane),Cj(u,g)}function CW(u,h){var g=0;switch(u.tag){case 13:var w=u.stateNode,P=u.memoizedState;P!==null&&(g=P.retryLane);break;case 19:w=u.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(h),Cj(u,g)}var Tj;Tj=function(u,h,g){if(u!==null)if(u.memoizedProps!==h.pendingProps||ti.current)ri=!0;else{if((u.lanes&g)===0&&(h.flags&128)===0)return ri=!1,dW(u,h,g);ri=(u.flags&131072)!==0}else ri=!1,ln&&(h.flags&1048576)!==0&&iI(h,Kg,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;ly(u,h),u=h.pendingProps;var P=ld(h,Ir.current);md(h,g),P=zw(null,h,w,u,P,g);var F=$w();return h.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ni(w)?(F=!0,qg(h)):F=!1,h.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,Dw(h),P.updater=ay,h.stateNode=P,P._reactInternals=h,Gw(h,w,u,g),h=Jw(null,h,w,!0,F,g)):(h.tag=0,ln&&F&&Cw(h),zr(null,h,P,g),h=h.child),h;case 16:w=h.elementType;e:{switch(ly(u,h),u=h.pendingProps,P=w._init,w=P(w._payload),h.type=w,P=h.tag=SW(w),u=ps(w,u),P){case 0:h=Qw(null,h,w,u,g);break e;case 1:h=QI(null,h,w,u,g);break e;case 11:h=WI(null,h,w,u,g);break e;case 14:h=KI(null,h,w,ps(w.type,u),g);break e}throw Error(n(306,w,""))}return h;case 0:return w=h.type,P=h.pendingProps,P=h.elementType===w?P:ps(w,P),Qw(u,h,w,P,g);case 1:return w=h.type,P=h.pendingProps,P=h.elementType===w?P:ps(w,P),QI(u,h,w,P,g);case 3:e:{if(JI(h),u===null)throw Error(n(387));w=h.pendingProps,F=h.memoizedState,P=F.element,hI(u,h),Zg(h,w,null,g);var H=h.memoizedState;if(w=H.element,F.isDehydrated)if(F={element:w,isDehydrated:!1,cache:H.cache,pendingSuspenseBoundaries:H.pendingSuspenseBoundaries,transitions:H.transitions},h.updateQueue.baseState=F,h.memoizedState=F,h.flags&256){P=gd(Error(n(423)),h),h=ZI(u,h,w,g,P);break e}else if(w!==P){P=gd(Error(n(424)),h),h=ZI(u,h,w,g,P);break e}else for(Ci=Xo(h.stateNode.containerInfo.firstChild),Ei=h,ln=!0,ms=null,g=dI(h,null,w,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(dd(),w===P){h=Qa(u,h,g);break e}zr(u,h,w,g)}h=h.child}return h;case 5:return gI(h),u===null&&Nw(h),w=h.type,P=h.pendingProps,F=u!==null?u.memoizedProps:null,H=P.children,vw(w,P)?H=null:F!==null&&vw(w,F)&&(h.flags|=32),YI(u,h),zr(u,h,H,g),h.child;case 6:return u===null&&Nw(h),null;case 13:return ej(u,h,g);case 4:return Ow(h,h.stateNode.containerInfo),w=h.pendingProps,u===null?h.child=fd(h,null,w,g):zr(u,h,w,g),h.child;case 11:return w=h.type,P=h.pendingProps,P=h.elementType===w?P:ps(w,P),WI(u,h,w,P,g);case 7:return zr(u,h,h.pendingProps,g),h.child;case 8:return zr(u,h,h.pendingProps.children,g),h.child;case 12:return zr(u,h,h.pendingProps.children,g),h.child;case 10:e:{if(w=h.type._context,P=h.pendingProps,F=h.memoizedProps,H=P.value,Jt(Yg,w._currentValue),w._currentValue=H,F!==null)if(hs(F.value,H)){if(F.children===P.children&&!ti.current){h=Qa(u,h,g);break e}}else for(F=h.child,F!==null&&(F.return=h);F!==null;){var ee=F.dependencies;if(ee!==null){H=F.child;for(var ne=ee.firstContext;ne!==null;){if(ne.context===w){if(F.tag===1){ne=Ya(-1,g&-g),ne.tag=2;var pe=F.updateQueue;if(pe!==null){pe=pe.shared;var Ee=pe.pending;Ee===null?ne.next=ne:(ne.next=Ee.next,Ee.next=ne),pe.pending=ne}}F.lanes|=g,ne=F.alternate,ne!==null&&(ne.lanes|=g),kw(F.return,g,h),ee.lanes|=g;break}ne=ne.next}}else if(F.tag===10)H=F.type===h.type?null:F.child;else if(F.tag===18){if(H=F.return,H===null)throw Error(n(341));H.lanes|=g,ee=H.alternate,ee!==null&&(ee.lanes|=g),kw(H,g,h),H=F.sibling}else H=F.child;if(H!==null)H.return=F;else for(H=F;H!==null;){if(H===h){H=null;break}if(F=H.sibling,F!==null){F.return=H.return,H=F;break}H=H.return}F=H}zr(u,h,P.children,g),h=h.child}return h;case 9:return P=h.type,w=h.pendingProps.children,md(h,g),P=Ui(P),w=w(P),h.flags|=1,zr(u,h,w,g),h.child;case 14:return w=h.type,P=ps(w,h.pendingProps),P=ps(w.type,P),KI(u,h,w,P,g);case 15:return GI(u,h,h.type,h.pendingProps,g);case 17:return w=h.type,P=h.pendingProps,P=h.elementType===w?P:ps(w,P),ly(u,h),h.tag=1,ni(w)?(u=!0,qg(h)):u=!1,md(h,g),FI(h,w,P),Gw(h,w,P,g),Jw(null,h,w,!0,u,g);case 19:return nj(u,h,g);case 22:return XI(u,h,g)}throw Error(n(156,h.tag))};function Sj(u,h){return oh(u,h)}function TW(u,h,g,w){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wi(u,h,g,w){return new TW(u,h,g,w)}function v1(u){return u=u.prototype,!(!u||!u.isReactComponent)}function SW(u){if(typeof u=="function")return v1(u)?1:0;if(u!=null){if(u=u.$$typeof,u===O)return 11;if(u===Y)return 14}return 2}function al(u,h){var g=u.alternate;return g===null?(g=Wi(u.tag,h,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=h,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&14680064,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,h=u.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function xy(u,h,g,w,P,F){var H=2;if(w=u,typeof u=="function")v1(u)&&(H=1);else if(typeof u=="string")H=5;else e:switch(u){case C:return Pc(g.children,P,F,h);case S:H=8,P|=8;break;case D:return u=Wi(12,g,h,P|2),u.elementType=D,u.lanes=F,u;case A:return u=Wi(13,g,h,P),u.elementType=A,u.lanes=F,u;case W:return u=Wi(19,g,h,P),u.elementType=W,u.lanes=F,u;case V:return by(g,P,F,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case N:H=10;break e;case k:H=9;break e;case O:H=11;break e;case Y:H=14;break e;case J:H=16,w=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return h=Wi(H,g,h,P),h.elementType=u,h.type=w,h.lanes=F,h}function Pc(u,h,g,w){return u=Wi(7,u,w,h),u.lanes=g,u}function by(u,h,g,w){return u=Wi(22,u,w,h),u.elementType=V,u.lanes=g,u.stateNode={isHidden:!1},u}function x1(u,h,g){return u=Wi(6,u,null,h),u.lanes=g,u}function b1(u,h,g){return h=Wi(4,u.children!==null?u.children:[],u.key,h),h.lanes=g,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function NW(u,h,g,w,P){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fh(0),this.expirationTimes=fh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fh(0),this.identifierPrefix=w,this.onRecoverableError=P,this.mutableSourceEagerHydrationData=null}function w1(u,h,g,w,P,F,H,ee,ne){return u=new NW(u,h,g,ee,ne),h===1?(h=1,F===!0&&(h|=8)):h=0,F=Wi(3,null,null,h),u.current=F,F.stateNode=u,F.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dw(F),u}function PW(u,h,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:w==null?null:""+w,children:u,containerInfo:h,implementation:g}}function Nj(u){if(!u)return Qo;u=u._reactInternals;e:{if(ds(u)!==u||u.tag!==1)throw Error(n(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ni(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(u.tag===1){var g=u.type;if(ni(g))return tI(u,g,h)}return h}function Pj(u,h,g,w,P,F,H,ee,ne){return u=w1(g,w,!0,u,P,F,H,ee,ne),u.context=Nj(null),g=u.current,w=$r(),P=il(g),F=Ya(w,P),F.callback=h??null,el(g,F,P),u.current.lanes=P,fc(u,P,w),si(u,w),u}function wy(u,h,g,w){var P=h.current,F=$r(),H=il(P);return g=Nj(g),h.context===null?h.context=g:h.pendingContext=g,h=Ya(F,H),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=el(P,h,H),u!==null&&(vs(u,P,H,F),Jg(u,P,H)),H}function _y(u){return u=u.current,u.child?(u.child.tag===5,u.child.stateNode):null}function Aj(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<h?g:h}}function _1(u,h){Aj(u,h),(u=u.alternate)&&Aj(u,h)}function AW(){return null}var Ij=typeof reportError=="function"?reportError:function(u){console.error(u)};function E1(u){this._internalRoot=u}Ey.prototype.render=E1.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));wy(u,h,null,null)},Ey.prototype.unmount=E1.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;Tc(function(){wy(null,u,null,null)}),h[Ha]=null}};function Ey(u){this._internalRoot=u}Ey.prototype.unstable_scheduleHydration=function(u){if(u){var h=gh();u={blockedOn:null,target:u,priority:h};for(var g=0;g<xi.length&&h!==0&&h<xi[g].priority;g++);xi.splice(g,0,u),g===0&&Wu(u)}};function C1(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Cy(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function jj(){}function IW(u,h,g,w,P){if(P){if(typeof w=="function"){var F=w;w=function(){var pe=_y(H);F.call(pe)}}var H=Pj(h,w,u,0,null,!1,!1,"",jj);return u._reactRootContainer=H,u[Ha]=H.current,Ph(u.nodeType===8?u.parentNode:u),Tc(),H}for(;P=u.lastChild;)u.removeChild(P);if(typeof w=="function"){var ee=w;w=function(){var pe=_y(ne);ee.call(pe)}}var ne=w1(u,0,!1,null,null,!1,!1,"",jj);return u._reactRootContainer=ne,u[Ha]=ne.current,Ph(u.nodeType===8?u.parentNode:u),Tc(function(){wy(h,ne,g,w)}),ne}function Ty(u,h,g,w,P){var F=g._reactRootContainer;if(F){var H=F;if(typeof P=="function"){var ee=P;P=function(){var ne=_y(H);ee.call(ne)}}wy(h,H,u,P)}else H=IW(g,h,u,P,w);return _y(H)}mh=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var g=Ft(h.pendingLanes);g!==0&&(hh(h,g|1),si(h,rn()),(kt&6)===0&&(xd=rn()+500,Jo()))}break;case 13:Tc(function(){var w=Xa(u,1);if(w!==null){var P=$r();vs(w,u,1,P)}}),_1(u,1)}},qu=function(u){if(u.tag===13){var h=Xa(u,134217728);if(h!==null){var g=$r();vs(h,u,134217728,g)}_1(u,134217728)}},ph=function(u){if(u.tag===13){var h=il(u),g=Xa(u,h);if(g!==null){var w=$r();vs(g,u,h,w)}_1(u,h)}},gh=function(){return Pt},yh=function(u,h){var g=Pt;try{return Pt=u,h()}finally{Pt=g}},Vi=function(u,h,g){switch(h){case"input":if(We(u,g),h=g.name,g.type==="radio"&&h!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<g.length;h++){var w=g[h];if(w!==u&&w.form===u.form){var P=$g(w);if(!P)throw Error(n(90));me(w),We(w,P)}}}break;case"textarea":gt(u,g);break;case"select":h=g.value,h!=null&&oe(u,!!g.multiple,h,!1)}},jt=p1,$t=Tc;var jW={usingClientEntryPoint:!1,Events:[jh,ad,$g,qs,nt,p1]},Hh={findFiberByHostInstance:yc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kW={bundleType:Hh.bundleType,version:Hh.version,rendererPackageName:Hh.rendererPackageName,rendererConfig:Hh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Cg(u),u===null?null:u.stateNode},findFiberByHostInstance:Hh.findFiberByHostInstance||AW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sy.isDisabled&&Sy.supportsFiber)try{lc=Sy.inject(kW),yi=Sy}catch{}}return ai.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jW,ai.createPortal=function(u,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!C1(h))throw Error(n(200));return PW(u,h,null,g)},ai.createRoot=function(u,h){if(!C1(u))throw Error(n(299));var g=!1,w="",P=Ij;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(P=h.onRecoverableError)),h=w1(u,1,!1,null,null,g,!1,w,P),u[Ha]=h.current,Ph(u.nodeType===8?u.parentNode:u),new E1(h)},ai.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Cg(h),u=u===null?null:u.stateNode,u},ai.flushSync=function(u){return Tc(u)},ai.hydrate=function(u,h,g){if(!Cy(h))throw Error(n(200));return Ty(null,u,h,!0,g)},ai.hydrateRoot=function(u,h,g){if(!C1(u))throw Error(n(405));var w=g!=null&&g.hydratedSources||null,P=!1,F="",H=Ij;if(g!=null&&(g.unstable_strictMode===!0&&(P=!0),g.identifierPrefix!==void 0&&(F=g.identifierPrefix),g.onRecoverableError!==void 0&&(H=g.onRecoverableError)),h=Pj(h,null,u,1,g??null,P,!1,F,H),u[Ha]=h.current,Ph(u),w)for(u=0;u<w.length;u++)g=w[u],P=g._getVersion,P=P(g._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[g,P]:h.mutableSourceEagerHydrationData.push(g,P);return new Ey(h)},ai.render=function(u,h,g){if(!Cy(h))throw Error(n(200));return Ty(null,u,h,!1,g)},ai.unmountComponentAtNode=function(u){if(!Cy(u))throw Error(n(40));return u._reactRootContainer?(Tc(function(){Ty(null,null,u,!1,function(){u._reactRootContainer=null,u[Ha]=null})}),!0):!1},ai.unstable_batchedUpdates=p1,ai.unstable_renderSubtreeIntoContainer=function(u,h,g,w){if(!Cy(g))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return Ty(u,h,g,!1,w)},ai.version="18.3.1-next-f1338f8080-20240426",ai}var Fj;function bV(){if(Fj)return N1.exports;Fj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),N1.exports=$W(),N1.exports}var Bj;function UW(){if(Bj)return Py;Bj=1;var t=bV();return Py.createRoot=t.createRoot,Py.hydrateRoot=t.hydrateRoot,Py}var qW=UW();const HW=di(qW),WW=()=>{};var zj={};const wV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},KW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},_V={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let p=(l&15)<<2|d>>6,y=d&63;c||(y=64,a||(p=64)),r.push(n[f],n[m],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):KW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new GW;const p=s<<2|l>>4;if(r.push(p),d!==64){const y=l<<4&240|d>>2;if(r.push(y),m!==64){const x=d<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XW=function(t){const e=wV(t);return _V.encodeByteArray(e,!0)},Uv=function(t){return XW(t).replace(/\./g,"")},EV=function(t){try{return _V.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const YW=()=>CV().__FIREBASE_DEFAULTS__,QW=()=>{if(typeof process>"u"||typeof zj>"u")return;const t=zj.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&EV(t[1]);return e&&JSON.parse(e)},Ex=()=>{try{return WW()||YW()||QW()||JW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TV=t=>Ex()?.emulatorHosts?.[t],$S=t=>{const e=TV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},SV=()=>Ex()?.config,NV=t=>Ex()?.[`_${t}`];class ZW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function No(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jp(t){return(await fetch(t,{credentials:"include"})).ok}function PV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Uv(JSON.stringify(n)),Uv(JSON.stringify(a)),""].join(".")}const Cm={};function eK(){const t={prod:[],emulator:[]};for(const e of Object.keys(Cm))Cm[e]?t.emulator.push(e):t.prod.push(e);return t}function tK(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let $j=!1;function Cx(t,e){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||Cm[t]===e||Cm[t]||$j)return;Cm[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=eK().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{$j=!0,a()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=tK(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),b=n("learnmore"),_=document.getElementById(b)||document.createElement("a"),T=n("preprendIcon"),L=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const M=p.element;l(M),f(_,b);const z=d();c(L,T),M.append(L,x,_,z),document.body.appendChild(M)}s?(x.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nK(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function AV(){const t=Ex()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rK(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iK(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function sK(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aK(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function IV(){return!AV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jV(){return!AV()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function kV(){try{return typeof indexedDB=="object"}catch{return!1}}function oK(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const lK="FirebaseError";class Ra extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lK,Object.setPrototypeOf(this,Ra.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kp.prototype.create)}}class kp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?cK(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new Ra(i,l,r)}}function cK(t,e){return t.replace(uK,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uK=/\{\$([^}]+)}/g;function dK(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Uj(s)&&Uj(a)){if(!Bl(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Uj(t){return t!==null&&typeof t=="object"}function Rp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fK(t,e){const n=new hK(t,e);return n.subscribe.bind(n)}class hK{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");mK(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=I1),i.error===void 0&&(i.error=I1),i.complete===void 0&&(i.complete=I1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mK(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function I1(){}function Kt(t){return t&&t._delegate?t._delegate:t}class ho{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Rc="[DEFAULT]";let pK=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yK(e))try{this.getOrInitializeService({instanceIdentifier:Rc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Rc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rc){return this.instances.has(e)}getOptions(e=Rc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gK(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rc){return this.component?this.component.multipleInstances?e:Rc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gK(t){return t===Rc?void 0:t}function yK(t){return t.instantiationMode==="EAGER"}class vK{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pK(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ct||(Ct={}));const xK={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},bK=Ct.INFO,wK={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},_K=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=wK[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class US{constructor(e){this.name=e,this._logLevel=bK,this._logHandler=_K,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xK[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...e),this._logHandler(this,Ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...e),this._logHandler(this,Ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...e),this._logHandler(this,Ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...e),this._logHandler(this,Ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...e),this._logHandler(this,Ct.ERROR,...e)}}const EK=(t,e)=>e.some(n=>t instanceof n);let qj,Hj;function CK(){return qj||(qj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TK(){return Hj||(Hj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RV=new WeakMap,DC=new WeakMap,DV=new WeakMap,j1=new WeakMap,qS=new WeakMap;function SK(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Il(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&RV.set(n,t)}).catch(()=>{}),qS.set(e,t),e}function NK(t){if(DC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});DC.set(t,e)}let OC={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return DC.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Il(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function PK(t){OC=t(OC)}function AK(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(k1(this),e,...n);return DV.set(r,e.sort?e.sort():[e]),Il(r)}:TK().includes(t)?function(...e){return t.apply(k1(this),e),Il(RV.get(this))}:function(...e){return Il(t.apply(k1(this),e))}}function IK(t){return typeof t=="function"?AK(t):(t instanceof IDBTransaction&&NK(t),EK(t,CK())?new Proxy(t,OC):t)}function Il(t){if(t instanceof IDBRequest)return SK(t);if(j1.has(t))return j1.get(t);const e=IK(t);return e!==t&&(j1.set(t,e),qS.set(e,t)),e}const k1=t=>qS.get(t);function jK(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Il(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Il(a.result),c.oldVersion,c.newVersion,Il(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const kK=["get","getKey","getAll","getAllKeys","count"],RK=["put","add","delete","clear"],R1=new Map;function Wj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(R1.get(e))return R1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=RK.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kK.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return R1.set(e,s),s}PK(t=>({...t,get:(e,n,r)=>Wj(e,n)||t.get(e,n,r),has:(e,n)=>!!Wj(e,n)||t.has(e,n)}));class DK{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OK(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function OK(t){return t.getComponent()?.type==="VERSION"}const MC="@firebase/app",Kj="0.14.8";const mo=new US("@firebase/app"),MK="@firebase/app-compat",LK="@firebase/analytics-compat",VK="@firebase/analytics",FK="@firebase/app-check-compat",BK="@firebase/app-check",zK="@firebase/auth",$K="@firebase/auth-compat",UK="@firebase/database",qK="@firebase/data-connect",HK="@firebase/database-compat",WK="@firebase/functions",KK="@firebase/functions-compat",GK="@firebase/installations",XK="@firebase/installations-compat",YK="@firebase/messaging",QK="@firebase/messaging-compat",JK="@firebase/performance",ZK="@firebase/performance-compat",eG="@firebase/remote-config",tG="@firebase/remote-config-compat",nG="@firebase/storage",rG="@firebase/storage-compat",iG="@firebase/firestore",sG="@firebase/ai",aG="@firebase/firestore-compat",oG="firebase",lG="12.9.0";const LC="[DEFAULT]",cG={[MC]:"fire-core",[MK]:"fire-core-compat",[VK]:"fire-analytics",[LK]:"fire-analytics-compat",[BK]:"fire-app-check",[FK]:"fire-app-check-compat",[zK]:"fire-auth",[$K]:"fire-auth-compat",[UK]:"fire-rtdb",[qK]:"fire-data-connect",[HK]:"fire-rtdb-compat",[WK]:"fire-fn",[KK]:"fire-fn-compat",[GK]:"fire-iid",[XK]:"fire-iid-compat",[YK]:"fire-fcm",[QK]:"fire-fcm-compat",[JK]:"fire-perf",[ZK]:"fire-perf-compat",[eG]:"fire-rc",[tG]:"fire-rc-compat",[nG]:"fire-gcs",[rG]:"fire-gcs-compat",[iG]:"fire-fst",[aG]:"fire-fst-compat",[sG]:"fire-vertex","fire-js":"fire-js",[oG]:"fire-js-all"};const $m=new Map,uG=new Map,VC=new Map;function Gj(t,e){try{t.container.addComponent(e)}catch(n){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zl(t){const e=t.name;if(VC.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;VC.set(e,t);for(const n of $m.values())Gj(n,t);for(const n of uG.values())Gj(n,t);return!0}function Lf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qr(t){return t==null?!1:t.settings!==void 0}const dG={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jl=new kp("app","Firebase",dG);class fG{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jl.create("app-deleted",{appName:this._name})}}const ju=lG;function OV(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:LC,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw jl.create("bad-app-name",{appName:String(i)});if(n||(n=SV()),!n)throw jl.create("no-options");const s=$m.get(i);if(s){if(Bl(n,s.options)&&Bl(r,s.config))return s;throw jl.create("duplicate-app",{appName:i})}const a=new vK(i);for(const c of VC.values())a.addComponent(c);const l=new fG(n,r,a);return $m.set(i,l),l}function Tx(t=LC){const e=$m.get(t);if(!e&&t===LC&&SV())return OV();if(!e)throw jl.create("no-app",{appName:t});return e}function Xj(){return Array.from($m.values())}function es(t,e,n){let r=cG[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mo.warn(a.join(" "));return}zl(new ho(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const hG="firebase-heartbeat-database",mG=1,Um="firebase-heartbeat-store";let D1=null;function MV(){return D1||(D1=jK(hG,mG,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Um)}catch(n){console.warn(n)}}}}).catch(t=>{throw jl.create("idb-open",{originalErrorMessage:t.message})})),D1}async function pG(t){try{const n=(await MV()).transaction(Um),r=await n.objectStore(Um).get(LV(t));return await n.done,r}catch(e){if(e instanceof Ra)mo.warn(e.message);else{const n=jl.create("idb-get",{originalErrorMessage:e?.message});mo.warn(n.message)}}}async function Yj(t,e){try{const r=(await MV()).transaction(Um,"readwrite");await r.objectStore(Um).put(e,LV(t)),await r.done}catch(n){if(n instanceof Ra)mo.warn(n.message);else{const r=jl.create("idb-set",{originalErrorMessage:n?.message});mo.warn(r.message)}}}function LV(t){return`${t.name}!${t.options.appId}`}const gG=1024,yG=30;class vG{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bG(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Qj();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>yG){const i=wG(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){mo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Qj(),{heartbeatsToSend:n,unsentEntries:r}=xG(this._heartbeatsCache.heartbeats),i=Uv(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return mo.warn(e),""}}}function Qj(){return new Date().toISOString().substring(0,10)}function xG(t,e=gG){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Jj(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Jj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bG{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kV()?oK().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pG(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Yj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Jj(t){return Uv(JSON.stringify({version:2,heartbeats:t})).length}function wG(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function _G(t){zl(new ho("platform-logger",e=>new DK(e),"PRIVATE")),zl(new ho("heartbeat",e=>new vG(e),"PRIVATE")),es(MC,Kj,t),es(MC,Kj,"esm2020"),es("fire-js","")}_G("");var Zj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kl,VV;(function(){var t;function e(C,S){function D(){}D.prototype=S.prototype,C.F=S.prototype,C.prototype=new D,C.prototype.constructor=C,C.D=function(N,k,O){for(var A=Array(arguments.length-2),W=2;W<arguments.length;W++)A[W-2]=arguments[W];return S.prototype[k].apply(N,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,S,D){D||(D=0);const N=Array(16);if(typeof S=="string")for(var k=0;k<16;++k)N[k]=S.charCodeAt(D++)|S.charCodeAt(D++)<<8|S.charCodeAt(D++)<<16|S.charCodeAt(D++)<<24;else for(k=0;k<16;++k)N[k]=S[D++]|S[D++]<<8|S[D++]<<16|S[D++]<<24;S=C.g[0],D=C.g[1],k=C.g[2];let O=C.g[3],A;A=S+(O^D&(k^O))+N[0]+3614090360&4294967295,S=D+(A<<7&4294967295|A>>>25),A=O+(k^S&(D^k))+N[1]+3905402710&4294967295,O=S+(A<<12&4294967295|A>>>20),A=k+(D^O&(S^D))+N[2]+606105819&4294967295,k=O+(A<<17&4294967295|A>>>15),A=D+(S^k&(O^S))+N[3]+3250441966&4294967295,D=k+(A<<22&4294967295|A>>>10),A=S+(O^D&(k^O))+N[4]+4118548399&4294967295,S=D+(A<<7&4294967295|A>>>25),A=O+(k^S&(D^k))+N[5]+1200080426&4294967295,O=S+(A<<12&4294967295|A>>>20),A=k+(D^O&(S^D))+N[6]+2821735955&4294967295,k=O+(A<<17&4294967295|A>>>15),A=D+(S^k&(O^S))+N[7]+4249261313&4294967295,D=k+(A<<22&4294967295|A>>>10),A=S+(O^D&(k^O))+N[8]+1770035416&4294967295,S=D+(A<<7&4294967295|A>>>25),A=O+(k^S&(D^k))+N[9]+2336552879&4294967295,O=S+(A<<12&4294967295|A>>>20),A=k+(D^O&(S^D))+N[10]+4294925233&4294967295,k=O+(A<<17&4294967295|A>>>15),A=D+(S^k&(O^S))+N[11]+2304563134&4294967295,D=k+(A<<22&4294967295|A>>>10),A=S+(O^D&(k^O))+N[12]+1804603682&4294967295,S=D+(A<<7&4294967295|A>>>25),A=O+(k^S&(D^k))+N[13]+4254626195&4294967295,O=S+(A<<12&4294967295|A>>>20),A=k+(D^O&(S^D))+N[14]+2792965006&4294967295,k=O+(A<<17&4294967295|A>>>15),A=D+(S^k&(O^S))+N[15]+1236535329&4294967295,D=k+(A<<22&4294967295|A>>>10),A=S+(k^O&(D^k))+N[1]+4129170786&4294967295,S=D+(A<<5&4294967295|A>>>27),A=O+(D^k&(S^D))+N[6]+3225465664&4294967295,O=S+(A<<9&4294967295|A>>>23),A=k+(S^D&(O^S))+N[11]+643717713&4294967295,k=O+(A<<14&4294967295|A>>>18),A=D+(O^S&(k^O))+N[0]+3921069994&4294967295,D=k+(A<<20&4294967295|A>>>12),A=S+(k^O&(D^k))+N[5]+3593408605&4294967295,S=D+(A<<5&4294967295|A>>>27),A=O+(D^k&(S^D))+N[10]+38016083&4294967295,O=S+(A<<9&4294967295|A>>>23),A=k+(S^D&(O^S))+N[15]+3634488961&4294967295,k=O+(A<<14&4294967295|A>>>18),A=D+(O^S&(k^O))+N[4]+3889429448&4294967295,D=k+(A<<20&4294967295|A>>>12),A=S+(k^O&(D^k))+N[9]+568446438&4294967295,S=D+(A<<5&4294967295|A>>>27),A=O+(D^k&(S^D))+N[14]+3275163606&4294967295,O=S+(A<<9&4294967295|A>>>23),A=k+(S^D&(O^S))+N[3]+4107603335&4294967295,k=O+(A<<14&4294967295|A>>>18),A=D+(O^S&(k^O))+N[8]+1163531501&4294967295,D=k+(A<<20&4294967295|A>>>12),A=S+(k^O&(D^k))+N[13]+2850285829&4294967295,S=D+(A<<5&4294967295|A>>>27),A=O+(D^k&(S^D))+N[2]+4243563512&4294967295,O=S+(A<<9&4294967295|A>>>23),A=k+(S^D&(O^S))+N[7]+1735328473&4294967295,k=O+(A<<14&4294967295|A>>>18),A=D+(O^S&(k^O))+N[12]+2368359562&4294967295,D=k+(A<<20&4294967295|A>>>12),A=S+(D^k^O)+N[5]+4294588738&4294967295,S=D+(A<<4&4294967295|A>>>28),A=O+(S^D^k)+N[8]+2272392833&4294967295,O=S+(A<<11&4294967295|A>>>21),A=k+(O^S^D)+N[11]+1839030562&4294967295,k=O+(A<<16&4294967295|A>>>16),A=D+(k^O^S)+N[14]+4259657740&4294967295,D=k+(A<<23&4294967295|A>>>9),A=S+(D^k^O)+N[1]+2763975236&4294967295,S=D+(A<<4&4294967295|A>>>28),A=O+(S^D^k)+N[4]+1272893353&4294967295,O=S+(A<<11&4294967295|A>>>21),A=k+(O^S^D)+N[7]+4139469664&4294967295,k=O+(A<<16&4294967295|A>>>16),A=D+(k^O^S)+N[10]+3200236656&4294967295,D=k+(A<<23&4294967295|A>>>9),A=S+(D^k^O)+N[13]+681279174&4294967295,S=D+(A<<4&4294967295|A>>>28),A=O+(S^D^k)+N[0]+3936430074&4294967295,O=S+(A<<11&4294967295|A>>>21),A=k+(O^S^D)+N[3]+3572445317&4294967295,k=O+(A<<16&4294967295|A>>>16),A=D+(k^O^S)+N[6]+76029189&4294967295,D=k+(A<<23&4294967295|A>>>9),A=S+(D^k^O)+N[9]+3654602809&4294967295,S=D+(A<<4&4294967295|A>>>28),A=O+(S^D^k)+N[12]+3873151461&4294967295,O=S+(A<<11&4294967295|A>>>21),A=k+(O^S^D)+N[15]+530742520&4294967295,k=O+(A<<16&4294967295|A>>>16),A=D+(k^O^S)+N[2]+3299628645&4294967295,D=k+(A<<23&4294967295|A>>>9),A=S+(k^(D|~O))+N[0]+4096336452&4294967295,S=D+(A<<6&4294967295|A>>>26),A=O+(D^(S|~k))+N[7]+1126891415&4294967295,O=S+(A<<10&4294967295|A>>>22),A=k+(S^(O|~D))+N[14]+2878612391&4294967295,k=O+(A<<15&4294967295|A>>>17),A=D+(O^(k|~S))+N[5]+4237533241&4294967295,D=k+(A<<21&4294967295|A>>>11),A=S+(k^(D|~O))+N[12]+1700485571&4294967295,S=D+(A<<6&4294967295|A>>>26),A=O+(D^(S|~k))+N[3]+2399980690&4294967295,O=S+(A<<10&4294967295|A>>>22),A=k+(S^(O|~D))+N[10]+4293915773&4294967295,k=O+(A<<15&4294967295|A>>>17),A=D+(O^(k|~S))+N[1]+2240044497&4294967295,D=k+(A<<21&4294967295|A>>>11),A=S+(k^(D|~O))+N[8]+1873313359&4294967295,S=D+(A<<6&4294967295|A>>>26),A=O+(D^(S|~k))+N[15]+4264355552&4294967295,O=S+(A<<10&4294967295|A>>>22),A=k+(S^(O|~D))+N[6]+2734768916&4294967295,k=O+(A<<15&4294967295|A>>>17),A=D+(O^(k|~S))+N[13]+1309151649&4294967295,D=k+(A<<21&4294967295|A>>>11),A=S+(k^(D|~O))+N[4]+4149444226&4294967295,S=D+(A<<6&4294967295|A>>>26),A=O+(D^(S|~k))+N[11]+3174756917&4294967295,O=S+(A<<10&4294967295|A>>>22),A=k+(S^(O|~D))+N[2]+718787259&4294967295,k=O+(A<<15&4294967295|A>>>17),A=D+(O^(k|~S))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(k+(A<<21&4294967295|A>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+O&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const D=S-this.blockSize,N=this.C;let k=this.h,O=0;for(;O<S;){if(k==0)for(;O<=D;)i(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<S;)if(N[k++]=C.charCodeAt(O++),k==this.blockSize){i(this,N),k=0;break}}else for(;O<S;)if(N[k++]=C[O++],k==this.blockSize){i(this,N),k=0;break}}this.h=k,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var D=C.length-8;D<C.length;++D)C[D]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,D=0;D<4;++D)for(let N=0;N<32;N+=8)C[S++]=this.g[D]>>>N&255;return C};function s(C,S){var D=l;return Object.prototype.hasOwnProperty.call(D,C)?D[C]:D[C]=S(C)}function a(C,S){this.h=S;const D=[];let N=!0;for(let k=C.length-1;k>=0;k--){const O=C[k]|0;N&&O==S||(D[k]=O,N=!1)}this.g=D}var l={};function c(C){return-128<=C&&C<128?s(C,function(S){return new a([S|0],S<0?-1:0)}):new a([C|0],C<0?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return m;if(C<0)return _(d(-C));const S=[];let D=1;for(let N=0;C>=D;N++)S[N]=C/D|0,D*=4294967296;return new a(S,0)}function f(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return _(f(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=d(Math.pow(S,8));let N=m;for(let O=0;O<C.length;O+=8){var k=Math.min(8,C.length-O);const A=parseInt(C.substring(O,O+k),S);k<8?(k=d(Math.pow(S,k)),N=N.j(k).add(d(A))):(N=N.j(D),N=N.add(d(A)))}return N}var m=c(0),p=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(b(this))return-_(this).m();let C=0,S=1;for(let D=0;D<this.g.length;D++){const N=this.i(D);C+=(N>=0?N:4294967296+N)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(b(this))return"-"+_(this).toString(C);const S=d(Math.pow(C,6));var D=this;let N="";for(;;){const k=z(D,S).g;D=T(D,k.j(S));let O=((D.g.length>0?D.g[0]:D.h)>>>0).toString(C);if(D=k,x(D))return O+N;for(;O.length<6;)O="0"+O;N=O+N}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function b(C){return C.h==-1}t.l=function(C){return C=T(this,C),b(C)?-1:x(C)?0:1};function _(C){const S=C.g.length,D=[];for(let N=0;N<S;N++)D[N]=~C.g[N];return new a(D,~C.h).add(p)}t.abs=function(){return b(this)?_(this):this},t.add=function(C){const S=Math.max(this.g.length,C.g.length),D=[];let N=0;for(let k=0;k<=S;k++){let O=N+(this.i(k)&65535)+(C.i(k)&65535),A=(O>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);N=A>>>16,O&=65535,A&=65535,D[k]=A<<16|O}return new a(D,D[D.length-1]&-2147483648?-1:0)};function T(C,S){return C.add(_(S))}t.j=function(C){if(x(this)||x(C))return m;if(b(this))return b(C)?_(this).j(_(C)):_(_(this).j(C));if(b(C))return _(this.j(_(C)));if(this.l(y)<0&&C.l(y)<0)return d(this.m()*C.m());const S=this.g.length+C.g.length,D=[];for(var N=0;N<2*S;N++)D[N]=0;for(N=0;N<this.g.length;N++)for(let k=0;k<C.g.length;k++){const O=this.i(N)>>>16,A=this.i(N)&65535,W=C.i(k)>>>16,Y=C.i(k)&65535;D[2*N+2*k]+=A*Y,L(D,2*N+2*k),D[2*N+2*k+1]+=O*Y,L(D,2*N+2*k+1),D[2*N+2*k+1]+=A*W,L(D,2*N+2*k+1),D[2*N+2*k+2]+=O*W,L(D,2*N+2*k+2)}for(C=0;C<S;C++)D[C]=D[2*C+1]<<16|D[2*C];for(C=S;C<2*S;C++)D[C]=0;return new a(D,0)};function L(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function M(C,S){this.g=C,this.h=S}function z(C,S){if(x(S))throw Error("division by zero");if(x(C))return new M(m,m);if(b(C))return S=z(_(C),S),new M(_(S.g),_(S.h));if(b(S))return S=z(C,_(S)),new M(_(S.g),S.h);if(C.g.length>30){if(b(C)||b(S))throw Error("slowDivide_ only works with positive integers.");for(var D=p,N=S;N.l(C)<=0;)D=I(D),N=I(N);var k=j(D,1),O=j(N,1);for(N=j(N,2),D=j(D,2);!x(N);){var A=O.add(N);A.l(C)<=0&&(k=k.add(D),O=A),N=j(N,1),D=j(D,1)}return S=T(C,k.j(S)),new M(k,S)}for(k=m;C.l(S)>=0;){for(D=Math.max(1,Math.floor(C.m()/S.m())),N=Math.ceil(Math.log(D)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),O=d(D),A=O.j(S);b(A)||A.l(C)>0;)D-=N,O=d(D),A=O.j(S);x(O)&&(O=p),k=k.add(O),C=T(C,A)}return new M(k,C)}t.B=function(C){return z(this,C).h},t.and=function(C){const S=Math.max(this.g.length,C.g.length),D=[];for(let N=0;N<S;N++)D[N]=this.i(N)&C.i(N);return new a(D,this.h&C.h)},t.or=function(C){const S=Math.max(this.g.length,C.g.length),D=[];for(let N=0;N<S;N++)D[N]=this.i(N)|C.i(N);return new a(D,this.h|C.h)},t.xor=function(C){const S=Math.max(this.g.length,C.g.length),D=[];for(let N=0;N<S;N++)D[N]=this.i(N)^C.i(N);return new a(D,this.h^C.h)};function I(C){const S=C.g.length+1,D=[];for(let N=0;N<S;N++)D[N]=C.i(N)<<1|C.i(N-1)>>>31;return new a(D,C.h)}function j(C,S){const D=S>>5;S%=32;const N=C.g.length-D,k=[];for(let O=0;O<N;O++)k[O]=S>0?C.i(O+D)>>>S|C.i(O+D+1)<<32-S:C.i(O+D);return new a(k,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,VV=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,kl=a}).apply(typeof Zj<"u"?Zj:typeof self<"u"?self:typeof window<"u"?window:{});var Ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var FV,gm,BV,uv,FC,zV,$V,UV;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ay=="object"&&Ay];for(var B=0;B<v.length;++B){var U=v[B];if(U&&U.Math==Math)return U}throw Error("Cannot find global object")}var r=n(this);function i(v,B){if(B)e:{var U=r;v=v.split(".");for(var X=0;X<v.length-1;X++){var ue=v[X];if(!(ue in U))break e;U=U[ue]}v=v[v.length-1],X=U[v],B=B(X),B!=X&&B!=null&&e(U,v,{configurable:!0,writable:!0,value:B})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(B){var U=[],X;for(X in B)Object.prototype.hasOwnProperty.call(B,X)&&U.push([X,B[X]]);return U}});var s=s||{},a=this||self;function l(v){var B=typeof v;return B=="object"&&v!=null||B=="function"}function c(v,B,U){return v.call.apply(v.bind,arguments)}function d(v,B,U){return d=c,d.apply(null,arguments)}function f(v,B){var U=Array.prototype.slice.call(arguments,1);return function(){var X=U.slice();return X.push.apply(X,arguments),v.apply(this,X)}}function m(v,B){function U(){}U.prototype=B.prototype,v.Z=B.prototype,v.prototype=new U,v.prototype.constructor=v,v.Ob=function(X,ue,ge){for(var Ae=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)Ae[ht-2]=arguments[ht];return B.prototype[ue].apply(X,Ae)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function y(v){const B=v.length;if(B>0){const U=Array(B);for(let X=0;X<B;X++)U[X]=v[X];return U}return[]}function x(v,B){for(let X=1;X<arguments.length;X++){const ue=arguments[X];var U=typeof ue;if(U=U!="object"?U:ue?Array.isArray(ue)?"array":U:"null",U=="array"||U=="object"&&typeof ue.length=="number"){U=v.length||0;const ge=ue.length||0;v.length=U+ge;for(let Ae=0;Ae<ge;Ae++)v[U+Ae]=ue[Ae]}else v.push(ue)}}class b{constructor(B,U){this.i=B,this.j=U,this.h=0,this.g=null}get(){let B;return this.h>0?(this.h--,B=this.g,this.g=B.next,B.next=null):B=this.i(),B}}function _(v){a.setTimeout(()=>{throw v},0)}function T(){var v=C;let B=null;return v.g&&(B=v.g,v.g=v.g.next,v.g||(v.h=null),B.next=null),B}class L{constructor(){this.h=this.g=null}add(B,U){const X=M.get();X.set(B,U),this.h?this.h.next=X:this.g=X,this.h=X}}var M=new b(()=>new z,v=>v.reset());class z{constructor(){this.next=this.g=this.h=null}set(B,U){this.h=B,this.g=U,this.next=null}reset(){this.next=this.g=this.h=null}}let I,j=!1,C=new L,S=()=>{const v=Promise.resolve(void 0);I=()=>{v.then(D)}};function D(){for(var v;v=T();){try{v.h.call(v.g)}catch(U){_(U)}var B=M;B.j(v),B.h<100&&(B.h++,v.next=B.g,B.g=v)}j=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(v,B){this.type=v,this.g=this.target=B,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var v=!1,B=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const U=()=>{};a.addEventListener("test",U,B),a.removeEventListener("test",U,B)}catch{}return v})();function A(v){return/^[\s\xa0]*$/.test(v)}function W(v,B){k.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,B)}m(W,k),W.prototype.init=function(v,B){const U=this.type=v.type,X=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=B,B=v.relatedTarget,B||(U=="mouseover"?B=v.fromElement:U=="mouseout"&&(B=v.toElement)),this.relatedTarget=B,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),J=0;function V(v,B,U,X,ue){this.listener=v,this.proxy=null,this.src=B,this.type=U,this.capture=!!X,this.ha=ue,this.key=++J,this.da=this.fa=!1}function G(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function q(v,B,U){for(const X in v)B.call(U,v[X],X,v)}function R(v,B){for(const U in v)B.call(void 0,v[U],U,v)}function $(v){const B={};for(const U in v)B[U]=v[U];return B}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(v,B){let U,X;for(let ue=1;ue<arguments.length;ue++){X=arguments[ue];for(U in X)v[U]=X[U];for(let ge=0;ge<K.length;ge++)U=K[ge],Object.prototype.hasOwnProperty.call(X,U)&&(v[U]=X[U])}}function Q(v){this.src=v,this.g={},this.h=0}Q.prototype.add=function(v,B,U,X,ue){const ge=v.toString();v=this.g[ge],v||(v=this.g[ge]=[],this.h++);const Ae=ae(v,B,X,ue);return Ae>-1?(B=v[Ae],U||(B.fa=!1)):(B=new V(B,this.src,ge,!!X,ue),B.fa=U,v.push(B)),B};function te(v,B){const U=B.type;if(U in v.g){var X=v.g[U],ue=Array.prototype.indexOf.call(X,B,void 0),ge;(ge=ue>=0)&&Array.prototype.splice.call(X,ue,1),ge&&(G(B),v.g[U].length==0&&(delete v.g[U],v.h--))}}function ae(v,B,U,X){for(let ue=0;ue<v.length;++ue){const ge=v[ue];if(!ge.da&&ge.listener==B&&ge.capture==!!U&&ge.ha==X)return ue}return-1}var re="closure_lm_"+(Math.random()*1e6|0),xe={};function se(v,B,U,X,ue){if(Array.isArray(B)){for(let ge=0;ge<B.length;ge++)se(v,B[ge],U,X,ue);return null}return U=wt(U),v&&v[Y]?v.J(B,U,l(X)?!!X.capture:!1,ue):he(v,B,U,!1,X,ue)}function he(v,B,U,X,ue,ge){if(!B)throw Error("Invalid event type");const Ae=l(ue)?!!ue.capture:!!ue;let ht=Qe(v);if(ht||(v[re]=ht=new Q(v)),U=ht.add(B,U,X,Ae,ge),U.proxy)return U;if(X=Te(),U.proxy=X,X.src=v,X.listener=U,v.addEventListener)O||(ue=Ae),ue===void 0&&(ue=!1),v.addEventListener(B.toString(),X,ue);else if(v.attachEvent)v.attachEvent(je(B.toString()),X);else if(v.addListener&&v.removeListener)v.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return U}function Te(){function v(U){return B.call(v.src,v.listener,U)}const B=et;return v}function me(v,B,U,X,ue){if(Array.isArray(B))for(var ge=0;ge<B.length;ge++)me(v,B[ge],U,X,ue);else X=l(X)?!!X.capture:!!X,U=wt(U),v&&v[Y]?(v=v.i,ge=String(B).toString(),ge in v.g&&(B=v.g[ge],U=ae(B,U,X,ue),U>-1&&(G(B[U]),Array.prototype.splice.call(B,U,1),B.length==0&&(delete v.g[ge],v.h--)))):v&&(v=Qe(v))&&(B=v.g[B.toString()],v=-1,B&&(v=ae(B,U,X,ue)),(U=v>-1?B[v]:null)&&Re(U))}function Re(v){if(typeof v!="number"&&v&&!v.da){var B=v.src;if(B&&B[Y])te(B.i,v);else{var U=v.type,X=v.proxy;B.removeEventListener?B.removeEventListener(U,X,v.capture):B.detachEvent?B.detachEvent(je(U),X):B.addListener&&B.removeListener&&B.removeListener(X),(U=Qe(B))?(te(U,v),U.h==0&&(U.src=null,B[re]=null)):G(v)}}}function je(v){return v in xe?xe[v]:xe[v]="on"+v}function et(v,B){if(v.da)v=!0;else{B=new W(B,this);const U=v.listener,X=v.ha||v.src;v.fa&&Re(v),v=U.call(X,B)}return v}function Qe(v){return v=v[re],v instanceof Q?v:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function wt(v){return typeof v=="function"?v:(v[We]||(v[We]=function(B){return v.handleEvent(B)}),v[We])}function dt(){N.call(this),this.i=new Q(this),this.M=this,this.G=null}m(dt,N),dt.prototype[Y]=!0,dt.prototype.removeEventListener=function(v,B,U,X){me(this,v,B,U,X)};function tt(v,B){var U,X=v.G;if(X)for(U=[];X;X=X.G)U.push(X);if(v=v.M,X=B.type||B,typeof B=="string")B=new k(B,v);else if(B instanceof k)B.target=B.target||v;else{var ue=B;B=new k(X,v),Z(B,ue)}ue=!0;let ge,Ae;if(U)for(Ae=U.length-1;Ae>=0;Ae--)ge=B.g=U[Ae],ue=oe(ge,X,!0,B)&&ue;if(ge=B.g=v,ue=oe(ge,X,!0,B)&&ue,ue=oe(ge,X,!1,B)&&ue,U)for(Ae=0;Ae<U.length;Ae++)ge=B.g=U[Ae],ue=oe(ge,X,!1,B)&&ue}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var v=this.i;for(const B in v.g){const U=v.g[B];for(let X=0;X<U.length;X++)G(U[X]);delete v.g[B],v.h--}}this.G=null},dt.prototype.J=function(v,B,U,X){return this.i.add(String(v),B,!1,U,X)},dt.prototype.K=function(v,B,U,X){return this.i.add(String(v),B,!0,U,X)};function oe(v,B,U,X){if(B=v.i.g[String(B)],!B)return!0;B=B.concat();let ue=!0;for(let ge=0;ge<B.length;++ge){const Ae=B[ge];if(Ae&&!Ae.da&&Ae.capture==U){const ht=Ae.listener,jn=Ae.ha||Ae.src;Ae.fa&&te(v.i,Ae),ue=ht.call(jn,X)!==!1&&ue}}return ue&&!X.defaultPrevented}function Ie(v,B){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=d(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(B)>2147483647?-1:a.setTimeout(v,B||0)}function Xe(v){v.g=Ie(()=>{v.g=null,v.i&&(v.i=!1,Xe(v))},v.l);const B=v.h;v.h=null,v.m.apply(null,B)}class gt extends N{constructor(B,U){super(),this.m=B,this.l=U,this.h=null,this.i=!1,this.g=null}j(B){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yt(v){N.call(this),this.h=v,this.g={}}m(yt,N);var fe=[];function He(v){q(v.g,function(B,U){this.g.hasOwnProperty(U)&&Re(B)},v),v.g={}}yt.prototype.N=function(){yt.Z.N.call(this),He(this)},yt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Nt=a.JSON.stringify,zt=a.JSON.parse,ft=class{stringify(v){return a.JSON.stringify(v,void 0)}parse(v){return a.JSON.parse(v,void 0)}};function mn(){}function Tr(){}var ur={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function pn(){k.call(this,"d")}m(pn,k);function cs(){k.call(this,"c")}m(cs,k);var In={},zo=null;function Us(){return zo=zo||new dt}In.Ia="serverreachability";function Ma(v){k.call(this,In.Ia,v)}m(Ma,k);function Vi(v){const B=Us();tt(B,new Ma(B))}In.STAT_EVENT="statevent";function us(v,B){k.call(this,In.STAT_EVENT,v),this.stat=B}m(us,k);function Qt(v){const B=Us();tt(B,new us(B,v))}In.Ja="timingevent";function ei(v,B){k.call(this,In.Ja,v),this.size=B}m(ei,k);function qs(v,B){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){v()},B)}function nt(){this.g=!0}nt.prototype.ua=function(){this.g=!1};function jt(v,B,U,X,ue,ge){v.info(function(){if(v.g)if(ge){var Ae="",ht=ge.split("&");for(let Ut=0;Ut<ht.length;Ut++){var jn=ht[Ut].split("=");if(jn.length>1){const Mn=jn[0];jn=jn[1];const _i=Mn.split("_");Ae=_i.length>=2&&_i[1]=="type"?Ae+(Mn+"="+jn+"&"):Ae+(Mn+"=redacted&")}}}else Ae=null;else Ae=ge;return"XMLHTTP REQ ("+X+") [attempt "+ue+"]: "+B+`
`+U+`
`+Ae})}function $t(v,B,U,X,ue,ge,Ae){v.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+ue+"]: "+B+`
`+U+`
`+ge+" "+Ae})}function En(v,B,U,X){v.info(function(){return"XMLHTTP TEXT ("+B+"): "+Nr(v,U)+(X?" "+X:"")})}function Sr(v,B){v.info(function(){return"TIMEOUT: "+B})}nt.prototype.info=function(){};function Nr(v,B){if(!v.g)return B;if(!B)return null;try{const ge=JSON.parse(B);if(ge){for(v=0;v<ge.length;v++)if(Array.isArray(ge[v])){var U=ge[v];if(!(U.length<2)){var X=U[1];if(Array.isArray(X)&&!(X.length<1)){var ue=X[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(let Ae=1;Ae<X.length;Ae++)X[Ae]=""}}}}return Nt(ge)}catch{return B}}var Pr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},On={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gi;function La(){}m(La,mn),La.prototype.g=function(){return new XMLHttpRequest},gi=new La;function Hs(v){return encodeURIComponent(String(v))}function Bu(v){var B=1;v=v.split(":");const U=[];for(;B>0&&v.length;)U.push(v.shift()),B--;return v.length&&U.push(v.join(":")),U}function Fi(v,B,U,X){this.j=v,this.i=B,this.l=U,this.S=X||1,this.V=new yt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new bg}function bg(){this.i=null,this.g="",this.h=!1}var wg={},sh={};function ds(v,B,U){v.M=1,v.A=Fa(Bi(B)),v.u=U,v.R=!0,ah(v,null)}function ah(v,B){v.F=Date.now(),sc(v),v.B=Bi(v.A);var U=v.B,X=v.S;Array.isArray(X)||(X=[String(X)]),gh(U.i,"t",X),v.C=0,U=v.j.L,v.h=new bg,v.g=jg(v.j,U?B:null,!v.u),v.P>0&&(v.O=new gt(d(v.Y,v,v.g),v.P)),B=v.V,U=v.g,X=v.ba;var ue="readystatechange";Array.isArray(ue)||(ue&&(fe[0]=ue.toString()),ue=fe);for(let ge=0;ge<ue.length;ge++){const Ae=se(U,ue[ge],X||B.handleEvent,!1,B.h||B);if(!Ae)break;B.g[Ae.key]=Ae}B=v.J?$(v.J):{},v.u?(v.v||(v.v="POST"),B["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,B)):(v.v="GET",v.g.ea(v.B,v.v,null,B)),Vi(),jt(v.i,v.v,v.B,v.l,v.S,v.u)}Fi.prototype.ba=function(v){v=v.target;const B=this.O;B&&Js(v)==3?B.j():this.Y(v)},Fi.prototype.Y=function(v){try{if(v==this.g)e:{const ht=Js(this.g),jn=this.g.ya(),Ut=this.g.ca();if(!(ht<3)&&(ht!=3||this.g&&(this.h.h||this.g.la()||Ag(this.g)))){this.K||ht!=4||jn==7||(jn==8||Ut<=0?Vi(3):Vi(2)),zu(this);var B=this.g.ca();this.X=B;var U=_g(this);if(this.o=B==200,$t(this.i,this.v,this.B,this.l,this.S,ht,B),this.o){if(this.U&&!this.L){t:{if(this.g){var X,ue=this.g;if((X=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(X)){var ge=X;break t}}ge=null}if(v=ge)En(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,rn(this,v);else{this.o=!1,this.m=3,Qt(12),Va(this),ac(this);break e}}if(this.R){v=!0;let Mn;for(;!this.K&&this.C<U.length;)if(Mn=Cg(this,U),Mn==sh){ht==4&&(this.m=4,Qt(14),v=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==wg){this.m=4,Qt(15),En(this.i,this.l,U,"[Invalid Chunk]"),v=!1;break}else En(this.i,this.l,Mn,null),rn(this,Mn);if(Eg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||U.length!=0||this.h.h||(this.m=1,Qt(16),v=!1),this.o=this.o&&v,!v)En(this.i,this.l,U,"[Invalid Chunked Response]"),Va(this),ac(this);else if(U.length>0&&!this.W){this.W=!0;var Ae=this.j;Ae.g==this&&Ae.aa&&!Ae.P&&(Ae.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),pc(Ae),Ae.P=!0,Qt(11))}}else En(this.i,this.l,U,null),rn(this,U);ht==4&&Va(this),this.o&&!this.K&&(ht==4?Qu(this.j,this):(this.o=!1,sc(this)))}else vh(this.g),B==400&&U.indexOf("Unknown SID")>0?(this.m=3,Qt(12)):(this.m=0,Qt(13)),Va(this),ac(this)}}}catch{}};function _g(v){if(!Eg(v))return v.g.la();const B=Ag(v.g);if(B==="")return"";let U="";const X=B.length,ue=Js(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Va(v),ac(v),"";v.h.i=new a.TextDecoder}for(let ge=0;ge<X;ge++)v.h.h=!0,U+=v.h.i.decode(B[ge],{stream:!(ue&&ge==X-1)});return B.length=0,v.h.g+=U,v.C=0,v.h.g}function Eg(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Cg(v,B){var U=v.C,X=B.indexOf(`
`,U);return X==-1?sh:(U=Number(B.substring(U,X)),isNaN(U)?wg:(X+=1,X+U>B.length?sh:(B=B.slice(X,X+U),v.C=X+U,B)))}Fi.prototype.cancel=function(){this.K=!0,Va(this)};function sc(v){v.T=Date.now()+v.H,oh(v,v.H)}function oh(v,B){if(v.D!=null)throw Error("WatchDog timer not null");v.D=qs(d(v.aa,v),B)}function zu(v){v.D&&(a.clearTimeout(v.D),v.D=null)}Fi.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(Vi(),Qt(17)),Va(this),this.m=2,ac(this)):oh(this,this.T-v)};function ac(v){v.j.I==0||v.K||Qu(v.j,v)}function Va(v){zu(v);var B=v.O;B&&typeof B.dispose=="function"&&B.dispose(),v.O=null,He(v.V),v.g&&(B=v.g,v.g=null,B.abort(),B.dispose())}function rn(v,B){try{var U=v.j;if(U.I!=0&&(U.g==v||ch(U.h,v))){if(!v.L&&ch(U.h,v)&&U.I==3){try{var X=U.Ba.g.parse(B)}catch{X=null}if(Array.isArray(X)&&X.length==3){var ue=X;if(ue[0]==0){e:if(!U.v){if(U.g)if(U.g.F+3e3<v.F)Yu(U),bi(U);else break e;ta(U),Qt(18)}}else U.xa=ue[1],0<U.xa-U.K&&ue[2]<37500&&U.F&&U.A==0&&!U.C&&(U.C=qs(d(U.Va,U),6e3));oc(U.h)<=1&&U.ta&&(U.ta=void 0)}else wi(U,11)}else if((v.L||U.g==v)&&Yu(U),!A(B))for(ue=U.Ba.g.parse(B),B=0;B<ue.length;B++){let Ut=ue[B];const Mn=Ut[0];if(!(Mn<=U.K))if(U.K=Mn,Ut=Ut[1],U.I==2)if(Ut[0]=="c"){U.M=Ut[1],U.ba=Ut[2];const _i=Ut[3];_i!=null&&(U.ka=_i,U.j.info("VER="+U.ka));const qa=Ut[4];qa!=null&&(U.za=qa,U.j.info("SVER="+U.za));const na=Ut[5];na!=null&&typeof na=="number"&&na>0&&(X=1.5*na,U.O=X,U.j.info("backChannelRequestTimeoutMs_="+X)),X=U;const ra=v.g;if(ra){const ed=ra.g?ra.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ed){var ge=X.h;ge.g||ed.indexOf("spdy")==-1&&ed.indexOf("quic")==-1&&ed.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(Uu(ge,ge.h),ge.h=null))}if(X.G){const wh=ra.g?ra.g.getResponseHeader("X-HTTP-Session-Id"):null;wh&&(X.wa=wh,Ft(X.J,X.G,wh))}}U.I=3,U.l&&U.l.ra(),U.aa&&(U.T=Date.now()-v.F,U.j.info("Handshake RTT: "+U.T+"ms")),X=U;var Ae=v;if(X.na=bh(X,X.L?X.ba:null,X.W),Ae.L){lc(X.h,Ae);var ht=Ae,jn=X.O;jn&&(ht.H=jn),ht.D&&(zu(ht),sc(ht)),X.g=Ae}else Ar(X);U.i.length>0&&Ua(U)}else Ut[0]!="stop"&&Ut[0]!="close"||wi(U,7);else U.I==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?wi(U,7):Gu(U):Ut[0]!="noop"&&U.l&&U.l.qa(Ut),U.A=0)}}Vi(4)}catch{}}var nw=class{constructor(v,B){this.g=v,this.map=B}};function $u(v){this.l=v||10,a.PerformanceNavigationTiming?(v=a.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function lh(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function oc(v){return v.h?1:v.g?v.g.size:0}function ch(v,B){return v.h?v.h==B:v.g?v.g.has(B):!1}function Uu(v,B){v.g?v.g.add(B):v.h=B}function lc(v,B){v.h&&v.h==B?v.h=null:v.g&&v.g.has(B)&&v.g.delete(B)}$u.prototype.cancel=function(){if(this.i=yi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function yi(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let B=v.i;for(const U of v.g.values())B=B.concat(U.G);return B}return y(v.i)}var Tg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vi(v,B){if(v){v=v.split("&");for(let U=0;U<v.length;U++){const X=v[U].indexOf("=");let ue,ge=null;X>=0?(ue=v[U].substring(0,X),ge=v[U].substring(X+1)):ue=v[U],B(ue,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function Ws(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let B;v instanceof Ws?(this.l=v.l,cc(this,v.j),this.o=v.o,this.g=v.g,Ks(this,v.u),this.h=v.h,$o(this,yh(v.i)),this.m=v.m):v&&(B=String(v).match(Tg))?(this.l=!1,cc(this,B[1]||"",!0),this.o=uc(B[2]||""),this.g=uc(B[3]||"",!0),Ks(this,B[4]),this.h=uc(B[5]||"",!0),$o(this,B[6]||"",!0),this.m=uc(B[7]||"")):(this.l=!1,this.i=new Pt(null,this.l))}Ws.prototype.toString=function(){const v=[];var B=this.j;B&&v.push(dc(B,dh,!0),":");var U=this.g;return(U||B=="file")&&(v.push("//"),(B=this.o)&&v.push(dc(B,dh,!0),"@"),v.push(Hs(U).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),U=this.u,U!=null&&v.push(":",String(U))),(U=this.h)&&(this.g&&U.charAt(0)!="/"&&v.push("/"),v.push(dc(U,U.charAt(0)=="/"?fc:fh,!0))),(U=this.i.toString())&&v.push("?",U),(U=this.m)&&v.push("#",dc(U,hh)),v.join("")},Ws.prototype.resolve=function(v){const B=Bi(this);let U=!!v.j;U?cc(B,v.j):U=!!v.o,U?B.o=v.o:U=!!v.g,U?B.g=v.g:U=v.u!=null;var X=v.h;if(U)Ks(B,v.u);else if(U=!!v.h){if(X.charAt(0)!="/")if(this.g&&!this.h)X="/"+X;else{var ue=B.h.lastIndexOf("/");ue!=-1&&(X=B.h.slice(0,ue+1)+X)}if(ue=X,ue==".."||ue==".")X="";else if(ue.indexOf("./")!=-1||ue.indexOf("/.")!=-1){X=ue.lastIndexOf("/",0)==0,ue=ue.split("/");const ge=[];for(let Ae=0;Ae<ue.length;){const ht=ue[Ae++];ht=="."?X&&Ae==ue.length&&ge.push(""):ht==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),X&&Ae==ue.length&&ge.push("")):(ge.push(ht),X=!0)}X=ge.join("/")}else X=ue}return U?B.h=X:U=v.i.toString()!=="",U?$o(B,yh(v.i)):U=!!v.m,U&&(B.m=v.m),B};function Bi(v){return new Ws(v)}function cc(v,B,U){v.j=U?uc(B,!0):B,v.j&&(v.j=v.j.replace(/:$/,""))}function Ks(v,B){if(B){if(B=Number(B),isNaN(B)||B<0)throw Error("Bad port number "+B);v.u=B}else v.u=null}function $o(v,B,U){B instanceof Pt?(v.i=B,Hu(v.i,v.l)):(U||(B=dc(B,rw)),v.i=new Pt(B,v.l))}function Ft(v,B,U){v.i.set(B,U)}function Fa(v){return Ft(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function uc(v,B){return v?B?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function dc(v,B,U){return typeof v=="string"?(v=encodeURI(v).replace(B,uh),U&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function uh(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var dh=/[#\/\?@]/g,fh=/[#\?:]/g,fc=/[#\?]/g,rw=/[#\?@]/g,hh=/#/g;function Pt(v,B){this.h=this.g=null,this.i=v||null,this.j=!!B}function Gs(v){v.g||(v.g=new Map,v.h=0,v.i&&vi(v.i,function(B,U){v.add(decodeURIComponent(B.replace(/\+/g," ")),U)}))}t=Pt.prototype,t.add=function(v,B){Gs(this),this.i=null,v=Xs(this,v);let U=this.g.get(v);return U||this.g.set(v,U=[]),U.push(B),this.h+=1,this};function mh(v,B){Gs(v),B=Xs(v,B),v.g.has(B)&&(v.i=null,v.h-=v.g.get(B).length,v.g.delete(B))}function qu(v,B){return Gs(v),B=Xs(v,B),v.g.has(B)}t.forEach=function(v,B){Gs(this),this.g.forEach(function(U,X){U.forEach(function(ue){v.call(B,ue,X,this)},this)},this)};function ph(v,B){Gs(v);let U=[];if(typeof B=="string")qu(v,B)&&(U=U.concat(v.g.get(Xs(v,B))));else for(v=Array.from(v.g.values()),B=0;B<v.length;B++)U=U.concat(v[B]);return U}t.set=function(v,B){return Gs(this),this.i=null,v=Xs(this,v),qu(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[B]),this.h+=1,this},t.get=function(v,B){return v?(v=ph(this,v),v.length>0?String(v[0]):B):B};function gh(v,B,U){mh(v,B),U.length>0&&(v.i=null,v.g.set(Xs(v,B),y(U)),v.h+=U.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],B=Array.from(this.g.keys());for(let X=0;X<B.length;X++){var U=B[X];const ue=Hs(U);U=ph(this,U);for(let ge=0;ge<U.length;ge++){let Ae=ue;U[ge]!==""&&(Ae+="="+Hs(U[ge])),v.push(Ae)}}return this.i=v.join("&")};function yh(v){const B=new Pt;return B.i=v.i,v.g&&(B.g=new Map(v.g),B.h=v.h),B}function Xs(v,B){return B=String(B),v.j&&(B=B.toLowerCase()),B}function Hu(v,B){B&&!v.j&&(Gs(v),v.i=null,v.g.forEach(function(U,X){const ue=X.toLowerCase();X!=ue&&(mh(this,X),gh(this,ue,U))},v)),v.j=B}function Ys(v,B){const U=new nt;if(a.Image){const X=new Image;X.onload=f(dr,U,"TestLoadImage: loaded",!0,B,X),X.onerror=f(dr,U,"TestLoadImage: error",!1,B,X),X.onabort=f(dr,U,"TestLoadImage: abort",!1,B,X),X.ontimeout=f(dr,U,"TestLoadImage: timeout",!1,B,X),a.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=v}else B(!1)}function Qs(v,B){const U=new nt,X=new AbortController,ue=setTimeout(()=>{X.abort(),dr(U,"TestPingServer: timeout",!1,B)},1e4);fetch(v,{signal:X.signal}).then(ge=>{clearTimeout(ue),ge.ok?dr(U,"TestPingServer: ok",!0,B):dr(U,"TestPingServer: server error",!1,B)}).catch(()=>{clearTimeout(ue),dr(U,"TestPingServer: error",!1,B)})}function dr(v,B,U,X,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),X(U)}catch{}}function hc(){this.g=new ft}function Ba(v){this.i=v.Sb||null,this.h=v.ab||!1}m(Ba,mn),Ba.prototype.g=function(){return new xi(this.i,this.h)};function xi(v,B){dt.call(this),this.H=v,this.o=B,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(xi,dt),t=xi.prototype,t.open=function(v,B){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=B,this.readyState=1,fs(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const B={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(B.body=v),(this.H||a).fetch(new Request(this.D,B)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Uo(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,fs(this)),this.g&&(this.readyState=3,fs(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sg(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sg(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var B=v.value?v.value:new Uint8Array(0);(B=this.B.decode(B,{stream:!v.done}))&&(this.response=this.responseText+=B)}v.done?Uo(this):fs(this),this.readyState==3&&Sg(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,Uo(this))},t.Na=function(v){this.g&&(this.response=v,Uo(this))},t.ga=function(){this.g&&Uo(this)};function Uo(v){v.readyState=4,v.l=null,v.j=null,v.B=null,fs(v)}t.setRequestHeader=function(v,B){this.A.append(v,B)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],B=this.h.entries();for(var U=B.next();!U.done;)U=U.value,v.push(U[0]+": "+U[1]),U=B.next();return v.join(`\r
`)};function fs(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Ng(v){let B="";return q(v,function(U,X){B+=X,B+=":",B+=U,B+=`\r
`}),B}function Wu(v,B,U){e:{for(X in U){var X=!1;break e}X=!0}X||(U=Ng(U),typeof v=="string"?U!=null&&Hs(U):Ft(v,B,U))}function Gt(v){dt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Gt,dt);var Pg=/^https?$/i,iw=["POST","PUT"];t=Gt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,B,U,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);B=B?B.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gi.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(B,String(v),!0),this.B=!1}catch(ge){qo(this,ge);return}if(v=U||"",U=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var ue in X)U.set(ue,X[ue]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const ge of X.keys())U.set(ge,X.get(ge));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(U.keys()).find(ge=>ge.toLowerCase()=="content-type"),ue=a.FormData&&v instanceof a.FormData,!(Array.prototype.indexOf.call(iw,B,void 0)>=0)||X||ue||U.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,Ae]of U)this.g.setRequestHeader(ge,Ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ge){qo(this,ge)}};function qo(v,B){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=B,v.o=5,Ho(v),$a(v)}function Ho(v){v.A||(v.A=!0,tt(v,"complete"),tt(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,tt(this,"complete"),tt(this,"abort"),$a(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$a(this,!0)),Gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?za(this):this.Xa())},t.Xa=function(){za(this)};function za(v){if(v.h&&typeof s<"u"){if(v.v&&Js(v)==4)setTimeout(v.Ca.bind(v),0);else if(tt(v,"readystatechange"),Js(v)==4){v.h=!1;try{const ge=v.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var B=!0;break e;default:B=!1}var U;if(!(U=B)){var X;if(X=ge===0){let Ae=String(v.D).match(Tg)[1]||null;!Ae&&a.self&&a.self.location&&(Ae=a.self.location.protocol.slice(0,-1)),X=!Pg.test(Ae?Ae.toLowerCase():"")}U=X}if(U)tt(v,"complete"),tt(v,"success");else{v.o=6;try{var ue=Js(v)>2?v.g.statusText:""}catch{ue=""}v.l=ue+" ["+v.ca()+"]",Ho(v)}}finally{$a(v)}}}}function $a(v,B){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const U=v.g;v.g=null,B||tt(v,"ready");try{U.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Js(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Js(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var B=this.g.responseText;return v&&B.indexOf(v)==0&&(B=B.substring(v.length)),zt(B)}};function Ag(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function vh(v){const B={};v=(v.g&&Js(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<v.length;X++){if(A(v[X]))continue;var U=Bu(v[X]);const ue=U[0];if(U=U[1],typeof U!="string")continue;U=U.trim();const ge=B[ue]||[];B[ue]=ge,ge.push(U)}R(B,function(X){return X.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zs(v,B,U){return U&&U.internalChannelParams&&U.internalChannelParams[v]||B}function Ku(v){this.za=0,this.i=[],this.j=new nt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Zs("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Zs("baseRetryDelayMs",5e3,v),this.Za=Zs("retryDelaySeedMs",1e4,v),this.Ta=Zs("forwardChannelMaxRetries",2,v),this.va=Zs("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new $u(v&&v.concurrentRequestLimit),this.Ba=new hc,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ku.prototype,t.ka=8,t.I=1,t.connect=function(v,B,U,X){Qt(0),this.W=v,this.H=B||{},U&&X!==void 0&&(this.H.OSID=U,this.H.OAID=X),this.F=this.X,this.J=bh(this,null,this.W),Ua(this)};function Gu(v){if(Xu(v),v.I==3){var B=v.V++,U=Bi(v.J);if(Ft(U,"SID",v.M),Ft(U,"RID",B),Ft(U,"TYPE","terminate"),ea(v,U),B=new Fi(v,v.j,B),B.M=2,B.A=Fa(Bi(U)),U=!1,a.navigator&&a.navigator.sendBeacon)try{U=a.navigator.sendBeacon(B.A.toString(),"")}catch{}!U&&a.Image&&(new Image().src=B.A,U=!0),U||(B.g=jg(B.j,null),B.g.ea(B.A)),B.F=Date.now(),sc(B)}gc(v)}function bi(v){v.g&&(pc(v),v.g.cancel(),v.g=null)}function Xu(v){bi(v),v.v&&(a.clearTimeout(v.v),v.v=null),Yu(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&a.clearTimeout(v.m),v.m=null)}function Ua(v){if(!lh(v.h)&&!v.m){v.m=!0;var B=v.Ea;I||S(),j||(I(),j=!0),C.add(B,v),v.D=0}}function Ig(v,B){return oc(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=B.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=qs(d(v.Ea,v,B),Ju(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const ue=new Fi(this,this.j,v);let ge=this.o;if(this.U&&(ge?(ge=$(ge),Z(ge,this.U)):ge=this.U),this.u!==null||this.R||(ue.J=ge,ge=null),this.S)e:{for(var B=0,U=0;U<this.i.length;U++){t:{var X=this.i[U];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(B+=X,B>4096){B=U;break e}if(B===4096||U===this.i.length-1){B=U+1;break e}}B=1e3}else B=1e3;B=xh(this,ue,B),U=Bi(this.J),Ft(U,"RID",v),Ft(U,"CVER",22),this.G&&Ft(U,"X-HTTP-Session-Id",this.G),ea(this,U),ge&&(this.R?B="headers="+Hs(Ng(ge))+"&"+B:this.u&&Wu(U,this.u,ge)),Uu(this.h,ue),this.Ra&&Ft(U,"TYPE","init"),this.S?(Ft(U,"$req",B),Ft(U,"SID","null"),ue.U=!0,ds(ue,U,null)):ds(ue,U,B),this.I=2}}else this.I==3&&(v?mc(this,v):this.i.length==0||lh(this.h)||mc(this))};function mc(v,B){var U;B?U=B.l:U=v.V++;const X=Bi(v.J);Ft(X,"SID",v.M),Ft(X,"RID",U),Ft(X,"AID",v.K),ea(v,X),v.u&&v.o&&Wu(X,v.u,v.o),U=new Fi(v,v.j,U,v.D+1),v.u===null&&(U.J=v.o),B&&(v.i=B.G.concat(v.i)),B=xh(v,U,1e3),U.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Uu(v.h,U),ds(U,X,B)}function ea(v,B){v.H&&q(v.H,function(U,X){Ft(B,X,U)}),v.l&&q({},function(U,X){Ft(B,X,U)})}function xh(v,B,U){U=Math.min(v.i.length,U);const X=v.l?d(v.l.Ka,v.l,v):null;e:{var ue=v.i;let ht=-1;for(;;){const jn=["count="+U];ht==-1?U>0?(ht=ue[0].g,jn.push("ofs="+ht)):ht=0:jn.push("ofs="+ht);let Ut=!0;for(let Mn=0;Mn<U;Mn++){var ge=ue[Mn].g;const _i=ue[Mn].map;if(ge-=ht,ge<0)ht=Math.max(0,ue[Mn].g-100),Ut=!1;else try{ge="req"+ge+"_"||"";try{var Ae=_i instanceof Map?_i:Object.entries(_i);for(const[qa,na]of Ae){let ra=na;l(na)&&(ra=Nt(na)),jn.push(ge+qa+"="+encodeURIComponent(ra))}}catch(qa){throw jn.push(ge+"type="+encodeURIComponent("_badmap")),qa}}catch{X&&X(_i)}}if(Ut){Ae=jn.join("&");break e}}Ae=void 0}return v=v.i.splice(0,U),B.G=v,Ae}function Ar(v){if(!v.g&&!v.v){v.Y=1;var B=v.Da;I||S(),j||(I(),j=!0),C.add(B,v),v.A=0}}function ta(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=qs(d(v.Da,v),Ju(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,Wo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=qs(d(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qt(10),bi(this),Wo(this))};function pc(v){v.B!=null&&(a.clearTimeout(v.B),v.B=null)}function Wo(v){v.g=new Fi(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var B=Bi(v.na);Ft(B,"RID","rpc"),Ft(B,"SID",v.M),Ft(B,"AID",v.K),Ft(B,"CI",v.F?"0":"1"),!v.F&&v.ia&&Ft(B,"TO",v.ia),Ft(B,"TYPE","xmlhttp"),ea(v,B),v.u&&v.o&&Wu(B,v.u,v.o),v.O&&(v.g.H=v.O);var U=v.g;v=v.ba,U.M=1,U.A=Fa(Bi(B)),U.u=null,U.R=!0,ah(U,v)}t.Va=function(){this.C!=null&&(this.C=null,bi(this),ta(this),Qt(19))};function Yu(v){v.C!=null&&(a.clearTimeout(v.C),v.C=null)}function Qu(v,B){var U=null;if(v.g==B){Yu(v),pc(v),v.g=null;var X=2}else if(ch(v.h,B))U=B.G,lc(v.h,B),X=1;else return;if(v.I!=0){if(B.o)if(X==1){U=B.u?B.u.length:0,B=Date.now()-B.F;var ue=v.D;X=Us(),tt(X,new ei(X,U)),Ua(v)}else Ar(v);else if(ue=B.m,ue==3||ue==0&&B.X>0||!(X==1&&Ig(v,B)||X==2&&ta(v)))switch(U&&U.length>0&&(B=v.h,B.i=B.i.concat(U)),ue){case 1:wi(v,5);break;case 4:wi(v,10);break;case 3:wi(v,6);break;default:wi(v,2)}}}function Ju(v,B){let U=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(U*=2),U*B}function wi(v,B){if(v.j.info("Error code "+B),B==2){var U=d(v.bb,v),X=v.Ua;const ue=!X;X=new Ws(X||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cc(X,"https"),Fa(X),ue?Ys(X.toString(),U):Qs(X.toString(),U)}else Qt(2);v.I=0,v.l&&v.l.pa(B),gc(v),Xu(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),Qt(2)):(this.j.info("Failed to ping google.com"),Qt(1))};function gc(v){if(v.I=0,v.ja=[],v.l){const B=yi(v.h);(B.length!=0||v.i.length!=0)&&(x(v.ja,B),x(v.ja,v.i),v.h.i.length=0,y(v.i),v.i.length=0),v.l.oa()}}function bh(v,B,U){var X=U instanceof Ws?Bi(U):new Ws(U);if(X.g!="")B&&(X.g=B+"."+X.g),Ks(X,X.u);else{var ue=a.location;X=ue.protocol,B=B?B+"."+ue.hostname:ue.hostname,ue=+ue.port;const ge=new Ws(null);X&&cc(ge,X),B&&(ge.g=B),ue&&Ks(ge,ue),U&&(ge.h=U),X=ge}return U=v.G,B=v.wa,U&&B&&Ft(X,U,B),Ft(X,"VER",v.ka),ea(v,X),X}function jg(v,B,U){if(B&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return B=v.Aa&&!v.ma?new Gt(new Ba({ab:U})):new Gt(v.ma),B.Fa(v.L),B}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function kg(){}t=kg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Zu(){}Zu.prototype.g=function(v,B){return new fr(v,B)};function fr(v,B){dt.call(this),this.g=new Ku(B),this.l=v,this.h=B&&B.messageUrlParams||null,v=B&&B.messageHeaders||null,B&&B.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=B&&B.initMessageHeaders||null,B&&B.messageContentType&&(v?v["X-WebChannel-Content-Type"]=B.messageContentType:v={"X-WebChannel-Content-Type":B.messageContentType}),B&&B.sa&&(v?v["X-WebChannel-Client-Profile"]=B.sa:v={"X-WebChannel-Client-Profile":B.sa}),this.g.U=v,(v=B&&B.Qb)&&!A(v)&&(this.g.u=v),this.A=B&&B.supportsCrossDomainXhr||!1,this.v=B&&B.sendRawJson||!1,(B=B&&B.httpSessionIdParam)&&!A(B)&&(this.g.G=B,v=this.h,v!==null&&B in v&&(v=this.h,B in v&&delete v[B])),this.j=new Ko(this)}m(fr,dt),fr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},fr.prototype.close=function(){Gu(this.g)},fr.prototype.o=function(v){var B=this.g;if(typeof v=="string"){var U={};U.__data__=v,v=U}else this.v&&(U={},U.__data__=Nt(v),v=U);B.i.push(new nw(B.Ya++,v)),B.I==3&&Ua(B)},fr.prototype.N=function(){this.g.l=null,delete this.j,Gu(this.g),delete this.g,fr.Z.N.call(this)};function Rg(v){pn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var B=v.__sm__;if(B){e:{for(const U in B){v=U;break e}v=void 0}(this.i=v)&&(v=this.i,B=B!==null&&v in B?B[v]:void 0),this.data=B}else this.data=v}m(Rg,pn);function Dg(){cs.call(this),this.status=1}m(Dg,cs);function Ko(v){this.g=v}m(Ko,kg),Ko.prototype.ra=function(){tt(this.g,"a")},Ko.prototype.qa=function(v){tt(this.g,new Rg(v))},Ko.prototype.pa=function(v){tt(this.g,new Dg)},Ko.prototype.oa=function(){tt(this.g,"b")},Zu.prototype.createWebChannel=Zu.prototype.g,fr.prototype.send=fr.prototype.o,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,UV=function(){return new Zu},$V=function(){return Us()},zV=In,FC={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pr.NO_ERROR=0,Pr.TIMEOUT=8,Pr.HTTP_ERROR=6,uv=Pr,On.COMPLETE="complete",BV=On,Tr.EventType=ur,ur.OPEN="a",ur.CLOSE="b",ur.ERROR="c",ur.MESSAGE="d",dt.prototype.listen=dt.prototype.J,gm=Tr,Gt.prototype.listenOnce=Gt.prototype.K,Gt.prototype.getLastError=Gt.prototype.Ha,Gt.prototype.getLastErrorCode=Gt.prototype.ya,Gt.prototype.getStatus=Gt.prototype.ca,Gt.prototype.getResponseJson=Gt.prototype.La,Gt.prototype.getResponseText=Gt.prototype.la,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Fa,FV=Gt}).apply(typeof Ay<"u"?Ay:typeof self<"u"?self:typeof window<"u"?window:{});let ir=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");let Vf="12.9.0";function EG(t){Vf=t}const cu=new US("@firebase/firestore");function Dd(){return cu.logLevel}function _e(t,...e){if(cu.logLevel<=Ct.DEBUG){const n=e.map(HS);cu.debug(`Firestore (${Vf}): ${t}`,...n)}}function Rn(t,...e){if(cu.logLevel<=Ct.ERROR){const n=e.map(HS);cu.error(`Firestore (${Vf}): ${t}`,...n)}}function uu(t,...e){if(cu.logLevel<=Ct.WARN){const n=e.map(HS);cu.warn(`Firestore (${Vf}): ${t}`,...n)}}function HS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Me(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,qV(t,r,n)}function qV(t,e,n){let r=`FIRESTORE (${Vf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rn(r),new Error(r)}function Ue(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||qV(e,i,r)}function ze(t,e){return t}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Ra{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Is{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class HV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class CG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ir.UNAUTHENTICATED)))}shutdown(){}}class TG{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class SG{constructor(e){this.t=e,this.currentUser=ir.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Is;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Is,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Is)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string",31837,{l:r}),new HV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string",2055,{h:e}),new ir(e)}}class NG{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ir.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class PG{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new NG(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ir.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ek{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AG{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0,3512);const r=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ek(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ek(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function IG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class WS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=IG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function BC(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return O1(i)===O1(s)?ct(i,s):O1(i)?1:-1}return ct(t.length,e.length)}const jG=55296,kG=57343;function O1(t){const e=t.charCodeAt(0);return e>=jG&&e<=kG}function lf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function WV(t){return t+"\0"}const tk="__name__";class ma{constructor(e,n,r){n===void 0?n=0:n>e.length&&Me(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Me(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ma.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ma?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=ma.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ct(e.length,n.length)}static compareSegments(e,n){const r=ma.isNumericId(e),i=ma.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ma.extractNumericId(e).compare(ma.extractNumericId(n)):BC(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return kl.fromString(e.substring(4,e.length-2))}}class Dt extends ma{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Dt(n)}static emptyPath(){return new Dt([])}}const RG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bn extends ma{construct(e,n,r){return new bn(e,n,r)}static isValidIdentifier(e){return RG.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tk}static keyField(){return new bn([tk])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Ne(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Ne(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new Ne(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bn(n)}static emptyPath(){return new bn([])}}class ke{constructor(e){this.path=e}static fromPath(e){return new ke(Dt.fromString(e))}static fromName(e){return new ke(Dt.fromString(e).popFirst(5))}static empty(){return new ke(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new Dt(e.slice()))}}function KV(t,e,n){if(!n)throw new Ne(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DG(t,e,n,r){if(e===!0&&r===!0)throw new Ne(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nk(t){if(!ke.isDocumentKey(t))throw new Ne(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rk(t){if(ke.isDocumentKey(t))throw new Ne(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function GV(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Sx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Me(12329,{type:typeof t})}function Vr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ne(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sx(t);throw new Ne(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function OG(t,e){if(e<=0)throw new Ne(ve.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function zn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Dp(t,e){if(!GV(t))throw new Ne(ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Ne(ve.INVALID_ARGUMENT,n);return!0}const ik=-62135596800,sk=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*sk);return new vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ik)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sk}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Dp(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-ik;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:zn("string",vt._jsonSchemaVersion),seconds:zn("number"),nanoseconds:zn("number")};class Ye{static fromTimestamp(e){return new Ye(e)}static min(){return new Ye(new vt(0,0))}static max(){return new Ye(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const cf=-1;class qv{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function zC(t){return t.fields.find((e=>e.kind===2))}function Dc(t){return t.fields.filter((e=>e.kind!==2))}qv.UNKNOWN_ID=-1;class dv{constructor(e,n){this.fieldPath=e,this.kind=n}}class qm{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new qm(0,Mi.min())}}function XV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ye.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Mi(i,ke.empty(),e)}function YV(t){return new Mi(t.readTime,t.key,cf)}class Mi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Mi(Ye.min(),ke.empty(),cf)}static max(){return new Mi(Ye.max(),ke.empty(),cf)}}function KS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}const QV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Jl(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==QV)throw t;_e("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Me(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let i=0,s=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++s,a&&s===i&&n()}),(c=>r(c)))})),a=!0,s===i&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((i=>i?le.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next((f=>{a[d]=f,++l,l===s&&r(a)}),(f=>i(f)))}}))}static doWhile(e,n){return new le(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}const Si="SimpleDb";class Nx{static open(e,n,r,i){try{return new Nx(n,e.transaction(i,r))}catch(s){throw new Tm(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Is,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Tm(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=GS(r.target.error);this.S.reject(new Tm(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(_e(Si,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new LG(n)}}class Rl{static delete(e){return _e(Si,"Removing database:",e),zc(CV().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!kV())return!1;if(Rl.F())return!0;const e=Gn(),n=Rl.M(e),r=0<n&&n<10,i=ZV(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Rl.M(Gn())===12.2&&Rn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(_e(Si,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new Tm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new Ne(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new Ne(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Tm(e,a))},i.onupgradeneeded=s=>{_e(Si,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{_e(Si,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const l=Nx.open(this.db,e,s?"readonly":"readwrite",r),c=i(l).next((d=>(l.C(),d))).catch((d=>(l.abort(d),le.reject(d)))).toPromise();return c.catch((()=>{})),await l.D,c}catch(l){const c=l,d=c.name!=="FirebaseError"&&a<3;if(_e(Si,"Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ZV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class MG{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return zc(this.U.delete())}}class Tm extends Ne{constructor(e,n){super(ve.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Zl(t){return t.name==="IndexedDbTransactionError"}class LG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(_e(Si,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(_e(Si,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),zc(r)}add(e){return _e(Si,"ADD",this.store.name,e,e),zc(this.store.add(e))}get(e){return zc(this.store.get(e)).next((n=>(n===void 0&&(n=null),_e(Si,"GET",this.store.name,e,n),n)))}delete(e){return _e(Si,"DELETE",this.store.name,e),zc(this.store.delete(e))}count(){return _e(Si,"COUNT",this.store.name),zc(this.store.count())}H(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new le(((a,l)=>{s.onerror=c=>{l(c.target.error)},s.onsuccess=c=>{a(c.target.result)}}))}{const s=this.cursor(r),a=[];return this.J(s,((l,c)=>{a.push(c)})).next((()=>a))}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new le(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}X(e,n){_e(Si,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.J(i,((s,a,l)=>l.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}te(e){const n=this.cursor({});return new le(((r,i)=>{n.onerror=s=>{const a=GS(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((l=>{l?a.continue():r()})):r()}}))}J(e,n){const r=[];return new le(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void i();const c=new MG(l),d=n(l.primaryKey,l.value,c);if(d instanceof le){const f=d.catch((m=>(c.done(),le.reject(m))));r.push(f)}c.isDone?i():c.G===null?l.continue():l.continue(c.G)}})).next((()=>le.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function zc(t){return new le(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=GS(r.target.error);n(i)}}))}let ak=!1;function GS(t){const e=Rl.M(Gn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ak||(ak=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Sm="IndexBackfiller";class VG{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){_e(Sm,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();_e(Sm,`Documents written: ${n}`)}catch(n){Zl(n)?_e(Sm,"Ignoring IndexedDB error during index backfill: ",n):await Jl(n)}await this.re(6e4)}))}}class FG{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return le.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return _e(Sm,`Processing collection: ${a}`),this.oe(e,a,i).next((l=>{i-=l,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((l=>(_e(Sm,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=YV(s);KS(a,r)>0&&(r=a)})),new Mi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class li{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}li.ce=-1;const Zc=-1;function Op(t){return t==null}function Hm(t){return t===0&&1/t==-1/0}function e6(t){return typeof t=="number"&&Number.isInteger(t)&&!Hm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const Hv="";function Fr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=ok(e)),e=BG(t.get(n),e);return ok(e)}function BG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Hv:n+="";break;default:n+=s}}return n}function ok(t){return t+Hv+""}function va(t){const e=t.length;if(Ue(e>=2,64408,{path:t}),e===2)return Ue(t.charAt(0)===Hv&&t.charAt(1)==="",56145,{path:t}),Dt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(Hv,s);switch((a<0||a>n)&&Me(50515,{path:t}),t.charAt(a+1)){case"":const l=t.substring(s,a);let c;i.length===0?c=l:(i+=l,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Me(61167,{path:t})}s=a+2}return new Dt(r)}const Oc="remoteDocuments",Mp="owner",wd="owner",Wm="mutationQueues",zG="userId",Es="mutations",lk="batchId",Hc="userMutationsIndex",ck=["userId","batchId"];function fv(t,e){return[t,Fr(e)]}function t6(t,e,n){return[t,Fr(e),n]}const $G={},uf="documentMutations",Wv="remoteDocumentsV14",UG=["prefixPath","collectionGroup","readTime","documentId"],hv="documentKeyIndex",qG=["prefixPath","collectionGroup","documentId"],n6="collectionGroupIndex",HG=["collectionGroup","readTime","prefixPath","documentId"],Km="remoteDocumentGlobal",$C="remoteDocumentGlobalKey",df="targets",r6="queryTargetsIndex",WG=["canonicalId","targetId"],ff="targetDocuments",KG=["targetId","path"],XS="documentTargetsIndex",GG=["path","targetId"],Kv="targetGlobalKey",eu="targetGlobal",Gm="collectionParents",XG=["collectionId","parent"],hf="clientMetadata",YG="clientId",Px="bundles",QG="bundleId",Ax="namedQueries",JG="name",YS="indexConfiguration",ZG="indexId",UC="collectionGroupIndex",eX="collectionGroup",Nm="indexState",tX=["indexId","uid"],i6="sequenceNumberIndex",nX=["uid","sequenceNumber"],Pm="indexEntries",rX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],s6="documentKeyIndex",iX=["indexId","uid","orderedDocumentKey"],Ix="documentOverlays",sX=["userId","collectionPath","documentId"],qC="collectionPathOverlayIndex",aX=["userId","collectionPath","largestBatchId"],a6="collectionGroupOverlayIndex",oX=["userId","collectionGroup","largestBatchId"],QS="globals",lX="name",o6=[Wm,Es,uf,Oc,df,Mp,eu,ff,hf,Km,Gm,Px,Ax],cX=[...o6,Ix],l6=[Wm,Es,uf,Wv,df,Mp,eu,ff,hf,Km,Gm,Px,Ax,Ix],c6=l6,JS=[...c6,YS,Nm,Pm],uX=JS,u6=[...JS,QS],dX=u6;class HC extends JV{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Xn(t,e){const n=ze(t);return Rl.O(n.le,e)}function uk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ec(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function d6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class tn{constructor(e,n){this.comparator=e,this.root=n||vr.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,vr.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Iy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Iy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Iy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Iy(this.root,e,this.comparator,!0)}}class Iy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??vr.RED,this.left=i??vr.EMPTY,this.right=s??vr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new vr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return vr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Me(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Me(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Me(27949);return e+(this.isRed()?0:1)}}vr.EMPTY=null,vr.RED=!0,vr.BLACK=!1;vr.EMPTY=new class{constructor(){this.size=0}get key(){throw Me(57766)}get value(){throw Me(16141)}get color(){throw Me(16727)}get left(){throw Me(29726)}get right(){throw Me(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new vr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dk(this.data.getIterator())}getIteratorFrom(e){return new dk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class dk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _d(t){return t.hasNext()?t.getNext():void 0}class ci{constructor(e){this.fields=e,e.sort(bn.comparator)}static empty(){return new ci([])}unionWith(e){let n=new Wt(bn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ci(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class f6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new f6("Invalid base64 string: "+s):s}})(e);return new Dn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Dn.EMPTY_BYTE_STRING=new Dn("");const fX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function po(t){if(Ue(!!t,39018),typeof t=="string"){let e=0;const n=fX.exec(t);if(Ue(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:un(t.seconds),nanos:un(t.nanos)}}function un(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function go(t){return typeof t=="string"?Dn.fromBase64String(t):Dn.fromUint8Array(t)}const h6="server_timestamp",m6="__type__",p6="__previous_value__",g6="__local_write_time__";function ZS(t){return(t?.mapValue?.fields||{})[m6]?.stringValue===h6}function jx(t){const e=t.mapValue.fields[p6];return ZS(e)?jx(e):e}function Xm(t){const e=po(t.mapValue.fields[g6].timestampValue);return new vt(e.seconds,e.nanos)}class hX{constructor(e,n,r,i,s,a,l,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f,this.apiKey=m}}const Ym="(default)";class du{constructor(e,n){this.projectId=e,this.database=n||Ym}static empty(){return new du("","")}get isDefaultDatabase(){return this.database===Ym}isEqual(e){return e instanceof du&&e.projectId===this.projectId&&e.database===this.database}}function mX(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ne(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new du(t.options.projectId,e)}const eN="__type__",y6="__max__",Tl={mapValue:{fields:{__type__:{stringValue:y6}}}},tN="__vector__",mf="value",mv={nullValue:"NULL_VALUE"};function $l(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ZS(t)?4:v6(t)?9007199254740991:kx(t)?10:11:Me(28295,{value:t})}function Na(t,e){if(t===e)return!0;const n=$l(t);if(n!==$l(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xm(t).isEqual(Xm(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=po(i.timestampValue),l=po(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return go(i.bytesValue).isEqual(go(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return un(i.geoPointValue.latitude)===un(s.geoPointValue.latitude)&&un(i.geoPointValue.longitude)===un(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return un(i.integerValue)===un(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=un(i.doubleValue),l=un(s.doubleValue);return a===l?Hm(a)===Hm(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return lf(t.arrayValue.values||[],e.arrayValue.values||[],Na);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(uk(a)!==uk(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Na(a[c],l[c])))return!1;return!0})(t,e);default:return Me(52216,{left:t})}}function Qm(t,e){return(t.values||[]).find((n=>Na(n,e)))!==void 0}function Ul(t,e){if(t===e)return 0;const n=$l(t),r=$l(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const l=un(s.integerValue||s.doubleValue),c=un(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return fk(t.timestampValue,e.timestampValue);case 4:return fk(Xm(t),Xm(e));case 5:return BC(t.stringValue,e.stringValue);case 6:return(function(s,a){const l=go(s),c=go(a);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const l=s.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=ct(l[d],c[d]);if(f!==0)return f}return ct(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const l=ct(un(s.latitude),un(a.latitude));return l!==0?l:ct(un(s.longitude),un(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return hk(t.arrayValue,e.arrayValue);case 10:return(function(s,a){const l=s.fields||{},c=a.fields||{},d=l[mf]?.arrayValue,f=c[mf]?.arrayValue,m=ct(d?.values?.length||0,f?.values?.length||0);return m!==0?m:hk(d,f)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Tl.mapValue&&a===Tl.mapValue)return 0;if(s===Tl.mapValue)return 1;if(a===Tl.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),d=a.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const p=BC(c[m],f[m]);if(p!==0)return p;const y=Ul(l[c[m]],d[f[m]]);if(y!==0)return y}return ct(c.length,f.length)})(t.mapValue,e.mapValue);default:throw Me(23264,{he:n})}}function fk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=po(t),r=po(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function hk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ul(n[i],r[i]);if(s)return s}return ct(n.length,r.length)}function pf(t){return WC(t)}function WC(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=po(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return go(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return ke.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=WC(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${WC(n.fields[a])}`;return i+"}"})(t.mapValue):Me(61005,{value:t})}function pv(t){switch($l(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jx(t);return e?16+pv(e):16;case 5:return 2*t.stringValue.length;case 6:return go(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+pv(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return ec(r.fields,((s,a)=>{i+=s.length+pv(a)})),i})(t.mapValue);default:throw Me(13486,{value:t})}}function Jm(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function KC(t){return!!t&&"integerValue"in t}function Zm(t){return!!t&&"arrayValue"in t}function mk(t){return!!t&&"nullValue"in t}function pk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function gv(t){return!!t&&"mapValue"in t}function kx(t){return(t?.mapValue?.fields||{})[eN]?.stringValue===tN}function Am(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ec(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Am(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Am(t.arrayValue.values[n]);return e}return{...t}}function v6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===y6}const x6={mapValue:{fields:{[eN]:{stringValue:tN},[mf]:{arrayValue:{}}}}};function pX(t){return"nullValue"in t?mv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Jm(du.empty(),ke.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?kx(t)?x6:{mapValue:{}}:Me(35942,{value:t})}function gX(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Jm(du.empty(),ke.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?x6:"mapValue"in t?kx(t)?{mapValue:{}}:Tl:Me(61959,{value:t})}function gk(t,e){const n=Ul(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function yk(t,e){const n=Ul(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!gv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Am(n)}setAll(e){let n=bn.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=Am(a):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());gv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Na(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];gv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ec(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new xr(Am(this.value))}}function b6(t){const e=[];return ec(t.fields,((n,r)=>{const i=new bn([n]);if(gv(r)){const s=b6(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new ci(e)}class dn{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new dn(e,0,Ye.min(),Ye.min(),Ye.min(),xr.empty(),0)}static newFoundDocument(e,n,r,i){return new dn(e,1,n,Ye.min(),r,i,0)}static newNoDocument(e,n){return new dn(e,2,n,Ye.min(),Ye.min(),xr.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,Ye.min(),Ye.min(),xr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gf{constructor(e,n){this.position=e,this.inclusive=n}}function vk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=ke.comparator(ke.fromName(a.referenceValue),n.key):r=Ul(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function xk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Na(t.position[n],e.position[n]))return!1;return!0}class ep{constructor(e,n="asc"){this.field=e,this.dir=n}}function yX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class w6{}class St extends w6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new vX(e,n,r):n==="array-contains"?new wX(e,r):n==="in"?new N6(e,r):n==="not-in"?new _X(e,r):n==="array-contains-any"?new EX(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xX(e,r):new bX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ul(n,this.value)):n!==null&&$l(this.value)===$l(n)&&this.matchesComparison(Ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Me(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ht extends w6{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ht(e,n)}matches(e){return yf(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yf(t){return t.op==="and"}function GC(t){return t.op==="or"}function nN(t){return _6(t)&&yf(t)}function _6(t){for(const e of t.filters)if(e instanceof Ht)return!1;return!0}function XC(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+pf(t.value);if(nN(t))return t.filters.map((e=>XC(e))).join(",");{const e=t.filters.map((n=>XC(n))).join(",");return`${t.op}(${e})`}}function E6(t,e){return t instanceof St?(function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&Na(r.value,i.value)})(t,e):t instanceof Ht?(function(r,i){return i instanceof Ht&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,l)=>s&&E6(a,i.filters[l])),!0):!1})(t,e):void Me(19439)}function C6(t,e){const n=t.filters.concat(e);return Ht.create(n,t.op)}function T6(t){return t instanceof St?(function(n){return`${n.field.canonicalString()} ${n.op} ${pf(n.value)}`})(t):t instanceof Ht?(function(n){return n.op.toString()+" {"+n.getFilters().map(T6).join(" ,")+"}"})(t):"Filter"}class vX extends St{constructor(e,n,r){super(e,n,r),this.key=ke.fromName(r.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class xX extends St{constructor(e,n){super(e,"in",n),this.keys=S6("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class bX extends St{constructor(e,n){super(e,"not-in",n),this.keys=S6("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function S6(t,e){return(e.arrayValue?.values||[]).map((n=>ke.fromName(n.referenceValue)))}class wX extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zm(n)&&Qm(n.arrayValue,this.value)}}class N6 extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Qm(this.value.arrayValue,n)}}class _X extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(Qm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Qm(this.value.arrayValue,n)}}class EX extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Qm(this.value.arrayValue,r)))}}class CX{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function YC(t,e=null,n=[],r=[],i=null,s=null,a=null){return new CX(t,e,n,r,i,s,a)}function fu(t){const e=ze(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>XC(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),Op(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>pf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>pf(r))).join(",")),e.Te=n}return e.Te}function Lp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!yX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!E6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xk(t.startAt,e.startAt)&&xk(t.endAt,e.endAt)}function Gv(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Xv(t,e){return t.filters.filter((n=>n instanceof St&&n.field.isEqual(e)))}function bk(t,e,n){let r=mv,i=!0;for(const s of Xv(t,e)){let a=mv,l=!0;switch(s.op){case"<":case"<=":a=pX(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,l=!1;break;case"!=":case"not-in":a=mv}gk({value:r,inclusive:i},{value:a,inclusive:l})<0&&(r=a,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];gk({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function wk(t,e,n){let r=Tl,i=!0;for(const s of Xv(t,e)){let a=Tl,l=!0;switch(s.op){case">=":case">":a=gX(s.value),l=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,l=!1;break;case"!=":case"not-in":a=Tl}yk({value:r,inclusive:i},{value:a,inclusive:l})>0&&(r=a,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];yk({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}class Ff{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function P6(t,e,n,r,i,s,a,l){return new Ff(t,e,n,r,i,s,a,l)}function Vp(t){return new Ff(t)}function _k(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function TX(t){return ke.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function A6(t){return t.collectionGroup!==null}function Im(t){const e=ze(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Wt(bn.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new ep(s,r))})),n.has(bn.keyField().canonicalString())||e.Ie.push(new ep(bn.keyField(),r))}return e.Ie}function ki(t){const e=ze(t);return e.Ee||(e.Ee=SX(e,Im(t))),e.Ee}function SX(t,e){if(t.limitType==="F")return YC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new ep(i.field,s)}));const n=t.endAt?new gf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gf(t.startAt.position,t.startAt.inclusive):null;return YC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function QC(t,e){const n=t.filters.concat([e]);return new Ff(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function NX(t,e){const n=t.explicitOrderBy.concat([e]);return new Ff(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Yv(t,e,n){return new Ff(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Rx(t,e){return Lp(ki(t),ki(e))&&t.limitType===e.limitType}function I6(t){return`${fu(ki(t))}|lt:${t.limitType}`}function Od(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>T6(i))).join(", ")}]`),Op(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>pf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>pf(i))).join(",")),`Target(${r})`})(ki(t))}; limitType=${t.limitType})`}function Fp(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ke.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Im(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,c){const d=vk(a,l,c);return a.inclusive?d<=0:d<0})(r.startAt,Im(r),i)||r.endAt&&!(function(a,l,c){const d=vk(a,l,c);return a.inclusive?d>=0:d>0})(r.endAt,Im(r),i))})(t,e)}function j6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function k6(t){return(e,n)=>{let r=!1;for(const i of Im(t)){const s=PX(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function PX(t,e,n){const r=t.field.isKeyField()?ke.comparator(e.key,n.key):(function(s,a,l){const c=a.data.field(s),d=l.data.field(s);return c!==null&&d!==null?Ul(c,d):Me(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Me(19790,{direction:t.dir})}}class Po{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ec(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return d6(this.inner)}size(){return this.innerSize}}const AX=new tn(ke.comparator);function Ai(){return AX}const R6=new tn(ke.comparator);function ym(...t){let e=R6;for(const n of t)e=e.insert(n.key,n);return e}function D6(t){let e=R6;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function xa(){return jm()}function O6(){return jm()}function jm(){return new Po((t=>t.toString()),((t,e)=>t.isEqual(e)))}const IX=new tn(ke.comparator),jX=new Wt(ke.comparator);function xt(...t){let e=jX;for(const n of t)e=e.add(n);return e}const kX=new Wt(ct);function rN(){return kX}function iN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hm(e)?"-0":e}}function M6(t){return{integerValue:""+t}}function RX(t,e){return e6(e)?M6(e):iN(t,e)}class Dx{constructor(){this._=void 0}}function DX(t,e,n){return t instanceof vf?(function(i,s){const a={fields:{[m6]:{stringValue:h6},[g6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ZS(s)&&(s=jx(s)),s&&(a.fields[p6]=s),{mapValue:a}})(n,e):t instanceof xf?V6(t,e):t instanceof bf?F6(t,e):(function(i,s){const a=L6(i,s),l=Ek(a)+Ek(i.Ae);return KC(a)&&KC(i.Ae)?M6(l):iN(i.serializer,l)})(t,e)}function OX(t,e,n){return t instanceof xf?V6(t,e):t instanceof bf?F6(t,e):n}function L6(t,e){return t instanceof tp?(function(r){return KC(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class vf extends Dx{}class xf extends Dx{constructor(e){super(),this.elements=e}}function V6(t,e){const n=B6(e);for(const r of t.elements)n.some((i=>Na(i,r)))||n.push(r);return{arrayValue:{values:n}}}class bf extends Dx{constructor(e){super(),this.elements=e}}function F6(t,e){let n=B6(e);for(const r of t.elements)n=n.filter((i=>!Na(i,r)));return{arrayValue:{values:n}}}class tp extends Dx{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ek(t){return un(t.integerValue||t.doubleValue)}function B6(t){return Zm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class z6{constructor(e,n){this.field=e,this.transform=n}}function MX(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof xf&&i instanceof xf||r instanceof bf&&i instanceof bf?lf(r.elements,i.elements,Na):r instanceof tp&&i instanceof tp?Na(r.Ae,i.Ae):r instanceof vf&&i instanceof vf})(t.transform,e.transform)}class LX{constructor(e,n){this.version=e,this.transformResults=n}}class fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fn}static exists(e){return new fn(void 0,e)}static updateTime(e){return new fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ox{}function $6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zf(t.key,fn.none()):new Bf(t.key,t.data,fn.none());{const n=t.data,r=xr.empty();let i=new Wt(bn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Ao(t.key,r,new ci(i.toArray()),fn.none())}}function VX(t,e,n){t instanceof Bf?(function(i,s,a){const l=i.value.clone(),c=Tk(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Ao?(function(i,s,a){if(!yv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Tk(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(U6(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function km(t,e,n,r){return t instanceof Bf?(function(s,a,l,c){if(!yv(s.precondition,a))return l;const d=s.value.clone(),f=Sk(s.fieldTransforms,c,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ao?(function(s,a,l,c){if(!yv(s.precondition,a))return l;const d=Sk(s.fieldTransforms,c,a),f=a.data;return f.setAll(U6(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,a,l){return yv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function FX(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=L6(r.transform,i||null);s!=null&&(n===null&&(n=xr.empty()),n.set(r.field,s))}return n||null}function Ck(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lf(r,i,((s,a)=>MX(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Bf extends Ox{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ao extends Ox{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function U6(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function Tk(t,e,n){const r=new Map;Ue(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,OX(a,l,n[i]))}return r}function Sk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,DX(s,a,e))}return r}class zf extends Ox{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sN extends Ox{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class aN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&VX(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=km(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=km(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=O6();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=$6(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Ye.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),xt())}isEqual(e){return this.batchId===e.batchId&&lf(this.mutations,e.mutations,((n,r)=>Ck(n,r)))&&lf(this.baseMutations,e.baseMutations,((n,r)=>Ck(n,r)))}}class oN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return IX})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new oN(e,n,r,i)}}class lN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class BX{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vn,At;function q6(t){switch(t){case ve.OK:return Me(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return Me(15467,{code:t})}}function H6(t){if(t===void 0)return Rn("GRPC error has no .code"),ve.UNKNOWN;switch(t){case Vn.OK:return ve.OK;case Vn.CANCELLED:return ve.CANCELLED;case Vn.UNKNOWN:return ve.UNKNOWN;case Vn.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case Vn.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case Vn.INTERNAL:return ve.INTERNAL;case Vn.UNAVAILABLE:return ve.UNAVAILABLE;case Vn.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case Vn.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case Vn.NOT_FOUND:return ve.NOT_FOUND;case Vn.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case Vn.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case Vn.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case Vn.ABORTED:return ve.ABORTED;case Vn.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case Vn.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case Vn.DATA_LOSS:return ve.DATA_LOSS;default:return Me(39323,{code:t})}}(At=Vn||(Vn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";function zX(){return new TextEncoder}const $X=new kl([4294967295,4294967295],0);function Nk(t){const e=zX().encode(t),n=new VV;return n.update(e),new Uint8Array(n.digest())}function Pk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new kl([n,r],0),new kl([i,s],0)]}class cN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vm(`Invalid padding: ${n}`);if(r<0)throw new vm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=kl.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(kl.fromNumber(r)));return i.compare($X)===1&&(i=new kl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Nk(e),[r,i]=Pk(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new cN(s,i,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const n=Nk(e),[r,i]=Pk(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.be(a)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Bp(Ye.min(),i,new tn(ct),Ai(),xt())}}class zp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zp(r,n,xt(),xt(),xt())}}class vv{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class W6{constructor(e,n){this.targetId=e,this.Ce=n}}class K6{constructor(e,n,r=Dn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ak{constructor(){this.ve=0,this.Fe=Ik(),this.Me=Dn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xt(),n=xt(),r=xt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Me(38017,{changeType:s})}})),new zp(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Ik()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ue(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class UX{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.He=jy(),this.Je=jy(),this.Ze=new tn(ct)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Me(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Gv(s))if(r===0){const a=new ke(s.path);this.et(n,a,dn.newNoDocument(a,Ye.min()))}else Ue(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=go(r).toUint8Array()}catch(c){if(c instanceof f6)return uu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new cN(a,i,s)}catch(c){return uu(c instanceof vm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const l=this.ot(a);if(l){if(s.current&&Gv(l.target)){const c=new ke(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,dn.newNoDocument(c,e))}s.Be&&(n.set(a,s.ke()),s.Ke())}}));let r=xt();this.Je.forEach(((s,a)=>{let l=!0;a.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new Bp(e,n,this.Ze,this.je,r);return this.je=Ai(),this.He=jy(),this.Je=jy(),this.Ze=new tn(ct),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Ak,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Wt(ct),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Wt(ct),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Ak),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function jy(){return new tn(ke.comparator)}function Ik(){return new tn(ke.comparator)}const qX={asc:"ASCENDING",desc:"DESCENDING"},HX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WX={and:"AND",or:"OR"};class KX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function JC(t,e){return t.useProto3Json||Op(e)?e:{value:e}}function wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GX(t,e){return wf(t,e.toTimestamp())}function sr(t){return Ue(!!t,49232),Ye.fromTimestamp((function(n){const r=po(n);return new vt(r.seconds,r.nanos)})(t))}function uN(t,e){return ZC(t,e).canonicalString()}function ZC(t,e){const n=(function(i){return new Dt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function X6(t){const e=Dt.fromString(t);return Ue(iF(e),10190,{key:e.toString()}),e}function np(t,e){return uN(t.databaseId,e.path)}function lo(t,e){const n=X6(e);if(n.get(1)!==t.databaseId.projectId)throw new Ne(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ne(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ke(J6(n))}function Y6(t,e){return uN(t.databaseId,e)}function Q6(t){const e=X6(t);return e.length===4?Dt.emptyPath():J6(e)}function eT(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function J6(t){return Ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function jk(t,e,n){return{name:np(t,e),fields:n.value.mapValue.fields}}function XX(t,e,n){const r=lo(t,e.name),i=sr(e.updateTime),s=e.createTime?sr(e.createTime):Ye.min(),a=new xr({mapValue:{fields:e.fields}}),l=dn.newFoundDocument(r,i,s,a);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function YX(t,e){return"found"in e?(function(r,i){Ue(!!i.found,43571),i.found.name,i.found.updateTime;const s=lo(r,i.found.name),a=sr(i.found.updateTime),l=i.found.createTime?sr(i.found.createTime):Ye.min(),c=new xr({mapValue:{fields:i.found.fields}});return dn.newFoundDocument(s,a,l,c)})(t,e):"missing"in e?(function(r,i){Ue(!!i.missing,3894),Ue(!!i.readTime,22933);const s=lo(r,i.missing),a=sr(i.readTime);return dn.newNoDocument(s,a)})(t,e):Me(7234,{result:e})}function QX(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Me(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(Ue(f===void 0||typeof f=="string",58123),Dn.fromBase64String(f||"")):(Ue(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Dn.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(d){const f=d.code===void 0?ve.UNKNOWN:H6(d.code);return new Ne(f,d.message||"")})(a);n=new K6(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lo(t,r.document.name),s=sr(r.document.updateTime),a=r.document.createTime?sr(r.document.createTime):Ye.min(),l=new xr({mapValue:{fields:r.document.fields}}),c=dn.newFoundDocument(i,s,a,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new vv(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lo(t,r.document),s=r.readTime?sr(r.readTime):Ye.min(),a=dn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new vv([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lo(t,r.document),s=r.removedTargetIds||[];n=new vv([],s,i,null)}else{if(!("filter"in e))return Me(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new BX(i,s),l=r.targetId;n=new W6(l,a)}}return n}function rp(t,e){let n;if(e instanceof Bf)n={update:jk(t,e.key,e.value)};else if(e instanceof zf)n={delete:np(t,e.key)};else if(e instanceof Ao)n={update:jk(t,e.key,e.data),updateMask:rY(e.fieldMask)};else{if(!(e instanceof sN))return Me(16599,{dt:e.type});n={verify:np(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const l=a.transform;if(l instanceof vf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof xf)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof bf)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof tp)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Me(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:GX(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Me(27497)})(t,e.precondition)),n}function tT(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?fn.updateTime(sr(s.updateTime)):s.exists!==void 0?fn.exists(s.exists):fn.none()})(e.currentDocument):fn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,l){let c=null;if("setToServerValue"in l)Ue(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new vf;else if("appendMissingElements"in l){const f=l.appendMissingElements.values||[];c=new xf(f)}else if("removeAllFromArray"in l){const f=l.removeAllFromArray.values||[];c=new bf(f)}else"increment"in l?c=new tp(a,l.increment):Me(16584,{proto:l});const d=bn.fromServerFormat(l.fieldPath);return new z6(d,c)})(t,i))):[];if(e.update){e.update.name;const i=lo(t,e.update.name),s=new xr({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(c){const d=c.fieldPaths||[];return new ci(d.map((f=>bn.fromServerFormat(f))))})(e.updateMask);return new Ao(i,s,a,n,r)}return new Bf(i,s,n,r)}if(e.delete){const i=lo(t,e.delete);return new zf(i,n)}if(e.verify){const i=lo(t,e.verify);return new sN(i,n)}return Me(1463,{proto:e})}function JX(t,e){return t&&t.length>0?(Ue(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?sr(i.updateTime):sr(s);return a.isEqual(Ye.min())&&(a=sr(s)),new LX(a,i.transformResults||[])})(n,e)))):[]}function Z6(t,e){return{documents:[Y6(t,e.path)]}}function eF(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Y6(t,i);const s=(function(d){if(d.length!==0)return rF(Ht.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(d){if(d.length!==0)return d.map((f=>(function(p){return{field:Md(p.field),direction:eY(p.dir)}})(f)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=JC(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function tF(t){let e=Q6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=(function(m){const p=nF(m);return p instanceof Ht&&nN(p)?p.getFilters():[p]})(n.where));let a=[];n.orderBy&&(a=(function(m){return m.map((p=>(function(x){return new ep(Ld(x.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(p)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let p;return p=typeof m=="object"?m.value:m,Op(p)?null:p})(n.limit));let c=null;n.startAt&&(c=(function(m){const p=!!m.before,y=m.values||[];return new gf(y,p)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const p=!m.before,y=m.values||[];return new gf(y,p)})(n.endAt)),P6(e,i,a,s,l,"F",c,d)}function ZX(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Me(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nF(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ld(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ld(n.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ld(n.unaryFilter.field);return St.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Ld(n.unaryFilter.field);return St.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Me(61313);default:return Me(60726)}})(t):t.fieldFilter!==void 0?(function(n){return St.create(Ld(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Me(58110);default:return Me(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ht.create(n.compositeFilter.filters.map((r=>nF(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Me(1026)}})(n.compositeFilter.op))})(t):Me(30097,{filter:t})}function eY(t){return qX[t]}function tY(t){return HX[t]}function nY(t){return WX[t]}function Md(t){return{fieldPath:t.canonicalString()}}function Ld(t){return bn.fromServerFormat(t.fieldPath)}function rF(t){return t instanceof St?(function(n){if(n.op==="=="){if(pk(n.value))return{unaryFilter:{field:Md(n.field),op:"IS_NAN"}};if(mk(n.value))return{unaryFilter:{field:Md(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(pk(n.value))return{unaryFilter:{field:Md(n.field),op:"IS_NOT_NAN"}};if(mk(n.value))return{unaryFilter:{field:Md(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Md(n.field),op:tY(n.op),value:n.value}}})(t):t instanceof Ht?(function(n){const r=n.getFilters().map((i=>rF(i)));return r.length===1?r[0]:{compositeFilter:{op:nY(n.op),filters:r}}})(t):Me(54877,{filter:t})}function rY(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function iF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function sF(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class ro{constructor(e,n,r,i,s=Ye.min(),a=Ye.min(),l=Dn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aF{constructor(e){this.yt=e}}function iY(t,e){let n;if(e.document)n=XX(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ke.fromSegments(e.noDocument.path),i=mu(e.noDocument.readTime);n=dn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Me(56709);{const r=ke.fromSegments(e.unknownDocument.path),i=mu(e.unknownDocument.version);n=dn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new vt(i[0],i[1]);return Ye.fromTimestamp(s)})(e.readTime)),n}function kk(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Qv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:np(s,a.key),fields:a.data.value.mapValue.fields,updateTime:wf(s,a.version.toTimestamp()),createTime:wf(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:hu(e.version)};else{if(!e.isUnknownDocument())return Me(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:hu(e.version)}}return r}function Qv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function hu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function mu(t){const e=new vt(t.seconds,t.nanoseconds);return Ye.fromTimestamp(e)}function $c(t,e){const n=(e.baseMutations||[]).map((s=>tT(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];a.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>tT(t.yt,s))),i=vt.fromMillis(e.localWriteTimeMs);return new aN(e.batchId,i,n,r)}function xm(t){const e=mu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?mu(t.lastLimboFreeSnapshotVersion):Ye.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return Ue(a===1,1966,{count:a}),ki(Vp(Q6(s.documents[0])))})(t.query):(function(s){return ki(tF(s))})(t.query),new ro(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Dn.fromBase64String(t.resumeToken))}function oF(t,e){const n=hu(e.snapshotVersion),r=hu(e.lastLimboFreeSnapshotVersion);let i;i=Gv(e.target)?Z6(t.yt,e.target):eF(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:fu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function lF(t){const e=tF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Yv(e,e.limit,"L"):e}function M1(t,e){return new lN(e.largestBatchId,tT(t.yt,e.overlayMutation))}function Rk(t,e){const n=e.path.lastSegment();return[t,Fr(e.path.popLast()),n]}function Dk(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:hu(r.readTime),documentKey:Fr(r.documentKey.path),largestBatchId:r.largestBatchId}}class sY{getBundleMetadata(e,n){return Ok(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:mu(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return Ok(e).put((function(i){return{bundleId:i.id,createTime:hu(sr(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return Mk(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:lF(s.bundledQuery),readTime:mu(s.readTime)}})(r)}))}saveNamedQuery(e,n){return Mk(e).put((function(i){return{name:i.name,readTime:hu(sr(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function Ok(t){return Xn(t,Px)}function Mk(t){return Xn(t,Ax)}class Mx{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new Mx(e,r)}getOverlay(e,n){return Kh(e).get(Rk(this.userId,n)).next((r=>r?M1(this.serializer,r):null))}getOverlays(e,n){const r=xa();return le.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const l=new lN(n,a);i.push(this.bt(e,l))})),le.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(Fr(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(Kh(e).X(qC,l))})),le.waitFor(s)}getOverlaysForCollection(e,n,r){const i=xa(),s=Fr(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Kh(e).H(qC,a).next((l=>{for(const c of l){const d=M1(this.serializer,c);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=xa();let a;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Kh(e).ee({index:a6,range:l},((c,d,f)=>{const m=M1(this.serializer,d);s.size()<i||m.largestBatchId===a?(s.set(m.getKey(),m),a=m.largestBatchId):f.done()})).next((()=>s))}bt(e,n){return Kh(e).put((function(i,s,a){const[l,c,d]=Rk(s,a.mutation.key);return{userId:s,collectionPath:c,documentId:d,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:rp(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function Kh(t){return Xn(t,Ix)}class aY{St(e){return Xn(e,QS)}getSessionToken(e){return this.St(e).get("sessionToken").next((n=>{const r=n?.value;return r?Dn.fromUint8Array(r):Dn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Uc{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(un(e.integerValue));else if("doubleValue"in e){const r=un(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Hm(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=po(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(go(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?v6(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):kx(e)?this.kt(e.mapValue,n):(this.Kt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Nt(n)):Me(19022,{Ut:e})}Ot(e,n){this.Ft(n,25),this.$t(e,n)}$t(e,n){n.xt(e)}Kt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=mf,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(un(s)),this.Ot(i,n),this.Ct(r[i],n)}qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),ke.fromName(e).path.forEach((r=>{this.Ft(n,60),this.$t(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Uc.Wt=new Uc;const Ed=255;function oY(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function Lk(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=oY(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class lY{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=n.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const n=this.en(e),r=Lk(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=Lk(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(Ed),this.sn(255)}_n(){this.an(Ed),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===Ed?(this.sn(Ed),this.sn(0)):this.sn(n)}Ht(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===Ed?(this.an(Ed),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class cY{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class uY{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Gh{constructor(){this.cn=new lY,this.ascending=new cY(this.cn),this.descending=new uY(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class qc{constructor(e,n,r,i){this.hn=e,this.Pn=n,this.Tn=r,this.In=i}En(){const e=this.In.length,n=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.In,0),n!==e?r.set([0],this.In.length):++r[r.length-1],new qc(this.hn,this.Pn,this.Tn,r)}Rn(e,n,r){return{indexId:this.hn,uid:e,arrayValue:xv(this.Tn),directionalValue:xv(this.In),orderedDocumentKey:xv(n),documentKey:r.path.toArray()}}An(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function ll(t,e){let n=t.hn-e.hn;return n!==0?n:(n=Vk(t.Tn,e.Tn),n!==0?n:(n=Vk(t.In,e.In),n!==0?n:ke.comparator(t.Pn,e.Pn)))}function Vk(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function xv(t){return jV()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function Fk(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class Bk{constructor(e){this.Vn=new Wt(((n,r)=>bn.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(Ue(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=zC(e);if(n!==void 0&&!this.pn(n))return!1;const r=Dc(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.pn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Vn.size>0){const l=this.Vn.getIterator().getNext();if(!i.has(l.field.canonicalString())){const c=r[s];if(!this.yn(l,c)||!this.wn(this.dn[a++],c))return!1}++s}for(;s<r.length;++s){const l=r[s];if(a>=this.dn.length||!this.wn(this.dn[a++],l))return!1}return!0}bn(){if(this.fn)return null;let e=new Wt(bn.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new dv(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new dv(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new dv(r.field,r.dir==="asc"?0:1)));return new qv(qv.UNKNOWN_ID,this.collectionId,n,qm.empty())}pn(e){for(const n of this.mn)if(this.yn(n,e))return!0;return!1}yn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}wn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function cF(t){if(Ue(t instanceof St||t instanceof Ht,20012),t instanceof St){if(t instanceof N6){const n=t.value.arrayValue?.values?.map((r=>St.create(t.field,"==",r)))||[];return Ht.create(n,"or")}return t}const e=t.filters.map((n=>cF(n)));return Ht.create(e,t.op)}function dY(t){if(t.getFilters().length===0)return[];const e=iT(cF(t));return Ue(uF(e),7391),nT(e)||rT(e)?[e]:e.getFilters()}function nT(t){return t instanceof St}function rT(t){return t instanceof Ht&&nN(t)}function uF(t){return nT(t)||rT(t)||(function(n){if(n instanceof Ht&&GC(n)){for(const r of n.getFilters())if(!nT(r)&&!rT(r))return!1;return!0}return!1})(t)}function iT(t){if(Ue(t instanceof St||t instanceof Ht,34018),t instanceof St)return t;if(t.filters.length===1)return iT(t.filters[0]);const e=t.filters.map((r=>iT(r)));let n=Ht.create(e,t.op);return n=Jv(n),uF(n)?n:(Ue(n instanceof Ht,64498),Ue(yf(n),40251),Ue(n.filters.length>1,57927),n.filters.reduce(((r,i)=>dN(r,i))))}function dN(t,e){let n;return Ue(t instanceof St||t instanceof Ht,38388),Ue(e instanceof St||e instanceof Ht,25473),n=t instanceof St?e instanceof St?(function(i,s){return Ht.create([i,s],"and")})(t,e):zk(t,e):e instanceof St?zk(e,t):(function(i,s){if(Ue(i.filters.length>0&&s.filters.length>0,48005),yf(i)&&yf(s))return C6(i,s.getFilters());const a=GC(i)?i:s,l=GC(i)?s:i,c=a.filters.map((d=>dN(d,l)));return Ht.create(c,"or")})(t,e),Jv(n)}function zk(t,e){if(yf(e))return C6(e,t.getFilters());{const n=e.filters.map((r=>dN(t,r)));return Ht.create(n,"or")}}function Jv(t){if(Ue(t instanceof St||t instanceof Ht,11850),t instanceof St)return t;const e=t.getFilters();if(e.length===1)return Jv(e[0]);if(_6(t))return t;const n=e.map((i=>Jv(i))),r=[];return n.forEach((i=>{i instanceof St?r.push(i):i instanceof Ht&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Ht.create(r,t.op)}class fY{constructor(){this.Sn=new fN}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Mi.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class fN{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wt(Dt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(Dt.comparator)).toArray()}}const $k="IndexedDbIndexManager",ky=new Uint8Array(0);class hY{constructor(e,n){this.databaseId=n,this.Dn=new fN,this.Cn=new Po((r=>fu(r)),((r,i)=>Lp(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Dn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.Dn.add(n)}));const s={collectionId:r,parent:Fr(i)};return Uk(e).put(s)}return le.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[WV(n),""],!1,!0);return Uk(e).H(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(va(a.parent))}return r}))}addFieldIndex(e,n){const r=Xh(e),i=(function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=Td(e);return s.next((l=>{a.put(Dk(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=Xh(e),i=Td(e),s=Cd(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Xh(e),r=Cd(e),i=Td(e);return n.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,n){return le.forEach(this.vn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new Bk(r).bn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Cd(e);let i=!0;const s=new Map;return le.forEach(this.vn(n),(a=>this.Fn(e,a).next((l=>{i&&(i=!!l),s.set(a,l)})))).next((()=>{if(i){let a=xt();const l=[];return le.forEach(s,((c,d)=>{_e($k,`Using index ${(function(M){return`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map((z=>`${z.fieldPath}:${z.kind}`)).join(",")}`})(c)} to execute ${fu(n)}`);const f=(function(M,z){const I=zC(z);if(I===void 0)return null;for(const j of Xv(M,I.fieldPath))switch(j.op){case"array-contains-any":return j.value.arrayValue.values||[];case"array-contains":return[j.value]}return null})(d,c),m=(function(M,z){const I=new Map;for(const j of Dc(z))for(const C of Xv(M,j.fieldPath))switch(C.op){case"==":case"in":I.set(j.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return I.set(j.fieldPath.canonicalString(),C.value),Array.from(I.values())}return null})(d,c),p=(function(M,z){const I=[];let j=!0;for(const C of Dc(z)){const S=C.kind===0?bk(M,C.fieldPath,M.startAt):wk(M,C.fieldPath,M.startAt);I.push(S.value),j&&(j=S.inclusive)}return new gf(I,j)})(d,c),y=(function(M,z){const I=[];let j=!0;for(const C of Dc(z)){const S=C.kind===0?wk(M,C.fieldPath,M.endAt):bk(M,C.fieldPath,M.endAt);I.push(S.value),j&&(j=S.inclusive)}return new gf(I,j)})(d,c),x=this.Mn(c,d,p),b=this.Mn(c,d,y),_=this.xn(c,d,m),T=this.On(c.indexId,f,x,p.inclusive,b,y.inclusive,_);return le.forEach(T,(L=>r.Z(L,n.limit).next((M=>{M.forEach((z=>{const I=ke.fromSegments(z.documentKey);a.has(I)||(a=a.add(I),l.push(I))}))}))))})).next((()=>l))}return le.resolve(null)}))}vn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=dY(Ht.create(e.filters,"and")).map((r=>YC(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,n),n)}On(e,n,r,i,s,a,l){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),d=c/(n!=null?n.length:1),f=[];for(let m=0;m<c;++m){const p=n?this.Nn(n[m/d]):ky,y=this.Bn(e,p,r[m%d],i),x=this.Ln(e,p,s[m%d],a),b=l.map((_=>this.Bn(e,p,_,!0)));f.push(...this.createRange(y,x,b))}return f}Bn(e,n,r,i){const s=new qc(e,ke.empty(),n,r);return i?s:s.En()}Ln(e,n,r,i){const s=new qc(e,ke.empty(),n,r);return i?s.En():s}Fn(e,n){const r=new Bk(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const l of s)r.gn(l)&&(!a||l.fields.length>a.fields.length)&&(a=l);return a}))}getIndexType(e,n){let r=2;const i=this.vn(n);return le.forEach(i,(s=>this.Fn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(c){let d=new Wt(bn.comparator),f=!1;for(const m of c.filters)for(const p of m.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?f=!0:d=d.add(p.field));for(const m of c.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(f?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}kn(e,n){const r=new Gh;for(const i of Dc(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.ln(i.kind);Uc.Wt.Dt(s,a)}return r.un()}Nn(e){const n=new Gh;return Uc.Wt.Dt(e,n.ln(0)),n.un()}Kn(e,n){const r=new Gh;return Uc.Wt.Dt(Jm(this.databaseId,n),r.ln((function(s){const a=Dc(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}xn(e,n,r){if(r===null)return[];let i=[];i.push(new Gh);let s=0;for(const a of Dc(e)){const l=r[s++];for(const c of i)if(this.qn(n,a.fieldPath)&&Zm(l))i=this.Un(i,a,l);else{const d=c.ln(a.kind);Uc.Wt.Dt(l,d)}}return this.$n(i)}Mn(e,n,r){return this.xn(e,n,r.position)}$n(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Un(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const l of i){const c=new Gh;c.seed(l.un()),Uc.Wt.Dt(a,c.ln(n.kind)),s.push(c)}return s}qn(e,n){return!!e.filters.find((r=>r instanceof St&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Xh(e),i=Td(e);return(n?r.H(UC,IDBKeyRange.bound(n,n)):r.H()).next((s=>{const a=[];return le.forEach(s,(l=>i.get([l.indexId,this.uid]).next((c=>{a.push((function(f,m){const p=m?new qm(m.sequenceNumber,new Mi(mu(m.readTime),new ke(va(m.documentKey)),m.largestBatchId)):qm.empty(),y=f.fields.map((([x,b])=>new dv(bn.fromServerFormat(x),b)));return new qv(f.indexId,f.collectionGroup,y,p)})(l,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ct(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Xh(e),s=Td(e);return this.Wn(e).next((a=>i.H(UC,IDBKeyRange.bound(n,n)).next((l=>le.forEach(l,(c=>s.put(Dk(c.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return le.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?le.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((l=>(r.set(i.collectionGroup,l),le.forEach(l,(c=>this.Qn(e,i,c).next((d=>{const f=this.Gn(s,c);return d.isEqual(f)?le.resolve():this.zn(e,s,c,d,f)})))))))}))}jn(e,n,r,i){return Cd(e).put(i.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(e,n,r,i){return Cd(e).delete(i.An(this.uid,this.Kn(r,n.key),n.key))}Qn(e,n,r){const i=Cd(e);let s=new Wt(ll);return i.ee({index:s6,range:IDBKeyRange.only([r.indexId,this.uid,xv(this.Kn(r,n))])},((a,l)=>{s=s.add(new qc(r.indexId,n,Fk(l.arrayValue),Fk(l.directionalValue)))})).next((()=>s))}Gn(e,n){let r=new Wt(ll);const i=this.kn(n,e);if(i==null)return r;const s=zC(n);if(s!=null){const a=e.data.field(s.fieldPath);if(Zm(a))for(const l of a.arrayValue.values||[])r=r.add(new qc(n.indexId,e.key,this.Nn(l),i))}else r=r.add(new qc(n.indexId,e.key,ky,i));return r}zn(e,n,r,i,s){_e($k,"Updating index entries for document '%s'",n.key);const a=[];return(function(c,d,f,m,p){const y=c.getIterator(),x=d.getIterator();let b=_d(y),_=_d(x);for(;b||_;){let T=!1,L=!1;if(b&&_){const M=f(b,_);M<0?L=!0:M>0&&(T=!0)}else b!=null?L=!0:T=!0;T?(m(_),_=_d(x)):L?(p(b),b=_d(y)):(b=_d(y),_=_d(x))}})(i,s,ll,(l=>{a.push(this.jn(e,n,r,l))}),(l=>{a.push(this.Hn(e,n,r,l))})),le.waitFor(a)}Wn(e){let n=1;return Td(e).ee({index:i6,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,l)=>ll(a,l))).filter(((a,l,c)=>!l||ll(a,c[l-1])!==0));const i=[];i.push(e);for(const a of r){const l=ll(a,e),c=ll(a,n);if(l===0)i[0]=e.En();else if(l>0&&c<0)i.push(a),i.push(a.En());else if(c>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Jn(i[a],i[a+1]))return[];const l=i[a].An(this.uid,ky,ke.empty()),c=i[a+1].An(this.uid,ky,ke.empty());s.push(IDBKeyRange.bound(l,c))}return s}Jn(e,n){return ll(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(qk)}getMinOffset(e,n){return le.mapArray(this.vn(n),(r=>this.Fn(e,r).next((i=>i||Me(44426))))).next(qk)}}function Uk(t){return Xn(t,Gm)}function Cd(t){return Xn(t,Pm)}function Xh(t){return Xn(t,YS)}function Td(t){return Xn(t,Nm)}function qk(t){Ue(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;KS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Mi(e.readTime,e.documentKey,n)}const Hk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dF=41943040;class Mr{static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function fF(t,e,n){const r=t.store(Es),i=t.store(uf),s=[],a=IDBKeyRange.only(n.batchId);let l=0;const c=r.ee({range:a},((f,m,p)=>(l++,p.delete())));s.push(c.next((()=>{Ue(l===1,47070,{batchId:n.batchId})})));const d=[];for(const f of n.mutations){const m=t6(e,f.key.path,n.batchId);s.push(i.delete(m)),d.push(f.key)}return le.waitFor(s).next((()=>d))}function Zv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Me(14731);e=t.noDocument}return JSON.stringify(e).length}Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(dF,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);class Lx{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,n,r,i){Ue(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new Lx(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cl(e).ee({index:Hc,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=Vd(e),a=cl(e);return a.add({}).next((l=>{Ue(typeof l=="number",49019);const c=new aN(l,n,r,i),d=(function(y,x,b){const _=b.baseMutations.map((L=>rp(y.yt,L))),T=b.mutations.map((L=>rp(y.yt,L)));return{userId:x,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:_,mutations:T}})(this.serializer,this.userId,c),f=[];let m=new Wt(((p,y)=>ct(p.canonicalString(),y.canonicalString())));for(const p of i){const y=t6(this.userId,p.key.path,l);m=m.add(p.key.path.popLast()),f.push(a.put(d)),f.push(s.put(y,$G))}return m.forEach((p=>{f.push(this.indexManager.addToCollectionParentIndex(e,p))})),e.addOnCommittedListener((()=>{this.Zn[l]=c.keys()})),le.waitFor(f).next((()=>c))}))}lookupMutationBatch(e,n){return cl(e).get(n).next((r=>r?(Ue(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),$c(this.serializer,r)):null))}Xn(e,n){return this.Zn[n]?le.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return cl(e).ee({index:Hc,range:i},((a,l,c)=>{l.userId===this.userId&&(Ue(l.batchId>=r,47524,{Yn:r}),s=$c(this.serializer,l)),c.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Zc;return cl(e).ee({index:Hc,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Zc],[this.userId,Number.POSITIVE_INFINITY]);return cl(e).H(Hc,n).next((r=>r.map((i=>$c(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=fv(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Vd(e).ee({range:i},((a,l,c)=>{const[d,f,m]=a,p=va(f);if(d===this.userId&&n.path.isEqual(p))return cl(e).get(m).next((y=>{if(!y)throw Me(61480,{er:a,batchId:m});Ue(y.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:y.userId,batchId:m}),s.push($c(this.serializer,y))}));c.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(ct);const i=[];return n.forEach((s=>{const a=fv(this.userId,s.path),l=IDBKeyRange.lowerBound(a),c=Vd(e).ee({range:l},((d,f,m)=>{const[p,y,x]=d,b=va(y);p===this.userId&&s.path.isEqual(b)?r=r.add(x):m.done()}));i.push(c)})),le.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=fv(this.userId,r),a=IDBKeyRange.lowerBound(s);let l=new Wt(ct);return Vd(e).ee({range:a},((c,d,f)=>{const[m,p,y]=c,x=va(p);m===this.userId&&r.isPrefixOf(x)?x.length===i&&(l=l.add(y)):f.done()})).next((()=>this.tr(e,l)))}tr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(cl(e).get(s).next((a=>{if(a===null)throw Me(35274,{batchId:s});Ue(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push($c(this.serializer,a))})))})),le.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return fF(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.nr(n.batchId)})),le.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return le.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return Vd(e).ee({range:r},((s,a,l)=>{if(s[0]===this.userId){const c=va(s[1]);i.push(c)}else l.done()})).next((()=>{Ue(i.length===0,56720,{rr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return hF(e,this.userId,n)}ir(e){return mF(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Zc,lastStreamToken:""}))}}function hF(t,e,n){const r=fv(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Vd(t).ee({range:s,Y:!0},((l,c,d)=>{const[f,m,p]=l;f===e&&m===i&&(a=!0),d.done()})).next((()=>a))}function cl(t){return Xn(t,Es)}function Vd(t){return Xn(t,uf)}function mF(t){return Xn(t,Wm)}class pu{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new pu(0)}static ar(){return new pu(-1)}}class mY{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.ur(e).next((n=>{const r=new pu(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((n=>Ye.fromTimestamp(new vt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.cr(e,i))))}addTargetData(e,n){return this.lr(e,n).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(n,r),this.cr(e,r))))))}updateTargetData(e,n){return this.lr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Sd(e).delete(n.targetId))).next((()=>this.ur(e))).next((r=>(Ue(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Sd(e).ee(((a,l)=>{const c=xm(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))})).next((()=>le.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Sd(e).ee(((r,i)=>{const s=xm(i);n(s)}))}ur(e){return Wk(e).get(Kv).next((n=>(Ue(n!==null,2888),n)))}cr(e,n){return Wk(e).put(Kv,n)}lr(e,n){return Sd(e).put(oF(this.serializer,n))}hr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((n=>n.targetCount))}getTargetData(e,n){const r=fu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Sd(e).ee({range:i,index:r6},((a,l,c)=>{const d=xm(l);Lp(n,d.target)&&(s=d,c.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=bl(e);return n.forEach((a=>{const l=Fr(a.path);i.push(s.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,a))})),le.waitFor(i)}removeMatchingKeys(e,n,r){const i=bl(e);return le.forEach(n,(s=>{const a=Fr(s.path);return le.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=bl(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=bl(e);let s=xt();return i.ee({range:r,Y:!0},((a,l,c)=>{const d=va(a[1]),f=new ke(d);s=s.add(f)})).next((()=>s))}containsKey(e,n){const r=Fr(n.path),i=IDBKeyRange.bound([r],[WV(r)],!1,!0);let s=0;return bl(e).ee({index:XS,Y:!0,range:i},(([a,l],c,d)=>{a!==0&&(s++,d.done())})).next((()=>s>0))}At(e,n){return Sd(e).get(n).next((r=>r?xm(r):null))}}function Sd(t){return Xn(t,df)}function Wk(t){return Xn(t,eu)}function bl(t){return Xn(t,ff)}const Kk="LruGarbageCollector",pF=1048576;function Gk([t,e],[n,r]){const i=ct(t,n);return i===0?ct(e,r):i}class pY{constructor(e){this.Pr=e,this.buffer=new Wt(Gk),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Gk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){_e(Kk,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Zl(n)?_e(Kk,"Ignoring IndexedDB error during garbage collection: ",n):await Jl(n)}await this.Ar(3e5)}))}}class gY{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(li.ce);const r=new pY(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(Hk)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Hk):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,a,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),Dd()<=Ct.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function yF(t,e){return new gY(t,e)}class yY{constructor(e,n){this.db=e,this.garbageCollector=yF(this,n)}dr(e){const n=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}mr(e,n){return this.yr(e,((r,i)=>n(i)))}addReference(e,n,r){return Ry(e,r)}removeReference(e,n,r){return Ry(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Ry(e,n)}wr(e,n){return(function(i,s){let a=!1;return mF(i).te((l=>hF(i,l,s).next((c=>(c&&(a=!0),le.resolve(!c)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.yr(e,((a,l)=>{if(l<=n){const c=this.wr(e,a).next((d=>{if(!d)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Ye.min()),bl(e).delete((function(m){return[0,Fr(m.path)]})(a)))))}));i.push(c)}})).next((()=>le.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Ry(e,n)}yr(e,n){const r=bl(e);let i,s=li.ce;return r.ee({index:XS},(([a,l],{path:c,sequenceNumber:d})=>{a===0?(s!==li.ce&&n(new ke(va(i)),s),s=d,i=c):s=li.ce})).next((()=>{s!==li.ce&&n(new ke(va(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ry(t,e){return bl(t).put((function(r,i){return{targetId:0,path:Fr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class vF{constructor(){this.changes=new Po((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vY{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Ac(e).put(r)}removeEntry(e,n,r){return Ac(e).delete((function(s,a){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],Qv(a),l[l.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.br(e,r))))}getEntry(e,n){let r=dn.newInvalidDocument(n);return Ac(e).ee({index:hv,range:IDBKeyRange.only(Yh(n))},((i,s)=>{r=this.Sr(n,s)})).next((()=>r))}Dr(e,n){let r={size:0,document:dn.newInvalidDocument(n)};return Ac(e).ee({index:hv,range:IDBKeyRange.only(Yh(n))},((i,s)=>{r={document:this.Sr(n,s),size:Zv(s)}})).next((()=>r))}getEntries(e,n){let r=Ai();return this.Cr(e,n,((i,s)=>{const a=this.Sr(i,s);r=r.insert(i,a)})).next((()=>r))}vr(e,n){let r=Ai(),i=new tn(ke.comparator);return this.Cr(e,n,((s,a)=>{const l=this.Sr(s,a);r=r.insert(s,l),i=i.insert(s,Zv(a))})).next((()=>({documents:r,Fr:i})))}Cr(e,n,r){if(n.isEmpty())return le.resolve();let i=new Wt(Qk);n.forEach((c=>i=i.add(c)));const s=IDBKeyRange.bound(Yh(i.first()),Yh(i.last())),a=i.getIterator();let l=a.getNext();return Ac(e).ee({index:hv,range:s},((c,d,f)=>{const m=ke.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;l&&Qk(l,m)<0;)r(l,null),l=a.getNext();l&&l.isEqual(m)&&(r(l,d),l=a.hasNext()?a.getNext():null),l?f.j(Yh(l)):f.done()})).next((()=>{for(;l;)r(l,null),l=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,l=[a.popLast().toArray(),a.lastSegment(),Qv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ac(e).H(IDBKeyRange.bound(l,c,!0)).next((d=>{s?.incrementDocumentReadCount(d.length);let f=Ai();for(const m of d){const p=this.Sr(ke.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);p.isFoundDocument()&&(Fp(n,p)||i.has(p.key))&&(f=f.insert(p.key,p))}return f}))}getAllFromCollectionGroup(e,n,r,i){let s=Ai();const a=Yk(n,r),l=Yk(n,Mi.max());return Ac(e).ee({index:n6,range:IDBKeyRange.bound(a,l,!0)},((c,d,f)=>{const m=this.Sr(ke.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(m.key,m),s.size===i&&f.done()})).next((()=>s))}newChangeBuffer(e){return new xY(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return Xk(e).get($C).next((n=>(Ue(!!n,20021),n)))}br(e,n){return Xk(e).put($C,n)}Sr(e,n){if(n){const r=iY(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Ye.min())))return r}return dn.newInvalidDocument(e)}}function xF(t){return new vY(t)}class xY extends vF{constructor(e,n){super(),this.Mr=e,this.trackRemovals=n,this.Or=new Po((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Wt(((s,a)=>ct(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const l=this.Or.get(s);if(n.push(this.Mr.removeEntry(e,s,l.readTime)),a.isValidDocument()){const c=kk(this.Mr.serializer,a);i=i.add(s.path.popLast());const d=Zv(c);r+=d-l.size,n.push(this.Mr.addEntry(e,s,c))}else if(r-=l.size,this.trackRemovals){const c=kk(this.Mr.serializer,a.convertToNoDocument(Ye.min()));n.push(this.Mr.addEntry(e,s,c))}})),i.forEach((s=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Mr.updateMetadata(e,r)),le.waitFor(n)}getFromCache(e,n){return this.Mr.Dr(e,n).next((r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Mr.vr(e,n).next((({documents:r,Fr:i})=>(i.forEach(((s,a)=>{this.Or.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function Xk(t){return Xn(t,Km)}function Ac(t){return Xn(t,Wv)}function Yh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Yk(t,e){const n=e.documentKey.path.toArray();return[t,Qv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Qk(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ct(n[s],r[s]),i)return i;return i=ct(n.length,r.length),i||(i=ct(n[n.length-2],r[r.length-2]),i||ct(n[n.length-1],r[r.length-1]))}class bY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class bF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&km(r.mutation,i,ci.empty(),vt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,xt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=xt()){const i=xa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=ym();return s.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=xa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,xt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,i){let s=Ai();const a=jm(),l=(function(){return jm()})();return n.forEach(((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Ao)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),km(f.mutation,d,f.mutation.getFieldMask(),vt.now())):a.set(d.key,ci.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((d,f)=>a.set(d,f))),n.forEach(((d,f)=>l.set(d,new bY(f,a.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=jm();let i=new tn(((a,l)=>a-l)),s=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||ci.empty();f=l.applyToLocalView(d,f),r.set(c,f);const m=(i.get(l.batchId)||xt()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,m=O6();f.forEach((p=>{if(!s.has(p)){const y=$6(n.get(p),r.get(p));y!==null&&m.set(p,y),s=s.add(p)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return le.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return TX(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):A6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):le.resolve(xa());let l=cf,c=s;return a.next((d=>le.forEach(d,((f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?le.resolve():this.remoteDocumentCache.getEntry(e,f).next((p=>{c=c.insert(f,p)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,c,d,xt()))).next((f=>({batchId:l,changes:D6(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((r=>{let i=ym();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=ym();return this.indexManager.getCollectionParents(e,s).next((l=>le.forEach(l,(c=>{const d=(function(m,p){return new Ff(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((m,p)=>{a=a.insert(m,p)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((c,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,dn.newInvalidDocument(f)))}));let l=ym();return a.forEach(((c,d)=>{const f=s.get(c);f!==void 0&&km(f.mutation,d,ci.empty(),vt.now()),Fp(n,d)&&(l=l.insert(c,d))})),l}))}}class wY{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:sr(i.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:lF(i.bundledQuery),readTime:sr(i.readTime)}})(n)),le.resolve()}}class _Y{constructor(){this.overlays=new tn(ke.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xa();return le.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=xa(),s=n.length+1,a=new ke(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new tn(((d,f)=>d-f));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=xa(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=xa(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return le.resolve(l)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new lN(n,r));let s=this.Lr.get(n);s===void 0&&(s=xt(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class EY{constructor(){this.sessionToken=Dn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class hN{constructor(){this.kr=new Wt(nr.Kr),this.qr=new Wt(nr.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new nr(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new nr(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ke(new Dt([])),r=new nr(n,e),i=new nr(n,e+1),s=[];return this.qr.forEachInRange([r,i],(a=>{this.Wr(a),s.push(a.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ke(new Dt([])),r=new nr(n,e),i=new nr(n,e+1);let s=xt();return this.qr.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new nr(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nr{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ke.comparator(e.key,n.key)||ct(e.Hr,n.Hr)}static Ur(e,n){return ct(e.Hr,n.Hr)||ke.comparator(e.key,n.key)}}class CY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Wt(nr.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new aN(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Jr=this.Jr.add(new nr(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return le.resolve(a)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Zc:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nr(n,0),i=new nr(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(a=>{const l=this.Zr(a.Hr);s.push(l)})),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(ct);return n.forEach((i=>{const s=new nr(i,0),a=new nr(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],(l=>{r=r.add(l.Hr)}))})),le.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ke.isDocumentKey(s)||(s=s.child(""));const a=new nr(new ke(s),0);let l=new Wt(ct);return this.Jr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Hr)),!0)}),a),le.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ue(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return le.forEach(n.mutations,(i=>{const s=new nr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new nr(n,0),i=this.Jr.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class TY{constructor(e){this.ti=e,this.docs=(function(){return new tn(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let r=Ai();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():dn.newInvalidDocument(i))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ai();const a=n.path,l=new ke(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||KS(YV(f),r)<=0||(i.has(f.key)||Fp(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return le.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Me(9500)}ni(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new SY(this)}getSize(e){return le.resolve(this.size)}}class SY extends vF{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class NY{constructor(e){this.persistence=e,this.ri=new Po((n=>fu(n)),Lp),this.lastRemoteSnapshotVersion=Ye.min(),this.highestTargetId=0,this.ii=0,this.si=new hN,this.targetCount=0,this.oi=pu._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new pu(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),le.waitFor(s).next((()=>i))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),le.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}class mN{constructor(e,n){this._i={},this.overlays={},this.ai=new li(0),this.ui=!1,this.ui=!0,this.ci=new EY,this.referenceDelegate=e(this),this.li=new NY(this),this.indexManager=new fY,this.remoteDocumentCache=(function(i){return new TY(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new aF(n),this.Pi=new wY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _Y,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new CY(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new PY(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return le.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class PY extends JV{constructor(e){super(),this.currentSequenceNumber=e}}class Vx{constructor(e){this.persistence=e,this.Ri=new hN,this.Ai=null}static Vi(e){return new Vx(e)}get di(){if(this.Ai)return this.Ai;throw Me(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(r=>{const i=ke.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,Ye.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class e0{constructor(e,n){this.persistence=e,this.fi=new Po((r=>Fr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=yF(this,n)}static Vi(e,n){return new e0(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return le.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?le.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(a=>this.wr(e,a,n).next((l=>{l||(r++,s.removeEntry(a,Ye.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=pv(e.data.value)),n}wr(e,n,r){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class AY{constructor(e){this.serializer=e}k(e,n,r,i){const s=new Nx("createOrUpgrade",n);r<1&&i>=1&&((function(c){c.createObjectStore(Mp)})(e),(function(c){c.createObjectStore(Wm,{keyPath:zG}),c.createObjectStore(Es,{keyPath:lk,autoIncrement:!0}).createIndex(Hc,ck,{unique:!0}),c.createObjectStore(uf)})(e),Jk(e),(function(c){c.createObjectStore(Oc)})(e));let a=le.resolve();return r<3&&i>=3&&(r!==0&&((function(c){c.deleteObjectStore(ff),c.deleteObjectStore(df),c.deleteObjectStore(eu)})(e),Jk(e)),a=a.next((()=>(function(c){const d=c.store(eu),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ye.min().toTimestamp(),targetCount:0};return d.put(Kv,f)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(c,d){return d.store(Es).H().next((m=>{c.deleteObjectStore(Es),c.createObjectStore(Es,{keyPath:lk,autoIncrement:!0}).createIndex(Hc,ck,{unique:!0});const p=d.store(Es),y=m.map((x=>p.put(x)));return le.waitFor(y)}))})(e,s)))),a=a.next((()=>{(function(c){c.createObjectStore(hf,{keyPath:YG})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.gi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(c){c.createObjectStore(Km)})(e),this.pi(s))))),r<7&&i>=7&&(a=a.next((()=>this.yi(s)))),r<8&&i>=8&&(a=a.next((()=>this.wi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.bi(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(c){c.createObjectStore(Px,{keyPath:QG})})(e),(function(c){c.createObjectStore(Ax,{keyPath:JG})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(c){const d=c.createObjectStore(Ix,{keyPath:sX});d.createIndex(qC,aX,{unique:!1}),d.createIndex(a6,oX,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(c){const d=c.createObjectStore(Wv,{keyPath:UG});d.createIndex(hv,qG),d.createIndex(n6,HG)})(e))).next((()=>this.Si(e,s))).next((()=>e.deleteObjectStore(Oc)))),r<14&&i>=14&&(a=a.next((()=>this.Di(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(c){c.createObjectStore(YS,{keyPath:ZG,autoIncrement:!0}).createIndex(UC,eX,{unique:!1}),c.createObjectStore(Nm,{keyPath:tX}).createIndex(i6,nX,{unique:!1}),c.createObjectStore(Pm,{keyPath:rX}).createIndex(s6,iX,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(Nm).clear()})).next((()=>{n.objectStore(Pm).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(c){c.createObjectStore(QS,{keyPath:lX})})(e)}))),r<18&&i>=18&&jV()&&(a=a.next((()=>{n.objectStore(Nm).clear()})).next((()=>{n.objectStore(Pm).clear()}))),a}pi(e){let n=0;return e.store(Oc).ee(((r,i)=>{n+=Zv(i)})).next((()=>{const r={byteSize:n};return e.store(Km).put($C,r)}))}gi(e){const n=e.store(Wm),r=e.store(Es);return n.H().next((i=>le.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,Zc],[s.userId,s.lastAcknowledgedBatchId]);return r.H(Hc,a).next((l=>le.forEach(l,(c=>{Ue(c.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const d=$c(this.serializer,c);return fF(e,s.userId,d).next((()=>{}))}))))}))))}yi(e){const n=e.store(ff),r=e.store(Oc);return e.store(eu).get(Kv).next((i=>{const s=[];return r.ee(((a,l)=>{const c=new Dt(a),d=(function(m){return[0,Fr(m)]})(c);s.push(n.get(d).next((f=>f?le.resolve():(m=>n.put({targetId:0,path:Fr(m),sequenceNumber:i.highestListenSequenceNumber}))(c))))})).next((()=>le.waitFor(s)))}))}wi(e,n){e.createObjectStore(Gm,{keyPath:XG});const r=n.store(Gm),i=new fN,s=a=>{if(i.add(a)){const l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Fr(c)})}};return n.store(Oc).ee({Y:!0},((a,l)=>{const c=new Dt(a);return s(c.popLast())})).next((()=>n.store(uf).ee({Y:!0},(([a,l,c],d)=>{const f=va(l);return s(f.popLast())}))))}bi(e){const n=e.store(df);return n.ee(((r,i)=>{const s=xm(i),a=oF(this.serializer,s);return n.put(a)}))}Si(e,n){const r=n.store(Oc),i=[];return r.ee(((s,a)=>{const l=n.store(Wv),c=(function(m){return m.document?new ke(Dt.fromString(m.document.name).popFirst(5)):m.noDocument?ke.fromSegments(m.noDocument.path):m.unknownDocument?ke.fromSegments(m.unknownDocument.path):Me(36783)})(a).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(l.put(d))})).next((()=>le.waitFor(i)))}Di(e,n){const r=n.store(Es),i=xF(this.serializer),s=new mN(Vx.Vi,this.serializer.yt);return r.H().next((a=>{const l=new Map;return a.forEach((c=>{let d=l.get(c.userId)??xt();$c(this.serializer,c).keys().forEach((f=>d=d.add(f))),l.set(c.userId,d)})),le.forEach(l,((c,d)=>{const f=new ir(d),m=Mx.wt(this.serializer,f),p=s.getIndexManager(f),y=Lx.wt(f,this.serializer,p,s.referenceDelegate);return new bF(i,y,m,p).recalculateAndSaveOverlaysForDocumentKeys(new HC(n,li.ce),c).next()}))}))}}function Jk(t){t.createObjectStore(ff,{keyPath:KG}).createIndex(XS,GG,{unique:!0}),t.createObjectStore(df,{keyPath:"targetId"}).createIndex(r6,WG,{unique:!0}),t.createObjectStore(eu)}const ul="IndexedDbPersistence",L1=18e5,V1=5e3,F1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",IY="main";class pN{constructor(e,n,r,i,s,a,l,c,d,f,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ci=s,this.window=a,this.document=l,this.Fi=d,this.Mi=f,this.xi=m,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=p=>Promise.resolve(),!pN.v())throw new Ne(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new yY(this,i),this.Ki=n+IY,this.serializer=new aF(c),this.qi=new Rl(this.Ki,this.xi,new AY(this.serializer)),this.ci=new aY,this.li=new mY(this.referenceDelegate,this.serializer),this.remoteDocumentCache=xF(this.serializer),this.Pi=new sY,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,f===!1&&Rn(ul,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ve.FAILED_PRECONDITION,F1);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new li(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Dy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((n=>this.isPrimary&&!n?this.Ji(e).next((()=>!1)):!!n&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(Zl(e))return _e(ul,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _e(ul,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Qh(e).get(wd).next((n=>le.resolve(this.Xi(n))))}Yi(e){return Dy(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,L1)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Xn(n,hf);return r.H().next((i=>{const s=this.ns(i,L1),a=i.filter((l=>s.indexOf(l)===-1));return le.forEach(a,(l=>r.delete(l.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ui)for(const n of e)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?le.resolve(!0):Qh(e).get(wd).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,V1)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new Ne(ve.FAILED_PRECONDITION,F1);return!1}}return!(!this.networkEnabled||!this.inForeground)||Dy(e).H().next((r=>this.ns(r,V1).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(s||a&&l)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&_e(ul,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Mp,hf],(e=>{const n=new HC(e,li.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(e,n){return e.filter((r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>Dy(e).H().next((n=>this.ns(n,L1).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,n){return Lx.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new hY(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Mx.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,n,r){_e(ul,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(c){return c===18?dX:c===17?u6:c===16?uX:c===15?JS:c===14?c6:c===13?l6:c===12?cX:c===11?o6:void Me(60245)})(this.xi);let a;return this.qi.runTransaction(e,i,s,(l=>(a=new HC(l,this.ai?this.ai.next():li.ce),n==="readwrite-primary"?this.ji(a).next((c=>!!c||this.Hi(a))).next((c=>{if(!c)throw Rn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new Ne(ve.FAILED_PRECONDITION,QV);return r(a)})).next((c=>this.Zi(a).next((()=>c)))):this.Ps(a).next((()=>r(a)))))).then((l=>(a.raiseOnCommittedEvent(),l)))}Ps(e){return Qh(e).get(wd).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,V1)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Ne(ve.FAILED_PRECONDITION,F1)}))}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Qh(e).put(wd,n)}static v(){return Rl.v()}Ji(e){const n=Qh(e);return n.get(wd).next((r=>this.Xi(r)?(_e(ul,"Releasing primary lease."),n.delete(wd)):le.resolve()))}ts(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Rn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;IV()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const n=this.Ui?.getItem(this.rs(e))!==null;return _e(ul,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Rn(ul,"Failed to get zombied client id.",n),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Rn("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Qh(t){return Xn(t,Mp)}function Dy(t){return Xn(t,hf)}function wF(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class gN{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=xt(),i=xt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gN(e,n.fromCache,r,i)}}class jY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class _F{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return IV()?8:ZV(Gn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new jY;return this.ys(e,n,a).next((l=>{if(s.result=l,this.As)return this.ws(e,n,a,l.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Dd()<=Ct.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Od(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(Dd()<=Ct.DEBUG&&_e("QueryEngine","Query:",Od(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Dd()<=Ct.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Od(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ki(n))):le.resolve())}gs(e,n){if(_k(n))return le.resolve(null);let r=ki(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Yv(n,null,"F"),r=ki(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=xt(...s);return this.fs.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.bs(n,l);return this.Ss(n,d,a,c.readTime)?this.gs(e,Yv(n,null,"F")):this.Ds(e,d,n,c)}))))})))))}ps(e,n,r,i){return _k(n)||i.isEqual(Ye.min())?le.resolve(null):this.fs.getDocuments(e,r).next((s=>{const a=this.bs(n,s);return this.Ss(n,a,r,i)?le.resolve(null):(Dd()<=Ct.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Od(n)),this.Ds(e,a,n,XV(i,cf)).next((l=>l)))}))}bs(e,n){let r=new Wt(k6(e));return n.forEach(((i,s)=>{Fp(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return Dd()<=Ct.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Od(n)),this.fs.getDocumentsMatchingQuery(e,n,Mi.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}const yN="LocalStore",kY=3e8;class RY{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new tn(ct),this.Fs=new Po((s=>fu(s)),Lp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bF(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function EF(t,e,n,r){return new RY(t,e,n,r)}async function CF(t,e){const n=ze(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],l=[];let c=xt();for(const d of i){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ns:d,removedBatchIds:a,addedBatchIds:l})))}))}))}function DY(t,e){const n=ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,f){const m=d.batch,p=m.keys();let y=le.resolve();return p.forEach((x=>{y=y.next((()=>f.getEntry(c,x))).next((b=>{const _=d.docVersions.get(x);Ue(_!==null,48541),b.version.compareTo(_)<0&&(m.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),f.addEntry(b)))}))})),y.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=xt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function TF(t){const e=ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function OY(t,e){const n=ze(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const l=[];e.targetChanges.forEach(((f,m)=>{const p=i.get(m);if(!p)return;l.push(n.li.removeMatchingKeys(s,f.removedDocuments,m).next((()=>n.li.addMatchingKeys(s,f.addedDocuments,m))));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Dn.EMPTY_BYTE_STRING,Ye.min()).withLastLimboFreeSnapshotVersion(Ye.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(m,y),(function(b,_,T){return b.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=kY?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(p,y,f)&&l.push(n.li.updateTargetData(s,y))}));let c=Ai(),d=xt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))})),l.push(MY(s,a,e.documentUpdates).next((f=>{c=f.Bs,d=f.Ls}))),!r.isEqual(Ye.min())){const f=n.li.getLastRemoteSnapshotVersion(s).next((m=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(f)}return le.waitFor(l).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,c,d))).next((()=>c))})).then((s=>(n.vs=i,s)))}function MY(t,e,n){let r=xt(),i=xt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=Ai();return n.forEach(((l,c)=>{const d=s.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Ye.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):_e(yN,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{Bs:a,Ls:i}}))}function LY(t,e){const n=ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Zc),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function t0(t,e){const n=ze(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,le.resolve(i)):n.li.allocateTargetId(r).next((a=>(i=new ro(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function _f(t,e,n){const r=ze(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Zl(a))throw a;_e(yN,`Failed to update sequence numbers for target ${e}: ${a}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function sT(t,e,n){const r=ze(t);let i=Ye.min(),s=xt();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,d,f){const m=ze(c),p=m.Fs.get(f);return p!==void 0?le.resolve(m.vs.get(p)):m.li.getTargetData(d,f)})(r,a,ki(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(a,l.targetId).next((c=>{s=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Ye.min(),n?s:xt()))).next((l=>(PF(r,j6(e),l),{documents:l,ks:s})))))}function SF(t,e){const n=ze(t),r=ze(n.li),i=n.vs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function NF(t,e){const n=ze(t),r=n.Ms.get(e)||Ye.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.xs.getAllFromCollectionGroup(i,e,XV(r,cf),Number.MAX_SAFE_INTEGER))).then((i=>(PF(n,e,i),i)))}function PF(t,e,n){let r=t.Ms.get(e)||Ye.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}const AF="firestore_clients";function Zk(t,e){return`${AF}_${t}_${e}`}const IF="firestore_mutations";function eR(t,e,n){let r=`${IF}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const jF="firestore_targets";function B1(t,e){return`${jF}_${t}_${e}`}const pa="SharedClientState";class n0{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static $s(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new Ne(i.error.code,i.error.message))),a?new n0(e,n,i.state,s):(Rn(pa,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rm{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static $s(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new Ne(r.error.code,r.error.message))),s?new Rm(e,r.state,i):(Rn(pa,`Failed to parse target state for ID '${e}': ${n}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class r0{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static $s(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=rN();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=e6(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new r0(e,s):(Rn(pa,`Failed to parse client data for instance '${e}': ${n}`),null)}}class vN{constructor(e,n){this.clientId=e,this.onlineState=n}static $s(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new vN(n.clientId,n.onlineState):(Rn(pa,`Failed to parse online state: ${e}`),null)}}class aT{constructor(){this.activeTargetIds=rN()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class z1{constructor(e,n,r,i,s){this.window=e,this.Ci=n,this.persistenceKey=r,this.zs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new tn(ct),this.started=!1,this.Zs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Xs=Zk(this.persistenceKey,this.zs),this.Ys=(function(c){return`firestore_sequence_number_${c}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new aT),this.eo=new RegExp(`^${AF}_${a}_([^_]*)$`),this.no=new RegExp(`^${IF}_${a}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${jF}_${a}_(\\d+)$`),this.io=(function(c){return`firestore_online_state_${c}`})(this.persistenceKey),this.so=(function(c){return`firestore_bundle_loaded_v2_${c}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const i=this.getItem(Zk(this.persistenceKey,r));if(i){const s=r0.$s(r,i);s&&(this.Js=this.Js.insert(s.clientId,s))}}this.oo();const n=this.storage.getItem(this.io);if(n){const r=this._o(n);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let n=!1;return this.Js.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,n,r){this.co(e,n,r),this.lo(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(B1(this.persistenceKey,e));if(i){const s=Rm.$s(e,i);s&&(r=s.state)}}return n&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(B1(this.persistenceKey,e))}updateQueryState(e,n,r){this.Po(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.lo(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return _e(pa,"READ",e,n),n}setItem(e,n){_e(pa,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){_e(pa,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const n=e;if(n.storageArea===this.storage){if(_e(pa,"EVENT",n.key,n.newValue),n.key===this.Xs)return void Rn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.eo.test(n.key)){if(n.newValue==null){const r=this.Eo(n.key);return this.Ro(r,null)}{const r=this.Ao(n.key,n.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(n.key)){if(n.newValue!==null){const r=this.Vo(n.key,n.newValue);if(r)return this.mo(r)}}else if(this.ro.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(n.key===this.io){if(n.newValue!==null){const r=this._o(n.newValue);if(r)return this.ao(r)}}else if(n.key===this.Ys){const r=(function(s){let a=li.ce;if(s!=null)try{const l=JSON.parse(s);Ue(typeof l=="number",30636,{yo:s}),a=l}catch(l){Rn(pa,"Failed to read sequence number from WebStorage",l)}return a})(n.newValue);r!==li.ce&&this.sequenceNumberHandler(r)}else if(n.key===this.so){const r=this.wo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.bo(i))))}}}else this.Zs.push(n)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,n,r){const i=new n0(this.currentUser,e,n,r),s=eR(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ws())}lo(e){const n=eR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}To(e){const n={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(n))}Po(e,n,r){const i=B1(this.persistenceKey,e),s=new Rm(e,n,r);this.setItem(i,s.Ws())}Io(e){const n=JSON.stringify(Array.from(e));this.setItem(this.so,n)}Eo(e){const n=this.eo.exec(e);return n?n[1]:null}Ao(e,n){const r=this.Eo(e);return r0.$s(r,n)}Vo(e,n){const r=this.no.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return n0.$s(new ir(s),i,n)}fo(e,n){const r=this.ro.exec(e),i=Number(r[1]);return Rm.$s(i,n)}_o(e){return vN.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);_e(pa,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,n){const r=n?this.Js.insert(e,n):this.Js.remove(e),i=this.uo(this.Js),s=this.uo(r),a=[],l=[];return s.forEach((c=>{i.has(c)||a.push(c)})),i.forEach((c=>{s.has(c)||l.push(c)})),this.syncEngine.Co(a,l).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let n=rN();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class kF{constructor(){this.vo=new aT,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new aT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VY{Mo(e){}shutdown(){}}const tR="ConnectivityMonitor";class nR{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e(tR,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){_e(tR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oy=null;function oT(){return Oy===null?Oy=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oy++,"0x"+Oy.toString(16)}const $1="RestConnection",FY={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BY{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Ym?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const a=oT(),l=this.Qo(e,n.toUriEncodedString());_e($1,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,s);const{host:d}=new URL(l),f=No(d);return this.zo(e,l,c,r,f).then((m=>(_e($1,`Received RPC '${e}' ${a}: `,m),m)),(m=>{throw uu($1,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",r),m}))}jo(e,n,r,i,s,a){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=FY[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class zY{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Dr="WebChannelConnection",Jh=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class Jd extends BY{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Jd.c_){const e=$V();Jh(e,zV.STAT_EVENT,(n=>{n.stat===FC.PROXY?_e(Dr,"STAT_EVENT: detected buffering proxy"):n.stat===FC.NOPROXY&&_e(Dr,"STAT_EVENT: detected no buffering proxy")})),Jd.c_=!0}}zo(e,n,r,i,s){const a=oT();return new Promise(((l,c)=>{const d=new FV;d.setWithCredentials(!0),d.listenOnce(BV.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case uv.NO_ERROR:const m=d.getResponseJson();_e(Dr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case uv.TIMEOUT:_e(Dr,`RPC '${e}' ${a} timed out`),c(new Ne(ve.DEADLINE_EXCEEDED,"Request time out"));break;case uv.HTTP_ERROR:const p=d.getStatus();if(_e(Dr,`RPC '${e}' ${a} failed with status:`,p,"response text:",d.getResponseText()),p>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const b=(function(T){const L=T.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(L)>=0?L:ve.UNKNOWN})(x.status);c(new Ne(b,x.message))}else c(new Ne(ve.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Ne(ve.UNAVAILABLE,"Connection failed."));break;default:Me(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{_e(Dr,`RPC '${e}' ${a} completed.`)}}));const f=JSON.stringify(i);_e(Dr,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=oT(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");_e(Dr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=a.createWebChannel(d,l);this.I_(f);let m=!1,p=!1;const y=new zY({Ho:x=>{p?_e(Dr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(_e(Dr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),_e(Dr,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Jo:()=>f.close()});return Jh(f,gm.EventType.OPEN,(()=>{p||(_e(Dr,`RPC '${e}' stream ${i} transport opened.`),y.i_())})),Jh(f,gm.EventType.CLOSE,(()=>{p||(p=!0,_e(Dr,`RPC '${e}' stream ${i} transport closed`),y.o_(),this.E_(f))})),Jh(f,gm.EventType.ERROR,(x=>{p||(p=!0,uu(Dr,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),y.o_(new Ne(ve.UNAVAILABLE,"The operation could not be completed")))})),Jh(f,gm.EventType.MESSAGE,(x=>{if(!p){const b=x.data[0];Ue(!!b,16349);const _=b,T=_?.error||_[0]?.error;if(T){_e(Dr,`RPC '${e}' stream ${i} received error:`,T);const L=T.status;let M=(function(j){const C=Vn[j];if(C!==void 0)return H6(C)})(L),z=T.message;L==="NOT_FOUND"&&z.includes("database")&&z.includes("does not exist")&&z.includes(this.databaseId.database)&&uu(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),M===void 0&&(M=ve.INTERNAL,z="Unknown error status: "+L+" with message "+T.message),p=!0,y.o_(new Ne(M,z)),f.close()}else _e(Dr,`RPC '${e}' stream ${i} received:`,b),y.__(b)}})),Jd.u_(),setTimeout((()=>{y.s_()}),0),y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return UV()}}function $Y(t){return new Jd(t)}function RF(){return typeof window<"u"?window:null}function bv(){return typeof document<"u"?document:null}function Fx(t){return new KX(t,!0)}Jd.c_=!1;class xN{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const rR="PersistentStream";class DF{constructor(e,n,r,i,s,a,l,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xN(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Rn(n.toString()),Rn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new Ne(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(rR,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(_e(rR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UY extends DF{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=QX(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Ye.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Ye.min():a.readTime?sr(a.readTime):Ye.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=eT(this.serializer),n.addTarget=(function(s,a){let l;const c=a.target;if(l=Gv(c)?{documents:Z6(s,c)}:{query:eF(s,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=G6(s,a.resumeToken);const d=JC(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(Ye.min())>0){l.readTime=wf(s,a.snapshotVersion.toTimestamp());const d=JC(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=ZX(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=eT(this.serializer),n.removeTarget=e,this.K_(n)}}class qY extends DF{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=JX(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=eT(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>rp(this.serializer,r)))};this.K_(n)}}class HY{}class WY extends HY{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ne(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Wo(e,ZC(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(ve.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.jo(e,ZC(n,r),i,a,l,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ne(ve.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function KY(t,e,n,r){return new WY(t,e,n,r)}class GY{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rn(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const gu="RemoteStore";class XY{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((a=>{r.enqueueAndForget((async()=>{ku(this)&&(_e(gu,"Restarting streams for network reachability change."),await(async function(c){const d=ze(c);d.Ea.add(4),await $p(d),d.Va.set("Unknown"),d.Ea.delete(4),await Bx(d)})(this))}))})),this.Va=new GY(r,i)}}async function Bx(t){if(ku(t))for(const e of t.Ra)await e(!0)}async function $p(t){for(const e of t.Ra)await e(!1)}function zx(t,e){const n=ze(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_N(n)?wN(n):Uf(n).O_()&&bN(n,e))}function Ef(t,e){const n=ze(t),r=Uf(n);n.Ia.delete(e),r.O_()&&OF(n,e),n.Ia.size===0&&(r.O_()?r.L_():ku(n)&&n.Va.set("Unknown"))}function bN(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Uf(t).Z_(e)}function OF(t,e){t.da.$e(e),Uf(t).X_(e)}function wN(t){t.da=new UX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Uf(t).start(),t.Va.ua()}function _N(t){return ku(t)&&!Uf(t).x_()&&t.Ia.size>0}function ku(t){return ze(t).Ea.size===0}function MF(t){t.da=void 0}async function YY(t){t.Va.set("Online")}async function QY(t){t.Ia.forEach(((e,n)=>{bN(t,e)}))}async function JY(t,e){MF(t),_N(t)?(t.Va.ha(e),wN(t)):t.Va.set("Unknown")}async function ZY(t,e,n){if(t.Va.set("Online"),e instanceof K6&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.da.removeTarget(l))})(t,e)}catch(r){_e(gu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await i0(t,r)}else if(e instanceof vv?t.da.Xe(e):e instanceof W6?t.da.st(e):t.da.tt(e),!n.isEqual(Ye.min()))try{const r=await TF(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const l=s.da.Tt(a);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,d)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(Dn.EMPTY_BYTE_STRING,f.snapshotVersion)),OF(s,c);const m=new ro(f.target,c,d,f.sequenceNumber);bN(s,m)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){_e(gu,"Failed to raise snapshot:",r),await i0(t,r)}}async function i0(t,e,n){if(!Zl(e))throw e;t.Ea.add(1),await $p(t),t.Va.set("Offline"),n||(n=()=>TF(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(gu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Bx(t)}))}function LF(t,e){return e().catch((n=>i0(t,n,e)))}async function $f(t){const e=ze(t),n=ql(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Zc;for(;eQ(e);)try{const i=await LY(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,tQ(e,i)}catch(i){await i0(e,i)}VF(e)&&FF(e)}function eQ(t){return ku(t)&&t.Ta.length<10}function tQ(t,e){t.Ta.push(e);const n=ql(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function VF(t){return ku(t)&&!ql(t).x_()&&t.Ta.length>0}function FF(t){ql(t).start()}async function nQ(t){ql(t).ra()}async function rQ(t){const e=ql(t);for(const n of t.Ta)e.ea(n.mutations)}async function iQ(t,e,n){const r=t.Ta.shift(),i=oN.from(r,e,n);await LF(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await $f(t)}async function sQ(t,e){e&&ql(t).Y_&&await(async function(r,i){if((function(a){return q6(a)&&a!==ve.ABORTED})(i.code)){const s=r.Ta.shift();ql(r).B_(),await LF(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await $f(r)}})(t,e),VF(t)&&FF(t)}async function iR(t,e){const n=ze(t);n.asyncQueue.verifyOperationInProgress(),_e(gu,"RemoteStore received new credentials");const r=ku(n);n.Ea.add(3),await $p(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Bx(n)}async function lT(t,e){const n=ze(t);e?(n.Ea.delete(2),await Bx(n)):e||(n.Ea.add(2),await $p(n),n.Va.set("Unknown"))}function Uf(t){return t.ma||(t.ma=(function(n,r,i){const s=ze(n);return s.sa(),new UY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:YY.bind(null,t),Yo:QY.bind(null,t),t_:JY.bind(null,t),J_:ZY.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),_N(t)?wN(t):t.Va.set("Unknown")):(await t.ma.stop(),MF(t))}))),t.ma}function ql(t){return t.fa||(t.fa=(function(n,r,i){const s=ze(n);return s.sa(),new qY(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:nQ.bind(null,t),t_:sQ.bind(null,t),ta:rQ.bind(null,t),na:iQ.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await $f(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(gu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class EN{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new EN(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function CN(t,e){if(Rn("AsyncQueue",`${e}: ${t}`),Zl(t))return new Ne(ve.UNAVAILABLE,`${e}: ${t}`);throw t}class Zd{static emptySet(e){return new Zd(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ke.comparator(n.key,r.key):(n,r)=>ke.comparator(n.key,r.key),this.keyedMap=ym(),this.sortedSet=new tn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class sR{constructor(){this.ga=new tn(ke.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Me(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Cf{constructor(e,n,r,i,s,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new Cf(e,n,Zd.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class aQ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class oQ{constructor(){this.queries=aR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ze(n),s=i.queries;i.queries=aR(),s.forEach(((a,l)=>{for(const c of l.ba)c.onError(r)}))})(this,new Ne(ve.ABORTED,"Firestore shutting down"))}}function aR(){return new Po((t=>I6(t)),Rx)}async function TN(t,e){const n=ze(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new aQ,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=CN(a,`Initialization of query '${Od(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&NN(n)}async function SN(t,e){const n=ze(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.ba.indexOf(e);a>=0&&(s.ba.splice(a,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lQ(t,e){const n=ze(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.ba)l.Fa(i)&&(r=!0);a.wa=i}}r&&NN(n)}function cQ(t,e,n){const r=ze(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function NN(t){t.Ca.forEach((e=>{e.next()}))}var cT,oR;(oR=cT||(cT={})).Ma="default",oR.Cache="cache";class PN{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Cf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cT.Cache}}class BF{constructor(e){this.key=e}}class zF{constructor(e){this.key=e}}class uQ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=xt(),this.mutatedKeys=xt(),this.eu=k6(e),this.tu=new Zd(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new sR,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,m)=>{const p=i.get(f),y=Fp(this.query,m)?m:null,x=!!p&&this.mutatedKeys.has(p.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;p&&y?p.data.isEqual(y.data)?x!==b&&(r.track({type:3,doc:y}),_=!0):this.su(p,y)||(r.track({type:2,doc:y}),_=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(l=!0)):!p&&y?(r.track({type:0,doc:y}),_=!0):p&&!y&&(r.track({type:1,doc:p}),_=!0,(c||d)&&(l=!0)),_&&(y?(a=a.add(y),s=b?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Ss:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((f,m)=>(function(y,x){const b=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Me(20277,{Vt:_})}};return b(y)-b(x)})(f.type,m.type)||this.eu(f.doc,m.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,d=c!==this.Xa;return this.Xa=c,a.length!==0||d?{snapshot:new Cf(this.query,e.tu,s,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sR,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new zF(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new BF(r))})),n}cu(e){this.Za=e.ks,this.Ya=xt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Cf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const qf="SyncEngine";class dQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fQ{constructor(e){this.key=e,this.hu=!1}}class hQ{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Po((l=>I6(l)),Rx),this.Iu=new Map,this.Eu=new Set,this.Ru=new tn(ke.comparator),this.Au=new Map,this.Vu=new hN,this.du={},this.mu=new Map,this.fu=pu.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function mQ(t,e,n=!0){const r=$x(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await $F(r,e,n,!0),i}async function pQ(t,e){const n=$x(t);await $F(n,e,!0,!1)}async function $F(t,e,n,r){const i=await t0(t.localStore,ki(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await AN(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&zx(t.remoteStore,i),l}async function AN(t,e,n,r,i){t.pu=(m,p,y)=>(async function(b,_,T,L){let M=_.view.ru(T);M.Ss&&(M=await sT(b.localStore,_.query,!1).then((({documents:C})=>_.view.ru(C,M))));const z=L&&L.targetChanges.get(_.targetId),I=L&&L.targetMismatches.get(_.targetId)!=null,j=_.view.applyChanges(M,b.isPrimaryClient,z,I);return uT(b,_.targetId,j.au),j.snapshot})(t,m,p,y);const s=await sT(t.localStore,e,!0),a=new uQ(e,s.ks),l=a.ru(s.documents),c=zp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,c);uT(t,n,d.au);const f=new dQ(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function gQ(t,e,n){const r=ze(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!Rx(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await _f(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ef(r.remoteStore,i.targetId),Tf(r,i.targetId)})).catch(Jl)):(Tf(r,i.targetId),await _f(r.localStore,i.targetId,!0))}async function yQ(t,e){const n=ze(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ef(n.remoteStore,r.targetId))}async function vQ(t,e,n){const r=RN(t);try{const i=await(function(a,l){const c=ze(a),d=vt.now(),f=l.reduce(((y,x)=>y.add(x.key)),xt());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let x=Ai(),b=xt();return c.xs.getEntries(y,f).next((_=>{x=_,x.forEach(((T,L)=>{L.isValidDocument()||(b=b.add(T))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,x))).next((_=>{m=_;const T=[];for(const L of l){const M=FX(L,m.get(L.key).overlayedDocument);M!=null&&T.push(new Ao(L.key,M,b6(M.value.mapValue),fn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,T,l)})).next((_=>{p=_;const T=_.applyToLocalDocumentSet(m,b);return c.documentOverlayCache.saveOverlays(y,_.batchId,T)}))})).then((()=>({batchId:p.batchId,changes:D6(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,l,c){let d=a.du[a.currentUser.toKey()];d||(d=new tn(ct)),d=d.insert(l,c),a.du[a.currentUser.toKey()]=d})(r,i.batchId,n),await tc(r,i.changes),await $f(r.remoteStore)}catch(i){const s=CN(i,"Failed to persist write");n.reject(s)}}async function UF(t,e){const n=ze(t);try{const r=await OY(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Ue(a.hu,14607):i.removedDocuments.size>0&&(Ue(a.hu,42227),a.hu=!1))})),await tc(n,r,e)}catch(r){await Jl(r)}}function lR(t,e,n){const r=ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){const c=ze(a);c.onlineState=l;let d=!1;c.queries.forEach(((f,m)=>{for(const p of m.ba)p.va(l)&&(d=!0)})),d&&NN(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xQ(t,e,n){const r=ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new tn(ke.comparator);a=a.insert(s,dn.newNoDocument(s,Ye.min()));const l=xt().add(s),c=new Bp(Ye.min(),new Map,new tn(ct),a,l);await UF(r,c),r.Ru=r.Ru.remove(s),r.Au.delete(e),kN(r)}else await _f(r.localStore,e,!1).then((()=>Tf(r,e,n))).catch(Jl)}async function bQ(t,e){const n=ze(t),r=e.batch.batchId;try{const i=await DY(n.localStore,e);jN(n,r,null),IN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tc(n,i)}catch(i){await Jl(i)}}async function wQ(t,e,n){const r=ze(t);try{const i=await(function(a,l){const c=ze(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next((m=>(Ue(m!==null,37113),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>c.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);jN(r,e,n),IN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tc(r,i)}catch(i){await Jl(i)}}function IN(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function jN(t,e,n){const r=ze(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Tf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||qF(t,r)}))}function qF(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Ef(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),kN(t))}function uT(t,e,n){for(const r of n)r instanceof BF?(t.Vu.addReference(r.key,e),_Q(t,r)):r instanceof zF?(_e(qf,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||qF(t,r.key)):Me(19791,{wu:r})}function _Q(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(_e(qf,"New document in limbo: "+n),t.Eu.add(r),kN(t))}function kN(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ke(Dt.fromString(e)),r=t.fu.next();t.Au.set(r,new fQ(n)),t.Ru=t.Ru.insert(n,r),zx(t.remoteStore,new ro(ki(Vp(n.path)),r,"TargetPurposeLimboResolution",li.ce))}}async function tc(t,e,n){const r=ze(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{a.push(r.pu(c,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=gN.Es(c.targetId,d);s.push(f)}})))})),await Promise.all(a),r.Pu.J_(i),await(async function(c,d){const f=ze(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>le.forEach(d,(p=>le.forEach(p.Ts,(y=>f.persistence.referenceDelegate.addReference(m,p.targetId,y))).next((()=>le.forEach(p.Is,(y=>f.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))))))}catch(m){if(!Zl(m))throw m;_e(yN,"Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const y=f.vs.get(p),x=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(x);f.vs=f.vs.insert(p,b)}}})(r.localStore,s))}async function EQ(t,e){const n=ze(t);if(!n.currentUser.isEqual(e)){_e(qf,"User change. New user:",e.toKey());const r=await CF(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((l=>{l.forEach((c=>{c.reject(new Ne(ve.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tc(n,r.Ns)}}function CQ(t,e){const n=ze(t),r=n.Au.get(e);if(r&&r.hu)return xt().add(r.key);{let i=xt();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}async function TQ(t,e){const n=ze(t),r=await sT(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&uT(n,e.targetId,i.au),i}async function SQ(t,e){const n=ze(t);return NF(n.localStore,e).then((r=>tc(n,r)))}async function NQ(t,e,n,r){const i=ze(t),s=await(function(l,c){const d=ze(l),f=ze(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(m=>f.Xn(m,c).next((p=>p?d.localDocuments.getDocuments(m,p):le.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await $f(i.remoteStore):n==="acknowledged"||n==="rejected"?(jN(i,e,r||null),IN(i,e),(function(l,c){ze(ze(l).mutationQueue).nr(c)})(i.localStore,e)):Me(6720,"Unknown batchState",{bu:n}),await tc(i,s)):_e(qf,"Cannot apply mutation batch with id: "+e)}async function PQ(t,e){const n=ze(t);if($x(n),RN(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await cR(n,r.toArray());n.gu=!0,await lT(n.remoteStore,!0);for(const s of i)zx(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(Tf(n,a),_f(n.localStore,a,!0)))),Ef(n.remoteStore,a)})),await i,await cR(n,r),(function(a){const l=ze(a);l.Au.forEach(((c,d)=>{Ef(l.remoteStore,d)})),l.Vu.zr(),l.Au=new Map,l.Ru=new tn(ke.comparator)})(n),n.gu=!1,await lT(n.remoteStore,!1)}}async function cR(t,e,n){const r=ze(t),i=[],s=[];for(const a of e){let l;const c=r.Iu.get(a);if(c&&c.length!==0){l=await t0(r.localStore,ki(c[0]));for(const d of c){const f=r.Tu.get(d),m=await TQ(r,f);m.snapshot&&s.push(m.snapshot)}}else{const d=await SF(r.localStore,a);l=await t0(r.localStore,d),await AN(r,HF(d),a,!1,l.resumeToken)}i.push(l)}return r.Pu.J_(s),i}function HF(t){return P6(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function AQ(t){return(function(n){return ze(ze(n).persistence).hs()})(ze(t).localStore)}async function IQ(t,e,n,r){const i=ze(t);if(i.gu)return void _e(qf,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await NF(i.localStore,j6(s[0])),l=Bp.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Dn.EMPTY_BYTE_STRING);await tc(i,a,l);break}case"rejected":await _f(i.localStore,e,!0),Tf(i,e,r);break;default:Me(64155,n)}}async function jQ(t,e,n){const r=$x(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){_e(qf,"Adding an already active target "+i);continue}const s=await SF(r.localStore,i),a=await t0(r.localStore,s);await AN(r,HF(s),a.targetId,!1,a.resumeToken),zx(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await _f(r.localStore,i,!1).then((()=>{Ef(r.remoteStore,i),Tf(r,i)})).catch(Jl)}}function $x(t){const e=ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xQ.bind(null,e),e.Pu.J_=lQ.bind(null,e.eventManager),e.Pu.yu=cQ.bind(null,e.eventManager),e}function RN(t){const e=ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wQ.bind(null,e),e}class ip{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Fx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return EF(this.persistence,new _F,e.initialUser,this.serializer)}Cu(e){return new mN(Vx.Vi,this.serializer)}Du(e){return new kF}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ip.provider={build:()=>new ip};class kQ extends ip{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ue(this.persistence.referenceDelegate instanceof e0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gF(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new mN((r=>e0.Vi(r,n)),this.serializer)}}class WF extends ip{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await RN(this.xu.syncEngine),await $f(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return EF(this.persistence,new _F,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new gF(r,e.asyncQueue,n)}Mu(e,n){const r=new FG(n,this.persistence);return new VG(e.asyncQueue,r)}Cu(e){const n=wF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new pN(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,RF(),bv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new kF}}class RQ extends WF{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof z1&&(this.sharedClientState.syncEngine={So:NQ.bind(null,n),Do:IQ.bind(null,n),Co:jQ.bind(null,n),hs:AQ.bind(null,n),bo:SQ.bind(null,n)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await PQ(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=RF();if(!z1.v(n))throw new Ne(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=wF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new z1(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class sp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=EQ.bind(null,this.syncEngine),await lT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new oQ})()}createDatastore(e){const n=Fx(e.databaseInfo.databaseId),r=$Y(e.databaseInfo);return KY(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,l){return new XY(r,i,s,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>lR(this.syncEngine,n,0)),(function(){return nR.v()?new nR:new VY})())}createSyncEngine(e,n){return(function(i,s,a,l,c,d,f){const m=new hQ(i,s,a,l,c,d);return f&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=ze(n);_e(gu,"RemoteStore shutting down."),r.Ea.add(5),await $p(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sp.provider={build:()=>new sp};class DN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}let DQ=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new Ne(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const a=ze(i),l={documents:s.map((m=>np(a.serializer,m)))},c=await a.jo("BatchGetDocuments",a.serializer.databaseId,Dt.emptyPath(),l,s.length),d=new Map;c.forEach((m=>{const p=YX(a.serializer,m);d.set(p.key.toString(),p)}));const f=[];return s.forEach((m=>{const p=d.get(m.toString());Ue(!!p,55234,{key:m}),f.push(p)})),f})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new zf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=ke.fromPath(r);this.mutations.push(new sN(i,this.precondition(i)))})),await(async function(r,i){const s=ze(r),a={writes:i.map((l=>rp(s.serializer,l)))};await s.Wo("Commit",s.serializer.databaseId,Dt.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Me(50498,{Gu:e.constructor.name});n=Ye.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new Ne(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Ye.min())?fn.exists(!1):fn.updateTime(n):fn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Ye.min()))throw new Ne(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fn.updateTime(n)}return fn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class OQ{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new xN(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new DQ(this.datastore),n=this.Ju(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Zu(i)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const n=this.updateFunction(e);return!Op(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!q6(n)}return!1}}const Hl="FirestoreClient";class MQ{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=ir.UNAUTHENTICATED,this.clientId=WS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{_e(Hl,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(_e(Hl,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=CN(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function U1(t,e){t.asyncQueue.verifyOperationInProgress(),_e(Hl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await CF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function uR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LQ(t);_e(Hl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>iR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>iR(e.remoteStore,i))),t._onlineComponents=e}async function LQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(Hl,"Using user provided OfflineComponentProvider");try{await U1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;uu("Error using user provided cache. Falling back to memory cache: "+n),await U1(t,new ip)}}else _e(Hl,"Using default OfflineComponentProvider"),await U1(t,new kQ(void 0));return t._offlineComponents}async function ON(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(Hl,"Using user provided OnlineComponentProvider"),await uR(t,t._uninitializedComponentsProvider._online)):(_e(Hl,"Using default OnlineComponentProvider"),await uR(t,new sp))),t._onlineComponents}function VQ(t){return ON(t).then((e=>e.syncEngine))}function FQ(t){return ON(t).then((e=>e.datastore))}async function s0(t){const e=await ON(t),n=e.eventManager;return n.onListen=mQ.bind(null,e.syncEngine),n.onUnlisten=gQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yQ.bind(null,e.syncEngine),n}function BQ(t,e,n,r){const i=new DN(r),s=new PN(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>TN(await s0(t),s))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>SN(await s0(t),s)))}}function zQ(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,c,d){const f=new DN({next:p=>{f.Nu(),a.enqueueAndForget((()=>SN(s,m)));const y=p.docs.has(l);!y&&p.fromCache?d.reject(new Ne(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?d.reject(new Ne(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new PN(Vp(l.path),f,{includeMetadataChanges:!0,Ka:!0});return TN(s,m)})(await s0(t),t.asyncQueue,e,n,r))),r.promise}function $Q(t,e,n={}){const r=new Is;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,c,d){const f=new DN({next:p=>{f.Nu(),a.enqueueAndForget((()=>SN(s,m))),p.fromCache&&c.source==="server"?d.reject(new Ne(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new PN(l,f,{includeMetadataChanges:!0,Ka:!0});return TN(s,m)})(await s0(t),t.asyncQueue,e,n,r))),r.promise}function UQ(t,e){const n=new Is;return t.asyncQueue.enqueueAndForget((async()=>vQ(await VQ(t),e,n))),n.promise}function qQ(t,e,n){const r=new Is;return t.asyncQueue.enqueueAndForget((async()=>{const i=await FQ(t);new OQ(t.asyncQueue,i,n,e,r).ju()})),r.promise}function KF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const HQ="ComponentProvider",dR=new Map;function WQ(t,e,n,r,i){return new hX(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,KF(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const GF="firestore.googleapis.com",fR=!0;class hR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GF,this.ssl=fR}else this.host=e.host,this.ssl=e.ssl??fR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dF;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pF)throw new Ne(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DG("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KF(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Ne(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Ne(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Ne(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ux{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new CG;switch(r.type){case"firstParty":return new PG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ne(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=dR.get(n);r&&(_e(HQ,"Removing Datastore"),dR.delete(n),r.terminate())})(this),Promise.resolve()}}function KQ(t,e,n,r={}){t=Vr(t,Ux);const i=No(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(jp(`https://${l}`),Cx("Firestore",!0)),s.host!==GF&&s.host!==l&&uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!Bl(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=ir.MOCK_USER;else{d=PV(r.mockUserToken,t._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Ne(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ir(m)}t._authCredentials=new TG(new HV(d,f))}}class Io{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Io(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}toJSON(){return{type:_n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Dp(n,_n._jsonSchema))return new _n(e,r||null,new ke(Dt.fromString(n.referencePath)))}}_n._jsonSchemaVersion="firestore/documentReference/1.0",_n._jsonSchema={type:zn("string",_n._jsonSchemaVersion),referencePath:zn("string")};class Dl extends Io{constructor(e,n,r){super(e,n,Vp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new ke(e))}withConverter(e){return new Dl(this.firestore,e,this._path)}}function at(t,e,...n){if(t=Kt(t),KV("collection","path",e),t instanceof Ux){const r=Dt.fromString(e,...n);return rk(r),new Dl(t,null,r)}{if(!(t instanceof _n||t instanceof Dl))throw new Ne(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return rk(r),new Dl(t.firestore,null,r)}}function st(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=WS.newId()),KV("doc","path",e),t instanceof Ux){const r=Dt.fromString(e,...n);return nk(r),new _n(t,null,new ke(r))}{if(!(t instanceof _n||t instanceof Dl))throw new Ne(ve.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return nk(r),new _n(t.firestore,t instanceof Dl?t.converter:null,new ke(r))}}const mR="AsyncQueue";class pR{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xN(this,"async_queue_retry"),this._c=()=>{const r=bv();r&&_e(mR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=bv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=bv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Is;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Zl(e))throw e;_e(mR,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Rn("INTERNAL UNHANDLED ERROR: ",gR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=EN.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Me(47125,{Pc:gR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}const GQ=-1;class Ms extends Ux{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new pR,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pR(e),this._firestoreClient=void 0,await e}}}function XQ(t,e,n){n||(n=Ym);const r=Lf(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Bl(s,e))return i;throw new Ne(ve.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new Ne(ve.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pF)throw new Ne(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&No(e.host)&&jp(e.host),r.initialize({options:e,instanceIdentifier:n})}function YQ(t,e){const n=typeof t=="object"?t:Tx(),r=typeof t=="string"?t:Ym,i=Lf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=$S("firestore");s&&KQ(i,...s)}return i}function Hf(t){if(t._terminated)throw new Ne(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QQ(t),t._firestoreClient}function QQ(t){const e=t._freezeSettings(),n=WQ(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new MQ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}class Ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ni(Dn.fromBase64String(e))}catch(n){throw new Ne(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ni(Dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Dp(e,Ni._jsonSchema))return Ni.fromBase64String(e.bytes)}}Ni._jsonSchemaVersion="firestore/bytes/1.0",Ni._jsonSchema={type:zn("string",Ni._jsonSchemaVersion),bytes:zn("string")};class Up{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ne(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qx{constructor(e){this._methodName=e}}class Ea{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ne(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ne(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ea._jsonSchemaVersion}}static fromJSON(e){if(Dp(e,Ea._jsonSchema))return new Ea(e.latitude,e.longitude)}}Ea._jsonSchemaVersion="firestore/geoPoint/1.0",Ea._jsonSchema={type:zn("string",Ea._jsonSchemaVersion),latitude:zn("number"),longitude:zn("number")};class js{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:js._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Dp(e,js._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new js(e.vectorValues);throw new Ne(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}js._jsonSchemaVersion="firestore/vectorValue/1.0",js._jsonSchema={type:zn("string",js._jsonSchemaVersion),vectorValues:zn("object")};const JQ=/^__.*__$/;class ZQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new Bf(e,this.data,n,this.fieldTransforms)}}class XF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ao(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function YF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Me(40011,{dataSource:t})}}class MN{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new MN({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return a0(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(YF(this.dataSource)&&JQ.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class eJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Fx(e)}createContext(e,n,r,i=!1){return new MN({dataSource:e,methodName:n,targetDoc:r,path:bn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wf(t){const e=t._freezeSettings(),n=Fx(t._databaseId);return new eJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Hx(t,e,n,r,i,s={}){const a=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);BN("Data must be an object, but it was:",a,r);const l=QF(r,a);let c,d;if(s.merge)c=new ci(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const p=yu(e,m,n);if(!a.contains(p))throw new Ne(ve.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);eB(f,p)||f.push(p)}c=new ci(f),d=a.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=a.fieldTransforms;return new ZQ(new xr(l),c,d)}class Wx extends qx{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wx}}class LN extends qx{_toFieldTransform(e){return new z6(e.path,new vf)}isEqual(e){return e instanceof LN}}function VN(t,e,n,r){const i=t.createContext(1,e,n);BN("Data must be an object, but it was:",i,r);const s=[],a=xr.empty();ec(r,((c,d)=>{const f=ZF(e,c,n);d=Kt(d);const m=i.childContextForFieldPath(f);if(d instanceof Wx)s.push(f);else{const p=qp(d,m);p!=null&&(s.push(f),a.set(f,p))}}));const l=new ci(s);return new XF(a,l,i.fieldTransforms)}function FN(t,e,n,r,i,s){const a=t.createContext(1,e,n),l=[yu(e,r,n)],c=[i];if(s.length%2!=0)throw new Ne(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(yu(e,s[p])),c.push(s[p+1]);const d=[],f=xr.empty();for(let p=l.length-1;p>=0;--p)if(!eB(d,l[p])){const y=l[p];let x=c[p];x=Kt(x);const b=a.childContextForFieldPath(y);if(x instanceof Wx)d.push(y);else{const _=qp(x,b);_!=null&&(d.push(y),f.set(y,_))}}const m=new ci(d);return new XF(f,m,a.fieldTransforms)}function tJ(t,e,n,r=!1){return qp(n,t.createContext(r?4:3,e))}function qp(t,e){if(JF(t=Kt(t)))return BN("Unsupported field value:",e,t),QF(t,e);if(t instanceof qx)return(function(r,i){if(!YF(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const l of r){let c=qp(l,i.childContextForArray(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RX(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=vt.fromDate(r);return{timestampValue:wf(i.serializer,s)}}if(r instanceof vt){const s=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wf(i.serializer,s)}}if(r instanceof Ea)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ni)return{bytesValue:G6(i.serializer,r._byteString)};if(r instanceof _n){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uN(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof js)return(function(a,l){const c=a instanceof js?a.toArray():a;return{mapValue:{fields:{[eN]:{stringValue:tN},[mf]:{arrayValue:{values:c.map((f=>{if(typeof f!="number")throw l.createError("VectorValues must only contain numeric values.");return iN(l.serializer,f)}))}}}}}})(r,i);if(sF(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Sx(r)}`)})(t,e)}function QF(t,e){const n={};return d6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ec(t,((r,i)=>{const s=qp(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function JF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof Ea||t instanceof Ni||t instanceof _n||t instanceof qx||t instanceof js||sF(t))}function BN(t,e,n){if(!JF(n)||!GV(n)){const r=Sx(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function yu(t,e,n){if((e=Kt(e))instanceof Up)return e._internalPath;if(typeof e=="string")return ZF(t,e);throw a0("Field path arguments must be of type string or ",t,!1,void 0,n)}const nJ=new RegExp("[~\\*/\\[\\]]");function ZF(t,e,n){if(e.search(nJ)>=0)throw a0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Up(...e.split("."))._internalPath}catch{throw a0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function a0(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Ne(ve.INVALID_ARGUMENT,l+t+c)}function eB(t,e){return t.some((n=>n.isEqual(e)))}class tB{convertValue(e,n="none"){switch($l(e)){case 0:return null;case 1:return e.booleanValue;case 2:return un(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(go(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Me(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ec(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[mf].arrayValue?.values?.map((r=>un(r.doubleValue)));return new js(n)}convertGeoPoint(e){return new Ea(un(e.latitude),un(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jx(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xm(e));default:return null}}convertTimestamp(e){const n=po(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);Ue(iF(r),9688,{name:e});const i=new du(r.get(1),r.get(3)),s=new ke(r.popFirst(5));return i.isEqual(n)||Rn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class Kx extends tB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function ks(){return new LN("serverTimestamp")}const yR="@firebase/firestore",vR="4.11.0";function xR(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class o0{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(yu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rJ extends o0{data(){return super.data()}}function nB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ne(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zN{}class $N extends zN{}function Rt(t,e,...n){let r=[];e instanceof zN&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((c=>c instanceof UN)).length,l=s.filter((c=>c instanceof Gx)).length;if(a>1||a>0&&l>0)throw new Ne(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Gx extends $N{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Gx(e,n,r)}_apply(e){const n=this._parse(e);return rB(e._query,n),new Io(e.firestore,e.converter,QC(e._query,n))}_parse(e){const n=Wf(e.firestore);return(function(s,a,l,c,d,f,m){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new Ne(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){wR(m,f);const x=[];for(const b of m)x.push(bR(c,s,b));p={arrayValue:{values:x}}}else p=bR(c,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||wR(m,f),p=tJ(l,a,m,f==="in"||f==="not-in");return St.create(d,f,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Tt(t,e,n){const r=e,i=yu("where",t);return Gx._create(i,r,n)}class UN extends zN{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new UN(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ht.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const l=s.getFlattenedFilters();for(const c of l)rB(a,c),a=QC(a,c)})(e._query,n),new Io(e.firestore,e.converter,QC(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qN extends $N{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qN(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new Ne(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ne(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ep(s,a)})(e._query,this._field,this._direction);return new Io(e.firestore,e.converter,NX(e._query,n))}}function Xx(t,e="asc"){const n=e,r=yu("orderBy",t);return qN._create(r,n)}class HN extends $N{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new HN(e,n,r)}_apply(e){return new Io(e.firestore,e.converter,Yv(e._query,this._limit,this._limitType))}}function Za(t){return OG("limit",t),HN._create("limit",t,"F")}function bR(t,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new Ne(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!A6(e)&&n.indexOf("/")!==-1)throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dt.fromString(n));if(!ke.isDocumentKey(r))throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jm(t,new ke(r))}if(n instanceof _n)return Jm(t,n._key);throw new Ne(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sx(n)}.`)}function wR(t,e){if(!Array.isArray(t)||t.length===0)throw new Ne(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rB(t,e){const n=(function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Ne(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ne(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Yx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class iJ extends tB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}class sJ{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=cJ(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function aJ(t){return new sJ(t)}class oJ{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=sp.provider,this._offlineComponentProvider={build:n=>new WF(n,e?.cacheSizeBytes,this.forceOwnership)}}}class lJ{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=sp.provider,this._offlineComponentProvider={build:n=>new RQ(n,e?.cacheSizeBytes)}}}function cJ(t){return new oJ(t?.forceOwnership)}function uJ(){return new lJ}class $d{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ol extends o0{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ol._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ol._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ol._jsonSchema={type:zn("string",Ol._jsonSchemaVersion),bundleSource:zn("string","DocumentSnapshot"),bundleName:zn("string"),bundle:zn("string")};class wv extends Ol{data(e={}){return super.data(e)}}class tu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new $d(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new wv(this._firestore,this._userDataWriter,r.key,r,new $d(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{const c=new wv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new $d(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const c=new wv(i._firestore,i._userDataWriter,l.doc.key,l.doc,new $d(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:dJ(l.type),doc:c,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ne(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=tu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=WS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function dJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Me(61501,{type:t})}}tu._jsonSchemaVersion="firestore/querySnapshot/1.0",tu._jsonSchema={type:zn("string",tu._jsonSchemaVersion),bundleSource:zn("string","QuerySnapshot"),bundleName:zn("string"),bundle:zn("string")};const fJ={maxAttempts:5};class hJ{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Wf(e)}set(e,n,r){this._verifyNotCommitted();const i=Sl(e,this._firestore),s=Yx(i.converter,n,r),a=Hx(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,fn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Sl(e,this._firestore);let a;return a=typeof(n=Kt(n))=="string"||n instanceof Up?FN(this._dataReader,"WriteBatch.update",s._key,n,r,i):VN(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,fn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Sl(e,this._firestore);return this._mutations=this._mutations.concat(new zf(n._key,fn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sl(t,e){if((t=Kt(t)).firestore!==e)throw new Ne(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class mJ{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Wf(e)}get(e){const n=Sl(e,this._firestore),r=new iJ(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Me(24041);const s=i[0];if(s.isFoundDocument())return new o0(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new o0(this._firestore,r,n._key,null,n.converter);throw Me(18433,{doc:s})}))}set(e,n,r){const i=Sl(e,this._firestore),s=Yx(i.converter,n,r),a=Hx(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=Sl(e,this._firestore);let a;return a=typeof(n=Kt(n))=="string"||n instanceof Up?FN(this._dataReader,"Transaction.update",s._key,n,r,i):VN(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=Sl(e,this._firestore);return this._transaction.delete(n._key),this}}class pJ extends mJ{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Sl(e,this._firestore),r=new Kx(this._firestore);return super.get(e).then((i=>new Ol(this._firestore,r,n._key,i._document,new $d(!1,!1),n.converter)))}}function iB(t,e,n){t=Vr(t,Ms);const r={...fJ,...n};(function(a){if(a.maxAttempts<1)throw new Ne(ve.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const i=Hf(t);return qQ(i,(s=>e(new pJ(t,s))),r)}function ns(t){t=Vr(t,_n);const e=Vr(t.firestore,Ms),n=Hf(e);return zQ(n,t._key).then((r=>sB(e,t,r)))}function It(t){t=Vr(t,Io);const e=Vr(t.firestore,Ms),n=Hf(e),r=new Kx(e);return nB(t._query),$Q(n,t._query).then((i=>new tu(e,r,t,i)))}function br(t,e,n){t=Vr(t,_n);const r=Vr(t.firestore,Ms),i=Yx(t.converter,e,n),s=Wf(r);return Hp(r,[Hx(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,fn.none())])}function Ii(t,e,n,...r){t=Vr(t,_n);const i=Vr(t.firestore,Ms),s=Wf(i);let a;return a=typeof(e=Kt(e))=="string"||e instanceof Up?FN(s,"updateDoc",t._key,e,n,r):VN(s,"updateDoc",t._key,e),Hp(i,[a.toMutation(t._key,fn.exists(!0))])}function yo(t){return Hp(Vr(t.firestore,Ms),[new zf(t._key,fn.none())])}function Ri(t,e){const n=Vr(t.firestore,Ms),r=st(t),i=Yx(t.converter,e),s=Wf(t.firestore);return Hp(n,[Hx(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,fn.exists(!1))]).then((()=>r))}function Fs(t,...e){t=Kt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||xR(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(xR(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,a,l;if(t instanceof _n)a=Vr(t.firestore,Ms),l=Vp(t._key.path),s={next:d=>{e[r]&&e[r](sB(a,t,d))},error:e[r+1],complete:e[r+2]};else{const d=Vr(t,Io);a=Vr(d.firestore,Ms),l=d._query;const f=new Kx(a);s={next:m=>{e[r]&&e[r](new tu(a,f,d,m))},error:e[r+1],complete:e[r+2]},nB(t._query)}const c=Hf(a);return BQ(c,l,i,s)}function Hp(t,e){const n=Hf(t);return UQ(n,e)}function sB(t,e,n){const r=n.docs.get(e._key),i=new Kx(t);return new Ol(t,i,e._key,r,new $d(n.hasPendingWrites,n.fromCache),e.converter)}function Fd(t){return t=Vr(t,Ms),Hf(t),new hJ(t,(e=>Hp(t,e)))}(function(e,n=!0){EG(ju),zl(new ho("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new Ms(new SG(r.getProvider("auth-internal")),new AG(a,r.getProvider("app-check-internal")),mX(a,i),a);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),es(yR,vR,e),es(yR,vR,"esm2020")})();var gJ="firebase",yJ="12.9.0";es(gJ,yJ,"app");function aB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vJ=aB,oB=new kp("auth","Firebase",aB());const l0=new US("@firebase/auth");function xJ(t,...e){l0.logLevel<=Ct.WARN&&l0.warn(`Auth (${ju}): ${t}`,...e)}function _v(t,...e){l0.logLevel<=Ct.ERROR&&l0.error(`Auth (${ju}): ${t}`,...e)}function rs(t,...e){throw KN(t,...e)}function Rs(t,...e){return KN(t,...e)}function WN(t,e,n){const r={...vJ(),[e]:n};return new kp("auth","Firebase",r).create(e,{appName:t.name})}function co(t){return WN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bJ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&rs(t,"argument-error"),WN(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function KN(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return oB.create(t,...e)}function ot(t,e,...n){if(!t)throw KN(e,...n)}function io(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _v(e),new Error(e)}function vo(t,e){t||io(e)}function dT(){return typeof self<"u"&&self.location?.href||""}function wJ(){return _R()==="http:"||_R()==="https:"}function _R(){return typeof self<"u"&&self.location?.protocol||null}function _J(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wJ()||iK()||"connection"in navigator)?navigator.onLine:!0}function EJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Wp{constructor(e,n){this.shortDelay=e,this.longDelay=n,vo(n>e,"Short delay should be less than long delay!"),this.isMobile=nK()||sK()}get(){return _J()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function GN(t,e){vo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class lB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;io("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;io("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;io("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const TJ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SJ=new Wp(3e4,6e4);function jo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Da(t,e,n,r,i={}){return cB(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=Rp({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...s};return rK()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&No(t.emulatorConfig.host)&&(d.credentials="include"),lB.fetch()(await uB(t,t.config.apiHost,n,l),d)})}async function cB(t,e,n){t._canInitEmulator=!1;const r={...CJ,...e};try{const i=new PJ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw My(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw My(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw My(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw My(t,"user-disabled",a);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw WN(t,f,d);rs(t,f)}}catch(i){if(i instanceof Ra)throw i;rs(t,"network-request-failed",{message:String(i)})}}async function Kp(t,e,n,r,i={}){const s=await Da(t,e,n,r,i);return"mfaPendingCredential"in s&&rs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function uB(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?GN(t.config,i):`${t.config.apiScheme}://${i}`;return TJ.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function NJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PJ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rs(this.auth,"network-request-failed")),SJ.get())})}}function My(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rs(t,e,r);return i.customData._tokenResponse=n,i}function ER(t){return t!==void 0&&t.enterprise!==void 0}class AJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function IJ(t,e){return Da(t,"GET","/v2/recaptchaConfig",jo(t,e))}async function jJ(t,e){return Da(t,"POST","/v1/accounts:delete",e)}async function c0(t,e){return Da(t,"POST","/v1/accounts:lookup",e)}function Dm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kJ(t,e=!1){const n=Kt(t),r=await n.getIdToken(e),i=XN(r);ot(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:Dm(q1(i.auth_time)),issuedAtTime:Dm(q1(i.iat)),expirationTime:Dm(q1(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function q1(t){return Number(t)*1e3}function XN(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _v("JWT malformed, contained fewer than 3 sections"),null;try{const i=EV(n);return i?JSON.parse(i):(_v("Failed to decode base64 JWT payload"),null)}catch(i){return _v("Caught error parsing JWT payload as JSON",i?.toString()),null}}function CR(t){const e=XN(t);return ot(e,"internal-error"),ot(typeof e.exp<"u","internal-error"),ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Sf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ra&&RJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class DJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dm(this.lastLoginAt),this.creationTime=Dm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function u0(t){const e=t.auth,n=await t.getIdToken(),r=await Sf(t,c0(e,{idToken:n}));ot(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?dB(i.providerUserInfo):[],a=MJ(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new fT(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function OJ(t){const e=Kt(t);await u0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function dB(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function LJ(t,e){const n=await cB(t,{},async()=>{const r=Rp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await uB(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&No(t.emulatorConfig.host)&&(c.credentials="include"),lB.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VJ(t,e){return Da(t,"POST","/v2/accounts:revokeToken",jo(t,e))}class ef{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ot(e.idToken,"internal-error"),ot(typeof e.idToken<"u","internal-error"),ot(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CR(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ot(e.length!==0,"internal-error");const n=CR(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await LJ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new ef;return r&&(ot(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ot(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ot(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ef,this.toJSON())}_performRefresh(){return io("not implemented")}}function dl(t,e){ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ns{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new DJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fT(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Sf(this,this.stsTokenManager.getToken(this.auth,e));return ot(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kJ(this,e)}reload(){return OJ(this)}_assign(e){this!==e&&(ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ns({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await u0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qr(this.auth.app))return Promise.reject(co(this.auth));const e=await this.getIdToken();return await Sf(this,jJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:y,providerData:x,stsTokenManager:b}=n;ot(m&&b,e,"internal-error");const _=ef.fromJSON(this.name,b);ot(typeof m=="string",e,"internal-error"),dl(r,e.name),dl(i,e.name),ot(typeof p=="boolean",e,"internal-error"),ot(typeof y=="boolean",e,"internal-error"),dl(s,e.name),dl(a,e.name),dl(l,e.name),dl(c,e.name),dl(d,e.name),dl(f,e.name);const T=new Ns({uid:m,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:_,createdAt:d,lastLoginAt:f});return x&&Array.isArray(x)&&(T.providerData=x.map(L=>({...L}))),c&&(T._redirectEventId=c),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new ef;i.updateFromServerResponse(n);const s=new Ns({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await u0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ot(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?dB(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,l=new ef;l.updateFromIdToken(r);const c=new Ns({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new fT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,d),c}}const TR=new Map;function so(t){vo(t instanceof Function,"Expected a class definition");let e=TR.get(t);return e?(vo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TR.set(t,e),e)}class fB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fB.type="NONE";const SR=fB;function Ev(t,e,n){return`firebase:${t}:${e}:${n}`}class tf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ev(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ev("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await c0(this.auth,{idToken:e}).catch(()=>{});return n?Ns._fromGetAccountInfoResponse(this.auth,n,e):null}return Ns._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new tf(so(SR),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||so(SR);const a=Ev(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(a);if(f){let m;if(typeof f=="string"){const p=await c0(e,{idToken:f}).catch(()=>{});if(!p)break;m=await Ns._fromGetAccountInfoResponse(e,p,f)}else m=Ns._fromJSON(e,f);d!==s&&(l=m),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new tf(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new tf(s,e,r))}}function NR(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(hB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vB(e))return"Blackberry";if(xB(e))return"Webos";if(mB(e))return"Safari";if((e.includes("chrome/")||pB(e))&&!e.includes("edge/"))return"Chrome";if(yB(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function hB(t=Gn()){return/firefox\//i.test(t)}function mB(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pB(t=Gn()){return/crios\//i.test(t)}function gB(t=Gn()){return/iemobile/i.test(t)}function yB(t=Gn()){return/android/i.test(t)}function vB(t=Gn()){return/blackberry/i.test(t)}function xB(t=Gn()){return/webos/i.test(t)}function YN(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FJ(t=Gn()){return YN(t)&&!!window.navigator?.standalone}function BJ(){return aK()&&document.documentMode===10}function bB(t=Gn()){return YN(t)||yB(t)||xB(t)||vB(t)||/windows phone/i.test(t)||gB(t)}function wB(t,e=[]){let n;switch(t){case"Browser":n=NR(Gn());break;case"Worker":n=`${NR(Gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ju}/${r}`}class zJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function $J(t,e={}){return Da(t,"GET","/v2/passwordPolicy",jo(t,e))}const UJ=6;class qJ{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??UJ,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class HJ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new PR(this),this.idTokenSubscription=new PR(this),this.beforeStateQueue=new zJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=so(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await c0(this,{idToken:e}),r=await Ns._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await u0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qr(this.app))return Promise.reject(co(this));const n=e?Kt(e):null;return n&&ot(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qr(this.app)?Promise.reject(co(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qr(this.app)?Promise.reject(co(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(so(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $J(this),n=new qJ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await VJ(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&so(e)||this._popupRedirectResolver;ot(n,this,"argument-error"),this.redirectPersistenceManager=await tf.create(this,[so(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&xJ(`Error while retrieving App Check token: ${e.error}`),e?.token}}function ko(t){return Kt(t)}class PR{constructor(e){this.auth=e,this.observer=null,this.addObserver=fK(n=>this.observer=n)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Qx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WJ(t){Qx=t}function _B(t){return Qx.loadJS(t)}function KJ(){return Qx.recaptchaEnterpriseScript}function GJ(){return Qx.gapiScript}function XJ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class YJ{constructor(){this.enterprise=new QJ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QJ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const JJ="recaptcha-enterprise",EB="NO_RECAPTCHA";class ZJ{constructor(e){this.type=JJ,this.auth=ko(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{IJ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new AJ(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;ER(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(EB)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new YJ().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&ER(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=KJ();c.length!==0&&(c+=l),_B(c).then(()=>{i(l,s,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function AR(t,e,n,r=!1,i=!1){const s=new ZJ(t);let a;if(i)a=EB;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function d0(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await AR(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await AR(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}function eZ(t,e){const n=Lf(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Bl(s,e??{}))return i;rs(i,"already-initialized")}return n.initialize({options:e})}function tZ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(so);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function nZ(t,e,n){const r=ko(t);ot(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=CB(e),{host:a,port:l}=rZ(e),c=l===null?"":`:${l}`,d={url:`${s}//${a}${c}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ot(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ot(Bl(d,r.config.emulator)&&Bl(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,No(a)?(jp(`${s}//${a}${c}`),Cx("Auth",!0)):iZ()}function CB(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rZ(t){const e=CB(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:IR(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:IR(a)}}}function IR(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iZ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class QN{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return io("not implemented")}_getIdTokenResponse(e){return io("not implemented")}_linkToIdToken(e,n){return io("not implemented")}_getReauthenticationResolver(e){return io("not implemented")}}async function sZ(t,e){return Da(t,"POST","/v1/accounts:update",e)}async function aZ(t,e){return Da(t,"POST","/v1/accounts:signUp",e)}async function oZ(t,e){return Kp(t,"POST","/v1/accounts:signInWithPassword",jo(t,e))}async function lZ(t,e){return Da(t,"POST","/v1/accounts:sendOobCode",jo(t,e))}async function cZ(t,e){return lZ(t,e)}async function uZ(t,e){return Kp(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,e))}async function dZ(t,e){return Kp(t,"POST","/v1/accounts:signInWithEmailLink",jo(t,e))}class ap extends QN{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new ap(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ap(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d0(e,n,"signInWithPassword",oZ);case"emailLink":return uZ(e,{email:this._email,oobCode:this._password});default:rs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return d0(e,r,"signUpPassword",aZ);case"emailLink":return dZ(e,{idToken:n,email:this._email,oobCode:this._password});default:rs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function nf(t,e){return Kp(t,"POST","/v1/accounts:signInWithIdp",jo(t,e))}const fZ="http://localhost";class vu extends QN{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new vu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):rs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new vu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return nf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,nf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,nf(e,n)}buildRequest(){const e={requestUri:fZ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Rp(n)}return e}}function hZ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mZ(t){const e=mm(pm(t)).link,n=e?mm(pm(e)).deep_link_id:null,r=mm(pm(t)).deep_link_id;return(r?mm(pm(r)).link:null)||r||n||e||t}class JN{constructor(e){const n=mm(pm(e)),r=n.apiKey??null,i=n.oobCode??null,s=hZ(n.mode??null);ot(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=mZ(e);try{return new JN(n)}catch{return null}}}class Ru{constructor(){this.providerId=Ru.PROVIDER_ID}static credential(e,n){return ap._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=JN.parseLink(n);return ot(r,"argument-error"),ap._fromEmailAndCode(e,r.code,r.tenantId)}}Ru.PROVIDER_ID="password";Ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ZN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Gp extends ZN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class wl extends Gp{constructor(){super("facebook.com")}static credential(e){return vu._fromParams({providerId:wl.PROVIDER_ID,signInMethod:wl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wl.credentialFromTaggedObject(e)}static credentialFromError(e){return wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wl.credential(e.oauthAccessToken)}catch{return null}}}wl.FACEBOOK_SIGN_IN_METHOD="facebook.com";wl.PROVIDER_ID="facebook.com";class to extends Gp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return vu._fromParams({providerId:to.PROVIDER_ID,signInMethod:to.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return to.credentialFromTaggedObject(e)}static credentialFromError(e){return to.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return to.credential(n,r)}catch{return null}}}to.GOOGLE_SIGN_IN_METHOD="google.com";to.PROVIDER_ID="google.com";class _l extends Gp{constructor(){super("github.com")}static credential(e){return vu._fromParams({providerId:_l.PROVIDER_ID,signInMethod:_l.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _l.credentialFromTaggedObject(e)}static credentialFromError(e){return _l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _l.credential(e.oauthAccessToken)}catch{return null}}}_l.GITHUB_SIGN_IN_METHOD="github.com";_l.PROVIDER_ID="github.com";class El extends Gp{constructor(){super("twitter.com")}static credential(e,n){return vu._fromParams({providerId:El.PROVIDER_ID,signInMethod:El.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return El.credentialFromTaggedObject(e)}static credentialFromError(e){return El.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return El.credential(n,r)}catch{return null}}}El.TWITTER_SIGN_IN_METHOD="twitter.com";El.PROVIDER_ID="twitter.com";async function pZ(t,e){return Kp(t,"POST","/v1/accounts:signUp",jo(t,e))}class xu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ns._fromIdTokenResponse(e,r,i),a=jR(r);return new xu({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jR(r);return new xu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jR(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class f0 extends Ra{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,f0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new f0(e,n,r,i)}}function TB(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?f0._fromErrorAndOperation(t,s,e,r):s})}async function gZ(t,e,n=!1){const r=await Sf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return xu._forOperation(t,"link",r)}async function SB(t,e,n=!1){const{auth:r}=t;if(qr(r.app))return Promise.reject(co(r));const i="reauthenticate";try{const s=await Sf(t,TB(r,i,e,t),n);ot(s.idToken,r,"internal-error");const a=XN(s.idToken);ot(a,r,"internal-error");const{sub:l}=a;return ot(t.uid===l,r,"user-mismatch"),xu._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&rs(r,"user-mismatch"),s}}async function NB(t,e,n=!1){if(qr(t.app))return Promise.reject(co(t));const r="signIn",i=await TB(t,r,e),s=await xu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function yZ(t,e){return NB(ko(t),e)}async function vZ(t,e){return SB(Kt(t),e)}async function PB(t){const e=ko(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function xZ(t,e,n){const r=ko(t);await d0(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",cZ)}async function bZ(t,e,n){if(qr(t.app))return Promise.reject(co(t));const r=ko(t),a=await d0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",pZ).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&PB(t),c}),l=await xu._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function kR(t,e,n){return qr(t.app)?Promise.reject(co(t)):yZ(Kt(t),Ru.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&PB(t),r})}function AB(t,e){return wZ(Kt(t),null,e)}async function wZ(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const a=await Sf(t,sZ(r,s));await t._updateTokensIfNecessary(a,!0)}function _Z(t,e){return Kt(t).setPersistence(e)}function EZ(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function CZ(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}function TZ(t,e,n,r){return Kt(t).onAuthStateChanged(e,n,r)}function SZ(t){return Kt(t).signOut()}async function NZ(t){return Kt(t).delete()}const h0="__sak";class IB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(h0,"1"),this.storage.removeItem(h0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const PZ=1e3,AZ=10;class jB extends IB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);BJ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,AZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},PZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jB.type="LOCAL";const kB=jB;class RB extends IB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RB.type="SESSION";const DB=RB;function IZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Jx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jx(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async d=>d(n.origin,s)),c=await IZ(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jx.receivers=[];function eP(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class jZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const d=eP("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Ca(){return window}function kZ(t){Ca().location.href=t}function OB(){return typeof Ca().WorkerGlobalScope<"u"&&typeof Ca().importScripts=="function"}async function RZ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DZ(){return navigator?.serviceWorker?.controller||null}function OZ(){return OB()?self:null}const MB="firebaseLocalStorageDb",MZ=1,m0="firebaseLocalStorage",LB="fbase_key";class Xp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zx(t,e){return t.transaction([m0],e?"readwrite":"readonly").objectStore(m0)}function LZ(){const t=indexedDB.deleteDatabase(MB);return new Xp(t).toPromise()}function hT(){const t=indexedDB.open(MB,MZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(m0,{keyPath:LB})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(m0)?e(r):(r.close(),await LZ(),e(await hT()))})})}async function RR(t,e,n){const r=Zx(t,!0).put({[LB]:e,value:n});return new Xp(r).toPromise()}async function VZ(t,e){const n=Zx(t,!1).get(e),r=await new Xp(n).toPromise();return r===void 0?null:r.value}function DR(t,e){const n=Zx(t,!0).delete(e);return new Xp(n).toPromise()}const FZ=800,BZ=3;class VB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>BZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jx._getInstance(OZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RZ(),!this.activeServiceWorker)return;this.sender=new jZ(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await hT();return await RR(e,h0,"1"),await DR(e,h0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>RR(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DR(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Zx(i,!1).getAll();return new Xp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VB.type="LOCAL";const zZ=VB;new Wp(3e4,6e4);function FB(t,e){return e?so(e):(ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class tP extends QN{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return nf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return nf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $Z(t){return NB(t.auth,new tP(t),t.bypassAuthState)}function UZ(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),SB(n,new tP(t),t.bypassAuthState)}async function qZ(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),gZ(n,new tP(t),t.bypassAuthState)}class BB{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $Z;case"linkViaPopup":case"linkViaRedirect":return qZ;case"reauthViaPopup":case"reauthViaRedirect":return UZ;default:rs(this.auth,"internal-error")}}resolve(e){vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HZ=new Wp(2e3,1e4);async function WZ(t,e,n){if(qr(t.app))return Promise.reject(Rs(t,"operation-not-supported-in-this-environment"));const r=ko(t);bJ(t,e,ZN);const i=FB(r,n);return new Wc(r,"signInViaPopup",e,i).executeNotNull()}class Wc extends BB{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Wc.currentPopupAction&&Wc.currentPopupAction.cancel(),Wc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ot(e,this.auth,"internal-error"),e}async onExecution(){vo(this.filter.length===1,"Popup operations only handle one event");const e=eP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Rs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HZ.get())};e()}}Wc.currentPopupAction=null;const KZ="pendingRedirect",Cv=new Map;class GZ extends BB{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cv.get(this.auth._key());if(!e){try{const r=await XZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cv.set(this.auth._key(),e)}return this.bypassAuthState||Cv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XZ(t,e){const n=JZ(e),r=QZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function YZ(t,e){Cv.set(t._key(),e)}function QZ(t){return so(t._redirectPersistence)}function JZ(t){return Ev(KZ,t.config.apiKey,t.name)}async function ZZ(t,e,n=!1){if(qr(t.app))return Promise.reject(co(t));const r=ko(t),i=FB(r,e),a=await new GZ(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}const eee=600*1e3;class tee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zB(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Rs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eee&&this.cachedEventUids.clear(),this.cachedEventUids.has(OR(e))}saveEventToCache(e){this.cachedEventUids.add(OR(e)),this.lastProcessedEventTime=Date.now()}}function OR(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zB({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function nee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zB(t);default:return!1}}async function ree(t,e={}){return Da(t,"GET","/v1/projects",e)}const iee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,see=/^https?/;async function aee(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ree(t);for(const n of e)try{if(oee(n))return}catch{}rs(t,"unauthorized-domain")}function oee(t){const e=dT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!see.test(n))return!1;if(iee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const lee=new Wp(3e4,6e4);function MR(){const t=Ca().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cee(t){return new Promise((e,n)=>{function r(){MR(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{MR(),n(Rs(t,"network-request-failed"))},timeout:lee.get()})}if(Ca().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Ca().gapi?.load)r();else{const i=XJ("iframefcb");return Ca()[i]=()=>{gapi.load?r():n(Rs(t,"network-request-failed"))},_B(`${GJ()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Tv=null,e})}let Tv=null;function uee(t){return Tv=Tv||cee(t),Tv}const dee=new Wp(5e3,15e3),fee="__/auth/iframe",hee="emulator/auth/iframe",mee={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pee=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gee(t){const e=t.config;ot(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?GN(e,hee):`https://${t.config.authDomain}/${fee}`,r={apiKey:e.apiKey,appName:t.name,v:ju},i=pee.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Rp(r).slice(1)}`}async function yee(t){const e=await uee(t),n=Ca().gapi;return ot(n,t,"internal-error"),e.open({where:document.body,url:gee(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mee,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Rs(t,"network-request-failed"),l=Ca().setTimeout(()=>{s(a)},dee.get());function c(){Ca().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}const vee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xee=500,bee=600,wee="_blank",_ee="http://localhost";class LR{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Eee(t,e,n,r=xee,i=bee){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...vee,width:r.toString(),height:i.toString(),top:s,left:a},d=Gn().toLowerCase();n&&(l=pB(d)?wee:n),hB(d)&&(e=e||_ee,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[y,x])=>`${p}${y}=${x},`,"");if(FJ(d)&&l!=="_self")return Cee(e||"",l),new LR(null);const m=window.open(e||"",l,f);ot(m,t,"popup-blocked");try{m.focus()}catch{}return new LR(m)}function Cee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Tee="__/auth/handler",See="emulator/auth/handler",Nee=encodeURIComponent("fac");async function VR(t,e,n,r,i,s){ot(t.config.authDomain,t,"auth-domain-config-required"),ot(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ju,eventId:i};if(e instanceof ZN){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",dK(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof Gp){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${Nee}=${encodeURIComponent(c)}`:"";return`${Pee(t)}?${Rp(l).slice(1)}${d}`}function Pee({config:t}){return t.emulator?GN(t,See):`https://${t.authDomain}/${Tee}`}const H1="webStorageSupport";class Aee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=DB,this._completeRedirectFn=ZZ,this._overrideRedirectResult=YZ}async _openPopup(e,n,r,i){vo(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await VR(e,n,r,dT(),i);return Eee(e,s,eP())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await VR(e,n,r,dT(),i);return kZ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(vo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yee(e),r=new tee(e);return n.register("authEvent",i=>(ot(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(H1,{type:H1},i=>{const s=i?.[0]?.[H1];s!==void 0&&n(!!s),rs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=aee(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bB()||mB()||YN()}}const Iee=Aee;var FR="@firebase/auth",BR="1.12.0";class jee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ree(t){zl(new ho("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;ot(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wB(t)},d=new HJ(r,i,s,c);return tZ(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zl(new ho("auth-internal",e=>{const n=ko(e.getProvider("auth").getImmediate());return(r=>new jee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(FR,BR,kee(t)),es(FR,BR,"esm2020")}const Dee=300,Oee=NV("authIdTokenMaxAge")||Dee;let zR=null;const Mee=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Oee)return;const i=n?.token;zR!==i&&(zR=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Lee(t=Tx()){const e=Lf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eZ(t,{popupRedirectResolver:Iee,persistence:[zZ,kB,DB]}),r=NV("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Mee(s.toString());CZ(n,a,()=>a(n.currentUser)),EZ(n,l=>a(l))}}const i=TV("auth");return i&&nZ(n,`http://${i}`),n}function Vee(){return document.getElementsByTagName("head")?.[0]??document}WJ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Rs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Vee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ree("Browser");const $B="firebasestorage.googleapis.com",Fee="storageBucket",Bee=120*1e3,zee=600*1e3;class Oa extends Ra{constructor(e,n,r=0){super(W1(e),`Firebase Storage: ${n} (${W1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Oa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return W1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Pa;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Pa||(Pa={}));function W1(t){return"storage/"+t}function $ee(){const t="An unknown error occurred, please check the error payload for server response.";return new Oa(Pa.UNKNOWN,t)}function Uee(){return new Oa(Pa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qee(){return new Oa(Pa.CANCELED,"User canceled the upload/download.")}function Hee(t){return new Oa(Pa.INVALID_URL,"Invalid URL '"+t+"'.")}function Wee(t){return new Oa(Pa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $R(t){return new Oa(Pa.INVALID_ARGUMENT,t)}function UB(){return new Oa(Pa.APP_DELETED,"The Firebase app was deleted.")}function Kee(t){return new Oa(Pa.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ps{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ps.makeFromUrl(e,n)}catch{return new Ps(e,"")}if(r.path==="")return r;throw Wee(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function d(z){z.path_=decodeURIComponent(z.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${f}/b/${i}/o${p}`,"i"),x={bucket:1,path:3},b=n===$B?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",T=new RegExp(`^https?://${b}/${i}/${_}`,"i"),M=[{regex:l,indices:c,postModify:s},{regex:y,indices:x,postModify:d},{regex:T,indices:{bucket:1,path:2},postModify:d}];for(let z=0;z<M.length;z++){const I=M[z],j=I.regex.exec(e);if(j){const C=j[I.indices.bucket];let S=j[I.indices.path];S||(S=""),r=new Ps(C,S),I.postModify(r);break}}if(r==null)throw Hee(e);return r}}class Gee{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Xee(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function c(){return l===2}let d=!1;function f(..._){d||(d=!0,e.apply(null,_))}function m(_){i=setTimeout(()=>{i=null,t(y,c())},_)}function p(){s&&clearTimeout(s)}function y(_,...T){if(d){p();return}if(_){p(),f.call(null,_,...T);return}if(c()||a){p(),f.call(null,_,...T);return}r<64&&(r*=2);let M;l===1?(l=2,M=0):M=(r+Math.random())*1e3,m(M)}let x=!1;function b(_){x||(x=!0,p(),!d&&(i!==null?(_||(l=2),clearTimeout(i),m(0)):_||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,b(!0)},n),b}function Yee(t){t(!1)}function Qee(t){return t!==void 0}function UR(t,e,n,r){if(r<e)throw $R(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw $R(`Invalid value for '${t}'. Expected ${n} or less.`)}function Jee(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var p0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(p0||(p0={}));function Zee(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class ete{constructor(e,n,r,i,s,a,l,c,d,f,m,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ly(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===p0.NO_ERROR,c=s.getStatus();if(!l||Zee(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===p0.ABORT;r(!1,new Ly(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new Ly(d,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Qee(c)?s(c):s()}catch(c){a(c)}else if(l!==null){const c=$ee();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?UB():qee();a(c)}else{const c=Uee();a(c)}};this.canceled_?n(!1,new Ly(!1,null,!0)):this.backoffId_=Xee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Yee(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ly{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function tte(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nte(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rte(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ite(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function ste(t,e,n,r,i,s,a=!0,l=!1){const c=Jee(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return rte(f,e),tte(f,n),nte(f,s),ite(f,r),new ete(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,l)}function ate(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ote(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class g0{constructor(e,n){this._service=e,n instanceof Ps?this._location=n:this._location=Ps.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new g0(e,n)}get root(){const e=new Ps(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ote(this._location.path)}get storage(){return this._service}get parent(){const e=ate(this._location.path);if(e===null)return null;const n=new Ps(this._location.bucket,e);return new g0(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Kee(e)}}function qR(t,e){const n=e?.[Fee];return n==null?null:Ps.makeFromBucketSpec(n,t)}function lte(t,e,n,r={}){t.host=`${e}:${n}`;const i=No(e);i&&(jp(`https://${t.host}/b`),Cx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:PV(s,t.app.options.projectId))}class cte{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=$B,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Bee,this._maxUploadRetryTime=zee,this._requests=new Set,i!=null?this._bucket=Ps.makeFromBucketSpec(i,this._host):this._bucket=qR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ps.makeFromBucketSpec(this._url,e):this._bucket=qR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(qr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new g0(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Gee(UB());{const a=ste(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const HR="@firebase/storage",WR="0.14.0";const qB="storage";function ute(t=Tx(),e){t=Kt(t);const r=Lf(t,qB).getImmediate({identifier:e}),i=$S("storage");return i&&dte(r,...i),r}function dte(t,e,n,r={}){lte(t,e,n,r)}function fte(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new cte(n,r,i,e,ju)}function hte(){zl(new ho(qB,fte,"PUBLIC").setMultipleInstances(!0)),es(HR,WR,""),es(HR,WR,"esm2020")}hte();const HB="functions";class mte{constructor(e,n,r,i){this.app=e,this.auth=null,this.messaging=null,this.appCheck=null,this.serverAppAppCheckToken=null,qr(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.auth=n.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||n.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||i?.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{return(await this.auth.getToken())?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.serverAppAppCheckToken)return this.serverAppAppCheckToken;if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}const mT="us-central1";class pte{constructor(e,n,r,i,s=mT,a=(...l)=>fetch(...l)){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new mte(e,n,r,i),this.cancelAllRequests=new Promise(l=>{this.deleteService=()=>Promise.resolve(l())});try{const l=new URL(s);this.customDomain=l.origin+(l.pathname==="/"?"":l.pathname),this.region=mT}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function gte(t,e,n){const r=No(e);t.emulatorOrigin=`http${r?"s":""}://${e}:${n}`,r&&(jp(t.emulatorOrigin+"/backends"),Cx("Functions",!0))}const KR="@firebase/functions",GR="0.13.1";const yte="auth-internal",vte="app-check-internal",xte="messaging-internal";function bte(t){const e=(n,{instanceIdentifier:r})=>{const i=n.getProvider("app").getImmediate(),s=n.getProvider(yte),a=n.getProvider(xte),l=n.getProvider(vte);return new pte(i,s,a,l,r)};zl(new ho(HB,e,"PUBLIC").setMultipleInstances(!0)),es(KR,GR,t),es(KR,GR,"esm2020")}function wte(t=Tx(),e=mT){const r=Lf(Kt(t),HB).getImmediate({identifier:e}),i=$S("functions");return i&&_te(r,...i),r}function _te(t,e,n){gte(Kt(t),e,n)}bte();const Ete={apiKey:"AIzaSyBv8ljlrTY9LsoPUZPQpw1YaX2W6D5_O54",authDomain:"nexcoin-1f42f.firebaseapp.com",projectId:"nexcoin-1f42f",storageBucket:"nexcoin-1f42f.firebasestorage.app",messagingSenderId:"575773698878",appId:"1:575773698878:web:29261adabbe23c039f1a6f"},op=Xj().length===0?OV(Ete):Xj()[0],xn=Lee(op);_Z(xn,kB).then(()=>{console.log(" Persistncia do Firebase Auth configurada com sucesso")}).catch(t=>{console.error(" Erro ao configurar persistncia:",t)});let be;try{be=YQ(op)}catch{be=XQ(op,{localCache:aJ({tabManager:uJ(),cacheSizeBytes:GQ})})}const Cte=console.error;console.error=(...t)=>{typeof t[0]=="string"&&(t[0].includes("WebChannelConnection")||t[0].includes("@firebase/firestore"))||Cte(...t)};ute(op);wte(op);const pT={pt:{countries:{BR:"Brasil",US:"Estados Unidos",PT:"Portugal",ES:"Espanha",FR:"Frana",DE:"Alemanha",IT:"Itlia",GB:"Reino Unido",NL:"Holanda",BE:"Blgica",CH:"Sua",AT:"ustria",CA:"Canad",AU:"Austrlia",MX:"Mxico",AR:"Argentina",CL:"Chile",CO:"Colmbia"},fiatAccounts:{title:"Contas",subtitle:"Gerencie suas contas bancrias",accounts:"Contas",manageBankAccounts:"Gerencie suas contas bancrias",accountData:"Dados da conta",accountSettings:"Configuraes da Conta",selectAccount:"Selecionar conta",chooseAccountToTransact:"Escolha a conta para transacionar",addNewAccount:"Adicionar Nova Conta",addAccount:"Adicionar Conta",noAccountsFound:"Nenhuma conta encontrada",addFiatAccount:"Adicione uma conta fiat para comear",add:"Adicionar",addButton:"Adicionar",creating:"Criando...",removeAccount:"Remover Conta",closeAccount:"Encerrar conta",deleteAccount:"Deletar Conta",openingAccount:"Abrindo Conta",configuringAccount:"Configurando sua conta de {country}",validating:"Validando dados",generating:"Gerando nmero da conta",security:"Configurando segurana",finalizing:"Finalizando abertura",completedSteps:"{completed} de {total} etapas concludas",accountExists:"Conta j existe",accountExistsDesc:"Voc j possui uma conta bancria de {country}. No  possvel criar mais de uma conta por pas.",accountCreated:"Conta criada",accountCreatedDesc:"Conta bancria de {country} criada com sucesso!",pixKeysCreated:"Chaves PIX criadas!",pixKeysCreatedDesc:"Suas chaves PIX (email e telefone) foram configuradas automaticamente.",errorCreatingAccount:"Erro ao criar conta",errorCreatingAccountDesc:"No foi possvel criar a conta bancria. Tente novamente.",error:"Erro",accountIdNotFound:"ID da conta no encontrado.",closeAccountConfirm:`Tem certeza que deseja encerrar esta conta?

Esta ao no pode ser desfeita e voc perder todos os dados desta conta bancria.`,accountClosed:"Conta encerrada",accountClosedDesc:"A conta bancria foi encerrada com sucesso.",errorClosingAccount:"Erro ao encerrar conta",errorClosingAccountDesc:"No foi possvel encerrar a conta. Tente novamente.",permissionError:"Erro de permisso",permissionErrorDesc:"Verifique se as regras do Firestore foram configuradas corretamente.",firestoreRulesWarning:" Regras do Firestore no configuradas",firestoreRulesDesc:"Voc precisa atualizar as regras do Firestore. Consulte o guia para instrues detalhadas.",institution:"Instituio",bank:"Banco",accountType:"Tipo de Conta",accountNumber:"Nmero da conta",bankCode:"Cdigo do Banco",institutionCode:"Cdigo da Instituio",iban:"IBAN",swiftBic:"SWIFT/BIC",sortCode:"Sort Code",branchCode:"Branch Code",agency:"Agncia",routingNumber:"Routing Number",bsb:"BSB",shareData:"Compartilhar dados",domesticOnly:"Apenas para transferncias domsticas",internationalOnly:"Apenas para transferncias internacionais",transferTimeTip:"Normalmente as transferncias levam de trs a cinco dias teis para aparecer na sua conta",feeTip:"O banco do remetente ou intermedirio poder cobrar por pagamentos internacionais",swiftOnlyTip:"Aceitamos somente transferncias SWIFT",noFeeTip:"No cobraremos nenhuma taxa de transferncia para esta conta.",pixTip:"Voc pode usar os dados da sua conta ou chave Pix para receber transferncias 24 horas, sem complicaes.",addFunds:"Adicionar Fundos",depositMethod:"Mtodo de Depsito",depositAmount:"Valor do Depsito",transferDetails:"Dados para Transferncia",selectPixKey:"Selecione a Chave PIX",selectKey:"Selecione uma chave",pixKeys:"Chaves Pix",pixQrCode:"QR Code PIX",copyPixCode:"Copiar Cdigo PIX",codeCopied:"Cdigo Copiado!",depositHint:"Dica: Insira o valor do depsito acima para gerar o QR Code PIX.",noPixKeys:"Nenhuma chave PIX cadastrada. Cadastre uma chave PIX para usar este mtodo.",simulationWarning:'Simulao: Em produo, o sistema aguardaria confirmao da transferncia bancria. Aqui, o saldo ser adicionado instantaneamente ao clicar em "Confirmar Depsito".',confirmDeposit:"Confirmar Depsito",depositVia:"Depsito via",depositSuccess:"Depsito realizado com sucesso!",depositError:"Erro ao processar depsito",recipient:"Destinatrio",yourPixKeys:"Suas chaves Pix",registeredKeys:"Suas chaves cadastradas",keysAutoCreated:" Suas chaves PIX (email e telefone) foram criadas automaticamente",noKeysFound:"Nenhuma chave PIX encontrada",errorCopying:"Erro ao copiar chave"},welcome:"Bem-vindo",createAccount:"Criar Conta",login:"Entrar",signUp:"Cadastro",termsAgreement:"Ao se cadastrar, voc concorda com nossos Termos de Servio e Poltica de Privacidade.",futureOfFinance:"Future of Finance",dontHaveAccount:"No tem uma conta?",alreadyHaveAccount:"J tem uma conta?",email:"E-mail",phone:"Telefone",fullName:"Nome completo",password:"Senha",confirmPassword:"Confirmar senha",forgotPassword:"Esqueceu a senha?",continue:"Continuar",initialSetup:"Configurao inicial",countryCurrencySubtitle:"Selecione seu pas de origem e a moeda preferencial para suas transaes.",choosePin:"Escolha sua senha de acesso",choosePinSubtitle:"Crie uma senha de 6 dgitos para entrar no aplicativo e autorizar suas transaes.",confirmPin:"Confirme sua senha",confirmPinSubtitle:"Digite novamente sua senha de 6 dgitos para confirmar.",enterPin:"Digite seu PIN",enterPinSubtitle:"Digite seu PIN de 6 dgitos para acessar sua conta",forgotPin:"Esqueci meu PIN",pinsDontMatch:"As senhas no coincidem. Tente novamente.",pinSetupSuccess:"Senha configurada com sucesso!",portuguese:"Portugus",english:"Ingls",spanish:"Espanhol",register:"Cadastrar",invalidName:"Nome invlido",invalidEmail:"E-mail invlido",invalidPhone:"Telefone invlido",phoneNotFound:"Telefone no encontrado",passwordRequirement:"A senha deve ter pelo menos 8 caracteres, 1 maiscula e 1 caractere especial",passwordsDontMatch:"As senhas no coincidem",privacyPolicy:"Poltica de Privacidade",or:"ou",incorrectPassword:"Senha incorreta",loginError:"Erro ao fazer login",home:"Incio",wallet:"Carteira",convert:"Converter",crypto:"Cripto",profile:"Perfil",totalBalance:"Saldo total",hideBalance:"Ocultar saldo",showBalance:"Exibir saldo",recentTransactions:"Transaes recentes",deposit:"Depositar",withdraw:"Sacar",transfer:"Transferir",noTransactions:"Nenhuma transao ainda",quickActions:"Aes rpidas",viewAll:"Ver tudo",statement:"Extrato",viewAllTransactions:"Ver todas as transaes",market:"Mercado",myAccounts:"Minhas Contas",myCryptos:"Minhas Criptomoedas",trade:"Negociar",activity:"Atividade",myWallet:"Minha Carteira",assets:"Ativos",search:"Pesquisar",totalAssets:"Total em ativos",cryptoAssets:"Ativos em Cripto",fiatBalance:"Saldo em Fiat",manageHoldings:"Gerenciar ativos",send:"Enviar",loadingAssets:"Carregando ativos...",noAssetsInPortfolio:"Nenhum ativo no portflio",startAddingCryptos:"Comece adicionando criptomoedas na aba",goToCrypto:"Ir para Cripto",cryptocurrencies:"Criptomoedas",removeAsset:"Remover ativo",addBalance:"Adicionar Saldo",enterValidValue:"Digite um valor vlido",balanceAddedSuccess:"Saldo adicionado com sucesso!",errorAddingBalance:"Erro ao adicionar saldo",add:"Adicionar",confirmDeletion:"Confirmar Excluso",areYouSureDelete:"Tem certeza que deseja remover permanentemente",fromYourPortfolio:"do seu portflio?",currentBalance:"Saldo atual",valueToAdd:"Valor a adicionar",newBalance:"Novo saldo",adding:"Adicionando...",addCryptosToPortfolio:"Adicione criptomoedas ao seu portflio",toAddMoreCryptos:"Para adicionar mais criptomoedas, v na aba",selectAssetToDelete:"Selecione um ativo para excluir",assetRemovedSuccess:"Ativo removido com sucesso!",errorRemovingAsset:"Erro ao remover ativo",removing:"Removendo...",remove:"Remover",cashAndStablecoins:"Dinheiro e Stablecoins",cancel:"Cancelar",brazilianReal:"Real Brasileiro (PIX)",usDollar:"Dlar Americano",euro:"Euro",sterling:"Libra Esterlina",stablecoin:"Stablecoin",japaneseYen:"Iene Japons",canadianDollar:"Dlar Canadense",australianDollar:"Dlar Australiano",swissFranc:"Franco Suo",chineseYuan:"Yuan Chins",indianRupee:"Rpia Indiana",mexicanPeso:"Peso Mexicano",argentinePeso:"Peso Argentino",convertCrypto:"Converter Cripto",from:"De",to:"Para",amount:"Valor",youGet:"Voc recebe",exchangeRate:"Taxa de cmbio",convertNow:"Converter agora",selectCrypto:"Selecionar cripto",cryptoMarket:"Mercado Cripto",topGainers:"Maiores altas",topLosers:"Maiores quedas",marketCap:"Cap. de mercado",volume24h:"Volume 24h",price:"Preo",change24h:"Variao 24h",myProfile:"Meu Perfil",settings:"Configuraes",security:"Segurana",notifications:"Notificaes",language:"Idioma",support:"Suporte",about:"Sobre",logout:"Sair",account:"Conta",personalInfo:"Informaes pessoais",accountData:"Dados da conta",helpCenter:"Central de ajuda",termsAndPrivacy:"Termos e privacidade",dangerZone:"Zona de Perigo",deleteAccount:"Excluir conta",help:"Ajuda",privacy:"Privacidade",aboutUs:"Sobre ns",receiveCrypto:{title:"Receber",searchPlaceholder:"Buscar criptomoeda...",receiveCryptoTitle:"Receber {crypto}",selectNetwork:"Selecione a rede",yourAddress:"SEU ENDEREO",copy:"Copiar",new:"Novo",generating:"Gerando...",copied:"Copiado!",generatingAddress:"Gerando endereo...",helpTitle:"Ajuda",attention:"Ateno",attentionDesc:"Envie apenas ativos compatveis com a rede selecionada. Enviar ativos de outras redes pode resultar em perda permanente dos seus fundos.",uniqueAddress:"Endereo nico",uniqueAddressDesc:"Este endereo  exclusivo da sua conta e pode ser usado mltiplas vezes.",security:"Segurana",securityDesc:"Sempre confirme a rede antes de enviar ativos para evitar perdas irreversveis.",howItWorks:"Como funciona",howItWorksDesc:"Compartilhe este endereo ou QR Code com quem vai enviar criptomoedas para voc.",importantTip:"Dica importante",importantTipDesc:"Recomendamos fazer um teste com uma pequena quantia primeiro.",transactionQuestions:"Dvidas sobre transaes?",helpHere:"Ajuda aqui"},securitySettings:"Configuraes de Segurana",changePassword:"Alterar senha",twoFactor:"Autenticao de dois fatores",biometric:"Biometria",currentPassword:"Senha atual",newPassword:"Nova senha",confirmNewPassword:"Confirmar nova senha",updatePassword:"Atualizar senha",authentication:"Autenticao",lastChanged:"ltima alterao h 3 meses",addExtraLayer:"Adicione uma camada extra de segurana",securityNotifications:"Notificaes de segurana",emailAlerts:"Alertas por e-mail",receiveSuspiciousActivity:"Receba notificaes de atividades suspeitas",recentActivity:"Atividades recentes",viewDevicesAccess:"Veja dispositivos e acessos recentes",connectedDevices:"Dispositivos conectados",activeDevices:"3 dispositivos ativos",activeSessions:"Sesses ativas",manageSessions:"Gerencie suas sesses",yourAccountProtected:"Sua conta est protegida",keepInfoSecure:"Continue mantendo suas informaes seguras",securityTips:"Dicas de segurana",useStrongPassword:"Use uma senha forte e nica",enableTwoFactor:"Ative a autenticao de dois fatores",neverShareCredentials:"Nunca compartilhe suas credenciais",notificationSettings:"Configuraes de Notificaes",pushNotifications:"Notificaes push",emailNotifications:"Notificaes por e-mail",transactionAlerts:"Alertas de transao",priceAlerts:"Alertas de preo",newsUpdates:"Atualizaes de notcias",notificationsTitle:"Notificaes",unreadMessages:"{count} no lida{plural}",markAll:"Marcar todas",filterAll:"Todas",filterTransactions:"Transaes",filterSecurity:"Segurana",filterUpdates:"Atualizaes",loadingNotifications:"Aguarde enquanto carregamos suas notificaes",noNotificationsTitle:"Nenhuma notificao",noNotificationsDesc:"Voc no tem notificaes nesta categoria",pushSettingsButton:"Configuraes de notificaes push",helpCenterPage:{title:"Central de Ajuda",howCanWeHelp:"Como podemos ajudar?",chooseOption:"Escolha a melhor forma de entrar em contato com nossa equipe de suporte",sendEmail:"Enviar e-mail",sendEmailDesc:"Envie sua dvida por e-mail e receba resposta em at 24 horas",liveChat:"Chat ao vivo",liveChatDesc:"Converse com um agente em tempo real",availableNow:"Disponvel agora",faq:"Perguntas frequentes",subject:"Assunto",enterSubject:"Digite o assunto",message:"Mensagem",enterMessage:"Descreva sua dvida ou problema",send:"Enviar",cancel:"Cancelar",emailSent:"E-mail enviado com sucesso! Nossa equipe responder em breve.",waitingSupport:"Aguardando atendimento",youAreInQueue:"Voc est na fila. Em breve um agente estar disponvel.",peopleAhead:"pessoas  sua frente",connectedWithAgent:"Voc foi conectado com um agente",agentGreeting:"Ol! Sou o agente Carlos. Como posso ajud-lo hoje?",agentResponse:"Entendi sua questo. Vou verificar isso para voc.",agentName:"Agente Carlos",online:"Online",typeMessage:"Digite sua mensagem...",faqs:{deposit:{q:"Como fazer um depsito?",a:'Para fazer um depsito, v at a aba "Carteira", selecione a criptomoeda desejada e clique em "Depositar". Voc receber um endereo nico para enviar seus fundos. Certifique-se de usar a rede correta para evitar perda de fundos.'},withdraw:{q:"Como sacar criptomoedas?",a:'Na aba "Carteira", selecione a moeda que deseja sacar e clique em "Sacar". Insira o endereo de destino, escolha a rede blockchain e o valor. Confirme a transao com seu cdigo de segurana. O processamento pode levar de alguns minutos a horas dependendo da rede.'},fees:{q:"Taxas de transao",a:"As taxas variam de acordo com a criptomoeda e a rede blockchain utilizada. Depsitos so gratuitos. Para saques, as taxas so dinmicas e baseadas no congestionamento da rede. Voc sempre ver a taxa exata antes de confirmar qualquer transao."},security:{q:"Segurana da conta",a:"Sua segurana  nossa prioridade. Recomendamos ativar a autenticao de dois fatores (2FA), usar senha forte e nica, e nunca compartilhar suas credenciais. Todas as transaes exigem confirmao adicional e seus fundos so protegidos com criptografia de nvel bancrio."}}},termsMenuPage:{title:"Termos e Privacidade",termsOfUse:"Termos de Uso",termsDesc:"Leia os termos e condies de uso do NexCoin",privacyPolicy:"Poltica de Privacidade",privacyDesc:"Saiba como protegemos e usamos seus dados",lastUpdate:"ltima atualizao: 26 de janeiro de 2026"},termsAndConditionsPage:{title:"Termos de Uso",lastUpdate:"ltima atualizao: 26 de janeiro de 2026",sections:{1:{title:"1. Aceitao dos Termos",content:"Ao acessar e usar o NexCoin, voc concorda em cumprir estes Termos de Uso. Se voc no concordar com qualquer parte destes termos, no dever usar nossos servios."},2:{title:"2. Elegibilidade",content:"Voc deve ter pelo menos 18 anos de idade para usar o NexCoin. Ao criar uma conta, voc declara e garante que tem capacidade legal para celebrar este contrato."},3:{title:"3. Conta e Segurana",content:[" Voc  responsvel por manter a confidencialidade de suas credenciais de login"," Voc deve notificar imediatamente sobre qualquer uso no autorizado de sua conta"," O NexCoin no ser responsvel por perdas decorrentes do uso no autorizado de sua conta"]},4:{title:"4. Segurana e Permisses Obrigatrias",content:"Para garantir a segurana das suas transaes e prevenir fraudes, o uso do GPS (geolocalizao) e da CMERA  OBRIGATRIO na plataforma NexCoin.",items:[" O acesso aos servios ser bloqueado caso as permisses de localizao ou cmera sejam negadas ou desativadas"," A cmera  utilizada exclusivamente para verificao de identidade (KYC), prova de vida e autenticao de segurana"," O GPS  utilizado para monitoramento de segurana constante, incluindo rastreamento em segundo plano para preveno contra acessos no autorizados e proteo de ativos"," O uso de notificaes  recomendado para o monitoramento em tempo real de todas as movimentaes financeiras da sua conta"]},5:{title:"5. Uso da Plataforma",items:["Uso Permitido: O NexCoin  uma plataforma para negociao de criptomoedas. Voc concorda em usar a plataforma apenas para fins legais.","Uso Proibido:  proibido usar a plataforma para lavagem de dinheiro, financiamento de terrorismo, fraude ou qualquer atividade ilegal."]},6:{title:"6. Transaes e Taxas",content:"Todas as transaes realizadas atravs do NexCoin esto sujeitas a taxas de rede. As taxas so claramente exibidas antes da confirmao de qualquer transao. Uma vez confirmada, a transao  irreversvel."},7:{title:"7. Riscos de Criptomoedas",content:"Voc reconhece que o mercado de criptomoedas  voltil e que o valor dos seus ativos pode flutuar significativamente. O NexCoin no garante lucros e voc  responsvel por suas decises de investimento."},8:{title:"8. Limitao de Responsabilidade",content:"O NexCoin no ser responsvel por perdas diretas, indiretas, incidentais ou consequenciais resultantes do uso ou incapacidade de usar nossos servios, incluindo perda de fundos, dados ou lucros."},9:{title:"9. Suspenso e Encerramento",content:"Reservamo-nos o direito de suspender ou encerrar sua conta a qualquer momento, sem aviso prvio, se acreditarmos que voc violou estes termos ou se envolveu em atividades fraudulentas."},10:{title:"10. Modificaes dos Termos",content:"Podemos modificar estes termos a qualquer momento. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. O uso continuado da plataforma aps as modificaes constitui aceitao dos novos termos."},11:{title:"11. Lei Aplicvel",content:"Estes termos so regidos pelas leis aplicveis em sua jurisdio. Qualquer disputa ser resolvida nos tribunais competentes."},12:{title:"12. Contato",content:"Se voc tiver dvidas sobre estes Termos de Uso, entre em contato conosco atravs da Central de Ajuda."}},agreement:"Ao usar o NexCoin, voc concorda com estes Termos de Uso"},privacyPolicyPage:{title:"Poltica de Privacidade",lastUpdate:"ltima atualizao: 26 de janeiro de 2026",sections:{1:{title:"1. Introduo",content:"O NexCoin valoriza sua privacidade. Esta Poltica de Privacidade descreve como coletamos, usamos, armazenamos e protegemos suas informaes pessoais quando voc usa nossos servios."},2:{title:"2. Informaes que Coletamos",items:[{title:"2.1 Informaes de Cadastro:",content:" Nome completo, e-mail, nmero de telefone, pas de residncia"},{title:"2.2 Informaes de Transao:",content:" Histrico de transaes, endereos de carteiras, valores negociados"},{title:"2.3 Informaes Tcnicas:",content:" Endereo IP, tipo de dispositivo, sistema operacional, logs de acesso"},{title:"2.4 Informaes de Geolocalizao (GPS):",content:" Localizao precisa do dispositivo, utilizada obrigatoriamente para fins de segurana, preveno de fraudes e conformidade regulatria."},{title:"2.5 Informaes de Verificao:",content:" Documentos de identificao e dados biomtricos para conformidade KYC (Know Your Customer)"},{title:"2.6 Informaes de Cmera:",content:" Acesso  cmera do dispositivo, utilizado obrigatoriamente para captura de documentos e reconhecimento facial (KYC) para fins de segurana e preveno de fraudes."},{title:"2.7 Notificaes e Alertas:",content:" Coleta de tokens de dispositivo para envio de notificaes push sobre depsitos recebidos, segurana da conta e alertas importantes do sistema."}]},3:{title:"3. Como Usamos suas Informaes",content:[" Fornecer e melhorar nossos servios de negociao de criptomoedas"," Processar transaes e garantir a segurana da sua conta"," Cumprir requisitos legais e regulatrios (AML/KYC)"," Comunicar sobre atualizaes, manutenes e questes de segurana"," Prevenir fraudes e atividades suspeitas atravs do monitoramento de localizao e padres de acesso"," Personalizar sua experincia no aplicativo"]},4:{title:"4. Compartilhamento de Informaes",intro:"No vendemos suas informaes pessoais. Podemos compartilhar seus dados apenas nas seguintes situaes:",content:[" Com provedores de servios terceirizados essenciais para operao da plataforma"," Quando exigido por lei, ordem judicial ou autoridades regulatrias"," Para proteger nossos direitos legais e prevenir fraudes"," Com seu consentimento explcito"]},5:{title:"5. Segurana dos Dados",intro:"Implementamos medidas de segurana robustas para proteger suas informaes:",content:[" Criptografia de ponta a ponta para dados sensveis"," Autenticao de dois fatores (2FA)"," Armazenamento seguro em servidores com certificao de segurana"," Monitoramento contnuo contra acessos no autorizados"," Auditorias de segurana regulares"]},6:{title:"6. Reteno de Dados",content:"Mantemos suas informaes pessoais pelo tempo necessrio para fornecer nossos servios e cumprir obrigaes legais. Dados de transaes so mantidos conforme exigido por regulamentaes financeiras."},7:{title:"7. Seus Direitos",intro:"Voc tem os seguintes direitos em relao s suas informaes pessoais:",content:[" Acessar e revisar suas informaes pessoais"," Solicitar correo de dados incorretos"," Solicitar excluso de dados (sujeito a obrigaes legais)"," Optar por no receber comunicaes de marketing"," Portabilidade de dados"]},8:{title:"8. Cookies e Rastreamento",content:"Usamos cookies e tecnologias similares para melhorar sua experincia, analisar o uso da plataforma e personalizar contedo. Voc pode gerenciar suas preferncias de cookies nas configuraes do aplicativo."},9:{title:"9. Transferncias Internacionais",content:"Seus dados podem ser transferidos e processados em pases diferentes do seu pas de residncia. Garantimos que todas as transferncias cumpram as leis de proteo de dados aplicveis."},10:{title:"10. Menores de Idade",content:"Nossos servios no so destinados a menores de 18 anos. No coletamos intencionalmente informaes de menores. Se voc acredita que coletamos dados de um menor, entre em contato conosco imediatamente."},11:{title:"11. Alteraes na Poltica",content:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. Recomendamos revisar esta poltica regularmente."},12:{title:"12. Contato",content:"Se voc tiver dvidas sobre esta Poltica de Privacidade ou sobre como tratamos seus dados, entre em contato atravs da Central de Ajuda ou envie um e-mail para privacy@nexcoin.com."}},agreement:"Ao usar o NexCoin, voc concorda com esta Poltica de Privacidade"},languageSettings:"Configuraes de Idioma",selectLanguage:"Selecione seu idioma",languageUpdated:"Idioma atualizado com sucesso!",selectYourLanguage:"Selecione seu idioma",languageDescription:"Escolha o idioma de sua preferncia para o aplicativo",sent:"Enviado",received:"Recebido",pending:"Pendente",completed:"Concludo",failed:"Falhou",transactions:"Transaes",allTransactions:"Todas as transaes",transactionsPage:{title:"Transaes",search:"Pesquisar",today:"Hoje",yesterday:"Ontem",noTransactions:"Nenhuma transao",noTransactionsDesc:"Suas transaes aparecero aqui",noResults:"Nenhum resultado",noResultsDesc:"Tente ajustar a busca",fee:"Taxa",types:{sendCrypto:"Envio de",receiveCrypto:"Recebimento de",sent:"Enviado",received:"Recebido",pixSent:"PIX enviado",pixReceived:"PIX recebido",conversion:"Converso",deposit:"Depsito",withdrawal:"Transferncia",buy:"Compra de",sell:"Venda de"},status:{completed:"Concludo",pending:"Pendente",processing:"Processando",failed:"Falhou"}},statsPage:{title:"Estatsticas",portfolioAnalysis:"Anlise do Portflio",totalBalance:"Saldo Total",totalAssets:"Total de Ativos",largestAsset:"Maior Ativo",assetDistribution:"Distribuio de Ativos",ofPortfolio:"do portflio",portfolioHistory:"Histrico do Portflio",lastUpdates:"ltimas {count} atualizaes",updatesEvery5Min:"Atualiza a cada 5min"},copied:"Copiado!",copiedToClipboard:"Copiado para rea de transferncia",enterValidAmount:"Insira um valor vlido",transferMethod:"Transferncia",confirm:"Confirmar",save:"Salvar",edit:"Editar",back:"Voltar",next:"Prximo",done:"Concludo",loading:"Carregando...",error:"Erro",success:"Sucesso",close:"Fechar",options:"Opes",welcomeBack:"Bem-vindo de volta",goodMorning:"Bom dia",goodAfternoon:"Boa tarde",goodEvening:"Boa noite",depositFunds:"Depositar fundos",withdrawFunds:"Sacar fundos",selectAmount:"Selecionar valor",enterAmount:"Inserir valor",minimum:"Mnimo",maximum:"Mximo",available:"Disponvel",receive:"Receber",name:"Nome",country:"Pas",dateOfBirth:"Data de nascimento",address:"Endereo",personalAccount:"Conta pessoal",idDocument:"Documento de identificao (CPF/RG/Passaporte)",enterIdDocument:"Digite seu CPF, RG ou Passaporte",residentialAddress:"Endereo residencial",addressPlaceholder:"Rua, nmero, complemento",city:"Cidade",state:"Estado",zipCode:"CEP",phoneNumber:"Nmero de celular",emailLabel:"E-mail",taxResidence:"Domiclio fiscal",patrimony:"Patrimnio",reportedPatrimony:"Patrimnio informado (opcional)",patrimonyPlaceholder:"Ex: R$ 500.000,00",notInformed:"NO INFORMADO",portfolioValue:"Valor do portflio",dailyChange:"Variao diria",profit:"Lucro",loss:"Perda",myCards:"Meus cartes",addCard:"Adicionar carto",manageCards:"Gerenciar cartes",bottomNav:{home:"Incio",wallet:"Carteira",convert:"Converter",crypto:"Cripto",profile:"Perfil"},cryptoPage:{all:"Todos",favorites:"Favoritos",searchCrypto:"Pesquisar criptomoeda...",addBalance:"Adicionar Saldo",enterAmount:"Digite o valor",add:"Adicionar",balance:"Saldo",noFavorites:"Nenhum favorito ainda",addFavoritesTip:"Toque na estrela para adicionar favoritos",topGainersToday:"Maiores Altas Hoje",cryptoAddedSuccess:"Cripto adicionada com sucesso!",errorAddingCrypto:"Erro ao adicionar cripto",invalidAmount:"Valor invlido",addToPortfolio:"Adicionar ao Portflio",trendingUp:"Cripto em Alta",realTime:"Tempo Real",price:"Preo",change24h:"24h",hideList:"Ocultar Lista",seeAllCryptos:"Ver Todas as Criptomoedas",activeAvailable:"ativo disponvel",activesAvailable:"ativos disponveis",hide:"Ocultar",expand:"Expandir",holdToAddBalance:"Segure 5s para adicionar saldo",marketCap:"Market Cap",allCryptosActive:"Todas as criptos esto ativas!",allCryptosAdded:"Voc j adicionou todas as criptomoedas disponveis ao seu portflio.",viewPortfolio:"Ver Portflio",currentBalance:"Saldo atual",amountToAdd:"Quantidade a adicionar",newBalance:"Novo saldo",cancel:"Cancelar",adding:"Adicionando...",confirmAddPortfolio:"Deseja adicionar esta cripto ao seu portflio?",addNow:"Adicionar Agora"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Cripto  Cripto",cryptoToFiat:"Cripto  Moeda",fiatToFiat:"Moeda  Moeda",convertAll:"Converter tudo",exchangeRate:"Cotao",balance:"Saldo",conversionFee:"Taxa de converso (0.5%)",processing:"Processamento",confirmExchange:"Confirmar Exchange",converting:"Convertendo...",conversionHistory:"Histrico de Converses",insufficientBalance:"Saldo insuficiente",insufficientBalanceWithFee:"Saldo insuficiente (inclui taxa 0,5%)",noBalance:"Sem saldo em",conversionCompleted:"Converso Realizada!",anotherConversion:"Deseja fazer outra converso?",yesAnother:"Sim, fazer outra",noGoHome:"No, voltar para Home",conversionSuccess:"Converso realizada com sucesso!",conversionError:"Erro ao processar converso",deleteConversion:" Deseja excluir esta converso?",conversionDeleted:" Converso excluda com sucesso!",errorDeletingConversion:"Erro ao excluir converso",noConversions:"Nenhuma converso realizada ainda",loadingHistory:"Carregando histrico...",needTwoAccounts:"Voc precisa ter contas em pelo menos 2 pases diferentes para fazer converses entre moedas.",needBankAccount:"Voc precisa abrir uma conta bancria para converter cripto em moeda fiat.",seeHistory:"Ver Histrico",hideHistory:"Ocultar Histrico",seconds:"segundos",clickToDelete:"Clique 2x para excluir"},withdrawTransfer:{sendMoney:"Enviar Dinheiro",chooseCountryAndMethod:"Escolha seu pas e mtodo de transferncia",selectAccount:"Selecione a Conta",availableForTransfer:"Saldo disponvel para transferncia",transferMethods:"Mtodos de transferncia",instantTransfer:"Transferncia instantnea",instantNoLimit:"Instantneo  Sem limite de transferncia",bankTransfer:"Transferncia Bancria",tedOrDoc:"TED ou DOC",businessDaysNoLimit:"1-2 dias teis  Sem limite de transferncia",important:"Importante",verifyBankData:"Certifique-se de inserir os dados bancrios corretos. Transferncias para dados incorretos no podero ser revertidas.",transferViaPix:"Transferir via PIX",availableBalance:"Saldo disponvel",amountToTransfer:"Valor a transferir",pixKeyRecipient:"Chave PIX do destinatrio",pixKeyPlaceholder:"CPF, E-mail, Telefone ou Chave Aleatria",informPixKey:"Informe a chave PIX de quem vai receber a transferncia",fee:"Taxa",time:"Tempo",instant:"Instantneo",confirmTransfer:"Confirmar Transferncia",pix:"PIX",businessDays:"1-2 dias teis",pixKeyInvalidType:"Tipo de chave PIX no reconhecido. Use CPF, CNPJ, E-mail, Telefone ou Chave Aleatria.",userNotAuthenticated:"Usurio no autenticado",minAmount:"Valor mnimo",insufficientBalance:"Saldo insuficiente. Disponvel",informPixKeyError:"Informe a chave PIX",pixKeyInvalid:"Chave PIX invlida",fillBankDetails:"Preencha todos os dados bancrios",pixTransferTo:"Transferncia PIX para",errorProcessingPix:"Erro ao processar transferncia PIX",transferSentTo:"Transferncia enviada para",pixKeyNotFound:"Chave PIX no encontrada no sistema NexCoin. Apenas transferncias entre usurios NexCoin so suportadas no momento.",pixTransfer:"Transferncia PIX",tedTransfer:"Transferncia TED",transferVia:"Transferncia via",errorProcessingTransfer:"Erro ao processar transferncia",pixKey:"Chave PIX",transferSuccess:"Transferncia realizada com sucesso!",min:"Mn",max:"Mx",processing:"Processando...",amount:"Valor",bank:"Banco",code:"Cdigo",agency:"Agncia",account:"Conta",checkingAccount:"Conta Corrente",savingsAccount:"Conta Poupana",fullName:"Nome completo",cpfCnpj:"CPF/CNPJ",checking:"Corrente",savings:"Poupana",accountHolderName:"Nome do titular",address:"Endereo",beneficiaryName:"Nome do beneficirio",processingStatus:"Processando",addAccountHome:"Adicione uma conta na pgina Home",noTransferLimit:"Sem limite de transferncia",achTransfer:"Transferncia ACH",electronicBankTransfer:"Transferncia bancria eletrnica",wireTransfer:"Transferncia Wire",domesticWire:"Wire domstico",sepaTransfer:"Transferncia SEPA",singleEuroPaymentsArea:"rea nica de Pagamentos em Euro",sepaInstant:"SEPA Instantneo",instantSepaTransfer:"Transferncia SEPA instantnea",fasterPayments:"Pagamentos Rpidos",instantBankTransfer:"Transferncia bancria instantnea",bacsTransfer:"Transferncia BACS",standardBankTransfer:"Transferncia bancria padro",bankDetails:"Dados da Conta",removeAccount:"Remover Conta"},withdrawCrypto:{title:"Enviar",searchPlaceholder:"Pesquise criptomoedas compatveis",availableBalance:"Saldo disponvel",selectNetwork:"Selecione a rede",fee:"Taxa",noCryptosFound:"Nenhuma criptomoeda encontrada",sendCrypto:"Enviar"},withdrawAddress:{title:"Enviar",selectedNetwork:"Rede selecionada",walletAddress:"Endereo da carteira",addressPlaceholder:"Cole ou escaneie o endereo da carteira",recipientFound:"Destinatrio encontrado",sendingTo:"Enviando para",invalidAddress:"Endereo invlido",addressWarning:"Certifique-se de que o endereo est correto. Transaes no podem ser revertidas.",amount:"Valor",useMax:"Usar mximo",summary:"Resumo da transao",quantity:"Quantidade",networkFee:"Taxa de rede",total:"Total",attention:"Ateno",attentionWarning:"Verifique cuidadosamente o endereo e a rede antes de enviar. Apenas endereos cadastrados na NexCoin so aceitos.",mustBeRegistered:"O endereo precisa estar cadastrado na NexCoin",sentSuccess:"Enviado com sucesso!",transactionProcessed:"Sua transao foi processada",recipient:"Destinatrio",viewReceipt:"Ver Comprovante",processing:"Processando...",transferSuccess:"Transferncia realizada com sucesso!",availableBalance:"Saldo disponvel",fee:"Taxa"},withdrawReceipt:{title:"Transferncia Confirmada!",subtitle:"Comprovante de transferncia",transactionId:"ID da transao",details:"Detalhes da transferncia",method:"Mtodo",fee:"Taxa",processing:"Processamento",date:"Data",recipient:"Destinatrio",important:"Importante",importantNotice:"Guarde este comprovante para referncia futura. O processamento pode levar at",shareReceipt:"Compartilhar comprovante",backToHome:"Voltar para Home",copied:"Copiado",sharing:"Compartilhando...",copiedToClipboard:"Copiado para rea de transferncia!",shareTextHeader:" Comprovante de Transferncia NexCoin",shareTextFooter:" NexCoin - Seu banco digital de criptomoedas",amount:"Valor",currency:"Moeda",status:"Status",copy:"Copiar",to:"Para"},paymentScreen:{title:"Taxa de Anlise",description:"Para prosseguir com a anlise da sua conta,  necessrio realizar uma doao simblica de validao.",totalToPay:"Total a pagar",payButton:"Pagar 5.00",processing:"Processando...",securePayment:"Pagamento seguro processado pela Stripe. Seus dados so criptografados.",secureBadge:"Pagamento 100% seguro e criptografado",configError:"Erro de Configurao",technicalNote:"Nota Tcnica: Se voc ver erro de CORS/Network,  porque a Stripe bloqueia o uso da chave secreta no navegador. Voc precisa configurar um backend ou Cloud Function.",tryAgain:"Tentar Novamente",success:"Pagamento realizado com sucesso!",updateError:"Pagamento confirmado, mas houve um erro ao atualizar seu perfil. Contate o suporte.",initiating:"Iniciando pagamento seguro...",pleaseWait:"Por favor, aguarde um momento."},pendingApproval:{title:"Conta em Anlise",greeting:"Ol {name}!",description:"Sua solicitao de acesso ao NexCoin est sendo analisada pela nossa equipe de segurana.",step1Title:"Cadastro Realizado",step1Desc:"Suas informaes foram recebidas com sucesso",step2Title:"Anlise de Segurana",step2Desc:"Verificando seus dados e validando identidade",step3Title:"Aprovao Final",step3Desc:"Voc receber uma notificao quando for aprovado",estimatedTime:"Tempo estimado:",timeValue:"24 a 48 horas",emailNotice:"Voc receber um e-mail em {email} assim que sua conta for aprovada.",securityBadge:"Protegido por verificao em duas etapas",logoutButton:"Sair da Conta",needHelp:"Precisa de ajuda?",contactUs:"Entre em contato"},pushSettingsPage:{title:"Notificaes push",keepInformed:"Mantenha-se informado",keepInformedDesc:"Personalize suas notificaes para receber apenas as informaes mais importantes",sections:{general:"Geral",transactions:"Transaes",security:"Segurana",market:"Mercado"},items:{enablePush:"Ativar notificaes push",enablePushDesc:"Receber todas as notificaes no dispositivo",allTransactions:"Todas as transaes",allTransactionsDesc:"Notificaes de todas as movimentaes",deposits:"Depsitos",depositsDesc:"Quando voc receber fundos",withdrawals:"Saques",withdrawalsDesc:"Quando processar uma retirada",securityAlerts:"Alertas de segurana",securityAlertsDesc:"Todas as notificaes de segurana",newDevices:"Novos dispositivos",newDevicesDesc:"Login em um novo dispositivo",suspiciousActivity:"Atividades suspeitas",suspiciousActivityDesc:"Tentativas de acesso no autorizadas",priceAlerts:"Alertas de preo",priceAlertsDesc:"Quando seus ativos atingirem metas",marketNews:"Notcias do mercado",marketNewsDesc:"Atualizaes importantes do mercado"},tipTitle:"Dica:",tipContent:"Algumas notificaes de segurana no podem ser desativadas para manter sua conta protegida."},landingPage:{products:"Produtos",company:"Empresa",help:"Ajuda",openAccount:"Abra sua conta",openAccountNow:"Abra sua conta agora",moreThanGlobalTitle:"Mais que uma conta",moreThanGlobalHighlight:"cooperativa global",heroSubtitle:"Envie, gaste e economize de forma mais inteligente. Junte-se a milhares de pessoas que j transformaram sua vida financeira com a NexCoin.",yourBalance:"Seu Saldo",yield:"RENDIMENTO",yieldToday:"+ 0,85% hoje",socialProof:"O App usado por milhares de pessoas",elevateSpending:"Eleve seu jeito de gastar",cardSubtitle:"Pea seu carto NexCoin e tenha controle total dos seus gastos em qualquer lugar do mundo.",requestCard:"Solicitar carto",highYieldTitle:"Mude sua vida com as contas remuneradas",highYieldSubtitle:"Faa seu dinheiro trabalhar para voc. Taxas competitivas e liquidez diria para voc aproveitar o que importa.",exploreYields:"Explorar rendimentos",safeHarborTitle:"O porto seguro do seu dinheiro",safeHarborSubtitle:"Utilizamos tecnologia de ponta para proteger seus dados e seu patrimnio. Com autenticao biomtrica, criptografia de grau militar e monitoramento em tempo real, voc pode ter tranquilidade.",security:"Segurana",enterCryptoTitle:"Entre no mundo cripto",enterCryptoSubtitle:"Compre Bitcoin, Ethereum e outras criptos com apenas um toque. Simples, seguro e transparente.",exploreCrypto:"Explorar Cripto",joinThousands:"Junte-se a milhares que j usam a NexCoin",footerTagline:"Revolucionando sua vida financeira com tecnologia, transparncia e segurana.",footerProduct:"Produto",footerCards:"Cartes",footerCrypto:"Cripto",footerBalances:"Saldos",footerYields:"Rendimentos",footerCompany:"Empresa",footerAbout:"Sobre ns",footerCareers:"Carreiras",footerBlog:"Blog",footerPress:"Imprensa",footerSupport:"Suporte",footerHelp:"Ajuda",footerContact:"Fale conosco",footerSecurity:"Segurana",footerPrivacy:"Poltica de Privacidade",footerTerms:"Termos de Uso",footerDisclaimer:"NexCoin  uma plataforma de servios financeiros digital. Os servios de pagamento e as contas so fornecidos por parceiros autorizados e regulamentados. Certifique-se de ler nossos Termos e Condies antes de abrir uma conta. O investimento em criptoativos envolve riscos significativos de perda. NexCoin no  uma instituio financeira bancria prpria, atuando como correspondente bancrio.  2026 NexCoin. Todos os direitos reservados."},downloadApp:{successTitle:"Cadastro realizado com sucesso! ",successSubtitle:"Para acessar sua conta e comear a investir, baixe agora o aplicativo oficial da NexCoin em seu smartphone.",android:"Android",androidHint:"Aponte a cmera para baixar via Google Play",downloadApk:"Download APK",ios:"iOS (iPhone)",iosHint:"Aponte a cmera para baixar via App Store",downloadAppStore:"Download App Store",rightsReserved:" 2026 NexCoin. Todos os direitos reservados."}},en:{countries:{BR:"Brazil",US:"United States",PT:"Portugal",ES:"Spain",FR:"France",DE:"Germany",IT:"Italy",GB:"United Kingdom",NL:"Netherlands",BE:"Belgium",CH:"Switzerland",AT:"Austria",CA:"Canada",AU:"Australia",MX:"Mexico",AR:"Argentina",CL:"Chile",CO:"Colombia"},fiatAccounts:{title:"Accounts",subtitle:"Manage your bank accounts",accounts:"Accounts",manageBankAccounts:"Manage your bank accounts",accountData:"Account details",accountSettings:"Account Settings",selectAccount:"Select account",chooseAccountToTransact:"Choose the account to transact",addNewAccount:"Add New Account",addAccount:"Add Account",noAccountsFound:"No accounts found",addFiatAccount:"Add a fiat account to get started",add:"Add",addButton:"Add",creating:"Creating...",removeAccount:"Remove Account",closeAccount:"Close account",deleteAccount:"Delete Account",openingAccount:"Opening Account",configuringAccount:"Configuring your {country} account",validating:"Validating data",generating:"Generating account number",security:"Setting up security",finalizing:"Finalizing account opening",completedSteps:"{completed} of {total} steps completed",accountExists:"Account already exists",accountExistsDesc:"You already have a {country} bank account. It is not possible to create more than one account per country.",accountCreated:"Account created",accountCreatedDesc:"{country} bank account created successfully!",pixKeysCreated:"PIX Keys created!",pixKeysCreatedDesc:"Your PIX keys (email and phone) have been automatically configured.",errorCreatingAccount:"Error creating account",errorCreatingAccountDesc:"Could not create the bank account. Please try again.",error:"Error",accountIdNotFound:"Account ID not found.",closeAccountConfirm:`Are you sure you want to close this account?

This action cannot be undone and you will lose all data associated with this bank account.`,accountClosed:"Account closed",accountClosedDesc:"The bank account has been successfully closed.",errorClosingAccount:"Error closing account",errorClosingAccountDesc:"Could not close the account. Please try again.",permissionError:"Permission error",permissionErrorDesc:"Check if Firestore rules are correctly configured.",firestoreRulesWarning:" Firestore rules not configured",firestoreRulesDesc:"You need to update Firestore rules. Consult the guide for detailed instructions.",institution:"Institution",bank:"Bank",accountType:"Account Type",accountNumber:"Account number",bankCode:"Bank Code",institutionCode:"Institution Code",iban:"IBAN",swiftBic:"SWIFT/BIC",sortCode:"Sort Code",branchCode:"Branch Code",agency:"Agency",routingNumber:"Routing Number",bsb:"BSB",shareData:"Share details",domesticOnly:"For domestic transfers only",internationalOnly:"For international transfers only",transferTimeTip:"Transfers usually take three to five business days to appear in your account",feeTip:"The sender's bank or intermediary may charge for international payments",swiftOnlyTip:"We only accept SWIFT transfers",noFeeTip:"We will not charge any transfer fee for this account.",pixTip:"You can use your account details or Pix key to receive transfers 24 hours a day, hassle-free.",addFunds:"Add Funds",depositMethod:"Deposit Method",depositAmount:"Deposit Amount",transferDetails:"Transfer Details",selectPixKey:"Select PIX Key",selectKey:"Select a key",pixKeys:"PIX Keys",pixQrCode:"PIX QR Code",copyPixCode:"Copy PIX Code",codeCopied:"Code Copied!",depositHint:"Hint: Enter development deposit amount above to generate PIX QR Code.",noPixKeys:"No PIX keys registered. Register a PIX key to use this method.",simulationWarning:'Simulation: In production, the system would wait for bank transfer confirmation. Here, balance will be added instantly when clicking "Confirm Deposit".',confirmDeposit:"Confirm Deposit",depositVia:"Deposit via",depositSuccess:"Deposit successfully completed!",depositError:"Error processing deposit",recipient:"Recipient",yourPixKeys:"Your PIX keys",registeredKeys:"Your registered keys",keysAutoCreated:" Your PIX keys (email and phone) were automatically created",noKeysFound:"No PIX keys found",errorCopying:"Error copying key"},welcome:"Welcome",createAccount:"Create Account",login:"Login",signUp:"Sign Up",termsAgreement:"By signing up, you agree to our Terms of Service and Privacy Policy.",futureOfFinance:"Future of Finance",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",email:"Email",phone:"Phone",fullName:"Full name",password:"Password",confirmPassword:"Confirm password",forgotPassword:"Forgot password?",continue:"Continue",initialSetup:"Initial setup",countryCurrencySubtitle:"Select your country of origin and the preferred currency for your transactions.",choosePin:"Choose your access PIN",choosePinSubtitle:"Create a 6-digit PIN to enter the app and authorize your transactions.",confirmPin:"Confirm your PIN",confirmPinSubtitle:"Enter your 6-digit PIN again to confirm.",enterPin:"Enter your PIN",enterPinSubtitle:"Enter your 6-digit PIN to access your account",forgotPin:"Forgot my PIN",pinsDontMatch:"PINs do not match. Try again.",pinSetupSuccess:"PIN set up successfully!",portuguese:"Portuguese",english:"English",spanish:"Spanish",register:"Register",invalidName:"Invalid name",invalidEmail:"Invalid email",invalidPhone:"Invalid phone",phoneNotFound:"Phone not found",passwordRequirement:"Password must have at least 8 characters, 1 uppercase and 1 special character",passwordsDontMatch:"Passwords do not match",privacyPolicy:"Privacy Policy",or:"or",incorrectPassword:"Incorrect password",loginError:"Error signing in",home:"Home",wallet:"Wallet",convert:"Convert",crypto:"Crypto",profile:"Profile",totalBalance:"Total Balance",hideBalance:"Hide Balance",showBalance:"Show Balance",recentTransactions:"Recent Transactions",deposit:"Deposit",withdraw:"Withdraw",transfer:"Transfer",noTransactions:"No transactions yet",quickActions:"Quick Actions",viewAll:"View All",statement:"Statement",viewAllTransactions:"View All Transactions",market:"Market",myAccounts:"My Accounts",myCryptos:"My Cryptos",trade:"Trade",activity:"Activity",myWallet:"My Wallet",assets:"Assets",search:"Search",totalAssets:"Total Assets",cryptoAssets:"Crypto Assets",fiatBalance:"Fiat Balance",manageHoldings:"Manage Holdings",send:"Send",loadingAssets:"Loading assets...",noAssetsInPortfolio:"No assets in portfolio",startAddingCryptos:"Start adding cryptocurrencies in the",goToCrypto:"Go to Crypto",cryptocurrencies:"Cryptocurrencies",clickToAddBalance:"Double-click to add balance",removeAsset:"Remove Asset",addBalance:"Add Balance",enterValidValue:"Enter a valid value",balanceAddedSuccess:"Balance added successfully!",errorAddingBalance:"Error adding balance",add:"Add",confirmDeletion:"Confirm Deletion",areYouSureDelete:"Are you sure you want to permanently remove",fromYourPortfolio:"from your portfolio?",currentBalance:"Current balance",valueToAdd:"Value to add",newBalance:"New balance",adding:"Adding...",addCryptosToPortfolio:"Add cryptocurrencies to your portfolio",toAddMoreCryptos:"To add more cryptocurrencies, go to the",andClickCrypto:"tab and double-click on the desired coin",inCryptoTab:"In the Crypto tab, double-click on any coin to add",selectAssetToDelete:"Select an asset to delete",assetRemovedSuccess:"Asset removed successfully!",errorRemovingAsset:"Error removing asset",removing:"Removing...",remove:"Remove",cashAndStablecoins:"Cash and Stablecoins",cancel:"Cancel",brazilianReal:"Brazilian Real (PIX)",usDollar:"US Dollar",euro:"Euro",sterling:"Pound Sterling",stablecoin:"Stablecoin",japaneseYen:"Japanese Yen",canadianDollar:"Canadian Dollar",australianDollar:"Australian Dollar",swissFranc:"Swiss Franc",chineseYuan:"Chinese Yuan",indianRupee:"Indian Rupee",mexicanPeso:"Mexican Peso",argentinePeso:"Argentine Peso",convertCrypto:"Convert Crypto",from:"From",to:"To",amount:"Amount",youGet:"You get",exchangeRate:"Exchange Rate",convertNow:"Convert now",selectCrypto:"Select crypto",cryptoMarket:"Crypto Market",topGainers:"Top Gainers",topLosers:"Top Losers",marketCap:"Market Cap",volume24h:"24h Volume",price:"Price",change24h:"24h Change",myProfile:"My Profile",settings:"Settings",security:"Security",notifications:"Notifications",language:"Language",support:"Support",about:"About",logout:"Logout",account:"Account",personalInfo:"Personal Information",accountData:"Account Data",helpCenter:"Help Center",termsAndPrivacy:"Terms & Privacy",dangerZone:"Danger Zone",deleteAccount:"Delete Account",help:"Help",privacy:"Privacy",aboutUs:"About Us",receiveCrypto:{title:"Receive",searchPlaceholder:"Search cryptocurrency...",receiveCryptoTitle:"Receive {crypto}",selectNetwork:"Select network",yourAddress:"YOUR ADDRESS",copy:"Copy",new:"New",generating:"Generating...",copied:"Copied!",generatingAddress:"Generating address...",helpTitle:"Help",attention:"Attention",attentionDesc:"Only send assets compatible with the selected network. Sending assets from other networks may result in permanent loss of funds.",uniqueAddress:"Unique address",uniqueAddressDesc:"This address is exclusive to your account and can be used multiple times.",security:"Security",securityDesc:"Always confirm the network before sending assets to avoid irreversible losses.",howItWorks:"How it works",howItWorksDesc:"Share this address or QR Code with anyone sending you cryptocurrencies.",importantTip:"Important tip",importantTipDesc:"We recommend testing with a small amount first.",transactionQuestions:"Questions about transactions?",helpHere:"Help here"},securitySettings:"Security Settings",changePassword:"Change Password",twoFactor:"Two-Factor Authentication",biometric:"Biometric",currentPassword:"Current Password",newPassword:"New Password",confirmNewPassword:"Confirm New Password",updatePassword:"Update Password",authentication:"Authentication",lastChanged:"Last changed 3 months ago",addExtraLayer:"Add an extra layer of security",securityNotifications:"Security Notifications",emailAlerts:"Email Alerts",receiveSuspiciousActivity:"Receive notifications of suspicious activities",recentActivity:"Recent Activity",viewDevicesAccess:"View devices and recent access",connectedDevices:"Connected Devices",activeDevices:"3 active devices",activeSessions:"Active Sessions",manageSessions:"Manage your sessions",yourAccountProtected:"Your account is protected",keepInfoSecure:"Keep your information secure",securityTips:"Security Tips",useStrongPassword:"Use a strong and unique password",enableTwoFactor:"Enable two-factor authentication",neverShareCredentials:"Never share your credentials",notificationSettings:"Notification Settings",pushNotifications:"Push Notifications",emailNotifications:"Email Notifications",transactionAlerts:"Transaction Alerts",priceAlerts:"Price Alerts",newsUpdates:"News Updates",notificationsTitle:"Notifications",unreadMessages:"{count} unread",markAll:"Mark all",filterAll:"All",filterTransactions:"Transactions",filterSecurity:"Security",filterUpdates:"Updates",loadingNotifications:"Wait while we load your notifications",noNotificationsTitle:"No notifications",noNotificationsDesc:"You have no notifications in this category",pushSettingsButton:"Push notification settings",helpCenterPage:{title:"Help Center",howCanWeHelp:"How can we help?",chooseOption:"Choose the best way to contact our support team",sendEmail:"Send Email",sendEmailDesc:"Send your question via email and get a response within 24 hours",liveChat:"Live Chat",liveChatDesc:"Chat with an agent in real-time",availableNow:"Available now",faq:"Frequently Asked Questions",subject:"Subject",enterSubject:"Enter subject",message:"Message",enterMessage:"Describe your question or issue",send:"Send",cancel:"Cancel",emailSent:"Email sent successfully! Our team will respond shortly.",waitingSupport:"Waiting for support",youAreInQueue:"You are in the queue. An agent will be available shortly.",peopleAhead:"people ahead of you",connectedWithAgent:"You are connected with an agent",agentGreeting:"Hello! I am agent Carlos. How can I help you today?",agentResponse:"I understand your question. I will check that for you.",agentName:"Agent Carlos",online:"Online",typeMessage:"Type your message...",faqs:{deposit:{q:"How to make a deposit?",a:'To make a deposit, go to the "Wallet" tab, select the desired cryptocurrency and click "Deposit". You will receive a unique address to send your funds. Make sure to use the correct network to avoid loss of funds.'},withdraw:{q:"How to withdraw cryptocurrencies?",a:'In the "Wallet" tab, select the coin you want to withdraw and click "Withdraw". Enter the destination address, choose the blockchain network and amount. Confirm the transaction with your security code. Processing may take from a few minutes to hours depending on the network.'},fees:{q:"Transaction fees",a:"Fees vary according to the cryptocurrency and blockchain network used. Deposits are free. For withdrawals, fees are dynamic based on network congestion. You will always see the exact fee before confirming any transaction."},security:{q:"Account security",a:"Your security is our priority. We recommend enabling two-factor authentication (2FA), using a strong and unique password, and never sharing your credentials. All transactions require additional confirmation and your funds are protected with bank-grade encryption."}}},termsMenuPage:{title:"Terms & Privacy",termsOfUse:"Terms of Use",termsDesc:"Read NexCoin terms and conditions of use",privacyPolicy:"Privacy Policy",privacyDesc:"Learn how we protect and use your data",lastUpdate:"Last updated: January 26, 2026"},termsAndConditionsPage:{title:"Terms of Use",lastUpdate:"Last updated: January 26, 2026",sections:{1:{title:"1. Acceptance of Terms",content:"By accessing and using NexCoin, you agree to comply with these Terms of Use. If you do not agree with any part of these terms, you should not use our services."},2:{title:"2. Eligibility",content:"You must be at least 18 years old to use NexCoin. By creating an account, you represent and warrant that you have the legal capacity to enter into this agreement."},3:{title:"3. Account and Security",content:[" You are responsible for maintaining the confidentiality of your login credentials"," You must immediately notify us of any unauthorized use of your account"," NexCoin will not be liable for losses arising from unauthorized use of your account"]},4:{title:"4. Security and Mandatory Permissions",content:"To ensure the security of your transactions and prevent fraud, the use of GPS (geolocation) and CAMERA is MANDATORY on the NexCoin platform.",items:[" Access to services will be blocked if location or camera permissions are denied or disabled"," The camera is used exclusively for identity verification (KYC), proof of life, and security authentication"," GPS is used for constant security monitoring, including background tracking to prevent unauthorized access and protect assets"," The use of notifications is recommended for real-time monitoring of all financial movements in your account"]},5:{title:"5. Platform Use",items:["Permitted Use: NexCoin is a platform for cryptocurrency trading. You agree to use the platform only for legal purposes.","Prohibited Use: It is forbidden to use the platform for money laundering, terrorist financing, fraud, or any illegal activity."]},6:{title:"6. Transactions and Fees",content:"All transactions made through NexCoin are subject to network fees. Fees are clearly displayed before confirming any transaction. Once confirmed, the transaction is irreversible."},7:{title:"7. Cryptocurrency Risks",content:"You acknowledge that the cryptocurrency market is volatile and that the value of your assets may fluctuate significantly. NexCoin does not guarantee profits and you are responsible for your investment decisions."},8:{title:"8. Limitation of Liability",content:"NexCoin will not be liable for direct, indirect, incidental, or consequential losses resulting from the use or inability to use our services, including loss of funds, data, or profits."},9:{title:"9. Suspension and Termination",content:"We reserve the right to suspend or terminate your account at any time, without prior notice, if we believe you have violated these terms or engaged in fraudulent activities."},10:{title:"10. Terms Modifications",content:"We may modify these terms at any time. We will notify you of significant changes through the app or email. Continued use of the platform after modifications constitutes acceptance of the new terms."},11:{title:"11. Applicable Law",content:"These terms are governed by the laws applicable in your jurisdiction. Any dispute will be resolved in competent courts."},12:{title:"12. Contact",content:"If you have questions about these Terms of Use, contact us through the Help Center."}},agreement:"By using NexCoin, you agree to these Terms of Use"},privacyPolicyPage:{title:"Privacy Policy",lastUpdate:"Last updated: January 26, 2026",sections:{1:{title:"1. Introduction",content:"NexCoin values your privacy. This Privacy Policy describes how we collect, use, store, and protect your personal information when you use our services."},2:{title:"2. Information We Collect",items:[{title:"2.1 Registration Information:",content:" Full name, email, phone number, country of residence"},{title:"2.2 Transaction Information:",content:" Transaction history, wallet addresses, traded amounts"},{title:"2.3 Technical Information:",content:" IP address, device type, operating system, access logs"},{title:"2.4 Geolocation Information (GPS):",content:" Precise device location, mandatorily used for security purposes, fraud prevention, and regulatory compliance."},{title:"2.5 Verification Information:",content:" Identification documents and biometric data for KYC (Know Your Customer) compliance"},{title:"2.6 Camera Information:",content:" Access to device camera, mandatorily used for document capture and facial recognition (KYC) for security and fraud prevention purposes."},{title:"2.7 Notifications and Alerts:",content:" Collection of device tokens for sending push notifications about received deposits, account security, and important system alerts."}]},3:{title:"3. How We Use Your Information",content:[" Provide and improve our cryptocurrency trading services"," Process transactions and ensure your account security"," Comply with legal and regulatory requirements (AML/KYC)"," Communicate about updates, maintenance, and security issues"," Prevent fraud and suspicious activities through location monitoring and access patterns"," Personalize your app experience"]},4:{title:"4. Information Sharing",intro:"We do not sell your personal information. We may share your data only in the following situations:",content:[" With third-party service providers essential for platform operation"," When required by law, court order, or regulatory authorities"," To protect our legal rights and prevent fraud"," With your explicit consent"]},5:{title:"5. Data Security",intro:"We implement robust security measures to protect your information:",content:[" End-to-end encryption for sensitive data"," Two-factor authentication (2FA)"," Secure storage on servers with security certification"," Continuous monitoring against unauthorized access"," Regular security audits"]},6:{title:"6. Data Retention",content:"We retain your personal information for as long as necessary to provide our services and comply with legal obligations. Transaction data is kept as required by financial regulations."},7:{title:"7. Your Rights",intro:"You have the following rights regarding your personal information:",content:[" Access and review your personal information"," Request correction of incorrect data"," Request deletion of data (subject to legal obligations)"," Opt-out of marketing communications"," Data portability"]},8:{title:"8. Cookies and Tracking",content:"We use cookies and similar technologies to improve your experience, analyze platform usage, and personalize content. You can manage your cookie preferences in the app settings."},9:{title:"9. International Transfers",content:"Your data may be transferred and processed in countries different from your country of residence. We ensure all transfers comply with applicable data protection laws."},10:{title:"10. Minors",content:"Our services are not intended for minors under 18. We do not knowingly collect information from minors. If you believe we have collected data from a minor, contact us immediately."},11:{title:"11. Policy Changes",content:"We may update this Privacy Policy periodically. We will notify you of significant changes through the app or email. We recommend reviewing this policy regularly."},12:{title:"12. Contact",content:"If you have questions about this Privacy Policy or how we treat your data, contact us through the Help Center or send an email to privacy@nexcoin.com."}},agreement:"By using NexCoin, you agree to this Privacy Policy"},languageSettings:"Language Settings",selectLanguage:"Select your language",languageUpdated:"Language updated successfully!",selectYourLanguage:"Select your language",languageDescription:"Choose your preferred language for the app",sent:"Sent",received:"Received",pending:"Pending",completed:"Completed",failed:"Failed",transactions:"Transactions",allTransactions:"All Transactions",transactionsPage:{title:"Transactions",search:"Search",today:"Today",yesterday:"Yesterday",noTransactions:"No transactions",noTransactionsDesc:"Your transactions will appear here",noResults:"No results",noResultsDesc:"Try adjusting your search",fee:"Fee",types:{sendCrypto:"Sent",receiveCrypto:"Received",sent:"Sent",received:"Received",pixSent:"PIX sent",pixReceived:"PIX received",conversion:"Conversion",deposit:"Deposit",withdrawal:"Transfer",buy:"Buy",sell:"Sell"},status:{completed:"Completed",pending:"Pending",processing:"Processing",failed:"Failed"}},statsPage:{title:"Statistics",portfolioAnalysis:"Portfolio Analysis",totalBalance:"Total Balance",totalAssets:"Total Assets",largestAsset:"Largest Asset",assetDistribution:"Asset Distribution",ofPortfolio:"of portfolio",portfolioHistory:"Portfolio History",lastUpdates:"Last {count} updates",updatesEvery5Min:"Updates every 5min"},copied:"Copied!",copiedToClipboard:"Copied to clipboard",enterValidAmount:"Enter a valid amount",transferMethod:"Transfer",confirm:"Confirm",save:"Save",edit:"Edit",back:"Back",next:"Next",done:"Done",loading:"Loading...",error:"Error",success:"Success",close:"Close",options:"Options",welcomeBack:"Welcome back",goodMorning:"Good morning",goodAfternoon:"Good afternoon",goodEvening:"Good evening",depositFunds:"Deposit Funds",withdrawFunds:"Withdraw Funds",selectAmount:"Select Amount",enterAmount:"Enter Amount",minimum:"Minimum",maximum:"Maximum",available:"Available",receive:"Receive",name:"Name",country:"Country",dateOfBirth:"Date of Birth",address:"Address",personalAccount:"Personal Account",idDocument:"Identification Document",enterIdDocument:"Enter your ID document",residentialAddress:"Residential Address",addressPlaceholder:"Street, number, apartment",city:"City",state:"State",zipCode:"Zip Code",phoneNumber:"Phone Number",emailLabel:"Email",taxResidence:"Tax Residence",patrimony:"Net Worth",reportedPatrimony:"Reported Net Worth (optional)",patrimonyPlaceholder:"Ex: $ 500,000.00",notInformed:"NOT INFORMED",portfolioValue:"Portfolio Value",dailyChange:"Daily Change",profit:"Profit",loss:"Loss",myCards:"My Cards",addCard:"Add Card",manageCards:"Manage Cards",bottomNav:{home:"Home",wallet:"Wallet",convert:"Convert",crypto:"Crypto",profile:"Profile"},cryptoPage:{all:"All",favorites:"Favorites",searchCrypto:"Search cryptocurrency...",addBalance:"Add Balance",enterAmount:"Enter amount",add:"Add",balance:"Balance",noFavorites:"No favorites yet",addFavoritesTip:"Tap the star to add favorites",topGainersToday:"Top Gainers Today",cryptoAddedSuccess:"Crypto added successfully!",errorAddingCrypto:"Error adding crypto",invalidAmount:"Invalid amount",addToPortfolio:"Add to Portfolio",trendingUp:"Trending Cryptos",realTime:"Real Time",price:"Price",change24h:"24h",hideList:"Hide List",seeAllCryptos:"See All Cryptocurrencies",activeAvailable:"asset available",activesAvailable:"assets available",hide:"Hide",expand:"Expand",holdToAddBalance:"Hold 5s to add balance",marketCap:"Market Cap",allCryptosActive:"All cryptos are active!",allCryptosAdded:"You have added all available cryptocurrencies to your portfolio.",viewPortfolio:"View Portfolio",currentBalance:"Current Balance",amountToAdd:"Amount to add",newBalance:"New Balance",cancel:"Cancel",adding:"Adding...",confirmAddPortfolio:"Do you want to add this crypto to your portfolio?",addNow:"Add Now"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Crypto  Crypto",cryptoToFiat:"Crypto  Fiat",fiatToFiat:"Fiat  Fiat",convertAll:"Convert all",exchangeRate:"Exchange Rate",balance:"Balance",conversionFee:"Conversion fee (0.5%)",processing:"Processing",confirmExchange:"Confirm Exchange",converting:"Converting...",conversionHistory:"Conversion History",insufficientBalance:"Insufficient balance",insufficientBalanceWithFee:"Insufficient balance (includes 0.5% fee)",noBalance:"No balance in",conversionCompleted:"Conversion Completed!",anotherConversion:"Do you want to make another conversion?",yesAnother:"Yes, make another",noGoHome:"No, go to Home",conversionSuccess:"Conversion completed successfully!",conversionError:"Error processing conversion",deleteConversion:" Do you want to delete this conversion?",conversionDeleted:" Conversion deleted successfully!",errorDeletingConversion:"Error deleting conversion",noConversions:"No conversions made yet",loadingHistory:"Loading history...",needTwoAccounts:"You need accounts in at least 2 different countries to make currency conversions.",needBankAccount:"You need to open a bank account to convert crypto to fiat currency.",seeHistory:"See History",hideHistory:"Hide History",seconds:"seconds",clickToDelete:"Double-click to delete"},withdrawTransfer:{sendMoney:"Send Money",chooseCountryAndMethod:"Choose your country and transfer method",selectAccount:"Select Account",availableForTransfer:"Available balance for transfer",transferMethods:"Transfer methods",instantTransfer:"Instant transfer",instantNoLimit:"Instant  No transfer limit",bankTransfer:"Bank Transfer",tedOrDoc:"TED or DOC",businessDaysNoLimit:"1-2 business days  No transfer limit",important:"Important",verifyBankData:"Make sure to enter the correct bank details. Transfers to incorrect data cannot be reversed.",transferViaPix:"Transfer via PIX",availableBalance:"Available balance",amountToTransfer:"Amount to transfer",pixKeyRecipient:"Recipient PIX key",pixKeyPlaceholder:"CPF, Email, Phone or Random Key",informPixKey:"Enter the PIX key of who will receive the transfer",fee:"Fee",time:"Time",instant:"Instant",confirmTransfer:"Confirm Transfer",pix:"PIX",businessDays:"1-2 business days",pixKeyInvalidType:"PIX key type not recognized. Use CPF, CNPJ, Email, Phone or Random Key.",userNotAuthenticated:"User not authenticated",minAmount:"Minimum amount",insufficientBalance:"Insufficient balance. Available",informPixKeyError:"Enter PIX key",pixKeyInvalid:"Invalid PIX key",fillBankDetails:"Fill in all bank details",pixTransferTo:"PIX transfer to",errorProcessingPix:"Error processing PIX transfer",transferSentTo:"Transfer sent to",pixKeyNotFound:"PIX key not found in NexCoin system. Only transfers between NexCoin users are supported at the moment.",pixTransfer:"PIX Transfer",tedTransfer:"TED Transfer",transferVia:"Transfer via",errorProcessingTransfer:"Error processing transfer",pixKey:"PIX Key",transferSuccess:"Transfer successful!",min:"Min",max:"Max",processing:"Processing...",amount:"Amount",bank:"Bank",code:"Code",agency:"Agency",account:"Account",checkingAccount:"Checking Account",savingsAccount:"Savings Account",fullName:"Full Name",cpfCnpj:"CPF/CNPJ",checking:"Checking",savings:"Savings",accountHolderName:"Holder Name",address:"Address",beneficiaryName:"Beneficiary Name",processingStatus:"Processing",addAccountHome:"Add an account on Home page",noTransferLimit:"No transfer limit",achTransfer:"ACH Transfer",electronicBankTransfer:"Electronic bank transfer",wireTransfer:"Wire Transfer",domesticWire:"Domestic wire",sepaTransfer:"SEPA Transfer",singleEuroPaymentsArea:"Single Euro Payments Area",sepaInstant:"SEPA Instant",instantSepaTransfer:"Instant SEPA transfer",fasterPayments:"Faster Payments",instantBankTransfer:"Instant bank transfer",bacsTransfer:"BACS Transfer",standardBankTransfer:"Standard bank transfer",bankDetails:"Account Details",removeAccount:"Remove Account"},withdrawCrypto:{title:"Send",searchPlaceholder:"Search compatible cryptocurrencies",availableBalance:"Available balance",selectNetwork:"Select network",fee:"Fee",noCryptosFound:"No cryptocurrencies found",sendCrypto:"Send"},withdrawAddress:{title:"Send",selectedNetwork:"Selected network",walletAddress:"Wallet address",addressPlaceholder:"Paste or scan the wallet address",recipientFound:"Recipient found",sendingTo:"Sending to",invalidAddress:"Invalid address",addressWarning:"Make sure the address is correct. Transactions cannot be reversed.",amount:"Amount",useMax:"Use max",summary:"Transaction summary",quantity:"Quantity",networkFee:"Network fee",total:"Total",attention:"Attention",attentionWarning:"Carefully check the address and network before sending. Only addresses registered in NexCoin are accepted.",mustBeRegistered:"The address must be registered in NexCoin",sentSuccess:"Sent successfully!",transactionProcessed:"Your transaction has been processed",recipient:"Recipient",viewReceipt:"View Receipt",processing:"Processing...",transferSuccess:"Transfer completed successfully!",availableBalance:"Available balance",fee:"Fee"},withdrawReceipt:{title:"Transfer Confirmed!",subtitle:"Transfer receipt",transactionId:"Transaction ID",details:"Transfer details",method:"Method",fee:"Fee",processing:"Processing",date:"Date",recipient:"Recipient",important:"Important",importantNotice:"Keep this receipt for future reference. Processing may take up to",shareReceipt:"Share receipt",backToHome:"Back to Home",copied:"Copied",sharing:"Sharing...",copiedToClipboard:"Copied to clipboard!",shareTextHeader:" NexCoin Transfer Receipt",shareTextFooter:" NexCoin - Your digital crypto bank",amount:"Amount",currency:"Currency",status:"Status",copy:"Copy",to:"To"},paymentScreen:{title:"Analysis Fee",description:"To proceed with your account analysis, a symbolic validation donation is required.",totalToPay:"Total to pay",payButton:"Pay 5.00",processing:"Processing...",securePayment:"Secure payment processed by Stripe. Your data is encrypted.",secureBadge:"100% Secure and Encrypted Payment",configError:"Configuration Error",technicalNote:"Technical Note: If you see CORS/Network error, it is because Stripe blocks secret key usage in browser. You need to configure a backend or Cloud Function.",tryAgain:"Try Again",success:"Payment successful!",updateError:"Payment confirmed, but there was an error updating your profile. Contact support.",initiating:"Initiating secure payment...",pleaseWait:"Please wait a moment."},pendingApproval:{title:"Account Under Review",greeting:"Hello {name}!",description:"Your request to access NexCoin is being reviewed by our security team.",step1Title:"Registration Completed",step1Desc:"Your information was received successfully",step2Title:"Security Analysis",step2Desc:"Verifying your data and validating identity",step3Title:"Final Approval",step3Desc:"You will receive a notification when approved",estimatedTime:"Estimated time:",timeValue:"24 to 48 hours",emailNotice:"You will receive an email at {email} as soon as your account is approved.",securityBadge:"Protected by two-step verification",logoutButton:"Log Out",needHelp:"Need help?",contactUs:"Contact us"},pushSettingsPage:{title:"Push Notifications",keepInformed:"Stay informed",keepInformedDesc:"Customize your notifications to receive only the most important information",sections:{general:"General",transactions:"Transactions",security:"Security",market:"Market"},items:{enablePush:"Enable push notifications",enablePushDesc:"Receive all notifications on your device",allTransactions:"All transactions",allTransactionsDesc:"Notifications for all movements",deposits:"Deposits",depositsDesc:"When you receive funds",withdrawals:"Withdrawals",withdrawalsDesc:"When a withdrawal is processed",securityAlerts:"Security alerts",securityAlertsDesc:"All security notifications",newDevices:"New devices",newDevicesDesc:"Login on a new device",suspiciousActivity:"Suspicious activities",suspiciousActivityDesc:"Unauthorized access attempts",priceAlerts:"Price alerts",priceAlertsDesc:"When your assets reach targets",marketNews:"Market news",marketNewsDesc:"Important market updates"},tipTitle:"Tip:",tipContent:"Some security notifications cannot be disabled to keep your account protected."},landingPage:{products:"Products",company:"Company",help:"Help",openAccount:"Open your account",openAccountNow:"Open your account now",moreThanGlobalTitle:"More than a",moreThanGlobalHighlight:"global cooperative account",heroSubtitle:"Send, spend, and save smarter. Join thousands who have already transformed their financial life with NexCoin.",yourBalance:"Your Balance",yield:"YIELD",yieldToday:"+ 0.85% today",socialProof:"The App used by thousands of people",elevateSpending:"Elevate your way of spending",cardSubtitle:"Order your NexCoin card and have total control of your spending anywhere in the world.",requestCard:"Request card",highYieldTitle:"Change your life with high-yield accounts",highYieldSubtitle:"Make your money work for you. Competitive rates and daily liquidity for you to enjoy what matters.",exploreYields:"Explore yields",safeHarborTitle:"The safe harbor for your money",safeHarborSubtitle:"We use cutting-edge technology to protect your data and your wealth. With biometric authentication, military-grade encryption, and real-time monitoring, you can have peace of mind.",security:"Security",enterCryptoTitle:"Enter the crypto world",enterCryptoSubtitle:"Buy Bitcoin, Ethereum, and other cryptos with just one touch. Simple, safe, and transparent.",exploreCrypto:"Explore Crypto",joinThousands:"Join thousands already using NexCoin",footerTagline:"Revolutionizing your financial life with technology, transparency, and security.",footerProduct:"Product",footerCards:"Cards",footerCrypto:"Crypto",footerBalances:"Balances",footerYields:"Yields",footerCompany:"Company",footerAbout:"About us",footerCareers:"Careers",footerBlog:"Blog",footerPress:"Press",footerSupport:"Support",footerHelp:"Help",footerContact:"Contact us",footerSecurity:"Security",footerPrivacy:"Privacy Policy",footerTerms:"Terms of Use",footerDisclaimer:"NexCoin is a digital financial services platform. Payment services and accounts are provided by authorized and regulated partners. Be sure to read our Terms and Conditions before opening an account. Investing in crypto assets involves significant risks of loss. NexCoin is not a banking financial institution itself, acting as a banking correspondent.  2026 NexCoin. All rights reserved."},downloadApp:{successTitle:"Registration successful! ",successSubtitle:"To access your account and start investing, download the official NexCoin app on your smartphone now.",android:"Android",androidHint:"Point your camera to download via Google Play",downloadApk:"Download APK",ios:"iOS (iPhone)",iosHint:"Point your camera to download via App Store",downloadAppStore:"Download App Store",rightsReserved:" 2026 NexCoin. All rights reserved."}},es:{countries:{BR:"Brasil",US:"Estados Unidos",PT:"Portugal",ES:"Espaa",FR:"Francia",DE:"Alemania",IT:"Italia",GB:"Reino Unido",NL:"Pases Bajos",BE:"Blgica",CH:"Suiza",AT:"Austria",CA:"Canad",AU:"Australia",MX:"Mxico",AR:"Argentina",CL:"Chile",CO:"Colombia"},fiatAccounts:{title:"Cuentas",subtitle:"Gestiona tus cuentas bancarias",accounts:"Cuentas",manageBankAccounts:"Gestiona tus cuentas bancarias",accountData:"Datos de la cuenta",accountSettings:"Configuracin de la Cuenta",selectAccount:"Seleccionar cuenta",chooseAccountToTransact:"Elige la cuenta para transaccionar",addNewAccount:"Aadir Nueva Cuenta",addAccount:"Aadir Cuenta",noAccountsFound:"No se encontraron cuentas",addFiatAccount:"Aade una cuenta fiat para comenzar",add:"Aadir",addButton:"Aadir",creating:"Creando...",removeAccount:"Eliminar Cuenta",closeAccount:"Cerrar cuenta",deleteAccount:"Eliminar Cuenta",openingAccount:"Abriendo Cuenta",configuringAccount:"Configurando tu cuenta de {country}",validating:"Validando datos",generating:"Generando nmero de cuenta",security:"Configurando seguridad",finalizing:"Finalizando apertura",completedSteps:"{completed} de {total} etapas completadas",accountExists:"La cuenta ya existe",accountExistsDesc:"Ya tienes una cuenta bancaria de {country}. No es posible crear ms de una cuenta por pas.",accountCreated:"Cuenta creada",accountCreatedDesc:"Cuenta bancaria de {country} creada con xito!",pixKeysCreated:"Claves PIX creadas!",pixKeysCreatedDesc:"Tus claves PIX (email y telfono) se han configurado automticamente.",errorCreatingAccount:"Error al crear la cuenta",errorCreatingAccountDesc:"No se pudo crear la cuenta bancria. Intntalo de nuevo.",error:"Error",accountIdNotFound:"ID de cuenta no encontrado.",closeAccountConfirm:`Ests seguro de que deseas cerrar esta cuenta?

Esta accin no se puede deshacer y perders todos los datos asociados a esta cuenta bancaria.`,accountClosed:"Cuenta cerrada",accountClosedDesc:"La cuenta bancria se ha cerrado con xito.",errorClosingAccount:"Error al cerrar la cuenta",errorClosingAccountDesc:"No se pudo cerrar la cuenta. Intntalo de nuevo.",permissionError:"Error de permiso",permissionErrorDesc:"Verifica si las reglas de Firestore estn configuradas correctamente.",firestoreRulesWarning:" Reglas de Firestore no configuradas",firestoreRulesDesc:"Necesitas actualizar las reglas de Firestore. Consulta la gua para obtener instrucciones detalladas.",institution:"Institucin",bank:"Banco",accountType:"Tipo de Cuenta",accountNumber:"Nmero de cuenta",bankCode:"Cdigo del Banco",institutionCode:"Cdigo de Institucin",iban:"IBAN",swiftBic:"SWIFT/BIC",sortCode:"Sort Code",branchCode:"Cdigo de sucursal",agency:"Agencia",routingNumber:"Nmero de ruta",bsb:"BSB",shareData:"Compartir datos",domesticOnly:"Solo para transferencias nacionales",internationalOnly:"Solo para transferencias internacionales",transferTimeTip:"Normalmente, las transferencias tardan de tres a cinco das hbiles en aparecer en tu cuenta",feeTip:"El banco del remitente o el intermediario pueden cobrar por pagos internacionales",swiftOnlyTip:"Solo aceptamos transferencias SWIFT",noFeeTip:"No cobraremos ninguna tarifa de transferencia por esta cuenta.",pixTip:"Puedes usar los datos de tu cuenta o clave Pix para recibir transferencias las 24 horas, sin complicaciones.",addFunds:"Aadir Fondos",depositMethod:"Mtodo de Depsito",depositAmount:"Monto del Depsito",transferDetails:"Datos para Transferencia",selectPixKey:"Seleccione la Clave PIX",selectKey:"Seleccione una clave",pixKeys:"Claves Pix",pixQrCode:"Cdigo QR PIX",copyPixCode:"Copiar Cdigo PIX",codeCopied:"Cdigo Copiado!",depositHint:"Consejo: Ingrese el monto del depsito arriba para generar el Cdigo QR PIX.",noPixKeys:"Ninguna clave PIX registrada. Registre una clave PIX para usar este mtodo.",simulationWarning:'Simulacin: En produccin, el sistema esperara la confirmacin de la transferencia bancaria. Aqu, el saldo se agregar instantneamente al hacer clic en "Confirmar Depsito".',confirmDeposit:"Confirmar Depsito",depositVia:"Depsito va",depositSuccess:"Depsito realizado con xito!",depositError:"Error al procesar el depsito",recipient:"Destinatario",yourPixKeys:"Tus claves PIX",registeredKeys:"Tus claves registradas",keysAutoCreated:" Tus claves PIX (email y telfono) se crearon automticamente",noKeysFound:"No se encontraron claves PIX",errorCopying:"Error al copiar clave"},welcome:"Bienvenido",createAccount:"Crear Cuenta",login:"Iniciar Sesin",signUp:"Registro",termsAgreement:"Al registrarte, aceptas nuestros Trminos de Servicio y Poltica de Privacidad.",futureOfFinance:"Future of Finance",dontHaveAccount:"No tienes una cuenta?",alreadyHaveAccount:"Ya tienes una cuenta?",email:"Email",phone:"Telfono",fullName:"Nombre completo",password:"Contrasea",confirmPassword:"Confirmar contrasea",forgotPassword:"Olvidaste tu contrasea?",continue:"Continuar",initialSetup:"Configuracin inicial",countryCurrencySubtitle:"Selecciona tu pas de origen y la moneda preferida para tus transacciones.",choosePin:"Elige tu PIN de acceso",choosePinSubtitle:"Crea un PIN de 6 dgitos para entrar en la aplicacin y autorizar tus transacciones.",confirmPin:"Confirma tu PIN",confirmPinSubtitle:"Introduce de nuevo tu PIN de 6 dgitos para confirmar.",enterPin:"Ingrese su PIN",enterPinSubtitle:"Ingrese su PIN de 6 dgitos para acceder a su cuenta",forgotPin:"Olvid mi PIN",pinsDontMatch:"Los PIN no coinciden. Intntalo de nuevo.",pinSetupSuccess:"PIN configurado correctamente!",portuguese:"Portugus",english:"Ingls",spanish:"Espaol",register:"Registrarse",invalidName:"Nombre invlido",invalidEmail:"Correo electrnico invlido",invalidPhone:"Telfono invlido",phoneNotFound:"Telfono no encontrado",passwordRequirement:"La contrasea debe tener al menos 8 caracteres, 1 mayscula y 1 carcter especial",passwordsDontMatch:"Las contraseas no coinciden",privacyPolicy:"Poltica de Privacidad",or:"o",incorrectPassword:"Contrasea incorrecta",loginError:"Error al iniciar sesin",home:"Inicio",wallet:"Billetera",convert:"Convertir",crypto:"Cripto",profile:"Perfil",totalBalance:"Saldo Total",hideBalance:"Ocultar Saldo",showBalance:"Mostrar Saldo",recentTransactions:"Transacciones Recientes",deposit:"Depositar",withdraw:"Retirar",transfer:"Transferir",noTransactions:"No hay transacciones an",quickActions:"Acciones Rpidas",viewAll:"Ver Todo",statement:"Estado de Cuenta",viewAllTransactions:"Ver Todas las Transacciones",market:"Mercado",myAccounts:"Mis Cuentas",myCryptos:"Mis Criptos",trade:"Negociar",activity:"Actividad",myWallet:"Mi Billetera",assets:"Activos",search:"Buscar",totalAssets:"Total en Activos",cryptoAssets:"Activos en Cripto",fiatBalance:"Saldo en Fiat",manageHoldings:"Gestionar Activos",send:"Enviar",loadingAssets:"Cargando activos...",noAssetsInPortfolio:"No hay activos en el portafolio",startAddingCryptos:"Comienza agregando criptomonedas en la pestaa",goToCrypto:"Ir a Cripto",cryptocurrencies:"Criptomonedas",clickToAddBalance:"Haz doble clic para agregar saldo",removeAsset:"Eliminar Activo",addBalance:"Agregar Saldo",enterValidValue:"Ingresa un valor vlido",balanceAddedSuccess:"Saldo agregado con xito!",errorAddingBalance:"Error al agregar saldo",add:"Agregar",confirmDeletion:"Confirmar Eliminacin",areYouSureDelete:"Ests seguro de que deseas eliminar permanentemente",fromYourPortfolio:"de tu portafolio?",currentBalance:"Saldo actual",valueToAdd:"Valor a agregar",newBalance:"Nuevo saldo",adding:"Agregando...",addCryptosToPortfolio:"Agrega criptomonedas a tu portafolio",toAddMoreCryptos:"Para agregar ms criptomonedas, ve a la",andClickCrypto:"pestaa y haz doble clic en la moneda deseada",inCryptoTab:"En la pestaa Cripto, haz doble clic en cualquier moneda para agregar",selectAssetToDelete:"Selecciona un activo para eliminar",assetRemovedSuccess:"Activo eliminado con xito!",errorRemovingAsset:"Error al eliminar activo",removing:"Eliminando...",remove:"Eliminar",cashAndStablecoins:"Efectivo y Stablecoins",cancel:"Cancelar",brazilianReal:"Real Brasileo (PIX)",usDollar:"Dlar Estadounidense",euro:"Euro",sterling:"Libra Esterlina",stablecoin:"Stablecoin",japaneseYen:"Yen Japons",canadianDollar:"Dlar Canadiense",australianDollar:"Dlar Australiano",swissFranc:"Franco Suizo",chineseYuan:"Yuan Chino",indianRupee:"Rupia India",mexicanPeso:"Peso Mexicano",argentinePeso:"Peso Argentino",convertCrypto:"Convertir Cripto",from:"De",to:"A",amount:"Cantidad",youGet:"Recibes",exchangeRate:"Tasa de Cambio",convertNow:"Convertir ahora",selectCrypto:"Seleccionar cripto",cryptoMarket:"Mercado Cripto",topGainers:"Mayores Subidas",topLosers:"Mayores Cadas",marketCap:"Cap. de Mercado",volume24h:"Volumen 24h",price:"Precio",change24h:"Cambio 24h",myProfile:"Mi Perfil",settings:"Configuracin",security:"Seguridad",notifications:"Notificaciones",language:"Idioma",support:"Soporte",about:"Acerca de",logout:"Salir",account:"Cuenta",personalInfo:"Informacin Personal",accountData:"Datos de la Cuenta",helpCenter:"Centro de Ayuda",termsAndPrivacy:"Trminos y Privacidad",dangerZone:"Zona de Peligro",deleteAccount:"Eliminar Cuenta",help:"Ayuda",privacy:"Privacidad",aboutUs:"Acerca de Nosotros",receiveCrypto:{title:"Recibir",searchPlaceholder:"Buscar criptomoneda...",receiveCryptoTitle:"Recibir {crypto}",selectNetwork:"Seleccione la red",yourAddress:"SU DIRECCIN",copy:"Copiar",new:"Nuevo",generating:"Generando...",copied:"Copiado!",generatingAddress:"Generando direccin...",helpTitle:"Ayuda",attention:"Atencin",attentionDesc:"Enve solo activos compatibles con la red seleccionada. El envo de activos de otras redes puede resultar en la prdida permanente de sus fondos.",uniqueAddress:"Direccin nica",uniqueAddressDesc:"Esta direccin es exclusiva para su cuenta y puede usarse varias veces.",security:"Seguridad",securityDesc:"Siempre confirme la red antes de enviar activos para evitar prdidas irreversibles.",howItWorks:"Cmo funciona",howItWorksDesc:"Comparta esta direccin o cdigo QR con quien le enve criptomonedas.",importantTip:"Consejo importante",importantTipDesc:"Recomendamos hacer una prueba con una cantidad pequea primero.",transactionQuestions:"Dudas sobre transacciones?",helpHere:"Ayuda aqu"},securitySettings:"Configuracin de Seguridad",changePassword:"Cambiar Contrasea",twoFactor:"Autenticacin de Dos Factores",biometric:"Biometra",currentPassword:"Contrasea Actual",newPassword:"Nueva Contrasea",confirmNewPassword:"Confirmar Nueva Contrasea",updatePassword:"Actualizar Contrasea",authentication:"Autenticacin",lastChanged:"ltimo cambio hace 3 meses",addExtraLayer:"Agrega una capa extra de seguridad",securityNotifications:"Notificaciones de Seguridad",emailAlerts:"Alertas por Correo",receiveSuspiciousActivity:"Recibe notificaciones de actividades sospechosas",recentActivity:"Actividad Reciente",viewDevicesAccess:"Ver dispositivos y accesos recientes",connectedDevices:"Dispositivos Conectados",activeDevices:"3 dispositivos activos",activeSessions:"Sesiones Activas",manageSessions:"Gestiona tus sesiones",yourAccountProtected:"Tu cuenta est protegida",keepInfoSecure:"Mantn tu informacin segura",securityTips:"Consejos de Seguridad",useStrongPassword:"Usa una contrasea fuerte y nica",enableTwoFactor:"Activa la autenticacin de dos factores",neverShareCredentials:"Nunca compartas tus credenciales",notificationSettings:"Configuracin de Notificaciones",pushNotifications:"Notificaciones Push",emailNotifications:"Notificaciones por Correo",transactionAlerts:"Alertas de Transaccin",priceAlerts:"Alertas de Precio",newsUpdates:"Actualizaciones de Noticias",notificationsTitle:"Notificaciones",unreadMessages:"{count} no leda{plural}",markAll:"Marcar todas",filterAll:"Todas",filterTransactions:"Transacciones",filterSecurity:"Seguridad",filterUpdates:"Actualizaciones",loadingNotifications:"Espere mientras cargamos sus notificaciones",noNotificationsTitle:"Sin notificaciones",noNotificationsDesc:"No tiene notificaciones en esta categora",pushSettingsButton:"Configuracin de notificaciones push",helpCenterPage:{title:"Centro de Ayuda",howCanWeHelp:"Cmo podemos ayudar?",chooseOption:"Elija la mejor forma de contactar a nuestro equipo de soporte",sendEmail:"Enviar correo",sendEmailDesc:"Enve su duda por correo y reciba respuesta en hasta 24 horas",liveChat:"Chat en vivo",liveChatDesc:"Hable con un agente en tiempo real",availableNow:"Disponible ahora",faq:"Preguntas frecuentes",subject:"Asunto",enterSubject:"Ingrese el asunto",message:"Mensaje",enterMessage:"Describa su duda o problema",send:"Enviar",cancel:"Cancelar",emailSent:"Correo enviado con xito! Nuestro equipo responder pronto.",waitingSupport:"Esperando atencin",youAreInQueue:"Ests en la fila. Pronto un agente estar disponible.",peopleAhead:"personas delante de ti",connectedWithAgent:"Has sido conectado con un agente",agentGreeting:"Hola! Soy el agente Carlos. Cmo puedo ayudarte hoy?",agentResponse:"Entiendo tu pregunta. Voy a verificar eso por ti.",agentName:"Agente Carlos",online:"En lnea",typeMessage:"Escribe tu mensaje...",faqs:{deposit:{q:"Cmo hacer un depsito?",a:'Para hacer un depsito, ve a la pestaa "Billetera", selecciona la criptomoneda deseada y haz clic en "Depositar". Recibirs una direccin nica para enviar tus fondos. Asegrate de usar la red correcta para evitar prdida de fondos.'},withdraw:{q:"Cmo retirar criptomonedas?",a:'En la pestaa "Billetera", selecciona la moneda que deseas retirar y haz clic en "Retirar". Ingresa la direccin de destino, elige la red blockchain y el monto. Confirma la transaccin con tu cdigo de seguridad. El procesamiento puede tardar de unos minutos a horas dependiendo de la red.'},fees:{q:"Tasas de transaccin",a:"Las tasas varan segn la criptomoneda y la red blockchain utilizada. Los depsitos son gratuitos. Para retiros, las tasas son dinmicas y basadas en la congestin de la red. Siempre vers la tasa exacta antes de confirmar cualquier transaccin."},security:{q:"Seguridad de la cuenta",a:"Tu seguridad es nuestra prioridad. Recomendamos activar la autenticacin de dos factores (2FA), usar contrasea fuerte y nica, y nunca compartir tus credenciales. Todas las transacciones requieren confirmacin adicional y tus fondos estn protegidos con cifrado de nivel bancario."}}},termsMenuPage:{title:"Trminos y Privacidad",termsOfUse:"Trminos de Uso",termsDesc:"Lee los trminos y condiciones de uso de NexCoin",privacyPolicy:"Poltica de Privacidad",privacyDesc:"Sepa cmo protegemos y usamos sus datos",lastUpdate:"ltima actualizacin: 26 de enero de 2026"},termsAndConditionsPage:{title:"Trminos de Uso",lastUpdate:"ltima actualizacin: 26 de enero de 2026",sections:{1:{title:"1. Aceptacin de los Trminos",content:"Al acceder y usar NexCoin, aceptas cumplir con estos Trminos de Uso. Si no ests de acuerdo con cualquier parte de estos trminos, no deberas usar nuestros servicios."},2:{title:"2. Elegibilidad",content:"Debes tener al menos 18 aos para usar NexCoin. Al crear una cuenta, declaras y garantizas que tienes capacidad legal para celebrar este contrato."},3:{title:"3. Cuenta y Seguridad",content:[" Eres responsable de mantener la confidencialidad de tus credenciales de inicio de sesin"," Debes notificar inmediatamente sobre cualquier uso no autorizado de tu cuenta"," NexCoin no ser responsable por prdidas derivadas del uso no autorizado de tu cuenta"]},4:{title:"4. Seguridad y Permisos Obligatorios",content:"Para garantizar la seguridad de tus transacciones y prevenir fraudes, el uso de GPS (geolocalizacin) y CMARA es OBLIGATORIO en la plataforma NexCoin.",items:[" El acceso a los servicios ser bloqueado si se deniegan o desactivan los permisos de ubicacin o cmara"," La cmara se utiliza exclusivamente para verificacin de identidad (KYC), prueba de vida y autenticacin de seguridad"," El GPS se utiliza para monitoreo de seguridad constante, incluyendo seguimiento en segundo plano para prevencin contra accesos no autorizados y proteccin de activos"," El uso de notificaciones se recomienda para el monitoreo en tiempo real de todos los movimientos financieros de tu cuenta"]},5:{title:"5. Uso de la Plataforma",items:["Uso Permitido: NexCoin es una plataforma para comercio de criptomonedas. Aceptas usar la plataforma solo para fines legales.","Uso Prohibido: Est prohibido usar la plataforma para lavado de dinero, financiamiento del terrorismo, fraude o cualquier actividad ilegal."]},6:{title:"6. Transacciones y Tasas",content:"Todas las transacciones realizadas a travs de NexCoin estn sujetas a tasas de red. Las tasas se muestran claramente antes de la confirmacin de cualquier transaccin. Una vez confirmada, la transaccin es irreversible."},7:{title:"7. Riesgos de Criptomonedas",content:"Reconoces que el mercado de criptomonedas es voltil y que el valor de tus activos puede fluctuar significativamente. NexCoin no garantiza ganancias y eres responsable de tus decisiones de inversin."},8:{title:"8. Limitacin de Responsabilidad",content:"NexCoin no ser responsable por prdidas directas, indirectas, incidentales o consecuentes resultantes del uso o incapacidad de usar nuestros servicios, incluyendo prdida de fondos, datos o ganancias."},9:{title:"9. Suspensin y Terminacin",content:"Nos reservamos el derecho de suspender o terminar tu cuenta en cualquier momento, sin previo aviso, si creemos que has violado estos trminos o te has involucrado en actividades fraudulentas."},10:{title:"10. Modificaciones de los Trminos",content:"Podemos modificar estos trminos en cualquier momento. Te notificaremos sobre cambios significativos a travs de la aplicacin o correo electrnico. El uso continuado de la plataforma despus de las modificaciones constituye aceptacin de los nuevos trminos."},11:{title:"11. Ley Aplicable",content:"Estos trminos se rigen por las leyes aplicables en tu jurisdiccin. Cualquier disputa ser resuelta en los tribunales competentes."},12:{title:"12. Contacto",content:"Si tienes dudas sobre estos Trminos de Uso, contctanos a travs del Centro de Ayuda."}},agreement:"Al usar NexCoin, aceptas estos Trminos de Uso"},privacyPolicyPage:{title:"Poltica de Privacidad",lastUpdate:"ltima actualizacin: 26 de enero de 2026",sections:{1:{title:"1. Introduccin",content:"NexCoin valora tu privacidad. Esta Poltica de Privacidad describe cmo recopilamos, usamos, almacenamos y protegemos tu informacin personal cuando usas nuestros servicios."},2:{title:"2. Informacin que Recopilamos",items:[{title:"2.1 Informacin de Registro:",content:" Nombre completo, correo electrnico, nmero de telfono, pas de residencia"},{title:"2.2 Informacin de Transaccin:",content:" Historial de transacciones, direcciones de billeteras, montos negociados"},{title:"2.3 Informacin Tcnica:",content:" Direccin IP, tipo de dispositivo, sistema operativo, registros de acceso"},{title:"2.4 Informacin de Geolocalizacin (GPS):",content:" Ubicacin precisa del dispositivo, utilizada obligatoriamente para fines de seguridad, prevencin de fraudes y cumplimiento normativo."},{title:"2.5 Informacin de Verificacin:",content:" Documentos de identificacin y datos biomtricos para cumplimiento KYC (Conozca a su Cliente)"},{title:"2.6 Informacin de Cmara:",content:" Acceso a la cmara del dispositivo, utilizado obligatoriamente para captura de documentos y reconocimiento facial (KYC) para fines de seguridad y prevencin de fraudes."},{title:"2.7 Notificaciones y Alertas:",content:" Recopilacin de tokens de dispositivo para envo de notificaciones push sobre depsitos recibidos, seguridad de la cuenta y alertas importantes del sistema."}]},3:{title:"3. Cmo Usamos tu Informacin",content:[" Proporcionar y mejorar nuestros servicios de comercio de criptomonedas"," Procesar transacciones y garantizar la seguridad de tu cuenta"," Cumplir requisitos legales y regulatorios (AML/KYC)"," Comunicar sobre actualizaciones, mantenimientos y cuestiones de seguridad"," Prevenir fraudes y actividades sospechosas a travs del monitoreo de ubicacin y patrones de acceso"," Personalizar tu experiencia en la aplicacin"]},4:{title:"4. Compartir Informacin",intro:"No vendemos tu informacin personal. Podemos compartir tus datos solo en las siguientes situaciones:",content:[" Con proveedores de servicios externos esenciales para la operacin de la plataforma"," Cuando sea requerido por ley, orden judicial o autoridades reguladoras"," Para proteger nuestros derechos legales y prevenir fraudes"," Con tu consentimiento explcito"]},5:{title:"5. Seguridad de los Datos",intro:"Implementamos medidas de seguridad robustas para proteger tu informacin:",content:[" Cifrado de extremo a extremo para datos sensibles"," Autenticacin de dos factores (2FA)"," Almacenamiento seguro en servidores con certificacin de seguridad"," Monitoreo continuo contra accesos no autorizados"," Auditoras de seguridad regulares"]},6:{title:"6. Retencin de Datos",content:"Mantenemos tu informacin personal por el tiempo necesario para proporcionar nuestros servicios y cumplir obligaciones legales. Los datos de transacciones se mantienen segn lo requerido por regulaciones financieras."},7:{title:"7. Tus Derechos",intro:"Tienes los siguientes derechos en relacin con tu informacin personal:",content:[" Acceder y revisar tu informacin personal"," Solicitar correccin de datos incorrectos"," Solicitar eliminacin de datos (sujeto a obligaciones legales)"," Optar por no recibir comunicaciones de marketing"," Portabilidad de datos"]},8:{title:"8. Cookies y Rastreo",content:"Usamos cookies y tecnologas similares para mejorar tu experiencia, analizar el uso de la plataforma y personalizar contenido. Puedes gestionar tus preferencias de cookies en la configuracin de la aplicacin."},9:{title:"9. Transferencias Internacionales",content:"Tus datos pueden ser transferidos y procesados en pases diferentes de tu pas de residencia. Garantizamos que todas las transferencias cumplan con las leyes de proteccin de datos aplicables."},10:{title:"10. Menores de Edad",content:"Nuestros servicios no estn destinados a menores de 18 aos. No recopilamos intencionalmente informacin de menores. Si crees que hemos recopilado datos de un menor, contctanos inmediatamente."},11:{title:"11. Cambios en la Poltica",content:"Podemos actualizar esta Poltica de Privacidad peridicamente. Te notificaremos sobre cambios significativos a travs de la aplicacin o correo electrnico. Recomendamos revisar esta poltica regularmente."},12:{title:"12. Contacto",content:"Si tienes dudas sobre esta Poltica de Privacidad o sobre cmo tratamos tus datos, contctanos a travs del Centro de Ayuda o enva un correo a privacy@nexcoin.com."}},agreement:"Al usar NexCoin, aceptas esta Poltica de Privacidad"},languageSettings:"Configuracin de Idioma",selectLanguage:"Selecciona tu idioma",languageUpdated:"Idioma actualizado con xito!",selectYourLanguage:"Selecciona tu idioma",languageDescription:"Elige tu idioma preferido para la aplicacin",sent:"Enviado",received:"Recibido",pending:"Pendiente",completed:"Completado",failed:"Fallido",transactions:"Transacciones",allTransactions:"Todas las Transacciones",transactionsPage:{title:"Transacciones",search:"Buscar",today:"Hoy",yesterday:"Ayer",noTransactions:"Sin transacciones",noTransactionsDesc:"Tus transacciones aparecern aqu",noResults:"Sin resultados",noResultsDesc:"Intenta ajustar la bsqueda",fee:"Comisin",types:{sendCrypto:"Envo de",receiveCrypto:"Recepcin de",sent:"Enviado",received:"Recibido",pixSent:"PIX enviado",pixReceived:"PIX recibido",conversion:"Conversin",deposit:"Depsito",withdrawal:"Transferencia",buy:"Compra de",sell:"Venta de"},status:{completed:"Completado",pending:"Pendiente",processing:"Procesando",failed:"Fallido"}},statsPage:{title:"Estadsticas",portfolioAnalysis:"Anlisis del Portafolio",totalBalance:"Saldo Total",totalAssets:"Total de Activos",largestAsset:"Mayor Activo",assetDistribution:"Distribucin de Activos",ofPortfolio:"del portafolio",portfolioHistory:"Historial del Portafolio",lastUpdates:"ltimas {count} actualizaciones",updatesEvery5Min:"Actualiza cada 5min"},copied:"Copiado!",copiedToClipboard:"Copiado al portapapeles",enterValidAmount:"Ingrese un monto vlido",transferMethod:"Transferencia",confirm:"Confirmar",save:"Guardar",edit:"Editar",back:"Volver",next:"Siguiente",done:"Hecho",loading:"Cargando...",error:"Error",success:"xito",close:"Cerrar",options:"Opciones",welcomeBack:"Bienvenido de nuevo",goodMorning:"Buenos das",goodAfternoon:"Buenas tardes",goodEvening:"Buenas noches",depositFunds:"Depositar Fondos",withdrawFunds:"Retirar Fondos",selectAmount:"Seleccionar Cantidad",enterAmount:"Ingresar Cantidad",minimum:"Mnimo",maximum:"Mximo",available:"Disponible",receive:"Recibir",name:"Nombre",country:"Pas",dateOfBirth:"Fecha de Nacimiento",address:"Direccin",personalAccount:"Cuenta Personal",idDocument:"Documento de Identificacin",enterIdDocument:"Ingrese su documento de identidad",residentialAddress:"Direccin Residencial",addressPlaceholder:"Calle, nmero, apartamento",city:"Ciudad",state:"Estado",zipCode:"Cdigo Postal",phoneNumber:"Nmero de Telfono",emailLabel:"Correo Electrnico",taxResidence:"Domicilio Fiscal",patrimony:"Patrimonio",reportedPatrimony:"Patrimonio Informado (opcional)",patrimonyPlaceholder:"Ej: $ 500.000,00",notInformed:"NO INFORMADO",portfolioValue:"Valor del Portafolio",dailyChange:"Cambio Diario",profit:"Ganancia",loss:"Prdida",myCards:"Mis Tarjetas",addCard:"Agregar Tarjeta",manageCards:"Gestionar Tarjetas",bottomNav:{home:"Inicio",wallet:"Billetera",convert:"Convertir",crypto:"Cripto",profile:"Perfil"},cryptoPage:{all:"Todos",favorites:"Favoritos",searchCrypto:"Buscar criptomoneda...",addBalance:"Agregar Saldo",enterAmount:"Ingresar cantidad",add:"Agregar",balance:"Saldo",noFavorites:"An no hay favoritos",addFavoritesTip:"Toca la estrella para agregar favoritos",topGainersToday:"Mayores Subidas Hoy",cryptoAddedSuccess:"Cripto agregada con xito!",errorAddingCrypto:"Error al agregar cripto",invalidAmount:"Cantidad invlida",addToPortfolio:"Aadir al Portafolio",trendingUp:"Cripto en Alza",realTime:"Tiempo Real",price:"Precio",change24h:"24h",hideList:"Ocultar Lista",seeAllCryptos:"Ver Todas las Criptomonedas",activeAvailable:"activo disponible",activesAvailable:"activos disponibles",hide:"Ocultar",expand:"Expandir",holdToAddBalance:"Mantn presionado 5s para aadir saldo",marketCap:"Cap. de Mercado",allCryptosActive:"Todas las criptos estn activas!",allCryptosAdded:"Ya has aadido todas las criptomonedas disponibles a tu cartera.",viewPortfolio:"Ver Portafolio",currentBalance:"Saldo actual",amountToAdd:"Cantidad a aadir",newBalance:"Nuevo saldo",cancel:"Cancelar",adding:"Aadiendo...",confirmAddPortfolio:"Deseas aadir esta cripto a tu cartera?",addNow:"Aadir Ahora"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Cripto  Cripto",cryptoToFiat:"Cripto  Fiat",fiatToFiat:"Fiat  Fiat",convertAll:"Convertir todo",exchangeRate:"Tasa de Cambio",balance:"Saldo",conversionFee:"Tarifa de conversin (0.5%)",processing:"Procesamiento",confirmExchange:"Confirmar Exchange",converting:"Convirtiendo...",conversionHistory:"Historial de Conversiones",insufficientBalance:"Saldo insuficiente",insufficientBalanceWithFee:"Saldo insuficiente (incluye tarifa 0,5%)",noBalance:"Sin saldo en",conversionCompleted:"Conversin Completada!",anotherConversion:"Deseas hacer otra conversin?",yesAnother:"S, hacer otra",noGoHome:"No, volver al Inicio",conversionSuccess:"Conversin realizada con xito!",conversionError:"Error al procesar conversin",deleteConversion:" Deseas eliminar esta conversin?",conversionDeleted:" Conversin eliminada con xito!",errorDeletingConversion:"Error al eliminar conversin",noConversions:"An no se han realizado conversiones",loadingHistory:"Cargando historial...",needTwoAccounts:"Necesitas cuentas en al menos 2 pases diferentes para hacer conversiones de moneda.",needBankAccount:"Necesitas abrir una cuenta bancaria para convertir cripto en moneda fiat.",seconds:"segundos",clickToDelete:"Haz doble clic para eliminar",seeHistory:"Ver Historial",hideHistory:"Ocultar Historial"},withdrawTransfer:{sendMoney:"Enviar Dinero",chooseCountryAndMethod:"Elige tu pas y mtodo de transferencia",selectAccount:"Seleccionar Cuenta",availableForTransfer:"Saldo disponible para transferencia",transferMethods:"Mtodos de transferencia",instantTransfer:"Transferencia instantnea",instantNoLimit:"Instantneo  Sin lmite de transferencia",bankTransfer:"Transferencia Bancaria",tedOrDoc:"TED o DOC",businessDaysNoLimit:"1-2 das hbiles  Sin lmite de transferencia",important:"Importante",verifyBankData:"Asegrate de ingresar los datos bancarios correctos. Las transferencias a datos incorrectos no se pueden revertir.",transferViaPix:"Transferir va PIX",availableBalance:"Saldo disponible",amountToTransfer:"Cantidad a transferir",pixKeyRecipient:"Clave PIX del destinatario",pixKeyPlaceholder:"CPF, Email, Telfono o Clave Aleatoria",informPixKey:"Ingresa la clave PIX de quien recibir la transferencia",fee:"Comisin",time:"Tiempo",instant:"Instantneo",confirmTransfer:"Confirmar Transferencia",pix:"PIX",businessDays:"1-2 das hbiles",pixKeyInvalidType:"Tipo de clave PIX no reconocido. Use CPF, CNPJ, Email, Telfono o Clave Aleatoria.",userNotAuthenticated:"Usuario no autenticado",minAmount:"Monto mnimo",insufficientBalance:"Saldo insuficiente. Disponible",informPixKeyError:"Informe la clave PIX",pixKeyInvalid:"Clave PIX invlida",fillBankDetails:"Complete todos los datos bancarios",pixTransferTo:"Transferencia PIX para",errorProcessingPix:"Error al procesar transferencia PIX",transferSentTo:"Transferencia enviada a",pixKeyNotFound:"Clave PIX no encontrada en el sistema NexCoin. Solo se soportan transferencias entre usuarios NexCoin por el momento.",pixTransfer:"Transferencia PIX",tedTransfer:"Transferencia TED",transferVia:"Transferencia va",errorProcessingTransfer:"Error al procesar transferencia",pixKey:"Clave PIX",transferSuccess:"Transferencia realizada con xito!",min:"Mn",max:"Mx",processing:"Procesando...",amount:"Monto",bank:"Banco",code:"Cdigo",agency:"Agencia",account:"Cuenta",checkingAccount:"Cuenta Corriente",savingsAccount:"Cuenta de Ahorros",fullName:"Nombre completo",cpfCnpj:"CPF/CNPJ",checking:"Corriente",savings:"Ahorros",accountHolderName:"Nombre del titular",address:"Direccin",beneficiaryName:"Nombre del beneficiario",processingStatus:"Procesando",addAccountHome:"Agregue una cuenta en la pgina de Inicio",noTransferLimit:"Sin lmite de transferencia",achTransfer:"Transferencia ACH",electronicBankTransfer:"Transferencia bancaria electrnica",wireTransfer:"Transferencia Wire",domesticWire:"Wire domstico",sepaTransfer:"Transferencia SEPA",singleEuroPaymentsArea:"Zona nica de Pagos en Euros",sepaInstant:"SEPA Instantneo",instantSepaTransfer:"Transferencia SEPA instantnea",fasterPayments:"Pagos Rpidos",instantBankTransfer:"Transferencia bancaria instantnea",bacsTransfer:"Transferencia BACS",standardBankTransfer:"Transferencia bancaria estndar",bankDetails:"Detalles de la Cuenta",removeAccount:"Eliminar Cuenta"},withdrawCrypto:{title:"Enviar",searchPlaceholder:"Buscar criptomonedas compatibles",availableBalance:"Saldo disponible",selectNetwork:"Seleccione la red",fee:"Comisin",noCryptosFound:"No se encontraron criptomonedas",sendCrypto:"Enviar"},withdrawAddress:{title:"Enviar",selectedNetwork:"Rede seleccionada",walletAddress:"Direccin de la billetera",addressPlaceholder:"Pega o escanea la direccin de la billetera",recipientFound:"Destinatario encontrado",sendingTo:"Enviando a",invalidAddress:"Direccin invlida",addressWarning:"Asegrate de que la direccin sea correcta. Las transacciones no se pueden revertir.",amount:"Cantidad",useMax:"Usar mximo",summary:"Resumen de la transaccin",quantity:"Cantidad",networkFee:"Comisin de red",total:"Total",attention:"Atencin",attentionWarning:"Verifique cuidadosamente la direccin y la red antes de enviar. Solo se aceptan direcciones registradas en NexCoin.",mustBeRegistered:"La direccin debe estar registrada en NexCoin",sentSuccess:"Enviado con xito!",transactionProcessed:"Su transaccin ha sido procesada",recipient:"Destinatario",viewReceipt:"Ver Comprobante",processing:"Procesando...",transferSuccess:"Transferencia realizada con xito!",availableBalance:"Saldo disponible",fee:"Comisin"},withdrawReceipt:{title:"Transferencia Confirmada!",subtitle:"Comprobante de transferencia",transactionId:"ID de la transaccin",details:"Detalles de la transferencia",method:"Mtodo",fee:"Comisin",processing:"Procesamiento",date:"Fecha",recipient:"Destinatario",important:"Importante",importantNotice:"Guarde este comprobante para referencia futura. El procesamiento puede tardar hasta",shareReceipt:"Compartir comprobante",backToHome:"Volver al Inicio",copied:"Copiado",sharing:"Compartiendo...",copiedToClipboard:"Copiado al portapapeles!",shareTextHeader:" Comprobante de Transferencia NexCoin",shareTextFooter:" NexCoin - Su banco digital de criptomonedas",amount:"Monto",currency:"Moneda",status:"Estado",copy:"Copiar",to:"Para"},paymentScreen:{title:"Tarifa de Anlisis",description:"Para continuar con el anlisis de su cuenta, es necesario realizar una donacin simblica de validacin.",totalToPay:"Total a pagar",payButton:"Pagar 5.00",processing:"Procesando...",securePayment:"Pago seguro procesado por Stripe. Sus datos estn encriptados.",secureBadge:"Pago 100% seguro y encriptado",configError:"Error de Configuracin",technicalNote:"Nota Tcnica: Si ve error de CORS/Network, es porque Stripe bloquea el uso de la clave secreta en el navegador. Necesita configurar un backend o Cloud Function.",tryAgain:"Intentar de Nuevo",success:"Pago exitoso!",updateError:"Pago confirmado, pero hubo un error al actualizar su perfil. Contacte al soporte.",initiating:"Iniciando pago seguro...",pleaseWait:"Por favor espere un momento."},pendingApproval:{title:"Cuenta en Anlisis",greeting:"Hola {name}!",description:"Su solicitud de acceso a NexCoin est siendo analizada por nuestro equipo de seguridad.",step1Title:"Registro Realizado",step1Desc:"Su informacin fue recibida con xito",step2Title:"Anlisis de Seguridad",step2Desc:"Verificando sus datos y validando identidad",step3Title:"Aprobacin Final",step3Desc:"Recibir una notificacin cuando sea aprobado",estimatedTime:"Tiempo estimado:",timeValue:"24 a 48 horas",emailNotice:"Recibir un correo electrnico en {email} tan pronto como su cuenta sea aprobada.",securityBadge:"Protegido por verificacin en dos pasos",logoutButton:"Cerrar Sesin",needHelp:"Necesita ayuda?",contactUs:"Contctenos"},pushSettingsPage:{title:"Notificaciones push",keepInformed:"Mantente informado",keepInformedDesc:"Personaliza tus notificaciones para recibir solo la informacin ms importante",sections:{general:"General",transactions:"Transacciones",security:"Seguridad",market:"Mercado"},items:{enablePush:"Activar notificaciones push",enablePushDesc:"Recibir todas las notificaciones en el dispositivo",allTransactions:"Todas las transacciones",allTransactionsDesc:"Notificaciones de todos los movimientos",deposits:"Depsitos",depositsDesc:"Cuando recibas fondos",withdrawals:"Retiros",withdrawalsDesc:"Cuando se procese un retiro",securityAlerts:"Alertas de seguridad",securityAlertsDesc:"Todas las notificaciones de seguridad",newDevices:"Nuevos dispositivos",newDevicesDesc:"Inicio de sesin en un nuevo dispositivo",suspiciousActivity:"Actividades sospechosas",suspiciousActivityDesc:"Intentos de acceso no autorizados",priceAlerts:"Alertas de precio",priceAlertsDesc:"Cuando tus activos alcancen metas",marketNews:"Noticias del mercado",marketNewsDesc:"Actualizaciones importantes del mercado"},tipTitle:"Consejo:",tipContent:"Algunas notificaciones de seguridad no se pueden desactivar para mantener tu cuenta protegida."},landingPage:{products:"Productos",company:"Empresa",help:"Ayuda",openAccount:"Abre tu cuenta",openAccountNow:"Abre tu cuenta ahora",moreThanGlobalTitle:"Ms que una cuenta",moreThanGlobalHighlight:"cooperativa global",heroSubtitle:"Enva, gasta y ahorra con ms inteligencia. nete a miles que ya han transformado su vida financiera con NexCoin.",yourBalance:"Tu Saldo",yield:"RENDIMIENTO",yieldToday:"+ 0,85% hoy",socialProof:"La App usada por miles de personas",elevateSpending:"Eleva tu forma de gastar",cardSubtitle:"Pide tu tarjeta NexCoin y ten control total de tus gastos en cualquier lugar del mundo.",requestCard:"Solicitar tarjeta",highYieldTitle:"Cambia tu vida con las cuentas remuneradas",highYieldSubtitle:"Haz que tu dinero trabaje para ti. Tasas competitivas y liquidez diaria para que disfrutes de lo que importa.",exploreYields:"Explorar rendimientos",safeHarborTitle:"El puerto seguro de tu dinero",safeHarborSubtitle:"Utilizamos tecnologa de punta para proteger tus datos y tu patrimonio. Con autenticacin biomtrica, criptografa de grado militar y monitoreo en tiempo real, puedes estar tranquilo.",security:"Seguridad",enterCryptoTitle:"Entra en el mundo cripto",enterCryptoSubtitle:"Compra Bitcoin, Ethereum y otras criptos con un solo toque. Simple, seguro y transparente.",exploreCrypto:"Explorar Cripto",joinThousands:"nete a miles que ya usan NexCoin",footerTagline:"Revolucionando tu vida financiera con tecnologa, transparencia y seguridad.",footerProduct:"Producto",footerCards:"Tarjetas",footerCrypto:"Cripto",footerBalances:"Saldos",footerYields:"Rendimientos",footerCompany:"Empresa",footerAbout:"Sobre nosotros",footerCareers:"Carreras",footerBlog:"Blog",footerPress:"Prensa",footerSupport:"Soporte",footerHelp:"Ayuda",footerContact:"Contctanos",footerSecurity:"Seguridad",footerPrivacy:"Poltica de Privacidad",footerTerms:"Trminos de Uso",footerDisclaimer:"NexCoin es una plataforma de servicios financieros digitales. Los servicios de pago y las cuentas son proporcionados por socios autorizados y regulados. Asegrese de leer nuestros Trminos y condiciones antes de abrir una cuenta. La inversin en criptoactivos implica riesgos significativos de prdida. NexCoin no es una institucin financiera bancaria propia, sino que acta como corresponsal bancario.  2026 NexCoin. Reservados todos los derechos."},downloadApp:{successTitle:"Registro realizado con xito! ",successSubtitle:"Para acceder a tu cuenta y empezar a invertir, descarga ahora la aplicacin oficial de NexCoin en tu smartphone.",android:"Android",androidHint:"Apunta la cmara para descargar por Google Play",downloadApk:"Download APK",ios:"iOS (iPhone)",iosHint:"Apunta la cmara para descargar por App Store",downloadAppStore:"Download App Store",rightsReserved:" 2026 NexCoin. Todos los derechos reservados."}}},gl=()=>{try{const t=navigator.language.toLowerCase();return t.startsWith("pt")?"pt":t.startsWith("es")?"es":"en"}catch(t){return console.error("Erro ao detectar idioma do navegador:",t),"pt"}},XR=gl(),Tte={language:XR,setLanguage:async()=>{},t:pT[XR]},WB=E.createContext(Tte);function Ste({children:t}){const[e,n]=E.useState(gl());E.useEffect(()=>{try{const s=xn.onAuthStateChanged(a=>{if(a&&a.uid){const l=st(be,"users",a.uid),c=Fs(l,d=>{try{if(d.exists()){const f=d.data();f?.language&&["pt","en","es"].includes(f.language)?n(f.language):n(gl())}else n(gl())}catch(f){console.error("Erro ao processar dados do usurio:",f),n(gl())}},d=>{d.code!=="permission-denied"&&console.error("Erro ao escutar idioma do usurio:",d),n(gl())});return()=>c()}else n(gl())});return()=>s()}catch(s){console.error("Erro ao configurar listener de autenticao:",s),n(gl())}},[]);const i={language:e,setLanguage:async s=>{try{if(!["pt","en","es"].includes(s)){console.error("Idioma invlido:",s);return}n(s);const a=xn.currentUser;if(a)try{const l=st(be,"users",a.uid);await Ii(l,{language:s}),console.log(" Idioma salvo no Firestore:",s)}catch(l){console.error("Erro ao salvar idioma no Firestore:",l)}}catch(a){console.error("Erro ao definir idioma:",a)}},t:pT[e]||pT.pt};return o.jsx(WB.Provider,{value:i,children:t})}function pt(){return E.useContext(WB)}function YR({onNavigate:t}){const{t:e,language:n,setLanguage:r}=pt(),i=()=>{console.log(" Boto de Login clicado no Welcome"),t("login")},s=()=>{console.log(" Boto de Criar Conta clicado no Welcome"),t("signup")},[a,l]=E.useState(!1),c=E.useRef(null);return E.useEffect(()=>{c.current&&c.current.play().then(()=>{l(!0)}).catch(d=>{console.error("Autoplay failed:",d)})},[]),o.jsxs("div",{className:"bg-black text-white overflow-hidden relative w-full h-screen",children:[o.jsx("div",{className:"fixed top-0 left-0 w-full h-full z-0 pointer-events-none bg-black",style:{}}),o.jsx("div",{className:`fixed top-0 left-0 w-full h-full z-0 overflow-hidden transition-opacity duration-1000 ${a?"opacity-100":"opacity-0"}`,children:o.jsx("video",{ref:c,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,"webkit-playsinline":"true",preload:"auto",controls:!1,onPlay:()=>l(!0),className:"w-full h-full object-cover",style:{filter:"brightness(0.6) contrast(1.1)"},children:o.jsx("source",{src:"/assets/videos/entrada.mp4",type:"video/mp4"})})}),o.jsx("div",{className:"fixed top-0 left-0 w-full h-full z-10 pointer-events-none opacity-0 animate-fadeIn",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0) 40%, rgba(0,0,0,0.8) 100%)",animationDelay:"0.2s"}}),o.jsxs("main",{className:"relative z-20 h-screen flex flex-col justify-between px-6 pb-12 pt-20",children:[o.jsxs("div",{className:"flex flex-col items-center text-center pt-[env(safe-area-inset-top)] opacity-0 animate-scaleIn",style:{animationDelay:"0.4s"},children:[o.jsxs("div",{className:"relative inline-block",children:[o.jsx("div",{className:"absolute inset-0 blur-3xl opacity-60",style:{background:"radial-gradient(circle, rgba(0, 212, 255, 0.4) 0%, rgba(123, 47, 247, 0.3) 50%, transparent 70%)"}}),o.jsx("h1",{className:"text-3xl font-bold italic relative nexcoin-logo-text",children:"NexCoin"}),o.jsx("div",{className:"h-[2px] w-24 mx-auto mt-3 rounded-full",style:{background:"linear-gradient(90deg, transparent, #00d4ff, #7b2ff7, transparent)",boxShadow:"0 0 10px rgba(0, 212, 255, 0.8)"}})]}),o.jsx("p",{className:"mt-4 text-white/70 font-medium tracking-wide uppercase text-[10px]",children:e.futureOfFinance})]}),o.jsx("div",{className:"flex-grow"}),o.jsxs("div",{className:"w-full max-w-sm mx-auto flex flex-col gap-3 items-center pb-[env(safe-area-inset-bottom)]",children:[o.jsx("button",{onClick:s,className:"w-full bg-white text-black font-bold py-3.5 px-6 rounded-full shadow-lg active:scale-[0.98] transition-all duration-200 text-base opacity-0 animate-slideUp",style:{animationDelay:"0.6s"},children:e.createAccount}),o.jsx("button",{onClick:i,className:"w-full py-3 text-white font-semibold active:opacity-60 transition-opacity duration-200 text-base bg-white/10 rounded-full opacity-0 animate-slideUp",style:{animationDelay:"0.8s"},children:e.login}),o.jsx("div",{className:"mt-4 flex justify-center opacity-0 animate-fadeIn",style:{animationDelay:"1.2s"},children:o.jsx("div",{className:"flex bg-white/5 backdrop-blur-sm rounded-full p-1 border border-white/10",children:[{code:"pt",label:"BR",flag:""},{code:"en",label:"EN",flag:""},{code:"es",label:"ES",flag:""}].map(d=>o.jsxs("button",{onClick:()=>r(d.code),className:`px-3 py-1.5 rounded-full text-[10px] font-bold transition-all flex items-center gap-1.5 ${n===d.code?"bg-white text-black":"text-white/60 hover:text-white"}`,children:[o.jsx("span",{children:d.flag}),d.label]},d.code))})})]})]})]})}const Nte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KB=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var Pte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ate=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>E.createElement("svg",{ref:c,...Pte,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:KB("lucide",i),...l},[...a.map(([d,f])=>E.createElement(d,f)),...Array.isArray(s)?s:[s]]));const $e=(t,e)=>{const n=E.forwardRef(({className:r,...i},s)=>E.createElement(Ate,{ref:s,iconNode:e,className:KB(`lucide-${Nte(t)}`,r),...i}));return n.displayName=`${t}`,n};const Sv=$e("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const GB=$e("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);const Ite=$e("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);const nP=$e("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const Nv=$e("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const Et=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const jte=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const kte=$e("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const gT=$e("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const rP=$e("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const Om=$e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const fl=$e("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const Rte=$e("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const An=$e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Ml=$e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const iP=$e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const xo=$e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const Ll=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const Dte=$e("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const eb=$e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const XB=$e("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const lp=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const QR=$e("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const vn=$e("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const Ote=$e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const Mte=$e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const YB=$e("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const rf=$e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const nu=$e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const QB=$e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const JR=$e("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const y0=$e("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const Lte=$e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const Vte=$e("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);const v0=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const Fte=$e("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);const Nl=$e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const Bte=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Nf=$e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const zte=$e("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const $te=$e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const Ute=$e("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const qte=$e("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const Hte=$e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const ZR=$e("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const bu=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Wte=$e("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const sP=$e("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const JB=$e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Wl=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Kte=$e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const Gte=$e("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const aP=$e("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const wu=$e("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const Yi=$e("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const eD=$e("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const Kc=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const _u=$e("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Di=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const yT=$e("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const tD=$e("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const oP=$e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const ZB=$e("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);const is=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ez=E.createContext({phoneNumber:"",setPhoneNumber:()=>{}});function tz(){return E.useContext(ez)}function Xte({children:t}){const[e,n]=E.useState(""),r={phoneNumber:e,setPhoneNumber:n};return o.jsx(ez.Provider,{value:r,children:t})}async function nz(t,e,n,r,i,s){try{if(console.log(" Salvando ativo no portfolio:",{userId:t,symbol:e,coinId:n,amount:r,name:i,valueUsd:s}),!t){console.warn(" userId vazio, cancelando salvamento");return}const a=st(be,"users",t,"portfolio",e);await br(a,{symbol:e,coinId:n,amount:r,name:i||e,valueUsd:s||0,updatedAt:new Date},{merge:!0}),console.log(" Ativo salvo no portfolio com sucesso!")}catch(a){throw console.error(" Erro ao salvar ativo no portfolio:",a),a instanceof Error&&(console.error(" Mensagem:",a.message),console.error(" Stack:",a.stack)),a}}async function Yte(t,e){try{console.log(" Removendo ativo do portfolio:",e);const n=st(be,"users",t,"portfolio",e);await yo(n),console.log(" Ativo removido do portfolio com sucesso!")}catch(n){throw console.error(" Erro ao remover ativo do portfolio:",n),n}}async function Qte(t,e,n,r,i,s){for(let c=1;c<=3;c++)try{console.log(` Atualizando saldo (tentativa ${c}/3):`,{symbol:e,deltaAmount:r});const d=st(be,"users",t,"portfolio",e),f=await ns(d);if(f.exists()){const p=(f.data().amount||0)+r;if(p<=0)await yo(d),console.log(" Ativo removido (saldo zerado)");else{const y=s?p*s:0;await Ii(d,{amount:p,valueUsd:y,updatedAt:new Date}),console.log(" Saldo atualizado:",p,"valueUsd:",y)}}else if(r>0){const m=s?r*s:0;await nz(t,e,n,r,i,m),console.log(" Novo ativo criado com saldo:",r)}return}catch(d){if(console.error(` Erro ao atualizar saldo (tentativa ${c}/3):`,d),c===3)throw d;await new Promise(f=>setTimeout(f,500*c))}}async function Jte(t){console.log(" initializeUserPortfolio no  necessrio com a nova estrutura de coleo")}async function Zte(t,e){try{if(!t){console.warn(" userId vazio, cancelando sincronizao");return}if(!e||Object.keys(e).length===0){console.warn(" Preos vazios, cancelando sincronizao");return}console.log(" Sincronizando valores do portfolio com preos atuais...");const n=at(be,"users",t,"portfolio"),r=await It(n);if(r.empty){console.log(" Nenhum ativo encontrado para sincronizar");return}const i=r.docs.map(async s=>{try{const a=s.data(),{coinId:l,amount:c,symbol:d}=a;if(!l||c===void 0){console.warn(` Dados invlidos para ativo ${s.id}:`,{symbol:a.symbol||"N/A",coinId:l||"AUSENTE",amount:c!==void 0?c:"AUSENTE"}),console.warn(" Este documento ser removido no prximo login");return}const f=e[l];if(!f||!f.usd){console.warn(` Preo no encontrado para ${l} (${d||s.id})`);return}const m=c*f.usd,p=st(be,"users",t,"portfolio",s.id);await Ii(p,{valueUsd:m,updatedAt:new Date}),console.log(` Ativo ${s.id} atualizado: ${c} x $${f.usd.toFixed(2)} = $${m.toFixed(2)}`)}catch(a){console.error(` Erro ao atualizar ativo ${s.id}:`,a)}});await Promise.all(i),console.log(" Sincronizao de valores concluda!")}catch(n){console.error(" Erro ao sincronizar valores do portfolio:",n)}}async function ene(t){try{console.log(" Iniciando migrao de wallets para portfolio..."),console.log(" userId:",t);const e=at(be,"users",t,"wallets"),n=await It(e);if(n.empty){console.log(" Nenhuma wallet encontrada para migrar");return}console.log(` Total de wallets encontradas: ${n.size}`);let r=0,i=0;for(const s of n.docs)try{const a=s.data();if(console.log(` Verificando wallet: ${s.id}`,a),!a.symbol||!a.coinId||a.amount===void 0){console.warn(` Wallet ${s.id} possui dados invlidos, pulando...`,{symbol:a.symbol,coinId:a.coinId,amount:a.amount}),i++;continue}const l=st(be,"users",t,"portfolio",s.id);await br(l,{symbol:a.symbol,coinId:a.coinId,amount:a.amount,name:a.name||a.symbol,valueUsd:a.valueUsd||0,createdAt:a.createdAt||new Date,updatedAt:new Date},{merge:!1}),console.log(` Wallet ${s.id} migrada para portfolio`),r++}catch(a){console.error(` Erro ao migrar wallet ${s.id}:`,a),i++}console.log(" Migrao concluda!"),console.log(` Resumo: ${r} migradas, ${i} erros`)}catch(e){throw console.error(" Erro na migrao:",e),e}}async function tne(t){try{const e=at(be,"users",t,"wallets"),n=await It(e),r=!n.empty;return r&&console.log(` Usurio ${t} possui ${n.size} wallets que precisam ser migradas`),r}catch(e){return console.error(" Erro ao verificar necessidade de migrao:",e),!1}}async function nne(t){try{await tne(t)?(console.log(" Migrao automtica necessria..."),await ene(t),console.log(" Migrao automtica concluda!")):console.log(" Nenhuma migrao necessria"),await rne(t)}catch(e){console.error(" Erro na migrao automtica:",e)}}async function rne(t){try{console.log(" Verificando documentos invlidos no portfolio...");const e=at(be,"users",t,"portfolio"),n=await It(e);if(n.empty){console.log(" Portfolio vazio, nada a limpar");return}let r=0,i=0;for(const s of n.docs){const a=s.data();if(s.id==="holdings"&&Array.isArray(a.holdings)){console.log(' Encontrado documento "holdings" com estrutura antiga (array)'),console.log(" Migrando",a.holdings.length,"holdings para documentos separados...");try{for(const l of a.holdings)if(l.symbol&&l.coinId&&l.amount!==void 0){const c=st(be,"users",t,"portfolio",l.symbol);await br(c,{symbol:l.symbol,coinId:l.coinId,amount:l.amount,name:l.name||l.symbol,valueUsd:0,createdAt:new Date,updatedAt:new Date},{merge:!0}),console.log(` Holding ${l.symbol} migrado para documento separado`),i++}else console.warn(" Holding invlido no array:",l);await yo(s.ref),console.log(' Documento "holdings" antigo deletado aps migrao'),r++}catch(l){console.error(' Erro ao migrar documento "holdings":',l)}continue}if(!a.symbol||!a.coinId||a.amount===void 0){console.warn(` Deletando documento invlido: ${s.id}`,a);try{await yo(s.ref),r++,console.log(` Documento ${s.id} deletado`)}catch(l){console.error(` Erro ao deletar documento ${s.id}:`,l)}}}i>0&&console.log(` ${i} holding(s) migrado(s) de estrutura antiga para nova`),r>0&&console.log(` ${r} documento(s) invlido(s) removido(s) do portfolio`),i===0&&r===0&&console.log(" Nenhum documento invlido encontrado")}catch(e){console.error(" Erro ao limpar documentos invlidos:",e)}}const Bt=t=>Array.from({length:t},()=>Math.floor(Math.random()*10)).join(""),ine=()=>{const t=Bt(8),e=Math.floor(Math.random()*10);return`${t}-${e}`},xs=(t,e,n)=>{const r=Bt(2);return`${t}${r}${e}${n}`},sne={BR:{bankCode:"336",branchCode:"0001",swift:"NEXCBRBR"},US:{routingNumber:"021000021",swift:"NEXCUSNY"},PT:{bankCode:"0035",swift:"NEXCPTPL"},ES:{bankCode:"2100",swift:"NEXCESMM"},FR:{bankCode:"30004",branchCode:"00001",swift:"NEXCFRPP"},DE:{bankCode:"10050000",swift:"NEXCDEFF"},IT:{bankCode:"05034",branchCode:"01600",swift:"NEXCITM1"},GB:{sortCode:"60-16-13",swift:"NEXCGB2L"},NL:{bankCode:"NEXC",swift:"NEXCNL2A"},BE:{bankCode:"735",swift:"NEXCBEBB"},CH:{bankCode:"00235",swift:"NEXCCHZZ"},AT:{bankCode:"12000",swift:"NEXCATWW"},CA:{routingNumber:"000010001",swift:"NEXCCATT"},AU:{routingNumber:"062-000",swift:"NEXCAU2S"},MX:{bankCode:"072",swift:"NEXCMXMM"},AR:{bankCode:"336",branchCode:"0001",swift:"NEXCARBA"},CL:{bankCode:"055",swift:"NEXCCLRM"},CO:{bankCode:"0001",swift:"NEXCCOBB"}},rz=(t,e)=>{const n=e?`${e}_${t}_${Date.now()}`:`${t}_${Date.now()}`,r=new Date,i=sne[t],a={BR:{country:"BR",countryName:"Brasil",flagCode:"br",currency:"BRL",accountNumber:ine(),bankCode:i?.bankCode,branchCode:i?.branchCode,bankName:"NexCoin transactions",accountType:"Conta Corrente",swift:i?.swift},US:{country:"US",countryName:"Estados Unidos",flagCode:"us",currency:"USD",accountNumber:Bt(12),routingNumber:i?.routingNumber,bankName:"NexCoin transactions",accountType:"Checking Account",swift:i?.swift},PT:{country:"PT",countryName:"Portugal",flagCode:"pt",currency:"EUR",accountNumber:Bt(11),iban:xs("PT",i?.bankCode||"0000",Bt(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Conta  Ordem",bankCode:i?.bankCode},ES:{country:"ES",countryName:"Espanha",flagCode:"es",currency:"EUR",accountNumber:Bt(10),iban:xs("ES",i?.bankCode||"0000",Bt(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente",bankCode:i?.bankCode},FR:{country:"FR",countryName:"Frana",flagCode:"fr",currency:"EUR",accountNumber:Bt(11),iban:xs("FR",i?.bankCode||"00000",Bt(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Compte Courant",bankCode:i?.bankCode,branchCode:i?.branchCode},DE:{country:"DE",countryName:"Alemanha",flagCode:"de",currency:"EUR",accountNumber:Bt(10),iban:xs("DE",i?.bankCode||"00000000",Bt(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Girokonto",bankCode:i?.bankCode},IT:{country:"IT",countryName:"Itlia",flagCode:"it",currency:"EUR",accountNumber:Bt(12),iban:xs("IT",(i?.bankCode||"00000")+(i?.branchCode||"00000"),Bt(12)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Conto Corrente",bankCode:i?.bankCode,branchCode:i?.branchCode},GB:{country:"GB",countryName:"Reino Unido",flagCode:"gb",currency:"GBP",accountNumber:Bt(8),iban:xs("GB",i?.sortCode?.replace(/-/g,"")||"000000",Bt(8)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Current Account",sortCode:i?.sortCode},NL:{country:"NL",countryName:"Holanda",flagCode:"nl",currency:"EUR",accountNumber:Bt(10),iban:xs("NL",i?.bankCode||"NEXC",Bt(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Betaalrekening",bankCode:i?.bankCode},BE:{country:"BE",countryName:"Blgica",flagCode:"be",currency:"EUR",accountNumber:Bt(12),iban:xs("BE",i?.bankCode||"000",Bt(12)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Compte  Vue",bankCode:i?.bankCode},CH:{country:"CH",countryName:"Sua",flagCode:"ch",currency:"CHF",accountNumber:Bt(9),iban:xs("CH",i?.bankCode||"00000",Bt(9)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Privatkonto",bankCode:i?.bankCode},AT:{country:"AT",countryName:"ustria",flagCode:"at",currency:"EUR",accountNumber:Bt(11),iban:xs("AT",i?.bankCode||"00000",Bt(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Girokonto",bankCode:i?.bankCode},CA:{country:"CA",countryName:"Canad",flagCode:"ca",currency:"CAD",accountNumber:Bt(12),routingNumber:i?.routingNumber,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Chequing Account"},AU:{country:"AU",countryName:"Austrlia",flagCode:"au",currency:"AUD",accountNumber:Bt(9),routingNumber:i?.routingNumber,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Transaction Account"},MX:{country:"MX",countryName:"Mxico",flagCode:"mx",currency:"MXN",accountNumber:Bt(18),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta de Cheques"},AR:{country:"AR",countryName:"Argentina",flagCode:"ar",currency:"ARS",accountNumber:Bt(14),bankCode:i?.bankCode,branchCode:i?.branchCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente"},CL:{country:"CL",countryName:"Chile",flagCode:"cl",currency:"CLP",accountNumber:Bt(12),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente"},CO:{country:"CO",countryName:"Colmbia",flagCode:"co",currency:"COP",accountNumber:Bt(11),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta de Ahorros"}}[t]||{country:t,countryName:"Pas",flagCode:t.toLowerCase(),currency:"USD",accountNumber:Bt(10),iban:xs(t,"0000",Bt(10)),swift:`NEXC${t}XX`,bankName:"NexCoin transactions",accountType:"Account"};return{id:n,...a,createdAt:r}},ane=()=>[{code:"BR",name:"Brasil",flag:"br",currency:"BRL"},{code:"US",name:"Estados Unidos",flag:"us",currency:"USD"},{code:"PT",name:"Portugal",flag:"pt",currency:"EUR"},{code:"ES",name:"Espanha",flag:"es",currency:"EUR"},{code:"FR",name:"Frana",flag:"fr",currency:"EUR"},{code:"DE",name:"Alemanha",flag:"de",currency:"EUR"},{code:"IT",name:"Itlia",flag:"it",currency:"EUR"},{code:"GB",name:"Reino Unido",flag:"gb",currency:"GBP"},{code:"NL",name:"Holanda",flag:"nl",currency:"EUR"},{code:"BE",name:"Blgica",flag:"be",currency:"EUR"},{code:"CH",name:"Sua",flag:"ch",currency:"CHF"},{code:"AT",name:"ustria",flag:"at",currency:"EUR"},{code:"CA",name:"Canad",flag:"ca",currency:"CAD"},{code:"AU",name:"Austrlia",flag:"au",currency:"AUD"},{code:"MX",name:"Mxico",flag:"mx",currency:"MXN"},{code:"AR",name:"Argentina",flag:"ar",currency:"ARS"},{code:"CL",name:"Chile",flag:"cl",currency:"CLP"},{code:"CO",name:"Colmbia",flag:"co",currency:"COP"}];function iz(t){if(!t)return"";let e=t.trim();if(e.startsWith("+55"))e=e.substring(3);else if(e.startsWith("55")){const r=e.replace(/\D/g,"");(r.length===13||r.length===14)&&(e=e.substring(2))}const n=e.replace(/\D/g,"");return n.length!==10&&n.length!==11&&console.warn(` Telefone com formato invlido para PIX: ${t} (${n.length} dgitos)`),n}const sz=E.createContext({user:null,userData:null,loading:!0,isAuthenticated:!1,isPinVerified:!1,auth:xn,signUp:async()=>{},signIn:async()=>{},signInWithPhoneAndPin:async()=>{},signInWithGoogle:async()=>{},logout:async()=>{},verifyPin:async()=>!1,setPinVerified:()=>{},checkIfUserHasPin:async()=>!1,checkPhoneExists:async()=>!1,reloadUserData:async()=>{},updateLanguage:async()=>{},updateVisibleCards:async()=>{},dismissAlert:async()=>{},syncPixKeys:async()=>{}});function Ot(){return E.useContext(sz)}function one({children:t}){const[e,n]=E.useState(null),[r,i]=E.useState(null),[s,a]=E.useState(!0),[l,c]=E.useState(!1),d=E.useRef(""),f=E.useRef(""),m="nexcoin_pin_verified",p=J=>{c(J),J&&e?.uid?(localStorage.setItem(m,e.uid),console.log(" Estado de PIN verificado salvo no localStorage")):(localStorage.removeItem(m),console.log(" Estado de PIN verificado removido do localStorage"))},y=J=>{const G=localStorage.getItem(m)===J;return console.log(" Verificando PIN do localStorage:",G?"Verificado":"No verificado"),G},x=J=>{const V=J.replace(/\D/g,"");return J.startsWith("+")?`+${V}`:`+${V}`},b=(J,V)=>`${J}_${V}_NexCoin2024!`,_=async J=>{try{const V=st(be,"users",J),G=await ns(V);if(G.exists()){const q=G.data();return q.userId=q.uid,q.trackLocationEnabled===void 0&&(console.log(" Inicializando trackLocationEnabled: false para usurio existente"),await Ii(V,{trackLocationEnabled:!1}),q.trackLocationEnabled=!1),q.requireCameraPermission===void 0&&(console.log(" Inicializando requireCameraPermission: false para usurio existente"),await Ii(V,{requireCameraPermission:!1}),q.requireCameraPermission=!1),i(q),q}return null}catch(V){return console.error("Erro ao carregar dados do usurio:",V),null}},T=async()=>{if(e){const J=await _(e.uid);i(J)}},L=async(J,V,G)=>{try{console.log(" Criando chaves PIX automticas para usurio brasileiro...");const q=at(be,"bankAccounts"),R=Rt(q,Tt("userId","==",J),Tt("currency","==","BRL"),Za(1)),$=await It(R);let K="",Z="";if($.empty){console.log(" Criando conta bancria BRL...");const xe=rz("BR",J);K=(await Ri(q,{...xe,userId:J,isPrimary:!0,createdAt:new Date})).id,Z=xe.accountNumber,console.log(" Conta BRL criada:",K)}else{const xe=$.docs[0];K=xe.id,Z=xe.data().accountNumber,console.log(" Conta BRL encontrada:",K)}const Q=at(be,"pixKeys"),te=Rt(Q,Tt("userId","==",J),Tt("accountId","==",K));if(!(await It(te)).empty){console.log(" Chaves PIX j existem para este usurio");return}await Ri(Q,{userId:J,accountId:K,accountNumber:Z,currency:"BRL",country:"BR",keyType:"email",keyValue:V,createdAt:new Date}),console.log(" Chave PIX (email) criada:",V);const re=iz(G);await Ri(Q,{userId:J,accountId:K,accountNumber:Z,currency:"BRL",country:"BR",keyType:"phone",keyValue:re,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",re),console.log(" Chaves PIX automticas criadas com sucesso!")}catch(q){console.error(" Erro ao criar chaves PIX automticas:",q)}},M=async(J,V,G)=>{try{console.log(" Sincronizando chaves PIX com novos dados do perfil...");const q=at(be,"pixKeys"),R=Rt(q,Tt("userId","==",J)),$=await It(R);if($.empty){console.log(" Nenhuma chave PIX encontrada para sincronizar");return}const K=[];$.forEach(Z=>{const Q=Z.data(),te=st(be,"pixKeys",Z.id);Q.keyType==="email"&&V&&(console.log(" Atualizando chave PIX de email:",V),K.push(Ii(te,{keyValue:V}))),Q.keyType==="phone"&&G&&(console.log(" Atualizando chave PIX de telefone:",G),K.push(Ii(te,{keyValue:G})))}),await Promise.all(K),console.log(" Chaves PIX sincronizadas com sucesso!")}catch(q){console.error(" Erro ao sincronizar chaves PIX:",q)}},z=async(J,V,G,q,R,$)=>{try{const K=x(q),Z=at(be,"users"),Q=Rt(Z,Tt("phone","==",K),Za(1));if(!(await It(Q)).empty)throw new Error("Este nmero de telefone j est cadastrado");const ae=b(K,$),xe=(await bZ(xn,J,ae)).user,se=st(be,"users",xe.uid),he={uid:xe.uid,email:xe.email||J,name:G,phone:K,country:R,accountPin:$,createdAt:new Date,aprovado:"no",hasPaid:!1,trackLocationEnabled:!1,requireCameraPermission:!1};await br(se,he),i(he),await Jte(xe.uid),R==="BR"&&await L(xe.uid,J,K)}catch(K){const Z=K.code;throw Z==="auth/email-already-in-use"?new Error("Este e-mail j est cadastrado. Faa login ou use outro e-mail."):Z==="auth/invalid-email"?new Error("E-mail invlido. Verifique e tente novamente."):Z==="auth/weak-password"?new Error("Senha muito fraca. Use no mnimo 6 caracteres."):Z==="auth/operation-not-allowed"?new Error("Cadastro com e-mail desabilitado. Entre em contato com o suporte."):new Error(K.message||"Erro ao criar conta. Tente novamente.")}},I=async(J,V)=>{try{const G=await kR(xn,J,V),q=await _(G.user.uid);if(q&&q.phone&&q.accountPin)try{const R=x(q.phone),$=b(R,q.accountPin);await AB(G.user,$),console.log(" Senha migrada com sucesso! Agora voc pode fazer login com telefone + PIN.")}catch(R){console.error(" Erro ao migrar senha:",R)}}catch(G){const q=G.code;throw q==="auth/user-not-found"?new Error("E-mail no cadastrado. Crie uma conta primeiro."):q==="auth/wrong-password"?new Error("Senha incorreta. Tente novamente."):q==="auth/invalid-email"?new Error("E-mail invlido. Verifique e tente novamente."):q==="auth/user-disabled"?new Error("Esta conta foi desabilitada. Entre em contato com o suporte."):q==="auth/too-many-requests"?new Error("Muitas tentativas. Aguarde alguns minutos e tente novamente."):new Error("Erro ao fazer login. Verifique suas credenciais.")}},j=async(J,V)=>{try{console.log(" Iniciando login com telefone + PIN..."),console.log(" Telefone recebido (original):",J);const G=x(J);console.log(" Telefone normalizado:",G);const q=at(be,"users");let R=Rt(q,Tt("phone","==",G),Za(1)),$=await It(R);if(console.log(" Busca com telefone normalizado - Encontrado:",!$.empty),$.empty&&(console.log(" No encontrou com telefone normalizado, tentando original..."),R=Rt(q,Tt("phone","==",J),Za(1)),$=await It(R),console.log(" Busca com telefone original - Encontrado:",!$.empty)),$.empty)throw console.error(" Telefone no cadastrado. Tentativas:"),console.error("   - Normalizado:",G),console.error("   - Original:",J),new Error("Nmero de telefone no cadastrado");const Z=$.docs[0].data();if(console.log(" Usurio encontrado:",Z.email),console.log(" Telefone cadastrado:",Z.phone),Z.accountPin!==V)throw console.error(" PIN incorreto"),new Error("PIN incorreto");console.log(" PIN correto! Autenticando no Firebase Auth...");const Q=b(G,V);try{const te=await kR(xn,Z.email,Q);console.log(" Login bem-sucedido!"),await _(te.user.uid),p(!0)}catch(te){if(console.warn(" Falha no login com senha gerada. Cdigo:",te.code),te.code==="auth/invalid-credential"||te.code==="auth/wrong-password"){console.log(" Tentando recuperar acesso para usurio antigo...");try{throw await xZ(xn,Z.email),new Error("Sua conta precisa ser atualizada. Enviamos um e-mail para redefinir sua senha. Aps redefinir, voc poder fazer login com telefone + PIN.")}catch(ae){throw ae.message.includes("Enviamos um e-mail")?ae:(console.error(" Erro ao enviar e-mail de reset:",ae),new Error("Erro ao processar login. Entre em contato com o suporte."))}}else throw te}}catch(G){throw console.error(" Erro no signInWithPhoneAndPin:",G),G.message==="Nmero de telefone no cadastrado"||G.message==="PIN incorreto"||G.message&&G.message.includes("Enviamos um e-mail")?G:G.code==="auth/wrong-password"||G.code==="auth/invalid-credential"?new Error("PIN incorreto"):G.code==="auth/user-not-found"?new Error("Nmero de telefone no cadastrado"):G.code==="auth/too-many-requests"?new Error("Muitas tentativas. Aguarde alguns minutos e tente novamente."):new Error("Erro ao fazer login. Tente novamente.")}},C=async J=>{try{console.log(" ============ CHECK PHONE EXISTS ============"),console.log(" Telefone recebido (original):",J);const V=x(J);console.log(" Telefone normalizado:",V);const G=at(be,"users");console.log(" Buscando com telefone normalizado...");let q=Rt(G,Tt("phone","==",V),Za(1)),R=await It(q);if(console.log(" Resultado busca normalizado:",R.empty?"NO ENCONTRADO ":"ENCONTRADO "),!R.empty){const $=R.docs[0].data();return console.log(" Usurio encontrado:",$.name,"| Email:",$.email),console.log(" =========================================="),!0}if(console.log(" Buscando com telefone original..."),q=Rt(G,Tt("phone","==",J),Za(1)),R=await It(q),console.log(" Resultado busca original:",R.empty?"NO ENCONTRADO ":"ENCONTRADO "),!R.empty){const $=R.docs[0].data();return console.log(" Usurio encontrado:",$.name,"| Email:",$.email),console.log(" =========================================="),!0}return console.error(" ============ TELEFONE NO ENCONTRADO ============"),console.error(" Tentativas:"),console.error("   1. Normalizado:",V),console.error("   2. Original:",J),console.error(" ================================================"),!1}catch(V){if(console.error(" Erro ao verificar telefone:",V),V.code==="permission-denied")throw new Error("FIRESTORE_PERMISSION_DENIED");return!1}},S=async()=>{try{const J=new to,V=await WZ(xn,J);if(!await _(V.user.uid)){const q=st(be,"users",V.user.uid),R={uid:V.user.uid,email:V.user.email||"",name:V.user.displayName||"",phone:"",country:"",accountPin:"",createdAt:new Date,aprovado:"no",hasPaid:!1,trackLocationEnabled:!1,requireCameraPermission:!1};await br(q,R),i(R)}}catch(J){throw console.error("Erro ao fazer login com Google:",J),new Error(J.message||"Erro ao fazer login com Google")}},D=async()=>{try{await SZ(xn),n(null),i(null),p(!1)}catch(J){throw console.error("Erro ao fazer logout:",J),new Error(J.message||"Erro ao fazer logout")}},N=async J=>{if(!r)return!1;const V=r.accountPin===J;return V&&p(!0),V},k=async()=>r?!!r.accountPin&&r.accountPin.length===6:!1;E.useEffect(()=>TZ(xn,async V=>{if(n(V),V){await _(V.uid);try{await nne(V.uid)}catch(q){console.error(" Erro na migrao automtica (no crtico):",q)}const G=y(V.uid);c(G)}else i(null),c(!1);a(!1)}),[]),E.useEffect(()=>{if(!e?.uid)return;console.log(" Iniciando sincronizao em tempo real dos dados do usurio...");const J=st(be,"users",e.uid),V=Fs(J,G=>{if(G.exists()){const q=G.data();console.log(" Dados do usurio atualizados em tempo real:",q.name),i(q)}else console.warn(" Documento do usurio no existe"),i(null)},G=>{console.error(" Erro na sincronizao em tempo real:",G)});return()=>{console.log(" Parando sincronizao em tempo real dos dados do usurio"),V()}},[e?.uid]),E.useEffect(()=>{if(!e?.uid||!r)return;if(r.country!=="BR"){console.log(" Usurio no  brasileiro, pulando criao de chaves PIX");return}(async()=>{try{console.log(" Verificando se chaves PIX existem para o usurio...");const V=at(be,"pixKeys"),G=Rt(V,Tt("userId","==",e.uid),Za(1));(await It(G)).empty?(console.log(" Chaves PIX no encontradas, criando automaticamente..."),await L(e.uid,r.email,r.phone)):console.log(" Chaves PIX j existem para este usurio")}catch(V){console.error(" Erro ao verificar/criar chaves PIX:",V)}})()},[e?.uid,r?.country]);const O=async J=>{if(!r)return;const V=st(be,"users",r.uid),G={...r,preferences:{...r.preferences,dismissedAlerts:[...r.preferences?.dismissedAlerts||[],J]}};await br(V,G),i(G)},A=async J=>{if(!r)return;const V=st(be,"users",r.uid),G={...r,language:J};await br(V,G),i(G)},W=async J=>{if(!r)return;const V=st(be,"users",r.uid),G={...r,preferences:{...r.preferences,visibleCards:J}};await br(V,G),i(G)};E.useEffect(()=>{if(!e?.uid||!r)return;const J=d.current!==r.email,V=f.current!==r.phone;(J||V)&&(console.log(" Detectada mudana no perfil, sincronizando chaves PIX..."),M(e.uid,J?r.email:void 0,V?r.phone:void 0),d.current=r.email,f.current=r.phone)},[r?.email,r?.phone,e?.uid]);const Y={user:e,userData:r,loading:s,isAuthenticated:!!e,isPinVerified:l,auth:xn,signUp:z,signIn:I,signInWithPhoneAndPin:j,signInWithGoogle:S,logout:D,verifyPin:N,setPinVerified:p,checkIfUserHasPin:k,checkPhoneExists:C,reloadUserData:T,updateLanguage:A,updateVisibleCards:W,dismissAlert:O,syncPixKeys:M};return o.jsx(sz.Provider,{value:Y,children:t})}function ru({countryCode:t,size:e="md"}){const n={sm:"w-10 h-10",md:"w-12 h-12",lg:"w-16 h-16"},r={sm:"w-6 h-6",md:"w-7 h-7",lg:"w-9 h-9"},a=`https://flagcdn.com/w80/${{BR:"br",US:"us",PT:"pt",ES:"es",FR:"fr",DE:"de",IT:"it",GB:"gb",NL:"nl",BE:"be",CH:"ch",AT:"at",EU:"eu"}[t]||t.toLowerCase()}.png`;return o.jsxs("div",{className:`${n[e]} rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden`,children:[o.jsx("img",{src:a,alt:`${t} flag`,className:`${r[e]} object-cover rounded-full`,onError:l=>{l.currentTarget.style.display="none",l.currentTarget.nextSibling&&(l.currentTarget.nextSibling.style.display="block")}}),o.jsx("span",{className:"text-sm hidden",children:t})]})}function lne({onNavigate:t}){const{language:e,setLanguage:n,t:r}=pt(),{setPhoneNumber:i}=tz(),{checkPhoneExists:s}=Ot(),[a,l]=E.useState(""),[c,d]=E.useState(!1),[f,m]=E.useState(!1),[p,y]=E.useState(""),[x,b]=E.useState(!1),[_,T]=E.useState({code:"+55",countryCode:"BR",name:"Brasil"}),L=E.useRef(null);E.useEffect(()=>{L.current&&L.current.focus()},[]);const M=[{code:"+55",countryCode:"BR",name:r.countries.BR,mask:"(XX) XXXXX-XXXX",maxLength:15},{code:"+1",countryCode:"US",name:r.countries.US,mask:"(XXX) XXX-XXXX",maxLength:14},{code:"+44",countryCode:"GB",name:r.countries.GB,mask:"XXXX XXX XXXX",maxLength:13},{code:"+33",countryCode:"FR",name:r.countries.FR,mask:"XX XX XX XX XX",maxLength:14},{code:"+49",countryCode:"DE",name:r.countries.DE,mask:"XXX XXXXXXX",maxLength:11},{code:"+39",countryCode:"IT",name:r.countries.IT,mask:"XXX XXX XXXX",maxLength:12},{code:"+34",countryCode:"ES",name:r.countries.ES,mask:"XXX XX XX XX",maxLength:11},{code:"+351",countryCode:"PT",name:r.countries.PT,mask:"XXX XXX XXX",maxLength:11}],z=(D,N)=>{const k=D.replace(/\D/g,"");if(!M.find(A=>A.countryCode===N))return k;switch(N){case"BR":return k.length<=2?k:k.length<=7?`(${k.slice(0,2)}) ${k.slice(2)}`:k.length<=11?`(${k.slice(0,2)}) ${k.slice(2,7)}-${k.slice(7)}`:`(${k.slice(0,2)}) ${k.slice(2,7)}-${k.slice(7,11)}`;case"US":return k.length<=3?k:k.length<=6?`(${k.slice(0,3)}) ${k.slice(3)}`:`(${k.slice(0,3)}) ${k.slice(3,6)}-${k.slice(6,10)}`;case"GB":return k.length<=4?k:k.length<=7?`${k.slice(0,4)} ${k.slice(4)}`:`${k.slice(0,4)} ${k.slice(4,7)} ${k.slice(7,11)}`;case"FR":return k.length<=2?k:k.length<=4?`${k.slice(0,2)} ${k.slice(2)}`:k.length<=6?`${k.slice(0,2)} ${k.slice(2,4)} ${k.slice(4)}`:k.length<=8?`${k.slice(0,2)} ${k.slice(2,4)} ${k.slice(4,6)} ${k.slice(6)}`:`${k.slice(0,2)} ${k.slice(2,4)} ${k.slice(4,6)} ${k.slice(6,8)} ${k.slice(8,10)}`;case"DE":return k.length<=3?k:`${k.slice(0,3)} ${k.slice(3,10)}`;case"IT":return k.length<=3?k:k.length<=6?`${k.slice(0,3)} ${k.slice(3)}`:`${k.slice(0,3)} ${k.slice(3,6)} ${k.slice(6,10)}`;case"ES":return k.length<=3?k:k.length<=5?`${k.slice(0,3)} ${k.slice(3)}`:k.length<=7?`${k.slice(0,3)} ${k.slice(3,5)} ${k.slice(5)}`:`${k.slice(0,3)} ${k.slice(3,5)} ${k.slice(5,7)} ${k.slice(7,9)}`;case"PT":return k.length<=3?k:k.length<=6?`${k.slice(0,3)} ${k.slice(3)}`:`${k.slice(0,3)} ${k.slice(3,6)} ${k.slice(6,9)}`;default:return k}},I=D=>{const N=z(D.target.value,_.countryCode);l(N)},C=(D=>D.replace(/\D/g,"").length>=10)(a),S=async()=>{if(a&&C){const D=`${_.code}${a.replace(/\\D/g,"")}`;i(D),b(!0),y("");try{const N=await s(D);b(!1),N?t("passwordEntry"):y(r.phoneNotFound)}catch{b(!1),y(r.phoneNotFound)}}};return o.jsxs("div",{className:"bg-black text-white p-4 pb-20",children:[c&&o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{d(!1)}}),o.jsx("div",{className:"w-full max-w-md mx-auto pt-2 pb-4",children:o.jsx("button",{onClick:()=>t("welcome"),className:"flex items-center gap-2 text-white transition-opacity active:opacity-60",children:o.jsx(Et,{className:"w-5 h-5"})})}),o.jsxs("main",{className:"w-full max-w-md mx-auto pt-4",children:[o.jsxs("div",{className:"space-y-2 mb-5",children:[o.jsx("h2",{className:"text-2xl tracking-tight text-white",children:r.welcome}),o.jsx("p",{className:"text-slate-400 text-sm",children:r.dontHaveAccount})]}),o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{className:"h-12 flex items-center gap-2 bg-zinc-900 px-3 rounded-xl shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)] transition-colors active:opacity-70",onClick:()=>d(!c),children:[o.jsx(ru,{countryCode:_.countryCode,size:"sm"}),o.jsx("span",{className:"text-sm",children:_.code}),o.jsx(Ml,{className:"w-4 h-4 text-gray-400"})]}),c&&o.jsx("div",{className:"absolute top-full mt-2 left-0 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[200px]",children:M.map(D=>o.jsxs("button",{className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{T(D),l(""),d(!1)},children:[o.jsx(ru,{countryCode:D.countryCode,size:"sm"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm",children:D.name}),o.jsx("div",{className:"text-xs text-gray-400",children:D.code})]})]},D.code))})]}),o.jsx("div",{className:"flex-1",children:o.jsx("input",{ref:L,className:"w-full h-12 bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.phone,type:"tel",value:a,onChange:I,onBlur:()=>m(!0)})})]}),f&&a&&!C&&o.jsx("p",{className:"text-red-500 text-xs -mt-2 mb-3",children:r.invalidPhone}),p&&o.jsx("p",{className:"text-red-500 text-xs -mt-2 mb-3",children:p}),o.jsx("a",{className:"text-blue-500 text-sm mb-5 block transition-opacity active:opacity-60",href:"#",children:r.forgotPassword}),o.jsx("button",{className:`w-full py-3.5 rounded-full mb-5 transition-all duration-300 ${a&&C?"bg-white text-black hover:opacity-90 active:scale-[0.98]":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,disabled:!a||!C,onClick:S,children:x?o.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.928l3-2.647z"})]}):r.continue}),o.jsx("div",{className:"text-center mb-5",children:o.jsx("button",{onClick:()=>t("signup"),className:"w-full bg-zinc-900 text-white py-3.5 rounded-full transition-colors hover:bg-zinc-800 active:scale-[0.98]",children:r.createAccount})})]})]})}const az=E.createContext({signUpData:null,setSignUpData:()=>{},clearSignUpData:()=>{}});function lP(){return E.useContext(az)}function cne({children:t}){const[e,n]=E.useState(null),r=s=>{n(s)},i=()=>{n(null)};return o.jsx(az.Provider,{value:{signUpData:e,setSignUpData:r,clearSignUpData:i},children:t})}const une=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(s,a)=>{n.platforms.set(s,a)},i=s=>{n.platforms.has(s)&&(n.currentPlatform=n.platforms.get(s))};return n.addPlatform=r,n.setPlatform=i,n},dne=t=>t.CapacitorPlatforms=une(t),oz=dne(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});oz.addPlatform;oz.setPlatform;var Pf;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Pf||(Pf={}));class K1 extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const fne=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},hne=t=>{var e,n,r,i,s;const a=t.CapacitorCustomPlatform||null,l=t.Capacitor||{},c=l.Plugins=l.Plugins||{},d=t.CapacitorPlatforms,f=()=>a!==null?a.name:fne(t),m=((e=d?.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||f,p=()=>m()!=="web",y=((n=d?.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||p,x=C=>{const S=z.get(C);return!!(S?.platforms.has(m())||T(C))},b=((r=d?.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||x,_=C=>{var S;return(S=l.PluginHeaders)===null||S===void 0?void 0:S.find(D=>D.name===C)},T=((i=d?.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||_,L=C=>t.console.error(C),M=(C,S,D)=>Promise.reject(`${D} does not have an implementation of "${S}".`),z=new Map,I=(C,S={})=>{const D=z.get(C);if(D)return console.warn(`Capacitor plugin "${C}" already registered. Cannot register plugins twice.`),D.proxy;const N=m(),k=T(C);let O;const A=async()=>(!O&&N in S?O=typeof S[N]=="function"?O=await S[N]():O=S[N]:a!==null&&!O&&"web"in S&&(O=typeof S.web=="function"?O=await S.web():O=S.web),O),W=(R,$)=>{var K,Z;if(k){const Q=k?.methods.find(te=>$===te.name);if(Q)return Q.rtype==="promise"?te=>l.nativePromise(C,$.toString(),te):(te,ae)=>l.nativeCallback(C,$.toString(),te,ae);if(R)return(K=R[$])===null||K===void 0?void 0:K.bind(R)}else{if(R)return(Z=R[$])===null||Z===void 0?void 0:Z.bind(R);throw new K1(`"${C}" plugin is not implemented on ${N}`,Pf.Unimplemented)}},Y=R=>{let $;const K=(...Z)=>{const Q=A().then(te=>{const ae=W(te,R);if(ae){const re=ae(...Z);return $=re?.remove,re}else throw new K1(`"${C}.${R}()" is not implemented on ${N}`,Pf.Unimplemented)});return R==="addListener"&&(Q.remove=async()=>$()),Q};return K.toString=()=>`${R.toString()}() { [capacitor code] }`,Object.defineProperty(K,"name",{value:R,writable:!1,configurable:!1}),K},J=Y("addListener"),V=Y("removeListener"),G=(R,$)=>{const K=J({eventName:R},$),Z=async()=>{const te=await K;V({eventName:R,callbackId:te},$)},Q=new Promise(te=>K.then(()=>te({remove:Z})));return Q.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Z()},Q},q=new Proxy({},{get(R,$){switch($){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return k?G:J;case"removeListener":return V;default:return Y($)}}});return c[C]=q,z.set(C,{name:C,proxy:q,platforms:new Set([...Object.keys(S),...k?[N]:[]])}),q},j=((s=d?.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||I;return l.convertFileSrc||(l.convertFileSrc=C=>C),l.getPlatform=m,l.handleError=L,l.isNativePlatform=y,l.isPluginAvailable=b,l.pluginMethodNoop=M,l.registerPlugin=j,l.Exception=K1,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},mne=t=>t.Capacitor=hne(t),Kl=mne(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Yp=Kl.registerPlugin;Kl.Plugins;class lz{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),r&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Kl.Exception(e,Pf.Unimplemented)}unavailable(e="not available"){return new Kl.Exception(e,Pf.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const nD=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),rD=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class pne extends lz{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=rD(i).trim(),s=rD(s).trim(),n[i]=s}),n}async setCookie(e){try{const n=nD(e.key),r=nD(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${s}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Yp("CapacitorCookies",{web:()=>new pne});const gne=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),yne=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},vne=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[s,a]=i;let l,c;return Array.isArray(a)?(c="",a.forEach(d=>{l=e?encodeURIComponent(d):d,c+=`${s}=${l}&`}),c.slice(0,-1)):(l=e?encodeURIComponent(a):a,c=`${s}=${l}`),`${r}&${c}`},"").substr(1):null,xne=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=yne(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,l]of Object.entries(t.data||{}))s.set(a,l);n.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((l,c)=>{s.append(c,l)});else for(const l of Object.keys(t.data))s.append(l,t.data[l]);n.body=s;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class bne extends lz{async request(e){const n=xne(e,e.webFetchExtra),r=vne(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,s=await fetch(i,n),a=s.headers.get("content-type")||"";let{responseType:l="text"}=s.ok?e:{};a.includes("application/json")&&(l="json");let c,d;switch(l){case"arraybuffer":case"blob":d=await s.blob(),c=await gne(d);break;case"json":c=await s.json();break;default:c=await s.text()}const f={};return s.headers.forEach((m,p)=>{f[p]=m}),{data:c,headers:f,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Yp("CapacitorHttp",{web:()=>new bne});function wne(t){if(!t)return"";const e=new Set(["de","da","do","dos","das","e","em","para","com","sem","of","the","and","in","on","at","to","for","with","del","la","el","los","las","y","en","por","con","le","les","du","des","et","au","aux","di","della","degli","delle"]);return t.toLowerCase().split(" ").map((n,r)=>r===0?n.charAt(0).toUpperCase()+n.slice(1):e.has(n)?n:n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}const G1=Kl.getPlatform()==="web";function _ne({onNavigate:t}){const{signUp:e,signInWithGoogle:n}=Ot(),{setSignUpData:r}=lP(),{language:i,setLanguage:s,t:a}=pt(),[l,c]=E.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[d,f]=E.useState({email:!1,phone:!1,password:!1,confirmPassword:!1,name:!1}),[m,p]=E.useState(!1),[y,x]=E.useState(!1),[b,_]=E.useState(!1),[T,L]=E.useState({code:"+55",countryCode:"BR",name:"Brasil"}),M=[{code:"+55",countryCode:"BR",name:a.countries.BR,mask:"(XX) XXXXX-XXXX",maxLength:15},{code:"+1",countryCode:"US",name:a.countries.US,mask:"(XXX) XXX-XXXX",maxLength:14},{code:"+44",countryCode:"GB",name:a.countries.GB,mask:"XXXX XXX XXXX",maxLength:13},{code:"+33",countryCode:"FR",name:a.countries.FR,mask:"XX XX XX XX XX",maxLength:14},{code:"+49",countryCode:"DE",name:a.countries.DE,mask:"XXX XXXXXXX",maxLength:11},{code:"+39",countryCode:"IT",name:a.countries.IT,mask:"XXX XXX XXXX",maxLength:12},{code:"+34",countryCode:"ES",name:a.countries.ES,mask:"XXX XX XX XX",maxLength:11},{code:"+351",countryCode:"PT",name:a.countries.PT,mask:"XXX XXX XXX",maxLength:11}],z=(G,q)=>{const R=G.replace(/\D/g,"");if(!M.find(K=>K.countryCode===q))return R;switch(q){case"BR":return R.length<=2?R:R.length<=7?`(${R.slice(0,2)}) ${R.slice(2)}`:R.length<=11?`(${R.slice(0,2)}) ${R.slice(2,7)}-${R.slice(7)}`:`(${R.slice(0,2)}) ${R.slice(2,7)}-${R.slice(7,11)}`;case"US":return R.length<=3?R:R.length<=6?`(${R.slice(0,3)}) ${R.slice(3)}`:`(${R.slice(0,3)}) ${R.slice(3,6)}-${R.slice(6,10)}`;case"GB":return R.length<=4?R:R.length<=7?`${R.slice(0,4)} ${R.slice(4)}`:`${R.slice(0,4)} ${R.slice(4,7)} ${R.slice(7,11)}`;case"FR":return R.length<=2?R:R.length<=4?`${R.slice(0,2)} ${R.slice(2)}`:R.length<=6?`${R.slice(0,2)} ${R.slice(2,4)} ${R.slice(4)}`:R.length<=8?`${R.slice(0,2)} ${R.slice(2,4)} ${R.slice(4,6)} ${R.slice(6)}`:`${R.slice(0,2)} ${R.slice(2,4)} ${R.slice(4,6)} ${R.slice(6,8)} ${R.slice(8,10)}`;case"DE":return R.length<=3?R:`${R.slice(0,3)} ${R.slice(3,10)}`;case"IT":return R.length<=3?R:R.length<=6?`${R.slice(0,3)} ${R.slice(3)}`:`${R.slice(0,3)} ${R.slice(3,6)} ${R.slice(6,10)}`;case"ES":return R.length<=3?R:R.length<=5?`${R.slice(0,3)} ${R.slice(3)}`:R.length<=7?`${R.slice(0,3)} ${R.slice(3,5)} ${R.slice(5)}`:`${R.slice(0,3)} ${R.slice(3,5)} ${R.slice(5,7)} ${R.slice(7,9)}`;case"PT":return R.length<=3?R:R.length<=6?`${R.slice(0,3)} ${R.slice(3)}`:`${R.slice(0,3)} ${R.slice(3,6)} ${R.slice(6,9)}`;default:return R}},I=G=>{const q=z(G.target.value,T.countryCode);c({...l,phone:q})},j=G=>{const K=G.target.value.replace(/\s+/g," ").split(" ").slice(0,5).join(" "),Z=K.trim().length>0?wne(K):K;c({...l,name:Z})},C=G=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(G),S=G=>G.replace(/\D/g,"").length>=10,D=G=>{const q=G.length>=8,R=/[A-Z]/.test(G),$=/[!@#$%^&*(),.?":{}|<>]/.test(G);return{hasMinLength:q,hasUpperCase:R,hasSpecialChar:$,isValid:q&&R&&$}},N=G=>{const q=G.trim().split(" ").filter(R=>R.length>0);return q.length>=1&&q.length<=5},k=C(l.email),O=S(l.phone),A=D(l.password),W=N(l.name),Y=l.password===l.confirmPassword&&l.confirmPassword.length>0,J=W&&k&&O&&A.isValid&&Y,V=()=>{if(!J)return;const G=l.phone.replace(/\D/g,""),q=`${T.code}${G}`;r({name:l.name,email:l.email,phone:q,password:l.password,country:""}),t("countrySelection")};return o.jsxs("div",{className:`bg-black text-white p-4 pb-32 ${G1?"min-h-screen flex flex-col items-center pt-20":""}`,children:[b&&o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{_(!1)}}),o.jsxs("div",{className:`w-full max-w-md ${G1?"bg-zinc-900/40 p-8 rounded-[2.5rem] border border-white/5":""}`,children:[o.jsx("div",{className:"w-full mb-6",children:o.jsx("button",{onClick:()=>t("welcome"),className:"flex items-center gap-2 text-white transition-opacity active:opacity-60",children:o.jsx(Et,{className:"w-5 h-5"})})}),o.jsx("main",{className:"w-full",children:o.jsxs("div",{className:"space-y-4",children:[o.jsx("h2",{className:"text-2xl font-bold tracking-tight text-white",children:a.createAccount}),o.jsx("p",{className:"text-slate-400 text-sm mb-5",children:a.dontHaveAccount}),o.jsxs("form",{className:"space-y-3 mb-5",children:[o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.fullName||a.name,type:"text",value:l.name,onChange:j,onBlur:()=>f({...d,name:!0})}),d.name&&l.name&&!W&&o.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:a.invalidName}),o.jsxs("div",{children:[o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.email,type:"email",value:l.email,onChange:G=>c({...l,email:G.target.value}),onBlur:()=>f({...d,email:!0})}),d.email&&l.email&&!k&&o.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:a.invalidEmail})]}),o.jsxs("div",{className:"flex gap-2 relative",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{type:"button",className:"flex items-center gap-2 bg-zinc-900 px-3 py-[13px] rounded-xl shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)] transition-colors active:opacity-70 h-[50px]",onClick:()=>_(!b),children:[o.jsx(ru,{countryCode:T.countryCode,size:"sm"}),o.jsx("span",{className:"font-medium text-sm",children:T.code}),o.jsx(Ml,{className:"w-4 h-4 text-gray-400"})]}),b&&o.jsx("div",{className:"absolute top-full mt-2 left-0 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[200px]",children:M.map(G=>o.jsxs("button",{type:"button",className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{L(G),c({...l,phone:""}),_(!1)},children:[o.jsx(ru,{countryCode:G.countryCode,size:"sm"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-sm",children:G.name}),o.jsx("div",{className:"text-xs text-gray-400",children:G.code})]})]},G.code))})]}),o.jsx("div",{className:"flex-1",children:o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.phone,type:"tel",value:l.phone,onChange:I,onBlur:()=>f({...d,phone:!0})})})]}),d.phone&&l.phone&&!O&&o.jsx("p",{className:"text-xs text-red-500 -mt-2 ml-1",children:a.invalidPhone}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 pr-12 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.password,type:m?"text":"password",value:l.password,onChange:G=>c({...l,password:G.target.value}),onBlur:()=>f({...d,password:!0})}),o.jsx("button",{type:"button",className:"absolute right-4 top-[14px] text-gray-400 hover:text-gray-300 transition-colors cursor-pointer",onMouseDown:G=>{G.preventDefault()},onClick:G=>{G.preventDefault(),G.stopPropagation(),p(!m)},children:m?o.jsx(rf,{className:"w-5 h-5"}):o.jsx(nu,{className:"w-5 h-5"})}),d.password&&l.password&&!A.isValid&&o.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:a.passwordRequirement})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 pr-12 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.confirmPassword,type:y?"text":"password",value:l.confirmPassword,onChange:G=>c({...l,confirmPassword:G.target.value}),onBlur:()=>f({...d,confirmPassword:!0})}),o.jsx("button",{type:"button",className:"absolute right-4 top-[14px] text-gray-400 hover:text-gray-300 transition-colors cursor-pointer",onMouseDown:G=>{G.preventDefault()},onClick:G=>{G.preventDefault(),G.stopPropagation(),x(!y)},children:y?o.jsx(rf,{className:"w-5 h-5"}):o.jsx(nu,{className:"w-5 h-5"})}),d.confirmPassword&&l.confirmPassword&&!Y&&o.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:a.passwordsDontMatch})]}),o.jsx("button",{type:"button",className:`w-full py-3.5 rounded-full font-semibold transition-all duration-300 ${J?"bg-white text-black hover:opacity-90 active:scale-[0.98]":"bg-zinc-800 text-zinc-500 cursor-not-allowed"}`,onClick:V,disabled:!J,children:a.continue})]}),!G1&&o.jsx("div",{className:"text-center pt-2",children:o.jsxs("p",{className:"text-sm text-slate-400",children:[a.alreadyHaveAccount," ",o.jsx("button",{onClick:()=>t("login"),className:"text-blue-500 font-medium hover:underline",children:a.login})]})})]})})]})]})}const Vy=Kl.getPlatform()==="web";function Ene({onNavigate:t}){const{verifyPin:e,setPinVerified:n,signUp:r}=Ot(),{signUpData:i,clearSignUpData:s}=lP(),{t:a}=pt(),[l,c]=E.useState(["","","","","",""]),[d,f]=E.useState(["","","","","",""]),[m,p]=E.useState("create"),[y,x]=E.useState(""),[b,_]=E.useState(!1),[T,L]=E.useState(!1),M=E.useRef([]);E.useEffect(()=>{p(i?"create":"verify")},[i]),E.useEffect(()=>{M.current[0]&&M.current[0].focus()},[m]);const z=(k,O,A=!1)=>{if(O&&!/^\d$/.test(O))return;const W=A?[...d]:[...l];if(W[k]=O,A?f(W):c(W),O&&k<5&&M.current[k+1]?.focus(),W.every(Y=>Y!=="")){const Y=W.join("");if(m==="create")setTimeout(()=>{p("confirm"),x("")},100);else if(m==="confirm"){const J=l.join("");Y===J?j(Y):(x(a.pinsDontMatch||"Passwords don't match"),_(!0),setTimeout(()=>{_(!1),f(["","","","","",""]),M.current[0]?.focus()},500))}else m==="verify"&&(async()=>await e(Y)?(n(!0),t("home")):(x(a.incorrectPassword||"Incorrect PIN"),_(!0),setTimeout(()=>{_(!1),c(["","","","","",""]),M.current[0]?.focus()},500)))()}},I=(k,O,A=!1)=>{if(O.key==="Backspace"){O.preventDefault();const W=A?[...d]:[...l];W[k]===""?k>0&&(W[k-1]="",A?f(W):c(W),M.current[k-1]?.focus()):(W[k]="",A?f(W):c(W))}},j=async k=>{if(i)try{L(!0),x(""),await r(i.email,i.password,i.name,i.phone,i.country,k),s(),n(!0),t("home")}catch(O){x(O.message||"Error creating account"),L(!1)}},C=()=>{m==="confirm"?(p("create"),f(["","","","","",""]),x("")):t("signup")},S=()=>m==="create"?a.choosePin:m==="confirm"?a.confirmPin:a.enterPin||"Enter PIN",D=()=>m==="create"?a.choosePinSubtitle:m==="confirm"?a.confirmPinSubtitle:a.enterPinSubtitle||"Enter your PIN to access your account",N=m==="confirm"?d:l;return o.jsx("div",{className:`min-h-screen bg-black text-white flex flex-col ${Vy?"items-center justify-center p-0":""}`,children:o.jsxs("div",{className:`w-full max-w-md ${Vy?"bg-zinc-900/40 p-10 rounded-[2.5rem] border border-white/5 mx-auto":""}`,children:[o.jsx("header",{className:`${Vy?"mb-8":"px-6 pt-6 pb-4"}`,children:o.jsx("button",{onClick:C,className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(Et,{className:"w-5 h-5"})})}),o.jsxs("div",{className:`flex flex-col items-center justify-center ${Vy?"mb-4":"px-6 -mt-20 flex-1"}`,children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center mb-8 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:o.jsx(Nl,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-3xl font-bold mb-2 text-center",children:S()}),o.jsx("p",{className:"text-sm text-gray-400 mb-12 text-center max-w-xs",children:D()}),o.jsx("div",{className:`flex gap-3 mb-6 ${b?"animate-shake":""}`,children:N.map((k,O)=>o.jsx("input",{ref:A=>M.current[O]=A,type:"password",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:k,onChange:A=>z(O,A.target.value,m==="confirm"),onKeyDown:A=>I(O,A,m==="confirm"),className:"w-12 h-14 sm:w-14 sm:h-16 bg-zinc-900 border-2 border-zinc-800 rounded-2xl text-center text-2xl font-bold text-white focus:border-white focus:outline-none transition-all",style:{caretColor:"transparent"}},`${m}-${O}`))}),y&&o.jsx("p",{className:"text-red-500 text-sm mb-4 text-center animate-fade-in",children:y}),o.jsx("p",{className:"text-xs text-gray-500 text-center max-w-xs",children:m==="verify"?a.enterPinSubtitle:a.choosePinSubtitle})]}),m==="verify"&&o.jsx("footer",{className:"px-6 pb-8",children:o.jsx("button",{onClick:()=>t("login"),className:"w-full text-center text-sm text-gray-400 hover:text-white transition-colors",children:a.forgotPin||"Forgot PIN"})}),o.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
          20%, 40%, 60%, 80% { transform: translateX(10px); }
        }
        .animate-shake {
          animation: shake 0.5s;
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
      `})]})})}const iD=Kl.getPlatform()==="web";function sD({onNavigate:t}){const{signUpData:e,setSignUpData:n}=lP(),{t:r}=pt(),[i,s]=E.useState(null),[a,l]=E.useState(null),[c,d]=E.useState(!1),f=[{id:"BR",name:r.countries.BR,code:"BR",currency:"BRL"},{id:"US",name:r.countries.US,code:"US",currency:"USD"},{id:"PT",name:r.countries.PT,code:"PT",currency:"EUR"},{id:"ES",name:r.countries.ES,code:"ES",currency:"EUR"},{id:"FR",name:r.countries.FR,code:"FR",currency:"EUR"},{id:"DE",name:r.countries.DE,code:"DE",currency:"EUR"},{id:"IT",name:r.countries.IT,code:"IT",currency:"EUR"},{id:"GB",name:r.countries.GB,code:"GB",currency:"EUR"},{id:"NL",name:r.countries.NL,code:"NL",currency:"EUR"},{id:"BE",name:r.countries.BE,code:"BE",currency:"EUR"},{id:"CH",name:r.countries.CH,code:"CH",currency:"EUR"},{id:"AT",name:r.countries.AT,code:"AT",currency:"EUR"}],m=[{id:"BRL",name:r.brazilianReal,symbol:"R$",code:"BR"},{id:"USD",name:r.usDollar,symbol:"$",code:"US"},{id:"EUR",name:r.euro,symbol:"",code:"EU"}],p=f.find(b=>b.id===i),y=(b,_)=>{s(b),l(_),d(!1)},x=()=>{i&&a&&e&&(n({...e,country:i}),t("pinSetup"))};return o.jsx("div",{className:`bg-black text-white min-h-screen flex flex-col p-6 ${iD?"items-center justify-center p-0":""}`,children:o.jsxs("div",{className:`w-full max-w-md ${iD?"bg-zinc-900/40 p-10 rounded-[2.5rem] border border-white/5 mx-auto":""}`,children:[o.jsx("div",{className:"w-full pt-4 pb-8",children:o.jsx("h1",{className:"text-2xl font-bold tracking-tight text-center mb-2",children:"NexCoin"})}),o.jsxs("main",{className:"w-full flex-1 overflow-y-auto hide-scrollbar",children:[o.jsxs("div",{className:"space-y-4 mb-6",children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:r.initialSetup}),o.jsx("p",{className:"text-slate-400 text-sm",children:r.countryCurrencySubtitle})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pas"}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{type:"button",onClick:()=>d(!c),className:"w-full bg-zinc-900 rounded-2xl p-4 flex items-center justify-between hover:bg-zinc-800 transition-all",children:p?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ru,{countryCode:p.code,size:"md"}),o.jsx("div",{className:"text-left",children:o.jsx("div",{className:"font-semibold",children:p.name})})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-400",children:r.fiatAccounts.selectAccount}),o.jsx(Ml,{className:"w-5 h-5 text-gray-400"})]})}),c&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-zinc-900 rounded-2xl border border-zinc-800 max-h-80 overflow-y-auto hide-scrollbar z-50 shadow-xl",children:f.map(b=>o.jsxs("button",{type:"button",onClick:()=>y(b.id,b.currency),className:"w-full p-4 flex items-center gap-3 hover:bg-zinc-800 transition-colors first:rounded-t-2xl last:rounded-b-2xl",children:[o.jsx(ru,{countryCode:b.code,size:"sm"}),o.jsx("div",{className:"text-left flex-1",children:o.jsx("div",{className:"font-semibold",children:b.name})}),i===b.id&&o.jsx("div",{className:"w-5 h-5 rounded-full bg-white flex items-center justify-center",children:o.jsx(An,{className:"w-3 h-3 text-black"})})]},b.id))})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-lg font-semibold",children:r.fiatAccounts.accountType}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:r.fiatAccounts.chooseAccountToTransact}),m.map(b=>o.jsxs("button",{type:"button",onClick:()=>l(b.id),className:`w-full bg-zinc-900 rounded-2xl p-4 flex items-center justify-between transition-all duration-300 ${a===b.id?"ring-1 ring-inset ring-white/60":"hover:bg-zinc-800"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ru,{countryCode:b.code,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold",children:b.name}),o.jsxs("div",{className:"text-sm text-gray-400",children:[b.symbol," ",b.id]})]})]}),a===b.id&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center",children:o.jsx(An,{className:"w-4 h-4 text-black"})})]},b.id))]})]}),o.jsx("button",{type:"button",onClick:x,className:`w-full py-4 rounded-full font-semibold transition-all duration-300 mt-8 ${i&&a?"bg-white text-black hover:opacity-90 active:scale-[0.98]":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,disabled:!i||!a,children:r.continue})]})})}const cz=E.createContext({prices:{},isLoading:!0,lastUpdate:null});function fi(){return E.useContext(cz)}function Cne({children:t}){const[e,n]=E.useState({}),[r,i]=E.useState(!0),[s,a]=E.useState(null),l=["bitcoin","ethereum","tether","binancecoin","solana","ripple","cardano","avalanche-2","dogecoin","polkadot","matic-network","chainlink","uniswap","litecoin","cosmos","stellar","tron","shiba-inu","wrapped-bitcoin","dai","leo-token","usd-coin","the-open-network","ethereum-classic","bitcoin-cash","aptos","arbitrum","optimism","internet-computer","filecoin","near","vechain","algorand","injective-protocol","aave","maker","the-graph","immutable-x","blockstack","hedera-hashgraph","fantom","the-sandbox","decentraland","axie-infinity","tezos","theta-token","eos","monero","flow","chiliz","zcash","thorchain","klay-token","dash","neo","iota","quant-network","elrond-erd-2","pepe","fetch-ai","sui","sei-network"],c=async()=>{try{const f=l.join(","),m=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${f}&vs_currencies=usd&include_24hr_change=true&include_market_cap=true`,{method:"GET",headers:{Accept:"application/json"}});if(!m.ok){d();return}const p=m.headers.get("content-type");if(!p||!p.includes("application/json")){d();return}const y=await m.json();n(y),a(new Date),i(!1)}catch{d()}},d=()=>{n({bitcoin:{usd:87450,usd_24h_change:2.5,usd_market_cap:172e10},ethereum:{usd:2889.03,usd_24h_change:1.8,usd_market_cap:347e9},tether:{usd:1,usd_24h_change:0,usd_market_cap:958e8},binancecoin:{usd:312.45,usd_24h_change:-.8,usd_market_cap:488e8},solana:{usd:98.76,usd_24h_change:5.2,usd_market_cap:428e8},ripple:{usd:.52,usd_24h_change:1.2,usd_market_cap:28e9},"usd-coin":{usd:1,usd_24h_change:.01,usd_market_cap:32e9},cardano:{usd:.45,usd_24h_change:-.5,usd_market_cap:158e8},dogecoin:{usd:.08,usd_24h_change:3.1,usd_market_cap:112e8},tron:{usd:.12,usd_24h_change:.8,usd_market_cap:105e8},"avalanche-2":{usd:36.5,usd_24h_change:2.7,usd_market_cap:135e8},polkadot:{usd:6.85,usd_24h_change:2.3,usd_market_cap:95e8},"matic-network":{usd:.98,usd_24h_change:1.5,usd_market_cap:89e8},chainlink:{usd:14.25,usd_24h_change:3.2,usd_market_cap:78e8},"shiba-inu":{usd:9e-6,usd_24h_change:4.5,usd_market_cap:53e8},litecoin:{usd:78.5,usd_24h_change:-1.2,usd_market_cap:57e8},uniswap:{usd:11.2,usd_24h_change:2.1,usd_market_cap:67e8},stellar:{usd:.11,usd_24h_change:.5,usd_market_cap:32e8},cosmos:{usd:9.45,usd_24h_change:1.8,usd_market_cap:36e8},monero:{usd:165.2,usd_24h_change:-.3,usd_market_cap:3e9},"ethereum-classic":{usd:26.8,usd_24h_change:1.1,usd_market_cap:39e8},"bitcoin-cash":{usd:385,usd_24h_change:-1.5,usd_market_cap:76e8},near:{usd:5.2,usd_24h_change:2.9,usd_market_cap:54e8},algorand:{usd:.35,usd_24h_change:1.3,usd_market_cap:28e8},vechain:{usd:.032,usd_24h_change:.8,usd_market_cap:23e8},fantom:{usd:.68,usd_24h_change:3.5,usd_market_cap:19e8},"the-graph":{usd:.28,usd_24h_change:2.2,usd_market_cap:21e8},filecoin:{usd:5.15,usd_24h_change:-.9,usd_market_cap:25e8},"hedera-hashgraph":{usd:.075,usd_24h_change:1.7,usd_market_cap:24e8},aptos:{usd:8.9,usd_24h_change:4.2,usd_market_cap:35e8},arbitrum:{usd:.82,usd_24h_change:2.8,usd_market_cap:29e8},optimism:{usd:2.15,usd_24h_change:1.9,usd_market_cap:22e8},"render-token":{usd:7.35,usd_24h_change:5.1,usd_market_cap:28e8},"injective-protocol":{usd:22.5,usd_24h_change:3.8,usd_market_cap:21e8},sui:{usd:3.45,usd_24h_change:6.2,usd_market_cap:32e8}}),a(new Date),i(!1)};return E.useEffect(()=>{c();const f=setInterval(c,1e4);return()=>clearInterval(f)},[]),o.jsx(cz.Provider,{value:{prices:e,isLoading:r,lastUpdate:s},children:t})}const uz=E.createContext({portfolio:{totalBalanceUSDT:0,change24h:0,changePercent24h:0,holdings:[],priceHistory:[]},isLoading:!0,refreshHoldings:async()=>{},updateHoldings:async()=>{},addOrUpdateCrypto:async()=>{},removeCrypto:async()=>{},updateBalance:async()=>{}});function Bs(){return E.useContext(uz)}function Tne({children:t}){const{prices:e,isLoading:n}=fi(),{user:r,auth:i}=Ot(),[s,a]=E.useState({totalBalanceUSDT:0,change24h:0,changePercent24h:0,holdings:[],priceHistory:[]}),[l,c]=E.useState(!0),[d,f]=E.useState(!1),[m,p]=E.useState([]);E.useEffect(()=>{if(!r?.uid){c(!1);return}console.log(" Iniciando listener de portfolio para userId:",r.uid);let L=0;const M=3;let z=null,I=null,j=!1;const C=()=>{if(j){console.log(" Configurao de listener j em andamento, ignorando...");return}j=!0,z&&(console.log(" Limpando listener anterior antes de criar novo..."),z(),z=null);const S=at(be,"users",r.uid,"portfolio"),D=Rt(S);z=Fs(D,N=>{console.log(" Snapshot recebido - Total de ativos no portfolio:",N.size),L=0,j=!1;const k=[];N.forEach(O=>{const A=O.data();console.log(" Ativo encontrado:",{id:O.id,data:A}),k.push({symbol:A.symbol,coinId:A.coinId,amount:A.amount,name:A.name,valueUsd:A.valueUsd||0,updatedAt:A.updatedAt?.toDate()})}),console.log(" Total de holdings carregados:",k.length),a(O=>({...O,holdings:k})),c(!1),f(!1)},N=>{console.error(" Erro no listener da coleo portfolio:",N),j=!1,N.code==="permission-denied"?(console.error(" Permisso negada - verificar regras do Firestore"),f(!0),c(!1)):N.code==="unavailable"&&L<M?(L++,console.log(` Tentando reconectar... (tentativa ${L}/${M})`),I&&clearTimeout(I),I=setTimeout(()=>{z&&z(),C()},1e3*L)):c(!1)})};return C(),()=>{console.log(" Cancelando listener da coleo portfolio"),z&&z(),I&&clearTimeout(I)}},[r?.uid]),E.useEffect(()=>{if(n||!e||Object.keys(e).length===0)return;let L=0;s.holdings.forEach(j=>{const C=e[j.coinId]?.usd||0;L+=j.amount*C});let M=0;s.holdings.forEach(j=>{const C=e[j.coinId]?.usd||0,S=e[j.coinId]?.usd_24h_change||0,D=C/(1+S/100);M+=j.amount*D});const z=L-M,I=M!==0?(L-M)/M*100:0;p(j=>[...j,L].slice(-50)),a({totalBalanceUSDT:L,change24h:z,changePercent24h:I,holdings:s.holdings,priceHistory:m}),c(!1)},[e,n,s.holdings]),E.useEffect(()=>{a(L=>({...L,priceHistory:m}))},[m]);const y=async()=>{console.log(" refreshHoldings: listener automtico est ativo")},x=async L=>{console.warn(" updateHoldings est deprecated com a nova estrutura de coleo")},b=async(L,M,z,I)=>{if(!r)return;console.log(" Adicionando/atualizando crypto:",{symbol:L,coinId:M,amount:z,name:I});const j=e[M]?.usd||0,C=z*j;await nz(r.uid,L,M,z,I,C),console.log(" Crypto adicionado, aguardando atualizao do listener")},_=async L=>{r&&await Yte(r.uid,L)},T=async(L,M,z,I)=>{if(!r)return;const j=e[M]?.usd||0;await Qte(r.uid,L,M,z,I,j)};return o.jsx(uz.Provider,{value:{portfolio:s,isLoading:l,refreshHoldings:y,updateHoldings:x,addOrUpdateCrypto:b,removeCrypto:_,updateBalance:T},children:t})}const dz=E.createContext({rates:{},loading:!0});function Sne({children:t}){const[e,n]=E.useState({}),[r,i]=E.useState(!0);return E.useEffect(()=>{(async()=>{try{n({USD:1,BRL:5.2,EUR:.92,GBP:.79}),i(!1)}catch(a){console.error("Erro ao buscar taxas de cmbio:",a),n({USD:1,BRL:5.2,EUR:.92,GBP:.79}),i(!1)}})()},[]),o.jsx(dz.Provider,{value:{rates:e,loading:r},children:t})}function cP(){return E.useContext(dz)}const fz=E.createContext(void 0);function Nne({children:t}){const{userData:e}=Ot(),[n,r]=E.useState(null),[i,s]=E.useState(!0),[a,l]=E.useState(null),[c,d]=E.useState(!1),[f,m]=E.useState(!1),[p,y]=E.useState(!1),[x,b]=E.useState(null),[_,T]=E.useState(!1),[L,M]=E.useState(null),[z,I]=E.useState(null),j=E.useCallback(Y=>{console.log(" [Location] Posio obtida com sucesso:",Y);const J={latitude:Y.coords.latitude,longitude:Y.coords.longitude,accuracy:Y.coords.accuracy,altitude:Y.coords.altitude,altitudeAccuracy:Y.coords.altitudeAccuracy,heading:Y.coords.heading,speed:Y.coords.speed};r({coordinates:J,timestamp:Y.timestamp}),m(!0),s(!1),l(null),S(J.latitude,J.longitude)},[]),C=E.useCallback(Y=>{console.error(" [Location] Erro de geolocalizao:",Y);let J="Erro ao obter localizao";switch(Y.code){case Y.PERMISSION_DENIED:J="Voc bloqueou o acesso  localizao. O NexCoin exige GPS ativo por segurana.",console.error(" [Location] PERMISSO NEGADA"),m(!1);break;case Y.POSITION_UNAVAILABLE:J="Localizao indisponvel. Verifique se o GPS est ativado.",console.error(" [Location] POSIO INDISPONVEL");break;case Y.TIMEOUT:J="Tempo esgotado ao obter localizao. Tente novamente.",console.error(" [Location] TIMEOUT");break;default:J=`Erro desconhecido (cdigo ${Y.code}): ${Y.message}`}l(J),s(!1)},[]),S=async(Y,J)=>{try{console.log(" [Geocoding] Fazendo geocoding reverso...");const V=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Y}&lon=${J}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"NexCoin/1.0"}});if(V.ok){const G=await V.json();console.log(" [Geocoding] Endereo obtido:",G);const q={city:G.address?.city||G.address?.town||G.address?.village||"Desconhecido",state:G.address?.state||"",country:G.address?.country||"",address:G.display_name||""};r(R=>R?{...R,...q}:null),D(Y,J,q)}else D(Y,J)}catch{console.log(" [Geocoding] No foi possvel obter endereo (ambiente restrito)"),D(Y,J)}},D=async(Y,J,V)=>{if(e&&e.trackLocationEnabled!==!0){console.log(" [Location] Envio para Firestore desativado pelo controle remoto (trackLocationEnabled != true)"),T(!1);return}T(!0),I(null);try{const G=xn.currentUser;if(!G){console.log(" [Firestore] Usurio NO autenticado - no salvando localizao"),console.log(" [Firestore] Faa login primeiro para salvar a localizao"),T(!1),I("Usurio no autenticado");return}console.log(" [Firestore]  Usurio autenticado:",G.uid),console.log(" [Firestore] Email:",G.email),console.log(" [Firestore] Salvando em: userLocations/"+G.uid);const q=st(be,"userLocations",G.uid),R={userId:G.uid,userEmail:G.email||"",coordinates:{latitude:Y,longitude:J},timestamp:ks(),updatedAt:ks()};V?(R.city=V.city,R.state=V.state,R.country=V.country,R.address=V.address,console.log(" [Firestore] Com endereo:",V.city)):console.log(" [Firestore] Sem dados de endereo"),console.log(" [Firestore] Dados completos:",R),await br(q,R,{merge:!0}),console.log(" [Firestore]  LOCALIZAO SALVA COM SUCESSO! "),console.log(" [Firestore] Acesse: https://console.firebase.google.com"),console.log(" [Firestore] V em: Firestore Database > userLocations"),T(!1),M(new Date),I(null)}catch(G){console.error(" [Firestore] ERRO ao salvar localizao:",G),console.error(" [Firestore] Detalhes do erro:",JSON.stringify(G,null,2));const q=G instanceof Error&&(G.message.includes("permission-denied")||G.message.includes("Missing or insufficient permissions"));T(!1),q?(I("Firestore permission-denied - Regras precisam ser publicadas"),console.error(" [Firestore] ERRO DE PERMISSO - As regras do Firestore no foram publicadas!"),console.error(" [Firestore] Execute: bash deploy-firestore-rules.sh"),console.error(" [Firestore] Ou publique manualmente em: https://console.firebase.google.com/project/nexcoin-1f42f/firestore/rules")):I("Erro ao salvar localizao no Firestore")}},N=E.useCallback(async()=>{if(!navigator.geolocation){l("Geolocalizao no  suportada pelo seu navegador");return}s(!0),l(null),navigator.geolocation.getCurrentPosition(j,C,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[j,C]),k=E.useCallback(()=>{if(!navigator.geolocation){l("Geolocalizao no  suportada pelo seu navegador");return}if(c){console.log(" [Location] J est monitorando localizao");return}console.log(" [Location] Iniciando monitoramento de localizao..."),s(!0),l(null),d(!0);const Y=navigator.geolocation.watchPosition(j,C,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0});b(Y),console.log(" [Location] Monitoramento iniciado com ID:",Y)},[j,C,c]),O=E.useCallback(()=>{x!==null&&(console.log(" [Location] Parando monitoramento de localizao..."),navigator.geolocation.clearWatch(x),b(null),d(!1),console.log(" [Location] Monitoramento parado"))},[x]),A=E.useCallback(async()=>{try{console.log(" [Camera] Verificando permisso...");const Y=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});console.log(" [Camera] Acesso concedido"),y(!0),Y.getTracks().forEach(J=>J.stop())}catch(Y){console.error(" [Camera] Acesso negado:",Y.name),y(!1)}},[]),W={location:n,isLoading:i,error:a,isWatching:c,hasPermission:f,watchLocation:k,stopWatching:O,getCurrentLocation:N,hasCameraPermission:p,checkCameraPermission:A,isSavingToFirestore:_,lastFirestoreSave:L,firestoreError:z};return Ce.useEffect(()=>{e?.trackLocationEnabled===!0?c||(console.log(" [Location] Ativando GPS via controle remoto (Firebase: true)"),k()):(c&&(console.log(" [Location] Parando rastreamento via controle remoto (Firebase: disabled)"),O()),s(!1)),e&&A()},[e?.trackLocationEnabled,c,k,O,A,e]),o.jsx(fz.Provider,{value:W,children:t})}function hz(){const t=E.useContext(fz);if(t===void 0)throw new Error("useLocation deve ser usado dentro de LocationProvider");return t}async function mz(t,e=200,n=.7){return new Promise((r,i)=>{const s=new FileReader;s.onload=a=>{const l=new Image;l.onload=()=>{let c=l.width,d=l.height;c>d?c>e&&(d=d*e/c,c=e):d>e&&(c=c*e/d,d=e);const f=document.createElement("canvas");f.width=c,f.height=d;const m=f.getContext("2d");if(!m){i(new Error("No foi possvel criar contexto do canvas"));return}m.drawImage(l,0,0,c,d);const p=f.toDataURL("image/jpeg",n),x=p.length*3/4/1024;if(console.log(" Imagem comprimida:"),console.log(`   Original: ${(t.size/1024).toFixed(2)} KB`),console.log(`   Comprimida: ${x.toFixed(2)} KB`),console.log(`   Dimenses: ${c}x${d}`),x>100&&n>.3){console.log(" Imagem ainda muito grande, comprimindo mais..."),mz(t,e*.8,n*.7).then(r).catch(i);return}r(p)},l.onerror=()=>{i(new Error("Erro ao carregar imagem"))},l.src=a.target?.result},s.onerror=()=>{i(new Error("Erro ao ler arquivo"))},s.readAsDataURL(t)})}var tb=bV();const Pne=di(tb);var Ane=t=>{switch(t){case"success":return kne;case"info":return Dne;case"warning":return Rne;case"error":return One;default:return null}},Ine=Array(12).fill(0),jne=({visible:t,className:e})=>Ce.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ce.createElement("div",{className:"sonner-spinner"},Ine.map((n,r)=>Ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),kne=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Rne=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Dne=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),One=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Mne=Ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Lne=()=>{let[t,e]=Ce.useState(document.hidden);return Ce.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},vT=1,Vne=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:vT++,s=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,a=r.then(async c=>{if(s=["resolve",c],Ce.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(Bne(c)&&!c.ok){i=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:d,description:f})}else if(e.success!==void 0){i=!1;let d=typeof e.success=="function"?await e.success(c):e.success,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let d=typeof e.error=="function"?await e.error(c):e.error,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,d)=>a.then(()=>s[0]==="reject"?d(s[1]):c(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=e?.id||vT++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},oi=new Vne,Fne=(t,e)=>{let n=e?.id||vT++;return oi.addToast({title:t,...e,id:n}),n},Bne=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",zne=Fne,$ne=()=>oi.toasts,Une=()=>oi.getActiveToasts(),Ge=Object.assign(zne,{success:oi.success,info:oi.info,warning:oi.warning,error:oi.error,custom:oi.custom,message:oi.message,promise:oi.promise,dismiss:oi.dismiss,loading:oi.loading},{getHistory:$ne,getToasts:Une});function qne(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}qne(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Fy(t){return t.label!==void 0}var Hne=3,Wne="32px",Kne="16px",aD=4e3,Gne=356,Xne=14,Yne=20,Qne=200;function bs(...t){return t.filter(Boolean).join(" ")}function Jne(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Zne=t=>{var e,n,r,i,s,a,l,c,d,f,m;let{invert:p,toast:y,unstyled:x,interacting:b,setHeights:_,visibleToasts:T,heights:L,index:M,toasts:z,expanded:I,removeToast:j,defaultRichColors:C,closeButton:S,style:D,cancelButtonStyle:N,actionButtonStyle:k,className:O="",descriptionClassName:A="",duration:W,position:Y,gap:J,loadingIcon:V,expandByDefault:G,classNames:q,icons:R,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:K}=t,[Z,Q]=Ce.useState(null),[te,ae]=Ce.useState(null),[re,xe]=Ce.useState(!1),[se,he]=Ce.useState(!1),[Te,me]=Ce.useState(!1),[Re,je]=Ce.useState(!1),[et,Qe]=Ce.useState(!1),[We,wt]=Ce.useState(0),[dt,tt]=Ce.useState(0),oe=Ce.useRef(y.duration||W||aD),Ie=Ce.useRef(null),Xe=Ce.useRef(null),gt=M===0,yt=M+1<=T,fe=y.type,He=y.dismissible!==!1,Nt=y.className||"",zt=y.descriptionClassName||"",ft=Ce.useMemo(()=>L.findIndex(nt=>nt.toastId===y.id)||0,[L,y.id]),mn=Ce.useMemo(()=>{var nt;return(nt=y.closeButton)!=null?nt:S},[y.closeButton,S]),Tr=Ce.useMemo(()=>y.duration||W||aD,[y.duration,W]),ur=Ce.useRef(0),pn=Ce.useRef(0),cs=Ce.useRef(0),In=Ce.useRef(null),[zo,Us]=Y.split("-"),Ma=Ce.useMemo(()=>L.reduce((nt,jt,$t)=>$t>=ft?nt:nt+jt.height,0),[L,ft]),Vi=Lne(),us=y.invert||p,Qt=fe==="loading";pn.current=Ce.useMemo(()=>ft*J+Ma,[ft,Ma]),Ce.useEffect(()=>{oe.current=Tr},[Tr]),Ce.useEffect(()=>{xe(!0)},[]),Ce.useEffect(()=>{let nt=Xe.current;if(nt){let jt=nt.getBoundingClientRect().height;return tt(jt),_($t=>[{toastId:y.id,height:jt,position:y.position},...$t]),()=>_($t=>$t.filter(En=>En.toastId!==y.id))}},[_,y.id]),Ce.useLayoutEffect(()=>{if(!re)return;let nt=Xe.current,jt=nt.style.height;nt.style.height="auto";let $t=nt.getBoundingClientRect().height;nt.style.height=jt,tt($t),_(En=>En.find(Sr=>Sr.toastId===y.id)?En.map(Sr=>Sr.toastId===y.id?{...Sr,height:$t}:Sr):[{toastId:y.id,height:$t,position:y.position},...En])},[re,y.title,y.description,_,y.id]);let ei=Ce.useCallback(()=>{he(!0),wt(pn.current),_(nt=>nt.filter(jt=>jt.toastId!==y.id)),setTimeout(()=>{j(y)},Qne)},[y,j,_,pn]);Ce.useEffect(()=>{if(y.promise&&fe==="loading"||y.duration===1/0||y.type==="loading")return;let nt;return I||b||K&&Vi?(()=>{if(cs.current<ur.current){let jt=new Date().getTime()-ur.current;oe.current=oe.current-jt}cs.current=new Date().getTime()})():oe.current!==1/0&&(ur.current=new Date().getTime(),nt=setTimeout(()=>{var jt;(jt=y.onAutoClose)==null||jt.call(y,y),ei()},oe.current)),()=>clearTimeout(nt)},[I,b,y,fe,K,Vi,ei]),Ce.useEffect(()=>{y.delete&&ei()},[ei,y.delete]);function qs(){var nt,jt,$t;return R!=null&&R.loading?Ce.createElement("div",{className:bs(q?.loader,(nt=y?.classNames)==null?void 0:nt.loader,"sonner-loader"),"data-visible":fe==="loading"},R.loading):V?Ce.createElement("div",{className:bs(q?.loader,(jt=y?.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":fe==="loading"},V):Ce.createElement(jne,{className:bs(q?.loader,($t=y?.classNames)==null?void 0:$t.loader),visible:fe==="loading"})}return Ce.createElement("li",{tabIndex:0,ref:Xe,className:bs(O,Nt,q?.toast,(e=y?.classNames)==null?void 0:e.toast,q?.default,q?.[fe],(n=y?.classNames)==null?void 0:n[fe]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:C,"data-styled":!(y.jsx||y.unstyled||x),"data-mounted":re,"data-promise":!!y.promise,"data-swiped":et,"data-removed":se,"data-visible":yt,"data-y-position":zo,"data-x-position":Us,"data-index":M,"data-front":gt,"data-swiping":Te,"data-dismissible":He,"data-type":fe,"data-invert":us,"data-swipe-out":Re,"data-swipe-direction":te,"data-expanded":!!(I||G&&re),style:{"--index":M,"--toasts-before":M,"--z-index":z.length-M,"--offset":`${se?We:pn.current}px`,"--initial-height":G?"auto":`${dt}px`,...D,...y.style},onDragEnd:()=>{me(!1),Q(null),In.current=null},onPointerDown:nt=>{Qt||!He||(Ie.current=new Date,wt(pn.current),nt.target.setPointerCapture(nt.pointerId),nt.target.tagName!=="BUTTON"&&(me(!0),In.current={x:nt.clientX,y:nt.clientY}))},onPointerUp:()=>{var nt,jt,$t,En;if(Re||!He)return;In.current=null;let Sr=Number(((nt=Xe.current)==null?void 0:nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Nr=Number(((jt=Xe.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Pr=new Date().getTime()-(($t=Ie.current)==null?void 0:$t.getTime()),On=Z==="x"?Sr:Nr,gi=Math.abs(On)/Pr;if(Math.abs(On)>=Yne||gi>.11){wt(pn.current),(En=y.onDismiss)==null||En.call(y,y),ae(Z==="x"?Sr>0?"right":"left":Nr>0?"down":"up"),ei(),je(!0),Qe(!1);return}me(!1),Q(null)},onPointerMove:nt=>{var jt,$t,En,Sr;if(!In.current||!He||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;let Nr=nt.clientY-In.current.y,Pr=nt.clientX-In.current.x,On=($t=t.swipeDirections)!=null?$t:Jne(Y);!Z&&(Math.abs(Pr)>1||Math.abs(Nr)>1)&&Q(Math.abs(Pr)>Math.abs(Nr)?"x":"y");let gi={x:0,y:0};Z==="y"?(On.includes("top")||On.includes("bottom"))&&(On.includes("top")&&Nr<0||On.includes("bottom")&&Nr>0)&&(gi.y=Nr):Z==="x"&&(On.includes("left")||On.includes("right"))&&(On.includes("left")&&Pr<0||On.includes("right")&&Pr>0)&&(gi.x=Pr),(Math.abs(gi.x)>0||Math.abs(gi.y)>0)&&Qe(!0),(En=Xe.current)==null||En.style.setProperty("--swipe-amount-x",`${gi.x}px`),(Sr=Xe.current)==null||Sr.style.setProperty("--swipe-amount-y",`${gi.y}px`)}},mn&&!y.jsx?Ce.createElement("button",{"aria-label":$,"data-disabled":Qt,"data-close-button":!0,onClick:Qt||!He?()=>{}:()=>{var nt;ei(),(nt=y.onDismiss)==null||nt.call(y,y)},className:bs(q?.closeButton,(i=y?.classNames)==null?void 0:i.closeButton)},(s=R?.close)!=null?s:Mne):null,y.jsx||E.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:Ce.createElement(Ce.Fragment,null,fe||y.icon||y.promise?Ce.createElement("div",{"data-icon":"",className:bs(q?.icon,(a=y?.classNames)==null?void 0:a.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||qs():null,y.type!=="loading"?y.icon||R?.[fe]||Ane(fe):null):null,Ce.createElement("div",{"data-content":"",className:bs(q?.content,(l=y?.classNames)==null?void 0:l.content)},Ce.createElement("div",{"data-title":"",className:bs(q?.title,(c=y?.classNames)==null?void 0:c.title)},typeof y.title=="function"?y.title():y.title),y.description?Ce.createElement("div",{"data-description":"",className:bs(A,zt,q?.description,(d=y?.classNames)==null?void 0:d.description)},typeof y.description=="function"?y.description():y.description):null),E.isValidElement(y.cancel)?y.cancel:y.cancel&&Fy(y.cancel)?Ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||N,onClick:nt=>{var jt,$t;Fy(y.cancel)&&He&&(($t=(jt=y.cancel).onClick)==null||$t.call(jt,nt),ei())},className:bs(q?.cancelButton,(f=y?.classNames)==null?void 0:f.cancelButton)},y.cancel.label):null,E.isValidElement(y.action)?y.action:y.action&&Fy(y.action)?Ce.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||k,onClick:nt=>{var jt,$t;Fy(y.action)&&(($t=(jt=y.action).onClick)==null||$t.call(jt,nt),!nt.defaultPrevented&&ei())},className:bs(q?.actionButton,(m=y?.classNames)==null?void 0:m.actionButton)},y.action.label):null))};function oD(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function ere(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",l=s?Kne:Wne;function c(d){["top","right","bottom","left"].forEach(f=>{n[`${a}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${a}-${d}`]=l:n[`${a}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}var tre=E.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:l,offset:c,mobileOffset:d,theme:f="light",richColors:m,duration:p,style:y,visibleToasts:x=Hne,toastOptions:b,dir:_=oD(),gap:T=Xne,loadingIcon:L,icons:M,containerAriaLabel:z="Notifications",pauseWhenPageIsHidden:I}=t,[j,C]=Ce.useState([]),S=Ce.useMemo(()=>Array.from(new Set([r].concat(j.filter(K=>K.position).map(K=>K.position)))),[j,r]),[D,N]=Ce.useState([]),[k,O]=Ce.useState(!1),[A,W]=Ce.useState(!1),[Y,J]=Ce.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=Ce.useRef(null),G=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=Ce.useRef(null),R=Ce.useRef(!1),$=Ce.useCallback(K=>{C(Z=>{var Q;return(Q=Z.find(te=>te.id===K.id))!=null&&Q.delete||oi.dismiss(K.id),Z.filter(({id:te})=>te!==K.id)})},[]);return Ce.useEffect(()=>oi.subscribe(K=>{if(K.dismiss){C(Z=>Z.map(Q=>Q.id===K.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{Pne.flushSync(()=>{C(Z=>{let Q=Z.findIndex(te=>te.id===K.id);return Q!==-1?[...Z.slice(0,Q),{...Z[Q],...K},...Z.slice(Q+1)]:[K,...Z]})})})}),[]),Ce.useEffect(()=>{if(f!=="system"){J(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:Z})=>{J(Z?"dark":"light")})}catch{K.addListener(({matches:Q})=>{try{J(Q?"dark":"light")}catch(te){console.error(te)}})}},[f]),Ce.useEffect(()=>{j.length<=1&&O(!1)},[j]),Ce.useEffect(()=>{let K=Z=>{var Q,te;i.every(ae=>Z[ae]||Z.code===ae)&&(O(!0),(Q=V.current)==null||Q.focus()),Z.code==="Escape"&&(document.activeElement===V.current||(te=V.current)!=null&&te.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[i]),Ce.useEffect(()=>{if(V.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,R.current=!1)}},[V.current]),Ce.createElement("section",{ref:e,"aria-label":`${z} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((K,Z)=>{var Q;let[te,ae]=K.split("-");return j.length?Ce.createElement("ol",{key:K,dir:_==="auto"?oD():_,tabIndex:-1,ref:V,className:l,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":te,"data-lifted":k&&j.length>1&&!s,"data-x-position":ae,style:{"--front-toast-height":`${((Q=D[0])==null?void 0:Q.height)||0}px`,"--width":`${Gne}px`,"--gap":`${T}px`,...y,...ere(c,d)},onBlur:re=>{R.current&&!re.currentTarget.contains(re.relatedTarget)&&(R.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||R.current||(R.current=!0,q.current=re.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{A||O(!1)},onDragEnd:()=>O(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},j.filter(re=>!re.position&&Z===0||re.position===K).map((re,xe)=>{var se,he;return Ce.createElement(Zne,{key:re.id,icons:M,index:xe,toast:re,defaultRichColors:m,duration:(se=b?.duration)!=null?se:p,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:n,visibleToasts:x,closeButton:(he=b?.closeButton)!=null?he:a,interacting:A,position:K,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,removeToast:$,toasts:j.filter(Te=>Te.position==re.position),heights:D.filter(Te=>Te.position==re.position),setHeights:N,expandByDefault:s,gap:T,loadingIcon:L,expanded:k,pauseWhenPageIsHidden:I,swipeDirections:t.swipeDirections})})):null}))});const lD={BTC:"https://coin-images.coingecko.com/coins/images/1/large/bitcoin.png",ETH:"https://coin-images.coingecko.com/coins/images/279/large/ethereum.png",USDT:"https://coin-images.coingecko.com/coins/images/325/large/Tether.png",TETHER:"https://coin-images.coingecko.com/coins/images/325/large/Tether.png",BNB:"https://coin-images.coingecko.com/coins/images/825/large/bnb-icon2_2x.png",SOL:"https://coin-images.coingecko.com/coins/images/4128/large/solana.png",XRP:"https://coin-images.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png",ADA:"https://coin-images.coingecko.com/coins/images/975/large/cardano.png",AVAX:"https://coin-images.coingecko.com/coins/images/12559/large/Avalanche_Circle_RedWhite_Trans.png",DOGE:"https://coin-images.coingecko.com/coins/images/5/large/dogecoin.png",DOT:"https://coin-images.coingecko.com/coins/images/12171/large/polkadot.png",MATIC:"https://coin-images.coingecko.com/coins/images/4713/large/matic-token-icon.png",LINK:"https://coin-images.coingecko.com/coins/images/877/large/chainlink-new-logo.png",UNI:"https://coin-images.coingecko.com/coins/images/12504/large/uniswap-uni.png",LTC:"https://coin-images.coingecko.com/coins/images/2/large/litecoin.png",ATOM:"https://coin-images.coingecko.com/coins/images/1481/large/cosmos_hub.png",XLM:"https://coin-images.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png",TRX:"https://coin-images.coingecko.com/coins/images/1094/large/tron-logo.png",SHIB:"https://coin-images.coingecko.com/coins/images/11939/large/shiba.png",WBTC:"https://coin-images.coingecko.com/coins/images/7598/large/wrapped_bitcoin_wbtc.png",DAI:"https://coin-images.coingecko.com/coins/images/9956/large/4943.png",LEO:"https://coin-images.coingecko.com/coins/images/8418/large/leo-token.png",USDC:"https://coin-images.coingecko.com/coins/images/6319/large/USD_Coin_icon.png",TON:"https://coin-images.coingecko.com/coins/images/17980/large/ton_symbol.png",ETC:"https://coin-images.coingecko.com/coins/images/453/large/ethereum-classic-logo.png",BCH:"https://coin-images.coingecko.com/coins/images/780/large/bitcoin-cash-circle.png",APT:"https://coin-images.coingecko.com/coins/images/26455/large/aptos_round.png",ARB:"https://coin-images.coingecko.com/coins/images/16547/large/photo_2023-03-29_21.47.00.jpeg",OP:"https://coin-images.coingecko.com/coins/images/25244/large/Optimism.png",ICP:"https://coin-images.coingecko.com/coins/images/14495/large/Internet_Computer_logo.png",FIL:"https://coin-images.coingecko.com/coins/images/12817/large/filecoin.png",NEAR:"https://coin-images.coingecko.com/coins/images/10365/large/near_icon.png",VET:"https://coin-images.coingecko.com/coins/images/1167/large/VeChain-Logo-768x725.png",ALGO:"https://coin-images.coingecko.com/coins/images/4380/large/download.png",INJ:"https://coin-images.coingecko.com/coins/images/12882/large/Secondary_Symbol.png",AAVE:"https://coin-images.coingecko.com/coins/images/12645/large/AAVE.png",MKR:"https://coin-images.coingecko.com/coins/images/1364/large/Mark_Maker.png",GRT:"https://coin-images.coingecko.com/coins/images/13397/large/Graph_Token.png",IMX:"https://coin-images.coingecko.com/coins/images/17233/large/imx.png",STX:"https://coin-images.coingecko.com/coins/images/2069/large/Stacks_logo_full.png",HBAR:"https://coin-images.coingecko.com/coins/images/3688/large/hbar.png",FTM:"https://coin-images.coingecko.com/coins/images/4001/large/Fantom.png",SAND:"https://coin-images.coingecko.com/coins/images/12129/large/sandbox_logo.jpg",MANA:"https://coin-images.coingecko.com/coins/images/878/large/decentraland-mana.png",AXS:"https://coin-images.coingecko.com/coins/images/13029/large/axie_infinity_logo.png",XTZ:"https://coin-images.coingecko.com/coins/images/976/large/Tezos-logo.png",THETA:"https://coin-images.coingecko.com/coins/images/2538/large/theta-token-logo.png",EOS:"https://coin-images.coingecko.com/coins/images/738/large/eos-eos-logo.png",XMR:"https://coin-images.coingecko.com/coins/images/69/large/monero_logo.png",FLOW:"https://coin-images.coingecko.com/coins/images/13446/large/flow.png",CHZ:"https://coin-images.coingecko.com/coins/images/8834/large/Chiliz.png",ZEC:"https://coin-images.coingecko.com/coins/images/486/large/circle-zcash-color.png",RUNE:"https://coin-images.coingecko.com/coins/images/6595/large/TC-Icon-Round-Dark.png",KLAY:"https://coin-images.coingecko.com/coins/images/9672/large/klaytn.png",DASH:"https://coin-images.coingecko.com/coins/images/19/large/dash-logo.png",NEO:"https://coin-images.coingecko.com/coins/images/480/large/NEO_512_512.png",IOTA:"https://coin-images.coingecko.com/coins/images/692/large/IOTA_Swirl.png",QNT:"https://coin-images.coingecko.com/coins/images/3370/large/5ZOu7brX_400x400.jpg",EGLD:"https://coin-images.coingecko.com/coins/images/12335/large/egld-token-logo.png",PEPE:"https://coin-images.coingecko.com/coins/images/29850/large/pepe-token.jpeg",FET:"https://coin-images.coingecko.com/coins/images/5681/large/Fetch.jpg",SUI:"https://coin-images.coingecko.com/coins/images/26375/large/sui_asset.jpeg",SEI:"https://coin-images.coingecko.com/coins/images/28205/large/sei_icon.jpg",BRL:"https://flagcdn.com/w80/br.png",USD:"https://flagcdn.com/w80/us.png",EUR:"https://flagcdn.com/w80/eu.png",GBP:"https://flagcdn.com/w80/gb.png"},nre={BTC:"#F7931A",ETH:"#627EEA",USDT:"#26A17B",TETHER:"#26A17B",BNB:"#F3BA2F",SOL:"#14F195",XRP:"#23292F",ADA:"#0033AD",AVAX:"#E84142",DOGE:"#C2A633",DOT:"#E6007A",MATIC:"#8247E5",LINK:"#2A5ADA",UNI:"#FF007A",LTC:"#345D9D",ATOM:"#2E3148",XLM:"#14B6E7",TRX:"#EB0029",SHIB:"#FFA409",WBTC:"#F09242",DAI:"#F5AC37",LEO:"#D33C40",USDC:"#2775CA",TON:"#0088CC",ETC:"#328432",BCH:"#8DC351",APT:"#000000",ARB:"#28A0F0",OP:"#FF0420",ICP:"#29ABE2",FIL:"#0090FF",NEAR:"#000000",VET:"#15BDFF",ALGO:"#000000",INJ:"#00F2FE",AAVE:"#B6509E",MKR:"#1AAB9B",GRT:"#6747ED",IMX:"#0B0D23",STX:"#5546FF",HBAR:"#000000",FTM:"#13B5EC",SAND:"#00ADEF",MANA:"#FF2D55",AXS:"#0055D5",XTZ:"#2C7DF7",THETA:"#2AB8E6",EOS:"#000000",XMR:"#FF6600",FLOW:"#00EF8B",CHZ:"#CD0124",ZEC:"#F4B728",RUNE:"#00CCFF",KLAY:"#FF3D00",DASH:"#008CE7",NEO:"#58BF00",IOTA:"#000000",QNT:"#1A1A1A",EGLD:"#000000",PEPE:"#22C55E",FET:"#0714FE",SUI:"#6FBCF0",SEI:"#A91B1B"};function mt({symbol:t,size:e="md"}){const[n,r]=E.useState(!1),i={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12",huge:"w-20 h-20 lg:w-28 lg:h-28"},s=lD[t.toUpperCase()]||lD.BTC,a=nre[t.toUpperCase()]||"#6B7280";return n?o.jsx("div",{className:`${i[e]} rounded-full flex items-center justify-center text-white shadow-md`,style:{backgroundColor:a},children:o.jsx("span",{className:e==="xs"?"text-[8px]":e==="sm"?"text-[10px]":e==="md"?"text-xs":"text-sm",children:t.toUpperCase().slice(0,3)})}):o.jsx("div",{className:`${i[e]} rounded-full overflow-hidden flex items-center justify-center bg-white shadow-md`,children:o.jsx("img",{src:s,alt:`${t} icon`,className:"w-full h-full object-cover",onError:()=>r(!0),crossOrigin:"anonymous",loading:"lazy"})})}function rre({coinId:t,color:e}){const[n,r]=E.useState([]);E.useEffect(()=>{const l=async()=>{try{const d=await fetch(`https://api.coingecko.com/api/v3/coins/${t}/market_chart?vs_currency=usd&days=1&interval=hourly`);if(!d.ok){r(i());return}const f=d.headers.get("content-type");if(!f||!f.includes("application/json")){r(i());return}const m=await d.json();if(m.prices&&m.prices.length>0){const p=m.prices.map(y=>y[1]);r(p)}else r(i())}catch{r(i())}};l();const c=setInterval(l,15e3);return()=>clearInterval(c)},[t]);const i=()=>{const l=[];let c=100;for(let d=0;d<24;d++)c+=(Math.random()-.5)*10,l.push(c);return l},s=()=>{if(n.length===0)return"M0,20 L100,20";const l=Math.min(...n),d=Math.max(...n)-l||1;return`M${n.map((m,p)=>{const y=p/(n.length-1)*100,x=40-(m-l)/d*30-5;return`${y},${x}`}).join(" L")}`},a=()=>{if(n.length===0)return"M0,20 L100,20 L100,40 L0,40 Z";const l=Math.min(...n),d=Math.max(...n)-l||1;return`M${n.map((m,p)=>{const y=p/(n.length-1)*100,x=40-(m-l)/d*30-5;return`${y},${x}`}).join(" L")} L100,40 L0,40 Z`};return o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 40",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:`gradient-${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:e,stopOpacity:"0.3"}),o.jsx("stop",{offset:"100%",stopColor:e,stopOpacity:"0"})]})}),o.jsx("path",{d:a(),fill:`url(#gradient-${t})`}),o.jsx("path",{d:s(),fill:"none",stroke:e,strokeLinecap:"round",strokeWidth:"2"})]})}function pz(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=pz(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=pz(t))&&(r&&(r+=" "),r+=e);return r}var ire=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function uP(t){if(typeof t!="string")return!1;var e=ire;return e.includes(t)}var sre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],are=new Set(sre);function gz(t){return typeof t!="string"?!1:are.has(t)}function yz(t){return typeof t=="string"&&t.startsWith("data-")}function Ls(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(gz(n)||yz(n))&&(e[n]=t[n]);return e}function nb(t){if(t==null)return null;if(E.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ls(e)}return typeof t=="object"&&!Array.isArray(t)?Ls(t):null}function Br(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(gz(n)||yz(n)||uP(n))&&(e[n]=t[n]);return e}function ore(t){return t==null?null:E.isValidElement(t)?Br(t.props):typeof t=="object"&&!Array.isArray(t)?Br(t):null}var lre=["children","width","height","viewBox","className","style","title","desc"];function xT(){return xT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xT.apply(null,arguments)}function cre(t,e){if(t==null)return{};var n,r,i=ure(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ure(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var vz=E.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:c,desc:d}=t,f=cre(t,lre),m=s||{width:r,height:i,x:0,y:0},p=Yt("recharts-surface",a);return E.createElement("svg",xT({},Br(f),{className:p,width:r,height:i,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),E.createElement("title",null,c),E.createElement("desc",null,d),n)}),dre=["children","className"];function bT(){return bT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bT.apply(null,arguments)}function fre(t,e){if(t==null)return{};var n,r,i=hre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function hre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ss=E.forwardRef((t,e)=>{var{children:n,className:r}=t,i=fre(t,dre),s=Yt("recharts-layer",r);return E.createElement("g",bT({className:s},Br(i),{ref:e}),n)}),mre=E.createContext(null);function Zt(t){return function(){return t}}const xz=Math.cos,x0=Math.sin,zs=Math.sqrt,b0=Math.PI,rb=2*b0,wT=Math.PI,_T=2*wT,Mc=1e-6,pre=_T-Mc;function bz(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gre(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return bz;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class yre{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?bz:gre(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,d=i-n,f=a-e,m=l-n,p=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Mc)if(!(Math.abs(m*c-d*f)>Mc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-a,x=i-l,b=c*c+d*d,_=y*y+x*x,T=Math.sqrt(b),L=Math.sqrt(p),M=s*Math.tan((wT-Math.acos((b+p-_)/(2*T*L)))/2),z=M/L,I=M/T;Math.abs(z-1)>Mc&&this._append`L${e+z*f},${n+z*m}`,this._append`A${s},${s},0,0,${+(m*y>f*x)},${this._x1=e+I*c},${this._y1=n+I*d}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,f=n+c,m=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Mc||Math.abs(this._y1-f)>Mc)&&this._append`L${d},${f}`,r&&(p<0&&(p=p%_T+_T),p>pre?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=f}`:p>Mc&&this._append`A${r},${r},0,${+(p>=wT)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function dP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new yre(e)}function fP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function wz(t){this._context=t}wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ib(t){return new wz(t)}function _z(t){return t[0]}function Ez(t){return t[1]}function Cz(t,e){var n=Zt(!0),r=null,i=ib,s=null,a=dP(l);t=typeof t=="function"?t:t===void 0?_z:Zt(t),e=typeof e=="function"?e:e===void 0?Ez:Zt(e);function l(c){var d,f=(c=fP(c)).length,m,p=!1,y;for(r==null&&(s=i(y=a())),d=0;d<=f;++d)!(d<f&&n(m=c[d],d,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(m,d,c),+e(m,d,c));if(y)return s=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Zt(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Zt(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Zt(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function By(t,e,n){var r=null,i=Zt(!0),s=null,a=ib,l=null,c=dP(d);t=typeof t=="function"?t:t===void 0?_z:Zt(+t),e=typeof e=="function"?e:Zt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Ez:Zt(+n);function d(m){var p,y,x,b=(m=fP(m)).length,_,T=!1,L,M=new Array(b),z=new Array(b);for(s==null&&(l=a(L=c())),p=0;p<=b;++p){if(!(p<b&&i(_=m[p],p,m))===T)if(T=!T)y=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=p-1;x>=y;--x)l.point(M[x],z[x]);l.lineEnd(),l.areaEnd()}T&&(M[p]=+t(_,p,m),z[p]=+e(_,p,m),l.point(r?+r(_,p,m):M[p],n?+n(_,p,m):z[p]))}if(L)return l=null,L+""||null}function f(){return Cz().defined(i).curve(a).context(s)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Zt(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Zt(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Zt(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Zt(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Zt(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Zt(+m),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Zt(!!m),d):i},d.curve=function(m){return arguments.length?(a=m,s!=null&&(l=a(s)),d):a},d.context=function(m){return arguments.length?(m==null?s=l=null:l=a(s=m),d):s},d}class Tz{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function vre(t){return new Tz(t,!0)}function xre(t){return new Tz(t,!1)}const hP={draw(t,e){const n=zs(e/b0);t.moveTo(n,0),t.arc(0,0,n,0,rb)}},bre={draw(t,e){const n=zs(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Sz=zs(1/3),wre=Sz*2,_re={draw(t,e){const n=zs(e/wre),r=n*Sz;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Ere={draw(t,e){const n=zs(e),r=-n/2;t.rect(r,r,n,n)}},Cre=.8908130915292852,Nz=x0(b0/10)/x0(7*b0/10),Tre=x0(rb/10)*Nz,Sre=-xz(rb/10)*Nz,Nre={draw(t,e){const n=zs(e*Cre),r=Tre*n,i=Sre*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=rb*s/5,l=xz(a),c=x0(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},X1=zs(3),Pre={draw(t,e){const n=-zs(e/(X1*3));t.moveTo(0,n*2),t.lineTo(-X1*n,-n),t.lineTo(X1*n,-n),t.closePath()}},Ki=-.5,Gi=zs(3)/2,ET=1/zs(12),Are=(ET/2+1)*3,Ire={draw(t,e){const n=zs(e/Are),r=n/2,i=n*ET,s=r,a=n*ET+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(Ki*r-Gi*i,Gi*r+Ki*i),t.lineTo(Ki*s-Gi*a,Gi*s+Ki*a),t.lineTo(Ki*l-Gi*c,Gi*l+Ki*c),t.lineTo(Ki*r+Gi*i,Ki*i-Gi*r),t.lineTo(Ki*s+Gi*a,Ki*a-Gi*s),t.lineTo(Ki*l+Gi*c,Ki*c-Gi*l),t.closePath()}};function jre(t,e){let n=null,r=dP(i);t=typeof t=="function"?t:Zt(t||hP),e=typeof e=="function"?e:Zt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Zt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Zt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function w0(){}function _0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Pz(t){this._context=t}Pz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kre(t){return new Pz(t)}function Az(t){this._context=t}Az.prototype={areaStart:w0,areaEnd:w0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Rre(t){return new Az(t)}function Iz(t){this._context=t}Iz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Dre(t){return new Iz(t)}function jz(t){this._context=t}jz.prototype={areaStart:w0,areaEnd:w0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Ore(t){return new jz(t)}function cD(t){return t<0?-1:1}function uD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(cD(s)+cD(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function dD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Y1(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function E0(t){this._context=t}E0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Y1(this,this._t0,dD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Y1(this,dD(this,n=uD(this,t,e)),n);break;default:Y1(this,this._t0,n=uD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function kz(t){this._context=new Rz(t)}(kz.prototype=Object.create(E0.prototype)).point=function(t,e){E0.prototype.point.call(this,e,t)};function Rz(t){this._context=t}Rz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Mre(t){return new E0(t)}function Lre(t){return new kz(t)}function Dz(t){this._context=t}Dz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=fD(t),i=fD(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function fD(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Vre(t){return new Dz(t)}function sb(t,e){this._context=t,this._t=e}sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Fre(t){return new sb(t,.5)}function Bre(t){return new sb(t,0)}function zre(t){return new sb(t,1)}function Eu(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function CT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function $re(t,e){return t[e]}function Ure(t){const e=[];return e.key=t,e}function qre(){var t=Zt([]),e=CT,n=Eu,r=$re;function i(s){var a=Array.from(t.apply(this,arguments),Ure),l,c=a.length,d=-1,f;for(const m of s)for(l=0,++d;l<c;++l)(a[l][d]=[0,+r(m,a[l].key,d,s)]).data=m;for(l=0,f=fP(e(a));l<c;++l)a[f[l]].index=l;return n(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Zt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Zt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?CT:typeof s=="function"?s:Zt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Eu,i):n},i}function Hre(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Eu(t,e)}}function Wre(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Eu(t,e)}}function Kre(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,c=0,d=0;l<a;++l){for(var f=t[e[l]],m=f[r][1]||0,p=f[r-1][1]||0,y=(m-p)/2,x=0;x<l;++x){var b=t[e[x]],_=b[r][1]||0,T=b[r-1][1]||0;y+=_-T}c+=m,d+=y*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Eu(t,e)}}var Q1={},J1={},hD;function Gre(){return hD||(hD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(J1)),J1}var Z1={},mD;function Oz(){return mD||(mD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Z1)),Z1}var e_={},pD;function mP(){return pD||(pD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(e_)),e_}var t_={},n_={},gD;function Xre(){return gD||(gD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(n_)),n_}var yD;function pP(){return yD||(yD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Xre(),n=mP();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let l=0,c="",d="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),l++);l<a;){const m=i[l];d?m==="\\"&&l+1<a?(l++,c+=i[l]):m===d?d="":c+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,s.push(c),c=""):c+=m:m==="["?(f=!0,c&&(s.push(c),c="")):m==="."?c&&(s.push(c),c=""):c+=m,l++}return c&&s.push(c),s}t.toPath=r})(t_)),t_}var vD;function gP(){return vD||(vD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gre(),n=Oz(),r=mP(),i=pP();function s(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?n.isDeepKey(c)?s(l,i.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const f=l[c];return f===void 0?d:f}default:{if(Array.isArray(c))return a(l,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?d:f}}}function a(l,c,d){if(c.length===0)return d;let f=l;for(let m=0;m<c.length;m++){if(f==null||e.isUnsafeProperty(c[m]))return d;f=f[c[m]]}return f===void 0?d:f}t.get=s})(Q1)),Q1}var r_,xD;function Yre(){return xD||(xD=1,r_=gP().get),r_}var Qre=Yre();const ab=di(Qre);var Jre=4;function Pl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Jre,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Nn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,a)=>{var l=n[a-1];return typeof l=="string"?i+l+s:l!==void 0?i+Pl(l)+s:i+s},"")}var As=t=>t===0?0:t>0?1:-1,Aa=t=>typeof t=="number"&&t!=+t,Cu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ze=t=>(typeof t=="number"||t instanceof Number)&&!Aa(t),Ia=t=>Ze(t)||typeof t=="string",Zre=0,cp=t=>{var e=++Zre;return"".concat(t||"").concat(e)},Gl=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(e)&&typeof e!="string")return r;var s;if(Cu(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Aa(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},Mz=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Bn(t,e,n){return Ze(t)&&Ze(e)?Pl(t+n*(e-t)):e}function Lz(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):ab(r,e))===n)}var ar=t=>t===null||typeof t>"u",Qp=t=>ar(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function ba(t){return t!=null}function Du(){}var eie=["type","size","sizeType"];function TT(){return TT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TT.apply(null,arguments)}function bD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bD(Object(n),!0).forEach(function(r){tie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tie(t,e,n){return(e=nie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nie(t){var e=rie(t,"string");return typeof e=="symbol"?e:e+""}function rie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iie(t,e){if(t==null)return{};var n,r,i=sie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vz={symbolCircle:hP,symbolCross:bre,symbolDiamond:_re,symbolSquare:Ere,symbolStar:Nre,symbolTriangle:Pre,symbolWye:Ire},aie=Math.PI/180,oie=t=>{var e="symbol".concat(Qp(t));return Vz[e]||hP},lie=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*aie;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},cie=(t,e)=>{Vz["symbol".concat(Qp(t))]=e},Fz=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=iie(t,eie),s=wD(wD({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var p=oie(a),y=jre().type(p).size(lie(n,r,a)),x=y();if(x!==null)return x},{className:c,cx:d,cy:f}=s,m=Br(s);return Ze(d)&&Ze(f)&&Ze(n)?E.createElement("path",TT({},m,{className:Yt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};Fz.registerSymbol=cie;var Bz=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,yP=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(E.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{uP(i)&&(r[i]=(s=>n[i](n,s)))}),r},uie=(t,e,n)=>r=>(t(e,n,r),null),die=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];uP(i)&&typeof s=="function"&&(r||(r={}),r[i]=uie(s,e,n))}),r};function _D(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fie(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_D(Object(n),!0).forEach(function(r){hie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_D(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hie(t,e,n){return(e=mie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mie(t){var e=pie(t,"string");return typeof e=="symbol"?e:e+""}function pie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hi(t,e){var n=fie({},t),r=e,i=Object.keys(e),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}var i_={},s_={},ED;function gie(){return ED||(ED=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a,s,n);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(s_)),s_}var a_={},CD;function yie(){return CD||(CD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(a_)),a_}var o_={},TD;function zz(){return TD||(TD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(o_)),o_}var l_={},c_={},u_={},SD;function vie(){return SD||(SD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(u_)),u_}var ND;function vP(){return ND||(ND=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vie();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(c_)),c_}var d_={},PD;function xie(){return PD||(PD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(d_)),d_}var AD;function bie(){return AD||(AD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vP(),n=xie();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(l_)),l_}var f_={},h_={},ID;function wie(){return ID||(ID=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gP();function n(r){return function(i){return e.get(i,r)}}t.property=n})(h_)),h_}var m_={},p_={},g_={},y_={},jD;function $z(){return jD||(jD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(y_)),y_}var v_={},kD;function Uz(){return kD||(kD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(v_)),v_}var x_={},RD;function qz(){return RD||(RD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(x_)),x_}var DD;function _ie(){return DD||(DD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$z(),n=Uz(),r=qz();function i(f,m,p){return typeof p!="function"?i(f,m,()=>{}):s(f,m,function y(x,b,_,T,L,M){const z=p(x,b,_,T,L,M);return z!==void 0?!!z:s(x,b,y,M)},new Map)}function s(f,m,p,y){if(m===f)return!0;switch(typeof m){case"object":return a(f,m,p,y);case"function":return Object.keys(m).length>0?s(f,{...m},p,y):r.isEqualsSameValueZero(f,m);default:return e.isObject(f)?typeof m=="string"?m==="":!0:r.isEqualsSameValueZero(f,m)}}function a(f,m,p,y){if(m==null)return!0;if(Array.isArray(m))return c(f,m,p,y);if(m instanceof Map)return l(f,m,p,y);if(m instanceof Set)return d(f,m,p,y);const x=Object.keys(m);if(f==null||n.isPrimitive(f))return x.length===0;if(x.length===0)return!0;if(y?.has(m))return y.get(m)===f;y?.set(m,f);try{for(let b=0;b<x.length;b++){const _=x[b];if(!n.isPrimitive(f)&&!(_ in f)||m[_]===void 0&&f[_]!==void 0||m[_]===null&&f[_]!==null||!p(f[_],m[_],_,f,m,y))return!1}return!0}finally{y?.delete(m)}}function l(f,m,p,y){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,b]of m.entries()){const _=f.get(x);if(p(_,b,x,f,m,y)===!1)return!1}return!0}function c(f,m,p,y){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let b=0;b<m.length;b++){const _=m[b];let T=!1;for(let L=0;L<f.length;L++){if(x.has(L))continue;const M=f[L];let z=!1;if(p(M,_,b,f,m,y)&&(z=!0),z){x.add(L),T=!0;break}}if(!T)return!1}return!0}function d(f,m,p,y){return m.size===0?!0:f instanceof Set?c([...f],[...m],p,y):!1}t.isMatchWith=i,t.isSetMatch=d})(g_)),g_}var OD;function Hz(){return OD||(OD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_ie();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(p_)),p_}var b_={},w_={},__={},MD;function Eie(){return MD||(MD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(__)),__}var E_={},LD;function xP(){return LD||(LD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(E_)),E_}var C_={},VD;function Wz(){return VD||(VD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",m="[object Function]",p="[object ArrayBuffer]",y="[object Object]",x="[object Error]",b="[object DataView]",_="[object Uint8Array]",T="[object Uint8ClampedArray]",L="[object Uint16Array]",M="[object Uint32Array]",z="[object BigUint64Array]",I="[object Int8Array]",j="[object Int16Array]",C="[object Int32Array]",S="[object BigInt64Array]",D="[object Float32Array]",N="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=p,t.arrayTag=f,t.bigInt64ArrayTag=S,t.bigUint64ArrayTag=z,t.booleanTag=i,t.dataViewTag=b,t.dateTag=l,t.errorTag=x,t.float32ArrayTag=D,t.float64ArrayTag=N,t.functionTag=m,t.int16ArrayTag=j,t.int32ArrayTag=C,t.int8ArrayTag=I,t.mapTag=c,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=L,t.uint32ArrayTag=M,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=T})(C_)),C_}var T_={},FD;function Cie(){return FD||(FD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(T_)),T_}var BD;function Kz(){return BD||(BD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Eie(),n=xP(),r=Wz(),i=Uz(),s=Cie();function a(f,m){return l(f,void 0,f,new Map,m)}function l(f,m,p,y=new Map,x=void 0){const b=x?.(f,m,p,y);if(b!==void 0)return b;if(i.isPrimitive(f))return f;if(y.has(f))return y.get(f);if(Array.isArray(f)){const _=new Array(f.length);y.set(f,_);for(let T=0;T<f.length;T++)_[T]=l(f[T],T,p,y,x);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;y.set(f,_);for(const[T,L]of f)_.set(T,l(L,T,p,y,x));return _}if(f instanceof Set){const _=new Set;y.set(f,_);for(const T of f)_.add(l(T,void 0,p,y,x));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);y.set(f,_);for(let T=0;T<f.length;T++)_[T]=l(f[T],T,p,y,x);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return y.set(f,_),c(_,f,p,y,x),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return y.set(f,_),c(_,f,p,y,x),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return y.set(f,_),c(_,f,p,y,x),_}if(f instanceof Error){const _=new f.constructor;return y.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,c(_,f,p,y,x),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return y.set(f,_),c(_,f,p,y,x),_}if(f instanceof Number){const _=new Number(f.valueOf());return y.set(f,_),c(_,f,p,y,x),_}if(f instanceof String){const _=new String(f.valueOf());return y.set(f,_),c(_,f,p,y,x),_}if(typeof f=="object"&&d(f)){const _=Object.create(Object.getPrototypeOf(f));return y.set(f,_),c(_,f,p,y,x),_}return f}function c(f,m,p=f,y,x){const b=[...Object.keys(m),...e.getSymbols(m)];for(let _=0;_<b.length;_++){const T=b[_],L=Object.getOwnPropertyDescriptor(f,T);(L==null||L.writable)&&(f[T]=l(m[T],T,p,y,x))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=c})(w_)),w_}var zD;function Tie(){return zD||(zD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kz();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(b_)),b_}var $D;function Sie(){return $D||($D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hz(),n=Tie();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(m_)),m_}var S_={},N_={},P_={},UD;function Nie(){return UD||(UD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kz(),n=xP(),r=Wz();function i(s,a){return e.cloneDeepWith(s,(l,c,d,f)=>{const m=a?.(l,c,d,f);if(m!==void 0)return m;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const p={};return f.set(s,p),e.copyProperties(p,s,d,f),p}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new s.constructor(s?.valueOf());return e.copyProperties(p,s),p}case r.argumentsTag:{const p={};return e.copyProperties(p,s),p.length=s.length,p[Symbol.iterator]=s[Symbol.iterator],p}default:return}}})}t.cloneDeepWith=i})(P_)),P_}var qD;function Pie(){return qD||(qD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Nie();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(N_)),N_}var A_={},I_={},HD;function Gz(){return HD||(HD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(I_)),I_}var j_={},WD;function Aie(){return WD||(WD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xP();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(j_)),j_}var KD;function Iie(){return KD||(KD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Oz(),n=Gz(),r=Aie(),i=pP();function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&a?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let d=a;for(let f=0;f<c.length;f++){const m=c[f];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=s})(A_)),A_}var GD;function jie(){return GD||(GD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hz(),n=mP(),r=Pie(),i=gP(),s=Iie();function a(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(d){const f=i.get(d,l);return f===void 0?s.has(d,l):c===void 0?f===void 0:e.isMatch(f,c)}}t.matchesProperty=a})(S_)),S_}var XD;function kie(){return XD||(XD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zz(),n=wie(),r=Sie(),i=jie();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(f_)),f_}var YD;function Rie(){return YD||(YD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gie(),n=yie(),r=zz(),i=bie(),s=kie();function a(l,c=r.identity){return i.isArrayLikeObject(l)?e.uniqBy(Array.from(l),n.ary(s.iteratee(c),1)):[]}t.uniqBy=a})(i_)),i_}var k_,QD;function Die(){return QD||(QD=1,k_=Rie().uniqBy),k_}var Oie=Die();const JD=di(Oie);function Mie(t,e,n){return e===!0?JD(t,n):typeof e=="function"?JD(t,e):t}var R_={exports:{}},D_={},O_={exports:{}},M_={};var ZD;function Lie(){if(ZD)return M_;ZD=1;var t=Jr();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(m,p){var y=p(),x=r({inst:{value:y,getSnapshot:p}}),b=x[0].inst,_=x[1];return s(function(){b.value=y,b.getSnapshot=p,c(b)&&_({inst:b})},[m,y,p]),i(function(){return c(b)&&_({inst:b}),m(function(){c(b)&&_({inst:b})})},[m]),a(y),y}function c(m){var p=m.getSnapshot;m=m.value;try{var y=p();return!n(m,y)}catch{return!0}}function d(m,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return M_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,M_}var eO;function Vie(){return eO||(eO=1,O_.exports=Lie()),O_.exports}var tO;function Fie(){if(tO)return D_;tO=1;var t=Jr(),e=Vie();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return D_.useSyncExternalStoreWithSelector=function(d,f,m,p,y){var x=s(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=l(function(){function T(j){if(!L){if(L=!0,M=j,j=p(j),y!==void 0&&b.hasValue){var C=b.value;if(y(C,j))return z=C}return z=j}if(C=z,r(M,j))return C;var S=p(j);return y!==void 0&&y(C,S)?(M=j,C):(M=j,z=S)}var L=!1,M,z,I=m===void 0?null:m;return[function(){return T(f())},I===null?void 0:function(){return T(I())}]},[f,m,p,y]);var _=i(d,x[0],x[1]);return a(function(){b.hasValue=!0,b.value=_},[_]),c(_),_},D_}var nO;function Bie(){return nO||(nO=1,R_.exports=Fie()),R_.exports}var zie=Bie(),bP=E.createContext(null),$ie=t=>t,Er=()=>{var t=E.useContext(bP);return t?t.store.dispatch:$ie},Pv=()=>{},Uie=()=>Pv,qie=(t,e)=>t===e;function ut(t){var e=E.useContext(bP),n=E.useMemo(()=>e?r=>{if(r!=null)return t(r)}:Pv,[e,t]);return zie.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Uie,e?e.store.getState:Pv,e?e.store.getState:Pv,n,qie)}function Hie(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Wie(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Kie(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var rO=t=>Array.isArray(t)?t:[t];function Gie(t){const e=Array.isArray(t[0])?t[0]:t;return Kie(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function Xie(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var Yie=class{constructor(t){this.value=t}deref(){return this.value}},Qie=typeof WeakRef<"u"?WeakRef:Yie,Jie=0,iO=1;function zy(){return{s:Jie,v:void 0,o:null,p:null}}function Xz(t,e={}){let n=zy();const{resultEqualityCheck:r}=e;let i,s=0;function a(){let l=n;const{length:c}=arguments;for(let m=0,p=c;m<p;m++){const y=arguments[m];if(typeof y=="function"||typeof y=="object"&&y!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const b=x.get(y);b===void 0?(l=zy(),x.set(y,l)):l=b}else{let x=l.p;x===null&&(l.p=x=new Map);const b=x.get(y);b===void 0?(l=zy(),x.set(y,l)):l=b}}const d=l;let f;if(l.s===iO)f=l.v;else if(f=t.apply(null,arguments),s++,r){const m=i?.deref?.()??i;m!=null&&r(m,f)&&(f=m,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new Qie(f):f}return d.s=iO,d.v=f,f}return a.clearCache=()=>{n=zy(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Zie(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,l,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),Hie(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...c},{memoize:m,memoizeOptions:p=[],argsMemoize:y=Xz,argsMemoizeOptions:x=[]}=f,b=rO(p),_=rO(x),T=Gie(i),L=m(function(){return s++,d.apply(null,arguments)},...b),M=y(function(){a++;const I=Xie(T,arguments);return l=L.apply(null,I),l},..._);return Object.assign(M,{resultFunc:d,memoizedResultFunc:L,dependencies:T,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var ye=Zie(Xz),ese=Object.assign((t,e=ye)=>{Wie(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,l,c)=>(a[n[c]]=l,a),{}))},{withTypes:()=>ese}),L_={},V_={},F_={},sO;function tse(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};t.compareValues=n})(F_)),F_}var B_={},z_={},aO;function Yz(){return aO||(aO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(z_)),z_}var oO;function nse(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yz(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(B_)),B_}var lO;function rse(){return lO||(lO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tse(),n=nse(),r=pP();function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const d=(y,x)=>{let b=y;for(let _=0;_<x.length&&b!=null;++_)b=b[x[_]];return b},f=(y,x)=>x==null||y==null?x:typeof y=="object"&&"key"in y?Object.hasOwn(x,y.key)?x[y.key]:d(x,y.path):typeof y=="function"?y(x):Array.isArray(y)?d(x,y):typeof x=="object"?x[y]:x,m=a.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return s.map(y=>({original:y,criteria:m.map(x=>f(x,y))})).slice().sort((y,x)=>{for(let b=0;b<m.length;b++){const _=e.compareValues(y.criteria[b],x.criteria[b],l[b]);if(_!==0)return _}return 0}).map(y=>y.original)}t.orderBy=i})(V_)),V_}var $_={},cO;function ise(){return cO||(cO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(l,c)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&c<s?a(f,c+1):i.push(f)}};return a(n,0),i}t.flatten=e})($_)),$_}var U_={},uO;function Qz(){return uO||(uO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Gz(),n=vP(),r=$z(),i=qz();function s(a,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.isEqualsSameValueZero(c[l],a):!1}t.isIterateeCall=s})(U_)),U_}var dO;function sse(){return dO||(dO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rse(),n=ise(),r=Qz();function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(L_)),L_}var q_,fO;function ase(){return fO||(fO=1,q_=sse().sortBy),q_}var ose=ase();const ob=di(ose);var Jz=t=>t.legend.settings,lse=t=>t.legend.size,cse=t=>t.legend.payload;ye([cse,Jz],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?ob(r,n):r});var $y=1;function use(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=E.useState({height:0,left:0,top:0,width:0}),r=E.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>$y||Math.abs(a.left-e.left)>$y||Math.abs(a.top-e.top)>$y||Math.abs(a.width-e.width)>$y)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function pr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var dse=typeof Symbol=="function"&&Symbol.observable||"@@observable",hO=dse,H_=()=>Math.random().toString(36).substring(7).split("").join("."),fse={INIT:`@@redux/INIT${H_()}`,REPLACE:`@@redux/REPLACE${H_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${H_()}`},C0=fse;function wP(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Zz(t,e,n){if(typeof t!="function")throw new Error(pr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(pr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(pr(1));return n(Zz)(t,e)}let r=t,i=e,s=new Map,a=s,l=0,c=!1;function d(){a===s&&(a=new Map,s.forEach((_,T)=>{a.set(T,_)}))}function f(){if(c)throw new Error(pr(3));return i}function m(_){if(typeof _!="function")throw new Error(pr(4));if(c)throw new Error(pr(5));let T=!0;d();const L=l++;return a.set(L,_),function(){if(T){if(c)throw new Error(pr(6));T=!1,d(),a.delete(L),s=null}}}function p(_){if(!wP(_))throw new Error(pr(7));if(typeof _.type>"u")throw new Error(pr(8));if(typeof _.type!="string")throw new Error(pr(17));if(c)throw new Error(pr(9));try{c=!0,i=r(i,_)}finally{c=!1}return(s=a).forEach(L=>{L()}),_}function y(_){if(typeof _!="function")throw new Error(pr(10));r=_,p({type:C0.REPLACE})}function x(){const _=m;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(pr(11));function L(){const z=T;z.next&&z.next(f())}return L(),{unsubscribe:_(L)}},[hO](){return this}}}return p({type:C0.INIT}),{dispatch:p,subscribe:m,getState:f,replaceReducer:y,[hO]:x}}function hse(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:C0.INIT})>"u")throw new Error(pr(12));if(typeof n(void 0,{type:C0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pr(13))})}function e$(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{hse(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const d={};for(let f=0;f<r.length;f++){const m=r[f],p=n[m],y=a[m],x=p(y,l);if(typeof x>"u")throw l&&l.type,new Error(pr(14));d[m]=x,c=c||x!==y}return c=c||r.length!==Object.keys(a).length,c?d:a}}function T0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function mse(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(pr(15))};const a={getState:i.getState,dispatch:(c,...d)=>s(c,...d)},l=t.map(c=>c(a));return s=T0(...l)(i.dispatch),{...i,dispatch:s}}}function t$(t){return wP(t)&&"type"in t&&typeof t.type=="string"}var n$=Symbol.for("immer-nothing"),mO=Symbol.for("immer-draftable"),Qr=Symbol.for("immer-state");function Cs(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ji=Object,Af=ji.getPrototypeOf,S0="constructor",lb="prototype",ST="configurable",N0="enumerable",Av="writable",up="value",bo=t=>!!t&&!!t[Qr];function Vs(t){return t?r$(t)||ub(t)||!!t[mO]||!!t[S0]?.[mO]||db(t)||fb(t):!1}var pse=ji[lb][S0].toString(),pO=new WeakMap;function r$(t){if(!t||!_P(t))return!1;const e=Af(t);if(e===null||e===ji[lb])return!0;const n=ji.hasOwnProperty.call(e,S0)&&e[S0];if(n===Object)return!0;if(!Bd(n))return!1;let r=pO.get(n);return r===void 0&&(r=Function.toString.call(n),pO.set(n,r)),r===pse}function cb(t,e,n=!0){Jp(t)===0?(n?Reflect.ownKeys(t):ji.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Jp(t){const e=t[Qr];return e?e.type_:ub(t)?1:db(t)?2:fb(t)?3:0}var gO=(t,e,n=Jp(t))=>n===2?t.has(e):ji[lb].hasOwnProperty.call(t,e),NT=(t,e,n=Jp(t))=>n===2?t.get(e):t[e],P0=(t,e,n,r=Jp(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function gse(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var ub=Array.isArray,db=t=>t instanceof Map,fb=t=>t instanceof Set,_P=t=>typeof t=="object",Bd=t=>typeof t=="function",W_=t=>typeof t=="boolean";function yse(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var eo=t=>t.copy_||t.base_,EP=t=>t.modified_?t.copy_:t.base_;function PT(t,e){if(db(t))return new Map(t);if(fb(t))return new Set(t);if(ub(t))return Array[lb].slice.call(t);const n=r$(t);if(e===!0||e==="class_only"&&!n){const r=ji.getOwnPropertyDescriptors(t);delete r[Qr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l[Av]===!1&&(l[Av]=!0,l[ST]=!0),(l.get||l.set)&&(r[a]={[ST]:!0,[Av]:!0,[N0]:l[N0],[up]:t[a]})}return ji.create(Af(t),r)}else{const r=Af(t);if(r!==null&&n)return{...t};const i=ji.create(r);return ji.assign(i,t)}}function CP(t,e=!1){return hb(t)||bo(t)||!Vs(t)||(Jp(t)>1&&ji.defineProperties(t,{set:Uy,add:Uy,clear:Uy,delete:Uy}),ji.freeze(t),e&&cb(t,(n,r)=>{CP(r,!0)},!1)),t}function vse(){Cs(2)}var Uy={[up]:vse};function hb(t){return t===null||!_P(t)?!0:ji.isFrozen(t)}var A0="MapSet",AT="Patches",yO="ArrayMethods",i$={};function Tu(t){const e=i$[t];return e||Cs(0,t),e}var vO=t=>!!i$[t],dp,s$=()=>dp,xse=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:vO(A0)?Tu(A0):void 0,arrayMethodsPlugin_:vO(yO)?Tu(yO):void 0});function xO(t,e){e&&(t.patchPlugin_=Tu(AT),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function IT(t){jT(t),t.drafts_.forEach(bse),t.drafts_=null}function jT(t){t===dp&&(dp=t.parent_)}var bO=t=>dp=xse(dp,t);function bse(t){const e=t[Qr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function wO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Qr].modified_&&(IT(e),Cs(4)),Vs(t)&&(t=_O(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Qr].base_,t,e)}else t=_O(e,n);return wse(e,t,!0),IT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==n$?t:void 0}function _O(t,e){if(hb(e))return e;const n=e[Qr];if(!n)return I0(e,t.handledSet_,t);if(!mb(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);l$(n,t)}return n.copy_}function wse(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&CP(e,n)}function a$(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var mb=(t,e)=>t.scope_===e,_se=[];function o$(t,e,n,r){const i=eo(t),s=t.type_;if(r!==void 0&&NT(i,r,s)===e){P0(i,r,n,s);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;cb(i,(c,d)=>{if(bo(d)){const f=l.get(d)||[];f.push(c),l.set(d,f)}})}const a=t.draftLocations_.get(e)??_se;for(const l of a)P0(i,l,n,s)}function Ese(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!mb(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const a=EP(s);o$(t,s.draft_??s,a,n),l$(s,i)})}function l$(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}a$(t)}}function Cse(t,e,n){const{scope_:r}=t;if(bo(n)){const i=n[Qr];mb(i,r)&&i.callbacks_.push(function(){Iv(t);const a=EP(i);o$(t,n,a,e)})}else Vs(n)&&t.callbacks_.push(function(){const s=eo(t);t.type_===3?s.has(n)&&I0(n,r.handledSet_,r):NT(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&I0(NT(t.copy_,e,t.type_),r.handledSet_,r)})}function I0(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||bo(t)||e.has(t)||!Vs(t)||hb(t)||(e.add(t),cb(t,(r,i)=>{if(bo(i)){const s=i[Qr];if(mb(s,n)){const a=EP(s);P0(t,r,a,t.type_),a$(s)}}else Vs(i)&&I0(i,e,n)})),t}function Tse(t,e){const n=ub(t),r={type_:n?1:0,scope_:e?e.scope_:s$(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=j0;n&&(i=[r],s=fp);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,[l,r]}var j0={get(t,e){if(e===Qr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=eo(t);if(!gO(i,e,t.type_))return Sse(t,i,e);const s=i[e];if(t.finalized_||!Vs(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&yse(e))return s;if(s===K_(t.base_,e)){Iv(t);const a=t.type_===1?+e:e,l=RT(t.scope_,s,t,a);return t.copy_[a]=l}return s},has(t,e){return e in eo(t)},ownKeys(t){return Reflect.ownKeys(eo(t))},set(t,e,n){const r=c$(eo(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=K_(eo(t),e),s=i?.[Qr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(gse(n,i)&&(n!==void 0||gO(t.base_,e,t.type_)))return!0;Iv(t),kT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Cse(t,e,n)),!0},deleteProperty(t,e){return Iv(t),K_(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),kT(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=eo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Av]:!0,[ST]:t.type_!==1||e!=="length",[N0]:r[N0],[up]:n[e]}},defineProperty(){Cs(11)},getPrototypeOf(t){return Af(t.base_)},setPrototypeOf(){Cs(12)}},fp={};for(let t in j0){let e=j0[t];fp[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}fp.deleteProperty=function(t,e){return fp.set.call(this,t,e,void 0)};fp.set=function(t,e,n){return j0.set.call(this,t[0],e,n,t[0])};function K_(t,e){const n=t[Qr];return(n?eo(n):t)[e]}function Sse(t,e,n){const r=c$(e,n);return r?up in r?r[up]:r.get?.call(t.draft_):void 0}function c$(t,e){if(!(e in t))return;let n=Af(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Af(n)}}function kT(t){t.modified_||(t.modified_=!0,t.parent_&&kT(t.parent_))}function Iv(t){t.copy_||(t.assigned_=new Map,t.copy_=PT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Nse=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Bd(n)&&!Bd(r)){const a=r;r=n;const l=this;return function(d=a,...f){return l.produce(d,m=>r.call(this,m,...f))}}Bd(r)||Cs(6),i!==void 0&&!Bd(i)&&Cs(7);let s;if(Vs(n)){const a=bO(this),l=RT(a,n,void 0);let c=!0;try{s=r(l),c=!1}finally{c?IT(a):jT(a)}return xO(a,i),wO(s,a)}else if(!n||!_P(n)){if(s=r(n),s===void 0&&(s=n),s===n$&&(s=void 0),this.autoFreeze_&&CP(s,!0),i){const a=[],l=[];Tu(AT).generateReplacementPatches_(n,s,{patches_:a,inversePatches_:l}),i(a,l)}return s}else Cs(1,n)},this.produceWithPatches=(n,r)=>{if(Bd(n))return(l,...c)=>this.produceWithPatches(l,d=>n(d,...c));let i,s;return[this.produce(n,r,(l,c)=>{i=l,s=c}),i,s]},W_(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),W_(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),W_(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Vs(e)||Cs(8),bo(e)&&(e=Ds(e));const n=bO(this),r=RT(n,e,void 0);return r[Qr].isManual_=!0,jT(n),r}finishDraft(e,n){const r=e&&e[Qr];(!r||!r.isManual_)&&Cs(9);const{scope_:i}=r;return xO(i,n),wO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Tu(AT).applyPatches_;return bo(e)?i(e,n):this.produce(e,s=>i(s,n))}};function RT(t,e,n,r){const[i,s]=db(e)?Tu(A0).proxyMap_(e,n):fb(e)?Tu(A0).proxySet_(e,n):Tse(e,n);return(n?.scope_??s$()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?Ese(n,s,r):s.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:d}=c;s.modified_&&d&&d.generatePatches_(s,[],c)}),i}function Ds(t){return bo(t)||Cs(10,t),u$(t)}function u$(t){if(!Vs(t)||hb(t))return t;const e=t[Qr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=PT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=PT(t,!0);return cb(n,(i,s)=>{P0(n,i,u$(s))},r),e&&(e.finalized_=!1),n}var Pse=new Nse,d$=Pse.produce;function f$(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Ase=f$(),Ise=f$,jse=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?T0:T0.apply(null,arguments)};function as(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Oi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>t$(r)&&r.type===t,n}var h$=class bm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,bm.prototype)}static get[Symbol.species](){return bm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new bm(...e[0].concat(this)):new bm(...e.concat(this))}};function EO(t){return Vs(t)?d$(t,()=>{}):t}function qy(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function kse(t){return typeof t=="boolean"}var Rse=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new h$;return n&&(kse(n)?a.push(Ase):a.push(Ise(n.extraArgument))),a},m$="RTK_autoBatch",cn=()=>t=>({payload:t,meta:{[m$]:!0}}),CO=t=>e=>{setTimeout(e,t)},p$=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:CO(10):t.type==="callback"?t.queueNotification:CO(t.timeout),d=()=>{a=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const m=()=>i&&f(),p=r.subscribe(m);return l.add(f),()=>{p(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[m$],s=!i,s&&(a||(a=!0,c(d))),r.dispatch(f)}finally{i=!0}}})},Dse=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new h$(t);return r&&i.push(p$(typeof r=="object"?r:void 0)),i};function Ose(t){const e=Rse(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(wP(n))l=e$(n);else throw new Error(Oi(1));let c;typeof r=="function"?c=r(e):c=e();let d=T0;i&&(d=jse({trace:!1,...typeof i=="object"&&i}));const f=mse(...c),m=Dse(f);let p=typeof a=="function"?a(m):m();const y=d(...p);return Zz(l,s,y)}function g$(t){const e={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Oi(28));if(l in e)throw new Error(Oi(29));return e[l]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function Mse(t){return typeof t=="function"}function Lse(t,e){let[n,r,i]=g$(e),s;if(Mse(t))s=()=>EO(t());else{const l=EO(t);s=()=>l}function a(l=s(),c){let d=[n[c.type],...r.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,m)=>{if(m)if(bo(f)){const y=m(f,c);return y===void 0?f:y}else{if(Vs(f))return d$(f,p=>m(p,c));{const p=m(f,c);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},l)}return a.getInitialState=s,a}var Vse="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Fse=(t=21)=>{let e="",n=t;for(;n--;)e+=Vse[Math.random()*64|0];return e},Bse=Symbol.for("rtk-slice-createasyncthunk");function zse(t,e){return`${t}/${e}`}function $se({creators:t}={}){const e=t?.asyncThunk?.[Bse];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Oi(11));const a=(typeof r.reducers=="function"?r.reducers(qse()):r.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(M,z){const I=typeof M=="string"?M:M.type;if(!I)throw new Error(Oi(12));if(I in c.sliceCaseReducersByType)throw new Error(Oi(13));return c.sliceCaseReducersByType[I]=z,d},addMatcher(M,z){return c.sliceMatchers.push({matcher:M,reducer:z}),d},exposeAction(M,z){return c.actionCreators[M]=z,d},exposeCaseReducer(M,z){return c.sliceCaseReducersByName[M]=z,d}};l.forEach(M=>{const z=a[M],I={reducerName:M,type:zse(i,M),createNotation:typeof r.reducers=="function"};Wse(z)?Gse(I,z,d,e):Hse(I,z,d)});function f(){const[M={},z=[],I=void 0]=typeof r.extraReducers=="function"?g$(r.extraReducers):[r.extraReducers],j={...M,...c.sliceCaseReducersByType};return Lse(r.initialState,C=>{for(let S in j)C.addCase(S,j[S]);for(let S of c.sliceMatchers)C.addMatcher(S.matcher,S.reducer);for(let S of z)C.addMatcher(S.matcher,S.reducer);I&&C.addDefaultCase(I)})}const m=M=>M,p=new Map,y=new WeakMap;let x;function b(M,z){return x||(x=f()),x(M,z)}function _(){return x||(x=f()),x.getInitialState()}function T(M,z=!1){function I(C){let S=C[M];return typeof S>"u"&&z&&(S=qy(y,I,_)),S}function j(C=m){const S=qy(p,z,()=>new WeakMap);return qy(S,C,()=>{const D={};for(const[N,k]of Object.entries(r.selectors??{}))D[N]=Use(k,C,()=>qy(y,C,_),z);return D})}return{reducerPath:M,getSelectors:j,get selectors(){return j(I)},selectSlice:I}}const L={name:i,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:_,...T(s),injectInto(M,{reducerPath:z,...I}={}){const j=z??s;return M.inject({reducerPath:j,reducer:b},I),{...L,...T(j,!0)}}};return L}}function Use(t,e,n,r){function i(s,...a){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var mi=$se();function qse(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Hse({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!Kse(r))throw new Error(Oi(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?as(t,a):as(t))}function Wse(t){return t._reducerDefinitionType==="asyncThunk"}function Kse(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Gse({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Oi(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:d,options:f}=n,m=i(t,s,f);r.exposeAction(e,m),a&&r.addCase(m.fulfilled,a),l&&r.addCase(m.pending,l),c&&r.addCase(m.rejected,c),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:a||Hy,pending:l||Hy,rejected:c||Hy,settled:d||Hy})}function Hy(){}var Xse="task",y$="listener",v$="completed",TP="cancelled",Yse=`task-${TP}`,Qse=`task-${v$}`,DT=`${y$}-${TP}`,Jse=`${y$}-${v$}`,pb=class{constructor(t){this.code=t,this.message=`${Xse} ${TP} (reason: ${t})`}name="TaskAbortError";message},SP=(t,e)=>{if(typeof t!="function")throw new TypeError(Oi(32))},k0=()=>{},x$=(t,e=k0)=>(t.catch(e),t),b$=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),iu=t=>{if(t.aborted)throw new pb(t.reason)};function w$(t,e){let n=k0;return new Promise((r,i)=>{const s=()=>i(new pb(t.reason));if(t.aborted){s();return}n=b$(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=k0})}var Zse=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof pb?"cancelled":"rejected",error:n}}finally{e?.()}},R0=t=>e=>x$(w$(t,e).then(n=>(iu(t),n))),_$=t=>{const e=R0(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:sf}=Object,TO={},gb="listenerMiddleware",eae=(t,e)=>{const n=r=>b$(t,()=>r.abort(t.reason));return(r,i)=>{SP(r);const s=new AbortController;n(s);const a=Zse(async()=>{iu(t),iu(s.signal);const l=await r({pause:R0(s.signal),delay:_$(s.signal),signal:s.signal});return iu(s.signal),l},()=>s.abort(Qse));return i?.autoJoin&&e.push(a.catch(k0)),{result:R0(t)(a),cancel(){s.abort(Yse)}}}},tae=(t,e)=>{const n=async(r,i)=>{iu(e);let s=()=>{};const l=[new Promise((c,d)=>{let f=t({predicate:r,effect:(m,p)=>{p.unsubscribe(),c([m,p.getState(),p.getOriginalState()])}});s=()=>{f(),d()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await w$(e,Promise.race(l));return iu(e),c}finally{s()}};return(r,i)=>x$(n(r,i))},E$=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=as(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Oi(21));return SP(s),{predicate:i,type:e,effect:s}},C$=sf(t=>{const{type:e,predicate:n,effect:r}=E$(t);return{id:Fse(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Oi(22))}}},{withTypes:()=>C$}),SO=(t,e)=>{const{type:n,effect:r,predicate:i}=E$(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},OT=t=>{t.pending.forEach(e=>{e.abort(DT)})},nae=(t,e)=>()=>{for(const n of e.keys())OT(n);t.clear()},NO=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},T$=sf(as(`${gb}/add`),{withTypes:()=>T$}),rae=as(`${gb}/removeAll`),S$=sf(as(`${gb}/remove`),{withTypes:()=>S$}),iae=(...t)=>{console.error(`${gb}/error`,...t)},Zp=(t={})=>{const e=new Map,n=new Map,r=y=>{const x=n.get(y)??0;n.set(y,x+1)},i=y=>{const x=n.get(y)??1;x===1?n.delete(y):n.set(y,x-1)},{extra:s,onError:a=iae}=t;SP(a);const l=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),x=>{y.unsubscribe(),x?.cancelActive&&OT(y)}),c=y=>{const x=SO(e,y)??C$(y);return l(x)};sf(c,{withTypes:()=>c});const d=y=>{const x=SO(e,y);return x&&(x.unsubscribe(),y.cancelActive&&OT(x)),!!x};sf(d,{withTypes:()=>d});const f=async(y,x,b,_)=>{const T=new AbortController,L=tae(c,T.signal),M=[];try{y.pending.add(T),r(y),await Promise.resolve(y.effect(x,sf({},b,{getOriginalState:_,condition:(z,I)=>L(z,I).then(Boolean),take:L,delay:_$(T.signal),pause:R0(T.signal),extra:s,signal:T.signal,fork:eae(T.signal,M),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((z,I,j)=>{z!==T&&(z.abort(DT),j.delete(z))})},cancel:()=>{T.abort(DT),y.pending.delete(T)},throwIfCancelled:()=>{iu(T.signal)}})))}catch(z){z instanceof pb||NO(a,z,{raisedBy:"effect"})}finally{await Promise.all(M),T.abort(Jse),i(y),y.pending.delete(T)}},m=nae(e,n);return{middleware:y=>x=>b=>{if(!t$(b))return x(b);if(T$.match(b))return c(b.payload);if(rae.match(b)){m();return}if(S$.match(b))return d(b.payload);let _=y.getState();const T=()=>{if(_===TO)throw new Error(Oi(23));return _};let L;try{if(L=x(b),e.size>0){const M=y.getState(),z=Array.from(e.values());for(const I of z){let j=!1;try{j=I.predicate(b,M,_)}catch(C){j=!1,NO(a,C,{raisedBy:"predicate"})}j&&f(I,b,y,T)}}}finally{_=TO}return L},startListening:c,stopListening:d,clearListeners:m}};function Oi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var sae={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},N$=mi({name:"chartLayout",initialState:sae,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:aae,setLayout:oae,setChartSize:lae,setScale:cae}=N$.actions,uae=N$.reducer;function P$(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Lt(t){return Number.isFinite(t)}function Xl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){dae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dae(t,e,n){return(e=fae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kn(t,e,n){return ar(t)||ar(e)?n:Ia(e)?ab(t,e,n):typeof e=="function"?e(t):n}var mae=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&Ze(t[s]))return Ud(Ud({},t),{},{[s]:t[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&Ze(t[a]))return Ud(Ud({},t),{},{[a]:t[a]+(i||0)})}return t},$s=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",pae=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0,l=0;l<n;++l){var c=t[l],d=c?.[i];if(d!=null){var f=d[1],m=d[0],p=Aa(f)?m:f;p>=0?(d[0]=s,s+=p,d[1]=s):(d[0]=a,a+=p,d[1]=a)}}}},gae=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0;a<n;++a){var l=t[a],c=l?.[i];if(c!=null){var d=Aa(c[1])?c[0]:c[1];d>=0?(c[0]=s,s+=d,c[1]=s):(c[0]=0,c[1]=0)}}}},yae={sign:pae,expand:Hre,none:Eu,silhouette:Wre,wiggle:Kre,positive:gae},vae=(t,e,n)=>{var r,i=(r=yae[n])!==null&&r!==void 0?r:Eu,s=qre().keys(e).value((l,c)=>Number(Kn(l,c,0))).order(CT).offset(i),a=s(t);return a.forEach((l,c)=>{l.forEach((d,f)=>{var m=Kn(t[f],e[c],0);Array.isArray(m)&&m.length===2&&Ze(m[0])&&Ze(m[1])&&(d[0]=m[0],d[1]=m[1])})}),a};function xae(t){return t==null?void 0:String(t)}function D0(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!ar(i[e.dataKey])){var l=Lz(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var c=Kn(i,ar(a)?e.dataKey:a),d=e.scale.map(c);return Ze(d)?d:null}var bae=t=>{var e=t.flat(2).filter(Ze);return[Math.min(...e),Math.max(...e)]},wae=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],_ae=(t,e,n)=>{if(t!=null)return wae(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:a}=s,l=a.reduce((c,d)=>{var f=P$(d,e,n),m=bae(f);return!Lt(m[0])||!Lt(m[1])?c:[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},AO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,If=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=ob(e,f=>f.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],d=i[a-1];s=Math.min((c?.coordinate||0)-(d?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function jO(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Ud(Ud({},e),{},{dataKey:n,payload:r,value:i,name:s})}function yb(t,e){if(t)return String(t);if(typeof e=="string")return e}var Eae=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Cae=(t,e)=>e==="centric"?t.angle:t.radius,Ro=t=>t.layout.width,Do=t=>t.layout.height,Tae=t=>t.layout.scale,A$=t=>t.layout.margin,vb=ye(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),xb=ye(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Sae="data-recharts-item-index",Nae="data-recharts-item-id",eg=60;function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){Pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pae(t,e,n){return(e=Aae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aae(t){var e=Iae(t,"string");return typeof e=="symbol"?e:e+""}function Iae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jae=t=>t.brush.height;function kae(t){var e=xb(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:eg;return n+i}return n},0)}function Rae(t){var e=xb(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:eg;return n+i}return n},0)}function Dae(t){var e=vb(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Oae(t){var e=vb(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Cr=ye([Ro,Do,A$,jae,kae,Rae,Dae,Oae,Jz,lse],(t,e,n,r,i,s,a,l,c,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+a,bottom:(n.bottom||0)+l},p=Wy(Wy({},m),f),y=p.bottom;p.bottom+=r,p=mae(p,c,d);var x=t-p.left-p.right,b=e-p.top-p.bottom;return Wy(Wy({brushBottom:y},p),{},{width:Math.max(x,0),height:Math.max(b,0)})}),Mae=ye(Cr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Lae=ye(Ro,Do,(t,e)=>({x:0,y:0,width:t,height:e})),Vae=E.createContext(null),pi=()=>E.useContext(Vae)!=null,bb=t=>t.brush,wb=ye([bb,Cr,A$],(t,e,n)=>({height:t.height,x:Ze(t.x)?t.x:e.left,y:Ze(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ze(t.width)?t.width:e.width})),G_={},X_={},Y_={},RO;function Fae(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),f=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},m=()=>{d&&f(),b()};let p=null;const y=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},r)},x=()=>{p!==null&&(clearTimeout(p),p=null)},b=()=>{x(),a=void 0,l=null},_=()=>{f()},T=function(...L){if(i?.aborted)return;a=this,l=L;const M=p==null;y(),c&&M&&f()};return T.schedule=y,T.cancel=b,T.flush=_,i?.addEventListener("abort",b,{once:!0}),T}t.debounce=e})(Y_)),Y_}var DO;function Bae(){return DO||(DO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fae();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,d=Array(2);a&&(d[0]="leading"),l&&(d[1]="trailing");let f,m=null;const p=e.debounce(function(...b){f=r.apply(this,b),m=null},i,{edges:d}),y=function(...b){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(f=r.apply(this,b),m=Date.now(),p.cancel(),p.schedule(),f):(p.apply(this,b),f)},x=()=>(p.flush(),f);return y.cancel=p.cancel,y.flush=x,y}t.debounce=n})(X_)),X_}var OO;function zae(){return OO||(OO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bae();function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(G_)),G_}var Q_,MO;function $ae(){return MO||(MO=1,Q_=zae().throttle),Q_}var Uae=$ae();const qae=di(Uae);var LO=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},wa={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},I$=(t,e,n)=>{var{width:r=wa.width,height:i=wa.height,aspect:s,maxHeight:a}=n,l=Cu(r)?t:Number(r),c=Cu(i)?e:Number(i);return s&&s>0&&(l?c=l/s:c&&(l=c*s),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:l,calculatedHeight:c}},Hae={width:0,height:0,overflow:"visible"},Wae={width:0,overflowX:"visible"},Kae={height:0,overflowY:"visible"},Gae={},Xae=t=>{var{width:e,height:n}=t,r=Cu(e),i=Cu(n);return r&&i?Hae:r?Wae:i?Kae:Gae};function Yae(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=wa.width,s=wa.height):i===void 0?i=r&&r>0?void 0:wa.width:s===void 0&&(s=r&&r>0?void 0:wa.height),{width:i,height:s}}function MT(){return MT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MT.apply(null,arguments)}function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){Qae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qae(t,e,n){return(e=Jae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jae(t){var e=Zae(t,"string");return typeof e=="symbol"?e:e+""}function Zae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j$=E.createContext(wa.initialDimension);function eoe(t){return Xl(t.width)&&Xl(t.height)}function k$(t){var{children:e,width:n,height:r}=t,i=E.useMemo(()=>({width:n,height:r}),[n,r]);return eoe(i)?E.createElement(j$.Provider,{value:i},e):null}var NP=()=>E.useContext(j$),toe=E.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=wa.initialDimension,width:i,height:s,minWidth:a=wa.minWidth,minHeight:l,maxHeight:c,children:d,debounce:f=wa.debounce,id:m,className:p,onResize:y,style:x={}}=t,b=E.useRef(null),_=E.useRef();_.current=y,E.useImperativeHandle(e,()=>b.current);var[T,L]=E.useState({containerWidth:r.width,containerHeight:r.height}),M=E.useCallback((S,D)=>{L(N=>{var k=Math.round(S),O=Math.round(D);return N.containerWidth===k&&N.containerHeight===O?N:{containerWidth:k,containerHeight:O}})},[]);E.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return Du;var S=O=>{var A,W=O[0];if(W!=null){var{width:Y,height:J}=W.contentRect;M(Y,J),(A=_.current)===null||A===void 0||A.call(_,Y,J)}};f>0&&(S=qae(S,f,{trailing:!0,leading:!1}));var D=new ResizeObserver(S),{width:N,height:k}=b.current.getBoundingClientRect();return M(N,k),D.observe(b.current),()=>{D.disconnect()}},[M,f]);var{containerWidth:z,containerHeight:I}=T;LO(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:j,calculatedHeight:C}=I$(z,I,{width:i,height:s,aspect:n,maxHeight:c});return LO(j!=null&&j>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,C,i,s,a,l,n),E.createElement("div",{id:m?"".concat(m):void 0,className:Yt("recharts-responsive-container",p),style:FO(FO({},x),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:b},E.createElement("div",{style:Xae({width:i,height:s})},E.createElement(k$,{width:j,height:C},d)))}),R$=E.forwardRef((t,e)=>{var n=NP();if(Xl(n.width)&&Xl(n.height))return t.children;var{width:r,height:i}=Yae({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=I$(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ze(s)&&Ze(a)?E.createElement(k$,{width:s,height:a},t.children):E.createElement(toe,MT({},t,{width:r,height:i,ref:e}))});function PP(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var _b=()=>{var t,e=pi(),n=ut(Mae),r=ut(wb),i=(t=ut(bb))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},noe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},roe=()=>{var t;return(t=ut(Cr))!==null&&t!==void 0?t:noe},ioe=()=>ut(Ro),soe=()=>ut(Do),nn=t=>t.layout.layoutType,Ou=()=>ut(nn),D$=()=>{var t=Ou();if(t==="horizontal"||t==="vertical")return t},O$=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},aoe=()=>{var t=Ou();return t!==void 0},tg=t=>{var e=Er(),n=pi(),{width:r,height:i}=t,s=NP(),a=r,l=i;return s&&(a=s.width>0?s.width:r,l=s.height>0?s.height:i),E.useEffect(()=>{!n&&Xl(a)&&Xl(l)&&e(lae({width:a,height:l}))},[e,n,a,l]),null},M$=Symbol.for("immer-nothing"),BO=Symbol.for("immer-draftable"),Li=Symbol.for("immer-state");function Ts(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var hp=Object.getPrototypeOf;function jf(t){return!!t&&!!t[Li]}function Su(t){return t?L$(t)||Array.isArray(t)||!!t[BO]||!!t.constructor?.[BO]||ng(t)||Cb(t):!1}var ooe=Object.prototype.constructor.toString(),zO=new WeakMap;function L$(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=zO.get(n);return r===void 0&&(r=Function.toString.call(n),zO.set(n,r)),r===ooe}function O0(t,e,n=!0){Eb(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Eb(t){const e=t[Li];return e?e.type_:Array.isArray(t)?1:ng(t)?2:Cb(t)?3:0}function LT(t,e){return Eb(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function V$(t,e,n){const r=Eb(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function loe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function ng(t){return t instanceof Map}function Cb(t){return t instanceof Set}function Lc(t){return t.copy_||t.base_}function VT(t,e){if(ng(t))return new Map(t);if(Cb(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=L$(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Li];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(hp(t),r)}else{const r=hp(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function AP(t,e=!1){return Tb(t)||jf(t)||!Su(t)||(Eb(t)>1&&Object.defineProperties(t,{set:Ky,add:Ky,clear:Ky,delete:Ky}),Object.freeze(t),e&&Object.values(t).forEach(n=>AP(n,!0))),t}function coe(){Ts(2)}var Ky={value:coe};function Tb(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var uoe={};function Nu(t){const e=uoe[t];return e||Ts(0,t),e}var mp;function F$(){return mp}function doe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function $O(t,e){e&&(Nu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function FT(t){BT(t),t.drafts_.forEach(foe),t.drafts_=null}function BT(t){t===mp&&(mp=t.parent_)}function UO(t){return mp=doe(mp,t)}function foe(t){const e=t[Li];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function qO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Li].modified_&&(FT(e),Ts(4)),Su(t)&&(t=M0(e,t),e.parent_||L0(e,t)),e.patches_&&Nu("Patches").generateReplacementPatches_(n[Li].base_,t,e.patches_,e.inversePatches_)):t=M0(e,n,[]),FT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==M$?t:void 0}function M0(t,e,n){if(Tb(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Li];if(!i)return O0(e,(s,a)=>HO(t,i,e,s,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return L0(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,l=!1;i.type_===3&&(a=new Set(s),s.clear(),l=!0),O0(a,(c,d)=>HO(t,i,s,c,d,n,l),r),L0(t,s,!1),n&&t.patches_&&Nu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function HO(t,e,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const l=Tb(i);if(!(l&&!a)){if(jf(i)){const c=s&&e&&e.type_!==3&&!LT(e.assigned_,r)?s.concat(r):void 0,d=M0(t,i,c);if(V$(n,r,d),jf(d))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Su(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;M0(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(ng(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&L0(t,i)}}}function L0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&AP(e,n)}function hoe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:F$(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=IP;n&&(i=[r],s=pp);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var IP={get(t,e){if(e===Li)return t;const n=Lc(t);if(!LT(n,e))return moe(t,n,e);const r=n[e];return t.finalized_||!Su(r)?r:r===J_(t.base_,e)?(Z_(t),t.copy_[e]=$T(r,t)):r},has(t,e){return e in Lc(t)},ownKeys(t){return Reflect.ownKeys(Lc(t))},set(t,e,n){const r=B$(Lc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=J_(Lc(t),e),s=i?.[Li];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(loe(n,i)&&(n!==void 0||LT(t.base_,e)))return!0;Z_(t),zT(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return J_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Z_(t),zT(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Lc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Ts(11)},getPrototypeOf(t){return hp(t.base_)},setPrototypeOf(){Ts(12)}},pp={};O0(IP,(t,e)=>{pp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});pp.deleteProperty=function(t,e){return pp.set.call(this,t,e,void 0)};pp.set=function(t,e,n){return IP.set.call(this,t[0],e,n,t[0])};function J_(t,e){const n=t[Li];return(n?Lc(n):t)[e]}function moe(t,e,n){const r=B$(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function B$(t,e){if(!(e in t))return;let n=hp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=hp(n)}}function zT(t){t.modified_||(t.modified_=!0,t.parent_&&zT(t.parent_))}function Z_(t){t.copy_||(t.copy_=VT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var poe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(c=s,...d){return a.produce(c,f=>n.call(this,f,...d))}}typeof n!="function"&&Ts(6),r!==void 0&&typeof r!="function"&&Ts(7);let i;if(Su(e)){const s=UO(this),a=$T(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?FT(s):BT(s)}return $O(s,r),qO(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===M$&&(i=void 0),this.autoFreeze_&&AP(i,!0),r){const s=[],a=[];Nu("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Ts(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Su(t)||Ts(8),jf(t)&&(t=goe(t));const e=UO(this),n=$T(t,void 0);return n[Li].isManual_=!0,BT(e),n}finishDraft(t,e){const n=t&&t[Li];(!n||!n.isManual_)&&Ts(9);const{scope_:r}=n;return $O(r,e),qO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Nu("Patches").applyPatches_;return jf(t)?r(t,e):this.produce(t,i=>r(i,e))}};function $T(t,e){const n=ng(t)?Nu("MapSet").proxyMap_(t,e):Cb(t)?Nu("MapSet").proxySet_(t,e):hoe(t,e);return(e?e.scope_:F$()).drafts_.push(n),n}function goe(t){return jf(t)||Ts(10,t),z$(t)}function z$(t){if(!Su(t)||Tb(t))return t;const e=t[Li];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=VT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=VT(t,!0);return O0(n,(i,s)=>{V$(n,i,z$(s))},r),e&&(e.finalized_=!1),n}var yoe=new poe;yoe.produce;var voe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},$$=mi({name:"legend",initialState:voe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:cn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ds(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:cn()},removeLegendPayload:{reducer(t,e){var n=Ds(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:cn()}}}),{setLegendSize:aPe,setLegendSettings:oPe,addLegendPayload:xoe,replaceLegendPayload:boe,removeLegendPayload:woe}=$$.actions,_oe=$$.reducer;function UT(){return UT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UT.apply(null,arguments)}function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){Eoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Eoe(t,e,n){return(e=Coe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Coe(t){var e=Toe(t,"string");return typeof e=="symbol"?e:e+""}function Toe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Soe(t){return Array.isArray(t)&&Ia(t[0])&&Ia(t[1])?t.join(" ~ "):t}var Nd={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Noe=t=>{var{separator:e=Nd.separator,contentStyle:n,itemStyle:r,labelStyle:i=Nd.labelStyle,payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:m,accessibilityLayer:p=Nd.accessibilityLayer}=t,y=()=>{if(s&&s.length){var I={padding:0,margin:0},j=(l?ob(s,l):s).map((C,S)=>{if(C.type==="none")return null;var D=C.formatter||a||Soe,{value:N,name:k}=C,O=N,A=k;if(D){var W=D(N,k,C,S,s);if(Array.isArray(W))[O,A]=W;else if(W!=null)O=W;else return null}var Y=Zh(Zh({},Nd.itemStyle),{},{color:C.color||Nd.itemStyle.color},r);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:Y},Ia(A)?E.createElement("span",{className:"recharts-tooltip-item-name"},A):null,Ia(A)?E.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,E.createElement("span",{className:"recharts-tooltip-item-value"},O),E.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:I},j)}return null},x=Zh(Zh({},Nd.contentStyle),n),b=Zh({margin:0},i),_=!ar(f),T=_?f:"",L=Yt("recharts-default-tooltip",c),M=Yt("recharts-tooltip-label",d);_&&m&&s!==void 0&&s!==null&&(T=m(f,s));var z=p?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",UT({className:L,style:x},z),E.createElement("p",{className:M,style:b},E.isValidElement(T)?T:"".concat(T)),y())},em="recharts-tooltip-wrapper",Poe={visibility:"hidden"};function Aoe(t){var{coordinate:e,translateX:n,translateY:r}=t;return Yt(em,{["".concat(em,"-right")]:Ze(n)&&e&&Ze(e.x)&&n>=e.x,["".concat(em,"-left")]:Ze(n)&&e&&Ze(e.x)&&n<e.x,["".concat(em,"-bottom")]:Ze(r)&&e&&Ze(e.y)&&r>=e.y,["".concat(em,"-top")]:Ze(r)&&e&&Ze(e.y)&&r<e.y})}function KO(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=t;if(s&&Ze(s[r]))return s[r];var f=n[r]-l-(i>0?i:0),m=n[r]+i;if(e[r])return a[r]?f:m;var p=c[r];if(p==null)return 0;if(a[r]){var y=f,x=p;return y<x?Math.max(m,p):Math.max(f,p)}if(d==null)return 0;var b=m+l,_=p+d;return b>_?Math.max(f,p):Math.max(m,p)}function Ioe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function joe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:a,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,m,p;return l.height>0&&l.width>0&&n?(m=KO({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:s,reverseDirection:a,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=KO({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:s,reverseDirection:a,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=Ioe({translateX:m,translateY:p,useTranslate3d:c})):f=Poe,{cssProperties:f,cssClasses:Aoe({translateX:m,translateY:p,coordinate:n})}}function GO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(n),!0).forEach(function(r){qT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qT(t,e,n){return(e=koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function koe(t){var e=Roe(t,"string");return typeof e=="symbol"?e:e+""}function Roe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Doe extends E.PureComponent{constructor(){super(...arguments),qT(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),qT(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:d,position:f,reverseDirection:m,useTranslate3d:p,viewBox:y,wrapperStyle:x,lastBoundingBox:b,innerRef:_,hasPortalFromProps:T}=this.props,L=typeof d=="number"?d:d.x,M=typeof d=="number"?d:d.y,{cssClasses:z,cssProperties:I}=joe({allowEscapeViewBox:n,coordinate:a,offsetLeft:L,offsetTop:M,position:f,reverseDirection:m,tooltipBox:{height:b.height,width:b.width},useTranslate3d:p,viewBox:y}),j=T?{}:Gy(Gy({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),C=Gy(Gy({},j),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},x);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:z,style:C,ref:_},s)}}var U$=()=>{var t;return(t=ut(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function HT(){return HT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HT.apply(null,arguments)}function XO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XO(Object(n),!0).forEach(function(r){Ooe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ooe(t,e,n){return(e=Moe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Moe(t){var e=Loe(t,"string");return typeof e=="symbol"?e:e+""}function Loe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QO={curveBasisClosed:Rre,curveBasisOpen:Dre,curveBasis:kre,curveBumpX:vre,curveBumpY:xre,curveLinearClosed:Ore,curveLinear:ib,curveMonotoneX:Mre,curveMonotoneY:Lre,curveNatural:Vre,curveStep:Fre,curveStepAfter:zre,curveStepBefore:Bre},V0=t=>Lt(t.x)&&Lt(t.y),JO=t=>t.base!=null&&V0(t.base)&&V0(t),tm=t=>t.x,nm=t=>t.y,Voe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Qp(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=QO["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return QO[n]||ib},ZO={connectNulls:!1,type:"linear"},Foe=t=>{var{type:e=ZO.type,points:n=[],baseLine:r,layout:i,connectNulls:s=ZO.connectNulls}=t,a=Voe(e,i),l=s?n.filter(V0):n;if(Array.isArray(r)){var c,d=n.map((x,b)=>YO(YO({},x),{},{base:r[b]}));i==="vertical"?c=By().y(nm).x1(tm).x0(x=>x.base.x):c=By().x(tm).y1(nm).y0(x=>x.base.y);var f=c.defined(JO).curve(a),m=s?d.filter(JO):d;return f(m)}var p;i==="vertical"&&Ze(r)?p=By().y(nm).x1(tm).x0(r):Ze(r)?p=By().x(tm).y1(nm).y0(r):p=Cz().x(tm).y(nm);var y=p.defined(V0).curve(a);return y(l)},Mm=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Ou();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},l=n&&n.length?Foe(a):r;return E.createElement("path",HT({},Ls(t),yP(t),{className:Yt("recharts-curve",e),d:l===null?void 0:l,ref:i}))},Boe=["x","y","top","left","width","height","className"];function WT(){return WT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WT.apply(null,arguments)}function e5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zoe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(n),!0).forEach(function(r){$oe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $oe(t,e,n){return(e=Uoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uoe(t){var e=qoe(t,"string");return typeof e=="symbol"?e:e+""}function qoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hoe(t,e){if(t==null)return{};var n,r,i=Woe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Woe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Koe=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Goe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=t,c=Hoe(t,Boe),d=zoe({x:e,y:n,top:r,left:i,width:s,height:a},c);return!Ze(e)||!Ze(n)||!Ze(s)||!Ze(a)||!Ze(r)||!Ze(i)?null:E.createElement("path",WT({},Br(d),{className:Yt("recharts-cross",l),d:Koe(e,n,s,a,r,i)}))};function Xoe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function t5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t5(Object(n),!0).forEach(function(r){Yoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yoe(t,e,n){return(e=Qoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qoe(t){var e=Joe(t,"string");return typeof e=="symbol"?e:e+""}function Joe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zoe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),q$=(t,e,n)=>t.map(r=>"".concat(Zoe(r)," ").concat(e,"ms ").concat(n)).join(","),ele=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),gp=(t,e)=>Object.keys(e).reduce((n,r)=>n5(n5({},n),{},{[r]:t(r,e[r])}),{});function r5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r5(Object(n),!0).forEach(function(r){tle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tle(t,e,n){return(e=nle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nle(t){var e=rle(t,"string");return typeof e=="symbol"?e:e+""}function rle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F0=(t,e,n)=>t+(e-t)*n,KT=t=>{var{from:e,to:n}=t;return e!==n},H$=(t,e,n)=>{var r=gp((i,s)=>{if(KT(s)){var[a,l]=t(s.from,s.to,s.velocity);return Wn(Wn({},s),{},{from:a,velocity:l})}return s},e);return n<1?gp((i,s)=>KT(s)&&r[i]!=null?Wn(Wn({},s),{},{velocity:F0(s.velocity,r[i].velocity,n),from:F0(s.from,r[i].from,n)}):s,e):H$(t,r,n-1)};function ile(t,e,n,r,i,s){var a,l=r.reduce((p,y)=>Wn(Wn({},p),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),c=()=>gp((p,y)=>y.from,l),d=()=>!Object.values(l).filter(KT).length,f=null,m=p=>{a||(a=p);var y=p-a,x=y/n.dt;l=H$(n,l,x),i(Wn(Wn(Wn({},t),e),c())),a=p,d()||(f=s.setTimeout(m))};return()=>(f=s.setTimeout(m),()=>{var p;(p=f)===null||p===void 0||p()})}function sle(t,e,n,r,i,s,a){var l=null,c=i.reduce((m,p)=>{var y=t[p],x=e[p];return y==null||x==null?m:Wn(Wn({},m),{},{[p]:[y,x]})},{}),d,f=m=>{d||(d=m);var p=(m-d)/r,y=gp((b,_)=>F0(..._,n(p)),c);if(s(Wn(Wn(Wn({},t),e),y)),p<1)l=a.setTimeout(f);else{var x=gp((b,_)=>F0(..._,n(1)),c);s(Wn(Wn(Wn({},t),e),x))}};return()=>(l=a.setTimeout(f),()=>{var m;(m=l)===null||m===void 0||m()})}const ale=(t,e,n,r,i,s)=>{var a=ele(t,e);return n==null?()=>(i(Wn(Wn({},t),e)),()=>{}):n.isStepper===!0?ile(t,e,n,a,i,s):sle(t,e,n,r,a,i,s)};var B0=1e-4,W$=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],K$=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),i5=(t,e)=>n=>{var r=W$(t,e);return K$(r,n)},ole=(t,e)=>n=>{var r=W$(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return K$(i,n)},lle=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},cle=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=lle(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},ule=(t,e,n,r)=>{var i=i5(t,n),s=i5(e,r),a=ole(t,n),l=d=>d>1?1:d<0?0:d,c=d=>{for(var f=d>1?1:d,m=f,p=0;p<8;++p){var y=i(m)-f,x=a(m);if(Math.abs(y-f)<B0||x<B0)return s(m);m=l(m-y/x)}return s(m)};return c.isStepper=!1,c},s5=function(){return ule(...cle(...arguments))},dle=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,l,c)=>{var d=-(a-l)*n,f=c*r,m=c+(d-f)*i/1e3,p=c*i/1e3+a;return Math.abs(p-l)<B0&&Math.abs(m)<B0?[l,0]:[p,m]};return s.isStepper=!0,s.dt=i,s},fle=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return s5(t);case"spring":return dle();default:if(t.split("(")[0]==="cubic-bezier")return s5(t)}return typeof t=="function"?t:null};function hle(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...d]=l;if(typeof c=="number"){i=t.setTimeout(s.bind(null,d),c);return}s(c),i=t.setTimeout(s.bind(null,d));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class mle{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function ple(){return hle(new mle)}var gle=E.createContext(ple);function yle(t,e){var n=E.useContext(gle);return E.useMemo(()=>e??n(t),[t,e,n])}var vle=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),rg={isSsr:vle()},xle={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},a5={t:0},eE={t:1};function Sb(t){var e=hi(t,xle),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:d}=e,f=n==="auto"?!rg.isSsr:n,m=yle(e.animationId,e.animationManager),[p,y]=E.useState(f?a5:eE),x=E.useRef(null);return E.useEffect(()=>{f||y(eE)},[f]),E.useEffect(()=>{if(!f||!r)return Du;var b=ale(a5,eE,fle(s),i,y,m.getTimeoutController()),_=()=>{x.current=b()};return m.start([c,a,_,i,l]),()=>{m.stop(),x.current&&x.current(),l()}},[f,r,i,s,a,c,l,m]),d(p.t)}function Nb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=E.useRef(cp(e)),r=E.useRef(t);return r.current!==t&&(n.current=cp(e),r.current=t),n.current}var ble=["radius"],wle=["radius"],o5,l5,c5,u5,d5,f5,h5,m5,p5,g5;function y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function v5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y5(Object(n),!0).forEach(function(r){_le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _le(t,e,n){return(e=Ele(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ele(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},z0.apply(null,arguments)}function x5(t,e){if(t==null)return{};var n,r,i=Tle(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function la(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var b5=(t,e,n,r,i)=>{var s=Pl(n),a=Pl(r),l=Math.min(Math.abs(s)/2,Math.abs(a)/2),c=a>=0?1:-1,d=s>=0?1:-1,f=a>=0&&s>=0||a<0&&s<0?1:0,m;if(l>0&&Array.isArray(i)){for(var p=[0,0,0,0],y=0,x=4;y<x;y++){var b,_=(b=i[y])!==null&&b!==void 0?b:0;p[y]=_>l?l:_}m=Nn(o5||(o5=la(["M",",",""])),t,e+c*p[0]),p[0]>0&&(m+=Nn(l5||(l5=la(["A ",",",",0,0,",",",",",""])),p[0],p[0],f,t+d*p[0],e)),m+=Nn(c5||(c5=la(["L ",",",""])),t+n-d*p[1],e),p[1]>0&&(m+=Nn(u5||(u5=la(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],f,t+n,e+c*p[1])),m+=Nn(d5||(d5=la(["L ",",",""])),t+n,e+r-c*p[2]),p[2]>0&&(m+=Nn(f5||(f5=la(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],f,t+n-d*p[2],e+r)),m+=Nn(h5||(h5=la(["L ",",",""])),t+d*p[3],e+r),p[3]>0&&(m+=Nn(m5||(m5=la(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],f,t,e+r-c*p[3])),m+="Z"}else if(l>0&&i===+i&&i>0){var T=Math.min(l,i);m=Nn(p5||(p5=la(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*T,T,T,f,t+d*T,e,t+n-d*T,e,T,T,f,t+n,e+c*T,t+n,e+r-c*T,T,T,f,t+n-d*T,e+r,t+d*T,e+r,T,T,f,t,e+r-c*T)}else m=Nn(g5||(g5=la(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},w5={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},G$=t=>{var e=hi(t,w5),n=E.useRef(null),[r,i]=E.useState(-1);E.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var V=n.current.getTotalLength();V&&i(V)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:d,className:f}=e,{animationEasing:m,animationDuration:p,animationBegin:y,isAnimationActive:x,isUpdateAnimationActive:b}=e,_=E.useRef(l),T=E.useRef(c),L=E.useRef(s),M=E.useRef(a),z=E.useMemo(()=>({x:s,y:a,width:l,height:c,radius:d}),[s,a,l,c,d]),I=Nb(z,"rectangle-");if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var j=Yt("recharts-rectangle",f);if(!b){var C=Br(e),{radius:S}=C,D=x5(C,ble);return E.createElement("path",z0({},D,{x:Pl(s),y:Pl(a),width:Pl(l),height:Pl(c),radius:typeof d=="number"?d:void 0,className:j,d:b5(s,a,l,c,d)}))}var N=_.current,k=T.current,O=L.current,A=M.current,W="0px ".concat(r===-1?1:r,"px"),Y="".concat(r,"px 0px"),J=q$(["strokeDasharray"],p,typeof m=="string"?m:w5.animationEasing);return E.createElement(Sb,{animationId:I,key:I,canBegin:r>0,duration:p,easing:m,isActive:b,begin:y},V=>{var G=Bn(N,l,V),q=Bn(k,c,V),R=Bn(O,s,V),$=Bn(A,a,V);n.current&&(_.current=G,T.current=q,L.current=R,M.current=$);var K;x?V>0?K={transition:J,strokeDasharray:Y}:K={strokeDasharray:W}:K={strokeDasharray:Y};var Z=Br(e),{radius:Q}=Z,te=x5(Z,wle);return E.createElement("path",z0({},te,{radius:typeof d=="number"?d:void 0,className:j,d:b5(R,$,G,q,d),ref:n,style:v5(v5({},K),e.style)}))})};function _5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function E5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_5(Object(n),!0).forEach(function(r){Sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sle(t,e,n){return(e=Nle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nle(t){var e=Ple(t,"string");return typeof e=="symbol"?e:e+""}function Ple(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $0=Math.PI/180,Ale=t=>t*180/Math.PI,wr=(t,e,n,r)=>({x:t+Math.cos(-$0*r)*n,y:e+Math.sin(-$0*r)*n}),Ile=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},jle=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},kle=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=jle({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,c=Math.acos(l);return r>s&&(c=2*Math.PI-c),{radius:a,angle:Ale(c),angleInRadian:c}},Rle=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Dle=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},Ole=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=kle({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:d}=Rle(e),f=s,m;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;m=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=c}return m?E5(E5({},e),{},{radius:i,angle:Dle(f,e)}):null};function X$(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=wr(e,n,r,i),l=wr(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var C5,T5,S5,N5,P5,A5,I5;function GT(){return GT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GT.apply(null,arguments)}function Gc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Mle=(t,e)=>{var n=As(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Xy=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=t,d=l*(a?1:-1)+r,f=Math.asin(l/d)/$0,m=c?i:i+s*f,p=wr(e,n,d,m),y=wr(e,n,r,m),x=c?i-s*f:i,b=wr(e,n,d*Math.cos(f*$0),x);return{center:p,circleTangency:y,lineTangency:b,theta:f}},Y$=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,l=Mle(s,a),c=s+l,d=wr(e,n,i,s),f=wr(e,n,i,c),m=Nn(C5||(C5=Gc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(l)>180),+(s>c),f.x,f.y);if(r>0){var p=wr(e,n,r,s),y=wr(e,n,r,c);m+=Nn(T5||(T5=Gc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,r,r,+(Math.abs(l)>180),+(s<=c),p.x,p.y)}else m+=Nn(S5||(S5=Gc(["L ",","," Z"])),e,n);return m},Lle=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:d}=t,f=As(d-c),{circleTangency:m,lineTangency:p,theta:y}=Xy({cx:e,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),{circleTangency:x,lineTangency:b,theta:_}=Xy({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),T=l?Math.abs(c-d):Math.abs(c-d)-y-_;if(T<0)return a?Nn(N5||(N5=Gc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,s,s,s*2,s,s,-s*2):Y$({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var L=Nn(P5||(P5=Gc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,s,s,+(f<0),m.x,m.y,i,i,+(T>180),+(f<0),x.x,x.y,s,s,+(f<0),b.x,b.y);if(r>0){var{circleTangency:M,lineTangency:z,theta:I}=Xy({cx:e,cy:n,radius:r,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:j,lineTangency:C,theta:S}=Xy({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=l?Math.abs(c-d):Math.abs(c-d)-I-S;if(D<0&&s===0)return"".concat(L,"L").concat(e,",").concat(n,"Z");L+=Nn(A5||(A5=Gc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,s,s,+(f<0),j.x,j.y,r,r,+(D>180),+(f>0),M.x,M.y,s,s,+(f<0),z.x,z.y)}else L+=Nn(I5||(I5=Gc(["L",",","Z"])),e,n);return L},Vle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Q$=t=>{var e=hi(t,Vle),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f,className:m}=e;if(s<i||d===f)return null;var p=Yt("recharts-sector",m),y=s-i,x=Gl(a,y,0,!0),b;return x>0&&Math.abs(d-f)<360?b=Lle({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):b=Y$({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),E.createElement("path",GT({},Br(e),{className:p,d:b}))};function Fle(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(Bz(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:l}=e,c=wr(r,i,s,l),d=wr(r,i,a,l);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return X$(e)}}var tE={},nE={},rE={},j5;function Ble(){return j5||(j5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yz();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(rE)),rE}var k5;function zle(){return k5||(k5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ble();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(nE)),nE}var R5;function $le(){return R5||(R5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qz(),n=zle();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=i,i+=a;return c}t.range=r})(tE)),tE}var iE,D5;function Ule(){return D5||(D5=1,iE=$le().range),iE}var qle=Ule();const J$=di(qle);function Vl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hle(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jP(t){let e,n,r;t.length!==2?(e=Vl,n=(l,c)=>Vl(t(l),c),r=(l,c)=>t(l)-c):(e=t===Vl||t===Hle?t:Wle,n=t,r=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;n(l[m],c)<0?d=m+1:f=m}while(d<f)}return d}function s(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;n(l[m],c)<=0?d=m+1:f=m}while(d<f)}return d}function a(l,c,d=0,f=l.length){const m=i(l,c,d,f-1);return m>d&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:a,right:s}}function Wle(){return 0}function Z$(t){return t===null?NaN:+t}function*Kle(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Gle=jP(Vl),ig=Gle.right;jP(Z$).center;class O5 extends Map{constructor(e,n=Qle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(M5(this,e))}has(e){return super.has(M5(this,e))}set(e,n){return super.set(Xle(this,e),n)}delete(e){return super.delete(Yle(this,e))}}function M5({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Xle({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Yle({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Qle(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Jle(t=Vl){if(t===Vl)return eU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function eU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Zle=Math.sqrt(50),ece=Math.sqrt(10),tce=Math.sqrt(2);function U0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Zle?10:s>=ece?5:s>=tce?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/a,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*a,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?U0(t,e,n*2):[l,c,d]}function XT(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?U0(e,t,n):U0(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let d=0;d<l;++d)c[d]=(s-d)/-a;else for(let d=0;d<l;++d)c[d]=(s-d)*a;else if(a<0)for(let d=0;d<l;++d)c[d]=(i+d)/-a;else for(let d=0;d<l;++d)c[d]=(i+d)*a;return c}function YT(t,e,n){return e=+e,t=+t,n=+n,U0(t,e,n)[2]}function QT(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?YT(e,t,n):YT(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function L5(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function V5(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function tU(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?eU:Jle(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),m=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*m*(c-m)/c)*(d-c/2<0?-1:1),y=Math.max(n,Math.floor(e-d*m/c+p)),x=Math.min(r,Math.floor(e+(c-d)*m/c+p));tU(t,e,y,x,i)}const s=t[e];let a=n,l=r;for(rm(t,n,e),i(t[r],s)>0&&rm(t,n,r);a<l;){for(rm(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?rm(t,n,l):(++l,rm(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function rm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function nce(t,e,n){if(t=Float64Array.from(Kle(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return V5(t);if(e>=1)return L5(t);var r,i=(r-1)*e,s=Math.floor(i),a=L5(tU(t,s).subarray(0,s+1)),l=V5(t.subarray(s+1));return a+(l-a)*(i-s)}}function rce(t,e,n=Z$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function ice(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ls(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Oo(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const JT=Symbol("implicit");function kP(){var t=new O5,e=[],n=[],r=JT;function i(s){let a=t.get(s);if(a===void 0){if(r!==JT)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new O5;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return kP(e,n).unknown(r)},ls.apply(i,arguments),i}function RP(){var t=kP().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,d=0,f=.5;delete t.unknown;function m(){var p=e().length,y=i<r,x=y?i:r,b=y?r:i;s=(b-x)/Math.max(1,p-c+d*2),l&&(s=Math.floor(s)),x+=(b-x-s*(p-c))*f,a=s*(1-c),l&&(x=Math.round(x),a=Math.round(a));var _=ice(p).map(function(T){return x+s*T});return n(y?_.reverse():_)}return t.domain=function(p){return arguments.length?(e(p),m()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(p){return arguments.length?(l=!!p,m()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),m()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},t.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},t.copy=function(){return RP(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},ls.apply(m(),arguments)}function nU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return nU(e())},t}function sce(){return nU(RP.apply(null,arguments).paddingInner(1))}function DP(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function rU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function sg(){}var yp=.7,q0=1/yp,af="\\s*([+-]?\\d+)\\s*",vp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ta="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ace=/^#([0-9a-f]{3,8})$/,oce=new RegExp(`^rgb\\(${af},${af},${af}\\)$`),lce=new RegExp(`^rgb\\(${Ta},${Ta},${Ta}\\)$`),cce=new RegExp(`^rgba\\(${af},${af},${af},${vp}\\)$`),uce=new RegExp(`^rgba\\(${Ta},${Ta},${Ta},${vp}\\)$`),dce=new RegExp(`^hsl\\(${vp},${Ta},${Ta}\\)$`),fce=new RegExp(`^hsla\\(${vp},${Ta},${Ta},${vp}\\)$`),F5={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DP(sg,xp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:B5,formatHex:B5,formatHex8:hce,formatHsl:mce,formatRgb:z5,toString:z5});function B5(){return this.rgb().formatHex()}function hce(){return this.rgb().formatHex8()}function mce(){return iU(this).formatHsl()}function z5(){return this.rgb().formatRgb()}function xp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ace.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$5(e):n===3?new ui(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=oce.exec(t))?new ui(e[1],e[2],e[3],1):(e=lce.exec(t))?new ui(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cce.exec(t))?Yy(e[1],e[2],e[3],e[4]):(e=uce.exec(t))?Yy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dce.exec(t))?H5(e[1],e[2]/100,e[3]/100,1):(e=fce.exec(t))?H5(e[1],e[2]/100,e[3]/100,e[4]):F5.hasOwnProperty(t)?$5(F5[t]):t==="transparent"?new ui(NaN,NaN,NaN,0):null}function $5(t){return new ui(t>>16&255,t>>8&255,t&255,1)}function Yy(t,e,n,r){return r<=0&&(t=e=n=NaN),new ui(t,e,n,r)}function pce(t){return t instanceof sg||(t=xp(t)),t?(t=t.rgb(),new ui(t.r,t.g,t.b,t.opacity)):new ui}function ZT(t,e,n,r){return arguments.length===1?pce(t):new ui(t,e,n,r??1)}function ui(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}DP(ui,ZT,rU(sg,{brighter(t){return t=t==null?q0:Math.pow(q0,t),new ui(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?yp:Math.pow(yp,t),new ui(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ui(su(this.r),su(this.g),su(this.b),H0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U5,formatHex:U5,formatHex8:gce,formatRgb:q5,toString:q5}));function U5(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}`}function gce(){return`#${Xc(this.r)}${Xc(this.g)}${Xc(this.b)}${Xc((isNaN(this.opacity)?1:this.opacity)*255)}`}function q5(){const t=H0(this.opacity);return`${t===1?"rgb(":"rgba("}${su(this.r)}, ${su(this.g)}, ${su(this.b)}${t===1?")":`, ${t})`}`}function H0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function su(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Xc(t){return t=su(t),(t<16?"0":"")+t.toString(16)}function H5(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ss(t,e,n,r)}function iU(t){if(t instanceof Ss)return new Ss(t.h,t.s,t.l,t.opacity);if(t instanceof sg||(t=xp(t)),!t)return new Ss;if(t instanceof Ss)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new Ss(a,l,c,t.opacity)}function yce(t,e,n,r){return arguments.length===1?iU(t):new Ss(t,e,n,r??1)}function Ss(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}DP(Ss,yce,rU(sg,{brighter(t){return t=t==null?q0:Math.pow(q0,t),new Ss(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?yp:Math.pow(yp,t),new Ss(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ui(sE(t>=240?t-240:t+120,i,r),sE(t,i,r),sE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ss(W5(this.h),Qy(this.s),Qy(this.l),H0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=H0(this.opacity);return`${t===1?"hsl(":"hsla("}${W5(this.h)}, ${Qy(this.s)*100}%, ${Qy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function W5(t){return t=(t||0)%360,t<0?t+360:t}function Qy(t){return Math.max(0,Math.min(1,t||0))}function sE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const OP=t=>()=>t;function vce(t,e){return function(n){return t+n*e}}function xce(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function bce(t){return(t=+t)==1?sU:function(e,n){return n-e?xce(e,n,t):OP(isNaN(e)?n:e)}}function sU(t,e){var n=e-t;return n?vce(t,n):OP(isNaN(t)?e:t)}const K5=(function t(e){var n=bce(e);function r(i,s){var a=n((i=ZT(i)).r,(s=ZT(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),d=sU(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function wce(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function _ce(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ece(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Kf(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function Cce(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function W0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Tce(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Kf(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var eS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aE=new RegExp(eS.source,"g");function Sce(t){return function(){return t}}function Nce(t){return function(e){return t(e)+""}}function Pce(t,e){var n=eS.lastIndex=aE.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=eS.exec(t))&&(i=aE.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:W0(r,i)})),n=aE.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?Nce(c[0].x):Sce(e):(e=c.length,function(d){for(var f=0,m;f<e;++f)l[(m=c[f]).i]=m.x(d);return l.join("")})}function Kf(t,e){var n=typeof e,r;return e==null||n==="boolean"?OP(e):(n==="number"?W0:n==="string"?(r=xp(e))?(e=r,K5):Pce:e instanceof xp?K5:e instanceof Date?Cce:_ce(e)?wce:Array.isArray(e)?Ece:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Tce:W0)(t,e)}function MP(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Ace(t,e){e===void 0&&(e=t,t=Kf);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function Ice(t){return function(){return t}}function K0(t){return+t}var G5=[0,1];function Kr(t){return t}function tS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ice(isNaN(e)?NaN:.5)}function jce(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function kce(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=tS(i,r),s=n(a,s)):(r=tS(r,i),s=n(s,a)),function(l){return s(r(l))}}function Rce(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=tS(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=ig(t,l,1,r)-1;return s[c](i[c](l))}}function ag(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Pb(){var t=G5,e=G5,n=Kf,r,i,s,a=Kr,l,c,d;function f(){var p=Math.min(t.length,e.length);return a!==Kr&&(a=jce(t[0],t[p-1])),l=p>2?Rce:kce,c=d=null,m}function m(p){return p==null||isNaN(p=+p)?s:(c||(c=l(t.map(r),e,n)))(r(a(p)))}return m.invert=function(p){return a(i((d||(d=l(e,t.map(r),W0)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,K0),f()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),n=MP,f()},m.clamp=function(p){return arguments.length?(a=p?!0:Kr,f()):a!==Kr},m.interpolate=function(p){return arguments.length?(n=p,f()):n},m.unknown=function(p){return arguments.length?(s=p,m):s},function(p,y){return r=p,i=y,f()}}function LP(){return Pb()(Kr,Kr)}function Dce(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function G0(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function kf(t){return t=G0(Math.abs(t)),t?t[1]:NaN}function Oce(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Mce(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Lce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bp(t){if(!(e=Lce.exec(t)))throw new Error("invalid format: "+t);var e;return new VP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}bp.prototype=VP.prototype;function VP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}VP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Vce(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var X0;function Fce(t,e){var n=G0(t,e);if(!n)return X0=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(X0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+G0(t,Math.max(0,e+s-1))[0]}function X5(t,e){var n=G0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Y5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Dce,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>X5(t*100,e),r:X5,s:Fce,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Q5(t){return t}var J5=Array.prototype.map,Z5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Bce(t){var e=t.grouping===void 0||t.thousands===void 0?Q5:Oce(J5.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Q5:Mce(J5.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m,p){m=bp(m);var y=m.fill,x=m.align,b=m.sign,_=m.symbol,T=m.zero,L=m.width,M=m.comma,z=m.precision,I=m.trim,j=m.type;j==="n"?(M=!0,j="g"):Y5[j]||(z===void 0&&(z=12),I=!0,j="g"),(T||y==="0"&&x==="=")&&(T=!0,y="0",x="=");var C=(p&&p.prefix!==void 0?p.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),S=(_==="$"?r:/[%p]/.test(j)?a:"")+(p&&p.suffix!==void 0?p.suffix:""),D=Y5[j],N=/[defgprs%]/.test(j);z=z===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function k(O){var A=C,W=S,Y,J,V;if(j==="c")W=D(O)+W,O="";else{O=+O;var G=O<0||1/O<0;if(O=isNaN(O)?c:D(Math.abs(O),z),I&&(O=Vce(O)),G&&+O==0&&b!=="+"&&(G=!1),A=(G?b==="("?b:l:b==="-"||b==="("?"":b)+A,W=(j==="s"&&!isNaN(O)&&X0!==void 0?Z5[8+X0/3]:"")+W+(G&&b==="("?")":""),N){for(Y=-1,J=O.length;++Y<J;)if(V=O.charCodeAt(Y),48>V||V>57){W=(V===46?i+O.slice(Y+1):O.slice(Y))+W,O=O.slice(0,Y);break}}}M&&!T&&(O=e(O,1/0));var q=A.length+O.length+W.length,R=q<L?new Array(L-q+1).join(y):"";switch(M&&T&&(O=e(R+O,R.length?L-W.length:1/0),R=""),x){case"<":O=A+O+W+R;break;case"=":O=A+R+O+W;break;case"^":O=R.slice(0,q=R.length>>1)+A+O+W+R.slice(q);break;default:O=R+A+O+W;break}return s(O)}return k.toString=function(){return m+""},k}function f(m,p){var y=Math.max(-8,Math.min(8,Math.floor(kf(p)/3)))*3,x=Math.pow(10,-y),b=d((m=bp(m),m.type="f",m),{suffix:Z5[8+y/3]});return function(_){return b(x*_)}}return{format:d,formatPrefix:f}}var Jy,FP,aU;zce({thousands:",",grouping:[3],currency:["$",""]});function zce(t){return Jy=Bce(t),FP=Jy.format,aU=Jy.formatPrefix,Jy}function $ce(t){return Math.max(0,-kf(Math.abs(t)))}function Uce(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(kf(e)/3)))*3-kf(Math.abs(t)))}function qce(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,kf(e)-kf(t))+1}function oU(t,e,n,r){var i=QT(t,e,n),s;switch(r=bp(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Uce(i,a))&&(r.precision=s),aU(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=qce(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=$ce(i))&&(r.precision=s-(r.type==="%")*2);break}}return FP(r)}function nc(t){var e=t.domain;return t.ticks=function(n){var r=e();return XT(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return oU(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,d,f=10;for(l<a&&(d=a,a=l,l=d,d=i,i=s,s=d);f-- >0;){if(d=YT(a,l,n),d===c)return r[i]=a,r[s]=l,e(r);if(d>0)a=Math.floor(a/d)*d,l=Math.ceil(l/d)*d;else if(d<0)a=Math.ceil(a*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function lU(){var t=LP();return t.copy=function(){return ag(t,lU())},ls.apply(t,arguments),nc(t)}function cU(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,K0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return cU(t).unknown(e)},t=arguments.length?Array.from(t,K0):[0,1],nc(n)}function uU(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function e4(t){return Math.log(t)}function t4(t){return Math.exp(t)}function Hce(t){return-Math.log(-t)}function Wce(t){return-Math.exp(-t)}function Kce(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Gce(t){return t===10?Kce:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Xce(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function n4(t){return(e,n)=>-t(-e,n)}function BP(t){const e=t(e4,t4),n=e.domain;let r=10,i,s;function a(){return i=Xce(r),s=Gce(r),n()[0]<0?(i=n4(i),s=n4(s),t(Hce,Wce)):t(e4,t4),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let d=c[0],f=c[c.length-1];const m=f<d;m&&([d,f]=[f,d]);let p=i(d),y=i(f),x,b;const _=l==null?10:+l;let T=[];if(!(r%1)&&y-p<_){if(p=Math.floor(p),y=Math.ceil(y),d>0){for(;p<=y;++p)for(x=1;x<r;++x)if(b=p<0?x/s(-p):x*s(p),!(b<d)){if(b>f)break;T.push(b)}}else for(;p<=y;++p)for(x=r-1;x>=1;--x)if(b=p>0?x/s(-p):x*s(p),!(b<d)){if(b>f)break;T.push(b)}T.length*2<_&&(T=XT(d,f,_))}else T=XT(p,y,Math.min(y-p,_)).map(s);return m?T.reverse():T},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=bp(c)).precision==null&&(c.trim=!0),c=FP(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return f=>{let m=f/s(Math.round(i(f)));return m*r<r-.5&&(m*=r),m<=d?c(f):""}},e.nice=()=>n(uU(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function dU(){const t=BP(Pb()).domain([1,10]);return t.copy=()=>ag(t,dU()).base(t.base()),ls.apply(t,arguments),t}function r4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function i4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function zP(t){var e=1,n=t(r4(e),i4(e));return n.constant=function(r){return arguments.length?t(r4(e=+r),i4(e)):e},nc(n)}function fU(){var t=zP(Pb());return t.copy=function(){return ag(t,fU()).constant(t.constant())},ls.apply(t,arguments)}function s4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Yce(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Qce(t){return t<0?-t*t:t*t}function $P(t){var e=t(Kr,Kr),n=1;function r(){return n===1?t(Kr,Kr):n===.5?t(Yce,Qce):t(s4(n),s4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},nc(e)}function UP(){var t=$P(Pb());return t.copy=function(){return ag(t,UP()).exponent(t.exponent())},ls.apply(t,arguments),t}function Jce(){return UP.apply(null,arguments).exponent(.5)}function a4(t){return Math.sign(t)*t*t}function Zce(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function hU(){var t=LP(),e=[0,1],n=!1,r;function i(s){var a=Zce(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(a4(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,K0)).map(a4)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return hU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ls.apply(i,arguments),nc(i)}function mU(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=rce(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[ig(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Vl),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return mU().domain(t).range(e).unknown(r)},ls.apply(s,arguments)}function pU(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[ig(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return pU().domain([t,e]).range(i).unknown(s)},ls.apply(nc(a),arguments)}function gU(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[ig(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return gU().domain(t).range(e).unknown(n)},ls.apply(i,arguments)}const oE=new Date,lE=new Date;function Yn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let d;do c.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<a);return c},i.filter=s=>Yn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(oE.setTime(+s),lE.setTime(+a),t(oE),t(lE),Math.floor(n(oE,lE))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Y0=Yn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Y0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Yn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Y0);Y0.range;const ao=1e3,Ji=ao*60,oo=Ji*60,wo=oo*24,qP=wo*7,o4=wo*30,cE=wo*365,Yc=Yn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ao)},(t,e)=>(e-t)/ao,t=>t.getUTCSeconds());Yc.range;const HP=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ao)},(t,e)=>{t.setTime(+t+e*Ji)},(t,e)=>(e-t)/Ji,t=>t.getMinutes());HP.range;const WP=Yn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ji)},(t,e)=>(e-t)/Ji,t=>t.getUTCMinutes());WP.range;const KP=Yn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ao-t.getMinutes()*Ji)},(t,e)=>{t.setTime(+t+e*oo)},(t,e)=>(e-t)/oo,t=>t.getHours());KP.range;const GP=Yn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*oo)},(t,e)=>(e-t)/oo,t=>t.getUTCHours());GP.range;const og=Yn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ji)/wo,t=>t.getDate()-1);og.range;const Ab=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wo,t=>t.getUTCDate()-1);Ab.range;const yU=Yn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/wo,t=>Math.floor(t/wo));yU.range;function Mu(t){return Yn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ji)/qP)}const Ib=Mu(0),Q0=Mu(1),eue=Mu(2),tue=Mu(3),Rf=Mu(4),nue=Mu(5),rue=Mu(6);Ib.range;Q0.range;eue.range;tue.range;Rf.range;nue.range;rue.range;function Lu(t){return Yn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/qP)}const jb=Lu(0),J0=Lu(1),iue=Lu(2),sue=Lu(3),Df=Lu(4),aue=Lu(5),oue=Lu(6);jb.range;J0.range;iue.range;sue.range;Df.range;aue.range;oue.range;const XP=Yn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());XP.range;const YP=Yn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());YP.range;const _o=Yn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());_o.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});_o.range;const Eo=Yn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Eo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Yn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Eo.range;function vU(t,e,n,r,i,s){const a=[[Yc,1,ao],[Yc,5,5*ao],[Yc,15,15*ao],[Yc,30,30*ao],[s,1,Ji],[s,5,5*Ji],[s,15,15*Ji],[s,30,30*Ji],[i,1,oo],[i,3,3*oo],[i,6,6*oo],[i,12,12*oo],[r,1,wo],[r,2,2*wo],[n,1,qP],[e,1,o4],[e,3,3*o4],[t,1,cE]];function l(d,f,m){const p=f<d;p&&([d,f]=[f,d]);const y=m&&typeof m.range=="function"?m:c(d,f,m),x=y?y.range(d,+f+1):[];return p?x.reverse():x}function c(d,f,m){const p=Math.abs(f-d)/m,y=jP(([,,_])=>_).right(a,p);if(y===a.length)return t.every(QT(d/cE,f/cE,m));if(y===0)return Y0.every(Math.max(QT(d,f,m),1));const[x,b]=a[p/a[y-1][2]<a[y][2]/p?y-1:y];return x.every(b)}return[l,c]}const[lue,cue]=vU(Eo,YP,jb,yU,GP,WP),[uue,due]=vU(_o,XP,Ib,og,KP,HP);function uE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function im(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function fue(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,d=sm(i),f=am(i),m=sm(s),p=am(s),y=sm(a),x=am(a),b=sm(l),_=am(l),T=sm(c),L=am(c),M={a:V,A:G,b:q,B:R,c:null,d:h4,e:h4,f:Oue,g:Hue,G:Kue,H:kue,I:Rue,j:Due,L:xU,m:Mue,M:Lue,p:$,q:K,Q:g4,s:y4,S:Vue,u:Fue,U:Bue,V:zue,w:$ue,W:Uue,x:null,X:null,y:que,Y:Wue,Z:Gue,"%":p4},z={a:Z,A:Q,b:te,B:ae,c:null,d:m4,e:m4,f:Jue,g:lde,G:ude,H:Xue,I:Yue,j:Que,L:wU,m:Zue,M:ede,p:re,q:xe,Q:g4,s:y4,S:tde,u:nde,U:rde,V:ide,w:sde,W:ade,x:null,X:null,y:ode,Y:cde,Z:dde,"%":p4},I={a:N,A:k,b:O,B:A,c:W,d:d4,e:d4,f:Pue,g:u4,G:c4,H:f4,I:f4,j:Cue,L:Nue,m:Eue,M:Tue,p:D,q:_ue,Q:Iue,s:jue,S:Sue,u:yue,U:vue,V:xue,w:gue,W:bue,x:Y,X:J,y:u4,Y:c4,Z:wue,"%":Aue};M.x=j(n,M),M.X=j(r,M),M.c=j(e,M),z.x=j(n,z),z.X=j(r,z),z.c=j(e,z);function j(se,he){return function(Te){var me=[],Re=-1,je=0,et=se.length,Qe,We,wt;for(Te instanceof Date||(Te=new Date(+Te));++Re<et;)se.charCodeAt(Re)===37&&(me.push(se.slice(je,Re)),(We=l4[Qe=se.charAt(++Re)])!=null?Qe=se.charAt(++Re):We=Qe==="e"?" ":"0",(wt=he[Qe])&&(Qe=wt(Te,We)),me.push(Qe),je=Re+1);return me.push(se.slice(je,Re)),me.join("")}}function C(se,he){return function(Te){var me=im(1900,void 0,1),Re=S(me,se,Te+="",0),je,et;if(Re!=Te.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(he&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(je=dE(im(me.y,0,1)),et=je.getUTCDay(),je=et>4||et===0?J0.ceil(je):J0(je),je=Ab.offset(je,(me.V-1)*7),me.y=je.getUTCFullYear(),me.m=je.getUTCMonth(),me.d=je.getUTCDate()+(me.w+6)%7):(je=uE(im(me.y,0,1)),et=je.getDay(),je=et>4||et===0?Q0.ceil(je):Q0(je),je=og.offset(je,(me.V-1)*7),me.y=je.getFullYear(),me.m=je.getMonth(),me.d=je.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),et="Z"in me?dE(im(me.y,0,1)).getUTCDay():uE(im(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(et+5)%7:me.w+me.U*7-(et+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,dE(me)):uE(me)}}function S(se,he,Te,me){for(var Re=0,je=he.length,et=Te.length,Qe,We;Re<je;){if(me>=et)return-1;if(Qe=he.charCodeAt(Re++),Qe===37){if(Qe=he.charAt(Re++),We=I[Qe in l4?he.charAt(Re++):Qe],!We||(me=We(se,Te,me))<0)return-1}else if(Qe!=Te.charCodeAt(me++))return-1}return me}function D(se,he,Te){var me=d.exec(he.slice(Te));return me?(se.p=f.get(me[0].toLowerCase()),Te+me[0].length):-1}function N(se,he,Te){var me=y.exec(he.slice(Te));return me?(se.w=x.get(me[0].toLowerCase()),Te+me[0].length):-1}function k(se,he,Te){var me=m.exec(he.slice(Te));return me?(se.w=p.get(me[0].toLowerCase()),Te+me[0].length):-1}function O(se,he,Te){var me=T.exec(he.slice(Te));return me?(se.m=L.get(me[0].toLowerCase()),Te+me[0].length):-1}function A(se,he,Te){var me=b.exec(he.slice(Te));return me?(se.m=_.get(me[0].toLowerCase()),Te+me[0].length):-1}function W(se,he,Te){return S(se,e,he,Te)}function Y(se,he,Te){return S(se,n,he,Te)}function J(se,he,Te){return S(se,r,he,Te)}function V(se){return a[se.getDay()]}function G(se){return s[se.getDay()]}function q(se){return c[se.getMonth()]}function R(se){return l[se.getMonth()]}function $(se){return i[+(se.getHours()>=12)]}function K(se){return 1+~~(se.getMonth()/3)}function Z(se){return a[se.getUTCDay()]}function Q(se){return s[se.getUTCDay()]}function te(se){return c[se.getUTCMonth()]}function ae(se){return l[se.getUTCMonth()]}function re(se){return i[+(se.getUTCHours()>=12)]}function xe(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var he=j(se+="",M);return he.toString=function(){return se},he},parse:function(se){var he=C(se+="",!1);return he.toString=function(){return se},he},utcFormat:function(se){var he=j(se+="",z);return he.toString=function(){return se},he},utcParse:function(se){var he=C(se+="",!0);return he.toString=function(){return se},he}}}var l4={"-":"",_:" ",0:"0"},or=/^\s*\d+/,hue=/^%/,mue=/[\\^$*+?|[\]().{}]/g;function Vt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function pue(t){return t.replace(mue,"\\$&")}function sm(t){return new RegExp("^(?:"+t.map(pue).join("|")+")","i")}function am(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function gue(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function yue(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function vue(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function xue(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function bue(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function c4(t,e,n){var r=or.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function u4(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function wue(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function _ue(t,e,n){var r=or.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Eue(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function d4(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Cue(t,e,n){var r=or.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function f4(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Tue(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Sue(t,e,n){var r=or.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Nue(t,e,n){var r=or.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Pue(t,e,n){var r=or.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Aue(t,e,n){var r=hue.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Iue(t,e,n){var r=or.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function jue(t,e,n){var r=or.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function h4(t,e){return Vt(t.getDate(),e,2)}function kue(t,e){return Vt(t.getHours(),e,2)}function Rue(t,e){return Vt(t.getHours()%12||12,e,2)}function Due(t,e){return Vt(1+og.count(_o(t),t),e,3)}function xU(t,e){return Vt(t.getMilliseconds(),e,3)}function Oue(t,e){return xU(t,e)+"000"}function Mue(t,e){return Vt(t.getMonth()+1,e,2)}function Lue(t,e){return Vt(t.getMinutes(),e,2)}function Vue(t,e){return Vt(t.getSeconds(),e,2)}function Fue(t){var e=t.getDay();return e===0?7:e}function Bue(t,e){return Vt(Ib.count(_o(t)-1,t),e,2)}function bU(t){var e=t.getDay();return e>=4||e===0?Rf(t):Rf.ceil(t)}function zue(t,e){return t=bU(t),Vt(Rf.count(_o(t),t)+(_o(t).getDay()===4),e,2)}function $ue(t){return t.getDay()}function Uue(t,e){return Vt(Q0.count(_o(t)-1,t),e,2)}function que(t,e){return Vt(t.getFullYear()%100,e,2)}function Hue(t,e){return t=bU(t),Vt(t.getFullYear()%100,e,2)}function Wue(t,e){return Vt(t.getFullYear()%1e4,e,4)}function Kue(t,e){var n=t.getDay();return t=n>=4||n===0?Rf(t):Rf.ceil(t),Vt(t.getFullYear()%1e4,e,4)}function Gue(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Vt(e/60|0,"0",2)+Vt(e%60,"0",2)}function m4(t,e){return Vt(t.getUTCDate(),e,2)}function Xue(t,e){return Vt(t.getUTCHours(),e,2)}function Yue(t,e){return Vt(t.getUTCHours()%12||12,e,2)}function Que(t,e){return Vt(1+Ab.count(Eo(t),t),e,3)}function wU(t,e){return Vt(t.getUTCMilliseconds(),e,3)}function Jue(t,e){return wU(t,e)+"000"}function Zue(t,e){return Vt(t.getUTCMonth()+1,e,2)}function ede(t,e){return Vt(t.getUTCMinutes(),e,2)}function tde(t,e){return Vt(t.getUTCSeconds(),e,2)}function nde(t){var e=t.getUTCDay();return e===0?7:e}function rde(t,e){return Vt(jb.count(Eo(t)-1,t),e,2)}function _U(t){var e=t.getUTCDay();return e>=4||e===0?Df(t):Df.ceil(t)}function ide(t,e){return t=_U(t),Vt(Df.count(Eo(t),t)+(Eo(t).getUTCDay()===4),e,2)}function sde(t){return t.getUTCDay()}function ade(t,e){return Vt(J0.count(Eo(t)-1,t),e,2)}function ode(t,e){return Vt(t.getUTCFullYear()%100,e,2)}function lde(t,e){return t=_U(t),Vt(t.getUTCFullYear()%100,e,2)}function cde(t,e){return Vt(t.getUTCFullYear()%1e4,e,4)}function ude(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Df(t):Df.ceil(t),Vt(t.getUTCFullYear()%1e4,e,4)}function dde(){return"+0000"}function p4(){return"%"}function g4(t){return+t}function y4(t){return Math.floor(+t/1e3)}var Pd,EU,CU;fde({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fde(t){return Pd=fue(t),EU=Pd.format,Pd.parse,CU=Pd.utcFormat,Pd.utcParse,Pd}function hde(t){return new Date(t)}function mde(t){return t instanceof Date?+t:+new Date(+t)}function QP(t,e,n,r,i,s,a,l,c,d){var f=LP(),m=f.invert,p=f.domain,y=d(".%L"),x=d(":%S"),b=d("%I:%M"),_=d("%I %p"),T=d("%a %d"),L=d("%b %d"),M=d("%B"),z=d("%Y");function I(j){return(c(j)<j?y:l(j)<j?x:a(j)<j?b:s(j)<j?_:r(j)<j?i(j)<j?T:L:n(j)<j?M:z)(j)}return f.invert=function(j){return new Date(m(j))},f.domain=function(j){return arguments.length?p(Array.from(j,mde)):p().map(hde)},f.ticks=function(j){var C=p();return t(C[0],C[C.length-1],j??10)},f.tickFormat=function(j,C){return C==null?I:d(C)},f.nice=function(j){var C=p();return(!j||typeof j.range!="function")&&(j=e(C[0],C[C.length-1],j??10)),j?p(uU(C,j)):f},f.copy=function(){return ag(f,QP(t,e,n,r,i,s,a,l,c,d))},f}function pde(){return ls.apply(QP(uue,due,_o,XP,Ib,og,KP,HP,Yc,EU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function gde(){return ls.apply(QP(lue,cue,Eo,YP,jb,Ab,GP,WP,Yc,CU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function kb(){var t=0,e=1,n,r,i,s,a=Kr,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:a(i===0?.5:(m=(s(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(a=m,d):a};function f(m){return function(p){var y,x;return arguments.length?([y,x]=p,a=m(y,x),d):[a(0),a(1)]}}return d.range=f(Kf),d.rangeRound=f(MP),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function rc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function TU(){var t=nc(kb()(Kr));return t.copy=function(){return rc(t,TU())},Oo.apply(t,arguments)}function SU(){var t=BP(kb()).domain([1,10]);return t.copy=function(){return rc(t,SU()).base(t.base())},Oo.apply(t,arguments)}function NU(){var t=zP(kb());return t.copy=function(){return rc(t,NU()).constant(t.constant())},Oo.apply(t,arguments)}function JP(){var t=$P(kb());return t.copy=function(){return rc(t,JP()).exponent(t.exponent())},Oo.apply(t,arguments)}function yde(){return JP.apply(null,arguments).exponent(.5)}function PU(){var t=[],e=Kr;function n(r){if(r!=null&&!isNaN(r=+r))return e((ig(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Vl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>nce(t,s/r))},n.copy=function(){return PU(e).domain(t)},Oo.apply(n,arguments)}function Rb(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,d=Kr,f,m=!1,p;function y(b){return isNaN(b=+b)?p:(b=.5+((b=+f(b))-s)*(r*b<r*s?l:c),d(m?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,n]=b,i=f(t=+t),s=f(e=+e),a=f(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y):[t,e,n]},y.clamp=function(b){return arguments.length?(m=!!b,y):m},y.interpolator=function(b){return arguments.length?(d=b,y):d};function x(b){return function(_){var T,L,M;return arguments.length?([T,L,M]=_,d=Ace(b,[T,L,M]),y):[d(0),d(.5),d(1)]}}return y.range=x(Kf),y.rangeRound=x(MP),y.unknown=function(b){return arguments.length?(p=b,y):p},function(b){return f=b,i=b(t),s=b(e),a=b(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y}}function AU(){var t=nc(Rb()(Kr));return t.copy=function(){return rc(t,AU())},Oo.apply(t,arguments)}function IU(){var t=BP(Rb()).domain([.1,1,10]);return t.copy=function(){return rc(t,IU()).base(t.base())},Oo.apply(t,arguments)}function jU(){var t=zP(Rb());return t.copy=function(){return rc(t,jU()).constant(t.constant())},Oo.apply(t,arguments)}function ZP(){var t=$P(Rb());return t.copy=function(){return rc(t,ZP()).exponent(t.exponent())},Oo.apply(t,arguments)}function vde(){return ZP.apply(null,arguments).exponent(.5)}const wm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:RP,scaleDiverging:AU,scaleDivergingLog:IU,scaleDivergingPow:ZP,scaleDivergingSqrt:vde,scaleDivergingSymlog:jU,scaleIdentity:cU,scaleImplicit:JT,scaleLinear:lU,scaleLog:dU,scaleOrdinal:kP,scalePoint:sce,scalePow:UP,scaleQuantile:mU,scaleQuantize:pU,scaleRadial:hU,scaleSequential:TU,scaleSequentialLog:SU,scaleSequentialPow:JP,scaleSequentialQuantile:PU,scaleSequentialSqrt:yde,scaleSequentialSymlog:NU,scaleSqrt:Jce,scaleSymlog:fU,scaleThreshold:gU,scaleTime:pde,scaleUtc:gde,tickFormat:oU},Symbol.toStringTag,{value:"Module"}));var Mo=t=>t.chartData,kU=ye([Mo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),eA=(t,e,n,r)=>r?kU(t):Mo(t),xde=(t,e,n)=>n?kU(t):Mo(t);function Co(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Lt(e)&&Lt(n))return!0}return!1}function v4(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function RU(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Lt(n))i=n;else if(typeof n=="function")return;if(Lt(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Co(a))return a}}function bde(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Co(r))return v4(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Ze(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&AO.test(i)){var c=AO.exec(i);if(c==null||c[1]==null||e==null)a=void 0;else{var d=+c[1];a=e[0]-d}}else a=e?.[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(Ze(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e?.[1]))}catch{}else if(typeof s=="string"&&IO.test(s)){var f=IO.exec(s);if(f==null||f[1]==null||e==null)l=void 0;else{var m=+f[1];l=e[1]+m}}else l=e?.[1];var p=[a,l];if(Co(p))return e==null?p:v4(p,e,n)}}}var Gf=1e9,wde={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nA,hn=!0,os="[DecimalError] ",au=os+"Invalid argument: ",tA=os+"Exponent out of range: ",Xf=Math.floor,Vc=Math.pow,_de=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Pi,rr=1e7,on=7,DU=9007199254740991,Z0=Xf(DU/on),Ve={};Ve.absoluteValue=Ve.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ve.comparedTo=Ve.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ve.decimalPlaces=Ve.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*on;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ve.dividedBy=Ve.div=function(t){return uo(this,new this.constructor(t))};Ve.dividedToIntegerBy=Ve.idiv=function(t){var e=this,n=e.constructor;return Xt(uo(e,new n(t),0,1),n.precision)};Ve.equals=Ve.eq=function(t){return!this.cmp(t)};Ve.exponent=function(){return $n(this)};Ve.greaterThan=Ve.gt=function(t){return this.cmp(t)>0};Ve.greaterThanOrEqualTo=Ve.gte=function(t){return this.cmp(t)>=0};Ve.isInteger=Ve.isint=function(){return this.e>this.d.length-2};Ve.isNegative=Ve.isneg=function(){return this.s<0};Ve.isPositive=Ve.ispos=function(){return this.s>0};Ve.isZero=function(){return this.s===0};Ve.lessThan=Ve.lt=function(t){return this.cmp(t)<0};Ve.lessThanOrEqualTo=Ve.lte=function(t){return this.cmp(t)<1};Ve.logarithm=Ve.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Pi))throw Error(os+"NaN");if(n.s<1)throw Error(os+(n.s?"NaN":"-Infinity"));return n.eq(Pi)?new r(0):(hn=!1,e=uo(wp(n,s),wp(t,s),s),hn=!0,Xt(e,i))};Ve.minus=Ve.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?LU(e,t):OU(e,(t.s=-t.s,t))};Ve.modulo=Ve.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(os+"NaN");return n.s?(hn=!1,e=uo(n,t,0,1).times(t),hn=!0,n.minus(e)):Xt(new r(n),i)};Ve.naturalExponential=Ve.exp=function(){return MU(this)};Ve.naturalLogarithm=Ve.ln=function(){return wp(this)};Ve.negated=Ve.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ve.plus=Ve.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?OU(e,t):LU(e,(t.s=-t.s,t))};Ve.precision=Ve.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(au+t);if(e=$n(i)+1,r=i.d.length-1,n=r*on+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ve.squareRoot=Ve.sqrt=function(){var t,e,n,r,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(os+"NaN")}for(t=$n(l),hn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=_a(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Xf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(uo(l,s,a+2)).times(.5),_a(s.d).slice(0,a)===(e=_a(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Xt(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return hn=!0,Xt(r,n)};Ve.times=Ve.mul=function(t){var e,n,r,i,s,a,l,c,d,f=this,m=f.constructor,p=f.d,y=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,n=f.e+t.e,c=p.length,d=y.length,c<d&&(s=p,p=y,y=s,a=c,c=d,d=a),s=[],a=c+d,r=a;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+y[r]*p[i-r-1]+e,s[i--]=l%rr|0,e=l/rr|0;s[i]=(s[i]+e)%rr|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,hn?Xt(t,m.precision):t};Ve.toDecimalPlaces=Ve.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ja(t,0,Gf),e===void 0?e=r.rounding:ja(e,0,8),Xt(n,t+$n(n)+1,e))};Ve.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Pu(r,!0):(ja(t,0,Gf),e===void 0?e=i.rounding:ja(e,0,8),r=Xt(new i(r),t+1,e),n=Pu(r,!0,t+1)),n};Ve.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Pu(i):(ja(t,0,Gf),e===void 0?e=s.rounding:ja(e,0,8),r=Xt(new s(i),t+$n(i)+1,e),n=Pu(r.abs(),!1,t+$n(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ve.toInteger=Ve.toint=function(){var t=this,e=t.constructor;return Xt(new e(t),$n(t)+1,e.rounding)};Ve.toNumber=function(){return+this};Ve.toPower=Ve.pow=function(t){var e,n,r,i,s,a,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(Pi);if(l=new c(l),!l.s){if(t.s<1)throw Error(os+"Infinity");return l}if(l.eq(Pi))return l;if(r=c.precision,t.eq(Pi))return Xt(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=f<0?-f:f)<=DU){for(i=new c(Pi),e=Math.ceil(r/on+4),hn=!1;n%2&&(i=i.times(l),b4(i.d,e)),n=Xf(n/2),n!==0;)l=l.times(l),b4(l.d,e);return hn=!0,t.s<0?new c(Pi).div(i):Xt(i,r)}}else if(s<0)throw Error(os+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,hn=!1,i=t.times(wp(l,r+d)),hn=!0,i=MU(i),i.s=s,i};Ve.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=$n(i),r=Pu(i,n<=s.toExpNeg||n>=s.toExpPos)):(ja(t,1,Gf),e===void 0?e=s.rounding:ja(e,0,8),i=Xt(new s(i),t,e),n=$n(i),r=Pu(i,t<=n||n<=s.toExpNeg,t)),r};Ve.toSignificantDigits=Ve.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ja(t,1,Gf),e===void 0?e=r.rounding:ja(e,0,8)),Xt(new r(n),t,e)};Ve.toString=Ve.valueOf=Ve.val=Ve.toJSON=Ve[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$n(t),n=t.constructor;return Pu(t,e<=n.toExpNeg||e>=n.toExpPos)};function OU(t,e){var n,r,i,s,a,l,c,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),hn?Xt(e,m):e;if(c=t.d,d=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,l=d.length):(r=d,i=a,l=c.length),a=Math.ceil(m/on),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,r=d,d=c,c=r),n=0;s;)n=(c[--s]=c[s]+d[s]+n)/rr|0,c[s]%=rr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,hn?Xt(e,m):e}function ja(t,e,n){if(t!==~~t||t<e||t>n)throw Error(au+t)}function _a(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=on-r.length,n&&(s+=vl(n)),s+=r;a=t[e],r=a+"",n=on-r.length,n&&(s+=vl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var uo=(function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%rr|0,a=s/rr|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*rr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,c,d,f,m,p,y,x,b,_,T,L,M,z,I,j,C,S,D=r.constructor,N=r.s==i.s?1:-1,k=r.d,O=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(os+"Division by zero");for(c=r.e-i.e,C=O.length,I=k.length,y=new D(N),x=y.d=[],d=0;O[d]==(k[d]||0);)++d;if(O[d]>(k[d]||0)&&--c,s==null?L=s=D.precision:a?L=s+($n(r)-$n(i))+1:L=s,L<0)return new D(0);if(L=L/on+2|0,d=0,C==1)for(f=0,O=O[0],L++;(d<I||f)&&L--;d++)M=f*rr+(k[d]||0),x[d]=M/O|0,f=M%O|0;else{for(f=rr/(O[0]+1)|0,f>1&&(O=t(O,f),k=t(k,f),C=O.length,I=k.length),z=C,b=k.slice(0,C),_=b.length;_<C;)b[_++]=0;S=O.slice(),S.unshift(0),j=O[0],O[1]>=rr/2&&++j;do f=0,l=e(O,b,C,_),l<0?(T=b[0],C!=_&&(T=T*rr+(b[1]||0)),f=T/j|0,f>1?(f>=rr&&(f=rr-1),m=t(O,f),p=m.length,_=b.length,l=e(m,b,p,_),l==1&&(f--,n(m,C<p?S:O,p))):(f==0&&(l=f=1),m=O.slice()),p=m.length,p<_&&m.unshift(0),n(b,m,_),l==-1&&(_=b.length,l=e(O,b,C,_),l<1&&(f++,n(b,C<_?S:O,_))),_=b.length):l===0&&(f++,b=[0]),x[d++]=f,l&&b[0]?b[_++]=k[z]||0:(b=[k[z]],_=1);while((z++<I||b[0]!==void 0)&&L--)}return x[0]||x.shift(),y.e=c,Xt(y,a?s+$n(y)+1:s)}})();function MU(t,e){var n,r,i,s,a,l,c=0,d=0,f=t.constructor,m=f.precision;if($n(t)>16)throw Error(tA+$n(t));if(!t.s)return new f(Pi);for(hn=!1,l=m,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(Vc(2,d))/Math.LN10*2+5|0,l+=r,n=i=s=new f(Pi),f.precision=l;;){if(i=Xt(i.times(t),l),n=n.times(++c),a=s.plus(uo(i,n,l)),_a(a.d).slice(0,l)===_a(s.d).slice(0,l)){for(;d--;)s=Xt(s.times(s),l);return f.precision=m,e==null?(hn=!0,Xt(s,m)):s}s=a}}function $n(t){for(var e=t.e*on,n=t.d[0];n>=10;n/=10)e++;return e}function fE(t,e,n){if(e>t.LN10.sd())throw hn=!0,n&&(t.precision=n),Error(os+"LN10 precision limit exceeded");return Xt(new t(t.LN10),e)}function vl(t){for(var e="";t--;)e+="0";return e}function wp(t,e){var n,r,i,s,a,l,c,d,f,m=1,p=10,y=t,x=y.d,b=y.constructor,_=b.precision;if(y.s<1)throw Error(os+(y.s?"NaN":"-Infinity"));if(y.eq(Pi))return new b(0);if(e==null?(hn=!1,d=_):d=e,y.eq(10))return e==null&&(hn=!0),fE(b,d);if(d+=p,b.precision=d,n=_a(x),r=n.charAt(0),s=$n(y),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=_a(y.d),r=n.charAt(0),m++;s=$n(y),r>1?(y=new b("0."+n),s++):y=new b(r+"."+n.slice(1))}else return c=fE(b,d+2,_).times(s+""),y=wp(new b(r+"."+n.slice(1)),d-p).plus(c),b.precision=_,e==null?(hn=!0,Xt(y,_)):y;for(l=a=y=uo(y.minus(Pi),y.plus(Pi),d),f=Xt(y.times(y),d),i=3;;){if(a=Xt(a.times(f),d),c=l.plus(uo(a,new b(i),d)),_a(c.d).slice(0,d)===_a(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(fE(b,d+2,_).times(s+""))),l=uo(l,new b(m),d),b.precision=_,e==null?(hn=!0,Xt(l,_)):l;l=c,i+=2}}function x4(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Xf(n/on),t.d=[],r=(n+1)%on,n<0&&(r+=on),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=on;r<i;)t.d.push(+e.slice(r,r+=on));e=e.slice(r),r=on-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),hn&&(t.e>Z0||t.e<-Z0))throw Error(tA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Xt(t,e,n){var r,i,s,a,l,c,d,f,m=t.d;for(a=1,s=m[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=on,i=e,d=m[f=0];else{if(f=Math.ceil((r+1)/on),s=m.length,f>=s)return t;for(d=s=m[f],a=1;s>=10;s/=10)a++;r%=on,i=r-on+a}if(n!==void 0&&(s=Vc(10,a-i-1),l=d/s%10|0,c=e<0||m[f+1]!==void 0||d%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/Vc(10,a-i):0:m[f-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(s=$n(t),m.length=1,e=e-s-1,m[0]=Vc(10,(on-e%on)%on),t.e=Xf(-e/on)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=f,s=1,f--):(m.length=f+1,s=Vc(10,on-r),m[f]=i>0?(d/Vc(10,a-i)%Vc(10,i)|0)*s:0),c)for(;;)if(f==0){(m[0]+=s)==rr&&(m[0]=1,++t.e);break}else{if(m[f]+=s,m[f]!=rr)break;m[f--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(hn&&(t.e>Z0||t.e<-Z0))throw Error(tA+$n(t));return t}function LU(t,e){var n,r,i,s,a,l,c,d,f,m,p=t.constructor,y=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),hn?Xt(e,y):e;if(c=t.d,m=e.d,r=e.e,d=t.e,c=c.slice(),a=d-r,a){for(f=a<0,f?(n=c,a=-a,l=m.length):(n=m,r=d,l=c.length),i=Math.max(Math.ceil(y/on),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){f=c[i]<m[i];break}a=0}for(f&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>a;){if(c[--i]<m[i]){for(s=i;s&&c[--s]===0;)c[s]=rr-1;--c[s],c[i]+=rr}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,hn?Xt(e,y):e):new p(0)}function Pu(t,e,n){var r,i=$n(t),s=_a(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+vl(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+vl(-i-1)+s,n&&(r=n-a)>0&&(s+=vl(r))):i>=a?(s+=vl(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+vl(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=vl(r))),t.s<0?"-"+s:s}function b4(t,e){if(t.length>e)return t.length=e,!0}function VU(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(au+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return x4(a,s.toString())}else if(typeof s!="string")throw Error(au+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,_de.test(s))x4(a,s);else throw Error(au+s)}if(i.prototype=Ve,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VU,i.config=i.set=Ede,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Ede(t){if(!t||typeof t!="object")throw Error(os+"Object expected");var e,n,r,i=["precision",1,Gf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Xf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(au+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(au+n+": "+r);return this}var nA=VU(wde);Pi=new nA(1);const qt=nA;function FU(t){var e;return t===0?e=1:e=Math.floor(new qt(t).abs().log(10).toNumber())+1,e}function BU(t,e,n){for(var r=new qt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var zU=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},$U=(t,e,n)=>{if(t.lte(0))return new qt(0);var r=FU(t.toNumber()),i=new qt(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new qt(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?new qt(c.toNumber()):new qt(Math.ceil(c.toNumber()))},Cde=(t,e,n)=>{var r=new qt(1),i=new qt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new qt(10).pow(FU(t)-1),i=new qt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new qt(Math.floor(t)))}else t===0?i=new qt(Math.floor((e-1)/2)):n||(i=new qt(Math.floor(t)));for(var a=Math.floor((e-1)/2),l=[],c=0;c<e;c++)l.push(i.add(new qt(c-a).mul(r)).toNumber());return l},UU=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new qt(0),tickMin:new qt(0),tickMax:new qt(0)};var a=$U(new qt(n).sub(e).div(r-1),i,s),l;e<=0&&n>=0?l=new qt(0):(l=new qt(e).add(n).div(2),l=l.sub(new qt(l).mod(a)));var c=Math.ceil(l.sub(e).div(a).toNumber()),d=Math.ceil(new qt(n).sub(l).div(a).toNumber()),f=c+d+1;return f>r?UU(e,n,r,i,s+1):(f<r&&(d=n>0?d+(r-f):d,c=n>0?c:c+(r-f)),{step:a,tickMin:l.sub(new qt(c).mul(a)),tickMax:l.add(new qt(d).mul(a))})},Tde=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[l,c]=zU([n,r]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return n>r?d.reverse():d}if(l===c)return Cde(l,i,s);var{step:f,tickMin:m,tickMax:p}=UU(l,c,a,s,0),y=BU(m,p.add(new qt(.1).mul(f)),f);return n>r?y.reverse():y},Sde=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=zU([r,i]);if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var c=Math.max(n,2),d=$U(new qt(l).sub(a).div(c-1),s,0),f=[...BU(new qt(a),new qt(l),d),l];return s===!1&&(f=f.map(m=>Math.round(m))),r>i?f.reverse():f},Nde=t=>t.rootProps.barCategoryGap,Db=t=>t.rootProps.stackOffset,qU=t=>t.rootProps.reverseStackOrder,rA=t=>t.options.chartName,iA=t=>t.rootProps.syncId,HU=t=>t.rootProps.syncMethod,sA=t=>t.options.eventEmitter,Pde=t=>t.rootProps.baseValue,Gr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ic={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ca={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Ob=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function aA(t,e,n){if(n!=="auto")return n;if(t!=null)return $s(t,e)?"category":"number"}function w4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ex(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w4(Object(n),!0).forEach(function(r){Ade(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ade(t,e,n){return(e=Ide(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ide(t){var e=jde(t,"string");return typeof e=="symbol"?e:e+""}function jde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _4={allowDataOverflow:Ic.allowDataOverflow,allowDecimals:Ic.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ic.angleAxisId,includeHidden:!1,name:void 0,reversed:Ic.reversed,scale:Ic.scale,tick:Ic.tick,tickCount:void 0,ticks:void 0,type:Ic.type,unit:void 0},E4={allowDataOverflow:ca.allowDataOverflow,allowDecimals:ca.allowDecimals,allowDuplicatedCategory:ca.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ca.radiusAxisId,includeHidden:ca.includeHidden,name:void 0,reversed:ca.reversed,scale:ca.scale,tick:ca.tick,tickCount:ca.tickCount,ticks:void 0,type:ca.type,unit:void 0},kde=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},oA=ye([kde,O$],(t,e)=>{var n;if(t!=null)return t;var r=(n=aA(e,"angleAxis",_4.type))!==null&&n!==void 0?n:"category";return ex(ex({},_4),{},{type:r})}),Rde=(t,e)=>t.polarAxis.radiusAxis[e],lA=ye([Rde,O$],(t,e)=>{var n;if(t!=null)return t;var r=(n=aA(e,"radiusAxis",E4.type))!==null&&n!==void 0?n:"category";return ex(ex({},E4),{},{type:r})}),Mb=t=>t.polarOptions,cA=ye([Ro,Do,Cr],Ile),WU=ye([Mb,cA],(t,e)=>{if(t!=null)return Gl(t.innerRadius,e,0)}),KU=ye([Mb,cA],(t,e)=>{if(t!=null)return Gl(t.outerRadius,e,e*.8)}),Dde=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},GU=ye([Mb],Dde);ye([oA,GU],Ob);var XU=ye([cA,WU,KU],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ye([lA,XU],Ob);var YU=ye([nn,Mb,WU,KU,Ro,Do],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:c,endAngle:d}=e;return{cx:Gl(a,i,i/2),cy:Gl(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),lr=(t,e)=>e,Lb=(t,e,n)=>n;function uA(t){return t?.id}function QU(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var f=uA(l);d.forEach((m,p)=>{var y=s==null||i?p:String(Kn(m,s,null)),x=Kn(m,l.dataKey,0),b;a.has(y)?b=a.get(y):b={},Object.assign(b,{[f]:x}),a.set(y,b)})}}),Array.from(a.values())}function dA(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Vb=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Fb(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Ode(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var cr=t=>{var e=nn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Yf=t=>t.tooltip.settings.axisId;function Mde(t){if(t in wm)return wm[t]();var e="scale".concat(Qp(t));if(e in wm)return wm[e]()}function C4(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(s){function a(){return s.apply(this,arguments)}return a.toString=function(){return s.toString()},a})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var a=i[0],l=i[1];return a<=l?s>=a&&s<=l:s>=l&&s<=a},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,a)=>{var l=t(s);if(l!=null){if(t.bandwidth&&a!==null&&a!==void 0&&a.position){var c=t.bandwidth();switch(a.position){case"middle":l+=c/2;break;case"end":l+=c;break}}return l}}}}function T4(t,e,n){if(typeof t=="function")return C4(t.copy().domain(e).range(n));if(t!=null){var r=Mde(t);if(r!=null)return r.domain(e).range(n),C4(r)}}var Lde=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Co(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];Lt(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function S4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S4(Object(n),!0).forEach(function(r){Vde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vde(t,e,n){return(e=Fde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t){var e=Bde(t,"string");return typeof e=="symbol"?e:e+""}function Bde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nS=[0,"auto"],JU={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},zde=(t,e)=>t.cartesianAxis.xAxis[e],Lo=(t,e)=>{var n=zde(t,e);return n??JU},tr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:nS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:eg},ZU=(t,e)=>t.cartesianAxis.yAxis[e],Vo=(t,e)=>{var n=ZU(t,e);return n??tr},$de={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},fA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??$de},Zr=(t,e,n)=>{switch(e){case"xAxis":return Lo(t,n);case"yAxis":return Vo(t,n);case"zAxis":return fA(t,n);case"angleAxis":return oA(t,n);case"radiusAxis":return lA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Ude=(t,e,n)=>{switch(e){case"xAxis":return Lo(t,n);case"yAxis":return Vo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},lg=(t,e,n)=>{switch(e){case"xAxis":return Lo(t,n);case"yAxis":return Vo(t,n);case"angleAxis":return oA(t,n);case"radiusAxis":return lA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},e8=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function t8(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var hA=t=>t.graphicalItems.cartesianItems,qde=ye([lr,Lb],t8),n8=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),cg=ye([hA,Zr,qde],n8,{memoizeOptions:{resultEqualityCheck:Fb}}),r8=ye([cg],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(dA)),i8=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),Hde=ye([cg],i8),s8=t=>t.map(e=>e.data).filter(Boolean).flat(1),Wde=ye([cg],s8,{memoizeOptions:{resultEqualityCheck:Fb}}),a8=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},mA=ye([Wde,eA],a8),o8=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Kn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Kn(i,r)}))):t.map(r=>({value:r})),Bb=ye([mA,Zr,cg],o8);function l8(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function jv(t){if(Ia(t)||t instanceof Date){var e=Number(t);if(Lt(e))return e}}function N4(t){if(Array.isArray(t)){var e=[jv(t[0]),jv(t[1])];return Co(e)?e:void 0}var n=jv(t);if(n!=null)return[n,n]}function To(t){return t.map(jv).filter(ba)}function Kde(t,e,n){return!n||typeof e!="number"||Aa(e)?[]:n.length?To(n.flatMap(r=>{var i=Kn(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Lt(s)||!Lt(a)))return[e-s,e+a]})):[]}var Qn=t=>{var e=cr(t),n=Yf(t);return lg(t,e,n)},ug=ye([Qn],t=>t?.dataKey),Gde=ye([r8,eA,Qn],QU),c8=(t,e,n,r)=>{var i={},s=e.reduce((a,l)=>{if(l.stackId==null)return a;var c=a[l.stackId];return c==null&&(c=[]),c.push(l),a[l.stackId]=c,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[l,c]=a,d=r?[...c].reverse():c,f=d.map(uA);return[l,{stackedData:vae(t,f,n),graphicalItems:d}]}))},u8=ye([Gde,r8,Db,qU],c8),d8=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=_ae(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Xde=ye([Zr],t=>t.allowDataOverflow),pA=t=>{var e;if(t==null||!("domain"in t))return nS;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=To(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:nS},f8=ye([Zr],pA),h8=ye([f8,Xde],RU),Yde=ye([u8,Mo,lr,h8],d8,{memoizeOptions:{resultEqualityCheck:Vb}}),gA=t=>t.errorBars,Qde=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>l8(n,r)),nx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},m8=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(l=>{n.forEach(c=>{var d,f,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(T=>l8(i,T)),p=Kn(l,(f=e.dataKey)!==null&&f!==void 0?f:c.dataKey),y=Kde(l,p,m);if(y.length>=2){var x=Math.min(...y),b=Math.max(...y);(s==null||x<s)&&(s=x),(a==null||b>a)&&(a=b)}var _=N4(p);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),a=a==null?_[1]:Math.max(a,_[1]))})}),e?.dataKey!=null&&t.forEach(l=>{var c=N4(Kn(l,e.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),Lt(s)&&Lt(a))return[s,a]},Jde=ye([mA,Zr,Hde,gA,lr],m8,{memoizeOptions:{resultEqualityCheck:Vb}});function Zde(t){var{value:e}=t;if(Ia(e)||e instanceof Date)return e}var efe=(t,e,n)=>{var r=t.map(Zde).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Mz(r))?J$(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},p8=t=>t.referenceElements.dots,Qf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),tfe=ye([p8,lr,Lb],Qf),g8=t=>t.referenceElements.areas,nfe=ye([g8,lr,Lb],Qf),y8=t=>t.referenceElements.lines,rfe=ye([y8,lr,Lb],Qf),v8=(t,e)=>{if(t!=null){var n=To(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},ife=ye(tfe,lr,v8),x8=(t,e)=>{if(t!=null){var n=To(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},sfe=ye([nfe,lr],x8);function afe(t){var e;if(t.x!=null)return To([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:To(n)}function ofe(t){var e;if(t.y!=null)return To([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:To(n)}var b8=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?afe(r):ofe(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},lfe=ye([rfe,lr],b8),cfe=ye(ife,lfe,sfe,(t,e,n)=>nx(t,n,e)),w8=(t,e,n,r,i,s,a,l)=>{if(n!=null)return n;var c=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",d=c?nx(r,s,i):nx(s,i);return bde(e,d,t.allowDataOverflow)},ufe=ye([Zr,f8,h8,Yde,Jde,cfe,nn,lr],w8,{memoizeOptions:{resultEqualityCheck:Vb}}),dfe=[0,1],_8=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:c}=t,d=$s(e,s);if(d&&l==null){var f;return J$(0,(f=n?.length)!==null&&f!==void 0?f:0)}return c==="category"?efe(r,t,d):i==="expand"?dfe:a}},yA=ye([Zr,nn,mA,Bb,Db,lr,ufe],_8);function ffe(t){return t in wm}var E8=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(Qp(r));return ffe(s)?s:"point"}}},Jf=ye([Zr,e8,rA],E8);function vA(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?T4(t.scale,n,r):T4(e,n,r)}var C8=(t,e,n)=>{var r=pA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Co(t))return Tde(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Co(t))return Sde(t,e.tickCount,e.allowDecimals)}},xA=ye([yA,lg,Jf],C8),T8=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Co(e)&&Array.isArray(n)&&n.length>0){var i,s,a=e[0],l=(i=n[0])!==null&&i!==void 0?i:0,c=e[1],d=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(a,l),Math.max(c,d)]}return e},hfe=ye([Zr,yA,xA,lr],T8),mfe=ye(Bb,Zr,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(To(t.map(m=>m.value))).sort((m,p)=>m-p),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l],d=r[l+1];if(!(c==null||d==null)){var f=d-c;n=Math.min(n,f)}}return n/a}}),S8=ye(mfe,nn,Nde,Cr,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Lt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Gl(n,t*s),l=t*s/2;return l-a-(l-a)/s*a}return 0}),pfe=(t,e,n)=>{var r=Lo(t,e);return r==null||typeof r.padding!="string"?0:S8(t,"xAxis",e,n,r.padding)},gfe=(t,e,n)=>{var r=Vo(t,e);return r==null||typeof r.padding!="string"?0:S8(t,"yAxis",e,n,r.padding)},yfe=ye(Lo,pfe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),vfe=ye(Vo,gfe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),xfe=ye([Cr,yfe,wb,bb,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),bfe=ye([Cr,nn,vfe,wb,bb,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),dg=(t,e,n,r)=>{var i;switch(e){case"xAxis":return xfe(t,n,r);case"yAxis":return bfe(t,n,r);case"zAxis":return(i=fA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return GU(t);case"radiusAxis":return XU(t,n);default:return}},N8=ye([Zr,dg],Ob),wfe=ye([Jf,hfe],Lde),zb=ye([Zr,Jf,wfe,N8],vA);ye([cg,gA,lr],Qde);function P8(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var $b=(t,e)=>e,Ub=(t,e,n)=>n,_fe=ye(vb,$b,Ub,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(P8)),Efe=ye(xb,$b,Ub,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(P8)),A8=(t,e)=>({width:t.width,height:e.height}),Cfe=(t,e)=>{var n=typeof e.width=="number"?e.width:eg;return{width:n,height:t.height}};ye(Cr,Lo,A8);var Tfe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Sfe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Nfe=ye(Do,Cr,_fe,$b,Ub,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=A8(e,l);a==null&&(a=Tfe(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(d)*c.height,a+=(d?-1:1)*c.height}),s}),Pfe=ye(Ro,Cr,Efe,$b,Ub,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=Cfe(e,l);a==null&&(a=Sfe(e,r,t));var d=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(d)*c.width,a+=(d?-1:1)*c.width}),s}),Afe=(t,e)=>{var n=Lo(t,e);if(n!=null)return Nfe(t,n.orientation,n.mirror)};ye([Cr,Lo,Afe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}});var Ife=(t,e)=>{var n=Vo(t,e);if(n!=null)return Pfe(t,n.orientation,n.mirror)},jfe=ye([Cr,Vo,Ife,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),kfe=ye(Cr,Vo,(t,e)=>{var n=typeof e.width=="number"?e.width:eg;return{width:n,height:t.height}}),I8=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=$s(t,r),c=e.map(d=>d.value);if(a&&l&&s==="category"&&i&&Mz(c))return c}},bA=ye([nn,Bb,Zr,lr],I8),j8=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=$s(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},wA=ye([nn,Bb,lg,lr],j8);ye([nn,Ude,Jf,zb,bA,wA,dg,xA,lr],(t,e,n,r,i,s,a,l,c)=>{if(e!=null){var d=$s(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:l,range:a,realScaleType:n,scale:r}}});var Rfe=(t,e,n,r,i,s,a,l,c)=>{if(!(e==null||r==null)){var d=$s(t,c),{type:f,ticks:m,tickCount:p}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/y:0;x=c==="angleAxis"&&s!=null&&s.length>=2?As(s[0]-s[1])*2*x:x;var b=m||i;return b?b.map((_,T)=>{var L=a?a.indexOf(_):_,M=r.map(L);return Lt(M)?{index:T,coordinate:M+x,value:_,offset:x}:null}).filter(ba):d&&l?l.map((_,T)=>{var L=r.map(_);return Lt(L)?{coordinate:L+x,value:_,index:T,offset:x}:null}).filter(ba):r.ticks?r.ticks(p).map((_,T)=>{var L=r.map(_);return Lt(L)?{coordinate:L+x,value:_,index:T,offset:x}:null}).filter(ba):r.domain().map((_,T)=>{var L=r.map(_);return Lt(L)?{coordinate:L+x,value:a?a[_]:_,index:T,offset:x}:null}).filter(ba)}},Dfe=ye([nn,lg,Jf,zb,xA,dg,bA,wA,lr],Rfe),Ofe=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=$s(t,a),{tickCount:c}=e,d=0;return d=a==="angleAxis"&&r?.length>=2?As(r[0]-r[1])*2*d:d,l&&s?s.map((f,m)=>{var p=n.map(f);return Lt(p)?{coordinate:p+d,value:f,index:m,offset:d}:null}).filter(ba):n.ticks?n.ticks(c).map((f,m)=>{var p=n.map(f);return Lt(p)?{coordinate:p+d,value:f,index:m,offset:d}:null}).filter(ba):n.domain().map((f,m)=>{var p=n.map(f);return Lt(p)?{coordinate:p+d,value:i?i[f]:f,index:m,offset:d}:null}).filter(ba)}},qb=ye([nn,lg,zb,dg,bA,wA,lr],Ofe),Hb=ye(Zr,zb,(t,e)=>{if(!(t==null||e==null))return tx(tx({},t),{},{scale:e})}),Mfe=ye([Zr,Jf,yA,N8],vA);ye((t,e,n)=>fA(t,n),Mfe,(t,e)=>{if(!(t==null||e==null))return tx(tx({},t),{},{scale:e})});var Lfe=ye([nn,vb,xb],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),k8=t=>t.options.defaultTooltipEventType,R8=t=>t.options.validateTooltipEventTypes;function D8(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function _A(t,e){var n=k8(t),r=R8(t);return D8(e,n,r)}function Vfe(t){return ut(e=>_A(e,t))}var O8=(t,e)=>{var n,r=Number(e);if(!(Aa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Ffe=t=>t.tooltip.settings,Cl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Bfe={itemInteraction:{click:Cl,hover:Cl},axisInteraction:{click:Cl,hover:Cl},keyboardInteraction:Cl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},M8=mi({name:"tooltip",initialState:Bfe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:cn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ds(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:cn()},removeTooltipEntrySettings:{reducer(t,e){var n=Ds(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:cn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:zfe,replaceTooltipEntrySettings:$fe,removeTooltipEntrySettings:Ufe,setTooltipSettingsState:qfe,setActiveMouseOverItemIndex:Hfe,mouseLeaveItem:lPe,mouseLeaveChart:L8,setActiveClickItemIndex:cPe,setMouseOverAxisIndex:V8,setMouseClickAxisIndex:Wfe,setSyncInteraction:rS,setKeyboardInteraction:iS}=M8.actions,Kfe=M8.reducer;function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){Gfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gfe(t,e,n){return(e=Xfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xfe(t){var e=Yfe(t,"string");return typeof e=="symbol"?e:e+""}function Yfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qfe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Jfe(t){return t.index!=null}var F8=(t,e,n,r)=>{if(e==null)return Cl;var i=Qfe(t,e,n);if(i==null)return Cl;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Jfe(i)){if(s)return Zy(Zy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Zy(Zy({},Cl),{},{coordinate:i.coordinate})};function Zfe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function ehe(t,e){var n=Zfe(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function the(t,e,n){if(n==null||e==null)return!0;var r=Kn(t,e);return r==null||!Co(n)?!0:ehe(r,n)}var EA=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Lt(s))return i;var a=0,l=1/0;e.length>0&&(l=e.length-1);var c=Math.max(a,Math.min(s,l)),d=e[c];return d==null||the(d,n,r)?String(c):null},B8=(t,e,n,r,i,s,a)=>{if(s!=null){var l=a[0],c=l?.getPosition(s);if(c!=null)return c;var d=i?.[Number(s)];if(d)return n==="horizontal"?{x:d.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:d.coordinate}}},z8=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},$8=t=>t.options.tooltipPayloadSearcher,Zf=t=>t.tooltip;function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(r){nhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nhe(t,e,n){return(e=rhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rhe(t){var e=ihe(t,"string");return typeof e=="symbol"?e:e+""}function ihe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function she(t,e){return t??e}var U8=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:f}=n,m=[];return t.reduce((p,y)=>{var x,{dataDefinedOnItem:b,settings:_}=y,T=she(b,l),L=Array.isArray(T)?P$(T,d,f):T,M=(x=_?.dataKey)!==null&&x!==void 0?x:r,z=_?.nameKey,I;if(r&&Array.isArray(L)&&!Array.isArray(L[0])&&a==="axis"?I=Lz(L,r,i):I=s(L,e,c,z),Array.isArray(I))I.forEach(C=>{var S=I4(I4({},_),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});p.push(jO({tooltipEntrySettings:S,dataKey:C.dataKey,payload:C.payload,value:Kn(C.payload,C.dataKey),name:C.name}))});else{var j;p.push(jO({tooltipEntrySettings:_,dataKey:M,payload:I,value:Kn(I,M),name:(j=Kn(I,z))!==null&&j!==void 0?j:_?.name}))}return p},m)}},CA=ye([Qn,e8,rA],E8),ahe=ye([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),ohe=ye([cr,Yf],t8),eh=ye([ahe,Qn,ohe],n8,{memoizeOptions:{resultEqualityCheck:Fb}}),lhe=ye([eh],t=>t.filter(dA)),che=ye([eh],s8,{memoizeOptions:{resultEqualityCheck:Fb}}),th=ye([che,Mo],a8),uhe=ye([lhe,Mo,Qn],QU),TA=ye([th,Qn,eh],o8),q8=ye([Qn],pA),dhe=ye([Qn],t=>t.allowDataOverflow),H8=ye([q8,dhe],RU),fhe=ye([eh],t=>t.filter(dA)),hhe=ye([uhe,fhe,Db,qU],c8),mhe=ye([hhe,Mo,cr,H8],d8),phe=ye([eh],i8),ghe=ye([th,Qn,phe,gA,cr],m8,{memoizeOptions:{resultEqualityCheck:Vb}}),yhe=ye([p8,cr,Yf],Qf),vhe=ye([yhe,cr],v8),xhe=ye([g8,cr,Yf],Qf),bhe=ye([xhe,cr],x8),whe=ye([y8,cr,Yf],Qf),_he=ye([whe,cr],b8),Ehe=ye([vhe,_he,bhe],nx),Che=ye([Qn,q8,H8,mhe,ghe,Ehe,nn,cr],w8),fg=ye([Qn,nn,th,TA,Db,cr,Che],_8),The=ye([fg,Qn,CA],C8),She=ye([Qn,fg,The,cr],T8),W8=t=>{var e=cr(t),n=Yf(t),r=!1;return dg(t,e,n,r)},K8=ye([Qn,W8],Ob),G8=ye([Qn,CA,She,K8],vA),Nhe=ye([nn,TA,Qn,cr],I8),Phe=ye([nn,TA,Qn,cr],j8),Ahe=(t,e,n,r,i,s,a,l)=>{if(e){var{type:c}=e,d=$s(t,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/f:0;return m=l==="angleAxis"&&i!=null&&i?.length>=2?As(i[0]-i[1])*2*m:m,d&&a?a.map((p,y)=>{var x=r.map(p);return Lt(x)?{coordinate:x+m,value:p,index:y,offset:m}:null}).filter(ba):r.domain().map((p,y)=>{var x=r.map(p);return Lt(x)?{coordinate:x+m,value:s?s[p]:p,index:y,offset:m}:null}).filter(ba)}}},Fo=ye([nn,Qn,CA,G8,W8,Nhe,Phe,cr],Ahe),SA=ye([k8,R8,Ffe],(t,e,n)=>D8(n.shared,t,e)),X8=t=>t.tooltip.settings.trigger,NA=t=>t.tooltip.settings.defaultIndex,hg=ye([Zf,SA,X8,NA],F8),_p=ye([hg,th,ug,fg],EA),Y8=ye([Fo,_p],O8),Ihe=ye([hg],t=>{if(t)return t.dataKey});ye([hg],t=>{if(t)return t.graphicalItemId});var Q8=ye([Zf,SA,X8,NA],z8),jhe=ye([Ro,Do,nn,Cr,Fo,NA,Q8],B8),khe=ye([hg,jhe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Rhe=ye([hg],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Dhe=ye([Q8,_p,Mo,ug,Y8,$8,SA],U8),Ohe=ye([Dhe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function j4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j4(Object(n),!0).forEach(function(r){Mhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mhe(t,e,n){return(e=Lhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lhe(t){var e=Vhe(t,"string");return typeof e=="symbol"?e:e+""}function Vhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fhe=()=>ut(Qn),Bhe=()=>{var t=Fhe(),e=ut(Fo),n=ut(G8);return If(!t||!n?void 0:k4(k4({},t),{},{scale:n}),e)};function R4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ad(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R4(Object(n),!0).forEach(function(r){zhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zhe(t,e,n){return(e=$he(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $he(t){var e=Uhe(t,"string");return typeof e=="symbol"?e:e+""}function Uhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qhe=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Hhe=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=r;return Ad(Ad(Ad({},r),wr(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=r;return Ad(Ad(Ad({},r),wr(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Whe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var J8=(t,e,n,r,i)=>{var s,a=(s=e?.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var c,d,f,m,p,y=l>0?(c=n[l-1])===null||c===void 0?void 0:c.coordinate:(d=n[a-1])===null||d===void 0?void 0:d.coordinate,x=(f=n[l])===null||f===void 0?void 0:f.coordinate,b=l>=a-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(p=n[l+1])===null||p===void 0?void 0:p.coordinate,_=void 0;if(!(y==null||x==null||b==null))if(As(x-y)!==As(b-x)){var T=[];if(As(b-x)===As(i[1]-i[0])){_=b;var L=x+i[1]-i[0];T[0]=Math.min(L,(L+y)/2),T[1]=Math.max(L,(L+y)/2)}else{_=y;var M=b+i[1]-i[0];T[0]=Math.min(x,(M+x)/2),T[1]=Math.max(x,(M+x)/2)}var z=[Math.min(x,(_+x)/2),Math.max(x,(_+x)/2)];if(t>z[0]&&t<=z[1]||t>=T[0]&&t<=T[1]){var I;return(I=n[l])===null||I===void 0?void 0:I.index}}else{var j=Math.min(y,b),C=Math.max(y,b);if(t>(j+x)/2&&t<=(C+x)/2){var S;return(S=n[l])===null||S===void 0?void 0:S.index}}}else if(e)for(var D=0;D<a;D++){var N=e[D];if(N!=null){var k=e[D+1],O=e[D-1];if(D===0&&k!=null&&t<=(N.coordinate+k.coordinate)/2||D===a-1&&O!=null&&t>(N.coordinate+O.coordinate)/2||D>0&&D<a-1&&O!=null&&k!=null&&t>(N.coordinate+O.coordinate)/2&&t<=(N.coordinate+k.coordinate)/2)return N.index}}return-1},Z8=()=>ut(rA),PA=(t,e)=>e,e9=(t,e,n)=>n,AA=(t,e,n,r)=>r,Khe=ye(Fo,t=>ob(t,e=>e.coordinate)),IA=ye([Zf,PA,e9,AA],F8),jA=ye([IA,th,ug,fg],EA),Ghe=(t,e,n)=>{if(e!=null){var r=Zf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},t9=ye([Zf,PA,e9,AA],z8),rx=ye([Ro,Do,nn,Cr,Fo,AA,t9],B8),Xhe=ye([IA,rx],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),n9=ye([Fo,jA],O8),Yhe=ye([t9,jA,Mo,ug,n9,$8,PA],U8),Qhe=ye([IA,jA],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Jhe=(t,e,n,r,i,s,a)=>{if(!(!t||!n||!r||!i)&&Whe(t,a)){var l=Eae(t,e),c=J8(l,s,i,n,r),d=qhe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},Zhe=(t,e,n,r,i,s,a)=>{if(!(!t||!r||!i||!s||!n)){var l=Ole(t,n);if(l){var c=Cae(l,e),d=J8(c,a,s,r,i),f=Hhe(e,s,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},eme=(t,e,n,r,i,s,a,l)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Jhe(t,e,r,i,s,a,l):Zhe(t,e,n,r,i,s,a)},tme=ye(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),nme=ye(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Gr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Ode}});function D4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D4(Object(n),!0).forEach(function(r){rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rme(t,e,n){return(e=ime(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ime(t){var e=sme(t,"string");return typeof e=="symbol"?e:e+""}function sme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ame={},ome={zIndexMap:Object.values(Gr).reduce((t,e)=>O4(O4({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),ame)},lme=new Set(Object.values(Gr));function cme(t){return lme.has(t)}var r9=mi({name:"zIndex",initialState:ome,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:cn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!cme(n)&&delete t.zIndexMap[n])},prepare:cn()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:cn()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:cn()}}}),{registerZIndexPortal:ume,unregisterZIndexPortal:dme,registerZIndexPortalElement:fme,unregisterZIndexPortalElement:hme}=r9.actions,mme=r9.reducer;function Bo(t){var{zIndex:e,children:n}=t,r=aoe(),i=r&&e!==void 0&&e!==0,s=pi(),a=Er();E.useLayoutEffect(()=>i?(a(ume({zIndex:e})),()=>{a(dme({zIndex:e}))}):Du,[a,e,i]);var l=ut(c=>tme(c,e,s));return i?l?tb.createPortal(n,l):null:n}function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sS.apply(null,arguments)}function M4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M4(Object(n),!0).forEach(function(r){pme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pme(t,e,n){return(e=gme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gme(t){var e=yme(t,"string");return typeof e=="symbol"?e:e+""}function yme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vme(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return E.isValidElement(e)?E.cloneElement(e,r):E.createElement(n,r)}function xme(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:l,cursor:c,tooltipEventType:d,chartName:f}=t,m=n,p=r,y=i;if(!c||!m||f!=="ScatterChart"&&d!=="axis")return null;var x,b,_;if(f==="ScatterChart")x=m,b=Goe,_=Gr.cursorLine;else if(f==="BarChart")x=Xoe(l,m,s,a),b=G$,_=Gr.cursorRectangle;else if(l==="radial"&&Bz(m)){var{cx:T,cy:L,radius:M,startAngle:z,endAngle:I}=X$(m);x={cx:T,cy:L,startAngle:z,endAngle:I,innerRadius:M,outerRadius:M},b=Q$,_=Gr.cursorLine}else x={points:Fle(l,m,s)},b=Mm,_=Gr.cursorLine;var j=typeof c=="object"&&"className"in c?c.className:void 0,C=ev(ev(ev(ev({stroke:"#ccc",pointerEvents:"none"},s),x),nb(c)),{},{payload:p,payloadIndex:y,className:Yt("recharts-tooltip-cursor",j)});return E.createElement(Bo,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},E.createElement(vme,{cursor:c,cursorComp:b,cursorProps:C}))}function bme(t){var e=Bhe(),n=roe(),r=Ou(),i=Z8();return e==null||n==null||r==null||i==null?null:E.createElement(xme,sS({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var i9=E.createContext(null),wme=()=>E.useContext(i9),hE={exports:{}},L4;function _me(){return L4||(L4=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,m||c,p),x=n?n+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],y]:c._events[x].push(y):(c._events[x]=y,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)e.call(f,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,y=m.length,x=new Array(y);p<y;p++)x[p]=m[p].fn;return x},l.prototype.listenerCount=function(d){var f=n?n+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,p,y,x){var b=n?n+d:d;if(!this._events[b])return!1;var _=this._events[b],T=arguments.length,L,M;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),T){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,m),!0;case 4:return _.fn.call(_.context,f,m,p),!0;case 5:return _.fn.call(_.context,f,m,p,y),!0;case 6:return _.fn.call(_.context,f,m,p,y,x),!0}for(M=1,L=new Array(T-1);M<T;M++)L[M-1]=arguments[M];_.fn.apply(_.context,L)}else{var z=_.length,I;for(M=0;M<z;M++)switch(_[M].once&&this.removeListener(d,_[M].fn,void 0,!0),T){case 1:_[M].fn.call(_[M].context);break;case 2:_[M].fn.call(_[M].context,f);break;case 3:_[M].fn.call(_[M].context,f,m);break;case 4:_[M].fn.call(_[M].context,f,m,p);break;default:if(!L)for(I=1,L=new Array(T-1);I<T;I++)L[I-1]=arguments[I];_[M].fn.apply(_[M].context,L)}}return!0},l.prototype.on=function(d,f,m){return s(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return s(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,p){var y=n?n+d:d;if(!this._events[y])return this;if(!f)return a(this,y),this;var x=this._events[y];if(x.fn)x.fn===f&&(!p||x.once)&&(!m||x.context===m)&&a(this,y);else{for(var b=0,_=[],T=x.length;b<T;b++)(x[b].fn!==f||p&&!x[b].once||m&&x[b].context!==m)&&_.push(x[b]);_.length?this._events[y]=_.length===1?_[0]:_:a(this,y)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(hE)),hE.exports}var Eme=_me();const Cme=di(Eme);var Ep=new Cme,aS="recharts.syncEvent.tooltip",V4="recharts.syncEvent.brush",s9=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Aa(n))return t[n]}},Tme={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},a9=mi({name:"options",initialState:Tme,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Sme=a9.reducer,{createEventEmitter:Nme}=a9.actions;function Pme(t){return t.tooltip.syncInteraction}var Ame={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},o9=mi({name:"chartData",initialState:Ame,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:F4,setDataStartEndIndexes:Ime,setComputedData:uPe}=o9.actions,jme=o9.reducer,kme=["x","y"];function B4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(n),!0).forEach(function(r){Rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rme(t,e,n){return(e=Dme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dme(t){var e=Ome(t,"string");return typeof e=="symbol"?e:e+""}function Ome(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mme(t,e){if(t==null)return{};var n,r,i=Lme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Vme(){var t=ut(iA),e=ut(sA),n=Er(),r=ut(HU),i=ut(Fo),s=Ou(),a=_b(),l=ut(c=>c.rootProps.className);E.useEffect(()=>{if(t==null)return Du;var c=(d,f,m)=>{if(e!==m&&t===d){if(r==="index"){var p;if(a&&f!==null&&f!==void 0&&(p=f.payload)!==null&&p!==void 0&&p.coordinate&&f.payload.sourceViewBox){var y=f.payload.coordinate,{x,y:b}=y,_=Mme(y,kme),{x:T,y:L,width:M,height:z}=f.payload.sourceViewBox,I=Id(Id({},_),{},{x:a.x+(M?(x-T)/M:0)*a.width,y:a.y+(z?(b-L)/z:0)*a.height});n(Id(Id({},f),{},{payload:Id(Id({},f.payload),{},{coordinate:I})}))}else n(f);return}if(i!=null){var j;if(typeof r=="function"){var C={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},S=r(i,C);j=i[S]}else r==="value"&&(j=i.find(J=>String(J.value)===f.payload.label));var{coordinate:D}=f.payload;if(j==null||f.payload.active===!1||D==null||a==null){n(rS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:N,y:k}=D,O=Math.min(N,a.x+a.width),A=Math.min(k,a.y+a.height),W={x:s==="horizontal"?j.coordinate:O,y:s==="horizontal"?A:j.coordinate},Y=rS({active:f.payload.active,coordinate:W,dataKey:f.payload.dataKey,index:String(j.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(Y)}}};return Ep.on(aS,c),()=>{Ep.off(aS,c)}},[l,n,e,t,r,i,s,a])}function Fme(){var t=ut(iA),e=ut(sA),n=Er();E.useEffect(()=>{if(t==null)return Du;var r=(i,s,a)=>{e!==a&&t===i&&n(Ime(s))};return Ep.on(V4,r),()=>{Ep.off(V4,r)}},[n,e,t])}function Bme(){var t=Er();E.useEffect(()=>{t(Nme())},[t]),Vme(),Fme()}function zme(t,e,n,r,i,s){var a=ut(y=>Ghe(y,t,e)),l=ut(sA),c=ut(iA),d=ut(HU),f=ut(Pme),m=f?.active,p=_b();E.useEffect(()=>{if(!m&&c!=null&&l!=null){var y=rS({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Ep.emit(aS,c,y,l)}},[m,n,a,i,r,l,c,d,s,p])}function z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z4(Object(n),!0).forEach(function(r){$me(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $me(t,e,n){return(e=Ume(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ume(t){var e=qme(t,"string");return typeof e=="symbol"?e:e+""}function qme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hme(t){return t.dataKey}function Wme(t,e){return E.isValidElement(t)?E.cloneElement(t,e):typeof t=="function"?E.createElement(t,e):E.createElement(Noe,e)}var U4=[],Kme={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Gme(t){var e,n,r=hi(t,Kme),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:p,position:y,reverseDirection:x,useTranslate3d:b,wrapperStyle:_,cursor:T,shared:L,trigger:M,defaultIndex:z,portal:I,axisId:j}=r,C=Er(),S=typeof z=="number"?String(z):z;E.useEffect(()=>{C(qfe({shared:L,trigger:M,axisId:j,active:i,defaultIndex:S}))},[C,L,M,j,i,S]);var D=_b(),N=U$(),k=Vfe(L),{activeIndex:O,isActive:A}=(e=ut(re=>Qhe(re,k,M,S)))!==null&&e!==void 0?e:{},W=ut(re=>Yhe(re,k,M,S)),Y=ut(re=>n9(re,k,M,S)),J=ut(re=>Xhe(re,k,M,S)),V=W,G=wme(),q=(n=i??A)!==null&&n!==void 0?n:!1,[R,$]=use([V,q]),K=k==="axis"?Y:void 0;zme(k,M,J,K,O,q);var Z=I??G;if(Z==null||D==null||k==null)return null;var Q=V??U4;q||(Q=U4),d&&Q.length&&(Q=Mie(Q.filter(re=>re.value!=null&&(re.hide!==!0||r.includeHidden)),p,Hme));var te=Q.length>0,ae=E.createElement(Doe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:f,active:q,coordinate:J,hasPayload:te,offset:m,position:y,reverseDirection:x,useTranslate3d:b,viewBox:D,wrapperStyle:_,lastBoundingBox:R,innerRef:$,hasPortalFromProps:!!I},Wme(c,$4($4({},r),{},{payload:Q,label:K,active:q,activeIndex:O,coordinate:J,accessibilityLayer:N})));return E.createElement(E.Fragment,null,tb.createPortal(ae,Z),q&&E.createElement(bme,{cursor:T,tooltipEventType:k,coordinate:J,payload:Q,index:O}))}function Xme(t,e,n){return(e=Yme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yme(t){var e=Qme(t,"string");return typeof e=="symbol"?e:e+""}function Qme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Jme{constructor(e){Xme(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function q4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q4(Object(n),!0).forEach(function(r){epe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function epe(t,e,n){return(e=tpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tpe(t){var e=npe(t,"string");return typeof e=="symbol"?e:e+""}function npe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rpe={cacheSize:2e3,enableCache:!0},l9=Zme({},rpe),H4=new Jme(l9.cacheSize),ipe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},W4="recharts_measurement_span";function spe(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var K4=(t,e)=>{try{var n=document.getElementById(W4);n||(n=document.createElement("span"),n.setAttribute("id",W4),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,ipe,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Lm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||rg.isSsr)return{width:0,height:0};if(!l9.enableCache)return K4(e,n);var r=spe(e,n),i=H4.get(r);if(i)return i;var s=K4(e,n);return H4.set(r,s),s},c9;function ape(t,e,n){return(e=ope(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ope(t){var e=lpe(t,"string");return typeof e=="symbol"?e:e+""}function lpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,X4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,upe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dpe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fpe=["cm","mm","pt","pc","in","Q","px"];function hpe(t){return fpe.includes(t)}var qd="NaN";function mpe(t,e){return t*dpe[e]}class yr{static parse(e){var n,[,r,i]=(n=upe.exec(e))!==null&&n!==void 0?n:[];return r==null?yr.NaN:new yr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Aa(e)&&(this.unit=""),n!==""&&!cpe.test(n)&&(this.num=NaN,this.unit=""),hpe(n)&&(this.num=mpe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new yr(NaN,""):new yr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new yr(NaN,""):new yr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new yr(NaN,""):new yr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new yr(NaN,""):new yr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Aa(this.num)}}c9=yr;ape(yr,"NaN",new c9(NaN,""));function u9(t){if(t==null||t.includes(qd))return qd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=G4.exec(e))!==null&&n!==void 0?n:[],a=yr.parse(r??""),l=yr.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return qd;e=e.replace(G4,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,m,p]=(d=X4.exec(e))!==null&&d!==void 0?d:[],y=yr.parse(f??""),x=yr.parse(p??""),b=m==="+"?y.add(x):y.subtract(x);if(b.isNaN())return qd;e=e.replace(X4,b.toString())}return e}var Y4=/\(([^()]*)\)/;function ppe(t){for(var e=t,n;(n=Y4.exec(e))!=null;){var[,r]=n;e=e.replace(Y4,u9(r))}return e}function gpe(t){var e=t.replace(/\s+/g,"");return e=ppe(e),e=u9(e),e}function ype(t){try{return gpe(t)}catch{return qd}}function mE(t){var e=ype(t.slice(5,-1));return e===qd?"":e}var vpe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],xpe=["dx","dy","angle","className","breakAll"];function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oS.apply(null,arguments)}function Q4(t,e){if(t==null)return{};var n,r,i=bpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function bpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var d9=/[ \f\n\r\t\v\u2028\u2029]+/,f9=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];ar(e)||(n?i=e.toString().split(""):i=e.toString().split(d9));var s=i.map(l=>({word:l,width:Lm(l,r).width})),a=n?0:Lm("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function wpe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var h9=(t,e,n,r)=>t.reduce((i,s)=>{var{word:a,width:l}=s,c=i[i.length-1];if(c&&l!=null&&(e==null||r||c.width+l+n<Number(e)))c.words.push(a),c.width+=l+n;else{var d={words:[a],width:l};i.push(d)}return i},[]),m9=t=>t.reduce((e,n)=>e.width>n.width?e:n),_pe="",J4=(t,e,n,r,i,s,a,l)=>{var c=t.slice(0,e),d=f9({breakAll:n,style:r,children:c+_pe});if(!d)return[!1,[]];var f=h9(d.wordsWithComputedWidth,s,a,l),m=f.length>i||m9(f).width>Number(s);return[m,f]},Epe=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=t,d=Ze(s),f=String(a),m=h9(e,r,n,i);if(!d||i)return m;var p=m.length>s||m9(m).width>Number(r);if(!p)return m;for(var y=0,x=f.length-1,b=0,_;y<=x&&b<=f.length-1;){var T=Math.floor((y+x)/2),L=T-1,[M,z]=J4(f,L,c,l,s,r,n,i),[I]=J4(f,T,c,l,s,r,n,i);if(!M&&!I&&(y=T+1),M&&I&&(x=T-1),!M&&I){_=z;break}b++}return _||m},Z4=t=>{var e=ar(t)?[]:t.toString().split(d9);return[{words:e,width:void 0}]},Cpe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!rg.isSsr){var l,c,d=f9({breakAll:s,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:m}=d;l=f,c=m}else return Z4(r);return Epe({breakAll:s,children:r,maxLines:a,style:i},l,c,e,!!n)}return Z4(r)},p9="#808080",Tpe={angle:0,breakAll:!1,capHeight:"0.71em",fill:p9,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},kA=E.forwardRef((t,e)=>{var n=hi(t,Tpe),{x:r,y:i,lineHeight:s,capHeight:a,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:f}=n,m=Q4(n,vpe),p=E.useMemo(()=>Cpe({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:y,dy:x,angle:b,className:_,breakAll:T}=m,L=Q4(m,xpe);if(!Ia(r)||!Ia(i)||p.length===0)return null;var M=Number(r)+(Ze(y)?y:0),z=Number(i)+(Ze(x)?x:0);if(!Lt(M)||!Lt(z))return null;var I;switch(f){case"start":I=mE("calc(".concat(a,")"));break;case"middle":I=mE("calc(".concat((p.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:I=mE("calc(".concat(p.length-1," * -").concat(s,")"));break}var j=[],C=p[0];if(c&&C!=null){var S=C.width,{width:D}=m;j.push("scale(".concat(Ze(D)&&Ze(S)?D/S:1,")"))}return b&&j.push("rotate(".concat(b,", ").concat(M,", ").concat(z,")")),j.length&&(L.transform=j.join(" ")),E.createElement("text",oS({},Br(L),{ref:e,x:M,y:z,className:Yt("recharts-text",_),textAnchor:d,fill:l.includes("url")?p9:l}),p.map((N,k)=>{var O=N.words.join(T?"":" ");return E.createElement("tspan",{x:M,dy:k===0?I:s,key:"".concat(O,"-").concat(k)},O)}))});kA.displayName="Text";function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){Spe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Spe(t,e,n){return(e=Npe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Npe(t){var e=Ppe(t,"string");return typeof e=="symbol"?e:e+""}function Ppe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ape=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:a,height:l,upperWidth:c,lowerWidth:d}=PP(e),f=s,m=s+(c-d)/2,p=(f+m)/2,y=(c+d)/2,x=f+c/2,b=l>=0?1:-1,_=b*r,T=b>0?"end":"start",L=b>0?"start":"end",M=c>=0?1:-1,z=M*r,I=M>0?"end":"start",j=M>0?"start":"end",C=i;if(n==="top"){var S={x:f+c/2,y:a-_,horizontalAnchor:"middle",verticalAnchor:T};return C&&(S.height=Math.max(a-C.y,0),S.width=c),S}if(n==="bottom"){var D={x:m+d/2,y:a+l+_,horizontalAnchor:"middle",verticalAnchor:L};return C&&(D.height=Math.max(C.y+C.height-(a+l),0),D.width=d),D}if(n==="left"){var N={x:p-z,y:a+l/2,horizontalAnchor:I,verticalAnchor:"middle"};return C&&(N.width=Math.max(N.x-C.x,0),N.height=l),N}if(n==="right"){var k={x:p+y+z,y:a+l/2,horizontalAnchor:j,verticalAnchor:"middle"};return C&&(k.width=Math.max(C.x+C.width-k.x,0),k.height=l),k}var O=C?{width:y,height:l}:{};return n==="insideLeft"?ua({x:p+z,y:a+l/2,horizontalAnchor:j,verticalAnchor:"middle"},O):n==="insideRight"?ua({x:p+y-z,y:a+l/2,horizontalAnchor:I,verticalAnchor:"middle"},O):n==="insideTop"?ua({x:f+c/2,y:a+_,horizontalAnchor:"middle",verticalAnchor:L},O):n==="insideBottom"?ua({x:m+d/2,y:a+l-_,horizontalAnchor:"middle",verticalAnchor:T},O):n==="insideTopLeft"?ua({x:f+z,y:a+_,horizontalAnchor:j,verticalAnchor:L},O):n==="insideTopRight"?ua({x:f+c-z,y:a+_,horizontalAnchor:I,verticalAnchor:L},O):n==="insideBottomLeft"?ua({x:m+z,y:a+l-_,horizontalAnchor:j,verticalAnchor:T},O):n==="insideBottomRight"?ua({x:m+d-z,y:a+l-_,horizontalAnchor:I,verticalAnchor:T},O):n&&typeof n=="object"&&(Ze(n.x)||Cu(n.x))&&(Ze(n.y)||Cu(n.y))?ua({x:s+Gl(n.x,y),y:a+Gl(n.y,l),horizontalAnchor:"end",verticalAnchor:"end"},O):ua({x,y:a+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},O)},Ipe=["labelRef"],jpe=["content"];function tM(t,e){if(t==null)return{};var n,r,i=kpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _m(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nM(Object(n),!0).forEach(function(r){Rpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rpe(t,e,n){return(e=Dpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dpe(t){var e=Ope(t,"string");return typeof e=="symbol"?e:e+""}function Ope(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function no(){return no=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},no.apply(null,arguments)}var g9=E.createContext(null),Mpe=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:l}=t,c=E.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,n,r,i,s,a]);return E.createElement(g9.Provider,{value:c},l)},y9=()=>{var t=E.useContext(g9),e=_b();return t||(e?PP(e):void 0)},Lpe=E.createContext(null),Vpe=()=>{var t=E.useContext(Lpe),e=ut(YU);return t||e},Fpe=t=>{var{value:e,formatter:n}=t,r=ar(t.children)?e:t.children;return typeof n=="function"?n(r):r},RA=t=>t!=null&&typeof t=="function",Bpe=(t,e)=>{var n=As(e-t),r=Math.min(Math.abs(e-t),360);return n*r},zpe=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:l,cy:c,innerRadius:d,outerRadius:f,startAngle:m,endAngle:p,clockWise:y}=i,x=(d+f)/2,b=Bpe(m,p),_=b>=0?1:-1,T,L;switch(e){case"insideStart":T=m+_*s,L=y;break;case"insideEnd":T=p-_*s,L=!y;break;case"end":T=p+_*s,L=y;break;default:throw new Error("Unsupported position ".concat(e))}L=b<=0?L:!L;var M=wr(l,c,x,T),z=wr(l,c,x,T+(L?1:-1)*359),I="M".concat(M.x,",").concat(M.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(L?0:1,`,
    `).concat(z.x,",").concat(z.y),j=ar(t.id)?cp("recharts-radial-line-"):t.id;return E.createElement("text",no({},r,{dominantBaseline:"central",className:Yt("recharts-radial-bar-label",a)}),E.createElement("defs",null,E.createElement("path",{id:j,d:I})),E.createElement("textPath",{xlinkHref:"#".concat(j)},n))},$pe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=t,d=(l+c)/2;if(n==="outside"){var{x:f,y:m}=wr(r,i,a+e,d);return{x:f,y:m,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(s+a)/2,{x:y,y:x}=wr(r,i,p,d);return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},kv=t=>t!=null&&"cx"in t&&Ze(t.cx),Upe={angle:0,offset:5,zIndex:Gr.label,position:"middle",textBreakAll:!1};function qpe(t){if(!kv(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function xl(t){var e=hi(t,Upe),{viewBox:n,parentViewBox:r,position:i,value:s,children:a,content:l,className:c="",textBreakAll:d,labelRef:f}=e,m=Vpe(),p=y9(),y=i==="center"?p:m??p,x,b,_;n==null?x=y:kv(n)?x=n:x=PP(n);var T=qpe(x);if(!x||ar(s)&&ar(a)&&!E.isValidElement(l)&&typeof l!="function")return null;var L=_m(_m({},e),{},{viewBox:x});if(E.isValidElement(l)){var{labelRef:M}=L,z=tM(L,Ipe);return E.cloneElement(l,z)}if(typeof l=="function"){var{content:I}=L,j=tM(L,jpe);if(b=E.createElement(l,j),E.isValidElement(b))return b}else b=Fpe(e);var C=Br(e);if(kv(x)){if(i==="insideStart"||i==="insideEnd"||i==="end")return zpe(e,i,b,C,x);_=$pe(x,e.offset,e.position)}else{if(!T)return null;var S=Ape({viewBox:T,position:i,offset:e.offset,parentViewBox:kv(r)?void 0:r});_=_m(_m({x:S.x,y:S.y,textAnchor:S.horizontalAnchor,verticalAnchor:S.verticalAnchor},S.width!==void 0?{width:S.width}:{}),S.height!==void 0?{height:S.height}:{})}return E.createElement(Bo,{zIndex:e.zIndex},E.createElement(kA,no({ref:f,className:Yt("recharts-label",c)},C,_,{textAnchor:wpe(C.textAnchor)?C.textAnchor:_.textAnchor,breakAll:d}),b))}xl.displayName="Label";var Hpe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?E.createElement(xl,no({key:"label-implicit"},r)):Ia(t)?E.createElement(xl,no({key:"label-implicit",value:t},r)):E.isValidElement(t)?t.type===xl?E.cloneElement(t,_m({key:"label-implicit"},r)):E.createElement(xl,no({key:"label-implicit",content:t},r)):RA(t)?E.createElement(xl,no({key:"label-implicit",content:t},r)):t&&typeof t=="object"?E.createElement(xl,no({},t,{key:"label-implicit"},r)):null};function Wpe(t){var{label:e,labelRef:n}=t,r=y9();return Hpe(e,r,n)||null}var pE={},gE={},rM;function Kpe(){return rM||(rM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(gE)),gE}var yE={},iM;function Gpe(){return iM||(iM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(yE)),yE}var sM;function Xpe(){return sM||(sM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kpe(),n=Gpe(),r=vP();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(pE)),pE}var vE,aM;function Ype(){return aM||(aM=1,vE=Xpe().last),vE}var Qpe=Ype();const Jpe=di(Qpe);var Zpe=["valueAccessor"],ege=["dataKey","clockWise","id","textBreakAll","zIndex"];function ix(){return ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ix.apply(null,arguments)}function oM(t,e){if(t==null)return{};var n,r,i=tge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nge=t=>Array.isArray(t.value)?Jpe(t.value):t.value,v9=E.createContext(void 0),x9=v9.Provider,b9=E.createContext(void 0);b9.Provider;function rge(){return E.useContext(v9)}function ige(){return E.useContext(b9)}function Rv(t){var{valueAccessor:e=nge}=t,n=oM(t,Zpe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:l}=n,c=oM(n,ege),d=rge(),f=ige(),m=d||f;return!m||!m.length?null:E.createElement(Bo,{zIndex:l??Gr.label},E.createElement(ss,{className:"recharts-label-list"},m.map((p,y)=>{var x,b=ar(r)?e(p,y):Kn(p.payload,r),_=ar(s)?{}:{id:"".concat(s,"-").concat(y)};return E.createElement(xl,ix({key:"label-".concat(y)},Br(p),c,_,{fill:(x=n.fill)!==null&&x!==void 0?x:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:a,viewBox:p.viewBox,index:y,zIndex:0}))})))}Rv.displayName="LabelList";function w9(t){var{label:e}=t;return e?e===!0?E.createElement(Rv,{key:"labelList-implicit"}):E.isValidElement(e)||RA(e)?E.createElement(Rv,{key:"labelList-implicit",content:e}):typeof e=="object"?E.createElement(Rv,ix({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lS.apply(null,arguments)}var _9=t=>{var{cx:e,cy:n,r,className:i}=t,s=Yt("recharts-dot",i);return Ze(e)&&Ze(n)&&Ze(r)?E.createElement("circle",lS({},Ls(t),yP(t),{className:s,cx:e,cy:n,r})):null},sge={radiusAxis:{},angleAxis:{}},E9=mi({name:"polarAxis",initialState:sge,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:dPe,removeRadiusAxis:fPe,addAngleAxis:hPe,removeAngleAxis:mPe}=E9.actions,age=E9.reducer;function oge(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var DA=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,xE={},lM;function lge(){return lM||(lM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(xE)),xE}var bE,cM;function cge(){return cM||(cM=1,bE=lge().isPlainObject),bE}var uge=cge();const dge=di(uge);var uM,dM,fM,hM,mM;function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){fge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fge(t,e,n){return(e=hge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hge(t){var e=mge(t,"string");return typeof e=="symbol"?e:e+""}function mge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sx(){return sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sx.apply(null,arguments)}function om(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var yM=(t,e,n,r,i)=>{var s=n-r,a;return a=Nn(uM||(uM=om(["M ",",",""])),t,e),a+=Nn(dM||(dM=om(["L ",",",""])),t+n,e),a+=Nn(fM||(fM=om(["L ",",",""])),t+n-s/2,e+i),a+=Nn(hM||(hM=om(["L ",",",""])),t+n-s/2-r,e+i),a+=Nn(mM||(mM=om(["L ",","," Z"])),t,e),a},pge={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gge=t=>{var e=hi(t,pge),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:l}=e,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:m}=e,p=E.useRef(null),[y,x]=E.useState(-1),b=E.useRef(i),_=E.useRef(s),T=E.useRef(a),L=E.useRef(n),M=E.useRef(r),z=Nb(t,"trapezoid-");if(E.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var W=p.current.getTotalLength();W&&x(W)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var I=Yt("recharts-trapezoid",l);if(!m)return E.createElement("g",null,E.createElement("path",sx({},Br(e),{className:I,d:yM(n,r,i,s,a)})));var j=b.current,C=_.current,S=T.current,D=L.current,N=M.current,k="0px ".concat(y===-1?1:y,"px"),O="".concat(y,"px 0px"),A=q$(["strokeDasharray"],d,c);return E.createElement(Sb,{animationId:z,key:z,canBegin:y>0,duration:d,easing:c,isActive:m,begin:f},W=>{var Y=Bn(j,i,W),J=Bn(C,s,W),V=Bn(S,a,W),G=Bn(D,n,W),q=Bn(N,r,W);p.current&&(b.current=Y,_.current=J,T.current=V,L.current=G,M.current=q);var R=W>0?{transition:A,strokeDasharray:O}:{strokeDasharray:k};return E.createElement("path",sx({},Br(e),{className:I,d:yM(G,q,Y,J,V),ref:p,style:gM(gM({},R),e.style)}))})},yge=["option","shapeType","activeClassName"];function vge(t,e){if(t==null)return{};var n,r,i=xge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ax(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){bge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bge(t,e,n){return(e=wge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wge(t){var e=_ge(t,"string");return typeof e=="symbol"?e:e+""}function _ge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ege(t,e){return ax(ax({},e),t)}function Cge(t,e){return t==="symbols"}function xM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return E.createElement(G$,n);case"trapezoid":return E.createElement(gge,n);case"sector":return E.createElement(Q$,n);case"symbols":if(Cge(e))return E.createElement(Fz,n);break;case"curve":return E.createElement(Mm,n);default:return null}}function Tge(t){return E.isValidElement(t)?t.props:t}function Sge(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=vge(t,yge),s;if(E.isValidElement(e))s=E.cloneElement(e,ax(ax({},i),Tge(e)));else if(typeof e=="function")s=e(i,i.index);else if(dge(e)&&typeof e!="boolean"){var a=Ege(e,i);s=E.createElement(xM,{shapeType:n,elementProps:a})}else{var l=i;s=E.createElement(xM,{shapeType:n,elementProps:l})}return i.isActive?E.createElement(ss,{className:r},s):s}function C9(t){var{tooltipEntrySettings:e}=t,n=Er(),r=pi(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(zfe(e)):i.current!==e&&n($fe({prev:i.current,next:e})),i.current=e)},[e,n,r]),E.useLayoutEffect(()=>()=>{i.current&&(n(Ufe(i.current)),i.current=null)},[n]),null}function T9(t){var{legendPayload:e}=t,n=Er(),r=pi(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(xoe(e)):i.current!==e&&n(boe({prev:i.current,next:e})),i.current=e)},[n,r,e]),E.useLayoutEffect(()=>()=>{i.current&&(n(woe(i.current)),i.current=null)},[n]),null}var wE,Nge=()=>{var[t]=E.useState(()=>cp("uid-"));return t},Pge=(wE=FW.useId)!==null&&wE!==void 0?wE:Nge;function Age(t,e){var n=Pge();return e||(t?"".concat(t,"-").concat(n):n)}var Ige=E.createContext(void 0),S9=t=>{var{id:e,type:n,children:r}=t,i=Age("recharts-".concat(n),e);return E.createElement(Ige.Provider,{value:i},r(i))},jge={cartesianItems:[],polarItems:[]},N9=mi({name:"graphicalItems",initialState:jge,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:cn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Ds(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:cn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Ds(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:cn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:cn()},removePolarGraphicalItem:{reducer(t,e){var n=Ds(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:cn()}}}),{addCartesianGraphicalItem:kge,replaceCartesianGraphicalItem:Rge,removeCartesianGraphicalItem:Dge,addPolarGraphicalItem:pPe,removePolarGraphicalItem:gPe}=N9.actions,Oge=N9.reducer,Mge=t=>{var e=Er(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?e(kge(t)):n.current!==t&&e(Rge({prev:n.current,next:t})),n.current=t},[e,t]),E.useLayoutEffect(()=>()=>{n.current&&(e(Dge(n.current)),n.current=null)},[e]),null},P9=E.memo(Mge),Lge=["points"];function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _E(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Vge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vge(t,e,n){return(e=Fge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fge(t){var e=Bge(t,"string");return typeof e=="symbol"?e:e+""}function Bge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ox(){return ox=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ox.apply(null,arguments)}function zge(t,e){if(t==null)return{};var n,r,i=$ge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Uge(t){var{option:e,dotProps:n,className:r}=t;if(E.isValidElement(e))return E.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Yt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:a}=s,l=zge(s,Lge);return E.createElement(_9,ox({},l,{className:i}))}function qge(t,e){return t==null?!1:e?!0:t.length===1}function A9(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:l,clipPathId:c,zIndex:d=Gr.scatter}=t;if(!qge(e,n))return null;var f=DA(n),m=ore(n),p=e.map((x,b)=>{var _,T,L=_E(_E(_E({r:3},a),m),{},{index:b,cx:(_=x.x)!==null&&_!==void 0?_:void 0,cy:(T=x.y)!==null&&T!==void 0?T:void 0,dataKey:s,value:x.value,payload:x.payload,points:e});return E.createElement(Uge,{key:"dot-".concat(b),option:n,dotProps:L,className:i})}),y={};return l&&c!=null&&(y.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(c,")")),E.createElement(Bo,{zIndex:d},E.createElement(ss,ox({className:r},y),p))}function wM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wM(Object(n),!0).forEach(function(r){Hge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hge(t,e,n){return(e=Wge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wge(t){var e=Kge(t,"string");return typeof e=="symbol"?e:e+""}function Kge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I9=0,Gge={xAxis:{},yAxis:{},zAxis:{}},j9=mi({name:"cartesianAxis",initialState:Gge,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:cn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:cn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:cn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:cn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:cn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:cn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:cn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:cn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:cn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-((s=a[0])!==null&&s!==void 0?s:0))<=1)return;var l=[...a,r].slice(-3);t.yAxis[n]=_M(_M({},i),{},{width:r,widthHistory:l})}}}}),{addXAxis:yPe,replaceXAxis:vPe,removeXAxis:xPe,addYAxis:Xge,replaceYAxis:Yge,removeYAxis:Qge,addZAxis:bPe,replaceZAxis:wPe,removeZAxis:_Pe,updateYAxisWidth:Jge}=j9.actions,Zge=j9.reducer,eye=ye([Cr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),tye=ye([eye,Ro,Do],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Wb=()=>ut(tye),nye=()=>ut(Ohe);function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){rye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rye(t,e,n){return(e=iye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iye(t){var e=sye(t,"string");return typeof e=="symbol"?e:e+""}function sye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aye=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=EE(EE(EE({},l),nb(i)),yP(i)),d;return E.isValidElement(i)?d=E.cloneElement(i,c):typeof i=="function"?d=i(c):d=E.createElement(_9,c),E.createElement(ss,{className:"recharts-active-dot",clipPath:a},d)};function cS(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=Gr.activeDot}=t,l=ut(_p),c=nye();if(e==null||c==null)return null;var d=e.find(f=>c.includes(f.payload));return ar(d)?null:E.createElement(Bo,{zIndex:a},E.createElement(aye,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var oye=t=>{var{chartData:e}=t,n=Er(),r=pi();return E.useEffect(()=>r?()=>{}:(n(F4(e)),()=>{n(F4(void 0))}),[e,n,r]),null},CM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},k9=mi({name:"brush",initialState:CM,reducers:{setBrushSettings(t,e){return e.payload==null?CM:e.payload}}}),{setBrushSettings:EPe}=k9.actions,lye=k9.reducer;function cye(t){return(t%180+180)%180}var uye=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=cye(i),a=s*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},dye={dots:[],areas:[],lines:[]},R9=mi({name:"referenceElements",initialState:dye,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Ds(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Ds(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Ds(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:CPe,removeDot:TPe,addArea:SPe,removeArea:NPe,addLine:PPe,removeLine:APe}=R9.actions,fye=R9.reducer,hye=E.createContext(void 0),mye=t=>{var{children:e}=t,[n]=E.useState("".concat(cp("recharts"),"-clip")),r=Wb();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return E.createElement(hye.Provider,{value:n},E.createElement("defs",null,E.createElement("clipPath",{id:n},E.createElement("rect",{x:i,y:s,height:l,width:a}))),e)};function D9(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function pye(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return uye(r,n)}function gye(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:l}=t;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function Cp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function yye(t,e){return D9(t,e+1)}function vye(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=e,c=0,d=1,f=a,m=function(){var x=r?.[c];if(x===void 0)return{v:D9(r,d)};var b=c,_,T=()=>(_===void 0&&(_=n(x,b)),_),L=x.coordinate,M=c===0||Cp(t,L,T,f,l);M||(c=0,f=a,d+=1),M&&(f=L+t*(T()/2+i),c+=d)},p;d<=s.length;)if(p=m(),p)return p.v;return[]}function xye(t,e,n,r,i){var s=(r||[]).slice(),a=s.length;if(a===0)return[];for(var{start:l,end:c}=e,d=1;d<=a;d++){for(var f=(a-1)%d,m=l,p=!0,y=function(){var z=r[b];if(z==null)return 0;var I=b,j,C=()=>(j===void 0&&(j=n(z,I)),j),S=z.coordinate,D=b===f||Cp(t,S,C,m,c);if(!D)return p=!1,1;D&&(m=S+t*(C()/2+i))},x,b=f;b<a&&(x=y(),!(x!==0&&x===1));b+=d);if(p){for(var _=[],T=f;T<a;T+=d){var L=r[T];L!=null&&_.push(L)}return _}}return[]}function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){bye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bye(t,e,n){return(e=wye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wye(t){var e=_ye(t,"string");return typeof e=="symbol"?e:e+""}function _ye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eye(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=e,{end:c}=e,d=function(p){var y=s[p];if(y==null)return 1;var x=y,b,_=()=>(b===void 0&&(b=n(y,p)),b);if(p===a-1){var T=t*(x.coordinate+t*_()/2-c);s[p]=x=Or(Or({},x),{},{tickCoord:T>0?x.coordinate-T*t:x.coordinate})}else s[p]=x=Or(Or({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var L=Cp(t,x.tickCoord,_,l,c);L&&(c=x.tickCoord-t*(_()/2+i),s[p]=Or(Or({},x),{},{isShow:!0}))}},f=a-1;f>=0;f--)d(f);return s}function Cye(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:c,end:d}=e;if(s){var f=r[l-1];if(f!=null){var m=n(f,l-1),p=t*(f.coordinate+t*m/2-d);if(a[l-1]=f=Or(Or({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate}),f.tickCoord!=null){var y=Cp(t,f.tickCoord,()=>m,c,d);y&&(d=f.tickCoord-t*(m/2+i),a[l-1]=Or(Or({},f),{},{isShow:!0}))}}}for(var x=s?l-1:l,b=function(L){var M=a[L];if(M==null)return 1;var z=M,I,j=()=>(I===void 0&&(I=n(M,L)),I);if(L===0){var C=t*(z.coordinate-t*j()/2-c);a[L]=z=Or(Or({},z),{},{tickCoord:C<0?z.coordinate-C*t:z.coordinate})}else a[L]=z=Or(Or({},z),{},{tickCoord:z.coordinate});if(z.tickCoord!=null){var S=Cp(t,z.tickCoord,j,c,d);S&&(c=z.tickCoord+t*(j()/2+i),a[L]=Or(Or({},z),{},{isShow:!0}))}},_=0;_<x;_++)b(_);return a}function Tye(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:d,unit:f,angle:m}=t;if(!i||!i.length||!r)return[];if(Ze(c)||rg.isSsr){var p;return(p=yye(i,Ze(c)?c:0))!==null&&p!==void 0?p:[]}var y=[],x=l==="top"||l==="bottom"?"width":"height",b=f&&x==="width"?Lm(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(I,j)=>{var C=typeof d=="function"?d(I.value,j):I.value;return x==="width"?pye(Lm(C,{fontSize:e,letterSpacing:n}),b,m):Lm(C,{fontSize:e,letterSpacing:n})[x]},T=i[0],L=i[1],M=i.length>=2&&T!=null&&L!=null?As(L.coordinate-T.coordinate):1,z=gye(s,M,x);return c==="equidistantPreserveStart"?vye(M,z,_,i,a):c==="equidistantPreserveEnd"?xye(M,z,_,i,a):(c==="preserveStart"||c==="preserveStartEnd"?y=Cye(M,z,_,i,a,c==="preserveStartEnd"):y=Eye(M,z,_,i,a),y.filter(I=>I.isShow))}var Sye=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>a&&(a=m.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+s,d=a+c+l+(n?r:0);return Math.round(d)}return 0},Nye=["axisLine","width","height","className","hide","ticks","axisType"];function Pye(t,e){if(t==null)return{};var n,r,i=Aye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Au(){return Au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Au.apply(null,arguments)}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){Iye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iye(t,e,n){return(e=jye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jye(t){var e=kye(t,"string");return typeof e=="symbol"?e:e+""}function kye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dv={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Gr.axis};function Rye(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var d=Sn(Sn(Sn({},c),Ls(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);d=Sn(Sn({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var m=+(s==="left"&&!a||s==="right"&&a);d=Sn(Sn({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return E.createElement("line",Au({},d,{className:Yt("recharts-cartesian-axis-line",ab(l,"className"))}))}function Dye(t,e,n,r,i,s,a,l,c){var d,f,m,p,y,x,b=l?-1:1,_=t.tickSize||a,T=Ze(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":d=f=t.coordinate,p=n+ +!l*i,m=p-b*_,x=m-b*c,y=T;break;case"left":m=p=t.coordinate,f=e+ +!l*r,d=f-b*_,y=d-b*c,x=T;break;case"right":m=p=t.coordinate,f=e+ +l*r,d=f+b*_,y=d+b*c,x=T;break;default:d=f=t.coordinate,p=n+ +l*i,m=p+b*_,x=m+b*c,y=T;break}return{line:{x1:d,y1:m,x2:f,y2:p},tick:{x:y,y:x}}}function Oye(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function Mye(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Lye(t){var{option:e,tickProps:n,value:r}=t,i,s=Yt(n.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(e))i=E.cloneElement(e,Sn(Sn({},n),{},{className:s}));else if(typeof e=="function")i=e(Sn(Sn({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Yt(a,oge(e))),i=E.createElement(kA,Au({},n,{className:a}),r)}return i}var Vye=E.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:l,padding:c,tickTextProps:d,orientation:f,mirror:m,x:p,y,width:x,height:b,tickSize:_,tickMargin:T,fontSize:L,letterSpacing:M,getTicksConfig:z,events:I,axisType:j}=t,C=Tye(Sn(Sn({},z),{},{ticks:n}),L,M),S=Oye(f,m),D=Mye(f,m),N=Ls(z),k=nb(r),O={};typeof i=="object"&&(O=i);var A=Sn(Sn({},N),{},{fill:"none"},O),W=C.map(V=>Sn({entry:V},Dye(V,p,y,x,b,f,_,m,T))),Y=W.map(V=>{var{entry:G,line:q}=V;return E.createElement(ss,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},i&&E.createElement("line",Au({},A,q,{className:Yt("recharts-cartesian-axis-tick-line",ab(i,"className"))})))}),J=W.map((V,G)=>{var q,R,{entry:$,tick:K}=V,Z=Sn(Sn(Sn(Sn({verticalAnchor:D},N),{},{textAnchor:S,stroke:"none",fill:s},K),{},{index:G,payload:$,visibleTicksCount:C.length,tickFormatter:a,padding:c},d),{},{angle:(q=(R=d?.angle)!==null&&R!==void 0?R:N.angle)!==null&&q!==void 0?q:0}),Q=Sn(Sn({},Z),k);return E.createElement(ss,Au({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},die(I,$,G)),r&&E.createElement(Lye,{option:r,tickProps:Q,value:"".concat(typeof a=="function"?a($.value,G):$.value).concat(l||"")}))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},J.length>0&&E.createElement(Bo,{zIndex:Gr.label},E.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:e},J)),Y.length>0&&E.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},Y))}),Fye=E.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:l,axisType:c}=t,d=Pye(t,Nye),[f,m]=E.useState(""),[p,y]=E.useState(""),x=E.useRef(null);E.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return Sye({ticks:x.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=E.useCallback(_=>{if(_){var T=_.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=T;var L=T[0];if(L){var M=window.getComputedStyle(L),z=M.fontSize,I=M.letterSpacing;(z!==f||I!==p)&&(m(z),y(I))}}},[f,p]);return a||r!=null&&r<=0||i!=null&&i<=0?null:E.createElement(Bo,{zIndex:t.zIndex},E.createElement(ss,{className:Yt("recharts-cartesian-axis",s)},E.createElement(Rye,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ls(t)}),E.createElement(Vye,{ref:b,axisType:c,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:p,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),E.createElement(Mpe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},E.createElement(Wpe,{label:t.label,labelRef:t.labelRef}),t.children)))}),O9=E.forwardRef((t,e)=>{var n=hi(t,Dv);return E.createElement(Fye,Au({},n,{ref:e}))});O9.displayName="CartesianAxis";var Bye={},M9=mi({name:"errorBars",initialState:Bye,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:IPe,replaceErrorBar:jPe,removeErrorBar:kPe}=M9.actions,zye=M9.reducer,$ye=["children"];function Uye(t,e){if(t==null)return{};var n,r,i=qye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hye={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Wye=E.createContext(Hye);function Kye(t){var{children:e}=t,n=Uye(t,$ye);return E.createElement(Wye.Provider,{value:n},e)}function OA(t,e){var n,r,i=ut(d=>Lo(d,t)),s=ut(d=>Vo(d,e)),a=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:JU.allowDataOverflow,l=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:tr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function L9(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=Wb(),{needClipX:s,needClipY:a,needClip:l}=OA(e,n);if(!l||!i)return null;var{x:c,y:d,width:f,height:m}=i;return E.createElement("clipPath",{id:"clipPath-".concat(r)},E.createElement("rect",{x:s?c:c-f/2,y:a?d:d-m/2,width:s?f:f*2,height:a?m:m*2}))}var V9=(t,e,n,r)=>Hb(t,"xAxis",e,r),F9=(t,e,n,r)=>qb(t,"xAxis",e,r),B9=(t,e,n,r)=>Hb(t,"yAxis",n,r),z9=(t,e,n,r)=>qb(t,"yAxis",n,r),Gye=ye([nn,V9,B9,F9,z9],(t,e,n,r,i)=>$s(t,"xAxis")?If(e,r,!1):If(n,i,!1)),Xye=(t,e,n,r,i)=>i;function Yye(t){return t.type==="line"}var Qye=ye([hA,Xye],(t,e)=>t.filter(Yye).find(n=>n.id===e)),Jye=ye([nn,V9,B9,F9,z9,Qye,Gye,eA],(t,e,n,r,i,s,a,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=l;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:m,data:p}=s,y;if(p!=null&&p.length>0?y=p:y=c?.slice(d,f+1),y!=null)return Vve({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:a,displayedData:y})}});function $9(t){var e=nb(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),l=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(l)||l<0)&&(l=r),{r:a,strokeWidth:l}}return{r:n,strokeWidth:r}}var CE={exports:{}},TE={};var NM;function Zye(){if(NM)return TE;NM=1;var t=Jr();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return TE.useSyncExternalStoreWithSelector=function(c,d,f,m,p){var y=i(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=a(function(){function _(I){if(!T){if(T=!0,L=I,I=m(I),p!==void 0&&x.hasValue){var j=x.value;if(p(j,I))return M=j}return M=I}if(j=M,n(L,I))return j;var C=m(I);return p!==void 0&&p(j,C)?(L=I,j):(L=I,M=C)}var T=!1,L,M,z=f===void 0?null:f;return[function(){return _(d())},z===null?void 0:function(){return _(z())}]},[d,f,m,p]);var b=r(c,y[0],y[1]);return s(function(){x.hasValue=!0,x.value=b},[b]),l(b),b},TE}var PM;function eve(){return PM||(PM=1,CE.exports=Zye()),CE.exports}eve();function tve(t){t()}function nve(){let t=null,e=null;return{clear(){t=null,e=null},notify(){tve(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var AM={notify(){},get:()=>[]};function rve(t,e){let n,r=AM,i=0,s=!1;function a(b){f();const _=r.subscribe(b);let T=!1;return()=>{T||(T=!0,_(),m())}}function l(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return s}function f(){i++,n||(n=t.subscribe(c),r=nve())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=AM)}function p(){s||(s=!0,f())}function y(){s&&(s=!1,m())}const x={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>r};return x}var ive=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sve=ive(),ave=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ove=ave(),lve=()=>sve||ove?E.useLayoutEffect:E.useEffect,cve=lve();function IM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function uve(t,e){if(IM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!IM(t[n[i]],e[n[i]]))return!1;return!0}var dve=Symbol.for("react-redux-context"),fve=typeof globalThis<"u"?globalThis:{};function hve(){if(!E.createContext)return{};const t=fve[dve]??=new Map;let e=t.get(E.createContext);return e||(e=E.createContext(null),t.set(E.createContext,e)),e}var mve=hve();function pve(t){const{children:e,context:n,serverState:r,store:i}=t,s=E.useMemo(()=>{const c=rve(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=E.useMemo(()=>i.getState(),[i]);cve(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=n||mve;return E.createElement(l.Provider,{value:s},e)}var gve=pve,yve=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function vve(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Kb(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(yve.has(r)){if(t[r]==null&&e[r]==null)continue;if(!uve(t[r],e[r]))return!1}else if(!vve(t[r],e[r]))return!1;return!0}var xve=["id"],bve=["type","layout","connectNulls","needClip","shape"],wve=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Tp(){return Tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tp.apply(null,arguments)}function jM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ga(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jM(Object(n),!0).forEach(function(r){_ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ve(t,e,n){return(e=Eve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eve(t){var e=Cve(t,"string");return typeof e=="symbol"?e:e+""}function Cve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MA(t,e){if(t==null)return{};var n,r,i=Tve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Tve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sve=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:yb(n,e),payload:t}]},Nve=E.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:c,tooltipType:d,id:f}=t,m={dataDefinedOnItem:n,getPosition:Du,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:yb(a,e),hide:l,type:d,color:r,unit:c,graphicalItemId:f}};return E.createElement(C9,{tooltipEntrySettings:m})}),U9=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Pve(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Ave=(t,e,n)=>{var r=n.reduce((y,x)=>y+x);if(!r)return U9(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,l=[],c=0,d=0;c<n.length;d+=(f=n[c])!==null&&f!==void 0?f:0,++c){var f,m=n[c];if(m!=null&&d+m>s){l=[...n.slice(0,c),s-d];break}}var p=l.length%2===0?[0,a]:[a];return[...Pve(n,i),...l,...p].map(y=>"".concat(y,"px")).join(", ")};function Ive(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r,{id:l}=r,c=MA(r,xve),d=Ls(c);return E.createElement(A9,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:d,needClip:a,clipPathId:e})}function jve(t){var{showLabels:e,children:n,points:r}=t,i=E.useMemo(()=>r?.map(s=>{var a,l,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ga(ga({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return E.createElement(x9,{value:e?i:void 0},n)}function kM(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:l,connectNulls:c,needClip:d,shape:f}=s,m=MA(s,bve),p=ga(ga({},Br(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:l,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return E.createElement(E.Fragment,null,r?.length>1&&E.createElement(Sge,Tp({shapeType:"curve",option:f},p,{pathRef:n})),E.createElement(Ive,{points:r,clipPathId:e,props:s}))}function kve(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function Rve(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:m,animateNewValues:p,width:y,height:x,onAnimationEnd:b,onAnimationStart:_}=n,T=i.current,L=Nb(a,"recharts-line-"),M=E.useRef(L),[z,I]=E.useState(!1),j=!z,C=E.useCallback(()=>{typeof b=="function"&&b(),I(!1)},[b]),S=E.useCallback(()=>{typeof _=="function"&&_(),I(!0)},[_]),D=kve(r.current),N=E.useRef(0);M.current!==L&&(N.current=s.current,M.current=L);var k=N.current;return E.createElement(jve,{points:a,showLabels:j},n.children,E.createElement(Sb,{animationId:L,begin:d,duration:f,isActive:c,easing:m,onAnimationEnd:C,onAnimationStart:S,key:L},O=>{var A=Bn(k,D+k,O),W=Math.min(A,D),Y;if(c)if(l){var J="".concat(l).split(/[,\s]+/gim).map(q=>parseFloat(q));Y=Ave(W,D,J)}else Y=U9(D,W);else Y=l==null?void 0:String(l);if(O>0&&D>0&&(i.current=a,s.current=Math.max(s.current,W)),T){var V=T.length/a.length,G=O===1?a:a.map((q,R)=>{var $=Math.floor(R*V);if(T[$]){var K=T[$];return ga(ga({},q),{},{x:Bn(K.x,q.x,O),y:Bn(K.y,q.y,O)})}return p?ga(ga({},q),{},{x:Bn(y*2,q.x,O),y:Bn(x/2,q.y,O)}):ga(ga({},q),{},{x:q.x,y:q.y})});return i.current=G,E.createElement(kM,{props:n,points:G,clipPathId:e,pathRef:r,strokeDasharray:Y})}return E.createElement(kM,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:Y})}),E.createElement(w9,{label:n.label}))}function Dve(t){var{clipPathId:e,props:n}=t,r=E.useRef(null),i=E.useRef(0),s=E.useRef(null);return E.createElement(Rve,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var Ove=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Kn(t.payload,e)}};class Mve extends E.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:l,left:c,width:d,height:f,id:m,needClip:p,zIndex:y}=this.props;if(e)return null;var x=Yt("recharts-line",i),b=m,{r:_,strokeWidth:T}=$9(n),L=DA(n),M=_*2+T,z=p?"url(#clipPath-".concat(L?"":"dots-").concat(b,")"):void 0;return E.createElement(Bo,{zIndex:y},E.createElement(ss,{className:x},p&&E.createElement("defs",null,E.createElement(L9,{clipPathId:b,xAxisId:s,yAxisId:a}),!L&&E.createElement("clipPath",{id:"clipPath-dots-".concat(b)},E.createElement("rect",{x:c-M/2,y:l-M/2,width:d+M,height:f+M}))),E.createElement(Kye,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:Ove,errorBarOffset:0},E.createElement(Dve,{props:this.props,clipPathId:b}))),E.createElement(cS,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:z}))}}var q9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Gr.line,type:"linear"};function Lve(t){var e=hi(t,q9),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,hide:d,isAnimationActive:f,label:m,legendType:p,xAxisId:y,yAxisId:x,id:b}=e,_=MA(e,wve),{needClip:T}=OA(y,x),L=Wb(),M=Ou(),z=pi(),I=ut(N=>Jye(N,y,x,z,b));if(M!=="horizontal"&&M!=="vertical"||I==null||L==null)return null;var{height:j,width:C,x:S,y:D}=L;return E.createElement(Mve,Tp({},_,{id:b,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:f,hide:d,label:m,legendType:p,xAxisId:y,yAxisId:x,points:I,layout:M,height:j,width:C,left:S,top:D,needClip:T}))}function Vve(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:c}=t;return c.map((d,f)=>{var m=Kn(d,a);if(e==="horizontal"){var p=D0({axis:n,ticks:i,bandSize:l,entry:d,index:f}),y=ar(m)?null:r.scale.map(m);return{x:p,y:y??null,value:m,payload:d}}var x=ar(m)?null:n.scale.map(m),b=D0({axis:r,ticks:s,bandSize:l,entry:d,index:f});return x==null||b==null?null:{x,y:b,value:m,payload:d}}).filter(Boolean)}function Fve(t){var e=hi(t,q9),n=pi();return E.createElement(S9,{id:e.id,type:"line"},r=>E.createElement(E.Fragment,null,E.createElement(T9,{legendPayload:Sve(e)}),E.createElement(Nve,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),E.createElement(P9,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),E.createElement(Lve,Tp({},e,{id:r}))))}var H9=E.memo(Fve,Kb);H9.displayName="Line";function LA(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:I9}function VA(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:I9}var W9=(t,e,n)=>Hb(t,"xAxis",LA(t,e),n),K9=(t,e,n)=>qb(t,"xAxis",LA(t,e),n),G9=(t,e,n)=>Hb(t,"yAxis",VA(t,e),n),X9=(t,e,n)=>qb(t,"yAxis",VA(t,e),n),Bve=ye([nn,W9,G9,K9,X9],(t,e,n,r,i)=>$s(t,"xAxis")?If(e,r,!1):If(n,i,!1)),zve=(t,e)=>e,Y9=ye([hA,zve],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),Q9=t=>{var e=nn(t),n=$s(e,"xAxis");return n?"yAxis":"xAxis"},$ve=(t,e)=>{var n=Q9(t);return n==="yAxis"?VA(t,e):LA(t,e)},Uve=(t,e,n)=>u8(t,Q9(t),$ve(t,e),n),qve=ye([Y9,Uve],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=uA(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,a=s?.find(l=>l.key===i);if(a!=null)return a.map(l=>[l[0],l[1]])}}}),Hve=ye([nn,W9,G9,K9,X9,qve,xde,Bve,Y9,Pde],(t,e,n,r,i,s,a,l,c,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:p}=a;if(!(c==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:y}=c,x;if(y&&y.length>0?x=y:x=f?.slice(m,p+1),x!=null)return u0e({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:c,stackedData:s,displayedData:x,chartBaseValue:d,bandSize:l})}}),Wve=["id"],Kve=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ou.apply(null,arguments)}function J9(t,e){if(t==null)return{};var n,r,i=Gve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function RM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RM(Object(n),!0).forEach(function(r){Xve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xve(t,e,n){return(e=Yve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yve(t){var e=Qve(t,"string");return typeof e=="symbol"?e:e+""}function Qve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lx(t,e){return t&&t!=="none"?t:e}var Jve=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:lx(r,i),value:yb(n,e),payload:t}]},Zve=E.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:c,tooltipType:d,id:f}=t,m={dataDefinedOnItem:n,getPosition:Du,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:yb(a,e),hide:l,type:d,color:lx(r,s),unit:c,graphicalItemId:f}};return E.createElement(C9,{tooltipEntrySettings:m})});function e0e(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:a}=r,l=Ls(r);return E.createElement(A9,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:l,needClip:i,clipPathId:e})}function t0e(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var a,l,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Hd(Hd({},c),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return E.createElement(x9,{value:e?i:void 0},n)}function DM(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:a,type:l,stroke:c,connectNulls:d,isRange:f}=s,{id:m}=s,p=J9(s,Wve),y=Ls(p),x=Br(p);return E.createElement(E.Fragment,null,e?.length>1&&E.createElement(ss,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},E.createElement(Mm,ou({},x,{id:m,points:e,connectNulls:d,type:l,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),c!=="none"&&E.createElement(Mm,ou({},y,{className:"recharts-area-curve",layout:a,type:l,connectNulls:d,fill:"none",points:e})),c!=="none"&&f&&E.createElement(Mm,ou({},y,{className:"recharts-area-curve",layout:a,type:l,connectNulls:d,fill:"none",points:n}))),E.createElement(e0e,{points:e,props:p,clipPathId:i}))}function n0e(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=t,l=(e=s[0])===null||e===void 0?void 0:e.y,c=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Lt(l)||!Lt(c))return null;var d=r*Math.abs(l-c),f=Math.max(...s.map(m=>m.x||0));return Ze(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(m=>m.x||0),f)),Ze(f)?E.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(d)}):null}function r0e(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=t,l=(e=s[0])===null||e===void 0?void 0:e.x,c=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Lt(l)||!Lt(c))return null;var d=r*Math.abs(l-c),f=Math.max(...s.map(m=>m.y||0));return Ze(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(m=>m.y||0),f)),Ze(f)?E.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}function i0e(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?E.createElement(n0e,{alpha:e,points:r,baseLine:i,strokeWidth:s}):E.createElement(r0e,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function s0e(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:a,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:m,onAnimationStart:p,onAnimationEnd:y}=r,x=E.useMemo(()=>({points:a,baseLine:l}),[a,l]),b=Nb(x,"recharts-area-"),_=D$(),[T,L]=E.useState(!1),M=!T,z=E.useCallback(()=>{typeof y=="function"&&y(),L(!1)},[y]),I=E.useCallback(()=>{typeof p=="function"&&p(),L(!0)},[p]);if(_==null)return null;var j=i.current,C=s.current;return E.createElement(t0e,{showLabels:M,points:a},r.children,E.createElement(Sb,{animationId:b,begin:d,duration:f,isActive:c,easing:m,onAnimationEnd:z,onAnimationStart:I,key:b},S=>{if(j){var D=j.length/a.length,N=S===1?a:a.map((O,A)=>{var W=Math.floor(A*D);if(j[W]){var Y=j[W];return Hd(Hd({},O),{},{x:Bn(Y.x,O.x,S),y:Bn(Y.y,O.y,S)})}return O}),k;return Ze(l)?k=Bn(C,l,S):ar(l)||Aa(l)?k=Bn(C,0,S):k=l.map((O,A)=>{var W=Math.floor(A*D);if(Array.isArray(C)&&C[W]){var Y=C[W];return Hd(Hd({},O),{},{x:Bn(Y.x,O.x,S),y:Bn(Y.y,O.y,S)})}return O}),S>0&&(i.current=N,s.current=k),E.createElement(DM,{points:N,baseLine:k,needClip:e,clipPathId:n,props:r})}return S>0&&(i.current=a,s.current=l),E.createElement(ss,null,c&&E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(n)},E.createElement(i0e,{alpha:S,points:a,baseLine:l,layout:_,strokeWidth:r.strokeWidth}))),E.createElement(ss,{clipPath:"url(#animationClipPath-".concat(n,")")},E.createElement(DM,{points:a,baseLine:l,needClip:e,clipPathId:n,props:r})))}),E.createElement(w9,{label:r.label}))}function a0e(t){var{needClip:e,clipPathId:n,props:r}=t,i=E.useRef(null),s=E.useRef();return E.createElement(s0e,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class o0e extends E.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:a,needClip:l,xAxisId:c,yAxisId:d,width:f,height:m,id:p,baseLine:y,zIndex:x}=this.props;if(e)return null;var b=Yt("recharts-area",i),_=p,{r:T,strokeWidth:L}=$9(n),M=DA(n),z=T*2+L,I=l?"url(#clipPath-".concat(M?"":"dots-").concat(_,")"):void 0;return E.createElement(Bo,{zIndex:x},E.createElement(ss,{className:b},l&&E.createElement("defs",null,E.createElement(L9,{clipPathId:_,xAxisId:c,yAxisId:d}),!M&&E.createElement("clipPath",{id:"clipPath-dots-".concat(_)},E.createElement("rect",{x:a-z/2,y:s-z/2,width:f+z,height:m+z}))),E.createElement(a0e,{needClip:l,clipPathId:_,props:this.props})),E.createElement(cS,{points:r,mainColor:lx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(y)&&E.createElement(cS,{points:y,mainColor:lx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var Z9={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Gr.area};function l0e(t){var e,n=hi(t,Z9),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,fill:d,fillOpacity:f,hide:m,isAnimationActive:p,legendType:y,stroke:x,xAxisId:b,yAxisId:_}=n,T=J9(n,Kve),L=Ou(),M=Z8(),{needClip:z}=OA(b,_),I=pi(),{points:j,isRange:C,baseLine:S}=(e=ut(W=>Hve(W,t.id,I)))!==null&&e!==void 0?e:{},D=Wb();if(L!=="horizontal"&&L!=="vertical"||D==null||M!=="AreaChart"&&M!=="ComposedChart")return null;var{height:N,width:k,x:O,y:A}=D;return!j||!j.length?null:E.createElement(o0e,ou({},T,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:S,connectNulls:l,dot:c,fill:d,fillOpacity:f,height:N,hide:m,layout:L,isAnimationActive:p==="auto"?!rg.isSsr:p,isRange:C,legendType:y,needClip:z,points:j,stroke:x,width:k,left:O,top:A,xAxisId:b,yAxisId:_}))}var c0e=(t,e,n,r,i)=>{var s=n??e;if(Ze(s))return s;var a=t==="horizontal"?i:r,l=a.scale.domain();if(a.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return s==="dataMin"?d:s==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]};function u0e(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:f,xAxisTicks:m,yAxisTicks:p,bandSize:y}=t,x=i&&i.length,b=c0e(s,a,n,l,c),_=s==="horizontal",T=!1,L=d.map((z,I)=>{var j,C,S,D;if(x)D=i[f+I];else{var N=Kn(z,r);Array.isArray(N)?(D=N,T=!0):D=[b,N]}var k=(j=(C=D)===null||C===void 0?void 0:C[1])!==null&&j!==void 0?j:null,O=k==null||x&&!e&&Kn(z,r)==null;if(_){var A;return{x:D0({axis:l,ticks:m,bandSize:y,entry:z,index:I}),y:O?null:(A=c.scale.map(k))!==null&&A!==void 0?A:null,value:D,payload:z}}return{x:O?null:(S=l.scale.map(k))!==null&&S!==void 0?S:null,y:D0({axis:c,ticks:p,bandSize:y,entry:z,index:I}),value:D,payload:z}}),M;return x||T?M=L.map(z=>{var I,j=Array.isArray(z.value)?z.value[0]:null;if(_){var C;return{x:z.x,y:j!=null&&z.y!=null&&(C=c.scale.map(j))!==null&&C!==void 0?C:null,payload:z.payload}}return{x:j!=null&&(I=l.scale.map(j))!==null&&I!==void 0?I:null,y:z.y,payload:z.payload}}):M=_?c.scale.map(b):l.scale.map(b),{points:L,baseLine:M??0,isRange:T}}function d0e(t){var e=hi(t,Z9),n=pi();return E.createElement(S9,{id:e.id,type:"area"},r=>E.createElement(E.Fragment,null,E.createElement(T9,{legendPayload:Jve(e)}),E.createElement(Zve,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),E.createElement(P9,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:xae(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),E.createElement(l0e,ou({},e,{id:r}))))}var uS=E.memo(d0e,Kb);uS.displayName="Area";var f0e=["domain","range"],h0e=["domain","range"];function OM(t,e){if(t==null)return{};var n,r,i=m0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function m0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function MM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function p0e(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=OM(t,f0e),{domain:s,range:a}=e,l=OM(e,h0e);return!MM(n,s)||!MM(r,a)?!1:Kb(i,l)}var g0e=["type"],y0e=["dangerouslySetInnerHTML","ticks","scale"],v0e=["id","scale"];function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(null,arguments)}function LM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LM(Object(n),!0).forEach(function(r){x0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x0e(t,e,n){return(e=b0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b0e(t){var e=w0e(t,"string");return typeof e=="symbol"?e:e+""}function w0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fS(t,e){if(t==null)return{};var n,r,i=_0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function E0e(t){var e=Er(),n=E.useRef(null),r=D$(),{type:i}=t,s=fS(t,g0e),a=aA(r,"yAxis",i),l=E.useMemo(()=>{if(a!=null)return VM(VM({},s),{},{type:a})},[a,s]);return E.useLayoutEffect(()=>{l!=null&&(n.current===null?e(Xge(l)):n.current!==l&&e(Yge({prev:n.current,next:l})),n.current=l)},[l,e]),E.useLayoutEffect(()=>()=>{n.current&&(e(Qge(n.current)),n.current=null)},[e]),null}function C0e(t){var{yAxisId:e,className:n,width:r,label:i}=t,s=E.useRef(null),a=E.useRef(null),l=ut(Lae),c=pi(),d=Er(),f="yAxis",m=ut(j=>kfe(j,e)),p=ut(j=>jfe(j,e)),y=ut(j=>Dfe(j,f,e,c)),x=ut(j=>ZU(j,e));if(E.useLayoutEffect(()=>{if(!(r!=="auto"||!m||RA(i)||E.isValidElement(i)||x==null)){var j=s.current;if(j){var C=j.getCalculatedWidth();Math.round(m.width)!==Math.round(C)&&d(Jge({id:e,width:C}))}}},[y,m,d,i,e,r,x]),m==null||p==null||x==null)return null;var{dangerouslySetInnerHTML:b,ticks:_,scale:T}=t,L=fS(t,y0e),{id:M,scale:z}=x,I=fS(x,v0e);return E.createElement(O9,dS({},L,I,{ref:s,labelRef:a,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Yt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:y,axisType:f}))}var T0e={allowDataOverflow:tr.allowDataOverflow,allowDecimals:tr.allowDecimals,allowDuplicatedCategory:tr.allowDuplicatedCategory,angle:tr.angle,axisLine:Dv.axisLine,hide:!1,includeHidden:tr.includeHidden,interval:tr.interval,label:!1,minTickGap:tr.minTickGap,mirror:tr.mirror,orientation:tr.orientation,padding:tr.padding,reversed:tr.reversed,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,tickLine:Dv.tickLine,tickSize:Dv.tickSize,type:tr.type,width:tr.width,yAxisId:0},S0e=t=>{var e=hi(t,T0e);return E.createElement(E.Fragment,null,E.createElement(E0e,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),E.createElement(C0e,e))},e7=E.memo(S0e,p0e);e7.displayName="YAxis";var N0e=(t,e)=>e,FA=ye([N0e,nn,YU,cr,K8,Fo,Khe,Cr],eme),BA=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},t7=as("mouseClick"),n7=Zp();n7.startListening({actionCreator:t7,effect:(t,e)=>{var n=t.payload,r=FA(e.getState(),BA(n));r?.activeIndex!=null&&e.dispatch(Wfe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var hS=as("mouseMove"),r7=Zp(),tv=null;r7.startListening({actionCreator:hS,effect:(t,e)=>{var n=t.payload;tv!==null&&cancelAnimationFrame(tv);var r=BA(n);tv=requestAnimationFrame(()=>{var i=e.getState(),s=_A(i,i.tooltip.settings.shared);if(s==="axis"){var a=FA(i,r);a?.activeIndex!=null?e.dispatch(V8({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(L8())}tv=null})}});function P0e(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var FM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},i7=mi({name:"rootProps",initialState:FM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:FM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),A0e=i7.reducer,{updateOptions:I0e}=i7.actions,j0e=null,k0e={updatePolarOptions:(t,e)=>e.payload},s7=mi({name:"polarOptions",initialState:j0e,reducers:k0e}),{updatePolarOptions:RPe}=s7.actions,R0e=s7.reducer,a7=as("keyDown"),o7=as("focus"),zA=Zp();zA.startListening({actionCreator:a7,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=EA(i,th(n),ug(n),fg(n)),l=a==null?-1:Number(a);if(!(!Number.isFinite(l)||l<0)){var c=Fo(n);if(s==="Enter"){var d=rx(n,"axis","hover",String(i.index));e.dispatch(iS({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=Lfe(n),m=f==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,y=l+p*m;if(!(c==null||y>=c.length||y<0)){var x=rx(n,"axis","hover",String(y));e.dispatch(iS({active:!0,activeIndex:y.toString(),activeCoordinate:x}))}}}}}});zA.startListening({actionCreator:o7,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=rx(n,"axis","hover",String(s));e.dispatch(iS({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Xi=as("externalEvent"),l7=Zp(),SE=new Map;l7.startListening({actionCreator:Xi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=SE.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var l=e.getState(),c={activeCoordinate:khe(l),activeDataKey:Ihe(l),activeIndex:_p(l),activeLabel:Y8(l),activeTooltipIndex:_p(l),isTooltipActive:Rhe(l)};n(c,r)}finally{SE.delete(i)}});SE.set(i,a)}}});var D0e=ye([Zf],t=>t.tooltipItemPayloads),O0e=ye([D0e,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),c7=as("touchMove"),u7=Zp();u7.startListening({actionCreator:c7,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=_A(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var a=FA(r,BA({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(V8({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(Sae),m=(l=d.getAttribute(Nae))!==null&&l!==void 0?l:void 0,p=eh(r).find(b=>b.id===m);if(f==null||p==null||m==null)return;var{dataKey:y}=p,x=O0e(r,f,m);e.dispatch(Hfe({activeDataKey:y,activeIndex:f,activeCoordinate:x,activeGraphicalItemId:m}))}}}});var M0e=e$({brush:lye,cartesianAxis:Zge,chartData:jme,errorBars:zye,graphicalItems:Oge,layout:uae,legend:_oe,options:Sme,polarAxis:age,polarOptions:R0e,referenceElements:fye,rootProps:A0e,tooltip:Kfe,zIndex:mme}),L0e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Ose({reducer:M0e,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([n7.middleware,r7.middleware,zA.middleware,l7.middleware,u7.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(p$({type:"raf"}))},devTools:{serialize:{replacer:P0e},name:"recharts-".concat(n)}})};function V0e(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=pi(),s=E.useRef(null);if(i)return n;s.current==null&&(s.current=L0e(e,r));var a=bP;return E.createElement(gve,{context:a,store:s.current},n)}function F0e(t){var{layout:e,margin:n}=t,r=Er(),i=pi();return E.useEffect(()=>{i||(r(oae(e)),r(aae(n)))},[r,i,e,n]),null}var B0e=E.memo(F0e,Kb);function z0e(t){var e=Er();return E.useEffect(()=>{e(I0e(t))},[e,t]),null}function BM(t){var{zIndex:e,isPanorama:n}=t,r=E.useRef(null),i=Er();return E.useLayoutEffect(()=>(r.current&&i(fme({zIndex:e,element:r.current,isPanorama:n})),()=>{i(hme({zIndex:e,isPanorama:n}))}),[i,e,n]),E.createElement("g",{tabIndex:-1,ref:r})}function zM(t){var{children:e,isPanorama:n}=t,r=ut(nme);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return E.createElement(E.Fragment,null,i.map(a=>E.createElement(BM,{key:a,zIndex:a,isPanorama:n})),e,s.map(a=>E.createElement(BM,{key:a,zIndex:a,isPanorama:n})))}var $0e=["children"];function U0e(t,e){if(t==null)return{};var n,r,i=q0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function q0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function cx(){return cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cx.apply(null,arguments)}var H0e={width:"100%",height:"100%",display:"block"},W0e=E.forwardRef((t,e)=>{var n=ioe(),r=soe(),i=U$();if(!Xl(n)||!Xl(r))return null;var{children:s,otherAttributes:a,title:l,desc:c}=t,d,f;return a!=null&&(typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0),E.createElement(vz,cx({},a,{title:l,desc:c,role:f,tabIndex:d,width:n,height:r,style:H0e,ref:e}),s)}),K0e=t=>{var{children:e}=t,n=ut(wb);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return E.createElement(vz,{width:r,height:i,x:a,y:s},e)},$M=E.forwardRef((t,e)=>{var{children:n}=t,r=U0e(t,$0e),i=pi();return i?E.createElement(K0e,null,E.createElement(zM,{isPanorama:!0},n)):E.createElement(W0e,cx({ref:e},r),E.createElement(zM,{isPanorama:!1},n))});function G0e(){var t=Er(),[e,n]=E.useState(null),r=ut(Tae);return E.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Lt(s)&&s!==r&&t(cae(s))}},[e,t,r]),n}function UM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(n),!0).forEach(function(r){Y0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y0e(t,e,n){return(e=Q0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q0e(t){var e=J0e(t,"string");return typeof e=="symbol"?e:e+""}function J0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fl.apply(null,arguments)}var Z0e=()=>(Bme(),null);function ux(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var exe=E.forwardRef((t,e)=>{var n,r,i=E.useRef(null),[s,a]=E.useState({containerWidth:ux((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:ux((r=t.style)===null||r===void 0?void 0:r.height)}),l=E.useCallback((d,f)=>{a(m=>{var p=Math.round(d),y=Math.round(f);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),c=E.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:m}=d.getBoundingClientRect();l(f,m);var p=x=>{var b=x[0];if(b!=null){var{width:_,height:T}=b.contentRect;l(_,T)}},y=new ResizeObserver(p);y.observe(d),i.current=y}},[e,l]);return E.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),E.createElement(E.Fragment,null,E.createElement(tg,{width:s.containerWidth,height:s.containerHeight}),E.createElement("div",Fl({ref:c},t)))}),txe=E.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=E.useState({containerWidth:ux(n),containerHeight:ux(r)}),a=E.useCallback((c,d)=>{s(f=>{var m=Math.round(c),p=Math.round(d);return f.containerWidth===m&&f.containerHeight===p?f:{containerWidth:m,containerHeight:p}})},[]),l=E.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();a(d,f)}},[e,a]);return E.createElement(E.Fragment,null,E.createElement(tg,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",Fl({ref:l},t)))}),nxe=E.forwardRef((t,e)=>{var{width:n,height:r}=t;return E.createElement(E.Fragment,null,E.createElement(tg,{width:n,height:r}),E.createElement("div",Fl({ref:e},t)))}),rxe=E.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?E.createElement(txe,Fl({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?E.createElement(nxe,Fl({},t,{width:n,height:r,ref:e})):E.createElement(E.Fragment,null,E.createElement(tg,{width:n,height:r}),E.createElement("div",Fl({ref:e},t)))});function ixe(t){return t?exe:rxe}var sxe=E.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:m,onMouseUp:p,onTouchEnd:y,onTouchMove:x,onTouchStart:b,style:_,width:T,responsive:L,dispatchTouchEvents:M=!0}=t,z=E.useRef(null),I=Er(),[j,C]=E.useState(null),[S,D]=E.useState(null),N=G0e(),k=NP(),O=k?.width>0?k.width:T,A=k?.height>0?k.height:i,W=E.useCallback(se=>{N(se),typeof e=="function"&&e(se),C(se),D(se),se!=null&&(z.current=se)},[N,e,C,D]),Y=E.useCallback(se=>{I(t7(se)),I(Xi({handler:s,reactEvent:se}))},[I,s]),J=E.useCallback(se=>{I(hS(se)),I(Xi({handler:d,reactEvent:se}))},[I,d]),V=E.useCallback(se=>{I(L8()),I(Xi({handler:f,reactEvent:se}))},[I,f]),G=E.useCallback(se=>{I(hS(se)),I(Xi({handler:m,reactEvent:se}))},[I,m]),q=E.useCallback(()=>{I(o7())},[I]),R=E.useCallback(se=>{I(a7(se.key))},[I]),$=E.useCallback(se=>{I(Xi({handler:a,reactEvent:se}))},[I,a]),K=E.useCallback(se=>{I(Xi({handler:l,reactEvent:se}))},[I,l]),Z=E.useCallback(se=>{I(Xi({handler:c,reactEvent:se}))},[I,c]),Q=E.useCallback(se=>{I(Xi({handler:p,reactEvent:se}))},[I,p]),te=E.useCallback(se=>{I(Xi({handler:b,reactEvent:se}))},[I,b]),ae=E.useCallback(se=>{M&&I(c7(se)),I(Xi({handler:x,reactEvent:se}))},[I,M,x]),re=E.useCallback(se=>{I(Xi({handler:y,reactEvent:se}))},[I,y]),xe=ixe(L);return E.createElement(i9.Provider,{value:j},E.createElement(mre.Provider,{value:S},E.createElement(xe,{width:O??_?.width,height:A??_?.height,className:Yt("recharts-wrapper",r),style:X0e({position:"relative",cursor:"default",width:O,height:A},_),onClick:Y,onContextMenu:$,onDoubleClick:K,onFocus:q,onKeyDown:R,onMouseDown:Z,onMouseEnter:J,onMouseLeave:V,onMouseMove:G,onMouseUp:Q,onTouchEnd:re,onTouchMove:ae,onTouchStart:te,ref:W},E.createElement(Z0e,null),n)))}),axe=["width","height","responsive","children","className","style","compact","title","desc"];function oxe(t,e){if(t==null)return{};var n,r,i=lxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function lxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var cxe=E.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:l,compact:c,title:d,desc:f}=t,m=oxe(t,axe),p=Ls(m);return c?E.createElement(E.Fragment,null,E.createElement(tg,{width:n,height:r}),E.createElement($M,{otherAttributes:p,title:d,desc:f},s)):E.createElement(sxe,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},E.createElement($M,{otherAttributes:p,title:d,desc:f,ref:e},E.createElement(mye,null,s)))});function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mS.apply(null,arguments)}var uxe={top:5,right:5,bottom:5,left:5},dxe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:uxe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},d7=E.forwardRef(function(e,n){var r,i=hi(e.categoricalChartProps,dxe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return E.createElement(V0e,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:s},E.createElement(oye,{chartData:d.data}),E.createElement(B0e,{layout:i.layout,margin:i.margin}),E.createElement(z0e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(cxe,mS({},i,{ref:n})))}),fxe=["axis"],hxe=E.forwardRef((t,e)=>E.createElement(d7,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fxe,tooltipPayloadSearcher:s9,categoricalChartProps:t,ref:e})),mxe=["axis"],pxe=E.forwardRef((t,e)=>E.createElement(d7,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mxe,tooltipPayloadSearcher:s9,categoricalChartProps:t,ref:e}));function gxe({value:t}){const[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{const s=()=>{const c=[],d=t,f=t*.003;for(let m=0;m<24;m++){const p=m/24,y=(Math.random()-.5)*2,x=Math.sin(p*Math.PI*2)*.5,b=d+f*y*.5+f*x;c.push({value:b,timestamp:Date.now()-(24-m)*36e5})}return c};n(s()),i(!1);const a=setInterval(()=>{n(s())},60*1e3);return()=>clearInterval(a)},[t]),e.length===0?o.jsx("div",{className:"w-full h-full",style:{minHeight:"48px"}}):o.jsx("div",{className:"w-full h-full",style:{minWidth:"300px",minHeight:"48px"},children:o.jsx(R$,{width:"100%",height:"100%",minHeight:48,children:o.jsxs(hxe,{data:e,children:[o.jsx(e7,{hide:!0,domain:["dataMin","dataMax"]}),o.jsx(H9,{type:"monotone",dataKey:"value",stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:2,dot:!1,animationDuration:1e3,isAnimationActive:!0})]})})})}const NE=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin"},{id:"ethereum",symbol:"ETH",name:"Ethereum"},{id:"tether",symbol:"USDT",name:"Tether"},{id:"binancecoin",symbol:"BNB",name:"BNB"},{id:"solana",symbol:"SOL",name:"Solana"},{id:"ripple",symbol:"XRP",name:"XRP"},{id:"cardano",symbol:"ADA",name:"Cardano"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin"},{id:"polkadot",symbol:"DOT",name:"Polkadot"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu"}];function yxe({isOpen:t,onClose:e}){const[n,r]=E.useState(""),[i,s]=E.useState(NE),{prices:a}=fi();E.useEffect(()=>{if(n.trim()==="")s(NE);else{const c=NE.filter(d=>d.name.toLowerCase().includes(n.toLowerCase())||d.symbol.toLowerCase().includes(n.toLowerCase()));s(c)}},[n]);const l=c=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:c<1?6:2}).format(c);return t?o.jsxs("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm animate-in fade-in overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsx("style",{children:`
        .search-modal-container::-webkit-scrollbar {
          display: none;
        }
      `}),o.jsxs("div",{className:"min-h-screen p-6 pt-12 search-modal-container",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsxs("div",{className:"flex-1 bg-white/5 backdrop-blur-md rounded-2xl px-4 py-3 flex items-center gap-3 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsx(Wl,{className:"text-white/60 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Pesquisar criptomoeda...",value:n,onChange:c=>r(c.target.value),autoFocus:!0,className:"flex-1 bg-transparent text-white placeholder:text-white/40 outline-none text-sm"}),n&&o.jsx("button",{onClick:()=>r(""),className:"text-white/60 hover:text-white",children:o.jsx(is,{className:"w-4 h-4"})})]}),o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(is,{className:"text-white w-5 h-5"})})]}),o.jsx("div",{className:"space-y-2",children:i.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-white/50 text-sm",children:"Nenhuma criptomoeda encontrada"})}):i.map(c=>{const d=a[c.id]?.usd||0,f=a[c.id]?.usd_24h_change||0,m=f>=0;return o.jsxs("button",{className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 flex items-center justify-between border border-white/10 hover:border-white/20 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(mt,{symbol:c.symbol,size:"sm"}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-white font-semibold text-sm",children:c.name}),o.jsx("p",{className:"text-white/50 text-xs",children:c.symbol})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-white font-semibold text-sm",children:d>0?`$${l(d)}`:""}),d>0&&o.jsxs("div",{className:`flex items-center justify-end gap-1 text-xs font-medium ${m?"text-[#34c759]":"text-[#ff3b30]"}`,children:[m?o.jsx(Di,{className:"w-3 h-3"}):o.jsx(_u,{className:"w-3 h-3"}),Math.abs(f).toFixed(2).replace(".",","),"%"]})]})]},c.id)})})]})]}):null}function Ur(t,e){const n=typeof t=="string"?parseFloat(t):t;if(isNaN(n))return"0,00";const r=new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(n);if(e){const s={USD:"$",BRL:"R$",GBP:"",EUR:""}[e]||"";return s?`${s} ${r}`:r}return r}function Qi(t){return t===0?"0":t<1e-8?t.toFixed(8):t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8}).replace(/,(\d*?)0+$/,",$1").replace(/,$/,"")}function nv(t,e=2){return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:e,maximumFractionDigits:e}).format(t)}function vxe({isOpen:t,onClose:e}){const{portfolio:n}=Bs(),{prices:r}=fi(),{t:i}=pt(),s=c=>{const f=nv(c,2).split(",");return{main:f[0],cents:f[1]||"00"}},a=n.change24h>=0,l=n.holdings.map(c=>{const d=r[c.coinId]?.usd||(c.symbol==="USDT"?1:0),f=c.amount*d,m=f/n.totalBalanceUSDT*100;return{...c,valueUSDT:f,percentage:m,price:d}}).sort((c,d)=>d.valueUSDT-c.valueUSDT);return t?o.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-md animate-in fade-in overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsx("style",{children:`
        .stats-modal-container::-webkit-scrollbar {
          display: none;
        }
      `}),o.jsxs("div",{className:"min-h-screen p-6 pt-12 pb-24 stats-modal-container",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center",children:o.jsx(Sv,{className:"text-white w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-white text-lg",children:i.statsPage.title}),o.jsx("p",{className:"text-white/50 text-sm",children:i.statsPage.portfolioAnalysis})]})]}),o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center border border-white/10 hover:bg-white/20 transition-all",children:o.jsx(is,{className:"text-white w-5 h-5"})})]}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 mb-6 border border-white/10",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/50 text-sm mb-2",children:i.statsPage.totalBalance}),o.jsxs("h1",{className:"text-3xl text-white mb-3",children:[s(n.totalBalanceUSDT).main,o.jsxs("span",{className:"text-xl",children:[",",s(n.totalBalanceUSDT).cents]}),o.jsx("span",{className:"text-lg text-white/50 ml-2",children:"USDT"})]}),o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full ${a?"bg-[#34c759]/20":"bg-[#ff3b30]/20"}`,children:[a?o.jsx(Di,{className:`w-4 h-4 ${a?"text-[#34c759]":"text-[#ff3b30]"}`}):o.jsx(_u,{className:`w-4 h-4 ${a?"text-[#34c759]":"text-[#ff3b30]"}`}),o.jsxs("span",{className:`text-sm ${a?"text-[#34c759]":"text-[#ff3b30]"}`,children:[nv(Math.abs(n.change24h))," USDT"]})]}),o.jsx("div",{className:`px-3 py-1 rounded-full ${a?"bg-[#34c759]/20":"bg-[#ff3b30]/20"}`,children:o.jsxs("span",{className:`text-sm ${a?"text-[#34c759]":"text-[#ff3b30]"}`,children:[a?"+":"",n.changePercent24h.toFixed(2).replace(".",","),"%"]})})]})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ZR,{className:"w-4 h-4 text-white/70"}),o.jsx("p",{className:"text-white/50 text-xs",children:i.statsPage.totalAssets})]}),o.jsx("p",{className:"text-white text-2xl",children:l.length})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Sv,{className:"w-4 h-4 text-white/70"}),o.jsx("p",{className:"text-white/50 text-xs",children:i.statsPage.largestAsset})]}),o.jsx("p",{className:"text-white text-lg",children:l[0]?.symbol||""}),o.jsxs("p",{className:"text-white/50 text-xs",children:[l[0]?.percentage.toFixed(1).replace(".",","),"%"]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-white text-lg mb-4 flex items-center gap-2",children:[o.jsx(ZR,{className:"w-5 h-5"}),i.statsPage.assetDistribution]}),o.jsx("div",{className:"space-y-3",children:l.map(c=>{const d=r[c.coinId]?.usd_24h_change||0,f=d>=0;return o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(mt,{symbol:c.symbol,size:"sm"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white text-sm",children:c.name}),o.jsxs("p",{className:"text-white/50 text-xs",children:[nv(c.amount,4)," ",c.symbol]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-white text-sm",children:[nv(c.valueUSDT)," USDT"]}),o.jsxs("div",{className:`text-xs ${f?"text-[#34c759]":"text-[#ff3b30]"}`,children:[f?"+":"",d.toFixed(2).replace(".",","),"%"]})]})]}),o.jsx("div",{className:"relative h-2 bg-white/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"absolute left-0 top-0 h-full bg-white/30 rounded-full transition-all",style:{width:`${c.percentage}%`}})}),o.jsxs("p",{className:"text-white/50 text-xs mt-2",children:[c.percentage.toFixed(2).replace(".",","),"% ",i.statsPage.ofPortfolio]})]},c.symbol)})})]}),n.priceHistory.length>1&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-white text-lg mb-4 flex items-center gap-2",children:[o.jsx(Sv,{className:"w-5 h-5"}),i.statsPage.portfolioHistory]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[o.jsx("div",{className:"h-32 relative",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:a?"#34c759":"#ff3b30",stopOpacity:"0.15"}),o.jsx("stop",{offset:"100%",stopColor:a?"#34c759":"#ff3b30",stopOpacity:"0"})]}),o.jsxs("filter",{id:"glow",children:[o.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),o.jsx("path",{d:(()=>{const c=n.priceHistory,d=Math.min(...c),m=Math.max(...c)-d||1,p=c.map((b,_)=>{const T=_/(c.length-1)*100,L=100-(b-d)/m*70-15;return{x:T,y:L}});let y=`M${p[0].x},${p[0].y}`;for(let b=0;b<p.length-1;b++){const _=p[Math.max(0,b-1)],T=p[b],L=p[b+1],M=p[Math.min(p.length-1,b+2)],z=T.x+(L.x-_.x)/6,I=T.y+(L.y-_.y)/6,j=L.x-(M.x-T.x)/6,C=L.y-(M.y-T.y)/6;y+=` C${z},${I} ${j},${C} ${L.x},${L.y}`}return`${y} L100,100 L0,100 Z`})(),fill:"url(#chartGradient)"}),o.jsx("path",{d:(()=>{const c=n.priceHistory,d=Math.min(...c),m=Math.max(...c)-d||1,p=c.map((x,b)=>{const _=b/(c.length-1)*100,T=100-(x-d)/m*70-15;return{x:_,y:T}});let y=`M${p[0].x},${p[0].y}`;for(let x=0;x<p.length-1;x++){const b=p[Math.max(0,x-1)],_=p[x],T=p[x+1],L=p[Math.min(p.length-1,x+2)],M=_.x+(T.x-b.x)/6,z=_.y+(T.y-b.y)/6,I=T.x-(L.x-_.x)/6,j=T.y-(L.y-_.y)/6;y+=` C${M},${z} ${I},${j} ${T.x},${T.y}`}return y})(),fill:"none",stroke:a?"#34c759":"#ff3b30",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)"})]})}),o.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-white/50",children:[o.jsx("span",{children:i.statsPage.lastUpdates.replace("{count}",String(n.priceHistory.length))}),o.jsx("span",{children:i.statsPage.updatesEvery5Min})]})]})]})]})]}):null}const xxe=[{symbol:"BTC",name:"Bitcoin",coinId:"bitcoin"},{symbol:"ETH",name:"Ethereum",coinId:"ethereum"},{symbol:"BNB",name:"BNB",coinId:"binancecoin"},{symbol:"SOL",name:"Solana",coinId:"solana"},{symbol:"XRP",name:"Ripple",coinId:"ripple"},{symbol:"ADA",name:"Cardano",coinId:"cardano"},{symbol:"AVAX",name:"Avalanche",coinId:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",coinId:"dogecoin"},{symbol:"DOT",name:"Polkadot",coinId:"polkadot"},{symbol:"MATIC",name:"Polygon",coinId:"matic-network"},{symbol:"LINK",name:"Chainlink",coinId:"chainlink"},{symbol:"UNI",name:"Uniswap",coinId:"uniswap"},{symbol:"LTC",name:"Litecoin",coinId:"litecoin"},{symbol:"ATOM",name:"Cosmos",coinId:"cosmos"},{symbol:"XLM",name:"Stellar",coinId:"stellar"},{symbol:"TRX",name:"Tron",coinId:"tron"},{symbol:"SHIB",name:"Shiba Inu",coinId:"shiba-inu"},{symbol:"WBTC",name:"Wrapped Bitcoin",coinId:"wrapped-bitcoin"},{symbol:"DAI",name:"Dai",coinId:"dai"},{symbol:"LEO",name:"UNUS SED LEO",coinId:"leo-token"},{symbol:"USDC",name:"USD Coin",coinId:"usd-coin"},{symbol:"TON",name:"Toncoin",coinId:"the-open-network"},{symbol:"ETC",name:"Ethereum Classic",coinId:"ethereum-classic"},{symbol:"BCH",name:"Bitcoin Cash",coinId:"bitcoin-cash"},{symbol:"APT",name:"Aptos",coinId:"aptos"},{symbol:"ARB",name:"Arbitrum",coinId:"arbitrum"},{symbol:"OP",name:"Optimism",coinId:"optimism"},{symbol:"ICP",name:"Internet Computer",coinId:"internet-computer"},{symbol:"FIL",name:"Filecoin",coinId:"filecoin"},{symbol:"NEAR",name:"NEAR Protocol",coinId:"near"},{symbol:"VET",name:"VeChain",coinId:"vechain"},{symbol:"ALGO",name:"Algorand",coinId:"algorand"},{symbol:"INJ",name:"Injective",coinId:"injective-protocol"},{symbol:"AAVE",name:"Aave",coinId:"aave"},{symbol:"MKR",name:"Maker",coinId:"maker"},{symbol:"GRT",name:"The Graph",coinId:"the-graph"},{symbol:"IMX",name:"Immutable X",coinId:"immutable-x"},{symbol:"STX",name:"Stacks",coinId:"blockstack"},{symbol:"HBAR",name:"Hedera",coinId:"hedera-hashgraph"},{symbol:"FTM",name:"Fantom",coinId:"fantom"},{symbol:"SAND",name:"The Sandbox",coinId:"the-sandbox"},{symbol:"MANA",name:"Decentraland",coinId:"decentraland"},{symbol:"AXS",name:"Axie Infinity",coinId:"axie-infinity"},{symbol:"XTZ",name:"Tezos",coinId:"tezos"},{symbol:"THETA",name:"Theta Network",coinId:"theta-token"},{symbol:"EOS",name:"EOS",coinId:"eos"},{symbol:"XMR",name:"Monero",coinId:"monero"},{symbol:"FLOW",name:"Flow",coinId:"flow"},{symbol:"CHZ",name:"Chiliz",coinId:"chiliz"},{symbol:"ZEC",name:"Zcash",coinId:"zcash"},{symbol:"RUNE",name:"THORChain",coinId:"thorchain"},{symbol:"KLAY",name:"Klaytn",coinId:"klay-token"},{symbol:"DASH",name:"Dash",coinId:"dash"},{symbol:"NEO",name:"Neo",coinId:"neo"},{symbol:"IOTA",name:"IOTA",coinId:"iota"},{symbol:"QNT",name:"Quant",coinId:"quant-network"},{symbol:"EGLD",name:"MultiversX",coinId:"elrond-erd-2"},{symbol:"PEPE",name:"Pepe",coinId:"pepe"},{symbol:"FET",name:"Fetch.ai",coinId:"fetch-ai"},{symbol:"SUI",name:"Sui",coinId:"sui"},{symbol:"SEI",name:"Sei",coinId:"sei-network"}];function bxe({isOpen:t,onClose:e,visibleCards:n,onToggleCard:r}){const{prices:i}=fi();if(!t)return null;const s=a=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a);return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),o.jsxs("div",{className:"relative w-full max-w-md bg-[#1c1c1e] rounded-t-3xl sm:rounded-3xl shadow-2xl max-h-[85vh] flex flex-col animate-slide-up",children:[o.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Gerenciar Criptomoedas"}),o.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors",children:o.jsx(is,{className:"w-5 h-5 text-white/70"})})]}),o.jsx("div",{className:"px-6 py-3 bg-white/5",children:o.jsx("p",{className:"text-sm text-white/50",children:"Selecione as criptomoedas para exibir na tela inicial"})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:o.jsx("div",{className:"space-y-2",children:xxe.map(a=>{const l=n.includes(a.symbol),c=i[a.coinId]?.usd||0,d=i[a.coinId]?.usd_24h_change||0;return o.jsxs("button",{onClick:()=>r(a.symbol),className:`w-full rounded-2xl p-4 flex items-center justify-between transition-all border ${l?"bg-white/10 border-white/20":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(mt,{symbol:a.symbol,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-base font-bold text-white",children:a.name}),o.jsx("p",{className:"text-sm text-white/50",children:a.symbol})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm font-semibold text-white",children:s(c)}),o.jsxs("div",{className:`text-xs ${d>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[d>=0?"+":"",d.toFixed(2).replace(".",","),"%"]})]}),o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-all ${l?"bg-green-500":"bg-white/10 border border-white/20"}`,children:l?o.jsx(An,{className:"w-4 h-4 text-white"}):o.jsx(bu,{className:"w-4 h-4 text-white/50"})})]})]},a.symbol)})})}),o.jsx("div",{className:"px-6 py-4 border-t border-white/10",children:o.jsx("button",{onClick:e,className:"w-full py-3.5 rounded-full bg-blue-500 hover:bg-blue-600 text-white font-semibold transition-colors",children:"Concluir"})})]})]})}function f7(t,e,n={}){const{maxRetries:r=3,retryDelay:i=1e3,onError:s}=n;let a=0,l=null,c=!1;const d=()=>{if(!c)try{l=Fs(t,f=>{a=0,e(f)},f=>{if(console.error(" Erro no listener Firestore:",f),s&&s(f),f.code==="permission-denied"){console.error(" Erro de permisso - no ser feito retry");return}if(a<r&&!c){a++;const m=i*Math.pow(2,a-1);console.log(` Tentando reconectar (${a}/${r}) em ${m}ms...`),setTimeout(()=>{c||d()},m)}else console.error(" Mximo de tentativas de reconexo atingido")})}catch(f){console.error(" Erro ao configurar listener:",f)}};return d(),()=>{if(c=!0,l)try{l()}catch(f){console.error(" Erro ao desinscrever listener:",f)}}}function mg(){const{user:t}=Ot(),[e,n]=E.useState([]),[r,i]=E.useState(!0),[s,a]=E.useState(!1);E.useEffect(()=>{if(!t?.uid){i(!1),n([]),a(!1);return}console.log(" Iniciando listener de saldos fiat para userId:",t.uid);const d=at(be,"users",t.uid,"fiatBalances"),f=Rt(d),m=f7(f,p=>{console.log(" Snapshot de saldos fiat recebido - Total:",p.size);const y=[];p.forEach(x=>{const b=x.data();y.push({currency:b.currency||x.id,balance:b.balance||0,updatedAt:b.updatedAt?.toDate()||new Date})}),n(y),i(!1),a(!1),console.log(" Saldos fiat carregados:",y)},{maxRetries:3,retryDelay:1e3,onError:p=>{console.error(" Erro no listener de saldos fiat:",p),p.code==="permission-denied"&&(console.warn(" ERRO DE PERMISSO: Configure as regras do Firestore!"),a(!0)),i(!1)}});return()=>{console.log(" Cancelando listener de saldos fiat"),m()}},[t?.uid]);const l=d=>e.find(m=>m.currency===d)?.balance||0;return{balances:e,isLoading:r,hasPermissionError:s,getBalance:l,hasEnoughBalance:(d,f)=>l(d)>=f}}function ya({value:t,symbol:e,className:n="text-xl font-light",showSymbol:r=!0,decimalScale:i=.65}){let s=",",a=[];if(typeof t=="number"){const d=e==="$"?"en-US":"pt-BR",f=t.toLocaleString(d,{minimumFractionDigits:2,maximumFractionDigits:2});s=d==="en-US"?".":",",a=f.split(s)}else t.includes(",")&&!t.includes(".")?s=",":(t.includes(".")&&!t.includes(",")||t.lastIndexOf(".")>t.lastIndexOf(","))&&(s="."),a=t.split(s);const l=a[0],c=a[1]||"00";return o.jsxs("span",{className:n,children:[r&&e&&(e==="$"?e:`${e} `),l,o.jsxs("span",{style:{fontSize:`${i}em`},children:[s,c]})]})}var PE={},AE={},lm={},IE={},qM;function wxe(){return qM||(qM=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(IE)),IE}var jE,HM;function _xe(){if(HM)return jE;HM=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c=typeof Ny=="object"&&Ny&&Ny.Object===Object&&Ny,d=typeof self=="object"&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),m=Object.prototype,p=m.toString,y=Math.max,x=Math.min,b=function(){return f.Date.now()};function _(I,j,C){var S,D,N,k,O,A,W=0,Y=!1,J=!1,V=!0;if(typeof I!="function")throw new TypeError(t);j=z(j)||0,T(C)&&(Y=!!C.leading,J="maxWait"in C,N=J?y(z(C.maxWait)||0,j):N,V="trailing"in C?!!C.trailing:V);function G(re){var xe=S,se=D;return S=D=void 0,W=re,k=I.apply(se,xe),k}function q(re){return W=re,O=setTimeout(K,j),Y?G(re):k}function R(re){var xe=re-A,se=re-W,he=j-xe;return J?x(he,N-se):he}function $(re){var xe=re-A,se=re-W;return A===void 0||xe>=j||xe<0||J&&se>=N}function K(){var re=b();if($(re))return Z(re);O=setTimeout(K,R(re))}function Z(re){return O=void 0,V&&S?G(re):(S=D=void 0,k)}function Q(){O!==void 0&&clearTimeout(O),W=0,S=A=D=O=void 0}function te(){return O===void 0?k:Z(b())}function ae(){var re=b(),xe=$(re);if(S=arguments,D=this,A=re,xe){if(O===void 0)return q(A);if(J)return O=setTimeout(K,j),G(A)}return O===void 0&&(O=setTimeout(K,j)),k}return ae.cancel=Q,ae.flush=te,ae}function T(I){var j=typeof I;return!!I&&(j=="object"||j=="function")}function L(I){return!!I&&typeof I=="object"}function M(I){return typeof I=="symbol"||L(I)&&p.call(I)==n}function z(I){if(typeof I=="number")return I;if(M(I))return e;if(T(I)){var j=typeof I.valueOf=="function"?I.valueOf():I;I=T(j)?j+"":j}if(typeof I!="string")return I===0?I:+I;I=I.replace(r,"");var C=s.test(I);return C||a.test(I)?l(I.slice(2),C?2:8):i.test(I)?e:+I}return jE=_,jE}var kE={exports:{}};var WM;function Gb(){return WM||(WM=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var l in s)e.call(s,l)&&s[l]&&(a=i(a,l));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(kE)),kE.exports}var De={},RE={},KM;function h7(){return KM||(KM=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Jr());function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(RE)),RE}var GM;function pg(){if(GM)return De;GM=1,Object.defineProperty(De,"__esModule",{value:!0}),De.checkSpecKeys=De.checkNavigable=De.changeSlide=De.canUseDOM=De.canGoNext=void 0,De.clamp=d,De.extractObject=void 0,De.filterSettings=G,De.validSettings=De.swipeStart=De.swipeMove=De.swipeEnd=De.slidesOnRight=De.slidesOnLeft=De.slideHandler=De.siblingDirection=De.safePreventDefault=De.lazyStartIndex=De.lazySlidesOnRight=De.lazySlidesOnLeft=De.lazyEndIndex=De.keyHandler=De.initializedState=De.getWidth=De.getTrackLeft=De.getTrackCSS=De.getTrackAnimateCSS=De.getTotalSlides=De.getSwipeDirection=De.getSlideCount=De.getRequiredLazySlides=De.getPreClones=De.getPostClones=De.getOnDemandLazySlides=De.getNavigableIndexes=De.getHeight=void 0;var t=n(Jr()),e=n(h7());function n(q){return q&&q.__esModule?q:{default:q}}function r(q){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},r(q)}function i(q,R){var $=Object.keys(q);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(q);R&&(K=K.filter(function(Z){return Object.getOwnPropertyDescriptor(q,Z).enumerable})),$.push.apply($,K)}return $}function s(q){for(var R=1;R<arguments.length;R++){var $=arguments[R]!=null?arguments[R]:{};R%2?i(Object($),!0).forEach(function(K){a(q,K,$[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors($)):i(Object($)).forEach(function(K){Object.defineProperty(q,K,Object.getOwnPropertyDescriptor($,K))})}return q}function a(q,R,$){return(R=l(R))in q?Object.defineProperty(q,R,{value:$,enumerable:!0,configurable:!0,writable:!0}):q[R]=$,q}function l(q){var R=c(q,"string");return r(R)=="symbol"?R:R+""}function c(q,R){if(r(q)!="object"||!q)return q;var $=q[Symbol.toPrimitive];if($!==void 0){var K=$.call(q,R);if(r(K)!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(q)}function d(q,R,$){return Math.max(R,Math.min(q,$))}var f=De.safePreventDefault=function(R){var $=["onTouchStart","onTouchMove","onWheel"];$.includes(R._reactName)||R.preventDefault()},m=De.getOnDemandLazySlides=function(R){for(var $=[],K=p(R),Z=y(R),Q=K;Q<Z;Q++)R.lazyLoadedList.indexOf(Q)<0&&$.push(Q);return $};De.getRequiredLazySlides=function(R){for(var $=[],K=p(R),Z=y(R),Q=K;Q<Z;Q++)$.push(Q);return $};var p=De.lazyStartIndex=function(R){return R.currentSlide-x(R)},y=De.lazyEndIndex=function(R){return R.currentSlide+b(R)},x=De.lazySlidesOnLeft=function(R){return R.centerMode?Math.floor(R.slidesToShow/2)+(parseInt(R.centerPadding)>0?1:0):0},b=De.lazySlidesOnRight=function(R){return R.centerMode?Math.floor((R.slidesToShow-1)/2)+1+(parseInt(R.centerPadding)>0?1:0):R.slidesToShow},_=De.getWidth=function(R){return R&&R.offsetWidth||0},T=De.getHeight=function(R){return R&&R.offsetHeight||0},L=De.getSwipeDirection=function(R){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,K,Z,Q,te;return K=R.startX-R.curX,Z=R.startY-R.curY,Q=Math.atan2(Z,K),te=Math.round(Q*180/Math.PI),te<0&&(te=360-Math.abs(te)),te<=45&&te>=0||te<=360&&te>=315?"left":te>=135&&te<=225?"right":$===!0?te>=35&&te<=135?"up":"down":"vertical"},M=De.canGoNext=function(R){var $=!0;return R.infinite||(R.centerMode&&R.currentSlide>=R.slideCount-1||R.slideCount<=R.slidesToShow||R.currentSlide>=R.slideCount-R.slidesToShow)&&($=!1),$};De.extractObject=function(R,$){var K={};return $.forEach(function(Z){return K[Z]=R[Z]}),K},De.initializedState=function(R){var $=t.default.Children.count(R.children),K=R.listRef,Z=Math.ceil(_(K)),Q=R.trackRef&&R.trackRef.node,te=Math.ceil(_(Q)),ae;if(R.vertical)ae=Z;else{var re=R.centerMode&&parseInt(R.centerPadding)*2;typeof R.centerPadding=="string"&&R.centerPadding.slice(-1)==="%"&&(re*=Z/100),ae=Math.ceil((Z-re)/R.slidesToShow)}var xe=K&&T(K.querySelector('[data-index="0"]')),se=xe*R.slidesToShow,he=R.currentSlide===void 0?R.initialSlide:R.currentSlide;R.rtl&&R.currentSlide===void 0&&(he=$-1-R.initialSlide);var Te=R.lazyLoadedList||[],me=m(s(s({},R),{},{currentSlide:he,lazyLoadedList:Te}));Te=Te.concat(me);var Re={slideCount:$,slideWidth:ae,listWidth:Z,trackWidth:te,currentSlide:he,slideHeight:xe,listHeight:se,lazyLoadedList:Te};return R.autoplaying===null&&R.autoplay&&(Re.autoplaying="playing"),Re},De.slideHandler=function(R){var $=R.waitForAnimate,K=R.animating,Z=R.fade,Q=R.infinite,te=R.index,ae=R.slideCount,re=R.lazyLoad,xe=R.currentSlide,se=R.centerMode,he=R.slidesToScroll,Te=R.slidesToShow,me=R.useCSS,Re=R.lazyLoadedList;if($&&K)return{};var je=te,et,Qe,We,wt={},dt={},tt=Q?te:d(te,0,ae-1);if(Z){if(!Q&&(te<0||te>=ae))return{};te<0?je=te+ae:te>=ae&&(je=te-ae),re&&Re.indexOf(je)<0&&(Re=Re.concat(je)),wt={animating:!0,currentSlide:je,lazyLoadedList:Re,targetSlide:je},dt={animating:!1,targetSlide:je}}else et=je,je<0?(et=je+ae,Q?ae%he!==0&&(et=ae-ae%he):et=0):!M(R)&&je>xe?je=et=xe:se&&je>=ae?(je=Q?ae:ae-1,et=Q?0:ae-1):je>=ae&&(et=je-ae,Q?ae%he!==0&&(et=0):et=ae-Te),!Q&&je+Te>=ae&&(et=ae-Te),Qe=N(s(s({},R),{},{slideIndex:je})),We=N(s(s({},R),{},{slideIndex:et})),Q||(Qe===We&&(je=et),Qe=We),re&&(Re=Re.concat(m(s(s({},R),{},{currentSlide:je})))),me?(wt={animating:!0,currentSlide:et,trackStyle:D(s(s({},R),{},{left:Qe})),lazyLoadedList:Re,targetSlide:tt},dt={animating:!1,currentSlide:et,trackStyle:S(s(s({},R),{},{left:We})),swipeLeft:null,targetSlide:tt}):wt={currentSlide:et,trackStyle:S(s(s({},R),{},{left:We})),lazyLoadedList:Re,targetSlide:tt};return{state:wt,nextState:dt}},De.changeSlide=function(R,$){var K,Z,Q,te,ae,re=R.slidesToScroll,xe=R.slidesToShow,se=R.slideCount,he=R.currentSlide,Te=R.targetSlide,me=R.lazyLoad,Re=R.infinite;if(te=se%re!==0,K=te?0:(se-he)%re,$.message==="previous")Q=K===0?re:xe-K,ae=he-Q,me&&!Re&&(Z=he-Q,ae=Z===-1?se-1:Z),Re||(ae=Te-re);else if($.message==="next")Q=K===0?re:K,ae=he+Q,me&&!Re&&(ae=(he+re)%se+K),Re||(ae=Te+re);else if($.message==="dots")ae=$.index*$.slidesToScroll;else if($.message==="children"){if(ae=$.index,Re){var je=W(s(s({},R),{},{targetSlide:ae}));ae>$.currentSlide&&je==="left"?ae=ae-se:ae<$.currentSlide&&je==="right"&&(ae=ae+se)}}else $.message==="index"&&(ae=Number($.index));return ae},De.keyHandler=function(R,$,K){return R.target.tagName.match("TEXTAREA|INPUT|SELECT")||!$?"":R.keyCode===37?K?"next":"previous":R.keyCode===39?K?"previous":"next":""},De.swipeStart=function(R,$,K){return R.target.tagName==="IMG"&&f(R),!$||!K&&R.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:R.touches?R.touches[0].pageX:R.clientX,startY:R.touches?R.touches[0].pageY:R.clientY,curX:R.touches?R.touches[0].pageX:R.clientX,curY:R.touches?R.touches[0].pageY:R.clientY}}},De.swipeMove=function(R,$){var K=$.scrolling,Z=$.animating,Q=$.vertical,te=$.swipeToSlide,ae=$.verticalSwiping,re=$.rtl,xe=$.currentSlide,se=$.edgeFriction,he=$.edgeDragged,Te=$.onEdge,me=$.swiped,Re=$.swiping,je=$.slideCount,et=$.slidesToScroll,Qe=$.infinite,We=$.touchObject,wt=$.swipeEvent,dt=$.listHeight,tt=$.listWidth;if(!K){if(Z)return f(R);Q&&te&&ae&&f(R);var oe,Ie={},Xe=N($);We.curX=R.touches?R.touches[0].pageX:R.clientX,We.curY=R.touches?R.touches[0].pageY:R.clientY,We.swipeLength=Math.round(Math.sqrt(Math.pow(We.curX-We.startX,2)));var gt=Math.round(Math.sqrt(Math.pow(We.curY-We.startY,2)));if(!ae&&!Re&&gt>10)return{scrolling:!0};ae&&(We.swipeLength=gt);var yt=(re?-1:1)*(We.curX>We.startX?1:-1);ae&&(yt=We.curY>We.startY?1:-1);var fe=Math.ceil(je/et),He=L($.touchObject,ae),Nt=We.swipeLength;return Qe||(xe===0&&(He==="right"||He==="down")||xe+1>=fe&&(He==="left"||He==="up")||!M($)&&(He==="left"||He==="up"))&&(Nt=We.swipeLength*se,he===!1&&Te&&(Te(He),Ie.edgeDragged=!0)),!me&&wt&&(wt(He),Ie.swiped=!0),Q?oe=Xe+Nt*(dt/tt)*yt:re?oe=Xe-Nt*yt:oe=Xe+Nt*yt,ae&&(oe=Xe+Nt*yt),Ie=s(s({},Ie),{},{touchObject:We,swipeLeft:oe,trackStyle:S(s(s({},$),{},{left:oe}))}),Math.abs(We.curX-We.startX)<Math.abs(We.curY-We.startY)*.8||We.swipeLength>10&&(Ie.swiping=!0,f(R)),Ie}},De.swipeEnd=function(R,$){var K=$.dragging,Z=$.swipe,Q=$.touchObject,te=$.listWidth,ae=$.touchThreshold,re=$.verticalSwiping,xe=$.listHeight,se=$.swipeToSlide,he=$.scrolling,Te=$.onSwipe,me=$.targetSlide,Re=$.currentSlide,je=$.infinite;if(!K)return Z&&f(R),{};var et=re?xe/ae:te/ae,Qe=L(Q,re),We={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(he||!Q.swipeLength)return We;if(Q.swipeLength>et){f(R),Te&&Te(Qe);var wt,dt,tt=je?Re:me;switch(Qe){case"left":case"up":dt=tt+j($),wt=se?I($,dt):dt,We.currentDirection=0;break;case"right":case"down":dt=tt-j($),wt=se?I($,dt):dt,We.currentDirection=1;break;default:wt=tt}We.triggerSlideHandler=wt}else{var oe=N($);We.trackStyle=D(s(s({},$),{},{left:oe}))}return We};var z=De.getNavigableIndexes=function(R){for(var $=R.infinite?R.slideCount*2:R.slideCount,K=R.infinite?R.slidesToShow*-1:0,Z=R.infinite?R.slidesToShow*-1:0,Q=[];K<$;)Q.push(K),K=Z+R.slidesToScroll,Z+=Math.min(R.slidesToScroll,R.slidesToShow);return Q},I=De.checkNavigable=function(R,$){var K=z(R),Z=0;if($>K[K.length-1])$=K[K.length-1];else for(var Q in K){if($<K[Q]){$=Z;break}Z=K[Q]}return $},j=De.getSlideCount=function(R){var $=R.centerMode?R.slideWidth*Math.floor(R.slidesToShow/2):0;if(R.swipeToSlide){var K,Z=R.listRef,Q=Z.querySelectorAll&&Z.querySelectorAll(".slick-slide")||[];if(Array.from(Q).every(function(re){if(R.vertical){if(re.offsetTop+T(re)/2>R.swipeLeft*-1)return K=re,!1}else if(re.offsetLeft-$+_(re)/2>R.swipeLeft*-1)return K=re,!1;return!0}),!K)return 0;var te=R.rtl===!0?R.slideCount-R.currentSlide:R.currentSlide,ae=Math.abs(K.dataset.index-te)||1;return ae}else return R.slidesToScroll},C=De.checkSpecKeys=function(R,$){return $.reduce(function(K,Z){return K&&R.hasOwnProperty(Z)},!0)?null:console.error("Keys Missing:",R)},S=De.getTrackCSS=function(R){C(R,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var $,K;if(!R.vertical)$=A(R)*R.slideWidth;else{var Z=R.unslick?R.slideCount:R.slideCount+2*R.slidesToShow;K=Z*R.slideHeight}var Q={opacity:1,transition:"",WebkitTransition:""};if(R.useTransform){var te=R.vertical?"translate3d(0px, "+R.left+"px, 0px)":"translate3d("+R.left+"px, 0px, 0px)",ae=R.vertical?"translate3d(0px, "+R.left+"px, 0px)":"translate3d("+R.left+"px, 0px, 0px)",re=R.vertical?"translateY("+R.left+"px)":"translateX("+R.left+"px)";Q=s(s({},Q),{},{WebkitTransform:te,transform:ae,msTransform:re})}else R.vertical?Q.top=R.left:Q.left=R.left;return R.fade&&(Q={opacity:1}),$&&(Q.width=$),K&&(Q.height=K),window&&!window.addEventListener&&window.attachEvent&&(R.vertical?Q.marginTop=R.left+"px":Q.marginLeft=R.left+"px"),Q},D=De.getTrackAnimateCSS=function(R){C(R,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var $=S(R);return R.useTransform?($.WebkitTransition="-webkit-transform "+R.speed+"ms "+R.cssEase,$.transition="transform "+R.speed+"ms "+R.cssEase):R.vertical?$.transition="top "+R.speed+"ms "+R.cssEase:$.transition="left "+R.speed+"ms "+R.cssEase,$},N=De.getTrackLeft=function(R){if(R.unslick)return 0;C(R,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var $=R.slideIndex,K=R.trackRef,Z=R.infinite,Q=R.centerMode,te=R.slideCount,ae=R.slidesToShow,re=R.slidesToScroll,xe=R.slideWidth,se=R.listWidth,he=R.variableWidth,Te=R.slideHeight,me=R.fade,Re=R.vertical,je=0,et,Qe,We=0;if(me||R.slideCount===1)return 0;var wt=0;if(Z?(wt=-k(R),te%re!==0&&$+re>te&&(wt=-($>te?ae-($-te):te%re)),Q&&(wt+=parseInt(ae/2))):(te%re!==0&&$+re>te&&(wt=ae-te%re),Q&&(wt=parseInt(ae/2))),je=wt*xe,We=wt*Te,Re?et=$*Te*-1+We:et=$*xe*-1+je,he===!0){var dt,tt=K&&K.node;if(dt=$+k(R),Qe=tt&&tt.childNodes[dt],et=Qe?Qe.offsetLeft*-1:0,Q===!0){dt=Z?$+k(R):$,Qe=tt&&tt.children[dt],et=0;for(var oe=0;oe<dt;oe++)et-=tt&&tt.children[oe]&&tt.children[oe].offsetWidth;et-=parseInt(R.centerPadding),et+=Qe&&(se-Qe.offsetWidth)/2}}return et},k=De.getPreClones=function(R){return R.unslick||!R.infinite?0:R.variableWidth?R.slideCount:R.slidesToShow+(R.centerMode?1:0)},O=De.getPostClones=function(R){return R.unslick||!R.infinite?0:R.variableWidth?R.slideCount:R.slidesToShow+(R.centerMode?1:0)},A=De.getTotalSlides=function(R){return R.slideCount===1?1:k(R)+R.slideCount+O(R)},W=De.siblingDirection=function(R){return R.targetSlide>R.currentSlide?R.targetSlide>R.currentSlide+Y(R)?"left":"right":R.targetSlide<R.currentSlide-J(R)?"right":"left"},Y=De.slidesOnRight=function(R){var $=R.slidesToShow,K=R.centerMode,Z=R.rtl,Q=R.centerPadding;if(K){var te=($-1)/2+1;return parseInt(Q)>0&&(te+=1),Z&&$%2===0&&(te+=1),te}return Z?0:$-1},J=De.slidesOnLeft=function(R){var $=R.slidesToShow,K=R.centerMode,Z=R.rtl,Q=R.centerPadding;if(K){var te=($-1)/2+1;return parseInt(Q)>0&&(te+=1),!Z&&$%2===0&&(te+=1),te}return Z?$-1:0};De.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var V=De.validSettings=Object.keys(e.default);function G(q){return V.reduce(function(R,$){return q.hasOwnProperty($)&&(R[$]=q[$]),R},{})}return De}var cm={},XM;function Exe(){if(XM)return cm;XM=1,Object.defineProperty(cm,"__esModule",{value:!0}),cm.Track=void 0;var t=r(Jr()),e=r(Gb()),n=pg();function r(D){return D&&D.__esModule?D:{default:D}}function i(D){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},i(D)}function s(){return s=Object.assign?Object.assign.bind():function(D){for(var N=1;N<arguments.length;N++){var k=arguments[N];for(var O in k)({}).hasOwnProperty.call(k,O)&&(D[O]=k[O])}return D},s.apply(null,arguments)}function a(D,N){if(!(D instanceof N))throw new TypeError("Cannot call a class as a function")}function l(D,N){for(var k=0;k<N.length;k++){var O=N[k];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(D,M(O.key),O)}}function c(D,N,k){return N&&l(D.prototype,N),Object.defineProperty(D,"prototype",{writable:!1}),D}function d(D,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(N&&N.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),N&&f(D,N)}function f(D,N){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,O){return k.__proto__=O,k},f(D,N)}function m(D){var N=x();return function(){var k,O=b(D);if(N){var A=b(this).constructor;k=Reflect.construct(O,arguments,A)}else k=O.apply(this,arguments);return p(this,k)}}function p(D,N){if(N&&(i(N)=="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(D)}function y(D){if(D===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function x(){try{var D=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x=function(){return!!D})()}function b(D){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(N){return N.__proto__||Object.getPrototypeOf(N)},b(D)}function _(D,N){var k=Object.keys(D);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(D);N&&(O=O.filter(function(A){return Object.getOwnPropertyDescriptor(D,A).enumerable})),k.push.apply(k,O)}return k}function T(D){for(var N=1;N<arguments.length;N++){var k=arguments[N]!=null?arguments[N]:{};N%2?_(Object(k),!0).forEach(function(O){L(D,O,k[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(k)):_(Object(k)).forEach(function(O){Object.defineProperty(D,O,Object.getOwnPropertyDescriptor(k,O))})}return D}function L(D,N,k){return(N=M(N))in D?Object.defineProperty(D,N,{value:k,enumerable:!0,configurable:!0,writable:!0}):D[N]=k,D}function M(D){var N=z(D,"string");return i(N)=="symbol"?N:N+""}function z(D,N){if(i(D)!="object"||!D)return D;var k=D[Symbol.toPrimitive];if(k!==void 0){var O=k.call(D,N);if(i(O)!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return(N==="string"?String:Number)(D)}var I=function(N){var k,O,A,W,Y;N.rtl?Y=N.slideCount-1-N.index:Y=N.index,A=Y<0||Y>=N.slideCount,N.centerMode?(W=Math.floor(N.slidesToShow/2),O=(Y-N.currentSlide)%N.slideCount===0,Y>N.currentSlide-W-1&&Y<=N.currentSlide+W&&(k=!0)):k=N.currentSlide<=Y&&Y<N.currentSlide+N.slidesToShow;var J;N.targetSlide<0?J=N.targetSlide+N.slideCount:N.targetSlide>=N.slideCount?J=N.targetSlide-N.slideCount:J=N.targetSlide;var V=Y===J;return{"slick-slide":!0,"slick-active":k,"slick-center":O,"slick-cloned":A,"slick-current":V}},j=function(N){var k={};return(N.variableWidth===void 0||N.variableWidth===!1)&&(k.width=N.slideWidth),N.fade&&(k.position="relative",N.vertical?k.top=-N.index*parseInt(N.slideHeight):k.left=-N.index*parseInt(N.slideWidth),k.opacity=N.currentSlide===N.index?1:0,k.zIndex=N.currentSlide===N.index?999:998,N.useCSS&&(k.transition="opacity "+N.speed+"ms "+N.cssEase+", visibility "+N.speed+"ms "+N.cssEase)),k},C=function(N,k){return N.key||k},S=function(N){var k,O=[],A=[],W=[],Y=t.default.Children.count(N.children),J=(0,n.lazyStartIndex)(N),V=(0,n.lazyEndIndex)(N);return t.default.Children.forEach(N.children,function(G,q){var R,$={message:"children",index:q,slidesToScroll:N.slidesToScroll,currentSlide:N.currentSlide};!N.lazyLoad||N.lazyLoad&&N.lazyLoadedList.indexOf(q)>=0?R=G:R=t.default.createElement("div",null);var K=j(T(T({},N),{},{index:q})),Z=R.props.className||"",Q=I(T(T({},N),{},{index:q}));if(O.push(t.default.cloneElement(R,{key:"original"+C(R,q),"data-index":q,className:(0,e.default)(Q,Z),tabIndex:"-1","aria-hidden":!Q["slick-active"],style:T(T({outline:"none"},R.props.style||{}),K),onClick:function(re){R.props&&R.props.onClick&&R.props.onClick(re),N.focusOnSelect&&N.focusOnSelect($)}})),N.infinite&&Y>1&&N.fade===!1&&!N.unslick){var te=Y-q;te<=(0,n.getPreClones)(N)&&(k=-te,k>=J&&(R=G),Q=I(T(T({},N),{},{index:k})),A.push(t.default.cloneElement(R,{key:"precloned"+C(R,k),"data-index":k,tabIndex:"-1",className:(0,e.default)(Q,Z),"aria-hidden":!Q["slick-active"],style:T(T({},R.props.style||{}),K),onClick:function(re){R.props&&R.props.onClick&&R.props.onClick(re),N.focusOnSelect&&N.focusOnSelect($)}}))),q<(0,n.getPostClones)(N)&&(k=Y+q,k<V&&(R=G),Q=I(T(T({},N),{},{index:k})),W.push(t.default.cloneElement(R,{key:"postcloned"+C(R,k),"data-index":k,tabIndex:"-1",className:(0,e.default)(Q,Z),"aria-hidden":!Q["slick-active"],style:T(T({},R.props.style||{}),K),onClick:function(re){R.props&&R.props.onClick&&R.props.onClick(re),N.focusOnSelect&&N.focusOnSelect($)}})))}}),N.rtl?A.concat(O,W).reverse():A.concat(O,W)};return cm.Track=(function(D){d(k,D);var N=m(k);function k(){var O;a(this,k);for(var A=arguments.length,W=new Array(A),Y=0;Y<A;Y++)W[Y]=arguments[Y];return O=N.call.apply(N,[this].concat(W)),L(y(O),"node",null),L(y(O),"handleRef",function(J){O.node=J}),O}return c(k,[{key:"render",value:function(){var A=S(this.props),W=this.props,Y=W.onMouseEnter,J=W.onMouseOver,V=W.onMouseLeave,G={onMouseEnter:Y,onMouseOver:J,onMouseLeave:V};return t.default.createElement("div",s({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},G),A)}}]),k})(t.default.PureComponent),cm}var um={},YM;function Cxe(){if(YM)return um;YM=1;function t(I){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},t(I)}Object.defineProperty(um,"__esModule",{value:!0}),um.Dots=void 0;var e=i(Jr()),n=i(Gb()),r=pg();function i(I){return I&&I.__esModule?I:{default:I}}function s(I,j){var C=Object.keys(I);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(I);j&&(S=S.filter(function(D){return Object.getOwnPropertyDescriptor(I,D).enumerable})),C.push.apply(C,S)}return C}function a(I){for(var j=1;j<arguments.length;j++){var C=arguments[j]!=null?arguments[j]:{};j%2?s(Object(C),!0).forEach(function(S){l(I,S,C[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(C)):s(Object(C)).forEach(function(S){Object.defineProperty(I,S,Object.getOwnPropertyDescriptor(C,S))})}return I}function l(I,j,C){return(j=m(j))in I?Object.defineProperty(I,j,{value:C,enumerable:!0,configurable:!0,writable:!0}):I[j]=C,I}function c(I,j){if(!(I instanceof j))throw new TypeError("Cannot call a class as a function")}function d(I,j){for(var C=0;C<j.length;C++){var S=j[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(I,m(S.key),S)}}function f(I,j,C){return j&&d(I.prototype,j),Object.defineProperty(I,"prototype",{writable:!1}),I}function m(I){var j=p(I,"string");return t(j)=="symbol"?j:j+""}function p(I,j){if(t(I)!="object"||!I)return I;var C=I[Symbol.toPrimitive];if(C!==void 0){var S=C.call(I,j);if(t(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}function y(I,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(j&&j.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),j&&x(I,j)}function x(I,j){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,S){return C.__proto__=S,C},x(I,j)}function b(I){var j=L();return function(){var C,S=M(I);if(j){var D=M(this).constructor;C=Reflect.construct(S,arguments,D)}else C=S.apply(this,arguments);return _(this,C)}}function _(I,j){if(j&&(t(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(I)}function T(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function L(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L=function(){return!!I})()}function M(I){return M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},M(I)}var z=function(j){var C;return j.infinite?C=Math.ceil(j.slideCount/j.slidesToScroll):C=Math.ceil((j.slideCount-j.slidesToShow)/j.slidesToScroll)+1,C};return um.Dots=(function(I){y(C,I);var j=b(C);function C(){return c(this,C),j.apply(this,arguments)}return f(C,[{key:"clickHandler",value:function(D,N){N.preventDefault(),this.props.clickHandler(D)}},{key:"render",value:function(){for(var D=this.props,N=D.onMouseEnter,k=D.onMouseOver,O=D.onMouseLeave,A=D.infinite,W=D.slidesToScroll,Y=D.slidesToShow,J=D.slideCount,V=D.currentSlide,G=z({slideCount:J,slidesToScroll:W,slidesToShow:Y,infinite:A}),q={onMouseEnter:N,onMouseOver:k,onMouseLeave:O},R=[],$=0;$<G;$++){var K=($+1)*W-1,Z=A?K:(0,r.clamp)(K,0,J-1),Q=Z-(W-1),te=A?Q:(0,r.clamp)(Q,0,J-1),ae=(0,n.default)({"slick-active":A?V>=te&&V<=Z:V===te}),re={message:"dots",index:$,slidesToScroll:W,currentSlide:V},xe=this.clickHandler.bind(this,re);R=R.concat(e.default.createElement("li",{key:$,className:ae},e.default.cloneElement(this.props.customPaging($),{onClick:xe})))}return e.default.cloneElement(this.props.appendDots(R),a({className:this.props.dotsClass},q))}}]),C})(e.default.PureComponent),um}var jc={},QM;function Txe(){if(QM)return jc;QM=1;function t(I){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},t(I)}Object.defineProperty(jc,"__esModule",{value:!0}),jc.PrevArrow=jc.NextArrow=void 0;var e=i(Jr()),n=i(Gb()),r=pg();function i(I){return I&&I.__esModule?I:{default:I}}function s(){return s=Object.assign?Object.assign.bind():function(I){for(var j=1;j<arguments.length;j++){var C=arguments[j];for(var S in C)({}).hasOwnProperty.call(C,S)&&(I[S]=C[S])}return I},s.apply(null,arguments)}function a(I,j){var C=Object.keys(I);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(I);j&&(S=S.filter(function(D){return Object.getOwnPropertyDescriptor(I,D).enumerable})),C.push.apply(C,S)}return C}function l(I){for(var j=1;j<arguments.length;j++){var C=arguments[j]!=null?arguments[j]:{};j%2?a(Object(C),!0).forEach(function(S){c(I,S,C[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(C)):a(Object(C)).forEach(function(S){Object.defineProperty(I,S,Object.getOwnPropertyDescriptor(C,S))})}return I}function c(I,j,C){return(j=p(j))in I?Object.defineProperty(I,j,{value:C,enumerable:!0,configurable:!0,writable:!0}):I[j]=C,I}function d(I,j){if(!(I instanceof j))throw new TypeError("Cannot call a class as a function")}function f(I,j){for(var C=0;C<j.length;C++){var S=j[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(I,p(S.key),S)}}function m(I,j,C){return j&&f(I.prototype,j),Object.defineProperty(I,"prototype",{writable:!1}),I}function p(I){var j=y(I,"string");return t(j)=="symbol"?j:j+""}function y(I,j){if(t(I)!="object"||!I)return I;var C=I[Symbol.toPrimitive];if(C!==void 0){var S=C.call(I,j);if(t(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}function x(I,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(j&&j.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),j&&b(I,j)}function b(I,j){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,S){return C.__proto__=S,C},b(I,j)}function _(I){var j=M();return function(){var C,S=z(I);if(j){var D=z(this).constructor;C=Reflect.construct(S,arguments,D)}else C=S.apply(this,arguments);return T(this,C)}}function T(I,j){if(j&&(t(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(I)}function L(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function M(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M=function(){return!!I})()}function z(I){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},z(I)}return jc.PrevArrow=(function(I){x(C,I);var j=_(C);function C(){return d(this,C),j.apply(this,arguments)}return m(C,[{key:"clickHandler",value:function(D,N){N&&N.preventDefault(),this.props.clickHandler(D,N)}},{key:"render",value:function(){var D={"slick-arrow":!0,"slick-prev":!0},N=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(D["slick-disabled"]=!0,N=null);var k={key:"0","data-role":"none",className:(0,n.default)(D),style:{display:"block"},onClick:N},O={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},A;return this.props.prevArrow?A=e.default.cloneElement(this.props.prevArrow,l(l({},k),O)):A=e.default.createElement("button",s({key:"0",type:"button"},k)," ","Previous"),A}}]),C})(e.default.PureComponent),jc.NextArrow=(function(I){x(C,I);var j=_(C);function C(){return d(this,C),j.apply(this,arguments)}return m(C,[{key:"clickHandler",value:function(D,N){N&&N.preventDefault(),this.props.clickHandler(D,N)}},{key:"render",value:function(){var D={"slick-arrow":!0,"slick-next":!0},N=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(D["slick-disabled"]=!0,N=null);var k={key:"1","data-role":"none",className:(0,n.default)(D),style:{display:"block"},onClick:N},O={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},A;return this.props.nextArrow?A=e.default.cloneElement(this.props.nextArrow,l(l({},k),O)):A=e.default.createElement("button",s({key:"1",type:"button"},k)," ","Next"),A}}]),C})(e.default.PureComponent),jc}var m7=(function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var a=s[i];n.call(r,a[1],a[0])}},e})()})(),pS=typeof window<"u"&&typeof document<"u"&&window.document===document,dx=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),Sxe=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(dx):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}})(),Nxe=2;function Pxe(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&l()}function a(){Sxe(s)}function l(){var c=Date.now();if(n){if(c-i<Nxe)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=c}return l}var Axe=20,Ixe=["top","right","bottom","left","width","height","size","weight"],jxe=typeof MutationObserver<"u",kxe=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Pxe(this.refresh.bind(this),Axe)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!pS||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),jxe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!pS||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=Ixe.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),p7=(function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t}),Of=(function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||dx}),g7=Xb(0,0,0,0);function fx(t){return parseFloat(t)||0}function JM(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+fx(s)},0)}function Rxe(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],a=t["padding-"+s];n[s]=fx(a)}return n}function Dxe(t){var e=t.getBBox();return Xb(0,0,e.width,e.height)}function Oxe(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return g7;var r=Of(t).getComputedStyle(t),i=Rxe(r),s=i.left+i.right,a=i.top+i.bottom,l=fx(r.width),c=fx(r.height);if(r.boxSizing==="border-box"&&(Math.round(l+s)!==e&&(l-=JM(r,"left","right")+s),Math.round(c+a)!==n&&(c-=JM(r,"top","bottom")+a)),!Lxe(t)){var d=Math.round(l+s)-e,f=Math.round(c+a)-n;Math.abs(d)!==1&&(l-=d),Math.abs(f)!==1&&(c-=f)}return Xb(i.left,i.top,l,c)}var Mxe=(function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Of(t).SVGGraphicsElement}:function(t){return t instanceof Of(t).SVGElement&&typeof t.getBBox=="function"}})();function Lxe(t){return t===Of(t).document.documentElement}function Vxe(t){return pS?Mxe(t)?Dxe(t):Oxe(t):g7}function Fxe(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return p7(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function Xb(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Bxe=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Xb(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Vxe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),zxe=(function(){function t(e,n){var r=Fxe(n);p7(this,{target:e,contentRect:r})}return t})(),$xe=(function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new m7,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Of(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Bxe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Of(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new zxe(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),y7=typeof WeakMap<"u"?new WeakMap:new m7,v7=(function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=kxe.getInstance(),r=new $xe(e,n,this);y7.set(this,r)}return t})();["observe","unobserve","disconnect"].forEach(function(t){v7.prototype[t]=function(){var e;return(e=y7.get(this))[t].apply(e,arguments)}});var Uxe=(function(){return typeof dx.ResizeObserver<"u"?dx.ResizeObserver:v7})();const qxe=Object.freeze(Object.defineProperty({__proto__:null,default:Uxe},Symbol.toStringTag,{value:"Module"})),Hxe=OW(qxe);var ZM;function Wxe(){if(ZM)return lm;ZM=1,Object.defineProperty(lm,"__esModule",{value:!0}),lm.InnerSlider=void 0;var t=d(Jr()),e=d(wxe()),n=d(_xe()),r=d(Gb()),i=pg(),s=Exe(),a=Cxe(),l=Txe(),c=d(Hxe);function d(A){return A&&A.__esModule?A:{default:A}}function f(A){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},f(A)}function m(){return m=Object.assign?Object.assign.bind():function(A){for(var W=1;W<arguments.length;W++){var Y=arguments[W];for(var J in Y)({}).hasOwnProperty.call(Y,J)&&(A[J]=Y[J])}return A},m.apply(null,arguments)}function p(A,W){if(A==null)return{};var Y,J,V=y(A,W);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(A);for(J=0;J<G.length;J++)Y=G[J],W.includes(Y)||{}.propertyIsEnumerable.call(A,Y)&&(V[Y]=A[Y])}return V}function y(A,W){if(A==null)return{};var Y={};for(var J in A)if({}.hasOwnProperty.call(A,J)){if(W.includes(J))continue;Y[J]=A[J]}return Y}function x(A,W){var Y=Object.keys(A);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(A);W&&(J=J.filter(function(V){return Object.getOwnPropertyDescriptor(A,V).enumerable})),Y.push.apply(Y,J)}return Y}function b(A){for(var W=1;W<arguments.length;W++){var Y=arguments[W]!=null?arguments[W]:{};W%2?x(Object(Y),!0).forEach(function(J){N(A,J,Y[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(Y)):x(Object(Y)).forEach(function(J){Object.defineProperty(A,J,Object.getOwnPropertyDescriptor(Y,J))})}return A}function _(A,W){if(!(A instanceof W))throw new TypeError("Cannot call a class as a function")}function T(A,W){for(var Y=0;Y<W.length;Y++){var J=W[Y];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(A,k(J.key),J)}}function L(A,W,Y){return W&&T(A.prototype,W),Object.defineProperty(A,"prototype",{writable:!1}),A}function M(A,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(W&&W.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),W&&z(A,W)}function z(A,W){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,J){return Y.__proto__=J,Y},z(A,W)}function I(A){var W=S();return function(){var Y,J=D(A);if(W){var V=D(this).constructor;Y=Reflect.construct(J,arguments,V)}else Y=J.apply(this,arguments);return j(this,Y)}}function j(A,W){if(W&&(f(W)=="object"||typeof W=="function"))return W;if(W!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(A)}function C(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function S(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!A})()}function D(A){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(W){return W.__proto__||Object.getPrototypeOf(W)},D(A)}function N(A,W,Y){return(W=k(W))in A?Object.defineProperty(A,W,{value:Y,enumerable:!0,configurable:!0,writable:!0}):A[W]=Y,A}function k(A){var W=O(A,"string");return f(W)=="symbol"?W:W+""}function O(A,W){if(f(A)!="object"||!A)return A;var Y=A[Symbol.toPrimitive];if(Y!==void 0){var J=Y.call(A,W);if(f(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(A)}return lm.InnerSlider=(function(A){M(Y,A);var W=I(Y);function Y(J){var V;_(this,Y),V=W.call(this,J),N(C(V),"listRefHandler",function(q){return V.list=q}),N(C(V),"trackRefHandler",function(q){return V.track=q}),N(C(V),"adaptHeight",function(){if(V.props.adaptiveHeight&&V.list){var q=V.list.querySelector('[data-index="'.concat(V.state.currentSlide,'"]'));V.list.style.height=(0,i.getHeight)(q)+"px"}}),N(C(V),"componentDidMount",function(){if(V.props.onInit&&V.props.onInit(),V.props.lazyLoad){var q=(0,i.getOnDemandLazySlides)(b(b({},V.props),V.state));q.length>0&&(V.setState(function($){return{lazyLoadedList:$.lazyLoadedList.concat(q)}}),V.props.onLazyLoad&&V.props.onLazyLoad(q))}var R=b({listRef:V.list,trackRef:V.track},V.props);V.updateState(R,!0,function(){V.adaptHeight(),V.props.autoplay&&V.autoPlay("update")}),V.props.lazyLoad==="progressive"&&(V.lazyLoadTimer=setInterval(V.progressiveLazyLoad,1e3)),V.ro=new c.default(function(){V.state.animating?(V.onWindowResized(!1),V.callbackTimers.push(setTimeout(function(){return V.onWindowResized()},V.props.speed))):V.onWindowResized()}),V.ro.observe(V.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function($){$.onfocus=V.props.pauseOnFocus?V.onSlideFocus:null,$.onblur=V.props.pauseOnFocus?V.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",V.onWindowResized):window.attachEvent("onresize",V.onWindowResized)}),N(C(V),"componentWillUnmount",function(){V.animationEndCallback&&clearTimeout(V.animationEndCallback),V.lazyLoadTimer&&clearInterval(V.lazyLoadTimer),V.callbackTimers.length&&(V.callbackTimers.forEach(function(q){return clearTimeout(q)}),V.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",V.onWindowResized):window.detachEvent("onresize",V.onWindowResized),V.autoplayTimer&&clearInterval(V.autoplayTimer),V.ro.disconnect()}),N(C(V),"componentDidUpdate",function(q){if(V.checkImagesLoad(),V.props.onReInit&&V.props.onReInit(),V.props.lazyLoad){var R=(0,i.getOnDemandLazySlides)(b(b({},V.props),V.state));R.length>0&&(V.setState(function(Z){return{lazyLoadedList:Z.lazyLoadedList.concat(R)}}),V.props.onLazyLoad&&V.props.onLazyLoad(R))}V.adaptHeight();var $=b(b({listRef:V.list,trackRef:V.track},V.props),V.state),K=V.didPropsChange(q);K&&V.updateState($,K,function(){V.state.currentSlide>=t.default.Children.count(V.props.children)&&V.changeSlide({message:"index",index:t.default.Children.count(V.props.children)-V.props.slidesToShow,currentSlide:V.state.currentSlide}),V.props.autoplay?V.autoPlay("update"):V.pause("paused")})}),N(C(V),"onWindowResized",function(q){V.debouncedResize&&V.debouncedResize.cancel(),V.debouncedResize=(0,n.default)(function(){return V.resizeWindow(q)},50),V.debouncedResize()}),N(C(V),"resizeWindow",function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,R=!!(V.track&&V.track.node);if(R){var $=b(b({listRef:V.list,trackRef:V.track},V.props),V.state);V.updateState($,q,function(){V.props.autoplay?V.autoPlay("update"):V.pause("paused")}),V.setState({animating:!1}),clearTimeout(V.animationEndCallback),delete V.animationEndCallback}}),N(C(V),"updateState",function(q,R,$){var K=(0,i.initializedState)(q);q=b(b(b({},q),K),{},{slideIndex:K.currentSlide});var Z=(0,i.getTrackLeft)(q);q=b(b({},q),{},{left:Z});var Q=(0,i.getTrackCSS)(q);(R||t.default.Children.count(V.props.children)!==t.default.Children.count(q.children))&&(K.trackStyle=Q),V.setState(K,$)}),N(C(V),"ssrInit",function(){if(V.props.variableWidth){var q=0,R=0,$=[],K=(0,i.getPreClones)(b(b(b({},V.props),V.state),{},{slideCount:V.props.children.length})),Z=(0,i.getPostClones)(b(b(b({},V.props),V.state),{},{slideCount:V.props.children.length}));V.props.children.forEach(function(Qe){$.push(Qe.props.style.width),q+=Qe.props.style.width});for(var Q=0;Q<K;Q++)R+=$[$.length-1-Q],q+=$[$.length-1-Q];for(var te=0;te<Z;te++)q+=$[te];for(var ae=0;ae<V.state.currentSlide;ae++)R+=$[ae];var re={width:q+"px",left:-R+"px"};if(V.props.centerMode){var xe="".concat($[V.state.currentSlide],"px");re.left="calc(".concat(re.left," + (100% - ").concat(xe,") / 2 ) ")}return{trackStyle:re}}var se=t.default.Children.count(V.props.children),he=b(b(b({},V.props),V.state),{},{slideCount:se}),Te=(0,i.getPreClones)(he)+(0,i.getPostClones)(he)+se,me=100/V.props.slidesToShow*Te,Re=100/Te,je=-Re*((0,i.getPreClones)(he)+V.state.currentSlide)*me/100;V.props.centerMode&&(je+=(100-Re*me/100)/2);var et={width:me+"%",left:je+"%"};return{slideWidth:Re+"%",trackStyle:et}}),N(C(V),"checkImagesLoad",function(){var q=V.list&&V.list.querySelectorAll&&V.list.querySelectorAll(".slick-slide img")||[],R=q.length,$=0;Array.prototype.forEach.call(q,function(K){var Z=function(){return++$&&$>=R&&V.onWindowResized()};if(!K.onclick)K.onclick=function(){return K.parentNode.focus()};else{var Q=K.onclick;K.onclick=function(te){Q(te),K.parentNode.focus()}}K.onload||(V.props.lazyLoad?K.onload=function(){V.adaptHeight(),V.callbackTimers.push(setTimeout(V.onWindowResized,V.props.speed))}:(K.onload=Z,K.onerror=function(){Z(),V.props.onLazyLoadError&&V.props.onLazyLoadError()}))})}),N(C(V),"progressiveLazyLoad",function(){for(var q=[],R=b(b({},V.props),V.state),$=V.state.currentSlide;$<V.state.slideCount+(0,i.getPostClones)(R);$++)if(V.state.lazyLoadedList.indexOf($)<0){q.push($);break}for(var K=V.state.currentSlide-1;K>=-(0,i.getPreClones)(R);K--)if(V.state.lazyLoadedList.indexOf(K)<0){q.push(K);break}q.length>0?(V.setState(function(Z){return{lazyLoadedList:Z.lazyLoadedList.concat(q)}}),V.props.onLazyLoad&&V.props.onLazyLoad(q)):V.lazyLoadTimer&&(clearInterval(V.lazyLoadTimer),delete V.lazyLoadTimer)}),N(C(V),"slideHandler",function(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$=V.props,K=$.asNavFor,Z=$.beforeChange,Q=$.onLazyLoad,te=$.speed,ae=$.afterChange,re=V.state.currentSlide,xe=(0,i.slideHandler)(b(b(b({index:q},V.props),V.state),{},{trackRef:V.track,useCSS:V.props.useCSS&&!R})),se=xe.state,he=xe.nextState;if(se){Z&&Z(re,se.currentSlide);var Te=se.lazyLoadedList.filter(function(me){return V.state.lazyLoadedList.indexOf(me)<0});Q&&Te.length>0&&Q(Te),!V.props.waitForAnimate&&V.animationEndCallback&&(clearTimeout(V.animationEndCallback),ae&&ae(re),delete V.animationEndCallback),V.setState(se,function(){K&&V.asNavForIndex!==q&&(V.asNavForIndex=q,K.innerSlider.slideHandler(q)),he&&(V.animationEndCallback=setTimeout(function(){var me=he.animating,Re=p(he,["animating"]);V.setState(Re,function(){V.callbackTimers.push(setTimeout(function(){return V.setState({animating:me})},10)),ae&&ae(se.currentSlide),delete V.animationEndCallback})},te))})}}),N(C(V),"changeSlide",function(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$=b(b({},V.props),V.state),K=(0,i.changeSlide)($,q);if(!(K!==0&&!K)&&(R===!0?V.slideHandler(K,R):V.slideHandler(K),V.props.autoplay&&V.autoPlay("update"),V.props.focusOnSelect)){var Z=V.list.querySelectorAll(".slick-current");Z[0]&&Z[0].focus()}}),N(C(V),"clickHandler",function(q){V.clickable===!1&&(q.stopPropagation(),q.preventDefault()),V.clickable=!0}),N(C(V),"keyHandler",function(q){var R=(0,i.keyHandler)(q,V.props.accessibility,V.props.rtl);R!==""&&V.changeSlide({message:R})}),N(C(V),"selectHandler",function(q){V.changeSlide(q)}),N(C(V),"disableBodyScroll",function(){var q=function($){$=$||window.event,$.preventDefault&&$.preventDefault(),$.returnValue=!1};window.ontouchmove=q}),N(C(V),"enableBodyScroll",function(){window.ontouchmove=null}),N(C(V),"swipeStart",function(q){V.props.verticalSwiping&&V.disableBodyScroll();var R=(0,i.swipeStart)(q,V.props.swipe,V.props.draggable);R!==""&&V.setState(R)}),N(C(V),"swipeMove",function(q){var R=(0,i.swipeMove)(q,b(b(b({},V.props),V.state),{},{trackRef:V.track,listRef:V.list,slideIndex:V.state.currentSlide}));R&&(R.swiping&&(V.clickable=!1),V.setState(R))}),N(C(V),"swipeEnd",function(q){var R=(0,i.swipeEnd)(q,b(b(b({},V.props),V.state),{},{trackRef:V.track,listRef:V.list,slideIndex:V.state.currentSlide}));if(R){var $=R.triggerSlideHandler;delete R.triggerSlideHandler,V.setState(R),$!==void 0&&(V.slideHandler($),V.props.verticalSwiping&&V.enableBodyScroll())}}),N(C(V),"touchEnd",function(q){V.swipeEnd(q),V.clickable=!0}),N(C(V),"slickPrev",function(){V.callbackTimers.push(setTimeout(function(){return V.changeSlide({message:"previous"})},0))}),N(C(V),"slickNext",function(){V.callbackTimers.push(setTimeout(function(){return V.changeSlide({message:"next"})},0))}),N(C(V),"slickGoTo",function(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(q=Number(q),isNaN(q))return"";V.callbackTimers.push(setTimeout(function(){return V.changeSlide({message:"index",index:q,currentSlide:V.state.currentSlide},R)},0))}),N(C(V),"play",function(){var q;if(V.props.rtl)q=V.state.currentSlide-V.props.slidesToScroll;else if((0,i.canGoNext)(b(b({},V.props),V.state)))q=V.state.currentSlide+V.props.slidesToScroll;else return!1;V.slideHandler(q)}),N(C(V),"autoPlay",function(q){V.autoplayTimer&&clearInterval(V.autoplayTimer);var R=V.state.autoplaying;if(q==="update"){if(R==="hovered"||R==="focused"||R==="paused")return}else if(q==="leave"){if(R==="paused"||R==="focused")return}else if(q==="blur"&&(R==="paused"||R==="hovered"))return;V.autoplayTimer=setInterval(V.play,V.props.autoplaySpeed+50),V.setState({autoplaying:"playing"})}),N(C(V),"pause",function(q){V.autoplayTimer&&(clearInterval(V.autoplayTimer),V.autoplayTimer=null);var R=V.state.autoplaying;q==="paused"?V.setState({autoplaying:"paused"}):q==="focused"?(R==="hovered"||R==="playing")&&V.setState({autoplaying:"focused"}):R==="playing"&&V.setState({autoplaying:"hovered"})}),N(C(V),"onDotsOver",function(){return V.props.autoplay&&V.pause("hovered")}),N(C(V),"onDotsLeave",function(){return V.props.autoplay&&V.state.autoplaying==="hovered"&&V.autoPlay("leave")}),N(C(V),"onTrackOver",function(){return V.props.autoplay&&V.pause("hovered")}),N(C(V),"onTrackLeave",function(){return V.props.autoplay&&V.state.autoplaying==="hovered"&&V.autoPlay("leave")}),N(C(V),"onSlideFocus",function(){return V.props.autoplay&&V.pause("focused")}),N(C(V),"onSlideBlur",function(){return V.props.autoplay&&V.state.autoplaying==="focused"&&V.autoPlay("blur")}),N(C(V),"render",function(){var q=(0,r.default)("slick-slider",V.props.className,{"slick-vertical":V.props.vertical,"slick-initialized":!0}),R=b(b({},V.props),V.state),$=(0,i.extractObject)(R,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),K=V.props.pauseOnHover;$=b(b({},$),{},{onMouseEnter:K?V.onTrackOver:null,onMouseLeave:K?V.onTrackLeave:null,onMouseOver:K?V.onTrackOver:null,focusOnSelect:V.props.focusOnSelect&&V.clickable?V.selectHandler:null});var Z;if(V.props.dots===!0&&V.state.slideCount>=V.props.slidesToShow){var Q=(0,i.extractObject)(R,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),te=V.props.pauseOnDotsHover;Q=b(b({},Q),{},{clickHandler:V.changeSlide,onMouseEnter:te?V.onDotsLeave:null,onMouseOver:te?V.onDotsOver:null,onMouseLeave:te?V.onDotsLeave:null}),Z=t.default.createElement(a.Dots,Q)}var ae,re,xe=(0,i.extractObject)(R,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);xe.clickHandler=V.changeSlide,V.props.arrows&&(ae=t.default.createElement(l.PrevArrow,xe),re=t.default.createElement(l.NextArrow,xe));var se=null;V.props.vertical&&(se={height:V.state.listHeight});var he=null;V.props.vertical===!1?V.props.centerMode===!0&&(he={padding:"0px "+V.props.centerPadding}):V.props.centerMode===!0&&(he={padding:V.props.centerPadding+" 0px"});var Te=b(b({},se),he),me=V.props.touchMove,Re={className:"slick-list",style:Te,onClick:V.clickHandler,onMouseDown:me?V.swipeStart:null,onMouseMove:V.state.dragging&&me?V.swipeMove:null,onMouseUp:me?V.swipeEnd:null,onMouseLeave:V.state.dragging&&me?V.swipeEnd:null,onTouchStart:me?V.swipeStart:null,onTouchMove:V.state.dragging&&me?V.swipeMove:null,onTouchEnd:me?V.touchEnd:null,onTouchCancel:V.state.dragging&&me?V.swipeEnd:null,onKeyDown:V.props.accessibility?V.keyHandler:null},je={className:q,dir:"ltr",style:V.props.style};return V.props.unslick&&(Re={className:"slick-list"},je={className:q,style:V.props.style}),t.default.createElement("div",je,V.props.unslick?"":ae,t.default.createElement("div",m({ref:V.listRefHandler},Re),t.default.createElement(s.Track,m({ref:V.trackRefHandler},$),V.props.children)),V.props.unslick?"":re,V.props.unslick?"":Z)}),V.list=null,V.track=null,V.state=b(b({},e.default),{},{currentSlide:V.props.initialSlide,targetSlide:V.props.initialSlide?V.props.initialSlide:0,slideCount:t.default.Children.count(V.props.children)}),V.callbackTimers=[],V.clickable=!0,V.debouncedResize=null;var G=V.ssrInit();return V.state=b(b({},V.state),G),V}return L(Y,[{key:"didPropsChange",value:function(V){for(var G=!1,q=0,R=Object.keys(this.props);q<R.length;q++){var $=R[q];if(!V.hasOwnProperty($)){G=!0;break}if(!(f(V[$])==="object"||typeof V[$]=="function"||isNaN(V[$]))&&V[$]!==this.props[$]){G=!0;break}}return G||t.default.Children.count(this.props.children)!==t.default.Children.count(V.children)}}]),Y})(t.default.Component),lm}var DE,eL;function Kxe(){if(eL)return DE;eL=1;var t=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return DE=t,DE}var OE,tL;function Gxe(){if(tL)return OE;tL=1;var t=Kxe(),e=function(i){var s=/[height|width]$/;return s.test(i)},n=function(i){var s="",a=Object.keys(i);return a.forEach(function(l,c){var d=i[l];l=t(l),e(l)&&typeof d=="number"&&(d=d+"px"),d===!0?s+=l:d===!1?s+="not "+l:s+="("+l+": "+d+")",c<a.length-1&&(s+=" and ")}),s},r=function(i){var s="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(a,l){s+=n(a),l<i.length-1&&(s+=", ")}),s):n(i)};return OE=r,OE}var nL;function Xxe(){return nL||(nL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=a(Jr()),n=Wxe(),r=a(Gxe()),i=a(h7()),s=pg();function a(S){return S&&S.__esModule?S:{default:S}}function l(S){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},l(S)}function c(){return c=Object.assign?Object.assign.bind():function(S){for(var D=1;D<arguments.length;D++){var N=arguments[D];for(var k in N)({}).hasOwnProperty.call(N,k)&&(S[k]=N[k])}return S},c.apply(null,arguments)}function d(S,D){var N=Object.keys(S);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(S);D&&(k=k.filter(function(O){return Object.getOwnPropertyDescriptor(S,O).enumerable})),N.push.apply(N,k)}return N}function f(S){for(var D=1;D<arguments.length;D++){var N=arguments[D]!=null?arguments[D]:{};D%2?d(Object(N),!0).forEach(function(k){I(S,k,N[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(N)):d(Object(N)).forEach(function(k){Object.defineProperty(S,k,Object.getOwnPropertyDescriptor(N,k))})}return S}function m(S,D){if(!(S instanceof D))throw new TypeError("Cannot call a class as a function")}function p(S,D){for(var N=0;N<D.length;N++){var k=D[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(S,j(k.key),k)}}function y(S,D,N){return D&&p(S.prototype,D),Object.defineProperty(S,"prototype",{writable:!1}),S}function x(S,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(D&&D.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),D&&b(S,D)}function b(S,D){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(N,k){return N.__proto__=k,N},b(S,D)}function _(S){var D=M();return function(){var N,k=z(S);if(D){var O=z(this).constructor;N=Reflect.construct(k,arguments,O)}else N=k.apply(this,arguments);return T(this,N)}}function T(S,D){if(D&&(l(D)=="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(S)}function L(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function M(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M=function(){return!!S})()}function z(S){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)},z(S)}function I(S,D,N){return(D=j(D))in S?Object.defineProperty(S,D,{value:N,enumerable:!0,configurable:!0,writable:!0}):S[D]=N,S}function j(S){var D=C(S,"string");return l(D)=="symbol"?D:D+""}function C(S,D){if(l(S)!="object"||!S)return S;var N=S[Symbol.toPrimitive];if(N!==void 0){var k=N.call(S,D);if(l(k)!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(S)}t.default=(function(S){x(N,S);var D=_(N);function N(k){var O;return m(this,N),O=D.call(this,k),I(L(O),"innerSliderRefHandler",function(A){return O.innerSlider=A}),I(L(O),"slickPrev",function(){return O.innerSlider.slickPrev()}),I(L(O),"slickNext",function(){return O.innerSlider.slickNext()}),I(L(O),"slickGoTo",function(A){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return O.innerSlider.slickGoTo(A,W)}),I(L(O),"slickPause",function(){return O.innerSlider.pause("paused")}),I(L(O),"slickPlay",function(){return O.innerSlider.autoPlay("play")}),O.state={breakpoint:null},O._responsiveMediaHandlers=[],O}return y(N,[{key:"media",value:function(O,A){var W=window.matchMedia(O),Y=function(V){var G=V.matches;G&&A()};W.addListener(Y),this._responsiveMediaHandlers.push({mql:W,query:O,listener:Y})}},{key:"componentDidMount",value:function(){var O=this;if(this.props.responsive){var A=this.props.responsive.map(function(Y){return Y.breakpoint});A.sort(function(Y,J){return Y-J}),A.forEach(function(Y,J){var V;J===0?V=(0,r.default)({minWidth:0,maxWidth:Y}):V=(0,r.default)({minWidth:A[J-1]+1,maxWidth:Y}),(0,s.canUseDOM)()&&O.media(V,function(){O.setState({breakpoint:Y})})});var W=(0,r.default)({minWidth:A.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(W,function(){O.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(O){O.mql.removeListener(O.listener)})}},{key:"render",value:function(){var O=this,A,W;this.state.breakpoint?(W=this.props.responsive.filter(function(Q){return Q.breakpoint===O.state.breakpoint}),A=W[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),W[0].settings)):A=f(f({},i.default),this.props),A.centerMode&&(A.slidesToScroll>1,A.slidesToScroll=1),A.fade&&(A.slidesToShow>1,A.slidesToScroll>1,A.slidesToShow=1,A.slidesToScroll=1);var Y=e.default.Children.toArray(this.props.children);Y=Y.filter(function(Q){return typeof Q=="string"?!!Q.trim():!!Q}),A.variableWidth&&(A.rows>1||A.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),A.variableWidth=!1);for(var J=[],V=null,G=0;G<Y.length;G+=A.rows*A.slidesPerRow){for(var q=[],R=G;R<G+A.rows*A.slidesPerRow;R+=A.slidesPerRow){for(var $=[],K=R;K<R+A.slidesPerRow&&(A.variableWidth&&Y[K].props.style&&(V=Y[K].props.style.width),!(K>=Y.length));K+=1)$.push(e.default.cloneElement(Y[K],{key:100*G+10*R+K,tabIndex:-1,style:{width:"".concat(100/A.slidesPerRow,"%"),display:"inline-block"}}));q.push(e.default.createElement("div",{key:10*G+R},$))}A.variableWidth?J.push(e.default.createElement("div",{key:G,style:{width:V}},q)):J.push(e.default.createElement("div",{key:G},q))}if(A==="unslick"){var Z="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Z},Y)}else J.length<=A.slidesToShow&&(A.unslick=!0);return e.default.createElement(n.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(A)),J)}}]),N})(e.default.Component)})(AE)),AE}var rL;function Yxe(){return rL||(rL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Xxe());function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(PE)),PE}var Qxe=Yxe();const Jxe=di(Qxe);function Zxe({onAccountClick:t,onAddAccountClick:e}){const{user:n}=Ot(),{getBalance:r}=mg(),{t:i}=pt(),[s,a]=E.useState([]),[l,c]=E.useState(!0),[d,f]=E.useState(!1);E.useEffect(()=>{if(!n?.uid)return;console.log(" Iniciando listener de contas bancrias para userId:",n.uid);let b=0;const _=3;let T=null,L=null,M=!1;const z=()=>{if(M){console.log(" Configurao de listener j em andamento, ignorando...");return}M=!0,T&&(console.log(" Limpando listener anterior antes de criar novo..."),T(),T=null);const I=at(be,"bankAccounts"),j=Rt(I,Tt("userId","==",n.uid));T=Fs(j,C=>{console.log(" Contas bancrias recebidas:",C.size),b=0,M=!1;const S=C.docs.map(D=>({...D.data(),id:D.id,createdAt:D.data().createdAt?.toDate()||new Date}));console.log(" Total de contas carregadas:",S.length),console.log(" Pases das contas:",S.map(D=>`${D.country} (${D.currency})`).join(", ")),a(S),f(!1),c(!1)},C=>{console.error(" Erro no listener de contas bancrias:",C),M=!1,C.code==="permission-denied"?(console.log(" Erro de permisso, tentando getDocs..."),m()):C.code==="unavailable"&&b<_?(b++,console.log(` Tentando reconectar listener de contas... (tentativa ${b}/${_})`),L=setTimeout(()=>{T&&T(),z()},1e3*b)):(f(!0),c(!1))})};return z(),()=>{console.log(" Desconectando listener de contas bancrias"),T&&T(),L&&clearTimeout(L)}},[n]);const m=async()=>{if(n?.uid)try{const b=at(be,"bankAccounts"),_=Rt(b,Tt("userId","==",n.uid)),L=(await It(_)).docs.map(M=>({...M.data(),id:M.id,createdAt:M.data().createdAt?.toDate()||new Date}));a(L),f(!1)}catch(b){console.error(" Erro ao carregar contas com getDocs:",b),f(!0)}finally{c(!1)}},p={dots:!1,infinite:!1,speed:300,slidesToShow:1.2,slidesToScroll:1,arrows:!1,swipeToSlide:!0},y=b=>{switch(b.country){case"BR":return{label:"Pix",icon:""};case"US":return{label:` ${b.accountNumber.slice(-4)}`};case"EU":return{label:` ${b.iban?.slice(-4)||b.accountNumber.slice(-4)}`};default:return{label:` ${b.accountNumber.slice(-4)}`}}},x={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",KRW:"",ZAR:"R",ARS:"$",CLP:"$"};return l?o.jsxs("div",{className:"px-6 mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:i.myAccounts}),o.jsx("div",{className:"animate-pulse",children:o.jsx("div",{className:"bg-zinc-900/50 rounded-3xl h-48 w-[85%]"})})]}):d?o.jsxs("div",{className:"px-6 mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:i.myAccounts}),o.jsx("div",{className:"text-red-500",children:"Ocorreu um erro ao carregar suas contas. Tente novamente mais tarde."})]}):!n||s.length===0?null:o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 px-6",children:i.myAccounts}),o.jsx("div",{className:"px-3",children:o.jsxs(Jxe,{...p,children:[s.map(b=>{const _=y(b);return o.jsx("div",{className:"px-3",children:o.jsxs("button",{onClick:()=>t?.(b),className:"w-full bg-gradient-to-br from-zinc-800/90 via-zinc-900/95 to-black backdrop-blur-xl rounded-3xl p-5 border border-zinc-700/60 hover:border-zinc-600 shadow-lg shadow-black/40 transition-all active:scale-[0.98] text-left relative overflow-hidden group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] via-transparent to-transparent pointer-events-none"}),o.jsxs("div",{className:"flex items-center justify-between mb-10 relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800 border border-zinc-700",children:o.jsx("img",{src:`https://flagcdn.com/w80/${b.country.toLowerCase()}.png`,alt:b.currency,className:"w-full h-full object-cover"})}),o.jsx("div",{className:"text-xl font-semibold text-white",children:b.currency})]}),o.jsxs("div",{className:"px-4 py-2 rounded-full bg-zinc-800/80 backdrop-blur-sm border border-zinc-700/50 flex items-center gap-2",children:[_.icon&&o.jsx("span",{className:"text-cyan-400 text-sm",children:_.icon}),o.jsx("span",{className:"text-xs font-medium text-gray-300",children:_.label})]})]}),(b.iban||b.accountNumber)&&o.jsx("div",{className:"text-xs text-gray-500 mb-3 font-mono tracking-wider relative z-10",children:b.iban?o.jsxs(o.Fragment,{children:["  ",b.iban.slice(-6)]}):o.jsxs(o.Fragment,{children:["  ",b.accountNumber.slice(-6)]})}),o.jsx("div",{className:"relative z-10 tabular-nums text-white",children:o.jsx(ya,{value:r(b.currency),symbol:x[b.currency],className:"text-2xl font-light"})})]})},b.id)}),o.jsx("div",{className:"px-3",children:o.jsxs("div",{onClick:e,className:"w-full bg-transparent backdrop-blur-xl rounded-3xl p-5 border-2 border-dashed border-zinc-700/60 hover:border-zinc-600 hover:bg-white/5 shadow-lg shadow-black/40 transition-all active:scale-[0.98] text-left relative overflow-hidden group h-full min-h-[180px] flex flex-col cursor-pointer",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-auto relative z-10",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 backdrop-blur-md border border-white/20 flex items-center justify-center",children:o.jsx(bu,{className:"text-white text-2xl font-light"})}),o.jsx("span",{className:"text-white/70 font-semibold",children:"Nova Conta"})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10",children:o.jsxs("p",{className:"text-white/50 text-sm text-center",children:["Adicione uma conta",o.jsx("br",{}),"de outro pas"]})})]})})]})})]})}function ebe({onClose:t}){const[e,n]=E.useState(!1),r=`rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    //  Localizaes dos usurios
    match /userLocations/{userId} {
      allow read: if request.auth != null && request.auth.uid == userId;
      allow write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Dados dos usurios
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Saldos dos usurios
    match /balances/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Transaes
    match /transactions/{transactionId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null;
    }
    
    //  Transferncias de cripto
    match /cryptoTransfers/{transferId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null;
    }

    //  Contas bancrias
    match /bankAccounts/{accountId} {
      allow read, write: if request.auth != null;
    }
  }
}`,i=async()=>{try{await navigator.clipboard.writeText(r),n(!0),setTimeout(()=>n(!1),2e3)}catch(s){console.error("Erro ao copiar:",s)}};return o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl border border-white/20 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-[0_0_40px_rgba(255,255,255,0.1)]",children:[o.jsxs("div",{className:"sticky top-0 bg-white/5 backdrop-blur-md border-b border-white/10 px-6 py-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl text-white",children:" Configurar Firestore"}),o.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-all",children:o.jsx(is,{className:"w-5 h-5 text-white"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-4",children:o.jsx("p",{className:"text-red-400 text-sm",children:" As regras de segurana do Firestore precisam ser configuradas para permitir o salvamento de localizaes."})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"1"}),"Acesse o Firebase Console"]}),o.jsxs("a",{href:"https://console.firebase.google.com/project/nexcoin-1f42f/firestore/rules",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-500/20 backdrop-blur-md rounded-xl px-4 py-3 border border-blue-500/30 hover:bg-blue-500/30 transition-all",children:[o.jsx(YB,{className:"w-4 h-4 text-blue-400"}),o.jsx("span",{className:"text-sm text-blue-400 flex-1 font-medium",children:"Clique aqui para abrir Firestore Rules"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"2"}),"Navegue at as regras"]}),o.jsx("div",{className:"bg-white/5 rounded-xl px-4 py-3 border border-white/10",children:o.jsxs("p",{className:"text-xs text-white/60",children:["Firestore Database  ",o.jsx("span",{className:"text-white",children:"Rules"})]})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"3"}),"Cole estas regras"]}),o.jsxs("div",{className:"relative",children:[o.jsx("pre",{className:"bg-black/40 rounded-xl p-4 border border-white/10 overflow-x-auto text-xs text-white/80 font-mono",children:r}),o.jsx("button",{onClick:i,className:"absolute top-3 right-3 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-lg px-3 py-1.5 flex items-center gap-2 border border-white/10 transition-all",children:e?o.jsxs(o.Fragment,{children:[o.jsx(eb,{className:"w-4 h-4 text-green-400"}),o.jsx("span",{className:"text-xs text-green-400",children:"Copiado!"})]}):o.jsxs(o.Fragment,{children:[o.jsx(vn,{className:"w-4 h-4 text-white/60"}),o.jsx("span",{className:"text-xs text-white/60",children:"Copiar"})]})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"4"}),"Publique as regras"]}),o.jsx("div",{className:"bg-white/5 rounded-xl px-4 py-3 border border-white/10",children:o.jsxs("p",{className:"text-xs text-white/60",children:["Clique no boto ",o.jsx("span",{className:"text-white font-medium",children:"Publicar"})," (Publish)"]})})]}),o.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4",children:o.jsx("p",{className:"text-green-400 text-sm",children:" Aps publicar, aguarde 1 minuto e recarregue a pgina. As localizaes sero salvas automaticamente!"})}),o.jsx("button",{onClick:t,className:"w-full bg-white/10 hover:bg-white/15 backdrop-blur-md rounded-xl px-4 py-3 border border-white/10 text-white transition-all",children:"Entendi"})]})]})})}function tbe(t){return t>=1?t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:6}):t.toLocaleString("pt-BR",{minimumFractionDigits:6,maximumFractionDigits:8})}function iL({onNavigate:t,onNavigateWithAccount:e}){const{prices:n}=fi(),{portfolio:r}=Bs(),{rates:i}=cP(),{user:s,userData:a,updateVisibleCards:l}=Ot(),{location:c,firestoreError:d}=hz(),{t:f}=pt(),[m,p]=E.useState(!1),[y,x]=E.useState(!1),[b,_]=E.useState(!1),[T,L]=E.useState(!1),[M,z]=E.useState(""),[I,j]=E.useState(["BTC","ETH","SOL","BNB"]),[C,S]=E.useState(["USD"]),[D,N]=E.useState([]);E.useEffect(()=>{a?.preferences?.visibleCards&&j(a.preferences.visibleCards)},[a]),E.useEffect(()=>{if(!s)return;(async()=>{try{const te=at(be,"bankAccounts"),ae=Rt(te,Tt("userId","==",s.uid)),re=await It(ae);if(re.empty){S(["USD"]),W("USD");return}const xe={USD:"USD",BRL:"BRL",GBP:"GBP",EUR:"EUR"},se=re.docs.map(Te=>{const me=Te.data();return xe[me.currency]}).filter(Te=>Te!==void 0),he=Array.from(new Set(se));he.length>0?(S(he),he.includes(A)||W(he[0])):(S(["USD"]),W("USD")),N(re.docs.map(Te=>Te.data()))}catch(te){console.error("Erro ao carregar moedas disponveis:",te),S(["USD"])}})()},[s]);const k=async Q=>{const te=I.includes(Q)?I.filter(ae=>ae!==Q):[...I,Q];j(te);try{await l(te)}catch(ae){console.error("Erro ao salvar preferncias:",ae)}},O=[{symbol:"BTC",name:"Bitcoin",coinId:"bitcoin"},{symbol:"ETH",name:"Ethereum",coinId:"ethereum"},{symbol:"SOL",name:"Solana",coinId:"solana"},{symbol:"BNB",name:"BNB",coinId:"binancecoin"},{symbol:"XRP",name:"Ripple",coinId:"ripple"},{symbol:"ADA",name:"Cardano",coinId:"cardano"},{symbol:"AVAX",name:"Avalanche",coinId:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",coinId:"dogecoin"},{symbol:"DOT",name:"Polkadot",coinId:"polkadot"},{symbol:"MATIC",name:"Polygon",coinId:"matic-network"},{symbol:"LINK",name:"Chainlink",coinId:"chainlink"},{symbol:"UNI",name:"Uniswap",coinId:"uniswap"},{symbol:"LTC",name:"Litecoin",coinId:"litecoin"},{symbol:"ATOM",name:"Cosmos",coinId:"cosmos"},{symbol:"XLM",name:"Stellar",coinId:"stellar"},{symbol:"TRX",name:"Tron",coinId:"tron"},{symbol:"SHIB",name:"Shiba Inu",coinId:"shiba-inu"},{symbol:"WBTC",name:"Wrapped Bitcoin",coinId:"wrapped-bitcoin"},{symbol:"DAI",name:"Dai",coinId:"dai"},{symbol:"LEO",name:"UNUS SED LEO",coinId:"leo-token"},{symbol:"USDC",name:"USD Coin",coinId:"usd-coin"},{symbol:"TON",name:"Toncoin",coinId:"the-open-network"},{symbol:"ETC",name:"Ethereum Classic",coinId:"ethereum-classic"},{symbol:"BCH",name:"Bitcoin Cash",coinId:"bitcoin-cash"},{symbol:"APT",name:"Aptos",coinId:"aptos"},{symbol:"ARB",name:"Arbitrum",coinId:"arbitrum"},{symbol:"OP",name:"Optimism",coinId:"optimism"},{symbol:"ICP",name:"Internet Computer",coinId:"internet-computer"},{symbol:"FIL",name:"Filecoin",coinId:"filecoin"},{symbol:"NEAR",name:"NEAR Protocol",coinId:"near"},{symbol:"VET",name:"VeChain",coinId:"vechain"},{symbol:"ALGO",name:"Algorand",coinId:"algorand"},{symbol:"INJ",name:"Injective",coinId:"injective-protocol"},{symbol:"AAVE",name:"Aave",coinId:"aave"},{symbol:"MKR",name:"Maker",coinId:"maker"},{symbol:"GRT",name:"The Graph",coinId:"the-graph"},{symbol:"IMX",name:"Immutable X",coinId:"immutable-x"},{symbol:"STX",name:"Stacks",coinId:"blockstack"},{symbol:"HBAR",name:"Hedera",coinId:"hedera-hashgraph"},{symbol:"FTM",name:"Fantom",coinId:"fantom"},{symbol:"SAND",name:"The Sandbox",coinId:"the-sandbox"},{symbol:"MANA",name:"Decentraland",coinId:"decentraland"},{symbol:"AXS",name:"Axie Infinity",coinId:"axie-infinity"},{symbol:"XTZ",name:"Tezos",coinId:"tezos"},{symbol:"THETA",name:"Theta Network",coinId:"theta-token"},{symbol:"EOS",name:"EOS",coinId:"eos"},{symbol:"XMR",name:"Monero",coinId:"monero"},{symbol:"FLOW",name:"Flow",coinId:"flow"},{symbol:"CHZ",name:"Chiliz",coinId:"chiliz"},{symbol:"ZEC",name:"Zcash",coinId:"zcash"},{symbol:"RUNE",name:"THORChain",coinId:"thorchain"},{symbol:"KLAY",name:"Klaytn",coinId:"klay-token"},{symbol:"DASH",name:"Dash",coinId:"dash"},{symbol:"NEO",name:"Neo",coinId:"neo"},{symbol:"IOTA",name:"IOTA",coinId:"iota"},{symbol:"QNT",name:"Quant",coinId:"quant-network"},{symbol:"EGLD",name:"MultiversX",coinId:"elrond-erd-2"},{symbol:"PEPE",name:"Pepe",coinId:"pepe"},{symbol:"FET",name:"Fetch.ai",coinId:"fetch-ai"},{symbol:"SUI",name:"Sui",coinId:"sui"},{symbol:"SEI",name:"Sei",coinId:"sei-network"}],[A,W]=E.useState("USD"),[Y,J]=E.useState(0);E.useEffect(()=>{a?.photoURL&&z(a.photoURL)},[a]),E.useEffect(()=>(m||y||b?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[m,y,b]),E.useEffect(()=>{if(d&&(d.includes("Firestore")||d.includes("permission"))){console.log(" [NewHome] Erro de Firestore detectado:",d),console.log(" [NewHome] Abrindo modal de instrues...");const Q=setTimeout(()=>{L(!0)},2e3);return()=>clearTimeout(Q)}},[d]),n.bitcoin?.usd,n.ethereum?.usd;const V=1;n.bitcoin?.usd_24h_change,n.ethereum?.usd_24h_change,n.tether?.usd_24h_change,n.solana?.usd,n.binancecoin?.usd,n.solana?.usd_24h_change,n.binancecoin?.usd_24h_change;const G=r.totalBalanceUSDT;r.change24h,r.changePercent24h;const q=r.holdings.find(Q=>Q.symbol==="USDT");q&&q.amount;const R=G*V*(i[A]||1);E.useEffect(()=>{Y===0&&R>0&&J(R)},[R]),E.useEffect(()=>{if(Y===0)return;const Q=Y,te=R,ae=400,re=performance.now(),xe=se=>{const he=se-re,Te=Math.min(he/ae,1),me=1-Math.pow(1-Te,3),Re=Q+(te-Q)*me;J(Re),Te<1&&requestAnimationFrame(xe)};requestAnimationFrame(xe)},[A]);const $=()=>{if(C.length===0)return;const Q=new(window.AudioContext||window.webkitAudioContext),te=8,ae=.02,re=.05;for(let he=0;he<te;he++){const Te=Q.createOscillator(),me=Q.createGain();Te.connect(me),me.connect(Q.destination);const Re=Q.currentTime+he*re;Te.frequency.setValueAtTime(1200+he*50,Re);const je=.15*(1-he/te*.5);me.gain.setValueAtTime(je,Re),me.gain.exponentialRampToValueAtTime(.01,Re+ae),Te.start(Re),Te.stop(Re+ae)}const se=(C.indexOf(A)+1)%C.length;W(C[se])},K=Q=>({USD:"$",BRL:"R$",GBP:"",EUR:""})[Q]||"$",Z=async Q=>{const te=Q.target.files?.[0];if(!(!te||!s))try{Ge.loading("Comprimindo foto...",{id:"upload-photo"});const ae=await mz(te,200,.7);z(ae),Ge.loading("Salvando foto...",{id:"upload-photo"}),await Ii(st(be,"users",s.uid),{photoURL:ae}),Ge.success("Foto atualizada com sucesso!",{id:"upload-photo"})}catch(ae){console.error("Erro ao salvar foto:",ae),Ge.error("Erro ao enviar foto. Tente novamente.",{id:"upload-photo"}),a?.photoURL&&z(a.photoURL)}};return o.jsxs("div",{className:"min-h-screen relative flex flex-col bg-gradient-to-b from-[#1a2942] via-black to-black",children:[o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[o.jsxs("header",{className:"px-6 pt-12 pb-4 flex items-center justify-between gap-3 relative z-10",children:[o.jsx("label",{htmlFor:"profile-photo-input",className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white/10 cursor-pointer hover:border-white/30 transition-all active:scale-95 block bg-white/10",children:M?o.jsx("img",{alt:"User Avatar",className:"w-full h-full object-cover",src:M}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/60 text-lg font-bold",children:a?.displayName?.[0]?.toUpperCase()||"U"})}),o.jsx("input",{type:"file",id:"profile-photo-input",className:"hidden",accept:"image/*",onChange:Z}),o.jsxs("button",{className:"flex-1 bg-white/5 backdrop-blur-md rounded-full px-4 py-2.5 flex items-center gap-2 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",onClick:()=>p(!0),children:[o.jsx(Wl,{className:"text-white/60 w-5 h-5"}),o.jsx("span",{className:"text-white/60 text-sm font-medium",children:f.search})]}),o.jsx("button",{className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",onClick:()=>x(!0),children:o.jsx(Sv,{className:"text-white w-5 h-5"})})]}),o.jsx("section",{className:"mt-8 px-6 text-center relative z-10",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-xs font-medium text-white/60 mb-2 px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/20 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:f.cashAndStablecoins}),o.jsxs("h1",{className:"text-5xl font-bold flex flex-col items-center gap-1 text-white",children:[o.jsx("button",{onClick:$,className:"font-bold text-white hover:text-white/80 transition-colors cursor-pointer active:scale-95 flex items-baseline",children:o.jsx(ya,{value:Y,symbol:K(A),className:"text-4xl font-bold"})}),o.jsxs("span",{className:"text-base font-medium text-white/50",children:[" ",o.jsx(ya,{value:G,className:"text-base font-light",showSymbol:!1})," USDT"]})]}),o.jsx("div",{className:"mt-2 w-screen h-12 opacity-40 -mx-6",children:o.jsx(gxe,{value:G})})]})}),o.jsxs("section",{className:"mt-1 px-6 grid grid-cols-2 gap-8 relative z-10",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("button",{onClick:()=>{D.length>0,t("selectFiatAccount")},className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:o.jsx(GB,{className:"text-white w-6 h-6"})}),o.jsx("span",{className:"text-white text-sm font-light tracking-wide",children:f.deposit})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("button",{onClick:()=>{const Q=D.find(te=>te.currency==="BRL");Q&&e?e("withdrawFiat",Q):t("withdrawFiat")},className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:o.jsx(gT,{className:"text-white w-6 h-6"})}),o.jsx("span",{className:"text-white text-sm font-light tracking-wide",children:f.transfer})]})]}),o.jsx("section",{className:"mt-8 relative z-10",children:o.jsx(Zxe,{onAccountClick:Q=>{e&&e("fiatAccountDetails",Q)},onAddAccountClick:()=>{t&&t("accountData")}})}),o.jsx("section",{className:"mt-8 px-4 relative z-10",children:o.jsx("button",{onClick:()=>t("transactions"),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-3 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] hover:bg-white/10 transition-all active:scale-[0.98]",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(Wte,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-sm font-bold text-white",children:f.statement}),o.jsx("p",{className:"text-xs text-white/50",children:f.viewAllTransactions})]})]}),o.jsx(xo,{className:"w-4 h-4 text-white/50"})]})})}),r.holdings.filter(Q=>Q.amount>0).length>0&&o.jsxs("section",{className:"mt-6 px-4 relative z-10",children:[o.jsx("h3",{className:"text-white/40 text-xs font-medium mb-3 px-1",children:f.assets}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] overflow-hidden",children:r.holdings.filter(Q=>Q.amount>0).map((Q,te,ae)=>{const xe=O.find(me=>me.symbol===Q.symbol)?.coinId||Q.coinId||Q.symbol.toLowerCase(),se=n[xe]?.usd||0,he=n[xe]?.usd_24h_change||0,Te=Q.amount*se;return o.jsxs("div",{className:`px-4 py-3 flex items-center justify-between ${te!==ae.length-1?"border-b border-white/5":""} hover:bg-white/5 transition-colors`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(mt,{symbol:Q.symbol,size:"sm"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-white",children:Q.name}),o.jsxs("p",{className:"text-xs text-white/40",children:[o.jsx(ya,{value:Te,className:"text-xs font-light",showSymbol:!1})," USDT"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-white",children:Q.symbol==="USDT"?o.jsxs(o.Fragment,{children:[o.jsx(ya,{value:Q.amount,className:"text-sm font-light",showSymbol:!1})," ",Q.symbol]}):o.jsxs(o.Fragment,{children:[tbe(Q.amount)," ",Q.symbol]})}),o.jsxs("div",{className:`flex items-center justify-end text-xs ${he>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[he>=0?o.jsx(Di,{className:"w-3 h-3"}):o.jsx(_u,{className:"w-3 h-3"}),Math.abs(he).toFixed(2).replace(".",","),"%"]})]})]},Q.symbol)})})]}),o.jsxs("section",{className:"mt-10 px-4 space-y-4 relative z-10 pb-32",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[o.jsx("h3",{className:"text-white/50 text-xs font-semibold",children:f.market}),o.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-full text-xs font-medium transition-all bg-white/5 backdrop-blur-md text-white/50 border border-white/10 hover:bg-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsx(Gte,{className:"w-3.5 h-3.5"}),f.edit]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:O.filter(Q=>I.includes(Q.symbol)).map(Q=>{const te=n[Q.coinId]?.usd||0,ae=n[Q.coinId]?.usd_24h_change||0;return o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("h4",{className:"text-sm font-bold text-white/50",children:[Q.symbol,"-USDT"]}),o.jsx(mt,{symbol:Q.symbol,size:"sm"})]}),o.jsx("div",{className:"text-white mb-1",children:o.jsx(ya,{value:te,className:"text-lg font-light",showSymbol:!1})}),o.jsxs("div",{className:`flex items-center text-xs font-semibold mb-3 ${ae>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[ae>=0?o.jsx(Di,{className:"w-4 h-4"}):o.jsx(_u,{className:"w-4 h-4"}),Math.abs(ae).toFixed(2).replace(".",","),"%"]}),o.jsx("div",{className:"h-10 w-full mt-2",children:o.jsx(rre,{coinId:Q.coinId,color:ae>=0?"#34c759":"#ff3b30"})})]},`${Q.symbol}-${te}-${ae}`)})})]})]}),o.jsx(yxe,{isOpen:m,onClose:()=>p(!1)}),o.jsx(vxe,{isOpen:y,onClose:()=>x(!1)}),o.jsx(bxe,{isOpen:b,onClose:()=>_(!1),visibleCards:I,onToggleCard:k}),d&&d.includes("Firestore")&&T&&o.jsx(ebe,{onClose:()=>L(!1)})]})}function nbe({onNavigate:t}){const[e,n]=E.useState(!0),{portfolio:r,isLoading:i,addOrUpdateCrypto:s,removeCrypto:a}=Bs(),{prices:l}=fi(),{t:c}=pt();return o.jsx("div",{className:"min-h-screen bg-black text-white flex flex-col",children:o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[o.jsxs("header",{className:"px-6 pt-8 pb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-lg",children:c.wallet}),o.jsx("button",{onClick:()=>n(!e),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:e?o.jsx(nu,{className:"w-5 h-5"}):o.jsx(rf,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[o.jsxs("button",{onClick:()=>t("receive"),className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:o.jsx(nP,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-sm font-light text-white",children:c.receive})]}),o.jsxs("button",{onClick:()=>t("convert"),className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:o.jsx(Ite,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-sm font-light text-white",children:c.convert})]}),o.jsxs("button",{onClick:()=>t("withdraw"),className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:o.jsx(rP,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-sm font-light text-white",children:c.send})]})]})]}),o.jsx("div",{className:"px-6 space-y-6 mb-24",children:i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-white/50 mt-4",children:c.loadingAssets})]}):r.holdings.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:c.noAssetsInPortfolio}),o.jsxs("p",{className:"text-sm text-white/40 mb-8 max-w-xs mx-auto",children:[c.startAddingCryptos," ",o.jsx("span",{className:"text-white font-semibold",children:c.crypto})]}),o.jsx("button",{onClick:()=>t("crypto"),className:"px-8 py-4 bg-white/5 backdrop-blur-md rounded-2xl font-semibold text-white hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:c.goToCrypto})]}):o.jsxs(o.Fragment,{children:[r.holdings.some(d=>d.symbol==="USDT")&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:c.cashAndStablecoins}),r.holdings.filter(d=>d.symbol==="USDT").map(d=>{const f=l[d.coinId]?.usd||0;d.amount*f;const m=l[d.coinId]?.usd_24h_change||0;return o.jsx("div",{className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-5 hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] relative group",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(mt,{symbol:d.symbol,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-lg mb-1",children:d.symbol}),o.jsx("div",{className:"text-sm text-gray-400",children:d.name||d.symbol})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-light text-lg tabular-nums",children:e?`${Qi(d.amount)} ${d.symbol}`:""}),o.jsxs("div",{className:`text-sm ${m>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[m>=0?"":""," ",Math.abs(m).toFixed(2),"%"]})]})]})},d.symbol)})]}),r.holdings.some(d=>d.symbol!=="USDT")?o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h2",{className:"text-lg font-semibold",children:c.cryptocurrencies})}),o.jsx("div",{className:"space-y-4",children:r.holdings.filter(d=>d.symbol!=="USDT").map(d=>{const f=l[d.coinId]?.usd||0;d.amount*f;const m=l[d.coinId]?.usd_24h_change||0;return o.jsx("div",{className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-5 hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] relative group",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(mt,{symbol:d.symbol,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-lg mb-1",children:d.symbol}),o.jsx("div",{className:"text-sm text-gray-400",children:d.name||d.symbol})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-light text-lg tabular-nums",children:e?`${Qi(d.amount)} ${d.symbol}`:""}),o.jsxs("div",{className:`text-sm ${m>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[m>=0?"":""," ",Math.abs(m).toFixed(2),"%"]})]})]})},d.symbol)})})]}):o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:c.cryptocurrencies}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto mb-4 flex items-center justify-center",children:o.jsx(bu,{className:"w-8 h-8 text-white/30"})}),o.jsx("p",{className:"text-white/50 text-sm mb-4",children:c.addCryptosToPortfolio}),o.jsx("button",{onClick:()=>t("crypto"),className:"px-6 py-3 bg-white text-black rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:c.goToCrypto})]})]})]})})]})})}async function rbe(t,e){try{if(console.log(" Salvando converso:",e),!t)throw new Error("userId  obrigatrio");const n=at(be,"users",t,"conversions"),r={fromCurrency:e.fromCurrency,toCurrency:e.toCurrency,fromAmount:e.fromAmount,toAmount:e.toAmount,exchangeRate:e.exchangeRate,fee:e.fee,feePercentage:e.feePercentage,conversionMode:e.conversionMode,status:e.status,createdAt:vt.fromDate(new Date),completedAt:e.status==="completed"?vt.fromDate(new Date):null};e.fromCoinId!==void 0&&(r.fromCoinId=e.fromCoinId),e.toCoinId!==void 0&&(r.toCoinId=e.toCoinId),e.fromName!==void 0&&(r.fromName=e.fromName),e.toName!==void 0&&(r.toName=e.toName);const i=await Ri(n,r);console.log(" Converso salva com ID:",i.id);try{const s=at(be,"users",t,"transactions");await Ri(s,{type:"convert",status:e.status,amount:e.toAmount,currency:e.toCurrency,fromAmount:e.fromAmount,fromCurrency:e.fromCurrency,toAmount:e.toAmount,toCurrency:e.toCurrency,fee:e.fee||0,feeCurrency:e.fromCurrency,description:`Converso de ${e.fromAmount} ${e.fromCurrency} para ${e.toAmount} ${e.toCurrency}`,createdAt:vt.fromDate(new Date),completedAt:e.status==="completed"?vt.fromDate(new Date):null}),console.log(" Transao de converso criada no histrico")}catch(s){console.error(" Erro ao criar transao de converso (no crtico):",s)}return i.id}catch(n){throw console.error(" Erro ao salvar converso:",n),n}}function gS(t,e=.5){return t*(e/100)}function sL(t,e,n){return t>=e+n}async function da(t,e){try{const n=st(be,"users",t,"fiatBalances",e),r=await ns(n);return r.exists()&&r.data().balance||0}catch(n){return console.error(` Erro ao buscar saldo de ${e}:`,n),0}}async function Fc(t,e,n,r,i){for(let l=1;l<=3;l++)try{console.log(` Atualizando saldo fiat ${e} (tentativa ${l}/3):`,n);const c=st(be,"users",t,"fiatBalances",e),d=await ns(c);let f=0;d.exists()&&(f=d.data().balance||0);const m=f+n;return m<0?{success:!1,newBalance:f,message:`Saldo insuficiente. Saldo atual: ${f.toFixed(2)} ${e}`}:(d.exists()?await Ii(c,{balance:m,updatedAt:ks()}):await br(c,{currency:e,balance:m,createdAt:ks(),updatedAt:ks()}),console.log(` Saldo de ${e} atualizado: ${f.toFixed(2)}  ${m.toFixed(2)}`),await ibe(t,{userId:t,currency:e,amount:Math.abs(n),type:n>=0?"credit":"debit",description:r,relatedConversionId:i,balanceBefore:f,balanceAfter:m,createdAt:new Date}),{success:!0,newBalance:m})}catch(c){if(console.error(` Erro ao atualizar saldo de ${e} (tentativa ${l}/3):`,c),l===3)return{success:!1,newBalance:0,message:c instanceof Error?c.message:"Erro ao atualizar saldo"};await new Promise(d=>setTimeout(d,500*l))}return{success:!1,newBalance:0,message:"Erro inesperado ao atualizar saldo"}}async function ibe(t,e){try{const n=st(be,"users",t,"fiatTransactions",`${Date.now()}`),r={userId:e.userId,currency:e.currency,amount:e.amount,type:e.type,description:e.description,balanceBefore:e.balanceBefore,balanceAfter:e.balanceAfter,createdAt:ks()};e.relatedConversionId!==void 0&&(r.relatedConversionId=e.relatedConversionId),await br(n,r),console.log(" Transao fiat salva no histrico")}catch(n){console.error(" Erro ao salvar transao fiat:",n)}}class sbe{locks=new Map;LOCK_TIMEOUT=3e4;async acquireLock(e,n){const r=this.locks.get(e);if(r){if(Date.now()-r.timestamp<this.LOCK_TIMEOUT)return console.warn(" Converso j em andamento para este usurio"),!1;console.warn(" Lock expirado removido:",r),this.locks.delete(e)}return this.locks.set(e,{userId:e,timestamp:Date.now(),operation:n}),console.log(" Lock adquirido:",{userId:e,operation:n}),!0}releaseLock(e){const n=this.locks.get(e);n&&(console.log(" Lock liberado:",{userId:e,duration:Date.now()-n.timestamp}),this.locks.delete(e))}hasActiveLock(e){const n=this.locks.get(e);return n?Date.now()-n.timestamp>=this.LOCK_TIMEOUT?(this.locks.delete(e),!1):!0:!1}clearAllLocks(){console.warn(" Limpando todos os locks"),this.locks.clear()}}const aL=new sbe;async function hl(t,e){try{if(!t||t.trim()===""){console.warn(" userId invlido para salvar log de auditoria");return}const n=st(be,"users",t,"auditLogs",`${Date.now()}_${Math.random().toString(36).substr(2,9)}`),r={userId:t,operation:e.operation,fromCurrency:e.fromCurrency,toCurrency:e.toCurrency,fromAmount:e.fromAmount,toAmount:e.toAmount,conversionMode:e.conversionMode,balancesBefore:e.balancesBefore||null,balancesAfter:e.balancesAfter||null,conversionId:e.conversionId||null,errorMessage:e.errorMessage||null,metadata:e.metadata||null,timestamp:ks(),userAgent:typeof navigator<"u"?navigator.userAgent:null};await br(n,r),console.log(" Log de auditoria salvo:",e.operation)}catch(n){n instanceof Error&&n.message?.includes("permission-denied")?console.warn(" Log de auditoria desabilitado (permisso negada)"):console.error(" Erro ao salvar log de auditoria:",n)}}function jd(t,e){return{from:Number(t.toFixed(8)),to:Number(e.toFixed(8))}}function abe(){const{user:t}=Ot(),{portfolio:e,updateBalance:n}=Bs(),[r,i]=E.useState([]),[s,a]=E.useState(!0);return E.useEffect(()=>{if(!t?.uid){a(!1);return}console.log(" Iniciando listener de converses para userId:",t.uid);let c=null;const d=at(be,"users",t.uid,"conversions"),f=Rt(d,Xx("createdAt","desc"),Za(50));return c=Fs(f,m=>{console.log(" Snapshot de converses recebido - Total:",m.size);const p=[];m.forEach(y=>{const x=y.data();p.push({id:y.id,fromCurrency:x.fromCurrency,toCurrency:x.toCurrency,fromAmount:x.fromAmount,toAmount:x.toAmount,exchangeRate:x.exchangeRate,fee:x.fee,feePercentage:x.feePercentage,conversionMode:x.conversionMode,fromCoinId:x.fromCoinId,toCoinId:x.toCoinId,fromName:x.fromName,toName:x.toName,status:x.status,createdAt:x.createdAt?.toDate()||new Date,completedAt:x.completedAt?.toDate()})}),i(p),a(!1)},m=>{console.error(" Erro no listener de converses:",m),a(!1)}),()=>{console.log(" Cancelando listener de converses"),c&&c()}},[t?.uid]),{conversions:r,isLoading:s,executeConversion:async(c,d,f,m,p,y,x,b,_,T)=>{if(!t?.uid)return{success:!1,message:"Usurio no autenticado"};if(!await aL.acquireLock(t.uid,`${c}->${d}`))return{success:!1,message:"Aguarde a converso anterior finalizar"};let M=!1,z=!1,I;try{console.log(" Iniciando converso segura:",{from:c,to:d,amount:f,mode:y});const j=gS(f),C=f+j;let S=0,D=0;if(y==="crypto-crypto"){if(S=e.holdings.find(J=>J.symbol===c)?.amount||0,D=e.holdings.find(J=>J.symbol===d)?.amount||0,!sL(S,f,j))throw new Error(`Saldo insuficiente. Necessrio: ${C.toFixed(8)} ${c}`);await hl(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:jd(S,D),metadata:{fee:j,totalDeducted:C,exchangeRate:p}}),console.log(" [CRYPTOCRYPTO] Saldo validado:",{available:S,required:C}),console.log(` [CRYPTOCRYPTO] Debitando ${C} ${c}`);const Y=e.holdings.find(J=>J.symbol===c)?.amount||0;if(!sL(Y,f,j))throw new Error("Saldo alterado durante converso. Tente novamente.");await n(c,x,-C,_),M=!0,console.log(" Dbito concludo"),await new Promise(J=>setTimeout(J,100)),console.log(` [CRYPTOCRYPTO] Creditando ${m} ${d}`),await n(d,b,m,T),z=!0,console.log(" Crdito concludo")}else if(y==="crypto-fiat")if(["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(c)){if(S=e.holdings.find(G=>G.symbol===c)?.amount||0,D=await da(t.uid,d),S<f)throw new Error(`Saldo insuficiente. Disponvel: ${S.toFixed(8)} ${c}, Necessrio: ${f.toFixed(8)} ${c}`);if(await hl(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:jd(S,D),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [CRYPTOFIAT] Saldo crypto validado:",{available:S,required:f}),console.log(` [CRYPTOFIAT] Debitando ${f} ${c}`),(e.holdings.find(G=>G.symbol===c)?.amount||0)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");await n(c,x,-f,_),M=!0,console.log(" Dbito cripto concludo"),console.log(` [CRYPTOFIAT] Creditando ${m} ${d}`);const V=await Fc(t.uid,d,m,`Converso de ${f} ${c} para ${d}`);if(!V.success)throw new Error(V.message||"Erro ao adicionar saldo fiat");z=!0,console.log(" Crdito fiat concludo")}else{if(S=await da(t.uid,c),D=e.holdings.find(V=>V.symbol===d)?.amount||0,S<f)throw new Error(`Saldo insuficiente. Disponvel: ${S.toFixed(2)} ${c}, Necessrio: ${f.toFixed(2)} ${c}`);if(await hl(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:jd(S,D),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [FIATCRYPTO] Saldo fiat validado:",{available:S,required:f}),console.log(` [FIATCRYPTO] Debitando ${f} ${c}`),await da(t.uid,c)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");const J=await Fc(t.uid,c,-f,`Converso de ${f} ${c} para ${d}`);if(!J.success)throw new Error(J.message||"Erro ao debitar saldo fiat");M=!0,console.log(" Dbito fiat concludo"),console.log(` [FIATCRYPTO] Creditando ${m} ${d}`),await n(d,b,m,T),z=!0,console.log(" Crdito cripto concludo")}else if(y==="fiat-fiat"){if(S=await da(t.uid,c),D=await da(t.uid,d),S<f)throw new Error(`Saldo insuficiente. Disponvel: ${S.toFixed(2)} ${c}, Necessrio: ${f.toFixed(2)} ${c}`);if(await hl(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:jd(S,D),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [FIATFIAT] Saldo validado:",{available:S,required:f}),console.log(` [FIATFIAT] Debitando ${f} ${c}`),await da(t.uid,c)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");const A=await Fc(t.uid,c,-f,`Converso de ${f} ${c} para ${d}`);if(!A.success)throw new Error(A.message||"Erro ao debitar saldo");M=!0,console.log(" Dbito fiat concludo"),console.log(` [FIATFIAT] Creditando ${m} ${d}`);const W=await Fc(t.uid,d,m,`Converso de ${f} ${c} para ${d}`);if(!W.success)throw new Error(W.message||"Erro ao adicionar saldo");z=!0,console.log(" Crdito fiat concludo")}I=await rbe(t.uid,{fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,exchangeRate:p,fee:j,feePercentage:.5,conversionMode:y,fromCoinId:x,toCoinId:b,fromName:_,toName:T,status:"completed"}),console.log(" Converso executada com sucesso!",{conversionId:I});let N=0,k=0;if(y==="crypto-crypto"){const O=e.holdings.find(W=>W.symbol===c),A=e.holdings.find(W=>W.symbol===d);N=O?.amount||0,k=A?.amount||0}else y==="crypto-fiat"?["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(c)?(N=e.holdings.find(Y=>Y.symbol===c)?.amount||0,k=await da(t.uid,d)):(N=await da(t.uid,c),k=e.holdings.find(Y=>Y.symbol===d)?.amount||0):(N=await da(t.uid,c),k=await da(t.uid,d));return await hl(t.uid,{operation:"conversion_success",conversionId:I,fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:jd(S,D),balancesAfter:jd(N,k)}),{success:!0,message:"Converso realizada com sucesso!",conversionId:I}}catch(j){console.error(" Erro ao executar converso:",j);const C=j instanceof Error?j.message:"Erro ao executar converso";if(M&&!z){console.warn(" Iniciando ROLLBACK automtico...");try{if(y==="crypto-crypto"){const S=gS(f),D=f+S;await n(c,x,D,_),console.log(" ROLLBACK concludo: Dbito revertido")}else y==="crypto-fiat"?["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(c)?(await n(c,x,f,_),console.log(" ROLLBACK concludo: Dbito cripto revertido")):(await Fc(t.uid,c,f,`ROLLBACK: Converso falhou - ${C}`),console.log(" ROLLBACK concludo: Dbito fiat revertido")):y==="fiat-fiat"&&(await Fc(t.uid,c,f,`ROLLBACK: Converso falhou - ${C}`),console.log(" ROLLBACK concludo: Dbito fiat revertido"));await hl(t.uid,{operation:"conversion_rollback",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:`Rollback executado: ${C}`,metadata:{debitCompleted:M,creditCompleted:z}})}catch(S){console.error(" ERRO CRTICO NO ROLLBACK:",S),await hl(t.uid,{operation:"conversion_failed",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:`ERRO CRTICO: Rollback falhou - ${S instanceof Error?S.message:"Erro desconhecido"}`,metadata:{originalError:C,debitCompleted:M,creditCompleted:z}})}}else await hl(t.uid,{operation:"conversion_failed",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:C,metadata:{debitCompleted:M,creditCompleted:z}});return{success:!1,message:C}}finally{aL.releaseLock(t.uid)}}}}function Yb(){const[t,e]=E.useState([]),[n,r]=E.useState(!0),{user:i}=Ot(),{t:s,language:a}=pt();E.useEffect(()=>{if(!i?.uid){e([]),r(!1);return}r(!0);const x=at(be,"users",i.uid,"transactions"),b=Rt(x,Xx("createdAt","desc")),_=f7(b,T=>{const M=T.docs.map(z=>{const I=z.data();let j;I.createdAt?.toDate?j=I.createdAt.toDate():I.createdAt instanceof Date?j=I.createdAt:typeof I.createdAt=="string"||typeof I.createdAt=="number"?j=new Date(I.createdAt):j=new Date;let C;return I.completedAt?.toDate?C=I.completedAt.toDate():I.completedAt instanceof Date?C=I.completedAt:I.completedAt&&(C=new Date(I.completedAt)),{...I,id:z.id,createdAt:j,completedAt:C}}).sort((z,I)=>I.createdAt.getTime()-z.createdAt.getTime());e(M),r(!1)},{maxRetries:3,retryDelay:1e3,onError:T=>{console.error(" Erro ao carregar transaes:",T),e([]),r(!1)}});return()=>{try{_()}catch(T){console.error(" Erro ao desinscrever listener:",T)}}},[i?.uid]);const l=async x=>{if(!i?.uid)throw new Error("Usurio no autenticado");try{const b=at(be,"transactions"),_=await Ri(b,{...x,userId:i.uid,createdAt:vt.now(),completedAt:x.status==="completed"?vt.now():null});return console.log(" Transao salva:",_.id),_.id}catch(b){throw console.error(" Erro ao salvar transao:",b),b}},c=(x,b=2)=>{const _=a==="pt"?"pt-BR":a==="es"?"es-ES":"en-US";return x.toLocaleString(_,{minimumFractionDigits:b,maximumFractionDigits:b})};return{transactions:t,isLoading:n,addTransaction:l,formatAmount:c,getCurrencySymbol:x=>({BRL:"R$",USD:"$",EUR:"",GBP:"",USDT:"",BTC:"",ETH:""})[x]||x,formatTransactionDescription:x=>{switch(x.type){case"send_crypto":return`${s.transactionsPage.types.sendCrypto} ${x.currency}`;case"receive_crypto":return`${s.transactionsPage.types.receiveCrypto} ${x.currency}`;case"crypto_send":return`${s.transactionsPage.types.sent} ${x.currency}`;case"crypto_receive":return`${s.transactionsPage.types.received} ${x.currency}`;case"pix_send":return s.transactionsPage.types.pixSent;case"pix_receive":return s.transactionsPage.types.pixReceived;case"convert":return`${s.transactionsPage.types.conversion} ${x.fromCurrency}  ${x.toCurrency}`;case"deposit_fiat":return`${s.transactionsPage.types.deposit} ${x.currency}`;case"withdraw_fiat":return`${s.transactionsPage.types.withdrawal} ${x.currency}`;case"buy_crypto":return`${s.transactionsPage.types.buy} ${x.currency}`;case"sell_crypto":return`${s.transactionsPage.types.sell} ${x.currency}`;default:return x.description||s.transactions}},formatTransactionAmount:x=>{const _=["receive_crypto","crypto_receive","pix_receive","deposit_fiat","convert"].includes(x.type)?"+":"-";if(x.type==="convert"&&x.toAmount&&x.toCurrency)return`${_} ${c(x.toAmount)} ${x.toCurrency}`;const T=Math.abs(x.amount);return`${_} ${c(T)} ${x.currency}`},getTransactionIcon:x=>x.type==="convert"?"":["send_crypto","crypto_send","pix_send","withdraw_fiat"].includes(x.type)?"":["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(x.type)?"":"",getTransactionIconType:x=>x.type==="convert"?"conversao":["send_crypto","crypto_send","pix_send","withdraw_fiat"].includes(x.type)?"saida":(["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(x.type),"entrada")}}async function obe(t,e,n,r,i){try{const s=at(be,"notifications");await Ri(s,{userId:t,type:e,title:n,message:r,timestamp:ks(),read:!1,metadata:i||{},createdAt:ks()}),console.log(" Notification created:",{userId:t,type:e,title:n})}catch(s){throw console.error(" Error creating notification:",s),s}}async function lbe(t){try{const e=at(be,"notifications"),n=Rt(e,Tt("userId","==",t),Xx("timestamp","desc")),r=await It(n),i=[];return r.forEach(s=>{const a=s.data();i.push({id:s.id,userId:a.userId,type:a.type,title:a.title,message:a.message,timestamp:a.timestamp?.toDate()||new Date,read:a.read||!1,metadata:a.metadata||{}})}),console.log(` Loaded ${i.length} notifications for user ${t}`),i}catch(e){throw console.error(" Error loading notifications:",e),e}}async function cbe(t){try{const e=st(be,"notifications",t);await Ii(e,{read:!0,readAt:ks()}),console.log(" Notification marked as read:",t)}catch(e){throw console.error(" Error marking notification as read:",e),e}}async function ube(t){try{const e=at(be,"notifications"),n=Rt(e,Tt("userId","==",t),Tt("read","==",!1)),r=await It(n),i=Fd(be);r.forEach(s=>{i.update(s.ref,{read:!0,readAt:ks()})}),await i.commit(),console.log(` Marked ${r.size} notifications as read`)}catch(e){throw console.error(" Error marking all notifications as read:",e),e}}async function dbe(t,e,n,r,i){await obe(t,"transaction","Converso realizada",`Voc converteu ${e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})} ${n} para ${r.toLocaleString("pt-BR",{minimumFractionDigits:8,maximumFractionDigits:8})} ${i}`,{fromAmount:e,fromCurrency:n,toAmount:r,toCurrency:i,type:"conversion"})}function fbe({onNavigate:t,onNavigateWithAccount:e}){const{user:n}=Ot(),{language:r,t:i}=pt(),[s,a]=E.useState(""),[l,c]=E.useState(""),[d,f]=E.useState("BTC"),[m,p]=E.useState("USDT"),[y,x]=E.useState(!1),[b,_]=E.useState(!1),[T,L]=E.useState("crypto-crypto"),[M,z]=E.useState(!1),[I,j]=E.useState(!1),[C,S]=E.useState([]),[D,N]=E.useState(!1),{prices:k}=fi(),{rates:O}=cP(),{portfolio:A}=Bs(),{conversions:W,isLoading:Y,executeConversion:J}=abe(),{getBalance:V}=mg(),{addTransaction:G}=Yb(),q=E.useRef(null);E.useEffect(()=>{q.current&&q.current.focus()},[]),E.useEffect(()=>(I?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[I]),E.useEffect(()=>{if(!n?.uid)return;(async()=>{try{const Ie=at(be,"bankAccounts"),Xe=Rt(Ie,Tt("userId","==",n.uid)),yt=(await It(Xe)).docs.map(fe=>({...fe.data(),id:fe.id}));S(yt),console.log(" Contas bancrias carregadas:",yt.length)}catch(Ie){console.error(" Erro ao carregar contas bancrias:",Ie)}})()},[n]);const R=[{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BNB",name:"BNB",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"},{symbol:"XLM",name:"Stellar",id:"stellar"},{symbol:"TRX",name:"Tron",id:"tron"}],$=[{symbol:"BRL",name:i.brazilianReal,flag:"https://flagcdn.com/w80/br.png"},{symbol:"USD",name:i.usDollar,flag:"https://flagcdn.com/w80/us.png"},{symbol:"EUR",name:i.euro,flag:"https://flagcdn.com/w80/eu.png"},{symbol:"GBP",name:i.sterling,flag:"https://flagcdn.com/w80/gb.png"}],K=E.useMemo(()=>{if(C.length===0)return[];const oe=[...new Set(C.map(Ie=>Ie.currency))];return $.filter(Ie=>oe.includes(Ie.symbol))},[C]),Z=E.useMemo(()=>R.filter(oe=>{const Ie=A.holdings.find(Xe=>Xe.symbol===oe.symbol);return Ie&&Ie.amount>0}),[A.holdings]),Q=oe=>A.holdings.find(Xe=>Xe.symbol===oe)?.amount||0,te=oe=>V(oe),ae={BTC:"bitcoin",ETH:"ethereum",USDT:"tether",BNB:"binancecoin",SOL:"solana",XRP:"ripple",ADA:"cardano",AVAX:"avalanche-2",DOGE:"dogecoin",DOT:"polkadot",MATIC:"matic-network",LINK:"chainlink",UNI:"uniswap",LTC:"litecoin",ATOM:"cosmos",XLM:"stellar",TRX:"tron"},re=oe=>R.some(Ie=>Ie.symbol===oe),xe=oe=>$.some(Ie=>Ie.symbol===oe),se=oe=>{if(oe==="fiat-fiat"&&K.length<2){Ge.error(i.convertPage.needTwoAccounts);return}if(oe==="crypto-fiat"&&K.length===0){Ge.error(i.convertPage.needBankAccount);return}if(L(oe),oe==="crypto-crypto"){const Ie=Z.length>0?Z[0].symbol:"BTC";f(Ie),p(Ie==="USDT"?"BTC":"USDT")}else if(oe==="crypto-fiat"){const Ie=Z.length>0?Z[0].symbol:"BTC";f(Ie);const Xe=K.length>0?K[0].symbol:"BRL";p(Xe)}else{const Ie=K[0]?.symbol||"BRL",Xe=K[1]?.symbol||"USD";f(Ie),p(Xe)}a(""),c("")},he=()=>{const oe=d,Ie=s;f(m),p(oe),a(l),c(Ie)},Te=oe=>{const Ie=oe.replace(/\D/g,"");if(!Ie){a("");return}const gt=parseInt(Ie,10)/100;a(gt.toString())},me=oe=>{if(!oe)return"0,00";const Ie=parseFloat(oe);if(isNaN(Ie))return"0,00";const Xe=Ie.toFixed(2),[gt,yt]=Xe.split(".");return`${gt.replace(/\B(?=(\d{3})+(?!\d))/g,".")},${yt}`},Re=E.useMemo(()=>{if(T==="crypto-crypto"){const oe=ae[d],Ie=ae[m],Xe=k[oe]?.usd||1,gt=k[Ie]?.usd||1;return Xe/gt}else if(T==="crypto-fiat")if(re(d)){const Ie=ae[d],Xe=k[Ie]?.usd||1,gt=O[m]||1;return Xe*gt}else{const Ie=ae[m],Xe=k[Ie]?.usd||1;return(O[d]||1)/Xe}else if(T==="fiat-fiat"){const oe=O[d]||1;return(O[m]||1)/oe}return 1},[T,d,m,k,O,ae,re]);E.useEffect(()=>{if(!s){c("");return}const oe=parseFloat(s);if(isNaN(oe)){c("");return}if(T==="crypto-crypto"){const Ie=ae[d],Xe=ae[m],gt=k[Ie]?.usd||0,yt=k[Xe]?.usd||1,fe=oe*gt/yt;c(m==="USDT"?fe.toFixed(2):fe.toString())}else if(T==="crypto-fiat")if(re(d)){const Xe=ae[d],gt=k[Xe]?.usd||0,yt=O[m]||1,He=oe*gt*yt;c(He.toFixed(2))}else{const Xe=ae[m],gt=k[Xe]?.usd||0,yt=O[d]||1,He=oe/yt/gt;c(m==="USDT"?He.toFixed(2):He.toString())}else if(T==="fiat-fiat"){const Ie=O[d]||1,Xe=O[m]||1,yt=oe/Ie*Xe;c(yt.toFixed(2))}},[s,d,m,k,O,T,ae,re]);const je=E.useMemo(()=>{if(!s)return!1;const oe=parseFloat(s);if(isNaN(oe)||oe<=0)return!1;if(T==="crypto-crypto"){const Ie=gS(oe),Xe=oe+Ie;return Q(d)<Xe}else{if(T==="crypto-fiat")return re(d)?Q(d)<oe:te(d)<oe;if(T==="fiat-fiat")return te(d)<oe}return!1},[s,d,T,Q,te,re]),et=()=>{if(!s)return null;const oe=parseFloat(s);if(isNaN(oe)||oe<=0)return null;if(T==="crypto-crypto"){if(Q(d)===0)return`${i.convertPage.noBalance} ${d}`;if(je)return i.convertPage.insufficientBalanceWithFee}else if(T==="crypto-fiat"){if(Q(d)===0)return`${i.convertPage.noBalance} ${d}`;if(je)return i.convertPage.insufficientBalance}else if(T==="fiat-fiat"){if(te(d)===0)return`${i.convertPage.noBalance} ${d}`;if(je)return i.convertPage.insufficientBalance}return null},Qe=async()=>{if(!(!l||!s)){z(!0);try{const oe=R.find(ft=>ft.symbol===d),Ie=R.find(ft=>ft.symbol===m),Xe=$.find(ft=>ft.symbol===d),gt=$.find(ft=>ft.symbol===m);let yt,fe,He,Nt;T==="crypto-crypto"?(yt=oe?.id,fe=Ie?.id,He=oe?.name,Nt=Ie?.name):T==="crypto-fiat"?re(d)?(yt=oe?.id,fe=void 0,He=oe?.name,Nt=gt?.name):(yt=void 0,fe=Ie?.id,He=Xe?.name,Nt=Ie?.name):T==="fiat-fiat"&&(yt=void 0,fe=void 0,He=Xe?.name,Nt=gt?.name);const zt=await J(d,m,parseFloat(s),parseFloat(l),Re,T,yt,fe,He,Nt);if(zt.success){try{await G({type:"convert",status:"completed",amount:parseFloat(l),currency:m,fromAmount:parseFloat(s),fromCurrency:d,toAmount:parseFloat(l),toCurrency:m,fee:T==="crypto-crypto"?parseFloat(s)*.005:0,feeCurrency:d,description:`Converso ${d}  ${m}`}),console.log(" Transao salva no Firestore")}catch(ft){console.error(" Erro ao salvar transao:",ft)}a(""),c(""),Ge.success(i.convertPage.conversionSuccess),j(!0),n?.uid&&await dbe(n.uid,parseFloat(s),d,parseFloat(l),m)}else Ge.error(zt.message)}catch(oe){console.error("Erro ao executar a converso:",oe),Ge.error(i.convertPage.conversionError)}finally{z(!1)}}},We=()=>{j(!1)},wt=()=>{j(!1),t("home")},dt=async oe=>{if(!(!n?.uid||!oe||!window.confirm(i.convertPage.deleteConversion)))try{await yo(st(be,"users",n.uid,"conversions",oe)),Ge.success(i.convertPage.conversionDeleted),console.log(` Converso ${oe} removida`)}catch(Xe){console.error(" Erro ao excluir converso:",Xe),Ge.error(i.convertPage.errorDeletingConversion)}},tt=()=>{const oe=re(d)?Q(d):te(d);if(oe<=0){Ge.error(i.convertPage.insufficientBalance);return}let Ie;T==="crypto-crypto"?Ie=oe/1.005:Ie=oe;const gt=Math.floor(Ie*100).toString();Te(gt)};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col relative",children:[o.jsxs("div",{className:"px-6 pt-12 pb-2 flex items-center flex-shrink-0",children:[o.jsx("button",{className:"w-10 h-10 flex items-center justify-start text-white",onClick:()=>t("home"),children:o.jsx(Et,{className:"w-6 h-6"})}),o.jsx("h1",{className:"flex-1 text-center text-lg",children:i.convertPage.exchange}),o.jsx("div",{className:"w-10 h-10"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto hide-scrollbar pb-28",children:o.jsxs("div",{className:"flex flex-col px-4 pt-6",children:[o.jsxs("div",{className:"flex gap-2 mb-6 bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-1.5",children:[o.jsx("button",{onClick:()=>se("crypto-crypto"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${T==="crypto-crypto"?"bg-white text-black":"text-gray-500"}`,children:i.convertPage.cryptoToCrypto}),o.jsx("button",{onClick:()=>se("crypto-fiat"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${T==="crypto-fiat"?"bg-white text-black":"text-gray-500"}`,children:i.convertPage.cryptoToFiat}),o.jsx("button",{onClick:()=>se("fiat-fiat"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${T==="fiat-fiat"?"bg-white text-black":"text-gray-500"}`,children:i.convertPage.fiatToFiat})]}),o.jsxs("div",{className:"relative space-y-2",children:[o.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-3xl p-6 flex items-center justify-between h-32 relative",children:[o.jsx("button",{className:"absolute top-3 right-3 text-[10px] text-gray-500 hover:text-white transition-colors px-2 py-1 rounded-lg hover:bg-white/5",onClick:tt,children:i.convertPage.convertAll}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("button",{className:"flex items-center gap-2 group",onClick:()=>{x(!y),_(!1)},children:[o.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center",children:re(d)?o.jsx(mt,{symbol:d,size:"xs"}):o.jsx("img",{src:$.find(oe=>oe.symbol===d)?.flag,alt:d,className:"w-full h-full object-cover"})}),o.jsx("span",{className:"text-xl text-white",children:d}),o.jsx(Ml,{className:"w-4 h-4 text-gray-500"})]}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:re(d)?`${i.convertPage.balance}: ${Qi(Q(d))} ${d}`:`${i.convertPage.balance}: ${Ur(te(d).toString(),d)}`})]}),o.jsx("div",{className:"text-right",children:o.jsx("input",{type:"text",inputMode:"numeric",value:me(s),onChange:oe=>Te(oe.target.value),placeholder:"0,00",className:"text-base font-normal text-white bg-transparent text-right focus:outline-none w-32 placeholder-gray-700",style:{caretColor:"#0A84FF"},ref:q})}),y&&o.jsxs("div",{className:"absolute left-6 top-20 bg-zinc-900 rounded-xl p-2 shadow-2xl border border-zinc-700 z-50 w-[200px] max-h-[280px] overflow-y-auto",children:[T==="crypto-crypto"&&Z.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===m&&p(d),f(oe.symbol),x(!1)},children:[o.jsx(mt,{symbol:oe.symbol,size:"xs"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),T==="crypto-fiat"&&o.jsxs(o.Fragment,{children:[R.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{f(oe.symbol),x(!1)},children:[o.jsx(mt,{symbol:oe.symbol,size:"xs"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),o.jsx("div",{className:"h-px bg-zinc-700 my-2"}),K.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{f(oe.symbol),x(!1)},children:[o.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]}),T==="fiat-fiat"&&K.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===m&&p(d),f(oe.symbol),x(!1)},children:[o.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]})]}),o.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10",children:o.jsx("button",{className:"w-10 h-10 bg-white/10 backdrop-blur-md text-white rounded-full flex items-center justify-center border border-white/20 active:scale-90 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.1),0_4px_15px_rgba(0,0,0,0.5),inset_0_1px_2px_rgba(255,255,255,0.3),inset_0_-1px_2px_rgba(0,0,0,0.3)]",onClick:he,children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-0",children:[o.jsx(rP,{className:"w-3.5 h-3.5 stroke-[2.5]"}),o.jsx(nP,{className:"w-3.5 h-3.5 stroke-[2.5]"})]})})}),o.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-3xl p-6 flex items-center justify-between h-32 relative",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("button",{className:"flex items-center gap-2 group",onClick:()=>{_(!b),x(!1)},children:[o.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center",children:re(m)?o.jsx(mt,{symbol:m,size:"xs"}):o.jsx("img",{src:$.find(oe=>oe.symbol===m)?.flag,alt:m,className:"w-full h-full object-cover"})}),o.jsx("span",{className:"text-xl text-white",children:m}),o.jsx(Ml,{className:"w-4 h-4 text-gray-500"})]}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:re(m)?`${i.convertPage.balance}: 0 ${m}`:`${i.convertPage.balance}: $ 0,00`})]}),o.jsxs("div",{className:"text-right flex items-center",children:[o.jsx("div",{className:"text-base font-normal text-white text-right w-32 flex items-baseline justify-end",children:l?xe(m)?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-base",children:Ur(l,m).split(",")[0]}),Ur(l,m).includes(",")&&o.jsxs("span",{className:"text-sm",children:[",",Ur(l,m).split(",")[1]]})]}):m==="USDT"?Ur(l):Qi(parseFloat(l)):"0"}),o.jsx("div",{className:"h-6 w-[2px] bg-[#0A84FF] ml-0.5 animate-pulse"})]}),b&&o.jsxs("div",{className:"absolute left-6 top-20 bg-zinc-900 rounded-xl p-2 shadow-2xl border border-zinc-700 z-50 w-[200px] max-h-[280px] overflow-y-auto",children:[T==="crypto-crypto"&&R.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===d&&f(m),p(oe.symbol),_(!1)},children:[o.jsx(mt,{symbol:oe.symbol,size:"xs"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),T==="crypto-fiat"&&o.jsxs(o.Fragment,{children:[R.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{p(oe.symbol),_(!1)},children:[o.jsx(mt,{symbol:oe.symbol,size:"xs"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),o.jsx("div",{className:"h-px bg-zinc-700 my-2"}),K.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{p(oe.symbol),_(!1)},children:[o.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]}),T==="fiat-fiat"&&K.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===d&&f(m),p(oe.symbol),_(!1)},children:[o.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]})]})]}),o.jsxs("div",{className:"mt-6 px-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-500 text-xs",children:i.convertPage.exchangeRate}),o.jsxs("span",{className:"text-xs text-white",children:[s||"1"," ",d," = ",re(m)&&m!=="USDT"?Qi((parseFloat(s)||1)*Re):Ur((parseFloat(s)||1)*Re)," ",m]})]}),T==="crypto-crypto"&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-500 text-xs",children:i.convertPage.conversionFee}),o.jsxs("span",{className:"text-xs text-white",children:[s?re(d)&&d!=="USDT"?Qi(parseFloat(s)*.005):Ur(parseFloat(s)*.005):"0"," ",d]})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-zinc-900 pb-3",children:[o.jsx("span",{className:"text-gray-500 text-xs",children:i.convertPage.processing}),o.jsxs("span",{className:"text-xs text-white",children:["~ 30 ",i.convertPage.seconds]})]})]}),o.jsxs("div",{className:"mt-6 px-2 pb-6",children:[o.jsx("button",{className:`w-full h-14 text-base rounded-2xl transition-opacity ${l&&s?"bg-white text-black active:opacity-90":"bg-zinc-800 text-gray-600 cursor-not-allowed"}`,disabled:!l||!s||je,onClick:Qe,children:M?i.convertPage.converting:i.convertPage.confirmExchange}),je&&o.jsx("p",{className:"text-red-500 text-xs mt-2 text-center",children:et()})]}),o.jsxs("div",{className:"mt-10 px-2 pb-24",children:[o.jsxs("button",{className:"w-full flex items-center justify-between mb-4 active:opacity-70 transition-opacity",onClick:()=>N(!D),children:[o.jsx("h2",{className:"text-white text-lg",children:i.convertPage.conversionHistory}),o.jsx(Ml,{className:`w-5 h-5 text-gray-500 transition-transform ${D?"rotate-180":""}`})]}),D&&o.jsxs(o.Fragment,{children:[(console.log(" [Convert] Estado do histrico:",{isLoading:Y,conversionsCount:W.length,conversions:W.slice(0,3)}),null),Y?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-white border-r-transparent"}),o.jsx("p",{className:"text-white/50 text-sm mt-4",children:i.convertPage.loadingHistory})]}):W.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-white/50 text-sm",children:i.convertPage.noConversions})}):o.jsx("div",{className:"space-y-1",children:W.map((oe,Ie)=>{const Xe=Ie<W.length-1,yt=oe.createdAt.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between py-4 active:bg-zinc-900/50 transition-colors cursor-pointer",onDoubleClick:()=>oe.id&&dt(oe.id),title:i.convertPage.clickToDelete,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center border border-zinc-800",children:o.jsx("svg",{className:"w-5 h-5 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-white",children:[oe.fromCurrency," para ",oe.toCurrency]}),o.jsx("p",{className:"text-[10px] text-gray-500",children:yt})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-xs text-white",children:["+",oe.toCurrency==="USDT"||xe(oe.toCurrency)?Ur(oe.toAmount):Qi(oe.toAmount)," ",oe.toCurrency]}),o.jsxs("p",{className:"text-[10px] text-gray-500",children:["-",oe.fromCurrency==="USDT"||xe(oe.fromCurrency)?Ur(oe.fromAmount):Qi(oe.fromAmount)," ",oe.fromCurrency]})]})]}),Xe&&o.jsx("div",{className:"h-px bg-zinc-900 w-full ml-12"})]},oe.id||Ie)})})]})]})]})}),I&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6 overflow-hidden",children:o.jsxs("div",{className:"bg-black w-full h-full flex flex-col items-center justify-start pt-20 px-8 overflow-hidden",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"text-white text-xl font-bold mb-3 text-center",children:i.convertPage.conversionCompleted}),o.jsx("p",{className:"text-white/70 text-sm mb-8 text-center",children:i.convertPage.anotherConversion}),o.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[o.jsx("button",{className:"w-full h-14 bg-white text-black font-bold text-base rounded-2xl transition-opacity active:opacity-90",onClick:We,children:i.convertPage.yesAnother}),o.jsx("button",{className:"w-full h-14 bg-white/10 backdrop-blur-md border border-white/20 text-white font-bold text-base rounded-2xl transition-opacity active:opacity-90",onClick:wt,children:i.convertPage.noGoHome})]})]})})]})}function hbe({onNavigate:t}){const[e,n]=E.useState("all"),{prices:r}=fi(),{portfolio:i}=Bs(),{user:s}=Ot(),{t:a}=pt(),[l,c]=E.useState(!1),[d,f]=E.useState(""),[m,p]=E.useState([]);E.useEffect(()=>{(async()=>{if(!s?.uid){p([]);return}try{const A=await ns(st(be,"users",s.uid,"preferences","crypto-favorites"));if(A.exists()){const W=A.data();p(W.favorites||[])}else p([])}catch(A){A?.code!=="permission-denied"&&console.error("Erro ao carregar favoritos:",A),p([])}})()},[s]);const y=async O=>{if(!s?.uid){Ge.error("Faa login para salvar favoritos");return}const A=m.includes(O)?m.filter(W=>W!==O):[...m,O];p(A);try{await br(st(be,"users",s.uid,"preferences","crypto-favorites"),{favorites:A,updatedAt:new Date}),A.includes(O)?Ge.success("Adicionado aos favoritos"):Ge.success("Removido dos favoritos")}catch(W){console.error("Erro ao salvar favoritos:",W),Ge.error("Erro ao salvar favorito"),p(m)}},[x,b]=E.useState(0),[_,T]=E.useState(!1),L=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin"},{id:"ethereum",symbol:"ETH",name:"Ethereum"},{id:"tether",symbol:"USDT",name:"Tether"},{id:"binancecoin",symbol:"BNB",name:"Binance Coin"},{id:"solana",symbol:"SOL",name:"Solana"},{id:"ripple",symbol:"XRP",name:"XRP"},{id:"usd-coin",symbol:"USDC",name:"USD Coin"},{id:"cardano",symbol:"ADA",name:"Cardano"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin"},{id:"tron",symbol:"TRX",name:"TRON"},{id:"avalanche-2",symbol:"AVAX",name:"Avalanche"},{id:"polkadot",symbol:"DOT",name:"Polkadot"},{id:"matic-network",symbol:"MATIC",name:"Polygon"},{id:"chainlink",symbol:"LINK",name:"Chainlink"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu"},{id:"litecoin",symbol:"LTC",name:"Litecoin"},{id:"uniswap",symbol:"UNI",name:"Uniswap"},{id:"stellar",symbol:"XLM",name:"Stellar"},{id:"cosmos",symbol:"ATOM",name:"Cosmos"},{id:"monero",symbol:"XMR",name:"Monero"},{id:"ethereum-classic",symbol:"ETC",name:"Ethereum Classic"},{id:"bitcoin-cash",symbol:"BCH",name:"Bitcoin Cash"},{id:"near",symbol:"NEAR",name:"NEAR Protocol"},{id:"algorand",symbol:"ALGO",name:"Algorand"},{id:"vechain",symbol:"VET",name:"VeChain"},{id:"fantom",symbol:"FTM",name:"Fantom"},{id:"the-graph",symbol:"GRT",name:"The Graph"},{id:"filecoin",symbol:"FIL",name:"Filecoin"},{id:"hedera-hashgraph",symbol:"HBAR",name:"Hedera"},{id:"aptos",symbol:"APT",name:"Aptos"},{id:"arbitrum",symbol:"ARB",name:"Arbitrum"},{id:"optimism",symbol:"OP",name:"Optimism"},{id:"render-token",symbol:"RNDR",name:"Render"},{id:"injective-protocol",symbol:"INJ",name:"Injective"},{id:"sui",symbol:"SUI",name:"Sui"}],M=O=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(O),z=O=>O>=1e12?`$ ${(O/1e12).toFixed(1)}T`:O>=1e9?`$ ${(O/1e9).toFixed(0)}B`:O>=1e6?`$ ${(O/1e6).toFixed(0)}M`:`$ ${O.toFixed(0)}`,I=L.map(O=>{const A=r[O.id],W=A?.usd||0,Y=A?.usd_24h_change||0,J=A?.usd_market_cap||0;return{...O,price:M(W),change:`${Y>=0?"+":""}${Y.toFixed(1)}%`,trend:Y>0?"up":Y<0?"down":"neutral",marketCap:z(J),isFavorite:m.includes(O.id),changePercent:Y,rawPrice:W}}),j=E.useMemo(()=>I.filter(O=>O.changePercent>0).sort((O,A)=>A.changePercent-O.changePercent).slice(0,5),[I]),C=O=>{const A=O.rawPrice,W=O.changePercent,Y=[];for(let J=0;J<24;J++){const V=J/23,G=(Math.random()-.5)*(W/5),q=W*V/100+G,R=W*.3,$=(Math.random()-.5)*(R/5),K=R*V/100+$;Y.push({time:`${J}h`,price:A*(1+q/100),pricePast:A*.95*(1+K/100)})}return Y};E.useEffect(()=>{if(j.length===0||_)return;const O=setInterval(()=>{b(A=>(A+1)%j.length)},5e3);return()=>clearInterval(O)},[j.length,_]);const S=i.holdings.map(O=>O.coinId),D=I.filter(O=>!S.includes(O.id)),N=E.useMemo(()=>{let O=D;if(d.trim()){const A=d.toLowerCase();O=O.filter(W=>W.name.toLowerCase().includes(A)||W.symbol.toLowerCase().includes(A))}return e==="favorites"&&(O=O.filter(A=>A.isFavorite)),O},[D,d,e,m]),k="bg-white/5 backdrop-blur-md border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]";return o.jsx("div",{className:"min-h-screen bg-black text-white flex flex-col",children:o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[o.jsxs("header",{className:"px-6 pt-8 pb-6",children:[o.jsx("h1",{className:"text-lg font-semibold mb-6",children:a.cryptoMarket}),o.jsxs("div",{className:"relative mb-6",children:[o.jsx(Wl,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2 z-10"}),o.jsx("input",{type:"text",placeholder:a.cryptoPage.searchCrypto,className:`w-full rounded-2xl pl-12 pr-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-zinc-700 ${k}`,value:d,onChange:O=>f(O.target.value)})]}),o.jsxs("div",{className:"flex gap-3 mb-6",children:[o.jsx("button",{onClick:()=>n("all"),className:e==="all"?"flex-1 py-3 rounded-full font-semibold transition-colors bg-white text-black":`flex-1 py-3 rounded-full font-semibold transition-colors text-gray-400 ${k}`,children:a.cryptoPage.all}),o.jsxs("button",{onClick:()=>n("favorites"),className:e==="favorites"?"flex-1 py-3 rounded-full font-semibold transition-colors bg-white text-black":`flex-1 py-3 rounded-full font-semibold transition-colors text-gray-400 ${k}`,children:[a.cryptoPage.favorites," ",o.jsx(eD,{className:"w-4 h-4 inline ml-1"})]})]})]}),o.jsx("div",{className:"px-6 mb-6",children:j.length>0&&j[x]&&o.jsx("div",{className:"relative",children:o.jsxs("div",{className:`rounded-2xl p-4 overflow-hidden relative ${k} transition-all`,onMouseLeave:()=>T(!1),onMouseEnter:()=>T(!0),children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#34c759]/10 via-transparent to-[#34c759]/5 pointer-events-none"}),o.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-3",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h2",{className:"text-sm font-bold",children:a.cryptoPage.trendingUp})}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-[#34c759] font-semibold",children:[o.jsx(Di,{className:"w-3 h-3"}),a.cryptoPage.realTime]})]}),o.jsxs("div",{className:"relative z-10 grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(mt,{symbol:j[x].symbol,size:"sm"}),o.jsx("div",{children:o.jsx("h3",{className:"text-base font-bold text-white",children:j[x].symbol})})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("p",{className:"text-xs text-white/40",children:a.cryptoPage.price}),o.jsx("p",{className:"text-white",children:o.jsx(ya,{value:j[x].rawPrice,symbol:"$",className:"text-lg font-light"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-white/40",children:a.cryptoPage.change24h}),o.jsxs("p",{className:"text-lg font-bold text-[#34c759] flex items-center gap-1",children:["+",j[x].changePercent.toFixed(2),"%",o.jsx(Di,{className:"w-3 h-3"})]})]})]}),o.jsx("div",{className:"h-24 w-full",children:o.jsx(R$,{width:"100%",height:"100%",children:o.jsxs(pxe,{data:C(j[x]),children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"colorCurrent",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#34c759",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#34c759",stopOpacity:0})]}),o.jsxs("linearGradient",{id:"colorPast",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#ff9f0a",stopOpacity:.4}),o.jsx("stop",{offset:"95%",stopColor:"#ff9f0a",stopOpacity:0})]})]}),o.jsx(Gme,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.95)",border:"1px solid rgba(52, 199, 89, 0.3)",borderRadius:"8px"},labelStyle:{display:"none"}}),o.jsx(uS,{type:"monotone",dataKey:"pricePast",stroke:"#ff9f0a",strokeWidth:1.5,fill:"url(#colorPast)",dot:!1}),o.jsx(uS,{type:"monotone",dataKey:"price",stroke:"#34c759",strokeWidth:2,fill:"url(#colorCurrent)",dot:!1})]})})})]})]})})}),o.jsxs("div",{className:"px-6 space-y-4 pb-24",children:[o.jsx("button",{onClick:()=>c(!l),className:`w-full rounded-2xl p-4 hover:bg-white/10 transition-all ${k}`,children:o.jsx("div",{className:"flex items-center justify-between",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center",children:o.jsx(xo,{className:`w-6 h-6 text-white transition-transform ${l?"rotate-90":""}`})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-white",children:l?a.cryptoPage.hideList:a.cryptoPage.seeAllCryptos}),o.jsxs("div",{className:"text-sm text-gray-400",children:[N.length," ",N.length===1?a.cryptoPage.activeAvailable:a.cryptoPage.activesAvailable]})]})]})})}),l&&o.jsx("div",{className:"space-y-4",children:N.length>0?N.map(O=>o.jsxs("div",{className:`w-full rounded-2xl p-4 hover:bg-white/10 transition-colors ${k}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(mt,{symbol:O.symbol,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold",children:O.name}),o.jsx("div",{className:"text-sm text-gray-400",children:O.symbol})]})]}),o.jsx("button",{className:"text-gray-400 hover:text-yellow-500 transition-colors",onClick:A=>{A.stopPropagation(),y(O.id)},children:o.jsx(eD,{className:`w-5 h-5 ${O.isFavorite?"fill-yellow-500 text-yellow-500":""}`})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-lg font-semibold",children:O.price}),o.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${O.trend==="up"?"text-green-500":O.trend==="down"?"text-red-500":"text-gray-400"}`,children:[O.trend==="up"&&o.jsx(Di,{className:"w-4 h-4"}),O.trend==="down"&&o.jsx(_u,{className:"w-4 h-4"}),O.change]})]})]},O.id)):o.jsx("div",{className:`rounded-2xl p-8 text-center ${k}`,children:o.jsx("p",{className:"text-white font-semibold",children:a.cryptoPage.noFavorites||"Nada encontrado"})})})]})]})})}function mbe({onNavigate:t}){const{userData:e,logout:n}=Ot(),{t:r}=pt(),i=l=>{const c=l.split(" ");return c.length>=2?`${c[0][0]}${c[1][0]}`.toUpperCase():l.substring(0,2).toUpperCase()},s=async()=>{try{console.log(" Fazendo logout..."),await n(),console.log(" Logout concludo! Redirecionando..."),t("welcome")}catch(l){console.error("Erro ao fazer logout:",l),Ge.error("Erro ao fazer logout")}},a=[{title:r.account,items:[{icon:oP,label:r.personalInfo,action:()=>t("personalInfo")},{icon:Ote,label:r.accountData,action:()=>t("accountData")},{icon:wu,label:r.security,action:()=>t("security")},{icon:Om,label:r.notifications,action:()=>t("notifications")}]},{title:r.support,items:[{icon:XB,label:r.helpCenter,action:()=>t("helpCenter")},{icon:QB,label:r.termsAndPrivacy,action:()=>t("termsMenu")}]},{title:r.settings,items:[{icon:y0,label:r.language,action:()=>t("languageSettings")},{icon:Bte,label:r.logout,action:s,danger:!0}]},{title:r.dangerZone,items:[{icon:Kc,label:r.deleteAccount,action:()=>t("deleteAccount"),danger:!0}]}];return o.jsx("div",{className:"min-h-screen bg-black text-white flex flex-col",children:o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("h1",{className:"text-xl mb-4",children:r.myProfile}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center text-lg overflow-hidden",children:e?.photoURL?o.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):e?i(e.name):"U"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"",children:e?.name||"Usurio"}),o.jsx("p",{className:"text-sm text-gray-400",children:e?.email||""})]})]})})]}),a.map((l,c)=>o.jsxs("section",{className:"px-6 mb-6",children:[o.jsx("h3",{className:"text-xs text-gray-400 mb-2 px-1",children:l.title.toUpperCase()}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl overflow-hidden border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.items.map((d,f)=>{const m=d.icon;return o.jsxs("div",{children:[o.jsxs("button",{onClick:d.action,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/10 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(m,{className:`w-5 h-5 ${d.danger?"text-red-500":"text-gray-400"}`}),o.jsx("span",{className:d.danger?"text-red-500":"",children:d.label})]}),o.jsx(xo,{className:"w-5 h-5 text-gray-400"})]}),f<l.items.length-1&&o.jsx("div",{className:"h-px bg-white/10 mx-4"})]},d.label)})})]},c)),o.jsxs("div",{className:"text-center mt-6 text-sm text-gray-500",children:[o.jsx("span",{className:"font-bold italic",children:"NexCoin"})," v1.0.0"]})]})})}function pbe({onNavigate:t}){const{userData:e,user:n}=Ot(),{t:r}=pt(),[i,s]=E.useState(!1),[a,l]=E.useState(!1),[c,d]=E.useState({birthDate:e?.birthDate||"",address:e?.address||"",city:e?.city||"",state:e?.state||"",zipCode:e?.zipCode||"",document:e?.document||"",patrimony:e?.patrimony||"",accountPurpose:e?.accountPurpose||[]}),f=y=>{const x=y.split(" ");return x.length>=2?`${x[0][0]}${x[1][0]}`.toUpperCase():y.substring(0,2).toUpperCase()},m=async()=>{if(!(!n||!e)){l(!0);try{const y=st(be,"users",n.uid);await Ii(y,c),Object.assign(e,c),s(!1),alert("Perfil atualizado com sucesso!")}catch(y){console.error("Erro ao atualizar perfil:",y),alert("Erro ao atualizar perfil. Tente novamente.")}finally{l(!1)}}},p=y=>{if(!y)return"";const x=y.replace(/\D/g,"");return x.length===13?`+${x.slice(0,2)} ${x.slice(2,4)} ${x.slice(4,9)}-${x.slice(9)}`:y};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-zinc-900 transition-colors",children:o.jsx(iP,{className:"w-6 h-6"})}),i&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>s(!1),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(is,{className:"w-5 h-5"})}),o.jsx("button",{onClick:m,disabled:a,className:"w-10 h-10 flex items-center justify-center rounded-full bg-gradient-to-r from-orange-500 to-purple-500 hover:opacity-90 transition-opacity disabled:opacity-50",children:o.jsx(JB,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold flex-1",children:r.personalInfo}),!i&&o.jsx("div",{style:{display:"none"}}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("span",{className:"text-blue-500",children:["@",e?.name?.toLowerCase().replace(/\s+/g,"")||"usuario"]})})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center text-lg font-bold overflow-hidden",children:e?.photoURL?o.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):e?f(e.name):"U"})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-base font-semibold mb-3",children:r.personalAccount}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-4 space-y-4",children:[o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.fullName}),o.jsx("p",{className:"text-sm",children:e?.name?.toUpperCase()||r.notInformed})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.dateOfBirth}),i?o.jsx("input",{type:"date",value:c.birthDate,onChange:y=>d({...c,birthDate:y.target.value}),className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):o.jsx("p",{className:"text-sm",children:e?.birthDate||r.notInformed})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.idDocument}),i?o.jsx("input",{type:"text",value:c.document,onChange:y=>d({...c,document:y.target.value}),placeholder:r.enterIdDocument,className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):o.jsx("p",{className:"text-sm",children:e?.document||r.notInformed})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.residentialAddress}),i?o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",value:c.address,onChange:y=>d({...c,address:y.target.value}),placeholder:r.addressPlaceholder,className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("input",{type:"text",value:c.city,onChange:y=>d({...c,city:y.target.value}),placeholder:r.city,className:"bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}),o.jsx("input",{type:"text",value:c.state,onChange:y=>d({...c,state:y.target.value}),placeholder:r.state,className:"bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"})]}),o.jsx("input",{type:"text",value:c.zipCode,onChange:y=>d({...c,zipCode:y.target.value}),placeholder:r.zipCode,className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"})]}):o.jsx("p",{className:"text-sm",children:e?.address&&e?.city&&e?.state&&e?.zipCode?`${e.address}, ${e.zipCode}, ${e.city}, ${e.state}`:r.notInformed})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.phoneNumber}),o.jsx("p",{className:"text-sm",children:p(e?.phone||"")||r.notInformed})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.emailLabel}),o.jsx("p",{className:"text-sm text-orange-500",children:e?.email||r.notInformed})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.taxResidence}),o.jsx("p",{className:"text-sm",children:e?.country||r.notInformed})]})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-base font-semibold mb-3",children:r.patrimony}),o.jsx("div",{className:"bg-zinc-900 rounded-3xl p-4",children:o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.reportedPatrimony}),i?o.jsx("input",{type:"text",value:c.patrimony,onChange:y=>d({...c,patrimony:y.target.value}),placeholder:r.patrimonyPlaceholder,className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):o.jsx("p",{className:"text-sm",children:e?.patrimony||r.notInformed})]})})]})]})]})}async function Qb(t){try{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",e.style.opacity="0",e.setAttribute("readonly",""),document.body.appendChild(e),e.focus(),e.select(),e.setSelectionRange(0,t.length);const n=document.execCommand("copy");if(document.body.removeChild(e),n)return!0}catch(e){console.warn("Legacy copy method failed, trying Clipboard API",e)}if(navigator.clipboard&&window.isSecureContext)try{return await navigator.clipboard.writeText(t),!0}catch(e){console.error("Clipboard API also failed",e)}return console.error("All clipboard methods failed"),!1}const gbe=({code:t})=>o.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800",children:o.jsx("img",{src:`https://flagcdn.com/w40/${t.toLowerCase()}.png`,alt:t,className:"w-full h-full object-cover"})});function ybe({account:t,onBack:e,onDelete:n}){const[r,i]=E.useState(null),{t:s}=pt(),a=(d,f)=>{Qb(d),i(f),setTimeout(()=>i(null),2e3)},l=t.iban!==void 0,c=t.country==="BR";return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"px-6 py-4 flex items-center",children:o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-zinc-900 transition-colors",children:o.jsx(Et,{className:"w-6 h-6"})})}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("h1",{className:"text-xl font-bold mb-6",children:s.fiatAccounts.accountData}),o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(gbe,{code:t.flagCode}),o.jsx("span",{className:"font-semibold",children:s.countries[t.country]||t.countryName})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6 mb-4",children:[o.jsx("p",{className:"text-xs font-semibold mb-6",children:l?s.fiatAccounts.internationalOnly:s.fiatAccounts.domesticOnly}),o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.institution}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.bankName}),o.jsx("button",{onClick:()=>a(t.bankName,"bankName"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsxs("div",{className:"relative",children:[o.jsx(vn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="bankName"?"opacity-0":"opacity-100"}`}),r==="bankName"&&o.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.accountType}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.accountType}),o.jsx("button",{onClick:()=>a(t.accountType,"accountType"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsxs("div",{className:"relative",children:[o.jsx(vn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="accountType"?"opacity-0":"opacity-100"}`}),r==="accountType"&&o.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.accountNumber}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.accountNumber}),o.jsx("button",{onClick:()=>a(t.accountNumber,"accountNumber"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsxs("div",{className:"relative",children:[o.jsx(vn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="accountNumber"?"opacity-0":"opacity-100"}`}),r==="accountNumber"&&o.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),l&&o.jsxs(o.Fragment,{children:[t.iban&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.iban}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.iban}),o.jsx("button",{onClick:()=>a(t.iban,"iban"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsxs("div",{className:"relative",children:[o.jsx(vn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="iban"?"opacity-0":"opacity-100"}`}),r==="iban"&&o.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),t.swift&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.swiftBic}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.swift}),o.jsx("button",{onClick:()=>a(t.swift,"swift"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsxs("div",{className:"relative",children:[o.jsx(vn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="swift"?"opacity-0":"opacity-100"}`}),r==="swift"&&o.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]})]}),!l&&o.jsxs(o.Fragment,{children:[t.sortCode&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.sortCode}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.sortCode}),o.jsx("button",{onClick:()=>a(t.sortCode,"sortCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsxs("div",{className:"relative",children:[o.jsx(vn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="sortCode"?"opacity-0":"opacity-100"}`}),r==="sortCode"&&o.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),t.branchCode&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:c?s.fiatAccounts.agency:s.fiatAccounts.branchCode}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.branchCode}),o.jsx("button",{onClick:()=>a(t.branchCode,"branchCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsxs("div",{className:"relative",children:[o.jsx(vn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="branchCode"?"opacity-0":"opacity-100"}`}),r==="branchCode"&&o.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),t.routingNumber&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:t.country==="US"?s.fiatAccounts.routingNumber:t.country==="GB"?s.fiatAccounts.sortCode:t.country==="AU"?s.fiatAccounts.bsb:s.fiatAccounts.routingNumber}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.routingNumber}),o.jsx("button",{onClick:()=>a(t.routingNumber,"routingNumber"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsxs("div",{className:"relative",children:[o.jsx(vn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="routingNumber"?"opacity-0":"opacity-100"}`}),r==="routingNumber"&&o.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),t.bankCode&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:c?s.fiatAccounts.institutionCode:s.fiatAccounts.bankCode}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.bankCode}),o.jsx("button",{onClick:()=>a(t.bankCode,"bankCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsxs("div",{className:"relative",children:[o.jsx(vn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="bankCode"?"opacity-0":"opacity-100"}`}),r==="bankCode"&&o.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),t.swift&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.swiftBic}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.swift}),o.jsx("button",{onClick:()=>a(t.swift,"swift"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsxs("div",{className:"relative",children:[o.jsx(vn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="swift"?"opacity-0":"opacity-100"}`}),r==="swift"&&o.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]})]}),o.jsxs("button",{className:"w-full bg-zinc-700 hover:bg-zinc-600 rounded-full py-3 flex items-center justify-center gap-2 transition-colors mt-6",children:[o.jsx(aP,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-semibold",children:s.fiatAccounts.shareData})]})]}),l?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(lp,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:s.fiatAccounts.transferTimeTip})})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(QR,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:s.fiatAccounts.feeTip})})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(JR,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:s.fiatAccounts.swiftOnlyTip})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(QR,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:s.fiatAccounts.noFeeTip})})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(JR,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:s.fiatAccounts.pixTip})})]})]}),n&&t.id&&o.jsxs("button",{onClick:()=>n(t.id),className:"w-full mt-6 bg-red-900/20 hover:bg-red-900/30 border border-red-800 rounded-3xl py-4 flex items-center justify-center gap-2 transition-colors",children:[o.jsx(Kc,{className:"w-5 h-5 text-red-500"}),o.jsx("span",{className:"text-sm font-semibold text-red-500",children:s.fiatAccounts.closeAccount})]})]})]})}const $A=E.createContext({});function UA(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const x7=typeof window<"u",b7=x7?E.useLayoutEffect:E.useEffect,Jb=E.createContext(null);function qA(t,e){t.indexOf(e)===-1&&t.push(e)}function hx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ka=(t,e,n)=>n>e?e:n<t?t:n;let HA=()=>{};const So={},w7=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function _7(t){return typeof t=="object"&&t!==null}const E7=t=>/^0[^.\s]+$/u.test(t);function WA(t){let e;return()=>(e===void 0&&(e=t()),e)}const ts=t=>t,vbe=(t,e)=>n=>e(t(n)),gg=(...t)=>t.reduce(vbe),Sp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class KA{constructor(){this.subscriptions=[]}add(e){return qA(this.subscriptions,e),()=>hx(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Os=t=>t*1e3,Zi=t=>t/1e3;function C7(t,e){return e?t*(1e3/e):0}const T7=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,xbe=1e-7,bbe=12;function wbe(t,e,n,r,i){let s,a,l=0;do a=e+(n-e)/2,s=T7(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>xbe&&++l<bbe);return a}function yg(t,e,n,r){if(t===e&&n===r)return ts;const i=s=>wbe(s,0,1,t,n);return s=>s===0||s===1?s:T7(i(s),e,r)}const S7=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,N7=t=>e=>1-t(1-e),P7=yg(.33,1.53,.69,.99),GA=N7(P7),A7=S7(GA),I7=t=>(t*=2)<1?.5*GA(t):.5*(2-Math.pow(2,-10*(t-1))),XA=t=>1-Math.sin(Math.acos(t)),j7=N7(XA),k7=S7(XA),_be=yg(.42,0,1,1),Ebe=yg(0,0,.58,1),R7=yg(.42,0,.58,1),Cbe=t=>Array.isArray(t)&&typeof t[0]!="number",D7=t=>Array.isArray(t)&&typeof t[0]=="number",Tbe={linear:ts,easeIn:_be,easeInOut:R7,easeOut:Ebe,circIn:XA,circInOut:k7,circOut:j7,backIn:GA,backInOut:A7,backOut:P7,anticipate:I7},Sbe=t=>typeof t=="string",oL=t=>{if(D7(t)){HA(t.length===4);const[e,n,r,i]=t;return yg(e,n,r,i)}else if(Sbe(t))return Tbe[t];return t},rv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Nbe(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){a.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,m=!1,p=!1)=>{const x=p&&i?n:r;return m&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const Pbe=40;function O7(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=rv.reduce((M,z)=>(M[z]=Nbe(s),M),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:m,preRender:p,render:y,postRender:x}=a,b=()=>{const M=So.useManualTiming?i.timestamp:performance.now();n=!1,So.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(M-i.timestamp,Pbe),1)),i.timestamp=M,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),f.process(i),m.process(i),p.process(i),y.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},_=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:rv.reduce((M,z)=>{const I=a[z];return M[z]=(j,C=!1,S=!1)=>(n||_(),I.schedule(j,C,S)),M},{}),cancel:M=>{for(let z=0;z<rv.length;z++)a[rv[z]].cancel(M)},state:i,steps:a}}const{schedule:en,cancel:Yl,state:gr,steps:ME}=O7(typeof requestAnimationFrame<"u"?requestAnimationFrame:ts,!0);let Ov;function Abe(){Ov=void 0}const Xr={now:()=>(Ov===void 0&&Xr.set(gr.isProcessing||So.useManualTiming?gr.timestamp:performance.now()),Ov),set:t=>{Ov=t,queueMicrotask(Abe)}},M7=t=>e=>typeof e=="string"&&e.startsWith(t),L7=M7("--"),Ibe=M7("var(--"),YA=t=>Ibe(t)?jbe.test(t.split("/*")[0].trim()):!1,jbe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function lL(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const nh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Np={...nh,transform:t=>ka(0,1,t)},iv={...nh,default:1},Vm=t=>Math.round(t*1e5)/1e5,QA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kbe(t){return t==null}const Rbe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,JA=(t,e)=>n=>!!(typeof n=="string"&&Rbe.test(n)&&n.startsWith(t)||e&&!kbe(n)&&Object.prototype.hasOwnProperty.call(n,e)),V7=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,l]=r.match(QA);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},Dbe=t=>ka(0,255,t),LE={...nh,transform:t=>Math.round(Dbe(t))},Qc={test:JA("rgb","red"),parse:V7("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+LE.transform(t)+", "+LE.transform(e)+", "+LE.transform(n)+", "+Vm(Np.transform(r))+")"};function Obe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yS={test:JA("#"),parse:Obe,transform:Qc.transform},vg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),yl=vg("deg"),Sa=vg("%"),Be=vg("px"),Mbe=vg("vh"),Lbe=vg("vw"),cL={...Sa,parse:t=>Sa.parse(t)/100,transform:t=>Sa.transform(t*100)},Wd={test:JA("hsl","hue"),parse:V7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Sa.transform(Vm(e))+", "+Sa.transform(Vm(n))+", "+Vm(Np.transform(r))+")"},Fn={test:t=>Qc.test(t)||yS.test(t)||Wd.test(t),parse:t=>Qc.test(t)?Qc.parse(t):Wd.test(t)?Wd.parse(t):yS.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qc.transform(t):Wd.transform(t),getAnimatableNone:t=>{const e=Fn.parse(t);return e.alpha=0,Fn.transform(e)}},Vbe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Fbe(t){return isNaN(t)&&typeof t=="string"&&(t.match(QA)?.length||0)+(t.match(Vbe)?.length||0)>0}const F7="number",B7="color",Bbe="var",zbe="var(",uL="${}",$be=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Pp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace($be,c=>(Fn.test(c)?(r.color.push(s),i.push(B7),n.push(Fn.parse(c))):c.startsWith(zbe)?(r.var.push(s),i.push(Bbe),n.push(c)):(r.number.push(s),i.push(F7),n.push(parseFloat(c))),++s,uL)).split(uL);return{values:n,split:l,indexes:r,types:i}}function z7(t){return Pp(t).values}function $7(t){const{split:e,types:n}=Pp(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const l=n[a];l===F7?s+=Vm(i[a]):l===B7?s+=Fn.transform(i[a]):s+=i[a]}return s}}const Ube=t=>typeof t=="number"?0:Fn.test(t)?Fn.getAnimatableNone(t):t;function qbe(t){const e=z7(t);return $7(t)(e.map(Ube))}const Ql={test:Fbe,parse:z7,createTransformer:$7,getAnimatableNone:qbe};function VE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Hbe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=VE(c,l,t+1/3),s=VE(c,l,t),a=VE(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function mx(t,e){return n=>n>0?e:t}const wn=(t,e,n)=>t+(e-t)*n,FE=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Wbe=[yS,Qc,Wd],Kbe=t=>Wbe.find(e=>e.test(t));function dL(t){const e=Kbe(t);if(!e)return!1;let n=e.parse(t);return e===Wd&&(n=Hbe(n)),n}const fL=(t,e)=>{const n=dL(t),r=dL(e);if(!n||!r)return mx(t,e);const i={...n};return s=>(i.red=FE(n.red,r.red,s),i.green=FE(n.green,r.green,s),i.blue=FE(n.blue,r.blue,s),i.alpha=wn(n.alpha,r.alpha,s),Qc.transform(i))},vS=new Set(["none","hidden"]);function Gbe(t,e){return vS.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Xbe(t,e){return n=>wn(t,e,n)}function ZA(t){return typeof t=="number"?Xbe:typeof t=="string"?YA(t)?mx:Fn.test(t)?fL:Jbe:Array.isArray(t)?U7:typeof t=="object"?Fn.test(t)?fL:Ybe:mx}function U7(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>ZA(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function Ybe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=ZA(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Qbe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],l=t.values[a]??0;n[i]=l,r[s]++}return n}const Jbe=(t,e)=>{const n=Ql.createTransformer(e),r=Pp(t),i=Pp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?vS.has(t)&&!i.values.length||vS.has(e)&&!r.values.length?Gbe(t,e):gg(U7(Qbe(r,i),i.values),n):mx(t,e)};function q7(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wn(t,e,n):ZA(t)(t,e)}const Zbe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>en.update(e,n),stop:()=>Yl(e),now:()=>gr.isProcessing?gr.timestamp:Xr.now()}},H7=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},px=2e4;function e2(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<px;)e+=n,r=t.next(e);return e>=px?1/0:e}function ewe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(e2(r),px);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Zi(i)}}const twe=5;function W7(t,e,n){const r=Math.max(e-twe,0);return C7(n-t(r),e-r)}const Pn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},BE=.001;function nwe({duration:t=Pn.duration,bounce:e=Pn.bounce,velocity:n=Pn.velocity,mass:r=Pn.mass}){let i,s,a=1-e;a=ka(Pn.minDamping,Pn.maxDamping,a),t=ka(Pn.minDuration,Pn.maxDuration,Zi(t)),a<1?(i=d=>{const f=d*a,m=f*t,p=f-n,y=xS(d,a),x=Math.exp(-m);return BE-p/y*x},s=d=>{const m=d*a*t,p=m*n+n,y=Math.pow(a,2)*Math.pow(d,2)*t,x=Math.exp(-m),b=xS(Math.pow(d,2),a);return(-i(d)+BE>0?-1:1)*((p-y)*x)/b}):(i=d=>{const f=Math.exp(-d*t),m=(d-n)*t+1;return-BE+f*m},s=d=>{const f=Math.exp(-d*t),m=(n-d)*(t*t);return f*m});const l=5/t,c=iwe(i,s,l);if(t=Os(t),isNaN(c))return{stiffness:Pn.stiffness,damping:Pn.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const rwe=12;function iwe(t,e,n){let r=n;for(let i=1;i<rwe;i++)r=r-t(r)/e(r);return r}function xS(t,e){return t*Math.sqrt(1-e*e)}const swe=["duration","bounce"],awe=["stiffness","damping","mass"];function hL(t,e){return e.some(n=>t[n]!==void 0)}function owe(t){let e={velocity:Pn.velocity,stiffness:Pn.stiffness,damping:Pn.damping,mass:Pn.mass,isResolvedFromDuration:!1,...t};if(!hL(t,awe)&&hL(t,swe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ka(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Pn.mass,stiffness:i,damping:s}}else{const n=nwe(t);e={...e,...n,mass:Pn.mass},e.isResolvedFromDuration=!0}return e}function gx(t=Pn.visualDuration,e=Pn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:m,velocity:p,isResolvedFromDuration:y}=owe({...n,velocity:-Zi(n.velocity||0)}),x=p||0,b=d/(2*Math.sqrt(c*f)),_=a-s,T=Zi(Math.sqrt(c/f)),L=Math.abs(_)<5;r||(r=L?Pn.restSpeed.granular:Pn.restSpeed.default),i||(i=L?Pn.restDelta.granular:Pn.restDelta.default);let M;if(b<1){const I=xS(T,b);M=j=>{const C=Math.exp(-b*T*j);return a-C*((x+b*T*_)/I*Math.sin(I*j)+_*Math.cos(I*j))}}else if(b===1)M=I=>a-Math.exp(-T*I)*(_+(x+T*_)*I);else{const I=T*Math.sqrt(b*b-1);M=j=>{const C=Math.exp(-b*T*j),S=Math.min(I*j,300);return a-C*((x+b*T*_)*Math.sinh(S)+I*_*Math.cosh(S))/I}}const z={calculatedDuration:y&&m||null,next:I=>{const j=M(I);if(y)l.done=I>=m;else{let C=I===0?x:0;b<1&&(C=I===0?Os(x):W7(M,I,j));const S=Math.abs(C)<=r,D=Math.abs(a-j)<=i;l.done=S&&D}return l.value=l.done?a:j,l},toString:()=>{const I=Math.min(e2(z),px),j=H7(C=>z.next(I*C).value,I,30);return I+"ms "+j},toTransition:()=>{}};return z}gx.applyToOptions=t=>{const e=ewe(t,100,gx);return t.ease=e.ease,t.duration=Os(e.duration),t.type="keyframes",t};function bS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:f}){const m=t[0],p={done:!1,value:m},y=S=>l!==void 0&&S<l||c!==void 0&&S>c,x=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let b=n*e;const _=m+b,T=a===void 0?_:a(_);T!==_&&(b=T-m);const L=S=>-b*Math.exp(-S/r),M=S=>T+L(S),z=S=>{const D=L(S),N=M(S);p.done=Math.abs(D)<=d,p.value=p.done?T:N};let I,j;const C=S=>{y(p.value)&&(I=S,j=gx({keyframes:[p.value,x(p.value)],velocity:W7(M,S,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return C(0),{calculatedDuration:null,next:S=>{let D=!1;return!j&&I===void 0&&(D=!0,z(S),C(S)),I!==void 0&&S>=I?j.next(S-I):(!D&&z(S),p)}}}function lwe(t,e,n){const r=[],i=n||So.mix||q7,s=t.length-1;for(let a=0;a<s;a++){let l=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||ts:e;l=gg(c,l)}r.push(l)}return r}function cwe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(HA(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=lwe(e,r,i),c=l.length,d=f=>{if(a&&f<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const p=Sp(t[m],t[m+1],f);return l[m](p)};return n?f=>d(ka(t[0],t[s-1],f)):d}function uwe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Sp(0,e,r);t.push(wn(n,1,i))}}function dwe(t){const e=[0];return uwe(e,t.length-1),e}function fwe(t,e){return t.map(n=>n*e)}function hwe(t,e){return t.map(()=>e||R7).splice(0,t.length-1)}function Fm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Cbe(r)?r.map(oL):oL(r),s={done:!1,value:e[0]},a=fwe(n&&n.length===e.length?n:dwe(e),t),l=cwe(a,e,{ease:Array.isArray(i)?i:hwe(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const mwe=t=>t!==null;function t2(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(mwe),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const pwe={decay:bS,inertia:bS,tween:Fm,keyframes:Fm,spring:gx};function K7(t){typeof t.type=="string"&&(t.type=pwe[t.type])}class n2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const gwe=t=>t/100;class r2 extends n2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Xr.now()&&this.tick(Xr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;K7(e);const{type:n=Fm,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:l}=e;const c=n||Fm;c!==Fm&&typeof l[0]!="number"&&(this.mixKeyframes=gg(gwe,q7(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=e2(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:p,repeatDelay:y,type:x,onUpdate:b,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-d*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?T<0:T>i;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let M=this.currentTime,z=r;if(m){const S=Math.min(this.currentTime,i)/l;let D=Math.floor(S),N=S%1;!N&&S>=1&&(N=1),N===1&&D--,D=Math.min(D,m+1),D%2&&(p==="reverse"?(N=1-N,y&&(N-=y/l)):p==="mirror"&&(z=a)),M=ka(0,1,N)*l}const I=L?{done:!1,value:f[0]}:z.next(M);s&&(I.value=s(I.value));let{done:j}=I;!L&&c!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return C&&x!==bS&&(I.value=t2(f,this.options,_,this.speed)),b&&b(I.value),C&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return Zi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zi(e)}get time(){return Zi(this.currentTime)}set time(e){e=Os(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Zi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Zbe,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function ywe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Jc=t=>t*180/Math.PI,wS=t=>{const e=Jc(Math.atan2(t[1],t[0]));return _S(e)},vwe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:wS,rotateZ:wS,skewX:t=>Jc(Math.atan(t[1])),skewY:t=>Jc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},_S=t=>(t=t%360,t<0&&(t+=360),t),mL=wS,pL=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),gL=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),xwe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pL,scaleY:gL,scale:t=>(pL(t)+gL(t))/2,rotateX:t=>_S(Jc(Math.atan2(t[6],t[5]))),rotateY:t=>_S(Jc(Math.atan2(-t[2],t[0]))),rotateZ:mL,rotate:mL,skewX:t=>Jc(Math.atan(t[4])),skewY:t=>Jc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function ES(t){return t.includes("scale")?1:0}function CS(t,e){if(!t||t==="none")return ES(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=xwe,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=vwe,i=l}if(!i)return ES(e);const s=r[e],a=i[1].split(",").map(wwe);return typeof s=="function"?s(a):a[s]}const bwe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return CS(n,e)};function wwe(t){return parseFloat(t.trim())}const rh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ih=new Set(rh),yL=t=>t===nh||t===Be,_we=new Set(["x","y","z"]),Ewe=rh.filter(t=>!_we.has(t));function Cwe(t){const e=[];return Ewe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Al={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>CS(e,"x"),y:(t,{transform:e})=>CS(e,"y")};Al.translateX=Al.x;Al.translateY=Al.y;const lu=new Set;let TS=!1,SS=!1,NS=!1;function G7(){if(SS){const t=Array.from(lu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Cwe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}SS=!1,TS=!1,lu.forEach(t=>t.complete(NS)),lu.clear()}function X7(){lu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(SS=!0)})}function Twe(){NS=!0,X7(),G7(),NS=!1}class i2{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(lu.add(this),TS||(TS=!0,en.read(X7),en.resolveKeyframes(G7))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}ywe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),lu.delete(this)}cancel(){this.state==="scheduled"&&(lu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Swe=t=>t.startsWith("--");function Nwe(t,e,n){Swe(e)?t.style.setProperty(e,n):t.style[e]=n}const Pwe=WA(()=>window.ScrollTimeline!==void 0),Awe={};function Iwe(t,e){const n=WA(t);return()=>Awe[e]??n()}const Y7=Iwe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Em=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,vL={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Em([0,.65,.55,1]),circOut:Em([.55,0,1,.45]),backIn:Em([.31,.01,.66,-.59]),backOut:Em([.33,1.53,.69,.99])};function Q7(t,e){if(t)return typeof t=="function"?Y7()?H7(t,e):"ease-out":D7(t)?Em(t):Array.isArray(t)?t.map(n=>Q7(n,e)||vL.easeOut):vL[t]}function jwe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[e]:n};c&&(f.offset=c);const m=Q7(l,i);Array.isArray(m)&&(f.easing=m);const p={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(f,p)}function J7(t){return typeof t=="function"&&"applyToOptions"in t}function kwe({type:t,...e}){return J7(t)&&Y7()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Z7 extends n2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,HA(typeof e.type!="string");const d=kwe(e);this.animation=jwe(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=t2(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):Nwe(n,r,f),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Zi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Zi(e)}get time(){return Zi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Os(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Pwe()?(this.animation.timeline=e,ts):n(this)}}const eq={anticipate:I7,backInOut:A7,circInOut:k7};function Rwe(t){return t in eq}function Dwe(t){typeof t.ease=="string"&&Rwe(t.ease)&&(t.ease=eq[t.ease])}const zE=10;class Owe extends Z7{constructor(e){Dwe(e),K7(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new r2({...a,autoplay:!1}),c=Math.max(zE,Xr.now()-this.startTime),d=ka(0,zE,c-zE);n.setWithVelocity(l.sample(Math.max(0,c-d)).value,l.sample(c).value,d),l.stop()}}const xL=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ql.test(t)||t==="0")&&!t.startsWith("url("));function Mwe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Lwe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=xL(i,e),l=xL(s,e);return!a||!l?!1:Mwe(t)||(n==="spring"||J7(n))&&r}function PS(t){t.duration=0,t.type="keyframes"}const Vwe=new Set(["opacity","clipPath","filter","transform"]),Fwe=WA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Bwe(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Fwe()&&n&&Vwe.has(n)&&(n!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const zwe=40;class $we extends n2{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:d,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Xr.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:d,element:f,...m},y=f?.KeyframeResolver||i2;this.keyframeResolver=new y(l,(x,b,_)=>this.onKeyframesResolved(x,b,p,!_),c,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Xr.now(),Lwe(e,s,a,l)||((So.instantAnimations||!c)&&f?.(t2(e,r,n)),e[0]=e[e.length-1],PS(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>zwe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&Bwe(p),x=p.motionValue?.owner?.current,b=y?new Owe({...p,element:x}):new r2(p);b.finished.then(()=>{this.notifyFinished()}).catch(ts),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Twe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function tq(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:l-s*r}const Uwe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qwe(t){const e=Uwe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function nq(t,e,n=1){const[r,i]=qwe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return w7(a)?parseFloat(a):a}return YA(i)?nq(i,e,n+1):i}const Hwe={type:"spring",stiffness:500,damping:25,restSpeed:10},Wwe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Kwe={type:"keyframes",duration:.8},Gwe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Xwe=(t,{keyframes:e})=>e.length>2?Kwe:ih.has(t)?t.startsWith("scale")?Wwe(e[1]):Hwe:Gwe,Ywe=t=>t!==null;function Qwe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(Ywe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}function rq(t,e){if(t?.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function s2(t,e){const n=t?.[e]??t?.default??t;return n!==t?rq(n,t):n}function Jwe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const a2=(t,e,n,r={},i,s)=>a=>{const l=s2(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Os(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};Jwe(l)||Object.assign(f,Xwe(t,f)),f.duration&&(f.duration=Os(f.duration)),f.repeatDelay&&(f.repeatDelay=Os(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(PS(f),f.delay===0&&(m=!0)),(So.instantAnimations||So.skipAnimations||i?.shouldSkipAnimations)&&(m=!0,PS(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!s&&e.get()!==void 0){const p=Qwe(f.keyframes,l);if(p!==void 0){en.update(()=>{f.onUpdate(p),f.onComplete()});return}}return l.isSync?new r2(f):new $we(f)};function bL(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function o2(t,e,n,r){if(typeof e=="function"){const[i,s]=bL(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=bL(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function of(t,e,n){const r=t.getProps();return o2(r,e,n!==void 0?n:r.custom,t)}const iq=new Set(["width","height","top","left","right","bottom",...rh]),wL=30,Zwe=t=>!isNaN(parseFloat(t));class e1e{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Xr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Zwe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new KA);const r=this.events[e].add(n);return e==="change"?()=>{r(),en.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>wL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,wL);return C7(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mf(t,e){return new e1e(t,e)}const AS=t=>Array.isArray(t);function t1e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Mf(n))}function n1e(t){return AS(t)?t[t.length-1]||0:t}function r1e(t,e){const n=of(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const l=n1e(s[a]);t1e(t,a,l)}}const Lr=t=>!!(t&&t.getVelocity);function i1e(t){return!!(Lr(t)&&t.add)}function IS(t,e){const n=t.getValue("willChange");if(i1e(n))return n.add(e);if(!n&&So.WillChange){const r=new So.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function l2(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const s1e="framerAppearId",sq="data-"+l2(s1e);function aq(t){return t.props[sq]}function a1e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function oq(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s,transitionEnd:a,...l}=e;const c=t.getDefaultTransition();s=s?rq(s,c):c;const d=s?.reduceMotion;r&&(s=r);const f=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const p in l){const y=t.getValue(p,t.latestValues[p]??null),x=l[p];if(x===void 0||m&&a1e(m,p))continue;const b={delay:n,...s2(s||{},p)},_=y.get();if(_!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===_&&!b.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const z=aq(t);if(z){const I=window.MotionHandoffAnimation(z,p,en);I!==null&&(b.startTime=I,T=!0)}}IS(t,p);const L=d??t.shouldReduceMotion;y.start(a2(p,y,x,L&&iq.has(p)?{type:!1}:b,t,T));const M=y.animation;M&&f.push(M)}if(a){const p=()=>en.update(()=>{a&&r1e(t,a)});f.length?Promise.all(f).then(p):p()}return f}function jS(t,e,n={}){const r=of(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(oq(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=i;return o1e(t,e,c,d,f,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function o1e(t,e,n=0,r=0,i=0,s=1,a){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(jS(c,e,{...a,delay:n+(typeof r=="function"?0:r)+tq(t.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function l1e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>jS(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=jS(t,e,n);else{const i=typeof e=="function"?of(t,e,n.custom):e;r=Promise.all(oq(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const c1e={test:t=>t==="auto",parse:t=>t},lq=t=>e=>e.test(t),cq=[nh,Be,Sa,yl,Lbe,Mbe,c1e],_L=t=>cq.find(lq(t));function u1e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||E7(t):!0}const d1e=new Set(["brightness","contrast","saturate","opacity"]);function f1e(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(QA)||[];if(!r)return t;const i=n.replace(r,"");let s=d1e.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const h1e=/\b([a-z-]*)\(.*?\)/gu,kS={...Ql,getAnimatableNone:t=>{const e=t.match(h1e);return e?e.map(f1e).join(" "):t}},EL={...nh,transform:Math.round},m1e={rotate:yl,rotateX:yl,rotateY:yl,rotateZ:yl,scale:iv,scaleX:iv,scaleY:iv,scaleZ:iv,skew:yl,skewX:yl,skewY:yl,distance:Be,translateX:Be,translateY:Be,translateZ:Be,x:Be,y:Be,z:Be,perspective:Be,transformPerspective:Be,opacity:Np,originX:cL,originY:cL,originZ:Be},c2={borderWidth:Be,borderTopWidth:Be,borderRightWidth:Be,borderBottomWidth:Be,borderLeftWidth:Be,borderRadius:Be,borderTopLeftRadius:Be,borderTopRightRadius:Be,borderBottomRightRadius:Be,borderBottomLeftRadius:Be,width:Be,maxWidth:Be,height:Be,maxHeight:Be,top:Be,right:Be,bottom:Be,left:Be,inset:Be,insetBlock:Be,insetBlockStart:Be,insetBlockEnd:Be,insetInline:Be,insetInlineStart:Be,insetInlineEnd:Be,padding:Be,paddingTop:Be,paddingRight:Be,paddingBottom:Be,paddingLeft:Be,paddingBlock:Be,paddingBlockStart:Be,paddingBlockEnd:Be,paddingInline:Be,paddingInlineStart:Be,paddingInlineEnd:Be,margin:Be,marginTop:Be,marginRight:Be,marginBottom:Be,marginLeft:Be,marginBlock:Be,marginBlockStart:Be,marginBlockEnd:Be,marginInline:Be,marginInlineStart:Be,marginInlineEnd:Be,fontSize:Be,backgroundPositionX:Be,backgroundPositionY:Be,...m1e,zIndex:EL,fillOpacity:Np,strokeOpacity:Np,numOctaves:EL},p1e={...c2,color:Fn,backgroundColor:Fn,outlineColor:Fn,fill:Fn,stroke:Fn,borderColor:Fn,borderTopColor:Fn,borderRightColor:Fn,borderBottomColor:Fn,borderLeftColor:Fn,filter:kS,WebkitFilter:kS},uq=t=>p1e[t];function dq(t,e){let n=uq(t);return n!==kS&&(n=Ql),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const g1e=new Set(["auto","none","0"]);function y1e(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!g1e.has(s)&&Pp(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=dq(n,i)}class v1e extends i2{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),YA(m))){const p=nq(m,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!iq.has(r)||e.length!==2)return;const[i,s]=e,a=_L(i),l=_L(s),c=lL(i),d=lL(s);if(c!==d&&Al[r]){this.needsMeasurement=!0;return}if(a!==l)if(yL(a)&&yL(l))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else Al[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||u1e(e[i]))&&r.push(i);r.length&&y1e(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Al[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Al[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const x1e=new Set(["opacity","clipPath","filter","transform"]);function fq(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const hq=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function RS(t){return _7(t)&&"offsetHeight"in t}const{schedule:u2}=O7(queueMicrotask,!1),_s={x:!1,y:!1};function mq(){return _s.x||_s.y}function b1e(t){return t==="x"||t==="y"?_s[t]?null:(_s[t]=!0,()=>{_s[t]=!1}):_s.x||_s.y?null:(_s.x=_s.y=!0,()=>{_s.x=_s.y=!1})}function pq(t,e){const n=fq(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function w1e(t){return!(t.pointerType==="touch"||mq())}function _1e(t,e,n={}){const[r,i,s]=pq(t,n);return r.forEach(a=>{let l=!1,c=!1,d;const f=()=>{a.removeEventListener("pointerleave",x)},m=_=>{d&&(d(_),d=void 0),f()},p=_=>{l=!1,window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",p),c&&(c=!1,m(_))},y=()=>{l=!0,window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",p,i)},x=_=>{if(_.pointerType!=="touch"){if(l){c=!0;return}m(_)}},b=_=>{if(!w1e(_))return;c=!1;const T=e(a,_);typeof T=="function"&&(d=T,a.addEventListener("pointerleave",x,i))};a.addEventListener("pointerenter",b,i),a.addEventListener("pointerdown",y,i)}),s}const gq=(t,e)=>e?t===e?!0:gq(t,e.parentElement):!1,d2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,E1e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C1e(t){return E1e.has(t.tagName)||t.isContentEditable===!0}const T1e=new Set(["INPUT","SELECT","TEXTAREA"]);function S1e(t){return T1e.has(t.tagName)||t.isContentEditable===!0}const Mv=new WeakSet;function CL(t){return e=>{e.key==="Enter"&&t(e)}}function $E(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const N1e=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=CL(()=>{if(Mv.has(n))return;$E(n,"down");const i=CL(()=>{$E(n,"up")}),s=()=>$E(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function TL(t){return d2(t)&&!mq()}const SL=new WeakSet;function P1e(t,e,n={}){const[r,i,s]=pq(t,n),a=l=>{const c=l.currentTarget;if(!TL(l)||SL.has(l))return;Mv.add(c),n.stopPropagation&&SL.add(l);const d=e(c,l),f=(y,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),Mv.has(c)&&Mv.delete(c),TL(y)&&typeof d=="function"&&d(y,{success:x})},m=y=>{f(y,c===window||c===document||n.useGlobalTarget||gq(c,y.target))},p=y=>{f(y,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",p,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),RS(l)&&(l.addEventListener("focus",d=>N1e(d,i)),!C1e(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function f2(t){return _7(t)&&"ownerSVGElement"in t}const Lv=new WeakMap;let Vv;const yq=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:f2(r)&&"getBBox"in r?r.getBBox()[e]:r[n],A1e=yq("inline","width","offsetWidth"),I1e=yq("block","height","offsetHeight");function j1e({target:t,borderBoxSize:e}){Lv.get(t)?.forEach(n=>{n(t,{get width(){return A1e(t,e)},get height(){return I1e(t,e)}})})}function k1e(t){t.forEach(j1e)}function R1e(){typeof ResizeObserver>"u"||(Vv=new ResizeObserver(k1e))}function D1e(t,e){Vv||R1e();const n=fq(t);return n.forEach(r=>{let i=Lv.get(r);i||(i=new Set,Lv.set(r,i)),i.add(e),Vv?.observe(r)}),()=>{n.forEach(r=>{const i=Lv.get(r);i?.delete(e),i?.size||Vv?.unobserve(r)})}}const Fv=new Set;let Kd;function O1e(){Kd=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Fv.forEach(e=>e(t))},window.addEventListener("resize",Kd)}function M1e(t){return Fv.add(t),Kd||O1e(),()=>{Fv.delete(t),!Fv.size&&typeof Kd=="function"&&(window.removeEventListener("resize",Kd),Kd=void 0)}}function NL(t,e){return typeof t=="function"?M1e(t):D1e(t,e)}function L1e(t){return f2(t)&&t.tagName==="svg"}const V1e=[...cq,Fn,Ql],F1e=t=>V1e.find(lq(t)),PL=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gd=()=>({x:PL(),y:PL()}),AL=()=>({min:0,max:0}),Hn=()=>({x:AL(),y:AL()}),B1e=new WeakMap;function Zb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ap(t){return typeof t=="string"||Array.isArray(t)}const h2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],m2=["initial",...h2];function ew(t){return Zb(t.animate)||m2.some(e=>Ap(t[e]))}function vq(t){return!!(ew(t)||t.variants)}function z1e(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Lr(i))t.addValue(r,i);else if(Lr(s))t.addValue(r,Mf(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Mf(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const DS={current:null},xq={current:!1},$1e=typeof window<"u";function U1e(){if(xq.current=!0,!!$1e)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>DS.current=t.matches;t.addEventListener("change",e),e()}else DS.current=!1}const IL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let yx={};function bq(t){yx=t}function q1e(){return yx}class H1e{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=i2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Xr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,en.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=ew(n),this.isVariantNode=vq(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const x=p[y];d[y]!==void 0&&Lr(x)&&x.set(d[y])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,B1e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(xq.current||U1e(),this.shouldReduceMotion=DS.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Yl(this.notifyUpdate),Yl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&x1e.has(e)&&this.current instanceof HTMLElement){const{factory:a,keyframes:l,times:c,ease:d,duration:f}=n.accelerate,m=new Z7({element:this.current,name:e,keyframes:l,times:c,ease:d,duration:Os(f)}),p=a(m);this.valueSubscriptions.set(e,()=>{p(),m.cancel()});return}const r=ih.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&en.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yx){const n=yx[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<IL.length;r++){const i=IL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=z1e(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Mf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(w7(r)||E7(r))?r=parseFloat(r):!F1e(r)&&Ql.test(n)&&(r=dq(e,n)),this.setBaseTarget(e,Lr(r)?r.get():r)),Lr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=o2(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Lr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new KA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){u2.render(this.render)}}class wq extends H1e{constructor(){super(...arguments),this.KeyframeResolver=v1e}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Lr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ic{constructor(e){this.isMounted=!1,this.node=e}update(){}}function _q({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function W1e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function K1e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function UE(t){return t===void 0||t===1}function OS({scale:t,scaleX:e,scaleY:n}){return!UE(t)||!UE(e)||!UE(n)}function Bc(t){return OS(t)||Eq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Eq(t){return jL(t.x)||jL(t.y)}function jL(t){return t&&t!=="0%"}function vx(t,e,n){const r=t-n,i=e*r;return n+i}function kL(t,e,n,r,i){return i!==void 0&&(t=vx(t,i,r)),vx(t,n,r)+e}function MS(t,e=0,n=1,r,i){t.min=kL(t.min,e,n,r,i),t.max=kL(t.max,e,n,r,i)}function Cq(t,{x:e,y:n}){MS(t.x,e.translate,e.scale,e.originPoint),MS(t.y,n.translate,n.scale,n.originPoint)}const RL=.999999999999,DL=1.0000000000001;function G1e(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=n[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Yd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,Cq(t,a)),r&&Bc(s.latestValues)&&Yd(t,s.latestValues))}e.x<DL&&e.x>RL&&(e.x=1),e.y<DL&&e.y>RL&&(e.y=1)}function Xd(t,e){t.min=t.min+e,t.max=t.max+e}function OL(t,e,n,r,i=.5){const s=wn(t.min,t.max,i);MS(t,e,n,s,r)}function Yd(t,e){OL(t.x,e.x,e.scaleX,e.scale,e.originX),OL(t.y,e.y,e.scaleY,e.scale,e.originY)}function Tq(t,e){return _q(K1e(t.getBoundingClientRect(),e))}function X1e(t,e,n){const r=Tq(t,n),{scroll:i}=e;return i&&(Xd(r.x,i.offset.x),Xd(r.y,i.offset.y)),r}const Y1e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Q1e=rh.length;function J1e(t,e,n){let r="",i=!0;for(let s=0;s<Q1e;s++){const a=rh[s],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(a.startsWith("scale")?1:0);else{const d=parseFloat(l);c=a.startsWith("scale")?d===1:d===0}if(!c||n){const d=hq(l,c2[a]);if(!c){i=!1;const f=Y1e[a]||a;r+=`${f}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function p2(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,l=!1;for(const c in e){const d=e[c];if(ih.has(c)){a=!0;continue}else if(L7(c)){i[c]=d;continue}else{const f=hq(d,c2[c]);c.startsWith("origin")?(l=!0,s[c]=f):r[c]=f}}if(e.transform||(a||n?r.transform=J1e(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${c} ${d} ${f}`}}function Sq(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function ML(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Be.test(t))t=parseFloat(t);else return t;const n=ML(t,e.target.x),r=ML(t,e.target.y);return`${n}% ${r}%`}},Z1e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ql.parse(t);if(i.length>5)return r;const s=Ql.createTransformer(t),a=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=l,i[1+a]/=c;const d=wn(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),s(i)}},LS={borderRadius:{...dm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dm,borderTopRightRadius:dm,borderBottomLeftRadius:dm,borderBottomRightRadius:dm,boxShadow:Z1e};function Nq(t,{layout:e,layoutId:n}){return ih.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!LS[t]||t==="opacity")}function g2(t,e,n){const r=t.style,i=e?.style,s={};if(!r)return s;for(const a in r)(Lr(r[a])||i&&Lr(i[a])||Nq(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}function e_e(t){return window.getComputedStyle(t)}class t_e extends wq{constructor(){super(...arguments),this.type="html",this.renderInstance=Sq}readValueFromInstance(e,n){if(ih.has(n))return this.projection?.isProjecting?ES(n):bwe(e,n);{const r=e_e(e),i=(L7(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Tq(e,n)}build(e,n,r){p2(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return g2(e,n,r)}}const n_e={offset:"stroke-dashoffset",array:"stroke-dasharray"},r_e={offset:"strokeDashoffset",array:"strokeDasharray"};function i_e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?n_e:r_e;t[s.offset]=`${-r}`,t[s.array]=`${e} ${n}`}const s_e=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Pq(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,d,f){if(p2(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=f?.transformBox??"fill-box",delete m.transformBox);for(const y of s_e)m[y]!==void 0&&(p[y]=m[y],delete m[y]);e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&i_e(m,i,s,a,!1)}const Aq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Iq=t=>typeof t=="string"&&t.toLowerCase()==="svg";function a_e(t,e,n,r){Sq(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Aq.has(i)?i:l2(i),e.attrs[i])}function jq(t,e,n){const r=g2(t,e,n);for(const i in t)if(Lr(t[i])||Lr(e[i])){const s=rh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}class o_e extends wq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ih.has(n)){const r=uq(n);return r&&r.default||0}return n=Aq.has(n)?n:l2(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return jq(e,n,r)}build(e,n,r){Pq(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){a_e(e,n,r,i)}mount(e){this.isSVGTag=Iq(e.tagName),super.mount(e)}}const l_e=m2.length;function kq(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?kq(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<l_e;n++){const r=m2[n],i=t.props[r];(Ap(i)||i===!1)&&(e[r]=i)}return e}function Rq(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const c_e=[...h2].reverse(),u_e=h2.length;function d_e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>l1e(t,n,r)))}function f_e(t){let e=d_e(t),n=LL(),r=!0;const i=c=>(d,f)=>{const m=of(t,f,c==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:p,transitionEnd:y,...x}=m;d={...d,...x,...y}}return d};function s(c){e=c(t)}function a(c){const{props:d}=t,f=kq(t.parent)||{},m=[],p=new Set;let y={},x=1/0;for(let _=0;_<u_e;_++){const T=c_e[_],L=n[T],M=d[T]!==void 0?d[T]:f[T],z=Ap(M),I=T===c?L.isActive:null;I===!1&&(x=_);let j=M===f[T]&&M!==d[T]&&z;if(j&&r&&t.manuallyAnimateOnMount&&(j=!1),L.protectedKeys={...y},!L.isActive&&I===null||!M&&!L.prevProp||Zb(M)||typeof M=="boolean")continue;if(T==="exit"&&L.isActive&&I!==!0){L.prevResolvedValues&&(y={...y,...L.prevResolvedValues});continue}const C=h_e(L.prevProp,M);let S=C||T===c&&L.isActive&&!j&&z||_>x&&z,D=!1;const N=Array.isArray(M)?M:[M];let k=N.reduce(i(T),{});I===!1&&(k={});const{prevResolvedValues:O={}}=L,A={...O,...k},W=V=>{S=!0,p.has(V)&&(D=!0,p.delete(V)),L.needsAnimating[V]=!0;const G=t.getValue(V);G&&(G.liveStyle=!1)};for(const V in A){const G=k[V],q=O[V];if(y.hasOwnProperty(V))continue;let R=!1;AS(G)&&AS(q)?R=!Rq(G,q):R=G!==q,R?G!=null?W(V):p.add(V):G!==void 0&&p.has(V)?W(V):L.protectedKeys[V]=!0}L.prevProp=M,L.prevResolvedValues=k,L.isActive&&(y={...y,...k}),r&&t.blockInitialAnimation&&(S=!1);const Y=j&&C;S&&(!Y||D)&&m.push(...N.map(V=>{const G={type:T};if(typeof V=="string"&&r&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:q}=t,R=of(q,V);if(q.enteringChildren&&R){const{delayChildren:$}=R.transition||{};G.delay=tq(q.enteringChildren,t,$)}}return{animation:V,options:G}}))}if(p.size){const _={};if(typeof d.initial!="boolean"){const T=of(t,Array.isArray(d.initial)?d.initial[0]:d.initial);T&&T.transition&&(_.transition=T.transition)}p.forEach(T=>{const L=t.getBaseTarget(T),M=t.getValue(T);M&&(M.liveStyle=!0),_[T]=L??null}),m.push({animation:_})}let b=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(m):Promise.resolve()}function l(c,d){if(n[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(c,d)),n[c].isActive=d;const f=a(c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=LL()}}}function h_e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Rq(e,t):!1}function kc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function LL(){return{animate:kc(!0),whileInView:kc(),whileHover:kc(),whileTap:kc(),whileDrag:kc(),whileFocus:kc(),exit:kc()}}function VL(t,e){t.min=e.min,t.max=e.max}function ws(t,e){VL(t.x,e.x),VL(t.y,e.y)}function FL(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Dq=1e-4,m_e=1-Dq,p_e=1+Dq,Oq=.01,g_e=0-Oq,y_e=0+Oq;function Yr(t){return t.max-t.min}function v_e(t,e,n){return Math.abs(t-e)<=n}function BL(t,e,n,r=.5){t.origin=r,t.originPoint=wn(e.min,e.max,t.origin),t.scale=Yr(n)/Yr(e),t.translate=wn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=m_e&&t.scale<=p_e||isNaN(t.scale))&&(t.scale=1),(t.translate>=g_e&&t.translate<=y_e||isNaN(t.translate))&&(t.translate=0)}function Bm(t,e,n,r){BL(t.x,e.x,n.x,r?r.originX:void 0),BL(t.y,e.y,n.y,r?r.originY:void 0)}function zL(t,e,n){t.min=n.min+e.min,t.max=t.min+Yr(e)}function x_e(t,e,n){zL(t.x,e.x,n.x),zL(t.y,e.y,n.y)}function $L(t,e,n){t.min=e.min-n.min,t.max=t.min+Yr(e)}function xx(t,e,n){$L(t.x,e.x,n.x),$L(t.y,e.y,n.y)}function UL(t,e,n,r,i){return t-=e,t=vx(t,1/n,r),i!==void 0&&(t=vx(t,1/i,r)),t}function b_e(t,e=0,n=1,r=.5,i,s=t,a=t){if(Sa.test(e)&&(e=parseFloat(e),e=wn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=wn(s.min,s.max,r);t===s&&(l-=e),t.min=UL(t.min,e,n,l,i),t.max=UL(t.max,e,n,l,i)}function qL(t,e,[n,r,i],s,a){b_e(t,e[n],e[r],e[i],e.scale,s,a)}const w_e=["x","scaleX","originX"],__e=["y","scaleY","originY"];function HL(t,e,n,r){qL(t.x,e,w_e,n?n.x:void 0,r?r.x:void 0),qL(t.y,e,__e,n?n.y:void 0,r?r.y:void 0)}function WL(t){return t.translate===0&&t.scale===1}function Mq(t){return WL(t.x)&&WL(t.y)}function KL(t,e){return t.min===e.min&&t.max===e.max}function E_e(t,e){return KL(t.x,e.x)&&KL(t.y,e.y)}function GL(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Lq(t,e){return GL(t.x,e.x)&&GL(t.y,e.y)}function XL(t){return Yr(t.x)/Yr(t.y)}function YL(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ha(t){return[t("x"),t("y")]}function C_e(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:p,skewX:y,skewY:x}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const Vq=["TopLeft","TopRight","BottomLeft","BottomRight"],T_e=Vq.length,QL=t=>typeof t=="string"?parseFloat(t):t,JL=t=>typeof t=="number"||Be.test(t);function S_e(t,e,n,r,i,s){i?(t.opacity=wn(0,n.opacity??1,N_e(r)),t.opacityExit=wn(e.opacity??1,0,P_e(r))):s&&(t.opacity=wn(e.opacity??1,n.opacity??1,r));for(let a=0;a<T_e;a++){const l=`border${Vq[a]}Radius`;let c=ZL(e,l),d=ZL(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||JL(c)===JL(d)?(t[l]=Math.max(wn(QL(c),QL(d),r),0),(Sa.test(d)||Sa.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=wn(e.rotate||0,n.rotate||0,r))}function ZL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const N_e=Fq(0,.5,j7),P_e=Fq(.5,.95,ts);function Fq(t,e,n){return r=>r<t?0:r>e?1:n(Sp(t,e,r))}function A_e(t,e,n){const r=Lr(t)?t:Mf(t);return r.start(a2("",r,e,n)),r.animation}function Ip(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const I_e=(t,e)=>t.depth-e.depth;class j_e{constructor(){this.children=[],this.isDirty=!1}add(e){qA(this.children,e),this.isDirty=!0}remove(e){hx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(I_e),this.isDirty=!1,this.children.forEach(e)}}function k_e(t,e){const n=Xr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Yl(r),t(s-e))};return en.setup(r,!0),()=>Yl(r)}function Bv(t){return Lr(t)?t.get():t}class R_e{constructor(){this.members=[]}add(e){qA(this.members,e);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===e||r===this.lead||r===this.prevLead)continue;const i=r.instance;i&&i.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&hx(this.members,r)}e.scheduleRender()}remove(e){if(hx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i],a=s.instance;if(s.isPresent!==!1&&(!a||a.isConnected!==!1)){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;if(!(i!==void 0&&s!==void 0&&i===s)){const c=r.instance;c&&c.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:l}=e.options;l===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const zv={hasAnimatedSinceResize:!0,hasEverUpdated:!1},qE=["","X","Y","Z"],D_e=1e3;let O_e=0;function HE(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Bq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=aq(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",en,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Bq(r)}function zq({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e?.()){this.id=O_e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(V_e),this.nodes.forEach($_e),this.nodes.forEach(U_e),this.nodes.forEach(F_e)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new j_e)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new KA),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=f2(a)&&!L1e(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,m=0;const p=()=>this.root.updateBlockedByResize=!1;en.read(()=>{m=window.innerWidth}),t(a,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,f&&f(),f=k_e(p,250),zv.hasAnimatedSinceResize&&(zv.hasAnimatedSinceResize=!1,this.nodes.forEach(n3)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||G_e,{onLayoutAnimationStart:b,onLayoutAnimationComplete:_}=d.getProps(),T=!this.targetLayout||!Lq(this.targetLayout,y),L=!m&&p;if(this.options.layoutRoot||this.resumeFrom||L||m&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const M={...s2(x,"layout"),onPlay:b,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M),this.setAnimationOrigin(f,L)}else m||n3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Yl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(q_e),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Bq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(e3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(t3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(z_e),this.nodes.forEach(M_e),this.nodes.forEach(L_e)):this.nodes.forEach(t3),this.clearAllSnapshots();const l=Xr.now();gr.delta=ka(0,1e3/60,l-gr.timestamp),gr.timestamp=l,gr.isProcessing=!0,ME.update.process(gr),ME.preRender.process(gr),ME.render.process(gr),gr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,u2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(B_e),this.sharedNodes.forEach(H_e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,en.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){en.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Yr(this.snapshot.measuredBox.x)&&!Yr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Mq(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(l||Bc(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),X_e(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Hn();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Y_e))){const{scroll:d}=this.root;d&&(Xd(l.x,d.offset.x),Xd(l.y,d.offset.y))}return l}removeElementScroll(a){const l=Hn();if(ws(l,a),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&ws(l,a),Xd(l.x,f.offset.x),Xd(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=Hn();ws(c,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Yd(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Bc(f.latestValues)&&Yd(c,f.latestValues)}return Bc(this.latestValues)&&Yd(c,this.latestValues),c}removeTransform(a){const l=Hn();ws(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Bc(d.latestValues))continue;OS(d.latestValues)&&d.updateSnapshot();const f=Hn(),m=d.measurePageBox();ws(f,m),HL(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Bc(this.latestValues)&&HL(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!this.layout||!(f||m))return;this.resolvedRelativeTargetAt=gr.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x_e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ws(this.target,this.layout.layoutBox),Cq(this.target,this.targetDelta)):ws(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||OS(this.parent.latestValues)||Eq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,l,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),xx(this.relativeTargetOrigin,l,c),ws(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===gr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ws(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;G1e(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Hn());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(FL(this.prevProjectionDelta.x,this.projectionDelta.x),FL(this.prevProjectionDelta.y,this.projectionDelta.y)),Bm(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!YL(this.projectionDelta.x,this.prevProjectionDelta.x)||!YL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gd(),this.projectionDelta=Gd(),this.projectionDeltaWithTransform=Gd()}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},m=Gd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Hn(),y=c?c.source:void 0,x=this.layout?this.layout.source:void 0,b=y!==x,_=this.getStack(),T=!_||_.members.length<=1,L=!!(b&&!T&&this.options.crossfade===!0&&!this.path.some(K_e));this.animationProgress=0;let M;this.mixTargetDelta=z=>{const I=z/1e3;r3(m.x,a.x,I),r3(m.y,a.y,I),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xx(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),W_e(this.relativeTarget,this.relativeTargetOrigin,p,I),M&&E_e(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=Hn()),ws(M,this.relativeTarget)),b&&(this.animationValues=f,S_e(f,d,this.latestValues,I,L,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Yl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=en.update(()=>{zv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Mf(0)),this.currentAnimation=A_e(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(D_e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&$q(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Hn();const m=Yr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+m;const p=Yr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}ws(l,c),Yd(l,f),Bm(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new R_e),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&HE("z",a,d,this.animationValues);for(let f=0;f<qE.length;f++)HE(`rotate${qE[f]}`,a,d,this.animationValues),HE(`skew${qE[f]}`,a,d,this.animationValues);a.render();for(const f in d)a.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Bv(l?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Bv(l?.pointerEvents)||""),this.hasProjected&&!Bc(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=C_e(this.projectionDeltaWithTransform,this.treeScale,f);c&&(m=c(f,m)),a.transform=m;const{x:p,y}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,d.animationValues?a.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in LS){if(f[x]===void 0)continue;const{correct:b,applyTo:_,isCSSVariable:T}=LS[x],L=m==="none"?f[x]:b(f[x],d);if(_){const M=_.length;for(let z=0;z<M;z++)a[_[z]]=L}else T?this.options.visualElement.renderState.vars[x]=L:a[x]=L}this.options.layoutId&&(a.pointerEvents=d===this?Bv(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(e3),this.root.sharedNodes.clear()}}}function M_e(t){t.updateLayout()}function L_e(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?ha(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],p=Yr(m);m.min=n[f].min,m.max=m.min+p}):$q(i,e.layoutBox,n)&&ha(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],p=Yr(n[f]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=Gd();Bm(a,n,e.layoutBox);const l=Gd();s?Bm(l,t.applyTransform(r,!0),e.measuredBox):Bm(l,n,e.layoutBox);const c=!Mq(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const y=Hn();xx(y,e.layoutBox,m.layoutBox);const x=Hn();xx(x,n,p.layoutBox),Lq(y,x)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function V_e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function F_e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function B_e(t){t.clearSnapshot()}function e3(t){t.clearMeasurements()}function t3(t){t.isLayoutDirty=!1}function z_e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function n3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $_e(t){t.resolveTargetDelta()}function U_e(t){t.calcProjection()}function q_e(t){t.resetSkewAndRotation()}function H_e(t){t.removeLeadSnapshot()}function r3(t,e,n){t.translate=wn(e.translate,0,n),t.scale=wn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function i3(t,e,n,r){t.min=wn(e.min,n.min,r),t.max=wn(e.max,n.max,r)}function W_e(t,e,n,r){i3(t.x,e.x,n.x,r),i3(t.y,e.y,n.y,r)}function K_e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const G_e={duration:.45,ease:[.4,0,.1,1]},s3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),a3=s3("applewebkit/")&&!s3("chrome/")?Math.round:ts;function o3(t){t.min=a3(t.min),t.max=a3(t.max)}function X_e(t){o3(t.x),o3(t.y)}function $q(t,e,n){return t==="position"||t==="preserve-aspect"&&!v_e(XL(e),XL(n),.2)}function Y_e(t){return t!==t.root&&t.scroll?.wasRoot}const Q_e=zq({attachResizeListener:(t,e)=>Ip(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),WE={current:void 0},Uq=zq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!WE.current){const t=new Q_e({});t.mount(window),t.setOptions({layoutScroll:!0}),WE.current=t}return WE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),y2=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function l3(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function J_e(...t){return e=>{let n=!1;const r=t.map(i=>{const s=l3(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():l3(t[i],null)}}}}function Z_e(...t){return E.useCallback(J_e(...t),t)}class eEe extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=RS(r)&&r.offsetWidth||0,s=RS(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function tEe({children:t,isPresent:e,anchorX:n,anchorY:r,root:i,pop:s}){const a=E.useId(),l=E.useRef(null),c=E.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=E.useContext(y2),f=t.props?.ref??t?.ref,m=Z_e(l,f);return E.useInsertionEffect(()=>{const{width:p,height:y,top:x,left:b,right:_,bottom:T}=c.current;if(e||s===!1||!l.current||!p||!y)return;const L=n==="left"?`left: ${b}`:`right: ${_}`,M=r==="bottom"?`bottom: ${T}`:`top: ${x}`;l.current.dataset.motionPopId=a;const z=document.createElement("style");d&&(z.nonce=d);const I=i??document.head;return I.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${L}px !important;
            ${M}px !important;
          }
        `),()=>{I.contains(z)&&I.removeChild(z)}},[e]),o.jsx(eEe,{isPresent:e,childRef:l,sizeRef:c,pop:s,children:s===!1?t:E.cloneElement(t,{ref:m})})}const nEe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,anchorY:c,root:d})=>{const f=UA(rEe),m=E.useId();let p=!0,y=E.useMemo(()=>(p=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:x=>{f.set(x,!0);for(const b of f.values())if(!b)return;r&&r()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,r]);return s&&p&&(y={...y}),E.useMemo(()=>{f.forEach((x,b)=>f.set(b,!1))},[n]),E.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),t=o.jsx(tEe,{pop:a==="popLayout",isPresent:n,anchorX:l,anchorY:c,root:d,children:t}),o.jsx(Jb.Provider,{value:y,children:t})};function rEe(){return new Map}function qq(t=!0){const e=E.useContext(Jb);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=E.useId();E.useEffect(()=>{if(t)return i(s)},[t]);const a=E.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const sv=t=>t.key||"";function c3(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const v2=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",anchorY:c="top",root:d})=>{const[f,m]=qq(a),p=E.useMemo(()=>c3(t),[t]),y=a&&!f?[]:p.map(sv),x=E.useRef(!0),b=E.useRef(p),_=UA(()=>new Map),T=E.useRef(new Set),[L,M]=E.useState(p),[z,I]=E.useState(p);b7(()=>{x.current=!1,b.current=p;for(let S=0;S<z.length;S++){const D=sv(z[S]);y.includes(D)?(_.delete(D),T.current.delete(D)):_.get(D)!==!0&&_.set(D,!1)}},[z,y.length,y.join("-")]);const j=[];if(p!==L){let S=[...p];for(let D=0;D<z.length;D++){const N=z[D],k=sv(N);y.includes(k)||(S.splice(D,0,N),j.push(N))}return s==="wait"&&j.length&&(S=j),I(c3(S)),M(p),null}const{forceRender:C}=E.useContext($A);return o.jsx(o.Fragment,{children:z.map(S=>{const D=sv(S),N=a&&!f?!1:p===z||y.includes(D),k=()=>{if(T.current.has(D))return;if(T.current.add(D),_.has(D))_.set(D,!0);else return;let O=!0;_.forEach(A=>{A||(O=!1)}),O&&(C?.(),I(b.current),a&&m?.(),r&&r())};return o.jsx(nEe,{isPresent:N,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:d,onExitComplete:N?void 0:k,anchorX:l,anchorY:c,children:S},D)})})},Hq=E.createContext({strict:!1}),u3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let d3=!1;function iEe(){if(d3)return;const t={};for(const e in u3)t[e]={isEnabled:n=>u3[e].some(r=>!!n[r])};bq(t),d3=!0}function Wq(){return iEe(),q1e()}function sEe(t){const e=Wq();for(const n in t)e[n]={...e[n],...t[n]};bq(e)}const aEe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function bx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||aEe.has(t)}let Kq=t=>!bx(t);function oEe(t){typeof t=="function"&&(Kq=e=>e.startsWith("on")?!bx(e):t(e))}try{oEe(require("@emotion/is-prop-valid").default)}catch{}function lEe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Kq(i)||n===!0&&bx(i)||!e&&!bx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const tw=E.createContext({});function cEe(t,e){if(ew(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ap(n)?n:void 0,animate:Ap(r)?r:void 0}}return t.inherit!==!1?e:{}}function uEe(t){const{initial:e,animate:n}=cEe(t,E.useContext(tw));return E.useMemo(()=>({initial:e,animate:n}),[f3(e),f3(n)])}function f3(t){return Array.isArray(t)?t.join(" "):t}const x2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Gq(t,e,n){for(const r in e)!Lr(e[r])&&!Nq(r,n)&&(t[r]=e[r])}function dEe({transformTemplate:t},e){return E.useMemo(()=>{const n=x2();return p2(n,e,t),Object.assign({},n.vars,n.style)},[e])}function fEe(t,e){const n=t.style||{},r={};return Gq(r,n,t),Object.assign(r,dEe(t,e)),r}function hEe(t,e){const n={},r=fEe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Xq=()=>({...x2(),attrs:{}});function mEe(t,e,n,r){const i=E.useMemo(()=>{const s=Xq();return Pq(s,e,Iq(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Gq(s,t.style,t),i.style={...s,...i.style}}return i}const pEe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function b2(t){return typeof t!="string"||t.includes("-")?!1:!!(pEe.indexOf(t)>-1||/[A-Z]/u.test(t))}function gEe(t,e,n,{latestValues:r},i,s=!1,a){const c=(a??b2(t)?mEe:hEe)(e,r,i,t),d=lEe(e,typeof t=="string",s),f=t!==E.Fragment?{...d,...c,ref:n}:{},{children:m}=e,p=E.useMemo(()=>Lr(m)?m.get():m,[m]);return E.createElement(t,{...f,children:p})}function yEe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:vEe(n,r,i,t),renderState:e()}}function vEe(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Bv(s[p]);let{initial:a,animate:l}=t;const c=ew(t),d=vq(t);e&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const m=f?l:a;if(m&&typeof m!="boolean"&&!Zb(m)){const p=Array.isArray(m)?m:[m];for(let y=0;y<p.length;y++){const x=o2(t,p[y]);if(x){const{transitionEnd:b,transition:_,...T}=x;for(const L in T){let M=T[L];if(Array.isArray(M)){const z=f?M.length-1:0;M=M[z]}M!==null&&(i[L]=M)}for(const L in b)i[L]=b[L]}}}return i}const Yq=t=>(e,n)=>{const r=E.useContext(tw),i=E.useContext(Jb),s=()=>yEe(t,e,r,i);return n?s():UA(s)},xEe=Yq({scrapeMotionValuesFromProps:g2,createRenderState:x2}),bEe=Yq({scrapeMotionValuesFromProps:jq,createRenderState:Xq}),wEe=Symbol.for("motionComponentSymbol");function _Ee(t,e,n){const r=E.useRef(n);E.useInsertionEffect(()=>{r.current=n});const i=E.useRef(null);return E.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const a=r.current;if(typeof a=="function")if(s){const l=a(s);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[e])}const Qq=E.createContext({});function zd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function EEe(t,e,n,r,i,s){const{visualElement:a}=E.useContext(tw),l=E.useContext(Hq),c=E.useContext(Jb),d=E.useContext(y2),f=d.reducedMotion,m=d.skipAnimations,p=E.useRef(null),y=E.useRef(!1);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f,skipAnimations:m,isSVG:s}),y.current&&p.current&&(p.current.manuallyAnimateOnMount=!0));const x=p.current,b=E.useContext(Qq);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&CEe(p.current,n,i,b);const _=E.useRef(!1);E.useInsertionEffect(()=>{x&&_.current&&x.update(n,c)});const T=n[sq],L=E.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return b7(()=>{y.current=!0,x&&(_.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),L.current&&x.animationState&&x.animationState.animateChanges())}),E.useEffect(()=>{x&&(!L.current&&x.animationState&&x.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),L.current=!1),x.enteringChildren=void 0)}),x}function CEe(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Jq(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&zd(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:d})}function Jq(t){if(t)return t.options.allowProjection!==!1?t.projection:Jq(t.parent)}function KE(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&sEe(r);const s=n?n==="svg":b2(t),a=s?bEe:xEe;function l(d,f){let m;const p={...E.useContext(y2),...d,layoutId:TEe(d)},{isStatic:y}=p,x=uEe(d),b=a(d,y);if(!y&&x7){SEe();const _=NEe(p);m=_.MeasureLayout,x.visualElement=EEe(t,b,p,i,_.ProjectionNode,s)}return o.jsxs(tw.Provider,{value:x,children:[m&&x.visualElement?o.jsx(m,{visualElement:x.visualElement,...p}):null,gEe(t,d,_Ee(b,x.visualElement,f),b,y,e,s)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=E.forwardRef(l);return c[wEe]=t,c}function TEe({layoutId:t}){const e=E.useContext($A).id;return e&&t!==void 0?e+"-"+t:t}function SEe(t,e){E.useContext(Hq).strict}function NEe(t){const e=Wq(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function PEe(t,e){if(typeof Proxy>"u")return KE;const n=new Map,r=(s,a)=>KE(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,KE(a,void 0,t,e)),n.get(a))})}const AEe=(t,e)=>e.isSVG??b2(t)?new o_e(e):new t_e(e,{allowProjection:t!==E.Fragment});class IEe extends ic{constructor(e){super(e),e.animationState||(e.animationState=f_e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Zb(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let jEe=0;class kEe extends ic{constructor(){super(...arguments),this.id=jEe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const REe={animation:{Feature:IEe},exit:{Feature:kEe}};function xg(t){return{point:{x:t.pageX,y:t.pageY}}}const DEe=t=>e=>d2(e)&&t(e,xg(e));function zm(t,e,n,r){return Ip(t,e,DEe(n),r)}const Zq=({current:t})=>t?t.ownerDocument.defaultView:null,h3=(t,e)=>Math.abs(t-e);function OEe(t,e){const n=h3(t.x,e.x),r=h3(t.y,e.y);return Math.sqrt(n**2+r**2)}const m3=new Set(["auto","scroll"]);class eH{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=XE(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=OEe(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!b)return;const{point:_}=y,{timestamp:T}=gr;this.history.push({..._,timestamp:T});const{onStart:L,onMove:M}=this.handlers;x||(L&&L(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=GE(x,this.transformPagePoint),en.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:b,onSessionEnd:_,resumeAnimation:T}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=XE(y.type==="pointercancel"?this.lastMoveEventInfo:GE(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,L),_&&_(y,L)},!d2(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const c=xg(e),d=GE(c,this.transformPagePoint),{point:f}=d,{timestamp:m}=gr;this.history=[{...f,timestamp:m}];const{onSessionStart:p}=n;p&&p(e,XE(d,this.history)),this.removeListeners=gg(zm(this.contextWindow,"pointermove",this.handlePointerMove),zm(this.contextWindow,"pointerup",this.handlePointerUp),zm(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(m3.has(r.overflowX)||m3.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),en.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Yl(this.updatePoint)}}function GE(t,e){return e?{point:e(t.point)}:t}function p3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function XE({point:t},e){return{point:t,delta:p3(t,tH(e)),offset:p3(t,MEe(e)),velocity:LEe(e,.1)}}function MEe(t){return t[0]}function tH(t){return t[t.length-1]}function LEe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=tH(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Os(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&i.timestamp-r.timestamp>Os(e)*2&&(r=t[1]);const s=Zi(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function VEe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?wn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?wn(n,t,r.max):Math.min(t,n)),t}function g3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function FEe(t,{top:e,left:n,bottom:r,right:i}){return{x:g3(t.x,n,i),y:g3(t.y,e,r)}}function y3(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function BEe(t,e){return{x:y3(t.x,e.x),y:y3(t.y,e.y)}}function zEe(t,e){let n=.5;const r=Yr(t),i=Yr(e);return i>r?n=Sp(e.min,e.max-r,t.min):r>i&&(n=Sp(t.min,t.max-i,e.min)),ka(0,1,n)}function $Ee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const VS=.35;function UEe(t=VS){return t===!1?t=0:t===!0&&(t=VS),{x:v3(t,"left","right"),y:v3(t,"top","bottom")}}function v3(t,e,n){return{min:x3(t,e),max:x3(t,n)}}function x3(t,e){return typeof t=="number"?t:t[e]||0}const qEe=new WeakMap;class HEe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{n&&this.snapToCursor(xg(m).point),this.stopAnimation()},a=(m,p)=>{const{drag:y,dragPropagation:x,onDragStart:b}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=b1e(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ha(T=>{let L=this.getAxisMotionValue(T).get()||0;if(Sa.test(L)){const{projection:M}=this.visualElement;if(M&&M.layout){const z=M.layout.layoutBox[T];z&&(L=Yr(z)*(parseFloat(L)/100))}}this.originPoint[T]=L}),b&&en.update(()=>b(m,p),!1,!0),IS(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:b,onDrag:_}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:T}=p;if(x&&this.currentDirection===null){this.currentDirection=KEe(T),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,T),this.updateAxis("y",p.point,T),this.visualElement.render(),_&&en.update(()=>_(m,p),!1,!0)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>{const{dragSnapToOrigin:m}=this.getProps();(m||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:f}=this.getProps();this.panSession=new eH(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:Zq(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&en.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!av(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=VEe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&zd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=FEe(r.layoutBox,e):this.constraints=!1,this.elastic=UEe(n),i!==this.constraints&&!zd(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&ha(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=$Ee(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=X1e(r,i.root,this.visualElement.getTransformPagePoint());let a=BEe(i.layout.layoutBox,s);if(n){const l=n(W1e(a));this.hasMutatedConstraints=!!l,l&&(a=_q(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ha(f=>{if(!av(f,n,this.currentDirection))return;let m=c&&c[f]||{};a&&(m={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return IS(this.visualElement,e),r.start(a2(e,r,0,n,this.visualElement,!1))}stopAnimation(){ha(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ha(n=>{const{drag:r}=this.getProps();if(!av(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n],c=s.get()||0;s.set(e[n]-wn(a,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ha(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=zEe({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),ha(a=>{if(!av(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(wn(c,d,i[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;qEe.set(this.visualElement,this);const e=this.visualElement.current,n=zm(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps(),p=d.target,y=p!==e&&S1e(p);f&&m&&!y&&this.start(d)});let r;const i=()=>{const{dragConstraints:d}=this.getProps();zd(d)&&d.current&&(this.constraints=this.resolveRefConstraints(),r||(r=WEe(e,d.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),en.read(i);const l=Ip(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(ha(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=d[m].translate,p.set(p.get()+d[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=VS,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function b3(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function WEe(t,e,n){const r=NL(t,b3(n)),i=NL(e,b3(n));return()=>{r(),i()}}function av(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function KEe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class GEe extends ic{constructor(e){super(e),this.removeGroupControls=ts,this.removeListeners=ts,this.controls=new HEe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ts}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const YE=t=>(e,n)=>{t&&en.update(()=>t(e,n),!1,!0)};class XEe extends ic{constructor(){super(...arguments),this.removePointerDownListener=ts}onPointerDown(e){this.session=new eH(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:YE(e),onStart:YE(n),onMove:YE(r),onEnd:(s,a)=>{delete this.session,i&&en.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=zm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let QE=!1;class YEe extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),QE&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),zv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,e.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),QE=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||en.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),u2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;QE=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function nH(t){const[e,n]=qq(),r=E.useContext($A);return o.jsx(YEe,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(Qq),isPresent:e,safeToRemove:n})}const QEe={pan:{Feature:XEe},drag:{Feature:GEe,ProjectionNode:Uq,MeasureLayout:nH}};function w3(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&en.postRender(()=>s(e,xg(e)))}class JEe extends ic{mount(){const{current:e}=this.node;e&&(this.unmount=_1e(e,(n,r)=>(w3(this.node,r,"Start"),i=>w3(this.node,i,"End"))))}unmount(){}}class ZEe extends ic{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gg(Ip(this.node.current,"focus",()=>this.onFocus()),Ip(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _3(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&en.postRender(()=>s(e,xg(e)))}class eCe extends ic{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=P1e(e,(i,s)=>(_3(this.node,s,"Start"),(a,{success:l})=>_3(this.node,a,l?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:r?.tap===!1})}unmount(){}}const FS=new WeakMap,JE=new WeakMap,tCe=t=>{const e=FS.get(t.target);e&&e(t)},nCe=t=>{t.forEach(tCe)};function rCe({root:t,...e}){const n=t||document;JE.has(n)||JE.set(n,{});const r=JE.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(nCe,{root:t,...e})),r[i]}function iCe(t,e,n){const r=rCe(e);return FS.set(t,n),r.observe(t),()=>{FS.delete(t),r.unobserve(t)}}const sCe={some:0,all:1};class aCe extends ic{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:sCe[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),p=d?f:m;p&&p(c)};return iCe(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(oCe(e,n))&&this.startObserver()}unmount(){}}function oCe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const lCe={inView:{Feature:aCe},tap:{Feature:eCe},focus:{Feature:ZEe},hover:{Feature:JEe}},cCe={layout:{ProjectionNode:Uq,MeasureLayout:nH}},uCe={...REe,...lCe,...QEe,...cCe},Je=PEe(uCe,AEe);function dCe({isOpen:t,countryName:e,onComplete:n}){const{t:r}=pt(),[i,s]=E.useState(0),[a,l]=E.useState([]),c=E.useMemo(()=>[{id:1,label:r.fiatAccounts.validating,duration:1500},{id:2,label:r.fiatAccounts.generating,duration:2e3},{id:3,label:r.fiatAccounts.security,duration:1800},{id:4,label:r.fiatAccounts.finalizing,duration:1500}],[r]);return E.useEffect(()=>{if(!t){s(0),l([]);return}let d;return(async()=>{for(let m=0;m<c.length;m++)s(m),await new Promise(p=>{d=setTimeout(p,c[m].duration)}),l(p=>[...p,m]);await new Promise(m=>{d=setTimeout(m,500)}),n()})(),()=>{d&&clearTimeout(d)}},[t,n,c]),t?tb.createPortal(o.jsx(v2,{children:o.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-6",children:[o.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/90 backdrop-blur-md"}),o.jsxs(Je.div,{initial:{opacity:0,scale:.8,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:40},transition:{type:"spring",duration:.5},className:"relative bg-zinc-900/95 backdrop-blur-xl rounded-3xl p-10 w-full max-w-md border border-white/20 shadow-[0_20px_100px_rgba(0,0,0,0.9)]",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-white/20 to-white/5 flex items-center justify-center border border-white/20",children:o.jsx(Je.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:o.jsx(v0,{className:"w-8 h-8 text-white"})})}),o.jsx("h3",{className:"text-xl text-white mb-2",children:r.fiatAccounts.openingAccount}),o.jsx("p",{className:"text-sm text-white/60",children:r.fiatAccounts.configuringAccount.replace("{country}",e)})]}),o.jsx("div",{className:"space-y-4 mb-8",children:c.map((d,f)=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-all ${i>f?"bg-green-500/20 border-2 border-green-500":i===f?"bg-white/20 border-2 border-white animate-pulse":"bg-white/5 border-2 border-white/20"}`,children:i>f?o.jsx(An,{className:"w-5 h-5 text-green-500"}):o.jsx("span",{className:"text-sm text-white",children:f+1})}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:`text-sm transition-all ${i>f?"text-green-400":i===f?"text-white":"text-white/40"}`,children:d.label})})]},d.id))}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-white/40",children:r.fiatAccounts.completedSteps.replace("{completed}",a.length.toString()).replace("{total}",c.length.toString())})})]})]})}),document.body):null}const fCe=async(t,e,n,r,i)=>{try{console.log(" Criando chaves PIX automticas para conta BRL...");const s=at(be,"pixKeys"),a=Rt(s,Tt("userId","==",t),Tt("accountId","==",e));if(!(await It(a)).empty){console.log(" Chaves PIX j existem para esta conta");return}await Ri(s,{userId:t,accountId:e,accountNumber:n,currency:"BRL",country:"BR",keyType:"email",keyValue:r,createdAt:new Date}),console.log(" Chave PIX (email) criada:",r),await Ri(s,{userId:t,accountId:e,accountNumber:n,currency:"BRL",country:"BR",keyType:"phone",keyValue:i,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",i)}catch(s){console.error(" Erro ao criar chaves PIX automticas:",s)}},E3=({code:t})=>o.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800",children:o.jsx("img",{src:`https://flagcdn.com/w40/${t.toLowerCase()}.png`,alt:t,className:"w-full h-full object-cover"})});function hCe({onNavigate:t}){const{user:e}=Ot(),{t:n}=pt(),[r,i]=E.useState(""),[s,a]=E.useState(!1),[l,c]=E.useState(null),[d,f]=E.useState([]),[m,p]=E.useState(!0),[y,x]=E.useState(!1),[b,_]=E.useState(!1),[T,L]=E.useState(!1),[M,z]=E.useState("");E.useEffect(()=>{if(!e)return;(async()=>{try{const k=at(be,"bankAccounts"),O=Rt(k,Tt("userId","==",e.uid)),W=(await It(O)).docs.map(Y=>({...Y.data(),id:Y.id,createdAt:Y.data().createdAt?.toDate()||new Date}));f(W),_(!1)}catch(k){console.error(" Erro ao carregar contas:",k),k?.code==="permission-denied"&&_(!0)}finally{p(!1)}})()},[e]);const j=ane().filter(N=>!d.some(k=>k.country===N.code)).filter(N=>(n.countries[N.code]||N.name).toLowerCase().includes(r.toLowerCase())||N.code.toLowerCase().includes(r.toLowerCase())||N.currency.toLowerCase().includes(r.toLowerCase())),C=N=>{z(N),L(!0)},S=async()=>{if(!(!e||!M)){L(!1),x(!0);try{const N=at(be,"bankAccounts"),k=Rt(N,Tt("userId","==",e.uid),Tt("country","==",M));if(!(await It(k)).empty){console.log(" Conta j existe para:",M);const V=n.countries[M]||M;Ge.error(n.fiatAccounts.accountExists,{description:n.fiatAccounts.accountExistsDesc.replace("{country}",V),duration:4e3}),i(""),a(!1),x(!1);return}const A=rz(M),W=await Ri(N,{...A,userId:e.uid,createdAt:new Date}),Y={...A,id:W.id,createdAt:new Date};f(V=>[...V,Y]),i(""),a(!1),console.log(" Conta criada com sucesso para:",M);const J=n.countries[M]||M;if(Ge.success(n.fiatAccounts.accountCreated,{description:n.fiatAccounts.accountCreatedDesc.replace("{country}",J),duration:3e3}),M==="BR"){const V=st(be,"users",e.uid),q=(await ns(V)).data();q?.email&&q?.phone?(await fCe(e.uid,W.id,A.accountNumber,q.email,q.phone),console.log(" Chaves PIX criadas automaticamente!"),setTimeout(()=>{Ge.success(n.fiatAccounts.pixKeysCreated,{description:n.fiatAccounts.pixKeysCreatedDesc,duration:4e3})},1500)):console.log(" Email ou telefone no encontrado no perfil do usurio")}setTimeout(()=>{t("home")},1e3)}catch(N){console.error(" Erro ao adicionar conta:",N),Ge.error(n.fiatAccounts.errorCreatingAccount,{description:n.fiatAccounts.errorCreatingAccountDesc,duration:3e3})}finally{x(!1)}}},D=async N=>{if(!N){Ge.error(n.fiatAccounts.error,{description:n.fiatAccounts.accountIdNotFound,duration:3e3});return}if(window.confirm(n.fiatAccounts.closeAccountConfirm))try{await yo(st(be,"bankAccounts",N)),f(O=>O.filter(A=>A.id!==N)),c(null),Ge.success(n.fiatAccounts.accountClosed,{description:n.fiatAccounts.accountClosedDesc,duration:3e3}),console.log(" Conta deletada com sucesso:",N)}catch(O){console.error(" Erro ao deletar conta:",O),O?.code==="permission-denied"?Ge.error(n.fiatAccounts.firestoreRulesWarning,{description:n.fiatAccounts.firestoreRulesDesc,duration:8e3}):Ge.error(n.fiatAccounts.errorClosingAccount,{description:n.fiatAccounts.errorClosingAccountDesc,duration:3e3})}};return l?o.jsx(ybe,{account:l,onBack:()=>c(null),onDelete:D}):o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"sticky top-0 z-20 backdrop-blur-lg bg-black/80 border-b border-white/5",children:o.jsx("div",{className:"px-6 py-4 flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-zinc-900 transition-colors",children:o.jsx(iP,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl",children:n.fiatAccounts.title}),o.jsx("p",{className:"text-sm text-white/50",children:n.fiatAccounts.subtitle})]})]})})}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("h1",{className:"text-xl mb-6",children:n.fiatAccounts.accountData}),m&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"w-8 h-8 border-3 border-zinc-700 border-t-white rounded-full animate-spin"})}),b&&!m&&o.jsx("div",{className:"bg-red-900/20 border border-red-800 rounded-2xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ll,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-red-500 mb-1",children:n.fiatAccounts.permissionError}),o.jsx("p",{className:"text-sm text-gray-300",children:n.fiatAccounts.permissionErrorDesc})]})]})}),!m&&d.length>0&&o.jsx("div",{className:"bg-zinc-900 rounded-3xl overflow-hidden mb-6",children:d.map((N,k)=>o.jsxs("div",{children:[o.jsxs("button",{className:"w-full px-4 py-4 flex items-center justify-between hover:bg-zinc-800 transition-colors",onClick:()=>c(N),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(E3,{code:N.flagCode}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-semibold",children:n.countries[N.country]||N.countryName}),o.jsx("p",{className:"text-sm text-gray-400",children:N.currency})]})]}),o.jsx(xo,{className:"w-5 h-5 text-gray-400"})]}),k<d.length-1&&o.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},N.id))}),o.jsx("div",{className:"bg-zinc-900 rounded-3xl overflow-hidden",children:j.map((N,k)=>o.jsxs("div",{children:[o.jsxs("div",{className:"px-4 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(E3,{code:N.flag}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-semibold",children:n.countries[N.code]||N.name}),o.jsx("p",{className:"text-sm text-gray-400",children:N.currency})]})]}),o.jsx("button",{className:"px-5 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-full text-sm font-semibold transition-colors disabled:opacity-50",onClick:()=>C(N.code),disabled:y,children:y?n.fiatAccounts.creating:n.fiatAccounts.add})]}),k<j.length-1&&o.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},N.code))})]}),o.jsx(dCe,{isOpen:T,countryName:n.countries[M]||"",onComplete:S})]})}function mCe({onNavigate:t}){const[e,n]=E.useState(!1),[r,i]=E.useState(!0),{userData:s}=Ot(),{t:a}=pt(),l=[{title:a.authentication,items:[{icon:Nl,label:a.changePassword,description:a.lastChanged,action:()=>t("changePassword"),type:"button"},{icon:Yi,label:a.twoFactor,description:a.addExtraLayer,action:()=>n(!e),type:"toggle",enabled:e}]},{title:a.securityNotifications,items:[{icon:Nf,label:a.emailAlerts,description:a.receiveSuspiciousActivity,action:()=>i(!r),type:"toggle",enabled:r},{icon:yT,label:a.recentActivity,description:a.viewDevicesAccess,action:()=>{},type:"button"}]},{title:a.privacy,items:[{icon:nu,label:a.connectedDevices,description:a.activeDevices,action:()=>{},type:"button"},{icon:Vte,label:a.activeSessions,description:a.manageSessions,action:()=>{},type:"button"}]}];return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Et,{className:"w-5 h-5 font-light"})}),o.jsx("h1",{className:"text-xl",children:a.security})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(wu,{className:"w-5 h-5 text-green-500 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"mb-1",children:a.yourAccountProtected}),o.jsx("p",{className:"text-sm text-gray-400",children:a.keepInfoSecure})]})]})}),o.jsx("div",{className:"space-y-6",children:l.map((c,d)=>o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs text-gray-400 mb-2 px-1",children:c.title}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl overflow-hidden shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:c.items.map((f,m)=>{const p=f.icon;return o.jsxs("div",{children:[o.jsxs("button",{onClick:f.action,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/10 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx(p,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"text-white",children:f.label}),o.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:f.description})]})]}),f.type==="toggle"?o.jsx("div",{className:`w - 12 h - 6 rounded - full transition - colors ${f.enabled?"bg-green-500":"bg-zinc-700"} `,children:o.jsx("div",{className:`w - 5 h - 5 bg - white rounded - full mt - 0.5 transition - transform ${f.enabled?"translate-x-6":"translate-x-0.5"} `})}):o.jsx(xo,{className:"w-5 h-5 text-gray-400"})]}),m<c.items.length-1&&o.jsx("div",{className:"h-px bg-white/10 mx-4"})]},f.label)})})]},d))}),o.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsxs("h4",{className:"mb-2 flex items-center gap-2",children:[o.jsx(wu,{className:"w-4 h-4 text-green-500"}),a.securityTips]}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:a.useStrongPassword})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:a.enableTwoFactor})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:a.neverShareCredentials})]})]})]})]})]})}function pCe({onNavigate:t}){const[e,n]=E.useState(""),[r,i]=E.useState(""),[s,a]=E.useState(""),[l,c]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(!1),[y,x]=E.useState(!1),[b,_]=E.useState(""),[T,L]=E.useState(!1),z=(C=>({length:C.length>=8,uppercase:/[A-Z]/.test(C),lowercase:/[a-z]/.test(C),number:/[0-9]/.test(C),special:/[!@#$%^&*(),.?":{}|<>]/.test(C)}))(r),I=Object.values(z).every(Boolean),j=async()=>{if(!e||!r||!s){_("Preencha todos os campos");return}if(r!==s){_("As senhas no coincidem");return}if(!I){_("A nova senha no atende aos requisitos de segurana");return}if(r===e){_("A nova senha deve ser diferente da senha atual");return}x(!0),_("");try{const C=xn.currentUser;if(!C||!C.email)throw new Error("Usurio no autenticado");const S=Ru.credential(C.email,e);await vZ(C,S),await AB(C,r),L(!0),n(""),i(""),a(""),setTimeout(()=>{t("security")},2e3)}catch(C){console.error("Erro ao alterar senha:",C),C.code==="auth/wrong-password"?_("Senha atual incorreta"):C.code==="auth/weak-password"?_("A nova senha  muito fraca"):C.code==="auth/requires-recent-login"?_("Por segurana, faa login novamente antes de alterar a senha"):C.code==="auth/network-request-failed"?_("Erro de conexo. Verifique sua internet"):_("Erro ao alterar senha. Tente novamente")}finally{x(!1)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("security"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Et,{className:"w-5 h-5 font-light"})}),o.jsx("h1",{className:"text-xl",children:"Alterar senha"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[T&&o.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(An,{className:"w-5 h-5 text-green-500 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-green-500 mb-1",children:"Senha alterada com sucesso!"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Redirecionando..."})]})]})}),b&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ll,{className:"w-5 h-5 text-red-500 mt-0.5"}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"text-sm text-red-400",children:b})})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Senha atual"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:o.jsx(Nl,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:l?"text":"password",value:e,onChange:C=>n(C.target.value),placeholder:"Digite sua senha atual",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||T}),o.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||T,children:l?o.jsx(rf,{className:"w-5 h-5"}):o.jsx(nu,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Nova senha"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:o.jsx(Nl,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:d?"text":"password",value:r,onChange:C=>i(C.target.value),placeholder:"Digite sua nova senha",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||T}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||T,children:d?o.jsx(rf,{className:"w-5 h-5"}):o.jsx(nu,{className:"w-5 h-5"})})]}),r&&o.jsxs("div",{className:"mt-3 p-3 bg-white/5 backdrop-blur-md border border-white/10 rounded-xl",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Requisitos da senha:"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.length?"text-green-500":"text-gray-500"}`,children:[o.jsx(An,{className:"w-3 h-3"}),"Mnimo de 8 caracteres"]}),o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.uppercase?"text-green-500":"text-gray-500"}`,children:[o.jsx(An,{className:"w-3 h-3"}),"Letra maiscula (A-Z)"]}),o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.lowercase?"text-green-500":"text-gray-500"}`,children:[o.jsx(An,{className:"w-3 h-3"}),"Letra minscula (a-z)"]}),o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.number?"text-green-500":"text-gray-500"}`,children:[o.jsx(An,{className:"w-3 h-3"}),"Nmero (0-9)"]}),o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.special?"text-green-500":"text-gray-500"}`,children:[o.jsx(An,{className:"w-3 h-3"}),"Caractere especial (!@#$%...)"]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Confirmar nova senha"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:o.jsx(Nl,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:m?"text":"password",value:s,onChange:C=>a(C.target.value),placeholder:"Confirme sua nova senha",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||T}),o.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||T,children:m?o.jsx(rf,{className:"w-5 h-5"}):o.jsx(nu,{className:"w-5 h-5"})})]}),s&&r!==s&&o.jsx("p",{className:"text-xs text-red-400 mt-2",children:"As senhas no coincidem"})]}),o.jsx("button",{onClick:j,disabled:y||T||!e||!r||!s||!I||r!==s,className:"w-full bg-white text-black py-4 rounded-2xl disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 transition-colors active:scale-95",children:y?"Alterando senha...":"Alterar senha"})]}),o.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl",children:[o.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm",children:[o.jsx(Nl,{className:"w-4 h-4 text-gray-400"}),"Dicas de segurana"]}),o.jsxs("ul",{className:"space-y-2 text-xs text-gray-400",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),o.jsx("span",{children:"Nunca compartilhe sua senha com ningum"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),o.jsx("span",{children:"Use uma senha nica para cada servio"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),o.jsx("span",{children:"Considere usar um gerenciador de senhas"})]})]})]})]})]})}function _r(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function gCe(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const ov=43200,C3=1440;let yCe={};function vCe(){return yCe}function T3(t){const e=_r(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function $v(t,e){const n=_r(t),r=_r(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function xCe(t){return gCe(t,Date.now())}function bCe(t,e){const n=_r(t),r=_r(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function wCe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function _Ce(t,e){return+_r(t)-+_r(e)}function ECe(t){const e=_r(t);return e.setHours(23,59,59,999),e}function CCe(t){const e=_r(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function TCe(t){const e=_r(t);return+ECe(e)==+CCe(e)}function SCe(t,e){const n=_r(t),r=_r(e),i=$v(n,r),s=Math.abs(bCe(n,r));let a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let l=$v(n,r)===-i;TCe(_r(t))&&s===1&&$v(t,r)===1&&(l=!1),a=i*(s-Number(l))}return a===0?0:a}function NCe(t,e,n){const r=_Ce(t,e)/1e3;return wCe(n?.roundingMethod)(r)}const PCe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ACe=(t,e,n)=>{let r;const i=PCe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function fo(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ICe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},jCe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},kCe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},RCe={date:fo({formats:ICe,defaultWidth:"full"}),time:fo({formats:jCe,defaultWidth:"full"}),dateTime:fo({formats:kCe,defaultWidth:"full"})},DCe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},OCe=(t,e,n,r)=>DCe[t];function Hr(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const MCe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LCe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},VCe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},FCe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},$Ce=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},UCe={ordinalNumber:$Ce,era:Hr({values:MCe,defaultWidth:"wide"}),quarter:Hr({values:LCe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hr({values:VCe,defaultWidth:"wide"}),day:Hr({values:FCe,defaultWidth:"wide"}),dayPeriod:Hr({values:BCe,defaultWidth:"wide",formattingValues:zCe,defaultFormattingWidth:"wide"})};function Wr(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?HCe(l,m=>m.test(a)):qCe(l,m=>m.test(a));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(a.length);return{value:d,rest:f}}}function qCe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function HCe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function w2(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const WCe=/^(\d+)(th|st|nd|rd)?/i,KCe=/\d+/i,GCe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},XCe={any:[/^b/i,/^(a|c)/i]},YCe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},QCe={any:[/1/i,/2/i,/3/i,/4/i]},JCe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ZCe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},eTe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},tTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nTe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},rTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},iTe={ordinalNumber:w2({matchPattern:WCe,parsePattern:KCe,valueCallback:t=>parseInt(t,10)}),era:Wr({matchPatterns:GCe,defaultMatchWidth:"wide",parsePatterns:XCe,defaultParseWidth:"any"}),quarter:Wr({matchPatterns:YCe,defaultMatchWidth:"wide",parsePatterns:QCe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Wr({matchPatterns:JCe,defaultMatchWidth:"wide",parsePatterns:ZCe,defaultParseWidth:"any"}),day:Wr({matchPatterns:eTe,defaultMatchWidth:"wide",parsePatterns:tTe,defaultParseWidth:"any"}),dayPeriod:Wr({matchPatterns:nTe,defaultMatchWidth:"any",parsePatterns:rTe,defaultParseWidth:"any"})},rH={code:"en-US",formatDistance:ACe,formatLong:RCe,formatRelative:OCe,localize:UCe,match:iTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function sTe(t,e,n){const r=vCe(),i=n?.locale??r.locale??rH,s=2520,a=$v(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:a});let c,d;a>0?(c=_r(e),d=_r(t)):(c=_r(t),d=_r(e));const f=NCe(d,c),m=(T3(d)-T3(c))/1e3,p=Math.round((f-m)/60);let y;if(p<2)return n?.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,l):f<10?i.formatDistance("lessThanXSeconds",10,l):f<20?i.formatDistance("lessThanXSeconds",20,l):f<40?i.formatDistance("halfAMinute",0,l):f<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):p===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",p,l);if(p<45)return i.formatDistance("xMinutes",p,l);if(p<90)return i.formatDistance("aboutXHours",1,l);if(p<C3){const x=Math.round(p/60);return i.formatDistance("aboutXHours",x,l)}else{if(p<s)return i.formatDistance("xDays",1,l);if(p<ov){const x=Math.round(p/C3);return i.formatDistance("xDays",x,l)}else if(p<ov*2)return y=Math.round(p/ov),i.formatDistance("aboutXMonths",y,l)}if(y=SCe(d,c),y<12){const x=Math.round(p/ov);return i.formatDistance("xMonths",x,l)}else{const x=y%12,b=Math.trunc(y/12);return x<3?i.formatDistance("aboutXYears",b,l):x<9?i.formatDistance("overXYears",b,l):i.formatDistance("almostXYears",b+1,l)}}function aTe(t,e){return sTe(t,xCe(t),e)}const oTe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},lTe=(t,e,n)=>{let r;const i=oTe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},cTe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},uTe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},dTe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fTe={date:fo({formats:cTe,defaultWidth:"full"}),time:fo({formats:uTe,defaultWidth:"full"}),dateTime:fo({formats:dTe,defaultWidth:"full"})},hTe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},mTe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},pTe=(t,e,n,r)=>e.getHours()!==1?mTe[t]:hTe[t],gTe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},yTe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},vTe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},xTe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},bTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},wTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},_Te=(t,e)=>Number(t)+"",ETe={ordinalNumber:_Te,era:Hr({values:gTe,defaultWidth:"wide"}),quarter:Hr({values:yTe,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Hr({values:vTe,defaultWidth:"wide"}),day:Hr({values:xTe,defaultWidth:"wide"}),dayPeriod:Hr({values:bTe,defaultWidth:"wide",formattingValues:wTe,defaultFormattingWidth:"wide"})},CTe=/^(\d+)()?/i,TTe=/\d+/i,STe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},NTe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},PTe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},ATe={any:[/1/i,/2/i,/3/i,/4/i]},ITe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},jTe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},kTe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},RTe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},DTe={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},OTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},MTe={ordinalNumber:w2({matchPattern:CTe,parsePattern:TTe,valueCallback:function(t){return parseInt(t,10)}}),era:Wr({matchPatterns:STe,defaultMatchWidth:"wide",parsePatterns:NTe,defaultParseWidth:"any"}),quarter:Wr({matchPatterns:PTe,defaultMatchWidth:"wide",parsePatterns:ATe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Wr({matchPatterns:ITe,defaultMatchWidth:"wide",parsePatterns:jTe,defaultParseWidth:"any"}),day:Wr({matchPatterns:kTe,defaultMatchWidth:"wide",parsePatterns:RTe,defaultParseWidth:"any"}),dayPeriod:Wr({matchPatterns:DTe,defaultMatchWidth:"any",parsePatterns:OTe,defaultParseWidth:"any"})},LTe={code:"es",formatDistance:lTe,formatLong:fTe,formatRelative:pTe,localize:ETe,match:MTe,options:{weekStartsOn:1,firstWeekContainsDate:1}},VTe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},FTe=(t,e,n)=>{let r;const i=VTe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},BTe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},zTe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},$Te={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},UTe={date:fo({formats:BTe,defaultWidth:"full"}),time:fo({formats:zTe,defaultWidth:"full"}),dateTime:fo({formats:$Te,defaultWidth:"full"})},qTe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},HTe=(t,e,n,r)=>{const i=qTe[t];return typeof i=="function"?i(e):i},WTe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},KTe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},GTe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},XTe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},YTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},QTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},JTe=(t,e)=>{const n=Number(t);return e?.unit==="week"?n+"":n+""},ZTe={ordinalNumber:JTe,era:Hr({values:WTe,defaultWidth:"wide"}),quarter:Hr({values:KTe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Hr({values:GTe,defaultWidth:"wide"}),day:Hr({values:XTe,defaultWidth:"wide"}),dayPeriod:Hr({values:YTe,defaultWidth:"wide",formattingValues:QTe,defaultFormattingWidth:"wide"})},eSe=/^(\d+)[o]?/i,tSe=/\d+/i,nSe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},rSe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},iSe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},sSe={any:[/1/i,/2/i,/3/i,/4/i]},aSe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},oSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},lSe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},cSe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},uSe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},dSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},fSe={ordinalNumber:w2({matchPattern:eSe,parsePattern:tSe,valueCallback:t=>parseInt(t,10)}),era:Wr({matchPatterns:nSe,defaultMatchWidth:"wide",parsePatterns:rSe,defaultParseWidth:"any"}),quarter:Wr({matchPatterns:iSe,defaultMatchWidth:"wide",parsePatterns:sSe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Wr({matchPatterns:aSe,defaultMatchWidth:"wide",parsePatterns:oSe,defaultParseWidth:"any"}),day:Wr({matchPatterns:lSe,defaultMatchWidth:"wide",parsePatterns:cSe,defaultParseWidth:"any"}),dayPeriod:Wr({matchPatterns:uSe,defaultMatchWidth:"any",parsePatterns:dSe,defaultParseWidth:"any"})},hSe={code:"pt-BR",formatDistance:FTe,formatLong:UTe,formatRelative:HTe,localize:ZTe,match:fSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function mSe({onNavigate:t}){const{user:e}=Ot(),{t:n,language:r}=pt(),[i,s]=E.useState("all"),[a,l]=E.useState([]),[c,d]=E.useState(!0);E.useEffect(()=>{f()},[e]);const f=async()=>{if(e)try{d(!0);const T=await lbe(e.uid);l(T)}catch(T){console.error("Error loading notifications:",T)}finally{d(!1)}},m=(T,L)=>T==="transaction"?L?.type==="deposit"?Di:L?.type==="withdrawal"?_u:L?.type==="conversion"?ZB:Di:T==="security"?wu:T==="alert"?Ll:T==="info"?eb:Om,p=[{label:n.filterAll,value:"all"},{label:n.filterTransactions,value:"transactions"},{label:n.filterSecurity,value:"security"},{label:n.filterUpdates,value:"updates"}],y=a.filter(T=>i==="all"?!0:i==="transactions"?T.type==="transaction":i==="security"?T.type==="security":i==="updates"?T.type==="info"||T.type==="alert":!0),x=a.filter(T=>!T.read).length,b=async T=>{try{await cbe(T),l(a.map(L=>L.id===T?{...L,read:!0}:L))}catch(L){console.error("Error marking notification as read:",L)}},_=async()=>{if(e)try{await ube(e.uid),l(a.map(T=>({...T,read:!0})))}catch(T){console.error("Error marking all notifications as read:",T)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold",children:n.notificationsTitle}),x>0&&o.jsx("p",{className:"text-xs text-gray-400",children:n.unreadMessages.replace("{count}",String(x)).replace("{plural}",x>1?"s":"")})]})]}),x>0&&o.jsx("button",{onClick:_,className:"text-sm text-white/70 hover:text-white transition-colors",children:n.markAll})]}),o.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar snap-x snap-mandatory",children:p.map(T=>o.jsx("button",{onClick:()=>s(T.value),className:`px-4 py-2 rounded-full whitespace-nowrap transition-colors snap-start flex-shrink-0 ${i===T.value?"bg-white text-black":"bg-zinc-900 text-gray-400 hover:bg-zinc-800"}`,children:T.label},T.value))})]}),o.jsx("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:c?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-900 flex items-center justify-center mb-4",children:o.jsx(Om,{className:"w-8 h-8 text-gray-600"})}),o.jsx("h3",{className:"font-semibold mb-2",children:n.loading}),o.jsx("p",{className:"text-sm text-gray-400 text-center",children:n.loadingNotifications})]}):y.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-900 flex items-center justify-center mb-4",children:o.jsx(Om,{className:"w-8 h-8 text-gray-600"})}),o.jsx("h3",{className:"font-semibold mb-2",children:n.noNotificationsTitle}),o.jsx("p",{className:"text-sm text-gray-400 text-center",children:n.noNotificationsDesc})]}):o.jsx("div",{className:"space-y-2",children:y.map(T=>{const L=m(T.type,T.metadata),M=T.read?"text-white/70":"text-white";return o.jsx("button",{onClick:()=>b(T.id),className:`w-full p-4 rounded-2xl transition-colors text-left ${T.read?"bg-zinc-900/50 hover:bg-zinc-900":"bg-zinc-900 hover:bg-zinc-800"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center flex-shrink-0",children:o.jsx(L,{className:`w-5 h-5 ${M}`})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[o.jsx("h3",{className:`font-semibold ${T.read?"text-gray-300":"text-white"}`,children:T.title}),!T.read&&o.jsx("div",{className:"w-2 h-2 rounded-full bg-white flex-shrink-0 mt-1.5"})]}),o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:T.message}),o.jsx("p",{className:"text-xs text-gray-500",children:aTe(new Date(T.timestamp),{locale:r==="pt"?hSe:r==="es"?LTe:rH,addSuffix:!0})})]})]})},T.id)})})}),o.jsx("div",{className:"px-6 pb-6 space-y-3",children:o.jsxs("button",{onClick:()=>t("pushSettings"),className:"w-full py-3 rounded-2xl bg-zinc-900 hover:bg-zinc-800 transition-colors text-sm flex items-center justify-center gap-2",children:[o.jsx(Yi,{className:"w-4 h-4"}),o.jsx("span",{children:n.pushSettingsButton})]})})]})}function pSe({onNavigate:t}){const{t:e}=pt(),[n,r]=E.useState(!0),[i,s]=E.useState(!0),[a,l]=E.useState(!0),[c,d]=E.useState(!0),[f,m]=E.useState(!0),[p,y]=E.useState(!0),[x,b]=E.useState(!0),[_,T]=E.useState(!1),[L,M]=E.useState(!1),z=[{title:e.pushSettingsPage.sections.general,items:[{icon:Om,label:e.pushSettingsPage.items.enablePush,description:e.pushSettingsPage.items.enablePushDesc,value:n,onChange:r,main:!0}]},{title:e.pushSettingsPage.sections.transactions,items:[{icon:Di,label:e.pushSettingsPage.items.allTransactions,description:e.pushSettingsPage.items.allTransactionsDesc,value:i,onChange:s,disabled:!n},{icon:Di,label:e.pushSettingsPage.items.deposits,description:e.pushSettingsPage.items.depositsDesc,value:a,onChange:l,disabled:!n||!i,nested:!0},{icon:_u,label:e.pushSettingsPage.items.withdrawals,description:e.pushSettingsPage.items.withdrawalsDesc,value:c,onChange:d,disabled:!n||!i,nested:!0}]},{title:e.pushSettingsPage.sections.security,items:[{icon:wu,label:e.pushSettingsPage.items.securityAlerts,description:e.pushSettingsPage.items.securityAlertsDesc,value:f,onChange:m,disabled:!n},{icon:Yi,label:e.pushSettingsPage.items.newDevices,description:e.pushSettingsPage.items.newDevicesDesc,value:p,onChange:y,disabled:!n||!f,nested:!0},{icon:Ll,label:e.pushSettingsPage.items.suspiciousActivity,description:e.pushSettingsPage.items.suspiciousActivityDesc,value:x,onChange:b,disabled:!n||!f,nested:!0}]},{title:e.pushSettingsPage.sections.market,items:[{icon:Mte,label:e.pushSettingsPage.items.priceAlerts,description:e.pushSettingsPage.items.priceAlertsDesc,value:_,onChange:T,disabled:!n},{icon:Nf,label:e.pushSettingsPage.items.marketNews,description:e.pushSettingsPage.items.marketNewsDesc,value:L,onChange:M,disabled:!n}]}];return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"px-6 pt-6 pb-4",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>t("notifications"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:e.pushSettingsPage.title})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Yi,{className:"w-5 h-5 text-white/70 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:e.pushSettingsPage.keepInformed}),o.jsx("p",{className:"text-sm text-gray-400",children:e.pushSettingsPage.keepInformedDesc})]})]})}),o.jsx("div",{className:"space-y-6",children:z.map((I,j)=>o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs text-gray-400 font-semibold mb-2 px-1",children:I.title}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl overflow-hidden",children:I.items.map((C,S)=>{const D=C.icon,N=C.disabled||!1;return o.jsxs("div",{children:[o.jsx("div",{className:`px-4 py-3 ${C.nested?"pl-12":""} ${N?"opacity-50":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx(D,{className:"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:C.label}),o.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:C.description})]})]}),o.jsx("button",{onClick:()=>!N&&C.onChange(!C.value),disabled:N,className:`w-12 h-6 rounded-full transition-colors flex-shrink-0 ml-3 ${N?"cursor-not-allowed":""} ${C.value&&!N?"bg-white/20":"bg-zinc-700"}`,children:o.jsx("div",{className:`w-5 h-5 bg-white rounded-full mt-0.5 transition-transform ${C.value?"translate-x-6":"translate-x-0.5"}`})})]})}),S<I.items.length-1&&o.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},C.label)})})]},j))}),o.jsx("div",{className:"mt-6 p-4 bg-zinc-900 rounded-2xl",children:o.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[o.jsx("strong",{className:"text-white",children:e.pushSettingsPage.tipTitle})," ",e.pushSettingsPage.tipContent]})})]})]})}function gSe({onNavigate:t}){const{t:e}=pt(),[n,r]=E.useState("options"),[i,s]=E.useState(""),[a,l]=E.useState(""),[c,d]=E.useState(""),[f,m]=E.useState([]),[p,y]=E.useState(3),[x,b]=E.useState(null),[_,T]=E.useState(!1),L=E.useRef(null);E.useEffect(()=>{L.current?.scrollIntoView({behavior:"smooth"})},[f,_]);const M=[{question:e.helpCenterPage.faqs.deposit.q,answer:e.helpCenterPage.faqs.deposit.a},{question:e.helpCenterPage.faqs.withdraw.q,answer:e.helpCenterPage.faqs.withdraw.a},{question:e.helpCenterPage.faqs.fees.q,answer:e.helpCenterPage.faqs.fees.a},{question:e.helpCenterPage.faqs.security.q,answer:e.helpCenterPage.faqs.security.a}],z=()=>{i&&a&&(alert(e.helpCenterPage.emailSent),s(""),l(""),r("options"))},I=()=>{r("waiting"),setTimeout(()=>{y(2)},3e3),setTimeout(()=>{y(1)},6e3),setTimeout(()=>{m([{sender:"system",text:e.helpCenterPage.connectedWithAgent,time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})},{sender:"agent",text:e.helpCenterPage.agentGreeting,time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}]),r("chatActive")},9e3)},j=()=>{if(c.trim()){const k={sender:"user",text:c,time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};m([...f,k]),d(""),T(!0),setTimeout(()=>{const O={sender:"agent",text:e.helpCenterPage.agentResponse,time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};m(A=>[...A,O]),T(!1)},4e3)}},C=()=>o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("h2",{className:"font-semibold mb-2",children:e.helpCenterPage.howCanWeHelp}),o.jsx("p",{className:"text-sm text-gray-400",children:e.helpCenterPage.chooseOption})]}),o.jsx("button",{onClick:()=>r("email"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(Nf,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:e.helpCenterPage.sendEmail}),o.jsx("p",{className:"text-sm text-gray-400",children:e.helpCenterPage.sendEmailDesc})]})]})}),o.jsx("button",{onClick:I,className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(Ute,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:e.helpCenterPage.liveChat}),o.jsx("p",{className:"text-sm text-gray-400",children:e.helpCenterPage.liveChatDesc}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-xs text-green-500",children:e.helpCenterPage.availableNow})]})]})]})}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("h3",{className:"font-semibold mb-3 text-sm",children:e.helpCenterPage.faq}),o.jsx("div",{className:"space-y-2",children:M.map((k,O)=>o.jsxs("div",{children:[o.jsx("button",{onClick:()=>b(x===O?null:O),className:"w-full text-left text-sm text-gray-400 hover:text-white transition-colors py-2",children:k.question}),x===O&&o.jsx("div",{className:"mt-2 mb-2 bg-black rounded-xl p-3",children:o.jsx("p",{className:"text-xs text-gray-400",children:k.answer})})]},O))})]})]}),S=()=>o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("h2",{className:"font-semibold mb-2",children:e.helpCenterPage.sendEmail}),o.jsx("p",{className:"text-sm text-gray-400",children:e.helpCenterPage.chooseOption})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:e.helpCenterPage.subject}),o.jsx("input",{type:"text",value:i,onChange:k=>s(k.target.value),placeholder:e.helpCenterPage.enterSubject,className:"w-full bg-zinc-900 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:e.helpCenterPage.message}),o.jsx("textarea",{value:a,onChange:k=>l(k.target.value),placeholder:e.helpCenterPage.enterMessage,rows:6,className:"w-full bg-zinc-900 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>r("options"),className:"flex-1 py-3 rounded-xl bg-zinc-900 hover:bg-zinc-800 transition-colors",children:e.helpCenterPage.cancel}),o.jsx("button",{onClick:z,disabled:!i||!a,className:"flex-1 py-3 rounded-xl bg-green-500 hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.helpCenterPage.send})]})]})]}),D=()=>o.jsx("div",{className:"px-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4",children:o.jsx(lp,{className:"w-8 h-8 text-green-500 animate-pulse"})}),o.jsx("h2",{className:"font-semibold mb-2",children:e.helpCenterPage.waitingSupport}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e.helpCenterPage.youAreInQueue}),o.jsxs("div",{className:"bg-black rounded-xl p-4 mb-4",children:[o.jsx("div",{className:"text-3xl font-bold text-green-500 mb-1",children:p}),o.jsx("div",{className:"text-xs text-gray-400",children:e.helpCenterPage.peopleAhead})]}),o.jsx("button",{onClick:()=>r("options"),className:"w-full py-3 rounded-xl bg-zinc-800 hover:bg-zinc-700 transition-colors",children:e.helpCenterPage.cancel})]})}),N=()=>o.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)]",children:[o.jsx("div",{className:"px-6 pb-4 bg-zinc-900 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center gap-3 py-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center",children:o.jsx(oP,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm",children:e.helpCenterPage.agentName}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-xs text-gray-400",children:e.helpCenterPage.online})]})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4 hide-scrollbar min-h-0",children:[f.map((k,O)=>o.jsx("div",{children:k.sender==="system"?o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-xs text-gray-500 bg-zinc-900 px-3 py-1 rounded-full",children:k.text})}):o.jsx("div",{className:`flex ${k.sender==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[75%] ${k.sender==="user"?"bg-white text-black":"bg-zinc-900"} rounded-2xl px-4 py-2.5`,children:[o.jsx("p",{className:"text-xs",children:k.text}),o.jsx("span",{className:"text-[10px] opacity-70 mt-1 block",children:k.time})]})})},O)),_&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"max-w-[75%] bg-zinc-900 rounded-2xl px-4 py-3 flex items-center gap-1",children:[o.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms",animationDuration:"1s"}}),o.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms",animationDuration:"1s"}}),o.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms",animationDuration:"1s"}})]})}),o.jsx("div",{ref:L})]}),o.jsx("div",{className:"px-6 pb-6 pt-4 border-t border-zinc-900 flex-shrink-0",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:c,onChange:k=>d(k.target.value),onKeyPress:k=>k.key==="Enter"&&j(),placeholder:e.helpCenterPage.typeMessage,className:"flex-1 bg-zinc-900 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-500"}),o.jsx("button",{onClick:j,disabled:!c.trim(),className:"w-12 h-12 rounded-xl bg-white hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o.jsx(Kte,{className:"w-5 h-5 text-black"})})]})})]});return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"px-6 pt-6 pb-4",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>n==="options"?t("profile"):r("options"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:e.helpCenterPage.title})]})}),o.jsxs("div",{className:"flex-1 pb-24",children:[n==="options"&&C(),n==="email"&&S(),n==="waiting"&&D(),n==="chatActive"&&N()]})]})}function ySe({onNavigate:t}){const{t:e}=pt(),n=e.termsAndConditionsPage.sections;return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx("header",{className:"px-6 pt-6 pb-4 sticky top-0 bg-black z-10",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:e.termsAndConditionsPage.title})]})}),o.jsxs("div",{className:"px-6 pb-24 space-y-6",children:[o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:o.jsx("p",{className:"text-xs text-gray-400",children:e.termsAndConditionsPage.lastUpdate})}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[1].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[1].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[2].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[2].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[3].title}),o.jsx("div",{className:"space-y-2 text-sm text-gray-400",children:n[3].content.map((r,i)=>o.jsx("p",{className:"leading-relaxed",children:r},i))})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[4].title}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("p",{className:"leading-relaxed font-semibold text-white",children:n[4].content}),n[4].items.map((r,i)=>o.jsx("p",{className:"leading-relaxed",children:r},i))]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[5].title}),o.jsx("div",{className:"space-y-2 text-sm text-gray-400",children:n[5].items.map((r,i)=>o.jsx("p",{className:"leading-relaxed",children:r},i))})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[6].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[6].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[7].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[7].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[8].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[8].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[9].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[9].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[10].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[10].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[11].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[11].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[12].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[12].content})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-8",children:o.jsx("p",{className:"text-xs text-gray-400 text-center",children:e.termsAndConditionsPage.agreement})})]})]})}function vSe({onNavigate:t}){const{t:e}=pt(),n=e.privacyPolicyPage.sections;return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx("header",{className:"px-6 pt-6 pb-4 sticky top-0 bg-black z-10",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:e.privacyPolicyPage.title})]})}),o.jsxs("div",{className:"px-6 pb-24 space-y-6",children:[o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:o.jsx("p",{className:"text-xs text-gray-400",children:e.privacyPolicyPage.lastUpdate})}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[1].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[1].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[2].title}),o.jsx("div",{className:"space-y-3 text-sm text-gray-400",children:n[2].items.map((r,i)=>o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white mb-1",children:r.title}),o.jsx("p",{className:"leading-relaxed",children:r.content})]},i))})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[3].title}),o.jsx("div",{className:"space-y-2 text-sm text-gray-400",children:n[3].content.map((r,i)=>o.jsx("p",{className:"leading-relaxed",children:r},i))})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[4].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[4].intro}),o.jsx("div",{className:"space-y-2 text-sm text-gray-400",children:n[4].content.map((r,i)=>o.jsx("p",{className:"leading-relaxed",children:r},i))})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[5].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[5].intro}),o.jsx("div",{className:"space-y-2 text-sm text-gray-400",children:n[5].content.map((r,i)=>o.jsx("p",{className:"leading-relaxed",children:r},i))})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[6].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[6].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[7].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[7].intro}),o.jsx("div",{className:"space-y-2 text-sm text-gray-400",children:n[7].content.map((r,i)=>o.jsx("p",{className:"leading-relaxed",children:r},i))})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[8].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[8].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[9].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[9].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[10].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[10].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[11].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[11].content})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:n[12].title}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[12].content})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-8",children:o.jsx("p",{className:"text-xs text-gray-400 text-center",children:e.privacyPolicyPage.agreement})})]})]})}function xSe({onNavigate:t}){const{t:e}=pt();return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx("header",{className:"px-6 pt-6 pb-4",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:e.termsMenuPage.title})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsx("button",{onClick:()=>t("termsAndConditions"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(QB,{className:"w-6 h-6 text-blue-500"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:e.termsMenuPage.termsOfUse}),o.jsx("p",{className:"text-sm text-gray-400",children:e.termsMenuPage.termsDesc})]})]})}),o.jsx("button",{onClick:()=>t("privacyPolicy"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(Nl,{className:"w-6 h-6 text-purple-500"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:e.termsMenuPage.privacyPolicy}),o.jsx("p",{className:"text-sm text-gray-400",children:e.termsMenuPage.privacyDesc})]})]})}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-6",children:o.jsx("p",{className:"text-xs text-gray-400",children:e.termsMenuPage.lastUpdate})})]})]})}function bSe({onNavigate:t}){const[e,n]=E.useState(!1),[r,i]=E.useState(!1),{language:s,setLanguage:a,t:l}=pt(),[c,d]=E.useState(!1),f=async b=>{b!==s&&(d(!0),setTimeout(async()=>{await a(b),d(!1)},150))};E.useEffect(()=>{const b=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[]);const m={initial:{opacity:0,y:30},whileInView:{opacity:1,y:0}},p={initial:"initial",whileInView:"whileInView",viewport:{once:!0,amount:.2},transition:{duration:.8,ease:"easeOut"}},y={initial:{},whileInView:{transition:{staggerChildren:.1}}},x={initial:"initial",whileInView:"whileInView",viewport:{once:!0,amount:.1}};return o.jsx("div",{className:"bg-white text-black font-sans selection:bg-blue-100 min-h-screen overflow-y-auto overflow-x-hidden",children:o.jsxs("div",{className:`transition-opacity duration-200 ease-linear ${c?"opacity-0":"opacity-100"}`,children:[o.jsxs("nav",{className:`sticky top-0 w-full z-50 transition-all duration-300 ${e?"bg-white/90 backdrop-blur-md border-b border-gray-100 py-3":"bg-white py-5"}`,children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-12",children:[o.jsx("h1",{className:"text-2xl font-black italic tracking-tighter text-black",children:"NexCoin"}),o.jsxs("div",{className:"hidden lg:flex gap-8 text-sm font-semibold text-gray-600",children:[o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.products}),o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.company}),o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.help})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative group",children:[o.jsxs("button",{className:"flex items-center gap-2 text-sm font-semibold text-gray-600 hover:text-black transition-colors px-3 py-2 rounded-lg hover:bg-gray-50",children:[o.jsx(y0,{className:"w-4 h-4"}),o.jsx("span",{className:"uppercase",children:s})]}),o.jsxs("div",{className:"absolute right-0 mt-1 w-32 bg-white border border-gray-100 rounded-xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-[60]",children:[o.jsx("button",{onClick:()=>f("pt"),className:"w-full text-left px-4 py-3 text-sm font-semibold hover:bg-gray-50 first:rounded-t-xl transition-colors",children:"Portugus"}),o.jsx("button",{onClick:()=>f("en"),className:"w-full text-left px-4 py-3 text-sm font-semibold hover:bg-gray-50 transition-colors",children:"English"}),o.jsx("button",{onClick:()=>f("es"),className:"w-full text-left px-4 py-3 text-sm font-semibold hover:bg-gray-50 last:rounded-b-xl transition-colors",children:"Espaol"})]})]}),o.jsx("button",{onClick:()=>t("signup"),className:"bg-black text-white px-6 py-2 rounded-full font-bold hover:bg-zinc-900 transition-colors",children:l.landingPage.openAccount}),o.jsx("button",{className:"lg:hidden",onClick:()=>i(!r),children:r?o.jsx(is,{size:24}):o.jsx($te,{size:24})})]})]}),r&&o.jsxs("div",{className:"lg:hidden absolute top-full left-0 w-full bg-white border-b border-gray-100 py-6 px-6 flex flex-col gap-6 shadow-xl",children:[o.jsx("a",{href:"#",className:"text-lg font-semibold",children:l.landingPage.products}),o.jsx("a",{href:"#",className:"text-lg font-semibold",children:l.landingPage.company}),o.jsx("a",{href:"#",className:"text-lg font-semibold",children:l.landingPage.help}),o.jsx("hr",{}),o.jsx("button",{onClick:()=>{t("signup"),i(!1)},className:"w-full bg-black text-white py-4 rounded-xl font-bold",children:l.landingPage.openAccount}),o.jsx("hr",{}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:()=>{a("pt"),i(!1)},className:`flex-1 py-3 rounded-xl font-bold border transition-colors ${s==="pt"?"bg-blue-50 border-blue-200 text-blue-600":"bg-gray-50 border-gray-100 text-gray-600"}`,children:"PT"}),o.jsx("button",{onClick:()=>{a("en"),i(!1)},className:`flex-1 py-3 rounded-xl font-bold border transition-colors ${s==="en"?"bg-blue-50 border-blue-200 text-blue-600":"bg-gray-50 border-gray-100 text-gray-600"}`,children:"EN"}),o.jsx("button",{onClick:()=>{a("es"),i(!1)},className:`flex-1 py-3 rounded-xl font-bold border transition-colors ${s==="es"?"bg-blue-50 border-blue-200 text-blue-600":"bg-gray-50 border-gray-100 text-gray-600"}`,children:"ES"})]})]})]}),o.jsx("section",{className:"relative pt-12 pb-16 lg:pt-32 lg:pb-32",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid lg:grid-cols-2 items-center gap-12 lg:gap-20",children:[o.jsxs("div",{className:"z-10 text-center lg:text-left",children:[o.jsxs(Je.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl sm:text-5xl lg:text-7xl font-black leading-[1.1] mb-6 lg:mb-8 tracking-tighter",children:[l.landingPage.moreThanGlobalTitle," ",o.jsx("span",{className:"text-blue-600 space-x-2",children:l.landingPage.moreThanGlobalHighlight})]}),o.jsx(Je.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-lg lg:text-xl text-gray-600 mb-8 lg:mb-10 max-w-lg mx-auto lg:mx-0 leading-relaxed",children:l.landingPage.heroSubtitle}),o.jsx(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"flex flex-col sm:flex-row justify-center lg:justify-start gap-4",children:o.jsx("button",{onClick:()=>t("signup"),className:"bg-black text-white px-8 py-4 rounded-full font-bold text-lg hover:scale-105 transition-transform",children:l.landingPage.openAccount})})]}),o.jsx(Je.div,{initial:{opacity:0,scale:.95,rotate:2},animate:{opacity:1,scale:1,rotate:0},transition:{duration:1.2,ease:"easeOut"},className:"relative mt-12 lg:mt-0",children:o.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl aspect-[4/3] lg:aspect-auto",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1556742044-3c52d6e88c62?q=80&w=2070&auto=format&fit=crop",alt:"Fintech experience",className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80%] max-w-[280px] lg:w-64 p-4 lg:p-6 bg-white/30 backdrop-blur-xl border border-white/40 rounded-3xl shadow-2xl",children:[o.jsx("p",{className:"text-[10px] lg:text-xs font-bold text-white/80 uppercase mb-1",children:l.landingPage.yourBalance}),o.jsx("p",{className:"text-3xl lg:text-4xl font-black text-white mb-4",children:s==="pt"?"R$ 42.084":s==="en"?"$ 42,084":" 42.084"}),o.jsxs("div",{className:"flex items-center gap-2 bg-black/20 p-2 rounded-xl border border-white/20",children:[o.jsx("div",{className:"w-6 h-6 lg:w-8 lg:h-8 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(Di,{size:14,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[8px] lg:text-[10px] font-bold text-white/60",children:l.landingPage.yield}),o.jsx("p",{className:"text-[10px] lg:text-xs font-bold text-white",children:l.landingPage.yieldToday})]})]})]})]})})]})}),o.jsx(Je.section,{...x,variants:y,className:"py-8 lg:py-12 border-y border-gray-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[o.jsx(Je.p,{variants:m,className:"text-gray-400 font-bold text-[10px] lg:text-sm uppercase tracking-widest mb-6 lg:mb-10",children:l.landingPage.socialProof}),o.jsxs(Je.div,{variants:m,className:"flex flex-wrap justify-center items-center gap-6 lg:gap-24 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:[o.jsx("div",{className:"text-lg lg:text-2xl font-black text-gray-800",children:"FAST COMPANY"}),o.jsx("div",{className:"text-lg lg:text-2xl font-black text-gray-800",children:"TECHCRUNCH"}),o.jsx("div",{className:"text-lg lg:text-2xl font-black text-gray-800",children:"FINTECH INSIDER"}),o.jsx("div",{className:"text-lg lg:text-2xl font-black text-gray-800",children:"FORBES"})]})]})}),o.jsxs("section",{className:"py-20 lg:py-24 bg-gray-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center mb-2",children:[o.jsx(Je.h2,{...p,variants:m,className:"text-3xl lg:text-6xl font-black tracking-tighter mb-6",children:l.landingPage.elevateSpending}),o.jsx(Je.p,{...p,variants:m,className:"text-lg lg:text-xl text-gray-600 max-w-2xl mx-auto",children:l.landingPage.cardSubtitle}),o.jsx(Je.button,{onClick:()=>t("signup"),...p,variants:m,className:"mt-8 lg:mt-10 bg-black text-white px-8 py-3 rounded-full font-bold",children:l.landingPage.requestCard})]}),o.jsx("div",{className:"relative min-h-[500px] lg:min-h-[700px] flex justify-center items-center py-12 bg-zinc-50/50 overflow-visible perspective-2000",children:o.jsx("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-12 px-6 items-start",children:[{name:"NexCoin Platinum",color:"bg-[linear-gradient(135deg,#a8a9ad_0%,#d1d2d5_20%,#f1f2f6_40%,#ffffff_50%,#f1f2f6_60%,#d1d2d5_80%,#a8a9ad_100%)]",text:"text-zinc-900/80",rotation:"lg:-rotate-2",chip:"silver",holder:"JAMES ANDERSON",number:"4208 8124 9051 2234",expiry:"09/27",features:["Taxa Zero","Cashback 0.5%","Ativos em at 12h"]},{name:"NexCoin Black",color:"bg-gradient-to-br from-[#0f0f0f] via-[#2c2c2c] to-[#000000]",text:"text-white/90",rotation:"lg:scale-105 z-20",chip:"silver",holder:"ELENA RODRGUEZ",number:"4208 7742 8810 9945",expiry:"11/29",features:["Cashback 1.5%","Proteo Pro","Ativos em at 6h"]},{name:"NexCoin Elite",color:"bg-[linear-gradient(135deg,#b88a44_0%,#e1b66b_20%,#fdf5b7_40%,#ffffff_50%,#fdf5b7_60%,#e1b66b_80%,#b88a44_100%)]",text:"text-amber-950/80",rotation:"lg:rotate-2",chip:"gold",holder:"CHEN WEI",number:"4208 5521 3340 7712",expiry:"05/30",features:["Cashback 3.0%","Seguros Premium","Ativos em at 2h"]}].map((b,_)=>o.jsxs("div",{className:"flex flex-col items-center gap-6",children:[o.jsxs(Je.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},whileHover:{scale:1.05,rotateY:-20,rotateX:12,boxShadow:"0 50px 100px -20px rgba(0,0,0,0.5)"},viewport:{once:!0},transition:{type:"spring",stiffness:150,damping:12},className:`w-[320px] sm:w-[360px] h-[200px] sm:h-[225px] rounded-[18px] shadow-2xl relative overflow-hidden flex flex-col p-6 lg:p-8 justify-between border border-white/40 shrink-0 cursor-pointer 
                                        ${b.color} ${b.rotation} isolate`,style:{transformStyle:"preserve-3d"},children:[o.jsx(Je.div,{animate:{left:["-100%","250%"]},transition:{duration:4,repeat:1/0,repeatDelay:2,ease:"easeInOut"},className:"absolute inset-0 w-2/3 bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-25 pointer-events-none z-0"}),o.jsxs("div",{className:"relative z-10",style:{transform:"translateZ(50px)"},children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("p",{className:`text-xl lg:text-2xl font-black tracking-tight uppercase ${b.text}`,children:"NexCoin"}),o.jsx("p",{className:`text-[9px] font-bold tracking-[0.4em] uppercase opacity-70 ${b.text}`,children:b.name.split(" ")[1]})]}),o.jsxs("div",{className:`w-14 h-11 rounded-lg relative overflow-hidden border border-black/10 shadow-lg flex items-center justify-center
                                                ${b.chip==="gold"?"bg-[linear-gradient(135deg,#d4af37,#fdf5b7,#d4af37)]":"bg-[linear-gradient(135deg,#a0a0a0,#e0e0e0,#a0a0a0)]"}`,children:[o.jsx("div",{className:"absolute inset-0 grid grid-cols-4 grid-rows-4 gap-[1.5px] p-[3px] opacity-30",children:[...Array(16)].map((T,L)=>o.jsx("div",{className:"border-[0.5px] border-black/30"},L))}),o.jsx("div",{className:"w-10 h-7 border border-black/10 rounded-md relative z-10 bg-black/5"})]})]}),o.jsx("p",{className:`text-lg sm:text-2xl font-mono tracking-[0.15em] mb-2 ${b.text}`,style:{textShadow:_===2?"1px 1px 1px rgba(255,255,255,0.7), -1px -1px 1px rgba(0,0,0,0.3)":"1px 1px 1px rgba(0,0,0,0.6), -1px -1px 1px rgba(255,255,255,0.2)"},children:b.number})]}),o.jsxs("div",{className:"relative z-10 flex justify-between items-end",style:{transform:"translateZ(60px)"},children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("p",{className:`text-[8px] uppercase font-bold opacity-60 mb-0.5 ${b.text}`,children:["Valid Thru ",b.expiry]}),o.jsx("p",{className:`text-[11px] font-black uppercase tracking-[0.2em] ${b.text}`,children:b.holder})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"flex items-center mb-0.5",children:o.jsx("div",{className:"w-7 h-7 rounded-full bg-[#EB001B] relative flex items-center justify-center",children:o.jsx("div",{className:"absolute right-[-11px] w-7 h-7 rounded-full bg-[#F79E1B]/95 mix-blend-normal shadow-sm"})})}),o.jsx("p",{className:`text-[6px] font-black tracking-tight italic mt-1 ${b.text} opacity-80 uppercase`,style:{transform:"translateX(5px)"},children:"mastercard"})]})]})]}),o.jsxs(Je.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3+_*.1},className:"flex flex-col items-center w-full",children:[o.jsx("ul",{className:"flex flex-col gap-2 mb-6",children:b.features.map((T,L)=>o.jsxs("li",{className:"flex items-center gap-2 text-sm font-medium text-gray-600",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600"}),T]},L))}),o.jsxs("button",{onClick:()=>t("signup"),className:`w-full py-3 rounded-xl font-bold transition-all hover:scale-105 active:scale-95
                                            ${_===1?"bg-black text-white shadow-xl px-12":"bg-white text-black border border-gray-200 px-8"}`,children:["Escolher ",b.name.split(" ")[1]]})]})]},_))})})]}),o.jsxs("section",{className:"relative min-h-[500px] lg:min-h-screen flex items-center py-20 lg:py-32",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1510414842594-a61c69b5ae57?q=80&w=2070&auto=format&fit=crop",alt:"Life",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 text-center text-white w-full",children:[o.jsx(Je.h2,{...p,variants:m,className:"text-3xl lg:text-7xl font-black mb-6 tracking-tighter leading-tight",children:l.landingPage.highYieldTitle}),o.jsx(Je.p,{...p,variants:m,className:"text-lg lg:text-xl opacity-90 mb-8 lg:mb-10 max-w-2xl mx-auto text-white/80",children:l.landingPage.highYieldSubtitle}),o.jsx(Je.button,{onClick:()=>t("signup"),...p,variants:m,className:"bg-white text-black px-8 lg:px-10 py-3 lg:py-4 rounded-full font-bold text-lg",children:l.landingPage.exploreYields})]})]}),o.jsx("section",{className:"py-20 lg:py-32 bg-white overflow-hidden",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid lg:grid-cols-2 items-center gap-12 lg:gap-20 text-center lg:text-left",children:[o.jsxs(Je.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[o.jsx("h2",{className:"text-3xl lg:text-5xl font-black tracking-tighter mb-6 lg:mb-8 leading-tight",children:l.landingPage.safeHarborTitle}),o.jsx("p",{className:"text-lg lg:text-xl text-gray-600 mb-8 leading-relaxed",children:l.landingPage.safeHarborSubtitle}),o.jsxs("button",{onClick:()=>t("signup"),className:"bg-black text-white px-8 py-3 rounded-full font-bold flex items-center justify-center lg:justify-start gap-2 mx-auto lg:mx-0",children:[l.landingPage.security," ",o.jsx(jte,{size:18})]})]}),o.jsx(Je.div,{initial:{opacity:0,x:50,rotate:10},whileInView:{opacity:1,x:0,rotate:-6},viewport:{once:!0},transition:{duration:1,ease:"easeOut"},className:"flex justify-center mt-8 lg:mt-0",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-blue-500 rounded-full blur-[80px] lg:blur-[100px] opacity-20"}),o.jsx("div",{className:"w-48 h-48 lg:w-96 lg:h-96 relative z-10 flex items-center justify-center",children:o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 rounded-[2rem] lg:rounded-[2.5rem] p-1 shadow-inner",children:o.jsx("div",{className:"w-full h-full bg-white rounded-[1.8rem] lg:rounded-[2.2rem] flex items-center justify-center shadow-2xl",children:o.jsx(wu,{className:"w-20 h-20 lg:w-[120px] lg:h-[120px] text-black",strokeWidth:1.5})})})})]})})]})}),o.jsx("section",{className:"py-20 lg:py-24 bg-black text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[o.jsx(Je.h2,{...p,variants:m,className:"text-2xl lg:text-5xl font-black mb-6 lg:mb-8 tracking-tighter",children:l.landingPage.enterCryptoTitle}),o.jsx(Je.p,{...p,variants:m,className:"text-lg lg:text-xl text-white/60 mb-10 lg:mb-12 max-w-2xl mx-auto",children:l.landingPage.enterCryptoSubtitle}),o.jsx(Je.button,{onClick:()=>t("signup"),...p,variants:m,className:"bg-white text-black px-8 lg:px-10 py-3 lg:py-4 rounded-full font-bold mb-12 lg:mb-20 hover:scale-105 transition-transform",children:l.landingPage.exploreCrypto}),o.jsxs("div",{className:"relative flex justify-center py-10 lg:py-16 h-[250px] lg:h-[350px] items-center overflow-visible",children:[o.jsx(Je.div,{animate:{y:[0,-20,0],rotate:[0,5,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"z-10",children:o.jsx("div",{className:"inline-flex items-center justify-center rounded-full border-2 lg:border-4 border-green-500/30 bg-black shadow-[0_0_50px_rgba(38,161,123,0.3)] p-1 lg:p-2",children:o.jsx(mt,{symbol:"USDT",size:"huge"})})}),o.jsx(Je.div,{animate:{y:[0,25,0],x:[0,10,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute left-[2%] lg:left-[15%] top-0 lg:top-5 shadow-2xl",children:o.jsx(mt,{symbol:"ETH",size:"lg"})}),o.jsx(Je.div,{animate:{y:[0,-15,0],x:[0,-10,0]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute right-[2%] lg:right-[15%] top-2 lg:top-10 shadow-2xl",children:o.jsx(mt,{symbol:"DOGE",size:"lg"})}),o.jsx(Je.div,{animate:{y:[0,20,0],x:[0,15,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute left-[10%] lg:left-[22%] bottom-5 lg:bottom-10 shadow-2xl",children:o.jsx(mt,{symbol:"SOL",size:"lg"})}),o.jsx(Je.div,{animate:{y:[0,-25,0],x:[0,-8,0]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute right-[10%] lg:right-[22%] bottom-2 lg:bottom-8 shadow-2xl",children:o.jsx(mt,{symbol:"LTC",size:"lg"})}),o.jsx(Je.div,{animate:{y:[0,15,0],rotate:[0,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:.3},className:"absolute left-[30%] lg:left-[35%] top-[-10px] lg:top-0 opacity-60 lg:opacity-80",children:o.jsx(mt,{symbol:"XRP",size:"md"})}),o.jsx(Je.div,{animate:{y:[0,-18,0],rotate:[0,10,0]},transition:{duration:6.5,repeat:1/0,ease:"easeInOut",delay:.8},className:"absolute right-[30%] lg:right-[35%] top-[-5px] lg:top-5 opacity-60 lg:opacity-80",children:o.jsx(mt,{symbol:"ADA",size:"md"})}),o.jsx(Je.div,{animate:{scale:[1,1.1,1],y:[0,12,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:2.5},className:"absolute left-[35%] lg:left-[40%] bottom-[-10px] lg:bottom-0 opacity-60",children:o.jsx(mt,{symbol:"DOT",size:"md"})}),o.jsx(Je.div,{animate:{scale:[1,1.1,1],y:[0,-12,0]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:1.2},className:"absolute right-[35%] lg:right-[40%] bottom-[-5px] lg:bottom-5 opacity-60",children:o.jsx(mt,{symbol:"MATIC",size:"md"})}),o.jsx(Je.div,{animate:{y:[0,-15,0],x:[0,-10,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:1.1},className:"absolute right-[5%] lg:right-[8%] top-[40%] lg:top-[35%] shadow-xl z-20",children:o.jsx(mt,{symbol:"BTC",size:"lg"})}),o.jsx(Je.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute left-[15%] lg:left-[28%] top-[20%] lg:top-[30%] opacity-40 group-hover:opacity-100 transition-opacity",children:o.jsx(mt,{symbol:"BNB",size:"sm"})}),o.jsx(Je.div,{animate:{y:[0,20,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:3},className:"absolute right-[15%] lg:right-[28%] top-[20%] lg:top-[30%] opacity-40 group-hover:opacity-100 transition-opacity",children:o.jsx(mt,{symbol:"AVAX",size:"sm"})})]})]})}),o.jsxs("section",{className:"py-20 lg:py-24 bg-gradient-to-br from-blue-600 via-indigo-700 to-black text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),o.jsxs("div",{className:"max-w-5xl mx-auto px-6 text-center relative z-10",children:[o.jsx("h2",{className:"text-2xl lg:text-4xl font-black mb-8 lg:mb-10 tracking-tighter leading-tight",children:l.landingPage.joinThousands}),o.jsx("button",{onClick:()=>t("signup"),className:"bg-white text-black px-8 lg:px-10 py-4 lg:py-5 rounded-full font-bold text-lg lg:text-xl hover:scale-105 transition-transform",children:l.landingPage.openAccountNow})]})]}),o.jsx("footer",{className:"bg-gray-50 pt-24 pb-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-12 mb-20",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("h1",{className:"text-3xl font-black italic mb-8",children:"NexCoin"}),o.jsx("p",{className:"text-gray-500 max-w-xs mb-8",children:l.landingPage.footerTagline}),o.jsx("div",{className:"flex gap-4"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm uppercase mb-6 tracking-widest",children:l.landingPage.footerProduct}),o.jsxs("ul",{className:"flex flex-col gap-4 text-gray-500 text-sm font-semibold",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerCards})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerCrypto})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerBalances})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerYields})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm uppercase mb-6 tracking-widest",children:l.landingPage.footerCompany}),o.jsxs("ul",{className:"flex flex-col gap-4 text-gray-500 text-sm font-semibold",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerAbout})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerCareers})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerBlog})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerPress})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm uppercase mb-6 tracking-widest",children:l.landingPage.footerSupport}),o.jsxs("ul",{className:"flex flex-col gap-4 text-gray-500 text-sm font-semibold",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerHelp})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerContact})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerSecurity})})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-12 text-center lg:text-left",children:o.jsx("p",{className:"text-gray-400 text-xs leading-relaxed max-w-4xl",children:l.landingPage.footerDisclaimer})})]})})]})})}var kd={},ZE={exports:{}},eC,S3;function wSe(){if(S3)return eC;S3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return eC=t,eC}var tC,N3;function _Se(){if(N3)return tC;N3=1;var t=wSe();function e(){}function n(){}return n.resetWarningCache=e,tC=function(){function r(a,l,c,d,f,m){if(m!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},tC}var P3;function iH(){return P3||(P3=1,ZE.exports=_Se()()),ZE.exports}var nC,A3;function sH(){return A3||(A3=1,nC={L:1,M:0,Q:3,H:2}),nC}var rC,I3;function aH(){return I3||(I3=1,rC={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),rC}var iC,j3;function ESe(){if(j3)return iC;j3=1;var t=aH();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},iC=e,iC}var sC,k3;function CSe(){if(k3)return sC;k3=1;var t=sH();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var i=e.getRsBlockTable(n,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var s=i.length/3,a=new Array,l=0;l<s;l++)for(var c=i[l*3+0],d=i[l*3+1],f=i[l*3+2],m=0;m<c;m++)a.push(new e(d,f));return a},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},sC=e,sC}var aC,R3;function TSe(){if(R3)return aC;R3=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},aC=t,aC}var oC,D3;function oH(){if(D3)return oC;D3=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return oC=t,oC}var lC,O3;function lH(){if(O3)return lC;O3=1;var t=oH();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var i=0;i<n.length&&n[i]==0;)i++;this.num=new Array(n.length-i+r);for(var s=0;s<n.length-i;s++)this.num[s]=n[s+i]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(var s=0;s<n.getLength();s++)r[i+s]^=t.gexp(t.glog(this.get(i))+t.glog(n.get(s)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),i=new Array(this.getLength()),s=0;s<this.getLength();s++)i[s]=this.get(s);for(var s=0;s<n.getLength();s++)i[s]^=t.gexp(t.glog(n.get(s))+r);return new e(i,0).mod(n)}},lC=e,lC}var cC,M3;function SSe(){if(M3)return cC;M3=1;var t=aH(),e=lH(),n=oH(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var a=s<<10;i.getBCHDigit(a)-i.getBCHDigit(i.G15)>=0;)a^=i.G15<<i.getBCHDigit(a)-i.getBCHDigit(i.G15);return(s<<10|a)^i.G15_MASK},getBCHTypeNumber:function(s){for(var a=s<<12;i.getBCHDigit(a)-i.getBCHDigit(i.G18)>=0;)a^=i.G18<<i.getBCHDigit(a)-i.getBCHDigit(i.G18);return s<<12|a},getBCHDigit:function(s){for(var a=0;s!=0;)a++,s>>>=1;return a},getPatternPosition:function(s){return i.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,a,l){switch(s){case r.PATTERN000:return(a+l)%2==0;case r.PATTERN001:return a%2==0;case r.PATTERN010:return l%3==0;case r.PATTERN011:return(a+l)%3==0;case r.PATTERN100:return(Math.floor(a/2)+Math.floor(l/3))%2==0;case r.PATTERN101:return a*l%2+a*l%3==0;case r.PATTERN110:return(a*l%2+a*l%3)%2==0;case r.PATTERN111:return(a*l%3+(a+l)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var a=new e([1],0),l=0;l<s;l++)a=a.multiply(new e([1,n.gexp(l)],0));return a},getLengthInBits:function(s,a){if(1<=a&&a<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(a<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(a<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+a)},getLostPoint:function(s){for(var a=s.getModuleCount(),l=0,c=0;c<a;c++)for(var d=0;d<a;d++){for(var f=0,m=s.isDark(c,d),p=-1;p<=1;p++)if(!(c+p<0||a<=c+p))for(var y=-1;y<=1;y++)d+y<0||a<=d+y||p==0&&y==0||m==s.isDark(c+p,d+y)&&f++;f>5&&(l+=3+f-5)}for(var c=0;c<a-1;c++)for(var d=0;d<a-1;d++){var x=0;s.isDark(c,d)&&x++,s.isDark(c+1,d)&&x++,s.isDark(c,d+1)&&x++,s.isDark(c+1,d+1)&&x++,(x==0||x==4)&&(l+=3)}for(var c=0;c<a;c++)for(var d=0;d<a-6;d++)s.isDark(c,d)&&!s.isDark(c,d+1)&&s.isDark(c,d+2)&&s.isDark(c,d+3)&&s.isDark(c,d+4)&&!s.isDark(c,d+5)&&s.isDark(c,d+6)&&(l+=40);for(var d=0;d<a;d++)for(var c=0;c<a-6;c++)s.isDark(c,d)&&!s.isDark(c+1,d)&&s.isDark(c+2,d)&&s.isDark(c+3,d)&&s.isDark(c+4,d)&&!s.isDark(c+5,d)&&s.isDark(c+6,d)&&(l+=40);for(var b=0,d=0;d<a;d++)for(var c=0;c<a;c++)s.isDark(c,d)&&b++;var _=Math.abs(100*b/a/a-50)/5;return l+=_*10,l}};return cC=i,cC}var uC,L3;function NSe(){if(L3)return uC;L3=1;var t=ESe(),e=CSe(),n=TSe(),r=SSe(),i=lH();function s(l,c){this.typeNumber=l,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var a=s.prototype;return a.addData=function(l){var c=new t(l);this.dataList.push(c),this.dataCache=null},a.isDark=function(l,c){if(l<0||this.moduleCount<=l||c<0||this.moduleCount<=c)throw new Error(l+","+c);return this.modules[l][c]},a.getModuleCount=function(){return this.moduleCount},a.make=function(){if(this.typeNumber<1){var l=1;for(l=1;l<40;l++){for(var c=e.getRSBlocks(l,this.errorCorrectLevel),d=new n,f=0,m=0;m<c.length;m++)f+=c[m].dataCount;for(var m=0;m<this.dataList.length;m++){var p=this.dataList[m];d.put(p.mode,4),d.put(p.getLength(),r.getLengthInBits(p.mode,l)),p.write(d)}if(d.getLengthInBits()<=f*8)break}this.typeNumber=l}this.makeImpl(!1,this.getBestMaskPattern())},a.makeImpl=function(l,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++)this.modules[d][f]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(l,c),this.typeNumber>=7&&this.setupTypeNumber(l),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},a.setupPositionProbePattern=function(l,c){for(var d=-1;d<=7;d++)if(!(l+d<=-1||this.moduleCount<=l+d))for(var f=-1;f<=7;f++)c+f<=-1||this.moduleCount<=c+f||(0<=d&&d<=6&&(f==0||f==6)||0<=f&&f<=6&&(d==0||d==6)||2<=d&&d<=4&&2<=f&&f<=4?this.modules[l+d][c+f]=!0:this.modules[l+d][c+f]=!1)},a.getBestMaskPattern=function(){for(var l=0,c=0,d=0;d<8;d++){this.makeImpl(!0,d);var f=r.getLostPoint(this);(d==0||l>f)&&(l=f,c=d)}return c},a.createMovieClip=function(l,c,d){var f=l.createEmptyMovieClip(c,d),m=1;this.make();for(var p=0;p<this.modules.length;p++)for(var y=p*m,x=0;x<this.modules[p].length;x++){var b=x*m,_=this.modules[p][x];_&&(f.beginFill(0,100),f.moveTo(b,y),f.lineTo(b+m,y),f.lineTo(b+m,y+m),f.lineTo(b,y+m),f.endFill())}return f},a.setupTimingPattern=function(){for(var l=8;l<this.moduleCount-8;l++)this.modules[l][6]==null&&(this.modules[l][6]=l%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},a.setupPositionAdjustPattern=function(){for(var l=r.getPatternPosition(this.typeNumber),c=0;c<l.length;c++)for(var d=0;d<l.length;d++){var f=l[c],m=l[d];if(this.modules[f][m]==null)for(var p=-2;p<=2;p++)for(var y=-2;y<=2;y++)p==-2||p==2||y==-2||y==2||p==0&&y==0?this.modules[f+p][m+y]=!0:this.modules[f+p][m+y]=!1}},a.setupTypeNumber=function(l){for(var c=r.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var f=!l&&(c>>d&1)==1;this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=f}for(var d=0;d<18;d++){var f=!l&&(c>>d&1)==1;this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=f}},a.setupTypeInfo=function(l,c){for(var d=this.errorCorrectLevel<<3|c,f=r.getBCHTypeInfo(d),m=0;m<15;m++){var p=!l&&(f>>m&1)==1;m<6?this.modules[m][8]=p:m<8?this.modules[m+1][8]=p:this.modules[this.moduleCount-15+m][8]=p}for(var m=0;m<15;m++){var p=!l&&(f>>m&1)==1;m<8?this.modules[8][this.moduleCount-m-1]=p:m<9?this.modules[8][15-m-1+1]=p:this.modules[8][15-m-1]=p}this.modules[this.moduleCount-8][8]=!l},a.mapData=function(l,c){for(var d=-1,f=this.moduleCount-1,m=7,p=0,y=this.moduleCount-1;y>0;y-=2)for(y==6&&y--;;){for(var x=0;x<2;x++)if(this.modules[f][y-x]==null){var b=!1;p<l.length&&(b=(l[p]>>>m&1)==1);var _=r.getMask(c,f,y-x);_&&(b=!b),this.modules[f][y-x]=b,m--,m==-1&&(p++,m=7)}if(f+=d,f<0||this.moduleCount<=f){f-=d,d=-d;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(l,c,d){for(var f=e.getRSBlocks(l,c),m=new n,p=0;p<d.length;p++){var y=d[p];m.put(y.mode,4),m.put(y.getLength(),r.getLengthInBits(y.mode,l)),y.write(m)}for(var x=0,p=0;p<f.length;p++)x+=f[p].dataCount;if(m.getLengthInBits()>x*8)throw new Error("code length overflow. ("+m.getLengthInBits()+">"+x*8+")");for(m.getLengthInBits()+4<=x*8&&m.put(0,4);m.getLengthInBits()%8!=0;)m.putBit(!1);for(;!(m.getLengthInBits()>=x*8||(m.put(s.PAD0,8),m.getLengthInBits()>=x*8));)m.put(s.PAD1,8);return s.createBytes(m,f)},s.createBytes=function(l,c){for(var d=0,f=0,m=0,p=new Array(c.length),y=new Array(c.length),x=0;x<c.length;x++){var b=c[x].dataCount,_=c[x].totalCount-b;f=Math.max(f,b),m=Math.max(m,_),p[x]=new Array(b);for(var T=0;T<p[x].length;T++)p[x][T]=255&l.buffer[T+d];d+=b;var L=r.getErrorCorrectPolynomial(_),M=new i(p[x],L.getLength()-1),z=M.mod(L);y[x]=new Array(L.getLength()-1);for(var T=0;T<y[x].length;T++){var I=T+z.getLength()-y[x].length;y[x][T]=I>=0?z.get(I):0}}for(var j=0,T=0;T<c.length;T++)j+=c[T].totalCount;for(var C=new Array(j),S=0,T=0;T<f;T++)for(var x=0;x<c.length;x++)T<p[x].length&&(C[S++]=p[x][T]);for(var T=0;T<m;T++)for(var x=0;x<c.length;x++)T<y[x].length&&(C[S++]=y[x][T]);return C},uC=s,uC}var lv={},V3;function PSe(){if(V3)return lv;V3=1,Object.defineProperty(lv,"__esModule",{value:!0});var t=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var m=arguments[f];for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(d[p]=m[p])}return d},e=iH(),n=s(e),r=Jr(),i=s(r);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,f){var m={};for(var p in d)f.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(d,p)&&(m[p]=d[p]);return m}var l={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},c=(0,r.forwardRef)(function(d,f){var m=d.bgColor,p=d.bgD,y=d.fgD,x=d.fgColor,b=d.size,_=d.title,T=d.viewBoxSize,L=d.xmlns,M=L===void 0?"http://www.w3.org/2000/svg":L,z=a(d,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",t({},z,{height:b,ref:f,viewBox:"0 0 "+T+" "+T,width:b,xmlns:M}),_?i.default.createElement("title",null,_):null,i.default.createElement("path",{d:p,fill:m}),i.default.createElement("path",{d:y,fill:x}))});return c.displayName="QRCodeSvg",c.propTypes=l,lv.default=c,lv}var F3;function ASe(){if(F3)return kd;F3=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.QRCode=void 0;var t=Object.assign||function(b){for(var _=1;_<arguments.length;_++){var T=arguments[_];for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&(b[L]=T[L])}return b},e=iH(),n=m(e),r=sH(),i=m(r),s=NSe(),a=m(s),l=Jr(),c=m(l),d=PSe(),f=m(d);function m(b){return b&&b.__esModule?b:{default:b}}function p(b,_){var T={};for(var L in b)_.indexOf(L)>=0||Object.prototype.hasOwnProperty.call(b,L)&&(T[L]=b[L]);return T}var y={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},x=(0,l.forwardRef)(function(b,_){var T=b.bgColor,L=T===void 0?"#FFFFFF":T,M=b.fgColor,z=M===void 0?"#000000":M,I=b.level,j=I===void 0?"L":I,C=b.size,S=C===void 0?256:C,D=b.value,N=p(b,["bgColor","fgColor","level","size","value"]),k=new a.default(-1,i.default[j]);k.addData(D),k.make();var O=k.modules;return c.default.createElement(f.default,t({},N,{bgColor:L,bgD:O.map(function(A,W){return A.map(function(Y,J){return Y?"":"M "+J+" "+W+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:z,fgD:O.map(function(A,W){return A.map(function(Y,J){return Y?"M "+J+" "+W+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:_,size:S,viewBoxSize:O.length}))});return kd.QRCode=x,x.displayName="QRCode",x.propTypes=y,kd.default=x,kd}var ISe=ASe();const jSe=di(ISe);function kSe({onNavigate:t}){const[e,n]=E.useState(""),[r,i]=E.useState(null),[s,a]=E.useState("Ethereum"),[l,c]=E.useState(!1),[d,f]=E.useState(!1),{prices:m}=fi(),{portfolio:p}=Bs(),y=I=>{a(I),c(!1),f(!1)},x=[{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"BNB",name:"Binance Coin",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"}],b=I=>p.holdings.find(C=>C.symbol===I)?.amount||0,_=[{id:"Ethereum",name:"Ethereum",icon:"ETH"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB"},{id:"Polygon",name:"Polygon",icon:"MATIC"},{id:"Arbitrum",name:"Arbitrum",icon:"ARB"},{id:"Optimism",name:"Optimism",icon:"OP"},{id:"Base",name:"Base",icon:"BASE"},{id:"Avalanche",name:"Avalanche C-Chain",icon:"AVAX"},{id:"Solana",name:"Solana",icon:"SOL"},{id:"Tron",name:"Tron",icon:"TRX"},{id:"Fantom",name:"Fantom",icon:"FTM"},{id:"zkSync",name:"zkSync Era",icon:"ZK"},{id:"Cronos",name:"Cronos",icon:"CRO"}],T=(I,j)=>(m[I]?.usd||0)*j,L=x.filter(I=>I.symbol.toLowerCase().includes(e.toLowerCase())||I.name.toLowerCase().includes(e.toLowerCase())),M=I=>{const j=document.createElement("textarea");j.value=I,j.style.position="fixed",j.style.left="-999999px",j.style.top="-999999px",document.body.appendChild(j),j.focus(),j.select();try{document.execCommand("copy"),c(!0),setTimeout(()=>c(!1),2e3)}catch(C){console.error("Erro ao copiar:",C)}document.body.removeChild(j)},z=(I,j)=>{const C=W=>{let Y=5381;for(let J=0;J<W.length;J++){const V=W.charCodeAt(J);Y=(Y<<5)+Y+V}return Math.abs(Y)+999999},S=(W,Y)=>{const J=[];let V=C(W);for(let G=0;G<Y;G++){V=V*1664525+1013904223&2147483647;const q=(V^V>>16)&255;J.push(q===0?G%255+1:q)}return J},D=W=>W.map(Y=>Y.toString(16).padStart(2,"0")).join(""),N=W=>{const Y="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let J=BigInt("0x"+D(W)),V="";for(;J>0;){const G=Number(J%58n);V=Y[G]+V,J=J/58n}for(const G of W)if(G===0)V="1"+V;else break;return V},k=W=>{const Y="qpzry9x8gf2tvdw0s3jn54khce6mua7l";let J="";for(const V of W)J+=Y[V%Y.length];return J},O=`${I}-${j}-nexcoin-wallet`;if(j==="Tron"){const W=S(O,20);return"T"+N(W).substring(1,34)}if(I==="BTC"){const W=S(O,32);return"bc1q"+k(W).substring(0,38)}if(I==="SOL"||j==="Solana"){const W=S(O,32);return N(W).substring(0,44)}if(I==="ETH"||j==="Ethereum"||j==="Polygon"||j==="Optimism"||j==="BSC"||j==="Arbitrum"||j==="Base"||j==="Avalanche"||j==="Fantom"||j==="zkSync"||j==="Cronos"||I==="BNB"||I==="MATIC"||I==="LINK"||I==="UNI"||I==="AVAX"||I==="USDT"){const W=S(O,20);return"0x"+D(W)}if(I==="XRP"){const W=[0,...S(O,20)];return"r"+N(W).substring(1,34)}if(I==="ADA"){const W=S(O,57);return"addr1"+k(W).substring(0,98)}if(I==="DOT"){const W=[0,...S(O,32)];return N(W).substring(0,48)}if(I==="DOGE"){const W=[30,...S(O,20)];return N(W).substring(0,34)}if(I==="LTC"){const W=S(O,32);return"ltc1q"+k(W).substring(0,38)}if(I==="ATOM"){const W=S(O,32);return"cosmos1"+k(W).substring(0,38)}const A=S(O,20);return"0x"+D(A)};if(r){const I=x.find(C=>C.symbol===r);if(!I)return null;const j=z(I.symbol,s);return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl mb-1 text-gray-400",children:["Receber ",I.symbol]}),o.jsx("p",{className:"text-lg text-gray-500",children:I.name})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(mt,{symbol:I.symbol,size:"lg"})})]})]}),o.jsx("div",{className:"px-6 py-8 flex items-center justify-center",children:o.jsx("div",{className:"w-64 h-64 bg-zinc-900 rounded-3xl p-6 flex items-center justify-center",children:o.jsx("div",{className:"w-full h-full bg-white rounded-2xl p-4 flex items-center justify-center",children:o.jsx(jSe,{value:j,size:180})})})}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Endereo da carteira"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 bg-zinc-800 rounded-xl px-4 py-3 text-sm font-mono text-gray-300 overflow-hidden",children:o.jsx("div",{className:"truncate",children:j})}),o.jsx("button",{onClick:()=>M(j),className:"flex-shrink-0 w-12 h-12 rounded-xl bg-zinc-800 hover:bg-zinc-700 flex items-center justify-center transition-all active:scale-95",children:l?o.jsx(An,{className:"w-5 h-5 text-green-500"}):o.jsx(vn,{className:"w-5 h-5 text-gray-400"})})]}),l&&o.jsx("p",{className:"text-xs text-green-500 mt-2 text-center font-semibold",children:"Endereo copiado!"})]})}),o.jsx("div",{className:"flex-1 px-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6",children:[o.jsx("h2",{className:"text-xl mb-3",children:"Selecione a rede"}),o.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Certifique-se de selecionar a rede correta ou seus fundos podem ser perdidos."," ",o.jsx("a",{href:"#",className:"text-blue-500 hover:text-blue-400",children:"Saber mais"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>f(!d),className:"w-full bg-zinc-800 rounded-2xl p-4 flex items-center gap-4 hover:bg-zinc-700 transition-all",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(mt,{symbol:_.find(C=>C.id===s)?.icon||"ETH",size:"sm"})}),o.jsx("div",{className:"flex-1 text-left",children:o.jsx("div",{className:"text-lg font-semibold",children:_.find(C=>C.id===s)?.name||"Ethereum"})}),o.jsx(Ml,{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${d?"rotate-180":""}`})]}),d&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),o.jsx("div",{className:"absolute z-20 w-full mt-2 bg-zinc-800/95 backdrop-blur-xl rounded-2xl border border-zinc-700/50 shadow-2xl overflow-hidden",children:o.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:_.map(C=>o.jsxs("button",{onClick:()=>y(C.id),className:`w-full p-4 flex items-center gap-4 transition-all border-b border-zinc-700/30 last:border-b-0 ${s===C.id?"bg-blue-500/20":"hover:bg-zinc-700/50"}`,children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(mt,{symbol:C.icon,size:"sm"})}),o.jsx("div",{className:"flex-1 text-left",children:o.jsxs("div",{className:"text-base font-semibold",children:[" ",C.name]})}),s===C.id&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0",children:o.jsx(An,{className:"w-4 h-4 text-white",strokeWidth:3})})]},C.id))})})]})]})]})})]})}return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-3xl",children:"Receber"})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Wl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Pesquise criptomoedas compatveis",value:e,onChange:I=>n(I.target.value),className:"w-full bg-zinc-900 text-white rounded-full py-3.5 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-gray-700 placeholder-gray-500"})]})}),o.jsxs("div",{className:"flex-1 px-6",children:[o.jsx("div",{className:"space-y-0",children:L.map(I=>{const j=b(I.symbol),C=T(I.id,j);return o.jsxs("button",{className:"w-full bg-zinc-900/50 hover:bg-zinc-800/50 transition-colors p-4 flex items-center gap-4 border-b border-zinc-800/50 last:border-b-0",onClick:()=>i(I.symbol),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(mt,{symbol:I.symbol,size:"md"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-base",children:I.symbol}),o.jsx("div",{className:"text-sm text-gray-400",children:I.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold text-base",children:[I.symbol==="USDT"?Ur(j):Qi(j)," ",I.symbol]}),o.jsxs("div",{className:"text-sm text-gray-400",children:[Ur(C)," USDT"]})]})]},I.symbol)})}),L.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-400",children:"Nenhuma criptomoeda encontrada"})})]})]})}function cH(t,e){const n=Date.now(),r=Math.random().toString(36).substring(2,15),i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",s=a=>{let l="";for(let c=0;c<a;c++)l+=i[Math.floor(Math.random()*i.length)];return l};switch(t){case"Ethereum":case"BSC":case"Polygon":return`0x${e.substring(0,8)}${n.toString(16)}${r}`.substring(0,42);case"Bitcoin":return`bc1q${e.substring(0,6)}${r}${n.toString(36)}`.substring(0,42);case"Tron":return`T${s(33)}`;case"Solana":return`${e.substring(0,8)}${r}${n.toString(36)}Solana`.substring(0,44);case"Ripple":return`r${e.substring(0,7)}${r}${n.toString(36)}`.substring(0,34);default:return`${t.substring(0,3).toUpperCase()}${e.substring(0,8)}${r}${n.toString(36)}`}}async function uH(t,e,n){const r=n||cH(e,t);console.log(` Salvando endereo ${e}: ${r}`);const i=st(be,"users",t,"walletAddresses",e),s={network:e,address:r,userId:t,createdAt:new Date,updatedAt:new Date};await br(i,s),console.log(" Endereo salvo no documento do usurio");const a=st(be,"walletAddressIndex",r.toLowerCase());return await br(a,{address:r,userId:t,network:e,updatedAt:new Date}),console.log(` Endereo indexado globalmente: ${r}`),await new Promise(l=>setTimeout(l,300)),s}async function RSe(t,e){try{const n=st(be,"users",t,"walletAddresses",e),r=await ns(n);return r.exists()?r.data().address:(await uH(t,e)).address}catch(n){return console.error(" Erro ao buscar endereo:",n),null}}async function DSe(t){try{console.log(" Buscando userId para endereo:",t);const e=st(be,"walletAddressIndex",t.toLowerCase()),n=await ns(e);if(n.exists()){const r=n.data();return console.log(" Endereo encontrado no ndice global:",r.userId),r.userId}return console.warn(" Endereo no encontrado no ndice global:",t),console.warn(" Execute a migrao de endereos em: Perfil  Configuraes  Teste de Endereos"),null}catch(e){return console.error(" Erro ao buscar usurio por endereo:",e),null}}async function OSe(t,e){try{const n=st(be,"users",t,"walletAddresses",e),r=await ns(n);if(r.exists()){const s=r.data();console.log(` Removendo ndice antigo: ${s.address}`);const a=st(be,"walletAddressIndex",s.address.toLowerCase());await yo(a)}const i=cH(e,t);return await uH(t,e,i),i}catch(n){throw console.error(" Erro ao regenerar endereo:",n),n}}async function MSe(t,e,n){try{console.log(" Validando endereo:",t,"na rede:",e);const r=await DSe(t);if(!r)return console.warn(" Endereo no encontrado no ndice:",t),{isValid:!1,userId:null,userName:null,error:"Endereo no encontrado. Certifique-se de que o destinatrio possui uma conta NexCoin."};if(n&&r===n)return console.warn(" Tentativa de auto-transferncia detectada"),{isValid:!1,userId:null,userName:null,error:"Voc no pode transferir para o seu prprio endereo."};console.log(" Usurio encontrado:",r);const i=st(be,"users",r,"walletAddresses",e),s=await ns(i);if(!s.exists())return console.warn(` Endereo no pertence  rede ${e}`),{isValid:!1,userId:null,userName:null,error:`Este endereo no pertence  rede ${e}`};const a=s.data();if(a.address.toLowerCase()!==t.toLowerCase())return console.warn(` Endereo no corresponde: esperado ${a.address}, recebido ${t}`),{isValid:!1,userId:null,userName:null,error:`Endereo no corresponde  rede ${e}`};const l=st(be,"users",r),c=await ns(l),d=c.exists()&&(c.data().name||c.data().email)||"Usurio";return console.log(" Endereo vlido! Destinatrio:",d,"(",r,")"),{isValid:!0,userId:r,userName:d}}catch(r){return console.error(" Erro ao validar endereo:",r),{isValid:!1,userId:null,userName:null,error:"Erro ao validar endereo"}}}async function LSe(t){try{console.log(" Iniciando transferncia de cripto:",t);const{fromUserId:e,toUserId:n,coinId:r,coinSymbol:i,amount:s,fee:a,network:l,toAddress:c}=t;if(!e||!n)throw new Error("Remetente ou destinatrio invlido");if(e===n)throw new Error("No  possvel transferir para si mesmo");if(s<=0)throw new Error("Valor invlido");const d=s+a,f=await iB(be,async x=>{const b=st(be,"users",e,"portfolio",i),_=await x.get(b),T=st(be,"users",n,"portfolio",i),L=await x.get(T);if(!_.exists())throw new Error("Voc no possui saldo desta criptomoeda");const M=_.data().amount||0;if(M<d)throw new Error(`Saldo insuficiente. Necessrio: ${d} ${i}, Disponvel: ${M} ${i}`);const z=M-d;x.update(b,{amount:z,updatedAt:new Date}),console.log(` Debitado ${d} ${i} de ${e}. Novo saldo: ${z}`);let I;return L.exists()?(I=(L.data().amount||0)+s,x.update(T,{amount:I,updatedAt:new Date})):(I=s,x.set(T,{coinId:r,symbol:i,amount:I,name:i,createdAt:new Date,updatedAt:new Date})),console.log(` Creditado ${s} ${i} para ${n}. Novo saldo: ${I}`),{newFromBalance:z,newToBalance:I}}),m=`txn_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,p=st(at(be,"users",e,"transactions"));await br(p,{id:p.id,type:"crypto_send",coinId:r,coinSymbol:i,currency:i,amount:-d,amountSent:s,fee:a,feeCurrency:i,network:l,toUserId:n,toAddress:c,status:"completed",transactionHash:t.transactionHash,transactionId:m,createdAt:vt.fromDate(new Date),description:`Enviado ${s} ${i} via ${l}`});const y=st(at(be,"users",n,"transactions"));return await br(y,{id:y.id,type:"crypto_receive",coinId:r,coinSymbol:i,currency:i,amount:s,fee:0,feeCurrency:i,network:l,fromUserId:e,fromAddress:t.fromAddress||"NexCoin User",status:"completed",transactionHash:t.transactionHash,transactionId:m,createdAt:vt.fromDate(new Date),description:`Recebido ${s} ${i} via ${l}`}),console.log(" Transferncia concluda com sucesso!"),{success:!0,transactionId:p.id}}catch(e){return console.error(" Erro ao processar transferncia:",e),{success:!1,error:e.message||"Erro ao processar transferncia"}}}function VSe(){const t=Date.now().toString(16),e=Math.random().toString(16).substring(2);return`0x${t}${e}`.substring(0,66)}function dH(){const{user:t}=Ot(),[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{if(!t?.uid){n([]),i(!1);return}console.log(" Iniciando listener de endereos de wallet...");const l=at(be,"users",t.uid,"walletAddresses"),c=Fs(l,d=>{const f=[];d.forEach(m=>{const p=m.data();f.push({network:p.network,address:p.address,userId:p.userId,createdAt:p.createdAt?.toDate()||new Date,updatedAt:p.updatedAt?.toDate()||new Date})}),n(f),i(!1),console.log(" Endereos carregados:",f)},d=>{console.error(" Erro ao carregar endereos:",d),i(!1)});return()=>{console.log(" Cancelando listener de endereos"),c()}},[t?.uid]),{addresses:e,isLoading:r,getAddressForNetwork:async l=>{if(!t?.uid)throw new Error("Usurio no autenticado");const c=e.find(f=>f.network===l);return c?c.address:await RSe(t.uid,l)||""},regenerateAddress:async l=>{if(!t?.uid)throw new Error("Usurio no autenticado");const c=await OSe(t.uid,l);return console.log(` Novo endereo gerado para ${l}:`,c),c}}}function FSe({crypto:t,network:e,onBack:n}){const[r,i]=E.useState(""),[s,a]=E.useState(""),[l,c]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(!1),[y,x]=E.useState(!1),[b,_]=E.useState(""),[T,L]=E.useState(""),[M,z]=E.useState(!1),[I,j]=E.useState(!1),[C,S]=E.useState(null),{prices:D}=fi(),{user:N}=Ot(),{getAddressForNetwork:k}=dH(),{t:O,language:A}=pt();E.useEffect(()=>{const $=setTimeout(async()=>{if(!r||r.length<10){S(null);return}x(!0),S(null);try{const K=await MSe(r,e.id,N?.uid);S(K)}catch(K){console.error("Erro ao validar:",K),S({isValid:!1,userName:null,userId:null,error:O.withdrawAddress.invalidAddress})}finally{x(!1)}},800);return()=>clearTimeout($)},[r,e.id,N?.uid]);const W=R=>R>=1?R.toLocaleString(A==="pt"?"pt-BR":A==="es"?"es-ES":"en-US",{minimumFractionDigits:2,maximumFractionDigits:8}):R.toFixed(8),Y=parseFloat(e.fee.split(" ")[0]),J=parseFloat(s)||0,V=J+Y,G=r&&s&&parseFloat(s)>0&&parseFloat(s)<=t.balance&&C?.isValid===!0,q=async()=>{if(!G||!N?.uid||!C?.userId){Ge.error("Dados invlidos para transferncia");return}p(!0);try{const R=VSe(),$=await k(e.id),K=await LSe({fromUserId:N.uid,toUserId:C.userId,coinId:t.id,coinSymbol:t.symbol,amount:J,fee:Y,network:e.id,toAddress:r,fromAddress:$,status:"completed",transactionHash:R,createdAt:new Date});K.success?(_(R),L(new Date().toLocaleString(A==="pt"?"pt-BR":A==="es"?"es-ES":"en-US")),c(!0),Ge.success(O.withdrawAddress.transferSuccess||"Transferncia realizada com sucesso!")):Ge.error(K.error||"Erro ao processar transferncia")}catch(R){console.error("Erro ao enviar:",R),Ge.error(R.message||"Erro ao processar transferncia")}finally{p(!1)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:n,className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h1",{className:"text-lg",children:[O.withdrawAddress.title," ",t.symbol]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(mt,{symbol:t.symbol,size:"md"})})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-400",children:O.withdrawAddress.availableBalance||O.withdrawCrypto.availableBalance}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold",children:[W(t.balance)," ",t.symbol]}),o.jsxs("div",{className:"text-xs text-gray-400",children:["$",((D[t.id]?.usd||0)*t.balance).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]}),o.jsxs("div",{className:"flex-1 px-6 space-y-6 overflow-y-auto",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-3",children:O.withdrawAddress.selectedNetwork}),o.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:o.jsx(mt,{symbol:e.icon,size:"sm"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-sm",children:e.name}),o.jsxs("div",{className:"text-xs text-gray-400",children:[O.withdrawAddress.fee||O.withdrawCrypto.fee,": ",e.fee]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-3",children:O.withdrawAddress.walletAddress}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:O.withdrawAddress.addressPlaceholder,value:r,onChange:R=>i(R.target.value),className:`w-full bg-zinc-900 text-white rounded-xl py-4 pl-4 pr-12 focus:outline-none focus:ring-2 placeholder-gray-500 transition-all ${C?.isValid?"focus:ring-green-500 ring-2 ring-green-500/50":C?.isValid===!1?"focus:ring-red-500 ring-2 ring-red-500/50":"focus:ring-gray-600"}`}),o.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[y&&o.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}),C?.isValid&&o.jsx(tD,{className:"w-5 h-5 text-green-500"}),C?.isValid===!1&&o.jsx(is,{className:"w-5 h-5 text-red-500"})]})]}),C?.isValid&&C.userName&&o.jsxs("div",{className:"mt-3 bg-green-500/10 border border-green-500/20 rounded-xl p-3 flex items-start gap-3",children:[o.jsx(tD,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-green-500 text-sm font-semibold mb-0.5",children:O.withdrawAddress.recipientFound}),o.jsxs("p",{className:"text-green-200/80 text-xs",children:[O.withdrawAddress.sendingTo,": ",o.jsx("span",{className:"font-semibold",children:C.userName})]})]})]}),C?.isValid===!1&&C.error&&o.jsxs("div",{className:"mt-3 bg-red-500/10 border border-red-500/20 rounded-xl p-3 flex items-start gap-3",children:[o.jsx(Ll,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-red-500 text-sm font-semibold mb-0.5",children:O.withdrawAddress.invalidAddress}),o.jsx("p",{className:"text-red-200/80 text-xs",children:C.error})]})]}),r&&!C&&!y&&o.jsxs("div",{className:"mt-2 flex items-start gap-2 text-xs text-gray-400",children:[o.jsx(Ll,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),o.jsx("p",{children:O.withdrawAddress.addressWarning})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("label",{className:"text-sm font-semibold",children:O.withdrawAddress.amount}),o.jsx("button",{onClick:()=>a(t.balance.toString()),className:"text-xs text-gray-400 hover:text-white transition-colors",children:O.withdrawAddress.useMax})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"number",placeholder:"0.00",value:s,onChange:R=>a(R.target.value),className:"flex-1 bg-transparent text-2xl font-bold outline-none placeholder-gray-600",step:"0.00000001"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(mt,{symbol:t.symbol,size:"sm"}),o.jsx("span",{className:"font-semibold text-lg",children:t.symbol})]})]}),s&&o.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[" $",(parseFloat(s)*(D[t.id]?.usd||0)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),s&&r&&C?.isValid&&o.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 space-y-3",children:[o.jsx("h3",{className:"font-semibold text-sm mb-3",children:O.withdrawAddress.summary}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:O.withdrawAddress.quantity}),o.jsxs("span",{className:"font-semibold",children:[s," ",t.symbol]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:O.withdrawAddress.networkFee}),o.jsxs("span",{className:"font-semibold",children:[Y," ",t.symbol]})]}),o.jsx("div",{className:"h-px bg-zinc-800 my-2"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-400",children:O.withdrawAddress.total}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-bold text-lg",children:[t.symbol==="USDT"?Ur(V):Qi(V)," ",t.symbol]}),o.jsxs("div",{className:"text-xs text-gray-400",children:[" ",Ur(V*(D[t.id]?.usd||0))," USDT"]})]})]})]}),o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 flex gap-3",children:[o.jsx(Ll,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-200/90",children:[o.jsx("p",{className:"font-semibold mb-1",children:O.withdrawAddress.attention}),o.jsx("p",{className:"text-xs text-yellow-200/70",children:O.withdrawAddress.attentionWarning})]})]})]}),o.jsxs("div",{className:"px-6 py-4 bg-black",children:[o.jsx("button",{disabled:!G||m,className:`w-full py-4 rounded-xl font-semibold text-lg transition-all ${G&&!m?"bg-white text-black hover:bg-gray-200":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,onClick:q,children:m?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-black/20 border-t-black rounded-full animate-spin"}),O.withdrawAddress.processing]}):O.withdrawAddress.title}),!C?.isValid&&r&&!y&&o.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:O.withdrawAddress.mustBeRegistered})]}),o.jsx(v2,{children:l&&o.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>{c(!1),n()},children:o.jsxs(Je.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",duration:.5},className:"bg-zinc-900 rounded-3xl p-8 max-w-sm w-full text-center relative overflow-hidden",onClick:R=>R.stopPropagation(),children:[o.jsxs(Je.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6 relative",children:[o.jsx(Je.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-16 h-16 bg-green-500/30 rounded-full flex items-center justify-center",children:o.jsx(Je.svg,{initial:{pathLength:0},animate:{pathLength:1},transition:{delay:.5,duration:.5},className:"w-10 h-10 text-green-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx(Je.path,{d:"M20 6L9 17l-5-5"})})}),o.jsx(Je.div,{initial:{scale:.8,opacity:.5},animate:{scale:2.5,opacity:0},transition:{duration:1,ease:"easeOut"},className:"absolute inset-0 bg-green-500 rounded-full"})]}),o.jsxs(Je.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},children:[o.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:O.withdrawAddress.sentSuccess}),o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:O.withdrawAddress.transactionProcessed}),C?.userName&&o.jsxs("p",{className:"text-green-400 text-sm font-semibold mb-6",children:[O.withdrawAddress.recipient,": ",C.userName]}),o.jsxs("div",{className:"bg-black/50 rounded-2xl p-4 mb-6 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:O.withdrawAddress.amount}),o.jsxs("span",{className:"font-semibold text-white",children:[s," ",t.symbol]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:O.withdrawAddress.selectedNetwork}),o.jsx("span",{className:"font-semibold text-white",children:e.name})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:O.to||"Para"}),o.jsxs("span",{className:"font-semibold text-white text-xs",children:[r.slice(0,8),"...",r.slice(-6)]})]})]}),o.jsx("button",{onClick:()=>{c(!1),f(!0)},className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-gray-200 transition-colors mb-3",children:O.withdrawAddress.viewReceipt}),o.jsx("button",{onClick:()=>{c(!1),n()},className:"w-full bg-zinc-800 text-white font-semibold py-3 rounded-xl hover:bg-zinc-700 transition-colors",children:O.close||"Fechar"})]})]})})})]})}function BSe({onNavigate:t}){const[e,n]=E.useState(""),[r,i]=E.useState(null),[s,a]=E.useState(null),{prices:l}=fi(),{portfolio:c}=Bs(),{t:d,language:f}=pt(),m=M=>c.holdings.find(I=>I.coinId===M)?.amount||0,p=[{symbol:"USDT",name:"Tether",balance:m("tether"),id:"tether"},{symbol:"BTC",name:"Bitcoin",balance:m("bitcoin"),id:"bitcoin"},{symbol:"ETH",name:"Ethereum",balance:m("ethereum"),id:"ethereum"},{symbol:"BNB",name:"Binance Coin",balance:m("binancecoin"),id:"binancecoin"},{symbol:"SOL",name:"Solana",balance:m("solana"),id:"solana"},{symbol:"ADA",name:"Cardano",balance:m("cardano"),id:"cardano"},{symbol:"XRP",name:"Ripple",balance:m("ripple"),id:"ripple"},{symbol:"DOT",name:"Polkadot",balance:m("polkadot"),id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",balance:m("dogecoin"),id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",balance:m("avalanche-2"),id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",balance:m("matic-network"),id:"matic-network"},{symbol:"LINK",name:"Chainlink",balance:m("chainlink"),id:"chainlink"},{symbol:"UNI",name:"Uniswap",balance:m("uniswap"),id:"uniswap"},{symbol:"LTC",name:"Litecoin",balance:m("litecoin"),id:"litecoin"},{symbol:"ATOM",name:"Cosmos",balance:m("cosmos"),id:"cosmos"}],y=[{id:"Ethereum",name:"Ethereum (ERC20)",icon:"ETH",fee:"2.5 USDT"},{id:"Tron",name:"Tron (TRC20)",icon:"TRX",fee:"1.0 USDT"},{id:"Polygon",name:"Polygon",icon:"MATIC",fee:"0.5 USDT"},{id:"Solana",name:"Solana",icon:"SOL",fee:"0.3 USDT"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB",fee:"0.8 USDT"}],x=M=>M>=1?M.toLocaleString(f==="pt"?"pt-BR":f==="es"?"es-ES":"en-US",{minimumFractionDigits:2,maximumFractionDigits:8}):M.toFixed(8),b=(M,z)=>(l[M]?.usd||0)*z,_=p.filter(M=>M.symbol.toLowerCase().includes(e.toLowerCase())||M.name.toLowerCase().includes(e.toLowerCase())),T=p.find(M=>M.symbol===r),L=y.find(M=>M.id===s);return r&&T&&s&&L?o.jsx(FSe,{crypto:T,network:L,onBack:()=>{a(null)}}):r&&T?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h1",{className:"text-lg",children:[d.withdrawCrypto.sendCrypto," ",T.symbol]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(mt,{symbol:T.symbol,size:"md"})})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-400",children:d.withdrawCrypto.availableBalance}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold",children:[x(T.balance)," ",T.symbol]}),o.jsxs("div",{className:"text-xs text-gray-400",children:["$",b(T.id,T.balance).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]}),o.jsx("div",{className:"flex-1 px-6 overflow-y-auto",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-3",children:d.withdrawCrypto.selectNetwork}),o.jsx("div",{className:"space-y-2",children:y.map(M=>o.jsxs("button",{onClick:()=>a(M.id),className:"w-full bg-zinc-900 rounded-xl p-4 flex items-center gap-3 transition-all hover:bg-zinc-800",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:o.jsx(mt,{symbol:M.icon,size:"sm"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-sm",children:M.name}),o.jsxs("div",{className:"text-xs text-gray-400",children:[d.withdrawCrypto.fee,": ",M.fee]})]})]},M.id))})]})})]}):o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-lg",children:d.withdrawCrypto.title})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Wl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:d.withdrawCrypto.searchPlaceholder,value:e,onChange:M=>n(M.target.value),className:"w-full bg-zinc-900 text-white rounded-full py-3.5 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-gray-700 placeholder-gray-500"})]})}),o.jsxs("div",{className:"flex-1 px-6 overflow-y-auto",children:[o.jsx("div",{className:"space-y-0",children:_.map(M=>{const z=b(M.id,M.balance);return o.jsxs("button",{className:"w-full bg-zinc-900/50 hover:bg-zinc-800/50 transition-colors p-4 flex items-center gap-4 border-b border-zinc-800/50 last:border-b-0",onClick:()=>i(M.symbol),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(mt,{symbol:M.symbol,size:"md"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-base",children:M.symbol}),o.jsx("div",{className:"text-sm text-gray-400",children:M.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold text-base",children:[x(M.balance)," ",M.symbol]}),o.jsx("div",{className:"text-sm text-gray-400",children:z.toLocaleString(f==="pt"?"pt-BR":f==="es"?"es-ES":"en-US",{style:"currency",currency:"USD"})})]})]},M.symbol)})}),_.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-400",children:d.withdrawCrypto.noCryptosFound})})]})]})}async function zSe(t,e){try{console.log(" ============ VALIDAO DE CHAVE PIX ============"),console.log(" Chave digitada pelo usurio:",t),console.log(" User ID atual:",e);const n=t.includes("@");let r;n?r=t.trim().replace(/\s/g,"").toLowerCase():r=t.trim().replace(/\s/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\+/g,"").toLowerCase(),console.log(" Tipo detectado:",n?"EMAIL":"TELEFONE/CPF/CNPJ"),console.log(" Chave PIX limpa para busca:",r);const i=at(be,"pixKeys");console.log(" Buscando todas as chaves PIX no Firestore...");const s=await It(i);console.log(" Total de chaves PIX no sistema:",s.size),console.log(" ============ TODAS AS CHAVES NO SISTEMA ============"),s.docs.forEach((m,p)=>{const y=m.data();console.log(`  [${p+1}] ID: ${m.id}`),console.log(`      keyValue: "${y.keyValue}"`),console.log(`      keyType: ${y.keyType}`),console.log(`      userId: ${y.userId}`)}),console.log(" ====================================================");let a=null;for(const m of s.docs){const p=m.data(),y=p.keyValue||"",x=y.includes("@");let b;if(x?b=y.trim().replace(/\s/g,"").toLowerCase():b=y.trim().replace(/\s/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\+/g,"").toLowerCase(),console.log(" Comparando:"),console.log(`   Digitado (limpo): "${r}"`),console.log(`   Armazenado (original): "${y}"`),console.log(`   Armazenado (limpo): "${b}"`),console.log(`   Match: ${b===r?" SIM":" NO"}`),b===r){a={id:m.id,...p},console.log(" ============ CHAVE ENCONTRADA! ============"),console.log(" Documento ID:",m.id),console.log(" User ID:",p.userId),console.log(" Key Type:",p.keyType),console.log(" Key Value:",p.keyValue),console.log(" ==========================================");break}}if(!a)return console.error(" ============ CHAVE NO ENCONTRADA ============"),console.error(" Chave digitada:",t),console.error(" Chave limpa:",r),console.error(" Total de chaves no sistema:",s.size),console.error(" ============================================="),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Chave PIX no encontrada no sistema NexCoin"};const l=a;if(!l.userId)return console.error(" Chave encontrada mas sem userId!"),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Chave PIX invlida (sem usurio vinculado)"};if(e&&l.userId===e)return console.warn(" Tentativa de auto-transferncia PIX detectada"),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Voc no pode transferir para a sua prpria chave PIX."};const c=st(be,"users",l.userId),d=await ns(c),f=d.exists()&&(d.data().name||d.data().email)||"Usurio";return console.log(" Chave PIX vlida! Destinatrio:",f,"(",l.userId,")"),{isValid:!0,userId:l.userId,userName:f,pixKeyType:l.keyType||"unknown"}}catch(n){return console.error(" ============ ERRO NA VALIDAO ============"),console.error(" Erro:",n),console.error(" ========================================="),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Erro ao validar chave PIX"}}}async function $Se(t){try{console.log(" Iniciando transferncia PIX:",t);const{fromUserId:e,toUserId:n,currency:r,amount:i,pixKey:s,pixKeyType:a,description:l,transactionId:c}=t;if(!e||!n)throw new Error("Remetente ou destinatrio invlido");if(e===n)throw new Error("No  possvel transferir para si mesmo");if(i<=0)throw new Error("Valor invlido");return await iB(be,async d=>{const f=st(be,"users",e,"fiatBalances",r),m=await d.get(f),p=st(be,"users",n,"fiatBalances",r),y=await d.get(p);let x=0;m.exists()&&(x=m.data().balance||m.data().amount||0),x<i&&(console.warn(` Saldo fiat insuficiente (${x} ${r}). Isso indica que o usurio est usando saldo do portfolio.`),console.warn(" A validao do saldo j foi feita no frontend. Permitindo transferncia."));const b=Math.max(0,x-i);let _=0;y.exists()&&(_=y.data().balance||y.data().amount||0);const T=_+i;m.exists()?d.update(f,{balance:b,updatedAt:new Date}):d.set(f,{currency:r,balance:b,createdAt:new Date,updatedAt:new Date}),console.log(` Debitado ${i} ${r} de ${e}. Novo saldo: ${b}`),y.exists()?d.update(p,{balance:T,updatedAt:new Date}):d.set(p,{currency:r,balance:T,createdAt:new Date,updatedAt:new Date}),console.log(` Creditado ${i} ${r} para ${n}. Novo saldo: ${T}`);const L=st(at(be,"users",e,"transactions"));d.set(L,{id:L.id,type:"pix_send",currency:r,amount:-i,fee:0,feeCurrency:r,pixKey:s,pixKeyType:a,toUserId:n,status:"completed",transactionId:c,createdAt:vt.fromDate(new Date),description:l||`PIX enviado para ${s}`});const M=st(at(be,"users",n,"transactions"));d.set(M,{id:M.id,type:"pix_receive",currency:r,amount:i,fee:0,feeCurrency:r,pixKey:s,pixKeyType:a,fromUserId:e,status:"completed",transactionId:c,createdAt:vt.fromDate(new Date),description:l||`PIX recebido de ${s}`})}),console.log(" Transferncia PIX concluda com sucesso!"),{success:!0,transactionId:c}}catch(e){return console.error(" Erro ao processar transferncia PIX:",e),{success:!1,error:e.message||"Erro ao processar transferncia PIX"}}}function USe(){const t=Date.now(),e=Math.random().toString(36).substring(2,9).toUpperCase();return`PIX${t}${e}`}function qSe({onNavigate:t,transactionData:e}){const[n,r]=E.useState(null),[i,s]=E.useState("idle"),{t:a}=pt(),l=(d,f)=>{const m=document.createElement("textarea");m.value=d,m.style.position="fixed",m.style.left="-999999px",m.style.top="-999999px",document.body.appendChild(m),m.focus(),m.select();try{document.execCommand("copy"),r(f),setTimeout(()=>r(null),2e3)}catch(p){console.error("Erro ao copiar:",p)}document.body.removeChild(m)},c=async()=>{const d=`${a.withdrawReceipt.shareTextHeader}

 ${a.withdrawReceipt.amount||"Valor"}: ${e.symbol} ${e.amount}
 ${a.withdrawReceipt.currency||"Moeda"}: ${e.currency}
 ID: ${e.transactionId}

 ${a.withdrawReceipt.method}: ${e.method}
 ${a.withdrawReceipt.recipient}: ${e.recipientInfo}

 Status: ${e.status}
 ${a.withdrawReceipt.fee}: ${e.symbol} ${e.fee.toFixed(2)}
 ${a.withdrawReceipt.processing}: ${e.processingTime}
 ${a.withdrawReceipt.date}: ${e.date}

${a.withdrawReceipt.shareTextFooter}`;s("sharing");const f=p=>{try{const y=document.createElement("textarea");y.value=p,y.style.position="fixed",y.style.left="-999999px",y.style.top="-999999px",y.style.opacity="0",document.body.appendChild(y),y.focus(),y.select();const x=document.execCommand("copy");return document.body.removeChild(y),x?(console.log(" Comprovante copiado para rea de transferncia"),s("copied"),setTimeout(()=>s("idle"),3e3),!0):!1}catch(y){return console.error(" Erro ao copiar:",y),!1}},m=window.isSecureContext;try{if(m&&navigator.share&&typeof navigator.canShare=="function"&&navigator.canShare({text:d}))try{await navigator.share({title:" Comprovante de Transferncia - NexCoin",text:d}),console.log(" Comprovante compartilhado com sucesso"),s("idle");return}catch(y){if(y.name==="AbortError"){console.log(" Compartilhamento cancelado pelo usurio"),s("idle");return}console.log(" Web Share API no disponvel, usando mtodo alternativo...")}if(m&&navigator.clipboard&&typeof navigator.clipboard.writeText=="function")try{await navigator.clipboard.writeText(d),console.log(" Comprovante copiado para rea de transferncia"),s("copied"),setTimeout(()=>s("idle"),3e3);return}catch{console.log(" Clipboard API no disponvel, usando mtodo compatvel...")}f(d)||(console.error(" No foi possvel copiar o comprovante"),s("idle"),alert("No foi possvel copiar o comprovante. Por favor, tire um screenshot desta tela."))}catch(p){console.error(" Erro inesperado:",p),f(d)||(s("idle"),alert("No foi possvel copiar o comprovante. Por favor, tire um screenshot desta tela."))}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mb-4 relative",children:o.jsx("div",{className:"w-16 h-16 bg-green-500/30 rounded-full flex items-center justify-center",children:o.jsx(Dte,{className:"w-10 h-10 text-green-500"})})}),o.jsx("h1",{className:"text-2xl font-bold mb-1",children:a.withdrawReceipt.title}),o.jsx("p",{className:"text-sm text-gray-400",children:a.withdrawReceipt.subtitle})]})]}),o.jsxs("div",{className:"flex-1 px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:a.withdrawReceipt.status}),o.jsx("div",{className:"bg-green-500/20 px-3 py-1 rounded-full",children:o.jsx("span",{className:"text-xs font-semibold text-green-500",children:e.status})})]}),o.jsx("div",{className:"h-px bg-zinc-800 mb-3"}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-4xl font-bold mb-1",children:[e.symbol," ",e.amount]}),o.jsx("div",{className:"text-sm text-gray-400",children:e.currency})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:a.withdrawReceipt.transactionId}),o.jsx("button",{onClick:()=>l(e.transactionId,"txid"),className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:n==="txid"?o.jsxs(o.Fragment,{children:[o.jsx(An,{className:"w-3 h-3"})," ",a.withdrawReceipt.copied]}):o.jsxs(o.Fragment,{children:[o.jsx(vn,{className:"w-3 h-3"})," ",a.withdrawReceipt.copy]})})]}),o.jsx("div",{className:"font-mono text-sm bg-zinc-800 rounded-lg px-3 py-2 break-all",children:e.transactionId})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("h3",{className:"text-xs text-gray-400 font-semibold mb-3",children:a.withdrawReceipt.details}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:a.withdrawReceipt.method}),o.jsx("span",{className:"font-semibold",children:e.method})]}),o.jsx("div",{className:"h-px bg-zinc-800"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:a.withdrawReceipt.fee}),o.jsxs("span",{className:"font-semibold",children:[e.symbol," ",e.fee.toFixed(2)]})]}),o.jsx("div",{className:"h-px bg-zinc-800"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:a.withdrawReceipt.processing}),o.jsx("span",{className:"font-semibold text-yellow-500",children:e.processingTime})]}),o.jsx("div",{className:"h-px bg-zinc-800"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:a.withdrawReceipt.date}),o.jsx("span",{className:"font-semibold",children:e.date})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:a.withdrawReceipt.recipient}),o.jsx("button",{onClick:()=>l(e.recipientInfo,"recipient"),className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:n==="recipient"?o.jsxs(o.Fragment,{children:[o.jsx(An,{className:"w-3 h-3"})," ",a.withdrawReceipt.copied]}):o.jsxs(o.Fragment,{children:[o.jsx(vn,{className:"w-3 h-3"})," ",a.withdrawReceipt.copy]})})]}),o.jsx("div",{className:"text-sm text-white break-all",children:e.recipientInfo})]}),o.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 text-sm",children:o.jsxs("p",{className:"text-blue-200/90",children:[o.jsxs("span",{className:"font-semibold",children:[a.withdrawReceipt.important,":"]})," ",a.withdrawReceipt.importantNotice," ",e.processingTime,"."]})})]}),o.jsxs("div",{className:"px-6 pt-4 space-y-3",children:[o.jsx("button",{onClick:c,disabled:i==="sharing",className:`w-full font-semibold py-4 rounded-xl transition-colors flex items-center justify-center gap-2 ${i==="copied"?"bg-green-500 text-white":"bg-zinc-900 text-white hover:bg-zinc-800"} ${i==="sharing"?"opacity-50 cursor-not-allowed":""}`,children:i==="sharing"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a.withdrawReceipt.sharing]}):i==="copied"?o.jsxs(o.Fragment,{children:[o.jsx(An,{className:"w-5 h-5"}),a.withdrawReceipt.copiedToClipboard]}):o.jsxs(o.Fragment,{children:[o.jsx(aP,{className:"w-5 h-5"}),a.withdrawReceipt.shareReceipt]})}),o.jsx("button",{onClick:()=>t("home"),className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-gray-200 transition-colors",children:a.withdrawReceipt.backToHome})]})]})}function HSe({onNavigate:t,onBack:e}){const[n,r]=E.useState("BR"),[i,s]=E.useState(null),[a,l]=E.useState(null),[c,d]=E.useState(""),[f,m]=E.useState(!1),[p,y]=E.useState(!1),[x,b]=E.useState(!1),[_,T]=E.useState(null),[L,M]=E.useState(""),{rates:z}=cP(),{portfolio:I}=Bs(),{user:j}=Ot(),{getBalance:C}=mg(),{addTransaction:S}=Yb(),[D,N]=E.useState([]),[k,O]=E.useState(!0),{t:A,language:W}=pt(),[Y,J]=E.useState(""),[V,G]=E.useState(null),[q,R]=E.useState(null),[$,K]=E.useState({bank:"",bankCode:"",agency:"",account:"",accountType:"Conta Corrente",name:"",document:""}),[Z,Q]=E.useState({accountNumber:"",routingNumber:"",accountType:"Checking",name:"",address:""}),[te,ae]=E.useState({iban:"",bic:"",name:"",address:""}),[re,xe]=E.useState({accountNumber:"",sortCode:"",name:"",address:""}),he=[{code:"BR",name:"Brasil",flag:"",currency:"BRL",symbol:"R$"},{code:"US",name:"Estados Unidos",flag:"",currency:"USD",symbol:"$"},{code:"EU",name:"Unio Europeia",flag:"",currency:"EUR",symbol:""},{code:"GB",name:"Reino Unido",flag:"",currency:"GBP",symbol:""}].find(fe=>fe.code===n),Te=I.totalBalanceUSDT,me=fe=>fe*(z[he.currency]||1),Re=me(Te),et={BR:[{id:"pix",name:A.withdrawTransfer.pix,icon:Yi,description:A.withdrawTransfer.instantTransfer,processingTime:A.withdrawTransfer.instant,minAmount:.01,maxAmount:1/0,fee:0},{id:"bank",name:A.withdrawTransfer.bankTransfer,icon:fl,description:A.withdrawTransfer.tedOrDoc,processingTime:A.withdrawTransfer.businessDays,minAmount:.01,maxAmount:1/0,fee:0}],US:[{id:"ach",name:A.withdrawTransfer.achTransfer,icon:fl,description:A.withdrawTransfer.electronicBankTransfer,processingTime:`3-5 ${A.withdrawTransfer.businessDays}`,minAmount:.01,maxAmount:1/0,fee:0},{id:"wire",name:A.withdrawTransfer.wireTransfer,icon:Yi,description:A.withdrawTransfer.domesticWire,processingTime:A.withdrawTransfer.instant,minAmount:.01,maxAmount:1/0,fee:25}],EU:[{id:"sepa",name:A.withdrawTransfer.sepaTransfer,icon:fl,description:A.withdrawTransfer.singleEuroPaymentsArea,processingTime:`1-2 ${A.withdrawTransfer.businessDays}`,minAmount:.01,maxAmount:1/0,fee:0},{id:"instant",name:A.withdrawTransfer.sepaInstant,icon:Yi,description:A.withdrawTransfer.instantSepaTransfer,processingTime:A.withdrawTransfer.instant,minAmount:.01,maxAmount:1/0,fee:2}],GB:[{id:"faster",name:A.withdrawTransfer.fasterPayments,icon:Yi,description:A.withdrawTransfer.instantBankTransfer,processingTime:A.withdrawTransfer.instant,minAmount:.01,maxAmount:1/0,fee:0},{id:"bacs",name:A.withdrawTransfer.bacsTransfer,icon:fl,description:A.withdrawTransfer.standardBankTransfer,processingTime:`3 ${A.withdrawTransfer.businessDays}`,minAmount:.01,maxAmount:1/0,fee:0}]}[n],Qe=et.find(fe=>fe.id===a);E.useEffect(()=>{if(!j?.uid){O(!1);return}const fe=at(be,"bankAccounts"),He=Rt(fe,Tt("userId","==",j.uid)),Nt=Fs(He,zt=>{const ft=zt.docs.map(mn=>({...mn.data(),id:mn.id,createdAt:mn.data().createdAt?.toDate()||new Date}));if(N(ft),O(!1),ft.length>0&&!i){const mn=ft[0];s(mn);const ur={BR:"BR",US:"US",PT:"EU",ES:"EU",FR:"EU",DE:"EU",IT:"EU",GB:"GB",UK:"GB"}[mn.country]||"BR";r(ur)}},zt=>{console.error(" Erro ao carregar contas:",zt),O(!1)});return()=>Nt()},[j]);const We={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",KRW:"",ZAR:"R",ARS:"$",CLP:"$"},wt=fe=>{switch(fe.country){case"BR":return{label:A.withdrawTransfer.pix,icon:""};case"US":return{label:` ${fe.accountNumber.slice(-4)}`};case"PT":case"ES":case"FR":case"DE":case"IT":return{label:` ${fe.iban?.slice(-4)||fe.accountNumber.slice(-4)}`};default:return{label:` ${fe.accountNumber.slice(-4)}`}}},dt=fe=>{const He=We[fe]||fe,zt=C(fe).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});return`${He} ${zt}`},tt=fe=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(fe),oe=fe=>{const He=fe.replace(/\D/g,"");if(He===""){d("");return}let zt=parseInt(He,10)/100;const ft=C(he.currency);zt>ft&&(zt=ft);const mn=zt.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});d(mn)},Ie=fe=>{if(!fe)return{isValid:!1,type:null,error:null};const He=fe.replace(/\s/g,"");return/^\d{11}$/.test(He)?{isValid:!0,type:"CPF",error:null}:/^\d{14}$/.test(He)?{isValid:!0,type:"CNPJ",error:null}:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(fe)?{isValid:!0,type:"E-mail",error:null}:/^(\+55)?(\d{10,11})$/.test(He)?{isValid:!0,type:"Telefone",error:null}:/^[a-f0-9]{8}-?[a-f0-9]{4}-?[a-f0-9]{4}-?[a-f0-9]{4}-?[a-f0-9]{12}$/i.test(He)?{isValid:!0,type:"Chave Aleatria",error:null}:{isValid:!1,type:null,error:A.withdrawTransfer.pixKeyInvalidType}},Xe=fe=>{let He=fe.toLowerCase();He=He.replace(/[\s\-()]/g,""),J(He);const Nt=Ie(He);G(Nt.type),R(Nt.error)},gt=async()=>{if(!j?.uid){Ge.error(A.withdrawTransfer.userNotAuthenticated);return}const fe=parseFloat(c.replace(/\./g,"").replace(",","."));if(console.log(" ============ VALIDAO DE TRANSFERNCIA PIX ============"),console.log(" Valor digitado (formatado):",c),console.log(" Valor convertido (nmero):",fe),console.log(" Moeda:",he.currency),console.log(" Valor mnimo permitido:",Qe?.minAmount),!fe||fe<(Qe?.minAmount||0)){Ge.error(`${A.withdrawTransfer.minAmount}: ${he.symbol} ${Qe?.minAmount}`);return}const He=C(he.currency),Nt=me(Te);console.log(" ====== DEBUG DE SALDOS ======"),console.log(" Saldo Fiat (Firestore):",He),console.log(" Saldo Portfolio (USDT):",Te),console.log(" Saldo Portfolio Convertido:",Nt),console.log(" Taxa de converso:",z[he.currency]);const zt=Math.max(He,Nt);if(console.log("  Saldo disponvel TOTAL para transferncia:",zt),console.log(" Comparao:",fe,">",zt,"=",fe>zt),fe>zt){console.error(" SALDO INSUFICIENTE!"),console.error(" Tentou transferir:",fe),console.error(" Saldo disponvel:",zt),console.error(" Diferena:",fe-zt),Ge.error(`${A.withdrawTransfer.insufficientBalance}: ${he.symbol} ${tt(zt)}`);return}if(console.log(" Validao de saldo OK!"),console.log(" ===================================================="),n==="BR"&&a==="pix"){if(!Y){Ge.error(A.withdrawTransfer.informPixKeyError);return}const ft=Ie(Y);if(!ft.isValid){Ge.error(ft.error||A.withdrawTransfer.pixKeyInvalid);return}}if(n==="BR"&&a==="bank"&&(!$.bank||!$.agency||!$.account||!$.name)){Ge.error(A.withdrawTransfer.fillBankDetails);return}if(n==="US"&&(!Z.accountNumber||!Z.routingNumber||!Z.name)){Ge.error(A.withdrawTransfer.fillBankDetails);return}if(n==="EU"&&(!te.iban||!te.name)){Ge.error(A.withdrawTransfer.fillBankDetails);return}if(n==="GB"&&(!re.accountNumber||!re.sortCode||!re.name)){Ge.error(A.withdrawTransfer.fillBankDetails);return}b(!0);try{if(n==="BR"&&a==="pix"){console.log(" Verificando se chave PIX pertence a um usurio NexCoin...");const pn=await zSe(Y,j.uid);if(pn.isValid&&pn.userId){console.log(" Chave PIX encontrada no sistema NexCoin"),console.log(` Remetente: ${j.uid}`),console.log(` Destinatrio: ${pn.userId} (${pn.userName})`);const cs=USe(),In=await $Se({fromUserId:j.uid,toUserId:pn.userId,currency:he.currency,amount:fe,pixKey:Y,pixKeyType:pn.pixKeyType||V||"unknown",description:`${A.withdrawTransfer.pixTransferTo} ${pn.userName}`,transactionId:cs,createdAt:new Date});if(!In.success)throw new Error(In.error||A.withdrawTransfer.errorProcessingPix);console.log(" Transferncia PIX entre usurios concluda!"),Ge.success(`${A.withdrawTransfer.transferSentTo} ${pn.userName}!`),M(cs),b(!1),m(!0);return}else{console.warn(" Chave PIX no encontrada no sistema NexCoin"),Ge.error(pn.error||A.withdrawTransfer.pixKeyNotFound),b(!1);return}}let ft="";n==="BR"&&a==="pix"?ft=`${A.withdrawTransfer.pixTransfer} - ${Y}`:n==="BR"&&a==="bank"?ft=`${A.withdrawTransfer.tedTransfer} - ${$.name}`:ft=`${A.withdrawTransfer.transferVia} ${Qe?.name}`;const mn=await Fc(j.uid,he.currency,-fe,ft);if(!mn.success)throw new Error(mn.message||A.withdrawTransfer.errorProcessingTransfer);let Tr="";n==="BR"&&a==="pix"?Tr=`${A.withdrawTransfer.pixKey}: ${Y} (${V})`:n==="BR"&&a==="bank"?Tr=`${$.name} - ${$.bank} Ag: ${$.agency} Conta: ${$.account}`:n==="US"?Tr=`${Z.name} - Account: ${Z.accountNumber}`:n==="EU"?Tr=`${te.name} - IBAN: ${te.iban}`:n==="GB"&&(Tr=`${re.name} - Sort Code: ${re.sortCode} Account: ${re.accountNumber}`);const ur=`TX${Date.now()}${Math.floor(Math.random()*1e3)}`;M(ur),await S({type:"withdraw_fiat",status:"completed",amount:fe,currency:he.currency,fee:Qe?.fee||0,feeCurrency:he.currency,description:ft,recipientInfo:Tr,transactionHash:ur}),console.log(" Transferncia processada com sucesso"),Ge.success(A.withdrawTransfer.transferSuccess),b(!1),m(!0)}catch(ft){console.error(" Erro ao processar transferncia:",ft),Ge.error(ft.message||A.withdrawTransfer.errorProcessingTransfer),b(!1)}},yt=()=>a?n==="BR"&&a==="pix"?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>l(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg mb-1",children:A.withdrawTransfer.transferViaPix})," ",o.jsx("p",{className:"text-sm text-gray-400",children:A.withdrawTransfer.instantTransfer})," "]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:o.jsx(Yi,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:A.withdrawTransfer.availableBalance})," ",o.jsx("div",{className:"text-white",children:o.jsx(ya,{value:tt(C("BRL")),symbol:"R$"})})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:A.withdrawTransfer.amountToTransfer})," ",o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl font-light text-white",children:he.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:c,onChange:fe=>oe(fe.target.value),className:"flex-1 bg-transparent text-xl font-light text-white outline-none placeholder-gray-600"})]}),o.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[A.withdrawTransfer.min,": ",he.symbol," ",Qe?.minAmount,"  ",A.withdrawTransfer.max,": ",he.symbol," ",tt(Qe?.maxAmount||0)," "]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:A.withdrawTransfer.pixKeyRecipient})," ",o.jsx("input",{type:"text",placeholder:A.withdrawTransfer.pixKeyPlaceholder,value:Y,onChange:fe=>Xe(fe.target.value),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[A.withdrawTransfer.informPixKey," "]}),q&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:q})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:A.withdrawTransfer.fee})," ",o.jsxs("span",{className:"text-white",children:[he.symbol," 0,00"]})]}),o.jsx("div",{className:"h-px bg-zinc-800"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:A.withdrawTransfer.time})," ",o.jsx("span",{className:"text-green-500",children:A.withdrawTransfer.instant})," "]})]}),o.jsxs("button",{onClick:gt,disabled:x,className:"w-full bg-white text-black py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:[x?A.withdrawTransfer.processing:A.withdrawTransfer.confirmTransfer," "]})]})]}):n==="BR"&&a==="bank"?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>l(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg mb-1",children:A.withdrawTransfer.bankTransfer})," ",o.jsx("p",{className:"text-sm text-gray-400",children:A.withdrawTransfer.tedOrDoc})," "]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:o.jsx(fl,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:A.withdrawTransfer.availableBalance})," ",o.jsxs("div",{className:"text-2xl font-bold text-white",children:[he.symbol," ",tt(Re)]})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:A.withdrawTransfer.amount})," ",o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-white",children:he.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:c,onChange:fe=>oe(fe.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:A.withdrawTransfer.bank,value:$.bank,onChange:fe=>K({...$,bank:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("input",{type:"text",placeholder:A.withdrawTransfer.code,value:$.bankCode,onChange:fe=>K({...$,bankCode:fe.target.value}),className:"bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",o.jsx("input",{type:"text",placeholder:A.withdrawTransfer.agency,value:$.agency,onChange:fe=>K({...$,agency:fe.target.value}),className:"bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," "]}),o.jsx("input",{type:"text",placeholder:A.withdrawTransfer.account,value:$.account,onChange:fe=>K({...$,account:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",o.jsxs("select",{value:$.accountType,onChange:fe=>K({...$,accountType:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none",children:[o.jsx("option",{value:"Conta Corrente",children:A.withdrawTransfer.checkingAccount})," ",o.jsx("option",{value:"Conta Poupana",children:A.withdrawTransfer.savingsAccount})," "]}),o.jsx("input",{type:"text",placeholder:A.withdrawTransfer.fullName,value:$.name,onChange:fe=>K({...$,name:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",o.jsx("input",{type:"text",placeholder:A.withdrawTransfer.cpfCnpj,value:$.document,onChange:fe=>K({...$,document:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," "]}),o.jsxs("button",{onClick:gt,disabled:x,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:[x?A.withdrawTransfer.processing:A.withdrawTransfer.confirmTransfer," "]})]})]}):n==="US"&&(a==="ach"||a==="wire")?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>l(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-1",children:a==="ach"?A.withdrawTransfer.achTransfer:A.withdrawTransfer.wireTransfer}),o.jsx("p",{className:"text-sm text-gray-400",children:a==="ach"?A.withdrawTransfer.electronicBankTransfer:A.withdrawTransfer.domesticWire})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:a==="ach"?o.jsx(fl,{className:"w-6 h-6 text-white"}):o.jsx(Yi,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:A.withdrawTransfer.availableBalance})," ",o.jsxs("div",{className:"text-2xl font-bold text-white",children:[he.symbol," ",tt(Re)]})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:A.withdrawTransfer.amount})," ",o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-white",children:he.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:c,onChange:fe=>oe(fe.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:"Routing Number",value:Z.routingNumber,onChange:fe=>Q({...Z,routingNumber:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Account Number",value:Z.accountNumber,onChange:fe=>Q({...Z,accountNumber:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsxs("select",{value:Z.accountType,onChange:fe=>Q({...Z,accountType:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none",children:[o.jsx("option",{value:"Checking",children:A.withdrawTransfer.checking})," ",o.jsx("option",{value:"Savings",children:A.withdrawTransfer.savings})," "]}),o.jsx("input",{type:"text",placeholder:A.withdrawTransfer.accountHolderName,value:Z.name,onChange:fe=>Q({...Z,name:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",o.jsx("input",{type:"text",placeholder:A.withdrawTransfer.address,value:Z.address,onChange:fe=>Q({...Z,address:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," "]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:A.withdrawTransfer.fee})," ",o.jsxs("span",{className:"font-semibold text-white",children:[he.symbol," ",Qe?.fee||0]})]})}),o.jsxs("button",{onClick:gt,disabled:x,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:[x?A.withdrawTransfer.processing:A.withdrawTransfer.confirmTransfer," "]})]})]}):n==="EU"&&(a==="sepa"||a==="instant")?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>l(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-1",children:a==="sepa"?A.withdrawTransfer.sepaTransfer:A.withdrawTransfer.sepaInstant}),o.jsx("p",{className:"text-sm text-gray-400",children:a==="sepa"?A.withdrawTransfer.singleEuroPaymentsArea:A.withdrawTransfer.instantTransfer})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:a==="sepa"?o.jsx(fl,{className:"w-6 h-6 text-white"}):o.jsx(Yi,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:A.withdrawTransfer.availableBalance})," ",o.jsxs("div",{className:"text-2xl font-bold text-white",children:[he.symbol," ",tt(Re)]})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:A.withdrawTransfer.amount})," ",o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-white",children:he.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:c,onChange:fe=>oe(fe.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:"IBAN",value:te.iban,onChange:fe=>ae({...te,iban:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500 font-mono text-sm"}),o.jsx("input",{type:"text",placeholder:"BIC/SWIFT (optional)",value:te.bic,onChange:fe=>ae({...te,bic:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:A.withdrawTransfer.beneficiaryName,value:te.name,onChange:fe=>ae({...te,name:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",o.jsx("input",{type:"text",placeholder:A.withdrawTransfer.address,value:te.address,onChange:fe=>ae({...te,address:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," "]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:A.withdrawTransfer.fee})," ",o.jsxs("span",{className:"font-semibold text-white",children:[he.symbol," ",Qe?.fee||0]})]})}),o.jsxs("button",{onClick:gt,disabled:x,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:[x?A.withdrawTransfer.processing:A.withdrawTransfer.confirmTransfer," "]})]})]}):n==="GB"&&(a==="faster"||a==="bacs")?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>l(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-1",children:a==="faster"?A.withdrawTransfer.fasterPayments:A.withdrawTransfer.bacsTransfer}),o.jsx("p",{className:"text-sm text-gray-400",children:a==="faster"?A.withdrawTransfer.instantBankTransfer:A.withdrawTransfer.standardBankTransfer})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:a==="faster"?o.jsx(Yi,{className:"w-6 h-6 text-white"}):o.jsx(fl,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:A.withdrawTransfer.availableBalance})," ",o.jsxs("div",{className:"text-2xl font-bold text-white",children:[he.symbol," ",tt(Re)]})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:A.withdrawTransfer.amount})," ",o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-white",children:he.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:c,onChange:fe=>oe(fe.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:"Sort Code (12-34-56)",value:re.sortCode,onChange:fe=>xe({...re,sortCode:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Account Number",value:re.accountNumber,onChange:fe=>xe({...re,accountNumber:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:A.withdrawTransfer.accountHolderName,value:re.name,onChange:fe=>xe({...re,name:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",o.jsx("input",{type:"text",placeholder:A.withdrawTransfer.address,value:re.address,onChange:fe=>xe({...re,address:fe.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," "]}),o.jsxs("button",{onClick:gt,disabled:x,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:[x?A.withdrawTransfer.processing:A.withdrawTransfer.confirmTransfer," "]})]})]}):null:null;if(f){let fe="";n==="BR"&&a==="pix"?fe=`${A.withdrawTransfer.pixKey}: ${Y} (${V})`:n==="BR"&&a==="bank"?fe=`${$.name} - ${$.bank} Ag: ${$.agency} Conta: ${$.account}`:n==="US"?fe=`${Z.name} - Account: ${Z.accountNumber}`:n==="EU"?fe=`${te.name} - IBAN: ${te.iban}`:n==="GB"&&(fe=`${re.name} - Sort Code: ${re.sortCode} Account: ${re.accountNumber}`);const He={transactionId:L,amount:c,currency:he.currency,symbol:he.symbol,method:Qe?.name||"",processingTime:Qe?.processingTime||"",fee:Qe?.fee||0,recipientInfo:fe,date:new Date().toLocaleDateString(W==="pt"?"pt-BR":W==="es"?"es-ES":"en-US",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),status:A.withdrawTransfer.processingStatus};return o.jsx(qSe,{onNavigate:t,transactionData:He})}return a?yt():o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>e(),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-lg mb-2",children:A.withdrawTransfer.sendMoney})," ",o.jsxs("p",{className:"text-gray-400 text-sm",children:[A.withdrawTransfer.chooseCountryAndMethod," "]})]}),o.jsxs("div",{className:"px-6 mb-6",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-3 font-semibold",children:A.withdrawTransfer.selectAccount})," ",k?o.jsx("div",{className:"bg-zinc-900/50 rounded-2xl h-32 animate-pulse"}):D.length===0?o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 text-center",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:A.fiatAccounts.noAccountsFound})," ",o.jsx("p",{className:"text-xs text-gray-500",children:A.withdrawTransfer.addAccountHome})," "]}):o.jsx("div",{className:"space-y-3",children:D.map(fe=>{const He=wt(fe),Nt=i?.id===fe.id;return o.jsxs("button",{onClick:()=>{s(fe);const ft={BR:"BR",US:"US",PT:"EU",ES:"EU",FR:"EU",DE:"EU",IT:"EU",GB:"GB",UK:"GB"}[fe.country]||"BR";r(ft)},className:`w-full bg-gradient-to-br from-zinc-800/90 via-zinc-900/95 to-black backdrop-blur-xl rounded-2xl p-4 border transition-all active:scale-[0.98] text-left relative overflow-hidden group ${Nt?"ring-2 ring-white border-white/30":"border-zinc-700/60 hover:border-zinc-600"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] via-transparent to-transparent pointer-events-none"}),o.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[o.jsx("div",{className:"flex items-center gap-3 flex-1",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-lg font-semibold text-white mb-1",children:fe.currency}),o.jsxs("div",{className:"flex items-center gap-2",children:[He.icon&&o.jsx("span",{className:"text-cyan-400 text-xs",children:He.icon}),o.jsx("span",{className:"text-xs text-gray-400",children:He.label})]})]})}),o.jsxs("div",{className:"text-right ml-3",children:[o.jsx("div",{className:"text-base font-semibold text-white tabular-nums",children:dt(fe.currency)}),(fe.iban||fe.accountNumber)&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1 font-mono",children:[" ",(fe.iban||fe.accountNumber).slice(-4)]})]})]})]},fe.id)})})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:A.withdrawTransfer.availableForTransfer})," ",o.jsx("div",{className:"text-white",children:i?o.jsx(ya,{value:tt(C(i.currency)),symbol:We[i.currency]}):o.jsx(ya,{value:tt(C(he.currency)),symbol:he.symbol})}),o.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[i?`${A.withdrawTransfer.account} ${i.currency}`:` ${tt(Te)} USDT`," "]})]})}),o.jsxs("div",{className:"flex-1 px-6",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-3 font-semibold",children:A.withdrawTransfer.transferMethods})," ",o.jsx("div",{className:"space-y-3",children:et.map(fe=>{const He=fe.icon;return o.jsxs("button",{onClick:()=>l(fe.id),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center flex-shrink-0",children:o.jsx(He,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-lg mb-1",children:fe.name}),o.jsx("div",{className:"text-sm text-gray-400",children:fe.description}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[fe.processingTime,"  ",A.withdrawTransfer.noTransferLimit," "]})]}),o.jsx("div",{className:"text-gray-400",children:o.jsx(Et,{className:"w-5 h-5 rotate-180"})})]},fe.id)})})]}),o.jsx("div",{className:"px-6 pt-4",children:o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 text-sm text-yellow-200/90",children:[o.jsxs("p",{className:"font-semibold mb-1",children:[" ",A.withdrawTransfer.important]})," ",o.jsxs("p",{className:"text-xs text-yellow-200/70",children:[A.withdrawTransfer.verifyBankData," "]})]})})]})}const WSe="modulepreload",KSe=function(t){return"/nexcoin/"+t},B3={},fH=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(n.map(d=>{if(d=KSe(d),d in B3)return;B3[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":WSe,f||(p.as="script"),p.crossOrigin="",p.href=d,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((y,x)=>{p.addEventListener("load",y),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})},GSe=Yp("Share",{web:()=>fH(()=>import("./web-QZ0mE5fS.js"),[]).then(t=>new t.ShareWeb)});var Rd={},dC,z3;function XSe(){return z3||(z3=1,dC=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),dC}var fC={},ml={},$3;function Vu(){if($3)return ml;$3=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ml.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},ml.getSymbolTotalCodewords=function(r){return e[r]},ml.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},ml.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},ml.isKanjiModeEnabled=function(){return typeof t<"u"},ml.toSJIS=function(r){return t(r)},ml}var hC={},U3;function _2(){return U3||(U3=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(hC)),hC}var mC,q3;function YSe(){if(q3)return mC;q3=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},mC=t,mC}var pC,H3;function QSe(){if(H3)return pC;H3=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},pC=t,pC}var gC={},W3;function JSe(){return W3||(W3=1,(function(t){const e=Vu().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),a=s===145?26:Math.ceil((s-13)/(2*i-2))*2,l=[s-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-a;return l.push(6),l.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),a=s.length;for(let l=0;l<a;l++)for(let c=0;c<a;c++)l===0&&c===0||l===0&&c===a-1||l===a-1&&c===0||i.push([s[l],s[c]]);return i}})(gC)),gC}var yC={},K3;function ZSe(){if(K3)return yC;K3=1;const t=Vu().getSymbolSize,e=7;return yC.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},yC}var vC={},G3;function eNe(){return G3||(G3=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let a=0,l=0,c=0,d=null,f=null;for(let m=0;m<s;m++){l=c=0,d=f=null;for(let p=0;p<s;p++){let y=i.get(m,p);y===d?l++:(l>=5&&(a+=e.N1+(l-5)),d=y,l=1),y=i.get(p,m),y===f?c++:(c>=5&&(a+=e.N1+(c-5)),f=y,c=1)}l>=5&&(a+=e.N1+(l-5)),c>=5&&(a+=e.N1+(c-5))}return a},t.getPenaltyN2=function(i){const s=i.size;let a=0;for(let l=0;l<s-1;l++)for(let c=0;c<s-1;c++){const d=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(d===4||d===0)&&a++}return a*e.N2},t.getPenaltyN3=function(i){const s=i.size;let a=0,l=0,c=0;for(let d=0;d<s;d++){l=c=0;for(let f=0;f<s;f++)l=l<<1&2047|i.get(d,f),f>=10&&(l===1488||l===93)&&a++,c=c<<1&2047|i.get(f,d),f>=10&&(c===1488||c===93)&&a++}return a*e.N3},t.getPenaltyN4=function(i){let s=0;const a=i.data.length;for(let c=0;c<a;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/a/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const a=s.size;for(let l=0;l<a;l++)for(let c=0;c<a;c++)s.isReserved(c,l)||s.xor(c,l,n(i,c,l))},t.getBestMask=function(i,s){const a=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let d=0;d<a;d++){s(d),t.applyMask(d,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(d,i),f<c&&(c=f,l=d)}return l}})(vC)),vC}var cv={},X3;function hH(){if(X3)return cv;X3=1;const t=_2(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return cv.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},cv.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},cv}var xC={},fm={},Y3;function tNe(){if(Y3)return fm;Y3=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),fm.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},fm.exp=function(r){return t[r]},fm.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},fm}var Q3;function nNe(){return Q3||(Q3=1,(function(t){const e=tNe();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let a=0;a<r.length;a++)for(let l=0;l<i.length;l++)s[a+l]^=e.mul(r[a],i[l]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const a=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],a);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(xC)),xC}var bC,J3;function rNe(){if(J3)return bC;J3=1;const t=nNe();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),a=this.degree-s.length;if(a>0){const l=new Uint8Array(this.degree);return l.set(s,a),l}return s},bC=e,bC}var wC={},_C={},EC={},Z3;function mH(){return Z3||(Z3=1,EC.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),EC}var fa={},eV;function pH(){if(eV)return fa;eV=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;fa.KANJI=new RegExp(n,"g"),fa.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),fa.BYTE=new RegExp(r,"g"),fa.NUMERIC=new RegExp(t,"g"),fa.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return fa.testKanji=function(c){return i.test(c)},fa.testNumeric=function(c){return s.test(c)},fa.testAlphanumeric=function(c){return a.test(c)},fa}var tV;function Fu(){return tV||(tV=1,(function(t){const e=mH(),n=pH();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,a){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?s.ccBits[0]:a<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,a){if(t.isValid(s))return s;try{return r(s)}catch{return a}}})(_C)),_C}var nV;function iNe(){return nV||(nV=1,(function(t){const e=Vu(),n=hH(),r=_2(),i=Fu(),s=mH(),a=7973,l=e.getBCHDigit(a);function c(p,y,x){for(let b=1;b<=40;b++)if(y<=t.getCapacity(b,x,p))return b}function d(p,y){return i.getCharCountIndicator(p,y)+4}function f(p,y){let x=0;return p.forEach(function(b){const _=d(b.mode,y);x+=_+b.getBitsLength()}),x}function m(p,y){for(let x=1;x<=40;x++)if(f(p,x)<=t.getCapacity(x,y,i.MIXED))return x}t.from=function(y,x){return s.isValid(y)?parseInt(y,10):x},t.getCapacity=function(y,x,b){if(!s.isValid(y))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=i.BYTE);const _=e.getSymbolTotalCodewords(y),T=n.getTotalCodewordsCount(y,x),L=(_-T)*8;if(b===i.MIXED)return L;const M=L-d(b,y);switch(b){case i.NUMERIC:return Math.floor(M/10*3);case i.ALPHANUMERIC:return Math.floor(M/11*2);case i.KANJI:return Math.floor(M/13);case i.BYTE:default:return Math.floor(M/8)}},t.getBestVersionForData=function(y,x){let b;const _=r.from(x,r.M);if(Array.isArray(y)){if(y.length>1)return m(y,_);if(y.length===0)return 1;b=y[0]}else b=y;return c(b.mode,b.getLength(),_)},t.getEncodedBits=function(y){if(!s.isValid(y)||y<7)throw new Error("Invalid QR Code version");let x=y<<12;for(;e.getBCHDigit(x)-l>=0;)x^=a<<e.getBCHDigit(x)-l;return y<<12|x}})(wC)),wC}var CC={},rV;function sNe(){if(rV)return CC;rV=1;const t=Vu(),e=1335,n=21522,r=t.getBCHDigit(e);return CC.getEncodedBits=function(s,a){const l=s.bit<<3|a;let c=l<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(l<<10|c)^n},CC}var TC={},SC,iV;function aNe(){if(iV)return SC;iV=1;const t=Fu();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,a;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),a=parseInt(s,10),r.put(a,10);const l=this.data.length-i;l>0&&(s=this.data.substr(i),a=parseInt(s,10),r.put(a,l*3+1))},SC=e,SC}var NC,sV;function oNe(){if(sV)return NC;sV=1;const t=Fu(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let a=e.indexOf(this.data[s])*45;a+=e.indexOf(this.data[s+1]),i.put(a,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},NC=n,NC}var PC,aV;function lNe(){if(aV)return PC;aV=1;const t=Fu();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},PC=e,PC}var AC,oV;function cNe(){if(oV)return AC;oV=1;const t=Fu(),e=Vu();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},AC=n,AC}var IC={exports:{}},lV;function uNe(){return lV||(lV=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},a={};a[r]=0;var l=e.PriorityQueue.make();l.push(r,0);for(var c,d,f,m,p,y,x,b,_;!l.empty();){c=l.pop(),d=c.value,m=c.cost,p=n[d]||{};for(f in p)p.hasOwnProperty(f)&&(y=p[f],x=m+y,b=a[f],_=typeof a[f]>"u",(_||b>x)&&(a[f]=x,l.push(f,x),s[f]=d))}if(typeof i<"u"&&typeof a[i]>"u"){var T=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(T)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(IC)),IC.exports}var cV;function dNe(){return cV||(cV=1,(function(t){const e=Fu(),n=aNe(),r=oNe(),i=lNe(),s=cNe(),a=pH(),l=Vu(),c=uNe();function d(T){return unescape(encodeURIComponent(T)).length}function f(T,L,M){const z=[];let I;for(;(I=T.exec(M))!==null;)z.push({data:I[0],index:I.index,mode:L,length:I[0].length});return z}function m(T){const L=f(a.NUMERIC,e.NUMERIC,T),M=f(a.ALPHANUMERIC,e.ALPHANUMERIC,T);let z,I;return l.isKanjiModeEnabled()?(z=f(a.BYTE,e.BYTE,T),I=f(a.KANJI,e.KANJI,T)):(z=f(a.BYTE_KANJI,e.BYTE,T),I=[]),L.concat(M,z,I).sort(function(C,S){return C.index-S.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function p(T,L){switch(L){case e.NUMERIC:return n.getBitsLength(T);case e.ALPHANUMERIC:return r.getBitsLength(T);case e.KANJI:return s.getBitsLength(T);case e.BYTE:return i.getBitsLength(T)}}function y(T){return T.reduce(function(L,M){const z=L.length-1>=0?L[L.length-1]:null;return z&&z.mode===M.mode?(L[L.length-1].data+=M.data,L):(L.push(M),L)},[])}function x(T){const L=[];for(let M=0;M<T.length;M++){const z=T[M];switch(z.mode){case e.NUMERIC:L.push([z,{data:z.data,mode:e.ALPHANUMERIC,length:z.length},{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.ALPHANUMERIC:L.push([z,{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.KANJI:L.push([z,{data:z.data,mode:e.BYTE,length:d(z.data)}]);break;case e.BYTE:L.push([{data:z.data,mode:e.BYTE,length:d(z.data)}])}}return L}function b(T,L){const M={},z={start:{}};let I=["start"];for(let j=0;j<T.length;j++){const C=T[j],S=[];for(let D=0;D<C.length;D++){const N=C[D],k=""+j+D;S.push(k),M[k]={node:N,lastCount:0},z[k]={};for(let O=0;O<I.length;O++){const A=I[O];M[A]&&M[A].node.mode===N.mode?(z[A][k]=p(M[A].lastCount+N.length,N.mode)-p(M[A].lastCount,N.mode),M[A].lastCount+=N.length):(M[A]&&(M[A].lastCount=N.length),z[A][k]=p(N.length,N.mode)+4+e.getCharCountIndicator(N.mode,L))}}I=S}for(let j=0;j<I.length;j++)z[I[j]].end=0;return{map:z,table:M}}function _(T,L){let M;const z=e.getBestModeForData(T);if(M=e.from(L,z),M!==e.BYTE&&M.bit<z.bit)throw new Error('"'+T+'" cannot be encoded with mode '+e.toString(M)+`.
 Suggested mode is: `+e.toString(z));switch(M===e.KANJI&&!l.isKanjiModeEnabled()&&(M=e.BYTE),M){case e.NUMERIC:return new n(T);case e.ALPHANUMERIC:return new r(T);case e.KANJI:return new s(T);case e.BYTE:return new i(T)}}t.fromArray=function(L){return L.reduce(function(M,z){return typeof z=="string"?M.push(_(z,null)):z.data&&M.push(_(z.data,z.mode)),M},[])},t.fromString=function(L,M){const z=m(L,l.isKanjiModeEnabled()),I=x(z),j=b(I,M),C=c.find_path(j.map,"start","end"),S=[];for(let D=1;D<C.length-1;D++)S.push(j.table[C[D]].node);return t.fromArray(y(S))},t.rawSplit=function(L){return t.fromArray(m(L,l.isKanjiModeEnabled()))}})(TC)),TC}var uV;function fNe(){if(uV)return fC;uV=1;const t=Vu(),e=_2(),n=YSe(),r=QSe(),i=JSe(),s=ZSe(),a=eNe(),l=hH(),c=rNe(),d=iNe(),f=sNe(),m=Fu(),p=dNe();function y(j,C){const S=j.size,D=s.getPositions(C);for(let N=0;N<D.length;N++){const k=D[N][0],O=D[N][1];for(let A=-1;A<=7;A++)if(!(k+A<=-1||S<=k+A))for(let W=-1;W<=7;W++)O+W<=-1||S<=O+W||(A>=0&&A<=6&&(W===0||W===6)||W>=0&&W<=6&&(A===0||A===6)||A>=2&&A<=4&&W>=2&&W<=4?j.set(k+A,O+W,!0,!0):j.set(k+A,O+W,!1,!0))}}function x(j){const C=j.size;for(let S=8;S<C-8;S++){const D=S%2===0;j.set(S,6,D,!0),j.set(6,S,D,!0)}}function b(j,C){const S=i.getPositions(C);for(let D=0;D<S.length;D++){const N=S[D][0],k=S[D][1];for(let O=-2;O<=2;O++)for(let A=-2;A<=2;A++)O===-2||O===2||A===-2||A===2||O===0&&A===0?j.set(N+O,k+A,!0,!0):j.set(N+O,k+A,!1,!0)}}function _(j,C){const S=j.size,D=d.getEncodedBits(C);let N,k,O;for(let A=0;A<18;A++)N=Math.floor(A/3),k=A%3+S-8-3,O=(D>>A&1)===1,j.set(N,k,O,!0),j.set(k,N,O,!0)}function T(j,C,S){const D=j.size,N=f.getEncodedBits(C,S);let k,O;for(k=0;k<15;k++)O=(N>>k&1)===1,k<6?j.set(k,8,O,!0):k<8?j.set(k+1,8,O,!0):j.set(D-15+k,8,O,!0),k<8?j.set(8,D-k-1,O,!0):k<9?j.set(8,15-k-1+1,O,!0):j.set(8,15-k-1,O,!0);j.set(D-8,8,1,!0)}function L(j,C){const S=j.size;let D=-1,N=S-1,k=7,O=0;for(let A=S-1;A>0;A-=2)for(A===6&&A--;;){for(let W=0;W<2;W++)if(!j.isReserved(N,A-W)){let Y=!1;O<C.length&&(Y=(C[O]>>>k&1)===1),j.set(N,A-W,Y),k--,k===-1&&(O++,k=7)}if(N+=D,N<0||S<=N){N-=D,D=-D;break}}}function M(j,C,S){const D=new n;S.forEach(function(W){D.put(W.mode.bit,4),D.put(W.getLength(),m.getCharCountIndicator(W.mode,j)),W.write(D)});const N=t.getSymbolTotalCodewords(j),k=l.getTotalCodewordsCount(j,C),O=(N-k)*8;for(D.getLengthInBits()+4<=O&&D.put(0,4);D.getLengthInBits()%8!==0;)D.putBit(0);const A=(O-D.getLengthInBits())/8;for(let W=0;W<A;W++)D.put(W%2?17:236,8);return z(D,j,C)}function z(j,C,S){const D=t.getSymbolTotalCodewords(C),N=l.getTotalCodewordsCount(C,S),k=D-N,O=l.getBlocksCount(C,S),A=D%O,W=O-A,Y=Math.floor(D/O),J=Math.floor(k/O),V=J+1,G=Y-J,q=new c(G);let R=0;const $=new Array(O),K=new Array(O);let Z=0;const Q=new Uint8Array(j.buffer);for(let se=0;se<O;se++){const he=se<W?J:V;$[se]=Q.slice(R,R+he),K[se]=q.encode($[se]),R+=he,Z=Math.max(Z,he)}const te=new Uint8Array(D);let ae=0,re,xe;for(re=0;re<Z;re++)for(xe=0;xe<O;xe++)re<$[xe].length&&(te[ae++]=$[xe][re]);for(re=0;re<G;re++)for(xe=0;xe<O;xe++)te[ae++]=K[xe][re];return te}function I(j,C,S,D){let N;if(Array.isArray(j))N=p.fromArray(j);else if(typeof j=="string"){let Y=C;if(!Y){const J=p.rawSplit(j);Y=d.getBestVersionForData(J,S)}N=p.fromString(j,Y||40)}else throw new Error("Invalid data");const k=d.getBestVersionForData(N,S);if(!k)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=k;else if(C<k)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+k+`.
`);const O=M(C,S,N),A=t.getSymbolSize(C),W=new r(A);return y(W,C),x(W),b(W,C),T(W,S,0),C>=7&&_(W,C),L(W,O),isNaN(D)&&(D=a.getBestMask(W,T.bind(null,W,S))),a.applyMask(D,W),T(W,S,D),{modules:W,version:C,errorCorrectionLevel:S,maskPattern:D,segments:N}}return fC.create=function(C,S){if(typeof C>"u"||C==="")throw new Error("No input text");let D=e.M,N,k;return typeof S<"u"&&(D=e.from(S.errorCorrectionLevel,e.M),N=d.from(S.version),k=a.from(S.maskPattern),S.toSJISFunc&&t.setToSJISFunction(S.toSJISFunc)),I(C,N,D,k)},fC}var jC={},kC={},dV;function gH(){return dV||(dV=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:s,scale:s?4:a,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const a=i.modules.size,l=i.modules.data,c=t.getScale(a,s),d=Math.floor((a+s.margin*2)*c),f=s.margin*c,m=[s.color.light,s.color.dark];for(let p=0;p<d;p++)for(let y=0;y<d;y++){let x=(p*d+y)*4,b=s.color.light;if(p>=f&&y>=f&&p<d-f&&y<d-f){const _=Math.floor((p-f)/c),T=Math.floor((y-f)/c);b=m[l[_*a+T]?1:0]}r[x++]=b.r,r[x++]=b.g,r[x++]=b.b,r[x]=b.a}}})(kC)),kC}var fV;function hNe(){return fV||(fV=1,(function(t){const e=gH();function n(i,s,a){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=a,s.width=a,s.style.height=a+"px",s.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,a,l){let c=l,d=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(d=r()),c=e.getOptions(c);const f=e.getImageWidth(s.modules.size,c),m=d.getContext("2d"),p=m.createImageData(f,f);return e.qrToImageData(p.data,s,c),n(m,d,f),m.putImageData(p,0,0),d},t.renderToDataURL=function(s,a,l){let c=l;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const d=t.render(s,a,c),f=c.type||"image/png",m=c.rendererOpts||{};return d.toDataURL(f,m.quality)}})(jC)),jC}var RC={},hV;function mNe(){if(hV)return RC;hV=1;const t=gH();function e(i,s){const a=i.a/255,l=s+'="'+i.hex+'"';return a<1?l+" "+s+'-opacity="'+a.toFixed(2).slice(1)+'"':l}function n(i,s,a){let l=i+s;return typeof a<"u"&&(l+=" "+a),l}function r(i,s,a){let l="",c=0,d=!1,f=0;for(let m=0;m<i.length;m++){const p=Math.floor(m%s),y=Math.floor(m/s);!p&&!d&&(d=!0),i[m]?(f++,m>0&&p>0&&i[m-1]||(l+=d?n("M",p+a,.5+y+a):n("m",c,0),c=0,d=!1),p+1<s&&i[m+1]||(l+=n("h",f),f=0)):c++}return l}return RC.render=function(s,a,l){const c=t.getOptions(a),d=s.modules.size,f=s.modules.data,m=d+c.margin*2,p=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",y="<path "+e(c.color.dark,"stroke")+' d="'+r(f,d,c.margin)+'"/>',x='viewBox="0 0 '+m+" "+m+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+x+' shape-rendering="crispEdges">'+p+y+`</svg>
`;return typeof l=="function"&&l(null,_),_},RC}var mV;function pNe(){if(mV)return Rd;mV=1;const t=XSe(),e=fNe(),n=hNe(),r=mNe();function i(s,a,l,c,d){const f=[].slice.call(arguments,1),m=f.length,p=typeof f[m-1]=="function";if(!p&&!t())throw new Error("Callback required as last argument");if(p){if(m<2)throw new Error("Too few arguments provided");m===2?(d=l,l=a,a=c=void 0):m===3&&(a.getContext&&typeof d>"u"?(d=c,c=void 0):(d=c,c=l,l=a,a=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(l=a,a=c=void 0):m===2&&!a.getContext&&(c=l,l=a,a=void 0),new Promise(function(y,x){try{const b=e.create(l,c);y(s(b,a,c))}catch(b){x(b)}})}try{const y=e.create(l,c);d(null,s(y,a,c))}catch(y){d(y)}}return Rd.create=e.create,Rd.toCanvas=i.bind(null,n.render),Rd.toDataURL=i.bind(null,n.renderToDataURL),Rd.toString=i.bind(null,function(s,a,l){return r.render(s,l)}),Rd}var gNe=pNe();const yNe=di(gNe),pV=[{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"BNB",name:"Binance Coin",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"},{symbol:"TRX",name:"Tron",id:"tron"}],hm=[{id:"Ethereum",name:"Ethereum (ERC20)",icon:"ETH",shortName:"ETH"},{id:"Tron",name:"Tron (TRC20)",icon:"TRX",shortName:"TRX"},{id:"Polygon",name:"Polygon",icon:"MATIC",shortName:"MATIC"},{id:"Solana",name:"Solana",icon:"SOL",shortName:"SOL"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB",shortName:"BNB"},{id:"Bitcoin",name:"Bitcoin",icon:"BTC",shortName:"BTC"},{id:"Ripple",name:"Ripple",icon:"XRP",shortName:"XRP"}];function vNe({onNavigate:t}){const[e,n]=E.useState(null),[r,i]=E.useState("Tron"),[s,a]=E.useState(""),[l,c]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(""),[y,x]=E.useState(""),[b,_]=E.useState(!1),[T,L]=E.useState(!1),M=E.useRef(null),z=E.useRef(null),{getAddressForNetwork:I,regenerateAddress:j,isLoading:C}=dH(),{portfolio:S}=Bs(),{prices:D}=fi(),{t:N,language:k}=pt();E.useEffect(()=>{const Z=Q=>{z.current&&!z.current.contains(Q.target)&&_(!1)};return b&&document.addEventListener("mousedown",Z),()=>{document.removeEventListener("mousedown",Z)}},[b]);const O=Z=>S.holdings.find(te=>te.symbol===Z)?.amount||0,A=(Z,Q)=>(D[Z]?.usd||0)*Q,W=pV.filter(Z=>Z.symbol.toLowerCase().includes(m.toLowerCase())||Z.name.toLowerCase().includes(m.toLowerCase()));E.useEffect(()=>{e&&Y()},[r,e]),E.useEffect(()=>{s&&M.current&&yNe.toCanvas(M.current,s,{width:192,margin:2,color:{dark:"#FFFFFF",light:"#09090b"}}).catch(Z=>{console.error("Erro ao gerar QR Code:",Z)})},[s]);const Y=async()=>{try{const Z=await I(r);a(Z),f(!1),console.log(` Endereo carregado para ${r}:`,Z)}catch(Z){console.error(" Erro ao carregar endereo:",Z),Ge.error(N.receiveCrypto.generatingAddress)}},J=async()=>{if(!s){Ge.error("Nenhum endereo disponvel");return}if(await Qb(s)){f(!0);const Q=hm.find(te=>te.id===r);Ge.success(N.receiveCrypto.copied,{description:`${Q?.shortName}  ${s.substring(0,8)}...`}),setTimeout(()=>{f(!1)},3e3)}},V=async()=>{if(r){c(!0);try{console.log(` Regenerando endereo para ${r}...`);const Z=await j(r);a(Z),f(!1);const Q=hm.find(te=>te.id===r);Ge.success(N.receiveCrypto.copied,{description:`${Q?.shortName}  ${Z.substring(0,8)}...`}),console.log(` Novo endereo gerado para ${r}:`,Z)}catch(Z){console.error(" Erro ao regenerar endereo:",Z),Ge.error("Erro ao gerar novo endereo")}finally{c(!1)}}},G=async()=>{if(s)try{await GSe.share({title:`Meu endereo ${e}`,text:`Meu endereo ${e} (${r}): ${s}`,url:"",dialogTitle:"Compartilhar endereo"})}catch(Z){console.error("Erro ao compartilhar:",Z)}},q=Z=>{n(Z.symbol),p("")},R=()=>{e?(n(null),a(""),x("")):t("wallet")},$=hm.find(Z=>Z.id===r),K=pV.find(Z=>Z.symbol===e);return T?o.jsx("div",{className:"min-h-screen bg-black text-white pb-6",children:o.jsxs("div",{className:"px-6 pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("button",{onClick:()=>L(!1),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:o.jsx(Et,{className:"w-5 h-5 text-white"})}),o.jsx("h1",{className:"text-lg text-white",children:N.receiveCrypto.helpTitle}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-2xl p-5",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"text-yellow-500 text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-yellow-200 font-semibold mb-2",children:N.receiveCrypto.attention}),o.jsx("p",{className:"text-yellow-200/80 text-sm leading-relaxed",children:N.receiveCrypto.attentionDesc})]})]})}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-semibold mb-2",children:N.receiveCrypto.uniqueAddress}),o.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:N.receiveCrypto.uniqueAddressDesc})]})]})}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-semibold mb-2",children:N.receiveCrypto.security}),o.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:N.receiveCrypto.securityDesc})]})]})}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-semibold mb-2",children:N.receiveCrypto.howItWorks}),o.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:N.receiveCrypto.howItWorksDesc})]})]})}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-semibold mb-2",children:N.receiveCrypto.importantTip}),o.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:N.receiveCrypto.importantTipDesc})]})]})})]})]})}):e?o.jsx("div",{className:"min-h-screen bg-black text-white pb-6",children:o.jsxs("div",{className:"px-6 pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("button",{onClick:R,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:o.jsx(Et,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"text-center",children:[o.jsx("h1",{className:"text-lg text-white",children:N.receiveCrypto.receiveCryptoTitle.replace("{crypto}",e)}),o.jsx("p",{className:"text-sm text-white/60",children:K?.name})]}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"mb-6",ref:z,children:[o.jsx("label",{className:"block text-white/70 text-sm font-semibold mb-3",children:N.receiveCrypto.selectNetwork}),o.jsx("button",{onClick:()=>_(!b),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-3",children:$&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(mt,{symbol:$.icon,size:"sm"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white font-semibold",children:$.name}),o.jsx("div",{className:"text-xs text-gray-400",children:$.shortName})]})]})}),o.jsx("svg",{className:`w-5 h-5 text-white/60 transition-transform ${b?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),b&&o.jsx("div",{className:"mt-2 bg-white/5 backdrop-blur-md rounded-2xl overflow-hidden shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:o.jsxs("div",{className:"max-h-[176px] overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsx("style",{children:`
                  div::-webkit-scrollbar {
                    display: none;
                  }
                `}),hm.map((Z,Q)=>o.jsxs("button",{onClick:()=>{i(Z.id),_(!1)},className:`w-full p-4 flex items-center justify-between transition-all ${r===Z.id?"bg-white/10":"hover:bg-white/5"} ${Q!==hm.length-1?"border-b border-white/5":""}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(mt,{symbol:Z.icon,size:"sm"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white font-semibold",children:Z.name}),o.jsx("div",{className:"text-xs text-gray-400",children:Z.shortName})]})]}),r===Z.id&&o.jsx("div",{className:"w-2 h-2 rounded-full bg-[#34c759]"})]},Z.id))]})})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 mb-6 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"relative rounded-[2.2rem] shadow-[0_0_50px_rgba(0,0,0,0.8)] group transition-all duration-500 hover:shadow-blue-500/10",children:[o.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-[2.5rem] blur opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),o.jsx("div",{className:"relative bg-zinc-950 rounded-[2.1rem] p-6 flex items-center justify-center overflow-hidden",children:C?o.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-8",children:[o.jsx(Fte,{className:"w-12 h-12 text-white/20 animate-spin mb-4"}),o.jsx("p",{className:"text-white/40 text-[10px] font-bold uppercase tracking-widest",children:N.receiveCrypto.generatingAddress})]}):o.jsx("canvas",{ref:M,className:"w-48 h-48 rounded-xl opacity-90 group-hover:opacity-100 transition-opacity"})})]})}),o.jsxs("div",{className:"mb-8",children:[o.jsx("p",{className:"text-white/40 text-[10px] uppercase tracking-widest font-bold mb-3 text-center",children:N.receiveCrypto.yourAddress}),C?o.jsx("div",{className:"flex items-center justify-center py-4",children:o.jsx("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):o.jsx("div",{className:"bg-black/40 rounded-2xl p-4 group active:scale-[0.99] transition-transform overflow-hidden",children:o.jsx("p",{className:"font-mono text-[11px] whitespace-nowrap text-white/90 text-center leading-relaxed",children:s||N.receiveCrypto.generatingAddress})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[o.jsx("button",{className:"bg-transparent rounded-2xl py-4 flex flex-col items-center gap-2 hover:bg-white/5 transition-all disabled:opacity-50 disabled:cursor-not-allowed group",onClick:J,disabled:!s||C,children:d?o.jsxs(o.Fragment,{children:[o.jsx(eb,{className:"w-5 h-5 text-[#34c759]"}),o.jsx("span",{className:"text-[10px] text-[#34c759] font-bold uppercase tracking-tight",children:N.receiveCrypto.copied})]}):o.jsxs(o.Fragment,{children:[o.jsx(vn,{className:"w-5 h-5 text-white/60 group-hover:text-white transition-colors"}),o.jsx("span",{className:"text-[10px] text-white/60 font-bold uppercase tracking-tight group-hover:text-white transition-colors",children:N.receiveCrypto.copy})]})}),o.jsxs("button",{className:"bg-transparent rounded-2xl py-4 flex flex-col items-center gap-2 hover:bg-white/5 transition-all disabled:opacity-50 disabled:cursor-not-allowed group",onClick:V,disabled:l||!s||C,children:[o.jsx(sP,{className:`w-5 h-5 text-white/60 group-hover:text-white transition-colors ${l?"animate-spin":""}`}),o.jsx("span",{className:"text-[10px] text-white/60 font-bold uppercase tracking-tight group-hover:text-white transition-colors",children:l?N.receiveCrypto.generating:N.receiveCrypto.new})]}),o.jsxs("button",{className:"bg-transparent rounded-2xl py-4 flex flex-col items-center gap-2 hover:bg-white/5 transition-all disabled:opacity-50 disabled:cursor-not-allowed group",onClick:G,disabled:!s||C,children:[o.jsx(aP,{className:"w-5 h-5 text-white/60 group-hover:text-white transition-colors"}),o.jsx("span",{className:"text-[10px] text-white/60 font-bold uppercase tracking-tight group-hover:text-white transition-colors",children:"Compartilhar"})]})]})]}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-3.5",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(XB,{className:"w-4 h-4 text-white/60"}),o.jsxs("p",{className:"text-white/70 text-xs text-center",children:[N.receiveCrypto.transactionQuestions," ",o.jsx("span",{onClick:()=>L(!0),className:"text-white font-semibold underline cursor-pointer hover:text-white/90 transition-colors",children:N.receiveCrypto.helpHere})]})]})})]})}):o.jsx("div",{className:"min-h-screen bg-black text-white pb-24",children:o.jsxs("div",{className:"px-6 pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("button",{onClick:R,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:o.jsx(Et,{className:"w-5 h-5 text-white"})}),o.jsxs("h1",{className:"text-lg text-white",children:[N.receiveCrypto.title," ",N.crypto]}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Wl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),o.jsx("input",{type:"text",placeholder:N.receiveCrypto.searchPlaceholder,value:m,onChange:Z=>p(Z.target.value),className:"w-full bg-white/5 backdrop-blur-md text-white rounded-2xl pl-12 pr-4 py-4 focus:outline-none focus:ring-2 focus:ring-white/20 placeholder-white/40 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]"})]})}),o.jsx("div",{className:"space-y-3",children:W.map(Z=>{const Q=O(Z.symbol),te=A(Z.id,Q);return o.jsx("button",{onClick:()=>q(Z),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(mt,{symbol:Z.symbol,size:"md"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white font-semibold text-base",children:Z.name}),o.jsx("div",{className:"text-sm text-white/50",children:Z.symbol})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-white font-semibold",children:Q.toLocaleString(k==="pt"?"pt-BR":k==="es"?"es-ES":"en-US",{minimumFractionDigits:2,maximumFractionDigits:8})}),o.jsx("div",{className:"text-sm text-white/50",children:te.toLocaleString(k==="pt"?"pt-BR":k==="es"?"es-ES":"en-US",{style:"currency",currency:"USD"})})]})]})},Z.symbol)})})]})})}function xNe({onNavigate:t}){const{transactions:e,isLoading:n,formatAmount:r,getCurrencySymbol:i,formatTransactionDescription:s,formatTransactionAmount:a,getTransactionIconType:l}=Yb(),{t:c,language:d}=pt(),[f,m]=E.useState(""),p=E.useMemo(()=>{const b=e.filter(T=>{if(f){const L=f.toLowerCase();if(!s(T).toLowerCase().includes(L))return!1}return!0}),_={};return b.forEach(T=>{const L=T.createdAt,M=new Date,z=new Date(M);z.setDate(z.getDate()-1);let I;if(L.getDate()===M.getDate()&&L.getMonth()===M.getMonth()&&L.getFullYear()===M.getFullYear())I=c.transactionsPage.today;else if(L.getDate()===z.getDate()&&L.getMonth()===z.getMonth()&&L.getFullYear()===z.getFullYear())I=c.transactionsPage.yesterday;else{const j=d==="pt"?"pt-BR":d==="es"?"es-ES":"en-US";I=L.toLocaleDateString(j,{day:"numeric",month:"long",year:L.getFullYear()!==M.getFullYear()?"numeric":void 0})}_[I]||(_[I]=[]),_[I].push(T)}),_},[e,f,s,c,d]),y=b=>{const _=d==="pt"?"pt-BR":d==="es"?"es-ES":"en-US";return b.toLocaleTimeString(_,{hour:"2-digit",minute:"2-digit"})},x=b=>{switch(b){case"completed":return"text-green-500";case"pending":case"processing":return"text-yellow-500";case"failed":return"text-red-500";default:return"text-gray-400"}};return o.jsxs("div",{className:"min-h-screen bg-black pb-24",children:[o.jsxs("div",{className:"px-6 pt-4 pb-6",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-12 h-12 rounded-full border border-gray-700 flex items-center justify-center mb-6",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-lg mb-6",children:c.transactionsPage.title}),o.jsx("div",{className:"flex gap-3 mb-6",children:o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Wl,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),o.jsx("input",{type:"text",placeholder:c.transactionsPage.search,value:f,onChange:b=>m(b.target.value),className:`w-full bg-zinc-900/80 rounded-full pl-10 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-zinc-700 ${f?"pr-10":"pr-4"} py-3`}),f&&o.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-500",onClick:()=>m(""),children:o.jsx(is,{className:"w-5 h-5"})})]})})]}),n&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(v0,{className:"w-8 h-8 animate-spin text-gray-400"})}),!n&&e.length===0&&o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-900 flex items-center justify-center mx-auto mb-4",children:o.jsx(lp,{className:"w-10 h-10 text-gray-600"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:c.transactionsPage.noTransactions}),o.jsx("p",{className:"text-gray-400 text-sm",children:c.transactionsPage.noTransactionsDesc})]}),!n&&e.length>0&&Object.keys(p).length===0&&o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-900 flex items-center justify-center mx-auto mb-4",children:o.jsx(Wl,{className:"w-10 h-10 text-gray-600"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:c.transactionsPage.noResults}),o.jsx("p",{className:"text-gray-400 text-sm",children:c.transactionsPage.noResultsDesc})]}),!n&&Object.keys(p).length>0&&o.jsx("div",{className:"px-6 space-y-6",children:Object.entries(p).map(([b,_])=>o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-gray-400 mb-3",children:b}),o.jsx("div",{className:"space-y-3",children:_.map(T=>o.jsxs("button",{className:"w-full bg-zinc-900/80 backdrop-blur rounded-2xl p-4 flex items-center justify-between hover:bg-zinc-800/80 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:`w-12 h-12 rounded-full bg-white/5 flex items-center justify-center flex-shrink-0 ${l(T)==="entrada"?"text-green-500":l(T)==="saida"?"text-red-500":"text-orange-500"}`,children:[l(T)==="entrada"&&o.jsx(nP,{className:"w-4 h-4"}),l(T)==="saida"&&o.jsx(rP,{className:"w-4 h-4"}),l(T)==="conversao"&&o.jsx(kte,{className:"w-4 h-4"})]}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-white",children:s(T)}),o.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-1",children:[o.jsx(lp,{className:"w-3.5 h-3.5"}),y(T.createdAt),o.jsx("span",{className:"mx-1",children:""}),o.jsxs("span",{className:x(T.status),children:[T.status==="completed"&&c.transactionsPage.status.completed,T.status==="pending"&&c.transactionsPage.status.pending,T.status==="processing"&&c.transactionsPage.status.processing,T.status==="failed"&&c.transactionsPage.status.failed]})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:`font-semibold ${["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(T.type)?"text-green-500":"text-white"}`,children:a(T)}),T.fee>0&&o.jsxs("div",{className:"text-sm text-gray-400",children:[c.transactionsPage.fee,": ",i(T.feeCurrency)," ",r(T.fee)]})]})]},T.id))})]},b))})]})}function bNe({currentScreen:t,onNavigate:e}){const{t:n}=pt(),r=[{id:"home",icon:Lte,label:n.bottomNav.home},{id:"wallet",icon:ZB,label:n.bottomNav.wallet},{id:"convert",icon:Nv,label:n.bottomNav.convert},{id:"crypto",icon:Di,label:n.bottomNav.crypto},{id:"profile",icon:oP,label:n.bottomNav.profile}];return o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black border-t border-gray-800 z-[9999]",children:o.jsx("div",{className:"flex justify-around items-center py-3 px-4 max-w-md mx-auto relative z-10 pointer-events-auto",style:{transform:"translateZ(0)",willChange:"transform"},children:r.map(i=>{const s=i.icon,a=t===i.id;return o.jsxs("button",{onClick:()=>e(i.id),className:"flex flex-col items-center gap-1 transition-colors",children:[o.jsx(s,{className:`w-6 h-6 ${a?"text-white":"text-gray-500"}`}),o.jsx("span",{className:`text-xs ${a?"text-white":"text-gray-500"}`,children:i.label})]},i.id)})})})}function wNe({onNavigate:t}){const{t:e}=pt(),{phoneNumber:n}=tz(),{signInWithPhoneAndPin:r}=Ot(),[i,s]=E.useState(["","","","","",""]),[a,l]=E.useState(!1),[c,d]=E.useState(!1),[f,m]=E.useState(""),p=E.useRef([]);E.useEffect(()=>{p.current[0]?.focus()},[]);const y=(T,L)=>{if(L&&!/^\d$/.test(L))return;a&&l(!1);const M=[...i];if(M[T]=L,s(M),L&&T<5&&p.current[T+1]?.focus(),T===5&&L){const z=[...M.slice(0,5),L].join("");x(z)}},x=T=>{d(!0),m(""),console.log("[PasswordEntry] Validando PIN:",T),console.log("[PasswordEntry] Telefone:",n),setTimeout(()=>{r(n,T).then(()=>{console.log("[PasswordEntry]  Login bem-sucedido!"),t("home")}).catch(L=>{console.log("[PasswordEntry]  Erro no login:",L.message),l(!0),m(L.message||e.loginError),console.log("[PasswordEntry] Exibindo mensagem de erro:",L.message),setTimeout(()=>{s(["","","","","",""]),p.current[0]?.focus(),l(!1),m("")},1500)}).finally(()=>{d(!1)})},300)},b=(T,L)=>{L.key==="Backspace"&&!i[T]&&T>0&&p.current[T-1]?.focus()},_=T=>{T.preventDefault();const L=T.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);if(L){const M=[...i];L.split("").forEach((j,C)=>{C<6&&(M[C]=j)}),s(M);const z=M.findIndex(j=>!j),I=z===-1?5:z;p.current[I]?.focus()}};return o.jsx("div",{className:"bg-black text-white min-h-screen flex items-start justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-[400px] flex flex-col",children:[o.jsx("header",{className:"pt-3 px-4 pb-1",children:o.jsx("button",{"aria-label":"Voltar",className:"flex items-center justify-center w-7 h-7 -ml-1 rounded-full active:bg-slate-800 transition-colors",onClick:()=>t("login"),children:o.jsx(Et,{className:"w-4 h-4"})})}),o.jsxs("main",{className:"flex-1 px-4",children:[o.jsx("h1",{className:"text-xl font-bold tracking-tight mb-3",children:e.password}),o.jsxs("div",{className:`flex items-center gap-1 mb-2 ${a?"animate-shake":""}`,children:[o.jsx("div",{className:"flex gap-1",children:[0,1,2].map(T=>o.jsx("div",{className:`w-[36px] h-[44px] rounded-lg flex items-center justify-center transition-all ${a?"bg-red-900/20 shadow-[inset_0_0_0_2px_rgba(239,68,68,0.5)]":"bg-zinc-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]"}`,children:o.jsx("input",{ref:L=>p.current[T]=L,"aria-label":`${e.password} ${T+1}`,className:`w-full h-full bg-transparent border-none text-center text-lg font-bold focus:ring-0 focus:outline-none ${a?"text-red-500":"text-white"}`,maxLength:1,type:"password",value:i[T],onChange:L=>y(T,L.target.value),onKeyDown:L=>b(T,L),onPaste:_,inputMode:"numeric",disabled:c})},T))}),o.jsx("div",{className:"text-slate-500 font-bold",children:o.jsx("span",{className:`block w-1 h-0.5 rounded-full ${a?"bg-red-500":"bg-slate-500"}`})}),o.jsx("div",{className:"flex gap-1",children:[3,4,5].map(T=>o.jsx("div",{className:`w-[36px] h-[44px] rounded-lg flex items-center justify-center transition-all ${a?"bg-red-900/20 shadow-[inset_0_0_0_2px_rgba(239,68,68,0.5)]":"bg-zinc-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]"}`,children:o.jsx("input",{ref:L=>p.current[T]=L,"aria-label":`${e.password} ${T+1}`,className:`w-full h-full bg-transparent border-none text-center text-lg font-bold focus:ring-0 focus:outline-none ${a?"text-red-500":"text-white"}`,maxLength:1,type:"password",value:i[T],onChange:L=>y(T,L.target.value),onKeyDown:L=>b(T,L),onPaste:_,inputMode:"numeric",disabled:c})},T))})]}),a&&o.jsx("p",{className:"text-red-500 text-[11px] font-medium mb-2 animate-fadeIn",children:f||e.incorrectPassword}),o.jsx("button",{className:"text-blue-500 font-semibold text-[13px] hover:underline transition-all",onClick:()=>{console.log("Forgot password clicked")},children:e.forgotPassword})]})]})})}function _Ne({onNavigate:t}){const{portfolio:e,addOrUpdateCrypto:n,removeCrypto:r,isLoading:i}=Bs(),{prices:s}=fi(),[a,l]=E.useState(null),[c,d]=E.useState(""),[f,m]=E.useState(!1),[p,y]=E.useState(null),[x,b]=E.useState(""),_=[{symbol:"BTC",coinId:"bitcoin",name:"Bitcoin"},{symbol:"ETH",coinId:"ethereum",name:"Ethereum"},{symbol:"USDT",coinId:"tether",name:"Tether"},{symbol:"BNB",coinId:"binancecoin",name:"Binance Coin"},{symbol:"SOL",coinId:"solana",name:"Solana"},{symbol:"ADA",coinId:"cardano",name:"Cardano"},{symbol:"XRP",coinId:"ripple",name:"Ripple"},{symbol:"DOT",coinId:"polkadot",name:"Polkadot"},{symbol:"DOGE",coinId:"dogecoin",name:"Dogecoin"},{symbol:"AVAX",coinId:"avalanche-2",name:"Avalanche"},{symbol:"MATIC",coinId:"matic-network",name:"Polygon"},{symbol:"LINK",coinId:"chainlink",name:"Chainlink"},{symbol:"UNI",coinId:"uniswap",name:"Uniswap"},{symbol:"LTC",coinId:"litecoin",name:"Litecoin"},{symbol:"ATOM",coinId:"cosmos",name:"Cosmos"}],T=(I,j)=>{l(I),d(j.toString())},L=async(I,j,C)=>{const S=parseFloat(c);if(isNaN(S)||S<0){alert("Por favor, insira um valor vlido");return}try{await n(I,j,S,C),l(null),d("")}catch(D){console.error("Erro ao atualizar holding:",D),alert("Erro ao atualizar. Tente novamente.")}},M=async I=>{if(confirm(`Tem certeza que deseja remover ${I} do seu portflio?`))try{await r(I)}catch(j){console.error("Erro ao remover holding:",j),alert("Erro ao remover. Tente novamente.")}},z=async()=>{if(!p){alert("Selecione uma criptomoeda");return}const I=parseFloat(x);if(isNaN(I)||I<=0){alert("Por favor, insira um valor vlido");return}try{await n(p.symbol,p.coinId,I,p.name),m(!1),y(null),b("")}catch(j){console.error("Erro ao adicionar holding:",j),alert("Erro ao adicionar. Tente novamente.")}};return o.jsxs("div",{className:"min-h-screen bg-black text-white pb-24",children:[o.jsxs("div",{className:"bg-gradient-to-b from-zinc-900 to-black px-6 pt-12 pb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:"Gerenciar Ativos"}),o.jsx("button",{onClick:()=>m(!0),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center hover:bg-white/10 transition-colors shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(bu,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-4 border border-white/10",children:[o.jsx("p",{className:"text-white/50 text-sm mb-1",children:"Saldo Total"}),o.jsxs("p",{className:"text-2xl font-bold",children:[Ur(e.totalBalanceUSDT)," USDT"]})]})]}),o.jsxs("div",{className:"px-6 pt-6",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Seus Ativos"}),i?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):e.holdings.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-white/50",children:"Nenhum ativo no portflio"}),o.jsx("button",{onClick:()=>m(!0),className:"mt-4 px-6 py-3 bg-blue-600 rounded-xl font-semibold",children:"Adicionar Primeiro Ativo"})]}):o.jsx("div",{className:"space-y-3",children:e.holdings.map(I=>{const j=s[I.coinId]?.usd||0,C=I.amount*j,S=a===I.symbol;return o.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(mt,{symbol:I.symbol,size:"md"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold",children:I.name||I.symbol}),o.jsx("p",{className:"text-white/50 text-sm",children:I.symbol})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-semibold",children:[Qi(I.amount)," ",I.symbol]}),o.jsx("p",{className:"text-white/50 text-sm",children:Ur(C)})]})]}),S?o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",value:c,onChange:D=>d(D.target.value),placeholder:"Quantidade",className:"flex-1 bg-white/10 rounded-xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-600"}),o.jsx("button",{onClick:()=>L(I.symbol,I.coinId,I.name||I.symbol),className:"w-10 h-10 bg-green-600 rounded-xl flex items-center justify-center",children:o.jsx(JB,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>{l(null),d("")},className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center",children:o.jsx(is,{className:"w-5 h-5"})})]}):o.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[o.jsxs("p",{className:"text-white/50 text-sm",children:["Quantidade: ",o.jsx("span",{className:"text-white font-semibold",children:Qi(I.amount)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>T(I.symbol,I.amount),className:"w-8 h-8 bg-blue-600/20 rounded-lg flex items-center justify-center",children:o.jsx(qte,{className:"w-4 h-4 text-blue-400"})}),o.jsx("button",{onClick:()=>M(I.symbol),className:"w-8 h-8 bg-red-600/20 rounded-lg flex items-center justify-center",children:o.jsx(Kc,{className:"w-4 h-4 text-red-400"})})]})]})]},I.symbol)})})]}),o.jsx(v2,{children:f&&o.jsx(Je.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-md z-50 flex items-end",children:o.jsxs(Je.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"w-full bg-zinc-900 rounded-t-3xl p-6 pb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Adicionar Ativo"}),o.jsx("button",{onClick:()=>{m(!1),y(null),b("")},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(is,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-white/50 text-sm mb-2 block",children:"Criptomoeda"}),o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:_.map(I=>o.jsxs("button",{onClick:()=>y(I),className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all ${p?.symbol===I.symbol?"bg-white/10 border-2 border-white/30":"bg-white/5 border border-white/10"}`,children:[o.jsx(mt,{symbol:I.symbol,size:"sm"}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("p",{className:"font-semibold",children:I.name}),o.jsx("p",{className:"text-white/50 text-sm",children:I.symbol})]})]},I.symbol))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-white/50 text-sm mb-2 block",children:"Quantidade"}),o.jsx("input",{type:"number",value:x,onChange:I=>b(I.target.value),placeholder:"0.00",className:"w-full bg-white/10 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),o.jsx("button",{onClick:z,disabled:!p||!x,className:"w-full bg-white text-black rounded-xl py-4 font-semibold hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_20px_rgba(255,255,255,0.2),0_4px_15px_rgba(0,0,0,0.4)]",children:"Adicionar"})]})]})})})]})}function ENe({onNavigate:t,onSelectAccount:e,onNavigateWithAccount:n}){const{user:r}=Ot(),{getBalance:i}=mg(),{t:s}=pt(),[a,l]=E.useState([]),[c,d]=E.useState(!0);E.useEffect(()=>{if(!r?.uid){d(!1);return}console.log(" [SelectFiatAccount] Iniciando listener de contas bancrias para userId:",r.uid);const x=at(be,"bankAccounts"),b=Rt(x,Tt("userId","==",r.uid)),_=Fs(b,T=>{console.log(" [SelectFiatAccount] Contas bancrias recebidas:",T.size);const L=T.docs.map(M=>({...M.data(),id:M.id,createdAt:M.data().createdAt?.toDate()||new Date}));console.log(" [SelectFiatAccount] Total de contas carregadas:",L.length),console.log(" [SelectFiatAccount] Pases das contas:",L.map(M=>`${M.country} (${M.currency})`).join(", ")),l(L),d(!1)},T=>{console.error(" [SelectFiatAccount] Erro no listener de contas bancrias:",T),d(!1)});return()=>{console.log(" [SelectFiatAccount] Desconectando listener de contas bancrias"),_()}},[r]);const f={BRL:{flag:"",name:s.brazilianReal,color:"#34c759"},USD:{flag:"",name:s.usDollar,color:"#007aff"},EUR:{flag:"",name:s.euro,color:"#5856d6"},GBP:{flag:"",name:s.sterling,color:"#ff9500"},JPY:{flag:"",name:s.japaneseYen,color:"#ff2d55"},CAD:{flag:"",name:s.canadianDollar,color:"#ff3b30"},AUD:{flag:"",name:s.australianDollar,color:"#ff9500"},CHF:{flag:"",name:s.swissFranc,color:"#af52de"},CNY:{flag:"",name:s.chineseYuan,color:"#ff3b30"},INR:{flag:"",name:s.indianRupee,color:"#ff9500"},MXN:{flag:"",name:s.mexicanPeso,color:"#34c759"},ARS:{flag:"",name:s.argentinePeso,color:"#5ac8fa"}},m={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",ARS:"$"},p=x=>{e&&e(x),n&&n("fiatAccountDetails",x)},y=x=>{const b=m[x]||x,_=i(x);let T;return x==="BRL"?T=_.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):T=_.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),`${b} ${T}`};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-9 h-9 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] mb-4",children:o.jsx(Et,{className:"w-4 h-4"})}),o.jsx("h1",{className:"text-xl mb-1",children:s.fiatAccounts.selectAccount}),o.jsx("p",{className:"text-white/50 text-xs",children:s.fiatAccounts.chooseAccountToTransact})]}),o.jsx("div",{className:"flex-1 px-6 pb-24",children:c?o.jsx("div",{className:"space-y-2.5",children:[1,2,3].map(x=>o.jsx("div",{className:"w-full bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10 animate-pulse",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-11 h-11 rounded-full bg-white/10"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-1.5 w-28"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-1.5 w-20"}),o.jsx("div",{className:"h-5 bg-white/10 rounded w-24"})]})]})},x))}):o.jsx("div",{className:"space-y-2.5",children:a.length>0?o.jsxs(o.Fragment,{children:[a.map((x,b)=>{const _=f[x.currency]||{name:x.currency};return o.jsx("button",{onClick:()=>p(x),className:"w-full bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10 hover:bg-white/10 transition-all active:scale-[0.98] shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-11 h-11 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center overflow-hidden border border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1)] flex-shrink-0",children:o.jsx("img",{src:`https://flagcdn.com/w80/${x.country.toLowerCase()}.png`,alt:x.currency,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 text-left min-w-0",children:[o.jsx("h3",{className:"text-sm font-semibold text-white mb-0.5 truncate",children:_.name}),o.jsx("p",{className:"text-xs text-white/40 mb-1 font-mono",children:x.iban?` ${x.iban.slice(-6)}`:` ${x.accountNumber.slice(-6)}`}),o.jsx("p",{className:"text-base font-bold text-white tabular-nums",children:y(x.currency)})]}),o.jsx(xo,{className:"w-4 h-4 text-white/30 flex-shrink-0"})]})},`${x.currency}-${x.id||b}`)}),o.jsx("button",{onClick:()=>t("accountData"),className:"w-full mt-4 bg-white rounded-xl p-3.5 hover:bg-white/90 transition-all active:scale-[0.98] shadow-[0_4px_20px_rgba(255,255,255,0.15)]",children:o.jsxs("div",{className:"flex items-center justify-center gap-2.5",children:[o.jsx(bu,{className:"w-5 h-5 text-black"}),o.jsx("span",{className:"text-sm font-semibold text-black",children:s.fiatAccounts.addNewAccount})]})})]}):o.jsxs("div",{className:"text-center py-10",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center mx-auto mb-3 border border-white/10",children:o.jsx(bu,{className:"w-8 h-8 text-white/30"})}),o.jsx("h3",{className:"text-base font-bold text-white mb-1",children:s.fiatAccounts.noAccountsFound}),o.jsx("p",{className:"text-xs text-white/50 mb-4",children:s.fiatAccounts.addFiatAccount}),o.jsx("button",{onClick:()=>t("accountData"),className:"px-5 py-2.5 bg-white/10 backdrop-blur-md rounded-full text-sm text-white font-semibold border border-white/20 hover:bg-white/20 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:s.fiatAccounts.addAccount})]})})})]})}function CNe(){const[t,e]=E.useState(!1),[n,r]=E.useState(!1),[i,s]=E.useState(!1),{user:a,userData:l,dismissAlert:c}=Ot();E.useEffect(()=>{if(l?.preferences?.dismissedAlerts?.includes("walletsMigration")){e(!0);return}const f=console.error;return console.error=(...m)=>{const p=m.join(" ");(p.includes("permission-denied")||p.includes("Missing or insufficient permissions"))&&s(!0),f.apply(console,m)},()=>{console.error=f}},[l]);const d=async()=>{if(a)try{await c("walletsMigration")}catch(f){console.error("Erro ao salvar dismiss:",f)}e(!0)};return!a||t||!i?null:o.jsx("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-md z-[100] flex items-center justify-center px-4",children:o.jsxs("div",{className:"max-w-md w-full bg-gradient-to-br from-red-600 to-red-700 rounded-2xl p-6 shadow-2xl border border-red-400/30 backdrop-blur-xl",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0",children:o.jsx(Ll,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:" Ao Obrigatria!"}),o.jsx("p",{className:"text-white/90 text-sm",children:"Deploy das regras do Firestore necessrio"})]})]}),o.jsxs("div",{className:"bg-black/30 rounded-xl p-4 mb-4 border border-white/10",children:[o.jsx("p",{className:"text-red-200 text-sm font-semibold mb-2",children:" Erro atual:"}),o.jsx("code",{className:"text-xs text-white/80 block",children:"FirebaseError: permission-denied"})]}),n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-black/30 rounded-xl p-4 mb-4 border border-white/10 max-h-64 overflow-y-auto",children:[o.jsx("h4",{className:"font-bold text-white mb-3",children:" Passo a Passo (2 minutos):"}),o.jsxs("div",{className:"space-y-3 text-sm text-white/90",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:"1. Abra o Firebase Console:"}),o.jsx("p",{className:"text-xs",children:"console.firebase.google.com"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:"2. V para Firestore Database:"}),o.jsx("p",{className:"text-xs",children:'Menu lateral  Firestore Database  Aba "Regras"'})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:"3. Cole as novas regras:"}),o.jsx("p",{className:"text-xs",children:"Copie o contedo de /firestore.rules e cole l"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:'4. Clique em "Publicar":'}),o.jsx("p",{className:"text-xs",children:"Aguarde alguns segundos e recarregue esta pgina"})]})]}),o.jsx("div",{className:"mt-4 pt-3 border-t border-white/20",children:o.jsxs("p",{className:"text-xs text-white/70",children:[" Arquivo completo com instrues detalhadas: ",o.jsx("span",{className:"font-mono text-yellow-200",children:"DEPLOY_FIRESTORE_RULES.md"})]})})]}),o.jsxs("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full bg-white text-red-600 rounded-xl py-3 px-4 font-bold text-sm hover:bg-red-50 transition-colors mb-2",children:[o.jsx("span",{children:" Abrir Firebase Console"}),o.jsx(YB,{className:"w-4 h-4"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-white/90 text-sm space-y-2 mb-4",children:[o.jsx("p",{children:" Nova estrutura de wallets implementada"}),o.jsx("p",{className:"font-semibold text-yellow-200",children:" As regras de segurana precisam ser publicadas no Firebase"})]}),o.jsx("button",{onClick:()=>r(!0),className:"w-full bg-white text-red-600 rounded-xl py-3 px-4 font-bold text-sm hover:bg-red-50 transition-colors mb-2",children:" Ver Instrues Passo a Passo"})]}),o.jsx("button",{onClick:d,className:"w-full bg-white/10 text-white rounded-xl py-2 px-4 font-semibold text-sm hover:bg-white/20 transition-colors",children:n?"J fiz o deploy, fechar":"Fechar (no recomendado)"}),!n&&o.jsx("p",{className:"text-xs text-white/60 text-center mt-3",children:" A aplicao no funcionar at o deploy das regras"})]})})}function TNe(){const{user:t}=Ot(),{prices:e,isLoading:n}=fi(),r=E.useRef(""),i=E.useRef(!1);E.useEffect(()=>{if(!(!t?.uid||n||Object.keys(e).length===0)){if(!i.current){i.current=!0;const a=setTimeout(()=>{s()},2e3);return()=>clearTimeout(a)}s()}},[t?.uid,e,n]);const s=()=>{if(!t?.uid||Object.keys(e).length===0)return;const a=JSON.stringify(Object.entries(e).map(([c,d])=>`${c}:${d.usd}`).sort().join(","));if(a===r.current)return;r.current=a,(async()=>{try{await Zte(t.uid,e)}catch(c){console.error(" Erro ao sincronizar valores das wallets:",c)}})()};return null}function E2(){const{user:t}=Ot(),[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{if(!t?.uid){n([]),i(!1);return}console.log(" Iniciando listener de chaves PIX para userId:",t.uid);const l=at(be,"pixKeys"),c=Rt(l,Tt("userId","==",t.uid)),d=Fs(c,f=>{console.log(" Snapshot de chaves PIX recebido - Total:",f.size);const m=[];f.forEach(p=>{const y=p.data();m.push({id:p.id,userId:y.userId,accountId:y.accountId,accountNumber:y.accountNumber,currency:y.currency,country:y.country,keyType:y.keyType,keyValue:y.keyValue,createdAt:y.createdAt?.toDate()||new Date})}),m.sort((p,y)=>y.createdAt.getTime()-p.createdAt.getTime()),n(m),i(!1)},f=>{console.error(" Erro no listener de chaves PIX:",f),i(!1)});return()=>{console.log(" Cancelando listener de chaves PIX"),d()}},[t?.uid]),{pixKeys:e,isLoading:r,addPixKey:async l=>{if(t?.uid)try{await Ri(at(be,"pixKeys"),{...l,userId:t.uid,createdAt:new Date})}catch(c){throw console.error("Erro ao adicionar chave PIX:",c),c}},deletePixKey:async l=>{if(t?.uid)try{await yo(st(be,"pixKeys",l))}catch(c){throw console.error("Erro ao deletar chave PIX:",c),c}}}}function SNe({account:t,onBack:e}){const{t:n}=pt(),{pixKeys:r,isLoading:i}=E2(),{user:s,userData:a}=Ot(),[l,c]=E.useState(!0);E.useEffect(()=>{l&&(async()=>{if(!s?.uid||!a?.email||!a?.phone||!t.id){console.log(" Dados do usurio incompletos para criar chaves PIX"),c(!1);return}if(t.currency!=="BRL"){console.log(" Conta no  BRL, pulando criao de chaves PIX"),c(!1);return}try{console.log(" Verificando chaves PIX para conta:",t.id);const x=at(be,"pixKeys"),b=Rt(x,Tt("userId","==",s.uid),Tt("accountId","==",t.id));if(!(await It(b)).empty){console.log(" Chaves PIX j existem para esta conta. Nenhuma ao necessria."),c(!1);return}console.log(" Criando chaves PIX automaticamente...");const T=a.email;await Ri(x,{userId:s.uid,accountId:t.id,accountNumber:t.accountNumber,currency:"BRL",country:"BR",keyType:"email",keyValue:T,createdAt:new Date}),console.log(" Chave PIX (email) criada:",T);const L=iz(a.phone);await Ri(x,{userId:s.uid,accountId:t.id,accountNumber:t.accountNumber,currency:"BRL",country:"BR",keyType:"phone",keyValue:L,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",L),console.log(" Chaves PIX criadas com sucesso!")}catch(x){console.error(" Erro ao inicializar chaves PIX:",x)}finally{c(!1)}})()},[s?.uid,a?.email,a?.phone,t.id,t.currency,t.accountNumber,l]);const d=r.filter(y=>y.accountId===t.id),f=y=>{switch(y){case"email":return Nf;case"phone":return Hte;default:return Nf}},m=y=>{switch(y){case"email":return n.email;case"phone":return n.phone;default:return y}},p=async(y,x)=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(y);else{const b=document.createElement("textarea");b.value=y,b.style.position="fixed",b.style.left="-999999px",b.style.top="-999999px",document.body.appendChild(b),b.focus(),b.select();const _=document.execCommand("copy");if(document.body.removeChild(b),!_)throw new Error("Falha ao copiar")}Ge.success(n.copied)}catch(b){console.error("Erro ao copiar chave:",b),Ge.error(n.fiatAccounts.errorCopying)}};return o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black flex flex-col z-50",children:[o.jsx("div",{className:"flex items-center px-6 pt-6 pb-4",children:o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-zinc-800/50 backdrop-blur-md flex items-center justify-center hover:bg-zinc-700/50 transition-colors",children:o.jsx(iP,{className:"w-5 h-5 text-white"})})}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:n.fiatAccounts.yourPixKeys}),o.jsx("p",{className:"text-gray-400 text-base",children:n.fiatAccounts.registeredKeys})]}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 mb-6",children:d.length>0?o.jsx("p",{className:"text-gray-300 text-sm text-center",children:n.fiatAccounts.keysAutoCreated}):o.jsx("p",{className:"text-gray-300 text-sm text-center",children:n.fiatAccounts.noKeysFound})}),o.jsx("div",{className:"space-y-3",children:i?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-400",children:n.loading})}):d.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-400",children:n.fiatAccounts.noKeysFound})}):d.map(y=>{const x=f(y.keyType);return o.jsx("div",{className:"bg-zinc-900/80 backdrop-blur-xl rounded-3xl p-5 border border-zinc-800/50",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800/50 flex items-center justify-center flex-shrink-0",children:o.jsx(x,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-white font-semibold mb-1",children:m(y.keyType)}),o.jsx("p",{className:"text-gray-400 text-sm font-mono truncate",children:y.keyValue})]}),o.jsx("button",{onClick:()=>p(y.keyValue,y.id),className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center flex-shrink-0 transition-colors",children:o.jsx(vn,{className:"w-4 h-4 text-white"})})]})},y.id)})})]})]})}function NNe({onNavigate:t}){const{user:e}=Ot();E2();const[n,r]=E.useState("tarifas"),[i,s]=E.useState(!1),[a,l]=E.useState(null),[c,d]=E.useState(!0);E.useEffect(()=>{(async()=>{if(!e?.uid){d(!1);return}try{const x=at(be,"bankAccounts"),b=Rt(x,Tt("userId","==",e.uid),Tt("currency","==","BRL")),_=await It(b);if(_.empty)console.log(" Conta BRL no encontrada, usando dados padro");else{const T=_.docs[0].data();l(T)}}catch(x){console.error(" Erro ao carregar conta BRL:",x)}finally{d(!1)}})()},[e]);const f=(y,x)=>{Qb(y),Ge.success("Copiado!",{description:`${x} copiado para a rea de transferncia`,duration:2e3})},m=async()=>{const y=`
Receba BRL
Do Brasil com Pix

Nmero da conta: ${a?.accountNumber||"N/A"}
Agncia: ${a?.branchCode||"0001"}
    `.trim();if(navigator.share)try{await navigator.share({title:"Dados da Conta",text:y})}catch{console.log("Compartilhamento cancelado")}else f(y,"Informaes")},p=()=>{};return c?o.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center",children:o.jsx("div",{className:"text-white",children:"Carregando..."})}):o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black flex flex-col z-50",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-10 h-10 rounded-full bg-zinc-800/50 backdrop-blur-md flex items-center justify-center hover:bg-zinc-700/50 transition-colors",children:o.jsx(Et,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx("div",{className:"text-white font-semibold",children:"BRL"}),o.jsx("div",{className:"text-xs text-gray-400",children:"Minhas Chaves Pix"})]}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-24",children:[o.jsxs("div",{className:"mb-6 mt-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Receba BRL"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Do Brasil com Pix"})]}),o.jsx("button",{onClick:m,className:"w-full mb-6 px-6 py-3 rounded-2xl bg-white/10 hover:bg-white/15 backdrop-blur-md border border-white/20 text-white font-semibold transition-all shadow-lg",children:"Compartilhar"}),o.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur-xl rounded-3xl p-5 mb-6 border border-zinc-800/50",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Nmero da conta"}),o.jsx("p",{className:"text-white font-mono text-xl font-semibold",children:a?.accountNumber||"N/A"})]}),o.jsx("button",{onClick:()=>f(a?.accountNumber||"","Nmero da conta"),className:"ml-3 w-10 h-10 rounded-full bg-zinc-800/50 hover:bg-zinc-700/50 flex items-center justify-center transition-colors flex-shrink-0",children:o.jsx(vn,{className:"w-4 h-4 text-cyan-400"})})]}),o.jsxs("button",{className:"text-sm text-gray-400 hover:text-gray-300 transition-colors",children:["Clique ",o.jsx("span",{className:"underline",children:"aqui"})," para ver os seus dados de conta completos"]})]}),o.jsx("button",{onClick:()=>s(!0),className:"w-full mb-6 px-6 py-4 rounded-2xl bg-zinc-800/50 hover:bg-zinc-700/50 text-white font-semibold transition-all",children:"Gerenciar"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Informaes resumidas"}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("button",{onClick:()=>r("tarifas"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="tarifas"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Tarifas"}),o.jsx("button",{onClick:()=>r("tempo"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="tempo"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Tempo"}),o.jsx("button",{onClick:()=>r("limites"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="limites"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Limites"})]}),n==="tarifas"&&o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:[o.jsx("p",{className:"text-sm font-semibold text-white mb-1",children:"Quanto custa?"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white",children:"Do Brasil (domstico)"}),o.jsx("p",{className:"text-cyan-400 font-semibold",children:"Sem tarifas"})]}),o.jsx(xo,{className:"w-5 h-5 text-gray-400"})]})]})}),n==="tempo"&&o.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:o.jsx("p",{className:"text-gray-400 text-sm",children:"Transferncias Pix so instantneas"})}),n==="limites"&&o.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:o.jsx("p",{className:"text-gray-400 text-sm",children:"Sem limite de recebimento"})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Disponibilidade"}),o.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50 flex items-start gap-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})}),o.jsx("p",{className:"text-white text-sm",children:"DDAs (dbitos automticos) no disponveis"})]})]}),o.jsxs("div",{className:"text-center text-gray-400 text-sm mb-4",children:[o.jsx("p",{className:"mb-2",children:"Como podemos melhorar? Os dados no foram aceitos?"}),o.jsx("button",{className:"text-white hover:underline font-semibold",children:"Envie sua sugesto"})]})]}),i&&a&&o.jsx(SNe,{account:a,onBack:()=>s(!1),onSuccess:p})]})}var PNe=Object.defineProperty,wx=Object.getOwnPropertySymbols,yH=Object.prototype.hasOwnProperty,vH=Object.prototype.propertyIsEnumerable,gV=(t,e,n)=>e in t?PNe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BS=(t,e)=>{for(var n in e||(e={}))yH.call(e,n)&&gV(t,n,e[n]);if(wx)for(var n of wx(e))vH.call(e,n)&&gV(t,n,e[n]);return t},zS=(t,e)=>{var n={};for(var r in t)yH.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&wx)for(var r of wx(t))e.indexOf(r)<0&&vH.call(t,r)&&(n[r]=t[r]);return n};var Iu;(t=>{const e=class _t{constructor(c,d,f,m){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<_t.MIN_VERSION||c>_t.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let p=[];for(let x=0;x<this.size;x++)p.push(!1);for(let x=0;x<this.size;x++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const y=this.addEccAndInterleave(f);if(this.drawCodewords(y),m==-1){let x=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const _=this.getPenaltyScore();_<x&&(m=b,x=_),this.applyMask(b)}}i(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(c,d){const f=t.QrSegment.makeSegments(c);return _t.encodeSegments(f,d)}static encodeBinary(c,d){const f=t.QrSegment.makeBytes(c);return _t.encodeSegments([f],d)}static encodeSegments(c,d,f=1,m=40,p=-1,y=!0){if(!(_t.MIN_VERSION<=f&&f<=m&&m<=_t.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let x,b;for(x=f;;x++){const M=_t.getNumDataCodewords(x,d)*8,z=a.getTotalBits(c,x);if(z<=M){b=z;break}if(x>=m)throw new RangeError("Data too long")}for(const M of[_t.Ecc.MEDIUM,_t.Ecc.QUARTILE,_t.Ecc.HIGH])y&&b<=_t.getNumDataCodewords(x,M)*8&&(d=M);let _=[];for(const M of c){n(M.mode.modeBits,4,_),n(M.numChars,M.mode.numCharCountBits(x),_);for(const z of M.getData())_.push(z)}i(_.length==b);const T=_t.getNumDataCodewords(x,d)*8;i(_.length<=T),n(0,Math.min(4,T-_.length),_),n(0,(8-_.length%8)%8,_),i(_.length%8==0);for(let M=236;_.length<T;M^=253)n(M,8,_);let L=[];for(;L.length*8<_.length;)L.push(0);return _.forEach((M,z)=>L[z>>>3]|=M<<7-(z&7)),new _t(x,d,L,p)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let f=0;f<d;f++)for(let m=0;m<d;m++)f==0&&m==0||f==0&&m==d-1||f==d-1&&m==0||this.drawAlignmentPattern(c[f],c[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let f=d;for(let p=0;p<10;p++)f=f<<1^(f>>>9)*1335;const m=(d<<10|f)^21522;i(m>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,r(m,p));this.setFunctionModule(8,7,r(m,6)),this.setFunctionModule(8,8,r(m,7)),this.setFunctionModule(7,8,r(m,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,r(m,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,r(m,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,r(m,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let f=0;f<12;f++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;i(d>>>18==0);for(let f=0;f<18;f++){const m=r(d,f),p=this.size-11+f%3,y=Math.floor(f/3);this.setFunctionModule(p,y,m),this.setFunctionModule(y,p,m)}}drawFinderPattern(c,d){for(let f=-4;f<=4;f++)for(let m=-4;m<=4;m++){const p=Math.max(Math.abs(m),Math.abs(f)),y=c+m,x=d+f;0<=y&&y<this.size&&0<=x&&x<this.size&&this.setFunctionModule(y,x,p!=2&&p!=4)}}drawAlignmentPattern(c,d){for(let f=-2;f<=2;f++)for(let m=-2;m<=2;m++)this.setFunctionModule(c+m,d+f,Math.max(Math.abs(m),Math.abs(f))!=1)}setFunctionModule(c,d,f){this.modules[d][c]=f,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,f=this.errorCorrectionLevel;if(c.length!=_t.getNumDataCodewords(d,f))throw new RangeError("Invalid argument");const m=_t.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d],p=_t.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d],y=Math.floor(_t.getNumRawDataModules(d)/8),x=m-y%m,b=Math.floor(y/m);let _=[];const T=_t.reedSolomonComputeDivisor(p);for(let M=0,z=0;M<m;M++){let I=c.slice(z,z+b-p+(M<x?0:1));z+=I.length;const j=_t.reedSolomonComputeRemainder(I,T);M<x&&I.push(0),_.push(I.concat(j))}let L=[];for(let M=0;M<_[0].length;M++)_.forEach((z,I)=>{(M!=b-p||I>=x)&&L.push(z[M])});return i(L.length==y),L}drawCodewords(c){if(c.length!=Math.floor(_t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let m=0;m<this.size;m++)for(let p=0;p<2;p++){const y=f-p,b=(f+1&2)==0?this.size-1-m:m;!this.isFunction[b][y]&&d<c.length*8&&(this.modules[b][y]=r(c[d>>>3],7-(d&7)),d++)}}i(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let f=0;f<this.size;f++){let m;switch(c){case 0:m=(f+d)%2==0;break;case 1:m=d%2==0;break;case 2:m=f%3==0;break;case 3:m=(f+d)%3==0;break;case 4:m=(Math.floor(f/3)+Math.floor(d/2))%2==0;break;case 5:m=f*d%2+f*d%3==0;break;case 6:m=(f*d%2+f*d%3)%2==0;break;case 7:m=((f+d)%2+f*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][f]&&m&&(this.modules[d][f]=!this.modules[d][f])}}getPenaltyScore(){let c=0;for(let p=0;p<this.size;p++){let y=!1,x=0,b=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[p][_]==y?(x++,x==5?c+=_t.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,b),y||(c+=this.finderPenaltyCountPatterns(b)*_t.PENALTY_N3),y=this.modules[p][_],x=1);c+=this.finderPenaltyTerminateAndCount(y,x,b)*_t.PENALTY_N3}for(let p=0;p<this.size;p++){let y=!1,x=0,b=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][p]==y?(x++,x==5?c+=_t.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,b),y||(c+=this.finderPenaltyCountPatterns(b)*_t.PENALTY_N3),y=this.modules[_][p],x=1);c+=this.finderPenaltyTerminateAndCount(y,x,b)*_t.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let y=0;y<this.size-1;y++){const x=this.modules[p][y];x==this.modules[p][y+1]&&x==this.modules[p+1][y]&&x==this.modules[p+1][y+1]&&(c+=_t.PENALTY_N2)}let d=0;for(const p of this.modules)d=p.reduce((y,x)=>y+(x?1:0),d);const f=this.size*this.size,m=Math.ceil(Math.abs(d*20-f*10)/f)-1;return i(0<=m&&m<=9),c+=m*_t.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let f=[6];for(let m=this.size-7;f.length<c;m-=d)f.splice(1,0,m);return f}}static getNumRawDataModules(c){if(c<_t.MIN_VERSION||c>_t.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const f=Math.floor(c/7)+2;d-=(25*f-10)*f-55,c>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(_t.getNumRawDataModules(c)/8)-_t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*_t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let m=0;m<c-1;m++)d.push(0);d.push(1);let f=1;for(let m=0;m<c;m++){for(let p=0;p<d.length;p++)d[p]=_t.reedSolomonMultiply(d[p],f),p+1<d.length&&(d[p]^=d[p+1]);f=_t.reedSolomonMultiply(f,2)}return d}static reedSolomonComputeRemainder(c,d){let f=d.map(m=>0);for(const m of c){const p=m^f.shift();f.push(0),d.forEach((y,x)=>f[x]^=_t.reedSolomonMultiply(y,p))}return f}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let f=0;for(let m=7;m>=0;m--)f=f<<1^(f>>>7)*285,f^=(d>>>m&1)*c;return i(f>>>8==0),f}finderPenaltyCountPatterns(c){const d=c[1];i(d<=this.size*3);const f=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(f&&c[0]>=d*4&&c[6]>=d?1:0)+(f&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,f){return c&&(this.finderPenaltyAddHistory(d,f),d=0),d+=this.size,this.finderPenaltyAddHistory(d,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(l,c,d){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let f=c-1;f>=0;f--)d.push(l>>>f&1)}function r(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const s=class Tn{constructor(c,d,f){if(this.mode=c,this.numChars=d,this.bitData=f,d<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(c){let d=[];for(const f of c)n(f,8,d);return new Tn(Tn.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!Tn.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let f=0;f<c.length;){const m=Math.min(c.length-f,3);n(parseInt(c.substring(f,f+m),10),m*3+1,d),f+=m}return new Tn(Tn.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!Tn.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],f;for(f=0;f+2<=c.length;f+=2){let m=Tn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f))*45;m+=Tn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f+1)),n(m,11,d)}return f<c.length&&n(Tn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f)),6,d),new Tn(Tn.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:Tn.isNumeric(c)?[Tn.makeNumeric(c)]:Tn.isAlphanumeric(c)?[Tn.makeAlphanumeric(c)]:[Tn.makeBytes(Tn.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new Tn(Tn.Mode.ECI,0,d)}static isNumeric(c){return Tn.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Tn.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let f=0;for(const m of c){const p=m.mode.numCharCountBits(d);if(m.numChars>=1<<p)return 1/0;f+=4+p+m.bitData.length}return f}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let f=0;f<c.length;f++)c.charAt(f)!="%"?d.push(c.charCodeAt(f)):(d.push(parseInt(c.substring(f+1,f+3),16)),f+=2);return d}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=s;t.QrSegment=s})(Iu||(Iu={}));(t=>{(e=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Iu||(Iu={}));(t=>{(e=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Iu||(Iu={}));var Qd=Iu;var ANe={L:Qd.QrCode.Ecc.LOW,M:Qd.QrCode.Ecc.MEDIUM,Q:Qd.QrCode.Ecc.QUARTILE,H:Qd.QrCode.Ecc.HIGH},xH=128,bH="L",wH="#FFFFFF",_H="#000000",EH=!1,CH=1,INe=4,jNe=0,kNe=.1;function TH(t,e=0){const n=[];return t.forEach(function(r,i){let s=null;r.forEach(function(a,l){if(!a&&s!==null){n.push(`M${s+e} ${i+e}h${l-s}v1H${s+e}z`),s=null;return}if(l===r.length-1){if(!a)return;s===null?n.push(`M${l+e},${i+e} h1v1H${l+e}z`):n.push(`M${s+e},${i+e} h${l+1-s}v1H${s+e}z`);return}a&&s===null&&(s=l)})}),n.join("")}function SH(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function RNe(t,e,n,r){if(r==null)return null;const i=t.length+n*2,s=Math.floor(e*kNe),a=i/e,l=(r.width||s)*a,c=(r.height||s)*a,d=r.x==null?t.length/2-l/2:r.x*a,f=r.y==null?t.length/2-c/2:r.y*a,m=r.opacity==null?1:r.opacity;let p=null;if(r.excavate){let x=Math.floor(d),b=Math.floor(f),_=Math.ceil(l+d-x),T=Math.ceil(c+f-b);p={x,y:b,w:_,h:T}}const y=r.crossOrigin;return{x:d,y:f,h:c,w:l,excavation:p,opacity:m,crossOrigin:y}}function DNe(t,e){return e!=null?Math.max(Math.floor(e),0):t?INe:jNe}function NH({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:s,size:a,boostLevel:l}){let c=Ce.useMemo(()=>{const x=(Array.isArray(t)?t:[t]).reduce((b,_)=>(b.push(...Qd.QrSegment.makeSegments(_)),b),[]);return Qd.QrCode.encodeSegments(x,ANe[e],n,void 0,void 0,l)},[t,e,n,l]);const{cells:d,margin:f,numCells:m,calculatedImageSettings:p}=Ce.useMemo(()=>{let y=c.getModules();const x=DNe(r,i),b=y.length+x*2,_=RNe(y,a,x,s);return{cells:y,margin:x,numCells:b,calculatedImageSettings:_}},[c,a,s,r,i]);return{qrcode:c,margin:f,cells:d,numCells:m,calculatedImageSettings:p}}var ONe=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),MNe=Ce.forwardRef(function(e,n){const r=e,{value:i,size:s=xH,level:a=bH,bgColor:l=wH,fgColor:c=_H,includeMargin:d=EH,minVersion:f=CH,boostLevel:m,marginSize:p,imageSettings:y}=r,b=zS(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:_}=b,T=zS(b,["style"]),L=y?.src,M=Ce.useRef(null),z=Ce.useRef(null),I=Ce.useCallback(W=>{M.current=W,typeof n=="function"?n(W):n&&(n.current=W)},[n]),[j,C]=Ce.useState(!1),{margin:S,cells:D,numCells:N,calculatedImageSettings:k}=NH({value:i,level:a,minVersion:f,boostLevel:m,includeMargin:d,marginSize:p,imageSettings:y,size:s});Ce.useEffect(()=>{if(M.current!=null){const W=M.current,Y=W.getContext("2d");if(!Y)return;let J=D;const V=z.current,G=k!=null&&V!==null&&V.complete&&V.naturalHeight!==0&&V.naturalWidth!==0;G&&k.excavation!=null&&(J=SH(D,k.excavation));const q=window.devicePixelRatio||1;W.height=W.width=s*q;const R=s/N*q;Y.scale(R,R),Y.fillStyle=l,Y.fillRect(0,0,N,N),Y.fillStyle=c,ONe?Y.fill(new Path2D(TH(J,S))):D.forEach(function($,K){$.forEach(function(Z,Q){Z&&Y.fillRect(Q+S,K+S,1,1)})}),k&&(Y.globalAlpha=k.opacity),G&&Y.drawImage(V,k.x+S,k.y+S,k.w,k.h)}}),Ce.useEffect(()=>{C(!1)},[L]);const O=BS({height:s,width:s},_);let A=null;return L!=null&&(A=Ce.createElement("img",{src:L,key:L,style:{display:"none"},onLoad:()=>{C(!0)},ref:z,crossOrigin:k?.crossOrigin})),Ce.createElement(Ce.Fragment,null,Ce.createElement("canvas",BS({style:O,height:s,width:s,ref:I,role:"img"},T)),A)});MNe.displayName="QRCodeCanvas";var _x=Ce.forwardRef(function(e,n){const r=e,{value:i,size:s=xH,level:a=bH,bgColor:l=wH,fgColor:c=_H,includeMargin:d=EH,minVersion:f=CH,boostLevel:m,title:p,marginSize:y,imageSettings:x}=r,b=zS(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:_,cells:T,numCells:L,calculatedImageSettings:M}=NH({value:i,level:a,minVersion:f,boostLevel:m,includeMargin:d,marginSize:y,imageSettings:x,size:s});let z=T,I=null;x!=null&&M!=null&&(M.excavation!=null&&(z=SH(T,M.excavation)),I=Ce.createElement("image",{href:x.src,height:M.h,width:M.w,x:M.x+_,y:M.y+_,preserveAspectRatio:"none",opacity:M.opacity,crossOrigin:M.crossOrigin}));const j=TH(z,_);return Ce.createElement("svg",BS({height:s,width:s,viewBox:`0 0 ${L} ${L}`,ref:n,role:"img"},b),!!p&&Ce.createElement("title",null,p),Ce.createElement("path",{fill:l,d:`M0,0 h${L}v${L}H0z`,shapeRendering:"crispEdges"}),Ce.createElement("path",{fill:c,d:j,shapeRendering:"crispEdges"}),I)});_x.displayName="QRCodeSVG";function LNe({account:t,onClose:e}){const{user:n}=Ot(),{t:r}=pt(),{pixKeys:i}=E2(),[s,a]=E.useState("transfer"),[l,c]=E.useState(""),[d,f]=E.useState(!1),[m,p]=E.useState(null),[y,x]=E.useState(""),[b,_]=E.useState(!1),T=t.country==="BR",L=t.currency==="BRL"?"R$":t.currency==="USD"?"$":t.currency==="EUR"?"":"";E.useEffect(()=>{i.length>0&&!y&&x(i[0].id)},[i,y]);const M=i.find(N=>N.id===y),z=(N,k)=>{Qb(N),p(k),Ge.success(r.copiedToClipboard),setTimeout(()=>p(null),2e3)},I=N=>{const k=N.replace(/\D/g,"");return k?(parseInt(k)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""},j=N=>{const k=I(N);c(k)},S=(()=>{if(!M||!l)return"";const N=parseFloat(l.replace(/\./g,"").replace(",","."));if(N<=0)return"";const k={pixKey:M.keyValue,description:"Depsito NexCoin",merchantName:"NexCoin",merchantCity:"SAO PAULO",txid:Math.random().toString(36).substring(2,15).toUpperCase(),amount:N.toFixed(2)};return JSON.stringify(k)})(),D=N=>{switch(N){case"cpf":return"CPF";case"cnpj":return"CNPJ";case"email":return r.email;case"phone":return r.phone;case"random":return"Aleatria";default:return N}};return o.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[o.jsxs("div",{className:"px-6 pt-12 pb-4 flex items-center flex-shrink-0",children:[o.jsx("button",{className:"w-10 h-10 flex items-center justify-start text-white",onClick:e,children:o.jsx(Et,{className:"w-6 h-6"})}),o.jsx("h1",{className:"flex-1 text-center font-semibold text-lg pr-10",children:r.fiatAccounts.addFunds})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto hide-scrollbar px-6 pb-6",children:[o.jsx("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-4 mb-6",children:o.jsx("div",{className:"flex items-center gap-3 mb-2",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-semibold text-white",children:t.bankName}),o.jsx("p",{className:"text-xs text-gray-400",children:t.accountNumber})]})})}),T&&o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-3",children:r.fiatAccounts.depositMethod}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>a("transfer"),className:`flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all ${s==="transfer"?"bg-white text-black":"bg-[#0A0A0A] text-gray-400 border border-[#1A1A1A]"}`,children:r.transferMethod}),o.jsx("button",{onClick:()=>a("pix"),className:`flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all ${s==="pix"?"bg-white text-black":"bg-[#0A0A0A] text-gray-400 border border-[#1A1A1A]"}`,children:r.withdrawTransfer.pix})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-3",children:r.fiatAccounts.depositAmount}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-semibold text-white",children:L}),o.jsx("input",{type:"text",inputMode:"decimal",value:l,onChange:N=>j(N.target.value),placeholder:"0,00",className:"w-full bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl py-4 pl-12 pr-4 text-2xl font-semibold text-white placeholder-gray-600 focus:outline-none focus:border-white/20"})]})]}),s==="transfer"&&o.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-4 mb-6",children:[o.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:r.fiatAccounts.transferDetails}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:r.fiatAccounts.bank}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-medium",children:t.bankName}),o.jsx("button",{onClick:()=>z(t.bankName,"bank"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="bank"?o.jsx(An,{className:"w-4 h-4 text-green-500"}):o.jsx(vn,{className:"w-4 h-4 text-gray-400"})})]})]}),t.branchCode&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:r.withdrawTransfer.agency}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-mono",children:t.branchCode}),o.jsx("button",{onClick:()=>z(t.branchCode,"branch"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="branch"?o.jsx(An,{className:"w-4 h-4 text-green-500"}):o.jsx(vn,{className:"w-4 h-4 text-gray-400"})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:r.withdrawTransfer.account}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-mono",children:t.accountNumber}),o.jsx("button",{onClick:()=>z(t.accountNumber,"account"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="account"?o.jsx(An,{className:"w-4 h-4 text-green-500"}):o.jsx(vn,{className:"w-4 h-4 text-gray-400"})})]})]}),t.iban&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"IBAN"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-mono",children:t.iban}),o.jsx("button",{onClick:()=>z(t.iban,"iban"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="iban"?o.jsx(An,{className:"w-4 h-4 text-green-500"}):o.jsx(vn,{className:"w-4 h-4 text-gray-400"})})]})]}),t.swift&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"SWIFT/BIC"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-mono",children:t.swift}),o.jsx("button",{onClick:()=>z(t.swift,"swift"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="swift"?o.jsx(An,{className:"w-4 h-4 text-green-500"}):o.jsx(vn,{className:"w-4 h-4 text-gray-400"})})]})]})]})]}),s==="pix"&&o.jsx("div",{className:"space-y-4",children:i.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400 mb-3",children:r.fiatAccounts.selectPixKey}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>_(!b),className:"w-full bg-[#0A0A0A] border border-[#1A1A1A] rounded-xl p-4 flex items-center justify-between text-left",children:[M?o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:D(M.keyType)}),o.jsx("p",{className:"text-sm text-white font-mono",children:M.keyValue})]}):o.jsx("p",{className:"text-sm text-gray-400",children:r.fiatAccounts.selectKey}),o.jsx(Ml,{className:`w-5 h-5 text-gray-400 transition-transform ${b?"rotate-180":""}`})]}),b&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#0A0A0A] border border-[#1A1A1A] rounded-xl overflow-hidden z-10 max-h-60 overflow-y-auto",children:i.map(N=>o.jsxs("button",{onClick:()=>{x(N.id),_(!1)},className:`w-full p-4 text-left hover:bg-white/5 transition-colors border-b border-[#1A1A1A] last:border-b-0 ${y===N.id?"bg-white/5":""}`,children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:D(N.keyType)}),o.jsx("p",{className:"text-sm text-white font-mono",children:N.keyValue})]},N.id))})]})]}),M&&l&&parseFloat(l.replace(/\./g,"").replace(",","."))>0&&o.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-6",children:[o.jsx("h3",{className:"text-sm font-semibold text-white mb-4 text-center",children:r.fiatAccounts.pixQrCode}),o.jsx("div",{className:"bg-white rounded-2xl p-6 mb-4 flex items-center justify-center",children:o.jsx(_x,{value:S,size:200,level:"H",includeMargin:!1,className:"w-full h-auto"})}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-xs text-gray-400",children:r.withdrawTransfer.amount}),o.jsxs("span",{className:"text-sm text-white font-semibold",children:[L," ",t.currency==="BRL"?parseFloat(l.replace(/\./g,"").replace(",",".")).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):parseFloat(l.replace(/\./g,"").replace(",",".")).toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-xs text-gray-400",children:r.withdrawTransfer.pixKey}),o.jsx("span",{className:"text-sm text-white font-mono truncate ml-4",children:M.keyValue})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-xs text-gray-400",children:r.fiatAccounts.recipient}),o.jsx("span",{className:"text-sm text-white",children:"NexCoin"})]})]}),o.jsx("button",{onClick:()=>z(S,"pixPayload"),className:"w-full bg-white/10 hover:bg-white/15 border border-white/20 rounded-xl py-3 flex items-center justify-center gap-2 transition-colors",children:m==="pixPayload"?o.jsxs(o.Fragment,{children:[o.jsx(An,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{className:"text-sm font-medium text-green-500",children:r.fiatAccounts.codeCopied})]}):o.jsxs(o.Fragment,{children:[o.jsx(vn,{className:"w-4 h-4 text-white"}),o.jsx("span",{className:"text-sm font-medium text-white",children:r.fiatAccounts.copyPixCode})]})})]})]}):o.jsx("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-6 text-center",children:o.jsx("p",{className:"text-gray-400 mb-4",children:r.fiatAccounts.noPixKeys})})}),o.jsx("div",{className:"mt-6",children:o.jsxs("p",{className:"text-xs text-white/70",children:[" ",o.jsx("strong",{children:"Dica:"})," ",r.fiatAccounts.depositHint]})})]}),o.jsx("div",{className:"p-6 border-t border-[#1A1A1A] bg-black",children:o.jsx("button",{onClick:()=>{Ge.info(r.convertPage.needTwoAccounts),e()},className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-gray-100 transition-colors",children:r.done||"Concludo"})})]})}function yV({account:t,onClose:e,onNavigateToConvert:n,onNavigateToWithdraw:r}){const[i,s]=E.useState("transactions"),[a,l]=E.useState(!1),[c,d]=E.useState(!1),{getBalance:f}=mg(),{transactions:m,isLoading:p,formatTransactionDescription:y,getTransactionIconType:x}=Yb(),{t:b,language:_}=pt(),T=E.useMemo(()=>m.filter(j=>j.currency===t.currency||j.fromCurrency===t.currency||j.toCurrency===t.currency).slice(0,10),[m,t.currency]),L=j=>{const C=f(j),S=_==="pt"?"pt-BR":_==="es"?"es-ES":"en-US";return`${C.toLocaleString(S,{minimumFractionDigits:2,maximumFractionDigits:2})} ${j}`},M=j=>{let C=0,S=t.currency;j.type==="convert"?j.fromCurrency===t.currency?(C=-j.fromAmount,S=j.fromCurrency):j.toCurrency===t.currency&&(C=j.toAmount,S=j.toCurrency):j.type==="withdraw_fiat"||j.type==="send_crypto"||j.type==="crypto_send"||j.type==="pix_send"?(C=-Math.abs(j.amount),S=j.currency):(C=Math.abs(j.amount),S=j.currency);const D=C>=0?"+":"-",N=Math.abs(C),k=_==="pt"?"pt-BR":_==="es"?"es-ES":"en-US",O=N.toLocaleString(k,{minimumFractionDigits:2,maximumFractionDigits:2});return{formatted:`${D} ${O} ${S}`,amount:C}},z=j=>{const C=_==="pt"?"pt-BR":_==="es"?"es-ES":"en-US";return j.toLocaleDateString(C,{day:"numeric",month:"short"})},I=j=>{switch(j){case"saida":return o.jsx(gT,{className:"w-5 h-5 text-white"});case"entrada":return o.jsx(GB,{className:"w-5 h-5 text-white"});case"conversao":return o.jsx(Nv,{className:"w-5 h-5 text-white"})}};return o.jsx(o.Fragment,{children:c?o.jsx(LNe,{account:t,onClose:()=>d(!1)}):a?o.jsx(NNe,{onNavigate:j=>{j==="home"&&(l(!1),e())}}):o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black z-50 overflow-y-auto",children:[o.jsx("div",{className:"flex items-center justify-between p-4 relative z-10",children:o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center backdrop-blur-md border border-white/10 hover:bg-white/15 transition-all",children:o.jsx(is,{className:"w-5 h-5 text-white"})})}),o.jsxs("div",{className:"flex flex-col items-center mt-8 px-4 relative z-10",children:[o.jsx("div",{className:"text-white/60 text-sm font-semibold mb-2 tracking-widest uppercase",children:t.currency}),o.jsx("div",{className:"text-xl font-light text-white mb-8 tabular-nums",children:L(t.currency)}),t.currency==="BRL"&&o.jsx("button",{onClick:()=>l(!0),className:"mb-8 px-6 py-2.5 rounded-full bg-white/10 hover:bg-white/15 backdrop-blur-md border border-white/20 transition-all flex items-center gap-2 text-white font-semibold text-sm shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:b.fiatAccounts.pixKeys}),o.jsxs("div",{className:"flex items-center gap-8 mb-10",children:[o.jsxs("button",{onClick:()=>d(!0),className:"flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:o.jsx(bu,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-xs text-white/70 font-light",children:b.fiatAccounts.addButton})]}),o.jsxs("button",{onClick:()=>{n&&n()},className:"flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:o.jsx(Nv,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-xs text-white/70 font-light",children:b.bottomNav.convert})]}),o.jsxs("button",{onClick:()=>{r&&r()},className:"flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:o.jsx(gT,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-xs text-white/70 font-light",children:b.withdrawTransfer.sendMoney})]})]})]}),o.jsx("div",{className:"px-4 mb-6",children:o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-full p-1 flex border border-white/10",children:[o.jsx("button",{onClick:()=>s("transactions"),className:`flex-1 py-2 rounded-full text-sm font-semibold transition-all ${i==="transactions"?"bg-white/20 backdrop-blur-md text-white shadow-[0_0_20px_rgba(255,255,255,0.05)]":"text-white/50 hover:text-white/70"}`,children:b.transactions}),o.jsx("button",{onClick:()=>s("options"),className:`py-3 text-sm font-medium border-b-2 transition-colors flex-1 ${i==="options"?"border-white text-white":"border-transparent text-white/50 hover:text-white/70"}`,children:b.options})]})}),o.jsx("div",{className:"px-4 pb-8",children:i==="transactions"?o.jsx("div",{className:"space-y-3",children:p?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-white/20 border-t-white rounded-full animate-spin"}),o.jsx("p",{className:"text-white/50 mt-4 text-sm",children:b.loading})]}):T.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto mb-4 flex items-center justify-center",children:o.jsx(Nv,{className:"w-8 h-8 text-white/30"})}),o.jsx("p",{className:"text-white/50 text-sm",children:b.transactionsPage.noTransactions}),o.jsx("p",{className:"text-white/30 text-xs mt-2",children:b.transactionsPage.noTransactionsDesc})]}):o.jsx(o.Fragment,{children:T.map(j=>{const{formatted:C,amount:S}=M(j),D=x(j);return o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)] hover:bg-white/10 transition-all",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0",children:I(D)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-white font-semibold text-sm truncate",children:y(j)}),o.jsxs("div",{className:"text-white/50 text-xs",children:[j.recipientInfo||j.description||b.transactionsPage.title,"  ",z(j.createdAt)]})]}),o.jsx("div",{className:"flex flex-col items-end",children:o.jsx("div",{className:`font-semibold text-sm tabular-nums ${S>=0?"text-[#34c759]":"text-white"}`,children:C})})]})},j.id)})})}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:[o.jsx("h3",{className:"text-white font-bold text-sm mb-3",children:b.fiatAccounts.accountData}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:b.fiatAccounts.bank}),o.jsx("div",{className:"text-white text-sm font-semibold",children:t.bankName})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:b.fiatAccounts.accountNumber}),o.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.accountNumber})]}),t.routingNumber&&o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:b.fiatAccounts.bankCode}),o.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.routingNumber})]}),t.iban&&o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:b.fiatAccounts.iban}),o.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.iban})]}),t.swift&&o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:b.fiatAccounts.swiftBic}),o.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.swift})]})]})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl overflow-hidden border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:[o.jsxs("button",{className:"w-full p-4 flex items-center justify-between hover:bg-white/10 transition-all border-b border-white/5",children:[o.jsx("span",{className:"text-white text-sm font-semibold",children:b.fiatAccounts.accountSettings}),o.jsx(xo,{className:"w-4 h-4 text-white/50"})]}),o.jsxs("button",{className:"w-full p-4 flex items-center justify-between hover:bg-white/10 transition-all",children:[o.jsx("span",{className:"text-[#ff3b30] text-sm font-semibold",children:b.fiatAccounts.removeAccount}),o.jsx(xo,{className:"w-4 h-4 text-[#ff3b30]/50"})]})]})]})})]})})}function VNe(){const{userData:t,logout:e}=Ot(),{t:n}=pt(),r=async()=>{try{await e()}catch(a){console.error("Erro ao fazer logout:",a)}},i=t?.name?.split(" ")[0]||"usurio",s=t?.email||"";return o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-8 text-center",children:[o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-yellow-500/20 rounded-full blur-xl animate-pulse"}),o.jsx("div",{className:"relative bg-gradient-to-br from-yellow-500 to-orange-500 rounded-full p-4",children:o.jsx(lp,{className:"w-12 h-12 text-white"})})]})}),o.jsx("h1",{className:"text-2xl font-bold mb-3",children:n.pendingApproval.title}),o.jsxs("p",{className:"text-gray-400 mb-8 leading-relaxed",children:[n.pendingApproval.greeting.replace("{name}",i)," ",n.pendingApproval.description.replace("NexCoin","")," ",o.jsx("span",{className:"text-white font-bold italic",children:"NexCoin"})]}),o.jsxs("div",{className:"space-y-4 mb-8 text-left",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-1",children:o.jsx(eb,{className:"w-5 h-5 text-green-500"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-medium",children:n.pendingApproval.step1Title}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n.pendingApproval.step1Desc})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-1",children:o.jsx("div",{className:"w-5 h-5 border-2 border-yellow-500 border-t-transparent rounded-full animate-spin"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-medium",children:n.pendingApproval.step2Title}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n.pendingApproval.step2Desc})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-1",children:o.jsx("div",{className:"w-5 h-5 border-2 border-white/20 rounded-full"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-400 font-medium",children:n.pendingApproval.step3Title}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n.pendingApproval.step3Desc})]})]})]}),o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3 text-left",children:[o.jsx(Nf,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-gray-300",children:[o.jsx("span",{className:"font-semibold text-white",children:n.pendingApproval.estimatedTime})," ",n.pendingApproval.timeValue]}),o.jsx("p",{className:"text-xs text-gray-400 mt-2",children:n.pendingApproval.emailNotice.replace("{email}",s)})]})]})}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400 mb-6",children:[o.jsx(wu,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:n.pendingApproval.securityBadge})]}),o.jsx("button",{onClick:r,className:"w-full py-3 px-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-white font-medium transition-all",children:n.pendingApproval.logoutButton})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-400",children:[n.pendingApproval.needHelp," ",o.jsx("a",{href:"mailto:suporte@nexcoin.com",className:"text-white hover:underline",children:n.pendingApproval.contactUs})]})})]})})}async function FNe(t){try{console.log(" ============ INICIANDO EXCLUSO DE CONTA ============"),console.log(" User ID:",t),console.log(" [1/6] Deletando subcolees do usurio...");const e=["portfolio","assets","transactions","conversions","fiatBalances","fiatTransactions","pixKeys","wallets","walletAddresses","receiveAddresses","auditLogs","preferences"];for(const n of e)try{const r=at(be,"users",t,n),i=await It(r);if(console.log(`   Deletando ${i.size} documentos de ${n}...`),i.size>0){const s=[];let a=Fd(be),l=0;const c=500;i.docs.forEach(d=>{a.delete(d.ref),l++,l===c&&(s.push(a),a=Fd(be),l=0)}),l>0&&s.push(a);for(const d of s)await d.commit();console.log(`   ${i.size} documentos deletados de ${n}`)}else console.log(`   Nenhum documento encontrado em ${n}`)}catch(r){console.log(`   Erro ao deletar ${n} (continuando):`,r.message)}console.log(" [2/6] Deletando documento principal do usurio...");try{const n=st(be,"users",t);await yo(n),console.log("   Documento principal deletado")}catch{console.log("   Documento principal no encontrado ou j foi deletado (continuando)")}console.log(" [3/6] Deletando contas bancrias...");try{const n=at(be,"bankAccounts"),r=Rt(n,Tt("userId","==",t)),i=await It(r);if(console.log(`   Deletando ${i.size} contas bancrias...`),i.size>0){const s=Fd(be);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} contas bancrias deletadas`)}else console.log("   Nenhuma conta bancria encontrada")}catch(n){console.log("   Erro ao deletar contas bancrias (continuando):",n.message)}console.log(" [4/6] Deletando chaves PIX...");try{const n=at(be,"pixKeys"),r=Rt(n,Tt("userId","==",t)),i=await It(r);if(console.log(`   Deletando ${i.size} chaves PIX...`),i.size>0){const s=Fd(be);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} chaves PIX deletadas`)}else console.log("   Nenhuma chave PIX encontrada")}catch(n){console.log("   Erro ao deletar chaves PIX (continuando):",n.message)}console.log(" [5/6] Deletando ndice de endereos de carteira...");try{const n=at(be,"walletAddressIndex"),r=Rt(n,Tt("userId","==",t)),i=await It(r);if(i.size>0){console.log(`   Deletando ${i.size} endereos do ndice...`);const s=Fd(be);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} endereos deletados do ndice`)}else console.log("   Nenhum endereo no ndice encontrado")}catch(n){console.log("   Erro ao deletar ndice de endereos (continuando):",n.message)}if(console.log(" [6/6] Deletando usurio do Firebase Auth..."),!xn.currentUser)throw new Error("Usurio no est autenticado");if(xn.currentUser.uid!==t)throw new Error("Erro de segurana: UID no corresponde ao usurio autenticado");return await NZ(xn.currentUser),console.log("   Usurio deletado do Firebase Auth"),console.log(" ============ CONTA EXCLUDA COM SUCESSO ============"),{success:!0}}catch(e){console.error(" ============ ERRO NA EXCLUSO DE CONTA ============"),console.error(" Erro:",e),console.error(" Mensagem:",e.message),console.error(" ================================================");let n="Erro ao excluir conta. Tente novamente.";return e.code==="auth/requires-recent-login"?n="Por segurana, faa login novamente antes de excluir sua conta.":e.code==="permission-denied"?n="Voc no tem permisso para excluir esta conta.":e.message&&(n=e.message),{success:!1,error:n}}}async function BNe(t){try{const e={assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0};try{const n=await It(at(be,"users",t,"assets"));e.assets=n.size}catch{}try{const n=await It(at(be,"users",t,"transactions"));e.transactions=n.size}catch{}try{const n=await It(at(be,"users",t,"conversions"));e.conversions=n.size}catch{}try{const n=await It(at(be,"users",t,"fiatBalances"));e.fiatBalances=n.size}catch{}try{const n=Rt(at(be,"bankAccounts"),Tt("userId","==",t)),r=await It(n);e.bankAccounts=r.size}catch{}try{const n=Rt(at(be,"pixKeys"),Tt("userId","==",t)),r=await It(n);e.pixKeys=r.size}catch{}return e.total=e.assets+e.transactions+e.conversions+e.fiatBalances+e.bankAccounts+e.pixKeys,console.log(" Contagem de dados do usurio:",e),e}catch(e){return console.error(" Erro geral ao contar dados do usurio:",e),{assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0}}}function zNe({onNavigate:t}){const{user:e,logout:n,verifyPin:r,userData:i}=Ot(),[s,a]=E.useState("warning"),[l,c]=E.useState(""),[d,f]=E.useState(""),[m,p]=E.useState(""),[y,x]=E.useState(!1),[b,_]=E.useState("password"),[T,L]=E.useState({assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0}),[M,z]=E.useState(!0);E.useEffect(()=>{e?.uid&&(j(),I())},[e?.uid]);const I=()=>{if(!xn.currentUser)return;const S=xn.currentUser.providerData;if(console.log(" Provedor de autenticao completo:",JSON.stringify(S,null,2)),console.log(" Email do usurio:",xn.currentUser.email),console.log(" Email verificado:",xn.currentUser.emailVerified),console.log(" Metadata:",xn.currentUser.metadata),S.length>0){const D=S[0].providerId;console.log(" Provider ID detectado:",D),D==="password"?(_("password"),console.log(" Usurio usa email/senha")):D==="google.com"?(_("google"),console.log(" Usurio usa login do Google - NO PRECISA DE SENHA")):(_("other"),console.log(" Usurio usa outro mtodo:",D))}else console.log(" Nenhum provedor encontrado!")},j=async()=>{if(e?.uid){z(!0);try{const S=await BNe(e.uid);L(S)}catch(S){console.error(" Erro ao carregar contagem:",S)}finally{z(!1)}}},C=async()=>{if(!e?.uid){Ge.error("Usurio no autenticado");return}if(!xn.currentUser){Ge.error("Erro: usurio no encontrado");return}const S=i&&i.accountPin;if(S){if(!d||d.length!==6){Ge.error("Digite seu PIN de 6 dgitos");return}if(l!=="EXCLUIR"){Ge.error('Digite "EXCLUIR" para confirmar a excluso');return}}else if(l!=="EXCLUIR"){Ge.error('Digite "EXCLUIR" para confirmar a excluso');return}a("deleting"),x(!0);try{if(S){if(console.log(" Validando PIN..."),!await r(d)){console.error(" PIN incorreto"),p("PIN incorreto. Tente novamente."),Ge.error("PIN incorreto. Verifique e tente novamente."),a("pin"),x(!1);return}console.log(" PIN validado com sucesso!")}else console.log(" Usurio sem dados no Firestore. Pulando validao de PIN.");console.log(" Iniciando excluso da conta...");const D=await FNe(e.uid);if(!D.success)throw new Error(D.error||"Erro ao excluir conta");console.log(" Conta excluda com sucesso!"),a("done"),setTimeout(()=>{n()},3e3)}catch(D){console.error(" Erro ao excluir conta:",D),console.error(" Cdigo:",D.code),console.error(" Mensagem:",D.message);let N="Erro ao excluir conta. Tente novamente.";D.code==="auth/requires-recent-login"?N="Por segurana, faa logout e login novamente antes de excluir sua conta.":D.code==="auth/network-request-failed"?N="Erro de conexo. Verifique sua internet e tente novamente.":D.message&&(N=D.message),Ge.error(N),a(S?"pin":"confirm"),x(!1)}};return s==="done"?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:o.jsxs(Je.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-6",children:o.jsx(Je.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},children:o.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),o.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Conta Excluda"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Sua conta e todos os dados foram removidos permanentemente."}),o.jsx("p",{className:"text-sm text-gray-500",children:"Redirecionando..."})]})}):s==="deleting"?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:o.jsxs(Je.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-6",children:o.jsx(v0,{className:"w-10 h-10 text-red-500 animate-spin"})}),o.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Excluindo Conta..."}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Removendo todos os seus dados do sistema."}),o.jsx("p",{className:"text-sm text-gray-500",children:"Isso pode levar alguns segundos."})]})}):o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center hover:bg-white/10 transition-colors mb-6",children:o.jsx(Et,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Excluir Conta"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Ao permanente e irreversvel"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:o.jsx(yT,{className:"w-6 h-6 text-red-500"})})]})]}),o.jsxs("div",{className:"flex-1 px-6 space-y-4",children:[s==="warning"&&o.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-4",children:[o.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[o.jsx(Kc,{className:"w-5 h-5 text-red-500"}),"Dados que sero excludos"]}),M?o.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(S=>o.jsx("div",{className:"h-8 bg-white/5 rounded-lg animate-pulse"},S))}):o.jsxs("div",{className:"space-y-3",children:[T.assets>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Ativos de criptomoedas"}),o.jsx("span",{className:"font-semibold text-white",children:T.assets})]}),T.transactions>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Transaes"}),o.jsx("span",{className:"font-semibold text-white",children:T.transactions})]}),T.conversions>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Converses"}),o.jsx("span",{className:"font-semibold text-white",children:T.conversions})]}),T.fiatBalances>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Saldos fiat"}),o.jsx("span",{className:"font-semibold text-white",children:T.fiatBalances})]}),T.bankAccounts>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Contas bancrias"}),o.jsx("span",{className:"font-semibold text-white",children:T.bankAccounts})]}),T.pixKeys>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Chaves PIX"}),o.jsx("span",{className:"font-semibold text-white",children:T.pixKeys})]}),T.total===0&&o.jsx("div",{className:"text-center text-gray-500 py-4",children:"Nenhum dado encontrado"}),T.total>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-px bg-white/10 my-3"}),o.jsxs("div",{className:"flex justify-between text-base",children:[o.jsx("span",{className:"font-bold text-white",children:"Total"}),o.jsxs("span",{className:"font-bold text-red-500",children:[T.total," itens"]})]})]})]})]}),o.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-red-500 mb-3 flex items-center gap-2",children:[o.jsx(yT,{className:"w-5 h-5"})," Ateno"]}),o.jsxs("ul",{className:"space-y-2 text-sm text-red-200/90",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:["Todos os seus ativos e saldos sero ",o.jsx("strong",{children:"permanentemente excludos"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:["Seu histrico de transaes ser ",o.jsx("strong",{children:"apagado completamente"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:["Suas chaves PIX e contas bancrias sero ",o.jsx("strong",{children:"removidas"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"No ser possvel recuperar"})," nenhum dado aps a excluso"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:["Sua conta ",o.jsx("span",{className:"font-bold italic",children:"NexCoin"})," ser ",o.jsx("strong",{children:"encerrada definitivamente"})]})]})]})]}),o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-2xl p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-yellow-500 mb-3",children:" Recomendao"}),o.jsx("p",{className:"text-sm text-yellow-200/90",children:"Antes de excluir sua conta, certifique-se de ter sacado todos os seus saldos e transferido seus ativos."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>a("confirm"),className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors flex items-center justify-center gap-2",children:[o.jsx(Kc,{className:"w-5 h-5"}),"Continuar com Excluso"]}),o.jsx("button",{onClick:()=>t("profile"),className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors",children:"Cancelar"})]})]}),s==="confirm"&&o.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-6",children:[o.jsx("h2",{className:"text-lg font-bold mb-3",children:"Confirmao de Excluso"}),o.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Para confirmar que voc entende que esta ao  irreversvel, digite ",o.jsx("strong",{className:"text-red-500",children:"EXCLUIR"})," no campo abaixo."]}),o.jsx("input",{type:"text",placeholder:"Digite EXCLUIR",value:l,onChange:S=>c(S.target.value.toUpperCase()),className:"w-full bg-white/5 border border-white/10 text-white rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-red-500 placeholder-gray-500 text-center font-bold text-lg",autoFocus:!0}),l&&l!=="EXCLUIR"&&o.jsx("p",{className:"text-xs text-red-500 mt-2 text-center",children:'O texto no corresponde. Digite exatamente "EXCLUIR"'})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>{i&&i.accountPin?a("pin"):C()},disabled:l!=="EXCLUIR",className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar"}),o.jsx("button",{onClick:()=>a("warning"),className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors",children:"Voltar"})]})]}),s==="pin"&&o.jsxs(Je.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-6",children:[o.jsxs("h2",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[o.jsx(Nl,{className:"w-5 h-5"}),"Digite seu PIN"]}),o.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Por segurana, digite seu PIN para confirmar a excluso da conta."}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"password",placeholder:"Seu PIN",value:d,onChange:S=>f(S.target.value),className:"w-full bg-white/5 border border-white/10 text-white rounded-xl px-4 py-3 pr-12 outline-none focus:ring-2 focus:ring-red-500 placeholder-gray-500",autoFocus:!0}),o.jsx("button",{type:"button",onClick:()=>f(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:o.jsx(Kc,{className:"w-5 h-5"})})]}),m&&o.jsx("p",{className:"text-xs text-red-500 mt-2 text-center",children:m})]}),o.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 mb-6",children:o.jsxs("p",{className:"text-sm text-red-200/90 text-center",children:[o.jsx("strong",{children:"ltima confirmao:"}),' Ao clicar em "Excluir Minha Conta", todos os seus dados sero ',o.jsx("strong",{children:"permanentemente removidos"})," do ",o.jsx("span",{className:"font-bold italic",children:"NexCoin"}),"."]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:C,disabled:!d||y,className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y?o.jsxs(o.Fragment,{children:[o.jsx(v0,{className:"w-5 h-5 animate-spin"}),"Excluindo..."]}):o.jsxs(o.Fragment,{children:[o.jsx(Kc,{className:"w-5 h-5"}),"Excluir Minha Conta Permanentemente"]})}),o.jsx("button",{onClick:()=>a("confirm"),disabled:y,className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50",children:"Voltar"})]})]})]})]})}function $Ne({onNavigate:t}){const{language:e,setLanguage:n,t:r}=pt(),i=[{code:"pt",name:r.portuguese,nativeName:"Portugus (Brasil)",flag:""},{code:"en",name:r.english,nativeName:"English (US)",flag:""},{code:"es",name:r.spanish,nativeName:"Espaol",flag:""}],s=async a=>{await n(a),Ge.success(r.languageUpdated)};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Et,{className:"w-5 h-5 font-light"})}),o.jsx("h1",{className:"text-xl",children:r.languageSettings})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 mb-6 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(y0,{className:"w-5 h-5 text-green-500 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"mb-1",children:r.selectLanguage}),o.jsx("p",{className:"text-sm text-gray-400",children:e==="pt"?"O idioma ser aplicado em todo o aplicativo":e==="es"?"El idioma se aplicar en toda la aplicacin":"The language will be applied throughout the app"})]})]})}),o.jsx("div",{className:"space-y-3",children:i.map(a=>o.jsx("button",{onClick:()=>s(a.code),className:`w-full p-4 rounded-2xl border transition-all active:scale-95 ${e===a.code?"bg-green-500/20 border-green-500/30":"bg-white/5 backdrop-blur-md border-white/10"} shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-3xl",children:a.flag}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white mb-0.5",children:a.nativeName}),o.jsx("div",{className:"text-xs text-gray-400",children:a.name})]})]}),e===a.code&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:o.jsx(An,{className:"w-4 h-4 text-white"})})]})},a.code))}),o.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm",children:[o.jsx(y0,{className:"w-4 h-4 text-green-500"}),e==="pt"?"Idiomas disponveis":e==="es"?"Idiomas disponibles":"Available languages"]}),o.jsxs("ul",{className:"space-y-2 text-xs text-gray-400",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsxs("span",{children:["Portugus - ",e==="pt"?"Idioma padro para Brasil":e==="es"?"Idioma predeterminado para Brasil":"Default language for Brazil"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsxs("span",{children:["English - ",e==="pt"?"Idioma padro para usurios internacionais":e==="es"?"Idioma predeterminado para usuarios internacionales":"Default language for international users"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsxs("span",{children:["Espaol - ",e==="pt"?"Idioma padro para hispanofalantes":e==="es"?"Idioma predeterminado para hispanohablantes":"Default language for Spanish speakers"]})]})]})]})]})]})}class UNe extends Ce.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary capturou erro:",e,n)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 p-6 max-w-md",children:[o.jsx("h2",{className:"text-xl mb-4",children:"Algo deu errado"}),o.jsx("p",{className:"text-white/60 text-sm mb-4",children:this.state.error?.message||"Erro desconhecido"}),o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-white/10 hover:bg-white/20 text-white py-3 px-4 rounded-xl transition-all",children:"Recarregar pgina"})]})}):this.props.children}}function qNe(){return o.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center z-50",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"relative inline-block animate-pulse",children:[o.jsx("h1",{className:"text-4xl font-bold italic relative nexcoin-logo-text",children:"NexCoin"}),o.jsx("div",{className:"h-[2px] w-full mx-auto mt-2 rounded-full",style:{background:"linear-gradient(90deg, transparent, #00d4ff, #7b2ff7, transparent)",boxShadow:"0 0 10px rgba(0, 212, 255, 0.8)"}})]}),o.jsx("div",{className:"mt-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-t-[#00d4ff] border-r-transparent border-b-[#7b2ff7] border-l-transparent rounded-full animate-spin"})})]})})}function HNe({onRetry:t}){return o.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black flex flex-col items-center justify-center p-6 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mb-6",children:o.jsx(zte,{className:"w-10 h-10 text-red-500"})}),o.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Acesso  Localizao Obrigatrio"}),o.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed",children:"Para sua segurana e proteo contra fraudes, o NexCoin exige acesso  sua localizao. Por favor, habilite o GPS nas configuraes do seu dispositivo e clique em tentar novamente."}),o.jsxs("button",{onClick:t,className:"w-full max-w-xs bg-white text-black font-bold py-4 rounded-full flex items-center justify-center gap-2 active:scale-[0.98] transition-all",children:[o.jsx(sP,{className:"w-5 h-5"}),"Tentar Novamente"]}),o.jsx("p",{className:"mt-8 text-xs text-gray-500",children:"Este requisito est em conformidade com nossa Poltica de Privacidade e Termos de Uso."})]})}function WNe({onRetry:t}){return o.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black flex flex-col items-center justify-center p-6 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-blue-500/10 rounded-full flex items-center justify-center mb-6",children:o.jsx(Rte,{className:"w-10 h-10 text-blue-500"})}),o.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Acesso  Cmera Obrigatrio"}),o.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed",children:"O NexCoin exige acesso  cmera para verificao de identidade (KYC) e segurana da sua conta. Por favor, habilite a permisso de cmera nas configuraes do seu dispositivo e clique em tentar novamente."}),o.jsxs("button",{onClick:t,className:"w-full max-w-xs bg-white text-black font-bold py-4 rounded-full flex items-center justify-center gap-2 active:scale-[0.98] transition-all",children:[o.jsx(sP,{className:"w-5 h-5"}),"Tentar Novamente"]}),o.jsx("p",{className:"mt-8 text-xs text-gray-500",children:"Este requisito garante a integridade das suas transaes e protege sua conta contra acessos no autorizados."})]})}const pl=Yp("PushNotifications",{});var vV;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(vV||(vV={}));const xV=Yp("LocalNotifications",{web:()=>fH(()=>import("./web-BM_ViWHO.js"),[]).then(t=>new t.LocalNotificationsWeb)}),KNe=E.createContext(void 0);function GNe({children:t}){const{userData:e,isAuthenticated:n}=Ot(),{t:r}=pt(),[i,s]=E.useState(null),[a,l]=E.useState(!1),c=E.useCallback(async()=>{try{console.log(" [Notifications] Iniciando registro de Push...");const f=await pl.checkPermissions();return f.receive==="prompt"&&(await pl.requestPermissions()).receive!=="granted"?(console.warn(" [Notifications] Permisso de Push negada"),!1):f.receive!=="granted"&&(await pl.requestPermissions()).receive!=="granted"?!1:(await pl.register(),pl.addListener("registration",m=>{if(console.log(" [Notifications] Token de Push recebido:",m.value),s(m.value),e?.uid){const p=st(be,"users",e.uid);Ii(p,{pushToken:m.value}).catch(y=>{console.error(" Erro ao salvar pushToken:",y)})}}),pl.addListener("registrationError",m=>{console.error(" [Notifications] Erro no registro de Push:",m)}),pl.addListener("pushNotificationReceived",m=>{console.log(" [Notifications] Push recebido (Foreground):",m)}),pl.addListener("pushNotificationActionPerformed",m=>{console.log(" [Notifications] Ao de Push executada:",m)}),!0)}catch(f){return console.error(" [Notifications] Erro ao configurar Push:",f),!1}},[e?.uid]),d=async(f,m,p)=>{try{await xV.schedule({notifications:[{title:f,body:m,id:Math.floor(Math.random()*1e4),schedule:{at:new Date(Date.now()+100)},extra:p,sound:"default"}]})}catch(y){console.error(" [Notifications] Erro ao enviar Local Notification:",y)}};return E.useEffect(()=>{if(!n||!e?.uid)return;console.log(" [Notifications] Iniciando monitor de transaes para notificaes...");const f=at(be,"users",e.uid,"transactions"),m=Rt(f,Tt("status","==","completed"),Xx("createdAt","desc"),Za(5)),p=Fs(m,y=>{y.docChanges().forEach(x=>{if(x.type==="added"){const b=x.doc.data(),_=x.doc.id,T=`nexcoin_notified_txs_${e.uid}`,L=JSON.parse(localStorage.getItem(T)||"[]");if(L.includes(_))return;const M=b.createdAt?.toDate?b.createdAt.toDate():new Date(b.createdAt);if(Math.abs(new Date().getTime()-M.getTime())/(1e3*60*60)<24&&(console.log(" [Notifications] Nova transao detectada (ou no vista):",b),["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(b.type))){const S=b.type.includes("pix")?"PIX Recebido":"Cripto Recebida",D=`Voc recebeu ${b.amount} ${b.currency}!`;d(S,D,{txId:_});const N=[...L,_];N.length>50&&N.shift(),localStorage.setItem(T,JSON.stringify(N))}}})});return()=>p()},[n,e?.uid]),E.useEffect(()=>{n&&!a&&(l(!0),xV.requestPermissions())},[n,a,c]),o.jsx(KNe.Provider,{value:{pushToken:i,requestPermissions:c,sendLocalNotification:d},children:t})}function XNe(){const t=navigator.userAgent,e=/iPad|iPhone|iPod/.test(t),n=/Safari/.test(t)&&!/Chrome|CriOS|FxiOS/.test(t);return e||n}function YNe(){const{isAuthenticated:t,isPinVerified:e,userData:n}=Ot(),r=E.useRef(!1);E.useEffect(()=>{const i=XNe();if(console.log(" usePermissionsRequest - Estado atual:",{isAuthenticated:t,isPinVerified:e,hasUserData:!!n,userId:n?.userId,permissionsRequested:n?.permissionsRequested,hasRequestedRef:r.current,isIOSSafari:i}),!t){console.log(" No autenticado, aguardando...");return}if(!e){console.log(" PIN no verificado, aguardando...");return}if(!n){console.log(" Sem userData, aguardando...");return}if(r.current){console.log(" J solicitou nesta sesso");return}if(n.permissionsRequested){console.log(" J solicitou anteriormente (Firestore)");return}console.log(" TODAS VALIDAES PASSARAM! Iniciando solicitao de permisses em 1 segundo..."),r.current=!0;const s=setTimeout(()=>{console.log(" Timer disparado! Executando requestPermissions()"),a()},1e3);return()=>clearTimeout(s);async function a(){console.log(" === INICIANDO SOLICITAO DE PERMISSES ===");const l={location:"not_requested",camera:"not_requested"};try{if(n?.trackLocationEnabled===!0){console.log(" Solicitando permisso de LOCALIZAO (nativo)");try{await new Promise((c,d)=>{navigator.geolocation.getCurrentPosition(f=>{console.log(" Localizao concedida:",f.coords),l.location="granted",c()},f=>{console.log(" Localizao negada ou bloqueada:",f.message),f.code===1?l.location="denied":f.code===2?l.location="unavailable":l.location="timeout",c()},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}catch(c){console.error("Erro ao solicitar localizao:",c),l.location="error"}}else console.log(" Pulando solicitao de LOCALIZAO (desativado via Firebase)"),l.location="skipped_remote";await new Promise(c=>setTimeout(c,1e3)),console.log(" Solicitando permisso de CMERA (nativo)");try{const c=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});console.log(" Cmera concedida"),l.camera="granted",c.getTracks().forEach(d=>d.stop())}catch(c){console.log(" Cmera no permitida:",c.name),c.name==="NotAllowedError"?l.camera="denied":c.name==="NotFoundError"?l.camera="not_found":c.name==="NotReadableError"?l.camera="in_use":c.name==="NotSupportedError"?l.camera="not_supported":l.camera="error"}if(console.log(" Salvando permisses:",l),n?.userId)try{const c=st(be,"users",n.userId);await Ii(c,{permissionsRequested:!0,locationPermission:l.location,cameraPermission:l.camera,permissionsRequestedAt:new Date().toISOString()}),console.log(" Permisses salvas no Firestore")}catch(c){console.error(" Erro ao salvar permisses:",c)}}catch(c){console.error(" Erro geral ao solicitar permisses:",c)}}},[t,e,n])}function QNe(){const{t}=pt(),e="https://play.google.com/store/apps/details?id=com.nexcoin.app",n="https://apps.apple.com/app/nexcoin/id6470000000",r={initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.15}}},i={initial:{opacity:0,y:30},animate:{opacity:1,y:0}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center px-6 py-12 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-[500px] bg-blue-600/10 blur-[120px] rounded-full"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-indigo-600/10 blur-[100px] rounded-full"}),o.jsxs(Je.div,{variants:r,initial:"initial",animate:"animate",className:"max-w-5xl w-full text-center relative z-10",children:[o.jsx(Je.div,{variants:i,className:"mb-4"}),o.jsxs(Je.div,{variants:i,className:"mb-12",children:[o.jsxs("h2",{className:"text-3xl lg:text-5xl font-black mb-6 tracking-tight leading-tight",children:[t.downloadApp.successSubtitle.split(",")[0],o.jsx("span",{className:"text-blue-500",children:"."})]}),o.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto leading-relaxed",children:t.downloadApp.successSubtitle.split(",").slice(1).join(",")})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-10 mt-12",children:[o.jsxs(Je.div,{variants:i,className:"group flex flex-col items-center relative transition-all duration-500",children:[o.jsx("div",{className:"pt-8"}),o.jsx("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:t.downloadApp.android}),o.jsx("div",{className:"bg-white p-2 rounded-3xl mb-8 shadow-2xl relative group-hover:scale-[1.02] transition-transform duration-500",children:o.jsx(_x,{value:e,size:200,level:"H",includeMargin:!1,imageSettings:{src:"https://upload.wikimedia.org/wikipedia/commons/d/d7/Android_robot.svg",x:void 0,y:void 0,height:40,width:40,excavate:!0}})}),o.jsx("p",{className:"text-sm text-gray-500 mb-8 max-w-[180px]",children:t.downloadApp.androidHint})]}),o.jsxs(Je.div,{variants:i,className:"group flex flex-col items-center relative transition-all duration-500",children:[o.jsx("div",{className:"pt-8"}),o.jsx("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:t.downloadApp.ios}),o.jsx("div",{className:"bg-white p-2 rounded-3xl mb-8 shadow-2xl relative group-hover:scale-[1.02] transition-transform duration-500",children:o.jsx(_x,{value:n,size:200,level:"H",includeMargin:!1,imageSettings:{src:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg",x:void 0,y:void 0,height:40,width:40,excavate:!0}})}),o.jsx("p",{className:"text-sm text-gray-500 mb-8 max-w-[180px]",children:t.downloadApp.iosHint})]})]}),o.jsxs(Je.div,{variants:i,className:"mt-20 pt-10 border-t border-white/5 flex flex-col md:flex-row items-center justify-between gap-6 text-gray-500 text-sm",children:[o.jsx("p",{children:t.downloadApp.rightsReserved}),o.jsxs("div",{className:"flex gap-8",children:[o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:t.landingPage.footerPrivacy}),o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:t.landingPage.footerTerms})]})]})]})]})}const JNe=console.error;console.error=(...t)=>{typeof t[0]=="string"&&(t[0].includes("WebChannelConnection")||t[0].includes("RPC")||t[0].includes("transport errored"))||JNe.apply(console,t)};function ZNe(){const{isAuthenticated:t,isPinVerified:e,userData:n,loading:r}=Ot(),{hasPermission:i,hasCameraPermission:s,isLoading:a,getCurrentLocation:l,checkCameraPermission:c}=hz(),[d,f]=E.useState("welcome"),[m]=E.useState(Kl.getPlatform()==="web"),[p,y]=E.useState(!1),[x,b]=E.useState("fade"),[_,T]=E.useState(null),[L,M]=E.useState(null),[z,I]=E.useState(!1);YNe(),E.useEffect(()=>{if(!r){if(!z){t&&e?(console.log(" Inicializao: Usurio autenticado"),f(m?"downloadApp":"home")):(console.log(" Inicializao: Usurio no autenticado, ficando em welcome"),f("welcome")),I(!0);return}if(t){if(t&&!e)["login","signup"].includes(d)&&(console.log(" Redirecionando para pinVerify (vindo de login/signup)"),f("pinVerify"));else if(t&&e){if(m&&["welcome","login","signup","pinVerify","pinSetup"].includes(d)){console.log(" Web: Cadastro finalizado, indo para tela de download"),f("downloadApp");return}["welcome","login","signup","pinVerify"].includes(d)&&(console.log(" Redirecionando para home"),f("home"))}}else return}},[t,e,r,z]);const j=N=>({welcome:"fade",login:"slide",signup:"slideup",pinSetup:"slideup",pinVerify:"slideup",country:"scale",countrySelection:"scale",completeProfile:"slideup",home:"fade",wallet:"slide",convert:"scale",crypto:"slideup",profile:"slide",personalInfo:"slide",accountData:"slide",security:"scale",changePassword:"slideup",notifications:"slideup",pushSettings:"slideup",helpCenter:"slideup",termsAndConditions:"slideup",privacyPolicy:"slideup",termsMenu:"slideup",deposit:"slideup",withdraw:"slide",withdrawFiat:"slide",receive:"fade",transactions:"scale",passwordEntry:"slideup",manageHoldings:"slideup",fiatAccountDetails:"slideup",selectFiatAccount:"slideup",deleteAccount:"slideup",languageSettings:"slideup",downloadApp:"fade"})[N]||"slide",C=N=>{let k=N;m&&(N==="home"||N==="wallet"||N==="convert"||N==="crypto")&&(console.log(" Web: Redirecionando de",N,"para downloadApp"),k="downloadApp"),console.log(" handleNavigate chamado para:",k),y(!0),setTimeout(()=>{console.log(" Mudando tela para:",k),f(k),b(j(k)),y(!1)},700)},S=(N,k)=>{T(k),C(N)},D=()=>{switch(d){case"welcome":return o.jsx(YR,{onNavigate:C});case"login":return o.jsx(lne,{onNavigate:C});case"signup":return o.jsx(_ne,{onNavigate:C});case"pinSetup":return o.jsx(Ene,{onNavigate:C});case"country":return o.jsx(sD,{onNavigate:C});case"countrySelection":return o.jsx(sD,{onNavigate:C});case"home":return o.jsx(iL,{onNavigate:C,onNavigateWithAccount:S});case"wallet":return o.jsx(nbe,{onNavigate:C});case"convert":return o.jsx(fbe,{onNavigate:C,onNavigateWithAccount:S});case"crypto":return o.jsx(hbe,{onNavigate:C});case"profile":return o.jsx(mbe,{onNavigate:C});case"personalInfo":return o.jsx(pbe,{onNavigate:C});case"accountData":return o.jsx(hCe,{onNavigate:C});case"security":return o.jsx(mCe,{onNavigate:C});case"changePassword":return o.jsx(pCe,{onNavigate:C});case"notifications":return o.jsx(mSe,{onNavigate:C});case"pushSettings":return o.jsx(pSe,{onNavigate:C});case"helpCenter":return o.jsx(gSe,{onNavigate:C});case"termsAndConditions":return o.jsx(ySe,{onNavigate:C});case"privacyPolicy":return o.jsx(vSe,{onNavigate:C});case"termsMenu":return o.jsx(xSe,{onNavigate:C});case"deposit":return o.jsx(kSe,{onNavigate:C});case"withdraw":return o.jsx(BSe,{onNavigate:C});case"withdrawFiat":return o.jsx(HSe,{onNavigate:C,onBack:()=>C("home")});case"receive":return o.jsx(vNe,{onNavigate:C});case"transactions":return o.jsx(xNe,{onNavigate:C});case"passwordEntry":return o.jsx(wNe,{onNavigate:C});case"manageHoldings":return o.jsx(_Ne,{onNavigate:C});case"fiatAccountDetails":return _?o.jsx(yV,{account:_,onClose:()=>C("home"),onNavigateToConvert:()=>C("convert"),onNavigateToWithdraw:()=>S("withdrawFiat",_)}):o.jsx(iL,{onNavigate:C,onNavigateWithAccount:S});case"selectFiatAccount":return o.jsx(ENe,{onNavigate:C,onNavigateWithAccount:S});case"deleteAccount":return o.jsx(zNe,{onNavigate:C});case"languageSettings":return o.jsx($Ne,{onNavigate:C});case"downloadApp":return o.jsx(QNe,{});default:return o.jsx(YR,{onNavigate:C})}};return r||!z?o.jsx(qNe,{}):t&&n?.trackLocationEnabled===!0&&!i&&!a&&!["welcome","login","signup"].includes(d)?o.jsx(HNe,{onRetry:()=>l()}):t&&n?.requireCameraPermission===!0&&!s&&!a&&!["welcome","login","signup","pinSetup","pinVerify"].includes(d)?o.jsx(WNe,{onRetry:()=>c()}):m&&!t&&(d==="welcome"||d==="login")?o.jsx(bSe,{onNavigate:C}):o.jsxs("div",{className:`min-h-screen bg-black text-white w-full ${m?"":"max-w-[430px] mx-auto"} relative`,children:[t&&n&&n.aprovado==="no"?o.jsx(VNe,{}):o.jsxs(o.Fragment,{children:[d==="fiatAccountDetails"&&_?o.jsx(yV,{account:_,onClose:()=>C("home"),onNavigateToConvert:()=>C("convert"),onNavigateToWithdraw:()=>S("withdrawFiat",_)}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:p?`page-${x}-exit`:`page-${x}-enter`,children:D()}),["home","wallet","convert","crypto","profile"].includes(d)&&o.jsx(bNe,{onNavigate:C,currentScreen:d})]}),t&&o.jsx(CNe,{}),o.jsx(TNe,{})]}),o.jsx(tre,{position:"top-center",theme:"dark",toastOptions:{style:{background:"#18181b",border:"1px solid rgba(255, 255, 255, 0.1)",color:"#fff"}}})]})}function ePe(){return o.jsx(UNe,{children:o.jsx(Ste,{children:o.jsx(cne,{children:o.jsx(Xte,{children:o.jsx(one,{children:o.jsx(Cne,{children:o.jsx(Sne,{children:o.jsx(Tne,{children:o.jsx(Nne,{children:o.jsx(GNe,{children:o.jsx(ZNe,{})})})})})})})})})})})}HW.createRoot(document.getElementById("root")).render(o.jsx(Ce.StrictMode,{children:o.jsx(ePe,{})}));export{lz as W};

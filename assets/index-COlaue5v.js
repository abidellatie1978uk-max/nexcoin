function zK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function UK(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var G1={exports:{}},ym={},X1={exports:{}},xt={};var ok;function $K(){if(ok)return xt;ok=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function p(U){return U===null||typeof U!="object"?null:(U=m&&U[m]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function _(U,K,J){this.props=U,this.context=K,this.refs=b,this.updater=J||y}_.prototype.isReactComponent={},_.prototype.setState=function(U,K){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,K,"setState")},_.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function S(){}S.prototype=_.prototype;function M(U,K,J){this.props=U,this.context=K,this.refs=b,this.updater=J||y}var O=M.prototype=new S;O.constructor=M,x(O,_.prototype),O.isPureReactComponent=!0;var z=Array.isArray,I=Object.prototype.hasOwnProperty,P={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function N(U,K,J){var G,te={},ie=null,ne=null;if(K!=null)for(G in K.ref!==void 0&&(ne=K.ref),K.key!==void 0&&(ie=""+K.key),K)I.call(K,G)&&!C.hasOwnProperty(G)&&(te[G]=K[G]);var xe=arguments.length-2;if(xe===1)te.children=J;else if(1<xe){for(var ae=Array(xe),ve=0;ve<xe;ve++)ae[ve]=arguments[ve+2];te.children=ae}if(U&&U.defaultProps)for(G in xe=U.defaultProps,xe)te[G]===void 0&&(te[G]=xe[G]);return{$$typeof:t,type:U,key:ie,ref:ne,props:te,_owner:P.current}}function A(U,K){return{$$typeof:t,type:U.type,key:K,ref:U.ref,props:U.props,_owner:U._owner}}function j(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function D(U){var K={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(J){return K[J]})}var L=/\/+/g;function B(U,K){return typeof U=="object"&&U!==null&&U.key!=null?D(""+U.key):K.toString(36)}function $(U,K,J,G,te){var ie=typeof U;(ie==="undefined"||ie==="boolean")&&(U=null);var ne=!1;if(U===null)ne=!0;else switch(ie){case"string":case"number":ne=!0;break;case"object":switch(U.$$typeof){case t:case e:ne=!0}}if(ne)return ne=U,te=te(ne),U=G===""?"."+B(ne,0):G,z(te)?(J="",U!=null&&(J=U.replace(L,"$&/")+"/"),$(te,K,J,"",function(ve){return ve})):te!=null&&(j(te)&&(te=A(te,J+(!te.key||ne&&ne.key===te.key?"":(""+te.key).replace(L,"$&/")+"/")+U)),K.push(te)),1;if(ne=0,G=G===""?".":G+":",z(U))for(var xe=0;xe<U.length;xe++){ie=U[xe];var ae=G+B(ie,xe);ne+=$(ie,K,J,ae,te)}else if(ae=p(U),typeof ae=="function")for(U=ae.call(U),xe=0;!(ie=U.next()).done;)ie=ie.value,ae=G+B(ie,xe++),ne+=$(ie,K,J,ae,te);else if(ie==="object")throw K=String(U),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ne}function Y(U,K,J){if(U==null)return U;var G=[],te=0;return $(U,G,"","",function(ie){return K.call(J,ie,te++)}),G}function Z(U){if(U._status===-1){var K=U._result;K=K(),K.then(function(J){(U._status===0||U._status===-1)&&(U._status=1,U._result=J)},function(J){(U._status===0||U._status===-1)&&(U._status=2,U._result=J)}),U._status===-1&&(U._status=0,U._result=K)}if(U._status===1)return U._result.default;throw U._result}var k={current:null},Q={transition:null},H={ReactCurrentDispatcher:k,ReactCurrentBatchConfig:Q,ReactCurrentOwner:P};function R(){throw Error("act(...) is not supported in production builds of React.")}return xt.Children={map:Y,forEach:function(U,K,J){Y(U,function(){K.apply(this,arguments)},J)},count:function(U){var K=0;return Y(U,function(){K++}),K},toArray:function(U){return Y(U,function(K){return K})||[]},only:function(U){if(!j(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},xt.Component=_,xt.Fragment=n,xt.Profiler=i,xt.PureComponent=M,xt.StrictMode=r,xt.Suspense=c,xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,xt.act=R,xt.cloneElement=function(U,K,J){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var G=x({},U.props),te=U.key,ie=U.ref,ne=U._owner;if(K!=null){if(K.ref!==void 0&&(ie=K.ref,ne=P.current),K.key!==void 0&&(te=""+K.key),U.type&&U.type.defaultProps)var xe=U.type.defaultProps;for(ae in K)I.call(K,ae)&&!C.hasOwnProperty(ae)&&(G[ae]=K[ae]===void 0&&xe!==void 0?xe[ae]:K[ae])}var ae=arguments.length-2;if(ae===1)G.children=J;else if(1<ae){xe=Array(ae);for(var ve=0;ve<ae;ve++)xe[ve]=arguments[ve+2];G.children=xe}return{$$typeof:t,type:U.type,key:te,ref:ie,props:G,_owner:ne}},xt.createContext=function(U){return U={$$typeof:a,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:s,_context:U},U.Consumer=U},xt.createElement=N,xt.createFactory=function(U){var K=N.bind(null,U);return K.type=U,K},xt.createRef=function(){return{current:null}},xt.forwardRef=function(U){return{$$typeof:l,render:U}},xt.isValidElement=j,xt.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:Z}},xt.memo=function(U,K){return{$$typeof:d,type:U,compare:K===void 0?null:K}},xt.startTransition=function(U){var K=Q.transition;Q.transition={};try{U()}finally{Q.transition=K}},xt.unstable_act=R,xt.useCallback=function(U,K){return k.current.useCallback(U,K)},xt.useContext=function(U){return k.current.useContext(U)},xt.useDebugValue=function(){},xt.useDeferredValue=function(U){return k.current.useDeferredValue(U)},xt.useEffect=function(U,K){return k.current.useEffect(U,K)},xt.useId=function(){return k.current.useId()},xt.useImperativeHandle=function(U,K,J){return k.current.useImperativeHandle(U,K,J)},xt.useInsertionEffect=function(U,K){return k.current.useInsertionEffect(U,K)},xt.useLayoutEffect=function(U,K){return k.current.useLayoutEffect(U,K)},xt.useMemo=function(U,K){return k.current.useMemo(U,K)},xt.useReducer=function(U,K,J){return k.current.useReducer(U,K,J)},xt.useRef=function(U){return k.current.useRef(U)},xt.useState=function(U){return k.current.useState(U)},xt.useSyncExternalStore=function(U,K,J){return k.current.useSyncExternalStore(U,K,J)},xt.useTransition=function(){return k.current.useTransition()},xt.version="18.3.1",xt}var lk;function Zr(){return lk||(lk=1,X1.exports=$K()),X1.exports}var ck;function qK(){if(ck)return ym;ck=1;var t=Zr(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,d){var f,m={},p=null,y=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(y=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(m[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)m[f]===void 0&&(m[f]=c[f]);return{$$typeof:e,type:l,key:p,ref:y,props:m,_owner:i.current}}return ym.Fragment=n,ym.jsx=a,ym.jsxs=a,ym}var uk;function HK(){return uk||(uk=1,G1.exports=qK()),G1.exports}var o=HK(),E=Zr();const Se=bi(E),WK=zK({__proto__:null,default:Se},[E]);var Qy={},Y1={exports:{}},li={},Q1={exports:{}},J1={};var dk;function KK(){return dk||(dk=1,(function(t){function e(Q,H){var R=Q.length;Q.push(H);e:for(;0<R;){var U=R-1>>>1,K=Q[U];if(0<i(K,H))Q[U]=H,Q[R]=K,R=U;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var H=Q[0],R=Q.pop();if(R!==H){Q[0]=R;e:for(var U=0,K=Q.length,J=K>>>1;U<J;){var G=2*(U+1)-1,te=Q[G],ie=G+1,ne=Q[ie];if(0>i(te,R))ie<K&&0>i(ne,te)?(Q[U]=ne,Q[ie]=R,U=ie):(Q[U]=te,Q[G]=R,U=G);else if(ie<K&&0>i(ne,R))Q[U]=ne,Q[ie]=R,U=ie;else break e}}return H}function i(Q,H){var R=Q.sortIndex-H.sortIndex;return R!==0?R:Q.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],f=1,m=null,p=3,y=!1,x=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(Q){for(var H=n(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=Q)r(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(d)}}function z(Q){if(b=!1,O(Q),!x)if(n(c)!==null)x=!0,Z(I);else{var H=n(d);H!==null&&k(z,H.startTime-Q)}}function I(Q,H){x=!1,b&&(b=!1,S(N),N=-1),y=!0;var R=p;try{for(O(H),m=n(c);m!==null&&(!(m.expirationTime>H)||Q&&!D());){var U=m.callback;if(typeof U=="function"){m.callback=null,p=m.priorityLevel;var K=U(m.expirationTime<=H);H=t.unstable_now(),typeof K=="function"?m.callback=K:m===n(c)&&r(c),O(H)}else r(c);m=n(c)}if(m!==null)var J=!0;else{var G=n(d);G!==null&&k(z,G.startTime-H),J=!1}return J}finally{m=null,p=R,y=!1}}var P=!1,C=null,N=-1,A=5,j=-1;function D(){return!(t.unstable_now()-j<A)}function L(){if(C!==null){var Q=t.unstable_now();j=Q;var H=!0;try{H=C(!0,Q)}finally{H?B():(P=!1,C=null)}}else P=!1}var B;if(typeof M=="function")B=function(){M(L)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Y=$.port2;$.port1.onmessage=L,B=function(){Y.postMessage(null)}}else B=function(){_(L,0)};function Z(Q){C=Q,P||(P=!0,B())}function k(Q,H){N=_(function(){Q(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,Z(I))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Q){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var R=p;p=H;try{return Q()}finally{p=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,H){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var R=p;p=Q;try{return H()}finally{p=R}},t.unstable_scheduleCallback=function(Q,H,R){var U=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?U+R:U):R=U,Q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=R+K,Q={id:f++,callback:H,priorityLevel:Q,startTime:R,expirationTime:K,sortIndex:-1},R>U?(Q.sortIndex=R,e(d,Q),n(c)===null&&Q===n(d)&&(b?(S(N),N=-1):b=!0,k(z,R-U))):(Q.sortIndex=K,e(c,Q),x||y||(x=!0,Z(I))),Q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Q){var H=p;return function(){var R=p;p=H;try{return Q.apply(this,arguments)}finally{p=R}}}})(J1)),J1}var fk;function GK(){return fk||(fk=1,Q1.exports=KK()),Q1.exports}var hk;function XK(){if(hk)return li;hk=1;var t=Zr(),e=GK();function n(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,h){a(u,h),a(u+"Capture",h)}function a(u,h){for(i[u]=h,u=0;u<h.length;u++)r.add(h[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(u){return c.call(m,u)?!0:c.call(f,u)?!1:d.test(u)?m[u]=!0:(f[u]=!0,!1)}function y(u,h,g,w){if(g!==null&&g.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function x(u,h,g,w){if(h===null||typeof h>"u"||y(u,h,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function b(u,h,g,w,T,V,W){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=w,this.attributeNamespace=T,this.mustUseProperty=g,this.propertyName=u,this.type=h,this.sanitizeURL=V,this.removeEmptyString=W}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){_[u]=new b(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];_[h]=new b(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){_[u]=new b(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){_[u]=new b(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){_[u]=new b(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){_[u]=new b(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){_[u]=new b(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){_[u]=new b(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){_[u]=new b(u,5,!1,u.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function M(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(S,M);_[h]=new b(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(S,M);_[h]=new b(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(S,M);_[h]=new b(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){_[u]=new b(u,1,!1,u.toLowerCase(),null,!1,!1)}),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){_[u]=new b(u,1,!1,u.toLowerCase(),null,!0,!0)});function O(u,h,g,w){var T=_.hasOwnProperty(h)?_[h]:null;(T!==null?T.type!==0:w||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(x(h,g,T,w)&&(g=null),w||T===null?p(h)&&(g===null?u.removeAttribute(h):u.setAttribute(h,""+g)):T.mustUseProperty?u[T.propertyName]=g===null?T.type===3?!1:"":g:(h=T.attributeName,w=T.attributeNamespace,g===null?u.removeAttribute(h):(T=T.type,g=T===3||T===4&&g===!0?"":""+g,w?u.setAttributeNS(w,h,g):u.setAttribute(h,g))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),P=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),Q=Symbol.iterator;function H(u){return u===null||typeof u!="object"?null:(u=Q&&u[Q]||u["@@iterator"],typeof u=="function"?u:null)}var R=Object.assign,U;function K(u){if(U===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);U=h&&h[1]||""}return`
`+U+u}var J=!1;function G(u,h){if(!u||J)return"";J=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(pe){var w=pe}Reflect.construct(u,[],h)}else{try{h.call()}catch(pe){w=pe}u.call(h.prototype)}else{try{throw Error()}catch(pe){w=pe}u()}}catch(pe){if(pe&&w&&typeof pe.stack=="string"){for(var T=pe.stack.split(`
`),V=w.stack.split(`
`),W=T.length-1,ee=V.length-1;1<=W&&0<=ee&&T[W]!==V[ee];)ee--;for(;1<=W&&0<=ee;W--,ee--)if(T[W]!==V[ee]){if(W!==1||ee!==1)do if(W--,ee--,0>ee||T[W]!==V[ee]){var re=`
`+T[W].replace(" at new "," at ");return u.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",u.displayName)),re}while(1<=W&&0<=ee);break}}}finally{J=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?K(u):""}function te(u){switch(u.tag){case 5:return K(u.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return u=G(u.type,!1),u;case 11:return u=G(u.type.render,!1),u;case 1:return u=G(u.type,!0),u;default:return""}}function ie(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case C:return"Fragment";case P:return"Portal";case A:return"Profiler";case N:return"StrictMode";case B:return"Suspense";case $:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case D:return(u.displayName||"Context")+".Consumer";case j:return(u._context.displayName||"Context")+".Provider";case L:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Y:return h=u.displayName||null,h!==null?h:ie(u.type)||"Memo";case Z:h=u._payload,u=u._init;try{return ie(u(h))}catch{}}return null}function ne(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(h);case 8:return h===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function xe(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ae(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ve(u){var h=ae(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),w=""+u[h];if(!u.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,V=g.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return T.call(this)},set:function(W){w=""+W,V.call(this,W)}}),Object.defineProperty(u,h,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(W){w=""+W},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Te(u){u._valueTracker||(u._valueTracker=ve(u))}function me(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var g=h.getValue(),w="";return u&&(w=ae(u)?u.checked?"true":"false":u.value),u=w,u!==g?(h.setValue(u),!0):!1}function Ie(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function De(u,h){var g=h.checked;return R({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??u._wrapperState.initialChecked})}function Ze(u,h){var g=h.defaultValue==null?"":h.defaultValue,w=h.checked!=null?h.checked:h.defaultChecked;g=xe(h.value!=null?h.value:g),u._wrapperState={initialChecked:w,initialValue:g,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function ct(u,h){h=h.checked,h!=null&&O(u,"checked",h,!1)}function Fe(u,h){ct(u,h);var g=xe(h.value),w=h.type;if(g!=null)w==="number"?(g===0&&u.value===""||u.value!=g)&&(u.value=""+g):u.value!==""+g&&(u.value=""+g);else if(w==="submit"||w==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?dt(u,h.type,g):h.hasOwnProperty("defaultValue")&&dt(u,h.type,xe(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function yt(u,h,g){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var w=h.type;if(!(w!=="submit"&&w!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,g||h===u.value||(u.value=h),u.defaultValue=h}g=u.name,g!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,g!==""&&(u.name=g)}function dt(u,h,g){(h!=="number"||Ie(u.ownerDocument)!==u)&&(g==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+g&&(u.defaultValue=""+g))}var oe=Array.isArray;function Ne(u,h,g,w){if(u=u.options,h){h={};for(var T=0;T<g.length;T++)h["$"+g[T]]=!0;for(g=0;g<u.length;g++)T=h.hasOwnProperty("$"+u[g].value),u[g].selected!==T&&(u[g].selected=T),T&&w&&(u[g].defaultSelected=!0)}else{for(g=""+xe(g),h=null,T=0;T<u.length;T++){if(u[T].value===g){u[T].selected=!0,w&&(u[T].defaultSelected=!0);return}h!==null||u[T].disabled||(h=u[T])}h!==null&&(h.selected=!0)}}function Xe(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return R({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function de(u,h){var g=h.value;if(g==null){if(g=h.children,h=h.defaultValue,g!=null){if(h!=null)throw Error(n(92));if(oe(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),g=h}u._wrapperState={initialValue:xe(g)}}function Ke(u,h){var g=xe(h.value),w=xe(h.defaultValue);g!=null&&(g=""+g,g!==u.value&&(u.value=g),h.defaultValue==null&&u.defaultValue!==g&&(u.defaultValue=g)),w!=null&&(u.defaultValue=""+w)}function ft(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function rt(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function st(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?rt(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var Dt,Qt=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,g,w,T){MSApp.execUnsafeLocalFunction(function(){return u(h,g,w,T)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(Dt=Dt||document.createElement("div"),Dt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=Dt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function pr(u,h){if(h){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=h;return}}u.textContent=h}var Dn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ks=["Webkit","ms","Moz","O"];Object.keys(Dn).forEach(function(u){Ks.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),Dn[h]=Dn[u]})});function $r(u,h,g){return h==null||typeof h=="boolean"||h===""?"":g||typeof h!="number"||h===0||Dn.hasOwnProperty(u)&&Dn[u]?(""+h).trim():h+"px"}function Ni(u,h){u=u.style;for(var g in h)if(h.hasOwnProperty(g)){var w=g.indexOf("--")===0,T=$r(g,h[g],w);g==="float"&&(g="cssFloat"),w?u.setProperty(g,T):u[g]=T}}var Xo=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zn(u,h){if(h){if(Xo[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function Yo(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gs=null;function Wa(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Hi=null,gs=null,Jt=null;function ni(u){if(u=nm(u)){if(typeof Hi!="function")throw Error(n(280));var h=u.stateNode;h&&(h=dy(h),Hi(u.stateNode,u.type,h))}}function Xs(u){gs?Jt?Jt.push(u):Jt=[u]:gs=u}function et(){if(gs){var u=gs,h=Jt;if(Jt=gs=null,ni(u),h)for(u=0;u<h.length;u++)ni(h[u])}}function jt(u,h){return u(h)}function zt(){}var En=!1;function Pr(u,h,g){if(En)return u(h,g);En=!0;try{return jt(u,h,g)}finally{En=!1,(gs!==null||Jt!==null)&&(zt(),et())}}function Ar(u,h){var g=u.stateNode;if(g===null)return null;var w=dy(g);if(w===null)return null;g=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(u=u.type,w=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!w;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(n(231,h,typeof g));return g}var Ir=!1;if(l)try{var On={};Object.defineProperty(On,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{Ir=!1}function Si(u,h,g,w,T,V,W,ee,re){var pe=Array.prototype.slice.call(arguments,3);try{h.apply(g,pe)}catch(Ce){this.onError(Ce)}}var Ka=!1,Ys=null,ad=!1,Wi=null,$g={onError:function(u){Ka=!0,Ys=u}};function qg(u,h,g,w,T,V,W,ee,re){Ka=!1,Ys=null,Si.apply($g,arguments)}function Ih(u,h,g,w,T,V,W,ee,re){if(qg.apply(this,arguments),Ka){if(Ka){var pe=Ys;Ka=!1,Ys=null}else throw Error(n(198));ad||(ad=!0,Wi=pe)}}function ys(u){var h=u,g=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(g=h.return),u=h.return;while(u)}return h.tag===3?g:null}function jh(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function Hg(u){if(ys(u)!==u)throw Error(n(188))}function Wg(u){var h=u.alternate;if(!h){if(h=ys(u),h===null)throw Error(n(188));return h!==u?null:u}for(var g=u,w=h;;){var T=g.return;if(T===null)break;var V=T.alternate;if(V===null){if(w=T.return,w!==null){g=w;continue}break}if(T.child===V.child){for(V=T.child;V;){if(V===g)return Hg(T),u;if(V===w)return Hg(T),h;V=V.sibling}throw Error(n(188))}if(g.return!==w.return)g=T,w=V;else{for(var W=!1,ee=T.child;ee;){if(ee===g){W=!0,g=T,w=V;break}if(ee===w){W=!0,w=T,g=V;break}ee=ee.sibling}if(!W){for(ee=V.child;ee;){if(ee===g){W=!0,g=V,w=T;break}if(ee===w){W=!0,w=V,g=T;break}ee=ee.sibling}if(!W)throw Error(n(189))}}if(g.alternate!==w)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?u:h}function Kg(u){return u=Wg(u),u!==null?xc(u):null}function xc(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=xc(u);if(h!==null)return h;u=u.sibling}return null}var kh=e.unstable_scheduleCallback,od=e.unstable_cancelCallback,bc=e.unstable_shouldYield,Ga=e.unstable_requestPaint,sn=e.unstable_now,Nw=e.unstable_getCurrentPriorityLevel,ld=e.unstable_ImmediatePriority,Rh=e.unstable_UserBlockingPriority,wc=e.unstable_NormalPriority,Dh=e.unstable_LowPriority,cd=e.unstable_IdlePriority,_c=null,Ti=null;function Gg(u){if(Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(_c,u,void 0,(u.current.flags&128)===128)}catch{}}var Pi=Math.clz32?Math.clz32:Ec,Qs=Math.log,Ki=Math.LN2;function Ec(u){return u>>>=0,u===0?32:31-(Qs(u)/Ki|0)|0}var Js=64,Qo=4194304;function Ft(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Xa(u,h){var g=u.pendingLanes;if(g===0)return 0;var w=0,T=u.suspendedLanes,V=u.pingedLanes,W=g&268435455;if(W!==0){var ee=W&~T;ee!==0?w=Ft(ee):(V&=W,V!==0&&(w=Ft(V)))}else W=g&~T,W!==0?w=Ft(W):V!==0&&(w=Ft(V));if(w===0)return 0;if(h!==0&&h!==w&&(h&T)===0&&(T=w&-w,V=h&-h,T>=V||T===16&&(V&4194240)!==0))return h;if((w&4)!==0&&(w|=g&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=w;0<h;)g=31-Pi(h),T=1<<g,w|=u[g],h&=~T;return w}function Cc(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nc(u,h){for(var g=u.suspendedLanes,w=u.pingedLanes,T=u.expirationTimes,V=u.pendingLanes;0<V;){var W=31-Pi(V),ee=1<<W,re=T[W];re===-1?((ee&g)===0||(ee&w)!==0)&&(T[W]=Cc(ee,h)):re<=h&&(u.expiredLanes|=ee),V&=~ee}}function Oh(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Mh(){var u=Js;return Js<<=1,(Js&4194240)===0&&(Js=64),u}function Lh(u){for(var h=[],g=0;31>g;g++)h.push(u);return h}function Sc(u,h,g){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-Pi(h),u[h]=g}function Sw(u,h){var g=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var w=u.eventTimes;for(u=u.expirationTimes;0<g;){var T=31-Pi(g),V=1<<T;h[T]=0,w[T]=-1,u[T]=-1,g&=~V}}function Vh(u,h){var g=u.entangledLanes|=h;for(u=u.entanglements;g;){var w=31-Pi(g),T=1<<w;T&h|u[w]&h&&(u[w]|=h),g&=~T}}var Tt=0;function Zs(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Fh,ud,Bh,zh,Uh,ea=!1,dd=[],ta=null,na=null,gr=null,Tc=new Map,Ya=new Map,Ai=[],Xg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jo(u,h){switch(u){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Tc.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ya.delete(h.pointerId)}}function vs(u,h,g,w,T,V){return u===null||u.nativeEvent!==V?(u={blockedOn:h,domEventName:g,eventSystemFlags:w,nativeEvent:V,targetContainers:[T]},h!==null&&(h=nm(h),h!==null&&ud(h)),u):(u.eventSystemFlags|=w,h=u.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),u)}function Yg(u,h,g,w,T){switch(h){case"focusin":return ta=vs(ta,u,h,g,w,T),!0;case"dragenter":return na=vs(na,u,h,g,w,T),!0;case"mouseover":return gr=vs(gr,u,h,g,w,T),!0;case"pointerover":var V=T.pointerId;return Tc.set(V,vs(Tc.get(V)||null,u,h,g,w,T)),!0;case"gotpointercapture":return V=T.pointerId,Ya.set(V,vs(Ya.get(V)||null,u,h,g,w,T)),!0}return!1}function fd(u){var h=jc(u.target);if(h!==null){var g=ys(h);if(g!==null){if(h=g.tag,h===13){if(h=jh(g),h!==null){u.blockedOn=h,Uh(u.priority,function(){Bh(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Gt(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var g=hd(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(g===null){g=u.nativeEvent;var w=new g.constructor(g.type,g);Gs=w,g.target.dispatchEvent(w),Gs=null}else return h=nm(g),h!==null&&ud(h),u.blockedOn=g,!1;h.shift()}return!0}function Qg(u,h,g){Gt(u)&&g.delete(h)}function Tw(){ea=!1,ta!==null&&Gt(ta)&&(ta=null),na!==null&&Gt(na)&&(na=null),gr!==null&&Gt(gr)&&(gr=null),Tc.forEach(Qg),Ya.forEach(Qg)}function Zo(u,h){u.blockedOn===h&&(u.blockedOn=null,ea||(ea=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Tw)))}function el(u){function h(T){return Zo(T,u)}if(0<dd.length){Zo(dd[0],u);for(var g=1;g<dd.length;g++){var w=dd[g];w.blockedOn===u&&(w.blockedOn=null)}}for(ta!==null&&Zo(ta,u),na!==null&&Zo(na,u),gr!==null&&Zo(gr,u),Tc.forEach(h),Ya.forEach(h),g=0;g<Ai.length;g++)w=Ai[g],w.blockedOn===u&&(w.blockedOn=null);for(;0<Ai.length&&(g=Ai[0],g.blockedOn===null);)fd(g),g.blockedOn===null&&Ai.shift()}var Qa=z.ReactCurrentBatchConfig,Ja=!0;function ra(u,h,g,w){var T=Tt,V=Qa.transition;Qa.transition=null;try{Tt=1,$h(u,h,g,w)}finally{Tt=T,Qa.transition=V}}function Jg(u,h,g,w){var T=Tt,V=Qa.transition;Qa.transition=null;try{Tt=4,$h(u,h,g,w)}finally{Tt=T,Qa.transition=V}}function $h(u,h,g,w){if(Ja){var T=hd(u,h,g,w);if(T===null)Vw(u,h,w,ia,g),Jo(u,w);else if(Yg(T,u,h,g,w))w.stopPropagation();else if(Jo(u,w),h&4&&-1<Xg.indexOf(u)){for(;T!==null;){var V=nm(T);if(V!==null&&Fh(V),V=hd(u,h,g,w),V===null&&Vw(u,h,w,ia,g),V===T)break;T=V}T!==null&&w.stopPropagation()}else Vw(u,h,w,null,g)}}var ia=null;function hd(u,h,g,w){if(ia=null,u=Wa(w),u=jc(u),u!==null)if(h=ys(u),h===null)u=null;else if(g=h.tag,g===13){if(u=jh(h),u!==null)return u;u=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return ia=u,null}function md(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nw()){case ld:return 1;case Rh:return 4;case wc:case Dh:return 16;case cd:return 536870912;default:return 16}default:return 16}}var Ii=null,pd=null,Za=null;function Zg(){if(Za)return Za;var u,h=pd,g=h.length,w,T="value"in Ii?Ii.value:Ii.textContent,V=T.length;for(u=0;u<g&&h[u]===T[u];u++);var W=g-u;for(w=1;w<=W&&h[g-w]===T[V-w];w++);return Za=T.slice(u,1<w?1-w:void 0)}function Pc(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function sa(){return!0}function qh(){return!1}function jr(u){function h(g,w,T,V,W){this._reactName=g,this._targetInst=T,this.type=w,this.nativeEvent=V,this.target=W,this.currentTarget=null;for(var ee in u)u.hasOwnProperty(ee)&&(g=u[ee],this[ee]=g?g(V):V[ee]);return this.isDefaultPrevented=(V.defaultPrevented!=null?V.defaultPrevented:V.returnValue===!1)?sa:qh,this.isPropagationStopped=qh,this}return R(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),h}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=jr(aa),tl=R({},aa,{view:0,detail:0}),gd=jr(tl),yd,vd,ji,Ic=R({},tl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pt,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==ji&&(ji&&u.type==="mousemove"?(yd=u.screenX-ji.screenX,vd=u.screenY-ji.screenY):vd=yd=0,ji=u),yd)},movementY:function(u){return"movementY"in u?u.movementY:vd}}),Hh=jr(Ic),ey=R({},Ic,{dataTransfer:0}),ty=jr(ey),xd=R({},tl,{relatedTarget:0}),yr=jr(xd),ny=R({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),ry=jr(ny),nl=R({},aa,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),v=jr(nl),F=R({},aa,{data:0}),q=jr(F),X={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ke(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=ge[u])?!!h[u]:!1}function pt(){return ke}var In=R({},tl,{key:function(u){if(u.key){var h=X[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Pc(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?ue[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pt,charCode:function(u){return u.type==="keypress"?Pc(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Pc(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Ut=jr(In),Mn=R({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=jr(Mn),eo=R({},tl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pt}),oa=jr(eo),la=R({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),bd=jr(la),Wh=R({},Ic,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),OW=jr(Wh),MW=[9,13,27,32],Pw=l&&"CompositionEvent"in window,Kh=null;l&&"documentMode"in document&&(Kh=document.documentMode);var LW=l&&"TextEvent"in window&&!Kh,ZI=l&&(!Pw||Kh&&8<Kh&&11>=Kh),e2=" ",t2=!1;function n2(u,h){switch(u){case"keyup":return MW.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r2(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var wd=!1;function VW(u,h){switch(u){case"compositionend":return r2(h);case"keypress":return h.which!==32?null:(t2=!0,e2);case"textInput":return u=h.data,u===e2&&t2?null:u;default:return null}}function FW(u,h){if(wd)return u==="compositionend"||!Pw&&n2(u,h)?(u=Zg(),Za=pd=Ii=null,wd=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return ZI&&h.locale!=="ko"?null:h.data;default:return null}}var BW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i2(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!BW[u.type]:h==="textarea"}function s2(u,h,g,w){Xs(w),h=ly(h,"onChange"),0<h.length&&(g=new Ac("onChange","change",null,g,w),u.push({event:g,listeners:h}))}var Gh=null,Xh=null;function zW(u){E2(u,0)}function iy(u){var h=Sd(u);if(me(h))return u}function UW(u,h){if(u==="change")return h}var a2=!1;if(l){var Aw;if(l){var Iw="oninput"in document;if(!Iw){var o2=document.createElement("div");o2.setAttribute("oninput","return;"),Iw=typeof o2.oninput=="function"}Aw=Iw}else Aw=!1;a2=Aw&&(!document.documentMode||9<document.documentMode)}function l2(){Gh&&(Gh.detachEvent("onpropertychange",c2),Xh=Gh=null)}function c2(u){if(u.propertyName==="value"&&iy(Xh)){var h=[];s2(h,Xh,u,Wa(u)),Pr(zW,h)}}function $W(u,h,g){u==="focusin"?(l2(),Gh=h,Xh=g,Gh.attachEvent("onpropertychange",c2)):u==="focusout"&&l2()}function qW(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return iy(Xh)}function HW(u,h){if(u==="click")return iy(h)}function WW(u,h){if(u==="input"||u==="change")return iy(h)}function KW(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var xs=typeof Object.is=="function"?Object.is:KW;function Yh(u,h){if(xs(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var g=Object.keys(u),w=Object.keys(h);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var T=g[w];if(!c.call(h,T)||!xs(u[T],h[T]))return!1}return!0}function u2(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function d2(u,h){var g=u2(u);u=0;for(var w;g;){if(g.nodeType===3){if(w=u+g.textContent.length,u<=h&&w>=h)return{node:g,offset:h-u};u=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=u2(g)}}function f2(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?f2(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function h2(){for(var u=window,h=Ie();h instanceof u.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)u=h.contentWindow;else break;h=Ie(u.document)}return h}function jw(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function GW(u){var h=h2(),g=u.focusedElem,w=u.selectionRange;if(h!==g&&g&&g.ownerDocument&&f2(g.ownerDocument.documentElement,g)){if(w!==null&&jw(g)){if(h=w.start,u=w.end,u===void 0&&(u=h),"selectionStart"in g)g.selectionStart=h,g.selectionEnd=Math.min(u,g.value.length);else if(u=(h=g.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var T=g.textContent.length,V=Math.min(w.start,T);w=w.end===void 0?V:Math.min(w.end,T),!u.extend&&V>w&&(T=w,w=V,V=T),T=d2(g,V);var W=d2(g,w);T&&W&&(u.rangeCount!==1||u.anchorNode!==T.node||u.anchorOffset!==T.offset||u.focusNode!==W.node||u.focusOffset!==W.offset)&&(h=h.createRange(),h.setStart(T.node,T.offset),u.removeAllRanges(),V>w?(u.addRange(h),u.extend(W.node,W.offset)):(h.setEnd(W.node,W.offset),u.addRange(h)))}}for(h=[],u=g;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<h.length;g++)u=h[g],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var XW=l&&"documentMode"in document&&11>=document.documentMode,_d=null,kw=null,Qh=null,Rw=!1;function m2(u,h,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Rw||_d==null||_d!==Ie(w)||(w=_d,"selectionStart"in w&&jw(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Qh&&Yh(Qh,w)||(Qh=w,w=ly(kw,"onSelect"),0<w.length&&(h=new Ac("onSelect","select",null,h,g),u.push({event:h,listeners:w}),h.target=_d)))}function sy(u,h){var g={};return g[u.toLowerCase()]=h.toLowerCase(),g["Webkit"+u]="webkit"+h,g["Moz"+u]="moz"+h,g}var Ed={animationend:sy("Animation","AnimationEnd"),animationiteration:sy("Animation","AnimationIteration"),animationstart:sy("Animation","AnimationStart"),transitionend:sy("Transition","TransitionEnd")},Dw={},p2={};l&&(p2=document.createElement("div").style,"AnimationEvent"in window||(delete Ed.animationend.animation,delete Ed.animationiteration.animation,delete Ed.animationstart.animation),"TransitionEvent"in window||delete Ed.transitionend.transition);function ay(u){if(Dw[u])return Dw[u];if(!Ed[u])return u;var h=Ed[u],g;for(g in h)if(h.hasOwnProperty(g)&&g in p2)return Dw[u]=h[g];return u}var g2=ay("animationend"),y2=ay("animationiteration"),v2=ay("animationstart"),x2=ay("transitionend"),b2=new Map,w2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(u,h){b2.set(u,h),s(h,[u])}for(var Ow=0;Ow<w2.length;Ow++){var Mw=w2[Ow],YW=Mw.toLowerCase(),QW=Mw[0].toUpperCase()+Mw.slice(1);rl(YW,"on"+QW)}rl(g2,"onAnimationEnd"),rl(y2,"onAnimationIteration"),rl(v2,"onAnimationStart"),rl("dblclick","onDoubleClick"),rl("focusin","onFocus"),rl("focusout","onBlur"),rl(x2,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JW=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jh));function _2(u,h,g){var w=u.type||"unknown-event";u.currentTarget=g,Ih(w,h,void 0,u),u.currentTarget=null}function E2(u,h){h=(h&4)!==0;for(var g=0;g<u.length;g++){var w=u[g],T=w.event;w=w.listeners;e:{var V=void 0;if(h)for(var W=w.length-1;0<=W;W--){var ee=w[W],re=ee.instance,pe=ee.currentTarget;if(ee=ee.listener,re!==V&&T.isPropagationStopped())break e;_2(T,ee,pe),V=re}else for(W=0;W<w.length;W++){if(ee=w[W],re=ee.instance,pe=ee.currentTarget,ee=ee.listener,re!==V&&T.isPropagationStopped())break e;_2(T,ee,pe),V=re}}}if(ad)throw u=Wi,ad=!1,Wi=null,u}function an(u,h){var g=h[qw];g===void 0&&(g=h[qw]=new Set);var w=u+"__bubble";g.has(w)||(C2(h,u,2,!1),g.add(w))}function Lw(u,h,g){var w=0;h&&(w|=4),C2(g,u,w,h)}var oy="_reactListening"+Math.random().toString(36).slice(2);function Zh(u){if(!u[oy]){u[oy]=!0,r.forEach(function(g){g!=="selectionchange"&&(JW.has(g)||Lw(g,!1,u),Lw(g,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[oy]||(h[oy]=!0,Lw("selectionchange",!1,h))}}function C2(u,h,g,w){switch(md(h)){case 1:var T=ra;break;case 4:T=Jg;break;default:T=$h}g=T.bind(null,h,g,u),T=void 0,!Ir||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),w?T!==void 0?u.addEventListener(h,g,{capture:!0,passive:T}):u.addEventListener(h,g,!0):T!==void 0?u.addEventListener(h,g,{passive:T}):u.addEventListener(h,g,!1)}function Vw(u,h,g,w,T){var V=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var W=w.tag;if(W===3||W===4){var ee=w.stateNode.containerInfo;if(ee===T||ee.nodeType===8&&ee.parentNode===T)break;if(W===4)for(W=w.return;W!==null;){var re=W.tag;if((re===3||re===4)&&(re=W.stateNode.containerInfo,re===T||re.nodeType===8&&re.parentNode===T))return;W=W.return}for(;ee!==null;){if(W=jc(ee),W===null)return;if(re=W.tag,re===5||re===6){w=V=W;continue e}ee=ee.parentNode}}w=w.return}Pr(function(){var pe=V,Ce=Wa(g),Pe=[];e:{var _e=b2.get(u);if(_e!==void 0){var Ve=Ac,$e=u;switch(u){case"keypress":if(Pc(g)===0)break e;case"keydown":case"keyup":Ve=Ut;break;case"focusin":$e="focus",Ve=yr;break;case"focusout":$e="blur",Ve=yr;break;case"beforeblur":case"afterblur":Ve=yr;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=Hh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=ty;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=oa;break;case g2:case y2:case v2:Ve=ry;break;case x2:Ve=bd;break;case"scroll":Ve=gd;break;case"wheel":Ve=OW;break;case"copy":case"cut":case"paste":Ve=v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=ki}var We=(h&4)!==0,jn=!We&&u==="scroll",ce=We?_e!==null?_e+"Capture":null:_e;We=[];for(var se=pe,he;se!==null;){he=se;var Ae=he.stateNode;if(he.tag===5&&Ae!==null&&(he=Ae,ce!==null&&(Ae=Ar(se,ce),Ae!=null&&We.push(em(se,Ae,he)))),jn)break;se=se.return}0<We.length&&(_e=new Ve(_e,$e,null,g,Ce),Pe.push({event:_e,listeners:We}))}}if((h&7)===0){e:{if(_e=u==="mouseover"||u==="pointerover",Ve=u==="mouseout"||u==="pointerout",_e&&g!==Gs&&($e=g.relatedTarget||g.fromElement)&&(jc($e)||$e[to]))break e;if((Ve||_e)&&(_e=Ce.window===Ce?Ce:(_e=Ce.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ve?($e=g.relatedTarget||g.toElement,Ve=pe,$e=$e?jc($e):null,$e!==null&&(jn=ys($e),$e!==jn||$e.tag!==5&&$e.tag!==6)&&($e=null)):(Ve=null,$e=pe),Ve!==$e)){if(We=Hh,Ae="onMouseLeave",ce="onMouseEnter",se="mouse",(u==="pointerout"||u==="pointerover")&&(We=ki,Ae="onPointerLeave",ce="onPointerEnter",se="pointer"),jn=Ve==null?_e:Sd(Ve),he=$e==null?_e:Sd($e),_e=new We(Ae,se+"leave",Ve,g,Ce),_e.target=jn,_e.relatedTarget=he,Ae=null,jc(Ce)===pe&&(We=new We(ce,se+"enter",$e,g,Ce),We.target=he,We.relatedTarget=jn,Ae=We),jn=Ae,Ve&&$e)t:{for(We=Ve,ce=$e,se=0,he=We;he;he=Cd(he))se++;for(he=0,Ae=ce;Ae;Ae=Cd(Ae))he++;for(;0<se-he;)We=Cd(We),se--;for(;0<he-se;)ce=Cd(ce),he--;for(;se--;){if(We===ce||ce!==null&&We===ce.alternate)break t;We=Cd(We),ce=Cd(ce)}We=null}else We=null;Ve!==null&&N2(Pe,_e,Ve,We,!1),$e!==null&&jn!==null&&N2(Pe,jn,$e,We,!0)}}e:{if(_e=pe?Sd(pe):window,Ve=_e.nodeName&&_e.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&_e.type==="file")var Ge=UW;else if(i2(_e))if(a2)Ge=WW;else{Ge=qW;var tt=$W}else(Ve=_e.nodeName)&&Ve.toLowerCase()==="input"&&(_e.type==="checkbox"||_e.type==="radio")&&(Ge=HW);if(Ge&&(Ge=Ge(u,pe))){s2(Pe,Ge,g,Ce);break e}tt&&tt(u,_e,pe),u==="focusout"&&(tt=_e._wrapperState)&&tt.controlled&&_e.type==="number"&&dt(_e,"number",_e.value)}switch(tt=pe?Sd(pe):window,u){case"focusin":(i2(tt)||tt.contentEditable==="true")&&(_d=tt,kw=pe,Qh=null);break;case"focusout":Qh=kw=_d=null;break;case"mousedown":Rw=!0;break;case"contextmenu":case"mouseup":case"dragend":Rw=!1,m2(Pe,g,Ce);break;case"selectionchange":if(XW)break;case"keydown":case"keyup":m2(Pe,g,Ce)}var nt;if(Pw)e:{switch(u){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else wd?n2(u,g)&&(ut="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(ut="onCompositionStart");ut&&(ZI&&g.locale!=="ko"&&(wd||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&wd&&(nt=Zg()):(Ii=Ce,pd="value"in Ii?Ii.value:Ii.textContent,wd=!0)),tt=ly(pe,ut),0<tt.length&&(ut=new q(ut,u,null,g,Ce),Pe.push({event:ut,listeners:tt}),nt?ut.data=nt:(nt=r2(g),nt!==null&&(ut.data=nt)))),(nt=LW?VW(u,g):FW(u,g))&&(pe=ly(pe,"onBeforeInput"),0<pe.length&&(Ce=new q("onBeforeInput","beforeinput",null,g,Ce),Pe.push({event:Ce,listeners:pe}),Ce.data=nt))}E2(Pe,h)})}function em(u,h,g){return{instance:u,listener:h,currentTarget:g}}function ly(u,h){for(var g=h+"Capture",w=[];u!==null;){var T=u,V=T.stateNode;T.tag===5&&V!==null&&(T=V,V=Ar(u,g),V!=null&&w.unshift(em(u,V,T)),V=Ar(u,h),V!=null&&w.push(em(u,V,T))),u=u.return}return w}function Cd(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function N2(u,h,g,w,T){for(var V=h._reactName,W=[];g!==null&&g!==w;){var ee=g,re=ee.alternate,pe=ee.stateNode;if(re!==null&&re===w)break;ee.tag===5&&pe!==null&&(ee=pe,T?(re=Ar(g,V),re!=null&&W.unshift(em(g,re,ee))):T||(re=Ar(g,V),re!=null&&W.push(em(g,re,ee)))),g=g.return}W.length!==0&&u.push({event:h,listeners:W})}var ZW=/\r\n?/g,eK=/\u0000|\uFFFD/g;function S2(u){return(typeof u=="string"?u:""+u).replace(ZW,`
`).replace(eK,"")}function cy(u,h,g){if(h=S2(h),S2(u)!==h&&g)throw Error(n(425))}function uy(){}var Fw=null,Bw=null;function zw(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Uw=typeof setTimeout=="function"?setTimeout:void 0,tK=typeof clearTimeout=="function"?clearTimeout:void 0,T2=typeof Promise=="function"?Promise:void 0,nK=typeof queueMicrotask=="function"?queueMicrotask:typeof T2<"u"?function(u){return T2.resolve(null).then(u).catch(rK)}:Uw;function rK(u){setTimeout(function(){throw u})}function $w(u,h){var g=h,w=0;do{var T=g.nextSibling;if(u.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(w===0){u.removeChild(T),el(h);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=T}while(g);el(h)}function il(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function P2(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return u;h--}else g==="/$"&&h++}u=u.previousSibling}return null}var Nd=Math.random().toString(36).slice(2),ca="__reactFiber$"+Nd,tm="__reactProps$"+Nd,to="__reactContainer$"+Nd,qw="__reactEvents$"+Nd,iK="__reactListeners$"+Nd,sK="__reactHandles$"+Nd;function jc(u){var h=u[ca];if(h)return h;for(var g=u.parentNode;g;){if(h=g[to]||g[ca]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(u=P2(u);u!==null;){if(g=u[ca])return g;u=P2(u)}return h}u=g,g=u.parentNode}return null}function nm(u){return u=u[ca]||u[to],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Sd(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function dy(u){return u[tm]||null}var Hw=[],Td=-1;function sl(u){return{current:u}}function on(u){0>Td||(u.current=Hw[Td],Hw[Td]=null,Td--)}function Zt(u,h){Td++,Hw[Td]=u.current,u.current=h}var al={},kr=sl(al),ri=sl(!1),kc=al;function Pd(u,h){var g=u.type.contextTypes;if(!g)return al;var w=u.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var T={},V;for(V in g)T[V]=h[V];return w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=T),T}function ii(u){return u=u.childContextTypes,u!=null}function fy(){on(ri),on(kr)}function A2(u,h,g){if(kr.current!==al)throw Error(n(168));Zt(kr,h),Zt(ri,g)}function I2(u,h,g){var w=u.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var T in w)if(!(T in h))throw Error(n(108,ne(u)||"Unknown",T));return R({},g,w)}function hy(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||al,kc=kr.current,Zt(kr,u),Zt(ri,ri.current),!0}function j2(u,h,g){var w=u.stateNode;if(!w)throw Error(n(169));g?(u=I2(u,h,kc),w.__reactInternalMemoizedMergedChildContext=u,on(ri),on(kr),Zt(kr,u)):on(ri),Zt(ri,g)}var no=null,my=!1,Ww=!1;function k2(u){no===null?no=[u]:no.push(u)}function aK(u){my=!0,k2(u)}function ol(){if(!Ww&&no!==null){Ww=!0;var u=0,h=Tt;try{var g=no;for(Tt=1;u<g.length;u++){var w=g[u];do w=w(!0);while(w!==null)}no=null,my=!1}catch(T){throw no!==null&&(no=no.slice(u+1)),kh(ld,ol),T}finally{Tt=h,Ww=!1}}return null}var Ad=[],Id=0,py=null,gy=0,Gi=[],Xi=0,Rc=null,ro=1,io="";function Dc(u,h){Ad[Id++]=gy,Ad[Id++]=py,py=u,gy=h}function R2(u,h,g){Gi[Xi++]=ro,Gi[Xi++]=io,Gi[Xi++]=Rc,Rc=u;var w=ro;u=io;var T=32-Pi(w)-1;w&=~(1<<T),g+=1;var V=32-Pi(h)+T;if(30<V){var W=T-T%5;V=(w&(1<<W)-1).toString(32),w>>=W,T-=W,ro=1<<32-Pi(h)+T|g<<T|w,io=V+u}else ro=1<<V|g<<T|w,io=u}function Kw(u){u.return!==null&&(Dc(u,1),R2(u,1,0))}function Gw(u){for(;u===py;)py=Ad[--Id],Ad[Id]=null,gy=Ad[--Id],Ad[Id]=null;for(;u===Rc;)Rc=Gi[--Xi],Gi[Xi]=null,io=Gi[--Xi],Gi[Xi]=null,ro=Gi[--Xi],Gi[Xi]=null}var Ri=null,Di=null,dn=!1,bs=null;function D2(u,h){var g=Zi(5,null,null,0);g.elementType="DELETED",g.stateNode=h,g.return=u,h=u.deletions,h===null?(u.deletions=[g],u.flags|=16):h.push(g)}function O2(u,h){switch(u.tag){case 5:var g=u.type;return h=h.nodeType!==1||g.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,Ri=u,Di=il(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,Ri=u,Di=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(g=Rc!==null?{id:ro,overflow:io}:null,u.memoizedState={dehydrated:h,treeContext:g,retryLane:1073741824},g=Zi(18,null,null,0),g.stateNode=h,g.return=u,u.child=g,Ri=u,Di=null,!0):!1;default:return!1}}function Xw(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Yw(u){if(dn){var h=Di;if(h){var g=h;if(!O2(u,h)){if(Xw(u))throw Error(n(418));h=il(g.nextSibling);var w=Ri;h&&O2(u,h)?D2(w,g):(u.flags=u.flags&-4097|2,dn=!1,Ri=u)}}else{if(Xw(u))throw Error(n(418));u.flags=u.flags&-4097|2,dn=!1,Ri=u}}}function M2(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Ri=u}function yy(u){if(u!==Ri)return!1;if(!dn)return M2(u),dn=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!zw(u.type,u.memoizedProps)),h&&(h=Di)){if(Xw(u))throw L2(),Error(n(418));for(;h;)D2(u,h),h=il(h.nextSibling)}if(M2(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="/$"){if(h===0){Di=il(u.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++}u=u.nextSibling}Di=null}}else Di=Ri?il(u.stateNode.nextSibling):null;return!0}function L2(){for(var u=Di;u;)u=il(u.nextSibling)}function jd(){Di=Ri=null,dn=!1}function Qw(u){bs===null?bs=[u]:bs.push(u)}var oK=z.ReactCurrentBatchConfig;function rm(u,h,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var w=g.stateNode}if(!w)throw Error(n(147,u));var T=w,V=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===V?h.ref:(h=function(W){var ee=T.refs;W===null?delete ee[V]:ee[V]=W},h._stringRef=V,h)}if(typeof u!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,u))}return u}function vy(u,h){throw u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function V2(u){var h=u._init;return h(u._payload)}function F2(u){function h(ce,se){if(u){var he=ce.deletions;he===null?(ce.deletions=[se],ce.flags|=16):he.push(se)}}function g(ce,se){if(!u)return null;for(;se!==null;)h(ce,se),se=se.sibling;return null}function w(ce,se){for(ce=new Map;se!==null;)se.key!==null?ce.set(se.key,se):ce.set(se.index,se),se=se.sibling;return ce}function T(ce,se){return ce=pl(ce,se),ce.index=0,ce.sibling=null,ce}function V(ce,se,he){return ce.index=he,u?(he=ce.alternate,he!==null?(he=he.index,he<se?(ce.flags|=2,se):he):(ce.flags|=2,se)):(ce.flags|=1048576,se)}function W(ce){return u&&ce.alternate===null&&(ce.flags|=2),ce}function ee(ce,se,he,Ae){return se===null||se.tag!==6?(se=U1(he,ce.mode,Ae),se.return=ce,se):(se=T(se,he),se.return=ce,se)}function re(ce,se,he,Ae){var Ge=he.type;return Ge===C?Ce(ce,se,he.props.children,Ae,he.key):se!==null&&(se.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Z&&V2(Ge)===se.type)?(Ae=T(se,he.props),Ae.ref=rm(ce,se,he),Ae.return=ce,Ae):(Ae=Uy(he.type,he.key,he.props,null,ce.mode,Ae),Ae.ref=rm(ce,se,he),Ae.return=ce,Ae)}function pe(ce,se,he,Ae){return se===null||se.tag!==4||se.stateNode.containerInfo!==he.containerInfo||se.stateNode.implementation!==he.implementation?(se=$1(he,ce.mode,Ae),se.return=ce,se):(se=T(se,he.children||[]),se.return=ce,se)}function Ce(ce,se,he,Ae,Ge){return se===null||se.tag!==7?(se=Uc(he,ce.mode,Ae,Ge),se.return=ce,se):(se=T(se,he),se.return=ce,se)}function Pe(ce,se,he){if(typeof se=="string"&&se!==""||typeof se=="number")return se=U1(""+se,ce.mode,he),se.return=ce,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case I:return he=Uy(se.type,se.key,se.props,null,ce.mode,he),he.ref=rm(ce,null,se),he.return=ce,he;case P:return se=$1(se,ce.mode,he),se.return=ce,se;case Z:var Ae=se._init;return Pe(ce,Ae(se._payload),he)}if(oe(se)||H(se))return se=Uc(se,ce.mode,he,null),se.return=ce,se;vy(ce,se)}return null}function _e(ce,se,he,Ae){var Ge=se!==null?se.key:null;if(typeof he=="string"&&he!==""||typeof he=="number")return Ge!==null?null:ee(ce,se,""+he,Ae);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case I:return he.key===Ge?re(ce,se,he,Ae):null;case P:return he.key===Ge?pe(ce,se,he,Ae):null;case Z:return Ge=he._init,_e(ce,se,Ge(he._payload),Ae)}if(oe(he)||H(he))return Ge!==null?null:Ce(ce,se,he,Ae,null);vy(ce,he)}return null}function Ve(ce,se,he,Ae,Ge){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return ce=ce.get(he)||null,ee(se,ce,""+Ae,Ge);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case I:return ce=ce.get(Ae.key===null?he:Ae.key)||null,re(se,ce,Ae,Ge);case P:return ce=ce.get(Ae.key===null?he:Ae.key)||null,pe(se,ce,Ae,Ge);case Z:var tt=Ae._init;return Ve(ce,se,he,tt(Ae._payload),Ge)}if(oe(Ae)||H(Ae))return ce=ce.get(he)||null,Ce(se,ce,Ae,Ge,null);vy(se,Ae)}return null}function $e(ce,se,he,Ae){for(var Ge=null,tt=null,nt=se,ut=se=0,nr=null;nt!==null&&ut<he.length;ut++){nt.index>ut?(nr=nt,nt=null):nr=nt.sibling;var Ot=_e(ce,nt,he[ut],Ae);if(Ot===null){nt===null&&(nt=nr);break}u&&nt&&Ot.alternate===null&&h(ce,nt),se=V(Ot,se,ut),tt===null?Ge=Ot:tt.sibling=Ot,tt=Ot,nt=nr}if(ut===he.length)return g(ce,nt),dn&&Dc(ce,ut),Ge;if(nt===null){for(;ut<he.length;ut++)nt=Pe(ce,he[ut],Ae),nt!==null&&(se=V(nt,se,ut),tt===null?Ge=nt:tt.sibling=nt,tt=nt);return dn&&Dc(ce,ut),Ge}for(nt=w(ce,nt);ut<he.length;ut++)nr=Ve(nt,ce,ut,he[ut],Ae),nr!==null&&(u&&nr.alternate!==null&&nt.delete(nr.key===null?ut:nr.key),se=V(nr,se,ut),tt===null?Ge=nr:tt.sibling=nr,tt=nr);return u&&nt.forEach(function(gl){return h(ce,gl)}),dn&&Dc(ce,ut),Ge}function We(ce,se,he,Ae){var Ge=H(he);if(typeof Ge!="function")throw Error(n(150));if(he=Ge.call(he),he==null)throw Error(n(151));for(var tt=Ge=null,nt=se,ut=se=0,nr=null,Ot=he.next();nt!==null&&!Ot.done;ut++,Ot=he.next()){nt.index>ut?(nr=nt,nt=null):nr=nt.sibling;var gl=_e(ce,nt,Ot.value,Ae);if(gl===null){nt===null&&(nt=nr);break}u&&nt&&gl.alternate===null&&h(ce,nt),se=V(gl,se,ut),tt===null?Ge=gl:tt.sibling=gl,tt=gl,nt=nr}if(Ot.done)return g(ce,nt),dn&&Dc(ce,ut),Ge;if(nt===null){for(;!Ot.done;ut++,Ot=he.next())Ot=Pe(ce,Ot.value,Ae),Ot!==null&&(se=V(Ot,se,ut),tt===null?Ge=Ot:tt.sibling=Ot,tt=Ot);return dn&&Dc(ce,ut),Ge}for(nt=w(ce,nt);!Ot.done;ut++,Ot=he.next())Ot=Ve(nt,ce,ut,Ot.value,Ae),Ot!==null&&(u&&Ot.alternate!==null&&nt.delete(Ot.key===null?ut:Ot.key),se=V(Ot,se,ut),tt===null?Ge=Ot:tt.sibling=Ot,tt=Ot);return u&&nt.forEach(function(BK){return h(ce,BK)}),dn&&Dc(ce,ut),Ge}function jn(ce,se,he,Ae){if(typeof he=="object"&&he!==null&&he.type===C&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case I:e:{for(var Ge=he.key,tt=se;tt!==null;){if(tt.key===Ge){if(Ge=he.type,Ge===C){if(tt.tag===7){g(ce,tt.sibling),se=T(tt,he.props.children),se.return=ce,ce=se;break e}}else if(tt.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===Z&&V2(Ge)===tt.type){g(ce,tt.sibling),se=T(tt,he.props),se.ref=rm(ce,tt,he),se.return=ce,ce=se;break e}g(ce,tt);break}else h(ce,tt);tt=tt.sibling}he.type===C?(se=Uc(he.props.children,ce.mode,Ae,he.key),se.return=ce,ce=se):(Ae=Uy(he.type,he.key,he.props,null,ce.mode,Ae),Ae.ref=rm(ce,se,he),Ae.return=ce,ce=Ae)}return W(ce);case P:e:{for(tt=he.key;se!==null;){if(se.key===tt)if(se.tag===4&&se.stateNode.containerInfo===he.containerInfo&&se.stateNode.implementation===he.implementation){g(ce,se.sibling),se=T(se,he.children||[]),se.return=ce,ce=se;break e}else{g(ce,se);break}else h(ce,se);se=se.sibling}se=$1(he,ce.mode,Ae),se.return=ce,ce=se}return W(ce);case Z:return tt=he._init,jn(ce,se,tt(he._payload),Ae)}if(oe(he))return $e(ce,se,he,Ae);if(H(he))return We(ce,se,he,Ae);vy(ce,he)}return typeof he=="string"&&he!==""||typeof he=="number"?(he=""+he,se!==null&&se.tag===6?(g(ce,se.sibling),se=T(se,he),se.return=ce,ce=se):(g(ce,se),se=U1(he,ce.mode,Ae),se.return=ce,ce=se),W(ce)):g(ce,se)}return jn}var kd=F2(!0),B2=F2(!1),xy=sl(null),by=null,Rd=null,Jw=null;function Zw(){Jw=Rd=by=null}function e1(u){var h=xy.current;on(xy),u._currentValue=h}function t1(u,h,g){for(;u!==null;){var w=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),u===g)break;u=u.return}}function Dd(u,h){by=u,Jw=Rd=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(si=!0),u.firstContext=null)}function Yi(u){var h=u._currentValue;if(Jw!==u)if(u={context:u,memoizedValue:h,next:null},Rd===null){if(by===null)throw Error(n(308));Rd=u,by.dependencies={lanes:0,firstContext:u}}else Rd=Rd.next=u;return h}var Oc=null;function n1(u){Oc===null?Oc=[u]:Oc.push(u)}function z2(u,h,g,w){var T=h.interleaved;return T===null?(g.next=g,n1(h)):(g.next=T.next,T.next=g),h.interleaved=g,so(u,w)}function so(u,h){u.lanes|=h;var g=u.alternate;for(g!==null&&(g.lanes|=h),g=u,u=u.return;u!==null;)u.childLanes|=h,g=u.alternate,g!==null&&(g.childLanes|=h),g=u,u=u.return;return g.tag===3?g.stateNode:null}var ll=!1;function r1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function U2(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function ao(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function cl(u,h,g){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,(kt&2)!==0){var T=w.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),w.pending=h,so(u,g)}return T=w.interleaved,T===null?(h.next=h,n1(w)):(h.next=T.next,T.next=h),w.interleaved=h,so(u,g)}function wy(u,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194240)!==0)){var w=h.lanes;w&=u.pendingLanes,g|=w,h.lanes=g,Vh(u,g)}}function $2(u,h){var g=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var T=null,V=null;if(g=g.firstBaseUpdate,g!==null){do{var W={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};V===null?T=V=W:V=V.next=W,g=g.next}while(g!==null);V===null?T=V=h:V=V.next=h}else T=V=h;g={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:V,shared:w.shared,effects:w.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=h}function _y(u,h,g,w){var T=u.updateQueue;ll=!1;var V=T.firstBaseUpdate,W=T.lastBaseUpdate,ee=T.shared.pending;if(ee!==null){T.shared.pending=null;var re=ee,pe=re.next;re.next=null,W===null?V=pe:W.next=pe,W=re;var Ce=u.alternate;Ce!==null&&(Ce=Ce.updateQueue,ee=Ce.lastBaseUpdate,ee!==W&&(ee===null?Ce.firstBaseUpdate=pe:ee.next=pe,Ce.lastBaseUpdate=re))}if(V!==null){var Pe=T.baseState;W=0,Ce=pe=re=null,ee=V;do{var _e=ee.lane,Ve=ee.eventTime;if((w&_e)===_e){Ce!==null&&(Ce=Ce.next={eventTime:Ve,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var $e=u,We=ee;switch(_e=h,Ve=g,We.tag){case 1:if($e=We.payload,typeof $e=="function"){Pe=$e.call(Ve,Pe,_e);break e}Pe=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=We.payload,_e=typeof $e=="function"?$e.call(Ve,Pe,_e):$e,_e==null)break e;Pe=R({},Pe,_e);break e;case 2:ll=!0}}ee.callback!==null&&ee.lane!==0&&(u.flags|=64,_e=T.effects,_e===null?T.effects=[ee]:_e.push(ee))}else Ve={eventTime:Ve,lane:_e,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ce===null?(pe=Ce=Ve,re=Pe):Ce=Ce.next=Ve,W|=_e;if(ee=ee.next,ee===null){if(ee=T.shared.pending,ee===null)break;_e=ee,ee=_e.next,_e.next=null,T.lastBaseUpdate=_e,T.shared.pending=null}}while(!0);if(Ce===null&&(re=Pe),T.baseState=re,T.firstBaseUpdate=pe,T.lastBaseUpdate=Ce,h=T.shared.interleaved,h!==null){T=h;do W|=T.lane,T=T.next;while(T!==h)}else V===null&&(T.shared.lanes=0);Vc|=W,u.lanes=W,u.memoizedState=Pe}}function q2(u,h,g){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var w=u[h],T=w.callback;if(T!==null){if(w.callback=null,w=g,typeof T!="function")throw Error(n(191,T));T.call(w)}}}var im={},ua=sl(im),sm=sl(im),am=sl(im);function Mc(u){if(u===im)throw Error(n(174));return u}function i1(u,h){switch(Zt(am,h),Zt(sm,u),Zt(ua,im),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:st(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=st(h,u)}on(ua),Zt(ua,h)}function Od(){on(ua),on(sm),on(am)}function H2(u){Mc(am.current);var h=Mc(ua.current),g=st(h,u.type);h!==g&&(Zt(sm,u),Zt(ua,g))}function s1(u){sm.current===u&&(on(ua),on(sm))}var yn=sl(0);function Ey(u){for(var h=u;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var a1=[];function o1(){for(var u=0;u<a1.length;u++)a1[u]._workInProgressVersionPrimary=null;a1.length=0}var Cy=z.ReactCurrentDispatcher,l1=z.ReactCurrentBatchConfig,Lc=0,vn=null,$n=null,er=null,Ny=!1,om=!1,lm=0,lK=0;function Rr(){throw Error(n(321))}function c1(u,h){if(h===null)return!1;for(var g=0;g<h.length&&g<u.length;g++)if(!xs(u[g],h[g]))return!1;return!0}function u1(u,h,g,w,T,V){if(Lc=V,vn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Cy.current=u===null||u.memoizedState===null?fK:hK,u=g(w,T),om){V=0;do{if(om=!1,lm=0,25<=V)throw Error(n(301));V+=1,er=$n=null,h.updateQueue=null,Cy.current=mK,u=g(w,T)}while(om)}if(Cy.current=Py,h=$n!==null&&$n.next!==null,Lc=0,er=$n=vn=null,Ny=!1,h)throw Error(n(300));return u}function d1(){var u=lm!==0;return lm=0,u}function da(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?vn.memoizedState=er=u:er=er.next=u,er}function Qi(){if($n===null){var u=vn.alternate;u=u!==null?u.memoizedState:null}else u=$n.next;var h=er===null?vn.memoizedState:er.next;if(h!==null)er=h,$n=u;else{if(u===null)throw Error(n(310));$n=u,u={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},er===null?vn.memoizedState=er=u:er=er.next=u}return er}function cm(u,h){return typeof h=="function"?h(u):h}function f1(u){var h=Qi(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var w=$n,T=w.baseQueue,V=g.pending;if(V!==null){if(T!==null){var W=T.next;T.next=V.next,V.next=W}w.baseQueue=T=V,g.pending=null}if(T!==null){V=T.next,w=w.baseState;var ee=W=null,re=null,pe=V;do{var Ce=pe.lane;if((Lc&Ce)===Ce)re!==null&&(re=re.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),w=pe.hasEagerState?pe.eagerState:u(w,pe.action);else{var Pe={lane:Ce,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};re===null?(ee=re=Pe,W=w):re=re.next=Pe,vn.lanes|=Ce,Vc|=Ce}pe=pe.next}while(pe!==null&&pe!==V);re===null?W=w:re.next=ee,xs(w,h.memoizedState)||(si=!0),h.memoizedState=w,h.baseState=W,h.baseQueue=re,g.lastRenderedState=w}if(u=g.interleaved,u!==null){T=u;do V=T.lane,vn.lanes|=V,Vc|=V,T=T.next;while(T!==u)}else T===null&&(g.lanes=0);return[h.memoizedState,g.dispatch]}function h1(u){var h=Qi(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var w=g.dispatch,T=g.pending,V=h.memoizedState;if(T!==null){g.pending=null;var W=T=T.next;do V=u(V,W.action),W=W.next;while(W!==T);xs(V,h.memoizedState)||(si=!0),h.memoizedState=V,h.baseQueue===null&&(h.baseState=V),g.lastRenderedState=V}return[V,w]}function W2(){}function K2(u,h){var g=vn,w=Qi(),T=h(),V=!xs(w.memoizedState,T);if(V&&(w.memoizedState=T,si=!0),w=w.queue,m1(Y2.bind(null,g,w,u),[u]),w.getSnapshot!==h||V||er!==null&&er.memoizedState.tag&1){if(g.flags|=2048,um(9,X2.bind(null,g,w,T,h),void 0,null),tr===null)throw Error(n(349));(Lc&30)!==0||G2(g,h,T)}return T}function G2(u,h,g){u.flags|=16384,u={getSnapshot:h,value:g},h=vn.updateQueue,h===null?(h={lastEffect:null,stores:null},vn.updateQueue=h,h.stores=[u]):(g=h.stores,g===null?h.stores=[u]:g.push(u))}function X2(u,h,g,w){h.value=g,h.getSnapshot=w,Q2(h)&&J2(u)}function Y2(u,h,g){return g(function(){Q2(h)&&J2(u)})}function Q2(u){var h=u.getSnapshot;u=u.value;try{var g=h();return!xs(u,g)}catch{return!0}}function J2(u){var h=so(u,1);h!==null&&Cs(h,u,1,-1)}function Z2(u){var h=da();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cm,lastRenderedState:u},h.queue=u,u=u.dispatch=dK.bind(null,vn,u),[h.memoizedState,u]}function um(u,h,g,w){return u={tag:u,create:h,destroy:g,deps:w,next:null},h=vn.updateQueue,h===null?(h={lastEffect:null,stores:null},vn.updateQueue=h,h.lastEffect=u.next=u):(g=h.lastEffect,g===null?h.lastEffect=u.next=u:(w=g.next,g.next=u,u.next=w,h.lastEffect=u)),u}function ej(){return Qi().memoizedState}function Sy(u,h,g,w){var T=da();vn.flags|=u,T.memoizedState=um(1|h,g,void 0,w===void 0?null:w)}function Ty(u,h,g,w){var T=Qi();w=w===void 0?null:w;var V=void 0;if($n!==null){var W=$n.memoizedState;if(V=W.destroy,w!==null&&c1(w,W.deps)){T.memoizedState=um(h,g,V,w);return}}vn.flags|=u,T.memoizedState=um(1|h,g,V,w)}function tj(u,h){return Sy(8390656,8,u,h)}function m1(u,h){return Ty(2048,8,u,h)}function nj(u,h){return Ty(4,2,u,h)}function rj(u,h){return Ty(4,4,u,h)}function ij(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function sj(u,h,g){return g=g!=null?g.concat([u]):null,Ty(4,4,ij.bind(null,h,u),g)}function p1(){}function aj(u,h){var g=Qi();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&c1(h,w[1])?w[0]:(g.memoizedState=[u,h],u)}function oj(u,h){var g=Qi();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&c1(h,w[1])?w[0]:(u=u(),g.memoizedState=[u,h],u)}function lj(u,h,g){return(Lc&21)===0?(u.baseState&&(u.baseState=!1,si=!0),u.memoizedState=g):(xs(g,h)||(g=Mh(),vn.lanes|=g,Vc|=g,u.baseState=!0),h)}function cK(u,h){var g=Tt;Tt=g!==0&&4>g?g:4,u(!0);var w=l1.transition;l1.transition={};try{u(!1),h()}finally{Tt=g,l1.transition=w}}function cj(){return Qi().memoizedState}function uK(u,h,g){var w=hl(u);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},uj(u))dj(h,g);else if(g=z2(u,h,g,w),g!==null){var T=Hr();Cs(g,u,w,T),fj(g,h,w)}}function dK(u,h,g){var w=hl(u),T={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(uj(u))dj(h,T);else{var V=u.alternate;if(u.lanes===0&&(V===null||V.lanes===0)&&(V=h.lastRenderedReducer,V!==null))try{var W=h.lastRenderedState,ee=V(W,g);if(T.hasEagerState=!0,T.eagerState=ee,xs(ee,W)){var re=h.interleaved;re===null?(T.next=T,n1(h)):(T.next=re.next,re.next=T),h.interleaved=T;return}}catch{}g=z2(u,h,T,w),g!==null&&(T=Hr(),Cs(g,u,w,T),fj(g,h,w))}}function uj(u){var h=u.alternate;return u===vn||h!==null&&h===vn}function dj(u,h){om=Ny=!0;var g=u.pending;g===null?h.next=h:(h.next=g.next,g.next=h),u.pending=h}function fj(u,h,g){if((g&4194240)!==0){var w=h.lanes;w&=u.pendingLanes,g|=w,h.lanes=g,Vh(u,g)}}var Py={readContext:Yi,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},fK={readContext:Yi,useCallback:function(u,h){return da().memoizedState=[u,h===void 0?null:h],u},useContext:Yi,useEffect:tj,useImperativeHandle:function(u,h,g){return g=g!=null?g.concat([u]):null,Sy(4194308,4,ij.bind(null,h,u),g)},useLayoutEffect:function(u,h){return Sy(4194308,4,u,h)},useInsertionEffect:function(u,h){return Sy(4,2,u,h)},useMemo:function(u,h){var g=da();return h=h===void 0?null:h,u=u(),g.memoizedState=[u,h],u},useReducer:function(u,h,g){var w=da();return h=g!==void 0?g(h):h,w.memoizedState=w.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},w.queue=u,u=u.dispatch=uK.bind(null,vn,u),[w.memoizedState,u]},useRef:function(u){var h=da();return u={current:u},h.memoizedState=u},useState:Z2,useDebugValue:p1,useDeferredValue:function(u){return da().memoizedState=u},useTransition:function(){var u=Z2(!1),h=u[0];return u=cK.bind(null,u[1]),da().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,g){var w=vn,T=da();if(dn){if(g===void 0)throw Error(n(407));g=g()}else{if(g=h(),tr===null)throw Error(n(349));(Lc&30)!==0||G2(w,h,g)}T.memoizedState=g;var V={value:g,getSnapshot:h};return T.queue=V,tj(Y2.bind(null,w,V,u),[u]),w.flags|=2048,um(9,X2.bind(null,w,V,g,h),void 0,null),g},useId:function(){var u=da(),h=tr.identifierPrefix;if(dn){var g=io,w=ro;g=(w&~(1<<32-Pi(w)-1)).toString(32)+g,h=":"+h+"R"+g,g=lm++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=lK++,h=":"+h+"r"+g.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},hK={readContext:Yi,useCallback:aj,useContext:Yi,useEffect:m1,useImperativeHandle:sj,useInsertionEffect:nj,useLayoutEffect:rj,useMemo:oj,useReducer:f1,useRef:ej,useState:function(){return f1(cm)},useDebugValue:p1,useDeferredValue:function(u){var h=Qi();return lj(h,$n.memoizedState,u)},useTransition:function(){var u=f1(cm)[0],h=Qi().memoizedState;return[u,h]},useMutableSource:W2,useSyncExternalStore:K2,useId:cj,unstable_isNewReconciler:!1},mK={readContext:Yi,useCallback:aj,useContext:Yi,useEffect:m1,useImperativeHandle:sj,useInsertionEffect:nj,useLayoutEffect:rj,useMemo:oj,useReducer:h1,useRef:ej,useState:function(){return h1(cm)},useDebugValue:p1,useDeferredValue:function(u){var h=Qi();return $n===null?h.memoizedState=u:lj(h,$n.memoizedState,u)},useTransition:function(){var u=h1(cm)[0],h=Qi().memoizedState;return[u,h]},useMutableSource:W2,useSyncExternalStore:K2,useId:cj,unstable_isNewReconciler:!1};function ws(u,h){if(u&&u.defaultProps){h=R({},h),u=u.defaultProps;for(var g in u)h[g]===void 0&&(h[g]=u[g]);return h}return h}function g1(u,h,g,w){h=u.memoizedState,g=g(w,h),g=g==null?h:R({},h,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var Ay={isMounted:function(u){return(u=u._reactInternals)?ys(u)===u:!1},enqueueSetState:function(u,h,g){u=u._reactInternals;var w=Hr(),T=hl(u),V=ao(w,T);V.payload=h,g!=null&&(V.callback=g),h=cl(u,V,T),h!==null&&(Cs(h,u,T,w),wy(h,u,T))},enqueueReplaceState:function(u,h,g){u=u._reactInternals;var w=Hr(),T=hl(u),V=ao(w,T);V.tag=1,V.payload=h,g!=null&&(V.callback=g),h=cl(u,V,T),h!==null&&(Cs(h,u,T,w),wy(h,u,T))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var g=Hr(),w=hl(u),T=ao(g,w);T.tag=2,h!=null&&(T.callback=h),h=cl(u,T,w),h!==null&&(Cs(h,u,w,g),wy(h,u,w))}};function hj(u,h,g,w,T,V,W){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,V,W):h.prototype&&h.prototype.isPureReactComponent?!Yh(g,w)||!Yh(T,V):!0}function mj(u,h,g){var w=!1,T=al,V=h.contextType;return typeof V=="object"&&V!==null?V=Yi(V):(T=ii(h)?kc:kr.current,w=h.contextTypes,V=(w=w!=null)?Pd(u,T):al),h=new h(g,V),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ay,u.stateNode=h,h._reactInternals=u,w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=T,u.__reactInternalMemoizedMaskedChildContext=V),h}function pj(u,h,g,w){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,w),h.state!==u&&Ay.enqueueReplaceState(h,h.state,null)}function y1(u,h,g,w){var T=u.stateNode;T.props=g,T.state=u.memoizedState,T.refs={},r1(u);var V=h.contextType;typeof V=="object"&&V!==null?T.context=Yi(V):(V=ii(h)?kc:kr.current,T.context=Pd(u,V)),T.state=u.memoizedState,V=h.getDerivedStateFromProps,typeof V=="function"&&(g1(u,h,V,g),T.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(h=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),h!==T.state&&Ay.enqueueReplaceState(T,T.state,null),_y(u,g,T,w),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308)}function Md(u,h){try{var g="",w=h;do g+=te(w),w=w.return;while(w);var T=g}catch(V){T=`
Error generating stack: `+V.message+`
`+V.stack}return{value:u,source:h,stack:T,digest:null}}function v1(u,h,g){return{value:u,source:null,stack:g??null,digest:h??null}}function x1(u,h){try{console.error(h.value)}catch(g){setTimeout(function(){throw g})}}var pK=typeof WeakMap=="function"?WeakMap:Map;function gj(u,h,g){g=ao(-1,g),g.tag=3,g.payload={element:null};var w=h.value;return g.callback=function(){My||(My=!0,D1=w),x1(u,h)},g}function yj(u,h,g){g=ao(-1,g),g.tag=3;var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var T=h.value;g.payload=function(){return w(T)},g.callback=function(){x1(u,h)}}var V=u.stateNode;return V!==null&&typeof V.componentDidCatch=="function"&&(g.callback=function(){x1(u,h),typeof w!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var W=h.stack;this.componentDidCatch(h.value,{componentStack:W!==null?W:""})}),g}function vj(u,h,g){var w=u.pingCache;if(w===null){w=u.pingCache=new pK;var T=new Set;w.set(h,T)}else T=w.get(h),T===void 0&&(T=new Set,w.set(h,T));T.has(g)||(T.add(g),u=AK.bind(null,u,h,g),h.then(u,u))}function xj(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function bj(u,h,g,w,T){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(h=ao(-1,1),h.tag=2,cl(g,h,1))),g.lanes|=1),u):(u.flags|=65536,u.lanes=T,u)}var gK=z.ReactCurrentOwner,si=!1;function qr(u,h,g,w){h.child=u===null?B2(h,null,g,w):kd(h,u.child,g,w)}function wj(u,h,g,w,T){g=g.render;var V=h.ref;return Dd(h,T),w=u1(u,h,g,w,V,T),g=d1(),u!==null&&!si?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~T,oo(u,h,T)):(dn&&g&&Kw(h),h.flags|=1,qr(u,h,w,T),h.child)}function _j(u,h,g,w,T){if(u===null){var V=g.type;return typeof V=="function"&&!z1(V)&&V.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(h.tag=15,h.type=V,Ej(u,h,V,w,T)):(u=Uy(g.type,null,w,h,h.mode,T),u.ref=h.ref,u.return=h,h.child=u)}if(V=u.child,(u.lanes&T)===0){var W=V.memoizedProps;if(g=g.compare,g=g!==null?g:Yh,g(W,w)&&u.ref===h.ref)return oo(u,h,T)}return h.flags|=1,u=pl(V,w),u.ref=h.ref,u.return=h,h.child=u}function Ej(u,h,g,w,T){if(u!==null){var V=u.memoizedProps;if(Yh(V,w)&&u.ref===h.ref)if(si=!1,h.pendingProps=w=V,(u.lanes&T)!==0)(u.flags&131072)!==0&&(si=!0);else return h.lanes=u.lanes,oo(u,h,T)}return b1(u,h,g,w,T)}function Cj(u,h,g){var w=h.pendingProps,T=w.children,V=u!==null?u.memoizedState:null;if(w.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(Vd,Oi),Oi|=g;else{if((g&1073741824)===0)return u=V!==null?V.baseLanes|g:g,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,Zt(Vd,Oi),Oi|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=V!==null?V.baseLanes:g,Zt(Vd,Oi),Oi|=w}else V!==null?(w=V.baseLanes|g,h.memoizedState=null):w=g,Zt(Vd,Oi),Oi|=w;return qr(u,h,T,g),h.child}function Nj(u,h){var g=h.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(h.flags|=512,h.flags|=2097152)}function b1(u,h,g,w,T){var V=ii(g)?kc:kr.current;return V=Pd(h,V),Dd(h,T),g=u1(u,h,g,w,V,T),w=d1(),u!==null&&!si?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~T,oo(u,h,T)):(dn&&w&&Kw(h),h.flags|=1,qr(u,h,g,T),h.child)}function Sj(u,h,g,w,T){if(ii(g)){var V=!0;hy(h)}else V=!1;if(Dd(h,T),h.stateNode===null)jy(u,h),mj(h,g,w),y1(h,g,w,T),w=!0;else if(u===null){var W=h.stateNode,ee=h.memoizedProps;W.props=ee;var re=W.context,pe=g.contextType;typeof pe=="object"&&pe!==null?pe=Yi(pe):(pe=ii(g)?kc:kr.current,pe=Pd(h,pe));var Ce=g.getDerivedStateFromProps,Pe=typeof Ce=="function"||typeof W.getSnapshotBeforeUpdate=="function";Pe||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ee!==w||re!==pe)&&pj(h,W,w,pe),ll=!1;var _e=h.memoizedState;W.state=_e,_y(h,w,W,T),re=h.memoizedState,ee!==w||_e!==re||ri.current||ll?(typeof Ce=="function"&&(g1(h,g,Ce,w),re=h.memoizedState),(ee=ll||hj(h,g,ee,w,_e,re,pe))?(Pe||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(h.flags|=4194308)):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=re),W.props=w,W.state=re,W.context=pe,w=ee):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{W=h.stateNode,U2(u,h),ee=h.memoizedProps,pe=h.type===h.elementType?ee:ws(h.type,ee),W.props=pe,Pe=h.pendingProps,_e=W.context,re=g.contextType,typeof re=="object"&&re!==null?re=Yi(re):(re=ii(g)?kc:kr.current,re=Pd(h,re));var Ve=g.getDerivedStateFromProps;(Ce=typeof Ve=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ee!==Pe||_e!==re)&&pj(h,W,w,re),ll=!1,_e=h.memoizedState,W.state=_e,_y(h,w,W,T);var $e=h.memoizedState;ee!==Pe||_e!==$e||ri.current||ll?(typeof Ve=="function"&&(g1(h,g,Ve,w),$e=h.memoizedState),(pe=ll||hj(h,g,pe,w,_e,$e,re)||!1)?(Ce||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(w,$e,re),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(w,$e,re)),typeof W.componentDidUpdate=="function"&&(h.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof W.componentDidUpdate!="function"||ee===u.memoizedProps&&_e===u.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&_e===u.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=$e),W.props=w,W.state=$e,W.context=re,w=pe):(typeof W.componentDidUpdate!="function"||ee===u.memoizedProps&&_e===u.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&_e===u.memoizedState||(h.flags|=1024),w=!1)}return w1(u,h,g,w,V,T)}function w1(u,h,g,w,T,V){Nj(u,h);var W=(h.flags&128)!==0;if(!w&&!W)return T&&j2(h,g,!1),oo(u,h,V);w=h.stateNode,gK.current=h;var ee=W&&typeof g.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,u!==null&&W?(h.child=kd(h,u.child,null,V),h.child=kd(h,null,ee,V)):qr(u,h,ee,V),h.memoizedState=w.state,T&&j2(h,g,!0),h.child}function Tj(u){var h=u.stateNode;h.pendingContext?A2(u,h.pendingContext,h.pendingContext!==h.context):h.context&&A2(u,h.context,!1),i1(u,h.containerInfo)}function Pj(u,h,g,w,T){return jd(),Qw(T),h.flags|=256,qr(u,h,g,w),h.child}var _1={dehydrated:null,treeContext:null,retryLane:0};function E1(u){return{baseLanes:u,cachePool:null,transitions:null}}function Aj(u,h,g){var w=h.pendingProps,T=yn.current,V=!1,W=(h.flags&128)!==0,ee;if((ee=W)||(ee=u!==null&&u.memoizedState===null?!1:(T&2)!==0),ee?(V=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(T|=1),Zt(yn,T&1),u===null)return Yw(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(W=w.children,u=w.fallback,V?(w=h.mode,V=h.child,W={mode:"hidden",children:W},(w&1)===0&&V!==null?(V.childLanes=0,V.pendingProps=W):V=$y(W,w,0,null),u=Uc(u,w,g,null),V.return=h,u.return=h,V.sibling=u,h.child=V,h.child.memoizedState=E1(g),h.memoizedState=_1,u):C1(h,W));if(T=u.memoizedState,T!==null&&(ee=T.dehydrated,ee!==null))return yK(u,h,W,w,ee,T,g);if(V){V=w.fallback,W=h.mode,T=u.child,ee=T.sibling;var re={mode:"hidden",children:w.children};return(W&1)===0&&h.child!==T?(w=h.child,w.childLanes=0,w.pendingProps=re,h.deletions=null):(w=pl(T,re),w.subtreeFlags=T.subtreeFlags&14680064),ee!==null?V=pl(ee,V):(V=Uc(V,W,g,null),V.flags|=2),V.return=h,w.return=h,w.sibling=V,h.child=w,w=V,V=h.child,W=u.child.memoizedState,W=W===null?E1(g):{baseLanes:W.baseLanes|g,cachePool:null,transitions:W.transitions},V.memoizedState=W,V.childLanes=u.childLanes&~g,h.memoizedState=_1,w}return V=u.child,u=V.sibling,w=pl(V,{mode:"visible",children:w.children}),(h.mode&1)===0&&(w.lanes=g),w.return=h,w.sibling=null,u!==null&&(g=h.deletions,g===null?(h.deletions=[u],h.flags|=16):g.push(u)),h.child=w,h.memoizedState=null,w}function C1(u,h){return h=$y({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function Iy(u,h,g,w){return w!==null&&Qw(w),kd(h,u.child,null,g),u=C1(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function yK(u,h,g,w,T,V,W){if(g)return h.flags&256?(h.flags&=-257,w=v1(Error(n(422))),Iy(u,h,W,w)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(V=w.fallback,T=h.mode,w=$y({mode:"visible",children:w.children},T,0,null),V=Uc(V,T,W,null),V.flags|=2,w.return=h,V.return=h,w.sibling=V,h.child=w,(h.mode&1)!==0&&kd(h,u.child,null,W),h.child.memoizedState=E1(W),h.memoizedState=_1,V);if((h.mode&1)===0)return Iy(u,h,W,null);if(T.data==="$!"){if(w=T.nextSibling&&T.nextSibling.dataset,w)var ee=w.dgst;return w=ee,V=Error(n(419)),w=v1(V,w,void 0),Iy(u,h,W,w)}if(ee=(W&u.childLanes)!==0,si||ee){if(w=tr,w!==null){switch(W&-W){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(w.suspendedLanes|W))!==0?0:T,T!==0&&T!==V.retryLane&&(V.retryLane=T,so(u,T),Cs(w,u,T,-1))}return B1(),w=v1(Error(n(421))),Iy(u,h,W,w)}return T.data==="$?"?(h.flags|=128,h.child=u.child,h=IK.bind(null,u),T._reactRetry=h,null):(u=V.treeContext,Di=il(T.nextSibling),Ri=h,dn=!0,bs=null,u!==null&&(Gi[Xi++]=ro,Gi[Xi++]=io,Gi[Xi++]=Rc,ro=u.id,io=u.overflow,Rc=h),h=C1(h,w.children),h.flags|=4096,h)}function Ij(u,h,g){u.lanes|=h;var w=u.alternate;w!==null&&(w.lanes|=h),t1(u.return,h,g)}function N1(u,h,g,w,T){var V=u.memoizedState;V===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:T}:(V.isBackwards=h,V.rendering=null,V.renderingStartTime=0,V.last=w,V.tail=g,V.tailMode=T)}function jj(u,h,g){var w=h.pendingProps,T=w.revealOrder,V=w.tail;if(qr(u,h,w.children,g),w=yn.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Ij(u,g,h);else if(u.tag===19)Ij(u,g,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}if(Zt(yn,w),(h.mode&1)===0)h.memoizedState=null;else switch(T){case"forwards":for(g=h.child,T=null;g!==null;)u=g.alternate,u!==null&&Ey(u)===null&&(T=g),g=g.sibling;g=T,g===null?(T=h.child,h.child=null):(T=g.sibling,g.sibling=null),N1(h,!1,T,g,V);break;case"backwards":for(g=null,T=h.child,h.child=null;T!==null;){if(u=T.alternate,u!==null&&Ey(u)===null){h.child=T;break}u=T.sibling,T.sibling=g,g=T,T=u}N1(h,!0,g,null,V);break;case"together":N1(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function jy(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function oo(u,h,g){if(u!==null&&(h.dependencies=u.dependencies),Vc|=h.lanes,(g&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,g=pl(u,u.pendingProps),h.child=g,g.return=h;u.sibling!==null;)u=u.sibling,g=g.sibling=pl(u,u.pendingProps),g.return=h;g.sibling=null}return h.child}function vK(u,h,g){switch(h.tag){case 3:Tj(h),jd();break;case 5:H2(h);break;case 1:ii(h.type)&&hy(h);break;case 4:i1(h,h.stateNode.containerInfo);break;case 10:var w=h.type._context,T=h.memoizedProps.value;Zt(xy,w._currentValue),w._currentValue=T;break;case 13:if(w=h.memoizedState,w!==null)return w.dehydrated!==null?(Zt(yn,yn.current&1),h.flags|=128,null):(g&h.child.childLanes)!==0?Aj(u,h,g):(Zt(yn,yn.current&1),u=oo(u,h,g),u!==null?u.sibling:null);Zt(yn,yn.current&1);break;case 19:if(w=(g&h.childLanes)!==0,(u.flags&128)!==0){if(w)return jj(u,h,g);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Zt(yn,yn.current),w)break;return null;case 22:case 23:return h.lanes=0,Cj(u,h,g)}return oo(u,h,g)}var kj,S1,Rj,Dj;kj=function(u,h){for(var g=h.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},S1=function(){},Rj=function(u,h,g,w){var T=u.memoizedProps;if(T!==w){u=h.stateNode,Mc(ua.current);var V=null;switch(g){case"input":T=De(u,T),w=De(u,w),V=[];break;case"select":T=R({},T,{value:void 0}),w=R({},w,{value:void 0}),V=[];break;case"textarea":T=Xe(u,T),w=Xe(u,w),V=[];break;default:typeof T.onClick!="function"&&typeof w.onClick=="function"&&(u.onclick=uy)}Zn(g,w);var W;g=null;for(pe in T)if(!w.hasOwnProperty(pe)&&T.hasOwnProperty(pe)&&T[pe]!=null)if(pe==="style"){var ee=T[pe];for(W in ee)ee.hasOwnProperty(W)&&(g||(g={}),g[W]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(i.hasOwnProperty(pe)?V||(V=[]):(V=V||[]).push(pe,null));for(pe in w){var re=w[pe];if(ee=T?.[pe],w.hasOwnProperty(pe)&&re!==ee&&(re!=null||ee!=null))if(pe==="style")if(ee){for(W in ee)!ee.hasOwnProperty(W)||re&&re.hasOwnProperty(W)||(g||(g={}),g[W]="");for(W in re)re.hasOwnProperty(W)&&ee[W]!==re[W]&&(g||(g={}),g[W]=re[W])}else g||(V||(V=[]),V.push(pe,g)),g=re;else pe==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,ee=ee?ee.__html:void 0,re!=null&&ee!==re&&(V=V||[]).push(pe,re)):pe==="children"?typeof re!="string"&&typeof re!="number"||(V=V||[]).push(pe,""+re):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(pe)?(re!=null&&pe==="onScroll"&&an("scroll",u),V||ee===re||(V=[])):(V=V||[]).push(pe,re))}g&&(V=V||[]).push("style",g);var pe=V;(h.updateQueue=pe)&&(h.flags|=4)}},Dj=function(u,h,g,w){g!==w&&(h.flags|=4)};function dm(u,h){if(!dn)switch(u.tailMode){case"hidden":h=u.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function Dr(u){var h=u.alternate!==null&&u.alternate.child===u.child,g=0,w=0;if(h)for(var T=u.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags&14680064,w|=T.flags&14680064,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=w,u.childLanes=g,h}function xK(u,h,g){var w=h.pendingProps;switch(Gw(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(h),null;case 1:return ii(h.type)&&fy(),Dr(h),null;case 3:return w=h.stateNode,Od(),on(ri),on(kr),o1(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(u===null||u.child===null)&&(yy(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,bs!==null&&(L1(bs),bs=null))),S1(u,h),Dr(h),null;case 5:s1(h);var T=Mc(am.current);if(g=h.type,u!==null&&h.stateNode!=null)Rj(u,h,g,w,T),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(n(166));return Dr(h),null}if(u=Mc(ua.current),yy(h)){w=h.stateNode,g=h.type;var V=h.memoizedProps;switch(w[ca]=h,w[tm]=V,u=(h.mode&1)!==0,g){case"dialog":an("cancel",w),an("close",w);break;case"iframe":case"object":case"embed":an("load",w);break;case"video":case"audio":for(T=0;T<Jh.length;T++)an(Jh[T],w);break;case"source":an("error",w);break;case"img":case"image":case"link":an("error",w),an("load",w);break;case"details":an("toggle",w);break;case"input":Ze(w,V),an("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!V.multiple},an("invalid",w);break;case"textarea":de(w,V),an("invalid",w)}Zn(g,V),T=null;for(var W in V)if(V.hasOwnProperty(W)){var ee=V[W];W==="children"?typeof ee=="string"?w.textContent!==ee&&(V.suppressHydrationWarning!==!0&&cy(w.textContent,ee,u),T=["children",ee]):typeof ee=="number"&&w.textContent!==""+ee&&(V.suppressHydrationWarning!==!0&&cy(w.textContent,ee,u),T=["children",""+ee]):i.hasOwnProperty(W)&&ee!=null&&W==="onScroll"&&an("scroll",w)}switch(g){case"input":Te(w),yt(w,V,!0);break;case"textarea":Te(w),ft(w);break;case"select":case"option":break;default:typeof V.onClick=="function"&&(w.onclick=uy)}w=T,h.updateQueue=w,w!==null&&(h.flags|=4)}else{W=T.nodeType===9?T:T.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=rt(g)),u==="http://www.w3.org/1999/xhtml"?g==="script"?(u=W.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof w.is=="string"?u=W.createElement(g,{is:w.is}):(u=W.createElement(g),g==="select"&&(W=u,w.multiple?W.multiple=!0:w.size&&(W.size=w.size))):u=W.createElementNS(u,g),u[ca]=h,u[tm]=w,kj(u,h,!1,!1),h.stateNode=u;e:{switch(W=Yo(g,w),g){case"dialog":an("cancel",u),an("close",u),T=w;break;case"iframe":case"object":case"embed":an("load",u),T=w;break;case"video":case"audio":for(T=0;T<Jh.length;T++)an(Jh[T],u);T=w;break;case"source":an("error",u),T=w;break;case"img":case"image":case"link":an("error",u),an("load",u),T=w;break;case"details":an("toggle",u),T=w;break;case"input":Ze(u,w),T=De(u,w),an("invalid",u);break;case"option":T=w;break;case"select":u._wrapperState={wasMultiple:!!w.multiple},T=R({},w,{value:void 0}),an("invalid",u);break;case"textarea":de(u,w),T=Xe(u,w),an("invalid",u);break;default:T=w}Zn(g,T),ee=T;for(V in ee)if(ee.hasOwnProperty(V)){var re=ee[V];V==="style"?Ni(u,re):V==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&Qt(u,re)):V==="children"?typeof re=="string"?(g!=="textarea"||re!=="")&&pr(u,re):typeof re=="number"&&pr(u,""+re):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(i.hasOwnProperty(V)?re!=null&&V==="onScroll"&&an("scroll",u):re!=null&&O(u,V,re,W))}switch(g){case"input":Te(u),yt(u,w,!1);break;case"textarea":Te(u),ft(u);break;case"option":w.value!=null&&u.setAttribute("value",""+xe(w.value));break;case"select":u.multiple=!!w.multiple,V=w.value,V!=null?Ne(u,!!w.multiple,V,!1):w.defaultValue!=null&&Ne(u,!!w.multiple,w.defaultValue,!0);break;default:typeof T.onClick=="function"&&(u.onclick=uy)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Dr(h),null;case 6:if(u&&h.stateNode!=null)Dj(u,h,u.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(n(166));if(g=Mc(am.current),Mc(ua.current),yy(h)){if(w=h.stateNode,g=h.memoizedProps,w[ca]=h,(V=w.nodeValue!==g)&&(u=Ri,u!==null))switch(u.tag){case 3:cy(w.nodeValue,g,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&cy(w.nodeValue,g,(u.mode&1)!==0)}V&&(h.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[ca]=h,h.stateNode=w}return Dr(h),null;case 13:if(on(yn),w=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(dn&&Di!==null&&(h.mode&1)!==0&&(h.flags&128)===0)L2(),jd(),h.flags|=98560,V=!1;else if(V=yy(h),w!==null&&w.dehydrated!==null){if(u===null){if(!V)throw Error(n(318));if(V=h.memoizedState,V=V!==null?V.dehydrated:null,!V)throw Error(n(317));V[ca]=h}else jd(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Dr(h),V=!1}else bs!==null&&(L1(bs),bs=null),V=!0;if(!V)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=g,h):(w=w!==null,w!==(u!==null&&u.memoizedState!==null)&&w&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(yn.current&1)!==0?qn===0&&(qn=3):B1())),h.updateQueue!==null&&(h.flags|=4),Dr(h),null);case 4:return Od(),S1(u,h),u===null&&Zh(h.stateNode.containerInfo),Dr(h),null;case 10:return e1(h.type._context),Dr(h),null;case 17:return ii(h.type)&&fy(),Dr(h),null;case 19:if(on(yn),V=h.memoizedState,V===null)return Dr(h),null;if(w=(h.flags&128)!==0,W=V.rendering,W===null)if(w)dm(V,!1);else{if(qn!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(W=Ey(u),W!==null){for(h.flags|=128,dm(V,!1),w=W.updateQueue,w!==null&&(h.updateQueue=w,h.flags|=4),h.subtreeFlags=0,w=g,g=h.child;g!==null;)V=g,u=w,V.flags&=14680066,W=V.alternate,W===null?(V.childLanes=0,V.lanes=u,V.child=null,V.subtreeFlags=0,V.memoizedProps=null,V.memoizedState=null,V.updateQueue=null,V.dependencies=null,V.stateNode=null):(V.childLanes=W.childLanes,V.lanes=W.lanes,V.child=W.child,V.subtreeFlags=0,V.deletions=null,V.memoizedProps=W.memoizedProps,V.memoizedState=W.memoizedState,V.updateQueue=W.updateQueue,V.type=W.type,u=W.dependencies,V.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),g=g.sibling;return Zt(yn,yn.current&1|2),h.child}u=u.sibling}V.tail!==null&&sn()>Fd&&(h.flags|=128,w=!0,dm(V,!1),h.lanes=4194304)}else{if(!w)if(u=Ey(W),u!==null){if(h.flags|=128,w=!0,g=u.updateQueue,g!==null&&(h.updateQueue=g,h.flags|=4),dm(V,!0),V.tail===null&&V.tailMode==="hidden"&&!W.alternate&&!dn)return Dr(h),null}else 2*sn()-V.renderingStartTime>Fd&&g!==1073741824&&(h.flags|=128,w=!0,dm(V,!1),h.lanes=4194304);V.isBackwards?(W.sibling=h.child,h.child=W):(g=V.last,g!==null?g.sibling=W:h.child=W,V.last=W)}return V.tail!==null?(h=V.tail,V.rendering=h,V.tail=h.sibling,V.renderingStartTime=sn(),h.sibling=null,g=yn.current,Zt(yn,w?g&1|2:g&1),h):(Dr(h),null);case 22:case 23:return F1(),w=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==w&&(h.flags|=8192),w&&(h.mode&1)!==0?(Oi&1073741824)!==0&&(Dr(h),h.subtreeFlags&6&&(h.flags|=8192)):Dr(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function bK(u,h){switch(Gw(h),h.tag){case 1:return ii(h.type)&&fy(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Od(),on(ri),on(kr),o1(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return s1(h),null;case 13:if(on(yn),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));jd()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return on(yn),null;case 4:return Od(),null;case 10:return e1(h.type._context),null;case 22:case 23:return F1(),null;case 24:return null;default:return null}}var ky=!1,Or=!1,wK=typeof WeakSet=="function"?WeakSet:Set,Be=null;function Ld(u,h){var g=u.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){Cn(u,h,w)}else g.current=null}function T1(u,h,g){try{g()}catch(w){Cn(u,h,w)}}var Oj=!1;function _K(u,h){if(Fw=Ja,u=h2(),jw(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var T=w.anchorOffset,V=w.focusNode;w=w.focusOffset;try{g.nodeType,V.nodeType}catch{g=null;break e}var W=0,ee=-1,re=-1,pe=0,Ce=0,Pe=u,_e=null;t:for(;;){for(var Ve;Pe!==g||T!==0&&Pe.nodeType!==3||(ee=W+T),Pe!==V||w!==0&&Pe.nodeType!==3||(re=W+w),Pe.nodeType===3&&(W+=Pe.nodeValue.length),(Ve=Pe.firstChild)!==null;)_e=Pe,Pe=Ve;for(;;){if(Pe===u)break t;if(_e===g&&++pe===T&&(ee=W),_e===V&&++Ce===w&&(re=W),(Ve=Pe.nextSibling)!==null)break;Pe=_e,_e=Pe.parentNode}Pe=Ve}g=ee===-1||re===-1?null:{start:ee,end:re}}else g=null}g=g||{start:0,end:0}}else g=null;for(Bw={focusedElem:u,selectionRange:g},Ja=!1,Be=h;Be!==null;)if(h=Be,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Be=u;else for(;Be!==null;){h=Be;try{var $e=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if($e!==null){var We=$e.memoizedProps,jn=$e.memoizedState,ce=h.stateNode,se=ce.getSnapshotBeforeUpdate(h.elementType===h.type?We:ws(h.type,We),jn);ce.__reactInternalSnapshotBeforeUpdate=se}break;case 3:var he=h.stateNode.containerInfo;he.nodeType===1?he.textContent="":he.nodeType===9&&he.documentElement&&he.removeChild(he.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ae){Cn(h,h.return,Ae)}if(u=h.sibling,u!==null){u.return=h.return,Be=u;break}Be=h.return}return $e=Oj,Oj=!1,$e}function fm(u,h,g){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&u)===u){var V=T.destroy;T.destroy=void 0,V!==void 0&&T1(h,g,V)}T=T.next}while(T!==w)}}function Ry(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&u)===u){var w=g.create;g.destroy=w()}g=g.next}while(g!==h)}}function P1(u){var h=u.ref;if(h!==null){var g=u.stateNode;u.tag,u=g,typeof h=="function"?h(u):h.current=u}}function Mj(u){var h=u.alternate;h!==null&&(u.alternate=null,Mj(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[ca],delete h[tm],delete h[qw],delete h[iK],delete h[sK])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function Lj(u){return u.tag===5||u.tag===3||u.tag===4}function Vj(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Lj(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function A1(u,h,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(u,h):g.insertBefore(u,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(u,g)):(h=g,h.appendChild(u)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=uy));else if(w!==4&&(u=u.child,u!==null))for(A1(u,h,g),u=u.sibling;u!==null;)A1(u,h,g),u=u.sibling}function I1(u,h,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?g.insertBefore(u,h):g.appendChild(u);else if(w!==4&&(u=u.child,u!==null))for(I1(u,h,g),u=u.sibling;u!==null;)I1(u,h,g),u=u.sibling}var vr=null,_s=!1;function ul(u,h,g){for(g=g.child;g!==null;)Fj(u,h,g),g=g.sibling}function Fj(u,h,g){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(_c,g)}catch{}switch(g.tag){case 5:Or||Ld(g,h);case 6:var w=vr,T=_s;vr=null,ul(u,h,g),vr=w,_s=T,vr!==null&&(_s?(u=vr,g=g.stateNode,u.nodeType===8?u.parentNode.removeChild(g):u.removeChild(g)):vr.removeChild(g.stateNode));break;case 18:vr!==null&&(_s?(u=vr,g=g.stateNode,u.nodeType===8?$w(u.parentNode,g):u.nodeType===1&&$w(u,g),el(u)):$w(vr,g.stateNode));break;case 4:w=vr,T=_s,vr=g.stateNode.containerInfo,_s=!0,ul(u,h,g),vr=w,_s=T;break;case 0:case 11:case 14:case 15:if(!Or&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){T=w=w.next;do{var V=T,W=V.destroy;V=V.tag,W!==void 0&&((V&2)!==0||(V&4)!==0)&&T1(g,h,W),T=T.next}while(T!==w)}ul(u,h,g);break;case 1:if(!Or&&(Ld(g,h),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(ee){Cn(g,h,ee)}ul(u,h,g);break;case 21:ul(u,h,g);break;case 22:g.mode&1?(Or=(w=Or)||g.memoizedState!==null,ul(u,h,g),Or=w):ul(u,h,g);break;default:ul(u,h,g)}}function Bj(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new wK),h.forEach(function(w){var T=jK.bind(null,u,w);g.has(w)||(g.add(w),w.then(T,T))})}}function Es(u,h){var g=h.deletions;if(g!==null)for(var w=0;w<g.length;w++){var T=g[w];try{var V=u,W=h,ee=W;e:for(;ee!==null;){switch(ee.tag){case 5:vr=ee.stateNode,_s=!1;break e;case 3:vr=ee.stateNode.containerInfo,_s=!0;break e;case 4:vr=ee.stateNode.containerInfo,_s=!0;break e}ee=ee.return}if(vr===null)throw Error(n(160));Fj(V,W,T),vr=null,_s=!1;var re=T.alternate;re!==null&&(re.return=null),T.return=null}catch(pe){Cn(T,h,pe)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)zj(h,u),h=h.sibling}function zj(u,h){var g=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Es(h,u),fa(u),w&4){try{fm(3,u,u.return),Ry(3,u)}catch(We){Cn(u,u.return,We)}try{fm(5,u,u.return)}catch(We){Cn(u,u.return,We)}}break;case 1:Es(h,u),fa(u),w&512&&g!==null&&Ld(g,g.return);break;case 5:if(Es(h,u),fa(u),w&512&&g!==null&&Ld(g,g.return),u.flags&32){var T=u.stateNode;try{pr(T,"")}catch(We){Cn(u,u.return,We)}}if(w&4&&(T=u.stateNode,T!=null)){var V=u.memoizedProps,W=g!==null?g.memoizedProps:V,ee=u.type,re=u.updateQueue;if(u.updateQueue=null,re!==null)try{ee==="input"&&V.type==="radio"&&V.name!=null&&ct(T,V),Yo(ee,W);var pe=Yo(ee,V);for(W=0;W<re.length;W+=2){var Ce=re[W],Pe=re[W+1];Ce==="style"?Ni(T,Pe):Ce==="dangerouslySetInnerHTML"?Qt(T,Pe):Ce==="children"?pr(T,Pe):O(T,Ce,Pe,pe)}switch(ee){case"input":Fe(T,V);break;case"textarea":Ke(T,V);break;case"select":var _e=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!V.multiple;var Ve=V.value;Ve!=null?Ne(T,!!V.multiple,Ve,!1):_e!==!!V.multiple&&(V.defaultValue!=null?Ne(T,!!V.multiple,V.defaultValue,!0):Ne(T,!!V.multiple,V.multiple?[]:"",!1))}T[tm]=V}catch(We){Cn(u,u.return,We)}}break;case 6:if(Es(h,u),fa(u),w&4){if(u.stateNode===null)throw Error(n(162));T=u.stateNode,V=u.memoizedProps;try{T.nodeValue=V}catch(We){Cn(u,u.return,We)}}break;case 3:if(Es(h,u),fa(u),w&4&&g!==null&&g.memoizedState.isDehydrated)try{el(h.containerInfo)}catch(We){Cn(u,u.return,We)}break;case 4:Es(h,u),fa(u);break;case 13:Es(h,u),fa(u),T=u.child,T.flags&8192&&(V=T.memoizedState!==null,T.stateNode.isHidden=V,!V||T.alternate!==null&&T.alternate.memoizedState!==null||(R1=sn())),w&4&&Bj(u);break;case 22:if(Ce=g!==null&&g.memoizedState!==null,u.mode&1?(Or=(pe=Or)||Ce,Es(h,u),Or=pe):Es(h,u),fa(u),w&8192){if(pe=u.memoizedState!==null,(u.stateNode.isHidden=pe)&&!Ce&&(u.mode&1)!==0)for(Be=u,Ce=u.child;Ce!==null;){for(Pe=Be=Ce;Be!==null;){switch(_e=Be,Ve=_e.child,_e.tag){case 0:case 11:case 14:case 15:fm(4,_e,_e.return);break;case 1:Ld(_e,_e.return);var $e=_e.stateNode;if(typeof $e.componentWillUnmount=="function"){w=_e,g=_e.return;try{h=w,$e.props=h.memoizedProps,$e.state=h.memoizedState,$e.componentWillUnmount()}catch(We){Cn(w,g,We)}}break;case 5:Ld(_e,_e.return);break;case 22:if(_e.memoizedState!==null){qj(Pe);continue}}Ve!==null?(Ve.return=_e,Be=Ve):qj(Pe)}Ce=Ce.sibling}e:for(Ce=null,Pe=u;;){if(Pe.tag===5){if(Ce===null){Ce=Pe;try{T=Pe.stateNode,pe?(V=T.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none"):(ee=Pe.stateNode,re=Pe.memoizedProps.style,W=re!=null&&re.hasOwnProperty("display")?re.display:null,ee.style.display=$r("display",W))}catch(We){Cn(u,u.return,We)}}}else if(Pe.tag===6){if(Ce===null)try{Pe.stateNode.nodeValue=pe?"":Pe.memoizedProps}catch(We){Cn(u,u.return,We)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===u)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===u)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===u)break e;Ce===Pe&&(Ce=null),Pe=Pe.return}Ce===Pe&&(Ce=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:Es(h,u),fa(u),w&4&&Bj(u);break;case 21:break;default:Es(h,u),fa(u)}}function fa(u){var h=u.flags;if(h&2){try{e:{for(var g=u.return;g!==null;){if(Lj(g)){var w=g;break e}g=g.return}throw Error(n(160))}switch(w.tag){case 5:var T=w.stateNode;w.flags&32&&(pr(T,""),w.flags&=-33);var V=Vj(u);I1(u,V,T);break;case 3:case 4:var W=w.stateNode.containerInfo,ee=Vj(u);A1(u,ee,W);break;default:throw Error(n(161))}}catch(re){Cn(u,u.return,re)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function EK(u,h,g){Be=u,Uj(u)}function Uj(u,h,g){for(var w=(u.mode&1)!==0;Be!==null;){var T=Be,V=T.child;if(T.tag===22&&w){var W=T.memoizedState!==null||ky;if(!W){var ee=T.alternate,re=ee!==null&&ee.memoizedState!==null||Or;ee=ky;var pe=Or;if(ky=W,(Or=re)&&!pe)for(Be=T;Be!==null;)W=Be,re=W.child,W.tag===22&&W.memoizedState!==null?Hj(T):re!==null?(re.return=W,Be=re):Hj(T);for(;V!==null;)Be=V,Uj(V),V=V.sibling;Be=T,ky=ee,Or=pe}$j(u)}else(T.subtreeFlags&8772)!==0&&V!==null?(V.return=T,Be=V):$j(u)}}function $j(u){for(;Be!==null;){var h=Be;if((h.flags&8772)!==0){var g=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Or||Ry(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!Or)if(g===null)w.componentDidMount();else{var T=h.elementType===h.type?g.memoizedProps:ws(h.type,g.memoizedProps);w.componentDidUpdate(T,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var V=h.updateQueue;V!==null&&q2(h,V,w);break;case 3:var W=h.updateQueue;if(W!==null){if(g=null,h.child!==null)switch(h.child.tag){case 5:g=h.child.stateNode;break;case 1:g=h.child.stateNode}q2(h,W,g)}break;case 5:var ee=h.stateNode;if(g===null&&h.flags&4){g=ee;var re=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&g.focus();break;case"img":re.src&&(g.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var pe=h.alternate;if(pe!==null){var Ce=pe.memoizedState;if(Ce!==null){var Pe=Ce.dehydrated;Pe!==null&&el(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Or||h.flags&512&&P1(h)}catch(_e){Cn(h,h.return,_e)}}if(h===u){Be=null;break}if(g=h.sibling,g!==null){g.return=h.return,Be=g;break}Be=h.return}}function qj(u){for(;Be!==null;){var h=Be;if(h===u){Be=null;break}var g=h.sibling;if(g!==null){g.return=h.return,Be=g;break}Be=h.return}}function Hj(u){for(;Be!==null;){var h=Be;try{switch(h.tag){case 0:case 11:case 15:var g=h.return;try{Ry(4,h)}catch(re){Cn(h,g,re)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var T=h.return;try{w.componentDidMount()}catch(re){Cn(h,T,re)}}var V=h.return;try{P1(h)}catch(re){Cn(h,V,re)}break;case 5:var W=h.return;try{P1(h)}catch(re){Cn(h,W,re)}}}catch(re){Cn(h,h.return,re)}if(h===u){Be=null;break}var ee=h.sibling;if(ee!==null){ee.return=h.return,Be=ee;break}Be=h.return}}var CK=Math.ceil,Dy=z.ReactCurrentDispatcher,j1=z.ReactCurrentOwner,Ji=z.ReactCurrentBatchConfig,kt=0,tr=null,Ln=null,xr=0,Oi=0,Vd=sl(0),qn=0,hm=null,Vc=0,Oy=0,k1=0,mm=null,ai=null,R1=0,Fd=1/0,lo=null,My=!1,D1=null,dl=null,Ly=!1,fl=null,Vy=0,pm=0,O1=null,Fy=-1,By=0;function Hr(){return(kt&6)!==0?sn():Fy!==-1?Fy:Fy=sn()}function hl(u){return(u.mode&1)===0?1:(kt&2)!==0&&xr!==0?xr&-xr:oK.transition!==null?(By===0&&(By=Mh()),By):(u=Tt,u!==0||(u=window.event,u=u===void 0?16:md(u.type)),u)}function Cs(u,h,g,w){if(50<pm)throw pm=0,O1=null,Error(n(185));Sc(u,g,w),((kt&2)===0||u!==tr)&&(u===tr&&((kt&2)===0&&(Oy|=g),qn===4&&ml(u,xr)),oi(u,w),g===1&&kt===0&&(h.mode&1)===0&&(Fd=sn()+500,my&&ol()))}function oi(u,h){var g=u.callbackNode;Nc(u,h);var w=Xa(u,u===tr?xr:0);if(w===0)g!==null&&od(g),u.callbackNode=null,u.callbackPriority=0;else if(h=w&-w,u.callbackPriority!==h){if(g!=null&&od(g),h===1)u.tag===0?aK(Kj.bind(null,u)):k2(Kj.bind(null,u)),nK(function(){(kt&6)===0&&ol()}),g=null;else{switch(Zs(w)){case 1:g=ld;break;case 4:g=Rh;break;case 16:g=wc;break;case 536870912:g=cd;break;default:g=wc}g=tk(g,Wj.bind(null,u))}u.callbackPriority=h,u.callbackNode=g}}function Wj(u,h){if(Fy=-1,By=0,(kt&6)!==0)throw Error(n(327));var g=u.callbackNode;if(Bd()&&u.callbackNode!==g)return null;var w=Xa(u,u===tr?xr:0);if(w===0)return null;if((w&30)!==0||(w&u.expiredLanes)!==0||h)h=zy(u,w);else{h=w;var T=kt;kt|=2;var V=Xj();(tr!==u||xr!==h)&&(lo=null,Fd=sn()+500,Bc(u,h));do try{TK();break}catch(ee){Gj(u,ee)}while(!0);Zw(),Dy.current=V,kt=T,Ln!==null?h=0:(tr=null,xr=0,h=qn)}if(h!==0){if(h===2&&(T=Oh(u),T!==0&&(w=T,h=M1(u,T))),h===1)throw g=hm,Bc(u,0),ml(u,w),oi(u,sn()),g;if(h===6)ml(u,w);else{if(T=u.current.alternate,(w&30)===0&&!NK(T)&&(h=zy(u,w),h===2&&(V=Oh(u),V!==0&&(w=V,h=M1(u,V))),h===1))throw g=hm,Bc(u,0),ml(u,w),oi(u,sn()),g;switch(u.finishedWork=T,u.finishedLanes=w,h){case 0:case 1:throw Error(n(345));case 2:zc(u,ai,lo);break;case 3:if(ml(u,w),(w&130023424)===w&&(h=R1+500-sn(),10<h)){if(Xa(u,0)!==0)break;if(T=u.suspendedLanes,(T&w)!==w){Hr(),u.pingedLanes|=u.suspendedLanes&T;break}u.timeoutHandle=Uw(zc.bind(null,u,ai,lo),h);break}zc(u,ai,lo);break;case 4:if(ml(u,w),(w&4194240)===w)break;for(h=u.eventTimes,T=-1;0<w;){var W=31-Pi(w);V=1<<W,W=h[W],W>T&&(T=W),w&=~V}if(w=T,w=sn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*CK(w/1960))-w,10<w){u.timeoutHandle=Uw(zc.bind(null,u,ai,lo),w);break}zc(u,ai,lo);break;case 5:zc(u,ai,lo);break;default:throw Error(n(329))}}}return oi(u,sn()),u.callbackNode===g?Wj.bind(null,u):null}function M1(u,h){var g=mm;return u.current.memoizedState.isDehydrated&&(Bc(u,h).flags|=256),u=zy(u,h),u!==2&&(h=ai,ai=g,h!==null&&L1(h)),u}function L1(u){ai===null?ai=u:ai.push.apply(ai,u)}function NK(u){for(var h=u;;){if(h.flags&16384){var g=h.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var T=g[w],V=T.getSnapshot;T=T.value;try{if(!xs(V(),T))return!1}catch{return!1}}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ml(u,h){for(h&=~k1,h&=~Oy,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var g=31-Pi(h),w=1<<g;u[g]=-1,h&=~w}}function Kj(u){if((kt&6)!==0)throw Error(n(327));Bd();var h=Xa(u,0);if((h&1)===0)return oi(u,sn()),null;var g=zy(u,h);if(u.tag!==0&&g===2){var w=Oh(u);w!==0&&(h=w,g=M1(u,w))}if(g===1)throw g=hm,Bc(u,0),ml(u,h),oi(u,sn()),g;if(g===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,zc(u,ai,lo),oi(u,sn()),null}function V1(u,h){var g=kt;kt|=1;try{return u(h)}finally{kt=g,kt===0&&(Fd=sn()+500,my&&ol())}}function Fc(u){fl!==null&&fl.tag===0&&(kt&6)===0&&Bd();var h=kt;kt|=1;var g=Ji.transition,w=Tt;try{if(Ji.transition=null,Tt=1,u)return u()}finally{Tt=w,Ji.transition=g,kt=h,(kt&6)===0&&ol()}}function F1(){Oi=Vd.current,on(Vd)}function Bc(u,h){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==-1&&(u.timeoutHandle=-1,tK(g)),Ln!==null)for(g=Ln.return;g!==null;){var w=g;switch(Gw(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&fy();break;case 3:Od(),on(ri),on(kr),o1();break;case 5:s1(w);break;case 4:Od();break;case 13:on(yn);break;case 19:on(yn);break;case 10:e1(w.type._context);break;case 22:case 23:F1()}g=g.return}if(tr=u,Ln=u=pl(u.current,null),xr=Oi=h,qn=0,hm=null,k1=Oy=Vc=0,ai=mm=null,Oc!==null){for(h=0;h<Oc.length;h++)if(g=Oc[h],w=g.interleaved,w!==null){g.interleaved=null;var T=w.next,V=g.pending;if(V!==null){var W=V.next;V.next=T,w.next=W}g.pending=w}Oc=null}return u}function Gj(u,h){do{var g=Ln;try{if(Zw(),Cy.current=Py,Ny){for(var w=vn.memoizedState;w!==null;){var T=w.queue;T!==null&&(T.pending=null),w=w.next}Ny=!1}if(Lc=0,er=$n=vn=null,om=!1,lm=0,j1.current=null,g===null||g.return===null){qn=1,hm=h,Ln=null;break}e:{var V=u,W=g.return,ee=g,re=h;if(h=xr,ee.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var pe=re,Ce=ee,Pe=Ce.tag;if((Ce.mode&1)===0&&(Pe===0||Pe===11||Pe===15)){var _e=Ce.alternate;_e?(Ce.updateQueue=_e.updateQueue,Ce.memoizedState=_e.memoizedState,Ce.lanes=_e.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Ve=xj(W);if(Ve!==null){Ve.flags&=-257,bj(Ve,W,ee,V,h),Ve.mode&1&&vj(V,pe,h),h=Ve,re=pe;var $e=h.updateQueue;if($e===null){var We=new Set;We.add(re),h.updateQueue=We}else $e.add(re);break e}else{if((h&1)===0){vj(V,pe,h),B1();break e}re=Error(n(426))}}else if(dn&&ee.mode&1){var jn=xj(W);if(jn!==null){(jn.flags&65536)===0&&(jn.flags|=256),bj(jn,W,ee,V,h),Qw(Md(re,ee));break e}}V=re=Md(re,ee),qn!==4&&(qn=2),mm===null?mm=[V]:mm.push(V),V=W;do{switch(V.tag){case 3:V.flags|=65536,h&=-h,V.lanes|=h;var ce=gj(V,re,h);$2(V,ce);break e;case 1:ee=re;var se=V.type,he=V.stateNode;if((V.flags&128)===0&&(typeof se.getDerivedStateFromError=="function"||he!==null&&typeof he.componentDidCatch=="function"&&(dl===null||!dl.has(he)))){V.flags|=65536,h&=-h,V.lanes|=h;var Ae=yj(V,ee,h);$2(V,Ae);break e}}V=V.return}while(V!==null)}Qj(g)}catch(Ge){h=Ge,Ln===g&&g!==null&&(Ln=g=g.return);continue}break}while(!0)}function Xj(){var u=Dy.current;return Dy.current=Py,u===null?Py:u}function B1(){(qn===0||qn===3||qn===2)&&(qn=4),tr===null||(Vc&268435455)===0&&(Oy&268435455)===0||ml(tr,xr)}function zy(u,h){var g=kt;kt|=2;var w=Xj();(tr!==u||xr!==h)&&(lo=null,Bc(u,h));do try{SK();break}catch(T){Gj(u,T)}while(!0);if(Zw(),kt=g,Dy.current=w,Ln!==null)throw Error(n(261));return tr=null,xr=0,qn}function SK(){for(;Ln!==null;)Yj(Ln)}function TK(){for(;Ln!==null&&!bc();)Yj(Ln)}function Yj(u){var h=ek(u.alternate,u,Oi);u.memoizedProps=u.pendingProps,h===null?Qj(u):Ln=h,j1.current=null}function Qj(u){var h=u;do{var g=h.alternate;if(u=h.return,(h.flags&32768)===0){if(g=xK(g,h,Oi),g!==null){Ln=g;return}}else{if(g=bK(g,h),g!==null){g.flags&=32767,Ln=g;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{qn=6,Ln=null;return}}if(h=h.sibling,h!==null){Ln=h;return}Ln=h=u}while(h!==null);qn===0&&(qn=5)}function zc(u,h,g){var w=Tt,T=Ji.transition;try{Ji.transition=null,Tt=1,PK(u,h,g,w)}finally{Ji.transition=T,Tt=w}return null}function PK(u,h,g,w){do Bd();while(fl!==null);if((kt&6)!==0)throw Error(n(327));g=u.finishedWork;var T=u.finishedLanes;if(g===null)return null;if(u.finishedWork=null,u.finishedLanes=0,g===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var V=g.lanes|g.childLanes;if(Sw(u,V),u===tr&&(Ln=tr=null,xr=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||Ly||(Ly=!0,tk(wc,function(){return Bd(),null})),V=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||V){V=Ji.transition,Ji.transition=null;var W=Tt;Tt=1;var ee=kt;kt|=4,j1.current=null,_K(u,g),zj(g,u),GW(Bw),Ja=!!Fw,Bw=Fw=null,u.current=g,EK(g),Ga(),kt=ee,Tt=W,Ji.transition=V}else u.current=g;if(Ly&&(Ly=!1,fl=u,Vy=T),V=u.pendingLanes,V===0&&(dl=null),Gg(g.stateNode),oi(u,sn()),h!==null)for(w=u.onRecoverableError,g=0;g<h.length;g++)T=h[g],w(T.value,{componentStack:T.stack,digest:T.digest});if(My)throw My=!1,u=D1,D1=null,u;return(Vy&1)!==0&&u.tag!==0&&Bd(),V=u.pendingLanes,(V&1)!==0?u===O1?pm++:(pm=0,O1=u):pm=0,ol(),null}function Bd(){if(fl!==null){var u=Zs(Vy),h=Ji.transition,g=Tt;try{if(Ji.transition=null,Tt=16>u?16:u,fl===null)var w=!1;else{if(u=fl,fl=null,Vy=0,(kt&6)!==0)throw Error(n(331));var T=kt;for(kt|=4,Be=u.current;Be!==null;){var V=Be,W=V.child;if((Be.flags&16)!==0){var ee=V.deletions;if(ee!==null){for(var re=0;re<ee.length;re++){var pe=ee[re];for(Be=pe;Be!==null;){var Ce=Be;switch(Ce.tag){case 0:case 11:case 15:fm(8,Ce,V)}var Pe=Ce.child;if(Pe!==null)Pe.return=Ce,Be=Pe;else for(;Be!==null;){Ce=Be;var _e=Ce.sibling,Ve=Ce.return;if(Mj(Ce),Ce===pe){Be=null;break}if(_e!==null){_e.return=Ve,Be=_e;break}Be=Ve}}}var $e=V.alternate;if($e!==null){var We=$e.child;if(We!==null){$e.child=null;do{var jn=We.sibling;We.sibling=null,We=jn}while(We!==null)}}Be=V}}if((V.subtreeFlags&2064)!==0&&W!==null)W.return=V,Be=W;else e:for(;Be!==null;){if(V=Be,(V.flags&2048)!==0)switch(V.tag){case 0:case 11:case 15:fm(9,V,V.return)}var ce=V.sibling;if(ce!==null){ce.return=V.return,Be=ce;break e}Be=V.return}}var se=u.current;for(Be=se;Be!==null;){W=Be;var he=W.child;if((W.subtreeFlags&2064)!==0&&he!==null)he.return=W,Be=he;else e:for(W=se;Be!==null;){if(ee=Be,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:Ry(9,ee)}}catch(Ge){Cn(ee,ee.return,Ge)}if(ee===W){Be=null;break e}var Ae=ee.sibling;if(Ae!==null){Ae.return=ee.return,Be=Ae;break e}Be=ee.return}}if(kt=T,ol(),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(_c,u)}catch{}w=!0}return w}finally{Tt=g,Ji.transition=h}}return!1}function Jj(u,h,g){h=Md(g,h),h=gj(u,h,1),u=cl(u,h,1),h=Hr(),u!==null&&(Sc(u,1,h),oi(u,h))}function Cn(u,h,g){if(u.tag===3)Jj(u,u,g);else for(;h!==null;){if(h.tag===3){Jj(h,u,g);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(dl===null||!dl.has(w))){u=Md(g,u),u=yj(h,u,1),h=cl(h,u,1),u=Hr(),h!==null&&(Sc(h,1,u),oi(h,u));break}}h=h.return}}function AK(u,h,g){var w=u.pingCache;w!==null&&w.delete(h),h=Hr(),u.pingedLanes|=u.suspendedLanes&g,tr===u&&(xr&g)===g&&(qn===4||qn===3&&(xr&130023424)===xr&&500>sn()-R1?Bc(u,0):k1|=g),oi(u,h)}function Zj(u,h){h===0&&((u.mode&1)===0?h=1:(h=Qo,Qo<<=1,(Qo&130023424)===0&&(Qo=4194304)));var g=Hr();u=so(u,h),u!==null&&(Sc(u,h,g),oi(u,g))}function IK(u){var h=u.memoizedState,g=0;h!==null&&(g=h.retryLane),Zj(u,g)}function jK(u,h){var g=0;switch(u.tag){case 13:var w=u.stateNode,T=u.memoizedState;T!==null&&(g=T.retryLane);break;case 19:w=u.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(h),Zj(u,g)}var ek;ek=function(u,h,g){if(u!==null)if(u.memoizedProps!==h.pendingProps||ri.current)si=!0;else{if((u.lanes&g)===0&&(h.flags&128)===0)return si=!1,vK(u,h,g);si=(u.flags&131072)!==0}else si=!1,dn&&(h.flags&1048576)!==0&&R2(h,gy,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;jy(u,h),u=h.pendingProps;var T=Pd(h,kr.current);Dd(h,g),T=u1(null,h,w,u,T,g);var V=d1();return h.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ii(w)?(V=!0,hy(h)):V=!1,h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,r1(h),T.updater=Ay,h.stateNode=T,T._reactInternals=h,y1(h,w,u,g),h=w1(null,h,w,!0,V,g)):(h.tag=0,dn&&V&&Kw(h),qr(null,h,T,g),h=h.child),h;case 16:w=h.elementType;e:{switch(jy(u,h),u=h.pendingProps,T=w._init,w=T(w._payload),h.type=w,T=h.tag=RK(w),u=ws(w,u),T){case 0:h=b1(null,h,w,u,g);break e;case 1:h=Sj(null,h,w,u,g);break e;case 11:h=wj(null,h,w,u,g);break e;case 14:h=_j(null,h,w,ws(w.type,u),g);break e}throw Error(n(306,w,""))}return h;case 0:return w=h.type,T=h.pendingProps,T=h.elementType===w?T:ws(w,T),b1(u,h,w,T,g);case 1:return w=h.type,T=h.pendingProps,T=h.elementType===w?T:ws(w,T),Sj(u,h,w,T,g);case 3:e:{if(Tj(h),u===null)throw Error(n(387));w=h.pendingProps,V=h.memoizedState,T=V.element,U2(u,h),_y(h,w,null,g);var W=h.memoizedState;if(w=W.element,V.isDehydrated)if(V={element:w,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},h.updateQueue.baseState=V,h.memoizedState=V,h.flags&256){T=Md(Error(n(423)),h),h=Pj(u,h,w,g,T);break e}else if(w!==T){T=Md(Error(n(424)),h),h=Pj(u,h,w,g,T);break e}else for(Di=il(h.stateNode.containerInfo.firstChild),Ri=h,dn=!0,bs=null,g=B2(h,null,w,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(jd(),w===T){h=oo(u,h,g);break e}qr(u,h,w,g)}h=h.child}return h;case 5:return H2(h),u===null&&Yw(h),w=h.type,T=h.pendingProps,V=u!==null?u.memoizedProps:null,W=T.children,zw(w,T)?W=null:V!==null&&zw(w,V)&&(h.flags|=32),Nj(u,h),qr(u,h,W,g),h.child;case 6:return u===null&&Yw(h),null;case 13:return Aj(u,h,g);case 4:return i1(h,h.stateNode.containerInfo),w=h.pendingProps,u===null?h.child=kd(h,null,w,g):qr(u,h,w,g),h.child;case 11:return w=h.type,T=h.pendingProps,T=h.elementType===w?T:ws(w,T),wj(u,h,w,T,g);case 7:return qr(u,h,h.pendingProps,g),h.child;case 8:return qr(u,h,h.pendingProps.children,g),h.child;case 12:return qr(u,h,h.pendingProps.children,g),h.child;case 10:e:{if(w=h.type._context,T=h.pendingProps,V=h.memoizedProps,W=T.value,Zt(xy,w._currentValue),w._currentValue=W,V!==null)if(xs(V.value,W)){if(V.children===T.children&&!ri.current){h=oo(u,h,g);break e}}else for(V=h.child,V!==null&&(V.return=h);V!==null;){var ee=V.dependencies;if(ee!==null){W=V.child;for(var re=ee.firstContext;re!==null;){if(re.context===w){if(V.tag===1){re=ao(-1,g&-g),re.tag=2;var pe=V.updateQueue;if(pe!==null){pe=pe.shared;var Ce=pe.pending;Ce===null?re.next=re:(re.next=Ce.next,Ce.next=re),pe.pending=re}}V.lanes|=g,re=V.alternate,re!==null&&(re.lanes|=g),t1(V.return,g,h),ee.lanes|=g;break}re=re.next}}else if(V.tag===10)W=V.type===h.type?null:V.child;else if(V.tag===18){if(W=V.return,W===null)throw Error(n(341));W.lanes|=g,ee=W.alternate,ee!==null&&(ee.lanes|=g),t1(W,g,h),W=V.sibling}else W=V.child;if(W!==null)W.return=V;else for(W=V;W!==null;){if(W===h){W=null;break}if(V=W.sibling,V!==null){V.return=W.return,W=V;break}W=W.return}V=W}qr(u,h,T.children,g),h=h.child}return h;case 9:return T=h.type,w=h.pendingProps.children,Dd(h,g),T=Yi(T),w=w(T),h.flags|=1,qr(u,h,w,g),h.child;case 14:return w=h.type,T=ws(w,h.pendingProps),T=ws(w.type,T),_j(u,h,w,T,g);case 15:return Ej(u,h,h.type,h.pendingProps,g);case 17:return w=h.type,T=h.pendingProps,T=h.elementType===w?T:ws(w,T),jy(u,h),h.tag=1,ii(w)?(u=!0,hy(h)):u=!1,Dd(h,g),mj(h,w,T),y1(h,w,T,g),w1(null,h,w,!0,u,g);case 19:return jj(u,h,g);case 22:return Cj(u,h,g)}throw Error(n(156,h.tag))};function tk(u,h){return kh(u,h)}function kK(u,h,g,w){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(u,h,g,w){return new kK(u,h,g,w)}function z1(u){return u=u.prototype,!(!u||!u.isReactComponent)}function RK(u){if(typeof u=="function")return z1(u)?1:0;if(u!=null){if(u=u.$$typeof,u===L)return 11;if(u===Y)return 14}return 2}function pl(u,h){var g=u.alternate;return g===null?(g=Zi(u.tag,h,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=h,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&14680064,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,h=u.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function Uy(u,h,g,w,T,V){var W=2;if(w=u,typeof u=="function")z1(u)&&(W=1);else if(typeof u=="string")W=5;else e:switch(u){case C:return Uc(g.children,T,V,h);case N:W=8,T|=8;break;case A:return u=Zi(12,g,h,T|2),u.elementType=A,u.lanes=V,u;case B:return u=Zi(13,g,h,T),u.elementType=B,u.lanes=V,u;case $:return u=Zi(19,g,h,T),u.elementType=$,u.lanes=V,u;case k:return $y(g,T,V,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case j:W=10;break e;case D:W=9;break e;case L:W=11;break e;case Y:W=14;break e;case Z:W=16,w=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return h=Zi(W,g,h,T),h.elementType=u,h.type=w,h.lanes=V,h}function Uc(u,h,g,w){return u=Zi(7,u,w,h),u.lanes=g,u}function $y(u,h,g,w){return u=Zi(22,u,w,h),u.elementType=k,u.lanes=g,u.stateNode={isHidden:!1},u}function U1(u,h,g){return u=Zi(6,u,null,h),u.lanes=g,u}function $1(u,h,g){return h=Zi(4,u.children!==null?u.children:[],u.key,h),h.lanes=g,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function DK(u,h,g,w,T){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lh(0),this.expirationTimes=Lh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lh(0),this.identifierPrefix=w,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function q1(u,h,g,w,T,V,W,ee,re){return u=new DK(u,h,g,ee,re),h===1?(h=1,V===!0&&(h|=8)):h=0,V=Zi(3,null,null,h),u.current=V,V.stateNode=u,V.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},r1(V),u}function OK(u,h,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:w==null?null:""+w,children:u,containerInfo:h,implementation:g}}function nk(u){if(!u)return al;u=u._reactInternals;e:{if(ys(u)!==u||u.tag!==1)throw Error(n(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ii(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(u.tag===1){var g=u.type;if(ii(g))return I2(u,g,h)}return h}function rk(u,h,g,w,T,V,W,ee,re){return u=q1(g,w,!0,u,T,V,W,ee,re),u.context=nk(null),g=u.current,w=Hr(),T=hl(g),V=ao(w,T),V.callback=h??null,cl(g,V,T),u.current.lanes=T,Sc(u,T,w),oi(u,w),u}function qy(u,h,g,w){var T=h.current,V=Hr(),W=hl(T);return g=nk(g),h.context===null?h.context=g:h.pendingContext=g,h=ao(V,W),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=cl(T,h,W),u!==null&&(Cs(u,T,W,V),wy(u,T,W)),W}function Hy(u){return u=u.current,u.child?(u.child.tag===5,u.child.stateNode):null}function ik(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<h?g:h}}function H1(u,h){ik(u,h),(u=u.alternate)&&ik(u,h)}function MK(){return null}var sk=typeof reportError=="function"?reportError:function(u){console.error(u)};function W1(u){this._internalRoot=u}Wy.prototype.render=W1.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));qy(u,h,null,null)},Wy.prototype.unmount=W1.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;Fc(function(){qy(null,u,null,null)}),h[to]=null}};function Wy(u){this._internalRoot=u}Wy.prototype.unstable_scheduleHydration=function(u){if(u){var h=zh();u={blockedOn:null,target:u,priority:h};for(var g=0;g<Ai.length&&h!==0&&h<Ai[g].priority;g++);Ai.splice(g,0,u),g===0&&fd(u)}};function K1(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Ky(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function ak(){}function LK(u,h,g,w,T){if(T){if(typeof w=="function"){var V=w;w=function(){var pe=Hy(W);V.call(pe)}}var W=rk(h,w,u,0,null,!1,!1,"",ak);return u._reactRootContainer=W,u[to]=W.current,Zh(u.nodeType===8?u.parentNode:u),Fc(),W}for(;T=u.lastChild;)u.removeChild(T);if(typeof w=="function"){var ee=w;w=function(){var pe=Hy(re);ee.call(pe)}}var re=q1(u,0,!1,null,null,!1,!1,"",ak);return u._reactRootContainer=re,u[to]=re.current,Zh(u.nodeType===8?u.parentNode:u),Fc(function(){qy(h,re,g,w)}),re}function Gy(u,h,g,w,T){var V=g._reactRootContainer;if(V){var W=V;if(typeof T=="function"){var ee=T;T=function(){var re=Hy(W);ee.call(re)}}qy(h,W,u,T)}else W=LK(g,h,u,T,w);return Hy(W)}Fh=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var g=Ft(h.pendingLanes);g!==0&&(Vh(h,g|1),oi(h,sn()),(kt&6)===0&&(Fd=sn()+500,ol()))}break;case 13:Fc(function(){var w=so(u,1);if(w!==null){var T=Hr();Cs(w,u,1,T)}}),H1(u,1)}},ud=function(u){if(u.tag===13){var h=so(u,134217728);if(h!==null){var g=Hr();Cs(h,u,134217728,g)}H1(u,134217728)}},Bh=function(u){if(u.tag===13){var h=hl(u),g=so(u,h);if(g!==null){var w=Hr();Cs(g,u,h,w)}H1(u,h)}},zh=function(){return Tt},Uh=function(u,h){var g=Tt;try{return Tt=u,h()}finally{Tt=g}},Hi=function(u,h,g){switch(h){case"input":if(Fe(u,g),h=g.name,g.type==="radio"&&h!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<g.length;h++){var w=g[h];if(w!==u&&w.form===u.form){var T=dy(w);if(!T)throw Error(n(90));me(w),Fe(w,T)}}}break;case"textarea":Ke(u,g);break;case"select":h=g.value,h!=null&&Ne(u,!!g.multiple,h,!1)}},jt=V1,zt=Fc;var VK={usingClientEntryPoint:!1,Events:[nm,Sd,dy,Xs,et,V1]},gm={findFiberByHostInstance:jc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FK={bundleType:gm.bundleType,version:gm.version,rendererPackageName:gm.rendererPackageName,rendererConfig:gm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Kg(u),u===null?null:u.stateNode},findFiberByHostInstance:gm.findFiberByHostInstance||MK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xy.isDisabled&&Xy.supportsFiber)try{_c=Xy.inject(FK),Ti=Xy}catch{}}return li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VK,li.createPortal=function(u,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K1(h))throw Error(n(200));return OK(u,h,null,g)},li.createRoot=function(u,h){if(!K1(u))throw Error(n(299));var g=!1,w="",T=sk;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(T=h.onRecoverableError)),h=q1(u,1,!1,null,null,g,!1,w,T),u[to]=h.current,Zh(u.nodeType===8?u.parentNode:u),new W1(h)},li.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Kg(h),u=u===null?null:u.stateNode,u},li.flushSync=function(u){return Fc(u)},li.hydrate=function(u,h,g){if(!Ky(h))throw Error(n(200));return Gy(null,u,h,!0,g)},li.hydrateRoot=function(u,h,g){if(!K1(u))throw Error(n(405));var w=g!=null&&g.hydratedSources||null,T=!1,V="",W=sk;if(g!=null&&(g.unstable_strictMode===!0&&(T=!0),g.identifierPrefix!==void 0&&(V=g.identifierPrefix),g.onRecoverableError!==void 0&&(W=g.onRecoverableError)),h=rk(h,null,u,1,g??null,T,!1,V,W),u[to]=h.current,Zh(u),w)for(u=0;u<w.length;u++)g=w[u],T=g._getVersion,T=T(g._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[g,T]:h.mutableSourceEagerHydrationData.push(g,T);return new Wy(h)},li.render=function(u,h,g){if(!Ky(h))throw Error(n(200));return Gy(null,u,h,!1,g)},li.unmountComponentAtNode=function(u){if(!Ky(u))throw Error(n(40));return u._reactRootContainer?(Fc(function(){Gy(null,null,u,!1,function(){u._reactRootContainer=null,u[to]=null})}),!0):!1},li.unstable_batchedUpdates=V1,li.unstable_renderSubtreeIntoContainer=function(u,h,g,w){if(!Ky(g))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return Gy(u,h,g,!1,w)},li.version="18.3.1-next-f1338f8080-20240426",li}var mk;function WV(){if(mk)return Y1.exports;mk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Y1.exports=XK(),Y1.exports}var pk;function YK(){if(pk)return Qy;pk=1;var t=WV();return Qy.createRoot=t.createRoot,Qy.hydrateRoot=t.hydrateRoot,Qy}var QK=YK();const JK=bi(QK);function gk({onNavigate:t}){const e=()=>{console.log(" Boto de Login clicado no Welcome"),t("login")},n=()=>{console.log(" Boto de Criar Conta clicado no Welcome"),t("signup")},[r,i]=E.useState(!1),s=E.useRef(null);return E.useEffect(()=>{s.current&&s.current.play().then(()=>{i(!0)}).catch(a=>{console.error("Autoplay failed:",a)})},[]),o.jsxs("div",{className:"bg-black text-white overflow-hidden relative w-full h-screen",children:[o.jsx("div",{className:"fixed top-0 left-0 w-full h-full z-0 pointer-events-none bg-black",style:{}}),o.jsx("div",{className:`fixed top-0 left-0 w-full h-full z-0 overflow-hidden transition-opacity duration-1000 ${r?"opacity-100":"opacity-0"}`,children:o.jsx("video",{ref:s,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,"webkit-playsinline":"true",preload:"auto",controls:!1,onPlay:()=>i(!0),className:"w-full h-full object-cover",style:{filter:"brightness(0.6) contrast(1.1)"},children:o.jsx("source",{src:"/assets/videos/entrada.mp4",type:"video/mp4"})})}),o.jsx("div",{className:"fixed top-0 left-0 w-full h-full z-10 pointer-events-none opacity-0 animate-fadeIn",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0) 40%, rgba(0,0,0,0.8) 100%)",animationDelay:"0.2s"}}),o.jsxs("main",{className:"relative z-20 h-screen flex flex-col justify-between px-6 pb-12 pt-20",children:[o.jsxs("div",{className:"flex flex-col items-center text-center pt-[env(safe-area-inset-top)] opacity-0 animate-scaleIn",style:{animationDelay:"0.4s"},children:[o.jsxs("div",{className:"relative inline-block",children:[o.jsx("div",{className:"absolute inset-0 blur-3xl opacity-60",style:{background:"radial-gradient(circle, rgba(0, 212, 255, 0.4) 0%, rgba(123, 47, 247, 0.3) 50%, transparent 70%)"}}),o.jsx("h1",{className:"text-3xl font-black relative nexcoin-logo-text",children:"NexCoin"}),o.jsx("div",{className:"h-[2px] w-24 mx-auto mt-3 rounded-full",style:{background:"linear-gradient(90deg, transparent, #00d4ff, #7b2ff7, transparent)",boxShadow:"0 0 10px rgba(0, 212, 255, 0.8)"}})]}),o.jsx("p",{className:"mt-4 text-white/70 font-medium tracking-wide uppercase text-[10px]",children:"Future of Finance"})]}),o.jsx("div",{className:"flex-grow"}),o.jsxs("div",{className:"w-full max-w-sm mx-auto flex flex-col gap-3 items-center pb-[env(safe-area-inset-bottom)]",children:[o.jsx("button",{onClick:n,className:"w-full bg-white text-black font-bold py-3.5 px-6 rounded-full shadow-lg active:scale-[0.98] transition-all duration-200 text-base opacity-0 animate-slideUp",style:{animationDelay:"0.6s"},children:"Create Account"}),o.jsx("button",{onClick:e,className:"w-full py-3 text-white font-semibold active:opacity-60 transition-opacity duration-200 text-base bg-white/10 rounded-full opacity-0 animate-slideUp",style:{animationDelay:"0.8s"},children:"Login"}),o.jsx("p",{className:"text-[10px] text-white/40 text-center mt-1 px-8 opacity-0 animate-fadeIn",style:{animationDelay:"1s"},children:"By signing up, you agree to our Terms of Service and Privacy Policy."})]})]})]})}const ZK=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KV=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var eG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tG=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>E.createElement("svg",{ref:c,...eG,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:KV("lucide",i),...l},[...a.map(([d,f])=>E.createElement(d,f)),...Array.isArray(s)?s:[s]]));const Ue=(t,e)=>{const n=E.forwardRef(({className:r,...i},s)=>E.createElement(tG,{ref:s,iconNode:e,className:KV(`lucide-${ZK(t)}`,r),...i}));return n.displayName=`${t}`,n};const Ov=Ue("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const GV=Ue("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);const nG=Ue("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);const fT=Ue("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const Mv=Ue("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const Ct=Ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const rG=Ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const iG=Ue("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const rN=Ue("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const hT=Ue("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const Xm=Ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const yl=Ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const sG=Ue("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const An=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const bo=Ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const qx=Ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const as=Ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const zl=Ue("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const aG=Ue("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Hx=Ue("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const XV=Ue("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const hp=Ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const yk=Ue("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const xn=Ue("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const oG=Ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const lG=Ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const YV=Ue("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const gf=Ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const fu=Ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const QV=Ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const vk=Ue("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const mp=Ue("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const cG=Ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const uG=Ue("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);const f0=Ue("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const dG=Ue("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);const Ml=Ue("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const fG=Ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const Tf=Ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const hG=Ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const mG=Ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const pG=Ue("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const gG=Ue("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const yG=Ue("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const xk=Ue("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const _u=Ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const vG=Ue("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const mT=Ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const JV=Ue("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Gl=Ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const xG=Ue("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const bG=Ue("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const wG=Ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const ZV=Ue("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const Eu=Ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const rs=Ue("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const Z1=Ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const ho=Ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Cu=Ue("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const Fi=Ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const iN=Ue("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const bk=Ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const pT=Ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const eF=Ue("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);const Qr=Ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_G=()=>{};var wk={};const tF=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},EG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},nF={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let p=(l&15)<<2|d>>6,y=d&63;c||(y=64,a||(p=64)),r.push(n[f],n[m],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tF(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new CG;const p=s<<2|l>>4;if(r.push(p),d!==64){const y=l<<4&240|d>>2;if(r.push(y),m!==64){const x=d<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const NG=function(t){const e=tF(t);return nF.encodeByteArray(e,!0)},h0=function(t){return NG(t).replace(/\./g,"")},rF=function(t){try{return nF.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const SG=()=>iF().__FIREBASE_DEFAULTS__,TG=()=>{if(typeof process>"u"||typeof wk>"u")return;const t=wk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},PG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rF(t[1]);return e&&JSON.parse(e)},Wx=()=>{try{return _G()||SG()||TG()||PG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},sF=t=>Wx()?.emulatorHosts?.[t],aF=t=>{const e=sF(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oF=()=>Wx()?.config,lF=t=>Wx()?.[`_${t}`];class AG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function lc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Kx(t){return(await fetch(t,{credentials:"include"})).ok}function cF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[h0(JSON.stringify(n)),h0(JSON.stringify(a)),""].join(".")}const Ym={};function IG(){const t={prod:[],emulator:[]};for(const e of Object.keys(Ym))Ym[e]?t.emulator.push(e):t.prod.push(e);return t}function jG(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _k=!1;function gT(t,e){if(typeof window>"u"||typeof document>"u"||!lc(window.location.host)||Ym[t]===e||Ym[t]||_k)return;Ym[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=IG().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{_k=!0,a()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=jG(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),b=n("learnmore"),_=document.getElementById(b)||document.createElement("a"),S=n("preprendIcon"),M=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const O=p.element;l(O),f(_,b);const z=d();c(M,S),O.append(M,x,_,z),document.body.appendChild(O)}s?(x.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gn())}function uF(){const t=Wx()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function OG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MG(){const t=Gn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dF(){return!uF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fF(){return!uF()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function hF(){try{return typeof indexedDB=="object"}catch{return!1}}function LG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const VG="FirebaseError";class $a extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VG,Object.setPrototypeOf(this,$a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zp.prototype.create)}}class Zp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?FG(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new $a(i,l,r)}}function FG(t,e){return t.replace(BG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BG=/\{\$([^}]+)}/g;function zG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Ek(s)&&Ek(a)){if(!zs(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ek(t){return t!==null&&typeof t=="object"}function eg(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UG(t,e){const n=new $G(t,e);return n.subscribe.bind(n)}class $G{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qG(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=e_),i.error===void 0&&(i.error=e_),i.complete===void 0&&(i.complete=e_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qG(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function e_(){}function Rt(t){return t&&t._delegate?t._delegate:t}class Xl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Kc="[DEFAULT]";let HG=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KG(e))try{this.getOrInitializeService({instanceIdentifier:Kc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Kc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Kc){return this.instances.has(e)}getOptions(e=Kc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WG(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Kc){return this.component?this.component.multipleInstances?e:Kc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function WG(t){return t===Kc?void 0:t}function KG(t){return t.instantiationMode==="EAGER"}class GG{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HG(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Nt||(Nt={}));const XG={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},YG=Nt.INFO,QG={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},JG=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=QG[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yT{constructor(e){this.name=e,this._logLevel=YG,this._logHandler=JG,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XG[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...e),this._logHandler(this,Nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...e),this._logHandler(this,Nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...e),this._logHandler(this,Nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...e),this._logHandler(this,Nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...e),this._logHandler(this,Nt.ERROR,...e)}}const ZG=(t,e)=>e.some(n=>t instanceof n);let Ck,Nk;function eX(){return Ck||(Ck=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tX(){return Nk||(Nk=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mF=new WeakMap,sN=new WeakMap,pF=new WeakMap,t_=new WeakMap,vT=new WeakMap;function nX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ul(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&mF.set(n,t)}).catch(()=>{}),vT.set(e,t),e}function rX(t){if(sN.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});sN.set(t,e)}let aN={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return sN.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ul(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iX(t){aN=t(aN)}function sX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(n_(this),e,...n);return pF.set(r,e.sort?e.sort():[e]),Ul(r)}:tX().includes(t)?function(...e){return t.apply(n_(this),e),Ul(mF.get(this))}:function(...e){return Ul(t.apply(n_(this),e))}}function aX(t){return typeof t=="function"?sX(t):(t instanceof IDBTransaction&&rX(t),ZG(t,eX())?new Proxy(t,aN):t)}function Ul(t){if(t instanceof IDBRequest)return nX(t);if(t_.has(t))return t_.get(t);const e=aX(t);return e!==t&&(t_.set(t,e),vT.set(e,t)),e}const n_=t=>vT.get(t);function oX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Ul(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ul(a.result),c.oldVersion,c.newVersion,Ul(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const lX=["get","getKey","getAll","getAllKeys","count"],cX=["put","add","delete","clear"],r_=new Map;function Sk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(r_.get(e))return r_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lX.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return r_.set(e,s),s}iX(t=>({...t,get:(e,n,r)=>Sk(e,n)||t.get(e,n,r),has:(e,n)=>!!Sk(e,n)||t.has(e,n)}));class uX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dX(t){return t.getComponent()?.type==="VERSION"}const oN="@firebase/app",Tk="0.14.8";const Eo=new yT("@firebase/app"),fX="@firebase/app-compat",hX="@firebase/analytics-compat",mX="@firebase/analytics",pX="@firebase/app-check-compat",gX="@firebase/app-check",yX="@firebase/auth",vX="@firebase/auth-compat",xX="@firebase/database",bX="@firebase/data-connect",wX="@firebase/database-compat",_X="@firebase/functions",EX="@firebase/functions-compat",CX="@firebase/installations",NX="@firebase/installations-compat",SX="@firebase/messaging",TX="@firebase/messaging-compat",PX="@firebase/performance",AX="@firebase/performance-compat",IX="@firebase/remote-config",jX="@firebase/remote-config-compat",kX="@firebase/storage",RX="@firebase/storage-compat",DX="@firebase/firestore",OX="@firebase/ai",MX="@firebase/firestore-compat",LX="firebase",VX="12.9.0";const m0="[DEFAULT]",FX={[oN]:"fire-core",[fX]:"fire-core-compat",[mX]:"fire-analytics",[hX]:"fire-analytics-compat",[gX]:"fire-app-check",[pX]:"fire-app-check-compat",[yX]:"fire-auth",[vX]:"fire-auth-compat",[xX]:"fire-rtdb",[bX]:"fire-data-connect",[wX]:"fire-rtdb-compat",[_X]:"fire-fn",[EX]:"fire-fn-compat",[CX]:"fire-iid",[NX]:"fire-iid-compat",[SX]:"fire-fcm",[TX]:"fire-fcm-compat",[PX]:"fire-perf",[AX]:"fire-perf-compat",[IX]:"fire-rc",[jX]:"fire-rc-compat",[kX]:"fire-gcs",[RX]:"fire-gcs-compat",[DX]:"fire-fst",[MX]:"fire-fst-compat",[OX]:"fire-vertex","fire-js":"fire-js",[LX]:"fire-js-all"};const pp=new Map,BX=new Map,lN=new Map;function Pk(t,e){try{t.container.addComponent(e)}catch(n){Eo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nu(t){const e=t.name;if(lN.has(e))return Eo.debug(`There were multiple attempts to register component ${e}.`),!1;lN.set(e,t);for(const n of pp.values())Pk(n,t);for(const n of BX.values())Pk(n,t);return!0}function sh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zX(t,e,n=m0){sh(t,e).clearInstance(n)}function ui(t){return t==null?!1:t.settings!==void 0}const UX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$l=new Zp("app","Firebase",UX);class $X{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $l.create("app-deleted",{appName:this._name})}}const Wu=VX;function gF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:m0,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw $l.create("bad-app-name",{appName:String(i)});if(n||(n=oF()),!n)throw $l.create("no-options");const s=pp.get(i);if(s){if(zs(n,s.options)&&zs(r,s.config))return s;throw $l.create("duplicate-app",{appName:i})}const a=new GG(i);for(const c of lN.values())a.addComponent(c);const l=new $X(n,r,a);return pp.set(i,l),l}function xT(t=m0){const e=pp.get(t);if(!e&&t===m0&&oF())return gF();if(!e)throw $l.create("no-app",{appName:t});return e}function Ak(){return Array.from(pp.values())}function ja(t,e,n){let r=FX[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Eo.warn(a.join(" "));return}Nu(new Xl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const qX="firebase-heartbeat-database",HX=1,gp="firebase-heartbeat-store";let i_=null;function yF(){return i_||(i_=oX(qX,HX,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gp)}catch(n){console.warn(n)}}}}).catch(t=>{throw $l.create("idb-open",{originalErrorMessage:t.message})})),i_}async function WX(t){try{const n=(await yF()).transaction(gp),r=await n.objectStore(gp).get(vF(t));return await n.done,r}catch(e){if(e instanceof $a)Eo.warn(e.message);else{const n=$l.create("idb-get",{originalErrorMessage:e?.message});Eo.warn(n.message)}}}async function Ik(t,e){try{const r=(await yF()).transaction(gp,"readwrite");await r.objectStore(gp).put(e,vF(t)),await r.done}catch(n){if(n instanceof $a)Eo.warn(n.message);else{const r=$l.create("idb-set",{originalErrorMessage:n?.message});Eo.warn(r.message)}}}function vF(t){return`${t.name}!${t.options.appId}`}const KX=1024,GX=30;class XX{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=jk();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>GX){const i=JX(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Eo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=jk(),{heartbeatsToSend:n,unsentEntries:r}=YX(this._heartbeatsCache.heartbeats),i=h0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Eo.warn(e),""}}}function jk(){return new Date().toISOString().substring(0,10)}function YX(t,e=KX){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),kk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hF()?LG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WX(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ik(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ik(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function kk(t){return h0(JSON.stringify({version:2,heartbeats:t})).length}function JX(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function ZX(t){Nu(new Xl("platform-logger",e=>new uX(e),"PRIVATE")),Nu(new Xl("heartbeat",e=>new XX(e),"PRIVATE")),ja(oN,Tk,t),ja(oN,Tk,"esm2020"),ja("fire-js","")}ZX("");var Rk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ql,xF;(function(){var t;function e(C,N){function A(){}A.prototype=N.prototype,C.F=N.prototype,C.prototype=new A,C.prototype.constructor=C,C.D=function(j,D,L){for(var B=Array(arguments.length-2),$=2;$<arguments.length;$++)B[$-2]=arguments[$];return N.prototype[D].apply(j,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,N,A){A||(A=0);const j=Array(16);if(typeof N=="string")for(var D=0;D<16;++D)j[D]=N.charCodeAt(A++)|N.charCodeAt(A++)<<8|N.charCodeAt(A++)<<16|N.charCodeAt(A++)<<24;else for(D=0;D<16;++D)j[D]=N[A++]|N[A++]<<8|N[A++]<<16|N[A++]<<24;N=C.g[0],A=C.g[1],D=C.g[2];let L=C.g[3],B;B=N+(L^A&(D^L))+j[0]+3614090360&4294967295,N=A+(B<<7&4294967295|B>>>25),B=L+(D^N&(A^D))+j[1]+3905402710&4294967295,L=N+(B<<12&4294967295|B>>>20),B=D+(A^L&(N^A))+j[2]+606105819&4294967295,D=L+(B<<17&4294967295|B>>>15),B=A+(N^D&(L^N))+j[3]+3250441966&4294967295,A=D+(B<<22&4294967295|B>>>10),B=N+(L^A&(D^L))+j[4]+4118548399&4294967295,N=A+(B<<7&4294967295|B>>>25),B=L+(D^N&(A^D))+j[5]+1200080426&4294967295,L=N+(B<<12&4294967295|B>>>20),B=D+(A^L&(N^A))+j[6]+2821735955&4294967295,D=L+(B<<17&4294967295|B>>>15),B=A+(N^D&(L^N))+j[7]+4249261313&4294967295,A=D+(B<<22&4294967295|B>>>10),B=N+(L^A&(D^L))+j[8]+1770035416&4294967295,N=A+(B<<7&4294967295|B>>>25),B=L+(D^N&(A^D))+j[9]+2336552879&4294967295,L=N+(B<<12&4294967295|B>>>20),B=D+(A^L&(N^A))+j[10]+4294925233&4294967295,D=L+(B<<17&4294967295|B>>>15),B=A+(N^D&(L^N))+j[11]+2304563134&4294967295,A=D+(B<<22&4294967295|B>>>10),B=N+(L^A&(D^L))+j[12]+1804603682&4294967295,N=A+(B<<7&4294967295|B>>>25),B=L+(D^N&(A^D))+j[13]+4254626195&4294967295,L=N+(B<<12&4294967295|B>>>20),B=D+(A^L&(N^A))+j[14]+2792965006&4294967295,D=L+(B<<17&4294967295|B>>>15),B=A+(N^D&(L^N))+j[15]+1236535329&4294967295,A=D+(B<<22&4294967295|B>>>10),B=N+(D^L&(A^D))+j[1]+4129170786&4294967295,N=A+(B<<5&4294967295|B>>>27),B=L+(A^D&(N^A))+j[6]+3225465664&4294967295,L=N+(B<<9&4294967295|B>>>23),B=D+(N^A&(L^N))+j[11]+643717713&4294967295,D=L+(B<<14&4294967295|B>>>18),B=A+(L^N&(D^L))+j[0]+3921069994&4294967295,A=D+(B<<20&4294967295|B>>>12),B=N+(D^L&(A^D))+j[5]+3593408605&4294967295,N=A+(B<<5&4294967295|B>>>27),B=L+(A^D&(N^A))+j[10]+38016083&4294967295,L=N+(B<<9&4294967295|B>>>23),B=D+(N^A&(L^N))+j[15]+3634488961&4294967295,D=L+(B<<14&4294967295|B>>>18),B=A+(L^N&(D^L))+j[4]+3889429448&4294967295,A=D+(B<<20&4294967295|B>>>12),B=N+(D^L&(A^D))+j[9]+568446438&4294967295,N=A+(B<<5&4294967295|B>>>27),B=L+(A^D&(N^A))+j[14]+3275163606&4294967295,L=N+(B<<9&4294967295|B>>>23),B=D+(N^A&(L^N))+j[3]+4107603335&4294967295,D=L+(B<<14&4294967295|B>>>18),B=A+(L^N&(D^L))+j[8]+1163531501&4294967295,A=D+(B<<20&4294967295|B>>>12),B=N+(D^L&(A^D))+j[13]+2850285829&4294967295,N=A+(B<<5&4294967295|B>>>27),B=L+(A^D&(N^A))+j[2]+4243563512&4294967295,L=N+(B<<9&4294967295|B>>>23),B=D+(N^A&(L^N))+j[7]+1735328473&4294967295,D=L+(B<<14&4294967295|B>>>18),B=A+(L^N&(D^L))+j[12]+2368359562&4294967295,A=D+(B<<20&4294967295|B>>>12),B=N+(A^D^L)+j[5]+4294588738&4294967295,N=A+(B<<4&4294967295|B>>>28),B=L+(N^A^D)+j[8]+2272392833&4294967295,L=N+(B<<11&4294967295|B>>>21),B=D+(L^N^A)+j[11]+1839030562&4294967295,D=L+(B<<16&4294967295|B>>>16),B=A+(D^L^N)+j[14]+4259657740&4294967295,A=D+(B<<23&4294967295|B>>>9),B=N+(A^D^L)+j[1]+2763975236&4294967295,N=A+(B<<4&4294967295|B>>>28),B=L+(N^A^D)+j[4]+1272893353&4294967295,L=N+(B<<11&4294967295|B>>>21),B=D+(L^N^A)+j[7]+4139469664&4294967295,D=L+(B<<16&4294967295|B>>>16),B=A+(D^L^N)+j[10]+3200236656&4294967295,A=D+(B<<23&4294967295|B>>>9),B=N+(A^D^L)+j[13]+681279174&4294967295,N=A+(B<<4&4294967295|B>>>28),B=L+(N^A^D)+j[0]+3936430074&4294967295,L=N+(B<<11&4294967295|B>>>21),B=D+(L^N^A)+j[3]+3572445317&4294967295,D=L+(B<<16&4294967295|B>>>16),B=A+(D^L^N)+j[6]+76029189&4294967295,A=D+(B<<23&4294967295|B>>>9),B=N+(A^D^L)+j[9]+3654602809&4294967295,N=A+(B<<4&4294967295|B>>>28),B=L+(N^A^D)+j[12]+3873151461&4294967295,L=N+(B<<11&4294967295|B>>>21),B=D+(L^N^A)+j[15]+530742520&4294967295,D=L+(B<<16&4294967295|B>>>16),B=A+(D^L^N)+j[2]+3299628645&4294967295,A=D+(B<<23&4294967295|B>>>9),B=N+(D^(A|~L))+j[0]+4096336452&4294967295,N=A+(B<<6&4294967295|B>>>26),B=L+(A^(N|~D))+j[7]+1126891415&4294967295,L=N+(B<<10&4294967295|B>>>22),B=D+(N^(L|~A))+j[14]+2878612391&4294967295,D=L+(B<<15&4294967295|B>>>17),B=A+(L^(D|~N))+j[5]+4237533241&4294967295,A=D+(B<<21&4294967295|B>>>11),B=N+(D^(A|~L))+j[12]+1700485571&4294967295,N=A+(B<<6&4294967295|B>>>26),B=L+(A^(N|~D))+j[3]+2399980690&4294967295,L=N+(B<<10&4294967295|B>>>22),B=D+(N^(L|~A))+j[10]+4293915773&4294967295,D=L+(B<<15&4294967295|B>>>17),B=A+(L^(D|~N))+j[1]+2240044497&4294967295,A=D+(B<<21&4294967295|B>>>11),B=N+(D^(A|~L))+j[8]+1873313359&4294967295,N=A+(B<<6&4294967295|B>>>26),B=L+(A^(N|~D))+j[15]+4264355552&4294967295,L=N+(B<<10&4294967295|B>>>22),B=D+(N^(L|~A))+j[6]+2734768916&4294967295,D=L+(B<<15&4294967295|B>>>17),B=A+(L^(D|~N))+j[13]+1309151649&4294967295,A=D+(B<<21&4294967295|B>>>11),B=N+(D^(A|~L))+j[4]+4149444226&4294967295,N=A+(B<<6&4294967295|B>>>26),B=L+(A^(N|~D))+j[11]+3174756917&4294967295,L=N+(B<<10&4294967295|B>>>22),B=D+(N^(L|~A))+j[2]+718787259&4294967295,D=L+(B<<15&4294967295|B>>>17),B=A+(L^(D|~N))+j[9]+3951481745&4294967295,C.g[0]=C.g[0]+N&4294967295,C.g[1]=C.g[1]+(D+(B<<21&4294967295|B>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+L&4294967295}r.prototype.v=function(C,N){N===void 0&&(N=C.length);const A=N-this.blockSize,j=this.C;let D=this.h,L=0;for(;L<N;){if(D==0)for(;L<=A;)i(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<N;)if(j[D++]=C.charCodeAt(L++),D==this.blockSize){i(this,j),D=0;break}}else for(;L<N;)if(j[D++]=C[L++],D==this.blockSize){i(this,j),D=0;break}}this.h=D,this.o+=N},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var N=1;N<C.length-8;++N)C[N]=0;N=this.o*8;for(var A=C.length-8;A<C.length;++A)C[A]=N&255,N/=256;for(this.v(C),C=Array(16),N=0,A=0;A<4;++A)for(let j=0;j<32;j+=8)C[N++]=this.g[A]>>>j&255;return C};function s(C,N){var A=l;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=N(C)}function a(C,N){this.h=N;const A=[];let j=!0;for(let D=C.length-1;D>=0;D--){const L=C[D]|0;j&&L==N||(A[D]=L,j=!1)}this.g=A}var l={};function c(C){return-128<=C&&C<128?s(C,function(N){return new a([N|0],N<0?-1:0)}):new a([C|0],C<0?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return m;if(C<0)return _(d(-C));const N=[];let A=1;for(let j=0;C>=A;j++)N[j]=C/A|0,A*=4294967296;return new a(N,0)}function f(C,N){if(C.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(C.charAt(0)=="-")return _(f(C.substring(1),N));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=d(Math.pow(N,8));let j=m;for(let L=0;L<C.length;L+=8){var D=Math.min(8,C.length-L);const B=parseInt(C.substring(L,L+D),N);D<8?(D=d(Math.pow(N,D)),j=j.j(D).add(d(B))):(j=j.j(A),j=j.add(d(B)))}return j}var m=c(0),p=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(b(this))return-_(this).m();let C=0,N=1;for(let A=0;A<this.g.length;A++){const j=this.i(A);C+=(j>=0?j:4294967296+j)*N,N*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(b(this))return"-"+_(this).toString(C);const N=d(Math.pow(C,6));var A=this;let j="";for(;;){const D=z(A,N).g;A=S(A,D.j(N));let L=((A.g.length>0?A.g[0]:A.h)>>>0).toString(C);if(A=D,x(A))return L+j;for(;L.length<6;)L="0"+L;j=L+j}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(let N=0;N<C.g.length;N++)if(C.g[N]!=0)return!1;return!0}function b(C){return C.h==-1}t.l=function(C){return C=S(this,C),b(C)?-1:x(C)?0:1};function _(C){const N=C.g.length,A=[];for(let j=0;j<N;j++)A[j]=~C.g[j];return new a(A,~C.h).add(p)}t.abs=function(){return b(this)?_(this):this},t.add=function(C){const N=Math.max(this.g.length,C.g.length),A=[];let j=0;for(let D=0;D<=N;D++){let L=j+(this.i(D)&65535)+(C.i(D)&65535),B=(L>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);j=B>>>16,L&=65535,B&=65535,A[D]=B<<16|L}return new a(A,A[A.length-1]&-2147483648?-1:0)};function S(C,N){return C.add(_(N))}t.j=function(C){if(x(this)||x(C))return m;if(b(this))return b(C)?_(this).j(_(C)):_(_(this).j(C));if(b(C))return _(this.j(_(C)));if(this.l(y)<0&&C.l(y)<0)return d(this.m()*C.m());const N=this.g.length+C.g.length,A=[];for(var j=0;j<2*N;j++)A[j]=0;for(j=0;j<this.g.length;j++)for(let D=0;D<C.g.length;D++){const L=this.i(j)>>>16,B=this.i(j)&65535,$=C.i(D)>>>16,Y=C.i(D)&65535;A[2*j+2*D]+=B*Y,M(A,2*j+2*D),A[2*j+2*D+1]+=L*Y,M(A,2*j+2*D+1),A[2*j+2*D+1]+=B*$,M(A,2*j+2*D+1),A[2*j+2*D+2]+=L*$,M(A,2*j+2*D+2)}for(C=0;C<N;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=N;C<2*N;C++)A[C]=0;return new a(A,0)};function M(C,N){for(;(C[N]&65535)!=C[N];)C[N+1]+=C[N]>>>16,C[N]&=65535,N++}function O(C,N){this.g=C,this.h=N}function z(C,N){if(x(N))throw Error("division by zero");if(x(C))return new O(m,m);if(b(C))return N=z(_(C),N),new O(_(N.g),_(N.h));if(b(N))return N=z(C,_(N)),new O(_(N.g),N.h);if(C.g.length>30){if(b(C)||b(N))throw Error("slowDivide_ only works with positive integers.");for(var A=p,j=N;j.l(C)<=0;)A=I(A),j=I(j);var D=P(A,1),L=P(j,1);for(j=P(j,2),A=P(A,2);!x(j);){var B=L.add(j);B.l(C)<=0&&(D=D.add(A),L=B),j=P(j,1),A=P(A,1)}return N=S(C,D.j(N)),new O(D,N)}for(D=m;C.l(N)>=0;){for(A=Math.max(1,Math.floor(C.m()/N.m())),j=Math.ceil(Math.log(A)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),L=d(A),B=L.j(N);b(B)||B.l(C)>0;)A-=j,L=d(A),B=L.j(N);x(L)&&(L=p),D=D.add(L),C=S(C,B)}return new O(D,C)}t.B=function(C){return z(this,C).h},t.and=function(C){const N=Math.max(this.g.length,C.g.length),A=[];for(let j=0;j<N;j++)A[j]=this.i(j)&C.i(j);return new a(A,this.h&C.h)},t.or=function(C){const N=Math.max(this.g.length,C.g.length),A=[];for(let j=0;j<N;j++)A[j]=this.i(j)|C.i(j);return new a(A,this.h|C.h)},t.xor=function(C){const N=Math.max(this.g.length,C.g.length),A=[];for(let j=0;j<N;j++)A[j]=this.i(j)^C.i(j);return new a(A,this.h^C.h)};function I(C){const N=C.g.length+1,A=[];for(let j=0;j<N;j++)A[j]=C.i(j)<<1|C.i(j-1)>>>31;return new a(A,C.h)}function P(C,N){const A=N>>5;N%=32;const j=C.g.length-A,D=[];for(let L=0;L<j;L++)D[L]=N>0?C.i(L+A)>>>N|C.i(L+A+1)<<32-N:C.i(L+A);return new a(D,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,xF=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,ql=a}).apply(typeof Rk<"u"?Rk:typeof self<"u"?self:typeof window<"u"?window:{});var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var bF,zm,wF,Lv,cN,_F,EF,CF;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jy=="object"&&Jy];for(var F=0;F<v.length;++F){var q=v[F];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var r=n(this);function i(v,F){if(F)e:{var q=r;v=v.split(".");for(var X=0;X<v.length-1;X++){var ue=v[X];if(!(ue in q))break e;q=q[ue]}v=v[v.length-1],X=q[v],F=F(X),F!=X&&F!=null&&e(q,v,{configurable:!0,writable:!0,value:F})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(F){var q=[],X;for(X in F)Object.prototype.hasOwnProperty.call(F,X)&&q.push([X,F[X]]);return q}});var s=s||{},a=this||self;function l(v){var F=typeof v;return F=="object"&&v!=null||F=="function"}function c(v,F,q){return v.call.apply(v.bind,arguments)}function d(v,F,q){return d=c,d.apply(null,arguments)}function f(v,F){var q=Array.prototype.slice.call(arguments,1);return function(){var X=q.slice();return X.push.apply(X,arguments),v.apply(this,X)}}function m(v,F){function q(){}q.prototype=F.prototype,v.Z=F.prototype,v.prototype=new q,v.prototype.constructor=v,v.Ob=function(X,ue,ge){for(var ke=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)ke[pt-2]=arguments[pt];return F.prototype[ue].apply(X,ke)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function y(v){const F=v.length;if(F>0){const q=Array(F);for(let X=0;X<F;X++)q[X]=v[X];return q}return[]}function x(v,F){for(let X=1;X<arguments.length;X++){const ue=arguments[X];var q=typeof ue;if(q=q!="object"?q:ue?Array.isArray(ue)?"array":q:"null",q=="array"||q=="object"&&typeof ue.length=="number"){q=v.length||0;const ge=ue.length||0;v.length=q+ge;for(let ke=0;ke<ge;ke++)v[q+ke]=ue[ke]}else v.push(ue)}}class b{constructor(F,q){this.i=F,this.j=q,this.h=0,this.g=null}get(){let F;return this.h>0?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function _(v){a.setTimeout(()=>{throw v},0)}function S(){var v=C;let F=null;return v.g&&(F=v.g,v.g=v.g.next,v.g||(v.h=null),F.next=null),F}class M{constructor(){this.h=this.g=null}add(F,q){const X=O.get();X.set(F,q),this.h?this.h.next=X:this.g=X,this.h=X}}var O=new b(()=>new z,v=>v.reset());class z{constructor(){this.next=this.g=this.h=null}set(F,q){this.h=F,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let I,P=!1,C=new M,N=()=>{const v=Promise.resolve(void 0);I=()=>{v.then(A)}};function A(){for(var v;v=S();){try{v.h.call(v.g)}catch(q){_(q)}var F=O;F.j(v),F.h<100&&(F.h++,v.next=F.g,F.g=v)}P=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(v,F){this.type=v,this.g=this.target=F,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var v=!1,F=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const q=()=>{};a.addEventListener("test",q,F),a.removeEventListener("test",q,F)}catch{}return v})();function B(v){return/^[\s\xa0]*$/.test(v)}function $(v,F){D.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,F)}m($,D),$.prototype.init=function(v,F){const q=this.type=v.type,X=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=F,F=v.relatedTarget,F||(q=="mouseover"?F=v.fromElement:q=="mouseout"&&(F=v.toElement)),this.relatedTarget=F,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),Z=0;function k(v,F,q,X,ue){this.listener=v,this.proxy=null,this.src=F,this.type=q,this.capture=!!X,this.ha=ue,this.key=++Z,this.da=this.fa=!1}function Q(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function H(v,F,q){for(const X in v)F.call(q,v[X],X,v)}function R(v,F){for(const q in v)F.call(void 0,v[q],q,v)}function U(v){const F={};for(const q in v)F[q]=v[q];return F}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(v,F){let q,X;for(let ue=1;ue<arguments.length;ue++){X=arguments[ue];for(q in X)v[q]=X[q];for(let ge=0;ge<K.length;ge++)q=K[ge],Object.prototype.hasOwnProperty.call(X,q)&&(v[q]=X[q])}}function G(v){this.src=v,this.g={},this.h=0}G.prototype.add=function(v,F,q,X,ue){const ge=v.toString();v=this.g[ge],v||(v=this.g[ge]=[],this.h++);const ke=ie(v,F,X,ue);return ke>-1?(F=v[ke],q||(F.fa=!1)):(F=new k(F,this.src,ge,!!X,ue),F.fa=q,v.push(F)),F};function te(v,F){const q=F.type;if(q in v.g){var X=v.g[q],ue=Array.prototype.indexOf.call(X,F,void 0),ge;(ge=ue>=0)&&Array.prototype.splice.call(X,ue,1),ge&&(Q(F),v.g[q].length==0&&(delete v.g[q],v.h--))}}function ie(v,F,q,X){for(let ue=0;ue<v.length;++ue){const ge=v[ue];if(!ge.da&&ge.listener==F&&ge.capture==!!q&&ge.ha==X)return ue}return-1}var ne="closure_lm_"+(Math.random()*1e6|0),xe={};function ae(v,F,q,X,ue){if(Array.isArray(F)){for(let ge=0;ge<F.length;ge++)ae(v,F[ge],q,X,ue);return null}return q=yt(q),v&&v[Y]?v.J(F,q,l(X)?!!X.capture:!1,ue):ve(v,F,q,!1,X,ue)}function ve(v,F,q,X,ue,ge){if(!F)throw Error("Invalid event type");const ke=l(ue)?!!ue.capture:!!ue;let pt=ct(v);if(pt||(v[ne]=pt=new G(v)),q=pt.add(F,q,X,ke,ge),q.proxy)return q;if(X=Te(),q.proxy=X,X.src=v,X.listener=q,v.addEventListener)L||(ue=ke),ue===void 0&&(ue=!1),v.addEventListener(F.toString(),X,ue);else if(v.attachEvent)v.attachEvent(De(F.toString()),X);else if(v.addListener&&v.removeListener)v.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return q}function Te(){function v(q){return F.call(v.src,v.listener,q)}const F=Ze;return v}function me(v,F,q,X,ue){if(Array.isArray(F))for(var ge=0;ge<F.length;ge++)me(v,F[ge],q,X,ue);else X=l(X)?!!X.capture:!!X,q=yt(q),v&&v[Y]?(v=v.i,ge=String(F).toString(),ge in v.g&&(F=v.g[ge],q=ie(F,q,X,ue),q>-1&&(Q(F[q]),Array.prototype.splice.call(F,q,1),F.length==0&&(delete v.g[ge],v.h--)))):v&&(v=ct(v))&&(F=v.g[F.toString()],v=-1,F&&(v=ie(F,q,X,ue)),(q=v>-1?F[v]:null)&&Ie(q))}function Ie(v){if(typeof v!="number"&&v&&!v.da){var F=v.src;if(F&&F[Y])te(F.i,v);else{var q=v.type,X=v.proxy;F.removeEventListener?F.removeEventListener(q,X,v.capture):F.detachEvent?F.detachEvent(De(q),X):F.addListener&&F.removeListener&&F.removeListener(X),(q=ct(F))?(te(q,v),q.h==0&&(q.src=null,F[ne]=null)):Q(v)}}}function De(v){return v in xe?xe[v]:xe[v]="on"+v}function Ze(v,F){if(v.da)v=!0;else{F=new $(F,this);const q=v.listener,X=v.ha||v.src;v.fa&&Ie(v),v=q.call(X,F)}return v}function ct(v){return v=v[ne],v instanceof G?v:null}var Fe="__closure_events_fn_"+(Math.random()*1e9>>>0);function yt(v){return typeof v=="function"?v:(v[Fe]||(v[Fe]=function(F){return v.handleEvent(F)}),v[Fe])}function dt(){j.call(this),this.i=new G(this),this.M=this,this.G=null}m(dt,j),dt.prototype[Y]=!0,dt.prototype.removeEventListener=function(v,F,q,X){me(this,v,F,q,X)};function oe(v,F){var q,X=v.G;if(X)for(q=[];X;X=X.G)q.push(X);if(v=v.M,X=F.type||F,typeof F=="string")F=new D(F,v);else if(F instanceof D)F.target=F.target||v;else{var ue=F;F=new D(X,v),J(F,ue)}ue=!0;let ge,ke;if(q)for(ke=q.length-1;ke>=0;ke--)ge=F.g=q[ke],ue=Ne(ge,X,!0,F)&&ue;if(ge=F.g=v,ue=Ne(ge,X,!0,F)&&ue,ue=Ne(ge,X,!1,F)&&ue,q)for(ke=0;ke<q.length;ke++)ge=F.g=q[ke],ue=Ne(ge,X,!1,F)&&ue}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var v=this.i;for(const F in v.g){const q=v.g[F];for(let X=0;X<q.length;X++)Q(q[X]);delete v.g[F],v.h--}}this.G=null},dt.prototype.J=function(v,F,q,X){return this.i.add(String(v),F,!1,q,X)},dt.prototype.K=function(v,F,q,X){return this.i.add(String(v),F,!0,q,X)};function Ne(v,F,q,X){if(F=v.i.g[String(F)],!F)return!0;F=F.concat();let ue=!0;for(let ge=0;ge<F.length;++ge){const ke=F[ge];if(ke&&!ke.da&&ke.capture==q){const pt=ke.listener,In=ke.ha||ke.src;ke.fa&&te(v.i,ke),ue=pt.call(In,X)!==!1&&ue}}return ue&&!X.defaultPrevented}function Xe(v,F){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=d(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(F)>2147483647?-1:a.setTimeout(v,F||0)}function de(v){v.g=Xe(()=>{v.g=null,v.i&&(v.i=!1,de(v))},v.l);const F=v.h;v.h=null,v.m.apply(null,F)}class Ke extends j{constructor(F,q){super(),this.m=F,this.l=q,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ft(v){j.call(this),this.h=v,this.g={}}m(ft,j);var rt=[];function st(v){H(v.g,function(F,q){this.g.hasOwnProperty(q)&&Ie(F)},v),v.g={}}ft.prototype.N=function(){ft.Z.N.call(this),st(this)},ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dt=a.JSON.stringify,Qt=a.JSON.parse,pr=class{stringify(v){return a.JSON.stringify(v,void 0)}parse(v){return a.JSON.parse(v,void 0)}};function Dn(){}function Ks(){}var $r={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ni(){D.call(this,"d")}m(Ni,D);function Xo(){D.call(this,"c")}m(Xo,D);var Zn={},Yo=null;function Gs(){return Yo=Yo||new dt}Zn.Ia="serverreachability";function Wa(v){D.call(this,Zn.Ia,v)}m(Wa,D);function Hi(v){const F=Gs();oe(F,new Wa(F))}Zn.STAT_EVENT="statevent";function gs(v,F){D.call(this,Zn.STAT_EVENT,v),this.stat=F}m(gs,D);function Jt(v){const F=Gs();oe(F,new gs(F,v))}Zn.Ja="timingevent";function ni(v,F){D.call(this,Zn.Ja,v),this.size=F}m(ni,D);function Xs(v,F){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){v()},F)}function et(){this.g=!0}et.prototype.ua=function(){this.g=!1};function jt(v,F,q,X,ue,ge){v.info(function(){if(v.g)if(ge){var ke="",pt=ge.split("&");for(let Ut=0;Ut<pt.length;Ut++){var In=pt[Ut].split("=");if(In.length>1){const Mn=In[0];In=In[1];const ki=Mn.split("_");ke=ki.length>=2&&ki[1]=="type"?ke+(Mn+"="+In+"&"):ke+(Mn+"=redacted&")}}}else ke=null;else ke=ge;return"XMLHTTP REQ ("+X+") [attempt "+ue+"]: "+F+`
`+q+`
`+ke})}function zt(v,F,q,X,ue,ge,ke){v.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+ue+"]: "+F+`
`+q+`
`+ge+" "+ke})}function En(v,F,q,X){v.info(function(){return"XMLHTTP TEXT ("+F+"): "+Ar(v,q)+(X?" "+X:"")})}function Pr(v,F){v.info(function(){return"TIMEOUT: "+F})}et.prototype.info=function(){};function Ar(v,F){if(!v.g)return F;if(!F)return null;try{const ge=JSON.parse(F);if(ge){for(v=0;v<ge.length;v++)if(Array.isArray(ge[v])){var q=ge[v];if(!(q.length<2)){var X=q[1];if(Array.isArray(X)&&!(X.length<1)){var ue=X[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(let ke=1;ke<X.length;ke++)X[ke]=""}}}}return Dt(ge)}catch{return F}}var Ir={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},On={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Si;function Ka(){}m(Ka,Dn),Ka.prototype.g=function(){return new XMLHttpRequest},Si=new Ka;function Ys(v){return encodeURIComponent(String(v))}function ad(v){var F=1;v=v.split(":");const q=[];for(;F>0&&v.length;)q.push(v.shift()),F--;return v.length&&q.push(v.join(":")),q}function Wi(v,F,q,X){this.j=v,this.i=F,this.l=q,this.S=X||1,this.V=new ft(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $g}function $g(){this.i=null,this.g="",this.h=!1}var qg={},Ih={};function ys(v,F,q){v.M=1,v.A=Xa(Ki(F)),v.u=q,v.R=!0,jh(v,null)}function jh(v,F){v.F=Date.now(),xc(v),v.B=Ki(v.A);var q=v.B,X=v.S;Array.isArray(X)||(X=[String(X)]),zh(q.i,"t",X),v.C=0,q=v.j.L,v.h=new $g,v.g=ey(v.j,q?F:null,!v.u),v.P>0&&(v.O=new Ke(d(v.Y,v,v.g),v.P)),F=v.V,q=v.g,X=v.ba;var ue="readystatechange";Array.isArray(ue)||(ue&&(rt[0]=ue.toString()),ue=rt);for(let ge=0;ge<ue.length;ge++){const ke=ae(q,ue[ge],X||F.handleEvent,!1,F.h||F);if(!ke)break;F.g[ke.key]=ke}F=v.J?U(v.J):{},v.u?(v.v||(v.v="POST"),F["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,F)):(v.v="GET",v.g.ea(v.B,v.v,null,F)),Hi(),jt(v.i,v.v,v.B,v.l,v.S,v.u)}Wi.prototype.ba=function(v){v=v.target;const F=this.O;F&&ra(v)==3?F.j():this.Y(v)},Wi.prototype.Y=function(v){try{if(v==this.g)e:{const pt=ra(this.g),In=this.g.ya(),Ut=this.g.ca();if(!(pt<3)&&(pt!=3||this.g&&(this.h.h||this.g.la()||Jg(this.g)))){this.K||pt!=4||In==7||(In==8||Ut<=0?Hi(3):Hi(2)),od(this);var F=this.g.ca();this.X=F;var q=Hg(this);if(this.o=F==200,zt(this.i,this.v,this.B,this.l,this.S,pt,F),this.o){if(this.U&&!this.L){t:{if(this.g){var X,ue=this.g;if((X=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(X)){var ge=X;break t}}ge=null}if(v=ge)En(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,sn(this,v);else{this.o=!1,this.m=3,Jt(12),Ga(this),bc(this);break e}}if(this.R){v=!0;let Mn;for(;!this.K&&this.C<q.length;)if(Mn=Kg(this,q),Mn==Ih){pt==4&&(this.m=4,Jt(14),v=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(Mn==qg){this.m=4,Jt(15),En(this.i,this.l,q,"[Invalid Chunk]"),v=!1;break}else En(this.i,this.l,Mn,null),sn(this,Mn);if(Wg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||q.length!=0||this.h.h||(this.m=1,Jt(16),v=!1),this.o=this.o&&v,!v)En(this.i,this.l,q,"[Invalid Chunked Response]"),Ga(this),bc(this);else if(q.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),Ac(ke),ke.P=!0,Jt(11))}}else En(this.i,this.l,q,null),sn(this,q);pt==4&&Ga(this),this.o&&!this.K&&(pt==4?yd(this.j,this):(this.o=!1,xc(this)))}else $h(this.g),F==400&&q.indexOf("Unknown SID")>0?(this.m=3,Jt(12)):(this.m=0,Jt(13)),Ga(this),bc(this)}}}catch{}};function Hg(v){if(!Wg(v))return v.g.la();const F=Jg(v.g);if(F==="")return"";let q="";const X=F.length,ue=ra(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Ga(v),bc(v),"";v.h.i=new a.TextDecoder}for(let ge=0;ge<X;ge++)v.h.h=!0,q+=v.h.i.decode(F[ge],{stream:!(ue&&ge==X-1)});return F.length=0,v.h.g+=q,v.C=0,v.h.g}function Wg(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Kg(v,F){var q=v.C,X=F.indexOf(`
`,q);return X==-1?Ih:(q=Number(F.substring(q,X)),isNaN(q)?qg:(X+=1,X+q>F.length?Ih:(F=F.slice(X,X+q),v.C=X+q,F)))}Wi.prototype.cancel=function(){this.K=!0,Ga(this)};function xc(v){v.T=Date.now()+v.H,kh(v,v.H)}function kh(v,F){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Xs(d(v.aa,v),F)}function od(v){v.D&&(a.clearTimeout(v.D),v.D=null)}Wi.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Pr(this.i,this.B),this.M!=2&&(Hi(),Jt(17)),Ga(this),this.m=2,bc(this)):kh(this,this.T-v)};function bc(v){v.j.I==0||v.K||yd(v.j,v)}function Ga(v){od(v);var F=v.O;F&&typeof F.dispose=="function"&&F.dispose(),v.O=null,st(v.V),v.g&&(F=v.g,v.g=null,F.abort(),F.dispose())}function sn(v,F){try{var q=v.j;if(q.I!=0&&(q.g==v||Dh(q.h,v))){if(!v.L&&Dh(q.h,v)&&q.I==3){try{var X=q.Ba.g.parse(F)}catch{X=null}if(Array.isArray(X)&&X.length==3){var ue=X;if(ue[0]==0){e:if(!q.v){if(q.g)if(q.g.F+3e3<v.F)gd(q),Ii(q);else break e;aa(q),Jt(18)}}else q.xa=ue[1],0<q.xa-q.K&&ue[2]<37500&&q.F&&q.A==0&&!q.C&&(q.C=Xs(d(q.Va,q),6e3));wc(q.h)<=1&&q.ta&&(q.ta=void 0)}else ji(q,11)}else if((v.L||q.g==v)&&gd(q),!B(F))for(ue=q.Ba.g.parse(F),F=0;F<ue.length;F++){let Ut=ue[F];const Mn=Ut[0];if(!(Mn<=q.K))if(q.K=Mn,Ut=Ut[1],q.I==2)if(Ut[0]=="c"){q.M=Ut[1],q.ba=Ut[2];const ki=Ut[3];ki!=null&&(q.ka=ki,q.j.info("VER="+q.ka));const eo=Ut[4];eo!=null&&(q.za=eo,q.j.info("SVER="+q.za));const oa=Ut[5];oa!=null&&typeof oa=="number"&&oa>0&&(X=1.5*oa,q.O=X,q.j.info("backChannelRequestTimeoutMs_="+X)),X=q;const la=v.g;if(la){const bd=la.g?la.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bd){var ge=X.h;ge.g||bd.indexOf("spdy")==-1&&bd.indexOf("quic")==-1&&bd.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(cd(ge,ge.h),ge.h=null))}if(X.G){const Wh=la.g?la.g.getResponseHeader("X-HTTP-Session-Id"):null;Wh&&(X.wa=Wh,Ft(X.J,X.G,Wh))}}q.I=3,q.l&&q.l.ra(),q.aa&&(q.T=Date.now()-v.F,q.j.info("Handshake RTT: "+q.T+"ms")),X=q;var ke=v;if(X.na=Hh(X,X.L?X.ba:null,X.W),ke.L){_c(X.h,ke);var pt=ke,In=X.O;In&&(pt.H=In),pt.D&&(od(pt),xc(pt)),X.g=ke}else jr(X);q.i.length>0&&Za(q)}else Ut[0]!="stop"&&Ut[0]!="close"||ji(q,7);else q.I==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?ji(q,7):md(q):Ut[0]!="noop"&&q.l&&q.l.qa(Ut),q.A=0)}}Hi(4)}catch{}}var Nw=class{constructor(v,F){this.g=v,this.map=F}};function ld(v){this.l=v||10,a.PerformanceNavigationTiming?(v=a.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Rh(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function wc(v){return v.h?1:v.g?v.g.size:0}function Dh(v,F){return v.h?v.h==F:v.g?v.g.has(F):!1}function cd(v,F){v.g?v.g.add(F):v.h=F}function _c(v,F){v.h&&v.h==F?v.h=null:v.g&&v.g.has(F)&&v.g.delete(F)}ld.prototype.cancel=function(){if(this.i=Ti(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Ti(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let F=v.i;for(const q of v.g.values())F=F.concat(q.G);return F}return y(v.i)}var Gg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pi(v,F){if(v){v=v.split("&");for(let q=0;q<v.length;q++){const X=v[q].indexOf("=");let ue,ge=null;X>=0?(ue=v[q].substring(0,X),ge=v[q].substring(X+1)):ue=v[q],F(ue,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function Qs(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let F;v instanceof Qs?(this.l=v.l,Ec(this,v.j),this.o=v.o,this.g=v.g,Js(this,v.u),this.h=v.h,Qo(this,Uh(v.i)),this.m=v.m):v&&(F=String(v).match(Gg))?(this.l=!1,Ec(this,F[1]||"",!0),this.o=Cc(F[2]||""),this.g=Cc(F[3]||"",!0),Js(this,F[4]),this.h=Cc(F[5]||"",!0),Qo(this,F[6]||"",!0),this.m=Cc(F[7]||"")):(this.l=!1,this.i=new Tt(null,this.l))}Qs.prototype.toString=function(){const v=[];var F=this.j;F&&v.push(Nc(F,Mh,!0),":");var q=this.g;return(q||F=="file")&&(v.push("//"),(F=this.o)&&v.push(Nc(F,Mh,!0),"@"),v.push(Ys(q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.u,q!=null&&v.push(":",String(q))),(q=this.h)&&(this.g&&q.charAt(0)!="/"&&v.push("/"),v.push(Nc(q,q.charAt(0)=="/"?Sc:Lh,!0))),(q=this.i.toString())&&v.push("?",q),(q=this.m)&&v.push("#",Nc(q,Vh)),v.join("")},Qs.prototype.resolve=function(v){const F=Ki(this);let q=!!v.j;q?Ec(F,v.j):q=!!v.o,q?F.o=v.o:q=!!v.g,q?F.g=v.g:q=v.u!=null;var X=v.h;if(q)Js(F,v.u);else if(q=!!v.h){if(X.charAt(0)!="/")if(this.g&&!this.h)X="/"+X;else{var ue=F.h.lastIndexOf("/");ue!=-1&&(X=F.h.slice(0,ue+1)+X)}if(ue=X,ue==".."||ue==".")X="";else if(ue.indexOf("./")!=-1||ue.indexOf("/.")!=-1){X=ue.lastIndexOf("/",0)==0,ue=ue.split("/");const ge=[];for(let ke=0;ke<ue.length;){const pt=ue[ke++];pt=="."?X&&ke==ue.length&&ge.push(""):pt==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),X&&ke==ue.length&&ge.push("")):(ge.push(pt),X=!0)}X=ge.join("/")}else X=ue}return q?F.h=X:q=v.i.toString()!=="",q?Qo(F,Uh(v.i)):q=!!v.m,q&&(F.m=v.m),F};function Ki(v){return new Qs(v)}function Ec(v,F,q){v.j=q?Cc(F,!0):F,v.j&&(v.j=v.j.replace(/:$/,""))}function Js(v,F){if(F){if(F=Number(F),isNaN(F)||F<0)throw Error("Bad port number "+F);v.u=F}else v.u=null}function Qo(v,F,q){F instanceof Tt?(v.i=F,dd(v.i,v.l)):(q||(F=Nc(F,Sw)),v.i=new Tt(F,v.l))}function Ft(v,F,q){v.i.set(F,q)}function Xa(v){return Ft(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function Cc(v,F){return v?F?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Nc(v,F,q){return typeof v=="string"?(v=encodeURI(v).replace(F,Oh),q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function Oh(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Mh=/[#\/\?@]/g,Lh=/[#\?:]/g,Sc=/[#\?]/g,Sw=/[#\?@]/g,Vh=/#/g;function Tt(v,F){this.h=this.g=null,this.i=v||null,this.j=!!F}function Zs(v){v.g||(v.g=new Map,v.h=0,v.i&&Pi(v.i,function(F,q){v.add(decodeURIComponent(F.replace(/\+/g," ")),q)}))}t=Tt.prototype,t.add=function(v,F){Zs(this),this.i=null,v=ea(this,v);let q=this.g.get(v);return q||this.g.set(v,q=[]),q.push(F),this.h+=1,this};function Fh(v,F){Zs(v),F=ea(v,F),v.g.has(F)&&(v.i=null,v.h-=v.g.get(F).length,v.g.delete(F))}function ud(v,F){return Zs(v),F=ea(v,F),v.g.has(F)}t.forEach=function(v,F){Zs(this),this.g.forEach(function(q,X){q.forEach(function(ue){v.call(F,ue,X,this)},this)},this)};function Bh(v,F){Zs(v);let q=[];if(typeof F=="string")ud(v,F)&&(q=q.concat(v.g.get(ea(v,F))));else for(v=Array.from(v.g.values()),F=0;F<v.length;F++)q=q.concat(v[F]);return q}t.set=function(v,F){return Zs(this),this.i=null,v=ea(this,v),ud(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[F]),this.h+=1,this},t.get=function(v,F){return v?(v=Bh(this,v),v.length>0?String(v[0]):F):F};function zh(v,F,q){Fh(v,F),q.length>0&&(v.i=null,v.g.set(ea(v,F),y(q)),v.h+=q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],F=Array.from(this.g.keys());for(let X=0;X<F.length;X++){var q=F[X];const ue=Ys(q);q=Bh(this,q);for(let ge=0;ge<q.length;ge++){let ke=ue;q[ge]!==""&&(ke+="="+Ys(q[ge])),v.push(ke)}}return this.i=v.join("&")};function Uh(v){const F=new Tt;return F.i=v.i,v.g&&(F.g=new Map(v.g),F.h=v.h),F}function ea(v,F){return F=String(F),v.j&&(F=F.toLowerCase()),F}function dd(v,F){F&&!v.j&&(Zs(v),v.i=null,v.g.forEach(function(q,X){const ue=X.toLowerCase();X!=ue&&(Fh(this,X),zh(this,ue,q))},v)),v.j=F}function ta(v,F){const q=new et;if(a.Image){const X=new Image;X.onload=f(gr,q,"TestLoadImage: loaded",!0,F,X),X.onerror=f(gr,q,"TestLoadImage: error",!1,F,X),X.onabort=f(gr,q,"TestLoadImage: abort",!1,F,X),X.ontimeout=f(gr,q,"TestLoadImage: timeout",!1,F,X),a.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=v}else F(!1)}function na(v,F){const q=new et,X=new AbortController,ue=setTimeout(()=>{X.abort(),gr(q,"TestPingServer: timeout",!1,F)},1e4);fetch(v,{signal:X.signal}).then(ge=>{clearTimeout(ue),ge.ok?gr(q,"TestPingServer: ok",!0,F):gr(q,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(ue),gr(q,"TestPingServer: error",!1,F)})}function gr(v,F,q,X,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),X(q)}catch{}}function Tc(){this.g=new pr}function Ya(v){this.i=v.Sb||null,this.h=v.ab||!1}m(Ya,Dn),Ya.prototype.g=function(){return new Ai(this.i,this.h)};function Ai(v,F){dt.call(this),this.H=v,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Ai,dt),t=Ai.prototype,t.open=function(v,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=F,this.readyState=1,vs(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const F={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(F.body=v),(this.H||a).fetch(new Request(this.D,F)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Jo(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xg(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xg(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var F=v.value?v.value:new Uint8Array(0);(F=this.B.decode(F,{stream:!v.done}))&&(this.response=this.responseText+=F)}v.done?Jo(this):vs(this),this.readyState==3&&Xg(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,Jo(this))},t.Na=function(v){this.g&&(this.response=v,Jo(this))},t.ga=function(){this.g&&Jo(this)};function Jo(v){v.readyState=4,v.l=null,v.j=null,v.B=null,vs(v)}t.setRequestHeader=function(v,F){this.A.append(v,F)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],F=this.h.entries();for(var q=F.next();!q.done;)q=q.value,v.push(q[0]+": "+q[1]),q=F.next();return v.join(`\r
`)};function vs(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Yg(v){let F="";return H(v,function(q,X){F+=X,F+=":",F+=q,F+=`\r
`}),F}function fd(v,F,q){e:{for(X in q){var X=!1;break e}X=!0}X||(q=Yg(q),typeof v=="string"?q!=null&&Ys(q):Ft(v,F,q))}function Gt(v){dt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Gt,dt);var Qg=/^https?$/i,Tw=["POST","PUT"];t=Gt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,F,q,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);F=F?F.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Si.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(F,String(v),!0),this.B=!1}catch(ge){Zo(this,ge);return}if(v=q||"",q=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var ue in X)q.set(ue,X[ue]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const ge of X.keys())q.set(ge,X.get(ge));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(q.keys()).find(ge=>ge.toLowerCase()=="content-type"),ue=a.FormData&&v instanceof a.FormData,!(Array.prototype.indexOf.call(Tw,F,void 0)>=0)||X||ue||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,ke]of q)this.g.setRequestHeader(ge,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ge){Zo(this,ge)}};function Zo(v,F){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=F,v.o=5,el(v),Ja(v)}function el(v){v.A||(v.A=!0,oe(v,"complete"),oe(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,oe(this,"complete"),oe(this,"abort"),Ja(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ja(this,!0)),Gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qa(this):this.Xa())},t.Xa=function(){Qa(this)};function Qa(v){if(v.h&&typeof s<"u"){if(v.v&&ra(v)==4)setTimeout(v.Ca.bind(v),0);else if(oe(v,"readystatechange"),ra(v)==4){v.h=!1;try{const ge=v.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var q;if(!(q=F)){var X;if(X=ge===0){let ke=String(v.D).match(Gg)[1]||null;!ke&&a.self&&a.self.location&&(ke=a.self.location.protocol.slice(0,-1)),X=!Qg.test(ke?ke.toLowerCase():"")}q=X}if(q)oe(v,"complete"),oe(v,"success");else{v.o=6;try{var ue=ra(v)>2?v.g.statusText:""}catch{ue=""}v.l=ue+" ["+v.ca()+"]",el(v)}}finally{Ja(v)}}}}function Ja(v,F){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const q=v.g;v.g=null,F||oe(v,"ready");try{q.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ra(v){return v.g?v.g.readyState:0}t.ca=function(){try{return ra(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var F=this.g.responseText;return v&&F.indexOf(v)==0&&(F=F.substring(v.length)),Qt(F)}};function Jg(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function $h(v){const F={};v=(v.g&&ra(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<v.length;X++){if(B(v[X]))continue;var q=ad(v[X]);const ue=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const ge=F[ue]||[];F[ue]=ge,ge.push(q)}R(F,function(X){return X.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(v,F,q){return q&&q.internalChannelParams&&q.internalChannelParams[v]||F}function hd(v){this.za=0,this.i=[],this.j=new et,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ia("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ia("baseRetryDelayMs",5e3,v),this.Za=ia("retryDelaySeedMs",1e4,v),this.Ta=ia("forwardChannelMaxRetries",2,v),this.va=ia("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new ld(v&&v.concurrentRequestLimit),this.Ba=new Tc,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=hd.prototype,t.ka=8,t.I=1,t.connect=function(v,F,q,X){Jt(0),this.W=v,this.H=F||{},q&&X!==void 0&&(this.H.OSID=q,this.H.OAID=X),this.F=this.X,this.J=Hh(this,null,this.W),Za(this)};function md(v){if(pd(v),v.I==3){var F=v.V++,q=Ki(v.J);if(Ft(q,"SID",v.M),Ft(q,"RID",F),Ft(q,"TYPE","terminate"),sa(v,q),F=new Wi(v,v.j,F),F.M=2,F.A=Xa(Ki(q)),q=!1,a.navigator&&a.navigator.sendBeacon)try{q=a.navigator.sendBeacon(F.A.toString(),"")}catch{}!q&&a.Image&&(new Image().src=F.A,q=!0),q||(F.g=ey(F.j,null),F.g.ea(F.A)),F.F=Date.now(),xc(F)}Ic(v)}function Ii(v){v.g&&(Ac(v),v.g.cancel(),v.g=null)}function pd(v){Ii(v),v.v&&(a.clearTimeout(v.v),v.v=null),gd(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&a.clearTimeout(v.m),v.m=null)}function Za(v){if(!Rh(v.h)&&!v.m){v.m=!0;var F=v.Ea;I||N(),P||(I(),P=!0),C.add(F,v),v.D=0}}function Zg(v,F){return wc(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=F.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Xs(d(v.Ea,v,F),vd(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const ue=new Wi(this,this.j,v);let ge=this.o;if(this.U&&(ge?(ge=U(ge),J(ge,this.U)):ge=this.U),this.u!==null||this.R||(ue.J=ge,ge=null),this.S)e:{for(var F=0,q=0;q<this.i.length;q++){t:{var X=this.i[q];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(F+=X,F>4096){F=q;break e}if(F===4096||q===this.i.length-1){F=q+1;break e}}F=1e3}else F=1e3;F=qh(this,ue,F),q=Ki(this.J),Ft(q,"RID",v),Ft(q,"CVER",22),this.G&&Ft(q,"X-HTTP-Session-Id",this.G),sa(this,q),ge&&(this.R?F="headers="+Ys(Yg(ge))+"&"+F:this.u&&fd(q,this.u,ge)),cd(this.h,ue),this.Ra&&Ft(q,"TYPE","init"),this.S?(Ft(q,"$req",F),Ft(q,"SID","null"),ue.U=!0,ys(ue,q,null)):ys(ue,q,F),this.I=2}}else this.I==3&&(v?Pc(this,v):this.i.length==0||Rh(this.h)||Pc(this))};function Pc(v,F){var q;F?q=F.l:q=v.V++;const X=Ki(v.J);Ft(X,"SID",v.M),Ft(X,"RID",q),Ft(X,"AID",v.K),sa(v,X),v.u&&v.o&&fd(X,v.u,v.o),q=new Wi(v,v.j,q,v.D+1),v.u===null&&(q.J=v.o),F&&(v.i=F.G.concat(v.i)),F=qh(v,q,1e3),q.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),cd(v.h,q),ys(q,X,F)}function sa(v,F){v.H&&H(v.H,function(q,X){Ft(F,X,q)}),v.l&&H({},function(q,X){Ft(F,X,q)})}function qh(v,F,q){q=Math.min(v.i.length,q);const X=v.l?d(v.l.Ka,v.l,v):null;e:{var ue=v.i;let pt=-1;for(;;){const In=["count="+q];pt==-1?q>0?(pt=ue[0].g,In.push("ofs="+pt)):pt=0:In.push("ofs="+pt);let Ut=!0;for(let Mn=0;Mn<q;Mn++){var ge=ue[Mn].g;const ki=ue[Mn].map;if(ge-=pt,ge<0)pt=Math.max(0,ue[Mn].g-100),Ut=!1;else try{ge="req"+ge+"_"||"";try{var ke=ki instanceof Map?ki:Object.entries(ki);for(const[eo,oa]of ke){let la=oa;l(oa)&&(la=Dt(oa)),In.push(ge+eo+"="+encodeURIComponent(la))}}catch(eo){throw In.push(ge+"type="+encodeURIComponent("_badmap")),eo}}catch{X&&X(ki)}}if(Ut){ke=In.join("&");break e}}ke=void 0}return v=v.i.splice(0,q),F.G=v,ke}function jr(v){if(!v.g&&!v.v){v.Y=1;var F=v.Da;I||N(),P||(I(),P=!0),C.add(F,v),v.A=0}}function aa(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Xs(d(v.Da,v),vd(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,tl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Xs(d(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Jt(10),Ii(this),tl(this))};function Ac(v){v.B!=null&&(a.clearTimeout(v.B),v.B=null)}function tl(v){v.g=new Wi(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var F=Ki(v.na);Ft(F,"RID","rpc"),Ft(F,"SID",v.M),Ft(F,"AID",v.K),Ft(F,"CI",v.F?"0":"1"),!v.F&&v.ia&&Ft(F,"TO",v.ia),Ft(F,"TYPE","xmlhttp"),sa(v,F),v.u&&v.o&&fd(F,v.u,v.o),v.O&&(v.g.H=v.O);var q=v.g;v=v.ba,q.M=1,q.A=Xa(Ki(F)),q.u=null,q.R=!0,jh(q,v)}t.Va=function(){this.C!=null&&(this.C=null,Ii(this),aa(this),Jt(19))};function gd(v){v.C!=null&&(a.clearTimeout(v.C),v.C=null)}function yd(v,F){var q=null;if(v.g==F){gd(v),Ac(v),v.g=null;var X=2}else if(Dh(v.h,F))q=F.G,_c(v.h,F),X=1;else return;if(v.I!=0){if(F.o)if(X==1){q=F.u?F.u.length:0,F=Date.now()-F.F;var ue=v.D;X=Gs(),oe(X,new ni(X,q)),Za(v)}else jr(v);else if(ue=F.m,ue==3||ue==0&&F.X>0||!(X==1&&Zg(v,F)||X==2&&aa(v)))switch(q&&q.length>0&&(F=v.h,F.i=F.i.concat(q)),ue){case 1:ji(v,5);break;case 4:ji(v,10);break;case 3:ji(v,6);break;default:ji(v,2)}}}function vd(v,F){let q=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(q*=2),q*F}function ji(v,F){if(v.j.info("Error code "+F),F==2){var q=d(v.bb,v),X=v.Ua;const ue=!X;X=new Qs(X||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ec(X,"https"),Xa(X),ue?ta(X.toString(),q):na(X.toString(),q)}else Jt(2);v.I=0,v.l&&v.l.pa(F),Ic(v),pd(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function Ic(v){if(v.I=0,v.ja=[],v.l){const F=Ti(v.h);(F.length!=0||v.i.length!=0)&&(x(v.ja,F),x(v.ja,v.i),v.h.i.length=0,y(v.i),v.i.length=0),v.l.oa()}}function Hh(v,F,q){var X=q instanceof Qs?Ki(q):new Qs(q);if(X.g!="")F&&(X.g=F+"."+X.g),Js(X,X.u);else{var ue=a.location;X=ue.protocol,F=F?F+"."+ue.hostname:ue.hostname,ue=+ue.port;const ge=new Qs(null);X&&Ec(ge,X),F&&(ge.g=F),ue&&Js(ge,ue),q&&(ge.h=q),X=ge}return q=v.G,F=v.wa,q&&F&&Ft(X,q,F),Ft(X,"VER",v.ka),sa(v,X),X}function ey(v,F,q){if(F&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return F=v.Aa&&!v.ma?new Gt(new Ya({ab:q})):new Gt(v.ma),F.Fa(v.L),F}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ty(){}t=ty.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function xd(){}xd.prototype.g=function(v,F){return new yr(v,F)};function yr(v,F){dt.call(this),this.g=new hd(F),this.l=v,this.h=F&&F.messageUrlParams||null,v=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(v?v["X-WebChannel-Content-Type"]=F.messageContentType:v={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.sa&&(v?v["X-WebChannel-Client-Profile"]=F.sa:v={"X-WebChannel-Client-Profile":F.sa}),this.g.U=v,(v=F&&F.Qb)&&!B(v)&&(this.g.u=v),this.A=F&&F.supportsCrossDomainXhr||!1,this.v=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!B(F)&&(this.g.G=F,v=this.h,v!==null&&F in v&&(v=this.h,F in v&&delete v[F])),this.j=new nl(this)}m(yr,dt),yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yr.prototype.close=function(){md(this.g)},yr.prototype.o=function(v){var F=this.g;if(typeof v=="string"){var q={};q.__data__=v,v=q}else this.v&&(q={},q.__data__=Dt(v),v=q);F.i.push(new Nw(F.Ya++,v)),F.I==3&&Za(F)},yr.prototype.N=function(){this.g.l=null,delete this.j,md(this.g),delete this.g,yr.Z.N.call(this)};function ny(v){Ni.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var F=v.__sm__;if(F){e:{for(const q in F){v=q;break e}v=void 0}(this.i=v)&&(v=this.i,F=F!==null&&v in F?F[v]:void 0),this.data=F}else this.data=v}m(ny,Ni);function ry(){Xo.call(this),this.status=1}m(ry,Xo);function nl(v){this.g=v}m(nl,ty),nl.prototype.ra=function(){oe(this.g,"a")},nl.prototype.qa=function(v){oe(this.g,new ny(v))},nl.prototype.pa=function(v){oe(this.g,new ry)},nl.prototype.oa=function(){oe(this.g,"b")},xd.prototype.createWebChannel=xd.prototype.g,yr.prototype.send=yr.prototype.o,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,CF=function(){return new xd},EF=function(){return Gs()},_F=Zn,cN={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,Lv=Ir,On.COMPLETE="complete",wF=On,Ks.EventType=$r,$r.OPEN="a",$r.CLOSE="b",$r.ERROR="c",$r.MESSAGE="d",dt.prototype.listen=dt.prototype.J,zm=Ks,Gt.prototype.listenOnce=Gt.prototype.K,Gt.prototype.getLastError=Gt.prototype.Ha,Gt.prototype.getLastErrorCode=Gt.prototype.ya,Gt.prototype.getStatus=Gt.prototype.ca,Gt.prototype.getResponseJson=Gt.prototype.La,Gt.prototype.getResponseText=Gt.prototype.la,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Fa,bF=Gt}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});class ar{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ar.UNAUTHENTICATED=new ar(null),ar.GOOGLE_CREDENTIALS=new ar("google-credentials-uid"),ar.FIRST_PARTY=new ar("first-party-uid"),ar.MOCK_USER=new ar("mock-user");let ah="12.9.0";function eY(t){ah=t}const Yl=new yT("@firebase/firestore");function ef(){return Yl.logLevel}function tY(t){Yl.setLogLevel(t)}function we(t,...e){if(Yl.logLevel<=Nt.DEBUG){const n=e.map(bT);Yl.debug(`Firestore (${ah}): ${t}`,...n)}}function kn(t,...e){if(Yl.logLevel<=Nt.ERROR){const n=e.map(bT);Yl.error(`Firestore (${ah}): ${t}`,...n)}}function vi(t,...e){if(Yl.logLevel<=Nt.WARN){const n=e.map(bT);Yl.warn(`Firestore (${ah}): ${t}`,...n)}}function bT(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,NF(t,r,n)}function NF(t,e,n){let r=`FIRESTORE (${ah}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw kn(r),new Error(r)}function He(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||NF(e,i,r)}function nY(t,e){t||Le(57014,e)}function Re(t,e){return t}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends $a{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class SF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(ar.UNAUTHENTICATED)))}shutdown(){}}class rY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iY{constructor(e){this.t=e,this.currentUser=ar.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ur,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ur)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new SF(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new ar(e)}}class sY{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ar.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class aY{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new sY(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(ar.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oY{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const r=s=>{s.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,we("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uN(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class lY{getToken(){return Promise.resolve(new uN(""))}invalidateToken(){}start(e,n){}shutdown(){}}function cY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Gx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=cY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function at(t,e){return t<e?-1:t>e?1:0}function dN(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return s_(i)===s_(s)?at(i,s):s_(i)?1:-1}return at(t.length,e.length)}const uY=55296,dY=57343;function s_(t){const e=t.charCodeAt(0);return e>=uY&&e<=dY}function Pf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function PF(t){return t+"\0"}const fN="__name__";class xa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=xa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return at(e.length,n.length)}static compareSegments(e,n){const r=xa.isNumericId(e),i=xa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?xa.extractNumericId(e).compare(xa.extractNumericId(n)):dN(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ql.fromString(e.substring(4,e.length-2))}}class bt extends xa{construct(e,n,r){return new bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new be(fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new bt(n)}static emptyPath(){return new bt([])}}const fY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends xa{construct(e,n,r){return new un(e,n,r)}static isValidIdentifier(e){return fY.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fN}static keyField(){return new un([fN])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new be(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new be(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new be(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new be(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(bt.fromString(e))}static fromName(e){return new je(bt.fromString(e).popFirst(5))}static empty(){return new je(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new bt(e.slice()))}}function wT(t,e,n){if(!n)throw new be(fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AF(t,e,n,r){if(e===!0&&r===!0)throw new be(fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Dk(t){if(!je.isDocumentKey(t))throw new be(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ok(t){if(je.isDocumentKey(t))throw new be(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function IF(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Xx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function wt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xx(t);throw new be(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function jF(t,e){if(e<=0)throw new be(fe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function zn(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ku(t,e){if(!IF(t))throw new be(fe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new be(fe.INVALID_ARGUMENT,n);return!0}const Mk=-62135596800,Lk=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Lk);return new vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new be(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new be(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mk)throw new be(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lk}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ku(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:zn("string",vt._jsonSchemaVersion),seconds:zn("number"),nanoseconds:zn("number")};class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new vt(0,0))}static max(){return new Qe(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Af=-1;class If{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function hN(t){return t.fields.find((e=>e.kind===2))}function Gc(t){return t.fields.filter((e=>e.kind!==2))}function hY(t,e){let n=at(t.collectionGroup,e.collectionGroup);if(n!==0)return n;for(let r=0;r<Math.min(t.fields.length,e.fields.length);++r)if(n=mY(t.fields[r],e.fields[r]),n!==0)return n;return at(t.fields.length,e.fields.length)}If.UNKNOWN_ID=-1;class hu{constructor(e,n){this.fieldPath=e,this.kind=n}}function mY(t,e){const n=un.comparator(t.fieldPath,e.fieldPath);return n!==0?n:at(t.kind,e.kind)}class jf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new jf(0,$i.min())}}function kF(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new $i(i,je.empty(),e)}function RF(t){return new $i(t.readTime,t.key,Af)}class $i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $i(Qe.min(),je.empty(),Af)}static max(){return new $i(Qe.max(),je.empty(),Af)}}function _T(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:at(t.largestBatchId,e.largestBatchId))}const DF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function cc(t){if(t.code!==fe.FAILED_PRECONDITION||t.message!==DF)throw t;we("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let i=0,s=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++s,a&&s===i&&n()}),(c=>r(c)))})),a=!0,s===i&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((i=>i?le.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next((f=>{a[d]=f,++l,l===s&&r(a)}),(f=>i(f)))}}))}static doWhile(e,n){return new le(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}const Mi="SimpleDb";class Yx{static open(e,n,r,i){try{return new Yx(n,e.transaction(i,r))}catch(s){throw new Qm(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new ur,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new Qm(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=ET(r.target.error);this.S.reject(new Qm(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(we(Mi,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new gY(n)}}class ka{static delete(e){return we(Mi,"Removing database:",e),eu(iF().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!hF())return!1;if(ka.F())return!0;const e=Gn(),n=ka.M(e),r=0<n&&n<10,i=MF(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,ka.M(Gn())===12.2&&kn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(we(Mi,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new Qm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new be(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new be(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new Qm(e,a))},i.onupgradeneeded=s=>{we(Mi,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{we(Mi,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const l=Yx.open(this.db,e,s?"readonly":"readwrite",r),c=i(l).next((d=>(l.C(),d))).catch((d=>(l.abort(d),le.reject(d)))).toPromise();return c.catch((()=>{})),await l.D,c}catch(l){const c=l,d=c.name!=="FirebaseError"&&a<3;if(we(Mi,"Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function MF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class pY{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return eu(this.U.delete())}}class Qm extends be{constructor(e,n){super(fe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function uc(t){return t.name==="IndexedDbTransactionError"}class gY{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(we(Mi,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(we(Mi,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),eu(r)}add(e){return we(Mi,"ADD",this.store.name,e,e),eu(this.store.add(e))}get(e){return eu(this.store.get(e)).next((n=>(n===void 0&&(n=null),we(Mi,"GET",this.store.name,e,n),n)))}delete(e){return we(Mi,"DELETE",this.store.name,e),eu(this.store.delete(e))}count(){return we(Mi,"COUNT",this.store.name),eu(this.store.count())}H(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new le(((a,l)=>{s.onerror=c=>{l(c.target.error)},s.onsuccess=c=>{a(c.target.result)}}))}{const s=this.cursor(r),a=[];return this.J(s,((l,c)=>{a.push(c)})).next((()=>a))}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new le(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}X(e,n){we(Mi,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.J(i,((s,a,l)=>l.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}te(e){const n=this.cursor({});return new le(((r,i)=>{n.onerror=s=>{const a=ET(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((l=>{l?a.continue():r()})):r()}}))}J(e,n){const r=[];return new le(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void i();const c=new pY(l),d=n(l.primaryKey,l.value,c);if(d instanceof le){const f=d.catch((m=>(c.done(),le.reject(m))));r.push(f)}c.isDone?i():c.G===null?l.continue():l.continue(c.G)}})).next((()=>le.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function eu(t){return new le(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=ET(r.target.error);n(i)}}))}let Vk=!1;function ET(t){const e=ka.M(Gn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vk||(Vk=!0,setTimeout((()=>{throw r}),0)),r}}return t}const Jm="IndexBackfiller";class yY{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){we(Jm,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();we(Jm,`Documents written: ${n}`)}catch(n){uc(n)?we(Jm,"Ignoring IndexedDB error during index backfill: ",n):await cc(n)}await this.re(6e4)}))}}class vY{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return le.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return we(Jm,`Processing collection: ${a}`),this.oe(e,a,i).next((l=>{i-=l,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((l=>(we(Jm,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=RF(s);_T(a,r)>0&&(r=a)})),new $i(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class fi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}fi.ce=-1;const Hl=-1;function tg(t){return t==null}function yp(t){return t===0&&1/t==-1/0}function LF(t){return typeof t=="number"&&Number.isInteger(t)&&!yp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const p0="";function Br(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Fk(e)),e=xY(t.get(n),e);return Fk(e)}function xY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case p0:n+="";break;default:n+=s}}return n}function Fk(t){return t+p0+""}function Sa(t){const e=t.length;if(He(e>=2,64408,{path:t}),e===2)return He(t.charAt(0)===p0&&t.charAt(1)==="",56145,{path:t}),bt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(p0,s);switch((a<0||a>n)&&Le(50515,{path:t}),t.charAt(a+1)){case"":const l=t.substring(s,a);let c;i.length===0?c=l:(i+=l,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Le(61167,{path:t})}s=a+2}return new bt(r)}const Xc="remoteDocuments",ng="owner",zd="owner",vp="mutationQueues",bY="userId",As="mutations",Bk="batchId",su="userMutationsIndex",zk=["userId","batchId"];function Vv(t,e){return[t,Br(e)]}function VF(t,e,n){return[t,Br(e),n]}const wY={},kf="documentMutations",g0="remoteDocumentsV14",_Y=["prefixPath","collectionGroup","readTime","documentId"],Fv="documentKeyIndex",EY=["prefixPath","collectionGroup","documentId"],FF="collectionGroupIndex",CY=["collectionGroup","readTime","prefixPath","documentId"],xp="remoteDocumentGlobal",mN="remoteDocumentGlobalKey",Rf="targets",BF="queryTargetsIndex",NY=["canonicalId","targetId"],Df="targetDocuments",SY=["targetId","path"],CT="documentTargetsIndex",TY=["path","targetId"],y0="targetGlobalKey",mu="targetGlobal",bp="collectionParents",PY=["collectionId","parent"],Of="clientMetadata",AY="clientId",Qx="bundles",IY="bundleId",Jx="namedQueries",jY="name",NT="indexConfiguration",kY="indexId",pN="collectionGroupIndex",RY="collectionGroup",Zm="indexState",DY=["indexId","uid"],zF="sequenceNumberIndex",OY=["uid","sequenceNumber"],ep="indexEntries",MY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],UF="documentKeyIndex",LY=["indexId","uid","orderedDocumentKey"],Zx="documentOverlays",VY=["userId","collectionPath","documentId"],gN="collectionPathOverlayIndex",FY=["userId","collectionPath","largestBatchId"],$F="collectionGroupOverlayIndex",BY=["userId","collectionGroup","largestBatchId"],ST="globals",zY="name",qF=[vp,As,kf,Xc,Rf,ng,mu,Df,Of,xp,bp,Qx,Jx],UY=[...qF,Zx],HF=[vp,As,kf,g0,Rf,ng,mu,Df,Of,xp,bp,Qx,Jx,Zx],WF=HF,TT=[...WF,NT,Zm,ep],$Y=TT,KF=[...TT,ST],qY=KF;class yN extends OF{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Yn(t,e){const n=Re(t);return ka.O(n.le,e)}function Uk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function dc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GF(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function XF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class nn{constructor(e,n){this.comparator=e,this.root=n||Er.EMPTY}insert(e,n){return new nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Er.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zy(this.root,e,this.comparator,!0)}}class Zy{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Er{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Er.RED,this.left=i??Er.EMPTY,this.right=s??Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Er(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Er.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1;Er.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Er(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $k(this.data.getIterator())}getIteratorFrom(e){return new $k(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class $k{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ud(t){return t.hasNext()?t.getNext():void 0}class hi{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new hi([])}unionWith(e){let n=new Wt(un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class YF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function HY(){return typeof atob<"u"}class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new YF("Invalid base64 string: "+s):s}})(e);return new _n(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const WY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(t){if(He(!!t,39018),typeof t=="string"){let e=0;const n=WY.exec(t);if(He(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hn(t.seconds),nanos:hn(t.nanos)}}function hn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function No(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}const QF="server_timestamp",JF="__type__",ZF="__previous_value__",e6="__local_write_time__";function eb(t){return(t?.mapValue?.fields||{})[JF]?.stringValue===QF}function tb(t){const e=t.mapValue.fields[ZF];return eb(e)?tb(e):e}function wp(t){const e=Co(t.mapValue.fields[e6].timestampValue);return new vt(e.seconds,e.nanos)}class KY{constructor(e,n,r,i,s,a,l,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f,this.apiKey=m}}const _p="(default)";class Ql{constructor(e,n){this.projectId=e,this.database=n||_p}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===_p}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}function GY(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new be(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(t.options.projectId,e)}const PT="__type__",t6="__max__",Ll={mapValue:{fields:{__type__:{stringValue:t6}}}},AT="__vector__",Mf="value",Bv={nullValue:"NULL_VALUE"};function Jl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?eb(t)?4:n6(t)?9007199254740991:nb(t)?10:11:Le(28295,{value:t})}function La(t,e){if(t===e)return!0;const n=Jl(t);if(n!==Jl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wp(t).isEqual(wp(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Co(i.timestampValue),l=Co(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return No(i.bytesValue).isEqual(No(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return hn(i.geoPointValue.latitude)===hn(s.geoPointValue.latitude)&&hn(i.geoPointValue.longitude)===hn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return hn(i.integerValue)===hn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=hn(i.doubleValue),l=hn(s.doubleValue);return a===l?yp(a)===yp(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return Pf(t.arrayValue.values||[],e.arrayValue.values||[],La);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Uk(a)!==Uk(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!La(a[c],l[c])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function Ep(t,e){return(t.values||[]).find((n=>La(n,e)))!==void 0}function Zl(t,e){if(t===e)return 0;const n=Jl(t),r=Jl(e);if(n!==r)return at(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return at(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const l=hn(s.integerValue||s.doubleValue),c=hn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return qk(t.timestampValue,e.timestampValue);case 4:return qk(wp(t),wp(e));case 5:return dN(t.stringValue,e.stringValue);case 6:return(function(s,a){const l=No(s),c=No(a);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const l=s.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=at(l[d],c[d]);if(f!==0)return f}return at(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const l=at(hn(s.latitude),hn(a.latitude));return l!==0?l:at(hn(s.longitude),hn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return Hk(t.arrayValue,e.arrayValue);case 10:return(function(s,a){const l=s.fields||{},c=a.fields||{},d=l[Mf]?.arrayValue,f=c[Mf]?.arrayValue,m=at(d?.values?.length||0,f?.values?.length||0);return m!==0?m:Hk(d,f)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Ll.mapValue&&a===Ll.mapValue)return 0;if(s===Ll.mapValue)return 1;if(a===Ll.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),d=a.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const p=dN(c[m],f[m]);if(p!==0)return p;const y=Zl(l[c[m]],d[f[m]]);if(y!==0)return y}return at(c.length,f.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function qk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return at(t,e);const n=Co(t),r=Co(e),i=at(n.seconds,r.seconds);return i!==0?i:at(n.nanos,r.nanos)}function Hk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Zl(n[i],r[i]);if(s)return s}return at(n.length,r.length)}function Lf(t){return vN(t)}function vN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Co(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return No(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=vN(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${vN(n.fields[a])}`;return i+"}"})(t.mapValue):Le(61005,{value:t})}function zv(t){switch(Jl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tb(t);return e?16+zv(e):16;case 5:return 2*t.stringValue.length;case 6:return No(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+zv(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return dc(r.fields,((s,a)=>{i+=s.length+zv(a)})),i})(t.mapValue);default:throw Le(13486,{value:t})}}function Su(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xN(t){return!!t&&"integerValue"in t}function Cp(t){return!!t&&"arrayValue"in t}function Wk(t){return!!t&&"nullValue"in t}function Kk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uv(t){return!!t&&"mapValue"in t}function nb(t){return(t?.mapValue?.fields||{})[PT]?.stringValue===AT}function tp(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return dc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=tp(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tp(t.arrayValue.values[n]);return e}return{...t}}function n6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===t6}const r6={mapValue:{fields:{[PT]:{stringValue:AT},[Mf]:{arrayValue:{}}}}};function XY(t){return"nullValue"in t?Bv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Su(Ql.empty(),je.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?nb(t)?r6:{mapValue:{}}:Le(35942,{value:t})}function YY(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Su(Ql.empty(),je.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?r6:"mapValue"in t?nb(t)?{mapValue:{}}:Ll:Le(61959,{value:t})}function Gk(t,e){const n=Zl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function Xk(t,e){const n=Zl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tp(n)}setAll(e){let n=un.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=tp(a):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Uv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return La(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){dc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new lr(tp(this.value))}}function i6(t){const e=[];return dc(t.fields,((n,r)=>{const i=new un([n]);if(Uv(r)){const s=i6(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new hi(e)}class cn{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new cn(e,0,Qe.min(),Qe.min(),Qe.min(),lr.empty(),0)}static newFoundDocument(e,n,r,i){return new cn(e,1,n,Qe.min(),r,i,0)}static newNoDocument(e,n){return new cn(e,2,n,Qe.min(),Qe.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Qe.min(),Qe.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ec{constructor(e,n){this.position=e,this.inclusive=n}}function Yk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=je.comparator(je.fromName(a.referenceValue),n.key):r=Zl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Qk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!La(t.position[n],e.position[n]))return!1;return!0}class Np{constructor(e,n="asc"){this.field=e,this.dir=n}}function QY(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class s6{}class St extends s6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new JY(e,n,r):n==="array-contains"?new tQ(e,r):n==="in"?new d6(e,r):n==="not-in"?new nQ(e,r):n==="array-contains-any"?new rQ(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new ZY(e,r):new eQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Zl(n,this.value)):n!==null&&Jl(this.value)===Jl(n)&&this.matchesComparison(Zl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qt extends s6{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qt(e,n)}matches(e){return Vf(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Vf(t){return t.op==="and"}function bN(t){return t.op==="or"}function IT(t){return a6(t)&&Vf(t)}function a6(t){for(const e of t.filters)if(e instanceof qt)return!1;return!0}function wN(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+Lf(t.value);if(IT(t))return t.filters.map((e=>wN(e))).join(",");{const e=t.filters.map((n=>wN(n))).join(",");return`${t.op}(${e})`}}function o6(t,e){return t instanceof St?(function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&La(r.value,i.value)})(t,e):t instanceof qt?(function(r,i){return i instanceof qt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,l)=>s&&o6(a,i.filters[l])),!0):!1})(t,e):void Le(19439)}function l6(t,e){const n=t.filters.concat(e);return qt.create(n,t.op)}function c6(t){return t instanceof St?(function(n){return`${n.field.canonicalString()} ${n.op} ${Lf(n.value)}`})(t):t instanceof qt?(function(n){return n.op.toString()+" {"+n.getFilters().map(c6).join(" ,")+"}"})(t):"Filter"}class JY extends St{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class ZY extends St{constructor(e,n){super(e,"in",n),this.keys=u6("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class eQ extends St{constructor(e,n){super(e,"not-in",n),this.keys=u6("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function u6(t,e){return(e.arrayValue?.values||[]).map((n=>je.fromName(n.referenceValue)))}class tQ extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cp(n)&&Ep(n.arrayValue,this.value)}}class d6 extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ep(this.value.arrayValue,n)}}class nQ extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ep(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ep(this.value.arrayValue,n)}}class rQ extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ep(this.value.arrayValue,r)))}}class iQ{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function _N(t,e=null,n=[],r=[],i=null,s=null,a=null){return new iQ(t,e,n,r,i,s,a)}function Tu(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>wN(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),tg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Lf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Lf(r))).join(",")),e.Te=n}return e.Te}function rg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QY(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!o6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Qk(t.startAt,e.startAt)&&Qk(t.endAt,e.endAt)}function v0(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function x0(t,e){return t.filters.filter((n=>n instanceof St&&n.field.isEqual(e)))}function Jk(t,e,n){let r=Bv,i=!0;for(const s of x0(t,e)){let a=Bv,l=!0;switch(s.op){case"<":case"<=":a=XY(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,l=!1;break;case"!=":case"not-in":a=Bv}Gk({value:r,inclusive:i},{value:a,inclusive:l})<0&&(r=a,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];Gk({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function Zk(t,e,n){let r=Ll,i=!0;for(const s of x0(t,e)){let a=Ll,l=!0;switch(s.op){case">=":case">":a=YY(s.value),l=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,l=!1;break;case"!=":case"not-in":a=Ll}Xk({value:r,inclusive:i},{value:a,inclusive:l})>0&&(r=a,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];Xk({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}class Oo{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function f6(t,e,n,r,i,s,a,l){return new Oo(t,e,n,r,i,s,a,l)}function oh(t){return new Oo(t)}function eR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sQ(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function jT(t){return t.collectionGroup!==null}function yf(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Wt(un.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Np(s,r))})),n.has(un.keyField().canonicalString())||e.Ie.push(new Np(un.keyField(),r))}return e.Ie}function zr(t){const e=Re(t);return e.Ee||(e.Ee=m6(e,yf(t))),e.Ee}function h6(t){const e=Re(t);return e.Re||(e.Re=m6(e,t.explicitOrderBy)),e.Re}function m6(t,e){if(t.limitType==="F")return _N(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Np(i.field,s)}));const n=t.endAt?new ec(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ec(t.startAt.position,t.startAt.inclusive):null;return _N(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function EN(t,e){const n=t.filters.concat([e]);return new Oo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function aQ(t,e){const n=t.explicitOrderBy.concat([e]);return new Oo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function b0(t,e,n){return new Oo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function oQ(t,e){return new Oo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function lQ(t,e){return new Oo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}function ig(t,e){return rg(zr(t),zr(e))&&t.limitType===e.limitType}function p6(t){return`${Tu(zr(t))}|lt:${t.limitType}`}function tf(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>c6(i))).join(", ")}]`),tg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Lf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Lf(i))).join(",")),`Target(${r})`})(zr(t))}; limitType=${t.limitType})`}function sg(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):je.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of yf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,c){const d=Yk(a,l,c);return a.inclusive?d<=0:d<0})(r.startAt,yf(r),i)||r.endAt&&!(function(a,l,c){const d=Yk(a,l,c);return a.inclusive?d>=0:d>0})(r.endAt,yf(r),i))})(t,e)}function g6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function y6(t){return(e,n)=>{let r=!1;for(const i of yf(t)){const s=cQ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function cQ(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):(function(s,a,l){const c=a.data.field(s),d=l.data.field(s);return c!==null&&d!==null?Zl(c,d):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}class Mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return XF(this.inner)}size(){return this.innerSize}}const uQ=new nn(je.comparator);function mi(){return uQ}const v6=new nn(je.comparator);function Um(...t){let e=v6;for(const n of t)e=e.insert(n.key,n);return e}function x6(t){let e=v6;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ta(){return np()}function b6(){return np()}function np(){return new Mo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const dQ=new nn(je.comparator),fQ=new Wt(je.comparator);function gt(...t){let e=fQ;for(const n of t)e=e.add(n);return e}const hQ=new Wt(at);function kT(){return hQ}function RT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yp(e)?"-0":e}}function w6(t){return{integerValue:""+t}}function _6(t,e){return LF(e)?w6(e):RT(t,e)}class rb{constructor(){this._=void 0}}function mQ(t,e,n){return t instanceof Ff?(function(i,s){const a={fields:{[JF]:{stringValue:QF},[e6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&eb(s)&&(s=tb(s)),s&&(a.fields[ZF]=s),{mapValue:a}})(n,e):t instanceof Pu?C6(t,e):t instanceof Au?N6(t,e):(function(i,s){const a=E6(i,s),l=tR(a)+tR(i.Ae);return xN(a)&&xN(i.Ae)?w6(l):RT(i.serializer,l)})(t,e)}function pQ(t,e,n){return t instanceof Pu?C6(t,e):t instanceof Au?N6(t,e):n}function E6(t,e){return t instanceof Bf?(function(r){return xN(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class Ff extends rb{}class Pu extends rb{constructor(e){super(),this.elements=e}}function C6(t,e){const n=S6(e);for(const r of t.elements)n.some((i=>La(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Au extends rb{constructor(e){super(),this.elements=e}}function N6(t,e){let n=S6(e);for(const r of t.elements)n=n.filter((i=>!La(i,r)));return{arrayValue:{values:n}}}class Bf extends rb{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tR(t){return hn(t.integerValue||t.doubleValue)}function S6(t){return Cp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ag{constructor(e,n){this.field=e,this.transform=n}}function gQ(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Pu&&i instanceof Pu||r instanceof Au&&i instanceof Au?Pf(r.elements,i.elements,La):r instanceof Bf&&i instanceof Bf?La(r.Ae,i.Ae):r instanceof Ff&&i instanceof Ff})(t.transform,e.transform)}class yQ{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $v(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ib{}function T6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ch(t.key,mn.none()):new lh(t.key,t.data,mn.none());{const n=t.data,r=lr.empty();let i=new Wt(un.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Lo(t.key,r,new hi(i.toArray()),mn.none())}}function vQ(t,e,n){t instanceof lh?(function(i,s,a){const l=i.value.clone(),c=rR(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Lo?(function(i,s,a){if(!$v(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=rR(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(P6(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function rp(t,e,n,r){return t instanceof lh?(function(s,a,l,c){if(!$v(s.precondition,a))return l;const d=s.value.clone(),f=iR(s.fieldTransforms,c,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Lo?(function(s,a,l,c){if(!$v(s.precondition,a))return l;const d=iR(s.fieldTransforms,c,a),f=a.data;return f.setAll(P6(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,a,l){return $v(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function xQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=E6(r.transform,i||null);s!=null&&(n===null&&(n=lr.empty()),n.set(r.field,s))}return n||null}function nR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pf(r,i,((s,a)=>gQ(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lh extends ib{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Lo extends ib{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function P6(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function rR(t,e,n){const r=new Map;He(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,pQ(a,l,n[i]))}return r}function iR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,mQ(s,a,e))}return r}class ch extends ib{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DT extends ib{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class OT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&vQ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=b6();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=T6(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),gt())}isEqual(e){return this.batchId===e.batchId&&Pf(this.mutations,e.mutations,((n,r)=>nR(n,r)))&&Pf(this.baseMutations,e.baseMutations,((n,r)=>nR(n,r)))}}class MT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return dQ})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new MT(e,n,r,i)}}class LT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class A6{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}class bQ{constructor(e,n){this.count=e,this.unchangedNames=n}}var Vn,At;function I6(t){switch(t){case fe.OK:return Le(64938);case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function j6(t){if(t===void 0)return kn("GRPC error has no .code"),fe.UNKNOWN;switch(t){case Vn.OK:return fe.OK;case Vn.CANCELLED:return fe.CANCELLED;case Vn.UNKNOWN:return fe.UNKNOWN;case Vn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case Vn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case Vn.INTERNAL:return fe.INTERNAL;case Vn.UNAVAILABLE:return fe.UNAVAILABLE;case Vn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case Vn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case Vn.NOT_FOUND:return fe.NOT_FOUND;case Vn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case Vn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case Vn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case Vn.ABORTED:return fe.ABORTED;case Vn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case Vn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case Vn.DATA_LOSS:return fe.DATA_LOSS;default:return Le(39323,{code:t})}}(At=Vn||(Vn={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";let CN=null;function wQ(t){if(CN)throw new Error("a TestingHooksSpi instance is already set");CN=t}function k6(){return new TextEncoder}const _Q=new ql([4294967295,4294967295],0);function sR(t){const e=k6().encode(t),n=new xF;return n.update(e),new Uint8Array(n.digest())}function aR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ql([n,r],0),new ql([i,s],0)]}class VT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $m(`Invalid padding: ${n}`);if(r<0)throw new $m(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new $m(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new $m(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ql.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ql.fromNumber(r)));return i.compare(_Q)===1&&(i=new ql([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=sR(e),[r,i]=aR(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new VT(s,i,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const n=sR(e),[r,i]=aR(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.be(a)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class $m extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class og{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,lg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new og(Qe.min(),i,new nn(at),mi(),gt())}}class lg{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new lg(r,n,gt(),gt(),gt())}}class qv{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class R6{constructor(e,n){this.targetId=e,this.Ce=n}}class D6{constructor(e,n,r=_n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class oR{constructor(){this.ve=0,this.Fe=lR(),this.Me=_n.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=gt(),n=gt(),r=gt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Le(38017,{changeType:s})}})),new lg(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=lR()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class EQ{constructor(e){this.Ge=e,this.ze=new Map,this.je=mi(),this.He=ev(),this.Je=ev(),this.Ze=new nn(at)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(v0(s))if(r===0){const a=new je(s.path);this.et(n,a,cn.newNoDocument(a,Qe.min()))}else He(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}CN?.lt((function(f,m,p,y,x){const b={localCacheCount:f,existenceFilterCount:m.count,databaseId:p.database,projectId:p.projectId},_=m.unchangedNames;return _&&(b.bloomFilter={applied:x===0,hashCount:_?.hashCount??0,bitmapLength:_?.bits?.bitmap?.length??0,padding:_?.bits?.padding??0,mightContain:S=>y?.mightContain(S)??!1}),b})(a,e.Ce,this.Ge.ht(),l,c))}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=No(r).toUint8Array()}catch(c){if(c instanceof YF)return vi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new VT(a,i,s)}catch(c){return vi(c instanceof $m?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const l=this.ot(a);if(l){if(s.current&&v0(l.target)){const c=new je(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,cn.newNoDocument(c,e))}s.Be&&(n.set(a,s.ke()),s.Ke())}}));let r=gt();this.Je.forEach(((s,a)=>{let l=!0;a.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new og(e,n,this.Ze,this.je,r);return this.je=mi(),this.He=ev(),this.Je=ev(),this.Ze=new nn(at),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new oR,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Wt(at),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Wt(at),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||we("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new oR),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ev(){return new nn(je.comparator)}function lR(){return new nn(je.comparator)}const CQ={asc:"ASCENDING",desc:"DESCENDING"},NQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SQ={and:"AND",or:"OR"};class TQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function NN(t,e){return t.useProto3Json||tg(e)?e:{value:e}}function zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function O6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PQ(t,e){return zf(t,e.toTimestamp())}function Rn(t){return He(!!t,49232),Qe.fromTimestamp((function(n){const r=Co(n);return new vt(r.seconds,r.nanos)})(t))}function FT(t,e){return SN(t,e).canonicalString()}function SN(t,e){const n=(function(i){return new bt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function M6(t){const e=bt.fromString(t);return He(H6(e),10190,{key:e.toString()}),e}function Sp(t,e){return FT(t.databaseId,e.path)}function Ra(t,e){const n=M6(e);if(n.get(1)!==t.databaseId.projectId)throw new be(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new be(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(F6(n))}function L6(t,e){return FT(t.databaseId,e)}function V6(t){const e=M6(t);return e.length===4?bt.emptyPath():F6(e)}function TN(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function F6(t){return He(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cR(t,e,n){return{name:Sp(t,e),fields:n.value.mapValue.fields}}function sb(t,e,n){const r=Ra(t,e.name),i=Rn(e.updateTime),s=e.createTime?Rn(e.createTime):Qe.min(),a=new lr({mapValue:{fields:e.fields}}),l=cn.newFoundDocument(r,i,s,a);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function AQ(t,e){return"found"in e?(function(r,i){He(!!i.found,43571),i.found.name,i.found.updateTime;const s=Ra(r,i.found.name),a=Rn(i.found.updateTime),l=i.found.createTime?Rn(i.found.createTime):Qe.min(),c=new lr({mapValue:{fields:i.found.fields}});return cn.newFoundDocument(s,a,l,c)})(t,e):"missing"in e?(function(r,i){He(!!i.missing,3894),He(!!i.readTime,22933);const s=Ra(r,i.missing),a=Rn(i.readTime);return cn.newNoDocument(s,a)})(t,e):Le(7234,{result:e})}function IQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Le(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(He(f===void 0||typeof f=="string",58123),_n.fromBase64String(f||"")):(He(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),_n.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(d){const f=d.code===void 0?fe.UNKNOWN:j6(d.code);return new be(f,d.message||"")})(a);n=new D6(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ra(t,r.document.name),s=Rn(r.document.updateTime),a=r.document.createTime?Rn(r.document.createTime):Qe.min(),l=new lr({mapValue:{fields:r.document.fields}}),c=cn.newFoundDocument(i,s,a,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new qv(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ra(t,r.document),s=r.readTime?Rn(r.readTime):Qe.min(),a=cn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new qv([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ra(t,r.document),s=r.removedTargetIds||[];n=new qv([],s,i,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new bQ(i,s),l=r.targetId;n=new R6(l,a)}}return n}function Tp(t,e){let n;if(e instanceof lh)n={update:cR(t,e.key,e.value)};else if(e instanceof ch)n={delete:Sp(t,e.key)};else if(e instanceof Lo)n={update:cR(t,e.key,e.data),updateMask:MQ(e.fieldMask)};else{if(!(e instanceof DT))return Le(16599,{dt:e.type});n={verify:Sp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const l=a.transform;if(l instanceof Ff)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Pu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Au)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Bf)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Le(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:PQ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Le(27497)})(t,e.precondition)),n}function PN(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?mn.updateTime(Rn(s.updateTime)):s.exists!==void 0?mn.exists(s.exists):mn.none()})(e.currentDocument):mn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,l){let c=null;if("setToServerValue"in l)He(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new Ff;else if("appendMissingElements"in l){const f=l.appendMissingElements.values||[];c=new Pu(f)}else if("removeAllFromArray"in l){const f=l.removeAllFromArray.values||[];c=new Au(f)}else"increment"in l?c=new Bf(a,l.increment):Le(16584,{proto:l});const d=un.fromServerFormat(l.fieldPath);return new ag(d,c)})(t,i))):[];if(e.update){e.update.name;const i=Ra(t,e.update.name),s=new lr({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(c){const d=c.fieldPaths||[];return new hi(d.map((f=>un.fromServerFormat(f))))})(e.updateMask);return new Lo(i,s,a,n,r)}return new lh(i,s,n,r)}if(e.delete){const i=Ra(t,e.delete);return new ch(i,n)}if(e.verify){const i=Ra(t,e.verify);return new DT(i,n)}return Le(1463,{proto:e})}function jQ(t,e){return t&&t.length>0?(He(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?Rn(i.updateTime):Rn(s);return a.isEqual(Qe.min())&&(a=Rn(s)),new yQ(a,i.transformResults||[])})(n,e)))):[]}function B6(t,e){return{documents:[L6(t,e.path)]}}function ab(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=L6(t,i);const s=(function(d){if(d.length!==0)return q6(qt.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(d){if(d.length!==0)return d.map((f=>(function(p){return{field:Il(p.field),direction:RQ(p.dir)}})(f)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=NN(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function z6(t,e,n,r){const{ft:i,parent:s}=ab(t,e),a={},l=[];let c=0;return n.forEach((d=>{const f=r?d.alias:"aggregate_"+c++;a[f]=d.alias,d.aggregateType==="count"?l.push({alias:f,count:{}}):d.aggregateType==="avg"?l.push({alias:f,avg:{field:Il(d.fieldPath)}}):d.aggregateType==="sum"&&l.push({alias:f,sum:{field:Il(d.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:l,structuredQuery:i.structuredQuery},parent:i.parent},gt:a,parent:s}}function U6(t){let e=V6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=(function(m){const p=$6(m);return p instanceof qt&&IT(p)?p.getFilters():[p]})(n.where));let a=[];n.orderBy&&(a=(function(m){return m.map((p=>(function(x){return new Np(nf(x.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(p)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let p;return p=typeof m=="object"?m.value:m,tg(p)?null:p})(n.limit));let c=null;n.startAt&&(c=(function(m){const p=!!m.before,y=m.values||[];return new ec(y,p)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const p=!m.before,y=m.values||[];return new ec(y,p)})(n.endAt)),f6(e,i,a,s,l,"F",c,d)}function kQ(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $6(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nf(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=nf(n.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=nf(n.unaryFilter.field);return St.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=nf(n.unaryFilter.field);return St.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return St.create(nf(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return qt.create(n.compositeFilter.filters.map((r=>$6(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function RQ(t){return CQ[t]}function DQ(t){return NQ[t]}function OQ(t){return SQ[t]}function Il(t){return{fieldPath:t.canonicalString()}}function nf(t){return un.fromServerFormat(t.fieldPath)}function q6(t){return t instanceof St?(function(n){if(n.op==="=="){if(Kk(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NAN"}};if(Wk(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Kk(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NAN"}};if(Wk(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(n.field),op:DQ(n.op),value:n.value}}})(t):t instanceof qt?(function(n){const r=n.getFilters().map((i=>q6(i)));return r.length===1?r[0]:{compositeFilter:{op:OQ(n.op),filters:r}}})(t):Le(54877,{filter:t})}function MQ(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function H6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function W6(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class mo{constructor(e,n,r,i,s=Qe.min(),a=Qe.min(),l=_n.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new mo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new mo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class K6{constructor(e){this.yt=e}}function LQ(t,e){let n;if(e.document)n=sb(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=je.fromSegments(e.noDocument.path),i=ju(e.noDocument.readTime);n=cn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Le(56709);{const r=je.fromSegments(e.unknownDocument.path),i=ju(e.unknownDocument.version);n=cn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new vt(i[0],i[1]);return Qe.fromTimestamp(s)})(e.readTime)),n}function uR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:w0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:Sp(s,a.key),fields:a.data.value.mapValue.fields,updateTime:zf(s,a.version.toTimestamp()),createTime:zf(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Iu(e.version)};else{if(!e.isUnknownDocument())return Le(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Iu(e.version)}}return r}function w0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Iu(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ju(t){const e=new vt(t.seconds,t.nanoseconds);return Qe.fromTimestamp(e)}function tu(t,e){const n=(e.baseMutations||[]).map((s=>PN(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];a.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>PN(t.yt,s))),i=vt.fromMillis(e.localWriteTimeMs);return new OT(e.batchId,i,n,r)}function qm(t){const e=ju(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ju(t.lastLimboFreeSnapshotVersion):Qe.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return He(a===1,1966,{count:a}),zr(oh(V6(s.documents[0])))})(t.query):(function(s){return zr(U6(s))})(t.query),new mo(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,_n.fromBase64String(t.resumeToken))}function G6(t,e){const n=Iu(e.snapshotVersion),r=Iu(e.lastLimboFreeSnapshotVersion);let i;i=v0(e.target)?B6(t.yt,e.target):ab(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Tu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function ob(t){const e=U6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?b0(e,e.limit,"L"):e}function a_(t,e){return new LT(e.largestBatchId,PN(t.yt,e.overlayMutation))}function dR(t,e){const n=e.path.lastSegment();return[t,Br(e.path.popLast()),n]}function fR(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Iu(r.readTime),documentKey:Br(r.documentKey.path),largestBatchId:r.largestBatchId}}class VQ{getBundleMetadata(e,n){return hR(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:ju(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return hR(e).put((function(i){return{bundleId:i.id,createTime:Iu(Rn(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return mR(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:ob(s.bundledQuery),readTime:ju(s.readTime)}})(r)}))}saveNamedQuery(e,n){return mR(e).put((function(i){return{name:i.name,readTime:Iu(Rn(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function hR(t){return Yn(t,Qx)}function mR(t){return Yn(t,Jx)}class lb{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new lb(e,r)}getOverlay(e,n){return vm(e).get(dR(this.userId,n)).next((r=>r?a_(this.serializer,r):null))}getOverlays(e,n){const r=Ta();return le.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const l=new LT(n,a);i.push(this.bt(e,l))})),le.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(Br(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(vm(e).X(gN,l))})),le.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ta(),s=Br(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return vm(e).H(gN,a).next((l=>{for(const c of l){const d=a_(this.serializer,c);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Ta();let a;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return vm(e).ee({index:$F,range:l},((c,d,f)=>{const m=a_(this.serializer,d);s.size()<i||m.largestBatchId===a?(s.set(m.getKey(),m),a=m.largestBatchId):f.done()})).next((()=>s))}bt(e,n){return vm(e).put((function(i,s,a){const[l,c,d]=dR(s,a.mutation.key);return{userId:s,collectionPath:c,documentId:d,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Tp(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function vm(t){return Yn(t,Zx)}class FQ{St(e){return Yn(e,ST)}getSessionToken(e){return this.St(e).get("sessionToken").next((n=>{const r=n?.value;return r?_n.fromUint8Array(r):_n.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}class nu{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(hn(e.integerValue));else if("doubleValue"in e){const r=hn(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),yp(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=Co(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(No(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?n6(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):nb(e)?this.kt(e.mapValue,n):(this.Kt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Nt(n)):Le(19022,{Ut:e})}Ot(e,n){this.Ft(n,25),this.$t(e,n)}$t(e,n){n.xt(e)}Kt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=Mf,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(hn(s)),this.Ot(i,n),this.Ct(r[i],n)}qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),je.fromName(e).path.forEach((r=>{this.Ft(n,60),this.$t(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}nu.Wt=new nu;const $d=255;function BQ(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function pR(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=BQ(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class zQ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=n.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const n=this.en(e),r=pR(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=pR(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn($d),this.sn(255)}_n(){this.an($d),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===$d?(this.sn($d),this.sn(0)):this.sn(n)}Ht(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===$d?(this.an($d),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class UQ{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class $Q{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class xm{constructor(){this.cn=new zQ,this.ascending=new UQ(this.cn),this.descending=new $Q(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class ru{constructor(e,n,r,i){this.hn=e,this.Pn=n,this.Tn=r,this.In=i}En(){const e=this.In.length,n=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.In,0),n!==e?r.set([0],this.In.length):++r[r.length-1],new ru(this.hn,this.Pn,this.Tn,r)}Rn(e,n,r){return{indexId:this.hn,uid:e,arrayValue:Hv(this.Tn),directionalValue:Hv(this.In),orderedDocumentKey:Hv(n),documentKey:r.path.toArray()}}An(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function vl(t,e){let n=t.hn-e.hn;return n!==0?n:(n=gR(t.Tn,e.Tn),n!==0?n:(n=gR(t.In,e.In),n!==0?n:je.comparator(t.Pn,e.Pn)))}function gR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Hv(t){return fF()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function yR(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class vR{constructor(e){this.Vn=new Wt(((n,r)=>un.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(He(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=hN(e);if(n!==void 0&&!this.pn(n))return!1;const r=Gc(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.pn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Vn.size>0){const l=this.Vn.getIterator().getNext();if(!i.has(l.field.canonicalString())){const c=r[s];if(!this.yn(l,c)||!this.wn(this.dn[a++],c))return!1}++s}for(;s<r.length;++s){const l=r[s];if(a>=this.dn.length||!this.wn(this.dn[a++],l))return!1}return!0}bn(){if(this.fn)return null;let e=new Wt(un.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new hu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new hu(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new hu(r.field,r.dir==="asc"?0:1)));return new If(If.UNKNOWN_ID,this.collectionId,n,jf.empty())}pn(e){for(const n of this.mn)if(this.yn(n,e))return!0;return!1}yn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}wn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function X6(t){if(He(t instanceof St||t instanceof qt,20012),t instanceof St){if(t instanceof d6){const n=t.value.arrayValue?.values?.map((r=>St.create(t.field,"==",r)))||[];return qt.create(n,"or")}return t}const e=t.filters.map((n=>X6(n)));return qt.create(e,t.op)}function qQ(t){if(t.getFilters().length===0)return[];const e=jN(X6(t));return He(Y6(e),7391),AN(e)||IN(e)?[e]:e.getFilters()}function AN(t){return t instanceof St}function IN(t){return t instanceof qt&&IT(t)}function Y6(t){return AN(t)||IN(t)||(function(n){if(n instanceof qt&&bN(n)){for(const r of n.getFilters())if(!AN(r)&&!IN(r))return!1;return!0}return!1})(t)}function jN(t){if(He(t instanceof St||t instanceof qt,34018),t instanceof St)return t;if(t.filters.length===1)return jN(t.filters[0]);const e=t.filters.map((r=>jN(r)));let n=qt.create(e,t.op);return n=_0(n),Y6(n)?n:(He(n instanceof qt,64498),He(Vf(n),40251),He(n.filters.length>1,57927),n.filters.reduce(((r,i)=>BT(r,i))))}function BT(t,e){let n;return He(t instanceof St||t instanceof qt,38388),He(e instanceof St||e instanceof qt,25473),n=t instanceof St?e instanceof St?(function(i,s){return qt.create([i,s],"and")})(t,e):xR(t,e):e instanceof St?xR(e,t):(function(i,s){if(He(i.filters.length>0&&s.filters.length>0,48005),Vf(i)&&Vf(s))return l6(i,s.getFilters());const a=bN(i)?i:s,l=bN(i)?s:i,c=a.filters.map((d=>BT(d,l)));return qt.create(c,"or")})(t,e),_0(n)}function xR(t,e){if(Vf(e))return l6(e,t.getFilters());{const n=e.filters.map((r=>BT(t,r)));return qt.create(n,"or")}}function _0(t){if(He(t instanceof St||t instanceof qt,11850),t instanceof St)return t;const e=t.getFilters();if(e.length===1)return _0(e[0]);if(a6(t))return t;const n=e.map((i=>_0(i))),r=[];return n.forEach((i=>{i instanceof St?r.push(i):i instanceof qt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:qt.create(r,t.op)}class HQ{constructor(){this.Sn=new zT}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve($i.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class zT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wt(bt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(bt.comparator)).toArray()}}const bR="IndexedDbIndexManager",tv=new Uint8Array(0);class WQ{constructor(e,n){this.databaseId=n,this.Dn=new zT,this.Cn=new Mo((r=>Tu(r)),((r,i)=>rg(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Dn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.Dn.add(n)}));const s={collectionId:r,parent:Br(i)};return wR(e).put(s)}return le.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[PF(n),""],!1,!0);return wR(e).H(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(Sa(a.parent))}return r}))}addFieldIndex(e,n){const r=bm(e),i=(function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=Hd(e);return s.next((l=>{a.put(fR(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=bm(e),i=Hd(e),s=qd(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=bm(e),r=qd(e),i=Hd(e);return n.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,n){return le.forEach(this.vn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new vR(r).bn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=qd(e);let i=!0;const s=new Map;return le.forEach(this.vn(n),(a=>this.Fn(e,a).next((l=>{i&&(i=!!l),s.set(a,l)})))).next((()=>{if(i){let a=gt();const l=[];return le.forEach(s,((c,d)=>{we(bR,`Using index ${(function(O){return`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map((z=>`${z.fieldPath}:${z.kind}`)).join(",")}`})(c)} to execute ${Tu(n)}`);const f=(function(O,z){const I=hN(z);if(I===void 0)return null;for(const P of x0(O,I.fieldPath))switch(P.op){case"array-contains-any":return P.value.arrayValue.values||[];case"array-contains":return[P.value]}return null})(d,c),m=(function(O,z){const I=new Map;for(const P of Gc(z))for(const C of x0(O,P.fieldPath))switch(C.op){case"==":case"in":I.set(P.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return I.set(P.fieldPath.canonicalString(),C.value),Array.from(I.values())}return null})(d,c),p=(function(O,z){const I=[];let P=!0;for(const C of Gc(z)){const N=C.kind===0?Jk(O,C.fieldPath,O.startAt):Zk(O,C.fieldPath,O.startAt);I.push(N.value),P&&(P=N.inclusive)}return new ec(I,P)})(d,c),y=(function(O,z){const I=[];let P=!0;for(const C of Gc(z)){const N=C.kind===0?Zk(O,C.fieldPath,O.endAt):Jk(O,C.fieldPath,O.endAt);I.push(N.value),P&&(P=N.inclusive)}return new ec(I,P)})(d,c),x=this.Mn(c,d,p),b=this.Mn(c,d,y),_=this.xn(c,d,m),S=this.On(c.indexId,f,x,p.inclusive,b,y.inclusive,_);return le.forEach(S,(M=>r.Z(M,n.limit).next((O=>{O.forEach((z=>{const I=je.fromSegments(z.documentKey);a.has(I)||(a=a.add(I),l.push(I))}))}))))})).next((()=>l))}return le.resolve(null)}))}vn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=qQ(qt.create(e.filters,"and")).map((r=>_N(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,n),n)}On(e,n,r,i,s,a,l){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),d=c/(n!=null?n.length:1),f=[];for(let m=0;m<c;++m){const p=n?this.Nn(n[m/d]):tv,y=this.Bn(e,p,r[m%d],i),x=this.Ln(e,p,s[m%d],a),b=l.map((_=>this.Bn(e,p,_,!0)));f.push(...this.createRange(y,x,b))}return f}Bn(e,n,r,i){const s=new ru(e,je.empty(),n,r);return i?s:s.En()}Ln(e,n,r,i){const s=new ru(e,je.empty(),n,r);return i?s.En():s}Fn(e,n){const r=new vR(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const l of s)r.gn(l)&&(!a||l.fields.length>a.fields.length)&&(a=l);return a}))}getIndexType(e,n){let r=2;const i=this.vn(n);return le.forEach(i,(s=>this.Fn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(c){let d=new Wt(un.comparator),f=!1;for(const m of c.filters)for(const p of m.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?f=!0:d=d.add(p.field));for(const m of c.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(f?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}kn(e,n){const r=new xm;for(const i of Gc(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.ln(i.kind);nu.Wt.Dt(s,a)}return r.un()}Nn(e){const n=new xm;return nu.Wt.Dt(e,n.ln(0)),n.un()}Kn(e,n){const r=new xm;return nu.Wt.Dt(Su(this.databaseId,n),r.ln((function(s){const a=Gc(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}xn(e,n,r){if(r===null)return[];let i=[];i.push(new xm);let s=0;for(const a of Gc(e)){const l=r[s++];for(const c of i)if(this.qn(n,a.fieldPath)&&Cp(l))i=this.Un(i,a,l);else{const d=c.ln(a.kind);nu.Wt.Dt(l,d)}}return this.$n(i)}Mn(e,n,r){return this.xn(e,n,r.position)}$n(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Un(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const l of i){const c=new xm;c.seed(l.un()),nu.Wt.Dt(a,c.ln(n.kind)),s.push(c)}return s}qn(e,n){return!!e.filters.find((r=>r instanceof St&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=bm(e),i=Hd(e);return(n?r.H(pN,IDBKeyRange.bound(n,n)):r.H()).next((s=>{const a=[];return le.forEach(s,(l=>i.get([l.indexId,this.uid]).next((c=>{a.push((function(f,m){const p=m?new jf(m.sequenceNumber,new $i(ju(m.readTime),new je(Sa(m.documentKey)),m.largestBatchId)):jf.empty(),y=f.fields.map((([x,b])=>new hu(un.fromServerFormat(x),b)));return new If(f.indexId,f.collectionGroup,y,p)})(l,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:at(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=bm(e),s=Hd(e);return this.Wn(e).next((a=>i.H(pN,IDBKeyRange.bound(n,n)).next((l=>le.forEach(l,(c=>s.put(fR(c.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return le.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?le.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((l=>(r.set(i.collectionGroup,l),le.forEach(l,(c=>this.Qn(e,i,c).next((d=>{const f=this.Gn(s,c);return d.isEqual(f)?le.resolve():this.zn(e,s,c,d,f)})))))))}))}jn(e,n,r,i){return qd(e).put(i.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(e,n,r,i){return qd(e).delete(i.An(this.uid,this.Kn(r,n.key),n.key))}Qn(e,n,r){const i=qd(e);let s=new Wt(vl);return i.ee({index:UF,range:IDBKeyRange.only([r.indexId,this.uid,Hv(this.Kn(r,n))])},((a,l)=>{s=s.add(new ru(r.indexId,n,yR(l.arrayValue),yR(l.directionalValue)))})).next((()=>s))}Gn(e,n){let r=new Wt(vl);const i=this.kn(n,e);if(i==null)return r;const s=hN(n);if(s!=null){const a=e.data.field(s.fieldPath);if(Cp(a))for(const l of a.arrayValue.values||[])r=r.add(new ru(n.indexId,e.key,this.Nn(l),i))}else r=r.add(new ru(n.indexId,e.key,tv,i));return r}zn(e,n,r,i,s){we(bR,"Updating index entries for document '%s'",n.key);const a=[];return(function(c,d,f,m,p){const y=c.getIterator(),x=d.getIterator();let b=Ud(y),_=Ud(x);for(;b||_;){let S=!1,M=!1;if(b&&_){const O=f(b,_);O<0?M=!0:O>0&&(S=!0)}else b!=null?M=!0:S=!0;S?(m(_),_=Ud(x)):M?(p(b),b=Ud(y)):(b=Ud(y),_=Ud(x))}})(i,s,vl,(l=>{a.push(this.jn(e,n,r,l))}),(l=>{a.push(this.Hn(e,n,r,l))})),le.waitFor(a)}Wn(e){let n=1;return Hd(e).ee({index:zF,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,l)=>vl(a,l))).filter(((a,l,c)=>!l||vl(a,c[l-1])!==0));const i=[];i.push(e);for(const a of r){const l=vl(a,e),c=vl(a,n);if(l===0)i[0]=e.En();else if(l>0&&c<0)i.push(a),i.push(a.En());else if(c>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Jn(i[a],i[a+1]))return[];const l=i[a].An(this.uid,tv,je.empty()),c=i[a+1].An(this.uid,tv,je.empty());s.push(IDBKeyRange.bound(l,c))}return s}Jn(e,n){return vl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(_R)}getMinOffset(e,n){return le.mapArray(this.vn(n),(r=>this.Fn(e,r).next((i=>i||Le(44426))))).next(_R)}}function wR(t){return Yn(t,bp)}function qd(t){return Yn(t,ep)}function bm(t){return Yn(t,NT)}function Hd(t){return Yn(t,Zm)}function _R(t){He(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;_T(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new $i(e.readTime,e.documentKey,n)}const ER={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Q6=41943040;class Vr{static withCacheSize(e){return new Vr(e,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function J6(t,e,n){const r=t.store(As),i=t.store(kf),s=[],a=IDBKeyRange.only(n.batchId);let l=0;const c=r.ee({range:a},((f,m,p)=>(l++,p.delete())));s.push(c.next((()=>{He(l===1,47070,{batchId:n.batchId})})));const d=[];for(const f of n.mutations){const m=VF(e,f.key.path,n.batchId);s.push(i.delete(m)),d.push(f.key)}return le.waitFor(s).next((()=>d))}function E0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Le(14731);e=t.noDocument}return JSON.stringify(e).length}Vr.DEFAULT_COLLECTION_PERCENTILE=10,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vr.DEFAULT=new Vr(Q6,Vr.DEFAULT_COLLECTION_PERCENTILE,Vr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vr.DISABLED=new Vr(-1,0,0);class cb{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,n,r,i){He(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new cb(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).ee({index:su,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=rf(e),a=xl(e);return a.add({}).next((l=>{He(typeof l=="number",49019);const c=new OT(l,n,r,i),d=(function(y,x,b){const _=b.baseMutations.map((M=>Tp(y.yt,M))),S=b.mutations.map((M=>Tp(y.yt,M)));return{userId:x,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:_,mutations:S}})(this.serializer,this.userId,c),f=[];let m=new Wt(((p,y)=>at(p.canonicalString(),y.canonicalString())));for(const p of i){const y=VF(this.userId,p.key.path,l);m=m.add(p.key.path.popLast()),f.push(a.put(d)),f.push(s.put(y,wY))}return m.forEach((p=>{f.push(this.indexManager.addToCollectionParentIndex(e,p))})),e.addOnCommittedListener((()=>{this.Zn[l]=c.keys()})),le.waitFor(f).next((()=>c))}))}lookupMutationBatch(e,n){return xl(e).get(n).next((r=>r?(He(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),tu(this.serializer,r)):null))}Xn(e,n){return this.Zn[n]?le.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return xl(e).ee({index:su,range:i},((a,l,c)=>{l.userId===this.userId&&(He(l.batchId>=r,47524,{Yn:r}),s=tu(this.serializer,l)),c.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Hl;return xl(e).ee({index:su,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Hl],[this.userId,Number.POSITIVE_INFINITY]);return xl(e).H(su,n).next((r=>r.map((i=>tu(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Vv(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return rf(e).ee({range:i},((a,l,c)=>{const[d,f,m]=a,p=Sa(f);if(d===this.userId&&n.path.isEqual(p))return xl(e).get(m).next((y=>{if(!y)throw Le(61480,{er:a,batchId:m});He(y.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:y.userId,batchId:m}),s.push(tu(this.serializer,y))}));c.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(at);const i=[];return n.forEach((s=>{const a=Vv(this.userId,s.path),l=IDBKeyRange.lowerBound(a),c=rf(e).ee({range:l},((d,f,m)=>{const[p,y,x]=d,b=Sa(y);p===this.userId&&s.path.isEqual(b)?r=r.add(x):m.done()}));i.push(c)})),le.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Vv(this.userId,r),a=IDBKeyRange.lowerBound(s);let l=new Wt(at);return rf(e).ee({range:a},((c,d,f)=>{const[m,p,y]=c,x=Sa(p);m===this.userId&&r.isPrefixOf(x)?x.length===i&&(l=l.add(y)):f.done()})).next((()=>this.tr(e,l)))}tr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(xl(e).get(s).next((a=>{if(a===null)throw Le(35274,{batchId:s});He(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(tu(this.serializer,a))})))})),le.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return J6(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.nr(n.batchId)})),le.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return le.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return rf(e).ee({range:r},((s,a,l)=>{if(s[0]===this.userId){const c=Sa(s[1]);i.push(c)}else l.done()})).next((()=>{He(i.length===0,56720,{rr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return Z6(e,this.userId,n)}ir(e){return eB(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Hl,lastStreamToken:""}))}}function Z6(t,e,n){const r=Vv(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return rf(t).ee({range:s,Y:!0},((l,c,d)=>{const[f,m,p]=l;f===e&&m===i&&(a=!0),d.done()})).next((()=>a))}function xl(t){return Yn(t,As)}function rf(t){return Yn(t,kf)}function eB(t){return Yn(t,vp)}class ku{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new ku(0)}static ar(){return new ku(-1)}}class KQ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.ur(e).next((n=>{const r=new ku(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((n=>Qe.fromTimestamp(new vt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.cr(e,i))))}addTargetData(e,n){return this.lr(e,n).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(n,r),this.cr(e,r))))))}updateTargetData(e,n){return this.lr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Wd(e).delete(n.targetId))).next((()=>this.ur(e))).next((r=>(He(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Wd(e).ee(((a,l)=>{const c=qm(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))})).next((()=>le.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Wd(e).ee(((r,i)=>{const s=qm(i);n(s)}))}ur(e){return CR(e).get(y0).next((n=>(He(n!==null,2888),n)))}cr(e,n){return CR(e).put(y0,n)}lr(e,n){return Wd(e).put(G6(this.serializer,n))}hr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Tu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Wd(e).ee({range:i,index:BF},((a,l,c)=>{const d=qm(l);rg(n,d.target)&&(s=d,c.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=jl(e);return n.forEach((a=>{const l=Br(a.path);i.push(s.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,a))})),le.waitFor(i)}removeMatchingKeys(e,n,r){const i=jl(e);return le.forEach(n,(s=>{const a=Br(s.path);return le.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=jl(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=jl(e);let s=gt();return i.ee({range:r,Y:!0},((a,l,c)=>{const d=Sa(a[1]),f=new je(d);s=s.add(f)})).next((()=>s))}containsKey(e,n){const r=Br(n.path),i=IDBKeyRange.bound([r],[PF(r)],!1,!0);let s=0;return jl(e).ee({index:CT,Y:!0,range:i},(([a,l],c,d)=>{a!==0&&(s++,d.done())})).next((()=>s>0))}At(e,n){return Wd(e).get(n).next((r=>r?qm(r):null))}}function Wd(t){return Yn(t,Rf)}function CR(t){return Yn(t,mu)}function jl(t){return Yn(t,Df)}const NR="LruGarbageCollector",tB=1048576;function SR([t,e],[n,r]){const i=at(t,n);return i===0?at(e,r):i}class GQ{constructor(e){this.Pr=e,this.buffer=new Wt(SR),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();SR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){we(NR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uc(n)?we(NR,"Ignoring IndexedDB error during garbage collection: ",n):await cc(n)}await this.Ar(3e5)}))}}class XQ{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(fi.ce);const r=new GQ(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(ER)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ER):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,a,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),ef()<=Nt.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function rB(t,e){return new XQ(t,e)}class YQ{constructor(e,n){this.db=e,this.garbageCollector=rB(this,n)}dr(e){const n=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}mr(e,n){return this.yr(e,((r,i)=>n(i)))}addReference(e,n,r){return nv(e,r)}removeReference(e,n,r){return nv(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return nv(e,n)}wr(e,n){return(function(i,s){let a=!1;return eB(i).te((l=>Z6(i,l,s).next((c=>(c&&(a=!0),le.resolve(!c)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.yr(e,((a,l)=>{if(l<=n){const c=this.wr(e,a).next((d=>{if(!d)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Qe.min()),jl(e).delete((function(m){return[0,Br(m.path)]})(a)))))}));i.push(c)}})).next((()=>le.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return nv(e,n)}yr(e,n){const r=jl(e);let i,s=fi.ce;return r.ee({index:CT},(([a,l],{path:c,sequenceNumber:d})=>{a===0?(s!==fi.ce&&n(new je(Sa(i)),s),s=d,i=c):s=fi.ce})).next((()=>{s!==fi.ce&&n(new je(Sa(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nv(t,e){return jl(t).put((function(r,i){return{targetId:0,path:Br(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class iB{constructor(){this.changes=new Mo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QQ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return $c(e).put(r)}removeEntry(e,n,r){return $c(e).delete((function(s,a){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],w0(a),l[l.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.br(e,r))))}getEntry(e,n){let r=cn.newInvalidDocument(n);return $c(e).ee({index:Fv,range:IDBKeyRange.only(wm(n))},((i,s)=>{r=this.Sr(n,s)})).next((()=>r))}Dr(e,n){let r={size:0,document:cn.newInvalidDocument(n)};return $c(e).ee({index:Fv,range:IDBKeyRange.only(wm(n))},((i,s)=>{r={document:this.Sr(n,s),size:E0(s)}})).next((()=>r))}getEntries(e,n){let r=mi();return this.Cr(e,n,((i,s)=>{const a=this.Sr(i,s);r=r.insert(i,a)})).next((()=>r))}vr(e,n){let r=mi(),i=new nn(je.comparator);return this.Cr(e,n,((s,a)=>{const l=this.Sr(s,a);r=r.insert(s,l),i=i.insert(s,E0(a))})).next((()=>({documents:r,Fr:i})))}Cr(e,n,r){if(n.isEmpty())return le.resolve();let i=new Wt(AR);n.forEach((c=>i=i.add(c)));const s=IDBKeyRange.bound(wm(i.first()),wm(i.last())),a=i.getIterator();let l=a.getNext();return $c(e).ee({index:Fv,range:s},((c,d,f)=>{const m=je.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;l&&AR(l,m)<0;)r(l,null),l=a.getNext();l&&l.isEqual(m)&&(r(l,d),l=a.hasNext()?a.getNext():null),l?f.j(wm(l)):f.done()})).next((()=>{for(;l;)r(l,null),l=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,l=[a.popLast().toArray(),a.lastSegment(),w0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return $c(e).H(IDBKeyRange.bound(l,c,!0)).next((d=>{s?.incrementDocumentReadCount(d.length);let f=mi();for(const m of d){const p=this.Sr(je.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);p.isFoundDocument()&&(sg(n,p)||i.has(p.key))&&(f=f.insert(p.key,p))}return f}))}getAllFromCollectionGroup(e,n,r,i){let s=mi();const a=PR(n,r),l=PR(n,$i.max());return $c(e).ee({index:FF,range:IDBKeyRange.bound(a,l,!0)},((c,d,f)=>{const m=this.Sr(je.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(m.key,m),s.size===i&&f.done()})).next((()=>s))}newChangeBuffer(e){return new JQ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return TR(e).get(mN).next((n=>(He(!!n,20021),n)))}br(e,n){return TR(e).put(mN,n)}Sr(e,n){if(n){const r=LQ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Qe.min())))return r}return cn.newInvalidDocument(e)}}function sB(t){return new QQ(t)}class JQ extends iB{constructor(e,n){super(),this.Mr=e,this.trackRemovals=n,this.Or=new Mo((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Wt(((s,a)=>at(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const l=this.Or.get(s);if(n.push(this.Mr.removeEntry(e,s,l.readTime)),a.isValidDocument()){const c=uR(this.Mr.serializer,a);i=i.add(s.path.popLast());const d=E0(c);r+=d-l.size,n.push(this.Mr.addEntry(e,s,c))}else if(r-=l.size,this.trackRemovals){const c=uR(this.Mr.serializer,a.convertToNoDocument(Qe.min()));n.push(this.Mr.addEntry(e,s,c))}})),i.forEach((s=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Mr.updateMetadata(e,r)),le.waitFor(n)}getFromCache(e,n){return this.Mr.Dr(e,n).next((r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Mr.vr(e,n).next((({documents:r,Fr:i})=>(i.forEach(((s,a)=>{this.Or.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function TR(t){return Yn(t,xp)}function $c(t){return Yn(t,g0)}function wm(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function PR(t,e){const n=e.documentKey.path.toArray();return[t,w0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function AR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=at(n[s],r[s]),i)return i;return i=at(n.length,r.length),i||(i=at(n[n.length-2],r[r.length-2]),i||at(n[n.length-1],r[r.length-1]))}class ZQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class aB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&rp(r.mutation,i,hi.empty(),vt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,gt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=gt()){const i=Ta();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=Um();return s.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Ta();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,gt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,i){let s=mi();const a=np(),l=(function(){return np()})();return n.forEach(((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Lo)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),rp(f.mutation,d,f.mutation.getFieldMask(),vt.now())):a.set(d.key,hi.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((d,f)=>a.set(d,f))),n.forEach(((d,f)=>l.set(d,new ZQ(f,a.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=np();let i=new nn(((a,l)=>a-l)),s=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||hi.empty();f=l.applyToLocalView(d,f),r.set(c,f);const m=(i.get(l.batchId)||gt()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,m=b6();f.forEach((p=>{if(!s.has(p)){const y=T6(n.get(p),r.get(p));y!==null&&m.set(p,y),s=s.add(p)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return le.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return sQ(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):jT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):le.resolve(Ta());let l=Af,c=s;return a.next((d=>le.forEach(d,((f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?le.resolve():this.remoteDocumentCache.getEntry(e,f).next((p=>{c=c.insert(f,p)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,c,d,gt()))).next((f=>({batchId:l,changes:x6(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((r=>{let i=Um();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Um();return this.indexManager.getCollectionParents(e,s).next((l=>le.forEach(l,(c=>{const d=(function(m,p){return new Oo(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((m,p)=>{a=a.insert(m,p)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((c,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,cn.newInvalidDocument(f)))}));let l=Um();return a.forEach(((c,d)=>{const f=s.get(c);f!==void 0&&rp(f.mutation,d,hi.empty(),vt.now()),sg(n,d)&&(l=l.insert(c,d))})),l}))}}class eJ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Rn(i.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:ob(i.bundledQuery),readTime:Rn(i.readTime)}})(n)),le.resolve()}}class tJ{constructor(){this.overlays=new nn(je.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ta();return le.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=Ta(),s=n.length+1,a=new je(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nn(((d,f)=>d-f));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Ta(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Ta(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return le.resolve(l)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new LT(n,r));let s=this.Lr.get(n);s===void 0&&(s=gt(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class nJ{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class UT{constructor(){this.kr=new Wt(ir.Kr),this.qr=new Wt(ir.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ir(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ir(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new je(new bt([])),r=new ir(n,e),i=new ir(n,e+1),s=[];return this.qr.forEachInRange([r,i],(a=>{this.Wr(a),s.push(a.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new je(new bt([])),r=new ir(n,e),i=new ir(n,e+1);let s=gt();return this.qr.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new ir(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ir{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return je.comparator(e.key,n.key)||at(e.Hr,n.Hr)}static Ur(e,n){return at(e.Hr,n.Hr)||je.comparator(e.key,n.key)}}class rJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Wt(ir.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new OT(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Jr=this.Jr.add(new ir(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return le.resolve(a)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Hl:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ir(n,0),i=new ir(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(a=>{const l=this.Zr(a.Hr);s.push(l)})),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(at);return n.forEach((i=>{const s=new ir(i,0),a=new ir(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],(l=>{r=r.add(l.Hr)}))})),le.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;je.isDocumentKey(s)||(s=s.child(""));const a=new ir(new je(s),0);let l=new Wt(at);return this.Jr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Hr)),!0)}),a),le.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){He(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return le.forEach(n.mutations,(i=>{const s=new ir(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new ir(n,0),i=this.Jr.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class iJ{constructor(e){this.ti=e,this.docs=(function(){return new nn(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=mi();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():cn.newInvalidDocument(i))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=mi();const a=n.path,l=new je(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||_T(RF(f),r)<=0||(i.has(f.key)||sg(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return le.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Le(9500)}ni(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new sJ(this)}getSize(e){return le.resolve(this.size)}}class sJ extends iB{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class aJ{constructor(e){this.persistence=e,this.ri=new Mo((n=>Tu(n)),rg),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.ii=0,this.si=new UT,this.targetCount=0,this.oi=ku._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new ku(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),le.waitFor(s).next((()=>i))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),le.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}class $T{constructor(e,n){this._i={},this.overlays={},this.ai=new fi(0),this.ui=!1,this.ui=!0,this.ci=new nJ,this.referenceDelegate=e(this),this.li=new aJ(this),this.indexManager=new HQ,this.remoteDocumentCache=(function(i){return new iJ(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new K6(n),this.Pi=new eJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new rJ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new oJ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return le.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class oJ extends OF{constructor(e){super(),this.currentSequenceNumber=e}}class ub{constructor(e){this.persistence=e,this.Ri=new UT,this.Ai=null}static Vi(e){return new ub(e)}get di(){if(this.Ai)return this.Ai;throw Le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(r=>{const i=je.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,Qe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class C0{constructor(e,n){this.persistence=e,this.fi=new Mo((r=>Br(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=rB(this,n)}static Vi(e,n){return new C0(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return le.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?le.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(a=>this.wr(e,a,n).next((l=>{l||(r++,s.removeEntry(a,Qe.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zv(e.data.value)),n}wr(e,n,r){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class lJ{constructor(e){this.serializer=e}k(e,n,r,i){const s=new Yx("createOrUpgrade",n);r<1&&i>=1&&((function(c){c.createObjectStore(ng)})(e),(function(c){c.createObjectStore(vp,{keyPath:bY}),c.createObjectStore(As,{keyPath:Bk,autoIncrement:!0}).createIndex(su,zk,{unique:!0}),c.createObjectStore(kf)})(e),IR(e),(function(c){c.createObjectStore(Xc)})(e));let a=le.resolve();return r<3&&i>=3&&(r!==0&&((function(c){c.deleteObjectStore(Df),c.deleteObjectStore(Rf),c.deleteObjectStore(mu)})(e),IR(e)),a=a.next((()=>(function(c){const d=c.store(mu),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qe.min().toTimestamp(),targetCount:0};return d.put(y0,f)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(c,d){return d.store(As).H().next((m=>{c.deleteObjectStore(As),c.createObjectStore(As,{keyPath:Bk,autoIncrement:!0}).createIndex(su,zk,{unique:!0});const p=d.store(As),y=m.map((x=>p.put(x)));return le.waitFor(y)}))})(e,s)))),a=a.next((()=>{(function(c){c.createObjectStore(Of,{keyPath:AY})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.gi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(c){c.createObjectStore(xp)})(e),this.pi(s))))),r<7&&i>=7&&(a=a.next((()=>this.yi(s)))),r<8&&i>=8&&(a=a.next((()=>this.wi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.bi(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(c){c.createObjectStore(Qx,{keyPath:IY})})(e),(function(c){c.createObjectStore(Jx,{keyPath:jY})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(c){const d=c.createObjectStore(Zx,{keyPath:VY});d.createIndex(gN,FY,{unique:!1}),d.createIndex($F,BY,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(c){const d=c.createObjectStore(g0,{keyPath:_Y});d.createIndex(Fv,EY),d.createIndex(FF,CY)})(e))).next((()=>this.Si(e,s))).next((()=>e.deleteObjectStore(Xc)))),r<14&&i>=14&&(a=a.next((()=>this.Di(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(c){c.createObjectStore(NT,{keyPath:kY,autoIncrement:!0}).createIndex(pN,RY,{unique:!1}),c.createObjectStore(Zm,{keyPath:DY}).createIndex(zF,OY,{unique:!1}),c.createObjectStore(ep,{keyPath:MY}).createIndex(UF,LY,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(Zm).clear()})).next((()=>{n.objectStore(ep).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(c){c.createObjectStore(ST,{keyPath:zY})})(e)}))),r<18&&i>=18&&fF()&&(a=a.next((()=>{n.objectStore(Zm).clear()})).next((()=>{n.objectStore(ep).clear()}))),a}pi(e){let n=0;return e.store(Xc).ee(((r,i)=>{n+=E0(i)})).next((()=>{const r={byteSize:n};return e.store(xp).put(mN,r)}))}gi(e){const n=e.store(vp),r=e.store(As);return n.H().next((i=>le.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,Hl],[s.userId,s.lastAcknowledgedBatchId]);return r.H(su,a).next((l=>le.forEach(l,(c=>{He(c.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const d=tu(this.serializer,c);return J6(e,s.userId,d).next((()=>{}))}))))}))))}yi(e){const n=e.store(Df),r=e.store(Xc);return e.store(mu).get(y0).next((i=>{const s=[];return r.ee(((a,l)=>{const c=new bt(a),d=(function(m){return[0,Br(m)]})(c);s.push(n.get(d).next((f=>f?le.resolve():(m=>n.put({targetId:0,path:Br(m),sequenceNumber:i.highestListenSequenceNumber}))(c))))})).next((()=>le.waitFor(s)))}))}wi(e,n){e.createObjectStore(bp,{keyPath:PY});const r=n.store(bp),i=new zT,s=a=>{if(i.add(a)){const l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Br(c)})}};return n.store(Xc).ee({Y:!0},((a,l)=>{const c=new bt(a);return s(c.popLast())})).next((()=>n.store(kf).ee({Y:!0},(([a,l,c],d)=>{const f=Sa(l);return s(f.popLast())}))))}bi(e){const n=e.store(Rf);return n.ee(((r,i)=>{const s=qm(i),a=G6(this.serializer,s);return n.put(a)}))}Si(e,n){const r=n.store(Xc),i=[];return r.ee(((s,a)=>{const l=n.store(g0),c=(function(m){return m.document?new je(bt.fromString(m.document.name).popFirst(5)):m.noDocument?je.fromSegments(m.noDocument.path):m.unknownDocument?je.fromSegments(m.unknownDocument.path):Le(36783)})(a).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(l.put(d))})).next((()=>le.waitFor(i)))}Di(e,n){const r=n.store(As),i=sB(this.serializer),s=new $T(ub.Vi,this.serializer.yt);return r.H().next((a=>{const l=new Map;return a.forEach((c=>{let d=l.get(c.userId)??gt();tu(this.serializer,c).keys().forEach((f=>d=d.add(f))),l.set(c.userId,d)})),le.forEach(l,((c,d)=>{const f=new ar(d),m=lb.wt(this.serializer,f),p=s.getIndexManager(f),y=cb.wt(f,this.serializer,p,s.referenceDelegate);return new aB(i,y,m,p).recalculateAndSaveOverlaysForDocumentKeys(new yN(n,fi.ce),c).next()}))}))}}function IR(t){t.createObjectStore(Df,{keyPath:SY}).createIndex(CT,TY,{unique:!0}),t.createObjectStore(Rf,{keyPath:"targetId"}).createIndex(BF,NY,{unique:!0}),t.createObjectStore(mu)}const bl="IndexedDbPersistence",o_=18e5,l_=5e3,c_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",oB="main";class qT{constructor(e,n,r,i,s,a,l,c,d,f,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ci=s,this.window=a,this.document=l,this.Fi=d,this.Mi=f,this.xi=m,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=p=>Promise.resolve(),!qT.v())throw new be(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YQ(this,i),this.Ki=n+oB,this.serializer=new K6(c),this.qi=new ka(this.Ki,this.xi,new lJ(this.serializer)),this.ci=new FQ,this.li=new KQ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=sB(this.serializer),this.Pi=new VQ,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,f===!1&&kn(bl,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new be(fe.FAILED_PRECONDITION,c_);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new fi(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>rv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((n=>this.isPrimary&&!n?this.Ji(e).next((()=>!1)):!!n&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(uc(e))return we(bl,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return we(bl,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return _m(e).get(zd).next((n=>le.resolve(this.Xi(n))))}Yi(e){return rv(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,o_)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Yn(n,Of);return r.H().next((i=>{const s=this.ns(i,o_),a=i.filter((l=>s.indexOf(l)===-1));return le.forEach(a,(l=>r.delete(l.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ui)for(const n of e)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?le.resolve(!0):_m(e).get(zd).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,l_)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new be(fe.FAILED_PRECONDITION,c_);return!1}}return!(!this.networkEnabled||!this.inForeground)||rv(e).H().next((r=>this.ns(r,l_).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(s||a&&l)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&we(bl,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[ng,Of],(e=>{const n=new yN(e,fi.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(e,n){return e.filter((r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>rv(e).H().next((n=>this.ns(n,o_).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,n){return cb.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new WQ(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return lb.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,n,r){we(bl,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(c){return c===18?qY:c===17?KF:c===16?$Y:c===15?TT:c===14?WF:c===13?HF:c===12?UY:c===11?qF:void Le(60245)})(this.xi);let a;return this.qi.runTransaction(e,i,s,(l=>(a=new yN(l,this.ai?this.ai.next():fi.ce),n==="readwrite-primary"?this.ji(a).next((c=>!!c||this.Hi(a))).next((c=>{if(!c)throw kn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new be(fe.FAILED_PRECONDITION,DF);return r(a)})).next((c=>this.Zi(a).next((()=>c)))):this.Ps(a).next((()=>r(a)))))).then((l=>(a.raiseOnCommittedEvent(),l)))}Ps(e){return _m(e).get(zd).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,l_)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new be(fe.FAILED_PRECONDITION,c_)}))}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _m(e).put(zd,n)}static v(){return ka.v()}Ji(e){const n=_m(e);return n.get(zd).next((r=>this.Xi(r)?(we(bl,"Releasing primary lease."),n.delete(zd)):le.resolve()))}ts(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(kn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;dF()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const n=this.Ui?.getItem(this.rs(e))!==null;return we(bl,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return kn(bl,"Failed to get zombied client id.",n),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){kn("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _m(t){return Yn(t,ng)}function rv(t){return Yn(t,Of)}function HT(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class WT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=gt(),i=gt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new WT(e,n.fromCache,r,i)}}class cJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class lB{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return dF()?8:MF(Gn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new cJ;return this.ys(e,n,a).next((l=>{if(s.result=l,this.As)return this.ws(e,n,a,l.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(ef()<=Nt.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",tf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(ef()<=Nt.DEBUG&&we("QueryEngine","Query:",tf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(ef()<=Nt.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",tf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(n))):le.resolve())}gs(e,n){if(eR(n))return le.resolve(null);let r=zr(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=b0(n,null,"F"),r=zr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=gt(...s);return this.fs.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.bs(n,l);return this.Ss(n,d,a,c.readTime)?this.gs(e,b0(n,null,"F")):this.Ds(e,d,n,c)}))))})))))}ps(e,n,r,i){return eR(n)||i.isEqual(Qe.min())?le.resolve(null):this.fs.getDocuments(e,r).next((s=>{const a=this.bs(n,s);return this.Ss(n,a,r,i)?le.resolve(null):(ef()<=Nt.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tf(n)),this.Ds(e,a,n,kF(i,Af)).next((l=>l)))}))}bs(e,n){let r=new Wt(y6(e));return n.forEach(((i,s)=>{sg(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return ef()<=Nt.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",tf(n)),this.fs.getDocumentsMatchingQuery(e,n,$i.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}const KT="LocalStore",uJ=3e8;class dJ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new nn(at),this.Fs=new Mo((s=>Tu(s)),rg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aB(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function cB(t,e,n,r){return new dJ(t,e,n,r)}async function uB(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],l=[];let c=gt();for(const d of i){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ns:d,removedBatchIds:a,addedBatchIds:l})))}))}))}function fJ(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,f){const m=d.batch,p=m.keys();let y=le.resolve();return p.forEach((x=>{y=y.next((()=>f.getEntry(c,x))).next((b=>{const _=d.docVersions.get(x);He(_!==null,48541),b.version.compareTo(_)<0&&(m.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),f.addEntry(b)))}))})),y.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=gt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function dB(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function hJ(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const l=[];e.targetChanges.forEach(((f,m)=>{const p=i.get(m);if(!p)return;l.push(n.li.removeMatchingKeys(s,f.removedDocuments,m).next((()=>n.li.addMatchingKeys(s,f.addedDocuments,m))));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(_n.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(m,y),(function(b,_,S){return b.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=uJ?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(p,y,f)&&l.push(n.li.updateTargetData(s,y))}));let c=mi(),d=gt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))})),l.push(fB(s,a,e.documentUpdates).next((f=>{c=f.Bs,d=f.Ls}))),!r.isEqual(Qe.min())){const f=n.li.getLastRemoteSnapshotVersion(s).next((m=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(f)}return le.waitFor(l).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,c,d))).next((()=>c))})).then((s=>(n.vs=i,s)))}function fB(t,e,n){let r=gt(),i=gt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=mi();return n.forEach(((l,c)=>{const d=s.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Qe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):we(KT,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{Bs:a,Ls:i}}))}function mJ(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Hl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Uf(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,le.resolve(i)):n.li.allocateTargetId(r).next((a=>(i=new mo(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function $f(t,e,n){const r=Re(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!uc(a))throw a;we(KT,`Failed to update sequence numbers for target ${e}: ${a}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function N0(t,e,n){const r=Re(t);let i=Qe.min(),s=gt();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,d,f){const m=Re(c),p=m.Fs.get(f);return p!==void 0?le.resolve(m.vs.get(p)):m.li.getTargetData(d,f)})(r,a,zr(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(a,l.targetId).next((c=>{s=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Qe.min(),n?s:gt()))).next((l=>(pB(r,g6(e),l),{documents:l,ks:s})))))}function hB(t,e){const n=Re(t),r=Re(n.li),i=n.vs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function mB(t,e){const n=Re(t),r=n.Ms.get(e)||Qe.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.xs.getAllFromCollectionGroup(i,e,kF(r,Af),Number.MAX_SAFE_INTEGER))).then((i=>(pB(n,e,i),i)))}function pB(t,e,n){let r=t.Ms.get(e)||Qe.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}async function pJ(t,e,n,r){const i=Re(t);let s=gt(),a=mi();for(const d of n){const f=e.Ks(d.metadata.name);d.document&&(s=s.add(f));const m=e.qs(d);m.setReadTime(e.Us(d.metadata.readTime)),a=a.insert(f,m)}const l=i.xs.newChangeBuffer({trackRemovals:!0}),c=await Uf(i,(function(f){return zr(oh(bt.fromString(`__bundle__/docs/${f}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(d=>fB(d,l,a).next((f=>(l.apply(d),f))).next((f=>i.li.removeMatchingKeysForTargetId(d,c.targetId).next((()=>i.li.addMatchingKeys(d,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(d,f.Bs,f.Ls))).next((()=>f.Bs))))))}async function gJ(t,e,n=gt()){const r=await Uf(t,zr(ob(e.bundledQuery))),i=Re(t);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=Rn(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Pi.saveNamedQuery(s,e);const l=r.withResumeToken(_n.EMPTY_BYTE_STRING,a);return i.vs=i.vs.insert(l.targetId,l),i.li.updateTargetData(s,l).next((()=>i.li.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.li.addMatchingKeys(s,n,r.targetId))).next((()=>i.Pi.saveNamedQuery(s,e)))}))}const gB="firestore_clients";function jR(t,e){return`${gB}_${t}_${e}`}const yB="firestore_mutations";function kR(t,e,n){let r=`${yB}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const vB="firestore_targets";function u_(t,e){return`${vB}_${t}_${e}`}const wa="SharedClientState";class S0{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static $s(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new be(i.error.code,i.error.message))),a?new S0(e,n,i.state,s):(kn(wa,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ip{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static $s(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new be(r.error.code,r.error.message))),s?new ip(e,r.state,i):(kn(wa,`Failed to parse target state for ID '${e}': ${n}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class T0{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static $s(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=kT();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=LF(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new T0(e,s):(kn(wa,`Failed to parse client data for instance '${e}': ${n}`),null)}}class GT{constructor(e,n){this.clientId=e,this.onlineState=n}static $s(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new GT(n.clientId,n.onlineState):(kn(wa,`Failed to parse online state: ${e}`),null)}}class kN{constructor(){this.activeTargetIds=kT()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class d_{constructor(e,n,r,i,s){this.window=e,this.Ci=n,this.persistenceKey=r,this.zs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new nn(at),this.started=!1,this.Zs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Xs=jR(this.persistenceKey,this.zs),this.Ys=(function(c){return`firestore_sequence_number_${c}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new kN),this.eo=new RegExp(`^${gB}_${a}_([^_]*)$`),this.no=new RegExp(`^${yB}_${a}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${vB}_${a}_(\\d+)$`),this.io=(function(c){return`firestore_online_state_${c}`})(this.persistenceKey),this.so=(function(c){return`firestore_bundle_loaded_v2_${c}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const i=this.getItem(jR(this.persistenceKey,r));if(i){const s=T0.$s(r,i);s&&(this.Js=this.Js.insert(s.clientId,s))}}this.oo();const n=this.storage.getItem(this.io);if(n){const r=this._o(n);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let n=!1;return this.Js.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,n,r){this.co(e,n,r),this.lo(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(u_(this.persistenceKey,e));if(i){const s=ip.$s(e,i);s&&(r=s.state)}}return n&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(u_(this.persistenceKey,e))}updateQueryState(e,n,r){this.Po(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.lo(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return we(wa,"READ",e,n),n}setItem(e,n){we(wa,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){we(wa,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const n=e;if(n.storageArea===this.storage){if(we(wa,"EVENT",n.key,n.newValue),n.key===this.Xs)return void kn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.eo.test(n.key)){if(n.newValue==null){const r=this.Eo(n.key);return this.Ro(r,null)}{const r=this.Ao(n.key,n.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(n.key)){if(n.newValue!==null){const r=this.Vo(n.key,n.newValue);if(r)return this.mo(r)}}else if(this.ro.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(n.key===this.io){if(n.newValue!==null){const r=this._o(n.newValue);if(r)return this.ao(r)}}else if(n.key===this.Ys){const r=(function(s){let a=fi.ce;if(s!=null)try{const l=JSON.parse(s);He(typeof l=="number",30636,{yo:s}),a=l}catch(l){kn(wa,"Failed to read sequence number from WebStorage",l)}return a})(n.newValue);r!==fi.ce&&this.sequenceNumberHandler(r)}else if(n.key===this.so){const r=this.wo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.bo(i))))}}}else this.Zs.push(n)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,n,r){const i=new S0(this.currentUser,e,n,r),s=kR(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ws())}lo(e){const n=kR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}To(e){const n={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(n))}Po(e,n,r){const i=u_(this.persistenceKey,e),s=new ip(e,n,r);this.setItem(i,s.Ws())}Io(e){const n=JSON.stringify(Array.from(e));this.setItem(this.so,n)}Eo(e){const n=this.eo.exec(e);return n?n[1]:null}Ao(e,n){const r=this.Eo(e);return T0.$s(r,n)}Vo(e,n){const r=this.no.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return S0.$s(new ar(s),i,n)}fo(e,n){const r=this.ro.exec(e),i=Number(r[1]);return ip.$s(i,n)}_o(e){return GT.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);we(wa,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,n){const r=n?this.Js.insert(e,n):this.Js.remove(e),i=this.uo(this.Js),s=this.uo(r),a=[],l=[];return s.forEach((c=>{i.has(c)||a.push(c)})),i.forEach((c=>{s.has(c)||l.push(c)})),this.syncEngine.Co(a,l).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let n=kT();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class xB{constructor(){this.vo=new kN,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new kN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class yJ{Mo(e){}shutdown(){}}const RR="ConnectivityMonitor";class DR{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){we(RR,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){we(RR,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let iv=null;function RN(){return iv===null?iv=(function(){return 268435456+Math.round(2147483648*Math.random())})():iv++,"0x"+iv.toString(16)}const f_="RestConnection",vJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class xJ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===_p?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const a=RN(),l=this.Qo(e,n.toUriEncodedString());we(f_,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,s);const{host:d}=new URL(l),f=lc(d);return this.zo(e,l,c,r,f).then((m=>(we(f_,`Received RPC '${e}' ${a}: `,m),m)),(m=>{throw vi(f_,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",r),m}))}jo(e,n,r,i,s,a){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ah})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=vJ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class bJ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Mr="WebChannelConnection",Em=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class vf extends xJ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!vf.c_){const e=EF();Em(e,_F.STAT_EVENT,(n=>{n.stat===cN.PROXY?we(Mr,"STAT_EVENT: detected buffering proxy"):n.stat===cN.NOPROXY&&we(Mr,"STAT_EVENT: detected no buffering proxy")})),vf.c_=!0}}zo(e,n,r,i,s){const a=RN();return new Promise(((l,c)=>{const d=new bF;d.setWithCredentials(!0),d.listenOnce(wF.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case Lv.NO_ERROR:const m=d.getResponseJson();we(Mr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case Lv.TIMEOUT:we(Mr,`RPC '${e}' ${a} timed out`),c(new be(fe.DEADLINE_EXCEEDED,"Request time out"));break;case Lv.HTTP_ERROR:const p=d.getStatus();if(we(Mr,`RPC '${e}' ${a} failed with status:`,p,"response text:",d.getResponseText()),p>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const b=(function(S){const M=S.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(M)>=0?M:fe.UNKNOWN})(x.status);c(new be(b,x.message))}else c(new be(fe.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new be(fe.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{we(Mr,`RPC '${e}' ${a} completed.`)}}));const f=JSON.stringify(i);we(Mr,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=RN(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");we(Mr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=a.createWebChannel(d,l);this.I_(f);let m=!1,p=!1;const y=new bJ({Ho:x=>{p?we(Mr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(we(Mr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),we(Mr,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Jo:()=>f.close()});return Em(f,zm.EventType.OPEN,(()=>{p||(we(Mr,`RPC '${e}' stream ${i} transport opened.`),y.i_())})),Em(f,zm.EventType.CLOSE,(()=>{p||(p=!0,we(Mr,`RPC '${e}' stream ${i} transport closed`),y.o_(),this.E_(f))})),Em(f,zm.EventType.ERROR,(x=>{p||(p=!0,vi(Mr,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),y.o_(new be(fe.UNAVAILABLE,"The operation could not be completed")))})),Em(f,zm.EventType.MESSAGE,(x=>{if(!p){const b=x.data[0];He(!!b,16349);const _=b,S=_?.error||_[0]?.error;if(S){we(Mr,`RPC '${e}' stream ${i} received error:`,S);const M=S.status;let O=(function(P){const C=Vn[P];if(C!==void 0)return j6(C)})(M),z=S.message;M==="NOT_FOUND"&&z.includes("database")&&z.includes("does not exist")&&z.includes(this.databaseId.database)&&vi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),O===void 0&&(O=fe.INTERNAL,z="Unknown error status: "+M+" with message "+S.message),p=!0,y.o_(new be(O,z)),f.close()}else we(Mr,`RPC '${e}' stream ${i} received:`,b),y.__(b)}})),vf.u_(),setTimeout((()=>{y.s_()}),0),y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return CF()}}function wJ(t){return new vf(t)}function bB(){return typeof window<"u"?window:null}function Wv(){return typeof document<"u"?document:null}function Gu(t){return new TQ(t,!0)}vf.c_=!1;class XT{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const OR="PersistentStream";class wB{constructor(e,n,r,i,s,a,l,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XT(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===fe.RESOURCE_EXHAUSTED?(kn(n.toString()),kn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new be(fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return we(OR,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(we(OR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class _J extends wB{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=IQ(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Qe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Qe.min():a.readTime?Rn(a.readTime):Qe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=TN(this.serializer),n.addTarget=(function(s,a){let l;const c=a.target;if(l=v0(c)?{documents:B6(s,c)}:{query:ab(s,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=O6(s,a.resumeToken);const d=NN(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(Qe.min())>0){l.readTime=zf(s,a.snapshotVersion.toTimestamp());const d=NN(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=kQ(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=TN(this.serializer),n.removeTarget=e,this.K_(n)}}class EJ extends wB{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jQ(e.writeResults,e.commitTime),r=Rn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=TN(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Tp(this.serializer,r)))};this.K_(n)}}class CJ{}class NJ extends CJ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new be(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Wo(e,SN(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new be(fe.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.jo(e,SN(n,r),i,a,l,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new be(fe.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function SJ(t,e,n,r){return new NJ(t,e,n,r)}class TJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kn(n),this.aa=!1):we("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ru="RemoteStore";class PJ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((a=>{r.enqueueAndForget((async()=>{fc(this)&&(we(Ru,"Restarting streams for network reachability change."),await(async function(c){const d=Re(c);d.Ea.add(4),await uh(d),d.Va.set("Unknown"),d.Ea.delete(4),await cg(d)})(this))}))})),this.Va=new TJ(r,i)}}async function cg(t){if(fc(t))for(const e of t.Ra)await e(!0)}async function uh(t){for(const e of t.Ra)await e(!1)}function db(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),JT(n)?QT(n):fh(n).O_()&&YT(n,e))}function qf(t,e){const n=Re(t),r=fh(n);n.Ia.delete(e),r.O_()&&_B(n,e),n.Ia.size===0&&(r.O_()?r.L_():fc(n)&&n.Va.set("Unknown"))}function YT(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}fh(t).Z_(e)}function _B(t,e){t.da.$e(e),fh(t).X_(e)}function QT(t){t.da=new EQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),fh(t).start(),t.Va.ua()}function JT(t){return fc(t)&&!fh(t).x_()&&t.Ia.size>0}function fc(t){return Re(t).Ea.size===0}function EB(t){t.da=void 0}async function AJ(t){t.Va.set("Online")}async function IJ(t){t.Ia.forEach(((e,n)=>{YT(t,e)}))}async function jJ(t,e){EB(t),JT(t)?(t.Va.ha(e),QT(t)):t.Va.set("Unknown")}async function kJ(t,e,n){if(t.Va.set("Online"),e instanceof D6&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.da.removeTarget(l))})(t,e)}catch(r){we(Ru,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await P0(t,r)}else if(e instanceof qv?t.da.Xe(e):e instanceof R6?t.da.st(e):t.da.tt(e),!n.isEqual(Qe.min()))try{const r=await dB(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const l=s.da.Tt(a);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,d)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(_n.EMPTY_BYTE_STRING,f.snapshotVersion)),_B(s,c);const m=new mo(f.target,c,d,f.sequenceNumber);YT(s,m)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){we(Ru,"Failed to raise snapshot:",r),await P0(t,r)}}async function P0(t,e,n){if(!uc(e))throw e;t.Ea.add(1),await uh(t),t.Va.set("Offline"),n||(n=()=>dB(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{we(Ru,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await cg(t)}))}function CB(t,e){return e().catch((n=>P0(t,n,e)))}async function dh(t){const e=Re(t),n=tc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hl;for(;RJ(e);)try{const i=await mJ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,DJ(e,i)}catch(i){await P0(e,i)}NB(e)&&SB(e)}function RJ(t){return fc(t)&&t.Ta.length<10}function DJ(t,e){t.Ta.push(e);const n=tc(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function NB(t){return fc(t)&&!tc(t).x_()&&t.Ta.length>0}function SB(t){tc(t).start()}async function OJ(t){tc(t).ra()}async function MJ(t){const e=tc(t);for(const n of t.Ta)e.ea(n.mutations)}async function LJ(t,e,n){const r=t.Ta.shift(),i=MT.from(r,e,n);await CB(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await dh(t)}async function VJ(t,e){e&&tc(t).Y_&&await(async function(r,i){if((function(a){return I6(a)&&a!==fe.ABORTED})(i.code)){const s=r.Ta.shift();tc(r).B_(),await CB(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await dh(r)}})(t,e),NB(t)&&SB(t)}async function MR(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),we(Ru,"RemoteStore received new credentials");const r=fc(n);n.Ea.add(3),await uh(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await cg(n)}async function DN(t,e){const n=Re(t);e?(n.Ea.delete(2),await cg(n)):e||(n.Ea.add(2),await uh(n),n.Va.set("Unknown"))}function fh(t){return t.ma||(t.ma=(function(n,r,i){const s=Re(n);return s.sa(),new _J(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:AJ.bind(null,t),Yo:IJ.bind(null,t),t_:jJ.bind(null,t),J_:kJ.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),JT(t)?QT(t):t.Va.set("Unknown")):(await t.ma.stop(),EB(t))}))),t.ma}function tc(t){return t.fa||(t.fa=(function(n,r,i){const s=Re(n);return s.sa(),new EJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:OJ.bind(null,t),t_:VJ.bind(null,t),ta:MJ.bind(null,t),na:LJ.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await dh(t)):(await t.fa.stop(),t.Ta.length>0&&(we(Ru,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class ZT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new ZT(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hh(t,e){if(kn("AsyncQueue",`${e}: ${t}`),uc(t))return new be(fe.UNAVAILABLE,`${e}: ${t}`);throw t}class pu{static emptySet(e){return new pu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=Um(),this.sortedSet=new nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new pu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class LR{constructor(){this.ga=new nn(je.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Du{constructor(e,n,r,i,s,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new Du(e,n,pu.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ig(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class FJ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class BJ{constructor(){this.queries=VR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Re(n),s=i.queries;i.queries=VR(),s.forEach(((a,l)=>{for(const c of l.ba)c.onError(r)}))})(this,new be(fe.ABORTED,"Firestore shutting down"))}}function VR(){return new Mo((t=>p6(t)),ig)}async function eP(t,e){const n=Re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new FJ,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=hh(a,`Initialization of query '${tf(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&nP(n)}async function tP(t,e){const n=Re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.ba.indexOf(e);a>=0&&(s.ba.splice(a,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function zJ(t,e){const n=Re(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.ba)l.Fa(i)&&(r=!0);a.wa=i}}r&&nP(n)}function UJ(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function nP(t){t.Ca.forEach((e=>{e.next()}))}var ON,FR;(FR=ON||(ON={})).Ma="default",FR.Cache="cache";class rP{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Du(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Du.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ON.Cache}}class TB{constructor(e,n){this.qa=e,this.byteLength=n}Ua(){return"metadata"in this.qa}}class BR{constructor(e){this.serializer=e}Ks(e){return Ra(this.serializer,e)}qs(e){return e.metadata.exists?sb(this.serializer,e.document,!1):cn.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return Rn(e)}}class iP{constructor(e,n){this.$a=e,this.serializer=n,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=PB(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++n;const r=bt.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new BR(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ks(i.metadata.name);for(const a of i.metadata.queries){const l=(n.get(a)||gt()).add(s);n.set(a,l)}}return n}async ja(e){const n=await pJ(e,new BR(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const i of this.Wa)await gJ(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:n}}}function PB(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class AB{constructor(e){this.key=e}}class IB{constructor(e){this.key=e}}class jB{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=gt(),this.mutatedKeys=gt(),this.eu=y6(e),this.tu=new pu(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new LR,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,m)=>{const p=i.get(f),y=sg(this.query,m)?m:null,x=!!p&&this.mutatedKeys.has(p.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;p&&y?p.data.isEqual(y.data)?x!==b&&(r.track({type:3,doc:y}),_=!0):this.su(p,y)||(r.track({type:2,doc:y}),_=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(l=!0)):!p&&y?(r.track({type:0,doc:y}),_=!0):p&&!y&&(r.track({type:1,doc:p}),_=!0,(c||d)&&(l=!0)),_&&(y?(a=a.add(y),s=b?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Ss:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((f,m)=>(function(y,x){const b=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:_})}};return b(y)-b(x)})(f.type,m.type)||this.eu(f.doc,m.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,d=c!==this.Xa;return this.Xa=c,a.length!==0||d?{snapshot:new Du(this.query,e.tu,s,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new LR,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=gt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new IB(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new AB(r))})),n}cu(e){this.Za=e.ks,this.Ya=gt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Du.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const hc="SyncEngine";class $J{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qJ{constructor(e){this.key=e,this.hu=!1}}class HJ{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Mo((l=>p6(l)),ig),this.Iu=new Map,this.Eu=new Set,this.Ru=new nn(je.comparator),this.Au=new Map,this.Vu=new UT,this.du={},this.mu=new Map,this.fu=ku.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function WJ(t,e,n=!0){const r=fb(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await kB(r,e,n,!0),i}async function KJ(t,e){const n=fb(t);await kB(n,e,!0,!1)}async function kB(t,e,n,r){const i=await Uf(t.localStore,zr(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await sP(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&db(t.remoteStore,i),l}async function sP(t,e,n,r,i){t.pu=(m,p,y)=>(async function(b,_,S,M){let O=_.view.ru(S);O.Ss&&(O=await N0(b.localStore,_.query,!1).then((({documents:C})=>_.view.ru(C,O))));const z=M&&M.targetChanges.get(_.targetId),I=M&&M.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(O,b.isPrimaryClient,z,I);return MN(b,_.targetId,P.au),P.snapshot})(t,m,p,y);const s=await N0(t.localStore,e,!0),a=new jB(e,s.ks),l=a.ru(s.documents),c=lg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,c);MN(t,n,d.au);const f=new $J(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function GJ(t,e,n){const r=Re(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!ig(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $f(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&qf(r.remoteStore,i.targetId),Hf(r,i.targetId)})).catch(cc)):(Hf(r,i.targetId),await $f(r.localStore,i.targetId,!0))}async function XJ(t,e){const n=Re(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),qf(n.remoteStore,r.targetId))}async function YJ(t,e,n){const r=cP(t);try{const i=await(function(a,l){const c=Re(a),d=vt.now(),f=l.reduce(((y,x)=>y.add(x.key)),gt());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let x=mi(),b=gt();return c.xs.getEntries(y,f).next((_=>{x=_,x.forEach(((S,M)=>{M.isValidDocument()||(b=b.add(S))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,x))).next((_=>{m=_;const S=[];for(const M of l){const O=xQ(M,m.get(M.key).overlayedDocument);O!=null&&S.push(new Lo(M.key,O,i6(O.value.mapValue),mn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,S,l)})).next((_=>{p=_;const S=_.applyToLocalDocumentSet(m,b);return c.documentOverlayCache.saveOverlays(y,_.batchId,S)}))})).then((()=>({batchId:p.batchId,changes:x6(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,l,c){let d=a.du[a.currentUser.toKey()];d||(d=new nn(at)),d=d.insert(l,c),a.du[a.currentUser.toKey()]=d})(r,i.batchId,n),await Vo(r,i.changes),await dh(r.remoteStore)}catch(i){const s=hh(i,"Failed to persist write");n.reject(s)}}async function RB(t,e){const n=Re(t);try{const r=await hJ(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?He(a.hu,14607):i.removedDocuments.size>0&&(He(a.hu,42227),a.hu=!1))})),await Vo(n,r,e)}catch(r){await cc(r)}}function zR(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){const c=Re(a);c.onlineState=l;let d=!1;c.queries.forEach(((f,m)=>{for(const p of m.ba)p.va(l)&&(d=!0)})),d&&nP(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QJ(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new nn(je.comparator);a=a.insert(s,cn.newNoDocument(s,Qe.min()));const l=gt().add(s),c=new og(Qe.min(),new Map,new nn(at),a,l);await RB(r,c),r.Ru=r.Ru.remove(s),r.Au.delete(e),lP(r)}else await $f(r.localStore,e,!1).then((()=>Hf(r,e,n))).catch(cc)}async function JJ(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await fJ(n.localStore,e);oP(n,r,null),aP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vo(n,i)}catch(i){await cc(i)}}async function ZJ(t,e,n){const r=Re(t);try{const i=await(function(a,l){const c=Re(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next((m=>(He(m!==null,37113),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>c.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);oP(r,e,n),aP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Vo(r,i)}catch(i){await cc(i)}}async function eZ(t,e){const n=Re(t);fc(n.remoteStore)||we(hc,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(a){const l=Re(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(c=>l.mutationQueue.getHighestUnacknowledgedBatchId(c)))})(n.localStore);if(r===Hl)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=hh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function aP(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function oP(t,e,n){const r=Re(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Hf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||DB(t,r)}))}function DB(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(qf(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),lP(t))}function MN(t,e,n){for(const r of n)r instanceof AB?(t.Vu.addReference(r.key,e),tZ(t,r)):r instanceof IB?(we(hc,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||DB(t,r.key)):Le(19791,{wu:r})}function tZ(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(we(hc,"New document in limbo: "+n),t.Eu.add(r),lP(t))}function lP(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new je(bt.fromString(e)),r=t.fu.next();t.Au.set(r,new qJ(n)),t.Ru=t.Ru.insert(n,r),db(t.remoteStore,new mo(zr(oh(n.path)),r,"TargetPurposeLimboResolution",fi.ce))}}async function Vo(t,e,n){const r=Re(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{a.push(r.pu(c,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=WT.Es(c.targetId,d);s.push(f)}})))})),await Promise.all(a),r.Pu.J_(i),await(async function(c,d){const f=Re(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>le.forEach(d,(p=>le.forEach(p.Ts,(y=>f.persistence.referenceDelegate.addReference(m,p.targetId,y))).next((()=>le.forEach(p.Is,(y=>f.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))))))}catch(m){if(!uc(m))throw m;we(KT,"Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const y=f.vs.get(p),x=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(x);f.vs=f.vs.insert(p,b)}}})(r.localStore,s))}async function nZ(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){we(hc,"User change. New user:",e.toKey());const r=await uB(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((l=>{l.forEach((c=>{c.reject(new be(fe.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Vo(n,r.Ns)}}function rZ(t,e){const n=Re(t),r=n.Au.get(e);if(r&&r.hu)return gt().add(r.key);{let i=gt();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}async function iZ(t,e){const n=Re(t),r=await N0(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&MN(n,e.targetId,i.au),i}async function sZ(t,e){const n=Re(t);return mB(n.localStore,e).then((r=>Vo(n,r)))}async function aZ(t,e,n,r){const i=Re(t),s=await(function(l,c){const d=Re(l),f=Re(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(m=>f.Xn(m,c).next((p=>p?d.localDocuments.getDocuments(m,p):le.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await dh(i.remoteStore):n==="acknowledged"||n==="rejected"?(oP(i,e,r||null),aP(i,e),(function(l,c){Re(Re(l).mutationQueue).nr(c)})(i.localStore,e)):Le(6720,"Unknown batchState",{bu:n}),await Vo(i,s)):we(hc,"Cannot apply mutation batch with id: "+e)}async function oZ(t,e){const n=Re(t);if(fb(n),cP(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await UR(n,r.toArray());n.gu=!0,await DN(n.remoteStore,!0);for(const s of i)db(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(Hf(n,a),$f(n.localStore,a,!0)))),qf(n.remoteStore,a)})),await i,await UR(n,r),(function(a){const l=Re(a);l.Au.forEach(((c,d)=>{qf(l.remoteStore,d)})),l.Vu.zr(),l.Au=new Map,l.Ru=new nn(je.comparator)})(n),n.gu=!1,await DN(n.remoteStore,!1)}}async function UR(t,e,n){const r=Re(t),i=[],s=[];for(const a of e){let l;const c=r.Iu.get(a);if(c&&c.length!==0){l=await Uf(r.localStore,zr(c[0]));for(const d of c){const f=r.Tu.get(d),m=await iZ(r,f);m.snapshot&&s.push(m.snapshot)}}else{const d=await hB(r.localStore,a);l=await Uf(r.localStore,d),await sP(r,OB(d),a,!1,l.resumeToken)}i.push(l)}return r.Pu.J_(s),i}function OB(t){return f6(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function lZ(t){return(function(n){return Re(Re(n).persistence).hs()})(Re(t).localStore)}async function cZ(t,e,n,r){const i=Re(t);if(i.gu)return void we(hc,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await mB(i.localStore,g6(s[0])),l=og.createSynthesizedRemoteEventForCurrentChange(e,n==="current",_n.EMPTY_BYTE_STRING);await Vo(i,a,l);break}case"rejected":await $f(i.localStore,e,!0),Hf(i,e,r);break;default:Le(64155,n)}}async function uZ(t,e,n){const r=fb(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){we(hc,"Adding an already active target "+i);continue}const s=await hB(r.localStore,i),a=await Uf(r.localStore,s);await sP(r,OB(s),a.targetId,!1,a.resumeToken),db(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await $f(r.localStore,i,!1).then((()=>{qf(r.remoteStore,i),Hf(r,i)})).catch(cc)}}function fb(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QJ.bind(null,e),e.Pu.J_=zJ.bind(null,e.eventManager),e.Pu.yu=UJ.bind(null,e.eventManager),e}function cP(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ZJ.bind(null,e),e}function dZ(t,e,n){const r=Re(t);(async function(s,a,l){try{const c=await a.getMetadata();if(await(function(y,x){const b=Re(y),_=Rn(x.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",(S=>b.Pi.getBundleMetadata(S,x.id))).then((S=>!!S&&S.createTime.compareTo(_)>=0))})(s.localStore,c))return await a.close(),l._completeWith((function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}})(c)),Promise.resolve(new Set);l._updateProgress(PB(c));const d=new iP(c,a.serializer);let f=await a.Su();for(;f;){const p=await d.Ga(f);p&&l._updateProgress(p),f=await a.Su()}const m=await d.ja(s.localStore);return await Vo(s,m.Ja,void 0),await(function(y,x){const b=Re(y);return b.persistence.runTransaction("Save bundle","readwrite",(_=>b.Pi.saveBundleMetadata(_,x)))})(s.localStore,c),l._completeWith(m.progress),Promise.resolve(m.Ha)}catch(c){return vi(hc,`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return cB(this.persistence,new lB,e.initialUser,this.serializer)}Cu(e){return new $T(ub.Vi,this.serializer)}Du(e){return new xB}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class uP extends Wf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof C0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new nB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new $T((r=>C0.Vi(r,n)),this.serializer)}}class dP extends Wf{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await cP(this.xu.syncEngine),await dh(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return cB(this.persistence,new lB,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new nB(r,e.asyncQueue,n)}Mu(e,n){const r=new vY(n,this.persistence);return new yY(e.asyncQueue,r)}Cu(e){const n=HT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Vr.withCacheSize(this.cacheSizeBytes):Vr.DEFAULT;return new qT(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,bB(),Wv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new xB}}class MB extends dP{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof d_&&(this.sharedClientState.syncEngine={So:aZ.bind(null,n),Do:cZ.bind(null,n),Co:uZ.bind(null,n),hs:lZ.bind(null,n),bo:sZ.bind(null,n)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await oZ(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=bB();if(!d_.v(n))throw new be(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=HT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new d_(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class nc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=nZ.bind(null,this.syncEngine),await DN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new BJ})()}createDatastore(e){const n=Gu(e.databaseInfo.databaseId),r=wJ(e.databaseInfo);return SJ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,l){return new PJ(r,i,s,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>zR(this.syncEngine,n,0)),(function(){return DR.v()?new DR:new yJ})())}createSyncEngine(e,n){return(function(i,s,a,l,c,d,f){const m=new HJ(i,s,a,l,c,d);return f&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);we(Ru,"RemoteStore shutting down."),r.Ea.add(5),await uh(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}nc.provider={build:()=>new nc};function $R(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class hb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):kn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class fZ{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new ur,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.qu(`length string (${n}) is not valid number`);const i=await this.Uu(r);return new TB(JSON.parse(i),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}class hZ{constructor(e,n){this.bundleData=e,this.serializer=n,this.cursor=0,this.elements=[];let r=this.Su();if(!r||!r.Ua())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r?.qa)}`);this.metadata=r;do r=this.Su(),r!==null&&this.elements.push(r);while(r!==null)}getMetadata(){return this.metadata}Qu(){return this.elements}Su(){if(this.cursor===this.bundleData.length)return null;const e=this.Ku(),n=this.Uu(e);return new TB(JSON.parse(n),e)}Uu(e){if(this.cursor+e>this.bundleData.length)throw new be(fe.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}Ku(){const e=this.cursor;let n=this.cursor;for(;n<this.bundleData.length;){if(this.bundleData[n]==="{"){if(n===e)throw new Error("First character is a bracket and not a number");return this.cursor=n,Number(this.bundleData.slice(e,n))}n++}throw new Error("Reached the end of bundle when more is expected.")}}let mZ=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new be(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const a=Re(i),l={documents:s.map((m=>Sp(a.serializer,m)))},c=await a.jo("BatchGetDocuments",a.serializer.databaseId,bt.emptyPath(),l,s.length),d=new Map;c.forEach((m=>{const p=AQ(a.serializer,m);d.set(p.key.toString(),p)}));const f=[];return s.forEach((m=>{const p=d.get(m.toString());He(!!p,55234,{key:m}),f.push(p)})),f})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new ch(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=je.fromPath(r);this.mutations.push(new DT(i,this.precondition(i)))})),await(async function(r,i){const s=Re(r),a={writes:i.map((l=>Tp(s.serializer,l)))};await s.Wo("Commit",s.serializer.databaseId,bt.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Le(50498,{Gu:e.constructor.name});n=Qe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new be(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Qe.min())?mn.exists(!1):mn.updateTime(n):mn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Qe.min()))throw new be(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mn.updateTime(n)}return mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class pZ{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new XT(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new mZ(this.datastore),n=this.Ju(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Zu(i)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const n=this.updateFunction(e);return!tg(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!I6(n)}return!1}}const rc="FirestoreClient";class gZ{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=ar.UNAUTHENTICATED,this.clientId=Gx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{we(rc,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(we(rc,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hh(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function h_(t,e){t.asyncQueue.verifyOperationInProgress(),we(rc,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await uB(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function qR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fP(t);we(rc,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>MR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>MR(e.remoteStore,i))),t._onlineComponents=e}async function fP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(rc,"Using user provided OfflineComponentProvider");try{await h_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===fe.FAILED_PRECONDITION||i.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;vi("Error using user provided cache. Falling back to memory cache: "+n),await h_(t,new Wf)}}else we(rc,"Using default OfflineComponentProvider"),await h_(t,new uP(void 0));return t._offlineComponents}async function mb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(rc,"Using user provided OnlineComponentProvider"),await qR(t,t._uninitializedComponentsProvider._online)):(we(rc,"Using default OnlineComponentProvider"),await qR(t,new nc))),t._onlineComponents}function LB(t){return fP(t).then((e=>e.persistence))}function mh(t){return fP(t).then((e=>e.localStore))}function VB(t){return mb(t).then((e=>e.remoteStore))}function hP(t){return mb(t).then((e=>e.syncEngine))}function FB(t){return mb(t).then((e=>e.datastore))}async function Kf(t){const e=await mb(t),n=e.eventManager;return n.onListen=WJ.bind(null,e.syncEngine),n.onUnlisten=GJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XJ.bind(null,e.syncEngine),n}function yZ(t){return t.asyncQueue.enqueue((async()=>{const e=await LB(t),n=await VB(t);return e.setNetworkEnabled(!0),(function(i){const s=Re(i);return s.Ea.delete(0),cg(s)})(n)}))}function vZ(t){return t.asyncQueue.enqueue((async()=>{const e=await LB(t),n=await VB(t);return e.setNetworkEnabled(!1),(async function(i){const s=Re(i);s.Ea.add(0),await uh(s),s.Va.set("Offline")})(n)}))}function xZ(t,e,n,r){const i=new hb(r),s=new rP(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>eP(await Kf(t),s))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>tP(await Kf(t),s)))}}function bZ(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const l=await(function(d,f){const m=Re(d);return m.persistence.runTransaction("read document","readonly",(p=>m.localDocuments.getDocument(p,f)))})(i,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new be(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=hh(l,`Failed to get document '${s} from cache`);a.reject(c)}})(await mh(t),e,n))),n.promise}function BB(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,c,d){const f=new hb({next:p=>{f.Nu(),a.enqueueAndForget((()=>tP(s,m)));const y=p.docs.has(l);!y&&p.fromCache?d.reject(new be(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?d.reject(new be(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new rP(oh(l.path),f,{includeMetadataChanges:!0,Ka:!0});return eP(s,m)})(await Kf(t),t.asyncQueue,e,n,r))),r.promise}function wZ(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const l=await N0(i,s,!0),c=new jB(s,l.ks),d=c.ru(l.documents),f=c.applyChanges(d,!1);a.resolve(f.snapshot)}catch(l){const c=hh(l,`Failed to execute query '${s} against cache`);a.reject(c)}})(await mh(t),e,n))),n.promise}function zB(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,c,d){const f=new hb({next:p=>{f.Nu(),a.enqueueAndForget((()=>tP(s,m))),p.fromCache&&c.source==="server"?d.reject(new be(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new rP(l,f,{includeMetadataChanges:!0,Ka:!0});return eP(s,m)})(await Kf(t),t.asyncQueue,e,n,r))),r.promise}function _Z(t,e,n){const r=new ur;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await FB(t);r.resolve((async function(a,l,c){const d=Re(a),{request:f,gt:m,parent:p}=z6(d.serializer,h6(l),c);d.connection.Ko||delete f.parent;const y=(await d.jo("RunAggregationQuery",d.serializer.databaseId,p,f,1)).filter((b=>!!b.result));He(y.length===1,64727);const x=y[0].result?.aggregateFields;return Object.keys(x).reduce(((b,_)=>(b[m[_]]=x[_],b)),{})})(i,e,n))}catch(i){r.reject(i)}})),r.promise}function EZ(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((async()=>YJ(await hP(t),e,n))),n.promise}function CZ(t,e){const n=new hb(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Re(i).Ca.add(s),s.next()})(await Kf(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Re(i).Ca.delete(s)})(await Kf(t),n)))}}function NZ(t,e,n){const r=new ur;return t.asyncQueue.enqueueAndForget((async()=>{const i=await FB(t);new pZ(t.asyncQueue,i,n,e,r).ju()})),r.promise}function SZ(t,e,n,r){const i=(function(a,l){let c;return c=typeof a=="string"?k6().encode(a):a,(function(f,m){return new fZ(f,m)})((function(f,m){if(f instanceof Uint8Array)return $R(f,m);if(f instanceof ArrayBuffer)return $R(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(c),l)})(n,Gu(e));t.asyncQueue.enqueueAndForget((async()=>{dZ(await hP(t),i,r)}))}function TZ(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const s=Re(r);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Pi.getNamedQuery(a,i)))})(await mh(t),e)))}function UB(t,e){return(function(r,i){return new hZ(r,i)})(t,e)}function PZ(t,e){return t.asyncQueue.enqueue((async()=>(async function(r,i){const s=Re(r),a=s.indexManager,l=[];return s.persistence.runTransaction("Configure indexes","readwrite",(c=>a.getFieldIndexes(c).next((d=>(function(m,p,y,x,b){m=[...m],p=[...p],m.sort(y),p.sort(y);const _=m.length,S=p.length;let M=0,O=0;for(;M<S&&O<_;){const z=y(m[O],p[M]);z<0?b(m[O++]):z>0?x(p[M++]):(M++,O++)}for(;M<S;)x(p[M++]);for(;O<_;)b(m[O++])})(d,i,hY,(f=>{l.push(a.addFieldIndex(c,f))}),(f=>{l.push(a.deleteFieldIndex(c,f))})))).next((()=>le.waitFor(l)))))})(await mh(t),e)))}function AZ(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){Re(r).Cs.As=i})(await mh(t),e)))}function IZ(t){return t.asyncQueue.enqueue((async()=>(function(n){const r=Re(n),i=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",(s=>i.deleteAllFieldIndexes(s)))})(await mh(t))))}function $B(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const jZ="ComponentProvider",HR=new Map;function kZ(t,e,n,r,i){return new KY(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,$B(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const qB="firestore.googleapis.com",WR=!0;class KR{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new be(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qB,this.ssl=WR}else this.host=e.host,this.ssl=e.ssl??WR;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Q6;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tB)throw new be(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$B(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new be(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new be(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new be(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ug{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KR(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new TF;switch(r.type){case"firstParty":return new aY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new be(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=HR.get(n);r&&(we(jZ,"Removing Datastore"),HR.delete(n),r.terminate())})(this),Promise.resolve()}}function HB(t,e,n,r={}){t=wt(t,ug);const i=lc(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Kx(`https://${l}`),gT("Firestore",!0)),s.host!==qB&&s.host!==l&&vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!zs(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=ar.MOCK_USER;else{d=cF(r.mockUserToken,t._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new be(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ar(m)}t._authCredentials=new rY(new SF(d,f))}}class Xn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xn(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ku(n,Ht._jsonSchema))return new Ht(e,r||null,new je(bt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:zn("string",Ht._jsonSchemaVersion),referencePath:zn("string")};class Ms extends Xn{constructor(e,n,r){super(e,n,oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new je(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function it(t,e,...n){if(t=Rt(t),wT("collection","path",e),t instanceof ug){const r=bt.fromString(e,...n);return Ok(r),new Ms(t,null,r)}{if(!(t instanceof Ht||t instanceof Ms))throw new be(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return Ok(r),new Ms(t.firestore,null,r)}}function RZ(t,e){if(t=wt(t,ug),wT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new be(fe.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xn(t,null,(function(r){return new Oo(bt.emptyPath(),r)})(e))}function lt(t,e,...n){if(t=Rt(t),arguments.length===1&&(e=Gx.newId()),wT("doc","path",e),t instanceof ug){const r=bt.fromString(e,...n);return Dk(r),new Ht(t,null,new je(r))}{if(!(t instanceof Ht||t instanceof Ms))throw new be(fe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return Dk(r),new Ht(t.firestore,t instanceof Ms?t.converter:null,new je(r))}}function DZ(t,e){return t=Rt(t),e=Rt(e),(t instanceof Ht||t instanceof Ms)&&(e instanceof Ht||e instanceof Ms)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function mP(t,e){return t=Rt(t),e=Rt(e),t instanceof Xn&&e instanceof Xn&&t.firestore===e.firestore&&ig(t._query,e._query)&&t.converter===e.converter}const GR="AsyncQueue";class XR{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XT(this,"async_queue_retry"),this._c=()=>{const r=Wv();r&&we(GR,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Wv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Wv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!uc(e))throw e;we(GR,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,kn("INTERNAL UNHANDLED ERROR: ",YR(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=ZT.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Le(47125,{Pc:YR(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function YR(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class WB{constructor(){this._progressObserver={},this._taskCompletionResolver=new ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const KB=-1;class Kt extends ug{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new XR,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new XR(e),this._firestoreClient=void 0,await e}}}function GB(t,e,n){n||(n=_p);const r=sh(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(zs(s,e))return i;throw new be(fe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new be(fe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tB)throw new be(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&lc(e.host)&&Kx(e.host),r.initialize({options:e,instanceIdentifier:n})}function XB(t,e){const n=typeof t=="object"?t:xT(),r=typeof t=="string"?t:e||_p,i=sh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aF("firestore");s&&HB(i,...s)}return i}function gn(t){if(t._terminated)throw new be(fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||YB(t),t._firestoreClient}function YB(t){const e=t._freezeSettings(),n=kZ(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new gZ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}function OZ(t,e){vi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return QB(t,nc.provider,{build:r=>new dP(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function MZ(t){vi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();QB(t,nc.provider,{build:n=>new MB(n,e.cacheSizeBytes)})}function QB(t,e,n){if((t=wt(t,Kt))._firestoreClient||t._terminated)throw new be(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new be(fe.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},YB(t)}function LZ(t){if(t._initialized&&!t._terminated)throw new be(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ur;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!ka.v())return Promise.resolve();const i=r+oB;await ka.delete(i)})(HT(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function VZ(t){return(function(n){const r=new ur;return n.asyncQueue.enqueueAndForget((async()=>eZ(await hP(n),r))),r.promise})(gn(t=wt(t,Kt)))}function FZ(t){return yZ(gn(t=wt(t,Kt)))}function BZ(t){return vZ(gn(t=wt(t,Kt)))}function zZ(t){return zX(t.app,"firestore",t._databaseId.database),t._delete()}function LN(t,e){const n=gn(t=wt(t,Kt)),r=new WB;return SZ(n,t._databaseId,e,r),r}function JB(t,e){return TZ(gn(t=wt(t,Kt)),e).then((n=>n?new Xn(t,null,n.query):null))}class di{constructor(e){this._byteString=e}static fromBase64String(e){try{return new di(_n.fromBase64String(e))}catch(n){throw new be(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new di(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:di._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ku(e,di._jsonSchema))return di.fromBase64String(e.bytes)}}di._jsonSchemaVersion="firestore/bytes/1.0",di._jsonSchema={type:zn("string",di._jsonSchemaVersion),bytes:zn("string")};class Xu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new be(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function UZ(){return new Xu(fN)}class mc{constructor(e){this._methodName=e}}class Ls{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new be(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new be(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ls._jsonSchemaVersion}}static fromJSON(e){if(Ku(e,Ls._jsonSchema))return new Ls(e.latitude,e.longitude)}}Ls._jsonSchemaVersion="firestore/geoPoint/1.0",Ls._jsonSchema={type:zn("string",Ls._jsonSchemaVersion),latitude:zn("number"),longitude:zn("number")};class Bi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ku(e,Bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Bi(e.vectorValues);throw new be(fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:zn("string",Bi._jsonSchemaVersion),vectorValues:zn("object")};const $Z=/^__.*__$/;class qZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Lo(e,this.data,this.fieldMask,n,this.fieldTransforms):new lh(e,this.data,n,this.fieldTransforms)}}class ZB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Lo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ez(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{dataSource:t})}}class pb{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new pb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return A0(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(ez(this.dataSource)&&$Z.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class HZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gu(e)}createContext(e,n,r,i=!1){return new pb({dataSource:e,methodName:n,targetDoc:r,path:un.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Yu(t){const e=t._freezeSettings(),n=Gu(t._databaseId);return new HZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gb(t,e,n,r,i,s={}){const a=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);wP("Data must be an object, but it was:",a,r);const l=rz(r,a);let c,d;if(s.merge)c=new hi(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const p=So(e,m,n);if(!a.contains(p))throw new be(fe.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);sz(f,p)||f.push(p)}c=new hi(f),d=a.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=a.fieldTransforms;return new qZ(new lr(l),c,d)}class dg extends mc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dg}}function tz(t,e,n){return new pb({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pP extends mc{_toFieldTransform(e){return new ag(e.path,new Ff)}isEqual(e){return e instanceof pP}}class gP extends mc{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=tz(this,e,!0),r=this.Ac.map((s=>Qu(s,n))),i=new Pu(r);return new ag(e.path,i)}isEqual(e){return e instanceof gP&&zs(this.Ac,e.Ac)}}class yP extends mc{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=tz(this,e,!0),r=this.Ac.map((s=>Qu(s,n))),i=new Au(r);return new ag(e.path,i)}isEqual(e){return e instanceof yP&&zs(this.Ac,e.Ac)}}class vP extends mc{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Bf(e.serializer,_6(e.serializer,this.Vc));return new ag(e.path,n)}isEqual(e){return e instanceof vP&&this.Vc===e.Vc}}function xP(t,e,n,r){const i=t.createContext(1,e,n);wP("Data must be an object, but it was:",i,r);const s=[],a=lr.empty();dc(r,((c,d)=>{const f=_P(e,c,n);d=Rt(d);const m=i.childContextForFieldPath(f);if(d instanceof dg)s.push(f);else{const p=Qu(d,m);p!=null&&(s.push(f),a.set(f,p))}}));const l=new hi(s);return new ZB(a,l,i.fieldTransforms)}function bP(t,e,n,r,i,s){const a=t.createContext(1,e,n),l=[So(e,r,n)],c=[i];if(s.length%2!=0)throw new be(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(So(e,s[p])),c.push(s[p+1]);const d=[],f=lr.empty();for(let p=l.length-1;p>=0;--p)if(!sz(d,l[p])){const y=l[p];let x=c[p];x=Rt(x);const b=a.childContextForFieldPath(y);if(x instanceof dg)d.push(y);else{const _=Qu(x,b);_!=null&&(d.push(y),f.set(y,_))}}const m=new hi(d);return new ZB(f,m,a.fieldTransforms)}function nz(t,e,n,r=!1){return Qu(n,t.createContext(r?4:3,e))}function Qu(t,e){if(iz(t=Rt(t)))return wP("Unsupported field value:",e,t),rz(t,e);if(t instanceof mc)return(function(r,i){if(!ez(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const l of r){let c=Qu(l,i.childContextForArray(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=Rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=vt.fromDate(r);return{timestampValue:zf(i.serializer,s)}}if(r instanceof vt){const s=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zf(i.serializer,s)}}if(r instanceof Ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof di)return{bytesValue:O6(i.serializer,r._byteString)};if(r instanceof Ht){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:FT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Bi)return(function(a,l){const c=a instanceof Bi?a.toArray():a;return{mapValue:{fields:{[PT]:{stringValue:AT},[Mf]:{arrayValue:{values:c.map((f=>{if(typeof f!="number")throw l.createError("VectorValues must only contain numeric values.");return RT(l.serializer,f)}))}}}}}})(r,i);if(W6(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Xx(r)}`)})(t,e)}function rz(t,e){const n={};return XF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dc(t,((r,i)=>{const s=Qu(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function iz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof Ls||t instanceof di||t instanceof Ht||t instanceof mc||t instanceof Bi||W6(t))}function wP(t,e,n){if(!iz(n)||!IF(n)){const r=Xx(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function So(t,e,n){if((e=Rt(e))instanceof Xu)return e._internalPath;if(typeof e=="string")return _P(t,e);throw A0("Field path arguments must be of type string or ",t,!1,void 0,n)}const WZ=new RegExp("[~\\*/\\[\\]]");function _P(t,e,n){if(e.search(WZ)>=0)throw A0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Xu(...e.split("."))._internalPath}catch{throw A0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function A0(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new be(fe.INVALID_ARGUMENT,l+t+c)}function sz(t,e){return t.some((n=>n.isEqual(e)))}class EP{convertValue(e,n="none"){switch(Jl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(No(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return dc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[Mf].arrayValue?.values?.map((r=>hn(r.doubleValue)));return new Bi(n)}convertGeoPoint(e){return new Ls(hn(e.latitude),hn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(wp(e));default:return null}}convertTimestamp(e){const n=Co(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bt.fromString(e);He(H6(r),9688,{name:e});const i=new Ql(r.get(1),r.get(3)),s=new je(r.popFirst(5));return i.isEqual(n)||kn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class pc extends EP{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function KZ(){return new dg("deleteField")}function os(){return new pP("serverTimestamp")}function GZ(...t){return new gP("arrayUnion",t)}function XZ(...t){return new yP("arrayRemove",t)}function YZ(t){return new vP("increment",t)}function QZ(t){return new Bi(t)}function JZ(t){const e=gn(wt(t.firestore,Kt)),n=e._onlineComponents?.datastore.serializer;return n===void 0?null:ab(n,zr(t._query)).ft}function ZZ(t,e){const n=GF(e,((s,a)=>new A6(a,s.aggregateType,s._internalFieldPath))),r=gn(wt(t.firestore,Kt)),i=r._onlineComponents?.datastore.serializer;return i===void 0?null:z6(i,h6(t._query),n,!0).request}const QR="@firebase/firestore",JR="4.11.0";function xf(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Gf{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class az{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new lr({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class Pp{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(So("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eee extends Pp{data(){return super.data()}}function oz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CP{}class ph extends CP{}function It(t,e,...n){let r=[];e instanceof CP&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((c=>c instanceof Ju)).length,l=s.filter((c=>c instanceof gh)).length;if(a>1||a>0&&l>0)throw new be(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class gh extends ph{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new gh(e,n,r)}_apply(e){const n=this._parse(e);return cz(e._query,n),new Xn(e.firestore,e.converter,EN(e._query,n))}_parse(e){const n=Yu(e.firestore);return(function(s,a,l,c,d,f,m){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new be(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){eD(m,f);const x=[];for(const b of m)x.push(ZR(c,s,b));p={arrayValue:{values:x}}}else p=ZR(c,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||eD(m,f),p=nz(l,a,m,f==="in"||f==="not-in");return St.create(d,f,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Et(t,e,n){const r=e,i=So("where",t);return gh._create(i,r,n)}class Ju extends CP{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ju(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:qt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const l=s.getFlattenedFilters();for(const c of l)cz(a,c),a=EN(a,c)})(e._query,n),new Xn(e.firestore,e.converter,EN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function tee(...t){return t.forEach((e=>uz("or",e))),Ju._create("or",t)}function nee(...t){return t.forEach((e=>uz("and",e))),Ju._create("and",t)}class yb extends ph{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yb(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new be(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new be(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Np(s,a)})(e._query,this._field,this._direction);return new Xn(e.firestore,e.converter,aQ(e._query,n))}}function fg(t,e="asc"){const n=e,r=So("orderBy",t);return yb._create(r,n)}class hg extends ph{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new hg(e,n,r)}_apply(e){return new Xn(e.firestore,e.converter,b0(e._query,this._limit,this._limitType))}}function ba(t){return jF("limit",t),hg._create("limit",t,"F")}function ree(t){return jF("limitToLast",t),hg._create("limitToLast",t,"L")}class mg extends ph{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new mg(e,n,r)}_apply(e){const n=lz(e,this.type,this._docOrFields,this._inclusive);return new Xn(e.firestore,e.converter,oQ(e._query,n))}}function iee(...t){return mg._create("startAt",t,!0)}function see(...t){return mg._create("startAfter",t,!1)}class pg extends ph{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new pg(e,n,r)}_apply(e){const n=lz(e,this.type,this._docOrFields,this._inclusive);return new Xn(e.firestore,e.converter,lQ(e._query,n))}}function aee(...t){return pg._create("endBefore",t,!1)}function oee(...t){return pg._create("endAt",t,!0)}function lz(t,e,n,r){if(n[0]=Rt(n[0]),n[0]instanceof Pp)return(function(s,a,l,c,d){if(!c)throw new be(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const f=[];for(const m of yf(s))if(m.field.isKeyField())f.push(Su(a,c.key));else{const p=c.data.field(m.field);if(eb(p))throw new be(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const y=m.field.canonicalString();throw new be(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(p)}return new ec(f,d)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Yu(t.firestore);return(function(a,l,c,d,f,m){const p=a.explicitOrderBy;if(f.length>p.length)throw new be(fe.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let x=0;x<f.length;x++){const b=f[x];if(p[x].field.isKeyField()){if(typeof b!="string")throw new be(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof b}`);if(!jT(a)&&b.indexOf("/")!==-1)throw new be(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${b}' contains a slash.`);const _=a.path.child(bt.fromString(b));if(!je.isDocumentKey(_))throw new be(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const S=new je(_);y.push(Su(l,S))}else{const _=nz(c,d,b);y.push(_)}}return new ec(y,m)})(t._query,t.firestore._databaseId,i,e,n,r)}}function ZR(t,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new be(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!jT(e)&&n.indexOf("/")!==-1)throw new be(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bt.fromString(n));if(!je.isDocumentKey(r))throw new be(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Su(t,new je(r))}if(n instanceof Ht)return Su(t,n._key);throw new be(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Xx(n)}.`)}function eD(t,e){if(!Array.isArray(t)||t.length===0)throw new be(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cz(t,e){const n=(function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new be(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function uz(t,e){if(!(e instanceof gh||e instanceof Ju))throw new be(fe.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function vb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class NP extends EP{constructor(e){super(),this.firestore=e}convertBytes(e){return new di(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function lee(t){return new Gf("sum",So("sum",t))}function cee(t){return new Gf("avg",So("average",t))}function dz(){return new Gf("count")}function uee(t,e){return t instanceof Gf&&e instanceof Gf&&t.aggregateType===e.aggregateType&&t._internalFieldPath?.canonicalString()===e._internalFieldPath?.canonicalString()}function dee(t,e){return mP(t.query,e.query)&&zs(t.data(),e.data())}function fee(t){return fz(t,{count:dz()})}function fz(t,e){const n=wt(t.firestore,Kt),r=gn(n),i=GF(e,((s,a)=>new A6(a,s.aggregateType,s._internalFieldPath)));return _Z(r,t._query,i).then((s=>(function(l,c,d){const f=new pc(l);return new az(c,f,d)})(n,t,s)))}class hee{constructor(e){this.kind="memory",this._onlineComponentProvider=nc.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new uP(void 0)}}toJSON(){return{kind:this.kind}}}class mee{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=mz(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class pee{constructor(){this.kind="memoryEager",this._offlineComponentProvider=Wf.provider}toJSON(){return{kind:this.kind}}}class gee{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new uP(e)}}toJSON(){return{kind:this.kind}}}function yee(){return new pee}function vee(t){return new gee(t?.cacheSizeBytes)}function xee(t){return new hee(t)}function hz(t){return new mee(t)}class bee{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=nc.provider,this._offlineComponentProvider={build:n=>new dP(n,e?.cacheSizeBytes,this.forceOwnership)}}}class wee{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=nc.provider,this._offlineComponentProvider={build:n=>new MB(n,e?.cacheSizeBytes)}}}function mz(t){return new bee(t?.forceOwnership)}function pz(){return new wee}const gz="NOT SUPPORTED";class po{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gi extends Pp{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(So("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new be(fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=gi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}function _ee(t,e,n){if(Ku(e,gi._jsonSchema)){if(e.bundle===gz)throw new be(fe.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Gu(t._databaseId),i=UB(e.bundle,r),s=i.t(),a=new iP(i.getMetadata(),r);for(const f of s)a.o(f);const l=a.documents;if(l.length!==1)throw new be(fe.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${l.length} documents.`);const c=sb(r,l[0].document),d=new je(bt.fromString(e.bundleName));return new gi(t,new NP(t),d,c,new po(!1,!1),n||null)}}gi._jsonSchemaVersion="firestore/documentSnapshot/1.0",gi._jsonSchema={type:zn("string",gi._jsonSchemaVersion),bundleSource:zn("string","DocumentSnapshot"),bundleName:zn("string"),bundle:zn("string")};class sp extends gi{data(e={}){return super.data(e)}}class yi{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new po(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new sp(this._firestore,this._userDataWriter,r.key,r,new po(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new be(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{const c=new sp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new po(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const c=new sp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new po(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:Cee(l.type),doc:c,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new be(fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Eee(t,e,n){if(Ku(e,yi._jsonSchema)){if(e.bundle===gz)throw new be(fe.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Gu(t._databaseId),i=UB(e.bundle,r),s=i.t(),a=new iP(i.getMetadata(),r);for(const p of s)a.o(p);if(a.queries.length!==1)throw new be(fe.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${a.queries.length} queries.`);const l=ob(a.queries[0].bundledQuery),c=a.documents;let d=new pu;c.map((p=>{const y=sb(r,p.document);d=d.add(y)}));const f=Du.fromInitialDocuments(l,d,gt(),!1,!1),m=new Xn(t,n||null,l);return new yi(t,new NP(t),m,f)}}function Cee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}function Nee(t,e){return t instanceof gi&&e instanceof gi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof yi&&e instanceof yi&&t._firestore===e._firestore&&mP(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}yi._jsonSchemaVersion="firestore/querySnapshot/1.0",yi._jsonSchema={type:zn("string",yi._jsonSchemaVersion),bundleSource:zn("string","QuerySnapshot"),bundleName:zn("string"),bundle:zn("string")};const See={maxAttempts:5};class yz{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Yu(e)}set(e,n,r){this._verifyNotCommitted();const i=Vl(e,this._firestore),s=vb(i.converter,n,r),a=gb(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,mn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Vl(e,this._firestore);let a;return a=typeof(n=Rt(n))=="string"||n instanceof Xu?bP(this._dataReader,"WriteBatch.update",s._key,n,r,i):xP(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Vl(e,this._firestore);return this._mutations=this._mutations.concat(new ch(n._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new be(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vl(t,e){if((t=Rt(t)).firestore!==e)throw new be(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Tee{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Yu(e)}get(e){const n=Vl(e,this._firestore),r=new NP(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Le(24041);const s=i[0];if(s.isFoundDocument())return new Pp(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Pp(this._firestore,r,n._key,null,n.converter);throw Le(18433,{doc:s})}))}set(e,n,r){const i=Vl(e,this._firestore),s=vb(i.converter,n,r),a=gb(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=Vl(e,this._firestore);let a;return a=typeof(n=Rt(n))=="string"||n instanceof Xu?bP(this._dataReader,"Transaction.update",s._key,n,r,i):xP(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=Vl(e,this._firestore);return this._transaction.delete(n._key),this}}class vz extends Tee{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Vl(e,this._firestore),r=new pc(this._firestore);return super.get(e).then((i=>new gi(this._firestore,r,n._key,i._document,new po(!1,!1),n.converter)))}}function SP(t,e,n){t=wt(t,Kt);const r={...See,...n};(function(a){if(a.maxAttempts<1)throw new be(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const i=gn(t);return NZ(i,(s=>e(new vz(t,s))),r)}function cs(t){t=wt(t,Ht);const e=wt(t.firestore,Kt),n=gn(e);return BB(n,t._key).then((r=>TP(e,t,r)))}function Pee(t){t=wt(t,Ht);const e=wt(t.firestore,Kt),n=gn(e),r=new pc(e);return bZ(n,t._key).then((i=>new gi(e,r,t._key,i,new po(i!==null&&i.hasLocalMutations,!0),t.converter)))}function Aee(t){t=wt(t,Ht);const e=wt(t.firestore,Kt),n=gn(e);return BB(n,t._key,{source:"server"}).then((r=>TP(e,t,r)))}function Pt(t){t=wt(t,Xn);const e=wt(t.firestore,Kt),n=gn(e),r=new pc(e);return oz(t._query),zB(n,t._query).then((i=>new yi(e,r,t,i)))}function Iee(t){t=wt(t,Xn);const e=wt(t.firestore,Kt),n=gn(e),r=new pc(e);return wZ(n,t._query).then((i=>new yi(e,r,t,i)))}function jee(t){t=wt(t,Xn);const e=wt(t.firestore,Kt),n=gn(e),r=new pc(e);return zB(n,t._query,{source:"server"}).then((i=>new yi(e,r,t,i)))}function cr(t,e,n){t=wt(t,Ht);const r=wt(t.firestore,Kt),i=vb(t.converter,e,n),s=Yu(r);return yh(r,[gb(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mn.none())])}function us(t,e,n,...r){t=wt(t,Ht);const i=wt(t.firestore,Kt),s=Yu(i);let a;return a=typeof(e=Rt(e))=="string"||e instanceof Xu?bP(s,"updateDoc",t._key,e,n,r):xP(s,"updateDoc",t._key,e),yh(i,[a.toMutation(t._key,mn.exists(!0))])}function Ou(t){return yh(wt(t.firestore,Kt),[new ch(t._key,mn.none())])}function zi(t,e){const n=wt(t.firestore,Kt),r=lt(t),i=vb(t.converter,e),s=Yu(t.firestore);return yh(n,[gb(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,mn.exists(!1))]).then((()=>r))}function xi(t,...e){t=Rt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||xf(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(xf(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,a,l;if(t instanceof Ht)a=wt(t.firestore,Kt),l=oh(t._key.path),s={next:d=>{e[r]&&e[r](TP(a,t,d))},error:e[r+1],complete:e[r+2]};else{const d=wt(t,Xn);a=wt(d.firestore,Kt),l=d._query;const f=new pc(a);s={next:m=>{e[r]&&e[r](new yi(a,f,d,m))},error:e[r+1],complete:e[r+2]},oz(t._query)}const c=gn(a);return xZ(c,l,i,s)}function kee(t,e,...n){const r=Rt(t),i=(function(c){const d={bundle:"",bundleName:"",bundleSource:""},f=["bundle","bundleName","bundleSource"];for(const m of f){if(!(m in c)){d.error=`snapshotJson missing required field: ${m}`;break}const p=c[m];if(typeof p!="string"){d.error=`snapshotJson field '${m}' must be a string.`;break}if(p.length===0){d.error=`snapshotJson field '${m}' cannot be an empty string.`;break}m==="bundle"?d.bundle=p:m==="bundleName"?d.bundleName=p:m==="bundleSource"&&(d.bundleSource=p)}return d})(e);if(i.error)throw new be(fe.INVALID_ARGUMENT,i.error);let s,a=0;if(typeof n[a]!="object"||xf(n[a])||(s=n[a++]),i.bundleSource==="QuerySnapshot"){let l=null;if(typeof n[a]=="object"&&xf(n[a])){const c=n[a++];l={next:c.next,error:c.error,complete:c.complete}}else l={next:n[a++],error:n[a++],complete:n[a++]};return(function(d,f,m,p,y){let x,b=!1;return LN(d,f.bundle).then((()=>JB(d,f.bundleName))).then((S=>{S&&!b&&(y&&S.withConverter(y),x=xi(S,m||{},p))})).catch((S=>(p.error&&p.error(S),()=>{}))),()=>{b||(b=!0,x&&x())}})(r,i,s,l,n[a])}if(i.bundleSource==="DocumentSnapshot"){let l=null;if(typeof n[a]=="object"&&xf(n[a])){const c=n[a++];l={next:c.next,error:c.error,complete:c.complete}}else l={next:n[a++],error:n[a++],complete:n[a++]};return(function(d,f,m,p,y){let x,b=!1;return LN(d,f.bundle).then((()=>{if(!b){const S=new Ht(d,y||null,je.fromPath(f.bundleName));x=xi(S,m||{},p)}})).catch((S=>(p.error&&p.error(S),()=>{}))),()=>{b||(b=!0,x&&x())}})(r,i,s,l,n[a])}throw new be(fe.INVALID_ARGUMENT,`unsupported bundle source: ${i.bundleSource}`)}function Ree(t,e){t=wt(t,Kt);const n=gn(t),r=xf(e)?e:{next:e};return CZ(n,r)}function yh(t,e){const n=gn(t);return EZ(n,e)}function TP(t,e,n){const r=n.docs.get(e._key),i=new pc(t);return new gi(t,i,e._key,r,new po(n.hasPendingWrites,n.fromCache),e.converter)}function iu(t){return t=wt(t,Kt),gn(t),new yz(t,(e=>yh(t,e)))}function Dee(t,e){t=wt(t,Kt);const n=gn(t);if(!n._uninitializedComponentsProvider||n._uninitializedComponentsProvider._offline.kind==="memory")return vi("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=(function(s){const a=typeof s=="string"?(function(d){try{return JSON.parse(d)}catch(f){throw new be(fe.INVALID_ARGUMENT,"Failed to parse JSON: "+f?.message)}})(s):s,l=[];if(Array.isArray(a.indexes))for(const c of a.indexes){const d=tD(c,"collectionGroup"),f=[];if(Array.isArray(c.fields))for(const m of c.fields){const p=tD(m,"fieldPath"),y=_P("setIndexConfiguration",p);m.arrayConfig==="CONTAINS"?f.push(new hu(y,2)):m.order==="ASCENDING"?f.push(new hu(y,0)):m.order==="DESCENDING"&&f.push(new hu(y,1))}l.push(new If(If.UNKNOWN_ID,d,f,jf.empty()))}return l})(e);return PZ(n,r)}function tD(t,e){if(typeof t[e]!="string")throw new be(fe.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}class xz{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function Oee(t){t=wt(t,Kt);const e=nD.get(t);if(e)return e;if(gn(t)._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;const r=new xz(t);return nD.set(t,r),r}function Mee(t){bz(t,!0)}function Lee(t){bz(t,!1)}function Vee(t){const e=gn(t._firestore);IZ(e).then((n=>we("deleting all persistent cache indexes succeeded"))).catch((n=>vi("deleting all persistent cache indexes failed",n)))}function bz(t,e){const n=gn(t._firestore);AZ(n,e).then((r=>we(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((r=>vi(`setting persistent cache index auto creation isEnabled=${e} failed`,r)))}const nD=new WeakMap;class Fee{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return PP.instance.onExistenceFilterMismatch(e)}}class PP{constructor(){this.i=new Map}static get instance(){return sv||(sv=new PP,wQ(sv)),sv}u(e){this.i.forEach((n=>n(e)))}onExistenceFilterMismatch(e){const n=Symbol(),r=this.i;return r.set(n,e),()=>r.delete(n)}}let sv=null;(function(e,n=!0){eY(Wu),Nu(new Xl("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new Kt(new iY(r.getProvider("auth-internal")),new oY(a,r.getProvider("app-check-internal")),GY(a,i),a);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),ja(QR,JR,e),ja(QR,JR,"esm2020")})();const Bee=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:EP,AggregateField:Gf,AggregateQuerySnapshot:az,Bytes:di,CACHE_SIZE_UNLIMITED:KB,CollectionReference:Ms,DocumentReference:Ht,DocumentSnapshot:gi,FieldPath:Xu,FieldValue:mc,Firestore:Kt,FirestoreError:be,GeoPoint:Ls,LoadBundleTask:WB,PersistentCacheIndexManager:xz,Query:Xn,QueryCompositeFilterConstraint:Ju,QueryConstraint:ph,QueryDocumentSnapshot:sp,QueryEndAtConstraint:pg,QueryFieldFilterConstraint:gh,QueryLimitConstraint:hg,QueryOrderByConstraint:yb,QuerySnapshot:yi,QueryStartAtConstraint:mg,SnapshotMetadata:po,Timestamp:vt,Transaction:vz,VectorValue:Bi,WriteBatch:yz,_AutoId:Gx,_ByteString:_n,_DatabaseId:Ql,_DocumentKey:je,_EmptyAppCheckTokenProvider:lY,_EmptyAuthCredentialsProvider:TF,_FieldPath:un,_TestingHooks:Fee,_cast:wt,_debugAssert:nY,_internalAggregationQueryToProtoRunAggregationQueryRequest:ZZ,_internalQueryToProtoQueryTarget:JZ,_isBase64Available:HY,_logWarn:vi,_validateIsNotUsedTogether:AF,addDoc:zi,aggregateFieldEqual:uee,aggregateQuerySnapshotEqual:dee,and:nee,arrayRemove:XZ,arrayUnion:GZ,average:cee,clearIndexedDbPersistence:LZ,collection:it,collectionGroup:RZ,connectFirestoreEmulator:HB,count:dz,deleteAllPersistentCacheIndexes:Vee,deleteDoc:Ou,deleteField:KZ,disableNetwork:BZ,disablePersistentCacheIndexAutoCreation:Lee,doc:lt,documentId:UZ,documentSnapshotFromJSON:_ee,enableIndexedDbPersistence:OZ,enableMultiTabIndexedDbPersistence:MZ,enableNetwork:FZ,enablePersistentCacheIndexAutoCreation:Mee,endAt:oee,endBefore:aee,ensureFirestoreConfigured:gn,executeWrite:yh,getAggregateFromServer:fz,getCountFromServer:fee,getDoc:cs,getDocFromCache:Pee,getDocFromServer:Aee,getDocs:Pt,getDocsFromCache:Iee,getDocsFromServer:jee,getFirestore:XB,getPersistentCacheIndexManager:Oee,increment:YZ,initializeFirestore:GB,limit:ba,limitToLast:ree,loadBundle:LN,memoryEagerGarbageCollector:yee,memoryLocalCache:xee,memoryLruGarbageCollector:vee,namedQuery:JB,onSnapshot:xi,onSnapshotResume:kee,onSnapshotsInSync:Ree,or:tee,orderBy:fg,persistentLocalCache:hz,persistentMultipleTabManager:pz,persistentSingleTabManager:mz,query:It,queryEqual:mP,querySnapshotFromJSON:Eee,refEqual:DZ,runTransaction:SP,serverTimestamp:os,setDoc:cr,setIndexConfiguration:Dee,setLogLevel:tY,snapshotEqual:Nee,startAfter:see,startAt:iee,sum:lee,terminate:zZ,updateDoc:us,vector:QZ,waitForPendingWrites:VZ,where:Et,writeBatch:iu},Symbol.toStringTag,{value:"Module"}));var zee="firebase",Uee="12.9.0";ja(zee,Uee,"app");function wz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $ee=wz,_z=new Zp("auth","Firebase",wz());const I0=new yT("@firebase/auth");function qee(t,...e){I0.logLevel<=Nt.WARN&&I0.warn(`Auth (${Wu}): ${t}`,...e)}function Kv(t,...e){I0.logLevel<=Nt.ERROR&&I0.error(`Auth (${Wu}): ${t}`,...e)}function ds(t,...e){throw IP(t,...e)}function Vs(t,...e){return IP(t,...e)}function AP(t,e,n){const r={...$ee(),[e]:n};return new Zp("auth","Firebase",r).create(e,{appName:t.name})}function wo(t){return AP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hee(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ds(t,"argument-error"),AP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function IP(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _z.create(t,...e)}function ot(t,e,...n){if(!t)throw IP(e,...n)}function go(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kv(e),new Error(e)}function To(t,e){t||go(e)}function VN(){return typeof self<"u"&&self.location?.href||""}function Wee(){return rD()==="http:"||rD()==="https:"}function rD(){return typeof self<"u"&&self.location?.protocol||null}function Kee(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wee()||DG()||"connection"in navigator)?navigator.onLine:!0}function Gee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class gg{constructor(e,n){this.shortDelay=e,this.longDelay=n,To(n>e,"Short delay should be less than long delay!"),this.isMobile=kG()||OG()}get(){return Kee()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jP(t,e){To(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Ez{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;go("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;go("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;go("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Yee=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Qee=new gg(3e4,6e4);function Fo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function qa(t,e,n,r,i={}){return Cz(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=eg({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...s};return RG()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&lc(t.emulatorConfig.host)&&(d.credentials="include"),Ez.fetch()(await Nz(t,t.config.apiHost,n,l),d)})}async function Cz(t,e,n){t._canInitEmulator=!1;const r={...Xee,...e};try{const i=new Zee(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw av(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw av(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw av(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw av(t,"user-disabled",a);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw AP(t,f,d);ds(t,f)}}catch(i){if(i instanceof $a)throw i;ds(t,"network-request-failed",{message:String(i)})}}async function yg(t,e,n,r,i={}){const s=await qa(t,e,n,r,i);return"mfaPendingCredential"in s&&ds(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Nz(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?jP(t.config,i):`${t.config.apiScheme}://${i}`;return Yee.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function Jee(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zee{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vs(this.auth,"network-request-failed")),Qee.get())})}}function av(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vs(t,e,r);return i.customData._tokenResponse=n,i}function iD(t){return t!==void 0&&t.enterprise!==void 0}class ete{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Jee(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function tte(t,e){return qa(t,"GET","/v2/recaptchaConfig",Fo(t,e))}async function nte(t,e){return qa(t,"POST","/v1/accounts:delete",e)}async function j0(t,e){return qa(t,"POST","/v1/accounts:lookup",e)}function ap(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rte(t,e=!1){const n=Rt(t),r=await n.getIdToken(e),i=kP(r);ot(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:ap(m_(i.auth_time)),issuedAtTime:ap(m_(i.iat)),expirationTime:ap(m_(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function m_(t){return Number(t)*1e3}function kP(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Kv("JWT malformed, contained fewer than 3 sections"),null;try{const i=rF(n);return i?JSON.parse(i):(Kv("Failed to decode base64 JWT payload"),null)}catch(i){return Kv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function sD(t){const e=kP(t);return ot(e,"internal-error"),ot(typeof e.exp<"u","internal-error"),ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Xf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $a&&ite(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ite({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class ste{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class FN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ap(this.lastLoginAt),this.creationTime=ap(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function k0(t){const e=t.auth,n=await t.getIdToken(),r=await Xf(t,j0(e,{idToken:n}));ot(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?Sz(i.providerUserInfo):[],a=ote(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new FN(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function ate(t){const e=Rt(t);await k0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ote(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Sz(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function lte(t,e){const n=await Cz(t,{},async()=>{const r=eg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await Nz(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&lc(t.emulatorConfig.host)&&(c.credentials="include"),Ez.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function cte(t,e){return qa(t,"POST","/v2/accounts:revokeToken",Fo(t,e))}class bf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ot(e.idToken,"internal-error"),ot(typeof e.idToken<"u","internal-error"),ot(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ot(e.length!==0,"internal-error");const n=sD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await lte(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new bf;return r&&(ot(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(ot(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(ot(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bf,this.toJSON())}_performRefresh(){return go("not implemented")}}function wl(t,e){ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new ste(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new FN(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Xf(this,this.stsTokenManager.getToken(this.auth,e));return ot(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rte(this,e)}reload(){return ate(this)}_assign(e){this!==e&&(ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await k0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(wo(this.auth));const e=await this.getIdToken();return await Xf(this,nte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:y,providerData:x,stsTokenManager:b}=n;ot(m&&b,e,"internal-error");const _=bf.fromJSON(this.name,b);ot(typeof m=="string",e,"internal-error"),wl(r,e.name),wl(i,e.name),ot(typeof p=="boolean",e,"internal-error"),ot(typeof y=="boolean",e,"internal-error"),wl(s,e.name),wl(a,e.name),wl(l,e.name),wl(c,e.name),wl(d,e.name),wl(f,e.name);const S=new Rs({uid:m,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:_,createdAt:d,lastLoginAt:f});return x&&Array.isArray(x)&&(S.providerData=x.map(M=>({...M}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new bf;i.updateFromServerResponse(n);const s=new Rs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await k0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ot(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Sz(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,l=new bf;l.updateFromIdToken(r);const c=new Rs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new FN(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,d),c}}const aD=new Map;function yo(t){To(t instanceof Function,"Expected a class definition");let e=aD.get(t);return e?(To(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aD.set(t,e),e)}class Tz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Tz.type="NONE";const oD=Tz;function Gv(t,e,n){return`firebase:${t}:${e}:${n}`}class wf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Gv(this.userKey,i.apiKey,s),this.fullPersistenceKey=Gv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await j0(this.auth,{idToken:e}).catch(()=>{});return n?Rs._fromGetAccountInfoResponse(this.auth,n,e):null}return Rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wf(yo(oD),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||yo(oD);const a=Gv(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(a);if(f){let m;if(typeof f=="string"){const p=await j0(e,{idToken:f}).catch(()=>{});if(!p)break;m=await Rs._fromGetAccountInfoResponse(e,p,f)}else m=Rs._fromJSON(e,f);d!==s&&(l=m),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new wf(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new wf(s,e,r))}}function lD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Rz(e))return"Blackberry";if(Dz(e))return"Webos";if(Az(e))return"Safari";if((e.includes("chrome/")||Iz(e))&&!e.includes("edge/"))return"Chrome";if(kz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Pz(t=Gn()){return/firefox\//i.test(t)}function Az(t=Gn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Iz(t=Gn()){return/crios\//i.test(t)}function jz(t=Gn()){return/iemobile/i.test(t)}function kz(t=Gn()){return/android/i.test(t)}function Rz(t=Gn()){return/blackberry/i.test(t)}function Dz(t=Gn()){return/webos/i.test(t)}function RP(t=Gn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ute(t=Gn()){return RP(t)&&!!window.navigator?.standalone}function dte(){return MG()&&document.documentMode===10}function Oz(t=Gn()){return RP(t)||kz(t)||Dz(t)||Rz(t)||/windows phone/i.test(t)||jz(t)}function Mz(t,e=[]){let n;switch(t){case"Browser":n=lD(Gn());break;case"Worker":n=`${lD(Gn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wu}/${r}`}class fte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function hte(t,e={}){return qa(t,"GET","/v2/passwordPolicy",Fo(t,e))}const mte=6;class pte{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mte,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class gte{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cD(this),this.idTokenSubscription=new cD(this),this.beforeStateQueue=new fte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_z,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=yo(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await wf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await j0(this,{idToken:e}),r=await Rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ui(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await k0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Gee()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ui(this.app))return Promise.reject(wo(this));const n=e?Rt(e):null;return n&&ot(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(wo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ui(this.app)?Promise.reject(wo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(yo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hte(this),n=new pte(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await cte(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&yo(e)||this._popupRedirectResolver;ot(n,this,"argument-error"),this.redirectPersistenceManager=await wf.create(this,[yo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(ot(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Mz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&qee(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Bo(t){return Rt(t)}class cD{constructor(e){this.auth=e,this.observer=null,this.addObserver=UG(n=>this.observer=n)}get next(){return ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let xb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yte(t){xb=t}function Lz(t){return xb.loadJS(t)}function vte(){return xb.recaptchaEnterpriseScript}function xte(){return xb.gapiScript}function bte(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class wte{constructor(){this.enterprise=new _te}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class _te{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Ete="recaptcha-enterprise",Vz="NO_RECAPTCHA";class Cte{constructor(e){this.type=Ete,this.auth=Bo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{tte(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new ete(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;iD(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(Vz)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wte().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&iD(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=vte();c.length!==0&&(c+=l),Lz(c).then(()=>{i(l,s,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function uD(t,e,n,r=!1,i=!1){const s=new Cte(t);let a;if(i)a=Vz;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function R0(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await uD(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await uD(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}function Nte(t,e){const n=sh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(zs(s,e??{}))return i;ds(i,"already-initialized")}return n.initialize({options:e})}function Ste(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(yo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Tte(t,e,n){const r=Bo(t);ot(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Fz(e),{host:a,port:l}=Pte(e),c=l===null?"":`:${l}`,d={url:`${s}//${a}${c}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ot(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ot(zs(d,r.config.emulator)&&zs(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,lc(a)?(Kx(`${s}//${a}${c}`),gT("Auth",!0)):Ate()}function Fz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Pte(t){const e=Fz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:dD(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:dD(a)}}}function dD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ate(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class DP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return go("not implemented")}_getIdTokenResponse(e){return go("not implemented")}_linkToIdToken(e,n){return go("not implemented")}_getReauthenticationResolver(e){return go("not implemented")}}async function Ite(t,e){return qa(t,"POST","/v1/accounts:update",e)}async function jte(t,e){return qa(t,"POST","/v1/accounts:signUp",e)}async function kte(t,e){return yg(t,"POST","/v1/accounts:signInWithPassword",Fo(t,e))}async function Rte(t,e){return qa(t,"POST","/v1/accounts:sendOobCode",Fo(t,e))}async function Dte(t,e){return Rte(t,e)}async function Ote(t,e){return yg(t,"POST","/v1/accounts:signInWithEmailLink",Fo(t,e))}async function Mte(t,e){return yg(t,"POST","/v1/accounts:signInWithEmailLink",Fo(t,e))}class Ap extends DP{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ap(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ap(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R0(e,n,"signInWithPassword",kte);case"emailLink":return Ote(e,{email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return R0(e,r,"signUpPassword",jte);case"emailLink":return Mte(e,{idToken:n,email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function _f(t,e){return yg(t,"POST","/v1/accounts:signInWithIdp",Fo(t,e))}const Lte="http://localhost";class Mu extends DP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Mu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return _f(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,_f(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_f(e,n)}buildRequest(){const e={requestUri:Lte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=eg(n)}return e}}function Vte(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Fte(t){const e=Fm(Bm(t)).link,n=e?Fm(Bm(e)).deep_link_id:null,r=Fm(Bm(t)).deep_link_id;return(r?Fm(Bm(r)).link:null)||r||n||e||t}class OP{constructor(e){const n=Fm(Bm(e)),r=n.apiKey??null,i=n.oobCode??null,s=Vte(n.mode??null);ot(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=Fte(e);try{return new OP(n)}catch{return null}}}class Zu{constructor(){this.providerId=Zu.PROVIDER_ID}static credential(e,n){return Ap._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=OP.parseLink(n);return ot(r,"argument-error"),Ap._fromEmailAndCode(e,r.code,r.tenantId)}}Zu.PROVIDER_ID="password";Zu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class MP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vg extends MP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class kl extends vg{constructor(){super("facebook.com")}static credential(e){return Mu._fromParams({providerId:kl.PROVIDER_ID,signInMethod:kl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kl.credentialFromTaggedObject(e)}static credentialFromError(e){return kl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kl.credential(e.oauthAccessToken)}catch{return null}}}kl.FACEBOOK_SIGN_IN_METHOD="facebook.com";kl.PROVIDER_ID="facebook.com";class uo extends vg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mu._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.GOOGLE_SIGN_IN_METHOD="google.com";uo.PROVIDER_ID="google.com";class Rl extends vg{constructor(){super("github.com")}static credential(e){return Mu._fromParams({providerId:Rl.PROVIDER_ID,signInMethod:Rl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rl.credentialFromTaggedObject(e)}static credentialFromError(e){return Rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rl.credential(e.oauthAccessToken)}catch{return null}}}Rl.GITHUB_SIGN_IN_METHOD="github.com";Rl.PROVIDER_ID="github.com";class Dl extends vg{constructor(){super("twitter.com")}static credential(e,n){return Mu._fromParams({providerId:Dl.PROVIDER_ID,signInMethod:Dl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dl.credentialFromTaggedObject(e)}static credentialFromError(e){return Dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Dl.credential(n,r)}catch{return null}}}Dl.TWITTER_SIGN_IN_METHOD="twitter.com";Dl.PROVIDER_ID="twitter.com";async function Bte(t,e){return yg(t,"POST","/v1/accounts:signUp",Fo(t,e))}class Lu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Rs._fromIdTokenResponse(e,r,i),a=fD(r);return new Lu({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=fD(r);return new Lu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function fD(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class D0 extends $a{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,D0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new D0(e,n,r,i)}}function Bz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?D0._fromErrorAndOperation(t,s,e,r):s})}async function zte(t,e,n=!1){const r=await Xf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Lu._forOperation(t,"link",r)}async function zz(t,e,n=!1){const{auth:r}=t;if(ui(r.app))return Promise.reject(wo(r));const i="reauthenticate";try{const s=await Xf(t,Bz(r,i,e,t),n);ot(s.idToken,r,"internal-error");const a=kP(s.idToken);ot(a,r,"internal-error");const{sub:l}=a;return ot(t.uid===l,r,"user-mismatch"),Lu._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ds(r,"user-mismatch"),s}}async function Uz(t,e,n=!1){if(ui(t.app))return Promise.reject(wo(t));const r="signIn",i=await Bz(t,r,e),s=await Lu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Ute(t,e){return Uz(Bo(t),e)}async function $te(t,e){return zz(Rt(t),e)}async function $z(t){const e=Bo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function qte(t,e,n){const r=Bo(t);await R0(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Dte)}async function Hte(t,e,n){if(ui(t.app))return Promise.reject(wo(t));const r=Bo(t),a=await R0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bte).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&$z(t),c}),l=await Lu._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function hD(t,e,n){return ui(t.app)?Promise.reject(wo(t)):Ute(Rt(t),Zu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$z(t),r})}function qz(t,e){return Wte(Rt(t),null,e)}async function Wte(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const a=await Xf(t,Ite(r,s));await t._updateTokensIfNecessary(a,!0)}function Kte(t,e){return Rt(t).setPersistence(e)}function Gte(t,e,n,r){return Rt(t).onIdTokenChanged(e,n,r)}function Xte(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function Yte(t,e,n,r){return Rt(t).onAuthStateChanged(e,n,r)}function Qte(t){return Rt(t).signOut()}async function Jte(t){return Rt(t).delete()}const O0="__sak";class Hz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(O0,"1"),this.storage.removeItem(O0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Zte=1e3,ene=10;class Wz extends Hz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Oz(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);dte()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ene):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Zte)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Wz.type="LOCAL";const Kz=Wz;class Gz extends Hz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Gz.type="SESSION";const Xz=Gz;function tne(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class bb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new bb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async d=>d(n.origin,s)),c=await tne(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bb.receivers=[];function LP(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class nne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const d=LP("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Da(){return window}function rne(t){Da().location.href=t}function Yz(){return typeof Da().WorkerGlobalScope<"u"&&typeof Da().importScripts=="function"}async function ine(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sne(){return navigator?.serviceWorker?.controller||null}function ane(){return Yz()?self:null}const Qz="firebaseLocalStorageDb",one=1,M0="firebaseLocalStorage",Jz="fbase_key";class xg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wb(t,e){return t.transaction([M0],e?"readwrite":"readonly").objectStore(M0)}function lne(){const t=indexedDB.deleteDatabase(Qz);return new xg(t).toPromise()}function BN(){const t=indexedDB.open(Qz,one);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(M0,{keyPath:Jz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(M0)?e(r):(r.close(),await lne(),e(await BN()))})})}async function mD(t,e,n){const r=wb(t,!0).put({[Jz]:e,value:n});return new xg(r).toPromise()}async function cne(t,e){const n=wb(t,!1).get(e),r=await new xg(n).toPromise();return r===void 0?null:r.value}function pD(t,e){const n=wb(t,!0).delete(e);return new xg(n).toPromise()}const une=800,dne=3;class Zz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await BN(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>dne)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Yz()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bb._getInstance(ane()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ine(),!this.activeServiceWorker)return;this.sender=new nne(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await BN();return await mD(e,O0,"1"),await pD(e,O0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>mD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cne(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pD(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=wb(i,!1).getAll();return new xg(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),une)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zz.type="LOCAL";const fne=Zz;new gg(3e4,6e4);function eU(t,e){return e?yo(e):(ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class VP extends DP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _f(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _f(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _f(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function hne(t){return Uz(t.auth,new VP(t),t.bypassAuthState)}function mne(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),zz(n,new VP(t),t.bypassAuthState)}async function pne(t){const{auth:e,user:n}=t;return ot(n,e,"internal-error"),zte(n,new VP(t),t.bypassAuthState)}class tU{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hne;case"linkViaPopup":case"linkViaRedirect":return pne;case"reauthViaPopup":case"reauthViaRedirect":return mne;default:ds(this.auth,"internal-error")}}resolve(e){To(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){To(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gne=new gg(2e3,1e4);async function yne(t,e,n){if(ui(t.app))return Promise.reject(Vs(t,"operation-not-supported-in-this-environment"));const r=Bo(t);Hee(t,e,MP);const i=eU(r,n);return new au(r,"signInViaPopup",e,i).executeNotNull()}class au extends tU{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,au.currentPopupAction&&au.currentPopupAction.cancel(),au.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ot(e,this.auth,"internal-error"),e}async onExecution(){To(this.filter.length===1,"Popup operations only handle one event");const e=LP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,au.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gne.get())};e()}}au.currentPopupAction=null;const vne="pendingRedirect",Xv=new Map;class xne extends tU{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xv.get(this.auth._key());if(!e){try{const r=await bne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xv.set(this.auth._key(),e)}return this.bypassAuthState||Xv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bne(t,e){const n=Ene(e),r=_ne(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wne(t,e){Xv.set(t._key(),e)}function _ne(t){return yo(t._redirectPersistence)}function Ene(t){return Gv(vne,t.config.apiKey,t.name)}async function Cne(t,e,n=!1){if(ui(t.app))return Promise.reject(wo(t));const r=Bo(t),i=eU(r,e),a=await new xne(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}const Nne=600*1e3;class Sne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Tne(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!nU(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Vs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Nne&&this.cachedEventUids.clear(),this.cachedEventUids.has(gD(e))}saveEventToCache(e){this.cachedEventUids.add(gD(e)),this.lastProcessedEventTime=Date.now()}}function gD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nU({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Tne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nU(t);default:return!1}}async function Pne(t,e={}){return qa(t,"GET","/v1/projects",e)}const Ane=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ine=/^https?/;async function jne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Pne(t);for(const n of e)try{if(kne(n))return}catch{}ds(t,"unauthorized-domain")}function kne(t){const e=VN(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Ine.test(n))return!1;if(Ane.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Rne=new gg(3e4,6e4);function yD(){const t=Da().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Dne(t){return new Promise((e,n)=>{function r(){yD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yD(),n(Vs(t,"network-request-failed"))},timeout:Rne.get()})}if(Da().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Da().gapi?.load)r();else{const i=bte("iframefcb");return Da()[i]=()=>{gapi.load?r():n(Vs(t,"network-request-failed"))},Lz(`${xte()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw Yv=null,e})}let Yv=null;function One(t){return Yv=Yv||Dne(t),Yv}const Mne=new gg(5e3,15e3),Lne="__/auth/iframe",Vne="emulator/auth/iframe",Fne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Bne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zne(t){const e=t.config;ot(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jP(e,Vne):`https://${t.config.authDomain}/${Lne}`,r={apiKey:e.apiKey,appName:t.name,v:Wu},i=Bne.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${eg(r).slice(1)}`}async function Une(t){const e=await One(t),n=Da().gapi;return ot(n,t,"internal-error"),e.open({where:document.body,url:zne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fne,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Vs(t,"network-request-failed"),l=Da().setTimeout(()=>{s(a)},Mne.get());function c(){Da().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}const $ne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qne=500,Hne=600,Wne="_blank",Kne="http://localhost";class vD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gne(t,e,n,r=qne,i=Hne){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...$ne,width:r.toString(),height:i.toString(),top:s,left:a},d=Gn().toLowerCase();n&&(l=Iz(d)?Wne:n),Pz(d)&&(e=e||Kne,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[y,x])=>`${p}${y}=${x},`,"");if(ute(d)&&l!=="_self")return Xne(e||"",l),new vD(null);const m=window.open(e||"",l,f);ot(m,t,"popup-blocked");try{m.focus()}catch{}return new vD(m)}function Xne(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const Yne="__/auth/handler",Qne="emulator/auth/handler",Jne=encodeURIComponent("fac");async function xD(t,e,n,r,i,s){ot(t.config.authDomain,t,"auth-domain-config-required"),ot(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wu,eventId:i};if(e instanceof MP){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",zG(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof vg){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${Jne}=${encodeURIComponent(c)}`:"";return`${Zne(t)}?${eg(l).slice(1)}${d}`}function Zne({config:t}){return t.emulator?jP(t,Qne):`https://${t.authDomain}/${Yne}`}const p_="webStorageSupport";class ere{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xz,this._completeRedirectFn=Cne,this._overrideRedirectResult=wne}async _openPopup(e,n,r,i){To(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await xD(e,n,r,VN(),i);return Gne(e,s,LP())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await xD(e,n,r,VN(),i);return rne(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(To(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Une(e),r=new Sne(e);return n.register("authEvent",i=>(ot(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(p_,{type:p_},i=>{const s=i?.[0]?.[p_];s!==void 0&&n(!!s),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jne(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Oz()||Az()||RP()}}const tre=ere;var bD="@firebase/auth",wD="1.12.0";class nre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rre(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ire(t){Nu(new Xl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;ot(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Mz(t)},d=new gte(r,i,s,c);return Ste(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nu(new Xl("auth-internal",e=>{const n=Bo(e.getProvider("auth").getImmediate());return(r=>new nre(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ja(bD,wD,rre(t)),ja(bD,wD,"esm2020")}const sre=300,are=lF("authIdTokenMaxAge")||sre;let _D=null;const ore=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>are)return;const i=n?.token;_D!==i&&(_D=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lre(t=xT()){const e=sh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Nte(t,{popupRedirectResolver:tre,persistence:[fne,Kz,Xz]}),r=lF("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=ore(s.toString());Xte(n,a,()=>a(n.currentUser)),Gte(n,l=>a(l))}}const i=sF("auth");return i&&Tte(n,`http://${i}`),n}function cre(){return document.getElementsByTagName("head")?.[0]??document}yte({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cre().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ire("Browser");const rU="firebasestorage.googleapis.com",ure="storageBucket",dre=120*1e3,fre=600*1e3;class Ha extends $a{constructor(e,n,r=0){super(g_(e),`Firebase Storage: ${n} (${g_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ha.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return g_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Va;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Va||(Va={}));function g_(t){return"storage/"+t}function hre(){const t="An unknown error occurred, please check the error payload for server response.";return new Ha(Va.UNKNOWN,t)}function mre(){return new Ha(Va.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function pre(){return new Ha(Va.CANCELED,"User canceled the upload/download.")}function gre(t){return new Ha(Va.INVALID_URL,"Invalid URL '"+t+"'.")}function yre(t){return new Ha(Va.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ED(t){return new Ha(Va.INVALID_ARGUMENT,t)}function iU(){return new Ha(Va.APP_DELETED,"The Firebase app was deleted.")}function vre(t){return new Ha(Va.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ds{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ds.makeFromUrl(e,n)}catch{return new Ds(e,"")}if(r.path==="")return r;throw yre(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function d(z){z.path_=decodeURIComponent(z.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${f}/b/${i}/o${p}`,"i"),x={bucket:1,path:3},b=n===rU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",S=new RegExp(`^https?://${b}/${i}/${_}`,"i"),O=[{regex:l,indices:c,postModify:s},{regex:y,indices:x,postModify:d},{regex:S,indices:{bucket:1,path:2},postModify:d}];for(let z=0;z<O.length;z++){const I=O[z],P=I.regex.exec(e);if(P){const C=P[I.indices.bucket];let N=P[I.indices.path];N||(N=""),r=new Ds(C,N),I.postModify(r);break}}if(r==null)throw gre(e);return r}}class xre{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function bre(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function c(){return l===2}let d=!1;function f(..._){d||(d=!0,e.apply(null,_))}function m(_){i=setTimeout(()=>{i=null,t(y,c())},_)}function p(){s&&clearTimeout(s)}function y(_,...S){if(d){p();return}if(_){p(),f.call(null,_,...S);return}if(c()||a){p(),f.call(null,_,...S);return}r<64&&(r*=2);let O;l===1?(l=2,O=0):O=(r+Math.random())*1e3,m(O)}let x=!1;function b(_){x||(x=!0,p(),!d&&(i!==null?(_||(l=2),clearTimeout(i),m(0)):_||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,b(!0)},n),b}function wre(t){t(!1)}function _re(t){return t!==void 0}function CD(t,e,n,r){if(r<e)throw ED(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ED(`Invalid value for '${t}'. Expected ${n} or less.`)}function Ere(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var L0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(L0||(L0={}));function Cre(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class Nre{constructor(e,n,r,i,s,a,l,c,d,f,m,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new ov(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===L0.NO_ERROR,c=s.getStatus();if(!l||Cre(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===L0.ABORT;r(!1,new ov(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new ov(d,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());_re(c)?s(c):s()}catch(c){a(c)}else if(l!==null){const c=hre();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?iU():pre();a(c)}else{const c=mre();a(c)}};this.canceled_?n(!1,new ov(!1,null,!0)):this.backoffId_=bre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ov{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Sre(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Tre(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Pre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Are(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Ire(t,e,n,r,i,s,a=!0,l=!1){const c=Ere(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return Pre(f,e),Sre(f,n),Tre(f,s),Are(f,r),new Nre(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,l)}function jre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function kre(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class V0{constructor(e,n){this._service=e,n instanceof Ds?this._location=n:this._location=Ds.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new V0(e,n)}get root(){const e=new Ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return kre(this._location.path)}get storage(){return this._service}get parent(){const e=jre(this._location.path);if(e===null)return null;const n=new Ds(this._location.bucket,e);return new V0(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vre(e)}}function ND(t,e){const n=e?.[ure];return n==null?null:Ds.makeFromBucketSpec(n,t)}function Rre(t,e,n,r={}){t.host=`${e}:${n}`;const i=lc(e);i&&(Kx(`https://${t.host}/b`),gT("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:cF(s,t.app.options.projectId))}class Dre{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=rU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dre,this._maxUploadRetryTime=fre,this._requests=new Set,i!=null?this._bucket=Ds.makeFromBucketSpec(i,this._host):this._bucket=ND(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ds.makeFromBucketSpec(this._url,e):this._bucket=ND(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new V0(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new xre(iU());{const a=Ire(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const SD="@firebase/storage",TD="0.14.0";const sU="storage";function Ore(t=xT(),e){t=Rt(t);const r=sh(t,sU).getImmediate({identifier:e}),i=aF("storage");return i&&Mre(r,...i),r}function Mre(t,e,n,r={}){Rre(t,e,n,r)}function Lre(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Dre(n,r,i,e,Wu)}function Vre(){Nu(new Xl(sU,Lre,"PUBLIC").setMultipleInstances(!0)),ja(SD,TD,""),ja(SD,TD,"esm2020")}Vre();const Fre={apiKey:"AIzaSyBv8ljlrTY9LsoPUZPQpw1YaX2W6D5_O54",authDomain:"nexcoin-1f42f.firebaseapp.com",projectId:"nexcoin-1f42f",storageBucket:"nexcoin-1f42f.firebasestorage.app",messagingSenderId:"575773698878",appId:"1:575773698878:web:29261adabbe23c039f1a6f"},F0=Ak().length===0?gF(Fre):Ak()[0],bn=lre(F0);Kte(bn,Kz).then(()=>{console.log(" Persistncia do Firebase Auth configurada com sucesso")}).catch(t=>{console.error(" Erro ao configurar persistncia:",t)});let Ee;try{Ee=XB(F0)}catch{Ee=GB(F0,{localCache:hz({tabManager:pz(),cacheSizeBytes:KB})})}const Bre=console.error;console.error=(...t)=>{typeof t[0]=="string"&&(t[0].includes("WebChannelConnection")||t[0].includes("@firebase/firestore"))||Bre(...t)};Ore(F0);const zN={pt:{countries:{BR:"Brasil",US:"Estados Unidos",PT:"Portugal",ES:"Espanha",FR:"Frana",DE:"Alemanha",IT:"Itlia",GB:"Reino Unido",NL:"Holanda",BE:"Blgica",CH:"Sua",AT:"ustria",CA:"Canad",AU:"Austrlia",MX:"Mxico",AR:"Argentina",CL:"Chile",CO:"Colmbia"},fiatAccounts:{title:"Contas",subtitle:"Gerencie suas contas bancrias",accounts:"Contas",manageBankAccounts:"Gerencie suas contas bancrias",accountData:"Dados da conta",accountSettings:"Configuraes da Conta",selectAccount:"Selecionar conta",chooseAccountToTransact:"Escolha a conta para transacionar",addNewAccount:"Adicionar Nova Conta",addAccount:"Adicionar Conta",noAccountsFound:"Nenhuma conta encontrada",addFiatAccount:"Adicione uma conta fiat para comear",add:"Adicionar",addButton:"Adicionar",creating:"Criando...",removeAccount:"Remover Conta",closeAccount:"Encerrar conta",deleteAccount:"Deletar Conta",openingAccount:"Abrindo Conta",configuringAccount:"Configurando sua conta de {country}",validating:"Validando dados",generating:"Gerando nmero da conta",security:"Configurando segurana",finalizing:"Finalizando abertura",completedSteps:"{completed} de {total} etapas concludas",accountExists:"Conta j existe",accountExistsDesc:"Voc j possui uma conta bancria de {country}. No  possvel criar mais de uma conta por pas.",accountCreated:"Conta criada",accountCreatedDesc:"Conta bancria de {country} criada com sucesso!",pixKeysCreated:"Chaves PIX criadas!",pixKeysCreatedDesc:"Suas chaves PIX (email e telefone) foram configuradas automaticamente.",errorCreatingAccount:"Erro ao criar conta",errorCreatingAccountDesc:"No foi possvel criar a conta bancria. Tente novamente.",error:"Erro",accountIdNotFound:"ID da conta no encontrado.",closeAccountConfirm:`Tem certeza que deseja encerrar esta conta?

Esta ao no pode ser desfeita e voc perder todos os dados desta conta bancria.`,accountClosed:"Conta encerrada",accountClosedDesc:"A conta bancria foi encerrada com sucesso.",errorClosingAccount:"Erro ao encerrar conta",errorClosingAccountDesc:"No foi possvel encerrar a conta. Tente novamente.",permissionError:"Erro de permisso",permissionErrorDesc:"Verifique se as regras do Firestore foram configuradas corretamente.",firestoreRulesWarning:" Regras do Firestore no configuradas",firestoreRulesDesc:"Voc precisa atualizar as regras do Firestore. Consulte o guia para instrues detalhadas.",institution:"Instituio",bank:"Banco",accountType:"Tipo de Conta",accountNumber:"Nmero da conta",bankCode:"Cdigo do Banco",institutionCode:"Cdigo da Instituio",iban:"IBAN",swiftBic:"SWIFT/BIC",sortCode:"Sort Code",branchCode:"Branch Code",agency:"Agncia",routingNumber:"Routing Number",bsb:"BSB",shareData:"Compartilhar dados",domesticOnly:"Apenas para transferncias domsticas",internationalOnly:"Apenas para transferncias internacionais",transferTimeTip:"Normalmente as transferncias levam de trs a cinco dias teis para aparecer na sua conta",feeTip:"O banco do remetente ou intermedirio poder cobrar por pagamentos internacionais",swiftOnlyTip:"Aceitamos somente transferncias SWIFT",noFeeTip:"No cobraremos nenhuma taxa de transferncia para esta conta.",pixTip:"Voc pode usar os dados da sua conta ou chave Pix para receber transferncias 24 horas, sem complicaes.",addFunds:"Adicionar Fundos",depositMethod:"Mtodo de Depsito",depositAmount:"Valor do Depsito",transferDetails:"Dados para Transferncia",selectPixKey:"Selecione a Chave PIX",selectKey:"Selecione uma chave",pixKeys:"Chaves Pix",pixQrCode:"QR Code PIX",copyPixCode:"Copiar Cdigo PIX",codeCopied:"Cdigo Copiado!",depositHint:"Dica: Insira o valor do depsito acima para gerar o QR Code PIX.",noPixKeys:"Nenhuma chave PIX cadastrada. Cadastre uma chave PIX para usar este mtodo.",simulationWarning:'Simulao: Em produo, o sistema aguardaria confirmao da transferncia bancria. Aqui, o saldo ser adicionado instantaneamente ao clicar em "Confirmar Depsito".',confirmDeposit:"Confirmar Depsito",depositVia:"Depsito via",depositSuccess:"Depsito realizado com sucesso!",depositError:"Erro ao processar depsito",recipient:"Destinatrio",yourPixKeys:"Suas chaves Pix",registeredKeys:"Suas chaves cadastradas",keysAutoCreated:" Suas chaves PIX (email e telefone) foram criadas automaticamente",noKeysFound:"Nenhuma chave PIX encontrada",errorCopying:"Erro ao copiar chave"},welcome:"Bem-vindo",createAccount:"Criar Conta",login:"Entrar",signUp:"Cadastro",termsAgreement:"Ao se cadastrar, voc concorda com nossos Termos de Servio e Poltica de Privacidade.",futureOfFinance:"Future of Finance",dontHaveAccount:"No tem uma conta?",alreadyHaveAccount:"J tem uma conta?",email:"E-mail",phone:"Telefone",fullName:"Nome completo",password:"Senha",confirmPassword:"Confirmar senha",forgotPassword:"Esqueceu a senha?",continue:"Continuar",initialSetup:"Configurao inicial",countryCurrencySubtitle:"Selecione seu pas de origem e a moeda preferencial para suas transaes.",choosePin:"Escolha sua senha de acesso",choosePinSubtitle:"Crie uma senha de 6 dgitos para entrar no aplicativo e autorizar suas transaes.",confirmPin:"Confirme sua senha",confirmPinSubtitle:"Digite novamente sua senha de 6 dgitos para confirmar.",enterPin:"Digite seu PIN",enterPinSubtitle:"Digite seu PIN de 6 dgitos para acessar sua conta",forgotPin:"Esqueci meu PIN",pinsDontMatch:"As senhas no coincidem. Tente novamente.",pinSetupSuccess:"Senha configurada com sucesso!",portuguese:"Portugus",english:"Ingls",spanish:"Espanhol",register:"Cadastrar",invalidName:"Nome invlido",invalidEmail:"E-mail invlido",invalidPhone:"Telefone invlido",phoneNotFound:"Telefone no encontrado",passwordRequirement:"A senha deve ter pelo menos 8 caracteres, 1 maiscula e 1 caractere especial",passwordsDontMatch:"As senhas no coincidem",privacyPolicy:"Poltica de Privacidade",or:"ou",incorrectPassword:"Senha incorreta",loginError:"Erro ao fazer login",home:"Incio",wallet:"Carteira",convert:"Converter",crypto:"Cripto",profile:"Perfil",totalBalance:"Saldo total",hideBalance:"Ocultar saldo",showBalance:"Exibir saldo",recentTransactions:"Transaes recentes",deposit:"Depositar",withdraw:"Sacar",transfer:"Transferir",noTransactions:"Nenhuma transao ainda",quickActions:"Aes rpidas",viewAll:"Ver tudo",statement:"Extrato",viewAllTransactions:"Ver todas as transaes",market:"Mercado",myAccounts:"Minhas Contas",myCryptos:"Minhas Criptomoedas",trade:"Negociar",activity:"Atividade",myWallet:"Minha Carteira",assets:"Ativos",search:"Pesquisar",totalAssets:"Total em ativos",cryptoAssets:"Ativos em Cripto",fiatBalance:"Saldo em Fiat",manageHoldings:"Gerenciar ativos",send:"Enviar",loadingAssets:"Carregando ativos...",noAssetsInPortfolio:"Nenhum ativo no portflio",startAddingCryptos:"Comece adicionando criptomoedas na aba",goToCrypto:"Ir para Cripto",cryptocurrencies:"Criptomoedas",removeAsset:"Remover ativo",addBalance:"Adicionar Saldo",enterValidValue:"Digite um valor vlido",balanceAddedSuccess:"Saldo adicionado com sucesso!",errorAddingBalance:"Erro ao adicionar saldo",add:"Adicionar",confirmDeletion:"Confirmar Excluso",areYouSureDelete:"Tem certeza que deseja remover permanentemente",fromYourPortfolio:"do seu portflio?",currentBalance:"Saldo atual",valueToAdd:"Valor a adicionar",newBalance:"Novo saldo",adding:"Adicionando...",addCryptosToPortfolio:"Adicione criptomoedas ao seu portflio",toAddMoreCryptos:"Para adicionar mais criptomoedas, v na aba",selectAssetToDelete:"Selecione um ativo para excluir",assetRemovedSuccess:"Ativo removido com sucesso!",errorRemovingAsset:"Erro ao remover ativo",removing:"Removendo...",remove:"Remover",cashAndStablecoins:"Dinheiro e Stablecoins",cancel:"Cancelar",brazilianReal:"Real Brasileiro (PIX)",usDollar:"Dlar Americano",euro:"Euro",sterling:"Libra Esterlina",stablecoin:"Stablecoin",japaneseYen:"Iene Japons",canadianDollar:"Dlar Canadense",australianDollar:"Dlar Australiano",swissFranc:"Franco Suo",chineseYuan:"Yuan Chins",indianRupee:"Rpia Indiana",mexicanPeso:"Peso Mexicano",argentinePeso:"Peso Argentino",convertCrypto:"Converter Cripto",from:"De",to:"Para",amount:"Valor",youGet:"Voc recebe",exchangeRate:"Taxa de cmbio",convertNow:"Converter agora",selectCrypto:"Selecionar cripto",cryptoMarket:"Mercado Cripto",topGainers:"Maiores altas",topLosers:"Maiores quedas",marketCap:"Cap. de mercado",volume24h:"Volume 24h",price:"Preo",change24h:"Variao 24h",myProfile:"Meu Perfil",settings:"Configuraes",security:"Segurana",notifications:"Notificaes",language:"Idioma",support:"Suporte",about:"Sobre",logout:"Sair",account:"Conta",personalInfo:"Informaes pessoais",accountData:"Dados da conta",helpCenter:"Central de ajuda",termsAndPrivacy:"Termos e privacidade",dangerZone:"Zona de Perigo",deleteAccount:"Excluir conta",help:"Ajuda",privacy:"Privacidade",aboutUs:"Sobre ns",receiveCrypto:{title:"Receber",searchPlaceholder:"Buscar criptomoeda...",receiveCryptoTitle:"Receber {crypto}",selectNetwork:"Selecione a rede",yourAddress:"SEU ENDEREO",copy:"Copiar",new:"Novo",generating:"Gerando...",copied:"Copiado!",generatingAddress:"Gerando endereo...",helpTitle:"Ajuda",attention:"Ateno",attentionDesc:"Envie apenas ativos compatveis com a rede selecionada. Enviar ativos de outras redes pode resultar em perda permanente dos seus fundos.",uniqueAddress:"Endereo nico",uniqueAddressDesc:"Este endereo  exclusivo da sua conta e pode ser usado mltiplas vezes.",security:"Segurana",securityDesc:"Sempre confirme a rede antes de enviar ativos para evitar perdas irreversveis.",howItWorks:"Como funciona",howItWorksDesc:"Compartilhe este endereo ou QR Code com quem vai enviar criptomoedas para voc.",importantTip:"Dica importante",importantTipDesc:"Recomendamos fazer um teste com uma pequena quantia primeiro.",transactionQuestions:"Dvidas sobre transaes?",helpHere:"Ajuda aqui"},securitySettings:"Configuraes de Segurana",changePassword:"Alterar senha",twoFactor:"Autenticao de dois fatores",biometric:"Biometria",currentPassword:"Senha atual",newPassword:"Nova senha",confirmNewPassword:"Confirmar nova senha",updatePassword:"Atualizar senha",authentication:"Autenticao",lastChanged:"ltima alterao h 3 meses",addExtraLayer:"Adicione uma camada extra de segurana",securityNotifications:"Notificaes de segurana",emailAlerts:"Alertas por e-mail",receiveSuspiciousActivity:"Receba notificaes de atividades suspeitas",recentActivity:"Atividades recentes",viewDevicesAccess:"Veja dispositivos e acessos recentes",connectedDevices:"Dispositivos conectados",activeDevices:"3 dispositivos ativos",activeSessions:"Sesses ativas",manageSessions:"Gerencie suas sesses",yourAccountProtected:"Sua conta est protegida",keepInfoSecure:"Continue mantendo suas informaes seguras",securityTips:"Dicas de segurana",useStrongPassword:"Use uma senha forte e nica",enableTwoFactor:"Ative a autenticao de dois fatores",neverShareCredentials:"Nunca compartilhe suas credenciais",notificationSettings:"Configuraes de Notificaes",pushNotifications:"Notificaes push",emailNotifications:"Notificaes por e-mail",transactionAlerts:"Alertas de transao",priceAlerts:"Alertas de preo",newsUpdates:"Atualizaes de notcias",notificationsTitle:"Notificaes",unreadMessages:"{count} no lida{plural}",markAll:"Marcar todas",filterAll:"Todas",filterTransactions:"Transaes",filterSecurity:"Segurana",filterUpdates:"Atualizaes",loadingNotifications:"Aguarde enquanto carregamos suas notificaes",noNotificationsTitle:"Nenhuma notificao",noNotificationsDesc:"Voc no tem notificaes nesta categoria",pushSettingsButton:"Configuraes de notificaes push",helpCenterPage:{title:"Central de Ajuda",howCanWeHelp:"Como podemos ajudar?",chooseOption:"Escolha a melhor forma de entrar em contato com nossa equipe de suporte",sendEmail:"Enviar e-mail",sendEmailDesc:"Envie sua dvida por e-mail e receba resposta em at 24 horas",liveChat:"Chat ao vivo",liveChatDesc:"Converse com um agente em tempo real",availableNow:"Disponvel agora",faq:"Perguntas frequentes",subject:"Assunto",enterSubject:"Digite o assunto",message:"Mensagem",enterMessage:"Descreva sua dvida ou problema",send:"Enviar",cancel:"Cancelar",emailSent:"E-mail enviado com sucesso! Nossa equipe responder em breve.",waitingSupport:"Aguardando atendimento",youAreInQueue:"Voc est na fila. Em breve um agente estar disponvel.",peopleAhead:"pessoas  sua frente",connectedWithAgent:"Voc foi conectado com um agente",agentGreeting:"Ol! Sou o agente Carlos. Como posso ajud-lo hoje?",agentResponse:"Entendi sua questo. Vou verificar isso para voc.",agentName:"Agente Carlos",online:"Online",typeMessage:"Digite sua mensagem...",faqs:{deposit:{q:"Como fazer um depsito?",a:'Para fazer um depsito, v at a aba "Carteira", selecione a criptomoeda desejada e clique em "Depositar". Voc receber um endereo nico para enviar seus fundos. Certifique-se de usar a rede correta para evitar perda de fundos.'},withdraw:{q:"Como sacar criptomoedas?",a:'Na aba "Carteira", selecione a moeda que deseja sacar e clique em "Sacar". Insira o endereo de destino, escolha a rede blockchain e o valor. Confirme a transao com seu cdigo de segurana. O processamento pode levar de alguns minutos a horas dependendo da rede.'},fees:{q:"Taxas de transao",a:"As taxas variam de acordo com a criptomoeda e a rede blockchain utilizada. Depsitos so gratuitos. Para saques, as taxas so dinmicas e baseadas no congestionamento da rede. Voc sempre ver a taxa exata antes de confirmar qualquer transao."},security:{q:"Segurana da conta",a:"Sua segurana  nossa prioridade. Recomendamos ativar a autenticao de dois fatores (2FA), usar senha forte e nica, e nunca compartilhar suas credenciais. Todas as transaes exigem confirmao adicional e seus fundos so protegidos com criptografia de nvel bancrio."}}},termsMenuPage:{title:"Termos e Privacidade",termsOfUse:"Termos de Uso",termsDesc:"Leia os termos e condies de uso do NexCoin",privacyPolicy:"Poltica de Privacidade",privacyDesc:"Saiba como protegemos e usamos seus dados",lastUpdate:"ltima atualizao: 26 de janeiro de 2026"},termsAndConditionsPage:{title:"Termos de Uso",lastUpdate:"ltima atualizao: 26 de janeiro de 2026",sections:{1:{title:"1. Aceitao dos Termos",content:"Ao acessar e usar o NexCoin, voc concorda em cumprir estes Termos de Uso. Se voc no concordar com qualquer parte destes termos, no dever usar nossos servios."},2:{title:"2. Elegibilidade",content:"Voc deve ter pelo menos 18 anos de idade para usar o NexCoin. Ao criar uma conta, voc declara e garante que tem capacidade legal para celebrar este contrato."},3:{title:"3. Conta e Segurana",content:[" Voc  responsvel por manter a confidencialidade de suas credenciais de login"," Voc deve notificar imediatamente sobre qualquer uso no autorizado de sua conta"," O NexCoin no ser responsvel por perdas decorrentes do uso no autorizado de sua conta"]},4:{title:"4. Segurana e Permisses Obrigatrias",content:"Para garantir a segurana das suas transaes e prevenir fraudes, o uso do GPS (geolocalizao) e da CMERA  OBRIGATRIO na plataforma NexCoin.",items:[" O acesso aos servios ser bloqueado caso as permisses de localizao ou cmera sejam negadas ou desativadas"," A cmera  utilizada exclusivamente para verificao de identidade (KYC), prova de vida e autenticao de segurana"," O GPS  utilizado para monitoramento de segurana constante, incluindo rastreamento em segundo plano para preveno contra acessos no autorizados e proteo de ativos"," O uso de notificaes  recomendado para o monitoramento em tempo real de todas as movimentaes financeiras da sua conta"]},5:{title:"5. Uso da Plataforma",items:["Uso Permitido: O NexCoin  uma plataforma para negociao de criptomoedas. Voc concorda em usar a plataforma apenas para fins legais.","Uso Proibido:  proibido usar a plataforma para lavagem de dinheiro, financiamento de terrorismo, fraude ou qualquer atividade ilegal."]},6:{title:"6. Transaes e Taxas",content:"Todas as transaes realizadas atravs do NexCoin esto sujeitas a taxas de rede. As taxas so claramente exibidas antes da confirmao de qualquer transao. Uma vez confirmada, a transao  irreversvel."},7:{title:"7. Riscos de Criptomoedas",content:"Voc reconhece que o mercado de criptomoedas  voltil e que o valor dos seus ativos pode flutuar significativamente. O NexCoin no garante lucros e voc  responsvel por suas decises de investimento."},8:{title:"8. Limitao de Responsabilidade",content:"O NexCoin no ser responsvel por perdas diretas, indiretas, incidentais ou consequenciais resultantes do uso ou incapacidade de usar nossos servios, incluindo perda de fundos, dados ou lucros."},9:{title:"9. Suspenso e Encerramento",content:"Reservamo-nos o direito de suspender ou encerrar sua conta a qualquer momento, sem aviso prvio, se acreditarmos que voc violou estes termos ou se envolveu em atividades fraudulentas."},10:{title:"10. Modificaes dos Termos",content:"Podemos modificar estes termos a qualquer momento. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. O uso continuado da plataforma aps as modificaes constitui aceitao dos novos termos."},11:{title:"11. Lei Aplicvel",content:"Estes termos so regidos pelas leis aplicveis em sua jurisdio. Qualquer disputa ser resolvida nos tribunais competentes."},12:{title:"12. Contato",content:"Se voc tiver dvidas sobre estes Termos de Uso, entre em contato conosco atravs da Central de Ajuda."}},agreement:"Ao usar o NexCoin, voc concorda com estes Termos de Uso"},privacyPolicyPage:{title:"Poltica de Privacidade",lastUpdate:"ltima atualizao: 26 de janeiro de 2026",sections:{1:{title:"1. Introduo",content:"O NexCoin valoriza sua privacidade. Esta Poltica de Privacidade descreve como coletamos, usamos, armazenamos e protegemos suas informaes pessoais quando voc usa nossos servios."},2:{title:"2. Informaes que Coletamos",items:[{title:"2.1 Informaes de Cadastro:",content:" Nome completo, e-mail, nmero de telefone, pas de residncia"},{title:"2.2 Informaes de Transao:",content:" Histrico de transaes, endereos de carteiras, valores negociados"},{title:"2.3 Informaes Tcnicas:",content:" Endereo IP, tipo de dispositivo, sistema operacional, logs de acesso"},{title:"2.4 Informaes de Geolocalizao (GPS):",content:" Localizao precisa do dispositivo, utilizada obrigatoriamente para fins de segurana, preveno de fraudes e conformidade regulatria."},{title:"2.5 Informaes de Verificao:",content:" Documentos de identificao e dados biomtricos para conformidade KYC (Know Your Customer)"},{title:"2.6 Informaes de Cmera:",content:" Acesso  cmera do dispositivo, utilizado obrigatoriamente para captura de documentos e reconhecimento facial (KYC) para fins de segurana e preveno de fraudes."},{title:"2.7 Notificaes e Alertas:",content:" Coleta de tokens de dispositivo para envio de notificaes push sobre depsitos recebidos, segurana da conta e alertas importantes do sistema."}]},3:{title:"3. Como Usamos suas Informaes",content:[" Fornecer e melhorar nossos servios de negociao de criptomoedas"," Processar transaes e garantir a segurana da sua conta"," Cumprir requisitos legais e regulatrios (AML/KYC)"," Comunicar sobre atualizaes, manutenes e questes de segurana"," Prevenir fraudes e atividades suspeitas atravs do monitoramento de localizao e padres de acesso"," Personalizar sua experincia no aplicativo"]},4:{title:"4. Compartilhamento de Informaes",intro:"No vendemos suas informaes pessoais. Podemos compartilhar seus dados apenas nas seguintes situaes:",content:[" Com provedores de servios terceirizados essenciais para operao da plataforma"," Quando exigido por lei, ordem judicial ou autoridades regulatrias"," Para proteger nossos direitos legais e prevenir fraudes"," Com seu consentimento explcito"]},5:{title:"5. Segurana dos Dados",intro:"Implementamos medidas de segurana robustas para proteger suas informaes:",content:[" Criptografia de ponta a ponta para dados sensveis"," Autenticao de dois fatores (2FA)"," Armazenamento seguro em servidores com certificao de segurana"," Monitoramento contnuo contra acessos no autorizados"," Auditorias de segurana regulares"]},6:{title:"6. Reteno de Dados",content:"Mantemos suas informaes pessoais pelo tempo necessrio para fornecer nossos servios e cumprir obrigaes legais. Dados de transaes so mantidos conforme exigido por regulamentaes financeiras."},7:{title:"7. Seus Direitos",intro:"Voc tem os seguintes direitos em relao s suas informaes pessoais:",content:[" Acessar e revisar suas informaes pessoais"," Solicitar correo de dados incorretos"," Solicitar excluso de dados (sujeito a obrigaes legais)"," Optar por no receber comunicaes de marketing"," Portabilidade de dados"]},8:{title:"8. Cookies e Rastreamento",content:"Usamos cookies e tecnologias similares para melhorar sua experincia, analisar o uso da plataforma e personalizar contedo. Voc pode gerenciar suas preferncias de cookies nas configuraes do aplicativo."},9:{title:"9. Transferncias Internacionais",content:"Seus dados podem ser transferidos e processados em pases diferentes do seu pas de residncia. Garantimos que todas as transferncias cumpram as leis de proteo de dados aplicveis."},10:{title:"10. Menores de Idade",content:"Nossos servios no so destinados a menores de 18 anos. No coletamos intencionalmente informaes de menores. Se voc acredita que coletamos dados de um menor, entre em contato conosco imediatamente."},11:{title:"11. Alteraes na Poltica",content:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. Recomendamos revisar esta poltica regularmente."},12:{title:"12. Contato",content:"Se voc tiver dvidas sobre esta Poltica de Privacidade ou sobre como tratamos seus dados, entre em contato atravs da Central de Ajuda ou envie um e-mail para privacy@nexcoin.com."}},agreement:"Ao usar o NexCoin, voc concorda com esta Poltica de Privacidade"},languageSettings:"Configuraes de Idioma",selectLanguage:"Selecione seu idioma",languageUpdated:"Idioma atualizado com sucesso!",selectYourLanguage:"Selecione seu idioma",languageDescription:"Escolha o idioma de sua preferncia para o aplicativo",sent:"Enviado",received:"Recebido",pending:"Pendente",completed:"Concludo",failed:"Falhou",transactions:"Transaes",allTransactions:"Todas as transaes",transactionsPage:{title:"Transaes",search:"Pesquisar",today:"Hoje",yesterday:"Ontem",noTransactions:"Nenhuma transao",noTransactionsDesc:"Suas transaes aparecero aqui",noResults:"Nenhum resultado",noResultsDesc:"Tente ajustar a busca",fee:"Taxa",types:{sendCrypto:"Envio de",receiveCrypto:"Recebimento de",sent:"Enviado",received:"Recebido",pixSent:"PIX enviado",pixReceived:"PIX recebido",conversion:"Converso",deposit:"Depsito",withdrawal:"Transferncia",buy:"Compra de",sell:"Venda de"},status:{completed:"Concludo",pending:"Pendente",processing:"Processando",failed:"Falhou"}},statsPage:{title:"Estatsticas",portfolioAnalysis:"Anlise do Portflio",totalBalance:"Saldo Total",totalAssets:"Total de Ativos",largestAsset:"Maior Ativo",assetDistribution:"Distribuio de Ativos",ofPortfolio:"do portflio",portfolioHistory:"Histrico do Portflio",lastUpdates:"ltimas {count} atualizaes",updatesEvery5Min:"Atualiza a cada 5min"},copied:"Copiado!",copiedToClipboard:"Copiado para rea de transferncia",enterValidAmount:"Insira um valor vlido",transferMethod:"Transferncia",confirm:"Confirmar",save:"Salvar",edit:"Editar",back:"Voltar",next:"Prximo",done:"Concludo",loading:"Carregando...",error:"Erro",success:"Sucesso",close:"Fechar",options:"Opes",welcomeBack:"Bem-vindo de volta",goodMorning:"Bom dia",goodAfternoon:"Boa tarde",goodEvening:"Boa noite",depositFunds:"Depositar fundos",withdrawFunds:"Sacar fundos",selectAmount:"Selecionar valor",enterAmount:"Inserir valor",minimum:"Mnimo",maximum:"Mximo",available:"Disponvel",receive:"Receber",name:"Nome",country:"Pas",dateOfBirth:"Data de nascimento",address:"Endereo",personalAccount:"Conta pessoal",idDocument:"Documento de identificao (CPF/RG/Passaporte)",enterIdDocument:"Digite seu CPF, RG ou Passaporte",residentialAddress:"Endereo residencial",addressPlaceholder:"Rua, nmero, complemento",city:"Cidade",state:"Estado",zipCode:"CEP",phoneNumber:"Nmero de celular",emailLabel:"E-mail",taxResidence:"Domiclio fiscal",patrimony:"Patrimnio",reportedPatrimony:"Patrimnio informado (opcional)",patrimonyPlaceholder:"Ex: R$ 500.000,00",notInformed:"NO INFORMADO",portfolioValue:"Valor do portflio",dailyChange:"Variao diria",profit:"Lucro",loss:"Perda",myCards:"Meus cartes",addCard:"Adicionar carto",manageCards:"Gerenciar cartes",bottomNav:{home:"Incio",wallet:"Carteira",convert:"Converter",crypto:"Cripto",profile:"Perfil"},cryptoPage:{all:"Todos",favorites:"Favoritos",searchCrypto:"Pesquisar criptomoeda...",addBalance:"Adicionar Saldo",enterAmount:"Digite o valor",add:"Adicionar",balance:"Saldo",noFavorites:"Nenhum favorito ainda",addFavoritesTip:"Toque na estrela para adicionar favoritos",topGainersToday:"Maiores Altas Hoje",cryptoAddedSuccess:"Cripto adicionada com sucesso!",errorAddingCrypto:"Erro ao adicionar cripto",invalidAmount:"Valor invlido",addToPortfolio:"Adicionar ao Portflio",trendingUp:"Cripto em Alta",realTime:"Tempo Real",price:"Preo",change24h:"24h",hideList:"Ocultar Lista",seeAllCryptos:"Ver Todas as Criptomoedas",activeAvailable:"ativo disponvel",activesAvailable:"ativos disponveis",hide:"Ocultar",expand:"Expandir",holdToAddBalance:"Segure 5s para adicionar saldo",marketCap:"Market Cap",allCryptosActive:"Todas as criptos esto ativas!",allCryptosAdded:"Voc j adicionou todas as criptomoedas disponveis ao seu portflio.",viewPortfolio:"Ver Portflio",currentBalance:"Saldo atual",amountToAdd:"Quantidade a adicionar",newBalance:"Novo saldo",cancel:"Cancelar",adding:"Adicionando...",confirmAddPortfolio:"Deseja adicionar esta cripto ao seu portflio?",addNow:"Adicionar Agora"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Cripto  Cripto",cryptoToFiat:"Cripto  Moeda",fiatToFiat:"Moeda  Moeda",convertAll:"Converter tudo",exchangeRate:"Cotao",balance:"Saldo",conversionFee:"Taxa de converso (0.5%)",processing:"Processamento",confirmExchange:"Confirmar Exchange",converting:"Convertendo...",conversionHistory:"Histrico de Converses",insufficientBalance:"Saldo insuficiente",insufficientBalanceWithFee:"Saldo insuficiente (inclui taxa 0,5%)",noBalance:"Sem saldo em",conversionCompleted:"Converso Realizada!",anotherConversion:"Deseja fazer outra converso?",yesAnother:"Sim, fazer outra",noGoHome:"No, voltar para Home",conversionSuccess:"Converso realizada com sucesso!",conversionError:"Erro ao processar converso",deleteConversion:" Deseja excluir esta converso?",conversionDeleted:" Converso excluda com sucesso!",errorDeletingConversion:"Erro ao excluir converso",noConversions:"Nenhuma converso realizada ainda",loadingHistory:"Carregando histrico...",needTwoAccounts:"Voc precisa ter contas em pelo menos 2 pases diferentes para fazer converses entre moedas.",needBankAccount:"Voc precisa abrir uma conta bancria para converter cripto em moeda fiat.",seeHistory:"Ver Histrico",hideHistory:"Ocultar Histrico",seconds:"segundos",clickToDelete:"Clique 2x para excluir"},withdrawTransfer:{sendMoney:"Enviar Dinheiro",chooseCountryAndMethod:"Escolha seu pas e mtodo de transferncia",selectAccount:"Selecione a Conta",availableForTransfer:"Saldo disponvel para transferncia",transferMethods:"Mtodos de transferncia",instantTransfer:"Transferncia instantnea",instantNoLimit:"Instantneo  Sem limite de transferncia",bankTransfer:"Transferncia Bancria",tedOrDoc:"TED ou DOC",businessDaysNoLimit:"1-2 dias teis  Sem limite de transferncia",important:"Importante",verifyBankData:"Certifique-se de inserir os dados bancrios corretos. Transferncias para dados incorretos no podero ser revertidas.",transferViaPix:"Transferir via PIX",availableBalance:"Saldo disponvel",amountToTransfer:"Valor a transferir",pixKeyRecipient:"Chave PIX do destinatrio",pixKeyPlaceholder:"CPF, E-mail, Telefone ou Chave Aleatria",informPixKey:"Informe a chave PIX de quem vai receber a transferncia",fee:"Taxa",time:"Tempo",instant:"Instantneo",confirmTransfer:"Confirmar Transferncia",pix:"PIX",businessDays:"1-2 dias teis",pixKeyInvalidType:"Tipo de chave PIX no reconhecido. Use CPF, CNPJ, E-mail, Telefone ou Chave Aleatria.",userNotAuthenticated:"Usurio no autenticado",minAmount:"Valor mnimo",insufficientBalance:"Saldo insuficiente. Disponvel",informPixKeyError:"Informe a chave PIX",pixKeyInvalid:"Chave PIX invlida",fillBankDetails:"Preencha todos os dados bancrios",pixTransferTo:"Transferncia PIX para",errorProcessingPix:"Erro ao processar transferncia PIX",transferSentTo:"Transferncia enviada para",pixKeyNotFound:"Chave PIX no encontrada no sistema NexCoin. Apenas transferncias entre usurios NexCoin so suportadas no momento.",pixTransfer:"Transferncia PIX",tedTransfer:"Transferncia TED",transferVia:"Transferncia via",errorProcessingTransfer:"Erro ao processar transferncia",pixKey:"Chave PIX",transferSuccess:"Transferncia realizada com sucesso!",min:"Mn",max:"Mx",processing:"Processando...",amount:"Valor",bank:"Banco",code:"Cdigo",agency:"Agncia",account:"Conta",checkingAccount:"Conta Corrente",savingsAccount:"Conta Poupana",fullName:"Nome completo",cpfCnpj:"CPF/CNPJ",checking:"Corrente",savings:"Poupana",accountHolderName:"Nome do titular",address:"Endereo",beneficiaryName:"Nome do beneficirio",processingStatus:"Processando",addAccountHome:"Adicione uma conta na pgina Home",noTransferLimit:"Sem limite de transferncia",achTransfer:"Transferncia ACH",electronicBankTransfer:"Transferncia bancria eletrnica",wireTransfer:"Transferncia Wire",domesticWire:"Wire domstico",sepaTransfer:"Transferncia SEPA",singleEuroPaymentsArea:"rea nica de Pagamentos em Euro",sepaInstant:"SEPA Instantneo",instantSepaTransfer:"Transferncia SEPA instantnea",fasterPayments:"Pagamentos Rpidos",instantBankTransfer:"Transferncia bancria instantnea",bacsTransfer:"Transferncia BACS",standardBankTransfer:"Transferncia bancria padro",bankDetails:"Dados da Conta",removeAccount:"Remover Conta"},withdrawCrypto:{title:"Enviar",searchPlaceholder:"Pesquise criptomoedas compatveis",availableBalance:"Saldo disponvel",selectNetwork:"Selecione a rede",fee:"Taxa",noCryptosFound:"Nenhuma criptomoeda encontrada",sendCrypto:"Enviar"},withdrawAddress:{title:"Enviar",selectedNetwork:"Rede selecionada",walletAddress:"Endereo da carteira",addressPlaceholder:"Cole ou escaneie o endereo da carteira",recipientFound:"Destinatrio encontrado",sendingTo:"Enviando para",invalidAddress:"Endereo invlido",addressWarning:"Certifique-se de que o endereo est correto. Transaes no podem ser revertidas.",amount:"Valor",useMax:"Usar mximo",summary:"Resumo da transao",quantity:"Quantidade",networkFee:"Taxa de rede",total:"Total",attention:"Ateno",attentionWarning:"Verifique cuidadosamente o endereo e a rede antes de enviar. Apenas endereos cadastrados na NexCoin so aceitos.",mustBeRegistered:"O endereo precisa estar cadastrado na NexCoin",sentSuccess:"Enviado com sucesso!",transactionProcessed:"Sua transao foi processada",recipient:"Destinatrio",viewReceipt:"Ver Comprovante",processing:"Processando...",transferSuccess:"Transferncia realizada com sucesso!",availableBalance:"Saldo disponvel",fee:"Taxa"},withdrawReceipt:{title:"Transferncia Confirmada!",subtitle:"Comprovante de transferncia",transactionId:"ID da transao",details:"Detalhes da transferncia",method:"Mtodo",fee:"Taxa",processing:"Processamento",date:"Data",recipient:"Destinatrio",important:"Importante",importantNotice:"Guarde este comprovante para referncia futura. O processamento pode levar at",shareReceipt:"Compartilhar comprovante",backToHome:"Voltar para Home",copied:"Copiado",sharing:"Compartilhando...",copiedToClipboard:"Copiado para rea de transferncia!",shareTextHeader:" Comprovante de Transferncia NexCoin",shareTextFooter:" NexCoin - Seu banco digital de criptomoedas",amount:"Valor",currency:"Moeda",status:"Status",copy:"Copiar",to:"Para"},paymentScreen:{title:"Taxa de Anlise",description:"Para prosseguir com a anlise da sua conta,  necessrio realizar uma doao simblica de validao.",totalToPay:"Total a pagar",payButton:"Pagar 5.00",processing:"Processando...",securePayment:"Pagamento seguro processado pela Stripe. Seus dados so criptografados.",secureBadge:"Pagamento 100% seguro e criptografado",configError:"Erro de Configurao",technicalNote:"Nota Tcnica: Se voc ver erro de CORS/Network,  porque a Stripe bloqueia o uso da chave secreta no navegador. Voc precisa configurar um backend ou Cloud Function.",tryAgain:"Tentar Novamente",success:"Pagamento realizado com sucesso!",updateError:"Pagamento confirmado, mas houve um erro ao atualizar seu perfil. Contate o suporte.",initiating:"Iniciando pagamento seguro...",pleaseWait:"Por favor, aguarde um momento."},pendingApproval:{title:"Conta em Anlise",greeting:"Ol {name}!",description:"Sua solicitao de acesso ao NexCoin est sendo analisada pela nossa equipe de segurana.",step1Title:"Cadastro Realizado",step1Desc:"Suas informaes foram recebidas com sucesso",step2Title:"Anlise de Segurana",step2Desc:"Verificando seus dados e validando identidade",step3Title:"Aprovao Final",step3Desc:"Voc receber uma notificao quando for aprovado",estimatedTime:"Tempo estimado:",timeValue:"24 a 48 horas",emailNotice:"Voc receber um e-mail em {email} assim que sua conta for aprovada.",securityBadge:"Protegido por verificao em duas etapas",logoutButton:"Sair da Conta",needHelp:"Precisa de ajuda?",contactUs:"Entre em contato"},pushSettingsPage:{title:"Notificaes push",keepInformed:"Mantenha-se informado",keepInformedDesc:"Personalize suas notificaes para receber apenas as informaes mais importantes",sections:{general:"Geral",transactions:"Transaes",security:"Segurana",market:"Mercado"},items:{enablePush:"Ativar notificaes push",enablePushDesc:"Receber todas as notificaes no dispositivo",allTransactions:"Todas as transaes",allTransactionsDesc:"Notificaes de todas as movimentaes",deposits:"Depsitos",depositsDesc:"Quando voc receber fundos",withdrawals:"Saques",withdrawalsDesc:"Quando processar uma retirada",securityAlerts:"Alertas de segurana",securityAlertsDesc:"Todas as notificaes de segurana",newDevices:"Novos dispositivos",newDevicesDesc:"Login em um novo dispositivo",suspiciousActivity:"Atividades suspeitas",suspiciousActivityDesc:"Tentativas de acesso no autorizadas",priceAlerts:"Alertas de preo",priceAlertsDesc:"Quando seus ativos atingirem metas",marketNews:"Notcias do mercado",marketNewsDesc:"Atualizaes importantes do mercado"},tipTitle:"Dica:",tipContent:"Algumas notificaes de segurana no podem ser desativadas para manter sua conta protegida."},landingPage:{products:"Produtos",company:"Empresa",help:"Ajuda",openAccount:"Abra sua conta",openAccountNow:"Abra sua conta agora",moreThanGlobalTitle:"Mais que uma conta",moreThanGlobalHighlight:"cooperativa global",heroSubtitle:"Envie, gaste e economize de forma mais inteligente. Junte-se a milhares de pessoas que j transformaram sua vida financeira com a NexCoin.",yourBalance:"Seu Saldo",yield:"RENDIMENTO",yieldToday:"+ 0,85% hoje",socialProof:"O App usado por milhares de pessoas",elevateSpending:"Eleve seu jeito de gastar",cardSubtitle:"Pea seu carto NexCoin e tenha controle total dos seus gastos em qualquer lugar do mundo.",requestCard:"Solicitar carto",highYieldTitle:"Mude sua vida com as contas remuneradas",highYieldSubtitle:"Faa seu dinheiro trabalhar para voc. Taxas competitivas e liquidez diria para voc aproveitar o que importa.",exploreYields:"Explorar rendimentos",safeHarborTitle:"O porto seguro do seu dinheiro",safeHarborSubtitle:"Utilizamos tecnologia de ponta para proteger seus dados e seu patrimnio. Com autenticao biomtrica, criptografia de grau militar e monitoramento em tempo real, voc pode ter tranquilidade.",security:"Segurana",enterCryptoTitle:"Entre no mundo cripto",enterCryptoSubtitle:"Compre Bitcoin, Ethereum e outras criptos com apenas um toque. Simples, seguro e transparente.",exploreCrypto:"Explorar Cripto",joinThousands:"Junte-se a milhares que j usam a NexCoin",footerTagline:"Revolucionando sua vida financeira com tecnologia, transparncia e segurana.",footerProduct:"Produto",footerCards:"Cartes",footerCrypto:"Cripto",footerBalances:"Saldos",footerYields:"Rendimentos",footerCompany:"Empresa",footerAbout:"Sobre ns",footerCareers:"Carreiras",footerBlog:"Blog",footerPress:"Imprensa",footerSupport:"Suporte",footerHelp:"Ajuda",footerContact:"Fale conosco",footerSecurity:"Segurana",footerPrivacy:"Poltica de Privacidade",footerTerms:"Termos de Uso",footerDisclaimer:"NexCoin  uma plataforma de servios financeiros digital. Os servios de pagamento e as contas so fornecidos por parceiros autorizados e regulamentados. Certifique-se de ler nossos Termos e Condies antes de abrir uma conta. O investimento em criptoativos envolve riscos significativos de perda. NexCoin no  uma instituio financeira bancria prpria, atuando como correspondente bancrio.  2026 NexCoin. Todos os direitos reservados."},downloadApp:{successTitle:"Cadastro realizado com sucesso! ",successSubtitle:"Para acessar sua conta e comear a investir, baixe agora o aplicativo oficial da NexCoin em seu smartphone.",android:"Android",androidHint:"Aponte a cmera para baixar via Google Play",downloadApk:"Download APK",ios:"iOS (iPhone)",iosHint:"Aponte a cmera para baixar via App Store",downloadAppStore:"Download App Store",rightsReserved:" 2026 NexCoin. Todos os direitos reservados."}},en:{countries:{BR:"Brazil",US:"United States",PT:"Portugal",ES:"Spain",FR:"France",DE:"Germany",IT:"Italy",GB:"United Kingdom",NL:"Netherlands",BE:"Belgium",CH:"Switzerland",AT:"Austria",CA:"Canada",AU:"Australia",MX:"Mexico",AR:"Argentina",CL:"Chile",CO:"Colombia"},fiatAccounts:{title:"Accounts",subtitle:"Manage your bank accounts",accounts:"Accounts",manageBankAccounts:"Manage your bank accounts",accountData:"Account details",accountSettings:"Account Settings",selectAccount:"Select account",chooseAccountToTransact:"Choose the account to transact",addNewAccount:"Add New Account",addAccount:"Add Account",noAccountsFound:"No accounts found",addFiatAccount:"Add a fiat account to get started",add:"Add",addButton:"Add",creating:"Creating...",removeAccount:"Remove Account",closeAccount:"Close account",deleteAccount:"Delete Account",openingAccount:"Opening Account",configuringAccount:"Configuring your {country} account",validating:"Validating data",generating:"Generating account number",security:"Setting up security",finalizing:"Finalizing account opening",completedSteps:"{completed} of {total} steps completed",accountExists:"Account already exists",accountExistsDesc:"You already have a {country} bank account. It is not possible to create more than one account per country.",accountCreated:"Account created",accountCreatedDesc:"{country} bank account created successfully!",pixKeysCreated:"PIX Keys created!",pixKeysCreatedDesc:"Your PIX keys (email and phone) have been automatically configured.",errorCreatingAccount:"Error creating account",errorCreatingAccountDesc:"Could not create the bank account. Please try again.",error:"Error",accountIdNotFound:"Account ID not found.",closeAccountConfirm:`Are you sure you want to close this account?

This action cannot be undone and you will lose all data associated with this bank account.`,accountClosed:"Account closed",accountClosedDesc:"The bank account has been successfully closed.",errorClosingAccount:"Error closing account",errorClosingAccountDesc:"Could not close the account. Please try again.",permissionError:"Permission error",permissionErrorDesc:"Check if Firestore rules are correctly configured.",firestoreRulesWarning:" Firestore rules not configured",firestoreRulesDesc:"You need to update Firestore rules. Consult the guide for detailed instructions.",institution:"Institution",bank:"Bank",accountType:"Account Type",accountNumber:"Account number",bankCode:"Bank Code",institutionCode:"Institution Code",iban:"IBAN",swiftBic:"SWIFT/BIC",sortCode:"Sort Code",branchCode:"Branch Code",agency:"Agency",routingNumber:"Routing Number",bsb:"BSB",shareData:"Share details",domesticOnly:"For domestic transfers only",internationalOnly:"For international transfers only",transferTimeTip:"Transfers usually take three to five business days to appear in your account",feeTip:"The sender's bank or intermediary may charge for international payments",swiftOnlyTip:"We only accept SWIFT transfers",noFeeTip:"We will not charge any transfer fee for this account.",pixTip:"You can use your account details or Pix key to receive transfers 24 hours a day, hassle-free.",addFunds:"Add Funds",depositMethod:"Deposit Method",depositAmount:"Deposit Amount",transferDetails:"Transfer Details",selectPixKey:"Select PIX Key",selectKey:"Select a key",pixKeys:"PIX Keys",pixQrCode:"PIX QR Code",copyPixCode:"Copy PIX Code",codeCopied:"Code Copied!",depositHint:"Hint: Enter development deposit amount above to generate PIX QR Code.",noPixKeys:"No PIX keys registered. Register a PIX key to use this method.",simulationWarning:'Simulation: In production, the system would wait for bank transfer confirmation. Here, balance will be added instantly when clicking "Confirm Deposit".',confirmDeposit:"Confirm Deposit",depositVia:"Deposit via",depositSuccess:"Deposit successfully completed!",depositError:"Error processing deposit",recipient:"Recipient",yourPixKeys:"Your PIX keys",registeredKeys:"Your registered keys",keysAutoCreated:" Your PIX keys (email and phone) were automatically created",noKeysFound:"No PIX keys found",errorCopying:"Error copying key"},welcome:"Welcome",createAccount:"Create Account",login:"Login",signUp:"Sign Up",termsAgreement:"By signing up, you agree to our Terms of Service and Privacy Policy.",futureOfFinance:"Future of Finance",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",email:"Email",phone:"Phone",fullName:"Full name",password:"Password",confirmPassword:"Confirm password",forgotPassword:"Forgot password?",continue:"Continue",initialSetup:"Initial setup",countryCurrencySubtitle:"Select your country of origin and the preferred currency for your transactions.",choosePin:"Choose your access PIN",choosePinSubtitle:"Create a 6-digit PIN to enter the app and authorize your transactions.",confirmPin:"Confirm your PIN",confirmPinSubtitle:"Enter your 6-digit PIN again to confirm.",enterPin:"Enter your PIN",enterPinSubtitle:"Enter your 6-digit PIN to access your account",forgotPin:"Forgot my PIN",pinsDontMatch:"PINs do not match. Try again.",pinSetupSuccess:"PIN set up successfully!",portuguese:"Portuguese",english:"English",spanish:"Spanish",register:"Register",invalidName:"Invalid name",invalidEmail:"Invalid email",invalidPhone:"Invalid phone",phoneNotFound:"Phone not found",passwordRequirement:"Password must have at least 8 characters, 1 uppercase and 1 special character",passwordsDontMatch:"Passwords do not match",privacyPolicy:"Privacy Policy",or:"or",incorrectPassword:"Incorrect password",loginError:"Error signing in",home:"Home",wallet:"Wallet",convert:"Convert",crypto:"Crypto",profile:"Profile",totalBalance:"Total Balance",hideBalance:"Hide Balance",showBalance:"Show Balance",recentTransactions:"Recent Transactions",deposit:"Deposit",withdraw:"Withdraw",transfer:"Transfer",noTransactions:"No transactions yet",quickActions:"Quick Actions",viewAll:"View All",statement:"Statement",viewAllTransactions:"View All Transactions",market:"Market",myAccounts:"My Accounts",myCryptos:"My Cryptos",trade:"Trade",activity:"Activity",myWallet:"My Wallet",assets:"Assets",search:"Search",totalAssets:"Total Assets",cryptoAssets:"Crypto Assets",fiatBalance:"Fiat Balance",manageHoldings:"Manage Holdings",send:"Send",loadingAssets:"Loading assets...",noAssetsInPortfolio:"No assets in portfolio",startAddingCryptos:"Start adding cryptocurrencies in the",goToCrypto:"Go to Crypto",cryptocurrencies:"Cryptocurrencies",clickToAddBalance:"Double-click to add balance",removeAsset:"Remove Asset",addBalance:"Add Balance",enterValidValue:"Enter a valid value",balanceAddedSuccess:"Balance added successfully!",errorAddingBalance:"Error adding balance",add:"Add",confirmDeletion:"Confirm Deletion",areYouSureDelete:"Are you sure you want to permanently remove",fromYourPortfolio:"from your portfolio?",currentBalance:"Current balance",valueToAdd:"Value to add",newBalance:"New balance",adding:"Adding...",addCryptosToPortfolio:"Add cryptocurrencies to your portfolio",toAddMoreCryptos:"To add more cryptocurrencies, go to the",andClickCrypto:"tab and double-click on the desired coin",inCryptoTab:"In the Crypto tab, double-click on any coin to add",selectAssetToDelete:"Select an asset to delete",assetRemovedSuccess:"Asset removed successfully!",errorRemovingAsset:"Error removing asset",removing:"Removing...",remove:"Remove",cashAndStablecoins:"Cash and Stablecoins",cancel:"Cancel",brazilianReal:"Brazilian Real (PIX)",usDollar:"US Dollar",euro:"Euro",sterling:"Pound Sterling",stablecoin:"Stablecoin",japaneseYen:"Japanese Yen",canadianDollar:"Canadian Dollar",australianDollar:"Australian Dollar",swissFranc:"Swiss Franc",chineseYuan:"Chinese Yuan",indianRupee:"Indian Rupee",mexicanPeso:"Mexican Peso",argentinePeso:"Argentine Peso",convertCrypto:"Convert Crypto",from:"From",to:"To",amount:"Amount",youGet:"You get",exchangeRate:"Exchange Rate",convertNow:"Convert now",selectCrypto:"Select crypto",cryptoMarket:"Crypto Market",topGainers:"Top Gainers",topLosers:"Top Losers",marketCap:"Market Cap",volume24h:"24h Volume",price:"Price",change24h:"24h Change",myProfile:"My Profile",settings:"Settings",security:"Security",notifications:"Notifications",language:"Language",support:"Support",about:"About",logout:"Logout",account:"Account",personalInfo:"Personal Information",accountData:"Account Data",helpCenter:"Help Center",termsAndPrivacy:"Terms & Privacy",dangerZone:"Danger Zone",deleteAccount:"Delete Account",help:"Help",privacy:"Privacy",aboutUs:"About Us",receiveCrypto:{title:"Receive",searchPlaceholder:"Search cryptocurrency...",receiveCryptoTitle:"Receive {crypto}",selectNetwork:"Select network",yourAddress:"YOUR ADDRESS",copy:"Copy",new:"New",generating:"Generating...",copied:"Copied!",generatingAddress:"Generating address...",helpTitle:"Help",attention:"Attention",attentionDesc:"Only send assets compatible with the selected network. Sending assets from other networks may result in permanent loss of funds.",uniqueAddress:"Unique address",uniqueAddressDesc:"This address is exclusive to your account and can be used multiple times.",security:"Security",securityDesc:"Always confirm the network before sending assets to avoid irreversible losses.",howItWorks:"How it works",howItWorksDesc:"Share this address or QR Code with anyone sending you cryptocurrencies.",importantTip:"Important tip",importantTipDesc:"We recommend testing with a small amount first.",transactionQuestions:"Questions about transactions?",helpHere:"Help here"},securitySettings:"Security Settings",changePassword:"Change Password",twoFactor:"Two-Factor Authentication",biometric:"Biometric",currentPassword:"Current Password",newPassword:"New Password",confirmNewPassword:"Confirm New Password",updatePassword:"Update Password",authentication:"Authentication",lastChanged:"Last changed 3 months ago",addExtraLayer:"Add an extra layer of security",securityNotifications:"Security Notifications",emailAlerts:"Email Alerts",receiveSuspiciousActivity:"Receive notifications of suspicious activities",recentActivity:"Recent Activity",viewDevicesAccess:"View devices and recent access",connectedDevices:"Connected Devices",activeDevices:"3 active devices",activeSessions:"Active Sessions",manageSessions:"Manage your sessions",yourAccountProtected:"Your account is protected",keepInfoSecure:"Keep your information secure",securityTips:"Security Tips",useStrongPassword:"Use a strong and unique password",enableTwoFactor:"Enable two-factor authentication",neverShareCredentials:"Never share your credentials",notificationSettings:"Notification Settings",pushNotifications:"Push Notifications",emailNotifications:"Email Notifications",transactionAlerts:"Transaction Alerts",priceAlerts:"Price Alerts",newsUpdates:"News Updates",notificationsTitle:"Notifications",unreadMessages:"{count} unread",markAll:"Mark all",filterAll:"All",filterTransactions:"Transactions",filterSecurity:"Security",filterUpdates:"Updates",loadingNotifications:"Wait while we load your notifications",noNotificationsTitle:"No notifications",noNotificationsDesc:"You have no notifications in this category",pushSettingsButton:"Push notification settings",helpCenterPage:{title:"Help Center",howCanWeHelp:"How can we help?",chooseOption:"Choose the best way to contact our support team",sendEmail:"Send Email",sendEmailDesc:"Send your question via email and get a response within 24 hours",liveChat:"Live Chat",liveChatDesc:"Chat with an agent in real-time",availableNow:"Available now",faq:"Frequently Asked Questions",subject:"Subject",enterSubject:"Enter subject",message:"Message",enterMessage:"Describe your question or issue",send:"Send",cancel:"Cancel",emailSent:"Email sent successfully! Our team will respond shortly.",waitingSupport:"Waiting for support",youAreInQueue:"You are in the queue. An agent will be available shortly.",peopleAhead:"people ahead of you",connectedWithAgent:"You are connected with an agent",agentGreeting:"Hello! I am agent Carlos. How can I help you today?",agentResponse:"I understand your question. I will check that for you.",agentName:"Agent Carlos",online:"Online",typeMessage:"Type your message...",faqs:{deposit:{q:"How to make a deposit?",a:'To make a deposit, go to the "Wallet" tab, select the desired cryptocurrency and click "Deposit". You will receive a unique address to send your funds. Make sure to use the correct network to avoid loss of funds.'},withdraw:{q:"How to withdraw cryptocurrencies?",a:'In the "Wallet" tab, select the coin you want to withdraw and click "Withdraw". Enter the destination address, choose the blockchain network and amount. Confirm the transaction with your security code. Processing may take from a few minutes to hours depending on the network.'},fees:{q:"Transaction fees",a:"Fees vary according to the cryptocurrency and blockchain network used. Deposits are free. For withdrawals, fees are dynamic based on network congestion. You will always see the exact fee before confirming any transaction."},security:{q:"Account security",a:"Your security is our priority. We recommend enabling two-factor authentication (2FA), using a strong and unique password, and never sharing your credentials. All transactions require additional confirmation and your funds are protected with bank-grade encryption."}}},termsMenuPage:{title:"Terms & Privacy",termsOfUse:"Terms of Use",termsDesc:"Read NexCoin terms and conditions of use",privacyPolicy:"Privacy Policy",privacyDesc:"Learn how we protect and use your data",lastUpdate:"Last updated: January 26, 2026"},termsAndConditionsPage:{title:"Terms of Use",lastUpdate:"Last updated: January 26, 2026",sections:{1:{title:"1. Acceptance of Terms",content:"By accessing and using NexCoin, you agree to comply with these Terms of Use. If you do not agree with any part of these terms, you should not use our services."},2:{title:"2. Eligibility",content:"You must be at least 18 years old to use NexCoin. By creating an account, you represent and warrant that you have the legal capacity to enter into this agreement."},3:{title:"3. Account and Security",content:[" You are responsible for maintaining the confidentiality of your login credentials"," You must immediately notify us of any unauthorized use of your account"," NexCoin will not be liable for losses arising from unauthorized use of your account"]},4:{title:"4. Security and Mandatory Permissions",content:"To ensure the security of your transactions and prevent fraud, the use of GPS (geolocation) and CAMERA is MANDATORY on the NexCoin platform.",items:[" Access to services will be blocked if location or camera permissions are denied or disabled"," The camera is used exclusively for identity verification (KYC), proof of life, and security authentication"," GPS is used for constant security monitoring, including background tracking to prevent unauthorized access and protect assets"," The use of notifications is recommended for real-time monitoring of all financial movements in your account"]},5:{title:"5. Platform Use",items:["Permitted Use: NexCoin is a platform for cryptocurrency trading. You agree to use the platform only for legal purposes.","Prohibited Use: It is forbidden to use the platform for money laundering, terrorist financing, fraud, or any illegal activity."]},6:{title:"6. Transactions and Fees",content:"All transactions made through NexCoin are subject to network fees. Fees are clearly displayed before confirming any transaction. Once confirmed, the transaction is irreversible."},7:{title:"7. Cryptocurrency Risks",content:"You acknowledge that the cryptocurrency market is volatile and that the value of your assets may fluctuate significantly. NexCoin does not guarantee profits and you are responsible for your investment decisions."},8:{title:"8. Limitation of Liability",content:"NexCoin will not be liable for direct, indirect, incidental, or consequential losses resulting from the use or inability to use our services, including loss of funds, data, or profits."},9:{title:"9. Suspension and Termination",content:"We reserve the right to suspend or terminate your account at any time, without prior notice, if we believe you have violated these terms or engaged in fraudulent activities."},10:{title:"10. Terms Modifications",content:"We may modify these terms at any time. We will notify you of significant changes through the app or email. Continued use of the platform after modifications constitutes acceptance of the new terms."},11:{title:"11. Applicable Law",content:"These terms are governed by the laws applicable in your jurisdiction. Any dispute will be resolved in competent courts."},12:{title:"12. Contact",content:"If you have questions about these Terms of Use, contact us through the Help Center."}},agreement:"By using NexCoin, you agree to these Terms of Use"},privacyPolicyPage:{title:"Privacy Policy",lastUpdate:"Last updated: January 26, 2026",sections:{1:{title:"1. Introduction",content:"NexCoin values your privacy. This Privacy Policy describes how we collect, use, store, and protect your personal information when you use our services."},2:{title:"2. Information We Collect",items:[{title:"2.1 Registration Information:",content:" Full name, email, phone number, country of residence"},{title:"2.2 Transaction Information:",content:" Transaction history, wallet addresses, traded amounts"},{title:"2.3 Technical Information:",content:" IP address, device type, operating system, access logs"},{title:"2.4 Geolocation Information (GPS):",content:" Precise device location, mandatorily used for security purposes, fraud prevention, and regulatory compliance."},{title:"2.5 Verification Information:",content:" Identification documents and biometric data for KYC (Know Your Customer) compliance"},{title:"2.6 Camera Information:",content:" Access to device camera, mandatorily used for document capture and facial recognition (KYC) for security and fraud prevention purposes."},{title:"2.7 Notifications and Alerts:",content:" Collection of device tokens for sending push notifications about received deposits, account security, and important system alerts."}]},3:{title:"3. How We Use Your Information",content:[" Provide and improve our cryptocurrency trading services"," Process transactions and ensure your account security"," Comply with legal and regulatory requirements (AML/KYC)"," Communicate about updates, maintenance, and security issues"," Prevent fraud and suspicious activities through location monitoring and access patterns"," Personalize your app experience"]},4:{title:"4. Information Sharing",intro:"We do not sell your personal information. We may share your data only in the following situations:",content:[" With third-party service providers essential for platform operation"," When required by law, court order, or regulatory authorities"," To protect our legal rights and prevent fraud"," With your explicit consent"]},5:{title:"5. Data Security",intro:"We implement robust security measures to protect your information:",content:[" End-to-end encryption for sensitive data"," Two-factor authentication (2FA)"," Secure storage on servers with security certification"," Continuous monitoring against unauthorized access"," Regular security audits"]},6:{title:"6. Data Retention",content:"We retain your personal information for as long as necessary to provide our services and comply with legal obligations. Transaction data is kept as required by financial regulations."},7:{title:"7. Your Rights",intro:"You have the following rights regarding your personal information:",content:[" Access and review your personal information"," Request correction of incorrect data"," Request deletion of data (subject to legal obligations)"," Opt-out of marketing communications"," Data portability"]},8:{title:"8. Cookies and Tracking",content:"We use cookies and similar technologies to improve your experience, analyze platform usage, and personalize content. You can manage your cookie preferences in the app settings."},9:{title:"9. International Transfers",content:"Your data may be transferred and processed in countries different from your country of residence. We ensure all transfers comply with applicable data protection laws."},10:{title:"10. Minors",content:"Our services are not intended for minors under 18. We do not knowingly collect information from minors. If you believe we have collected data from a minor, contact us immediately."},11:{title:"11. Policy Changes",content:"We may update this Privacy Policy periodically. We will notify you of significant changes through the app or email. We recommend reviewing this policy regularly."},12:{title:"12. Contact",content:"If you have questions about this Privacy Policy or how we treat your data, contact us through the Help Center or send an email to privacy@nexcoin.com."}},agreement:"By using NexCoin, you agree to this Privacy Policy"},languageSettings:"Language Settings",selectLanguage:"Select your language",languageUpdated:"Language updated successfully!",selectYourLanguage:"Select your language",languageDescription:"Choose your preferred language for the app",sent:"Sent",received:"Received",pending:"Pending",completed:"Completed",failed:"Failed",transactions:"Transactions",allTransactions:"All Transactions",transactionsPage:{title:"Transactions",search:"Search",today:"Today",yesterday:"Yesterday",noTransactions:"No transactions",noTransactionsDesc:"Your transactions will appear here",noResults:"No results",noResultsDesc:"Try adjusting your search",fee:"Fee",types:{sendCrypto:"Sent",receiveCrypto:"Received",sent:"Sent",received:"Received",pixSent:"PIX sent",pixReceived:"PIX received",conversion:"Conversion",deposit:"Deposit",withdrawal:"Transfer",buy:"Buy",sell:"Sell"},status:{completed:"Completed",pending:"Pending",processing:"Processing",failed:"Failed"}},statsPage:{title:"Statistics",portfolioAnalysis:"Portfolio Analysis",totalBalance:"Total Balance",totalAssets:"Total Assets",largestAsset:"Largest Asset",assetDistribution:"Asset Distribution",ofPortfolio:"of portfolio",portfolioHistory:"Portfolio History",lastUpdates:"Last {count} updates",updatesEvery5Min:"Updates every 5min"},copied:"Copied!",copiedToClipboard:"Copied to clipboard",enterValidAmount:"Enter a valid amount",transferMethod:"Transfer",confirm:"Confirm",save:"Save",edit:"Edit",back:"Back",next:"Next",done:"Done",loading:"Loading...",error:"Error",success:"Success",close:"Close",options:"Options",welcomeBack:"Welcome back",goodMorning:"Good morning",goodAfternoon:"Good afternoon",goodEvening:"Good evening",depositFunds:"Deposit Funds",withdrawFunds:"Withdraw Funds",selectAmount:"Select Amount",enterAmount:"Enter Amount",minimum:"Minimum",maximum:"Maximum",available:"Available",receive:"Receive",name:"Name",country:"Country",dateOfBirth:"Date of Birth",address:"Address",personalAccount:"Personal Account",idDocument:"Identification Document",enterIdDocument:"Enter your ID document",residentialAddress:"Residential Address",addressPlaceholder:"Street, number, apartment",city:"City",state:"State",zipCode:"Zip Code",phoneNumber:"Phone Number",emailLabel:"Email",taxResidence:"Tax Residence",patrimony:"Net Worth",reportedPatrimony:"Reported Net Worth (optional)",patrimonyPlaceholder:"Ex: $ 500,000.00",notInformed:"NOT INFORMED",portfolioValue:"Portfolio Value",dailyChange:"Daily Change",profit:"Profit",loss:"Loss",myCards:"My Cards",addCard:"Add Card",manageCards:"Manage Cards",bottomNav:{home:"Home",wallet:"Wallet",convert:"Convert",crypto:"Crypto",profile:"Profile"},cryptoPage:{all:"All",favorites:"Favorites",searchCrypto:"Search cryptocurrency...",addBalance:"Add Balance",enterAmount:"Enter amount",add:"Add",balance:"Balance",noFavorites:"No favorites yet",addFavoritesTip:"Tap the star to add favorites",topGainersToday:"Top Gainers Today",cryptoAddedSuccess:"Crypto added successfully!",errorAddingCrypto:"Error adding crypto",invalidAmount:"Invalid amount",addToPortfolio:"Add to Portfolio",trendingUp:"Trending Cryptos",realTime:"Real Time",price:"Price",change24h:"24h",hideList:"Hide List",seeAllCryptos:"See All Cryptocurrencies",activeAvailable:"asset available",activesAvailable:"assets available",hide:"Hide",expand:"Expand",holdToAddBalance:"Hold 5s to add balance",marketCap:"Market Cap",allCryptosActive:"All cryptos are active!",allCryptosAdded:"You have added all available cryptocurrencies to your portfolio.",viewPortfolio:"View Portfolio",currentBalance:"Current Balance",amountToAdd:"Amount to add",newBalance:"New Balance",cancel:"Cancel",adding:"Adding...",confirmAddPortfolio:"Do you want to add this crypto to your portfolio?",addNow:"Add Now"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Crypto  Crypto",cryptoToFiat:"Crypto  Fiat",fiatToFiat:"Fiat  Fiat",convertAll:"Convert all",exchangeRate:"Exchange Rate",balance:"Balance",conversionFee:"Conversion fee (0.5%)",processing:"Processing",confirmExchange:"Confirm Exchange",converting:"Converting...",conversionHistory:"Conversion History",insufficientBalance:"Insufficient balance",insufficientBalanceWithFee:"Insufficient balance (includes 0.5% fee)",noBalance:"No balance in",conversionCompleted:"Conversion Completed!",anotherConversion:"Do you want to make another conversion?",yesAnother:"Yes, make another",noGoHome:"No, go to Home",conversionSuccess:"Conversion completed successfully!",conversionError:"Error processing conversion",deleteConversion:" Do you want to delete this conversion?",conversionDeleted:" Conversion deleted successfully!",errorDeletingConversion:"Error deleting conversion",noConversions:"No conversions made yet",loadingHistory:"Loading history...",needTwoAccounts:"You need accounts in at least 2 different countries to make currency conversions.",needBankAccount:"You need to open a bank account to convert crypto to fiat currency.",seeHistory:"See History",hideHistory:"Hide History",seconds:"seconds",clickToDelete:"Double-click to delete"},withdrawTransfer:{sendMoney:"Send Money",chooseCountryAndMethod:"Choose your country and transfer method",selectAccount:"Select Account",availableForTransfer:"Available balance for transfer",transferMethods:"Transfer methods",instantTransfer:"Instant transfer",instantNoLimit:"Instant  No transfer limit",bankTransfer:"Bank Transfer",tedOrDoc:"TED or DOC",businessDaysNoLimit:"1-2 business days  No transfer limit",important:"Important",verifyBankData:"Make sure to enter the correct bank details. Transfers to incorrect data cannot be reversed.",transferViaPix:"Transfer via PIX",availableBalance:"Available balance",amountToTransfer:"Amount to transfer",pixKeyRecipient:"Recipient PIX key",pixKeyPlaceholder:"CPF, Email, Phone or Random Key",informPixKey:"Enter the PIX key of who will receive the transfer",fee:"Fee",time:"Time",instant:"Instant",confirmTransfer:"Confirm Transfer",pix:"PIX",businessDays:"1-2 business days",pixKeyInvalidType:"PIX key type not recognized. Use CPF, CNPJ, Email, Phone or Random Key.",userNotAuthenticated:"User not authenticated",minAmount:"Minimum amount",insufficientBalance:"Insufficient balance. Available",informPixKeyError:"Enter PIX key",pixKeyInvalid:"Invalid PIX key",fillBankDetails:"Fill in all bank details",pixTransferTo:"PIX transfer to",errorProcessingPix:"Error processing PIX transfer",transferSentTo:"Transfer sent to",pixKeyNotFound:"PIX key not found in NexCoin system. Only transfers between NexCoin users are supported at the moment.",pixTransfer:"PIX Transfer",tedTransfer:"TED Transfer",transferVia:"Transfer via",errorProcessingTransfer:"Error processing transfer",pixKey:"PIX Key",transferSuccess:"Transfer successful!",min:"Min",max:"Max",processing:"Processing...",amount:"Amount",bank:"Bank",code:"Code",agency:"Agency",account:"Account",checkingAccount:"Checking Account",savingsAccount:"Savings Account",fullName:"Full Name",cpfCnpj:"CPF/CNPJ",checking:"Checking",savings:"Savings",accountHolderName:"Holder Name",address:"Address",beneficiaryName:"Beneficiary Name",processingStatus:"Processing",addAccountHome:"Add an account on Home page",noTransferLimit:"No transfer limit",achTransfer:"ACH Transfer",electronicBankTransfer:"Electronic bank transfer",wireTransfer:"Wire Transfer",domesticWire:"Domestic wire",sepaTransfer:"SEPA Transfer",singleEuroPaymentsArea:"Single Euro Payments Area",sepaInstant:"SEPA Instant",instantSepaTransfer:"Instant SEPA transfer",fasterPayments:"Faster Payments",instantBankTransfer:"Instant bank transfer",bacsTransfer:"BACS Transfer",standardBankTransfer:"Standard bank transfer",bankDetails:"Account Details",removeAccount:"Remove Account"},withdrawCrypto:{title:"Send",searchPlaceholder:"Search compatible cryptocurrencies",availableBalance:"Available balance",selectNetwork:"Select network",fee:"Fee",noCryptosFound:"No cryptocurrencies found",sendCrypto:"Send"},withdrawAddress:{title:"Send",selectedNetwork:"Selected network",walletAddress:"Wallet address",addressPlaceholder:"Paste or scan the wallet address",recipientFound:"Recipient found",sendingTo:"Sending to",invalidAddress:"Invalid address",addressWarning:"Make sure the address is correct. Transactions cannot be reversed.",amount:"Amount",useMax:"Use max",summary:"Transaction summary",quantity:"Quantity",networkFee:"Network fee",total:"Total",attention:"Attention",attentionWarning:"Carefully check the address and network before sending. Only addresses registered in NexCoin are accepted.",mustBeRegistered:"The address must be registered in NexCoin",sentSuccess:"Sent successfully!",transactionProcessed:"Your transaction has been processed",recipient:"Recipient",viewReceipt:"View Receipt",processing:"Processing...",transferSuccess:"Transfer completed successfully!",availableBalance:"Available balance",fee:"Fee"},withdrawReceipt:{title:"Transfer Confirmed!",subtitle:"Transfer receipt",transactionId:"Transaction ID",details:"Transfer details",method:"Method",fee:"Fee",processing:"Processing",date:"Date",recipient:"Recipient",important:"Important",importantNotice:"Keep this receipt for future reference. Processing may take up to",shareReceipt:"Share receipt",backToHome:"Back to Home",copied:"Copied",sharing:"Sharing...",copiedToClipboard:"Copied to clipboard!",shareTextHeader:" NexCoin Transfer Receipt",shareTextFooter:" NexCoin - Your digital crypto bank",amount:"Amount",currency:"Currency",status:"Status",copy:"Copy",to:"To"},paymentScreen:{title:"Analysis Fee",description:"To proceed with your account analysis, a symbolic validation donation is required.",totalToPay:"Total to pay",payButton:"Pay 5.00",processing:"Processing...",securePayment:"Secure payment processed by Stripe. Your data is encrypted.",secureBadge:"100% Secure and Encrypted Payment",configError:"Configuration Error",technicalNote:"Technical Note: If you see CORS/Network error, it is because Stripe blocks secret key usage in browser. You need to configure a backend or Cloud Function.",tryAgain:"Try Again",success:"Payment successful!",updateError:"Payment confirmed, but there was an error updating your profile. Contact support.",initiating:"Initiating secure payment...",pleaseWait:"Please wait a moment."},pendingApproval:{title:"Account Under Review",greeting:"Hello {name}!",description:"Your request to access NexCoin is being reviewed by our security team.",step1Title:"Registration Completed",step1Desc:"Your information was received successfully",step2Title:"Security Analysis",step2Desc:"Verifying your data and validating identity",step3Title:"Final Approval",step3Desc:"You will receive a notification when approved",estimatedTime:"Estimated time:",timeValue:"24 to 48 hours",emailNotice:"You will receive an email at {email} as soon as your account is approved.",securityBadge:"Protected by two-step verification",logoutButton:"Log Out",needHelp:"Need help?",contactUs:"Contact us"},pushSettingsPage:{title:"Push Notifications",keepInformed:"Stay informed",keepInformedDesc:"Customize your notifications to receive only the most important information",sections:{general:"General",transactions:"Transactions",security:"Security",market:"Market"},items:{enablePush:"Enable push notifications",enablePushDesc:"Receive all notifications on your device",allTransactions:"All transactions",allTransactionsDesc:"Notifications for all movements",deposits:"Deposits",depositsDesc:"When you receive funds",withdrawals:"Withdrawals",withdrawalsDesc:"When a withdrawal is processed",securityAlerts:"Security alerts",securityAlertsDesc:"All security notifications",newDevices:"New devices",newDevicesDesc:"Login on a new device",suspiciousActivity:"Suspicious activities",suspiciousActivityDesc:"Unauthorized access attempts",priceAlerts:"Price alerts",priceAlertsDesc:"When your assets reach targets",marketNews:"Market news",marketNewsDesc:"Important market updates"},tipTitle:"Tip:",tipContent:"Some security notifications cannot be disabled to keep your account protected."},landingPage:{products:"Products",company:"Company",help:"Help",openAccount:"Open your account",openAccountNow:"Open your account now",moreThanGlobalTitle:"More than a",moreThanGlobalHighlight:"global cooperative account",heroSubtitle:"Send, spend, and save smarter. Join thousands who have already transformed their financial life with NexCoin.",yourBalance:"Your Balance",yield:"YIELD",yieldToday:"+ 0.85% today",socialProof:"The App used by thousands of people",elevateSpending:"Elevate your way of spending",cardSubtitle:"Order your NexCoin card and have total control of your spending anywhere in the world.",requestCard:"Request card",highYieldTitle:"Change your life with high-yield accounts",highYieldSubtitle:"Make your money work for you. Competitive rates and daily liquidity for you to enjoy what matters.",exploreYields:"Explore yields",safeHarborTitle:"The safe harbor for your money",safeHarborSubtitle:"We use cutting-edge technology to protect your data and your wealth. With biometric authentication, military-grade encryption, and real-time monitoring, you can have peace of mind.",security:"Security",enterCryptoTitle:"Enter the crypto world",enterCryptoSubtitle:"Buy Bitcoin, Ethereum, and other cryptos with just one touch. Simple, safe, and transparent.",exploreCrypto:"Explore Crypto",joinThousands:"Join thousands already using NexCoin",footerTagline:"Revolutionizing your financial life with technology, transparency, and security.",footerProduct:"Product",footerCards:"Cards",footerCrypto:"Crypto",footerBalances:"Balances",footerYields:"Yields",footerCompany:"Company",footerAbout:"About us",footerCareers:"Careers",footerBlog:"Blog",footerPress:"Press",footerSupport:"Support",footerHelp:"Help",footerContact:"Contact us",footerSecurity:"Security",footerPrivacy:"Privacy Policy",footerTerms:"Terms of Use",footerDisclaimer:"NexCoin is a digital financial services platform. Payment services and accounts are provided by authorized and regulated partners. Be sure to read our Terms and Conditions before opening an account. Investing in crypto assets involves significant risks of loss. NexCoin is not a banking financial institution itself, acting as a banking correspondent.  2026 NexCoin. All rights reserved."},downloadApp:{successTitle:"Registration successful! ",successSubtitle:"To access your account and start investing, download the official NexCoin app on your smartphone now.",android:"Android",androidHint:"Point your camera to download via Google Play",downloadApk:"Download APK",ios:"iOS (iPhone)",iosHint:"Point your camera to download via App Store",downloadAppStore:"Download App Store",rightsReserved:" 2026 NexCoin. All rights reserved."}},es:{countries:{BR:"Brasil",US:"Estados Unidos",PT:"Portugal",ES:"Espaa",FR:"Francia",DE:"Alemania",IT:"Italia",GB:"Reino Unido",NL:"Pases Bajos",BE:"Blgica",CH:"Suiza",AT:"Austria",CA:"Canad",AU:"Australia",MX:"Mxico",AR:"Argentina",CL:"Chile",CO:"Colombia"},fiatAccounts:{title:"Cuentas",subtitle:"Gestiona tus cuentas bancarias",accounts:"Cuentas",manageBankAccounts:"Gestiona tus cuentas bancarias",accountData:"Datos de la cuenta",accountSettings:"Configuracin de la Cuenta",selectAccount:"Seleccionar cuenta",chooseAccountToTransact:"Elige la cuenta para transaccionar",addNewAccount:"Aadir Nueva Cuenta",addAccount:"Aadir Cuenta",noAccountsFound:"No se encontraron cuentas",addFiatAccount:"Aade una cuenta fiat para comenzar",add:"Aadir",addButton:"Aadir",creating:"Creando...",removeAccount:"Eliminar Cuenta",closeAccount:"Cerrar cuenta",deleteAccount:"Eliminar Cuenta",openingAccount:"Abriendo Cuenta",configuringAccount:"Configurando tu cuenta de {country}",validating:"Validando datos",generating:"Generando nmero de cuenta",security:"Configurando seguridad",finalizing:"Finalizando apertura",completedSteps:"{completed} de {total} etapas completadas",accountExists:"La cuenta ya existe",accountExistsDesc:"Ya tienes una cuenta bancaria de {country}. No es posible crear ms de una cuenta por pas.",accountCreated:"Cuenta creada",accountCreatedDesc:"Cuenta bancaria de {country} creada con xito!",pixKeysCreated:"Claves PIX creadas!",pixKeysCreatedDesc:"Tus claves PIX (email y telfono) se han configurado automticamente.",errorCreatingAccount:"Error al crear la cuenta",errorCreatingAccountDesc:"No se pudo crear la cuenta bancria. Intntalo de nuevo.",error:"Error",accountIdNotFound:"ID de cuenta no encontrado.",closeAccountConfirm:`Ests seguro de que deseas cerrar esta cuenta?

Esta accin no se puede deshacer y perders todos los datos asociados a esta cuenta bancaria.`,accountClosed:"Cuenta cerrada",accountClosedDesc:"La cuenta bancria se ha cerrado con xito.",errorClosingAccount:"Error al cerrar la cuenta",errorClosingAccountDesc:"No se pudo cerrar la cuenta. Intntalo de nuevo.",permissionError:"Error de permiso",permissionErrorDesc:"Verifica si las reglas de Firestore estn configuradas correctamente.",firestoreRulesWarning:" Reglas de Firestore no configuradas",firestoreRulesDesc:"Necesitas actualizar las reglas de Firestore. Consulta la gua para obtener instrucciones detalladas.",institution:"Institucin",bank:"Banco",accountType:"Tipo de Cuenta",accountNumber:"Nmero de cuenta",bankCode:"Cdigo del Banco",institutionCode:"Cdigo de Institucin",iban:"IBAN",swiftBic:"SWIFT/BIC",sortCode:"Sort Code",branchCode:"Cdigo de sucursal",agency:"Agencia",routingNumber:"Nmero de ruta",bsb:"BSB",shareData:"Compartir datos",domesticOnly:"Solo para transferencias nacionales",internationalOnly:"Solo para transferencias internacionales",transferTimeTip:"Normalmente, las transferencias tardan de tres a cinco das hbiles en aparecer en tu cuenta",feeTip:"El banco del remitente o el intermediario pueden cobrar por pagos internacionales",swiftOnlyTip:"Solo aceptamos transferencias SWIFT",noFeeTip:"No cobraremos ninguna tarifa de transferencia por esta cuenta.",pixTip:"Puedes usar los datos de tu cuenta o clave Pix para recibir transferencias las 24 horas, sin complicaciones.",addFunds:"Aadir Fondos",depositMethod:"Mtodo de Depsito",depositAmount:"Monto del Depsito",transferDetails:"Datos para Transferencia",selectPixKey:"Seleccione la Clave PIX",selectKey:"Seleccione una clave",pixKeys:"Claves Pix",pixQrCode:"Cdigo QR PIX",copyPixCode:"Copiar Cdigo PIX",codeCopied:"Cdigo Copiado!",depositHint:"Consejo: Ingrese el monto del depsito arriba para generar el Cdigo QR PIX.",noPixKeys:"Ninguna clave PIX registrada. Registre una clave PIX para usar este mtodo.",simulationWarning:'Simulacin: En produccin, el sistema esperara la confirmacin de la transferencia bancaria. Aqu, el saldo se agregar instantneamente al hacer clic en "Confirmar Depsito".',confirmDeposit:"Confirmar Depsito",depositVia:"Depsito va",depositSuccess:"Depsito realizado con xito!",depositError:"Error al procesar el depsito",recipient:"Destinatario",yourPixKeys:"Tus claves PIX",registeredKeys:"Tus claves registradas",keysAutoCreated:" Tus claves PIX (email y telfono) se crearon automticamente",noKeysFound:"No se encontraron claves PIX",errorCopying:"Error al copiar clave"},welcome:"Bienvenido",createAccount:"Crear Cuenta",login:"Iniciar Sesin",signUp:"Registro",termsAgreement:"Al registrarte, aceptas nuestros Trminos de Servicio y Poltica de Privacidad.",futureOfFinance:"Future of Finance",dontHaveAccount:"No tienes una cuenta?",alreadyHaveAccount:"Ya tienes una cuenta?",email:"Email",phone:"Telfono",fullName:"Nombre completo",password:"Contrasea",confirmPassword:"Confirmar contrasea",forgotPassword:"Olvidaste tu contrasea?",continue:"Continuar",initialSetup:"Configuracin inicial",countryCurrencySubtitle:"Selecciona tu pas de origen y la moneda preferida para tus transacciones.",choosePin:"Elige tu PIN de acceso",choosePinSubtitle:"Crea un PIN de 6 dgitos para entrar en la aplicacin y autorizar tus transacciones.",confirmPin:"Confirma tu PIN",confirmPinSubtitle:"Introduce de nuevo tu PIN de 6 dgitos para confirmar.",enterPin:"Ingrese su PIN",enterPinSubtitle:"Ingrese su PIN de 6 dgitos para acceder a su cuenta",forgotPin:"Olvid mi PIN",pinsDontMatch:"Los PIN no coinciden. Intntalo de nuevo.",pinSetupSuccess:"PIN configurado correctamente!",portuguese:"Portugus",english:"Ingls",spanish:"Espaol",register:"Registrarse",invalidName:"Nombre invlido",invalidEmail:"Correo electrnico invlido",invalidPhone:"Telfono invlido",phoneNotFound:"Telfono no encontrado",passwordRequirement:"La contrasea debe tener al menos 8 caracteres, 1 mayscula y 1 carcter especial",passwordsDontMatch:"Las contraseas no coinciden",privacyPolicy:"Poltica de Privacidad",or:"o",incorrectPassword:"Contrasea incorrecta",loginError:"Error al iniciar sesin",home:"Inicio",wallet:"Billetera",convert:"Convertir",crypto:"Cripto",profile:"Perfil",totalBalance:"Saldo Total",hideBalance:"Ocultar Saldo",showBalance:"Mostrar Saldo",recentTransactions:"Transacciones Recientes",deposit:"Depositar",withdraw:"Retirar",transfer:"Transferir",noTransactions:"No hay transacciones an",quickActions:"Acciones Rpidas",viewAll:"Ver Todo",statement:"Estado de Cuenta",viewAllTransactions:"Ver Todas las Transacciones",market:"Mercado",myAccounts:"Mis Cuentas",myCryptos:"Mis Criptos",trade:"Negociar",activity:"Actividad",myWallet:"Mi Billetera",assets:"Activos",search:"Buscar",totalAssets:"Total en Activos",cryptoAssets:"Activos en Cripto",fiatBalance:"Saldo en Fiat",manageHoldings:"Gestionar Activos",send:"Enviar",loadingAssets:"Cargando activos...",noAssetsInPortfolio:"No hay activos en el portafolio",startAddingCryptos:"Comienza agregando criptomonedas en la pestaa",goToCrypto:"Ir a Cripto",cryptocurrencies:"Criptomonedas",clickToAddBalance:"Haz doble clic para agregar saldo",removeAsset:"Eliminar Activo",addBalance:"Agregar Saldo",enterValidValue:"Ingresa un valor vlido",balanceAddedSuccess:"Saldo agregado con xito!",errorAddingBalance:"Error al agregar saldo",add:"Agregar",confirmDeletion:"Confirmar Eliminacin",areYouSureDelete:"Ests seguro de que deseas eliminar permanentemente",fromYourPortfolio:"de tu portafolio?",currentBalance:"Saldo actual",valueToAdd:"Valor a agregar",newBalance:"Nuevo saldo",adding:"Agregando...",addCryptosToPortfolio:"Agrega criptomonedas a tu portafolio",toAddMoreCryptos:"Para agregar ms criptomonedas, ve a la",andClickCrypto:"pestaa y haz doble clic en la moneda deseada",inCryptoTab:"En la pestaa Cripto, haz doble clic en cualquier moneda para agregar",selectAssetToDelete:"Selecciona un activo para eliminar",assetRemovedSuccess:"Activo eliminado con xito!",errorRemovingAsset:"Error al eliminar activo",removing:"Eliminando...",remove:"Eliminar",cashAndStablecoins:"Efectivo y Stablecoins",cancel:"Cancelar",brazilianReal:"Real Brasileo (PIX)",usDollar:"Dlar Estadounidense",euro:"Euro",sterling:"Libra Esterlina",stablecoin:"Stablecoin",japaneseYen:"Yen Japons",canadianDollar:"Dlar Canadiense",australianDollar:"Dlar Australiano",swissFranc:"Franco Suizo",chineseYuan:"Yuan Chino",indianRupee:"Rupia India",mexicanPeso:"Peso Mexicano",argentinePeso:"Peso Argentino",convertCrypto:"Convertir Cripto",from:"De",to:"A",amount:"Cantidad",youGet:"Recibes",exchangeRate:"Tasa de Cambio",convertNow:"Convertir ahora",selectCrypto:"Seleccionar cripto",cryptoMarket:"Mercado Cripto",topGainers:"Mayores Subidas",topLosers:"Mayores Cadas",marketCap:"Cap. de Mercado",volume24h:"Volumen 24h",price:"Precio",change24h:"Cambio 24h",myProfile:"Mi Perfil",settings:"Configuracin",security:"Seguridad",notifications:"Notificaciones",language:"Idioma",support:"Soporte",about:"Acerca de",logout:"Salir",account:"Cuenta",personalInfo:"Informacin Personal",accountData:"Datos de la Cuenta",helpCenter:"Centro de Ayuda",termsAndPrivacy:"Trminos y Privacidad",dangerZone:"Zona de Peligro",deleteAccount:"Eliminar Cuenta",help:"Ayuda",privacy:"Privacidad",aboutUs:"Acerca de Nosotros",receiveCrypto:{title:"Recibir",searchPlaceholder:"Buscar criptomoneda...",receiveCryptoTitle:"Recibir {crypto}",selectNetwork:"Seleccione la red",yourAddress:"SU DIRECCIN",copy:"Copiar",new:"Nuevo",generating:"Generando...",copied:"Copiado!",generatingAddress:"Generando direccin...",helpTitle:"Ayuda",attention:"Atencin",attentionDesc:"Enve solo activos compatibles con la red seleccionada. El envo de activos de otras redes puede resultar en la prdida permanente de sus fondos.",uniqueAddress:"Direccin nica",uniqueAddressDesc:"Esta direccin es exclusiva para su cuenta y puede usarse varias veces.",security:"Seguridad",securityDesc:"Siempre confirme la red antes de enviar activos para evitar prdidas irreversibles.",howItWorks:"Cmo funciona",howItWorksDesc:"Comparta esta direccin o cdigo QR con quien le enve criptomonedas.",importantTip:"Consejo importante",importantTipDesc:"Recomendamos hacer una prueba con una cantidad pequea primero.",transactionQuestions:"Dudas sobre transacciones?",helpHere:"Ayuda aqu"},securitySettings:"Configuracin de Seguridad",changePassword:"Cambiar Contrasea",twoFactor:"Autenticacin de Dos Factores",biometric:"Biometra",currentPassword:"Contrasea Actual",newPassword:"Nueva Contrasea",confirmNewPassword:"Confirmar Nueva Contrasea",updatePassword:"Actualizar Contrasea",authentication:"Autenticacin",lastChanged:"ltimo cambio hace 3 meses",addExtraLayer:"Agrega una capa extra de seguridad",securityNotifications:"Notificaciones de Seguridad",emailAlerts:"Alertas por Correo",receiveSuspiciousActivity:"Recibe notificaciones de actividades sospechosas",recentActivity:"Actividad Reciente",viewDevicesAccess:"Ver dispositivos y accesos recientes",connectedDevices:"Dispositivos Conectados",activeDevices:"3 dispositivos activos",activeSessions:"Sesiones Activas",manageSessions:"Gestiona tus sesiones",yourAccountProtected:"Tu cuenta est protegida",keepInfoSecure:"Mantn tu informacin segura",securityTips:"Consejos de Seguridad",useStrongPassword:"Usa una contrasea fuerte y nica",enableTwoFactor:"Activa la autenticacin de dos factores",neverShareCredentials:"Nunca compartas tus credenciales",notificationSettings:"Configuracin de Notificaciones",pushNotifications:"Notificaciones Push",emailNotifications:"Notificaciones por Correo",transactionAlerts:"Alertas de Transaccin",priceAlerts:"Alertas de Precio",newsUpdates:"Actualizaciones de Noticias",notificationsTitle:"Notificaciones",unreadMessages:"{count} no leda{plural}",markAll:"Marcar todas",filterAll:"Todas",filterTransactions:"Transacciones",filterSecurity:"Seguridad",filterUpdates:"Actualizaciones",loadingNotifications:"Espere mientras cargamos sus notificaciones",noNotificationsTitle:"Sin notificaciones",noNotificationsDesc:"No tiene notificaciones en esta categora",pushSettingsButton:"Configuracin de notificaciones push",helpCenterPage:{title:"Centro de Ayuda",howCanWeHelp:"Cmo podemos ayudar?",chooseOption:"Elija la mejor forma de contactar a nuestro equipo de soporte",sendEmail:"Enviar correo",sendEmailDesc:"Enve su duda por correo y reciba respuesta en hasta 24 horas",liveChat:"Chat en vivo",liveChatDesc:"Hable con un agente en tiempo real",availableNow:"Disponible ahora",faq:"Preguntas frecuentes",subject:"Asunto",enterSubject:"Ingrese el asunto",message:"Mensaje",enterMessage:"Describa su duda o problema",send:"Enviar",cancel:"Cancelar",emailSent:"Correo enviado con xito! Nuestro equipo responder pronto.",waitingSupport:"Esperando atencin",youAreInQueue:"Ests en la fila. Pronto un agente estar disponible.",peopleAhead:"personas delante de ti",connectedWithAgent:"Has sido conectado con un agente",agentGreeting:"Hola! Soy el agente Carlos. Cmo puedo ayudarte hoy?",agentResponse:"Entiendo tu pregunta. Voy a verificar eso por ti.",agentName:"Agente Carlos",online:"En lnea",typeMessage:"Escribe tu mensaje...",faqs:{deposit:{q:"Cmo hacer un depsito?",a:'Para hacer un depsito, ve a la pestaa "Billetera", selecciona la criptomoneda deseada y haz clic en "Depositar". Recibirs una direccin nica para enviar tus fondos. Asegrate de usar la red correcta para evitar prdida de fondos.'},withdraw:{q:"Cmo retirar criptomonedas?",a:'En la pestaa "Billetera", selecciona la moneda que deseas retirar y haz clic en "Retirar". Ingresa la direccin de destino, elige la red blockchain y el monto. Confirma la transaccin con tu cdigo de seguridad. El procesamiento puede tardar de unos minutos a horas dependiendo de la red.'},fees:{q:"Tasas de transaccin",a:"Las tasas varan segn la criptomoneda y la red blockchain utilizada. Los depsitos son gratuitos. Para retiros, las tasas son dinmicas y basadas en la congestin de la red. Siempre vers la tasa exacta antes de confirmar cualquier transaccin."},security:{q:"Seguridad de la cuenta",a:"Tu seguridad es nuestra prioridad. Recomendamos activar la autenticacin de dos factores (2FA), usar contrasea fuerte y nica, y nunca compartir tus credenciales. Todas las transacciones requieren confirmacin adicional y tus fondos estn protegidos con cifrado de nivel bancario."}}},termsMenuPage:{title:"Trminos y Privacidad",termsOfUse:"Trminos de Uso",termsDesc:"Lee los trminos y condiciones de uso de NexCoin",privacyPolicy:"Poltica de Privacidad",privacyDesc:"Sepa cmo protegemos y usamos sus datos",lastUpdate:"ltima actualizacin: 26 de enero de 2026"},termsAndConditionsPage:{title:"Trminos de Uso",lastUpdate:"ltima actualizacin: 26 de enero de 2026",sections:{1:{title:"1. Aceptacin de los Trminos",content:"Al acceder y usar NexCoin, aceptas cumplir con estos Trminos de Uso. Si no ests de acuerdo con cualquier parte de estos trminos, no deberas usar nuestros servicios."},2:{title:"2. Elegibilidad",content:"Debes tener al menos 18 aos para usar NexCoin. Al crear una cuenta, declaras y garantizas que tienes capacidad legal para celebrar este contrato."},3:{title:"3. Cuenta y Seguridad",content:[" Eres responsable de mantener la confidencialidad de tus credenciales de inicio de sesin"," Debes notificar inmediatamente sobre cualquier uso no autorizado de tu cuenta"," NexCoin no ser responsable por prdidas derivadas del uso no autorizado de tu cuenta"]},4:{title:"4. Seguridad y Permisos Obligatorios",content:"Para garantizar la seguridad de tus transacciones y prevenir fraudes, el uso de GPS (geolocalizacin) y CMARA es OBLIGATORIO en la plataforma NexCoin.",items:[" El acceso a los servicios ser bloqueado si se deniegan o desactivan los permisos de ubicacin o cmara"," La cmara se utiliza exclusivamente para verificacin de identidad (KYC), prueba de vida y autenticacin de seguridad"," El GPS se utiliza para monitoreo de seguridad constante, incluyendo seguimiento en segundo plano para prevencin contra accesos no autorizados y proteccin de activos"," El uso de notificaciones se recomienda para el monitoreo en tiempo real de todos los movimientos financieros de tu cuenta"]},5:{title:"5. Uso de la Plataforma",items:["Uso Permitido: NexCoin es una plataforma para comercio de criptomonedas. Aceptas usar la plataforma solo para fines legales.","Uso Prohibido: Est prohibido usar la plataforma para lavado de dinero, financiamiento del terrorismo, fraude o cualquier actividad ilegal."]},6:{title:"6. Transacciones y Tasas",content:"Todas las transacciones realizadas a travs de NexCoin estn sujetas a tasas de red. Las tasas se muestran claramente antes de la confirmacin de cualquier transaccin. Una vez confirmada, la transaccin es irreversible."},7:{title:"7. Riesgos de Criptomonedas",content:"Reconoces que el mercado de criptomonedas es voltil y que el valor de tus activos puede fluctuar significativamente. NexCoin no garantiza ganancias y eres responsable de tus decisiones de inversin."},8:{title:"8. Limitacin de Responsabilidad",content:"NexCoin no ser responsable por prdidas directas, indirectas, incidentales o consecuentes resultantes del uso o incapacidad de usar nuestros servicios, incluyendo prdida de fondos, datos o ganancias."},9:{title:"9. Suspensin y Terminacin",content:"Nos reservamos el derecho de suspender o terminar tu cuenta en cualquier momento, sin previo aviso, si creemos que has violado estos trminos o te has involucrado en actividades fraudulentas."},10:{title:"10. Modificaciones de los Trminos",content:"Podemos modificar estos trminos en cualquier momento. Te notificaremos sobre cambios significativos a travs de la aplicacin o correo electrnico. El uso continuado de la plataforma despus de las modificaciones constituye aceptacin de los nuevos trminos."},11:{title:"11. Ley Aplicable",content:"Estos trminos se rigen por las leyes aplicables en tu jurisdiccin. Cualquier disputa ser resuelta en los tribunales competentes."},12:{title:"12. Contacto",content:"Si tienes dudas sobre estos Trminos de Uso, contctanos a travs del Centro de Ayuda."}},agreement:"Al usar NexCoin, aceptas estos Trminos de Uso"},privacyPolicyPage:{title:"Poltica de Privacidad",lastUpdate:"ltima actualizacin: 26 de enero de 2026",sections:{1:{title:"1. Introduccin",content:"NexCoin valora tu privacidad. Esta Poltica de Privacidad describe cmo recopilamos, usamos, almacenamos y protegemos tu informacin personal cuando usas nuestros servicios."},2:{title:"2. Informacin que Recopilamos",items:[{title:"2.1 Informacin de Registro:",content:" Nombre completo, correo electrnico, nmero de telfono, pas de residencia"},{title:"2.2 Informacin de Transaccin:",content:" Historial de transacciones, direcciones de billeteras, montos negociados"},{title:"2.3 Informacin Tcnica:",content:" Direccin IP, tipo de dispositivo, sistema operativo, registros de acceso"},{title:"2.4 Informacin de Geolocalizacin (GPS):",content:" Ubicacin precisa del dispositivo, utilizada obligatoriamente para fines de seguridad, prevencin de fraudes y cumplimiento normativo."},{title:"2.5 Informacin de Verificacin:",content:" Documentos de identificacin y datos biomtricos para cumplimiento KYC (Conozca a su Cliente)"},{title:"2.6 Informacin de Cmara:",content:" Acceso a la cmara del dispositivo, utilizado obligatoriamente para captura de documentos y reconocimiento facial (KYC) para fines de seguridad y prevencin de fraudes."},{title:"2.7 Notificaciones y Alertas:",content:" Recopilacin de tokens de dispositivo para envo de notificaciones push sobre depsitos recibidos, seguridad de la cuenta y alertas importantes del sistema."}]},3:{title:"3. Cmo Usamos tu Informacin",content:[" Proporcionar y mejorar nuestros servicios de comercio de criptomonedas"," Procesar transacciones y garantizar la seguridad de tu cuenta"," Cumplir requisitos legales y regulatorios (AML/KYC)"," Comunicar sobre actualizaciones, mantenimientos y cuestiones de seguridad"," Prevenir fraudes y actividades sospechosas a travs del monitoreo de ubicacin y patrones de acceso"," Personalizar tu experiencia en la aplicacin"]},4:{title:"4. Compartir Informacin",intro:"No vendemos tu informacin personal. Podemos compartir tus datos solo en las siguientes situaciones:",content:[" Con proveedores de servicios externos esenciales para la operacin de la plataforma"," Cuando sea requerido por ley, orden judicial o autoridades reguladoras"," Para proteger nuestros derechos legales y prevenir fraudes"," Con tu consentimiento explcito"]},5:{title:"5. Seguridad de los Datos",intro:"Implementamos medidas de seguridad robustas para proteger tu informacin:",content:[" Cifrado de extremo a extremo para datos sensibles"," Autenticacin de dos factores (2FA)"," Almacenamiento seguro en servidores con certificacin de seguridad"," Monitoreo continuo contra accesos no autorizados"," Auditoras de seguridad regulares"]},6:{title:"6. Retencin de Datos",content:"Mantenemos tu informacin personal por el tiempo necesario para proporcionar nuestros servicios y cumplir obligaciones legales. Los datos de transacciones se mantienen segn lo requerido por regulaciones financieras."},7:{title:"7. Tus Derechos",intro:"Tienes los siguientes derechos en relacin con tu informacin personal:",content:[" Acceder y revisar tu informacin personal"," Solicitar correccin de datos incorrectos"," Solicitar eliminacin de datos (sujeto a obligaciones legales)"," Optar por no recibir comunicaciones de marketing"," Portabilidad de datos"]},8:{title:"8. Cookies y Rastreo",content:"Usamos cookies y tecnologas similares para mejorar tu experiencia, analizar el uso de la plataforma y personalizar contenido. Puedes gestionar tus preferencias de cookies en la configuracin de la aplicacin."},9:{title:"9. Transferencias Internacionales",content:"Tus datos pueden ser transferidos y procesados en pases diferentes de tu pas de residencia. Garantizamos que todas las transferencias cumplan con las leyes de proteccin de datos aplicables."},10:{title:"10. Menores de Edad",content:"Nuestros servicios no estn destinados a menores de 18 aos. No recopilamos intencionalmente informacin de menores. Si crees que hemos recopilado datos de un menor, contctanos inmediatamente."},11:{title:"11. Cambios en la Poltica",content:"Podemos actualizar esta Poltica de Privacidad peridicamente. Te notificaremos sobre cambios significativos a travs de la aplicacin o correo electrnico. Recomendamos revisar esta poltica regularmente."},12:{title:"12. Contacto",content:"Si tienes dudas sobre esta Poltica de Privacidad o sobre cmo tratamos tus datos, contctanos a travs del Centro de Ayuda o enva un correo a privacy@nexcoin.com."}},agreement:"Al usar NexCoin, aceptas esta Poltica de Privacidad"},languageSettings:"Configuracin de Idioma",selectLanguage:"Selecciona tu idioma",languageUpdated:"Idioma actualizado con xito!",selectYourLanguage:"Selecciona tu idioma",languageDescription:"Elige tu idioma preferido para la aplicacin",sent:"Enviado",received:"Recibido",pending:"Pendiente",completed:"Completado",failed:"Fallido",transactions:"Transacciones",allTransactions:"Todas las Transacciones",transactionsPage:{title:"Transacciones",search:"Buscar",today:"Hoy",yesterday:"Ayer",noTransactions:"Sin transacciones",noTransactionsDesc:"Tus transacciones aparecern aqu",noResults:"Sin resultados",noResultsDesc:"Intenta ajustar la bsqueda",fee:"Comisin",types:{sendCrypto:"Envo de",receiveCrypto:"Recepcin de",sent:"Enviado",received:"Recibido",pixSent:"PIX enviado",pixReceived:"PIX recibido",conversion:"Conversin",deposit:"Depsito",withdrawal:"Transferencia",buy:"Compra de",sell:"Venta de"},status:{completed:"Completado",pending:"Pendiente",processing:"Procesando",failed:"Fallido"}},statsPage:{title:"Estadsticas",portfolioAnalysis:"Anlisis del Portafolio",totalBalance:"Saldo Total",totalAssets:"Total de Activos",largestAsset:"Mayor Activo",assetDistribution:"Distribucin de Activos",ofPortfolio:"del portafolio",portfolioHistory:"Historial del Portafolio",lastUpdates:"ltimas {count} actualizaciones",updatesEvery5Min:"Actualiza cada 5min"},copied:"Copiado!",copiedToClipboard:"Copiado al portapapeles",enterValidAmount:"Ingrese un monto vlido",transferMethod:"Transferencia",confirm:"Confirmar",save:"Guardar",edit:"Editar",back:"Volver",next:"Siguiente",done:"Hecho",loading:"Cargando...",error:"Error",success:"xito",close:"Cerrar",options:"Opciones",welcomeBack:"Bienvenido de nuevo",goodMorning:"Buenos das",goodAfternoon:"Buenas tardes",goodEvening:"Buenas noches",depositFunds:"Depositar Fondos",withdrawFunds:"Retirar Fondos",selectAmount:"Seleccionar Cantidad",enterAmount:"Ingresar Cantidad",minimum:"Mnimo",maximum:"Mximo",available:"Disponible",receive:"Recibir",name:"Nombre",country:"Pas",dateOfBirth:"Fecha de Nacimiento",address:"Direccin",personalAccount:"Cuenta Personal",idDocument:"Documento de Identificacin",enterIdDocument:"Ingrese su documento de identidad",residentialAddress:"Direccin Residencial",addressPlaceholder:"Calle, nmero, apartamento",city:"Ciudad",state:"Estado",zipCode:"Cdigo Postal",phoneNumber:"Nmero de Telfono",emailLabel:"Correo Electrnico",taxResidence:"Domicilio Fiscal",patrimony:"Patrimonio",reportedPatrimony:"Patrimonio Informado (opcional)",patrimonyPlaceholder:"Ej: $ 500.000,00",notInformed:"NO INFORMADO",portfolioValue:"Valor del Portafolio",dailyChange:"Cambio Diario",profit:"Ganancia",loss:"Prdida",myCards:"Mis Tarjetas",addCard:"Agregar Tarjeta",manageCards:"Gestionar Tarjetas",bottomNav:{home:"Inicio",wallet:"Billetera",convert:"Convertir",crypto:"Cripto",profile:"Perfil"},cryptoPage:{all:"Todos",favorites:"Favoritos",searchCrypto:"Buscar criptomoneda...",addBalance:"Agregar Saldo",enterAmount:"Ingresar cantidad",add:"Agregar",balance:"Saldo",noFavorites:"An no hay favoritos",addFavoritesTip:"Toca la estrella para agregar favoritos",topGainersToday:"Mayores Subidas Hoy",cryptoAddedSuccess:"Cripto agregada con xito!",errorAddingCrypto:"Error al agregar cripto",invalidAmount:"Cantidad invlida",addToPortfolio:"Aadir al Portafolio",trendingUp:"Cripto en Alza",realTime:"Tiempo Real",price:"Precio",change24h:"24h",hideList:"Ocultar Lista",seeAllCryptos:"Ver Todas las Criptomonedas",activeAvailable:"activo disponible",activesAvailable:"activos disponibles",hide:"Ocultar",expand:"Expandir",holdToAddBalance:"Mantn presionado 5s para aadir saldo",marketCap:"Cap. de Mercado",allCryptosActive:"Todas las criptos estn activas!",allCryptosAdded:"Ya has aadido todas las criptomonedas disponibles a tu cartera.",viewPortfolio:"Ver Portafolio",currentBalance:"Saldo actual",amountToAdd:"Cantidad a aadir",newBalance:"Nuevo saldo",cancel:"Cancelar",adding:"Aadiendo...",confirmAddPortfolio:"Deseas aadir esta cripto a tu cartera?",addNow:"Aadir Ahora"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Cripto  Cripto",cryptoToFiat:"Cripto  Fiat",fiatToFiat:"Fiat  Fiat",convertAll:"Convertir todo",exchangeRate:"Tasa de Cambio",balance:"Saldo",conversionFee:"Tarifa de conversin (0.5%)",processing:"Procesamiento",confirmExchange:"Confirmar Exchange",converting:"Convirtiendo...",conversionHistory:"Historial de Conversiones",insufficientBalance:"Saldo insuficiente",insufficientBalanceWithFee:"Saldo insuficiente (incluye tarifa 0,5%)",noBalance:"Sin saldo en",conversionCompleted:"Conversin Completada!",anotherConversion:"Deseas hacer otra conversin?",yesAnother:"S, hacer otra",noGoHome:"No, volver al Inicio",conversionSuccess:"Conversin realizada con xito!",conversionError:"Error al procesar conversin",deleteConversion:" Deseas eliminar esta conversin?",conversionDeleted:" Conversin eliminada con xito!",errorDeletingConversion:"Error al eliminar conversin",noConversions:"An no se han realizado conversiones",loadingHistory:"Cargando historial...",needTwoAccounts:"Necesitas cuentas en al menos 2 pases diferentes para hacer conversiones de moneda.",needBankAccount:"Necesitas abrir una cuenta bancaria para convertir cripto en moneda fiat.",seconds:"segundos",clickToDelete:"Haz doble clic para eliminar",seeHistory:"Ver Historial",hideHistory:"Ocultar Historial"},withdrawTransfer:{sendMoney:"Enviar Dinero",chooseCountryAndMethod:"Elige tu pas y mtodo de transferencia",selectAccount:"Seleccionar Cuenta",availableForTransfer:"Saldo disponible para transferencia",transferMethods:"Mtodos de transferencia",instantTransfer:"Transferencia instantnea",instantNoLimit:"Instantneo  Sin lmite de transferencia",bankTransfer:"Transferencia Bancaria",tedOrDoc:"TED o DOC",businessDaysNoLimit:"1-2 das hbiles  Sin lmite de transferencia",important:"Importante",verifyBankData:"Asegrate de ingresar los datos bancarios correctos. Las transferencias a datos incorrectos no se pueden revertir.",transferViaPix:"Transferir va PIX",availableBalance:"Saldo disponible",amountToTransfer:"Cantidad a transferir",pixKeyRecipient:"Clave PIX del destinatario",pixKeyPlaceholder:"CPF, Email, Telfono o Clave Aleatoria",informPixKey:"Ingresa la clave PIX de quien recibir la transferencia",fee:"Comisin",time:"Tiempo",instant:"Instantneo",confirmTransfer:"Confirmar Transferencia",pix:"PIX",businessDays:"1-2 das hbiles",pixKeyInvalidType:"Tipo de clave PIX no reconocido. Use CPF, CNPJ, Email, Telfono o Clave Aleatoria.",userNotAuthenticated:"Usuario no autenticado",minAmount:"Monto mnimo",insufficientBalance:"Saldo insuficiente. Disponible",informPixKeyError:"Informe la clave PIX",pixKeyInvalid:"Clave PIX invlida",fillBankDetails:"Complete todos los datos bancarios",pixTransferTo:"Transferencia PIX para",errorProcessingPix:"Error al procesar transferencia PIX",transferSentTo:"Transferencia enviada a",pixKeyNotFound:"Clave PIX no encontrada en el sistema NexCoin. Solo se soportan transferencias entre usuarios NexCoin por el momento.",pixTransfer:"Transferencia PIX",tedTransfer:"Transferencia TED",transferVia:"Transferencia va",errorProcessingTransfer:"Error al procesar transferencia",pixKey:"Clave PIX",transferSuccess:"Transferencia realizada con xito!",min:"Mn",max:"Mx",processing:"Procesando...",amount:"Monto",bank:"Banco",code:"Cdigo",agency:"Agencia",account:"Cuenta",checkingAccount:"Cuenta Corriente",savingsAccount:"Cuenta de Ahorros",fullName:"Nombre completo",cpfCnpj:"CPF/CNPJ",checking:"Corriente",savings:"Ahorros",accountHolderName:"Nombre del titular",address:"Direccin",beneficiaryName:"Nombre del beneficiario",processingStatus:"Procesando",addAccountHome:"Agregue una cuenta en la pgina de Inicio",noTransferLimit:"Sin lmite de transferencia",achTransfer:"Transferencia ACH",electronicBankTransfer:"Transferencia bancaria electrnica",wireTransfer:"Transferencia Wire",domesticWire:"Wire domstico",sepaTransfer:"Transferencia SEPA",singleEuroPaymentsArea:"Zona nica de Pagos en Euros",sepaInstant:"SEPA Instantneo",instantSepaTransfer:"Transferencia SEPA instantnea",fasterPayments:"Pagos Rpidos",instantBankTransfer:"Transferencia bancaria instantnea",bacsTransfer:"Transferencia BACS",standardBankTransfer:"Transferencia bancaria estndar",bankDetails:"Detalles de la Cuenta",removeAccount:"Eliminar Cuenta"},withdrawCrypto:{title:"Enviar",searchPlaceholder:"Buscar criptomonedas compatibles",availableBalance:"Saldo disponible",selectNetwork:"Seleccione la red",fee:"Comisin",noCryptosFound:"No se encontraron criptomonedas",sendCrypto:"Enviar"},withdrawAddress:{title:"Enviar",selectedNetwork:"Rede seleccionada",walletAddress:"Direccin de la billetera",addressPlaceholder:"Pega o escanea la direccin de la billetera",recipientFound:"Destinatario encontrado",sendingTo:"Enviando a",invalidAddress:"Direccin invlida",addressWarning:"Asegrate de que la direccin sea correcta. Las transacciones no se pueden revertir.",amount:"Cantidad",useMax:"Usar mximo",summary:"Resumen de la transaccin",quantity:"Cantidad",networkFee:"Comisin de red",total:"Total",attention:"Atencin",attentionWarning:"Verifique cuidadosamente la direccin y la red antes de enviar. Solo se aceptan direcciones registradas en NexCoin.",mustBeRegistered:"La direccin debe estar registrada en NexCoin",sentSuccess:"Enviado con xito!",transactionProcessed:"Su transaccin ha sido procesada",recipient:"Destinatario",viewReceipt:"Ver Comprobante",processing:"Procesando...",transferSuccess:"Transferencia realizada con xito!",availableBalance:"Saldo disponible",fee:"Comisin"},withdrawReceipt:{title:"Transferencia Confirmada!",subtitle:"Comprobante de transferencia",transactionId:"ID de la transaccin",details:"Detalles de la transferencia",method:"Mtodo",fee:"Comisin",processing:"Procesamiento",date:"Fecha",recipient:"Destinatario",important:"Importante",importantNotice:"Guarde este comprobante para referencia futura. El procesamiento puede tardar hasta",shareReceipt:"Compartir comprobante",backToHome:"Volver al Inicio",copied:"Copiado",sharing:"Compartiendo...",copiedToClipboard:"Copiado al portapapeles!",shareTextHeader:" Comprobante de Transferencia NexCoin",shareTextFooter:" NexCoin - Su banco digital de criptomonedas",amount:"Monto",currency:"Moneda",status:"Estado",copy:"Copiar",to:"Para"},paymentScreen:{title:"Tarifa de Anlisis",description:"Para continuar con el anlisis de su cuenta, es necesario realizar una donacin simblica de validacin.",totalToPay:"Total a pagar",payButton:"Pagar 5.00",processing:"Procesando...",securePayment:"Pago seguro procesado por Stripe. Sus datos estn encriptados.",secureBadge:"Pago 100% seguro y encriptado",configError:"Error de Configuracin",technicalNote:"Nota Tcnica: Si ve error de CORS/Network, es porque Stripe bloquea el uso de la clave secreta en el navegador. Necesita configurar un backend o Cloud Function.",tryAgain:"Intentar de Nuevo",success:"Pago exitoso!",updateError:"Pago confirmado, pero hubo un error al actualizar su perfil. Contacte al soporte.",initiating:"Iniciando pago seguro...",pleaseWait:"Por favor espere un momento."},pendingApproval:{title:"Cuenta en Anlisis",greeting:"Hola {name}!",description:"Su solicitud de acceso a NexCoin est siendo analizada por nuestro equipo de seguridad.",step1Title:"Registro Realizado",step1Desc:"Su informacin fue recibida con xito",step2Title:"Anlisis de Seguridad",step2Desc:"Verificando sus datos y validando identidad",step3Title:"Aprobacin Final",step3Desc:"Recibir una notificacin cuando sea aprobado",estimatedTime:"Tiempo estimado:",timeValue:"24 a 48 horas",emailNotice:"Recibir un correo electrnico en {email} tan pronto como su cuenta sea aprobada.",securityBadge:"Protegido por verificacin en dos pasos",logoutButton:"Cerrar Sesin",needHelp:"Necesita ayuda?",contactUs:"Contctenos"},pushSettingsPage:{title:"Notificaciones push",keepInformed:"Mantente informado",keepInformedDesc:"Personaliza tus notificaciones para recibir solo la informacin ms importante",sections:{general:"General",transactions:"Transacciones",security:"Seguridad",market:"Mercado"},items:{enablePush:"Activar notificaciones push",enablePushDesc:"Recibir todas las notificaciones en el dispositivo",allTransactions:"Todas las transacciones",allTransactionsDesc:"Notificaciones de todos los movimientos",deposits:"Depsitos",depositsDesc:"Cuando recibas fondos",withdrawals:"Retiros",withdrawalsDesc:"Cuando se procese un retiro",securityAlerts:"Alertas de seguridad",securityAlertsDesc:"Todas las notificaciones de seguridad",newDevices:"Nuevos dispositivos",newDevicesDesc:"Inicio de sesin en un nuevo dispositivo",suspiciousActivity:"Actividades sospechosas",suspiciousActivityDesc:"Intentos de acceso no autorizados",priceAlerts:"Alertas de precio",priceAlertsDesc:"Cuando tus activos alcancen metas",marketNews:"Noticias del mercado",marketNewsDesc:"Actualizaciones importantes del mercado"},tipTitle:"Consejo:",tipContent:"Algunas notificaciones de seguridad no se pueden desactivar para mantener tu cuenta protegida."},landingPage:{products:"Productos",company:"Empresa",help:"Ayuda",openAccount:"Abre tu cuenta",openAccountNow:"Abre tu cuenta ahora",moreThanGlobalTitle:"Ms que una cuenta",moreThanGlobalHighlight:"cooperativa global",heroSubtitle:"Enva, gasta y ahorra con ms inteligencia. nete a miles que ya han transformado su vida financiera con NexCoin.",yourBalance:"Tu Saldo",yield:"RENDIMIENTO",yieldToday:"+ 0,85% hoy",socialProof:"La App usada por miles de personas",elevateSpending:"Eleva tu forma de gastar",cardSubtitle:"Pide tu tarjeta NexCoin y ten control total de tus gastos en cualquier lugar del mundo.",requestCard:"Solicitar tarjeta",highYieldTitle:"Cambia tu vida con las cuentas remuneradas",highYieldSubtitle:"Haz que tu dinero trabaje para ti. Tasas competitivas y liquidez diaria para que disfrutes de lo que importa.",exploreYields:"Explorar rendimientos",safeHarborTitle:"El puerto seguro de tu dinero",safeHarborSubtitle:"Utilizamos tecnologa de punta para proteger tus datos y tu patrimonio. Con autenticacin biomtrica, criptografa de grado militar y monitoreo en tiempo real, puedes estar tranquilo.",security:"Seguridad",enterCryptoTitle:"Entra en el mundo cripto",enterCryptoSubtitle:"Compra Bitcoin, Ethereum y otras criptos con un solo toque. Simple, seguro y transparente.",exploreCrypto:"Explorar Cripto",joinThousands:"nete a miles que ya usan NexCoin",footerTagline:"Revolucionando tu vida financiera con tecnologa, transparencia y seguridad.",footerProduct:"Producto",footerCards:"Tarjetas",footerCrypto:"Cripto",footerBalances:"Saldos",footerYields:"Rendimientos",footerCompany:"Empresa",footerAbout:"Sobre nosotros",footerCareers:"Carreras",footerBlog:"Blog",footerPress:"Prensa",footerSupport:"Soporte",footerHelp:"Ayuda",footerContact:"Contctanos",footerSecurity:"Seguridad",footerPrivacy:"Poltica de Privacidad",footerTerms:"Trminos de Uso",footerDisclaimer:"NexCoin es una plataforma de servicios financieros digitales. Los servicios de pago y las cuentas son proporcionados por socios autorizados y regulados. Asegrese de leer nuestros Trminos y condiciones antes de abrir una cuenta. La inversin en criptoactivos implica riesgos significativos de prdida. NexCoin no es una institucin financiera bancaria propia, sino que acta como corresponsal bancario.  2026 NexCoin. Reservados todos los derechos."},downloadApp:{successTitle:"Registro realizado con xito! ",successSubtitle:"Para acceder a tu cuenta y empezar a invertir, descarga ahora la aplicacin oficial de NexCoin en tu smartphone.",android:"Android",androidHint:"Apunta la cmara para descargar por Google Play",downloadApk:"Download APK",ios:"iOS (iPhone)",iosHint:"Apunta la cmara para descargar por App Store",downloadAppStore:"Download App Store",rightsReserved:" 2026 NexCoin. Todos los derechos reservados."}}},Nl=()=>{try{const t=navigator.language.toLowerCase();return t.startsWith("pt")?"pt":t.startsWith("es")?"es":"en"}catch(t){return console.error("Erro ao detectar idioma do navegador:",t),"pt"}},PD=Nl(),zre={language:PD,setLanguage:async()=>{},t:zN[PD]},aU=E.createContext(zre);function Ure({children:t}){const[e,n]=E.useState(Nl());E.useEffect(()=>{try{const s=bn.onAuthStateChanged(a=>{if(a&&a.uid){const l=lt(Ee,"users",a.uid),c=xi(l,d=>{try{if(d.exists()){const f=d.data();f?.language&&["pt","en","es"].includes(f.language)?n(f.language):n(Nl())}else n(Nl())}catch(f){console.error("Erro ao processar dados do usurio:",f),n(Nl())}},d=>{d.code!=="permission-denied"&&console.error("Erro ao escutar idioma do usurio:",d),n(Nl())});return()=>c()}else n(Nl())});return()=>s()}catch(s){console.error("Erro ao configurar listener de autenticao:",s),n(Nl())}},[]);const i={language:e,setLanguage:async s=>{try{if(!["pt","en","es"].includes(s)){console.error("Idioma invlido:",s);return}n(s);const a=bn.currentUser;if(a)try{const l=lt(Ee,"users",a.uid);await us(l,{language:s}),console.log(" Idioma salvo no Firestore:",s)}catch(l){console.error("Erro ao salvar idioma no Firestore:",l)}}catch(a){console.error("Erro ao definir idioma:",a)}},t:zN[e]||zN.pt};return o.jsx(aU.Provider,{value:i,children:t})}function ei(){return E.useContext(aU)}const oU=E.createContext({phoneNumber:"",setPhoneNumber:()=>{}});function lU(){return E.useContext(oU)}function $re({children:t}){const[e,n]=E.useState(""),r={phoneNumber:e,setPhoneNumber:n};return o.jsx(oU.Provider,{value:r,children:t})}async function cU(t,e,n,r,i,s){try{if(console.log(" Salvando ativo no portfolio:",{userId:t,symbol:e,coinId:n,amount:r,name:i,valueUsd:s}),!t){console.warn(" userId vazio, cancelando salvamento");return}const a=lt(Ee,"users",t,"portfolio",e);await cr(a,{symbol:e,coinId:n,amount:r,name:i||e,valueUsd:s||0,updatedAt:new Date},{merge:!0}),console.log(" Ativo salvo no portfolio com sucesso!")}catch(a){throw console.error(" Erro ao salvar ativo no portfolio:",a),a instanceof Error&&(console.error(" Mensagem:",a.message),console.error(" Stack:",a.stack)),a}}async function qre(t,e){try{console.log(" Removendo ativo do portfolio:",e);const n=lt(Ee,"users",t,"portfolio",e);await Ou(n),console.log(" Ativo removido do portfolio com sucesso!")}catch(n){throw console.error(" Erro ao remover ativo do portfolio:",n),n}}async function Hre(t,e,n,r,i,s){for(let c=1;c<=3;c++)try{console.log(` Atualizando saldo (tentativa ${c}/3):`,{symbol:e,deltaAmount:r});const d=lt(Ee,"users",t,"portfolio",e),f=await cs(d);if(f.exists()){const p=(f.data().amount||0)+r;if(p<=0)await Ou(d),console.log(" Ativo removido (saldo zerado)");else{const y=s?p*s:0;await us(d,{amount:p,valueUsd:y,updatedAt:new Date}),console.log(" Saldo atualizado:",p,"valueUsd:",y)}}else if(r>0){const m=s?r*s:0;await cU(t,e,n,r,i,m),console.log(" Novo ativo criado com saldo:",r)}return}catch(d){if(console.error(` Erro ao atualizar saldo (tentativa ${c}/3):`,d),c===3)throw d;await new Promise(f=>setTimeout(f,500*c))}}async function Wre(t){console.log(" initializeUserPortfolio no  necessrio com a nova estrutura de coleo")}async function Kre(t,e){try{if(!t){console.warn(" userId vazio, cancelando sincronizao");return}if(!e||Object.keys(e).length===0){console.warn(" Preos vazios, cancelando sincronizao");return}console.log(" Sincronizando valores do portfolio com preos atuais...");const n=it(Ee,"users",t,"portfolio"),r=await Pt(n);if(r.empty){console.log(" Nenhum ativo encontrado para sincronizar");return}const i=r.docs.map(async s=>{try{const a=s.data(),{coinId:l,amount:c,symbol:d}=a;if(!l||c===void 0){console.warn(` Dados invlidos para ativo ${s.id}:`,{symbol:a.symbol||"N/A",coinId:l||"AUSENTE",amount:c!==void 0?c:"AUSENTE"}),console.warn(" Este documento ser removido no prximo login");return}const f=e[l];if(!f||!f.usd){console.warn(` Preo no encontrado para ${l} (${d||s.id})`);return}const m=c*f.usd,p=lt(Ee,"users",t,"portfolio",s.id);await us(p,{valueUsd:m,updatedAt:new Date}),console.log(` Ativo ${s.id} atualizado: ${c} x $${f.usd.toFixed(2)} = $${m.toFixed(2)}`)}catch(a){console.error(` Erro ao atualizar ativo ${s.id}:`,a)}});await Promise.all(i),console.log(" Sincronizao de valores concluda!")}catch(n){console.error(" Erro ao sincronizar valores do portfolio:",n)}}async function Gre(t){try{console.log(" Iniciando migrao de wallets para portfolio..."),console.log(" userId:",t);const e=it(Ee,"users",t,"wallets"),n=await Pt(e);if(n.empty){console.log(" Nenhuma wallet encontrada para migrar");return}console.log(` Total de wallets encontradas: ${n.size}`);let r=0,i=0;for(const s of n.docs)try{const a=s.data();if(console.log(` Verificando wallet: ${s.id}`,a),!a.symbol||!a.coinId||a.amount===void 0){console.warn(` Wallet ${s.id} possui dados invlidos, pulando...`,{symbol:a.symbol,coinId:a.coinId,amount:a.amount}),i++;continue}const l=lt(Ee,"users",t,"portfolio",s.id);await cr(l,{symbol:a.symbol,coinId:a.coinId,amount:a.amount,name:a.name||a.symbol,valueUsd:a.valueUsd||0,createdAt:a.createdAt||new Date,updatedAt:new Date},{merge:!1}),console.log(` Wallet ${s.id} migrada para portfolio`),r++}catch(a){console.error(` Erro ao migrar wallet ${s.id}:`,a),i++}console.log(" Migrao concluda!"),console.log(` Resumo: ${r} migradas, ${i} erros`)}catch(e){throw console.error(" Erro na migrao:",e),e}}async function Xre(t){try{const e=it(Ee,"users",t,"wallets"),n=await Pt(e),r=!n.empty;return r&&console.log(` Usurio ${t} possui ${n.size} wallets que precisam ser migradas`),r}catch(e){return console.error(" Erro ao verificar necessidade de migrao:",e),!1}}async function Yre(t){try{await Xre(t)?(console.log(" Migrao automtica necessria..."),await Gre(t),console.log(" Migrao automtica concluda!")):console.log(" Nenhuma migrao necessria"),await Qre(t)}catch(e){console.error(" Erro na migrao automtica:",e)}}async function Qre(t){try{console.log(" Verificando documentos invlidos no portfolio...");const e=it(Ee,"users",t,"portfolio"),n=await Pt(e);if(n.empty){console.log(" Portfolio vazio, nada a limpar");return}let r=0,i=0;for(const s of n.docs){const a=s.data();if(s.id==="holdings"&&Array.isArray(a.holdings)){console.log(' Encontrado documento "holdings" com estrutura antiga (array)'),console.log(" Migrando",a.holdings.length,"holdings para documentos separados...");try{for(const l of a.holdings)if(l.symbol&&l.coinId&&l.amount!==void 0){const c=lt(Ee,"users",t,"portfolio",l.symbol);await cr(c,{symbol:l.symbol,coinId:l.coinId,amount:l.amount,name:l.name||l.symbol,valueUsd:0,createdAt:new Date,updatedAt:new Date},{merge:!0}),console.log(` Holding ${l.symbol} migrado para documento separado`),i++}else console.warn(" Holding invlido no array:",l);await Ou(s.ref),console.log(' Documento "holdings" antigo deletado aps migrao'),r++}catch(l){console.error(' Erro ao migrar documento "holdings":',l)}continue}if(!a.symbol||!a.coinId||a.amount===void 0){console.warn(` Deletando documento invlido: ${s.id}`,a);try{await Ou(s.ref),r++,console.log(` Documento ${s.id} deletado`)}catch(l){console.error(` Erro ao deletar documento ${s.id}:`,l)}}}i>0&&console.log(` ${i} holding(s) migrado(s) de estrutura antiga para nova`),r>0&&console.log(` ${r} documento(s) invlido(s) removido(s) do portfolio`),i===0&&r===0&&console.log(" Nenhum documento invlido encontrado")}catch(e){console.error(" Erro ao limpar documentos invlidos:",e)}}const Bt=t=>Array.from({length:t},()=>Math.floor(Math.random()*10)).join(""),Jre=()=>{const t=Bt(8),e=Math.floor(Math.random()*10);return`${t}-${e}`},Ns=(t,e,n)=>{const r=Bt(2);return`${t}${r}${e}${n}`},Zre={BR:{bankCode:"336",branchCode:"0001",swift:"NEXCBRBR"},US:{routingNumber:"021000021",swift:"NEXCUSNY"},PT:{bankCode:"0035",swift:"NEXCPTPL"},ES:{bankCode:"2100",swift:"NEXCESMM"},FR:{bankCode:"30004",branchCode:"00001",swift:"NEXCFRPP"},DE:{bankCode:"10050000",swift:"NEXCDEFF"},IT:{bankCode:"05034",branchCode:"01600",swift:"NEXCITM1"},GB:{sortCode:"60-16-13",swift:"NEXCGB2L"},NL:{bankCode:"NEXC",swift:"NEXCNL2A"},BE:{bankCode:"735",swift:"NEXCBEBB"},CH:{bankCode:"00235",swift:"NEXCCHZZ"},AT:{bankCode:"12000",swift:"NEXCATWW"},CA:{routingNumber:"000010001",swift:"NEXCCATT"},AU:{routingNumber:"062-000",swift:"NEXCAU2S"},MX:{bankCode:"072",swift:"NEXCMXMM"},AR:{bankCode:"336",branchCode:"0001",swift:"NEXCARBA"},CL:{bankCode:"055",swift:"NEXCCLRM"},CO:{bankCode:"0001",swift:"NEXCCOBB"}},uU=(t,e)=>{const n=e?`${e}_${t}_${Date.now()}`:`${t}_${Date.now()}`,r=new Date,i=Zre[t],a={BR:{country:"BR",countryName:"Brasil",flagCode:"br",currency:"BRL",accountNumber:Jre(),bankCode:i?.bankCode,branchCode:i?.branchCode,bankName:"NexCoin transactions",accountType:"Conta Corrente",swift:i?.swift},US:{country:"US",countryName:"Estados Unidos",flagCode:"us",currency:"USD",accountNumber:Bt(12),routingNumber:i?.routingNumber,bankName:"NexCoin transactions",accountType:"Checking Account",swift:i?.swift},PT:{country:"PT",countryName:"Portugal",flagCode:"pt",currency:"EUR",accountNumber:Bt(11),iban:Ns("PT",i?.bankCode||"0000",Bt(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Conta  Ordem",bankCode:i?.bankCode},ES:{country:"ES",countryName:"Espanha",flagCode:"es",currency:"EUR",accountNumber:Bt(10),iban:Ns("ES",i?.bankCode||"0000",Bt(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente",bankCode:i?.bankCode},FR:{country:"FR",countryName:"Frana",flagCode:"fr",currency:"EUR",accountNumber:Bt(11),iban:Ns("FR",i?.bankCode||"00000",Bt(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Compte Courant",bankCode:i?.bankCode,branchCode:i?.branchCode},DE:{country:"DE",countryName:"Alemanha",flagCode:"de",currency:"EUR",accountNumber:Bt(10),iban:Ns("DE",i?.bankCode||"00000000",Bt(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Girokonto",bankCode:i?.bankCode},IT:{country:"IT",countryName:"Itlia",flagCode:"it",currency:"EUR",accountNumber:Bt(12),iban:Ns("IT",(i?.bankCode||"00000")+(i?.branchCode||"00000"),Bt(12)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Conto Corrente",bankCode:i?.bankCode,branchCode:i?.branchCode},GB:{country:"GB",countryName:"Reino Unido",flagCode:"gb",currency:"GBP",accountNumber:Bt(8),iban:Ns("GB",i?.sortCode?.replace(/-/g,"")||"000000",Bt(8)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Current Account",sortCode:i?.sortCode},NL:{country:"NL",countryName:"Holanda",flagCode:"nl",currency:"EUR",accountNumber:Bt(10),iban:Ns("NL",i?.bankCode||"NEXC",Bt(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Betaalrekening",bankCode:i?.bankCode},BE:{country:"BE",countryName:"Blgica",flagCode:"be",currency:"EUR",accountNumber:Bt(12),iban:Ns("BE",i?.bankCode||"000",Bt(12)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Compte  Vue",bankCode:i?.bankCode},CH:{country:"CH",countryName:"Sua",flagCode:"ch",currency:"CHF",accountNumber:Bt(9),iban:Ns("CH",i?.bankCode||"00000",Bt(9)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Privatkonto",bankCode:i?.bankCode},AT:{country:"AT",countryName:"ustria",flagCode:"at",currency:"EUR",accountNumber:Bt(11),iban:Ns("AT",i?.bankCode||"00000",Bt(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Girokonto",bankCode:i?.bankCode},CA:{country:"CA",countryName:"Canad",flagCode:"ca",currency:"CAD",accountNumber:Bt(12),routingNumber:i?.routingNumber,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Chequing Account"},AU:{country:"AU",countryName:"Austrlia",flagCode:"au",currency:"AUD",accountNumber:Bt(9),routingNumber:i?.routingNumber,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Transaction Account"},MX:{country:"MX",countryName:"Mxico",flagCode:"mx",currency:"MXN",accountNumber:Bt(18),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta de Cheques"},AR:{country:"AR",countryName:"Argentina",flagCode:"ar",currency:"ARS",accountNumber:Bt(14),bankCode:i?.bankCode,branchCode:i?.branchCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente"},CL:{country:"CL",countryName:"Chile",flagCode:"cl",currency:"CLP",accountNumber:Bt(12),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente"},CO:{country:"CO",countryName:"Colmbia",flagCode:"co",currency:"COP",accountNumber:Bt(11),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta de Ahorros"}}[t]||{country:t,countryName:"Pas",flagCode:t.toLowerCase(),currency:"USD",accountNumber:Bt(10),iban:Ns(t,"0000",Bt(10)),swift:`NEXC${t}XX`,bankName:"NexCoin transactions",accountType:"Account"};return{id:n,...a,createdAt:r}},lv=()=>[{code:"BR",name:"Brasil",flag:"br",currency:"BRL"},{code:"US",name:"Estados Unidos",flag:"us",currency:"USD"},{code:"PT",name:"Portugal",flag:"pt",currency:"EUR"},{code:"ES",name:"Espanha",flag:"es",currency:"EUR"},{code:"FR",name:"Frana",flag:"fr",currency:"EUR"},{code:"DE",name:"Alemanha",flag:"de",currency:"EUR"},{code:"IT",name:"Itlia",flag:"it",currency:"EUR"},{code:"GB",name:"Reino Unido",flag:"gb",currency:"GBP"},{code:"NL",name:"Holanda",flag:"nl",currency:"EUR"},{code:"BE",name:"Blgica",flag:"be",currency:"EUR"},{code:"CH",name:"Sua",flag:"ch",currency:"CHF"},{code:"AT",name:"ustria",flag:"at",currency:"EUR"},{code:"CA",name:"Canad",flag:"ca",currency:"CAD"},{code:"AU",name:"Austrlia",flag:"au",currency:"AUD"},{code:"MX",name:"Mxico",flag:"mx",currency:"MXN"},{code:"AR",name:"Argentina",flag:"ar",currency:"ARS"},{code:"CL",name:"Chile",flag:"cl",currency:"CLP"},{code:"CO",name:"Colmbia",flag:"co",currency:"COP"}];function dU(t){if(!t)return"";let e=t.trim();if(e.startsWith("+55"))e=e.substring(3);else if(e.startsWith("55")){const r=e.replace(/\D/g,"");(r.length===13||r.length===14)&&(e=e.substring(2))}const n=e.replace(/\D/g,"");return n.length!==10&&n.length!==11&&console.warn(` Telefone com formato invlido para PIX: ${t} (${n.length} dgitos)`),n}const fU=E.createContext({user:null,userData:null,loading:!0,isAuthenticated:!1,isPinVerified:!1,auth:bn,signUp:async()=>{},signIn:async()=>{},signInWithPhoneAndPin:async()=>{},signInWithGoogle:async()=>{},logout:async()=>{},verifyPin:async()=>!1,setPinVerified:()=>{},checkIfUserHasPin:async()=>!1,checkPhoneExists:async()=>!1,reloadUserData:async()=>{},updateLanguage:async()=>{},updateVisibleCards:async()=>{},dismissAlert:async()=>{},syncPixKeys:async()=>{}});function Vt(){return E.useContext(fU)}function eie({children:t}){const[e,n]=E.useState(null),[r,i]=E.useState(null),[s,a]=E.useState(!0),[l,c]=E.useState(!1),d=E.useRef(""),f=E.useRef(""),m="nexcoin_pin_verified",p=Z=>{c(Z),Z&&e?.uid?(localStorage.setItem(m,e.uid),console.log(" Estado de PIN verificado salvo no localStorage")):(localStorage.removeItem(m),console.log(" Estado de PIN verificado removido do localStorage"))},y=Z=>{const Q=localStorage.getItem(m)===Z;return console.log(" Verificando PIN do localStorage:",Q?"Verificado":"No verificado"),Q},x=Z=>{const k=Z.replace(/\D/g,"");return Z.startsWith("+")?`+${k}`:`+${k}`},b=(Z,k)=>`${Z}_${k}_NexCoin2024!`,_=async Z=>{try{const k=lt(Ee,"users",Z),Q=await cs(k);if(Q.exists()){const H=Q.data();return i(H),H}return null}catch(k){return console.error("Erro ao carregar dados do usurio:",k),null}},S=async()=>{if(e){const Z=await _(e.uid);i(Z)}},M=async(Z,k,Q)=>{try{console.log(" Criando chaves PIX automticas para usurio brasileiro...");const H=it(Ee,"bankAccounts"),R=It(H,Et("userId","==",Z),Et("currency","==","BRL"),ba(1)),U=await Pt(R);let K="",J="";if(U.empty){console.log(" Criando conta bancria BRL...");const xe=uU("BR",Z);K=(await zi(H,{...xe,userId:Z,isPrimary:!0,createdAt:new Date})).id,J=xe.accountNumber,console.log(" Conta BRL criada:",K)}else{const xe=U.docs[0];K=xe.id,J=xe.data().accountNumber,console.log(" Conta BRL encontrada:",K)}const G=it(Ee,"pixKeys"),te=It(G,Et("userId","==",Z),Et("accountId","==",K));if(!(await Pt(te)).empty){console.log(" Chaves PIX j existem para este usurio");return}await zi(G,{userId:Z,accountId:K,accountNumber:J,currency:"BRL",country:"BR",keyType:"email",keyValue:k,createdAt:new Date}),console.log(" Chave PIX (email) criada:",k);const ne=dU(Q);await zi(G,{userId:Z,accountId:K,accountNumber:J,currency:"BRL",country:"BR",keyType:"phone",keyValue:ne,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",ne),console.log(" Chaves PIX automticas criadas com sucesso!")}catch(H){console.error(" Erro ao criar chaves PIX automticas:",H)}},O=async(Z,k,Q)=>{try{console.log(" Sincronizando chaves PIX com novos dados do perfil...");const H=it(Ee,"pixKeys"),R=It(H,Et("userId","==",Z)),U=await Pt(R);if(U.empty){console.log(" Nenhuma chave PIX encontrada para sincronizar");return}const K=[];U.forEach(J=>{const G=J.data(),te=lt(Ee,"pixKeys",J.id);G.keyType==="email"&&k&&(console.log(" Atualizando chave PIX de email:",k),K.push(us(te,{keyValue:k}))),G.keyType==="phone"&&Q&&(console.log(" Atualizando chave PIX de telefone:",Q),K.push(us(te,{keyValue:Q})))}),await Promise.all(K),console.log(" Chaves PIX sincronizadas com sucesso!")}catch(H){console.error(" Erro ao sincronizar chaves PIX:",H)}},z=async(Z,k,Q,H,R,U)=>{try{const K=x(H),J=it(Ee,"users"),G=It(J,Et("phone","==",K),ba(1));if(!(await Pt(G)).empty)throw new Error("Este nmero de telefone j est cadastrado");const ie=b(K,U),xe=(await Hte(bn,Z,ie)).user,ae=lt(Ee,"users",xe.uid),ve={uid:xe.uid,email:xe.email||Z,name:Q,phone:K,country:R,accountPin:U,createdAt:new Date,aprovado:"yes"};await cr(ae,ve),i(ve),await Wre(xe.uid),R==="BR"&&await M(xe.uid,Z,K)}catch(K){const J=K.code;throw J==="auth/email-already-in-use"?new Error("Este e-mail j est cadastrado. Faa login ou use outro e-mail."):J==="auth/invalid-email"?new Error("E-mail invlido. Verifique e tente novamente."):J==="auth/weak-password"?new Error("Senha muito fraca. Use no mnimo 6 caracteres."):J==="auth/operation-not-allowed"?new Error("Cadastro com e-mail desabilitado. Entre em contato com o suporte."):new Error(K.message||"Erro ao criar conta. Tente novamente.")}},I=async(Z,k)=>{try{const Q=await hD(bn,Z,k),H=await _(Q.user.uid);if(H&&H.phone&&H.accountPin)try{const R=x(H.phone),U=b(R,H.accountPin);await qz(Q.user,U),console.log(" Senha migrada com sucesso! Agora voc pode fazer login com telefone + PIN.")}catch(R){console.error(" Erro ao migrar senha:",R)}}catch(Q){const H=Q.code;throw H==="auth/user-not-found"?new Error("E-mail no cadastrado. Crie uma conta primeiro."):H==="auth/wrong-password"?new Error("Senha incorreta. Tente novamente."):H==="auth/invalid-email"?new Error("E-mail invlido. Verifique e tente novamente."):H==="auth/user-disabled"?new Error("Esta conta foi desabilitada. Entre em contato com o suporte."):H==="auth/too-many-requests"?new Error("Muitas tentativas. Aguarde alguns minutos e tente novamente."):new Error("Erro ao fazer login. Verifique suas credenciais.")}},P=async(Z,k)=>{try{console.log(" Iniciando login com telefone + PIN..."),console.log(" Telefone recebido (original):",Z);const Q=x(Z);console.log(" Telefone normalizado:",Q);const H=it(Ee,"users");let R=It(H,Et("phone","==",Q),ba(1)),U=await Pt(R);if(console.log(" Busca com telefone normalizado - Encontrado:",!U.empty),U.empty&&(console.log(" No encontrou com telefone normalizado, tentando original..."),R=It(H,Et("phone","==",Z),ba(1)),U=await Pt(R),console.log(" Busca com telefone original - Encontrado:",!U.empty)),U.empty)throw console.error(" Telefone no cadastrado. Tentativas:"),console.error("   - Normalizado:",Q),console.error("   - Original:",Z),new Error("Nmero de telefone no cadastrado");const J=U.docs[0].data();if(console.log(" Usurio encontrado:",J.email),console.log(" Telefone cadastrado:",J.phone),J.accountPin!==k)throw console.error(" PIN incorreto"),new Error("PIN incorreto");console.log(" PIN correto! Autenticando no Firebase Auth...");const G=b(Q,k);try{const te=await hD(bn,J.email,G);console.log(" Login bem-sucedido!"),await _(te.user.uid),p(!0)}catch(te){if(console.warn(" Falha no login com senha gerada. Cdigo:",te.code),te.code==="auth/invalid-credential"||te.code==="auth/wrong-password"){console.log(" Tentando recuperar acesso para usurio antigo...");try{throw await qte(bn,J.email),new Error("Sua conta precisa ser atualizada. Enviamos um e-mail para redefinir sua senha. Aps redefinir, voc poder fazer login com telefone + PIN.")}catch(ie){throw ie.message.includes("Enviamos um e-mail")?ie:(console.error(" Erro ao enviar e-mail de reset:",ie),new Error("Erro ao processar login. Entre em contato com o suporte."))}}else throw te}}catch(Q){throw console.error(" Erro no signInWithPhoneAndPin:",Q),Q.message==="Nmero de telefone no cadastrado"||Q.message==="PIN incorreto"||Q.message&&Q.message.includes("Enviamos um e-mail")?Q:Q.code==="auth/wrong-password"||Q.code==="auth/invalid-credential"?new Error("PIN incorreto"):Q.code==="auth/user-not-found"?new Error("Nmero de telefone no cadastrado"):Q.code==="auth/too-many-requests"?new Error("Muitas tentativas. Aguarde alguns minutos e tente novamente."):new Error("Erro ao fazer login. Tente novamente.")}},C=async Z=>{try{console.log(" ============ CHECK PHONE EXISTS ============"),console.log(" Telefone recebido (original):",Z);const k=x(Z);console.log(" Telefone normalizado:",k);const Q=it(Ee,"users");console.log(" Buscando com telefone normalizado...");let H=It(Q,Et("phone","==",k),ba(1)),R=await Pt(H);if(console.log(" Resultado busca normalizado:",R.empty?"NO ENCONTRADO ":"ENCONTRADO "),!R.empty){const U=R.docs[0].data();return console.log(" Usurio encontrado:",U.name,"| Email:",U.email),console.log(" =========================================="),!0}if(console.log(" Buscando com telefone original..."),H=It(Q,Et("phone","==",Z),ba(1)),R=await Pt(H),console.log(" Resultado busca original:",R.empty?"NO ENCONTRADO ":"ENCONTRADO "),!R.empty){const U=R.docs[0].data();return console.log(" Usurio encontrado:",U.name,"| Email:",U.email),console.log(" =========================================="),!0}return console.error(" ============ TELEFONE NO ENCONTRADO ============"),console.error(" Tentativas:"),console.error("   1. Normalizado:",k),console.error("   2. Original:",Z),console.error(" ================================================"),!1}catch(k){if(console.error(" Erro ao verificar telefone:",k),k.code==="permission-denied")throw new Error("FIRESTORE_PERMISSION_DENIED");return!1}},N=async()=>{try{const Z=new uo,k=await yne(bn,Z);if(!await _(k.user.uid)){const H=lt(Ee,"users",k.user.uid),R={uid:k.user.uid,email:k.user.email||"",name:k.user.displayName||"",phone:"",country:"",accountPin:"",createdAt:new Date,aprovado:"yes"};await cr(H,R),i(R)}}catch(Z){throw console.error("Erro ao fazer login com Google:",Z),new Error(Z.message||"Erro ao fazer login com Google")}},A=async()=>{try{await Qte(bn),n(null),i(null),p(!1)}catch(Z){throw console.error("Erro ao fazer logout:",Z),new Error(Z.message||"Erro ao fazer logout")}},j=async Z=>{if(!r)return!1;const k=r.accountPin===Z;return k&&p(!0),k},D=async()=>r?!!r.accountPin&&r.accountPin.length===6:!1;E.useEffect(()=>Yte(bn,async k=>{if(n(k),k){await _(k.uid);try{await Yre(k.uid)}catch(H){console.error(" Erro na migrao automtica (no crtico):",H)}const Q=y(k.uid);c(Q)}else i(null),c(!1);a(!1)}),[]),E.useEffect(()=>{if(!e?.uid)return;console.log(" Iniciando sincronizao em tempo real dos dados do usurio...");const Z=lt(Ee,"users",e.uid),k=xi(Z,Q=>{if(Q.exists()){const H=Q.data();console.log(" Dados do usurio atualizados em tempo real:",H.name),i(H)}else console.warn(" Documento do usurio no existe"),i(null)},Q=>{console.error(" Erro na sincronizao em tempo real:",Q)});return()=>{console.log(" Parando sincronizao em tempo real dos dados do usurio"),k()}},[e?.uid]),E.useEffect(()=>{if(!e?.uid||!r)return;if(r.country!=="BR"){console.log(" Usurio no  brasileiro, pulando criao de chaves PIX");return}(async()=>{try{console.log(" Verificando se chaves PIX existem para o usurio...");const k=it(Ee,"pixKeys"),Q=It(k,Et("userId","==",e.uid),ba(1));(await Pt(Q)).empty?(console.log(" Chaves PIX no encontradas, criando automaticamente..."),await M(e.uid,r.email,r.phone)):console.log(" Chaves PIX j existem para este usurio")}catch(k){console.error(" Erro ao verificar/criar chaves PIX:",k)}})()},[e?.uid,r?.country]);const L=async Z=>{if(!r)return;const k=lt(Ee,"users",r.uid),Q={...r,preferences:{...r.preferences,dismissedAlerts:[...r.preferences?.dismissedAlerts||[],Z]}};await cr(k,Q),i(Q)},B=async Z=>{if(!r)return;const k=lt(Ee,"users",r.uid),Q={...r,language:Z};await cr(k,Q),i(Q)},$=async Z=>{if(!r)return;const k=lt(Ee,"users",r.uid),Q={...r,preferences:{...r.preferences,visibleCards:Z}};await cr(k,Q),i(Q)};E.useEffect(()=>{if(!e?.uid||!r)return;const Z=d.current!==r.email,k=f.current!==r.phone;(Z||k)&&(console.log(" Detectada mudana no perfil, sincronizando chaves PIX..."),O(e.uid,Z?r.email:void 0,k?r.phone:void 0),d.current=r.email,f.current=r.phone)},[r?.email,r?.phone,e?.uid]);const Y={user:e,userData:r,loading:s,isAuthenticated:!!e,isPinVerified:l,auth:bn,signUp:z,signIn:I,signInWithPhoneAndPin:P,signInWithGoogle:N,logout:A,verifyPin:j,setPinVerified:p,checkIfUserHasPin:D,checkPhoneExists:C,reloadUserData:S,updateLanguage:B,updateVisibleCards:$,dismissAlert:L,syncPixKeys:O};return o.jsx(fU.Provider,{value:Y,children:t})}function gu({countryCode:t,size:e="md"}){const n={sm:"w-10 h-10",md:"w-12 h-12",lg:"w-16 h-16"},r={sm:"w-6 h-6",md:"w-7 h-7",lg:"w-9 h-9"},a=`https://flagcdn.com/w80/${{BR:"br",US:"us",PT:"pt",ES:"es",FR:"fr",DE:"de",IT:"it",GB:"gb",NL:"nl",BE:"be",CH:"ch",AT:"at",EU:"eu"}[t]||t.toLowerCase()}.png`;return o.jsxs("div",{className:`${n[e]} rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden`,children:[o.jsx("img",{src:a,alt:`${t} flag`,className:`${r[e]} object-cover rounded-full`,onError:l=>{l.currentTarget.style.display="none",l.currentTarget.nextSibling&&(l.currentTarget.nextSibling.style.display="block")}}),o.jsx("span",{className:"text-sm hidden",children:t})]})}function tie({onNavigate:t}){const{language:e,setLanguage:n,t:r}=ei(),{setPhoneNumber:i}=lU(),{checkPhoneExists:s}=Vt(),[a,l]=E.useState(""),[c,d]=E.useState(!1),[f,m]=E.useState(!1),[p,y]=E.useState(!1),[x,b]=E.useState(""),[_,S]=E.useState(!1),[M,O]=E.useState({code:"+55",countryCode:"BR",name:"Brasil"}),z=E.useRef(null);E.useEffect(()=>{z.current&&z.current.focus()},[]);const I=()=>[{code:"pt-BR",countryCode:"BR",name:r.portuguese},{code:"en-US",countryCode:"US",name:r.english},{code:"es",countryCode:"ES",name:r.spanish}],P=[{code:"+55",countryCode:"BR",name:"Brasil",mask:"(XX) XXXXX-XXXX",maxLength:15},{code:"+1",countryCode:"US",name:"USA",mask:"(XXX) XXX-XXXX",maxLength:14},{code:"+44",countryCode:"GB",name:"Reino Unido",mask:"XXXX XXX XXXX",maxLength:13},{code:"+33",countryCode:"FR",name:"Frana",mask:"XX XX XX XX XX",maxLength:14},{code:"+49",countryCode:"DE",name:"Alemanha",mask:"XXX XXXXXXX",maxLength:11},{code:"+39",countryCode:"IT",name:"Itlia",mask:"XXX XXX XXXX",maxLength:12},{code:"+34",countryCode:"ES",name:"Espanha",mask:"XXX XX XX XX",maxLength:11},{code:"+351",countryCode:"PT",name:"Portugal",mask:"XXX XXX XXX",maxLength:11}],C=(L,B)=>{const $=L.replace(/\D/g,"");if(!P.find(Z=>Z.countryCode===B))return $;switch(B){case"BR":return $.length<=2?$:$.length<=7?`(${$.slice(0,2)}) ${$.slice(2)}`:$.length<=11?`(${$.slice(0,2)}) ${$.slice(2,7)}-${$.slice(7)}`:`(${$.slice(0,2)}) ${$.slice(2,7)}-${$.slice(7,11)}`;case"US":return $.length<=3?$:$.length<=6?`(${$.slice(0,3)}) ${$.slice(3)}`:`(${$.slice(0,3)}) ${$.slice(3,6)}-${$.slice(6,10)}`;case"GB":return $.length<=4?$:$.length<=7?`${$.slice(0,4)} ${$.slice(4)}`:`${$.slice(0,4)} ${$.slice(4,7)} ${$.slice(7,11)}`;case"FR":return $.length<=2?$:$.length<=4?`${$.slice(0,2)} ${$.slice(2)}`:$.length<=6?`${$.slice(0,2)} ${$.slice(2,4)} ${$.slice(4)}`:$.length<=8?`${$.slice(0,2)} ${$.slice(2,4)} ${$.slice(4,6)} ${$.slice(6)}`:`${$.slice(0,2)} ${$.slice(2,4)} ${$.slice(4,6)} ${$.slice(6,8)} ${$.slice(8,10)}`;case"DE":return $.length<=3?$:`${$.slice(0,3)} ${$.slice(3,10)}`;case"IT":return $.length<=3?$:$.length<=6?`${$.slice(0,3)} ${$.slice(3)}`:`${$.slice(0,3)} ${$.slice(3,6)} ${$.slice(6,10)}`;case"ES":return $.length<=3?$:$.length<=5?`${$.slice(0,3)} ${$.slice(3)}`:$.length<=7?`${$.slice(0,3)} ${$.slice(3,5)} ${$.slice(5)}`:`${$.slice(0,3)} ${$.slice(3,5)} ${$.slice(5,7)} ${$.slice(7,9)}`;case"PT":return $.length<=3?$:$.length<=6?`${$.slice(0,3)} ${$.slice(3)}`:`${$.slice(0,3)} ${$.slice(3,6)} ${$.slice(6,9)}`;default:return $}},N=L=>{const B=C(L.target.value,M.countryCode);l(B)},j=(L=>L.replace(/\D/g,"").length>=10)(a),D=async()=>{if(a&&j){const L=`${M.code}${a.replace(/\\D/g,"")}`;i(L),S(!0),b("");try{const B=await s(L);S(!1),B?t("passwordEntry"):b(r.email||"Telefone no encontrado")}catch{S(!1),b(r.email||"Telefone no encontrado")}}};return o.jsxs("div",{className:"bg-black text-white p-4 pb-20",children:[(c||f)&&o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{d(!1),m(!1)}}),o.jsx("div",{className:"w-full max-w-md mx-auto pt-2 pb-4",children:o.jsx("button",{onClick:()=>t("welcome"),className:"flex items-center gap-2 text-white transition-opacity active:opacity-60",children:o.jsx(Ct,{className:"w-5 h-5"})})}),o.jsxs("main",{className:"w-full max-w-md mx-auto pt-4",children:[o.jsxs("div",{className:"space-y-2 mb-5",children:[o.jsx("h2",{className:"text-2xl tracking-tight text-white",children:r.welcome}),o.jsx("p",{className:"text-slate-400 text-sm",children:r.dontHaveAccount})]}),o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{className:"h-12 flex items-center gap-2 bg-zinc-900 px-3 rounded-xl shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)] transition-colors active:opacity-70",onClick:()=>d(!c),children:[o.jsx(gu,{countryCode:M.countryCode,size:"sm"}),o.jsx("span",{className:"text-sm",children:M.code}),o.jsx(bo,{className:"w-4 h-4 text-gray-400"})]}),c&&o.jsx("div",{className:"absolute top-full mt-2 left-0 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[200px]",children:P.map(L=>o.jsxs("button",{className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{O(L),l(""),d(!1)},children:[o.jsx(gu,{countryCode:L.countryCode,size:"sm"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm",children:L.name}),o.jsx("div",{className:"text-xs text-gray-400",children:L.code})]})]},L.code))})]}),o.jsx("div",{className:"flex-1",children:o.jsx("input",{ref:z,className:"w-full h-12 bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.email,type:"tel",value:a,onChange:N,onBlur:()=>y(!0)})})]}),p&&a&&!j&&o.jsx("p",{className:"text-red-500 text-xs -mt-2 mb-3",children:r.email}),x&&o.jsx("p",{className:"text-red-500 text-xs -mt-2 mb-3",children:x}),o.jsx("a",{className:"text-blue-500 text-sm mb-5 block transition-opacity active:opacity-60",href:"#",children:r.forgotPassword}),o.jsx("button",{className:`w-full py-3.5 rounded-full mb-5 transition-all duration-300 ${a&&j?"bg-white text-black hover:opacity-90 active:scale-[0.98]":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,disabled:!a||!j,onClick:D,children:_?o.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.928l3-2.647z"})]}):r.continue}),o.jsx("div",{className:"text-center mb-5",children:o.jsx("button",{onClick:()=>t("signup"),className:"w-full bg-zinc-900 text-white py-3.5 rounded-full transition-colors hover:bg-zinc-800 active:scale-[0.98]",children:r.createAccount})}),o.jsxs("div",{className:"flex justify-center items-center mb-4 relative",children:[o.jsxs("button",{className:"flex items-center gap-2 text-slate-300 text-sm px-3 py-2 rounded-lg transition-colors active:bg-zinc-800",onClick:()=>m(!f),children:[o.jsx(mp,{className:"w-4 h-4"}),I().find(L=>L.code===e)?.name,o.jsx(bo,{className:"w-4 h-4"})]}),f&&o.jsx("div",{className:"absolute bottom-full mb-2 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[160px]",children:I().map(L=>o.jsx("button",{className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{n(L.code),m(!1)},children:o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"text-sm",children:L.name})})},L.code))})]})]}),o.jsx("footer",{className:"w-full max-w-md mx-auto mt-8 pb-3 flex flex-col items-center gap-2",children:o.jsx("a",{className:"text-xs text-slate-400 hover:underline",href:"#",children:"Poltica de Privacidade"})})]})}const hU=E.createContext({signUpData:null,setSignUpData:()=>{},clearSignUpData:()=>{}});function FP(){return E.useContext(hU)}function nie({children:t}){const[e,n]=E.useState(null),r=s=>{n(s)},i=()=>{n(null)};return o.jsx(hU.Provider,{value:{signUpData:e,setSignUpData:r,clearSignUpData:i},children:t})}function rie(t){if(!t)return"";const e=new Set(["de","da","do","dos","das","e","em","para","com","sem","of","the","and","in","on","at","to","for","with","del","la","el","los","las","y","en","por","con","le","les","du","des","et","au","aux","di","della","degli","delle"]);return t.toLowerCase().split(" ").map((n,r)=>r===0?n.charAt(0).toUpperCase()+n.slice(1):e.has(n)?n:n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}function iie({onNavigate:t}){const{signUp:e}=Vt(),{setSignUpData:n}=FP(),{t:r}=ei(),[i,s]=E.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[a,l]=E.useState({email:!1,phone:!1,password:!1,confirmPassword:!1,name:!1}),[c,d]=E.useState(!1),[f,m]=E.useState(!1),[p,y]=E.useState(!1),[x,b]=E.useState({code:"+55",countryCode:"BR",name:"Brasil"}),_=[{code:"+55",countryCode:"BR",name:"Brasil",mask:"(XX) XXXXX-XXXX",maxLength:15},{code:"+1",countryCode:"US",name:"USA",mask:"(XXX) XXX-XXXX",maxLength:14},{code:"+44",countryCode:"GB",name:"Reino Unido",mask:"XXXX XXX XXXX",maxLength:13},{code:"+33",countryCode:"FR",name:"Frana",mask:"XX XX XX XX XX",maxLength:14},{code:"+49",countryCode:"DE",name:"Alemanha",mask:"XXX XXXXXXX",maxLength:11},{code:"+39",countryCode:"IT",name:"Itlia",mask:"XXX XXX XXXX",maxLength:12},{code:"+34",countryCode:"ES",name:"Espanha",mask:"XXX XX XX XX",maxLength:11},{code:"+351",countryCode:"PT",name:"Portugal",mask:"XXX XXX XXX",maxLength:11}],S=(Y,Z)=>{const k=Y.replace(/\D/g,"");if(!_.find(H=>H.countryCode===Z))return k;switch(Z){case"BR":return k.length<=2?k:k.length<=7?`(${k.slice(0,2)}) ${k.slice(2)}`:k.length<=11?`(${k.slice(0,2)}) ${k.slice(2,7)}-${k.slice(7)}`:`(${k.slice(0,2)}) ${k.slice(2,7)}-${k.slice(7,11)}`;case"US":return k.length<=3?k:k.length<=6?`(${k.slice(0,3)}) ${k.slice(3)}`:`(${k.slice(0,3)}) ${k.slice(3,6)}-${k.slice(6,10)}`;case"GB":return k.length<=4?k:k.length<=7?`${k.slice(0,4)} ${k.slice(4)}`:`${k.slice(0,4)} ${k.slice(4,7)} ${k.slice(7,11)}`;case"FR":return k.length<=2?k:k.length<=4?`${k.slice(0,2)} ${k.slice(2)}`:k.length<=6?`${k.slice(0,2)} ${k.slice(2,4)} ${k.slice(4)}`:k.length<=8?`${k.slice(0,2)} ${k.slice(2,4)} ${k.slice(4,6)} ${k.slice(6)}`:`${k.slice(0,2)} ${k.slice(2,4)} ${k.slice(4,6)} ${k.slice(6,8)} ${k.slice(8,10)}`;case"DE":return k.length<=3?k:`${k.slice(0,3)} ${k.slice(3,10)}`;case"IT":return k.length<=3?k:k.length<=6?`${k.slice(0,3)} ${k.slice(3)}`:`${k.slice(0,3)} ${k.slice(3,6)} ${k.slice(6,10)}`;case"ES":return k.length<=3?k:k.length<=5?`${k.slice(0,3)} ${k.slice(3)}`:k.length<=7?`${k.slice(0,3)} ${k.slice(3,5)} ${k.slice(5)}`:`${k.slice(0,3)} ${k.slice(3,5)} ${k.slice(5,7)} ${k.slice(7,9)}`;case"PT":return k.length<=3?k:k.length<=6?`${k.slice(0,3)} ${k.slice(3)}`:`${k.slice(0,3)} ${k.slice(3,6)} ${k.slice(6,9)}`;default:return k}},M=Y=>{const Z=S(Y.target.value,x.countryCode);s({...i,phone:Z})},O=Y=>{const H=Y.target.value.replace(/\s+/g," ").split(" ").slice(0,5).join(" "),R=H.trim().length>0?rie(H):H;s({...i,name:R})},z=Y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Y),I=Y=>Y.replace(/\D/g,"").length>=10,P=Y=>{const Z=Y.length>=8,k=/[A-Z]/.test(Y),Q=/[!@#$%^&*(),.?":{}|<>]/.test(Y);return{hasMinLength:Z,hasUpperCase:k,hasSpecialChar:Q,isValid:Z&&k&&Q}},C=Y=>{const Z=Y.trim().split(" ").filter(k=>k.length>0);return Z.length>=1&&Z.length<=5},N=z(i.email),A=I(i.phone),j=P(i.password),D=C(i.name),L=i.password===i.confirmPassword&&i.confirmPassword.length>0,B=D&&N&&A&&j.isValid&&L,$=()=>{if(!B)return;const Y=i.phone.replace(/\D/g,""),Z=`${x.code}${Y}`;n({name:i.name,email:i.email,phone:Z,password:i.password,country:""}),t("countrySelection")};return o.jsxs("div",{className:"min-h-screen bg-black text-white p-4 flex flex-col justify-center items-center relative",children:[p&&o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{y(!1)}}),o.jsx("div",{className:"absolute top-4 left-4 z-20",children:o.jsx("button",{onClick:()=>t("welcome"),className:"flex items-center gap-2 text-white transition-opacity active:opacity-60 p-2",children:o.jsx(Ct,{className:"w-5 h-5"})})}),o.jsx("main",{className:"w-full max-w-md",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"text-2xl font-bold tracking-tight text-white",children:r.createAccount}),o.jsx("p",{className:"text-slate-400 text-sm mb-5",children:r.dontHaveAccount}),o.jsxs("form",{className:"space-y-3 mb-5",children:[o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.fullName||r.name,type:"text",value:i.name,onChange:O,onBlur:()=>l({...a,name:!0})}),a.name&&i.name&&!D&&o.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:"Nome invlido"}),o.jsxs("div",{children:[o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.email,type:"email",value:i.email,onChange:Y=>s({...i,email:Y.target.value}),onBlur:()=>l({...a,email:!0})}),a.email&&i.email&&!N&&o.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:"E-mail invlido"})]}),o.jsxs("div",{className:"flex gap-2 relative",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{type:"button",className:"flex items-center gap-2 bg-zinc-900 px-3 py-[13px] rounded-xl shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)] transition-colors active:opacity-70 h-[50px]",onClick:()=>y(!p),children:[o.jsx(gu,{countryCode:x.countryCode,size:"sm"}),o.jsx("span",{className:"font-medium text-sm",children:x.code}),o.jsx(bo,{className:"w-4 h-4 text-gray-400"})]}),p&&o.jsx("div",{className:"absolute top-full mt-2 left-0 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[200px]",children:_.map(Y=>o.jsxs("button",{type:"button",className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{b(Y),s({...i,phone:""}),y(!1)},children:[o.jsx(gu,{countryCode:Y.countryCode,size:"sm"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-sm",children:Y.name}),o.jsx("div",{className:"text-xs text-gray-400",children:Y.code})]})]},Y.code))})]}),o.jsx("div",{className:"flex-1",children:o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.phone,type:"tel",value:i.phone,onChange:M,onBlur:()=>l({...a,phone:!0})})})]}),a.phone&&i.phone&&!A&&o.jsx("p",{className:"text-xs text-red-500 -mt-2 ml-1",children:"Telefone invlido"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 pr-12 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.password,type:c?"text":"password",value:i.password,onChange:Y=>s({...i,password:Y.target.value}),onBlur:()=>l({...a,password:!0})}),o.jsx("button",{type:"button",className:"absolute right-4 top-[14px] text-gray-400 hover:text-gray-300 transition-colors cursor-pointer",onMouseDown:Y=>{Y.preventDefault()},onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),d(!c)},children:c?o.jsx(gf,{className:"w-5 h-5"}):o.jsx(fu,{className:"w-5 h-5"})}),a.password&&i.password&&!j.isValid&&o.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:"A senha deve ter pelo menos 8 caracteres, 1 maiscula e 1 caractere especial"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 pr-12 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.confirmPassword,type:f?"text":"password",value:i.confirmPassword,onChange:Y=>s({...i,confirmPassword:Y.target.value}),onBlur:()=>l({...a,confirmPassword:!0})}),o.jsx("button",{type:"button",className:"absolute right-4 top-[14px] text-gray-400 hover:text-gray-300 transition-colors cursor-pointer",onMouseDown:Y=>{Y.preventDefault()},onClick:Y=>{Y.preventDefault(),Y.stopPropagation(),m(!f)},children:f?o.jsx(gf,{className:"w-5 h-5"}):o.jsx(fu,{className:"w-5 h-5"})}),a.confirmPassword&&i.confirmPassword&&!L&&o.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:"As senhas no coincidem"})]}),o.jsx("button",{type:"button",className:`w-full py-3.5 rounded-full font-semibold transition-all duration-300 ${B?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:from-blue-600 hover:to-purple-600 active:scale-[0.98]":"bg-zinc-800 text-zinc-500 cursor-not-allowed"}`,onClick:$,disabled:!B,children:r.continue})]})]})})]})}function sie({onNavigate:t}){const{userData:e,verifyPin:n,setPinVerified:r,signUp:i}=Vt(),{signUpData:s,clearSignUpData:a}=FP(),[l,c]=E.useState(["","","","","",""]),[d,f]=E.useState(["","","","","",""]),[m,p]=E.useState("create"),[y,x]=E.useState(""),[b,_]=E.useState(!1),[S,M]=E.useState(!1),O=E.useRef([]);E.useEffect(()=>{p(s?"create":"verify")},[s]),E.useEffect(()=>{O.current[0]&&O.current[0].focus()},[m]);const z=(D,L,B=!1)=>{if(L&&!/^\d$/.test(L))return;const $=B?[...d]:[...l];if($[D]=L,B?f($):c($),L&&D<5&&O.current[D+1]?.focus(),$.every(Y=>Y!=="")){const Y=$.join("");if(m==="create")setTimeout(()=>{p("confirm"),x("")},100);else if(m==="confirm"){const Z=l.join("");Y===Z?P(Y):(x("Os PINs no coincidem. Tente novamente."),_(!0),setTimeout(()=>{_(!1),f(["","","","","",""]),O.current[0]?.focus()},500))}else m==="verify"&&(async()=>await n(Y)?(r(!0),t("home")):(x("PIN incorreto. Tente novamente."),_(!0),setTimeout(()=>{_(!1),c(["","","","","",""]),O.current[0]?.focus()},500)))()}},I=(D,L,B=!1)=>{if(L.key==="Backspace"){L.preventDefault();const $=B?[...d]:[...l];$[D]===""?D>0&&($[D-1]="",B?f($):c($),O.current[D-1]?.focus()):($[D]="",B?f($):c($))}},P=async D=>{if(!s){console.error("Sem dados de cadastro");return}try{M(!0),x(""),await i(s.email,s.password,s.name,s.phone,s.country,D),a(),r(!0),t("home")}catch(L){console.error("Erro ao criar conta:",L),x(L.message||"Erro ao criar conta. Tente novamente."),M(!1)}},C=()=>{m==="confirm"?(p("create"),f(["","","","","",""]),x("")):t("login")},N=()=>m==="create"?"Crie seu PIN":m==="confirm"?"Confirme seu PIN":"Digite seu PIN",A=()=>m==="create"?"Crie um PIN de 6 dgitos para proteger sua conta":m==="confirm"?"Digite o PIN novamente para confirmar":"Digite seu PIN para acessar sua conta",j=m==="confirm"?d:l;return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"px-6 pt-6 pb-4",children:o.jsx("button",{onClick:C,className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(Ct,{className:"w-5 h-5"})})}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 -mt-20",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center mb-8 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:o.jsx(Ml,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-3xl font-bold mb-2 text-center",children:N()}),o.jsx("p",{className:"text-sm text-gray-400 mb-12 text-center max-w-xs",children:A()}),o.jsx("div",{className:`flex gap-3 mb-6 ${b?"animate-shake":""}`,children:j.map((D,L)=>o.jsx("input",{ref:B=>O.current[L]=B,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:D,onChange:B=>z(L,B.target.value,m==="confirm"),onKeyDown:B=>I(L,B,m==="confirm"),className:"w-14 h-16 bg-zinc-900 border-2 border-zinc-800 rounded-2xl text-center text-2xl font-bold text-white focus:border-white focus:outline-none transition-all",style:{caretColor:"transparent"}},`${m}-${L}`))}),y&&o.jsx("p",{className:"text-red-500 text-sm mb-4 text-center animate-fade-in",children:y}),o.jsx("p",{className:"text-xs text-gray-500 text-center max-w-xs",children:m==="verify"?"Use seu PIN de 6 dgitos para acessar sua conta":"Escolha um PIN fcil de lembrar, mas difcil de adivinhar"})]}),m==="verify"&&o.jsx("footer",{className:"px-6 pb-8",children:o.jsx("button",{onClick:()=>t("login"),className:"w-full text-center text-sm text-gray-400 hover:text-white transition-colors",children:"Esqueci meu PIN"})}),o.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
          20%, 40%, 60%, 80% { transform: translateX(10px); }
        }
        .animate-shake {
          animation: shake 0.5s;
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
      `})]})}function AD({onNavigate:t}){const{signUpData:e,setSignUpData:n}=FP(),[r,i]=E.useState(null),[s,a]=E.useState(null),[l,c]=E.useState(!1),d=[{id:"BR",name:"Brasil",code:"BR",currency:"BRL"},{id:"US",name:"Estados Unidos",code:"US",currency:"USD"},{id:"PT",name:"Portugal",code:"PT",currency:"EUR"},{id:"ES",name:"Espanha",code:"ES",currency:"EUR"},{id:"FR",name:"Frana",code:"FR",currency:"EUR"},{id:"DE",name:"Alemanha",code:"DE",currency:"EUR"},{id:"IT",name:"Itlia",code:"IT",currency:"EUR"},{id:"GB",name:"Reino Unido",code:"GB",currency:"EUR"},{id:"NL",name:"Holanda",code:"NL",currency:"EUR"},{id:"BE",name:"Blgica",code:"BE",currency:"EUR"},{id:"CH",name:"Sua",code:"CH",currency:"EUR"},{id:"AT",name:"ustria",code:"AT",currency:"EUR"}],f=[{id:"BRL",name:"Real Brasileiro",symbol:"R$",code:"BR"},{id:"USD",name:"Dlar Americano",symbol:"$",code:"US"},{id:"EUR",name:"Euro",symbol:"",code:"EU"}],m=d.find(x=>x.id===r),p=(x,b)=>{i(x),a(b),c(!1)},y=()=>{r&&s&&e&&(n({...e,country:r}),t("pinSetup"))};return o.jsxs("div",{className:"bg-black text-white min-h-screen flex flex-col p-6",children:[o.jsx("div",{className:"w-full max-w-md mx-auto pt-4 pb-8",children:o.jsx("h1",{className:"text-2xl font-bold tracking-tight text-center mb-2",children:"NexCoin"})}),o.jsxs("main",{className:"w-full max-w-md mx-auto flex-1 overflow-y-auto hide-scrollbar",children:[o.jsxs("div",{className:"space-y-2 mb-6",children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Configurao inicial"}),o.jsx("p",{className:"text-slate-400 text-sm",children:"Selecione seu pas de origem e a moeda preferencial para suas transaes."})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pas de origem"}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{type:"button",onClick:()=>c(!l),className:"w-full bg-zinc-900 rounded-2xl p-4 flex items-center justify-between hover:bg-zinc-800 transition-all",children:m?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(gu,{countryCode:m.code,size:"md"}),o.jsx("div",{className:"text-left",children:o.jsx("div",{className:"font-semibold",children:m.name})})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-400",children:"Selecione um pas"}),o.jsx(bo,{className:"w-5 h-5 text-gray-400"})]})}),l&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-zinc-900 rounded-2xl border border-zinc-800 max-h-80 overflow-y-auto hide-scrollbar z-50 shadow-xl",children:d.map(x=>o.jsxs("button",{type:"button",onClick:()=>p(x.id,x.currency),className:"w-full p-4 flex items-center gap-3 hover:bg-zinc-800 transition-colors first:rounded-t-2xl last:rounded-b-2xl",children:[o.jsx(gu,{countryCode:x.code,size:"sm"}),o.jsx("div",{className:"text-left flex-1",children:o.jsx("div",{className:"font-semibold",children:x.name})}),r===x.id&&o.jsx("div",{className:"w-5 h-5 rounded-full bg-white flex items-center justify-center",children:o.jsx(An,{className:"w-3 h-3 text-black"})})]},x.id))})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-lg font-semibold",children:"Moeda Preferencial"}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Escolha a moeda que deseja usar como padro"}),f.map(x=>o.jsxs("button",{type:"button",onClick:()=>a(x.id),className:`w-full bg-zinc-900 rounded-2xl p-4 flex items-center justify-between transition-all duration-300 ${s===x.id?"ring-1 ring-inset ring-white/60":"hover:bg-zinc-800"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(gu,{countryCode:x.code,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold",children:x.name}),o.jsxs("div",{className:"text-sm text-gray-400",children:[x.symbol," ",x.id]})]})]}),s===x.id&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center",children:o.jsx(An,{className:"w-4 h-4 text-black"})})]},x.id))]})]}),o.jsx("button",{type:"button",onClick:y,className:`w-full py-4 rounded-full font-semibold transition-all duration-300 ${r&&s?"bg-white text-black hover:opacity-90 active:scale-[0.98]":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,disabled:!r||!s,children:"Continuar"})]})}const mU=E.createContext({prices:{},isLoading:!0,lastUpdate:null});function wi(){return E.useContext(mU)}function aie({children:t}){const[e,n]=E.useState({}),[r,i]=E.useState(!0),[s,a]=E.useState(null),l=["bitcoin","ethereum","tether","binancecoin","solana","ripple","cardano","avalanche-2","dogecoin","polkadot","matic-network","chainlink","uniswap","litecoin","cosmos","stellar","tron","shiba-inu","wrapped-bitcoin","dai","leo-token","usd-coin","the-open-network","ethereum-classic","bitcoin-cash","aptos","arbitrum","optimism","internet-computer","filecoin","near","vechain","algorand","injective-protocol","aave","maker","the-graph","immutable-x","blockstack","hedera-hashgraph","fantom","the-sandbox","decentraland","axie-infinity","tezos","theta-token","eos","monero","flow","chiliz","zcash","thorchain","klay-token","dash","neo","iota","quant-network","elrond-erd-2","pepe","fetch-ai","sui","sei-network"],c=async()=>{try{const f=l.join(","),m=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${f}&vs_currencies=usd&include_24hr_change=true&include_market_cap=true`,{method:"GET",headers:{Accept:"application/json"}});if(!m.ok){d();return}const p=m.headers.get("content-type");if(!p||!p.includes("application/json")){d();return}const y=await m.json();n(y),a(new Date),i(!1)}catch{d()}},d=()=>{n({bitcoin:{usd:87450,usd_24h_change:2.5,usd_market_cap:172e10},ethereum:{usd:2889.03,usd_24h_change:1.8,usd_market_cap:347e9},tether:{usd:1,usd_24h_change:0,usd_market_cap:958e8},binancecoin:{usd:312.45,usd_24h_change:-.8,usd_market_cap:488e8},solana:{usd:98.76,usd_24h_change:5.2,usd_market_cap:428e8},ripple:{usd:.52,usd_24h_change:1.2,usd_market_cap:28e9},"usd-coin":{usd:1,usd_24h_change:.01,usd_market_cap:32e9},cardano:{usd:.45,usd_24h_change:-.5,usd_market_cap:158e8},dogecoin:{usd:.08,usd_24h_change:3.1,usd_market_cap:112e8},tron:{usd:.12,usd_24h_change:.8,usd_market_cap:105e8},"avalanche-2":{usd:36.5,usd_24h_change:2.7,usd_market_cap:135e8},polkadot:{usd:6.85,usd_24h_change:2.3,usd_market_cap:95e8},"matic-network":{usd:.98,usd_24h_change:1.5,usd_market_cap:89e8},chainlink:{usd:14.25,usd_24h_change:3.2,usd_market_cap:78e8},"shiba-inu":{usd:9e-6,usd_24h_change:4.5,usd_market_cap:53e8},litecoin:{usd:78.5,usd_24h_change:-1.2,usd_market_cap:57e8},uniswap:{usd:11.2,usd_24h_change:2.1,usd_market_cap:67e8},stellar:{usd:.11,usd_24h_change:.5,usd_market_cap:32e8},cosmos:{usd:9.45,usd_24h_change:1.8,usd_market_cap:36e8},monero:{usd:165.2,usd_24h_change:-.3,usd_market_cap:3e9},"ethereum-classic":{usd:26.8,usd_24h_change:1.1,usd_market_cap:39e8},"bitcoin-cash":{usd:385,usd_24h_change:-1.5,usd_market_cap:76e8},near:{usd:5.2,usd_24h_change:2.9,usd_market_cap:54e8},algorand:{usd:.35,usd_24h_change:1.3,usd_market_cap:28e8},vechain:{usd:.032,usd_24h_change:.8,usd_market_cap:23e8},fantom:{usd:.68,usd_24h_change:3.5,usd_market_cap:19e8},"the-graph":{usd:.28,usd_24h_change:2.2,usd_market_cap:21e8},filecoin:{usd:5.15,usd_24h_change:-.9,usd_market_cap:25e8},"hedera-hashgraph":{usd:.075,usd_24h_change:1.7,usd_market_cap:24e8},aptos:{usd:8.9,usd_24h_change:4.2,usd_market_cap:35e8},arbitrum:{usd:.82,usd_24h_change:2.8,usd_market_cap:29e8},optimism:{usd:2.15,usd_24h_change:1.9,usd_market_cap:22e8},"render-token":{usd:7.35,usd_24h_change:5.1,usd_market_cap:28e8},"injective-protocol":{usd:22.5,usd_24h_change:3.8,usd_market_cap:21e8},sui:{usd:3.45,usd_24h_change:6.2,usd_market_cap:32e8}}),a(new Date),i(!1)};return E.useEffect(()=>{c();const f=setInterval(c,1e4);return()=>clearInterval(f)},[]),o.jsx(mU.Provider,{value:{prices:e,isLoading:r,lastUpdate:s},children:t})}const pU=E.createContext({portfolio:{totalBalanceUSDT:0,change24h:0,changePercent24h:0,holdings:[],priceHistory:[]},isLoading:!0,refreshHoldings:async()=>{},updateHoldings:async()=>{},addOrUpdateCrypto:async()=>{},removeCrypto:async()=>{},updateBalance:async()=>{}});function qs(){return E.useContext(pU)}function oie({children:t}){const{prices:e,isLoading:n}=wi(),{user:r,auth:i}=Vt(),[s,a]=E.useState({totalBalanceUSDT:0,change24h:0,changePercent24h:0,holdings:[],priceHistory:[]}),[l,c]=E.useState(!0),[d,f]=E.useState(!1),[m,p]=E.useState([]);E.useEffect(()=>{if(!r?.uid){c(!1);return}console.log(" Iniciando listener de portfolio para userId:",r.uid);let M=0;const O=3;let z=null,I=null,P=!1;const C=()=>{if(P){console.log(" Configurao de listener j em andamento, ignorando...");return}P=!0,z&&(console.log(" Limpando listener anterior antes de criar novo..."),z(),z=null);const N=it(Ee,"users",r.uid,"portfolio"),A=It(N);z=xi(A,j=>{console.log(" Snapshot recebido - Total de ativos no portfolio:",j.size),M=0,P=!1;const D=[];j.forEach(L=>{const B=L.data();console.log(" Ativo encontrado:",{id:L.id,data:B}),D.push({symbol:B.symbol,coinId:B.coinId,amount:B.amount,name:B.name,valueUsd:B.valueUsd||0,updatedAt:B.updatedAt?.toDate()})}),console.log(" Total de holdings carregados:",D.length),a(L=>({...L,holdings:D})),c(!1),f(!1)},j=>{console.error(" Erro no listener da coleo portfolio:",j),P=!1,j.code==="permission-denied"?(console.error(" Permisso negada - verificar regras do Firestore"),f(!0),c(!1)):j.code==="unavailable"&&M<O?(M++,console.log(` Tentando reconectar... (tentativa ${M}/${O})`),I&&clearTimeout(I),I=setTimeout(()=>{z&&z(),C()},1e3*M)):c(!1)})};return C(),()=>{console.log(" Cancelando listener da coleo portfolio"),z&&z(),I&&clearTimeout(I)}},[r?.uid]),E.useEffect(()=>{if(n||!e||Object.keys(e).length===0)return;let M=0;s.holdings.forEach(P=>{const C=e[P.coinId]?.usd||0;M+=P.amount*C});let O=0;s.holdings.forEach(P=>{const C=e[P.coinId]?.usd||0,N=e[P.coinId]?.usd_24h_change||0,A=C/(1+N/100);O+=P.amount*A});const z=M-O,I=O!==0?(M-O)/O*100:0;p(P=>[...P,M].slice(-50)),a({totalBalanceUSDT:M,change24h:z,changePercent24h:I,holdings:s.holdings,priceHistory:m}),c(!1)},[e,n,s.holdings]),E.useEffect(()=>{a(M=>({...M,priceHistory:m}))},[m]);const y=async()=>{console.log(" refreshHoldings: listener automtico est ativo")},x=async M=>{console.warn(" updateHoldings est deprecated com a nova estrutura de coleo")},b=async(M,O,z,I)=>{if(!r)return;console.log(" Adicionando/atualizando crypto:",{symbol:M,coinId:O,amount:z,name:I});const P=e[O]?.usd||0,C=z*P;await cU(r.uid,M,O,z,I,C),console.log(" Crypto adicionado, aguardando atualizao do listener")},_=async M=>{r&&await qre(r.uid,M)},S=async(M,O,z,I)=>{if(!r)return;const P=e[O]?.usd||0;await Hre(r.uid,M,O,z,I,P)};return o.jsx(pU.Provider,{value:{portfolio:s,isLoading:l,refreshHoldings:y,updateHoldings:x,addOrUpdateCrypto:b,removeCrypto:_,updateBalance:S},children:t})}const gU=E.createContext({rates:{},loading:!0});function lie({children:t}){const[e,n]=E.useState({}),[r,i]=E.useState(!0);return E.useEffect(()=>{(async()=>{try{n({USD:1,BRL:5.2,EUR:.92,GBP:.79}),i(!1)}catch(a){console.error("Erro ao buscar taxas de cmbio:",a),n({USD:1,BRL:5.2,EUR:.92,GBP:.79}),i(!1)}})()},[]),o.jsx(gU.Provider,{value:{rates:e,loading:r},children:t})}function BP(){return E.useContext(gU)}const yU=E.createContext(void 0);function cie({children:t}){const[e,n]=E.useState(null),[r,i]=E.useState(!1),[s,a]=E.useState(null),[l,c]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(null),[y,x]=E.useState(!1),[b,_]=E.useState(null),[S,M]=E.useState(null),O=E.useCallback(D=>{console.log(" [Location] Posio obtida com sucesso:",D);const L={latitude:D.coords.latitude,longitude:D.coords.longitude,accuracy:D.coords.accuracy,altitude:D.coords.altitude,altitudeAccuracy:D.coords.altitudeAccuracy,heading:D.coords.heading,speed:D.coords.speed};n({coordinates:L,timestamp:D.timestamp}),f(!0),i(!1),a(null),I(L.latitude,L.longitude)},[]),z=E.useCallback(D=>{if(D.message.includes("permissions policy")||D.message.includes("Permissions Policy")||D.code===1){console.log(" [Location] GPS no disponvel - Ativando modo simulao (So Paulo)...");const $={latitude:-23.55052,longitude:-46.633308,accuracy:10},Y={coordinates:$,timestamp:Date.now(),city:"So Paulo",state:"So Paulo",country:"Brasil",address:"Praa da S, Centro Histrico de So Paulo, So Paulo, Brasil"};n(Y),f(!1),i(!1),a(null),P($.latitude,$.longitude,{city:"So Paulo",state:"So Paulo",country:"Brasil",address:"Praa da S, Centro Histrico de So Paulo, So Paulo, Brasil"}),console.log(" [Location] Modo simulao ativo - Exibindo So Paulo");return}console.error(" [Location] Erro de geolocalizao:",D),console.error(" [Location] Cdigo do erro:",D.code),console.error(" [Location] Mensagem:",D.message);let B="Erro ao obter localizao";switch(D.code){case D.PERMISSION_DENIED:B="Voc bloqueou o acesso  localizao. Por favor, permita nas configuraes do navegador.",console.error(" [Location] PERMISSO NEGADA - Usurio bloqueou a localizao"),f(!1);break;case D.POSITION_UNAVAILABLE:B="Localizao indisponvel. Verifique se o GPS est ativado.",console.error(" [Location] POSIO INDISPONVEL - GPS pode estar desligado");break;case D.TIMEOUT:B="Tempo esgotado ao obter localizao. Tente novamente.",console.error(" [Location] TIMEOUT - Demorou muito para obter localizao");break;default:B=`Erro desconhecido (cdigo ${D.code}): ${D.message}`,console.error(" [Location] ERRO DESCONHECIDO:",D)}a(B),i(!1)},[]),I=async(D,L)=>{try{console.log(" [Geocoding] Fazendo geocoding reverso...");const B=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${D}&lon=${L}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"NexCoin/1.0"}});if(B.ok){const $=await B.json();console.log(" [Geocoding] Endereo obtido:",$);const Y={city:$.address?.city||$.address?.town||$.address?.village||"Desconhecido",state:$.address?.state||"",country:$.address?.country||"",address:$.display_name||""};n(Z=>Z?{...Z,...Y}:null),P(D,L,Y)}else P(D,L)}catch{console.log(" [Geocoding] No foi possvel obter endereo (ambiente restrito)"),P(D,L)}},P=async(D,L,B)=>{x(!0),M(null);try{const $=bn.currentUser;if(!$){console.log(" [Firestore] Usurio NO autenticado - no salvando localizao"),console.log(" [Firestore] Faa login primeiro para salvar a localizao"),x(!1),M("Usurio no autenticado");return}console.log(" [Firestore]  Usurio autenticado:",$.uid),console.log(" [Firestore] Email:",$.email),console.log(" [Firestore] Salvando em: userLocations/"+$.uid);const Y=lt(Ee,"userLocations",$.uid),Z={userId:$.uid,userEmail:$.email||"",coordinates:{latitude:D,longitude:L},timestamp:os(),updatedAt:os()};B?(Z.city=B.city,Z.state=B.state,Z.country=B.country,Z.address=B.address,console.log(" [Firestore] Com endereo:",B.city)):console.log(" [Firestore] Sem dados de endereo"),console.log(" [Firestore] Dados completos:",Z),await cr(Y,Z,{merge:!0}),console.log(" [Firestore]  LOCALIZAO SALVA COM SUCESSO! "),console.log(" [Firestore] Acesse: https://console.firebase.google.com"),console.log(" [Firestore] V em: Firestore Database > userLocations"),x(!1),_(new Date),M(null)}catch($){console.error(" [Firestore] ERRO ao salvar localizao:",$),console.error(" [Firestore] Detalhes do erro:",JSON.stringify($,null,2));const Y=$ instanceof Error&&($.message.includes("permission-denied")||$.message.includes("Missing or insufficient permissions"));x(!1),Y?(M("Firestore permission-denied - Regras precisam ser publicadas"),console.error(" [Firestore] ERRO DE PERMISSO - As regras do Firestore no foram publicadas!"),console.error(" [Firestore] Execute: bash deploy-firestore-rules.sh"),console.error(" [Firestore] Ou publique manualmente em: https://console.firebase.google.com/project/nexcoin-1f42f/firestore/rules")):M("Erro ao salvar localizao no Firestore")}},C=E.useCallback(async()=>{if(!navigator.geolocation){a("Geolocalizao no  suportada pelo seu navegador");return}i(!0),a(null),navigator.geolocation.getCurrentPosition(O,z,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[O,z]),N=E.useCallback(()=>{if(!navigator.geolocation){a("Geolocalizao no  suportada pelo seu navegador");return}if(l){console.log(" [Location] J est monitorando localizao");return}console.log(" [Location] Iniciando monitoramento de localizao..."),i(!0),a(null),c(!0);const D=navigator.geolocation.watchPosition(O,z,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0});p(D),console.log(" [Location] Monitoramento iniciado com ID:",D)},[O,z,l]),A=E.useCallback(()=>{m!==null&&(console.log(" [Location] Parando monitoramento de localizao..."),navigator.geolocation.clearWatch(m),p(null),c(!1),console.log(" [Location] Monitoramento parado"))},[m]),j={location:e,isLoading:r,error:s,isWatching:l,hasPermission:d,watchLocation:N,stopWatching:A,getCurrentLocation:C,isSavingToFirestore:y,lastFirestoreSave:b,firestoreError:S};return Se.useEffect(()=>{console.log(" [Location] Iniciando rastreamento automtico ao abrir o app...");const D=setTimeout(()=>{l||(console.log(" [Location] Ativando GPS automaticamente..."),N())},1e3);return()=>{clearTimeout(D)}},[]),o.jsx(yU.Provider,{value:j,children:t})}function vU(){const t=E.useContext(yU);if(t===void 0)throw new Error("useLocation deve ser usado dentro de LocationProvider");return t}async function xU(t,e=200,n=.7){return new Promise((r,i)=>{const s=new FileReader;s.onload=a=>{const l=new Image;l.onload=()=>{let c=l.width,d=l.height;c>d?c>e&&(d=d*e/c,c=e):d>e&&(c=c*e/d,d=e);const f=document.createElement("canvas");f.width=c,f.height=d;const m=f.getContext("2d");if(!m){i(new Error("No foi possvel criar contexto do canvas"));return}m.drawImage(l,0,0,c,d);const p=f.toDataURL("image/jpeg",n),x=p.length*3/4/1024;if(console.log(" Imagem comprimida:"),console.log(`   Original: ${(t.size/1024).toFixed(2)} KB`),console.log(`   Comprimida: ${x.toFixed(2)} KB`),console.log(`   Dimenses: ${c}x${d}`),x>100&&n>.3){console.log(" Imagem ainda muito grande, comprimindo mais..."),xU(t,e*.8,n*.7).then(r).catch(i);return}r(p)},l.onerror=()=>{i(new Error("Erro ao carregar imagem"))},l.src=a.target?.result},s.onerror=()=>{i(new Error("Erro ao ler arquivo"))},s.readAsDataURL(t)})}var _b=WV();const uie=bi(_b);var die=t=>{switch(t){case"success":return mie;case"info":return gie;case"warning":return pie;case"error":return yie;default:return null}},fie=Array(12).fill(0),hie=({visible:t,className:e})=>Se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Se.createElement("div",{className:"sonner-spinner"},fie.map((n,r)=>Se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),mie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),pie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),gie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),vie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),xie=()=>{let[t,e]=Se.useState(document.hidden);return Se.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},UN=1,bie=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:UN++,s=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,a=r.then(async c=>{if(s=["resolve",c],Se.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(_ie(c)&&!c.ok){i=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:d,description:f})}else if(e.success!==void 0){i=!1;let d=typeof e.success=="function"?await e.success(c):e.success,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let d=typeof e.error=="function"?await e.error(c):e.error,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,d)=>a.then(()=>s[0]==="reject"?d(s[1]):c(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=e?.id||UN++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ci=new bie,wie=(t,e)=>{let n=e?.id||UN++;return ci.addToast({title:t,...e,id:n}),n},_ie=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Eie=wie,Cie=()=>ci.toasts,Nie=()=>ci.getActiveToasts(),Me=Object.assign(Eie,{success:ci.success,info:ci.info,warning:ci.warning,error:ci.error,custom:ci.custom,message:ci.message,promise:ci.promise,dismiss:ci.dismiss,loading:ci.loading},{getHistory:Cie,getToasts:Nie});function Sie(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}Sie(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function cv(t){return t.label!==void 0}var Tie=3,Pie="32px",Aie="16px",ID=4e3,Iie=356,jie=14,kie=20,Rie=200;function Ss(...t){return t.filter(Boolean).join(" ")}function Die(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Oie=t=>{var e,n,r,i,s,a,l,c,d,f,m;let{invert:p,toast:y,unstyled:x,interacting:b,setHeights:_,visibleToasts:S,heights:M,index:O,toasts:z,expanded:I,removeToast:P,defaultRichColors:C,closeButton:N,style:A,cancelButtonStyle:j,actionButtonStyle:D,className:L="",descriptionClassName:B="",duration:$,position:Y,gap:Z,loadingIcon:k,expandByDefault:Q,classNames:H,icons:R,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:K}=t,[J,G]=Se.useState(null),[te,ie]=Se.useState(null),[ne,xe]=Se.useState(!1),[ae,ve]=Se.useState(!1),[Te,me]=Se.useState(!1),[Ie,De]=Se.useState(!1),[Ze,ct]=Se.useState(!1),[Fe,yt]=Se.useState(0),[dt,oe]=Se.useState(0),Ne=Se.useRef(y.duration||$||ID),Xe=Se.useRef(null),de=Se.useRef(null),Ke=O===0,ft=O+1<=S,rt=y.type,st=y.dismissible!==!1,Dt=y.className||"",Qt=y.descriptionClassName||"",pr=Se.useMemo(()=>M.findIndex(et=>et.toastId===y.id)||0,[M,y.id]),Dn=Se.useMemo(()=>{var et;return(et=y.closeButton)!=null?et:N},[y.closeButton,N]),Ks=Se.useMemo(()=>y.duration||$||ID,[y.duration,$]),$r=Se.useRef(0),Ni=Se.useRef(0),Xo=Se.useRef(0),Zn=Se.useRef(null),[Yo,Gs]=Y.split("-"),Wa=Se.useMemo(()=>M.reduce((et,jt,zt)=>zt>=pr?et:et+jt.height,0),[M,pr]),Hi=xie(),gs=y.invert||p,Jt=rt==="loading";Ni.current=Se.useMemo(()=>pr*Z+Wa,[pr,Wa]),Se.useEffect(()=>{Ne.current=Ks},[Ks]),Se.useEffect(()=>{xe(!0)},[]),Se.useEffect(()=>{let et=de.current;if(et){let jt=et.getBoundingClientRect().height;return oe(jt),_(zt=>[{toastId:y.id,height:jt,position:y.position},...zt]),()=>_(zt=>zt.filter(En=>En.toastId!==y.id))}},[_,y.id]),Se.useLayoutEffect(()=>{if(!ne)return;let et=de.current,jt=et.style.height;et.style.height="auto";let zt=et.getBoundingClientRect().height;et.style.height=jt,oe(zt),_(En=>En.find(Pr=>Pr.toastId===y.id)?En.map(Pr=>Pr.toastId===y.id?{...Pr,height:zt}:Pr):[{toastId:y.id,height:zt,position:y.position},...En])},[ne,y.title,y.description,_,y.id]);let ni=Se.useCallback(()=>{ve(!0),yt(Ni.current),_(et=>et.filter(jt=>jt.toastId!==y.id)),setTimeout(()=>{P(y)},Rie)},[y,P,_,Ni]);Se.useEffect(()=>{if(y.promise&&rt==="loading"||y.duration===1/0||y.type==="loading")return;let et;return I||b||K&&Hi?(()=>{if(Xo.current<$r.current){let jt=new Date().getTime()-$r.current;Ne.current=Ne.current-jt}Xo.current=new Date().getTime()})():Ne.current!==1/0&&($r.current=new Date().getTime(),et=setTimeout(()=>{var jt;(jt=y.onAutoClose)==null||jt.call(y,y),ni()},Ne.current)),()=>clearTimeout(et)},[I,b,y,rt,K,Hi,ni]),Se.useEffect(()=>{y.delete&&ni()},[ni,y.delete]);function Xs(){var et,jt,zt;return R!=null&&R.loading?Se.createElement("div",{className:Ss(H?.loader,(et=y?.classNames)==null?void 0:et.loader,"sonner-loader"),"data-visible":rt==="loading"},R.loading):k?Se.createElement("div",{className:Ss(H?.loader,(jt=y?.classNames)==null?void 0:jt.loader,"sonner-loader"),"data-visible":rt==="loading"},k):Se.createElement(hie,{className:Ss(H?.loader,(zt=y?.classNames)==null?void 0:zt.loader),visible:rt==="loading"})}return Se.createElement("li",{tabIndex:0,ref:de,className:Ss(L,Dt,H?.toast,(e=y?.classNames)==null?void 0:e.toast,H?.default,H?.[rt],(n=y?.classNames)==null?void 0:n[rt]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:C,"data-styled":!(y.jsx||y.unstyled||x),"data-mounted":ne,"data-promise":!!y.promise,"data-swiped":Ze,"data-removed":ae,"data-visible":ft,"data-y-position":Yo,"data-x-position":Gs,"data-index":O,"data-front":Ke,"data-swiping":Te,"data-dismissible":st,"data-type":rt,"data-invert":gs,"data-swipe-out":Ie,"data-swipe-direction":te,"data-expanded":!!(I||Q&&ne),style:{"--index":O,"--toasts-before":O,"--z-index":z.length-O,"--offset":`${ae?Fe:Ni.current}px`,"--initial-height":Q?"auto":`${dt}px`,...A,...y.style},onDragEnd:()=>{me(!1),G(null),Zn.current=null},onPointerDown:et=>{Jt||!st||(Xe.current=new Date,yt(Ni.current),et.target.setPointerCapture(et.pointerId),et.target.tagName!=="BUTTON"&&(me(!0),Zn.current={x:et.clientX,y:et.clientY}))},onPointerUp:()=>{var et,jt,zt,En;if(Ie||!st)return;Zn.current=null;let Pr=Number(((et=de.current)==null?void 0:et.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ar=Number(((jt=de.current)==null?void 0:jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ir=new Date().getTime()-((zt=Xe.current)==null?void 0:zt.getTime()),On=J==="x"?Pr:Ar,Si=Math.abs(On)/Ir;if(Math.abs(On)>=kie||Si>.11){yt(Ni.current),(En=y.onDismiss)==null||En.call(y,y),ie(J==="x"?Pr>0?"right":"left":Ar>0?"down":"up"),ni(),De(!0),ct(!1);return}me(!1),G(null)},onPointerMove:et=>{var jt,zt,En,Pr;if(!Zn.current||!st||((jt=window.getSelection())==null?void 0:jt.toString().length)>0)return;let Ar=et.clientY-Zn.current.y,Ir=et.clientX-Zn.current.x,On=(zt=t.swipeDirections)!=null?zt:Die(Y);!J&&(Math.abs(Ir)>1||Math.abs(Ar)>1)&&G(Math.abs(Ir)>Math.abs(Ar)?"x":"y");let Si={x:0,y:0};J==="y"?(On.includes("top")||On.includes("bottom"))&&(On.includes("top")&&Ar<0||On.includes("bottom")&&Ar>0)&&(Si.y=Ar):J==="x"&&(On.includes("left")||On.includes("right"))&&(On.includes("left")&&Ir<0||On.includes("right")&&Ir>0)&&(Si.x=Ir),(Math.abs(Si.x)>0||Math.abs(Si.y)>0)&&ct(!0),(En=de.current)==null||En.style.setProperty("--swipe-amount-x",`${Si.x}px`),(Pr=de.current)==null||Pr.style.setProperty("--swipe-amount-y",`${Si.y}px`)}},Dn&&!y.jsx?Se.createElement("button",{"aria-label":U,"data-disabled":Jt,"data-close-button":!0,onClick:Jt||!st?()=>{}:()=>{var et;ni(),(et=y.onDismiss)==null||et.call(y,y)},className:Ss(H?.closeButton,(i=y?.classNames)==null?void 0:i.closeButton)},(s=R?.close)!=null?s:vie):null,y.jsx||E.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:Se.createElement(Se.Fragment,null,rt||y.icon||y.promise?Se.createElement("div",{"data-icon":"",className:Ss(H?.icon,(a=y?.classNames)==null?void 0:a.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Xs():null,y.type!=="loading"?y.icon||R?.[rt]||die(rt):null):null,Se.createElement("div",{"data-content":"",className:Ss(H?.content,(l=y?.classNames)==null?void 0:l.content)},Se.createElement("div",{"data-title":"",className:Ss(H?.title,(c=y?.classNames)==null?void 0:c.title)},typeof y.title=="function"?y.title():y.title),y.description?Se.createElement("div",{"data-description":"",className:Ss(B,Qt,H?.description,(d=y?.classNames)==null?void 0:d.description)},typeof y.description=="function"?y.description():y.description):null),E.isValidElement(y.cancel)?y.cancel:y.cancel&&cv(y.cancel)?Se.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||j,onClick:et=>{var jt,zt;cv(y.cancel)&&st&&((zt=(jt=y.cancel).onClick)==null||zt.call(jt,et),ni())},className:Ss(H?.cancelButton,(f=y?.classNames)==null?void 0:f.cancelButton)},y.cancel.label):null,E.isValidElement(y.action)?y.action:y.action&&cv(y.action)?Se.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||D,onClick:et=>{var jt,zt;cv(y.action)&&((zt=(jt=y.action).onClick)==null||zt.call(jt,et),!et.defaultPrevented&&ni())},className:Ss(H?.actionButton,(m=y?.classNames)==null?void 0:m.actionButton)},y.action.label):null))};function jD(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Mie(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",l=s?Aie:Pie;function c(d){["top","right","bottom","left"].forEach(f=>{n[`${a}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${a}-${d}`]=l:n[`${a}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}var Lie=E.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:l,offset:c,mobileOffset:d,theme:f="light",richColors:m,duration:p,style:y,visibleToasts:x=Tie,toastOptions:b,dir:_=jD(),gap:S=jie,loadingIcon:M,icons:O,containerAriaLabel:z="Notifications",pauseWhenPageIsHidden:I}=t,[P,C]=Se.useState([]),N=Se.useMemo(()=>Array.from(new Set([r].concat(P.filter(K=>K.position).map(K=>K.position)))),[P,r]),[A,j]=Se.useState([]),[D,L]=Se.useState(!1),[B,$]=Se.useState(!1),[Y,Z]=Se.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),k=Se.useRef(null),Q=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=Se.useRef(null),R=Se.useRef(!1),U=Se.useCallback(K=>{C(J=>{var G;return(G=J.find(te=>te.id===K.id))!=null&&G.delete||ci.dismiss(K.id),J.filter(({id:te})=>te!==K.id)})},[]);return Se.useEffect(()=>ci.subscribe(K=>{if(K.dismiss){C(J=>J.map(G=>G.id===K.id?{...G,delete:!0}:G));return}setTimeout(()=>{uie.flushSync(()=>{C(J=>{let G=J.findIndex(te=>te.id===K.id);return G!==-1?[...J.slice(0,G),{...J[G],...K},...J.slice(G+1)]:[K,...J]})})})}),[]),Se.useEffect(()=>{if(f!=="system"){Z(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:J})=>{Z(J?"dark":"light")})}catch{K.addListener(({matches:G})=>{try{Z(G?"dark":"light")}catch(te){console.error(te)}})}},[f]),Se.useEffect(()=>{P.length<=1&&L(!1)},[P]),Se.useEffect(()=>{let K=J=>{var G,te;i.every(ie=>J[ie]||J.code===ie)&&(L(!0),(G=k.current)==null||G.focus()),J.code==="Escape"&&(document.activeElement===k.current||(te=k.current)!=null&&te.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[i]),Se.useEffect(()=>{if(k.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,R.current=!1)}},[k.current]),Se.createElement("section",{ref:e,"aria-label":`${z} ${Q}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},N.map((K,J)=>{var G;let[te,ie]=K.split("-");return P.length?Se.createElement("ol",{key:K,dir:_==="auto"?jD():_,tabIndex:-1,ref:k,className:l,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":te,"data-lifted":D&&P.length>1&&!s,"data-x-position":ie,style:{"--front-toast-height":`${((G=A[0])==null?void 0:G.height)||0}px`,"--width":`${Iie}px`,"--gap":`${S}px`,...y,...Mie(c,d)},onBlur:ne=>{R.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(R.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||R.current||(R.current=!0,H.current=ne.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{B||L(!1)},onDragEnd:()=>L(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},P.filter(ne=>!ne.position&&J===0||ne.position===K).map((ne,xe)=>{var ae,ve;return Se.createElement(Oie,{key:ne.id,icons:O,index:xe,toast:ne,defaultRichColors:m,duration:(ae=b?.duration)!=null?ae:p,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:n,visibleToasts:x,closeButton:(ve=b?.closeButton)!=null?ve:a,interacting:B,position:K,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,removeToast:U,toasts:P.filter(Te=>Te.position==ne.position),heights:A.filter(Te=>Te.position==ne.position),setHeights:j,expandByDefault:s,gap:S,loadingIcon:M,expanded:D,pauseWhenPageIsHidden:I,swipeDirections:t.swipeDirections})})):null}))});const kD={BTC:"https://coin-images.coingecko.com/coins/images/1/large/bitcoin.png",ETH:"https://coin-images.coingecko.com/coins/images/279/large/ethereum.png",USDT:"https://coin-images.coingecko.com/coins/images/325/large/Tether.png",TETHER:"https://coin-images.coingecko.com/coins/images/325/large/Tether.png",BNB:"https://coin-images.coingecko.com/coins/images/825/large/bnb-icon2_2x.png",SOL:"https://coin-images.coingecko.com/coins/images/4128/large/solana.png",XRP:"https://coin-images.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png",ADA:"https://coin-images.coingecko.com/coins/images/975/large/cardano.png",AVAX:"https://coin-images.coingecko.com/coins/images/12559/large/Avalanche_Circle_RedWhite_Trans.png",DOGE:"https://coin-images.coingecko.com/coins/images/5/large/dogecoin.png",DOT:"https://coin-images.coingecko.com/coins/images/12171/large/polkadot.png",MATIC:"https://coin-images.coingecko.com/coins/images/4713/large/matic-token-icon.png",LINK:"https://coin-images.coingecko.com/coins/images/877/large/chainlink-new-logo.png",UNI:"https://coin-images.coingecko.com/coins/images/12504/large/uniswap-uni.png",LTC:"https://coin-images.coingecko.com/coins/images/2/large/litecoin.png",ATOM:"https://coin-images.coingecko.com/coins/images/1481/large/cosmos_hub.png",XLM:"https://coin-images.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png",TRX:"https://coin-images.coingecko.com/coins/images/1094/large/tron-logo.png",SHIB:"https://coin-images.coingecko.com/coins/images/11939/large/shiba.png",WBTC:"https://coin-images.coingecko.com/coins/images/7598/large/wrapped_bitcoin_wbtc.png",DAI:"https://coin-images.coingecko.com/coins/images/9956/large/4943.png",LEO:"https://coin-images.coingecko.com/coins/images/8418/large/leo-token.png",USDC:"https://coin-images.coingecko.com/coins/images/6319/large/USD_Coin_icon.png",TON:"https://coin-images.coingecko.com/coins/images/17980/large/ton_symbol.png",ETC:"https://coin-images.coingecko.com/coins/images/453/large/ethereum-classic-logo.png",BCH:"https://coin-images.coingecko.com/coins/images/780/large/bitcoin-cash-circle.png",APT:"https://coin-images.coingecko.com/coins/images/26455/large/aptos_round.png",ARB:"https://coin-images.coingecko.com/coins/images/16547/large/photo_2023-03-29_21.47.00.jpeg",OP:"https://coin-images.coingecko.com/coins/images/25244/large/Optimism.png",ICP:"https://coin-images.coingecko.com/coins/images/14495/large/Internet_Computer_logo.png",FIL:"https://coin-images.coingecko.com/coins/images/12817/large/filecoin.png",NEAR:"https://coin-images.coingecko.com/coins/images/10365/large/near_icon.png",VET:"https://coin-images.coingecko.com/coins/images/1167/large/VeChain-Logo-768x725.png",ALGO:"https://coin-images.coingecko.com/coins/images/4380/large/download.png",INJ:"https://coin-images.coingecko.com/coins/images/12882/large/Secondary_Symbol.png",AAVE:"https://coin-images.coingecko.com/coins/images/12645/large/AAVE.png",MKR:"https://coin-images.coingecko.com/coins/images/1364/large/Mark_Maker.png",GRT:"https://coin-images.coingecko.com/coins/images/13397/large/Graph_Token.png",IMX:"https://coin-images.coingecko.com/coins/images/17233/large/imx.png",STX:"https://coin-images.coingecko.com/coins/images/2069/large/Stacks_logo_full.png",HBAR:"https://coin-images.coingecko.com/coins/images/3688/large/hbar.png",FTM:"https://coin-images.coingecko.com/coins/images/4001/large/Fantom.png",SAND:"https://coin-images.coingecko.com/coins/images/12129/large/sandbox_logo.jpg",MANA:"https://coin-images.coingecko.com/coins/images/878/large/decentraland-mana.png",AXS:"https://coin-images.coingecko.com/coins/images/13029/large/axie_infinity_logo.png",XTZ:"https://coin-images.coingecko.com/coins/images/976/large/Tezos-logo.png",THETA:"https://coin-images.coingecko.com/coins/images/2538/large/theta-token-logo.png",EOS:"https://coin-images.coingecko.com/coins/images/738/large/eos-eos-logo.png",XMR:"https://coin-images.coingecko.com/coins/images/69/large/monero_logo.png",FLOW:"https://coin-images.coingecko.com/coins/images/13446/large/flow.png",CHZ:"https://coin-images.coingecko.com/coins/images/8834/large/Chiliz.png",ZEC:"https://coin-images.coingecko.com/coins/images/486/large/circle-zcash-color.png",RUNE:"https://coin-images.coingecko.com/coins/images/6595/large/TC-Icon-Round-Dark.png",KLAY:"https://coin-images.coingecko.com/coins/images/9672/large/klaytn.png",DASH:"https://coin-images.coingecko.com/coins/images/19/large/dash-logo.png",NEO:"https://coin-images.coingecko.com/coins/images/480/large/NEO_512_512.png",IOTA:"https://coin-images.coingecko.com/coins/images/692/large/IOTA_Swirl.png",QNT:"https://coin-images.coingecko.com/coins/images/3370/large/5ZOu7brX_400x400.jpg",EGLD:"https://coin-images.coingecko.com/coins/images/12335/large/egld-token-logo.png",PEPE:"https://coin-images.coingecko.com/coins/images/29850/large/pepe-token.jpeg",FET:"https://coin-images.coingecko.com/coins/images/5681/large/Fetch.jpg",SUI:"https://coin-images.coingecko.com/coins/images/26375/large/sui_asset.jpeg",SEI:"https://coin-images.coingecko.com/coins/images/28205/large/sei_icon.jpg",BRL:"https://flagcdn.com/w80/br.png",USD:"https://flagcdn.com/w80/us.png",EUR:"https://flagcdn.com/w80/eu.png",GBP:"https://flagcdn.com/w80/gb.png"},Vie={BTC:"#F7931A",ETH:"#627EEA",USDT:"#26A17B",TETHER:"#26A17B",BNB:"#F3BA2F",SOL:"#14F195",XRP:"#23292F",ADA:"#0033AD",AVAX:"#E84142",DOGE:"#C2A633",DOT:"#E6007A",MATIC:"#8247E5",LINK:"#2A5ADA",UNI:"#FF007A",LTC:"#345D9D",ATOM:"#2E3148",XLM:"#14B6E7",TRX:"#EB0029",SHIB:"#FFA409",WBTC:"#F09242",DAI:"#F5AC37",LEO:"#D33C40",USDC:"#2775CA",TON:"#0088CC",ETC:"#328432",BCH:"#8DC351",APT:"#000000",ARB:"#28A0F0",OP:"#FF0420",ICP:"#29ABE2",FIL:"#0090FF",NEAR:"#000000",VET:"#15BDFF",ALGO:"#000000",INJ:"#00F2FE",AAVE:"#B6509E",MKR:"#1AAB9B",GRT:"#6747ED",IMX:"#0B0D23",STX:"#5546FF",HBAR:"#000000",FTM:"#13B5EC",SAND:"#00ADEF",MANA:"#FF2D55",AXS:"#0055D5",XTZ:"#2C7DF7",THETA:"#2AB8E6",EOS:"#000000",XMR:"#FF6600",FLOW:"#00EF8B",CHZ:"#CD0124",ZEC:"#F4B728",RUNE:"#00CCFF",KLAY:"#FF3D00",DASH:"#008CE7",NEO:"#58BF00",IOTA:"#000000",QNT:"#1A1A1A",EGLD:"#000000",PEPE:"#22C55E",FET:"#0714FE",SUI:"#6FBCF0",SEI:"#A91B1B"};function ht({symbol:t,size:e="md"}){const[n,r]=E.useState(!1),i={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},s=kD[t.toUpperCase()]||kD.BTC,a=Vie[t.toUpperCase()]||"#6B7280";return n?o.jsx("div",{className:`${i[e]} rounded-full flex items-center justify-center text-white shadow-md`,style:{backgroundColor:a},children:o.jsx("span",{className:e==="xs"?"text-[8px]":e==="sm"?"text-[10px]":e==="md"?"text-xs":"text-sm",children:t.toUpperCase().slice(0,3)})}):o.jsx("div",{className:`${i[e]} rounded-full overflow-hidden flex items-center justify-center bg-white shadow-md`,children:o.jsx("img",{src:s,alt:`${t} icon`,className:"w-full h-full object-cover",onError:()=>r(!0),crossOrigin:"anonymous",loading:"lazy"})})}function Fie({coinId:t,color:e}){const[n,r]=E.useState([]);E.useEffect(()=>{const l=async()=>{try{const d=await fetch(`https://api.coingecko.com/api/v3/coins/${t}/market_chart?vs_currency=usd&days=1&interval=hourly`);if(!d.ok){r(i());return}const f=d.headers.get("content-type");if(!f||!f.includes("application/json")){r(i());return}const m=await d.json();if(m.prices&&m.prices.length>0){const p=m.prices.map(y=>y[1]);r(p)}else r(i())}catch{r(i())}};l();const c=setInterval(l,15e3);return()=>clearInterval(c)},[t]);const i=()=>{const l=[];let c=100;for(let d=0;d<24;d++)c+=(Math.random()-.5)*10,l.push(c);return l},s=()=>{if(n.length===0)return"M0,20 L100,20";const l=Math.min(...n),d=Math.max(...n)-l||1;return`M${n.map((m,p)=>{const y=p/(n.length-1)*100,x=40-(m-l)/d*30-5;return`${y},${x}`}).join(" L")}`},a=()=>{if(n.length===0)return"M0,20 L100,20 L100,40 L0,40 Z";const l=Math.min(...n),d=Math.max(...n)-l||1;return`M${n.map((m,p)=>{const y=p/(n.length-1)*100,x=40-(m-l)/d*30-5;return`${y},${x}`}).join(" L")} L100,40 L0,40 Z`};return o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 40",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:`gradient-${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:e,stopOpacity:"0.3"}),o.jsx("stop",{offset:"100%",stopColor:e,stopOpacity:"0"})]})}),o.jsx("path",{d:a(),fill:`url(#gradient-${t})`}),o.jsx("path",{d:s(),fill:"none",stroke:e,strokeLinecap:"round",strokeWidth:"2"})]})}function bU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=bU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=bU(t))&&(r&&(r+=" "),r+=e);return r}var Bie=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function zP(t){if(typeof t!="string")return!1;var e=Bie;return e.includes(t)}var zie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Uie=new Set(zie);function wU(t){return typeof t!="string"?!1:Uie.has(t)}function _U(t){return typeof t=="string"&&t.startsWith("data-")}function Us(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(wU(n)||_U(n))&&(e[n]=t[n]);return e}function Eb(t){if(t==null)return null;if(E.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Us(e)}return typeof t=="object"&&!Array.isArray(t)?Us(t):null}function Ur(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(wU(n)||_U(n)||zP(n))&&(e[n]=t[n]);return e}function $ie(t){return t==null?null:E.isValidElement(t)?Ur(t.props):typeof t=="object"&&!Array.isArray(t)?Ur(t):null}var qie=["children","width","height","viewBox","className","style","title","desc"];function $N(){return $N=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$N.apply(null,arguments)}function Hie(t,e){if(t==null)return{};var n,r,i=Wie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Wie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var EU=E.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:c,desc:d}=t,f=Hie(t,qie),m=s||{width:r,height:i,x:0,y:0},p=Yt("recharts-surface",a);return E.createElement("svg",$N({},Ur(f),{className:p,width:r,height:i,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),E.createElement("title",null,c),E.createElement("desc",null,d),n)}),Kie=["children","className"];function qN(){return qN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qN.apply(null,arguments)}function Gie(t,e){if(t==null)return{};var n,r,i=Xie(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fs=E.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Gie(t,Kie),s=Yt("recharts-layer",r);return E.createElement("g",qN({className:s},Ur(i),{ref:e}),n)}),Yie=E.createContext(null);function en(t){return function(){return t}}const CU=Math.cos,B0=Math.sin,Hs=Math.sqrt,z0=Math.PI,Cb=2*z0,HN=Math.PI,WN=2*HN,Yc=1e-6,Qie=WN-Yc;function NU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Jie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return NU;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Zie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?NU:Jie(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,d=i-n,f=a-e,m=l-n,p=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Yc)if(!(Math.abs(m*c-d*f)>Yc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-a,x=i-l,b=c*c+d*d,_=y*y+x*x,S=Math.sqrt(b),M=Math.sqrt(p),O=s*Math.tan((HN-Math.acos((b+p-_)/(2*S*M)))/2),z=O/M,I=O/S;Math.abs(z-1)>Yc&&this._append`L${e+z*f},${n+z*m}`,this._append`A${s},${s},0,0,${+(m*y>f*x)},${this._x1=e+I*c},${this._y1=n+I*d}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,f=n+c,m=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Yc||Math.abs(this._y1-f)>Yc)&&this._append`L${d},${f}`,r&&(p<0&&(p=p%WN+WN),p>Qie?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=f}`:p>Yc&&this._append`A${r},${r},0,${+(p>=HN)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function UP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Zie(e)}function $P(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function SU(t){this._context=t}SU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Nb(t){return new SU(t)}function TU(t){return t[0]}function PU(t){return t[1]}function AU(t,e){var n=en(!0),r=null,i=Nb,s=null,a=UP(l);t=typeof t=="function"?t:t===void 0?TU:en(t),e=typeof e=="function"?e:e===void 0?PU:en(e);function l(c){var d,f=(c=$P(c)).length,m,p=!1,y;for(r==null&&(s=i(y=a())),d=0;d<=f;++d)!(d<f&&n(m=c[d],d,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(m,d,c),+e(m,d,c));if(y)return s=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:en(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:en(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:en(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function uv(t,e,n){var r=null,i=en(!0),s=null,a=Nb,l=null,c=UP(d);t=typeof t=="function"?t:t===void 0?TU:en(+t),e=typeof e=="function"?e:en(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?PU:en(+n);function d(m){var p,y,x,b=(m=$P(m)).length,_,S=!1,M,O=new Array(b),z=new Array(b);for(s==null&&(l=a(M=c())),p=0;p<=b;++p){if(!(p<b&&i(_=m[p],p,m))===S)if(S=!S)y=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=p-1;x>=y;--x)l.point(O[x],z[x]);l.lineEnd(),l.areaEnd()}S&&(O[p]=+t(_,p,m),z[p]=+e(_,p,m),l.point(r?+r(_,p,m):O[p],n?+n(_,p,m):z[p]))}if(M)return l=null,M+""||null}function f(){return AU().defined(i).curve(a).context(s)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:en(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:en(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:en(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:en(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:en(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:en(+m),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:en(!!m),d):i},d.curve=function(m){return arguments.length?(a=m,s!=null&&(l=a(s)),d):a},d.context=function(m){return arguments.length?(m==null?s=l=null:l=a(s=m),d):s},d}class IU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ese(t){return new IU(t,!0)}function tse(t){return new IU(t,!1)}const qP={draw(t,e){const n=Hs(e/z0);t.moveTo(n,0),t.arc(0,0,n,0,Cb)}},nse={draw(t,e){const n=Hs(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},jU=Hs(1/3),rse=jU*2,ise={draw(t,e){const n=Hs(e/rse),r=n*jU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},sse={draw(t,e){const n=Hs(e),r=-n/2;t.rect(r,r,n,n)}},ase=.8908130915292852,kU=B0(z0/10)/B0(7*z0/10),ose=B0(Cb/10)*kU,lse=-CU(Cb/10)*kU,cse={draw(t,e){const n=Hs(e*ase),r=ose*n,i=lse*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=Cb*s/5,l=CU(a),c=B0(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},y_=Hs(3),use={draw(t,e){const n=-Hs(e/(y_*3));t.moveTo(0,n*2),t.lineTo(-y_*n,-n),t.lineTo(y_*n,-n),t.closePath()}},es=-.5,ts=Hs(3)/2,KN=1/Hs(12),dse=(KN/2+1)*3,fse={draw(t,e){const n=Hs(e/dse),r=n/2,i=n*KN,s=r,a=n*KN+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(es*r-ts*i,ts*r+es*i),t.lineTo(es*s-ts*a,ts*s+es*a),t.lineTo(es*l-ts*c,ts*l+es*c),t.lineTo(es*r+ts*i,es*i-ts*r),t.lineTo(es*s+ts*a,es*a-ts*s),t.lineTo(es*l+ts*c,es*c-ts*l),t.closePath()}};function hse(t,e){let n=null,r=UP(i);t=typeof t=="function"?t:en(t||qP),e=typeof e=="function"?e:en(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:en(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:en(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function U0(){}function $0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function RU(t){this._context=t}RU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function mse(t){return new RU(t)}function DU(t){this._context=t}DU.prototype={areaStart:U0,areaEnd:U0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function pse(t){return new DU(t)}function OU(t){this._context=t}OU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function gse(t){return new OU(t)}function MU(t){this._context=t}MU.prototype={areaStart:U0,areaEnd:U0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function yse(t){return new MU(t)}function RD(t){return t<0?-1:1}function DD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(RD(s)+RD(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function OD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function v_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function q0(t){this._context=t}q0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:v_(this,this._t0,OD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,v_(this,OD(this,n=DD(this,t,e)),n);break;default:v_(this,this._t0,n=DD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function LU(t){this._context=new VU(t)}(LU.prototype=Object.create(q0.prototype)).point=function(t,e){q0.prototype.point.call(this,e,t)};function VU(t){this._context=t}VU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function vse(t){return new q0(t)}function xse(t){return new LU(t)}function FU(t){this._context=t}FU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=MD(t),i=MD(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function MD(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function bse(t){return new FU(t)}function Sb(t,e){this._context=t,this._t=e}Sb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function wse(t){return new Sb(t,.5)}function _se(t){return new Sb(t,0)}function Ese(t){return new Sb(t,1)}function Vu(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function GN(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Cse(t,e){return t[e]}function Nse(t){const e=[];return e.key=t,e}function Sse(){var t=en([]),e=GN,n=Vu,r=Cse;function i(s){var a=Array.from(t.apply(this,arguments),Nse),l,c=a.length,d=-1,f;for(const m of s)for(l=0,++d;l<c;++l)(a[l][d]=[0,+r(m,a[l].key,d,s)]).data=m;for(l=0,f=$P(e(a));l<c;++l)a[f[l]].index=l;return n(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:en(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:en(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?GN:typeof s=="function"?s:en(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Vu,i):n},i}function Tse(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Vu(t,e)}}function Pse(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Vu(t,e)}}function Ase(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,c=0,d=0;l<a;++l){for(var f=t[e[l]],m=f[r][1]||0,p=f[r-1][1]||0,y=(m-p)/2,x=0;x<l;++x){var b=t[e[x]],_=b[r][1]||0,S=b[r-1][1]||0;y+=_-S}c+=m,d+=y*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Vu(t,e)}}var x_={},b_={},LD;function Ise(){return LD||(LD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(b_)),b_}var w_={},VD;function BU(){return VD||(VD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(w_)),w_}var __={},FD;function HP(){return FD||(FD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(__)),__}var E_={},C_={},BD;function jse(){return BD||(BD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(C_)),C_}var zD;function WP(){return zD||(zD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jse(),n=HP();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let l=0,c="",d="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),l++);l<a;){const m=i[l];d?m==="\\"&&l+1<a?(l++,c+=i[l]):m===d?d="":c+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,s.push(c),c=""):c+=m:m==="["?(f=!0,c&&(s.push(c),c="")):m==="."?c&&(s.push(c),c=""):c+=m,l++}return c&&s.push(c),s}t.toPath=r})(E_)),E_}var UD;function KP(){return UD||(UD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ise(),n=BU(),r=HP(),i=WP();function s(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?n.isDeepKey(c)?s(l,i.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const f=l[c];return f===void 0?d:f}default:{if(Array.isArray(c))return a(l,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?d:f}}}function a(l,c,d){if(c.length===0)return d;let f=l;for(let m=0;m<c.length;m++){if(f==null||e.isUnsafeProperty(c[m]))return d;f=f[c[m]]}return f===void 0?d:f}t.get=s})(x_)),x_}var N_,$D;function kse(){return $D||($D=1,N_=KP().get),N_}var Rse=kse();const Tb=bi(Rse);var Dse=4;function Fl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dse,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Tn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,a)=>{var l=n[a-1];return typeof l=="string"?i+l+s:l!==void 0?i+Fl(l)+s:i+s},"")}var Os=t=>t===0?0:t>0?1:-1,Fa=t=>typeof t=="number"&&t!=+t,Fu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Je=t=>(typeof t=="number"||t instanceof Number)&&!Fa(t),Ba=t=>Je(t)||typeof t=="string",Ose=0,Ip=t=>{var e=++Ose;return"".concat(t||"").concat(e)},ic=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(e)&&typeof e!="string")return r;var s;if(Fu(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Fa(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},zU=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Bn(t,e,n){return Je(t)&&Je(e)?Fl(t+n*(e-t)):e}function UU(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Tb(r,e))===n)}var dr=t=>t===null||typeof t>"u",bg=t=>dr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Pa(t){return t!=null}function ed(){}var Mse=["type","size","sizeType"];function XN(){return XN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XN.apply(null,arguments)}function qD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qD(Object(n),!0).forEach(function(r){Lse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lse(t,e,n){return(e=Vse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vse(t){var e=Fse(t,"string");return typeof e=="symbol"?e:e+""}function Fse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bse(t,e){if(t==null)return{};var n,r,i=zse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function zse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var $U={symbolCircle:qP,symbolCross:nse,symbolDiamond:ise,symbolSquare:sse,symbolStar:cse,symbolTriangle:use,symbolWye:fse},Use=Math.PI/180,$se=t=>{var e="symbol".concat(bg(t));return $U[e]||qP},qse=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Use;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Hse=(t,e)=>{$U["symbol".concat(bg(t))]=e},qU=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Bse(t,Mse),s=HD(HD({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var p=$se(a),y=hse().type(p).size(qse(n,r,a)),x=y();if(x!==null)return x},{className:c,cx:d,cy:f}=s,m=Ur(s);return Je(d)&&Je(f)&&Je(n)?E.createElement("path",XN({},m,{className:Yt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};qU.registerSymbol=Hse;var HU=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,GP=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(E.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{zP(i)&&(r[i]=(s=>n[i](n,s)))}),r},Wse=(t,e,n)=>r=>(t(e,n,r),null),Kse=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];zP(i)&&typeof s=="function"&&(r||(r={}),r[i]=Wse(s,e,n))}),r};function WD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gse(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WD(Object(n),!0).forEach(function(r){Xse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xse(t,e,n){return(e=Yse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yse(t){var e=Qse(t,"string");return typeof e=="symbol"?e:e+""}function Qse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _i(t,e){var n=Gse({},t),r=e,i=Object.keys(e),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}var S_={},T_={},KD;function Jse(){return KD||(KD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a,s,n);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(T_)),T_}var P_={},GD;function Zse(){return GD||(GD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(P_)),P_}var A_={},XD;function WU(){return XD||(XD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(A_)),A_}var I_={},j_={},k_={},YD;function eae(){return YD||(YD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(k_)),k_}var QD;function XP(){return QD||(QD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eae();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(j_)),j_}var R_={},JD;function tae(){return JD||(JD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(R_)),R_}var ZD;function nae(){return ZD||(ZD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XP(),n=tae();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(I_)),I_}var D_={},O_={},e5;function rae(){return e5||(e5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KP();function n(r){return function(i){return e.get(i,r)}}t.property=n})(O_)),O_}var M_={},L_={},V_={},F_={},t5;function KU(){return t5||(t5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(F_)),F_}var B_={},n5;function GU(){return n5||(n5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(B_)),B_}var z_={},r5;function XU(){return r5||(r5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(z_)),z_}var i5;function iae(){return i5||(i5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=KU(),n=GU(),r=XU();function i(f,m,p){return typeof p!="function"?i(f,m,()=>{}):s(f,m,function y(x,b,_,S,M,O){const z=p(x,b,_,S,M,O);return z!==void 0?!!z:s(x,b,y,O)},new Map)}function s(f,m,p,y){if(m===f)return!0;switch(typeof m){case"object":return a(f,m,p,y);case"function":return Object.keys(m).length>0?s(f,{...m},p,y):r.isEqualsSameValueZero(f,m);default:return e.isObject(f)?typeof m=="string"?m==="":!0:r.isEqualsSameValueZero(f,m)}}function a(f,m,p,y){if(m==null)return!0;if(Array.isArray(m))return c(f,m,p,y);if(m instanceof Map)return l(f,m,p,y);if(m instanceof Set)return d(f,m,p,y);const x=Object.keys(m);if(f==null||n.isPrimitive(f))return x.length===0;if(x.length===0)return!0;if(y?.has(m))return y.get(m)===f;y?.set(m,f);try{for(let b=0;b<x.length;b++){const _=x[b];if(!n.isPrimitive(f)&&!(_ in f)||m[_]===void 0&&f[_]!==void 0||m[_]===null&&f[_]!==null||!p(f[_],m[_],_,f,m,y))return!1}return!0}finally{y?.delete(m)}}function l(f,m,p,y){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,b]of m.entries()){const _=f.get(x);if(p(_,b,x,f,m,y)===!1)return!1}return!0}function c(f,m,p,y){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let b=0;b<m.length;b++){const _=m[b];let S=!1;for(let M=0;M<f.length;M++){if(x.has(M))continue;const O=f[M];let z=!1;if(p(O,_,b,f,m,y)&&(z=!0),z){x.add(M),S=!0;break}}if(!S)return!1}return!0}function d(f,m,p,y){return m.size===0?!0:f instanceof Set?c([...f],[...m],p,y):!1}t.isMatchWith=i,t.isSetMatch=d})(V_)),V_}var s5;function YU(){return s5||(s5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iae();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(L_)),L_}var U_={},$_={},q_={},a5;function sae(){return a5||(a5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(q_)),q_}var H_={},o5;function YP(){return o5||(o5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(H_)),H_}var W_={},l5;function QU(){return l5||(l5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",m="[object Function]",p="[object ArrayBuffer]",y="[object Object]",x="[object Error]",b="[object DataView]",_="[object Uint8Array]",S="[object Uint8ClampedArray]",M="[object Uint16Array]",O="[object Uint32Array]",z="[object BigUint64Array]",I="[object Int8Array]",P="[object Int16Array]",C="[object Int32Array]",N="[object BigInt64Array]",A="[object Float32Array]",j="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=p,t.arrayTag=f,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=z,t.booleanTag=i,t.dataViewTag=b,t.dateTag=l,t.errorTag=x,t.float32ArrayTag=A,t.float64ArrayTag=j,t.functionTag=m,t.int16ArrayTag=P,t.int32ArrayTag=C,t.int8ArrayTag=I,t.mapTag=c,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=M,t.uint32ArrayTag=O,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=S})(W_)),W_}var K_={},c5;function aae(){return c5||(c5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(K_)),K_}var u5;function JU(){return u5||(u5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sae(),n=YP(),r=QU(),i=GU(),s=aae();function a(f,m){return l(f,void 0,f,new Map,m)}function l(f,m,p,y=new Map,x=void 0){const b=x?.(f,m,p,y);if(b!==void 0)return b;if(i.isPrimitive(f))return f;if(y.has(f))return y.get(f);if(Array.isArray(f)){const _=new Array(f.length);y.set(f,_);for(let S=0;S<f.length;S++)_[S]=l(f[S],S,p,y,x);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;y.set(f,_);for(const[S,M]of f)_.set(S,l(M,S,p,y,x));return _}if(f instanceof Set){const _=new Set;y.set(f,_);for(const S of f)_.add(l(S,void 0,p,y,x));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);y.set(f,_);for(let S=0;S<f.length;S++)_[S]=l(f[S],S,p,y,x);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return y.set(f,_),c(_,f,p,y,x),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return y.set(f,_),c(_,f,p,y,x),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return y.set(f,_),c(_,f,p,y,x),_}if(f instanceof Error){const _=new f.constructor;return y.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,c(_,f,p,y,x),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return y.set(f,_),c(_,f,p,y,x),_}if(f instanceof Number){const _=new Number(f.valueOf());return y.set(f,_),c(_,f,p,y,x),_}if(f instanceof String){const _=new String(f.valueOf());return y.set(f,_),c(_,f,p,y,x),_}if(typeof f=="object"&&d(f)){const _=Object.create(Object.getPrototypeOf(f));return y.set(f,_),c(_,f,p,y,x),_}return f}function c(f,m,p=f,y,x){const b=[...Object.keys(m),...e.getSymbols(m)];for(let _=0;_<b.length;_++){const S=b[_],M=Object.getOwnPropertyDescriptor(f,S);(M==null||M.writable)&&(f[S]=l(m[S],S,p,y,x))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=c})($_)),$_}var d5;function oae(){return d5||(d5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JU();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(U_)),U_}var f5;function lae(){return f5||(f5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YU(),n=oae();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(M_)),M_}var G_={},X_={},Y_={},h5;function cae(){return h5||(h5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JU(),n=YP(),r=QU();function i(s,a){return e.cloneDeepWith(s,(l,c,d,f)=>{const m=a?.(l,c,d,f);if(m!==void 0)return m;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const p={};return f.set(s,p),e.copyProperties(p,s,d,f),p}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new s.constructor(s?.valueOf());return e.copyProperties(p,s),p}case r.argumentsTag:{const p={};return e.copyProperties(p,s),p.length=s.length,p[Symbol.iterator]=s[Symbol.iterator],p}default:return}}})}t.cloneDeepWith=i})(Y_)),Y_}var m5;function uae(){return m5||(m5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cae();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(X_)),X_}var Q_={},J_={},p5;function ZU(){return p5||(p5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(J_)),J_}var Z_={},g5;function dae(){return g5||(g5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YP();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(Z_)),Z_}var y5;function fae(){return y5||(y5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BU(),n=ZU(),r=dae(),i=WP();function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&a?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let d=a;for(let f=0;f<c.length;f++){const m=c[f];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=s})(Q_)),Q_}var v5;function hae(){return v5||(v5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YU(),n=HP(),r=uae(),i=KP(),s=fae();function a(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(d){const f=i.get(d,l);return f===void 0?s.has(d,l):c===void 0?f===void 0:e.isMatch(f,c)}}t.matchesProperty=a})(G_)),G_}var x5;function mae(){return x5||(x5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WU(),n=rae(),r=lae(),i=hae();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(D_)),D_}var b5;function pae(){return b5||(b5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jse(),n=Zse(),r=WU(),i=nae(),s=mae();function a(l,c=r.identity){return i.isArrayLikeObject(l)?e.uniqBy(Array.from(l),n.ary(s.iteratee(c),1)):[]}t.uniqBy=a})(S_)),S_}var eE,w5;function gae(){return w5||(w5=1,eE=pae().uniqBy),eE}var yae=gae();const _5=bi(yae);function vae(t,e,n){return e===!0?_5(t,n):typeof e=="function"?_5(t,e):t}var tE={exports:{}},nE={},rE={exports:{}},iE={};var E5;function xae(){if(E5)return iE;E5=1;var t=Zr();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(m,p){var y=p(),x=r({inst:{value:y,getSnapshot:p}}),b=x[0].inst,_=x[1];return s(function(){b.value=y,b.getSnapshot=p,c(b)&&_({inst:b})},[m,y,p]),i(function(){return c(b)&&_({inst:b}),m(function(){c(b)&&_({inst:b})})},[m]),a(y),y}function c(m){var p=m.getSnapshot;m=m.value;try{var y=p();return!n(m,y)}catch{return!0}}function d(m,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return iE.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,iE}var C5;function bae(){return C5||(C5=1,rE.exports=xae()),rE.exports}var N5;function wae(){if(N5)return nE;N5=1;var t=Zr(),e=bae();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return nE.useSyncExternalStoreWithSelector=function(d,f,m,p,y){var x=s(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=l(function(){function S(P){if(!M){if(M=!0,O=P,P=p(P),y!==void 0&&b.hasValue){var C=b.value;if(y(C,P))return z=C}return z=P}if(C=z,r(O,P))return C;var N=p(P);return y!==void 0&&y(C,N)?(O=P,C):(O=P,z=N)}var M=!1,O,z,I=m===void 0?null:m;return[function(){return S(f())},I===null?void 0:function(){return S(I())}]},[f,m,p,y]);var _=i(d,x[0],x[1]);return a(function(){b.hasValue=!0,b.value=_},[_]),c(_),_},nE}var S5;function _ae(){return S5||(S5=1,tE.exports=wae()),tE.exports}var Eae=_ae(),QP=E.createContext(null),Cae=t=>t,Sr=()=>{var t=E.useContext(QP);return t?t.store.dispatch:Cae},Qv=()=>{},Nae=()=>Qv,Sae=(t,e)=>t===e;function mt(t){var e=E.useContext(QP),n=E.useMemo(()=>e?r=>{if(r!=null)return t(r)}:Qv,[e,t]);return Eae.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:Nae,e?e.store.getState:Qv,e?e.store.getState:Qv,n,Sae)}function Tae(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function Pae(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function Aae(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var T5=t=>Array.isArray(t)?t:[t];function Iae(t){const e=Array.isArray(t[0])?t[0]:t;return Aae(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function jae(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var kae=class{constructor(t){this.value=t}deref(){return this.value}},Rae=typeof WeakRef<"u"?WeakRef:kae,Dae=0,P5=1;function dv(){return{s:Dae,v:void 0,o:null,p:null}}function e8(t,e={}){let n=dv();const{resultEqualityCheck:r}=e;let i,s=0;function a(){let l=n;const{length:c}=arguments;for(let m=0,p=c;m<p;m++){const y=arguments[m];if(typeof y=="function"||typeof y=="object"&&y!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const b=x.get(y);b===void 0?(l=dv(),x.set(y,l)):l=b}else{let x=l.p;x===null&&(l.p=x=new Map);const b=x.get(y);b===void 0?(l=dv(),x.set(y,l)):l=b}}const d=l;let f;if(l.s===P5)f=l.v;else if(f=t.apply(null,arguments),s++,r){const m=i?.deref?.()??i;m!=null&&r(m,f)&&(f=m,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new Rae(f):f}return d.s=P5,d.v=f,f}return a.clearCache=()=>{n=dv(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Oae(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,l,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),Tae(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...c},{memoize:m,memoizeOptions:p=[],argsMemoize:y=e8,argsMemoizeOptions:x=[]}=f,b=T5(p),_=T5(x),S=Iae(i),M=m(function(){return s++,d.apply(null,arguments)},...b),O=y(function(){a++;const I=jae(S,arguments);return l=M.apply(null,I),l},..._);return Object.assign(O,{resultFunc:d,memoizedResultFunc:M,dependencies:S,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var ye=Oae(e8),Mae=Object.assign((t,e=ye)=>{Pae(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,l,c)=>(a[n[c]]=l,a),{}))},{withTypes:()=>Mae}),sE={},aE={},oE={},A5;function Lae(){return A5||(A5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};t.compareValues=n})(oE)),oE}var lE={},cE={},I5;function t8(){return I5||(I5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(cE)),cE}var j5;function Vae(){return j5||(j5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t8(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(lE)),lE}var k5;function Fae(){return k5||(k5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Lae(),n=Vae(),r=WP();function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const d=(y,x)=>{let b=y;for(let _=0;_<x.length&&b!=null;++_)b=b[x[_]];return b},f=(y,x)=>x==null||y==null?x:typeof y=="object"&&"key"in y?Object.hasOwn(x,y.key)?x[y.key]:d(x,y.path):typeof y=="function"?y(x):Array.isArray(y)?d(x,y):typeof x=="object"?x[y]:x,m=a.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return s.map(y=>({original:y,criteria:m.map(x=>f(x,y))})).slice().sort((y,x)=>{for(let b=0;b<m.length;b++){const _=e.compareValues(y.criteria[b],x.criteria[b],l[b]);if(_!==0)return _}return 0}).map(y=>y.original)}t.orderBy=i})(aE)),aE}var uE={},R5;function Bae(){return R5||(R5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(l,c)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&c<s?a(f,c+1):i.push(f)}};return a(n,0),i}t.flatten=e})(uE)),uE}var dE={},D5;function n8(){return D5||(D5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZU(),n=XP(),r=KU(),i=XU();function s(a,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.isEqualsSameValueZero(c[l],a):!1}t.isIterateeCall=s})(dE)),dE}var O5;function zae(){return O5||(O5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fae(),n=Bae(),r=n8();function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(sE)),sE}var fE,M5;function Uae(){return M5||(M5=1,fE=zae().sortBy),fE}var $ae=Uae();const Pb=bi($ae);var r8=t=>t.legend.settings,qae=t=>t.legend.size,Hae=t=>t.legend.payload;ye([Hae,r8],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Pb(r,n):r});var fv=1;function Wae(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=E.useState({height:0,left:0,top:0,width:0}),r=E.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>fv||Math.abs(a.left-e.left)>fv||Math.abs(a.top-e.top)>fv||Math.abs(a.width-e.width)>fv)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function br(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Kae=typeof Symbol=="function"&&Symbol.observable||"@@observable",L5=Kae,hE=()=>Math.random().toString(36).substring(7).split("").join("."),Gae={INIT:`@@redux/INIT${hE()}`,REPLACE:`@@redux/REPLACE${hE()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${hE()}`},H0=Gae;function JP(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function i8(t,e,n){if(typeof t!="function")throw new Error(br(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(br(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(br(1));return n(i8)(t,e)}let r=t,i=e,s=new Map,a=s,l=0,c=!1;function d(){a===s&&(a=new Map,s.forEach((_,S)=>{a.set(S,_)}))}function f(){if(c)throw new Error(br(3));return i}function m(_){if(typeof _!="function")throw new Error(br(4));if(c)throw new Error(br(5));let S=!0;d();const M=l++;return a.set(M,_),function(){if(S){if(c)throw new Error(br(6));S=!1,d(),a.delete(M),s=null}}}function p(_){if(!JP(_))throw new Error(br(7));if(typeof _.type>"u")throw new Error(br(8));if(typeof _.type!="string")throw new Error(br(17));if(c)throw new Error(br(9));try{c=!0,i=r(i,_)}finally{c=!1}return(s=a).forEach(M=>{M()}),_}function y(_){if(typeof _!="function")throw new Error(br(10));r=_,p({type:H0.REPLACE})}function x(){const _=m;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(br(11));function M(){const z=S;z.next&&z.next(f())}return M(),{unsubscribe:_(M)}},[L5](){return this}}}return p({type:H0.INIT}),{dispatch:p,subscribe:m,getState:f,replaceReducer:y,[L5]:x}}function Xae(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:H0.INIT})>"u")throw new Error(br(12));if(typeof n(void 0,{type:H0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(br(13))})}function s8(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{Xae(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const d={};for(let f=0;f<r.length;f++){const m=r[f],p=n[m],y=a[m],x=p(y,l);if(typeof x>"u")throw l&&l.type,new Error(br(14));d[m]=x,c=c||x!==y}return c=c||r.length!==Object.keys(a).length,c?d:a}}function W0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Yae(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(br(15))};const a={getState:i.getState,dispatch:(c,...d)=>s(c,...d)},l=t.map(c=>c(a));return s=W0(...l)(i.dispatch),{...i,dispatch:s}}}function a8(t){return JP(t)&&"type"in t&&typeof t.type=="string"}var o8=Symbol.for("immer-nothing"),V5=Symbol.for("immer-draftable"),Jr=Symbol.for("immer-state");function Is(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Vi=Object,Yf=Vi.getPrototypeOf,K0="constructor",Ab="prototype",YN="configurable",G0="enumerable",Jv="writable",jp="value",Po=t=>!!t&&!!t[Jr];function $s(t){return t?l8(t)||jb(t)||!!t[V5]||!!t[K0]?.[V5]||kb(t)||Rb(t):!1}var Qae=Vi[Ab][K0].toString(),F5=new WeakMap;function l8(t){if(!t||!ZP(t))return!1;const e=Yf(t);if(e===null||e===Vi[Ab])return!0;const n=Vi.hasOwnProperty.call(e,K0)&&e[K0];if(n===Object)return!0;if(!sf(n))return!1;let r=F5.get(n);return r===void 0&&(r=Function.toString.call(n),F5.set(n,r)),r===Qae}function Ib(t,e,n=!0){wg(t)===0?(n?Reflect.ownKeys(t):Vi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function wg(t){const e=t[Jr];return e?e.type_:jb(t)?1:kb(t)?2:Rb(t)?3:0}var B5=(t,e,n=wg(t))=>n===2?t.has(e):Vi[Ab].hasOwnProperty.call(t,e),QN=(t,e,n=wg(t))=>n===2?t.get(e):t[e],X0=(t,e,n,r=wg(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Jae(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var jb=Array.isArray,kb=t=>t instanceof Map,Rb=t=>t instanceof Set,ZP=t=>typeof t=="object",sf=t=>typeof t=="function",mE=t=>typeof t=="boolean";function Zae(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var co=t=>t.copy_||t.base_,eA=t=>t.modified_?t.copy_:t.base_;function JN(t,e){if(kb(t))return new Map(t);if(Rb(t))return new Set(t);if(jb(t))return Array[Ab].slice.call(t);const n=l8(t);if(e===!0||e==="class_only"&&!n){const r=Vi.getOwnPropertyDescriptors(t);delete r[Jr];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l[Jv]===!1&&(l[Jv]=!0,l[YN]=!0),(l.get||l.set)&&(r[a]={[YN]:!0,[Jv]:!0,[G0]:l[G0],[jp]:t[a]})}return Vi.create(Yf(t),r)}else{const r=Yf(t);if(r!==null&&n)return{...t};const i=Vi.create(r);return Vi.assign(i,t)}}function tA(t,e=!1){return Db(t)||Po(t)||!$s(t)||(wg(t)>1&&Vi.defineProperties(t,{set:hv,add:hv,clear:hv,delete:hv}),Vi.freeze(t),e&&Ib(t,(n,r)=>{tA(r,!0)},!1)),t}function eoe(){Is(2)}var hv={[jp]:eoe};function Db(t){return t===null||!ZP(t)?!0:Vi.isFrozen(t)}var Y0="MapSet",ZN="Patches",z5="ArrayMethods",c8={};function Bu(t){const e=c8[t];return e||Is(0,t),e}var U5=t=>!!c8[t],kp,u8=()=>kp,toe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:U5(Y0)?Bu(Y0):void 0,arrayMethodsPlugin_:U5(z5)?Bu(z5):void 0});function $5(t,e){e&&(t.patchPlugin_=Bu(ZN),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function eS(t){tS(t),t.drafts_.forEach(noe),t.drafts_=null}function tS(t){t===kp&&(kp=t.parent_)}var q5=t=>kp=toe(kp,t);function noe(t){const e=t[Jr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function H5(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[Jr].modified_&&(eS(e),Is(4)),$s(t)&&(t=W5(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[Jr].base_,t,e)}else t=W5(e,n);return roe(e,t,!0),eS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==o8?t:void 0}function W5(t,e){if(Db(e))return e;const n=e[Jr];if(!n)return Q0(e,t.handledSet_,t);if(!Ob(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);h8(n,t)}return n.copy_}function roe(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&tA(e,n)}function d8(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Ob=(t,e)=>t.scope_===e,ioe=[];function f8(t,e,n,r){const i=co(t),s=t.type_;if(r!==void 0&&QN(i,r,s)===e){X0(i,r,n,s);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;Ib(i,(c,d)=>{if(Po(d)){const f=l.get(d)||[];f.push(c),l.set(d,f)}})}const a=t.draftLocations_.get(e)??ioe;for(const l of a)X0(i,l,n,s)}function soe(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!Ob(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const a=eA(s);f8(t,s.draft_??s,a,n),h8(s,i)})}function h8(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}d8(t)}}function aoe(t,e,n){const{scope_:r}=t;if(Po(n)){const i=n[Jr];Ob(i,r)&&i.callbacks_.push(function(){Zv(t);const a=eA(i);f8(t,n,a,e)})}else $s(n)&&t.callbacks_.push(function(){const s=co(t);t.type_===3?s.has(n)&&Q0(n,r.handledSet_,r):QN(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Q0(QN(t.copy_,e,t.type_),r.handledSet_,r)})}function Q0(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Po(t)||e.has(t)||!$s(t)||Db(t)||(e.add(t),Ib(t,(r,i)=>{if(Po(i)){const s=i[Jr];if(Ob(s,n)){const a=eA(s);X0(t,r,a,t.type_),d8(s)}}else $s(i)&&Q0(i,e,n)})),t}function ooe(t,e){const n=jb(t),r={type_:n?1:0,scope_:e?e.scope_:u8(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=J0;n&&(i=[r],s=Rp);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,[l,r]}var J0={get(t,e){if(e===Jr)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=co(t);if(!B5(i,e,t.type_))return loe(t,i,e);const s=i[e];if(t.finalized_||!$s(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Zae(e))return s;if(s===pE(t.base_,e)){Zv(t);const a=t.type_===1?+e:e,l=rS(t.scope_,s,t,a);return t.copy_[a]=l}return s},has(t,e){return e in co(t)},ownKeys(t){return Reflect.ownKeys(co(t))},set(t,e,n){const r=m8(co(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=pE(co(t),e),s=i?.[Jr];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Jae(n,i)&&(n!==void 0||B5(t.base_,e,t.type_)))return!0;Zv(t),nS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),aoe(t,e,n)),!0},deleteProperty(t,e){return Zv(t),pE(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),nS(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=co(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Jv]:!0,[YN]:t.type_!==1||e!=="length",[G0]:r[G0],[jp]:n[e]}},defineProperty(){Is(11)},getPrototypeOf(t){return Yf(t.base_)},setPrototypeOf(){Is(12)}},Rp={};for(let t in J0){let e=J0[t];Rp[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Rp.deleteProperty=function(t,e){return Rp.set.call(this,t,e,void 0)};Rp.set=function(t,e,n){return J0.set.call(this,t[0],e,n,t[0])};function pE(t,e){const n=t[Jr];return(n?co(n):t)[e]}function loe(t,e,n){const r=m8(e,n);return r?jp in r?r[jp]:r.get?.call(t.draft_):void 0}function m8(t,e){if(!(e in t))return;let n=Yf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Yf(n)}}function nS(t){t.modified_||(t.modified_=!0,t.parent_&&nS(t.parent_))}function Zv(t){t.copy_||(t.assigned_=new Map,t.copy_=JN(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var coe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(sf(n)&&!sf(r)){const a=r;r=n;const l=this;return function(d=a,...f){return l.produce(d,m=>r.call(this,m,...f))}}sf(r)||Is(6),i!==void 0&&!sf(i)&&Is(7);let s;if($s(n)){const a=q5(this),l=rS(a,n,void 0);let c=!0;try{s=r(l),c=!1}finally{c?eS(a):tS(a)}return $5(a,i),H5(s,a)}else if(!n||!ZP(n)){if(s=r(n),s===void 0&&(s=n),s===o8&&(s=void 0),this.autoFreeze_&&tA(s,!0),i){const a=[],l=[];Bu(ZN).generateReplacementPatches_(n,s,{patches_:a,inversePatches_:l}),i(a,l)}return s}else Is(1,n)},this.produceWithPatches=(n,r)=>{if(sf(n))return(l,...c)=>this.produceWithPatches(l,d=>n(d,...c));let i,s;return[this.produce(n,r,(l,c)=>{i=l,s=c}),i,s]},mE(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),mE(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),mE(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){$s(e)||Is(8),Po(e)&&(e=Fs(e));const n=q5(this),r=rS(n,e,void 0);return r[Jr].isManual_=!0,tS(n),r}finishDraft(e,n){const r=e&&e[Jr];(!r||!r.isManual_)&&Is(9);const{scope_:i}=r;return $5(i,n),H5(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=Bu(ZN).applyPatches_;return Po(e)?i(e,n):this.produce(e,s=>i(s,n))}};function rS(t,e,n,r){const[i,s]=kb(e)?Bu(Y0).proxyMap_(e,n):Rb(e)?Bu(Y0).proxySet_(e,n):ooe(e,n);return(n?.scope_??u8()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?soe(n,s,r):s.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:d}=c;s.modified_&&d&&d.generatePatches_(s,[],c)}),i}function Fs(t){return Po(t)||Is(10,t),p8(t)}function p8(t){if(!$s(t)||Db(t))return t;const e=t[Jr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=JN(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=JN(t,!0);return Ib(n,(i,s)=>{X0(n,i,p8(s))},r),e&&(e.finalized_=!1),n}var uoe=new coe,g8=uoe.produce;function y8(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var doe=y8(),foe=y8,hoe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?W0:W0.apply(null,arguments)};function hs(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Ui(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>a8(r)&&r.type===t,n}var v8=class Hm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Hm.prototype)}static get[Symbol.species](){return Hm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Hm(...e[0].concat(this)):new Hm(...e.concat(this))}};function K5(t){return $s(t)?g8(t,()=>{}):t}function mv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function moe(t){return typeof t=="boolean"}var poe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new v8;return n&&(moe(n)?a.push(doe):a.push(foe(n.extraArgument))),a},x8="RTK_autoBatch",fn=()=>t=>({payload:t,meta:{[x8]:!0}}),G5=t=>e=>{setTimeout(e,t)},b8=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:G5(10):t.type==="callback"?t.queueNotification:G5(t.timeout),d=()=>{a=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const m=()=>i&&f(),p=r.subscribe(m);return l.add(f),()=>{p(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[x8],s=!i,s&&(a||(a=!0,c(d))),r.dispatch(f)}finally{i=!0}}})},goe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new v8(t);return r&&i.push(b8(typeof r=="object"?r:void 0)),i};function yoe(t){const e=poe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(JP(n))l=s8(n);else throw new Error(Ui(1));let c;typeof r=="function"?c=r(e):c=e();let d=W0;i&&(d=hoe({trace:!1,...typeof i=="object"&&i}));const f=Yae(...c),m=goe(f);let p=typeof a=="function"?a(m):m();const y=d(...p);return i8(l,s,y)}function w8(t){const e={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(Ui(28));if(l in e)throw new Error(Ui(29));return e[l]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function voe(t){return typeof t=="function"}function xoe(t,e){let[n,r,i]=w8(e),s;if(voe(t))s=()=>K5(t());else{const l=K5(t);s=()=>l}function a(l=s(),c){let d=[n[c.type],...r.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,m)=>{if(m)if(Po(f)){const y=m(f,c);return y===void 0?f:y}else{if($s(f))return g8(f,p=>m(p,c));{const p=m(f,c);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},l)}return a.getInitialState=s,a}var boe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",woe=(t=21)=>{let e="",n=t;for(;n--;)e+=boe[Math.random()*64|0];return e},_oe=Symbol.for("rtk-slice-createasyncthunk");function Eoe(t,e){return`${t}/${e}`}function Coe({creators:t}={}){const e=t?.asyncThunk?.[_oe];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Ui(11));const a=(typeof r.reducers=="function"?r.reducers(Soe()):r.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(O,z){const I=typeof O=="string"?O:O.type;if(!I)throw new Error(Ui(12));if(I in c.sliceCaseReducersByType)throw new Error(Ui(13));return c.sliceCaseReducersByType[I]=z,d},addMatcher(O,z){return c.sliceMatchers.push({matcher:O,reducer:z}),d},exposeAction(O,z){return c.actionCreators[O]=z,d},exposeCaseReducer(O,z){return c.sliceCaseReducersByName[O]=z,d}};l.forEach(O=>{const z=a[O],I={reducerName:O,type:Eoe(i,O),createNotation:typeof r.reducers=="function"};Poe(z)?Ioe(I,z,d,e):Toe(I,z,d)});function f(){const[O={},z=[],I=void 0]=typeof r.extraReducers=="function"?w8(r.extraReducers):[r.extraReducers],P={...O,...c.sliceCaseReducersByType};return xoe(r.initialState,C=>{for(let N in P)C.addCase(N,P[N]);for(let N of c.sliceMatchers)C.addMatcher(N.matcher,N.reducer);for(let N of z)C.addMatcher(N.matcher,N.reducer);I&&C.addDefaultCase(I)})}const m=O=>O,p=new Map,y=new WeakMap;let x;function b(O,z){return x||(x=f()),x(O,z)}function _(){return x||(x=f()),x.getInitialState()}function S(O,z=!1){function I(C){let N=C[O];return typeof N>"u"&&z&&(N=mv(y,I,_)),N}function P(C=m){const N=mv(p,z,()=>new WeakMap);return mv(N,C,()=>{const A={};for(const[j,D]of Object.entries(r.selectors??{}))A[j]=Noe(D,C,()=>mv(y,C,_),z);return A})}return{reducerPath:O,getSelectors:P,get selectors(){return P(I)},selectSlice:I}}const M={name:i,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:_,...S(s),injectInto(O,{reducerPath:z,...I}={}){const P=z??s;return O.inject({reducerPath:P,reducer:b},I),{...M,...S(P,!0)}}};return M}}function Noe(t,e,n,r){function i(s,...a){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var Ei=Coe();function Soe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function Toe({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!Aoe(r))throw new Error(Ui(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?hs(t,a):hs(t))}function Poe(t){return t._reducerDefinitionType==="asyncThunk"}function Aoe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function Ioe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Ui(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:d,options:f}=n,m=i(t,s,f);r.exposeAction(e,m),a&&r.addCase(m.fulfilled,a),l&&r.addCase(m.pending,l),c&&r.addCase(m.rejected,c),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:a||pv,pending:l||pv,rejected:c||pv,settled:d||pv})}function pv(){}var joe="task",_8="listener",E8="completed",nA="cancelled",koe=`task-${nA}`,Roe=`task-${E8}`,iS=`${_8}-${nA}`,Doe=`${_8}-${E8}`,Mb=class{constructor(t){this.code=t,this.message=`${joe} ${nA} (reason: ${t})`}name="TaskAbortError";message},rA=(t,e)=>{if(typeof t!="function")throw new TypeError(Ui(32))},Z0=()=>{},C8=(t,e=Z0)=>(t.catch(e),t),N8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),yu=t=>{if(t.aborted)throw new Mb(t.reason)};function S8(t,e){let n=Z0;return new Promise((r,i)=>{const s=()=>i(new Mb(t.reason));if(t.aborted){s();return}n=N8(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Z0})}var Ooe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Mb?"cancelled":"rejected",error:n}}finally{e?.()}},ex=t=>e=>C8(S8(t,e).then(n=>(yu(t),n))),T8=t=>{const e=ex(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Ef}=Object,X5={},Lb="listenerMiddleware",Moe=(t,e)=>{const n=r=>N8(t,()=>r.abort(t.reason));return(r,i)=>{rA(r);const s=new AbortController;n(s);const a=Ooe(async()=>{yu(t),yu(s.signal);const l=await r({pause:ex(s.signal),delay:T8(s.signal),signal:s.signal});return yu(s.signal),l},()=>s.abort(Roe));return i?.autoJoin&&e.push(a.catch(Z0)),{result:ex(t)(a),cancel(){s.abort(koe)}}}},Loe=(t,e)=>{const n=async(r,i)=>{yu(e);let s=()=>{};const l=[new Promise((c,d)=>{let f=t({predicate:r,effect:(m,p)=>{p.unsubscribe(),c([m,p.getState(),p.getOriginalState()])}});s=()=>{f(),d()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await S8(e,Promise.race(l));return yu(e),c}finally{s()}};return(r,i)=>C8(n(r,i))},P8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=hs(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ui(21));return rA(s),{predicate:i,type:e,effect:s}},A8=Ef(t=>{const{type:e,predicate:n,effect:r}=P8(t);return{id:woe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ui(22))}}},{withTypes:()=>A8}),Y5=(t,e)=>{const{type:n,effect:r,predicate:i}=P8(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},sS=t=>{t.pending.forEach(e=>{e.abort(iS)})},Voe=(t,e)=>()=>{for(const n of e.keys())sS(n);t.clear()},Q5=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},I8=Ef(hs(`${Lb}/add`),{withTypes:()=>I8}),Foe=hs(`${Lb}/removeAll`),j8=Ef(hs(`${Lb}/remove`),{withTypes:()=>j8}),Boe=(...t)=>{console.error(`${Lb}/error`,...t)},_g=(t={})=>{const e=new Map,n=new Map,r=y=>{const x=n.get(y)??0;n.set(y,x+1)},i=y=>{const x=n.get(y)??1;x===1?n.delete(y):n.set(y,x-1)},{extra:s,onError:a=Boe}=t;rA(a);const l=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),x=>{y.unsubscribe(),x?.cancelActive&&sS(y)}),c=y=>{const x=Y5(e,y)??A8(y);return l(x)};Ef(c,{withTypes:()=>c});const d=y=>{const x=Y5(e,y);return x&&(x.unsubscribe(),y.cancelActive&&sS(x)),!!x};Ef(d,{withTypes:()=>d});const f=async(y,x,b,_)=>{const S=new AbortController,M=Loe(c,S.signal),O=[];try{y.pending.add(S),r(y),await Promise.resolve(y.effect(x,Ef({},b,{getOriginalState:_,condition:(z,I)=>M(z,I).then(Boolean),take:M,delay:T8(S.signal),pause:ex(S.signal),extra:s,signal:S.signal,fork:Moe(S.signal,O),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((z,I,P)=>{z!==S&&(z.abort(iS),P.delete(z))})},cancel:()=>{S.abort(iS),y.pending.delete(S)},throwIfCancelled:()=>{yu(S.signal)}})))}catch(z){z instanceof Mb||Q5(a,z,{raisedBy:"effect"})}finally{await Promise.all(O),S.abort(Doe),i(y),y.pending.delete(S)}},m=Voe(e,n);return{middleware:y=>x=>b=>{if(!a8(b))return x(b);if(I8.match(b))return c(b.payload);if(Foe.match(b)){m();return}if(j8.match(b))return d(b.payload);let _=y.getState();const S=()=>{if(_===X5)throw new Error(Ui(23));return _};let M;try{if(M=x(b),e.size>0){const O=y.getState(),z=Array.from(e.values());for(const I of z){let P=!1;try{P=I.predicate(b,O,_)}catch(C){P=!1,Q5(a,C,{raisedBy:"predicate"})}P&&f(I,b,y,S)}}}finally{_=X5}return M},startListening:c,stopListening:d,clearListeners:m}};function Ui(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var zoe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},k8=Ei({name:"chartLayout",initialState:zoe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Uoe,setLayout:$oe,setChartSize:qoe,setScale:Hoe}=k8.actions,Woe=k8.reducer;function R8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Mt(t){return Number.isFinite(t)}function sc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function J5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J5(Object(n),!0).forEach(function(r){Koe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Koe(t,e,n){return(e=Goe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Goe(t){var e=Xoe(t,"string");return typeof e=="symbol"?e:e+""}function Xoe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kn(t,e,n){return dr(t)||dr(e)?n:Ba(e)?Tb(t,e,n):typeof e=="function"?e(t):n}var Yoe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&Je(t[s]))return of(of({},t),{},{[s]:t[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&Je(t[a]))return of(of({},t),{},{[a]:t[a]+(i||0)})}return t},Ws=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Qoe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0,l=0;l<n;++l){var c=t[l],d=c?.[i];if(d!=null){var f=d[1],m=d[0],p=Fa(f)?m:f;p>=0?(d[0]=s,s+=p,d[1]=s):(d[0]=a,a+=p,d[1]=a)}}}},Joe=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0;a<n;++a){var l=t[a],c=l?.[i];if(c!=null){var d=Fa(c[1])?c[0]:c[1];d>=0?(c[0]=s,s+=d,c[1]=s):(c[0]=0,c[1]=0)}}}},Zoe={sign:Qoe,expand:Tse,none:Vu,silhouette:Pse,wiggle:Ase,positive:Joe},ele=(t,e,n)=>{var r,i=(r=Zoe[n])!==null&&r!==void 0?r:Vu,s=Sse().keys(e).value((l,c)=>Number(Kn(l,c,0))).order(GN).offset(i),a=s(t);return a.forEach((l,c)=>{l.forEach((d,f)=>{var m=Kn(t[f],e[c],0);Array.isArray(m)&&m.length===2&&Je(m[0])&&Je(m[1])&&(d[0]=m[0],d[1]=m[1])})}),a};function tle(t){return t==null?void 0:String(t)}function tx(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!dr(i[e.dataKey])){var l=UU(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var c=Kn(i,dr(a)?e.dataKey:a),d=e.scale.map(c);return Je(d)?d:null}var nle=t=>{var e=t.flat(2).filter(Je);return[Math.min(...e),Math.max(...e)]},rle=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],ile=(t,e,n)=>{if(t!=null)return rle(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:a}=s,l=a.reduce((c,d)=>{var f=R8(d,e,n),m=nle(f);return!Mt(m[0])||!Mt(m[1])?c:[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},Z5=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qf=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Pb(e,f=>f.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],d=i[a-1];s=Math.min((c?.coordinate||0)-(d?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function tO(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return of(of({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Vb(t,e){if(t)return String(t);if(typeof e=="string")return e}var sle=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},ale=(t,e)=>e==="centric"?t.angle:t.radius,zo=t=>t.layout.width,Uo=t=>t.layout.height,ole=t=>t.layout.scale,D8=t=>t.layout.margin,Fb=ye(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Bb=ye(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),lle="data-recharts-item-index",cle="data-recharts-item-id",Eg=60;function nO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nO(Object(n),!0).forEach(function(r){ule(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ule(t,e,n){return(e=dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=fle(t,"string");return typeof e=="symbol"?e:e+""}function fle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hle=t=>t.brush.height;function mle(t){var e=Bb(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Eg;return n+i}return n},0)}function ple(t){var e=Bb(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Eg;return n+i}return n},0)}function gle(t){var e=Fb(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function yle(t){var e=Fb(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Tr=ye([zo,Uo,D8,hle,mle,ple,gle,yle,r8,qae],(t,e,n,r,i,s,a,l,c,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+a,bottom:(n.bottom||0)+l},p=gv(gv({},m),f),y=p.bottom;p.bottom+=r,p=Yoe(p,c,d);var x=t-p.left-p.right,b=e-p.top-p.bottom;return gv(gv({brushBottom:y},p),{},{width:Math.max(x,0),height:Math.max(b,0)})}),vle=ye(Tr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),xle=ye(zo,Uo,(t,e)=>({x:0,y:0,width:t,height:e})),ble=E.createContext(null),Ci=()=>E.useContext(ble)!=null,zb=t=>t.brush,Ub=ye([zb,Tr,D8],(t,e,n)=>({height:t.height,x:Je(t.x)?t.x:e.left,y:Je(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Je(t.width)?t.width:e.width})),gE={},yE={},vE={},rO;function wle(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),f=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},m=()=>{d&&f(),b()};let p=null;const y=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},r)},x=()=>{p!==null&&(clearTimeout(p),p=null)},b=()=>{x(),a=void 0,l=null},_=()=>{f()},S=function(...M){if(i?.aborted)return;a=this,l=M;const O=p==null;y(),c&&O&&f()};return S.schedule=y,S.cancel=b,S.flush=_,i?.addEventListener("abort",b,{once:!0}),S}t.debounce=e})(vE)),vE}var iO;function _le(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wle();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,d=Array(2);a&&(d[0]="leading"),l&&(d[1]="trailing");let f,m=null;const p=e.debounce(function(...b){f=r.apply(this,b),m=null},i,{edges:d}),y=function(...b){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(f=r.apply(this,b),m=Date.now(),p.cancel(),p.schedule(),f):(p.apply(this,b),f)},x=()=>(p.flush(),f);return y.cancel=p.cancel,y.flush=x,y}t.debounce=n})(yE)),yE}var sO;function Ele(){return sO||(sO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_le();function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(gE)),gE}var xE,aO;function Cle(){return aO||(aO=1,xE=Ele().throttle),xE}var Nle=Cle();const Sle=bi(Nle);var oO=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},Aa={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},O8=(t,e,n)=>{var{width:r=Aa.width,height:i=Aa.height,aspect:s,maxHeight:a}=n,l=Fu(r)?t:Number(r),c=Fu(i)?e:Number(i);return s&&s>0&&(l?c=l/s:c&&(l=c*s),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:l,calculatedHeight:c}},Tle={width:0,height:0,overflow:"visible"},Ple={width:0,overflowX:"visible"},Ale={height:0,overflowY:"visible"},Ile={},jle=t=>{var{width:e,height:n}=t,r=Fu(e),i=Fu(n);return r&&i?Tle:r?Ple:i?Ale:Ile};function kle(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=Aa.width,s=Aa.height):i===void 0?i=r&&r>0?void 0:Aa.width:s===void 0&&(s=r&&r>0?void 0:Aa.height),{width:i,height:s}}function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aS.apply(null,arguments)}function lO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lO(Object(n),!0).forEach(function(r){Rle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rle(t,e,n){return(e=Dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dle(t){var e=Ole(t,"string");return typeof e=="symbol"?e:e+""}function Ole(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M8=E.createContext(Aa.initialDimension);function Mle(t){return sc(t.width)&&sc(t.height)}function L8(t){var{children:e,width:n,height:r}=t,i=E.useMemo(()=>({width:n,height:r}),[n,r]);return Mle(i)?E.createElement(M8.Provider,{value:i},e):null}var iA=()=>E.useContext(M8),Lle=E.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Aa.initialDimension,width:i,height:s,minWidth:a=Aa.minWidth,minHeight:l,maxHeight:c,children:d,debounce:f=Aa.debounce,id:m,className:p,onResize:y,style:x={}}=t,b=E.useRef(null),_=E.useRef();_.current=y,E.useImperativeHandle(e,()=>b.current);var[S,M]=E.useState({containerWidth:r.width,containerHeight:r.height}),O=E.useCallback((N,A)=>{M(j=>{var D=Math.round(N),L=Math.round(A);return j.containerWidth===D&&j.containerHeight===L?j:{containerWidth:D,containerHeight:L}})},[]);E.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return ed;var N=L=>{var B,$=L[0];if($!=null){var{width:Y,height:Z}=$.contentRect;O(Y,Z),(B=_.current)===null||B===void 0||B.call(_,Y,Z)}};f>0&&(N=Sle(N,f,{trailing:!0,leading:!1}));var A=new ResizeObserver(N),{width:j,height:D}=b.current.getBoundingClientRect();return O(j,D),A.observe(b.current),()=>{A.disconnect()}},[O,f]);var{containerWidth:z,containerHeight:I}=S;oO(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:C}=O8(z,I,{width:i,height:s,aspect:n,maxHeight:c});return oO(P!=null&&P>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,C,i,s,a,l,n),E.createElement("div",{id:m?"".concat(m):void 0,className:Yt("recharts-responsive-container",p),style:cO(cO({},x),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:b},E.createElement("div",{style:jle({width:i,height:s})},E.createElement(L8,{width:P,height:C},d)))}),V8=E.forwardRef((t,e)=>{var n=iA();if(sc(n.width)&&sc(n.height))return t.children;var{width:r,height:i}=kle({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=O8(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Je(s)&&Je(a)?E.createElement(L8,{width:s,height:a},t.children):E.createElement(Lle,aS({},t,{width:r,height:i,ref:e}))});function sA(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var $b=()=>{var t,e=Ci(),n=mt(vle),r=mt(Ub),i=(t=mt(zb))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Vle={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Fle=()=>{var t;return(t=mt(Tr))!==null&&t!==void 0?t:Vle},Ble=()=>mt(zo),zle=()=>mt(Uo),rn=t=>t.layout.layoutType,td=()=>mt(rn),F8=()=>{var t=td();if(t==="horizontal"||t==="vertical")return t},B8=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Ule=()=>{var t=td();return t!==void 0},Cg=t=>{var e=Sr(),n=Ci(),{width:r,height:i}=t,s=iA(),a=r,l=i;return s&&(a=s.width>0?s.width:r,l=s.height>0?s.height:i),E.useEffect(()=>{!n&&sc(a)&&sc(l)&&e(qoe({width:a,height:l}))},[e,n,a,l]),null},z8=Symbol.for("immer-nothing"),uO=Symbol.for("immer-draftable"),qi=Symbol.for("immer-state");function js(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Dp=Object.getPrototypeOf;function Jf(t){return!!t&&!!t[qi]}function zu(t){return t?U8(t)||Array.isArray(t)||!!t[uO]||!!t.constructor?.[uO]||Ng(t)||Hb(t):!1}var $le=Object.prototype.constructor.toString(),dO=new WeakMap;function U8(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=dO.get(n);return r===void 0&&(r=Function.toString.call(n),dO.set(n,r)),r===$le}function nx(t,e,n=!0){qb(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function qb(t){const e=t[qi];return e?e.type_:Array.isArray(t)?1:Ng(t)?2:Hb(t)?3:0}function oS(t,e){return qb(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function $8(t,e,n){const r=qb(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function qle(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ng(t){return t instanceof Map}function Hb(t){return t instanceof Set}function Qc(t){return t.copy_||t.base_}function lS(t,e){if(Ng(t))return new Map(t);if(Hb(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=U8(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[qi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(Dp(t),r)}else{const r=Dp(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function aA(t,e=!1){return Wb(t)||Jf(t)||!zu(t)||(qb(t)>1&&Object.defineProperties(t,{set:yv,add:yv,clear:yv,delete:yv}),Object.freeze(t),e&&Object.values(t).forEach(n=>aA(n,!0))),t}function Hle(){js(2)}var yv={value:Hle};function Wb(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Wle={};function Uu(t){const e=Wle[t];return e||js(0,t),e}var Op;function q8(){return Op}function Kle(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function fO(t,e){e&&(Uu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function cS(t){uS(t),t.drafts_.forEach(Gle),t.drafts_=null}function uS(t){t===Op&&(Op=t.parent_)}function hO(t){return Op=Kle(Op,t)}function Gle(t){const e=t[qi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function mO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[qi].modified_&&(cS(e),js(4)),zu(t)&&(t=rx(e,t),e.parent_||ix(e,t)),e.patches_&&Uu("Patches").generateReplacementPatches_(n[qi].base_,t,e.patches_,e.inversePatches_)):t=rx(e,n,[]),cS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==z8?t:void 0}function rx(t,e,n){if(Wb(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[qi];if(!i)return nx(e,(s,a)=>pO(t,i,e,s,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return ix(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,l=!1;i.type_===3&&(a=new Set(s),s.clear(),l=!0),nx(a,(c,d)=>pO(t,i,s,c,d,n,l),r),ix(t,s,!1),n&&t.patches_&&Uu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function pO(t,e,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const l=Wb(i);if(!(l&&!a)){if(Jf(i)){const c=s&&e&&e.type_!==3&&!oS(e.assigned_,r)?s.concat(r):void 0,d=rx(t,i,c);if($8(n,r,d),Jf(d))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(zu(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;rx(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Ng(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&ix(t,i)}}}function ix(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&aA(e,n)}function Xle(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:q8(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=oA;n&&(i=[r],s=Mp);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var oA={get(t,e){if(e===qi)return t;const n=Qc(t);if(!oS(n,e))return Yle(t,n,e);const r=n[e];return t.finalized_||!zu(r)?r:r===bE(t.base_,e)?(wE(t),t.copy_[e]=fS(r,t)):r},has(t,e){return e in Qc(t)},ownKeys(t){return Reflect.ownKeys(Qc(t))},set(t,e,n){const r=H8(Qc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=bE(Qc(t),e),s=i?.[qi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(qle(n,i)&&(n!==void 0||oS(t.base_,e)))return!0;wE(t),dS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return bE(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,wE(t),dS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Qc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){js(11)},getPrototypeOf(t){return Dp(t.base_)},setPrototypeOf(){js(12)}},Mp={};nx(oA,(t,e)=>{Mp[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Mp.deleteProperty=function(t,e){return Mp.set.call(this,t,e,void 0)};Mp.set=function(t,e,n){return oA.set.call(this,t[0],e,n,t[0])};function bE(t,e){const n=t[qi];return(n?Qc(n):t)[e]}function Yle(t,e,n){const r=H8(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function H8(t,e){if(!(e in t))return;let n=Dp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Dp(n)}}function dS(t){t.modified_||(t.modified_=!0,t.parent_&&dS(t.parent_))}function wE(t){t.copy_||(t.copy_=lS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Qle=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(c=s,...d){return a.produce(c,f=>n.call(this,f,...d))}}typeof n!="function"&&js(6),r!==void 0&&typeof r!="function"&&js(7);let i;if(zu(e)){const s=hO(this),a=fS(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?cS(s):uS(s)}return fO(s,r),mO(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===z8&&(i=void 0),this.autoFreeze_&&aA(i,!0),r){const s=[],a=[];Uu("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else js(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){zu(t)||js(8),Jf(t)&&(t=Jle(t));const e=hO(this),n=fS(t,void 0);return n[qi].isManual_=!0,uS(e),n}finishDraft(t,e){const n=t&&t[qi];(!n||!n.isManual_)&&js(9);const{scope_:r}=n;return fO(r,e),mO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Uu("Patches").applyPatches_;return Jf(t)?r(t,e):this.produce(t,i=>r(i,e))}};function fS(t,e){const n=Ng(t)?Uu("MapSet").proxyMap_(t,e):Hb(t)?Uu("MapSet").proxySet_(t,e):Xle(t,e);return(e?e.scope_:q8()).drafts_.push(n),n}function Jle(t){return Jf(t)||js(10,t),W8(t)}function W8(t){if(!zu(t)||Wb(t))return t;const e=t[qi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=lS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=lS(t,!0);return nx(n,(i,s)=>{$8(n,i,W8(s))},r),e&&(e.finalized_=!1),n}var Zle=new Qle;Zle.produce;var ece={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},K8=Ei({name:"legend",initialState:ece,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:fn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Fs(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:fn()},removeLegendPayload:{reducer(t,e){var n=Fs(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:fn()}}}),{setLegendSize:wAe,setLegendSettings:_Ae,addLegendPayload:tce,replaceLegendPayload:nce,removeLegendPayload:rce}=K8.actions,ice=K8.reducer;function hS(){return hS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hS.apply(null,arguments)}function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){sce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sce(t,e,n){return(e=ace(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ace(t){var e=oce(t,"string");return typeof e=="symbol"?e:e+""}function oce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lce(t){return Array.isArray(t)&&Ba(t[0])&&Ba(t[1])?t.join(" ~ "):t}var Kd={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},cce=t=>{var{separator:e=Kd.separator,contentStyle:n,itemStyle:r,labelStyle:i=Kd.labelStyle,payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:m,accessibilityLayer:p=Kd.accessibilityLayer}=t,y=()=>{if(s&&s.length){var I={padding:0,margin:0},P=(l?Pb(s,l):s).map((C,N)=>{if(C.type==="none")return null;var A=C.formatter||a||lce,{value:j,name:D}=C,L=j,B=D;if(A){var $=A(j,D,C,N,s);if(Array.isArray($))[L,B]=$;else if($!=null)L=$;else return null}var Y=Cm(Cm({},Kd.itemStyle),{},{color:C.color||Kd.itemStyle.color},r);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:Y},Ba(B)?E.createElement("span",{className:"recharts-tooltip-item-name"},B):null,Ba(B)?E.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,E.createElement("span",{className:"recharts-tooltip-item-value"},L),E.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:I},P)}return null},x=Cm(Cm({},Kd.contentStyle),n),b=Cm({margin:0},i),_=!dr(f),S=_?f:"",M=Yt("recharts-default-tooltip",c),O=Yt("recharts-tooltip-label",d);_&&m&&s!==void 0&&s!==null&&(S=m(f,s));var z=p?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",hS({className:M,style:x},z),E.createElement("p",{className:O,style:b},E.isValidElement(S)?S:"".concat(S)),y())},Nm="recharts-tooltip-wrapper",uce={visibility:"hidden"};function dce(t){var{coordinate:e,translateX:n,translateY:r}=t;return Yt(Nm,{["".concat(Nm,"-right")]:Je(n)&&e&&Je(e.x)&&n>=e.x,["".concat(Nm,"-left")]:Je(n)&&e&&Je(e.x)&&n<e.x,["".concat(Nm,"-bottom")]:Je(r)&&e&&Je(e.y)&&r>=e.y,["".concat(Nm,"-top")]:Je(r)&&e&&Je(e.y)&&r<e.y})}function yO(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=t;if(s&&Je(s[r]))return s[r];var f=n[r]-l-(i>0?i:0),m=n[r]+i;if(e[r])return a[r]?f:m;var p=c[r];if(p==null)return 0;if(a[r]){var y=f,x=p;return y<x?Math.max(m,p):Math.max(f,p)}if(d==null)return 0;var b=m+l,_=p+d;return b>_?Math.max(f,p):Math.max(m,p)}function fce(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function hce(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:a,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,m,p;return l.height>0&&l.width>0&&n?(m=yO({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:s,reverseDirection:a,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=yO({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:s,reverseDirection:a,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=fce({translateX:m,translateY:p,useTranslate3d:c})):f=uce,{cssProperties:f,cssClasses:dce({translateX:m,translateY:p,coordinate:n})}}function vO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(n),!0).forEach(function(r){mS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mS(t,e,n){return(e=mce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mce(t){var e=pce(t,"string");return typeof e=="symbol"?e:e+""}function pce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class gce extends E.PureComponent{constructor(){super(...arguments),mS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),mS(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:d,position:f,reverseDirection:m,useTranslate3d:p,viewBox:y,wrapperStyle:x,lastBoundingBox:b,innerRef:_,hasPortalFromProps:S}=this.props,M=typeof d=="number"?d:d.x,O=typeof d=="number"?d:d.y,{cssClasses:z,cssProperties:I}=hce({allowEscapeViewBox:n,coordinate:a,offsetLeft:M,offsetTop:O,position:f,reverseDirection:m,tooltipBox:{height:b.height,width:b.width},useTranslate3d:p,viewBox:y}),P=S?{}:vv(vv({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),C=vv(vv({},P),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},x);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:z,style:C,ref:_},s)}}var G8=()=>{var t;return(t=mt(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pS.apply(null,arguments)}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){yce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yce(t,e,n){return(e=vce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vce(t){var e=xce(t,"string");return typeof e=="symbol"?e:e+""}function xce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wO={curveBasisClosed:pse,curveBasisOpen:gse,curveBasis:mse,curveBumpX:ese,curveBumpY:tse,curveLinearClosed:yse,curveLinear:Nb,curveMonotoneX:vse,curveMonotoneY:xse,curveNatural:bse,curveStep:wse,curveStepAfter:Ese,curveStepBefore:_se},sx=t=>Mt(t.x)&&Mt(t.y),_O=t=>t.base!=null&&sx(t.base)&&sx(t),Sm=t=>t.x,Tm=t=>t.y,bce=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(bg(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=wO["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return wO[n]||Nb},EO={connectNulls:!1,type:"linear"},wce=t=>{var{type:e=EO.type,points:n=[],baseLine:r,layout:i,connectNulls:s=EO.connectNulls}=t,a=bce(e,i),l=s?n.filter(sx):n;if(Array.isArray(r)){var c,d=n.map((x,b)=>bO(bO({},x),{},{base:r[b]}));i==="vertical"?c=uv().y(Tm).x1(Sm).x0(x=>x.base.x):c=uv().x(Sm).y1(Tm).y0(x=>x.base.y);var f=c.defined(_O).curve(a),m=s?d.filter(_O):d;return f(m)}var p;i==="vertical"&&Je(r)?p=uv().y(Tm).x1(Sm).x0(r):Je(r)?p=uv().x(Sm).y1(Tm).y0(r):p=AU().x(Sm).y(Tm);var y=p.defined(sx).curve(a);return y(l)},op=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=td();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},l=n&&n.length?wce(a):r;return E.createElement("path",pS({},Us(t),GP(t),{className:Yt("recharts-curve",e),d:l===null?void 0:l,ref:i}))},_ce=["x","y","top","left","width","height","className"];function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gS.apply(null,arguments)}function CO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ece(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CO(Object(n),!0).forEach(function(r){Cce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cce(t,e,n){return(e=Nce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nce(t){var e=Sce(t,"string");return typeof e=="symbol"?e:e+""}function Sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tce(t,e){if(t==null)return{};var n,r,i=Pce(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Pce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ace=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),Ice=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=t,c=Tce(t,_ce),d=Ece({x:e,y:n,top:r,left:i,width:s,height:a},c);return!Je(e)||!Je(n)||!Je(s)||!Je(a)||!Je(r)||!Je(i)?null:E.createElement("path",gS({},Ur(d),{className:Yt("recharts-cross",l),d:Ace(e,n,s,a,r,i)}))};function jce(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){kce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kce(t,e,n){return(e=Rce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rce(t){var e=Dce(t,"string");return typeof e=="symbol"?e:e+""}function Dce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oce=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),X8=(t,e,n)=>t.map(r=>"".concat(Oce(r)," ").concat(e,"ms ").concat(n)).join(","),Mce=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Lp=(t,e)=>Object.keys(e).reduce((n,r)=>SO(SO({},n),{},{[r]:t(r,e[r])}),{});function TO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TO(Object(n),!0).forEach(function(r){Lce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lce(t,e,n){return(e=Vce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vce(t){var e=Fce(t,"string");return typeof e=="symbol"?e:e+""}function Fce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ax=(t,e,n)=>t+(e-t)*n,yS=t=>{var{from:e,to:n}=t;return e!==n},Y8=(t,e,n)=>{var r=Lp((i,s)=>{if(yS(s)){var[a,l]=t(s.from,s.to,s.velocity);return Wn(Wn({},s),{},{from:a,velocity:l})}return s},e);return n<1?Lp((i,s)=>yS(s)&&r[i]!=null?Wn(Wn({},s),{},{velocity:ax(s.velocity,r[i].velocity,n),from:ax(s.from,r[i].from,n)}):s,e):Y8(t,r,n-1)};function Bce(t,e,n,r,i,s){var a,l=r.reduce((p,y)=>Wn(Wn({},p),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),c=()=>Lp((p,y)=>y.from,l),d=()=>!Object.values(l).filter(yS).length,f=null,m=p=>{a||(a=p);var y=p-a,x=y/n.dt;l=Y8(n,l,x),i(Wn(Wn(Wn({},t),e),c())),a=p,d()||(f=s.setTimeout(m))};return()=>(f=s.setTimeout(m),()=>{var p;(p=f)===null||p===void 0||p()})}function zce(t,e,n,r,i,s,a){var l=null,c=i.reduce((m,p)=>{var y=t[p],x=e[p];return y==null||x==null?m:Wn(Wn({},m),{},{[p]:[y,x]})},{}),d,f=m=>{d||(d=m);var p=(m-d)/r,y=Lp((b,_)=>ax(..._,n(p)),c);if(s(Wn(Wn(Wn({},t),e),y)),p<1)l=a.setTimeout(f);else{var x=Lp((b,_)=>ax(..._,n(1)),c);s(Wn(Wn(Wn({},t),e),x))}};return()=>(l=a.setTimeout(f),()=>{var m;(m=l)===null||m===void 0||m()})}const Uce=(t,e,n,r,i,s)=>{var a=Mce(t,e);return n==null?()=>(i(Wn(Wn({},t),e)),()=>{}):n.isStepper===!0?Bce(t,e,n,a,i,s):zce(t,e,n,r,a,i,s)};var ox=1e-4,Q8=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],J8=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),PO=(t,e)=>n=>{var r=Q8(t,e);return J8(r,n)},$ce=(t,e)=>n=>{var r=Q8(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return J8(i,n)},qce=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},Hce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=qce(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Wce=(t,e,n,r)=>{var i=PO(t,n),s=PO(e,r),a=$ce(t,n),l=d=>d>1?1:d<0?0:d,c=d=>{for(var f=d>1?1:d,m=f,p=0;p<8;++p){var y=i(m)-f,x=a(m);if(Math.abs(y-f)<ox||x<ox)return s(m);m=l(m-y/x)}return s(m)};return c.isStepper=!1,c},AO=function(){return Wce(...Hce(...arguments))},Kce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,l,c)=>{var d=-(a-l)*n,f=c*r,m=c+(d-f)*i/1e3,p=c*i/1e3+a;return Math.abs(p-l)<ox&&Math.abs(m)<ox?[l,0]:[p,m]};return s.isStepper=!0,s.dt=i,s},Gce=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AO(t);case"spring":return Kce();default:if(t.split("(")[0]==="cubic-bezier")return AO(t)}return typeof t=="function"?t:null};function Xce(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...d]=l;if(typeof c=="number"){i=t.setTimeout(s.bind(null,d),c);return}s(c),i=t.setTimeout(s.bind(null,d));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class Yce{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Qce(){return Xce(new Yce)}var Jce=E.createContext(Qce);function Zce(t,e){var n=E.useContext(Jce);return E.useMemo(()=>e??n(t),[t,e,n])}var eue=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Sg={isSsr:eue()},tue={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},IO={t:0},_E={t:1};function Kb(t){var e=_i(t,tue),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:d}=e,f=n==="auto"?!Sg.isSsr:n,m=Zce(e.animationId,e.animationManager),[p,y]=E.useState(f?IO:_E),x=E.useRef(null);return E.useEffect(()=>{f||y(_E)},[f]),E.useEffect(()=>{if(!f||!r)return ed;var b=Uce(IO,_E,Gce(s),i,y,m.getTimeoutController()),_=()=>{x.current=b()};return m.start([c,a,_,i,l]),()=>{m.stop(),x.current&&x.current(),l()}},[f,r,i,s,a,c,l,m]),d(p.t)}function Gb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=E.useRef(Ip(e)),r=E.useRef(t);return r.current!==t&&(n.current=Ip(e),r.current=t),n.current}var nue=["radius"],rue=["radius"],jO,kO,RO,DO,OO,MO,LO,VO,FO,BO;function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){iue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iue(t,e,n){return(e=sue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sue(t){var e=aue(t,"string");return typeof e=="symbol"?e:e+""}function aue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lx(){return lx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lx.apply(null,arguments)}function $O(t,e){if(t==null)return{};var n,r,i=oue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ha(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var qO=(t,e,n,r,i)=>{var s=Fl(n),a=Fl(r),l=Math.min(Math.abs(s)/2,Math.abs(a)/2),c=a>=0?1:-1,d=s>=0?1:-1,f=a>=0&&s>=0||a<0&&s<0?1:0,m;if(l>0&&Array.isArray(i)){for(var p=[0,0,0,0],y=0,x=4;y<x;y++){var b,_=(b=i[y])!==null&&b!==void 0?b:0;p[y]=_>l?l:_}m=Tn(jO||(jO=ha(["M",",",""])),t,e+c*p[0]),p[0]>0&&(m+=Tn(kO||(kO=ha(["A ",",",",0,0,",",",",",""])),p[0],p[0],f,t+d*p[0],e)),m+=Tn(RO||(RO=ha(["L ",",",""])),t+n-d*p[1],e),p[1]>0&&(m+=Tn(DO||(DO=ha(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],f,t+n,e+c*p[1])),m+=Tn(OO||(OO=ha(["L ",",",""])),t+n,e+r-c*p[2]),p[2]>0&&(m+=Tn(MO||(MO=ha(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],f,t+n-d*p[2],e+r)),m+=Tn(LO||(LO=ha(["L ",",",""])),t+d*p[3],e+r),p[3]>0&&(m+=Tn(VO||(VO=ha(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],f,t,e+r-c*p[3])),m+="Z"}else if(l>0&&i===+i&&i>0){var S=Math.min(l,i);m=Tn(FO||(FO=ha(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*S,S,S,f,t+d*S,e,t+n-d*S,e,S,S,f,t+n,e+c*S,t+n,e+r-c*S,S,S,f,t+n-d*S,e+r,t+d*S,e+r,S,S,f,t,e+r-c*S)}else m=Tn(BO||(BO=ha(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},HO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Z8=t=>{var e=_i(t,HO),n=E.useRef(null),[r,i]=E.useState(-1);E.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&i(k)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:d,className:f}=e,{animationEasing:m,animationDuration:p,animationBegin:y,isAnimationActive:x,isUpdateAnimationActive:b}=e,_=E.useRef(l),S=E.useRef(c),M=E.useRef(s),O=E.useRef(a),z=E.useMemo(()=>({x:s,y:a,width:l,height:c,radius:d}),[s,a,l,c,d]),I=Gb(z,"rectangle-");if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var P=Yt("recharts-rectangle",f);if(!b){var C=Ur(e),{radius:N}=C,A=$O(C,nue);return E.createElement("path",lx({},A,{x:Fl(s),y:Fl(a),width:Fl(l),height:Fl(c),radius:typeof d=="number"?d:void 0,className:P,d:qO(s,a,l,c,d)}))}var j=_.current,D=S.current,L=M.current,B=O.current,$="0px ".concat(r===-1?1:r,"px"),Y="".concat(r,"px 0px"),Z=X8(["strokeDasharray"],p,typeof m=="string"?m:HO.animationEasing);return E.createElement(Kb,{animationId:I,key:I,canBegin:r>0,duration:p,easing:m,isActive:b,begin:y},k=>{var Q=Bn(j,l,k),H=Bn(D,c,k),R=Bn(L,s,k),U=Bn(B,a,k);n.current&&(_.current=Q,S.current=H,M.current=R,O.current=U);var K;x?k>0?K={transition:Z,strokeDasharray:Y}:K={strokeDasharray:$}:K={strokeDasharray:Y};var J=Ur(e),{radius:G}=J,te=$O(J,rue);return E.createElement("path",lx({},te,{radius:typeof d=="number"?d:void 0,className:P,d:qO(R,U,Q,H,d),ref:n,style:UO(UO({},K),e.style)}))})};function WO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(n),!0).forEach(function(r){lue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lue(t,e,n){return(e=cue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cue(t){var e=uue(t,"string");return typeof e=="symbol"?e:e+""}function uue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cx=Math.PI/180,due=t=>t*180/Math.PI,Cr=(t,e,n,r)=>({x:t+Math.cos(-cx*r)*n,y:e+Math.sin(-cx*r)*n}),fue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},hue=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},mue=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=hue({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,c=Math.acos(l);return r>s&&(c=2*Math.PI-c),{radius:a,angle:due(c),angleInRadian:c}},pue=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},gue=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},yue=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=mue({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:d}=pue(e),f=s,m;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;m=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=c}return m?KO(KO({},e),{},{radius:i,angle:gue(f,e)}):null};function e$(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=Cr(e,n,r,i),l=Cr(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var GO,XO,YO,QO,JO,ZO,e4;function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vS.apply(null,arguments)}function ou(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var vue=(t,e)=>{var n=Os(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},xv=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=t,d=l*(a?1:-1)+r,f=Math.asin(l/d)/cx,m=c?i:i+s*f,p=Cr(e,n,d,m),y=Cr(e,n,r,m),x=c?i-s*f:i,b=Cr(e,n,d*Math.cos(f*cx),x);return{center:p,circleTangency:y,lineTangency:b,theta:f}},t$=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,l=vue(s,a),c=s+l,d=Cr(e,n,i,s),f=Cr(e,n,i,c),m=Tn(GO||(GO=ou(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(l)>180),+(s>c),f.x,f.y);if(r>0){var p=Cr(e,n,r,s),y=Cr(e,n,r,c);m+=Tn(XO||(XO=ou(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,r,r,+(Math.abs(l)>180),+(s<=c),p.x,p.y)}else m+=Tn(YO||(YO=ou(["L ",","," Z"])),e,n);return m},xue=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:d}=t,f=Os(d-c),{circleTangency:m,lineTangency:p,theta:y}=xv({cx:e,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),{circleTangency:x,lineTangency:b,theta:_}=xv({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),S=l?Math.abs(c-d):Math.abs(c-d)-y-_;if(S<0)return a?Tn(QO||(QO=ou(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,s,s,s*2,s,s,-s*2):t$({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var M=Tn(JO||(JO=ou(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,s,s,+(f<0),m.x,m.y,i,i,+(S>180),+(f<0),x.x,x.y,s,s,+(f<0),b.x,b.y);if(r>0){var{circleTangency:O,lineTangency:z,theta:I}=xv({cx:e,cy:n,radius:r,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:P,lineTangency:C,theta:N}=xv({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=l?Math.abs(c-d):Math.abs(c-d)-I-N;if(A<0&&s===0)return"".concat(M,"L").concat(e,",").concat(n,"Z");M+=Tn(ZO||(ZO=ou(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,s,s,+(f<0),P.x,P.y,r,r,+(A>180),+(f>0),O.x,O.y,s,s,+(f<0),z.x,z.y)}else M+=Tn(e4||(e4=ou(["L",",","Z"])),e,n);return M},bue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},n$=t=>{var e=_i(t,bue),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f,className:m}=e;if(s<i||d===f)return null;var p=Yt("recharts-sector",m),y=s-i,x=ic(a,y,0,!0),b;return x>0&&Math.abs(d-f)<360?b=xue({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):b=t$({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),E.createElement("path",vS({},Ur(e),{className:p,d:b}))};function wue(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(HU(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:l}=e,c=Cr(r,i,s,l),d=Cr(r,i,a,l);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return e$(e)}}var EE={},CE={},NE={},t4;function _ue(){return t4||(t4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t8();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(NE)),NE}var n4;function Eue(){return n4||(n4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_ue();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(CE)),CE}var r4;function Cue(){return r4||(r4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n8(),n=Eue();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=i,i+=a;return c}t.range=r})(EE)),EE}var SE,i4;function Nue(){return i4||(i4=1,SE=Cue().range),SE}var Sue=Nue();const r$=bi(Sue);function Wl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Tue(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lA(t){let e,n,r;t.length!==2?(e=Wl,n=(l,c)=>Wl(t(l),c),r=(l,c)=>t(l)-c):(e=t===Wl||t===Tue?t:Pue,n=t,r=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;n(l[m],c)<0?d=m+1:f=m}while(d<f)}return d}function s(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;n(l[m],c)<=0?d=m+1:f=m}while(d<f)}return d}function a(l,c,d=0,f=l.length){const m=i(l,c,d,f-1);return m>d&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:a,right:s}}function Pue(){return 0}function i$(t){return t===null?NaN:+t}function*Aue(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Iue=lA(Wl),Tg=Iue.right;lA(i$).center;class s4 extends Map{constructor(e,n=Rue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(a4(this,e))}has(e){return super.has(a4(this,e))}set(e,n){return super.set(jue(this,e),n)}delete(e){return super.delete(kue(this,e))}}function a4({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function jue({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function kue({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Rue(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Due(t=Wl){if(t===Wl)return s$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function s$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Oue=Math.sqrt(50),Mue=Math.sqrt(10),Lue=Math.sqrt(2);function ux(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Oue?10:s>=Mue?5:s>=Lue?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/a,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*a,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?ux(t,e,n*2):[l,c,d]}function xS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?ux(e,t,n):ux(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let d=0;d<l;++d)c[d]=(s-d)/-a;else for(let d=0;d<l;++d)c[d]=(s-d)*a;else if(a<0)for(let d=0;d<l;++d)c[d]=(i+d)/-a;else for(let d=0;d<l;++d)c[d]=(i+d)*a;return c}function bS(t,e,n){return e=+e,t=+t,n=+n,ux(t,e,n)[2]}function wS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?bS(e,t,n):bS(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function o4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function l4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function a$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?s$:Due(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),m=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*m*(c-m)/c)*(d-c/2<0?-1:1),y=Math.max(n,Math.floor(e-d*m/c+p)),x=Math.min(r,Math.floor(e+(c-d)*m/c+p));a$(t,e,y,x,i)}const s=t[e];let a=n,l=r;for(Pm(t,n,e),i(t[r],s)>0&&Pm(t,n,r);a<l;){for(Pm(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?Pm(t,n,l):(++l,Pm(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Pm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Vue(t,e,n){if(t=Float64Array.from(Aue(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return l4(t);if(e>=1)return o4(t);var r,i=(r-1)*e,s=Math.floor(i),a=o4(a$(t,s).subarray(0,s+1)),l=l4(t.subarray(s+1));return a+(l-a)*(i-s)}}function Fue(t,e,n=i$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function Bue(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ps(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $o(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const _S=Symbol("implicit");function cA(){var t=new s4,e=[],n=[],r=_S;function i(s){let a=t.get(s);if(a===void 0){if(r!==_S)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new s4;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return cA(e,n).unknown(r)},ps.apply(i,arguments),i}function uA(){var t=cA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,d=0,f=.5;delete t.unknown;function m(){var p=e().length,y=i<r,x=y?i:r,b=y?r:i;s=(b-x)/Math.max(1,p-c+d*2),l&&(s=Math.floor(s)),x+=(b-x-s*(p-c))*f,a=s*(1-c),l&&(x=Math.round(x),a=Math.round(a));var _=Bue(p).map(function(S){return x+s*S});return n(y?_.reverse():_)}return t.domain=function(p){return arguments.length?(e(p),m()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(p){return arguments.length?(l=!!p,m()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),m()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},t.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},t.copy=function(){return uA(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},ps.apply(m(),arguments)}function o$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return o$(e())},t}function zue(){return o$(uA.apply(null,arguments).paddingInner(1))}function dA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function l$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pg(){}var Vp=.7,dx=1/Vp,Cf="\\s*([+-]?\\d+)\\s*",Fp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uue=/^#([0-9a-f]{3,8})$/,$ue=new RegExp(`^rgb\\(${Cf},${Cf},${Cf}\\)$`),que=new RegExp(`^rgb\\(${Oa},${Oa},${Oa}\\)$`),Hue=new RegExp(`^rgba\\(${Cf},${Cf},${Cf},${Fp}\\)$`),Wue=new RegExp(`^rgba\\(${Oa},${Oa},${Oa},${Fp}\\)$`),Kue=new RegExp(`^hsl\\(${Fp},${Oa},${Oa}\\)$`),Gue=new RegExp(`^hsla\\(${Fp},${Oa},${Oa},${Fp}\\)$`),c4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};dA(Pg,Bp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:u4,formatHex:u4,formatHex8:Xue,formatHsl:Yue,formatRgb:d4,toString:d4});function u4(){return this.rgb().formatHex()}function Xue(){return this.rgb().formatHex8()}function Yue(){return c$(this).formatHsl()}function d4(){return this.rgb().formatRgb()}function Bp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Uue.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?f4(e):n===3?new pi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?bv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?bv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$ue.exec(t))?new pi(e[1],e[2],e[3],1):(e=que.exec(t))?new pi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Hue.exec(t))?bv(e[1],e[2],e[3],e[4]):(e=Wue.exec(t))?bv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Kue.exec(t))?p4(e[1],e[2]/100,e[3]/100,1):(e=Gue.exec(t))?p4(e[1],e[2]/100,e[3]/100,e[4]):c4.hasOwnProperty(t)?f4(c4[t]):t==="transparent"?new pi(NaN,NaN,NaN,0):null}function f4(t){return new pi(t>>16&255,t>>8&255,t&255,1)}function bv(t,e,n,r){return r<=0&&(t=e=n=NaN),new pi(t,e,n,r)}function Que(t){return t instanceof Pg||(t=Bp(t)),t?(t=t.rgb(),new pi(t.r,t.g,t.b,t.opacity)):new pi}function ES(t,e,n,r){return arguments.length===1?Que(t):new pi(t,e,n,r??1)}function pi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}dA(pi,ES,l$(Pg,{brighter(t){return t=t==null?dx:Math.pow(dx,t),new pi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Vp:Math.pow(Vp,t),new pi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pi(vu(this.r),vu(this.g),vu(this.b),fx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:h4,formatHex:h4,formatHex8:Jue,formatRgb:m4,toString:m4}));function h4(){return`#${lu(this.r)}${lu(this.g)}${lu(this.b)}`}function Jue(){return`#${lu(this.r)}${lu(this.g)}${lu(this.b)}${lu((isNaN(this.opacity)?1:this.opacity)*255)}`}function m4(){const t=fx(this.opacity);return`${t===1?"rgb(":"rgba("}${vu(this.r)}, ${vu(this.g)}, ${vu(this.b)}${t===1?")":`, ${t})`}`}function fx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function vu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function lu(t){return t=vu(t),(t<16?"0":"")+t.toString(16)}function p4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ks(t,e,n,r)}function c$(t){if(t instanceof ks)return new ks(t.h,t.s,t.l,t.opacity);if(t instanceof Pg||(t=Bp(t)),!t)return new ks;if(t instanceof ks)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new ks(a,l,c,t.opacity)}function Zue(t,e,n,r){return arguments.length===1?c$(t):new ks(t,e,n,r??1)}function ks(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}dA(ks,Zue,l$(Pg,{brighter(t){return t=t==null?dx:Math.pow(dx,t),new ks(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Vp:Math.pow(Vp,t),new ks(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new pi(TE(t>=240?t-240:t+120,i,r),TE(t,i,r),TE(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ks(g4(this.h),wv(this.s),wv(this.l),fx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=fx(this.opacity);return`${t===1?"hsl(":"hsla("}${g4(this.h)}, ${wv(this.s)*100}%, ${wv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function g4(t){return t=(t||0)%360,t<0?t+360:t}function wv(t){return Math.max(0,Math.min(1,t||0))}function TE(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const fA=t=>()=>t;function ede(t,e){return function(n){return t+n*e}}function tde(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function nde(t){return(t=+t)==1?u$:function(e,n){return n-e?tde(e,n,t):fA(isNaN(e)?n:e)}}function u$(t,e){var n=e-t;return n?ede(t,n):fA(isNaN(t)?e:t)}const y4=(function t(e){var n=nde(e);function r(i,s){var a=n((i=ES(i)).r,(s=ES(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),d=u$(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function rde(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function ide(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function sde(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=vh(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function ade(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function hx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ode(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=vh(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var CS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,PE=new RegExp(CS.source,"g");function lde(t){return function(){return t}}function cde(t){return function(e){return t(e)+""}}function ude(t,e){var n=CS.lastIndex=PE.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=CS.exec(t))&&(i=PE.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:hx(r,i)})),n=PE.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?cde(c[0].x):lde(e):(e=c.length,function(d){for(var f=0,m;f<e;++f)l[(m=c[f]).i]=m.x(d);return l.join("")})}function vh(t,e){var n=typeof e,r;return e==null||n==="boolean"?fA(e):(n==="number"?hx:n==="string"?(r=Bp(e))?(e=r,y4):ude:e instanceof Bp?y4:e instanceof Date?ade:ide(e)?rde:Array.isArray(e)?sde:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ode:hx)(t,e)}function hA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function dde(t,e){e===void 0&&(e=t,t=vh);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function fde(t){return function(){return t}}function mx(t){return+t}var v4=[0,1];function Kr(t){return t}function NS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:fde(isNaN(e)?NaN:.5)}function hde(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function mde(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=NS(i,r),s=n(a,s)):(r=NS(r,i),s=n(s,a)),function(l){return s(r(l))}}function pde(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=NS(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=Tg(t,l,1,r)-1;return s[c](i[c](l))}}function Ag(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Xb(){var t=v4,e=v4,n=vh,r,i,s,a=Kr,l,c,d;function f(){var p=Math.min(t.length,e.length);return a!==Kr&&(a=hde(t[0],t[p-1])),l=p>2?pde:mde,c=d=null,m}function m(p){return p==null||isNaN(p=+p)?s:(c||(c=l(t.map(r),e,n)))(r(a(p)))}return m.invert=function(p){return a(i((d||(d=l(e,t.map(r),hx)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,mx),f()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),n=hA,f()},m.clamp=function(p){return arguments.length?(a=p?!0:Kr,f()):a!==Kr},m.interpolate=function(p){return arguments.length?(n=p,f()):n},m.unknown=function(p){return arguments.length?(s=p,m):s},function(p,y){return r=p,i=y,f()}}function mA(){return Xb()(Kr,Kr)}function gde(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function px(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Zf(t){return t=px(Math.abs(t)),t?t[1]:NaN}function yde(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function vde(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var xde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zp(t){if(!(e=xde.exec(t)))throw new Error("invalid format: "+t);var e;return new pA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}zp.prototype=pA.prototype;function pA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bde(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var gx;function wde(t,e){var n=px(t,e);if(!n)return gx=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(gx=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+px(t,Math.max(0,e+s-1))[0]}function x4(t,e){var n=px(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const b4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:gde,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>x4(t*100,e),r:x4,s:wde,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function w4(t){return t}var _4=Array.prototype.map,E4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _de(t){var e=t.grouping===void 0||t.thousands===void 0?w4:yde(_4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?w4:vde(_4.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m,p){m=zp(m);var y=m.fill,x=m.align,b=m.sign,_=m.symbol,S=m.zero,M=m.width,O=m.comma,z=m.precision,I=m.trim,P=m.type;P==="n"?(O=!0,P="g"):b4[P]||(z===void 0&&(z=12),I=!0,P="g"),(S||y==="0"&&x==="=")&&(S=!0,y="0",x="=");var C=(p&&p.prefix!==void 0?p.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),N=(_==="$"?r:/[%p]/.test(P)?a:"")+(p&&p.suffix!==void 0?p.suffix:""),A=b4[P],j=/[defgprs%]/.test(P);z=z===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function D(L){var B=C,$=N,Y,Z,k;if(P==="c")$=A(L)+$,L="";else{L=+L;var Q=L<0||1/L<0;if(L=isNaN(L)?c:A(Math.abs(L),z),I&&(L=bde(L)),Q&&+L==0&&b!=="+"&&(Q=!1),B=(Q?b==="("?b:l:b==="-"||b==="("?"":b)+B,$=(P==="s"&&!isNaN(L)&&gx!==void 0?E4[8+gx/3]:"")+$+(Q&&b==="("?")":""),j){for(Y=-1,Z=L.length;++Y<Z;)if(k=L.charCodeAt(Y),48>k||k>57){$=(k===46?i+L.slice(Y+1):L.slice(Y))+$,L=L.slice(0,Y);break}}}O&&!S&&(L=e(L,1/0));var H=B.length+L.length+$.length,R=H<M?new Array(M-H+1).join(y):"";switch(O&&S&&(L=e(R+L,R.length?M-$.length:1/0),R=""),x){case"<":L=B+L+$+R;break;case"=":L=B+R+L+$;break;case"^":L=R.slice(0,H=R.length>>1)+B+L+$+R.slice(H);break;default:L=R+B+L+$;break}return s(L)}return D.toString=function(){return m+""},D}function f(m,p){var y=Math.max(-8,Math.min(8,Math.floor(Zf(p)/3)))*3,x=Math.pow(10,-y),b=d((m=zp(m),m.type="f",m),{suffix:E4[8+y/3]});return function(_){return b(x*_)}}return{format:d,formatPrefix:f}}var _v,gA,d$;Ede({thousands:",",grouping:[3],currency:["$",""]});function Ede(t){return _v=_de(t),gA=_v.format,d$=_v.formatPrefix,_v}function Cde(t){return Math.max(0,-Zf(Math.abs(t)))}function Nde(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zf(e)/3)))*3-Zf(Math.abs(t)))}function Sde(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zf(e)-Zf(t))+1}function f$(t,e,n,r){var i=wS(t,e,n),s;switch(r=zp(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Nde(i,a))&&(r.precision=s),d$(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Sde(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Cde(i))&&(r.precision=s-(r.type==="%")*2);break}}return gA(r)}function gc(t){var e=t.domain;return t.ticks=function(n){var r=e();return xS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return f$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,d,f=10;for(l<a&&(d=a,a=l,l=d,d=i,i=s,s=d);f-- >0;){if(d=bS(a,l,n),d===c)return r[i]=a,r[s]=l,e(r);if(d>0)a=Math.floor(a/d)*d,l=Math.ceil(l/d)*d;else if(d<0)a=Math.ceil(a*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function h$(){var t=mA();return t.copy=function(){return Ag(t,h$())},ps.apply(t,arguments),gc(t)}function m$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,mx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return m$(t).unknown(e)},t=arguments.length?Array.from(t,mx):[0,1],gc(n)}function p$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function C4(t){return Math.log(t)}function N4(t){return Math.exp(t)}function Tde(t){return-Math.log(-t)}function Pde(t){return-Math.exp(-t)}function Ade(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ide(t){return t===10?Ade:t===Math.E?Math.exp:e=>Math.pow(t,e)}function jde(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function S4(t){return(e,n)=>-t(-e,n)}function yA(t){const e=t(C4,N4),n=e.domain;let r=10,i,s;function a(){return i=jde(r),s=Ide(r),n()[0]<0?(i=S4(i),s=S4(s),t(Tde,Pde)):t(C4,N4),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let d=c[0],f=c[c.length-1];const m=f<d;m&&([d,f]=[f,d]);let p=i(d),y=i(f),x,b;const _=l==null?10:+l;let S=[];if(!(r%1)&&y-p<_){if(p=Math.floor(p),y=Math.ceil(y),d>0){for(;p<=y;++p)for(x=1;x<r;++x)if(b=p<0?x/s(-p):x*s(p),!(b<d)){if(b>f)break;S.push(b)}}else for(;p<=y;++p)for(x=r-1;x>=1;--x)if(b=p>0?x/s(-p):x*s(p),!(b<d)){if(b>f)break;S.push(b)}S.length*2<_&&(S=xS(d,f,_))}else S=xS(p,y,Math.min(y-p,_)).map(s);return m?S.reverse():S},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=zp(c)).precision==null&&(c.trim=!0),c=gA(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return f=>{let m=f/s(Math.round(i(f)));return m*r<r-.5&&(m*=r),m<=d?c(f):""}},e.nice=()=>n(p$(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function g$(){const t=yA(Xb()).domain([1,10]);return t.copy=()=>Ag(t,g$()).base(t.base()),ps.apply(t,arguments),t}function T4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function P4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vA(t){var e=1,n=t(T4(e),P4(e));return n.constant=function(r){return arguments.length?t(T4(e=+r),P4(e)):e},gc(n)}function y$(){var t=vA(Xb());return t.copy=function(){return Ag(t,y$()).constant(t.constant())},ps.apply(t,arguments)}function A4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function kde(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Rde(t){return t<0?-t*t:t*t}function xA(t){var e=t(Kr,Kr),n=1;function r(){return n===1?t(Kr,Kr):n===.5?t(kde,Rde):t(A4(n),A4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},gc(e)}function bA(){var t=xA(Xb());return t.copy=function(){return Ag(t,bA()).exponent(t.exponent())},ps.apply(t,arguments),t}function Dde(){return bA.apply(null,arguments).exponent(.5)}function I4(t){return Math.sign(t)*t*t}function Ode(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function v$(){var t=mA(),e=[0,1],n=!1,r;function i(s){var a=Ode(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(I4(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,mx)).map(I4)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return v$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ps.apply(i,arguments),gc(i)}function x$(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=Fue(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Tg(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Wl),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return x$().domain(t).range(e).unknown(r)},ps.apply(s,arguments)}function b$(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[Tg(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return b$().domain([t,e]).range(i).unknown(s)},ps.apply(gc(a),arguments)}function w$(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Tg(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return w$().domain(t).range(e).unknown(n)},ps.apply(i,arguments)}const AE=new Date,IE=new Date;function Qn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let d;do c.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<a);return c},i.filter=s=>Qn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(AE.setTime(+s),IE.setTime(+a),t(AE),t(IE),Math.floor(n(AE,IE))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const yx=Qn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);yx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Qn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):yx);yx.range;const vo=1e3,is=vo*60,xo=is*60,Ao=xo*24,wA=Ao*7,j4=Ao*30,jE=Ao*365,cu=Qn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*vo)},(t,e)=>(e-t)/vo,t=>t.getUTCSeconds());cu.range;const _A=Qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vo)},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getMinutes());_A.range;const EA=Qn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*is)},(t,e)=>(e-t)/is,t=>t.getUTCMinutes());EA.range;const CA=Qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*vo-t.getMinutes()*is)},(t,e)=>{t.setTime(+t+e*xo)},(t,e)=>(e-t)/xo,t=>t.getHours());CA.range;const NA=Qn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*xo)},(t,e)=>(e-t)/xo,t=>t.getUTCHours());NA.range;const Ig=Qn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*is)/Ao,t=>t.getDate()-1);Ig.range;const Yb=Qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ao,t=>t.getUTCDate()-1);Yb.range;const _$=Qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ao,t=>Math.floor(t/Ao));_$.range;function nd(t){return Qn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*is)/wA)}const Qb=nd(0),vx=nd(1),Mde=nd(2),Lde=nd(3),eh=nd(4),Vde=nd(5),Fde=nd(6);Qb.range;vx.range;Mde.range;Lde.range;eh.range;Vde.range;Fde.range;function rd(t){return Qn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/wA)}const Jb=rd(0),xx=rd(1),Bde=rd(2),zde=rd(3),th=rd(4),Ude=rd(5),$de=rd(6);Jb.range;xx.range;Bde.range;zde.range;th.range;Ude.range;$de.range;const SA=Qn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());SA.range;const TA=Qn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());TA.range;const Io=Qn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Io.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Io.range;const jo=Qn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());jo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Qn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});jo.range;function E$(t,e,n,r,i,s){const a=[[cu,1,vo],[cu,5,5*vo],[cu,15,15*vo],[cu,30,30*vo],[s,1,is],[s,5,5*is],[s,15,15*is],[s,30,30*is],[i,1,xo],[i,3,3*xo],[i,6,6*xo],[i,12,12*xo],[r,1,Ao],[r,2,2*Ao],[n,1,wA],[e,1,j4],[e,3,3*j4],[t,1,jE]];function l(d,f,m){const p=f<d;p&&([d,f]=[f,d]);const y=m&&typeof m.range=="function"?m:c(d,f,m),x=y?y.range(d,+f+1):[];return p?x.reverse():x}function c(d,f,m){const p=Math.abs(f-d)/m,y=lA(([,,_])=>_).right(a,p);if(y===a.length)return t.every(wS(d/jE,f/jE,m));if(y===0)return yx.every(Math.max(wS(d,f,m),1));const[x,b]=a[p/a[y-1][2]<a[y][2]/p?y-1:y];return x.every(b)}return[l,c]}const[qde,Hde]=E$(jo,TA,Jb,_$,NA,EA),[Wde,Kde]=E$(Io,SA,Qb,Ig,CA,_A);function kE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function RE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Am(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Gde(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,d=Im(i),f=jm(i),m=Im(s),p=jm(s),y=Im(a),x=jm(a),b=Im(l),_=jm(l),S=Im(c),M=jm(c),O={a:k,A:Q,b:H,B:R,c:null,d:L4,e:L4,f:yfe,g:Tfe,G:Afe,H:mfe,I:pfe,j:gfe,L:C$,m:vfe,M:xfe,p:U,q:K,Q:B4,s:z4,S:bfe,u:wfe,U:_fe,V:Efe,w:Cfe,W:Nfe,x:null,X:null,y:Sfe,Y:Pfe,Z:Ife,"%":F4},z={a:J,A:G,b:te,B:ie,c:null,d:V4,e:V4,f:Dfe,g:qfe,G:Wfe,H:jfe,I:kfe,j:Rfe,L:S$,m:Ofe,M:Mfe,p:ne,q:xe,Q:B4,s:z4,S:Lfe,u:Vfe,U:Ffe,V:Bfe,w:zfe,W:Ufe,x:null,X:null,y:$fe,Y:Hfe,Z:Kfe,"%":F4},I={a:j,A:D,b:L,B,c:$,d:O4,e:O4,f:ufe,g:D4,G:R4,H:M4,I:M4,j:afe,L:cfe,m:sfe,M:ofe,p:A,q:ife,Q:ffe,s:hfe,S:lfe,u:Zde,U:efe,V:tfe,w:Jde,W:nfe,x:Y,X:Z,y:D4,Y:R4,Z:rfe,"%":dfe};O.x=P(n,O),O.X=P(r,O),O.c=P(e,O),z.x=P(n,z),z.X=P(r,z),z.c=P(e,z);function P(ae,ve){return function(Te){var me=[],Ie=-1,De=0,Ze=ae.length,ct,Fe,yt;for(Te instanceof Date||(Te=new Date(+Te));++Ie<Ze;)ae.charCodeAt(Ie)===37&&(me.push(ae.slice(De,Ie)),(Fe=k4[ct=ae.charAt(++Ie)])!=null?ct=ae.charAt(++Ie):Fe=ct==="e"?" ":"0",(yt=ve[ct])&&(ct=yt(Te,Fe)),me.push(ct),De=Ie+1);return me.push(ae.slice(De,Ie)),me.join("")}}function C(ae,ve){return function(Te){var me=Am(1900,void 0,1),Ie=N(me,ae,Te+="",0),De,Ze;if(Ie!=Te.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(ve&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(De=RE(Am(me.y,0,1)),Ze=De.getUTCDay(),De=Ze>4||Ze===0?xx.ceil(De):xx(De),De=Yb.offset(De,(me.V-1)*7),me.y=De.getUTCFullYear(),me.m=De.getUTCMonth(),me.d=De.getUTCDate()+(me.w+6)%7):(De=kE(Am(me.y,0,1)),Ze=De.getDay(),De=Ze>4||Ze===0?vx.ceil(De):vx(De),De=Ig.offset(De,(me.V-1)*7),me.y=De.getFullYear(),me.m=De.getMonth(),me.d=De.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Ze="Z"in me?RE(Am(me.y,0,1)).getUTCDay():kE(Am(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Ze+5)%7:me.w+me.U*7-(Ze+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,RE(me)):kE(me)}}function N(ae,ve,Te,me){for(var Ie=0,De=ve.length,Ze=Te.length,ct,Fe;Ie<De;){if(me>=Ze)return-1;if(ct=ve.charCodeAt(Ie++),ct===37){if(ct=ve.charAt(Ie++),Fe=I[ct in k4?ve.charAt(Ie++):ct],!Fe||(me=Fe(ae,Te,me))<0)return-1}else if(ct!=Te.charCodeAt(me++))return-1}return me}function A(ae,ve,Te){var me=d.exec(ve.slice(Te));return me?(ae.p=f.get(me[0].toLowerCase()),Te+me[0].length):-1}function j(ae,ve,Te){var me=y.exec(ve.slice(Te));return me?(ae.w=x.get(me[0].toLowerCase()),Te+me[0].length):-1}function D(ae,ve,Te){var me=m.exec(ve.slice(Te));return me?(ae.w=p.get(me[0].toLowerCase()),Te+me[0].length):-1}function L(ae,ve,Te){var me=S.exec(ve.slice(Te));return me?(ae.m=M.get(me[0].toLowerCase()),Te+me[0].length):-1}function B(ae,ve,Te){var me=b.exec(ve.slice(Te));return me?(ae.m=_.get(me[0].toLowerCase()),Te+me[0].length):-1}function $(ae,ve,Te){return N(ae,e,ve,Te)}function Y(ae,ve,Te){return N(ae,n,ve,Te)}function Z(ae,ve,Te){return N(ae,r,ve,Te)}function k(ae){return a[ae.getDay()]}function Q(ae){return s[ae.getDay()]}function H(ae){return c[ae.getMonth()]}function R(ae){return l[ae.getMonth()]}function U(ae){return i[+(ae.getHours()>=12)]}function K(ae){return 1+~~(ae.getMonth()/3)}function J(ae){return a[ae.getUTCDay()]}function G(ae){return s[ae.getUTCDay()]}function te(ae){return c[ae.getUTCMonth()]}function ie(ae){return l[ae.getUTCMonth()]}function ne(ae){return i[+(ae.getUTCHours()>=12)]}function xe(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var ve=P(ae+="",O);return ve.toString=function(){return ae},ve},parse:function(ae){var ve=C(ae+="",!1);return ve.toString=function(){return ae},ve},utcFormat:function(ae){var ve=P(ae+="",z);return ve.toString=function(){return ae},ve},utcParse:function(ae){var ve=C(ae+="",!0);return ve.toString=function(){return ae},ve}}}var k4={"-":"",_:" ",0:"0"},fr=/^\s*\d+/,Xde=/^%/,Yde=/[\\^$*+?|[\]().{}]/g;function Lt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Qde(t){return t.replace(Yde,"\\$&")}function Im(t){return new RegExp("^(?:"+t.map(Qde).join("|")+")","i")}function jm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Jde(t,e,n){var r=fr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Zde(t,e,n){var r=fr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function efe(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function tfe(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function nfe(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function R4(t,e,n){var r=fr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function D4(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function rfe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ife(t,e,n){var r=fr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function sfe(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function O4(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function afe(t,e,n){var r=fr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function M4(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ofe(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function lfe(t,e,n){var r=fr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function cfe(t,e,n){var r=fr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ufe(t,e,n){var r=fr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function dfe(t,e,n){var r=Xde.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ffe(t,e,n){var r=fr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function hfe(t,e,n){var r=fr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function L4(t,e){return Lt(t.getDate(),e,2)}function mfe(t,e){return Lt(t.getHours(),e,2)}function pfe(t,e){return Lt(t.getHours()%12||12,e,2)}function gfe(t,e){return Lt(1+Ig.count(Io(t),t),e,3)}function C$(t,e){return Lt(t.getMilliseconds(),e,3)}function yfe(t,e){return C$(t,e)+"000"}function vfe(t,e){return Lt(t.getMonth()+1,e,2)}function xfe(t,e){return Lt(t.getMinutes(),e,2)}function bfe(t,e){return Lt(t.getSeconds(),e,2)}function wfe(t){var e=t.getDay();return e===0?7:e}function _fe(t,e){return Lt(Qb.count(Io(t)-1,t),e,2)}function N$(t){var e=t.getDay();return e>=4||e===0?eh(t):eh.ceil(t)}function Efe(t,e){return t=N$(t),Lt(eh.count(Io(t),t)+(Io(t).getDay()===4),e,2)}function Cfe(t){return t.getDay()}function Nfe(t,e){return Lt(vx.count(Io(t)-1,t),e,2)}function Sfe(t,e){return Lt(t.getFullYear()%100,e,2)}function Tfe(t,e){return t=N$(t),Lt(t.getFullYear()%100,e,2)}function Pfe(t,e){return Lt(t.getFullYear()%1e4,e,4)}function Afe(t,e){var n=t.getDay();return t=n>=4||n===0?eh(t):eh.ceil(t),Lt(t.getFullYear()%1e4,e,4)}function Ife(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Lt(e/60|0,"0",2)+Lt(e%60,"0",2)}function V4(t,e){return Lt(t.getUTCDate(),e,2)}function jfe(t,e){return Lt(t.getUTCHours(),e,2)}function kfe(t,e){return Lt(t.getUTCHours()%12||12,e,2)}function Rfe(t,e){return Lt(1+Yb.count(jo(t),t),e,3)}function S$(t,e){return Lt(t.getUTCMilliseconds(),e,3)}function Dfe(t,e){return S$(t,e)+"000"}function Ofe(t,e){return Lt(t.getUTCMonth()+1,e,2)}function Mfe(t,e){return Lt(t.getUTCMinutes(),e,2)}function Lfe(t,e){return Lt(t.getUTCSeconds(),e,2)}function Vfe(t){var e=t.getUTCDay();return e===0?7:e}function Ffe(t,e){return Lt(Jb.count(jo(t)-1,t),e,2)}function T$(t){var e=t.getUTCDay();return e>=4||e===0?th(t):th.ceil(t)}function Bfe(t,e){return t=T$(t),Lt(th.count(jo(t),t)+(jo(t).getUTCDay()===4),e,2)}function zfe(t){return t.getUTCDay()}function Ufe(t,e){return Lt(xx.count(jo(t)-1,t),e,2)}function $fe(t,e){return Lt(t.getUTCFullYear()%100,e,2)}function qfe(t,e){return t=T$(t),Lt(t.getUTCFullYear()%100,e,2)}function Hfe(t,e){return Lt(t.getUTCFullYear()%1e4,e,4)}function Wfe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?th(t):th.ceil(t),Lt(t.getUTCFullYear()%1e4,e,4)}function Kfe(){return"+0000"}function F4(){return"%"}function B4(t){return+t}function z4(t){return Math.floor(+t/1e3)}var Gd,P$,A$;Gfe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Gfe(t){return Gd=Gde(t),P$=Gd.format,Gd.parse,A$=Gd.utcFormat,Gd.utcParse,Gd}function Xfe(t){return new Date(t)}function Yfe(t){return t instanceof Date?+t:+new Date(+t)}function PA(t,e,n,r,i,s,a,l,c,d){var f=mA(),m=f.invert,p=f.domain,y=d(".%L"),x=d(":%S"),b=d("%I:%M"),_=d("%I %p"),S=d("%a %d"),M=d("%b %d"),O=d("%B"),z=d("%Y");function I(P){return(c(P)<P?y:l(P)<P?x:a(P)<P?b:s(P)<P?_:r(P)<P?i(P)<P?S:M:n(P)<P?O:z)(P)}return f.invert=function(P){return new Date(m(P))},f.domain=function(P){return arguments.length?p(Array.from(P,Yfe)):p().map(Xfe)},f.ticks=function(P){var C=p();return t(C[0],C[C.length-1],P??10)},f.tickFormat=function(P,C){return C==null?I:d(C)},f.nice=function(P){var C=p();return(!P||typeof P.range!="function")&&(P=e(C[0],C[C.length-1],P??10)),P?p(p$(C,P)):f},f.copy=function(){return Ag(f,PA(t,e,n,r,i,s,a,l,c,d))},f}function Qfe(){return ps.apply(PA(Wde,Kde,Io,SA,Qb,Ig,CA,_A,cu,P$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jfe(){return ps.apply(PA(qde,Hde,jo,TA,Jb,Yb,NA,EA,cu,A$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zb(){var t=0,e=1,n,r,i,s,a=Kr,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:a(i===0?.5:(m=(s(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(a=m,d):a};function f(m){return function(p){var y,x;return arguments.length?([y,x]=p,a=m(y,x),d):[a(0),a(1)]}}return d.range=f(vh),d.rangeRound=f(hA),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function yc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function I$(){var t=gc(Zb()(Kr));return t.copy=function(){return yc(t,I$())},$o.apply(t,arguments)}function j$(){var t=yA(Zb()).domain([1,10]);return t.copy=function(){return yc(t,j$()).base(t.base())},$o.apply(t,arguments)}function k$(){var t=vA(Zb());return t.copy=function(){return yc(t,k$()).constant(t.constant())},$o.apply(t,arguments)}function AA(){var t=xA(Zb());return t.copy=function(){return yc(t,AA()).exponent(t.exponent())},$o.apply(t,arguments)}function Zfe(){return AA.apply(null,arguments).exponent(.5)}function R$(){var t=[],e=Kr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Tg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Wl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Vue(t,s/r))},n.copy=function(){return R$(e).domain(t)},$o.apply(n,arguments)}function ew(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,d=Kr,f,m=!1,p;function y(b){return isNaN(b=+b)?p:(b=.5+((b=+f(b))-s)*(r*b<r*s?l:c),d(m?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,n]=b,i=f(t=+t),s=f(e=+e),a=f(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y):[t,e,n]},y.clamp=function(b){return arguments.length?(m=!!b,y):m},y.interpolator=function(b){return arguments.length?(d=b,y):d};function x(b){return function(_){var S,M,O;return arguments.length?([S,M,O]=_,d=dde(b,[S,M,O]),y):[d(0),d(.5),d(1)]}}return y.range=x(vh),y.rangeRound=x(hA),y.unknown=function(b){return arguments.length?(p=b,y):p},function(b){return f=b,i=b(t),s=b(e),a=b(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y}}function D$(){var t=gc(ew()(Kr));return t.copy=function(){return yc(t,D$())},$o.apply(t,arguments)}function O$(){var t=yA(ew()).domain([.1,1,10]);return t.copy=function(){return yc(t,O$()).base(t.base())},$o.apply(t,arguments)}function M$(){var t=vA(ew());return t.copy=function(){return yc(t,M$()).constant(t.constant())},$o.apply(t,arguments)}function IA(){var t=xA(ew());return t.copy=function(){return yc(t,IA()).exponent(t.exponent())},$o.apply(t,arguments)}function ehe(){return IA.apply(null,arguments).exponent(.5)}const Wm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:uA,scaleDiverging:D$,scaleDivergingLog:O$,scaleDivergingPow:IA,scaleDivergingSqrt:ehe,scaleDivergingSymlog:M$,scaleIdentity:m$,scaleImplicit:_S,scaleLinear:h$,scaleLog:g$,scaleOrdinal:cA,scalePoint:zue,scalePow:bA,scaleQuantile:x$,scaleQuantize:b$,scaleRadial:v$,scaleSequential:I$,scaleSequentialLog:j$,scaleSequentialPow:AA,scaleSequentialQuantile:R$,scaleSequentialSqrt:Zfe,scaleSequentialSymlog:k$,scaleSqrt:Dde,scaleSymlog:y$,scaleThreshold:w$,scaleTime:Qfe,scaleUtc:Jfe,tickFormat:f$},Symbol.toStringTag,{value:"Module"}));var qo=t=>t.chartData,L$=ye([qo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),jA=(t,e,n,r)=>r?L$(t):qo(t),the=(t,e,n)=>n?L$(t):qo(t);function ko(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Mt(e)&&Mt(n))return!0}return!1}function U4(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function V$(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Mt(n))i=n;else if(typeof n=="function")return;if(Mt(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(ko(a))return a}}function nhe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(ko(r))return U4(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Je(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&Z5.test(i)){var c=Z5.exec(i);if(c==null||c[1]==null||e==null)a=void 0;else{var d=+c[1];a=e[0]-d}}else a=e?.[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(Je(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e?.[1]))}catch{}else if(typeof s=="string"&&eO.test(s)){var f=eO.exec(s);if(f==null||f[1]==null||e==null)l=void 0;else{var m=+f[1];l=e[1]+m}}else l=e?.[1];var p=[a,l];if(ko(p))return e==null?p:U4(p,e,n)}}}var xh=1e9,rhe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},RA,pn=!0,ms="[DecimalError] ",xu=ms+"Invalid argument: ",kA=ms+"Exponent out of range: ",bh=Math.floor,Jc=Math.pow,ihe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Li,sr=1e7,ln=7,F$=9007199254740991,bx=bh(F$/ln),ze={};ze.absoluteValue=ze.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ze.comparedTo=ze.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ze.decimalPlaces=ze.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ln;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ze.dividedBy=ze.div=function(t){return _o(this,new this.constructor(t))};ze.dividedToIntegerBy=ze.idiv=function(t){var e=this,n=e.constructor;return Xt(_o(e,new n(t),0,1),n.precision)};ze.equals=ze.eq=function(t){return!this.cmp(t)};ze.exponent=function(){return Un(this)};ze.greaterThan=ze.gt=function(t){return this.cmp(t)>0};ze.greaterThanOrEqualTo=ze.gte=function(t){return this.cmp(t)>=0};ze.isInteger=ze.isint=function(){return this.e>this.d.length-2};ze.isNegative=ze.isneg=function(){return this.s<0};ze.isPositive=ze.ispos=function(){return this.s>0};ze.isZero=function(){return this.s===0};ze.lessThan=ze.lt=function(t){return this.cmp(t)<0};ze.lessThanOrEqualTo=ze.lte=function(t){return this.cmp(t)<1};ze.logarithm=ze.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Li))throw Error(ms+"NaN");if(n.s<1)throw Error(ms+(n.s?"NaN":"-Infinity"));return n.eq(Li)?new r(0):(pn=!1,e=_o(Up(n,s),Up(t,s),s),pn=!0,Xt(e,i))};ze.minus=ze.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?U$(e,t):B$(e,(t.s=-t.s,t))};ze.modulo=ze.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ms+"NaN");return n.s?(pn=!1,e=_o(n,t,0,1).times(t),pn=!0,n.minus(e)):Xt(new r(n),i)};ze.naturalExponential=ze.exp=function(){return z$(this)};ze.naturalLogarithm=ze.ln=function(){return Up(this)};ze.negated=ze.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ze.plus=ze.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?B$(e,t):U$(e,(t.s=-t.s,t))};ze.precision=ze.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xu+t);if(e=Un(i)+1,r=i.d.length-1,n=r*ln+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ze.squareRoot=ze.sqrt=function(){var t,e,n,r,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ms+"NaN")}for(t=Un(l),pn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Ia(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=bh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(_o(l,s,a+2)).times(.5),Ia(s.d).slice(0,a)===(e=Ia(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Xt(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return pn=!0,Xt(r,n)};ze.times=ze.mul=function(t){var e,n,r,i,s,a,l,c,d,f=this,m=f.constructor,p=f.d,y=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,n=f.e+t.e,c=p.length,d=y.length,c<d&&(s=p,p=y,y=s,a=c,c=d,d=a),s=[],a=c+d,r=a;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+y[r]*p[i-r-1]+e,s[i--]=l%sr|0,e=l/sr|0;s[i]=(s[i]+e)%sr|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,pn?Xt(t,m.precision):t};ze.toDecimalPlaces=ze.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(za(t,0,xh),e===void 0?e=r.rounding:za(e,0,8),Xt(n,t+Un(n)+1,e))};ze.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=$u(r,!0):(za(t,0,xh),e===void 0?e=i.rounding:za(e,0,8),r=Xt(new i(r),t+1,e),n=$u(r,!0,t+1)),n};ze.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?$u(i):(za(t,0,xh),e===void 0?e=s.rounding:za(e,0,8),r=Xt(new s(i),t+Un(i)+1,e),n=$u(r.abs(),!1,t+Un(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ze.toInteger=ze.toint=function(){var t=this,e=t.constructor;return Xt(new e(t),Un(t)+1,e.rounding)};ze.toNumber=function(){return+this};ze.toPower=ze.pow=function(t){var e,n,r,i,s,a,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(Li);if(l=new c(l),!l.s){if(t.s<1)throw Error(ms+"Infinity");return l}if(l.eq(Li))return l;if(r=c.precision,t.eq(Li))return Xt(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=f<0?-f:f)<=F$){for(i=new c(Li),e=Math.ceil(r/ln+4),pn=!1;n%2&&(i=i.times(l),q4(i.d,e)),n=bh(n/2),n!==0;)l=l.times(l),q4(l.d,e);return pn=!0,t.s<0?new c(Li).div(i):Xt(i,r)}}else if(s<0)throw Error(ms+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,pn=!1,i=t.times(Up(l,r+d)),pn=!0,i=z$(i),i.s=s,i};ze.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Un(i),r=$u(i,n<=s.toExpNeg||n>=s.toExpPos)):(za(t,1,xh),e===void 0?e=s.rounding:za(e,0,8),i=Xt(new s(i),t,e),n=Un(i),r=$u(i,t<=n||n<=s.toExpNeg,t)),r};ze.toSignificantDigits=ze.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(za(t,1,xh),e===void 0?e=r.rounding:za(e,0,8)),Xt(new r(n),t,e)};ze.toString=ze.valueOf=ze.val=ze.toJSON=ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Un(t),n=t.constructor;return $u(t,e<=n.toExpNeg||e>=n.toExpPos)};function B$(t,e){var n,r,i,s,a,l,c,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),pn?Xt(e,m):e;if(c=t.d,d=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,l=d.length):(r=d,i=a,l=c.length),a=Math.ceil(m/ln),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,r=d,d=c,c=r),n=0;s;)n=(c[--s]=c[s]+d[s]+n)/sr|0,c[s]%=sr;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,pn?Xt(e,m):e}function za(t,e,n){if(t!==~~t||t<e||t>n)throw Error(xu+t)}function Ia(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=ln-r.length,n&&(s+=Tl(n)),s+=r;a=t[e],r=a+"",n=ln-r.length,n&&(s+=Tl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var _o=(function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%sr|0,a=s/sr|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*sr+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,c,d,f,m,p,y,x,b,_,S,M,O,z,I,P,C,N,A=r.constructor,j=r.s==i.s?1:-1,D=r.d,L=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(ms+"Division by zero");for(c=r.e-i.e,C=L.length,I=D.length,y=new A(j),x=y.d=[],d=0;L[d]==(D[d]||0);)++d;if(L[d]>(D[d]||0)&&--c,s==null?M=s=A.precision:a?M=s+(Un(r)-Un(i))+1:M=s,M<0)return new A(0);if(M=M/ln+2|0,d=0,C==1)for(f=0,L=L[0],M++;(d<I||f)&&M--;d++)O=f*sr+(D[d]||0),x[d]=O/L|0,f=O%L|0;else{for(f=sr/(L[0]+1)|0,f>1&&(L=t(L,f),D=t(D,f),C=L.length,I=D.length),z=C,b=D.slice(0,C),_=b.length;_<C;)b[_++]=0;N=L.slice(),N.unshift(0),P=L[0],L[1]>=sr/2&&++P;do f=0,l=e(L,b,C,_),l<0?(S=b[0],C!=_&&(S=S*sr+(b[1]||0)),f=S/P|0,f>1?(f>=sr&&(f=sr-1),m=t(L,f),p=m.length,_=b.length,l=e(m,b,p,_),l==1&&(f--,n(m,C<p?N:L,p))):(f==0&&(l=f=1),m=L.slice()),p=m.length,p<_&&m.unshift(0),n(b,m,_),l==-1&&(_=b.length,l=e(L,b,C,_),l<1&&(f++,n(b,C<_?N:L,_))),_=b.length):l===0&&(f++,b=[0]),x[d++]=f,l&&b[0]?b[_++]=D[z]||0:(b=[D[z]],_=1);while((z++<I||b[0]!==void 0)&&M--)}return x[0]||x.shift(),y.e=c,Xt(y,a?s+Un(y)+1:s)}})();function z$(t,e){var n,r,i,s,a,l,c=0,d=0,f=t.constructor,m=f.precision;if(Un(t)>16)throw Error(kA+Un(t));if(!t.s)return new f(Li);for(pn=!1,l=m,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(Jc(2,d))/Math.LN10*2+5|0,l+=r,n=i=s=new f(Li),f.precision=l;;){if(i=Xt(i.times(t),l),n=n.times(++c),a=s.plus(_o(i,n,l)),Ia(a.d).slice(0,l)===Ia(s.d).slice(0,l)){for(;d--;)s=Xt(s.times(s),l);return f.precision=m,e==null?(pn=!0,Xt(s,m)):s}s=a}}function Un(t){for(var e=t.e*ln,n=t.d[0];n>=10;n/=10)e++;return e}function DE(t,e,n){if(e>t.LN10.sd())throw pn=!0,n&&(t.precision=n),Error(ms+"LN10 precision limit exceeded");return Xt(new t(t.LN10),e)}function Tl(t){for(var e="";t--;)e+="0";return e}function Up(t,e){var n,r,i,s,a,l,c,d,f,m=1,p=10,y=t,x=y.d,b=y.constructor,_=b.precision;if(y.s<1)throw Error(ms+(y.s?"NaN":"-Infinity"));if(y.eq(Li))return new b(0);if(e==null?(pn=!1,d=_):d=e,y.eq(10))return e==null&&(pn=!0),DE(b,d);if(d+=p,b.precision=d,n=Ia(x),r=n.charAt(0),s=Un(y),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=Ia(y.d),r=n.charAt(0),m++;s=Un(y),r>1?(y=new b("0."+n),s++):y=new b(r+"."+n.slice(1))}else return c=DE(b,d+2,_).times(s+""),y=Up(new b(r+"."+n.slice(1)),d-p).plus(c),b.precision=_,e==null?(pn=!0,Xt(y,_)):y;for(l=a=y=_o(y.minus(Li),y.plus(Li),d),f=Xt(y.times(y),d),i=3;;){if(a=Xt(a.times(f),d),c=l.plus(_o(a,new b(i),d)),Ia(c.d).slice(0,d)===Ia(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(DE(b,d+2,_).times(s+""))),l=_o(l,new b(m),d),b.precision=_,e==null?(pn=!0,Xt(l,_)):l;l=c,i+=2}}function $4(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=bh(n/ln),t.d=[],r=(n+1)%ln,n<0&&(r+=ln),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ln;r<i;)t.d.push(+e.slice(r,r+=ln));e=e.slice(r),r=ln-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),pn&&(t.e>bx||t.e<-bx))throw Error(kA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Xt(t,e,n){var r,i,s,a,l,c,d,f,m=t.d;for(a=1,s=m[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=ln,i=e,d=m[f=0];else{if(f=Math.ceil((r+1)/ln),s=m.length,f>=s)return t;for(d=s=m[f],a=1;s>=10;s/=10)a++;r%=ln,i=r-ln+a}if(n!==void 0&&(s=Jc(10,a-i-1),l=d/s%10|0,c=e<0||m[f+1]!==void 0||d%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/Jc(10,a-i):0:m[f-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(s=Un(t),m.length=1,e=e-s-1,m[0]=Jc(10,(ln-e%ln)%ln),t.e=bh(-e/ln)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=f,s=1,f--):(m.length=f+1,s=Jc(10,ln-r),m[f]=i>0?(d/Jc(10,a-i)%Jc(10,i)|0)*s:0),c)for(;;)if(f==0){(m[0]+=s)==sr&&(m[0]=1,++t.e);break}else{if(m[f]+=s,m[f]!=sr)break;m[f--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(pn&&(t.e>bx||t.e<-bx))throw Error(kA+Un(t));return t}function U$(t,e){var n,r,i,s,a,l,c,d,f,m,p=t.constructor,y=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),pn?Xt(e,y):e;if(c=t.d,m=e.d,r=e.e,d=t.e,c=c.slice(),a=d-r,a){for(f=a<0,f?(n=c,a=-a,l=m.length):(n=m,r=d,l=c.length),i=Math.max(Math.ceil(y/ln),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){f=c[i]<m[i];break}a=0}for(f&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>a;){if(c[--i]<m[i]){for(s=i;s&&c[--s]===0;)c[s]=sr-1;--c[s],c[i]+=sr}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,pn?Xt(e,y):e):new p(0)}function $u(t,e,n){var r,i=Un(t),s=Ia(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Tl(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Tl(-i-1)+s,n&&(r=n-a)>0&&(s+=Tl(r))):i>=a?(s+=Tl(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Tl(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Tl(r))),t.s<0?"-"+s:s}function q4(t,e){if(t.length>e)return t.length=e,!0}function $$(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(xu+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return $4(a,s.toString())}else if(typeof s!="string")throw Error(xu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,ihe.test(s))$4(a,s);else throw Error(xu+s)}if(i.prototype=ze,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=$$,i.config=i.set=she,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function she(t){if(!t||typeof t!="object")throw Error(ms+"Object expected");var e,n,r,i=["precision",1,xh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(bh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(xu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(xu+n+": "+r);return this}var RA=$$(rhe);Li=new RA(1);const $t=RA;function q$(t){var e;return t===0?e=1:e=Math.floor(new $t(t).abs().log(10).toNumber())+1,e}function H$(t,e,n){for(var r=new $t(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var W$=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},K$=(t,e,n)=>{if(t.lte(0))return new $t(0);var r=q$(t.toNumber()),i=new $t(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new $t(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?new $t(c.toNumber()):new $t(Math.ceil(c.toNumber()))},ahe=(t,e,n)=>{var r=new $t(1),i=new $t(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new $t(10).pow(q$(t)-1),i=new $t(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new $t(Math.floor(t)))}else t===0?i=new $t(Math.floor((e-1)/2)):n||(i=new $t(Math.floor(t)));for(var a=Math.floor((e-1)/2),l=[],c=0;c<e;c++)l.push(i.add(new $t(c-a).mul(r)).toNumber());return l},G$=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new $t(0),tickMin:new $t(0),tickMax:new $t(0)};var a=K$(new $t(n).sub(e).div(r-1),i,s),l;e<=0&&n>=0?l=new $t(0):(l=new $t(e).add(n).div(2),l=l.sub(new $t(l).mod(a)));var c=Math.ceil(l.sub(e).div(a).toNumber()),d=Math.ceil(new $t(n).sub(l).div(a).toNumber()),f=c+d+1;return f>r?G$(e,n,r,i,s+1):(f<r&&(d=n>0?d+(r-f):d,c=n>0?c:c+(r-f)),{step:a,tickMin:l.sub(new $t(c).mul(a)),tickMax:l.add(new $t(d).mul(a))})},ohe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[l,c]=W$([n,r]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return n>r?d.reverse():d}if(l===c)return ahe(l,i,s);var{step:f,tickMin:m,tickMax:p}=G$(l,c,a,s,0),y=H$(m,p.add(new $t(.1).mul(f)),f);return n>r?y.reverse():y},lhe=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=W$([r,i]);if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var c=Math.max(n,2),d=K$(new $t(l).sub(a).div(c-1),s,0),f=[...H$(new $t(a),new $t(l),d),l];return s===!1&&(f=f.map(m=>Math.round(m))),r>i?f.reverse():f},che=t=>t.rootProps.barCategoryGap,tw=t=>t.rootProps.stackOffset,X$=t=>t.rootProps.reverseStackOrder,DA=t=>t.options.chartName,OA=t=>t.rootProps.syncId,Y$=t=>t.rootProps.syncMethod,MA=t=>t.options.eventEmitter,uhe=t=>t.rootProps.baseValue,Gr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},qc={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ma={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},nw=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function LA(t,e,n){if(n!=="auto")return n;if(t!=null)return Ws(t,e)?"category":"number"}function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(r){dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dhe(t,e,n){return(e=fhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fhe(t){var e=hhe(t,"string");return typeof e=="symbol"?e:e+""}function hhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W4={allowDataOverflow:qc.allowDataOverflow,allowDecimals:qc.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:qc.angleAxisId,includeHidden:!1,name:void 0,reversed:qc.reversed,scale:qc.scale,tick:qc.tick,tickCount:void 0,ticks:void 0,type:qc.type,unit:void 0},K4={allowDataOverflow:ma.allowDataOverflow,allowDecimals:ma.allowDecimals,allowDuplicatedCategory:ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ma.radiusAxisId,includeHidden:ma.includeHidden,name:void 0,reversed:ma.reversed,scale:ma.scale,tick:ma.tick,tickCount:ma.tickCount,ticks:void 0,type:ma.type,unit:void 0},mhe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},VA=ye([mhe,B8],(t,e)=>{var n;if(t!=null)return t;var r=(n=LA(e,"angleAxis",W4.type))!==null&&n!==void 0?n:"category";return wx(wx({},W4),{},{type:r})}),phe=(t,e)=>t.polarAxis.radiusAxis[e],FA=ye([phe,B8],(t,e)=>{var n;if(t!=null)return t;var r=(n=LA(e,"radiusAxis",K4.type))!==null&&n!==void 0?n:"category";return wx(wx({},K4),{},{type:r})}),rw=t=>t.polarOptions,BA=ye([zo,Uo,Tr],fue),Q$=ye([rw,BA],(t,e)=>{if(t!=null)return ic(t.innerRadius,e,0)}),J$=ye([rw,BA],(t,e)=>{if(t!=null)return ic(t.outerRadius,e,e*.8)}),ghe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},Z$=ye([rw],ghe);ye([VA,Z$],nw);var e9=ye([BA,Q$,J$],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ye([FA,e9],nw);var t9=ye([rn,rw,Q$,J$,zo,Uo],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:c,endAngle:d}=e;return{cx:ic(a,i,i/2),cy:ic(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),hr=(t,e)=>e,iw=(t,e,n)=>n;function zA(t){return t?.id}function n9(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var f=zA(l);d.forEach((m,p)=>{var y=s==null||i?p:String(Kn(m,s,null)),x=Kn(m,l.dataKey,0),b;a.has(y)?b=a.get(y):b={},Object.assign(b,{[f]:x}),a.set(y,b)})}}),Array.from(a.values())}function UA(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var sw=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function aw(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function yhe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var mr=t=>{var e=rn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},wh=t=>t.tooltip.settings.axisId;function vhe(t){if(t in Wm)return Wm[t]();var e="scale".concat(bg(t));if(e in Wm)return Wm[e]()}function G4(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(s){function a(){return s.apply(this,arguments)}return a.toString=function(){return s.toString()},a})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var a=i[0],l=i[1];return a<=l?s>=a&&s<=l:s>=l&&s<=a},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,a)=>{var l=t(s);if(l!=null){if(t.bandwidth&&a!==null&&a!==void 0&&a.position){var c=t.bandwidth();switch(a.position){case"middle":l+=c/2;break;case"end":l+=c;break}}return l}}}}function X4(t,e,n){if(typeof t=="function")return G4(t.copy().domain(e).range(n));if(t!=null){var r=vhe(t);if(r!=null)return r.domain(e).range(n),G4(r)}}var xhe=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!ko(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];Mt(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function Y4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(n),!0).forEach(function(r){bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bhe(t,e,n){return(e=whe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function whe(t){var e=_he(t,"string");return typeof e=="symbol"?e:e+""}function _he(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SS=[0,"auto"],r9={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ehe=(t,e)=>t.cartesianAxis.xAxis[e],Ho=(t,e)=>{var n=Ehe(t,e);return n??r9},rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:SS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Eg},i9=(t,e)=>t.cartesianAxis.yAxis[e],Wo=(t,e)=>{var n=i9(t,e);return n??rr},Che={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},$A=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Che},ti=(t,e,n)=>{switch(e){case"xAxis":return Ho(t,n);case"yAxis":return Wo(t,n);case"zAxis":return $A(t,n);case"angleAxis":return VA(t,n);case"radiusAxis":return FA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Nhe=(t,e,n)=>{switch(e){case"xAxis":return Ho(t,n);case"yAxis":return Wo(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},jg=(t,e,n)=>{switch(e){case"xAxis":return Ho(t,n);case"yAxis":return Wo(t,n);case"angleAxis":return VA(t,n);case"radiusAxis":return FA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},s9=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function a9(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var qA=t=>t.graphicalItems.cartesianItems,She=ye([hr,iw],a9),o9=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),kg=ye([qA,ti,She],o9,{memoizeOptions:{resultEqualityCheck:aw}}),l9=ye([kg],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(UA)),c9=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),The=ye([kg],c9),u9=t=>t.map(e=>e.data).filter(Boolean).flat(1),Phe=ye([kg],u9,{memoizeOptions:{resultEqualityCheck:aw}}),d9=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},HA=ye([Phe,jA],d9),f9=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Kn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Kn(i,r)}))):t.map(r=>({value:r})),ow=ye([HA,ti,kg],f9);function h9(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function e0(t){if(Ba(t)||t instanceof Date){var e=Number(t);if(Mt(e))return e}}function Q4(t){if(Array.isArray(t)){var e=[e0(t[0]),e0(t[1])];return ko(e)?e:void 0}var n=e0(t);if(n!=null)return[n,n]}function Ro(t){return t.map(e0).filter(Pa)}function Ahe(t,e,n){return!n||typeof e!="number"||Fa(e)?[]:n.length?Ro(n.flatMap(r=>{var i=Kn(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Mt(s)||!Mt(a)))return[e-s,e+a]})):[]}var Jn=t=>{var e=mr(t),n=wh(t);return jg(t,e,n)},Rg=ye([Jn],t=>t?.dataKey),Ihe=ye([l9,jA,Jn],n9),m9=(t,e,n,r)=>{var i={},s=e.reduce((a,l)=>{if(l.stackId==null)return a;var c=a[l.stackId];return c==null&&(c=[]),c.push(l),a[l.stackId]=c,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[l,c]=a,d=r?[...c].reverse():c,f=d.map(zA);return[l,{stackedData:ele(t,f,n),graphicalItems:d}]}))},p9=ye([Ihe,l9,tw,X$],m9),g9=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=ile(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},jhe=ye([ti],t=>t.allowDataOverflow),WA=t=>{var e;if(t==null||!("domain"in t))return SS;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Ro(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:SS},y9=ye([ti],WA),v9=ye([y9,jhe],V$),khe=ye([p9,qo,hr,v9],g9,{memoizeOptions:{resultEqualityCheck:sw}}),KA=t=>t.errorBars,Rhe=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>h9(n,r)),Ex=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},x9=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(l=>{n.forEach(c=>{var d,f,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(S=>h9(i,S)),p=Kn(l,(f=e.dataKey)!==null&&f!==void 0?f:c.dataKey),y=Ahe(l,p,m);if(y.length>=2){var x=Math.min(...y),b=Math.max(...y);(s==null||x<s)&&(s=x),(a==null||b>a)&&(a=b)}var _=Q4(p);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),a=a==null?_[1]:Math.max(a,_[1]))})}),e?.dataKey!=null&&t.forEach(l=>{var c=Q4(Kn(l,e.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),Mt(s)&&Mt(a))return[s,a]},Dhe=ye([HA,ti,The,KA,hr],x9,{memoizeOptions:{resultEqualityCheck:sw}});function Ohe(t){var{value:e}=t;if(Ba(e)||e instanceof Date)return e}var Mhe=(t,e,n)=>{var r=t.map(Ohe).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&zU(r))?r$(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},b9=t=>t.referenceElements.dots,_h=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Lhe=ye([b9,hr,iw],_h),w9=t=>t.referenceElements.areas,Vhe=ye([w9,hr,iw],_h),_9=t=>t.referenceElements.lines,Fhe=ye([_9,hr,iw],_h),E9=(t,e)=>{if(t!=null){var n=Ro(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Bhe=ye(Lhe,hr,E9),C9=(t,e)=>{if(t!=null){var n=Ro(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},zhe=ye([Vhe,hr],C9);function Uhe(t){var e;if(t.x!=null)return Ro([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Ro(n)}function $he(t){var e;if(t.y!=null)return Ro([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Ro(n)}var N9=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Uhe(r):$he(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},qhe=ye([Fhe,hr],N9),Hhe=ye(Bhe,qhe,zhe,(t,e,n)=>Ex(t,n,e)),S9=(t,e,n,r,i,s,a,l)=>{if(n!=null)return n;var c=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",d=c?Ex(r,s,i):Ex(s,i);return nhe(e,d,t.allowDataOverflow)},Whe=ye([ti,y9,v9,khe,Dhe,Hhe,rn,hr],S9,{memoizeOptions:{resultEqualityCheck:sw}}),Khe=[0,1],T9=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:c}=t,d=Ws(e,s);if(d&&l==null){var f;return r$(0,(f=n?.length)!==null&&f!==void 0?f:0)}return c==="category"?Mhe(r,t,d):i==="expand"?Khe:a}},GA=ye([ti,rn,HA,ow,tw,hr,Whe],T9);function Ghe(t){return t in Wm}var P9=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(bg(r));return Ghe(s)?s:"point"}}},Eh=ye([ti,s9,DA],P9);function XA(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?X4(t.scale,n,r):X4(e,n,r)}var A9=(t,e,n)=>{var r=WA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&ko(t))return ohe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ko(t))return lhe(t,e.tickCount,e.allowDecimals)}},YA=ye([GA,jg,Eh],A9),I9=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&ko(e)&&Array.isArray(n)&&n.length>0){var i,s,a=e[0],l=(i=n[0])!==null&&i!==void 0?i:0,c=e[1],d=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(a,l),Math.max(c,d)]}return e},Xhe=ye([ti,GA,YA,hr],I9),Yhe=ye(ow,ti,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Ro(t.map(m=>m.value))).sort((m,p)=>m-p),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l],d=r[l+1];if(!(c==null||d==null)){var f=d-c;n=Math.min(n,f)}}return n/a}}),j9=ye(Yhe,rn,che,Tr,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Mt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=ic(n,t*s),l=t*s/2;return l-a-(l-a)/s*a}return 0}),Qhe=(t,e,n)=>{var r=Ho(t,e);return r==null||typeof r.padding!="string"?0:j9(t,"xAxis",e,n,r.padding)},Jhe=(t,e,n)=>{var r=Wo(t,e);return r==null||typeof r.padding!="string"?0:j9(t,"yAxis",e,n,r.padding)},Zhe=ye(Ho,Qhe,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),eme=ye(Wo,Jhe,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),tme=ye([Tr,Zhe,Ub,zb,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),nme=ye([Tr,rn,eme,Ub,zb,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Dg=(t,e,n,r)=>{var i;switch(e){case"xAxis":return tme(t,n,r);case"yAxis":return nme(t,n,r);case"zAxis":return(i=$A(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return Z$(t);case"radiusAxis":return e9(t,n);default:return}},k9=ye([ti,Dg],nw),rme=ye([Eh,Xhe],xhe),lw=ye([ti,Eh,rme,k9],XA);ye([kg,KA,hr],Rhe);function R9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var cw=(t,e)=>e,uw=(t,e,n)=>n,ime=ye(Fb,cw,uw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(R9)),sme=ye(Bb,cw,uw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(R9)),D9=(t,e)=>({width:t.width,height:e.height}),ame=(t,e)=>{var n=typeof e.width=="number"?e.width:Eg;return{width:n,height:t.height}};ye(Tr,Ho,D9);var ome=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},lme=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},cme=ye(Uo,Tr,ime,cw,uw,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=D9(e,l);a==null&&(a=ome(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(d)*c.height,a+=(d?-1:1)*c.height}),s}),ume=ye(zo,Tr,sme,cw,uw,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=ame(e,l);a==null&&(a=lme(e,r,t));var d=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(d)*c.width,a+=(d?-1:1)*c.width}),s}),dme=(t,e)=>{var n=Ho(t,e);if(n!=null)return cme(t,n.orientation,n.mirror)};ye([Tr,Ho,dme,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}});var fme=(t,e)=>{var n=Wo(t,e);if(n!=null)return ume(t,n.orientation,n.mirror)},hme=ye([Tr,Wo,fme,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),mme=ye(Tr,Wo,(t,e)=>{var n=typeof e.width=="number"?e.width:Eg;return{width:n,height:t.height}}),O9=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=Ws(t,r),c=e.map(d=>d.value);if(a&&l&&s==="category"&&i&&zU(c))return c}},QA=ye([rn,ow,ti,hr],O9),M9=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Ws(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},JA=ye([rn,ow,jg,hr],M9);ye([rn,Nhe,Eh,lw,QA,JA,Dg,YA,hr],(t,e,n,r,i,s,a,l,c)=>{if(e!=null){var d=Ws(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:l,range:a,realScaleType:n,scale:r}}});var pme=(t,e,n,r,i,s,a,l,c)=>{if(!(e==null||r==null)){var d=Ws(t,c),{type:f,ticks:m,tickCount:p}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/y:0;x=c==="angleAxis"&&s!=null&&s.length>=2?Os(s[0]-s[1])*2*x:x;var b=m||i;return b?b.map((_,S)=>{var M=a?a.indexOf(_):_,O=r.map(M);return Mt(O)?{index:S,coordinate:O+x,value:_,offset:x}:null}).filter(Pa):d&&l?l.map((_,S)=>{var M=r.map(_);return Mt(M)?{coordinate:M+x,value:_,index:S,offset:x}:null}).filter(Pa):r.ticks?r.ticks(p).map((_,S)=>{var M=r.map(_);return Mt(M)?{coordinate:M+x,value:_,index:S,offset:x}:null}).filter(Pa):r.domain().map((_,S)=>{var M=r.map(_);return Mt(M)?{coordinate:M+x,value:a?a[_]:_,index:S,offset:x}:null}).filter(Pa)}},gme=ye([rn,jg,Eh,lw,YA,Dg,QA,JA,hr],pme),yme=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Ws(t,a),{tickCount:c}=e,d=0;return d=a==="angleAxis"&&r?.length>=2?Os(r[0]-r[1])*2*d:d,l&&s?s.map((f,m)=>{var p=n.map(f);return Mt(p)?{coordinate:p+d,value:f,index:m,offset:d}:null}).filter(Pa):n.ticks?n.ticks(c).map((f,m)=>{var p=n.map(f);return Mt(p)?{coordinate:p+d,value:f,index:m,offset:d}:null}).filter(Pa):n.domain().map((f,m)=>{var p=n.map(f);return Mt(p)?{coordinate:p+d,value:i?i[f]:f,index:m,offset:d}:null}).filter(Pa)}},dw=ye([rn,jg,lw,Dg,QA,JA,hr],yme),fw=ye(ti,lw,(t,e)=>{if(!(t==null||e==null))return _x(_x({},t),{},{scale:e})}),vme=ye([ti,Eh,GA,k9],XA);ye((t,e,n)=>$A(t,n),vme,(t,e)=>{if(!(t==null||e==null))return _x(_x({},t),{},{scale:e})});var xme=ye([rn,Fb,Bb],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),L9=t=>t.options.defaultTooltipEventType,V9=t=>t.options.validateTooltipEventTypes;function F9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function ZA(t,e){var n=L9(t),r=V9(t);return F9(e,n,r)}function bme(t){return mt(e=>ZA(e,t))}var B9=(t,e)=>{var n,r=Number(e);if(!(Fa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},wme=t=>t.tooltip.settings,Ol={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},_me={itemInteraction:{click:Ol,hover:Ol},axisInteraction:{click:Ol,hover:Ol},keyboardInteraction:Ol,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},z9=Ei({name:"tooltip",initialState:_me,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:fn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Fs(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:fn()},removeTooltipEntrySettings:{reducer(t,e){var n=Fs(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:fn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Eme,replaceTooltipEntrySettings:Cme,removeTooltipEntrySettings:Nme,setTooltipSettingsState:Sme,setActiveMouseOverItemIndex:Tme,mouseLeaveItem:EAe,mouseLeaveChart:U9,setActiveClickItemIndex:CAe,setMouseOverAxisIndex:$9,setMouseClickAxisIndex:Pme,setSyncInteraction:TS,setKeyboardInteraction:PS}=z9.actions,Ame=z9.reducer;function J4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ev(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(n),!0).forEach(function(r){Ime(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ime(t,e,n){return(e=jme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jme(t){var e=kme(t,"string");return typeof e=="symbol"?e:e+""}function kme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rme(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Dme(t){return t.index!=null}var q9=(t,e,n,r)=>{if(e==null)return Ol;var i=Rme(t,e,n);if(i==null)return Ol;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(Dme(i)){if(s)return Ev(Ev({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Ev(Ev({},Ol),{},{coordinate:i.coordinate})};function Ome(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Mme(t,e){var n=Ome(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function Lme(t,e,n){if(n==null||e==null)return!0;var r=Kn(t,e);return r==null||!ko(n)?!0:Mme(r,n)}var eI=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Mt(s))return i;var a=0,l=1/0;e.length>0&&(l=e.length-1);var c=Math.max(a,Math.min(s,l)),d=e[c];return d==null||Lme(d,n,r)?String(c):null},H9=(t,e,n,r,i,s,a)=>{if(s!=null){var l=a[0],c=l?.getPosition(s);if(c!=null)return c;var d=i?.[Number(s)];if(d)return n==="horizontal"?{x:d.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:d.coordinate}}},W9=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},K9=t=>t.options.tooltipPayloadSearcher,Ch=t=>t.tooltip;function Z4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(n),!0).forEach(function(r){Vme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vme(t,e,n){return(e=Fme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fme(t){var e=Bme(t,"string");return typeof e=="symbol"?e:e+""}function Bme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zme(t,e){return t??e}var G9=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:f}=n,m=[];return t.reduce((p,y)=>{var x,{dataDefinedOnItem:b,settings:_}=y,S=zme(b,l),M=Array.isArray(S)?R8(S,d,f):S,O=(x=_?.dataKey)!==null&&x!==void 0?x:r,z=_?.nameKey,I;if(r&&Array.isArray(M)&&!Array.isArray(M[0])&&a==="axis"?I=UU(M,r,i):I=s(M,e,c,z),Array.isArray(I))I.forEach(C=>{var N=eM(eM({},_),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});p.push(tO({tooltipEntrySettings:N,dataKey:C.dataKey,payload:C.payload,value:Kn(C.payload,C.dataKey),name:C.name}))});else{var P;p.push(tO({tooltipEntrySettings:_,dataKey:O,payload:I,value:Kn(I,O),name:(P=Kn(I,z))!==null&&P!==void 0?P:_?.name}))}return p},m)}},tI=ye([Jn,s9,DA],P9),Ume=ye([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),$me=ye([mr,wh],a9),Nh=ye([Ume,Jn,$me],o9,{memoizeOptions:{resultEqualityCheck:aw}}),qme=ye([Nh],t=>t.filter(UA)),Hme=ye([Nh],u9,{memoizeOptions:{resultEqualityCheck:aw}}),Sh=ye([Hme,qo],d9),Wme=ye([qme,qo,Jn],n9),nI=ye([Sh,Jn,Nh],f9),X9=ye([Jn],WA),Kme=ye([Jn],t=>t.allowDataOverflow),Y9=ye([X9,Kme],V$),Gme=ye([Nh],t=>t.filter(UA)),Xme=ye([Wme,Gme,tw,X$],m9),Yme=ye([Xme,qo,mr,Y9],g9),Qme=ye([Nh],c9),Jme=ye([Sh,Jn,Qme,KA,mr],x9,{memoizeOptions:{resultEqualityCheck:sw}}),Zme=ye([b9,mr,wh],_h),epe=ye([Zme,mr],E9),tpe=ye([w9,mr,wh],_h),npe=ye([tpe,mr],C9),rpe=ye([_9,mr,wh],_h),ipe=ye([rpe,mr],N9),spe=ye([epe,ipe,npe],Ex),ape=ye([Jn,X9,Y9,Yme,Jme,spe,rn,mr],S9),Og=ye([Jn,rn,Sh,nI,tw,mr,ape],T9),ope=ye([Og,Jn,tI],A9),lpe=ye([Jn,Og,ope,mr],I9),Q9=t=>{var e=mr(t),n=wh(t),r=!1;return Dg(t,e,n,r)},J9=ye([Jn,Q9],nw),Z9=ye([Jn,tI,lpe,J9],XA),cpe=ye([rn,nI,Jn,mr],O9),upe=ye([rn,nI,Jn,mr],M9),dpe=(t,e,n,r,i,s,a,l)=>{if(e){var{type:c}=e,d=Ws(t,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/f:0;return m=l==="angleAxis"&&i!=null&&i?.length>=2?Os(i[0]-i[1])*2*m:m,d&&a?a.map((p,y)=>{var x=r.map(p);return Mt(x)?{coordinate:x+m,value:p,index:y,offset:m}:null}).filter(Pa):r.domain().map((p,y)=>{var x=r.map(p);return Mt(x)?{coordinate:x+m,value:s?s[p]:p,index:y,offset:m}:null}).filter(Pa)}}},Ko=ye([rn,Jn,tI,Z9,Q9,cpe,upe,mr],dpe),rI=ye([L9,V9,wme],(t,e,n)=>F9(n.shared,t,e)),eq=t=>t.tooltip.settings.trigger,iI=t=>t.tooltip.settings.defaultIndex,Mg=ye([Ch,rI,eq,iI],q9),$p=ye([Mg,Sh,Rg,Og],eI),tq=ye([Ko,$p],B9),fpe=ye([Mg],t=>{if(t)return t.dataKey});ye([Mg],t=>{if(t)return t.graphicalItemId});var nq=ye([Ch,rI,eq,iI],W9),hpe=ye([zo,Uo,rn,Tr,Ko,iI,nq],H9),mpe=ye([Mg,hpe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),ppe=ye([Mg],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),gpe=ye([nq,$p,qo,Rg,tq,K9,rI],G9),ype=ye([gpe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function tM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tM(Object(n),!0).forEach(function(r){vpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vpe(t,e,n){return(e=xpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xpe(t){var e=bpe(t,"string");return typeof e=="symbol"?e:e+""}function bpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wpe=()=>mt(Jn),_pe=()=>{var t=wpe(),e=mt(Ko),n=mt(Z9);return Qf(!t||!n?void 0:nM(nM({},t),{},{scale:n}),e)};function rM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rM(Object(n),!0).forEach(function(r){Epe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Epe(t,e,n){return(e=Cpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cpe(t){var e=Npe(t,"string");return typeof e=="symbol"?e:e+""}function Npe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Spe=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Tpe=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=r;return Xd(Xd(Xd({},r),Cr(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=r;return Xd(Xd(Xd({},r),Cr(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Ppe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var rq=(t,e,n,r,i)=>{var s,a=(s=e?.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var c,d,f,m,p,y=l>0?(c=n[l-1])===null||c===void 0?void 0:c.coordinate:(d=n[a-1])===null||d===void 0?void 0:d.coordinate,x=(f=n[l])===null||f===void 0?void 0:f.coordinate,b=l>=a-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(p=n[l+1])===null||p===void 0?void 0:p.coordinate,_=void 0;if(!(y==null||x==null||b==null))if(Os(x-y)!==Os(b-x)){var S=[];if(Os(b-x)===Os(i[1]-i[0])){_=b;var M=x+i[1]-i[0];S[0]=Math.min(M,(M+y)/2),S[1]=Math.max(M,(M+y)/2)}else{_=y;var O=b+i[1]-i[0];S[0]=Math.min(x,(O+x)/2),S[1]=Math.max(x,(O+x)/2)}var z=[Math.min(x,(_+x)/2),Math.max(x,(_+x)/2)];if(t>z[0]&&t<=z[1]||t>=S[0]&&t<=S[1]){var I;return(I=n[l])===null||I===void 0?void 0:I.index}}else{var P=Math.min(y,b),C=Math.max(y,b);if(t>(P+x)/2&&t<=(C+x)/2){var N;return(N=n[l])===null||N===void 0?void 0:N.index}}}else if(e)for(var A=0;A<a;A++){var j=e[A];if(j!=null){var D=e[A+1],L=e[A-1];if(A===0&&D!=null&&t<=(j.coordinate+D.coordinate)/2||A===a-1&&L!=null&&t>(j.coordinate+L.coordinate)/2||A>0&&A<a-1&&L!=null&&D!=null&&t>(j.coordinate+L.coordinate)/2&&t<=(j.coordinate+D.coordinate)/2)return j.index}}return-1},iq=()=>mt(DA),sI=(t,e)=>e,sq=(t,e,n)=>n,aI=(t,e,n,r)=>r,Ape=ye(Ko,t=>Pb(t,e=>e.coordinate)),oI=ye([Ch,sI,sq,aI],q9),lI=ye([oI,Sh,Rg,Og],eI),Ipe=(t,e,n)=>{if(e!=null){var r=Ch(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},aq=ye([Ch,sI,sq,aI],W9),Cx=ye([zo,Uo,rn,Tr,Ko,aI,aq],H9),jpe=ye([oI,Cx],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),oq=ye([Ko,lI],B9),kpe=ye([aq,lI,qo,Rg,oq,K9,sI],G9),Rpe=ye([oI,lI],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),Dpe=(t,e,n,r,i,s,a)=>{if(!(!t||!n||!r||!i)&&Ppe(t,a)){var l=sle(t,e),c=rq(l,s,i,n,r),d=Spe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},Ope=(t,e,n,r,i,s,a)=>{if(!(!t||!r||!i||!s||!n)){var l=yue(t,n);if(l){var c=ale(l,e),d=rq(c,a,s,r,i),f=Tpe(e,s,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},Mpe=(t,e,n,r,i,s,a,l)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?Dpe(t,e,r,i,s,a,l):Ope(t,e,n,r,i,s,a)},Lpe=ye(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Vpe=ye(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Gr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:yhe}});function iM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iM(Object(n),!0).forEach(function(r){Fpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fpe(t,e,n){return(e=Bpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bpe(t){var e=zpe(t,"string");return typeof e=="symbol"?e:e+""}function zpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Upe={},$pe={zIndexMap:Object.values(Gr).reduce((t,e)=>sM(sM({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Upe)},qpe=new Set(Object.values(Gr));function Hpe(t){return qpe.has(t)}var lq=Ei({name:"zIndex",initialState:$pe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:fn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Hpe(n)&&delete t.zIndexMap[n])},prepare:fn()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:fn()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:fn()}}}),{registerZIndexPortal:Wpe,unregisterZIndexPortal:Kpe,registerZIndexPortalElement:Gpe,unregisterZIndexPortalElement:Xpe}=lq.actions,Ype=lq.reducer;function Go(t){var{zIndex:e,children:n}=t,r=Ule(),i=r&&e!==void 0&&e!==0,s=Ci(),a=Sr();E.useLayoutEffect(()=>i?(a(Wpe({zIndex:e})),()=>{a(Kpe({zIndex:e}))}):ed,[a,e,i]);var l=mt(c=>Lpe(c,e,s));return i?l?_b.createPortal(n,l):null:n}function AS(){return AS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AS.apply(null,arguments)}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){Qpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qpe(t,e,n){return(e=Jpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jpe(t){var e=Zpe(t,"string");return typeof e=="symbol"?e:e+""}function Zpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ege(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return E.isValidElement(e)?E.cloneElement(e,r):E.createElement(n,r)}function tge(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:l,cursor:c,tooltipEventType:d,chartName:f}=t,m=n,p=r,y=i;if(!c||!m||f!=="ScatterChart"&&d!=="axis")return null;var x,b,_;if(f==="ScatterChart")x=m,b=Ice,_=Gr.cursorLine;else if(f==="BarChart")x=jce(l,m,s,a),b=Z8,_=Gr.cursorRectangle;else if(l==="radial"&&HU(m)){var{cx:S,cy:M,radius:O,startAngle:z,endAngle:I}=e$(m);x={cx:S,cy:M,startAngle:z,endAngle:I,innerRadius:O,outerRadius:O},b=n$,_=Gr.cursorLine}else x={points:wue(l,m,s)},b=op,_=Gr.cursorLine;var P=typeof c=="object"&&"className"in c?c.className:void 0,C=Cv(Cv(Cv(Cv({stroke:"#ccc",pointerEvents:"none"},s),x),Eb(c)),{},{payload:p,payloadIndex:y,className:Yt("recharts-tooltip-cursor",P)});return E.createElement(Go,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},E.createElement(ege,{cursor:c,cursorComp:b,cursorProps:C}))}function nge(t){var e=_pe(),n=Fle(),r=td(),i=iq();return e==null||n==null||r==null||i==null?null:E.createElement(tge,AS({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var cq=E.createContext(null),rge=()=>E.useContext(cq),OE={exports:{}},oM;function ige(){return oM||(oM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,m||c,p),x=n?n+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],y]:c._events[x].push(y):(c._events[x]=y,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)e.call(f,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,y=m.length,x=new Array(y);p<y;p++)x[p]=m[p].fn;return x},l.prototype.listenerCount=function(d){var f=n?n+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,p,y,x){var b=n?n+d:d;if(!this._events[b])return!1;var _=this._events[b],S=arguments.length,M,O;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,m),!0;case 4:return _.fn.call(_.context,f,m,p),!0;case 5:return _.fn.call(_.context,f,m,p,y),!0;case 6:return _.fn.call(_.context,f,m,p,y,x),!0}for(O=1,M=new Array(S-1);O<S;O++)M[O-1]=arguments[O];_.fn.apply(_.context,M)}else{var z=_.length,I;for(O=0;O<z;O++)switch(_[O].once&&this.removeListener(d,_[O].fn,void 0,!0),S){case 1:_[O].fn.call(_[O].context);break;case 2:_[O].fn.call(_[O].context,f);break;case 3:_[O].fn.call(_[O].context,f,m);break;case 4:_[O].fn.call(_[O].context,f,m,p);break;default:if(!M)for(I=1,M=new Array(S-1);I<S;I++)M[I-1]=arguments[I];_[O].fn.apply(_[O].context,M)}}return!0},l.prototype.on=function(d,f,m){return s(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return s(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,p){var y=n?n+d:d;if(!this._events[y])return this;if(!f)return a(this,y),this;var x=this._events[y];if(x.fn)x.fn===f&&(!p||x.once)&&(!m||x.context===m)&&a(this,y);else{for(var b=0,_=[],S=x.length;b<S;b++)(x[b].fn!==f||p&&!x[b].once||m&&x[b].context!==m)&&_.push(x[b]);_.length?this._events[y]=_.length===1?_[0]:_:a(this,y)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(OE)),OE.exports}var sge=ige();const age=bi(sge);var qp=new age,IS="recharts.syncEvent.tooltip",lM="recharts.syncEvent.brush",uq=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Fa(n))return t[n]}},oge={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},dq=Ei({name:"options",initialState:oge,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lge=dq.reducer,{createEventEmitter:cge}=dq.actions;function uge(t){return t.tooltip.syncInteraction}var dge={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},fq=Ei({name:"chartData",initialState:dge,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:cM,setDataStartEndIndexes:fge,setComputedData:NAe}=fq.actions,hge=fq.reducer,mge=["x","y"];function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pge(t,e,n){return(e=gge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gge(t){var e=yge(t,"string");return typeof e=="symbol"?e:e+""}function yge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vge(t,e){if(t==null)return{};var n,r,i=xge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bge(){var t=mt(OA),e=mt(MA),n=Sr(),r=mt(Y$),i=mt(Ko),s=td(),a=$b(),l=mt(c=>c.rootProps.className);E.useEffect(()=>{if(t==null)return ed;var c=(d,f,m)=>{if(e!==m&&t===d){if(r==="index"){var p;if(a&&f!==null&&f!==void 0&&(p=f.payload)!==null&&p!==void 0&&p.coordinate&&f.payload.sourceViewBox){var y=f.payload.coordinate,{x,y:b}=y,_=vge(y,mge),{x:S,y:M,width:O,height:z}=f.payload.sourceViewBox,I=Yd(Yd({},_),{},{x:a.x+(O?(x-S)/O:0)*a.width,y:a.y+(z?(b-M)/z:0)*a.height});n(Yd(Yd({},f),{},{payload:Yd(Yd({},f.payload),{},{coordinate:I})}))}else n(f);return}if(i!=null){var P;if(typeof r=="function"){var C={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},N=r(i,C);P=i[N]}else r==="value"&&(P=i.find(Z=>String(Z.value)===f.payload.label));var{coordinate:A}=f.payload;if(P==null||f.payload.active===!1||A==null||a==null){n(TS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:j,y:D}=A,L=Math.min(j,a.x+a.width),B=Math.min(D,a.y+a.height),$={x:s==="horizontal"?P.coordinate:L,y:s==="horizontal"?B:P.coordinate},Y=TS({active:f.payload.active,coordinate:$,dataKey:f.payload.dataKey,index:String(P.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(Y)}}};return qp.on(IS,c),()=>{qp.off(IS,c)}},[l,n,e,t,r,i,s,a])}function wge(){var t=mt(OA),e=mt(MA),n=Sr();E.useEffect(()=>{if(t==null)return ed;var r=(i,s,a)=>{e!==a&&t===i&&n(fge(s))};return qp.on(lM,r),()=>{qp.off(lM,r)}},[n,e,t])}function _ge(){var t=Sr();E.useEffect(()=>{t(cge())},[t]),bge(),wge()}function Ege(t,e,n,r,i,s){var a=mt(y=>Ipe(y,t,e)),l=mt(MA),c=mt(OA),d=mt(Y$),f=mt(uge),m=f?.active,p=$b();E.useEffect(()=>{if(!m&&c!=null&&l!=null){var y=TS({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});qp.emit(IS,c,y,l)}},[m,n,a,i,r,l,c,d,s,p])}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){Cge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cge(t,e,n){return(e=Nge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nge(t){var e=Sge(t,"string");return typeof e=="symbol"?e:e+""}function Sge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tge(t){return t.dataKey}function Pge(t,e){return E.isValidElement(t)?E.cloneElement(t,e):typeof t=="function"?E.createElement(t,e):E.createElement(cce,e)}var hM=[],Age={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ige(t){var e,n,r=_i(t,Age),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:p,position:y,reverseDirection:x,useTranslate3d:b,wrapperStyle:_,cursor:S,shared:M,trigger:O,defaultIndex:z,portal:I,axisId:P}=r,C=Sr(),N=typeof z=="number"?String(z):z;E.useEffect(()=>{C(Sme({shared:M,trigger:O,axisId:P,active:i,defaultIndex:N}))},[C,M,O,P,i,N]);var A=$b(),j=G8(),D=bme(M),{activeIndex:L,isActive:B}=(e=mt(ne=>Rpe(ne,D,O,N)))!==null&&e!==void 0?e:{},$=mt(ne=>kpe(ne,D,O,N)),Y=mt(ne=>oq(ne,D,O,N)),Z=mt(ne=>jpe(ne,D,O,N)),k=$,Q=rge(),H=(n=i??B)!==null&&n!==void 0?n:!1,[R,U]=Wae([k,H]),K=D==="axis"?Y:void 0;Ege(D,O,Z,K,L,H);var J=I??Q;if(J==null||A==null||D==null)return null;var G=k??hM;H||(G=hM),d&&G.length&&(G=vae(G.filter(ne=>ne.value!=null&&(ne.hide!==!0||r.includeHidden)),p,Tge));var te=G.length>0,ie=E.createElement(gce,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:f,active:H,coordinate:Z,hasPayload:te,offset:m,position:y,reverseDirection:x,useTranslate3d:b,viewBox:A,wrapperStyle:_,lastBoundingBox:R,innerRef:U,hasPortalFromProps:!!I},Pge(c,fM(fM({},r),{},{payload:G,label:K,active:H,activeIndex:L,coordinate:Z,accessibilityLayer:j})));return E.createElement(E.Fragment,null,_b.createPortal(ie,J),H&&E.createElement(nge,{cursor:S,tooltipEventType:D,coordinate:Z,payload:G,index:L}))}function jge(t,e,n){return(e=kge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kge(t){var e=Rge(t,"string");return typeof e=="symbol"?e:e+""}function Rge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Dge{constructor(e){jge(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function mM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oge(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mM(Object(n),!0).forEach(function(r){Mge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mge(t,e,n){return(e=Lge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lge(t){var e=Vge(t,"string");return typeof e=="symbol"?e:e+""}function Vge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fge={cacheSize:2e3,enableCache:!0},hq=Oge({},Fge),pM=new Dge(hq.cacheSize),Bge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gM="recharts_measurement_span";function zge(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var yM=(t,e)=>{try{var n=document.getElementById(gM);n||(n=document.createElement("span"),n.setAttribute("id",gM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Bge,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},lp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Sg.isSsr)return{width:0,height:0};if(!hq.enableCache)return yM(e,n);var r=zge(e,n),i=pM.get(r);if(i)return i;var s=yM(e,n);return pM.set(r,s),s},mq;function Uge(t,e,n){return(e=$ge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ge(t){var e=qge(t,"string");return typeof e=="symbol"?e:e+""}function qge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Wge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Kge={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Gge=["cm","mm","pt","pc","in","Q","px"];function Xge(t){return Gge.includes(t)}var lf="NaN";function Yge(t,e){return t*Kge[e]}class _r{static parse(e){var n,[,r,i]=(n=Wge.exec(e))!==null&&n!==void 0?n:[];return r==null?_r.NaN:new _r(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Fa(e)&&(this.unit=""),n!==""&&!Hge.test(n)&&(this.num=NaN,this.unit=""),Xge(n)&&(this.num=Yge(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new _r(NaN,""):new _r(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new _r(NaN,""):new _r(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _r(NaN,""):new _r(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _r(NaN,""):new _r(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fa(this.num)}}mq=_r;Uge(_r,"NaN",new mq(NaN,""));function pq(t){if(t==null||t.includes(lf))return lf;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=vM.exec(e))!==null&&n!==void 0?n:[],a=_r.parse(r??""),l=_r.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return lf;e=e.replace(vM,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,m,p]=(d=xM.exec(e))!==null&&d!==void 0?d:[],y=_r.parse(f??""),x=_r.parse(p??""),b=m==="+"?y.add(x):y.subtract(x);if(b.isNaN())return lf;e=e.replace(xM,b.toString())}return e}var bM=/\(([^()]*)\)/;function Qge(t){for(var e=t,n;(n=bM.exec(e))!=null;){var[,r]=n;e=e.replace(bM,pq(r))}return e}function Jge(t){var e=t.replace(/\s+/g,"");return e=Qge(e),e=pq(e),e}function Zge(t){try{return Jge(t)}catch{return lf}}function ME(t){var e=Zge(t.slice(5,-1));return e===lf?"":e}var eye=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],tye=["dx","dy","angle","className","breakAll"];function jS(){return jS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jS.apply(null,arguments)}function wM(t,e){if(t==null)return{};var n,r,i=nye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function nye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gq=/[ \f\n\r\t\v\u2028\u2029]+/,yq=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];dr(e)||(n?i=e.toString().split(""):i=e.toString().split(gq));var s=i.map(l=>({word:l,width:lp(l,r).width})),a=n?0:lp("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function rye(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var vq=(t,e,n,r)=>t.reduce((i,s)=>{var{word:a,width:l}=s,c=i[i.length-1];if(c&&l!=null&&(e==null||r||c.width+l+n<Number(e)))c.words.push(a),c.width+=l+n;else{var d={words:[a],width:l};i.push(d)}return i},[]),xq=t=>t.reduce((e,n)=>e.width>n.width?e:n),iye="",_M=(t,e,n,r,i,s,a,l)=>{var c=t.slice(0,e),d=yq({breakAll:n,style:r,children:c+iye});if(!d)return[!1,[]];var f=vq(d.wordsWithComputedWidth,s,a,l),m=f.length>i||xq(f).width>Number(s);return[m,f]},sye=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=t,d=Je(s),f=String(a),m=vq(e,r,n,i);if(!d||i)return m;var p=m.length>s||xq(m).width>Number(r);if(!p)return m;for(var y=0,x=f.length-1,b=0,_;y<=x&&b<=f.length-1;){var S=Math.floor((y+x)/2),M=S-1,[O,z]=_M(f,M,c,l,s,r,n,i),[I]=_M(f,S,c,l,s,r,n,i);if(!O&&!I&&(y=S+1),O&&I&&(x=S-1),!O&&I){_=z;break}b++}return _||m},EM=t=>{var e=dr(t)?[]:t.toString().split(gq);return[{words:e,width:void 0}]},aye=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!Sg.isSsr){var l,c,d=yq({breakAll:s,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:m}=d;l=f,c=m}else return EM(r);return sye({breakAll:s,children:r,maxLines:a,style:i},l,c,e,!!n)}return EM(r)},bq="#808080",oye={angle:0,breakAll:!1,capHeight:"0.71em",fill:bq,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},cI=E.forwardRef((t,e)=>{var n=_i(t,oye),{x:r,y:i,lineHeight:s,capHeight:a,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:f}=n,m=wM(n,eye),p=E.useMemo(()=>aye({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:y,dy:x,angle:b,className:_,breakAll:S}=m,M=wM(m,tye);if(!Ba(r)||!Ba(i)||p.length===0)return null;var O=Number(r)+(Je(y)?y:0),z=Number(i)+(Je(x)?x:0);if(!Mt(O)||!Mt(z))return null;var I;switch(f){case"start":I=ME("calc(".concat(a,")"));break;case"middle":I=ME("calc(".concat((p.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:I=ME("calc(".concat(p.length-1," * -").concat(s,")"));break}var P=[],C=p[0];if(c&&C!=null){var N=C.width,{width:A}=m;P.push("scale(".concat(Je(A)&&Je(N)?A/N:1,")"))}return b&&P.push("rotate(".concat(b,", ").concat(O,", ").concat(z,")")),P.length&&(M.transform=P.join(" ")),E.createElement("text",jS({},Ur(M),{ref:e,x:O,y:z,className:Yt("recharts-text",_),textAnchor:d,fill:l.includes("url")?bq:l}),p.map((j,D)=>{var L=j.words.join(S?"":" ");return E.createElement("tspan",{x:O,dy:D===0?I:s,key:"".concat(L,"-").concat(D)},L)}))});cI.displayName="Text";function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){lye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lye(t,e,n){return(e=cye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cye(t){var e=uye(t,"string");return typeof e=="symbol"?e:e+""}function uye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dye=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:a,height:l,upperWidth:c,lowerWidth:d}=sA(e),f=s,m=s+(c-d)/2,p=(f+m)/2,y=(c+d)/2,x=f+c/2,b=l>=0?1:-1,_=b*r,S=b>0?"end":"start",M=b>0?"start":"end",O=c>=0?1:-1,z=O*r,I=O>0?"end":"start",P=O>0?"start":"end",C=i;if(n==="top"){var N={x:f+c/2,y:a-_,horizontalAnchor:"middle",verticalAnchor:S};return C&&(N.height=Math.max(a-C.y,0),N.width=c),N}if(n==="bottom"){var A={x:m+d/2,y:a+l+_,horizontalAnchor:"middle",verticalAnchor:M};return C&&(A.height=Math.max(C.y+C.height-(a+l),0),A.width=d),A}if(n==="left"){var j={x:p-z,y:a+l/2,horizontalAnchor:I,verticalAnchor:"middle"};return C&&(j.width=Math.max(j.x-C.x,0),j.height=l),j}if(n==="right"){var D={x:p+y+z,y:a+l/2,horizontalAnchor:P,verticalAnchor:"middle"};return C&&(D.width=Math.max(C.x+C.width-D.x,0),D.height=l),D}var L=C?{width:y,height:l}:{};return n==="insideLeft"?pa({x:p+z,y:a+l/2,horizontalAnchor:P,verticalAnchor:"middle"},L):n==="insideRight"?pa({x:p+y-z,y:a+l/2,horizontalAnchor:I,verticalAnchor:"middle"},L):n==="insideTop"?pa({x:f+c/2,y:a+_,horizontalAnchor:"middle",verticalAnchor:M},L):n==="insideBottom"?pa({x:m+d/2,y:a+l-_,horizontalAnchor:"middle",verticalAnchor:S},L):n==="insideTopLeft"?pa({x:f+z,y:a+_,horizontalAnchor:P,verticalAnchor:M},L):n==="insideTopRight"?pa({x:f+c-z,y:a+_,horizontalAnchor:I,verticalAnchor:M},L):n==="insideBottomLeft"?pa({x:m+z,y:a+l-_,horizontalAnchor:P,verticalAnchor:S},L):n==="insideBottomRight"?pa({x:m+d-z,y:a+l-_,horizontalAnchor:I,verticalAnchor:S},L):n&&typeof n=="object"&&(Je(n.x)||Fu(n.x))&&(Je(n.y)||Fu(n.y))?pa({x:s+ic(n.x,y),y:a+ic(n.y,l),horizontalAnchor:"end",verticalAnchor:"end"},L):pa({x,y:a+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},L)},fye=["labelRef"],hye=["content"];function NM(t,e){if(t==null)return{};var n,r,i=mye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Km(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){pye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pye(t,e,n){return(e=gye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gye(t){var e=yye(t,"string");return typeof e=="symbol"?e:e+""}function yye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fo(){return fo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fo.apply(null,arguments)}var wq=E.createContext(null),vye=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:l}=t,c=E.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,n,r,i,s,a]);return E.createElement(wq.Provider,{value:c},l)},_q=()=>{var t=E.useContext(wq),e=$b();return t||(e?sA(e):void 0)},xye=E.createContext(null),bye=()=>{var t=E.useContext(xye),e=mt(t9);return t||e},wye=t=>{var{value:e,formatter:n}=t,r=dr(t.children)?e:t.children;return typeof n=="function"?n(r):r},uI=t=>t!=null&&typeof t=="function",_ye=(t,e)=>{var n=Os(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Eye=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:l,cy:c,innerRadius:d,outerRadius:f,startAngle:m,endAngle:p,clockWise:y}=i,x=(d+f)/2,b=_ye(m,p),_=b>=0?1:-1,S,M;switch(e){case"insideStart":S=m+_*s,M=y;break;case"insideEnd":S=p-_*s,M=!y;break;case"end":S=p+_*s,M=y;break;default:throw new Error("Unsupported position ".concat(e))}M=b<=0?M:!M;var O=Cr(l,c,x,S),z=Cr(l,c,x,S+(M?1:-1)*359),I="M".concat(O.x,",").concat(O.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(M?0:1,`,
    `).concat(z.x,",").concat(z.y),P=dr(t.id)?Ip("recharts-radial-line-"):t.id;return E.createElement("text",fo({},r,{dominantBaseline:"central",className:Yt("recharts-radial-bar-label",a)}),E.createElement("defs",null,E.createElement("path",{id:P,d:I})),E.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Cye=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=t,d=(l+c)/2;if(n==="outside"){var{x:f,y:m}=Cr(r,i,a+e,d);return{x:f,y:m,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(s+a)/2,{x:y,y:x}=Cr(r,i,p,d);return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},t0=t=>t!=null&&"cx"in t&&Je(t.cx),Nye={angle:0,offset:5,zIndex:Gr.label,position:"middle",textBreakAll:!1};function Sye(t){if(!t0(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Pl(t){var e=_i(t,Nye),{viewBox:n,parentViewBox:r,position:i,value:s,children:a,content:l,className:c="",textBreakAll:d,labelRef:f}=e,m=bye(),p=_q(),y=i==="center"?p:m??p,x,b,_;n==null?x=y:t0(n)?x=n:x=sA(n);var S=Sye(x);if(!x||dr(s)&&dr(a)&&!E.isValidElement(l)&&typeof l!="function")return null;var M=Km(Km({},e),{},{viewBox:x});if(E.isValidElement(l)){var{labelRef:O}=M,z=NM(M,fye);return E.cloneElement(l,z)}if(typeof l=="function"){var{content:I}=M,P=NM(M,hye);if(b=E.createElement(l,P),E.isValidElement(b))return b}else b=wye(e);var C=Ur(e);if(t0(x)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Eye(e,i,b,C,x);_=Cye(x,e.offset,e.position)}else{if(!S)return null;var N=dye({viewBox:S,position:i,offset:e.offset,parentViewBox:t0(r)?void 0:r});_=Km(Km({x:N.x,y:N.y,textAnchor:N.horizontalAnchor,verticalAnchor:N.verticalAnchor},N.width!==void 0?{width:N.width}:{}),N.height!==void 0?{height:N.height}:{})}return E.createElement(Go,{zIndex:e.zIndex},E.createElement(cI,fo({ref:f,className:Yt("recharts-label",c)},C,_,{textAnchor:rye(C.textAnchor)?C.textAnchor:_.textAnchor,breakAll:d}),b))}Pl.displayName="Label";var Tye=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?E.createElement(Pl,fo({key:"label-implicit"},r)):Ba(t)?E.createElement(Pl,fo({key:"label-implicit",value:t},r)):E.isValidElement(t)?t.type===Pl?E.cloneElement(t,Km({key:"label-implicit"},r)):E.createElement(Pl,fo({key:"label-implicit",content:t},r)):uI(t)?E.createElement(Pl,fo({key:"label-implicit",content:t},r)):t&&typeof t=="object"?E.createElement(Pl,fo({},t,{key:"label-implicit"},r)):null};function Pye(t){var{label:e,labelRef:n}=t,r=_q();return Tye(e,r,n)||null}var LE={},VE={},TM;function Aye(){return TM||(TM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(VE)),VE}var FE={},PM;function Iye(){return PM||(PM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(FE)),FE}var AM;function jye(){return AM||(AM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aye(),n=Iye(),r=XP();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(LE)),LE}var BE,IM;function kye(){return IM||(IM=1,BE=jye().last),BE}var Rye=kye();const Dye=bi(Rye);var Oye=["valueAccessor"],Mye=["dataKey","clockWise","id","textBreakAll","zIndex"];function Nx(){return Nx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nx.apply(null,arguments)}function jM(t,e){if(t==null)return{};var n,r,i=Lye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Vye=t=>Array.isArray(t.value)?Dye(t.value):t.value,Eq=E.createContext(void 0),Cq=Eq.Provider,Nq=E.createContext(void 0);Nq.Provider;function Fye(){return E.useContext(Eq)}function Bye(){return E.useContext(Nq)}function n0(t){var{valueAccessor:e=Vye}=t,n=jM(t,Oye),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:l}=n,c=jM(n,Mye),d=Fye(),f=Bye(),m=d||f;return!m||!m.length?null:E.createElement(Go,{zIndex:l??Gr.label},E.createElement(fs,{className:"recharts-label-list"},m.map((p,y)=>{var x,b=dr(r)?e(p,y):Kn(p.payload,r),_=dr(s)?{}:{id:"".concat(s,"-").concat(y)};return E.createElement(Pl,Nx({key:"label-".concat(y)},Ur(p),c,_,{fill:(x=n.fill)!==null&&x!==void 0?x:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:a,viewBox:p.viewBox,index:y,zIndex:0}))})))}n0.displayName="LabelList";function Sq(t){var{label:e}=t;return e?e===!0?E.createElement(n0,{key:"labelList-implicit"}):E.isValidElement(e)||uI(e)?E.createElement(n0,{key:"labelList-implicit",content:e}):typeof e=="object"?E.createElement(n0,Nx({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function kS(){return kS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kS.apply(null,arguments)}var Tq=t=>{var{cx:e,cy:n,r,className:i}=t,s=Yt("recharts-dot",i);return Je(e)&&Je(n)&&Je(r)?E.createElement("circle",kS({},Us(t),GP(t),{className:s,cx:e,cy:n,r})):null},zye={radiusAxis:{},angleAxis:{}},Pq=Ei({name:"polarAxis",initialState:zye,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:SAe,removeRadiusAxis:TAe,addAngleAxis:PAe,removeAngleAxis:AAe}=Pq.actions,Uye=Pq.reducer;function $ye(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var dI=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,zE={},kM;function qye(){return kM||(kM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(zE)),zE}var UE,RM;function Hye(){return RM||(RM=1,UE=qye().isPlainObject),UE}var Wye=Hye();const Kye=bi(Wye);var DM,OM,MM,LM,VM;function FM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FM(Object(n),!0).forEach(function(r){Gye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gye(t,e,n){return(e=Xye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xye(t){var e=Yye(t,"string");return typeof e=="symbol"?e:e+""}function Yye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sx(){return Sx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sx.apply(null,arguments)}function km(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var zM=(t,e,n,r,i)=>{var s=n-r,a;return a=Tn(DM||(DM=km(["M ",",",""])),t,e),a+=Tn(OM||(OM=km(["L ",",",""])),t+n,e),a+=Tn(MM||(MM=km(["L ",",",""])),t+n-s/2,e+i),a+=Tn(LM||(LM=km(["L ",",",""])),t+n-s/2-r,e+i),a+=Tn(VM||(VM=km(["L ",","," Z"])),t,e),a},Qye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Jye=t=>{var e=_i(t,Qye),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:l}=e,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:m}=e,p=E.useRef(null),[y,x]=E.useState(-1),b=E.useRef(i),_=E.useRef(s),S=E.useRef(a),M=E.useRef(n),O=E.useRef(r),z=Gb(t,"trapezoid-");if(E.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var $=p.current.getTotalLength();$&&x($)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var I=Yt("recharts-trapezoid",l);if(!m)return E.createElement("g",null,E.createElement("path",Sx({},Ur(e),{className:I,d:zM(n,r,i,s,a)})));var P=b.current,C=_.current,N=S.current,A=M.current,j=O.current,D="0px ".concat(y===-1?1:y,"px"),L="".concat(y,"px 0px"),B=X8(["strokeDasharray"],d,c);return E.createElement(Kb,{animationId:z,key:z,canBegin:y>0,duration:d,easing:c,isActive:m,begin:f},$=>{var Y=Bn(P,i,$),Z=Bn(C,s,$),k=Bn(N,a,$),Q=Bn(A,n,$),H=Bn(j,r,$);p.current&&(b.current=Y,_.current=Z,S.current=k,M.current=Q,O.current=H);var R=$>0?{transition:B,strokeDasharray:L}:{strokeDasharray:D};return E.createElement("path",Sx({},Ur(e),{className:I,d:zM(Q,H,Y,Z,k),ref:p,style:BM(BM({},R),e.style)}))})},Zye=["option","shapeType","activeClassName"];function eve(t,e){if(t==null)return{};var n,r,i=tve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function UM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(n),!0).forEach(function(r){nve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nve(t,e,n){return(e=rve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rve(t){var e=ive(t,"string");return typeof e=="symbol"?e:e+""}function ive(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sve(t,e){return Tx(Tx({},e),t)}function ave(t,e){return t==="symbols"}function $M(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return E.createElement(Z8,n);case"trapezoid":return E.createElement(Jye,n);case"sector":return E.createElement(n$,n);case"symbols":if(ave(e))return E.createElement(qU,n);break;case"curve":return E.createElement(op,n);default:return null}}function ove(t){return E.isValidElement(t)?t.props:t}function lve(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=eve(t,Zye),s;if(E.isValidElement(e))s=E.cloneElement(e,Tx(Tx({},i),ove(e)));else if(typeof e=="function")s=e(i,i.index);else if(Kye(e)&&typeof e!="boolean"){var a=sve(e,i);s=E.createElement($M,{shapeType:n,elementProps:a})}else{var l=i;s=E.createElement($M,{shapeType:n,elementProps:l})}return i.isActive?E.createElement(fs,{className:r},s):s}function Aq(t){var{tooltipEntrySettings:e}=t,n=Sr(),r=Ci(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(Eme(e)):i.current!==e&&n(Cme({prev:i.current,next:e})),i.current=e)},[e,n,r]),E.useLayoutEffect(()=>()=>{i.current&&(n(Nme(i.current)),i.current=null)},[n]),null}function Iq(t){var{legendPayload:e}=t,n=Sr(),r=Ci(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(tce(e)):i.current!==e&&n(nce({prev:i.current,next:e})),i.current=e)},[n,r,e]),E.useLayoutEffect(()=>()=>{i.current&&(n(rce(i.current)),i.current=null)},[n]),null}var $E,cve=()=>{var[t]=E.useState(()=>Ip("uid-"));return t},uve=($E=WK.useId)!==null&&$E!==void 0?$E:cve;function dve(t,e){var n=uve();return e||(t?"".concat(t,"-").concat(n):n)}var fve=E.createContext(void 0),jq=t=>{var{id:e,type:n,children:r}=t,i=dve("recharts-".concat(n),e);return E.createElement(fve.Provider,{value:i},r(i))},hve={cartesianItems:[],polarItems:[]},kq=Ei({name:"graphicalItems",initialState:hve,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:fn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Fs(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:fn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Fs(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:fn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:fn()},removePolarGraphicalItem:{reducer(t,e){var n=Fs(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:fn()}}}),{addCartesianGraphicalItem:mve,replaceCartesianGraphicalItem:pve,removeCartesianGraphicalItem:gve,addPolarGraphicalItem:IAe,removePolarGraphicalItem:jAe}=kq.actions,yve=kq.reducer,vve=t=>{var e=Sr(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?e(mve(t)):n.current!==t&&e(pve({prev:n.current,next:t})),n.current=t},[e,t]),E.useLayoutEffect(()=>()=>{n.current&&(e(gve(n.current)),n.current=null)},[e]),null},Rq=E.memo(vve),xve=["points"];function qM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qM(Object(n),!0).forEach(function(r){bve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bve(t,e,n){return(e=wve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wve(t){var e=_ve(t,"string");return typeof e=="symbol"?e:e+""}function _ve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Px(){return Px=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Px.apply(null,arguments)}function Eve(t,e){if(t==null)return{};var n,r,i=Cve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Nve(t){var{option:e,dotProps:n,className:r}=t;if(E.isValidElement(e))return E.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Yt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:a}=s,l=Eve(s,xve);return E.createElement(Tq,Px({},l,{className:i}))}function Sve(t,e){return t==null?!1:e?!0:t.length===1}function Dq(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:l,clipPathId:c,zIndex:d=Gr.scatter}=t;if(!Sve(e,n))return null;var f=dI(n),m=$ie(n),p=e.map((x,b)=>{var _,S,M=qE(qE(qE({r:3},a),m),{},{index:b,cx:(_=x.x)!==null&&_!==void 0?_:void 0,cy:(S=x.y)!==null&&S!==void 0?S:void 0,dataKey:s,value:x.value,payload:x.payload,points:e});return E.createElement(Nve,{key:"dot-".concat(b),option:n,dotProps:M,className:i})}),y={};return l&&c!=null&&(y.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(c,")")),E.createElement(Go,{zIndex:d},E.createElement(fs,Px({className:r},y),p))}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){Tve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tve(t,e,n){return(e=Pve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pve(t){var e=Ave(t,"string");return typeof e=="symbol"?e:e+""}function Ave(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oq=0,Ive={xAxis:{},yAxis:{},zAxis:{}},Mq=Ei({name:"cartesianAxis",initialState:Ive,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:fn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:fn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:fn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:fn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:fn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:fn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:fn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:fn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:fn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-((s=a[0])!==null&&s!==void 0?s:0))<=1)return;var l=[...a,r].slice(-3);t.yAxis[n]=WM(WM({},i),{},{width:r,widthHistory:l})}}}}),{addXAxis:kAe,replaceXAxis:RAe,removeXAxis:DAe,addYAxis:jve,replaceYAxis:kve,removeYAxis:Rve,addZAxis:OAe,replaceZAxis:MAe,removeZAxis:LAe,updateYAxisWidth:Dve}=Mq.actions,Ove=Mq.reducer,Mve=ye([Tr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Lve=ye([Mve,zo,Uo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),hw=()=>mt(Lve),Vve=()=>mt(ype);function KM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KM(Object(n),!0).forEach(function(r){Fve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fve(t,e,n){return(e=Bve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bve(t){var e=zve(t,"string");return typeof e=="symbol"?e:e+""}function zve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Uve=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=HE(HE(HE({},l),Eb(i)),GP(i)),d;return E.isValidElement(i)?d=E.cloneElement(i,c):typeof i=="function"?d=i(c):d=E.createElement(Tq,c),E.createElement(fs,{className:"recharts-active-dot",clipPath:a},d)};function RS(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=Gr.activeDot}=t,l=mt($p),c=Vve();if(e==null||c==null)return null;var d=e.find(f=>c.includes(f.payload));return dr(d)?null:E.createElement(Go,{zIndex:a},E.createElement(Uve,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var $ve=t=>{var{chartData:e}=t,n=Sr(),r=Ci();return E.useEffect(()=>r?()=>{}:(n(cM(e)),()=>{n(cM(void 0))}),[e,n,r]),null},GM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Lq=Ei({name:"brush",initialState:GM,reducers:{setBrushSettings(t,e){return e.payload==null?GM:e.payload}}}),{setBrushSettings:VAe}=Lq.actions,qve=Lq.reducer;function Hve(t){return(t%180+180)%180}var Wve=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Hve(i),a=s*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},Kve={dots:[],areas:[],lines:[]},Vq=Ei({name:"referenceElements",initialState:Kve,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Fs(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Fs(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Fs(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:FAe,removeDot:BAe,addArea:zAe,removeArea:UAe,addLine:$Ae,removeLine:qAe}=Vq.actions,Gve=Vq.reducer,Xve=E.createContext(void 0),Yve=t=>{var{children:e}=t,[n]=E.useState("".concat(Ip("recharts"),"-clip")),r=hw();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return E.createElement(Xve.Provider,{value:n},E.createElement("defs",null,E.createElement("clipPath",{id:n},E.createElement("rect",{x:i,y:s,height:l,width:a}))),e)};function Fq(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Qve(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Wve(r,n)}function Jve(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:l}=t;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function Hp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function Zve(t,e){return Fq(t,e+1)}function e0e(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=e,c=0,d=1,f=a,m=function(){var x=r?.[c];if(x===void 0)return{v:Fq(r,d)};var b=c,_,S=()=>(_===void 0&&(_=n(x,b)),_),M=x.coordinate,O=c===0||Hp(t,M,S,f,l);O||(c=0,f=a,d+=1),O&&(f=M+t*(S()/2+i),c+=d)},p;d<=s.length;)if(p=m(),p)return p.v;return[]}function t0e(t,e,n,r,i){var s=(r||[]).slice(),a=s.length;if(a===0)return[];for(var{start:l,end:c}=e,d=1;d<=a;d++){for(var f=(a-1)%d,m=l,p=!0,y=function(){var z=r[b];if(z==null)return 0;var I=b,P,C=()=>(P===void 0&&(P=n(z,I)),P),N=z.coordinate,A=b===f||Hp(t,N,C,m,c);if(!A)return p=!1,1;A&&(m=N+t*(C()/2+i))},x,b=f;b<a&&(x=y(),!(x!==0&&x===1));b+=d);if(p){for(var _=[],S=f;S<a;S+=d){var M=r[S];M!=null&&_.push(M)}return _}}return[]}function XM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XM(Object(n),!0).forEach(function(r){n0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n0e(t,e,n){return(e=r0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r0e(t){var e=i0e(t,"string");return typeof e=="symbol"?e:e+""}function i0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s0e(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=e,{end:c}=e,d=function(p){var y=s[p];if(y==null)return 1;var x=y,b,_=()=>(b===void 0&&(b=n(y,p)),b);if(p===a-1){var S=t*(x.coordinate+t*_()/2-c);s[p]=x=Lr(Lr({},x),{},{tickCoord:S>0?x.coordinate-S*t:x.coordinate})}else s[p]=x=Lr(Lr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var M=Hp(t,x.tickCoord,_,l,c);M&&(c=x.tickCoord-t*(_()/2+i),s[p]=Lr(Lr({},x),{},{isShow:!0}))}},f=a-1;f>=0;f--)d(f);return s}function a0e(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:c,end:d}=e;if(s){var f=r[l-1];if(f!=null){var m=n(f,l-1),p=t*(f.coordinate+t*m/2-d);if(a[l-1]=f=Lr(Lr({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate}),f.tickCoord!=null){var y=Hp(t,f.tickCoord,()=>m,c,d);y&&(d=f.tickCoord-t*(m/2+i),a[l-1]=Lr(Lr({},f),{},{isShow:!0}))}}}for(var x=s?l-1:l,b=function(M){var O=a[M];if(O==null)return 1;var z=O,I,P=()=>(I===void 0&&(I=n(O,M)),I);if(M===0){var C=t*(z.coordinate-t*P()/2-c);a[M]=z=Lr(Lr({},z),{},{tickCoord:C<0?z.coordinate-C*t:z.coordinate})}else a[M]=z=Lr(Lr({},z),{},{tickCoord:z.coordinate});if(z.tickCoord!=null){var N=Hp(t,z.tickCoord,P,c,d);N&&(c=z.tickCoord+t*(P()/2+i),a[M]=Lr(Lr({},z),{},{isShow:!0}))}},_=0;_<x;_++)b(_);return a}function o0e(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:d,unit:f,angle:m}=t;if(!i||!i.length||!r)return[];if(Je(c)||Sg.isSsr){var p;return(p=Zve(i,Je(c)?c:0))!==null&&p!==void 0?p:[]}var y=[],x=l==="top"||l==="bottom"?"width":"height",b=f&&x==="width"?lp(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(I,P)=>{var C=typeof d=="function"?d(I.value,P):I.value;return x==="width"?Qve(lp(C,{fontSize:e,letterSpacing:n}),b,m):lp(C,{fontSize:e,letterSpacing:n})[x]},S=i[0],M=i[1],O=i.length>=2&&S!=null&&M!=null?Os(M.coordinate-S.coordinate):1,z=Jve(s,O,x);return c==="equidistantPreserveStart"?e0e(O,z,_,i,a):c==="equidistantPreserveEnd"?t0e(O,z,_,i,a):(c==="preserveStart"||c==="preserveStartEnd"?y=a0e(O,z,_,i,a,c==="preserveStartEnd"):y=s0e(O,z,_,i,a),y.filter(I=>I.isShow))}var l0e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>a&&(a=m.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+s,d=a+c+l+(n?r:0);return Math.round(d)}return 0},c0e=["axisLine","width","height","className","hide","ticks","axisType"];function u0e(t,e){if(t==null)return{};var n,r,i=d0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function d0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(null,arguments)}function YM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YM(Object(n),!0).forEach(function(r){f0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f0e(t,e,n){return(e=h0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h0e(t){var e=m0e(t,"string");return typeof e=="symbol"?e:e+""}function m0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Gr.axis};function p0e(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var d=Sn(Sn(Sn({},c),Us(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);d=Sn(Sn({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var m=+(s==="left"&&!a||s==="right"&&a);d=Sn(Sn({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return E.createElement("line",qu({},d,{className:Yt("recharts-cartesian-axis-line",Tb(l,"className"))}))}function g0e(t,e,n,r,i,s,a,l,c){var d,f,m,p,y,x,b=l?-1:1,_=t.tickSize||a,S=Je(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":d=f=t.coordinate,p=n+ +!l*i,m=p-b*_,x=m-b*c,y=S;break;case"left":m=p=t.coordinate,f=e+ +!l*r,d=f-b*_,y=d-b*c,x=S;break;case"right":m=p=t.coordinate,f=e+ +l*r,d=f+b*_,y=d+b*c,x=S;break;default:d=f=t.coordinate,p=n+ +l*i,m=p+b*_,x=m+b*c,y=S;break}return{line:{x1:d,y1:m,x2:f,y2:p},tick:{x:y,y:x}}}function y0e(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function v0e(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function x0e(t){var{option:e,tickProps:n,value:r}=t,i,s=Yt(n.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(e))i=E.cloneElement(e,Sn(Sn({},n),{},{className:s}));else if(typeof e=="function")i=e(Sn(Sn({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Yt(a,$ye(e))),i=E.createElement(cI,qu({},n,{className:a}),r)}return i}var b0e=E.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:l,padding:c,tickTextProps:d,orientation:f,mirror:m,x:p,y,width:x,height:b,tickSize:_,tickMargin:S,fontSize:M,letterSpacing:O,getTicksConfig:z,events:I,axisType:P}=t,C=o0e(Sn(Sn({},z),{},{ticks:n}),M,O),N=y0e(f,m),A=v0e(f,m),j=Us(z),D=Eb(r),L={};typeof i=="object"&&(L=i);var B=Sn(Sn({},j),{},{fill:"none"},L),$=C.map(k=>Sn({entry:k},g0e(k,p,y,x,b,f,_,m,S))),Y=$.map(k=>{var{entry:Q,line:H}=k;return E.createElement(fs,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},i&&E.createElement("line",qu({},B,H,{className:Yt("recharts-cartesian-axis-tick-line",Tb(i,"className"))})))}),Z=$.map((k,Q)=>{var H,R,{entry:U,tick:K}=k,J=Sn(Sn(Sn(Sn({verticalAnchor:A},j),{},{textAnchor:N,stroke:"none",fill:s},K),{},{index:Q,payload:U,visibleTicksCount:C.length,tickFormatter:a,padding:c},d),{},{angle:(H=(R=d?.angle)!==null&&R!==void 0?R:j.angle)!==null&&H!==void 0?H:0}),G=Sn(Sn({},J),D);return E.createElement(fs,qu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},Kse(I,U,Q)),r&&E.createElement(x0e,{option:r,tickProps:G,value:"".concat(typeof a=="function"?a(U.value,Q):U.value).concat(l||"")}))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},Z.length>0&&E.createElement(Go,{zIndex:Gr.label},E.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:e},Z)),Y.length>0&&E.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},Y))}),w0e=E.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:l,axisType:c}=t,d=u0e(t,c0e),[f,m]=E.useState(""),[p,y]=E.useState(""),x=E.useRef(null);E.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return l0e({ticks:x.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=E.useCallback(_=>{if(_){var S=_.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=S;var M=S[0];if(M){var O=window.getComputedStyle(M),z=O.fontSize,I=O.letterSpacing;(z!==f||I!==p)&&(m(z),y(I))}}},[f,p]);return a||r!=null&&r<=0||i!=null&&i<=0?null:E.createElement(Go,{zIndex:t.zIndex},E.createElement(fs,{className:Yt("recharts-cartesian-axis",s)},E.createElement(p0e,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Us(t)}),E.createElement(b0e,{ref:b,axisType:c,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:p,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),E.createElement(vye,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},E.createElement(Pye,{label:t.label,labelRef:t.labelRef}),t.children)))}),Bq=E.forwardRef((t,e)=>{var n=_i(t,r0);return E.createElement(w0e,qu({},n,{ref:e}))});Bq.displayName="CartesianAxis";var _0e={},zq=Ei({name:"errorBars",initialState:_0e,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:HAe,replaceErrorBar:WAe,removeErrorBar:KAe}=zq.actions,E0e=zq.reducer,C0e=["children"];function N0e(t,e){if(t==null)return{};var n,r,i=S0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function S0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var T0e={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},P0e=E.createContext(T0e);function A0e(t){var{children:e}=t,n=N0e(t,C0e);return E.createElement(P0e.Provider,{value:n},e)}function fI(t,e){var n,r,i=mt(d=>Ho(d,t)),s=mt(d=>Wo(d,e)),a=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:r9.allowDataOverflow,l=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:rr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function Uq(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=hw(),{needClipX:s,needClipY:a,needClip:l}=fI(e,n);if(!l||!i)return null;var{x:c,y:d,width:f,height:m}=i;return E.createElement("clipPath",{id:"clipPath-".concat(r)},E.createElement("rect",{x:s?c:c-f/2,y:a?d:d-m/2,width:s?f:f*2,height:a?m:m*2}))}var $q=(t,e,n,r)=>fw(t,"xAxis",e,r),qq=(t,e,n,r)=>dw(t,"xAxis",e,r),Hq=(t,e,n,r)=>fw(t,"yAxis",n,r),Wq=(t,e,n,r)=>dw(t,"yAxis",n,r),I0e=ye([rn,$q,Hq,qq,Wq],(t,e,n,r,i)=>Ws(t,"xAxis")?Qf(e,r,!1):Qf(n,i,!1)),j0e=(t,e,n,r,i)=>i;function k0e(t){return t.type==="line"}var R0e=ye([qA,j0e],(t,e)=>t.filter(k0e).find(n=>n.id===e)),D0e=ye([rn,$q,Hq,qq,Wq,R0e,I0e,jA],(t,e,n,r,i,s,a,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=l;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:m,data:p}=s,y;if(p!=null&&p.length>0?y=p:y=c?.slice(d,f+1),y!=null)return bxe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:a,displayedData:y})}});function Kq(t){var e=Eb(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),l=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(l)||l<0)&&(l=r),{r:a,strokeWidth:l}}return{r:n,strokeWidth:r}}var WE={exports:{}},KE={};var QM;function O0e(){if(QM)return KE;QM=1;var t=Zr();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return KE.useSyncExternalStoreWithSelector=function(c,d,f,m,p){var y=i(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=a(function(){function _(I){if(!S){if(S=!0,M=I,I=m(I),p!==void 0&&x.hasValue){var P=x.value;if(p(P,I))return O=P}return O=I}if(P=O,n(M,I))return P;var C=m(I);return p!==void 0&&p(P,C)?(M=I,P):(M=I,O=C)}var S=!1,M,O,z=f===void 0?null:f;return[function(){return _(d())},z===null?void 0:function(){return _(z())}]},[d,f,m,p]);var b=r(c,y[0],y[1]);return s(function(){x.hasValue=!0,x.value=b},[b]),l(b),b},KE}var JM;function M0e(){return JM||(JM=1,WE.exports=O0e()),WE.exports}M0e();function L0e(t){t()}function V0e(){let t=null,e=null;return{clear(){t=null,e=null},notify(){L0e(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var ZM={notify(){},get:()=>[]};function F0e(t,e){let n,r=ZM,i=0,s=!1;function a(b){f();const _=r.subscribe(b);let S=!1;return()=>{S||(S=!0,_(),m())}}function l(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return s}function f(){i++,n||(n=t.subscribe(c),r=V0e())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=ZM)}function p(){s||(s=!0,f())}function y(){s&&(s=!1,m())}const x={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>r};return x}var B0e=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",z0e=B0e(),U0e=()=>typeof navigator<"u"&&navigator.product==="ReactNative",$0e=U0e(),q0e=()=>z0e||$0e?E.useLayoutEffect:E.useEffect,H0e=q0e();function eL(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function W0e(t,e){if(eL(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!eL(t[n[i]],e[n[i]]))return!1;return!0}var K0e=Symbol.for("react-redux-context"),G0e=typeof globalThis<"u"?globalThis:{};function X0e(){if(!E.createContext)return{};const t=G0e[K0e]??=new Map;let e=t.get(E.createContext);return e||(e=E.createContext(null),t.set(E.createContext,e)),e}var Y0e=X0e();function Q0e(t){const{children:e,context:n,serverState:r,store:i}=t,s=E.useMemo(()=>{const c=F0e(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=E.useMemo(()=>i.getState(),[i]);H0e(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=n||Y0e;return E.createElement(l.Provider,{value:s},e)}var J0e=Q0e,Z0e=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function exe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function mw(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Z0e.has(r)){if(t[r]==null&&e[r]==null)continue;if(!W0e(t[r],e[r]))return!1}else if(!exe(t[r],e[r]))return!1;return!0}var txe=["id"],nxe=["type","layout","connectNulls","needClip","shape"],rxe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Wp(){return Wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wp.apply(null,arguments)}function tL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tL(Object(n),!0).forEach(function(r){ixe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ixe(t,e,n){return(e=sxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sxe(t){var e=axe(t,"string");return typeof e=="symbol"?e:e+""}function axe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hI(t,e){if(t==null)return{};var n,r,i=oxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var lxe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Vb(n,e),payload:t}]},cxe=E.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:c,tooltipType:d,id:f}=t,m={dataDefinedOnItem:n,getPosition:ed,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Vb(a,e),hide:l,type:d,color:r,unit:c,graphicalItemId:f}};return E.createElement(Aq,{tooltipEntrySettings:m})}),Gq=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function uxe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var dxe=(t,e,n)=>{var r=n.reduce((y,x)=>y+x);if(!r)return Gq(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,l=[],c=0,d=0;c<n.length;d+=(f=n[c])!==null&&f!==void 0?f:0,++c){var f,m=n[c];if(m!=null&&d+m>s){l=[...n.slice(0,c),s-d];break}}var p=l.length%2===0?[0,a]:[a];return[...uxe(n,i),...l,...p].map(y=>"".concat(y,"px")).join(", ")};function fxe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r,{id:l}=r,c=hI(r,txe),d=Us(c);return E.createElement(Dq,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:d,needClip:a,clipPathId:e})}function hxe(t){var{showLabels:e,children:n,points:r}=t,i=E.useMemo(()=>r?.map(s=>{var a,l,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return _a(_a({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return E.createElement(Cq,{value:e?i:void 0},n)}function nL(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:l,connectNulls:c,needClip:d,shape:f}=s,m=hI(s,nxe),p=_a(_a({},Ur(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:l,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return E.createElement(E.Fragment,null,r?.length>1&&E.createElement(lve,Wp({shapeType:"curve",option:f},p,{pathRef:n})),E.createElement(fxe,{points:r,clipPathId:e,props:s}))}function mxe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function pxe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:m,animateNewValues:p,width:y,height:x,onAnimationEnd:b,onAnimationStart:_}=n,S=i.current,M=Gb(a,"recharts-line-"),O=E.useRef(M),[z,I]=E.useState(!1),P=!z,C=E.useCallback(()=>{typeof b=="function"&&b(),I(!1)},[b]),N=E.useCallback(()=>{typeof _=="function"&&_(),I(!0)},[_]),A=mxe(r.current),j=E.useRef(0);O.current!==M&&(j.current=s.current,O.current=M);var D=j.current;return E.createElement(hxe,{points:a,showLabels:P},n.children,E.createElement(Kb,{animationId:M,begin:d,duration:f,isActive:c,easing:m,onAnimationEnd:C,onAnimationStart:N,key:M},L=>{var B=Bn(D,A+D,L),$=Math.min(B,A),Y;if(c)if(l){var Z="".concat(l).split(/[,\s]+/gim).map(H=>parseFloat(H));Y=dxe($,A,Z)}else Y=Gq(A,$);else Y=l==null?void 0:String(l);if(L>0&&A>0&&(i.current=a,s.current=Math.max(s.current,$)),S){var k=S.length/a.length,Q=L===1?a:a.map((H,R)=>{var U=Math.floor(R*k);if(S[U]){var K=S[U];return _a(_a({},H),{},{x:Bn(K.x,H.x,L),y:Bn(K.y,H.y,L)})}return p?_a(_a({},H),{},{x:Bn(y*2,H.x,L),y:Bn(x/2,H.y,L)}):_a(_a({},H),{},{x:H.x,y:H.y})});return i.current=Q,E.createElement(nL,{props:n,points:Q,clipPathId:e,pathRef:r,strokeDasharray:Y})}return E.createElement(nL,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:Y})}),E.createElement(Sq,{label:n.label}))}function gxe(t){var{clipPathId:e,props:n}=t,r=E.useRef(null),i=E.useRef(0),s=E.useRef(null);return E.createElement(pxe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var yxe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Kn(t.payload,e)}};class vxe extends E.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:l,left:c,width:d,height:f,id:m,needClip:p,zIndex:y}=this.props;if(e)return null;var x=Yt("recharts-line",i),b=m,{r:_,strokeWidth:S}=Kq(n),M=dI(n),O=_*2+S,z=p?"url(#clipPath-".concat(M?"":"dots-").concat(b,")"):void 0;return E.createElement(Go,{zIndex:y},E.createElement(fs,{className:x},p&&E.createElement("defs",null,E.createElement(Uq,{clipPathId:b,xAxisId:s,yAxisId:a}),!M&&E.createElement("clipPath",{id:"clipPath-dots-".concat(b)},E.createElement("rect",{x:c-O/2,y:l-O/2,width:d+O,height:f+O}))),E.createElement(A0e,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:yxe,errorBarOffset:0},E.createElement(gxe,{props:this.props,clipPathId:b}))),E.createElement(RS,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:z}))}}var Xq={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Gr.line,type:"linear"};function xxe(t){var e=_i(t,Xq),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,hide:d,isAnimationActive:f,label:m,legendType:p,xAxisId:y,yAxisId:x,id:b}=e,_=hI(e,rxe),{needClip:S}=fI(y,x),M=hw(),O=td(),z=Ci(),I=mt(j=>D0e(j,y,x,z,b));if(O!=="horizontal"&&O!=="vertical"||I==null||M==null)return null;var{height:P,width:C,x:N,y:A}=M;return E.createElement(vxe,Wp({},_,{id:b,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:f,hide:d,label:m,legendType:p,xAxisId:y,yAxisId:x,points:I,layout:O,height:P,width:C,left:N,top:A,needClip:S}))}function bxe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:c}=t;return c.map((d,f)=>{var m=Kn(d,a);if(e==="horizontal"){var p=tx({axis:n,ticks:i,bandSize:l,entry:d,index:f}),y=dr(m)?null:r.scale.map(m);return{x:p,y:y??null,value:m,payload:d}}var x=dr(m)?null:n.scale.map(m),b=tx({axis:r,ticks:s,bandSize:l,entry:d,index:f});return x==null||b==null?null:{x,y:b,value:m,payload:d}}).filter(Boolean)}function wxe(t){var e=_i(t,Xq),n=Ci();return E.createElement(jq,{id:e.id,type:"line"},r=>E.createElement(E.Fragment,null,E.createElement(Iq,{legendPayload:lxe(e)}),E.createElement(cxe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),E.createElement(Rq,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),E.createElement(xxe,Wp({},e,{id:r}))))}var Yq=E.memo(wxe,mw);Yq.displayName="Line";function mI(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:Oq}function pI(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:Oq}var Qq=(t,e,n)=>fw(t,"xAxis",mI(t,e),n),Jq=(t,e,n)=>dw(t,"xAxis",mI(t,e),n),Zq=(t,e,n)=>fw(t,"yAxis",pI(t,e),n),e7=(t,e,n)=>dw(t,"yAxis",pI(t,e),n),_xe=ye([rn,Qq,Zq,Jq,e7],(t,e,n,r,i)=>Ws(t,"xAxis")?Qf(e,r,!1):Qf(n,i,!1)),Exe=(t,e)=>e,t7=ye([qA,Exe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),n7=t=>{var e=rn(t),n=Ws(e,"xAxis");return n?"yAxis":"xAxis"},Cxe=(t,e)=>{var n=n7(t);return n==="yAxis"?pI(t,e):mI(t,e)},Nxe=(t,e,n)=>p9(t,n7(t),Cxe(t,e),n),Sxe=ye([t7,Nxe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=zA(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,a=s?.find(l=>l.key===i);if(a!=null)return a.map(l=>[l[0],l[1]])}}}),Txe=ye([rn,Qq,Zq,Jq,e7,Sxe,the,_xe,t7,uhe],(t,e,n,r,i,s,a,l,c,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:p}=a;if(!(c==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:y}=c,x;if(y&&y.length>0?x=y:x=f?.slice(m,p+1),x!=null)return Wxe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:c,stackedData:s,displayedData:x,chartBaseValue:d,bandSize:l})}}),Pxe=["id"],Axe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function bu(){return bu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bu.apply(null,arguments)}function r7(t,e){if(t==null)return{};var n,r,i=Ixe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ixe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(r){jxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jxe(t,e,n){return(e=kxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kxe(t){var e=Rxe(t,"string");return typeof e=="symbol"?e:e+""}function Rxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ax(t,e){return t&&t!=="none"?t:e}var Dxe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:Ax(r,i),value:Vb(n,e),payload:t}]},Oxe=E.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:c,tooltipType:d,id:f}=t,m={dataDefinedOnItem:n,getPosition:ed,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Vb(a,e),hide:l,type:d,color:Ax(r,s),unit:c,graphicalItemId:f}};return E.createElement(Aq,{tooltipEntrySettings:m})});function Mxe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:a}=r,l=Us(r);return E.createElement(Dq,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:l,needClip:i,clipPathId:e})}function Lxe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var a,l,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return cf(cf({},c),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return E.createElement(Cq,{value:e?i:void 0},n)}function iL(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:a,type:l,stroke:c,connectNulls:d,isRange:f}=s,{id:m}=s,p=r7(s,Pxe),y=Us(p),x=Ur(p);return E.createElement(E.Fragment,null,e?.length>1&&E.createElement(fs,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},E.createElement(op,bu({},x,{id:m,points:e,connectNulls:d,type:l,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),c!=="none"&&E.createElement(op,bu({},y,{className:"recharts-area-curve",layout:a,type:l,connectNulls:d,fill:"none",points:e})),c!=="none"&&f&&E.createElement(op,bu({},y,{className:"recharts-area-curve",layout:a,type:l,connectNulls:d,fill:"none",points:n}))),E.createElement(Mxe,{points:e,props:p,clipPathId:i}))}function Vxe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=t,l=(e=s[0])===null||e===void 0?void 0:e.y,c=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Mt(l)||!Mt(c))return null;var d=r*Math.abs(l-c),f=Math.max(...s.map(m=>m.x||0));return Je(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(m=>m.x||0),f)),Je(f)?E.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(d)}):null}function Fxe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=t,l=(e=s[0])===null||e===void 0?void 0:e.x,c=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Mt(l)||!Mt(c))return null;var d=r*Math.abs(l-c),f=Math.max(...s.map(m=>m.y||0));return Je(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(m=>m.y||0),f)),Je(f)?E.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}function Bxe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?E.createElement(Vxe,{alpha:e,points:r,baseLine:i,strokeWidth:s}):E.createElement(Fxe,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function zxe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:a,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:m,onAnimationStart:p,onAnimationEnd:y}=r,x=E.useMemo(()=>({points:a,baseLine:l}),[a,l]),b=Gb(x,"recharts-area-"),_=F8(),[S,M]=E.useState(!1),O=!S,z=E.useCallback(()=>{typeof y=="function"&&y(),M(!1)},[y]),I=E.useCallback(()=>{typeof p=="function"&&p(),M(!0)},[p]);if(_==null)return null;var P=i.current,C=s.current;return E.createElement(Lxe,{showLabels:O,points:a},r.children,E.createElement(Kb,{animationId:b,begin:d,duration:f,isActive:c,easing:m,onAnimationEnd:z,onAnimationStart:I,key:b},N=>{if(P){var A=P.length/a.length,j=N===1?a:a.map((L,B)=>{var $=Math.floor(B*A);if(P[$]){var Y=P[$];return cf(cf({},L),{},{x:Bn(Y.x,L.x,N),y:Bn(Y.y,L.y,N)})}return L}),D;return Je(l)?D=Bn(C,l,N):dr(l)||Fa(l)?D=Bn(C,0,N):D=l.map((L,B)=>{var $=Math.floor(B*A);if(Array.isArray(C)&&C[$]){var Y=C[$];return cf(cf({},L),{},{x:Bn(Y.x,L.x,N),y:Bn(Y.y,L.y,N)})}return L}),N>0&&(i.current=j,s.current=D),E.createElement(iL,{points:j,baseLine:D,needClip:e,clipPathId:n,props:r})}return N>0&&(i.current=a,s.current=l),E.createElement(fs,null,c&&E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(n)},E.createElement(Bxe,{alpha:N,points:a,baseLine:l,layout:_,strokeWidth:r.strokeWidth}))),E.createElement(fs,{clipPath:"url(#animationClipPath-".concat(n,")")},E.createElement(iL,{points:a,baseLine:l,needClip:e,clipPathId:n,props:r})))}),E.createElement(Sq,{label:r.label}))}function Uxe(t){var{needClip:e,clipPathId:n,props:r}=t,i=E.useRef(null),s=E.useRef();return E.createElement(zxe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class $xe extends E.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:a,needClip:l,xAxisId:c,yAxisId:d,width:f,height:m,id:p,baseLine:y,zIndex:x}=this.props;if(e)return null;var b=Yt("recharts-area",i),_=p,{r:S,strokeWidth:M}=Kq(n),O=dI(n),z=S*2+M,I=l?"url(#clipPath-".concat(O?"":"dots-").concat(_,")"):void 0;return E.createElement(Go,{zIndex:x},E.createElement(fs,{className:b},l&&E.createElement("defs",null,E.createElement(Uq,{clipPathId:_,xAxisId:c,yAxisId:d}),!O&&E.createElement("clipPath",{id:"clipPath-dots-".concat(_)},E.createElement("rect",{x:a-z/2,y:s-z/2,width:f+z,height:m+z}))),E.createElement(Uxe,{needClip:l,clipPathId:_,props:this.props})),E.createElement(RS,{points:r,mainColor:Ax(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(y)&&E.createElement(RS,{points:y,mainColor:Ax(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var i7={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Gr.area};function qxe(t){var e,n=_i(t,i7),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,fill:d,fillOpacity:f,hide:m,isAnimationActive:p,legendType:y,stroke:x,xAxisId:b,yAxisId:_}=n,S=r7(n,Axe),M=td(),O=iq(),{needClip:z}=fI(b,_),I=Ci(),{points:P,isRange:C,baseLine:N}=(e=mt($=>Txe($,t.id,I)))!==null&&e!==void 0?e:{},A=hw();if(M!=="horizontal"&&M!=="vertical"||A==null||O!=="AreaChart"&&O!=="ComposedChart")return null;var{height:j,width:D,x:L,y:B}=A;return!P||!P.length?null:E.createElement($xe,bu({},S,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:N,connectNulls:l,dot:c,fill:d,fillOpacity:f,height:j,hide:m,layout:M,isAnimationActive:p==="auto"?!Sg.isSsr:p,isRange:C,legendType:y,needClip:z,points:P,stroke:x,width:D,left:L,top:B,xAxisId:b,yAxisId:_}))}var Hxe=(t,e,n,r,i)=>{var s=n??e;if(Je(s))return s;var a=t==="horizontal"?i:r,l=a.scale.domain();if(a.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return s==="dataMin"?d:s==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]};function Wxe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:f,xAxisTicks:m,yAxisTicks:p,bandSize:y}=t,x=i&&i.length,b=Hxe(s,a,n,l,c),_=s==="horizontal",S=!1,M=d.map((z,I)=>{var P,C,N,A;if(x)A=i[f+I];else{var j=Kn(z,r);Array.isArray(j)?(A=j,S=!0):A=[b,j]}var D=(P=(C=A)===null||C===void 0?void 0:C[1])!==null&&P!==void 0?P:null,L=D==null||x&&!e&&Kn(z,r)==null;if(_){var B;return{x:tx({axis:l,ticks:m,bandSize:y,entry:z,index:I}),y:L?null:(B=c.scale.map(D))!==null&&B!==void 0?B:null,value:A,payload:z}}return{x:L?null:(N=l.scale.map(D))!==null&&N!==void 0?N:null,y:tx({axis:c,ticks:p,bandSize:y,entry:z,index:I}),value:A,payload:z}}),O;return x||S?O=M.map(z=>{var I,P=Array.isArray(z.value)?z.value[0]:null;if(_){var C;return{x:z.x,y:P!=null&&z.y!=null&&(C=c.scale.map(P))!==null&&C!==void 0?C:null,payload:z.payload}}return{x:P!=null&&(I=l.scale.map(P))!==null&&I!==void 0?I:null,y:z.y,payload:z.payload}}):O=_?c.scale.map(b):l.scale.map(b),{points:M,baseLine:O??0,isRange:S}}function Kxe(t){var e=_i(t,i7),n=Ci();return E.createElement(jq,{id:e.id,type:"area"},r=>E.createElement(E.Fragment,null,E.createElement(Iq,{legendPayload:Dxe(e)}),E.createElement(Oxe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),E.createElement(Rq,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:tle(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),E.createElement(qxe,bu({},e,{id:r}))))}var DS=E.memo(Kxe,mw);DS.displayName="Area";var Gxe=["domain","range"],Xxe=["domain","range"];function sL(t,e){if(t==null)return{};var n,r,i=Yxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function aL(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Qxe(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=sL(t,Gxe),{domain:s,range:a}=e,l=sL(e,Xxe);return!aL(n,s)||!aL(r,a)?!1:mw(i,l)}var Jxe=["type"],Zxe=["dangerouslySetInnerHTML","ticks","scale"],ebe=["id","scale"];function OS(){return OS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OS.apply(null,arguments)}function oL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(n),!0).forEach(function(r){tbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tbe(t,e,n){return(e=nbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nbe(t){var e=rbe(t,"string");return typeof e=="symbol"?e:e+""}function rbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MS(t,e){if(t==null)return{};var n,r,i=ibe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ibe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sbe(t){var e=Sr(),n=E.useRef(null),r=F8(),{type:i}=t,s=MS(t,Jxe),a=LA(r,"yAxis",i),l=E.useMemo(()=>{if(a!=null)return lL(lL({},s),{},{type:a})},[a,s]);return E.useLayoutEffect(()=>{l!=null&&(n.current===null?e(jve(l)):n.current!==l&&e(kve({prev:n.current,next:l})),n.current=l)},[l,e]),E.useLayoutEffect(()=>()=>{n.current&&(e(Rve(n.current)),n.current=null)},[e]),null}function abe(t){var{yAxisId:e,className:n,width:r,label:i}=t,s=E.useRef(null),a=E.useRef(null),l=mt(xle),c=Ci(),d=Sr(),f="yAxis",m=mt(P=>mme(P,e)),p=mt(P=>hme(P,e)),y=mt(P=>gme(P,f,e,c)),x=mt(P=>i9(P,e));if(E.useLayoutEffect(()=>{if(!(r!=="auto"||!m||uI(i)||E.isValidElement(i)||x==null)){var P=s.current;if(P){var C=P.getCalculatedWidth();Math.round(m.width)!==Math.round(C)&&d(Dve({id:e,width:C}))}}},[y,m,d,i,e,r,x]),m==null||p==null||x==null)return null;var{dangerouslySetInnerHTML:b,ticks:_,scale:S}=t,M=MS(t,Zxe),{id:O,scale:z}=x,I=MS(x,ebe);return E.createElement(Bq,OS({},M,I,{ref:s,labelRef:a,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Yt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:y,axisType:f}))}var obe={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,angle:rr.angle,axisLine:r0.axisLine,hide:!1,includeHidden:rr.includeHidden,interval:rr.interval,label:!1,minTickGap:rr.minTickGap,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,tickLine:r0.tickLine,tickSize:r0.tickSize,type:rr.type,width:rr.width,yAxisId:0},lbe=t=>{var e=_i(t,obe);return E.createElement(E.Fragment,null,E.createElement(sbe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),E.createElement(abe,e))},s7=E.memo(lbe,Qxe);s7.displayName="YAxis";var cbe=(t,e)=>e,gI=ye([cbe,rn,t9,mr,J9,Ko,Ape,Tr],Mpe),yI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},a7=hs("mouseClick"),o7=_g();o7.startListening({actionCreator:a7,effect:(t,e)=>{var n=t.payload,r=gI(e.getState(),yI(n));r?.activeIndex!=null&&e.dispatch(Pme({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var LS=hs("mouseMove"),l7=_g(),Nv=null;l7.startListening({actionCreator:LS,effect:(t,e)=>{var n=t.payload;Nv!==null&&cancelAnimationFrame(Nv);var r=yI(n);Nv=requestAnimationFrame(()=>{var i=e.getState(),s=ZA(i,i.tooltip.settings.shared);if(s==="axis"){var a=gI(i,r);a?.activeIndex!=null?e.dispatch($9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(U9())}Nv=null})}});function ube(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var cL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},c7=Ei({name:"rootProps",initialState:cL,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:cL.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),dbe=c7.reducer,{updateOptions:fbe}=c7.actions,hbe=null,mbe={updatePolarOptions:(t,e)=>e.payload},u7=Ei({name:"polarOptions",initialState:hbe,reducers:mbe}),{updatePolarOptions:GAe}=u7.actions,pbe=u7.reducer,d7=hs("keyDown"),f7=hs("focus"),vI=_g();vI.startListening({actionCreator:d7,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=eI(i,Sh(n),Rg(n),Og(n)),l=a==null?-1:Number(a);if(!(!Number.isFinite(l)||l<0)){var c=Ko(n);if(s==="Enter"){var d=Cx(n,"axis","hover",String(i.index));e.dispatch(PS({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=xme(n),m=f==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,y=l+p*m;if(!(c==null||y>=c.length||y<0)){var x=Cx(n,"axis","hover",String(y));e.dispatch(PS({active:!0,activeIndex:y.toString(),activeCoordinate:x}))}}}}}});vI.startListening({actionCreator:f7,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=Cx(n,"axis","hover",String(s));e.dispatch(PS({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var ns=hs("externalEvent"),h7=_g(),GE=new Map;h7.startListening({actionCreator:ns,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=GE.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var l=e.getState(),c={activeCoordinate:mpe(l),activeDataKey:fpe(l),activeIndex:$p(l),activeLabel:tq(l),activeTooltipIndex:$p(l),isTooltipActive:ppe(l)};n(c,r)}finally{GE.delete(i)}});GE.set(i,a)}}});var gbe=ye([Ch],t=>t.tooltipItemPayloads),ybe=ye([gbe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),m7=hs("touchMove"),p7=_g();p7.startListening({actionCreator:m7,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=ZA(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var a=gI(r,yI({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch($9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(lle),m=(l=d.getAttribute(cle))!==null&&l!==void 0?l:void 0,p=Nh(r).find(b=>b.id===m);if(f==null||p==null||m==null)return;var{dataKey:y}=p,x=ybe(r,f,m);e.dispatch(Tme({activeDataKey:y,activeIndex:f,activeCoordinate:x,activeGraphicalItemId:m}))}}}});var vbe=s8({brush:qve,cartesianAxis:Ove,chartData:hge,errorBars:E0e,graphicalItems:yve,layout:Woe,legend:ice,options:lge,polarAxis:Uye,polarOptions:pbe,referenceElements:Gve,rootProps:dbe,tooltip:Ame,zIndex:Ype}),xbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return yoe({reducer:vbe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([o7.middleware,l7.middleware,vI.middleware,h7.middleware,p7.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(b8({type:"raf"}))},devTools:{serialize:{replacer:ube},name:"recharts-".concat(n)}})};function bbe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Ci(),s=E.useRef(null);if(i)return n;s.current==null&&(s.current=xbe(e,r));var a=QP;return E.createElement(J0e,{context:a,store:s.current},n)}function wbe(t){var{layout:e,margin:n}=t,r=Sr(),i=Ci();return E.useEffect(()=>{i||(r($oe(e)),r(Uoe(n)))},[r,i,e,n]),null}var _be=E.memo(wbe,mw);function Ebe(t){var e=Sr();return E.useEffect(()=>{e(fbe(t))},[e,t]),null}function uL(t){var{zIndex:e,isPanorama:n}=t,r=E.useRef(null),i=Sr();return E.useLayoutEffect(()=>(r.current&&i(Gpe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Xpe({zIndex:e,isPanorama:n}))}),[i,e,n]),E.createElement("g",{tabIndex:-1,ref:r})}function dL(t){var{children:e,isPanorama:n}=t,r=mt(Vpe);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return E.createElement(E.Fragment,null,i.map(a=>E.createElement(uL,{key:a,zIndex:a,isPanorama:n})),e,s.map(a=>E.createElement(uL,{key:a,zIndex:a,isPanorama:n})))}var Cbe=["children"];function Nbe(t,e){if(t==null)return{};var n,r,i=Sbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ix.apply(null,arguments)}var Tbe={width:"100%",height:"100%",display:"block"},Pbe=E.forwardRef((t,e)=>{var n=Ble(),r=zle(),i=G8();if(!sc(n)||!sc(r))return null;var{children:s,otherAttributes:a,title:l,desc:c}=t,d,f;return a!=null&&(typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0),E.createElement(EU,Ix({},a,{title:l,desc:c,role:f,tabIndex:d,width:n,height:r,style:Tbe,ref:e}),s)}),Abe=t=>{var{children:e}=t,n=mt(Ub);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return E.createElement(EU,{width:r,height:i,x:a,y:s},e)},fL=E.forwardRef((t,e)=>{var{children:n}=t,r=Nbe(t,Cbe),i=Ci();return i?E.createElement(Abe,null,E.createElement(dL,{isPanorama:!0},n)):E.createElement(Pbe,Ix({ref:e},r),E.createElement(dL,{isPanorama:!1},n))});function Ibe(){var t=Sr(),[e,n]=E.useState(null),r=mt(ole);return E.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Mt(s)&&s!==r&&t(Hoe(s))}},[e,t,r]),n}function hL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jbe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hL(Object(n),!0).forEach(function(r){kbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kbe(t,e,n){return(e=Rbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rbe(t){var e=Dbe(t,"string");return typeof e=="symbol"?e:e+""}function Dbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(null,arguments)}var Obe=()=>(_ge(),null);function jx(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Mbe=E.forwardRef((t,e)=>{var n,r,i=E.useRef(null),[s,a]=E.useState({containerWidth:jx((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:jx((r=t.style)===null||r===void 0?void 0:r.height)}),l=E.useCallback((d,f)=>{a(m=>{var p=Math.round(d),y=Math.round(f);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),c=E.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:m}=d.getBoundingClientRect();l(f,m);var p=x=>{var b=x[0];if(b!=null){var{width:_,height:S}=b.contentRect;l(_,S)}},y=new ResizeObserver(p);y.observe(d),i.current=y}},[e,l]);return E.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),E.createElement(E.Fragment,null,E.createElement(Cg,{width:s.containerWidth,height:s.containerHeight}),E.createElement("div",Kl({ref:c},t)))}),Lbe=E.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=E.useState({containerWidth:jx(n),containerHeight:jx(r)}),a=E.useCallback((c,d)=>{s(f=>{var m=Math.round(c),p=Math.round(d);return f.containerWidth===m&&f.containerHeight===p?f:{containerWidth:m,containerHeight:p}})},[]),l=E.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();a(d,f)}},[e,a]);return E.createElement(E.Fragment,null,E.createElement(Cg,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",Kl({ref:l},t)))}),Vbe=E.forwardRef((t,e)=>{var{width:n,height:r}=t;return E.createElement(E.Fragment,null,E.createElement(Cg,{width:n,height:r}),E.createElement("div",Kl({ref:e},t)))}),Fbe=E.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?E.createElement(Lbe,Kl({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?E.createElement(Vbe,Kl({},t,{width:n,height:r,ref:e})):E.createElement(E.Fragment,null,E.createElement(Cg,{width:n,height:r}),E.createElement("div",Kl({ref:e},t)))});function Bbe(t){return t?Mbe:Fbe}var zbe=E.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:m,onMouseUp:p,onTouchEnd:y,onTouchMove:x,onTouchStart:b,style:_,width:S,responsive:M,dispatchTouchEvents:O=!0}=t,z=E.useRef(null),I=Sr(),[P,C]=E.useState(null),[N,A]=E.useState(null),j=Ibe(),D=iA(),L=D?.width>0?D.width:S,B=D?.height>0?D.height:i,$=E.useCallback(ae=>{j(ae),typeof e=="function"&&e(ae),C(ae),A(ae),ae!=null&&(z.current=ae)},[j,e,C,A]),Y=E.useCallback(ae=>{I(a7(ae)),I(ns({handler:s,reactEvent:ae}))},[I,s]),Z=E.useCallback(ae=>{I(LS(ae)),I(ns({handler:d,reactEvent:ae}))},[I,d]),k=E.useCallback(ae=>{I(U9()),I(ns({handler:f,reactEvent:ae}))},[I,f]),Q=E.useCallback(ae=>{I(LS(ae)),I(ns({handler:m,reactEvent:ae}))},[I,m]),H=E.useCallback(()=>{I(f7())},[I]),R=E.useCallback(ae=>{I(d7(ae.key))},[I]),U=E.useCallback(ae=>{I(ns({handler:a,reactEvent:ae}))},[I,a]),K=E.useCallback(ae=>{I(ns({handler:l,reactEvent:ae}))},[I,l]),J=E.useCallback(ae=>{I(ns({handler:c,reactEvent:ae}))},[I,c]),G=E.useCallback(ae=>{I(ns({handler:p,reactEvent:ae}))},[I,p]),te=E.useCallback(ae=>{I(ns({handler:b,reactEvent:ae}))},[I,b]),ie=E.useCallback(ae=>{O&&I(m7(ae)),I(ns({handler:x,reactEvent:ae}))},[I,O,x]),ne=E.useCallback(ae=>{I(ns({handler:y,reactEvent:ae}))},[I,y]),xe=Bbe(M);return E.createElement(cq.Provider,{value:P},E.createElement(Yie.Provider,{value:N},E.createElement(xe,{width:L??_?.width,height:B??_?.height,className:Yt("recharts-wrapper",r),style:jbe({position:"relative",cursor:"default",width:L,height:B},_),onClick:Y,onContextMenu:U,onDoubleClick:K,onFocus:H,onKeyDown:R,onMouseDown:J,onMouseEnter:Z,onMouseLeave:k,onMouseMove:Q,onMouseUp:G,onTouchEnd:ne,onTouchMove:ie,onTouchStart:te,ref:$},E.createElement(Obe,null),n)))}),Ube=["width","height","responsive","children","className","style","compact","title","desc"];function $be(t,e){if(t==null)return{};var n,r,i=qbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Hbe=E.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:l,compact:c,title:d,desc:f}=t,m=$be(t,Ube),p=Us(m);return c?E.createElement(E.Fragment,null,E.createElement(Cg,{width:n,height:r}),E.createElement(fL,{otherAttributes:p,title:d,desc:f},s)):E.createElement(zbe,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},E.createElement(fL,{otherAttributes:p,title:d,desc:f,ref:e},E.createElement(Yve,null,s)))});function VS(){return VS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VS.apply(null,arguments)}var Wbe={top:5,right:5,bottom:5,left:5},Kbe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Wbe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},g7=E.forwardRef(function(e,n){var r,i=_i(e.categoricalChartProps,Kbe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return E.createElement(bbe,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:s},E.createElement($ve,{chartData:d.data}),E.createElement(_be,{layout:i.layout,margin:i.margin}),E.createElement(Ebe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(Hbe,VS({},i,{ref:n})))}),Gbe=["axis"],Xbe=E.forwardRef((t,e)=>E.createElement(g7,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Gbe,tooltipPayloadSearcher:uq,categoricalChartProps:t,ref:e})),Ybe=["axis"],Qbe=E.forwardRef((t,e)=>E.createElement(g7,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ybe,tooltipPayloadSearcher:uq,categoricalChartProps:t,ref:e}));function Jbe({value:t}){const[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{const s=()=>{const c=[],d=t,f=t*.003;for(let m=0;m<24;m++){const p=m/24,y=(Math.random()-.5)*2,x=Math.sin(p*Math.PI*2)*.5,b=d+f*y*.5+f*x;c.push({value:b,timestamp:Date.now()-(24-m)*36e5})}return c};n(s()),i(!1);const a=setInterval(()=>{n(s())},60*1e3);return()=>clearInterval(a)},[t]),e.length===0?o.jsx("div",{className:"w-full h-full",style:{minHeight:"48px"}}):o.jsx("div",{className:"w-full h-full",style:{minWidth:"300px",minHeight:"48px"},children:o.jsx(V8,{width:"100%",height:"100%",minHeight:48,children:o.jsxs(Xbe,{data:e,children:[o.jsx(s7,{hide:!0,domain:["dataMin","dataMax"]}),o.jsx(Yq,{type:"monotone",dataKey:"value",stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:2,dot:!1,animationDuration:1e3,isAnimationActive:!0})]})})})}const XE=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin"},{id:"ethereum",symbol:"ETH",name:"Ethereum"},{id:"tether",symbol:"USDT",name:"Tether"},{id:"binancecoin",symbol:"BNB",name:"BNB"},{id:"solana",symbol:"SOL",name:"Solana"},{id:"ripple",symbol:"XRP",name:"XRP"},{id:"cardano",symbol:"ADA",name:"Cardano"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin"},{id:"polkadot",symbol:"DOT",name:"Polkadot"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu"}];function Zbe({isOpen:t,onClose:e}){const[n,r]=E.useState(""),[i,s]=E.useState(XE),{prices:a}=wi();E.useEffect(()=>{if(n.trim()==="")s(XE);else{const c=XE.filter(d=>d.name.toLowerCase().includes(n.toLowerCase())||d.symbol.toLowerCase().includes(n.toLowerCase()));s(c)}},[n]);const l=c=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:c<1?6:2}).format(c);return t?o.jsxs("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm animate-in fade-in overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsx("style",{children:`
        .search-modal-container::-webkit-scrollbar {
          display: none;
        }
      `}),o.jsxs("div",{className:"min-h-screen p-6 pt-12 search-modal-container",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsxs("div",{className:"flex-1 bg-white/5 backdrop-blur-md rounded-2xl px-4 py-3 flex items-center gap-3 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsx(Gl,{className:"text-white/60 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Pesquisar criptomoeda...",value:n,onChange:c=>r(c.target.value),autoFocus:!0,className:"flex-1 bg-transparent text-white placeholder:text-white/40 outline-none text-sm"}),n&&o.jsx("button",{onClick:()=>r(""),className:"text-white/60 hover:text-white",children:o.jsx(Qr,{className:"w-4 h-4"})})]}),o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Qr,{className:"text-white w-5 h-5"})})]}),o.jsx("div",{className:"space-y-2",children:i.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-white/50 text-sm",children:"Nenhuma criptomoeda encontrada"})}):i.map(c=>{const d=a[c.id]?.usd||0,f=a[c.id]?.usd_24h_change||0,m=f>=0;return o.jsxs("button",{className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 flex items-center justify-between border border-white/10 hover:border-white/20 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:c.symbol,size:"sm"}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-white font-semibold text-sm",children:c.name}),o.jsx("p",{className:"text-white/50 text-xs",children:c.symbol})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-white font-semibold text-sm",children:d>0?`$${l(d)}`:""}),d>0&&o.jsxs("div",{className:`flex items-center justify-end gap-1 text-xs font-medium ${m?"text-[#34c759]":"text-[#ff3b30]"}`,children:[m?o.jsx(Fi,{className:"w-3 h-3"}):o.jsx(Cu,{className:"w-3 h-3"}),Math.abs(f).toFixed(2).replace(".",","),"%"]})]})]},c.id)})})]})]}):null}function Wr(t,e){const n=typeof t=="string"?parseFloat(t):t;if(isNaN(n))return"0,00";const r=new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(n);if(e){const s={USD:"$",BRL:"R$",GBP:"",EUR:""}[e]||"";return s?`${s} ${r}`:r}return r}function or(t){return t===0?"0":t<1e-8?t.toFixed(8):t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8}).replace(/,(\d*?)0+$/,",$1").replace(/,$/,"")}function Sv(t,e=2){return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:e,maximumFractionDigits:e}).format(t)}function ewe({isOpen:t,onClose:e}){const{portfolio:n}=qs(),{prices:r}=wi(),i=l=>{const d=Sv(l,2).split(",");return{main:d[0],cents:d[1]||"00"}},s=n.change24h>=0,a=n.holdings.map(l=>{const c=r[l.coinId]?.usd||(l.symbol==="USDT"?1:0),d=l.amount*c,f=d/n.totalBalanceUSDT*100;return{...l,valueUSDT:d,percentage:f,price:c}}).sort((l,c)=>c.valueUSDT-l.valueUSDT);return t?o.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-md animate-in fade-in overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsx("style",{children:`
        .stats-modal-container::-webkit-scrollbar {
          display: none;
        }
      `}),o.jsxs("div",{className:"min-h-screen p-6 pt-12 pb-24 stats-modal-container",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center",children:o.jsx(Ov,{className:"text-white w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-white text-xl",children:"Estatsticas"}),o.jsx("p",{className:"text-white/50 text-sm",children:"Anlise do Portflio"})]})]}),o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center border border-white/10 hover:bg-white/20 transition-all",children:o.jsx(Qr,{className:"text-white w-5 h-5"})})]}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 mb-6 border border-white/10",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/50 text-sm mb-2",children:"Saldo Total"}),o.jsxs("h1",{className:"text-3xl text-white mb-3",children:[i(n.totalBalanceUSDT).main,o.jsxs("span",{className:"text-xl",children:[",",i(n.totalBalanceUSDT).cents]}),o.jsx("span",{className:"text-lg text-white/50 ml-2",children:"USDT"})]}),o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full ${s?"bg-[#34c759]/20":"bg-[#ff3b30]/20"}`,children:[s?o.jsx(Fi,{className:`w-4 h-4 ${s?"text-[#34c759]":"text-[#ff3b30]"}`}):o.jsx(Cu,{className:`w-4 h-4 ${s?"text-[#34c759]":"text-[#ff3b30]"}`}),o.jsxs("span",{className:`text-sm ${s?"text-[#34c759]":"text-[#ff3b30]"}`,children:[Sv(Math.abs(n.change24h))," USDT"]})]}),o.jsx("div",{className:`px-3 py-1 rounded-full ${s?"bg-[#34c759]/20":"bg-[#ff3b30]/20"}`,children:o.jsxs("span",{className:`text-sm ${s?"text-[#34c759]":"text-[#ff3b30]"}`,children:[s?"+":"",n.changePercent24h.toFixed(2).replace(".",","),"%"]})})]})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(xk,{className:"w-4 h-4 text-white/70"}),o.jsx("p",{className:"text-white/50 text-xs",children:"Total de Ativos"})]}),o.jsx("p",{className:"text-white text-2xl",children:a.length})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Ov,{className:"w-4 h-4 text-white/70"}),o.jsx("p",{className:"text-white/50 text-xs",children:"Maior Ativo"})]}),o.jsx("p",{className:"text-white text-lg",children:a[0]?.symbol||""}),o.jsxs("p",{className:"text-white/50 text-xs",children:[a[0]?.percentage.toFixed(1).replace(".",","),"%"]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-white text-lg mb-4 flex items-center gap-2",children:[o.jsx(xk,{className:"w-5 h-5"}),"Distribuio de Ativos"]}),o.jsx("div",{className:"space-y-3",children:a.map(l=>{const c=r[l.coinId]?.usd_24h_change||0,d=c>=0;return o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:l.symbol,size:"sm"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white text-sm",children:l.name}),o.jsxs("p",{className:"text-white/50 text-xs",children:[Sv(l.amount,4)," ",l.symbol]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-white text-sm",children:[Sv(l.valueUSDT)," USDT"]}),o.jsxs("div",{className:`text-xs ${d?"text-[#34c759]":"text-[#ff3b30]"}`,children:[d?"+":"",c.toFixed(2).replace(".",","),"%"]})]})]}),o.jsx("div",{className:"relative h-2 bg-white/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"absolute left-0 top-0 h-full bg-white/30 rounded-full transition-all",style:{width:`${l.percentage}%`}})}),o.jsxs("p",{className:"text-white/50 text-xs mt-2",children:[l.percentage.toFixed(2).replace(".",","),"% do portflio"]})]},l.symbol)})})]}),n.priceHistory.length>1&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-white text-lg mb-4 flex items-center gap-2",children:[o.jsx(Ov,{className:"w-5 h-5"}),"Histrico do Portflio"]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[o.jsx("div",{className:"h-32 relative",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:s?"#34c759":"#ff3b30",stopOpacity:"0.15"}),o.jsx("stop",{offset:"100%",stopColor:s?"#34c759":"#ff3b30",stopOpacity:"0"})]}),o.jsxs("filter",{id:"glow",children:[o.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),o.jsx("path",{d:(()=>{const l=n.priceHistory,c=Math.min(...l),f=Math.max(...l)-c||1,m=l.map((x,b)=>{const _=b/(l.length-1)*100,S=100-(x-c)/f*70-15;return{x:_,y:S}});let p=`M${m[0].x},${m[0].y}`;for(let x=0;x<m.length-1;x++){const b=m[Math.max(0,x-1)],_=m[x],S=m[x+1],M=m[Math.min(m.length-1,x+2)],O=_.x+(S.x-b.x)/6,z=_.y+(S.y-b.y)/6,I=S.x-(M.x-_.x)/6,P=S.y-(M.y-_.y)/6;p+=` C${O},${z} ${I},${P} ${S.x},${S.y}`}return`${p} L100,100 L0,100 Z`})(),fill:"url(#chartGradient)"}),o.jsx("path",{d:(()=>{const l=n.priceHistory,c=Math.min(...l),f=Math.max(...l)-c||1,m=l.map((y,x)=>{const b=x/(l.length-1)*100,_=100-(y-c)/f*70-15;return{x:b,y:_}});let p=`M${m[0].x},${m[0].y}`;for(let y=0;y<m.length-1;y++){const x=m[Math.max(0,y-1)],b=m[y],_=m[y+1],S=m[Math.min(m.length-1,y+2)],M=b.x+(_.x-x.x)/6,O=b.y+(_.y-x.y)/6,z=_.x-(S.x-b.x)/6,I=_.y-(S.y-b.y)/6;p+=` C${M},${O} ${z},${I} ${_.x},${_.y}`}return p})(),fill:"none",stroke:s?"#34c759":"#ff3b30",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)"})]})}),o.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-white/50",children:[o.jsxs("span",{children:["ltimas ",n.priceHistory.length," atualizaes"]}),o.jsx("span",{children:"Atualiza a cada 5min"})]})]})]})]})]}):null}const twe=[{symbol:"BTC",name:"Bitcoin",coinId:"bitcoin"},{symbol:"ETH",name:"Ethereum",coinId:"ethereum"},{symbol:"BNB",name:"BNB",coinId:"binancecoin"},{symbol:"SOL",name:"Solana",coinId:"solana"},{symbol:"XRP",name:"Ripple",coinId:"ripple"},{symbol:"ADA",name:"Cardano",coinId:"cardano"},{symbol:"AVAX",name:"Avalanche",coinId:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",coinId:"dogecoin"},{symbol:"DOT",name:"Polkadot",coinId:"polkadot"},{symbol:"MATIC",name:"Polygon",coinId:"matic-network"},{symbol:"LINK",name:"Chainlink",coinId:"chainlink"},{symbol:"UNI",name:"Uniswap",coinId:"uniswap"},{symbol:"LTC",name:"Litecoin",coinId:"litecoin"},{symbol:"ATOM",name:"Cosmos",coinId:"cosmos"},{symbol:"XLM",name:"Stellar",coinId:"stellar"},{symbol:"TRX",name:"Tron",coinId:"tron"},{symbol:"SHIB",name:"Shiba Inu",coinId:"shiba-inu"},{symbol:"WBTC",name:"Wrapped Bitcoin",coinId:"wrapped-bitcoin"},{symbol:"DAI",name:"Dai",coinId:"dai"},{symbol:"LEO",name:"UNUS SED LEO",coinId:"leo-token"},{symbol:"USDC",name:"USD Coin",coinId:"usd-coin"},{symbol:"TON",name:"Toncoin",coinId:"the-open-network"},{symbol:"ETC",name:"Ethereum Classic",coinId:"ethereum-classic"},{symbol:"BCH",name:"Bitcoin Cash",coinId:"bitcoin-cash"},{symbol:"APT",name:"Aptos",coinId:"aptos"},{symbol:"ARB",name:"Arbitrum",coinId:"arbitrum"},{symbol:"OP",name:"Optimism",coinId:"optimism"},{symbol:"ICP",name:"Internet Computer",coinId:"internet-computer"},{symbol:"FIL",name:"Filecoin",coinId:"filecoin"},{symbol:"NEAR",name:"NEAR Protocol",coinId:"near"},{symbol:"VET",name:"VeChain",coinId:"vechain"},{symbol:"ALGO",name:"Algorand",coinId:"algorand"},{symbol:"INJ",name:"Injective",coinId:"injective-protocol"},{symbol:"AAVE",name:"Aave",coinId:"aave"},{symbol:"MKR",name:"Maker",coinId:"maker"},{symbol:"GRT",name:"The Graph",coinId:"the-graph"},{symbol:"IMX",name:"Immutable X",coinId:"immutable-x"},{symbol:"STX",name:"Stacks",coinId:"blockstack"},{symbol:"HBAR",name:"Hedera",coinId:"hedera-hashgraph"},{symbol:"FTM",name:"Fantom",coinId:"fantom"},{symbol:"SAND",name:"The Sandbox",coinId:"the-sandbox"},{symbol:"MANA",name:"Decentraland",coinId:"decentraland"},{symbol:"AXS",name:"Axie Infinity",coinId:"axie-infinity"},{symbol:"XTZ",name:"Tezos",coinId:"tezos"},{symbol:"THETA",name:"Theta Network",coinId:"theta-token"},{symbol:"EOS",name:"EOS",coinId:"eos"},{symbol:"XMR",name:"Monero",coinId:"monero"},{symbol:"FLOW",name:"Flow",coinId:"flow"},{symbol:"CHZ",name:"Chiliz",coinId:"chiliz"},{symbol:"ZEC",name:"Zcash",coinId:"zcash"},{symbol:"RUNE",name:"THORChain",coinId:"thorchain"},{symbol:"KLAY",name:"Klaytn",coinId:"klay-token"},{symbol:"DASH",name:"Dash",coinId:"dash"},{symbol:"NEO",name:"Neo",coinId:"neo"},{symbol:"IOTA",name:"IOTA",coinId:"iota"},{symbol:"QNT",name:"Quant",coinId:"quant-network"},{symbol:"EGLD",name:"MultiversX",coinId:"elrond-erd-2"},{symbol:"PEPE",name:"Pepe",coinId:"pepe"},{symbol:"FET",name:"Fetch.ai",coinId:"fetch-ai"},{symbol:"SUI",name:"Sui",coinId:"sui"},{symbol:"SEI",name:"Sei",coinId:"sei-network"}];function nwe({isOpen:t,onClose:e,visibleCards:n,onToggleCard:r}){const{prices:i}=wi();if(!t)return null;const s=a=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a);return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),o.jsxs("div",{className:"relative w-full max-w-md bg-[#1c1c1e] rounded-t-3xl sm:rounded-3xl shadow-2xl max-h-[85vh] flex flex-col animate-slide-up",children:[o.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Gerenciar Criptomoedas"}),o.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors",children:o.jsx(Qr,{className:"w-5 h-5 text-white/70"})})]}),o.jsx("div",{className:"px-6 py-3 bg-white/5",children:o.jsx("p",{className:"text-sm text-white/50",children:"Selecione as criptomoedas para exibir na tela inicial"})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:o.jsx("div",{className:"space-y-2",children:twe.map(a=>{const l=n.includes(a.symbol),c=i[a.coinId]?.usd||0,d=i[a.coinId]?.usd_24h_change||0;return o.jsxs("button",{onClick:()=>r(a.symbol),className:`w-full rounded-2xl p-4 flex items-center justify-between transition-all border ${l?"bg-white/10 border-white/20":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:a.symbol,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-base font-bold text-white",children:a.name}),o.jsx("p",{className:"text-sm text-white/50",children:a.symbol})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm font-semibold text-white",children:s(c)}),o.jsxs("div",{className:`text-xs ${d>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[d>=0?"+":"",d.toFixed(2).replace(".",","),"%"]})]}),o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-all ${l?"bg-green-500":"bg-white/10 border border-white/20"}`,children:l?o.jsx(An,{className:"w-4 h-4 text-white"}):o.jsx(_u,{className:"w-4 h-4 text-white/50"})})]})]},a.symbol)})})}),o.jsx("div",{className:"px-6 py-4 border-t border-white/10",children:o.jsx("button",{onClick:e,className:"w-full py-3.5 rounded-full bg-blue-500 hover:bg-blue-600 text-white font-semibold transition-colors",children:"Concluir"})})]})]})}function y7(t,e,n={}){const{maxRetries:r=3,retryDelay:i=1e3,onError:s}=n;let a=0,l=null,c=!1;const d=()=>{if(!c)try{l=xi(t,f=>{a=0,e(f)},f=>{if(console.error(" Erro no listener Firestore:",f),s&&s(f),f.code==="permission-denied"){console.error(" Erro de permisso - no ser feito retry");return}if(a<r&&!c){a++;const m=i*Math.pow(2,a-1);console.log(` Tentando reconectar (${a}/${r}) em ${m}ms...`),setTimeout(()=>{c||d()},m)}else console.error(" Mximo de tentativas de reconexo atingido")})}catch(f){console.error(" Erro ao configurar listener:",f)}};return d(),()=>{if(c=!0,l)try{l()}catch(f){console.error(" Erro ao desinscrever listener:",f)}}}function Lg(){const{user:t}=Vt(),[e,n]=E.useState([]),[r,i]=E.useState(!0),[s,a]=E.useState(!1);E.useEffect(()=>{if(!t?.uid){i(!1),n([]),a(!1);return}console.log(" Iniciando listener de saldos fiat para userId:",t.uid);const d=it(Ee,"users",t.uid,"fiatBalances"),f=It(d),m=y7(f,p=>{console.log(" Snapshot de saldos fiat recebido - Total:",p.size);const y=[];p.forEach(x=>{const b=x.data();y.push({currency:b.currency||x.id,balance:b.balance||0,updatedAt:b.updatedAt?.toDate()||new Date})}),n(y),i(!1),a(!1),console.log(" Saldos fiat carregados:",y)},{maxRetries:3,retryDelay:1e3,onError:p=>{console.error(" Erro no listener de saldos fiat:",p),p.code==="permission-denied"&&(console.warn(" ERRO DE PERMISSO: Configure as regras do Firestore!"),a(!0)),i(!1)}});return()=>{console.log(" Cancelando listener de saldos fiat"),m()}},[t?.uid]);const l=d=>e.find(m=>m.currency===d)?.balance||0;return{balances:e,isLoading:r,hasPermissionError:s,getBalance:l,hasEnoughBalance:(d,f)=>l(d)>=f}}function Ea({value:t,symbol:e,className:n="text-xl font-light",showSymbol:r=!0,decimalScale:i=.65}){const a=(typeof t=="number"?t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):t).split(","),l=a[0],c=a[1]||"00";return o.jsxs("span",{className:n,children:[r&&e&&`${e} `,l,o.jsxs("span",{style:{fontSize:`${i}em`},children:[",",c]})]})}var YE={},QE={},Rm={},JE={},mL;function rwe(){return mL||(mL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(JE)),JE}var ZE,pL;function iwe(){if(pL)return ZE;pL=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c=typeof Yy=="object"&&Yy&&Yy.Object===Object&&Yy,d=typeof self=="object"&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),m=Object.prototype,p=m.toString,y=Math.max,x=Math.min,b=function(){return f.Date.now()};function _(I,P,C){var N,A,j,D,L,B,$=0,Y=!1,Z=!1,k=!0;if(typeof I!="function")throw new TypeError(t);P=z(P)||0,S(C)&&(Y=!!C.leading,Z="maxWait"in C,j=Z?y(z(C.maxWait)||0,P):j,k="trailing"in C?!!C.trailing:k);function Q(ne){var xe=N,ae=A;return N=A=void 0,$=ne,D=I.apply(ae,xe),D}function H(ne){return $=ne,L=setTimeout(K,P),Y?Q(ne):D}function R(ne){var xe=ne-B,ae=ne-$,ve=P-xe;return Z?x(ve,j-ae):ve}function U(ne){var xe=ne-B,ae=ne-$;return B===void 0||xe>=P||xe<0||Z&&ae>=j}function K(){var ne=b();if(U(ne))return J(ne);L=setTimeout(K,R(ne))}function J(ne){return L=void 0,k&&N?Q(ne):(N=A=void 0,D)}function G(){L!==void 0&&clearTimeout(L),$=0,N=B=A=L=void 0}function te(){return L===void 0?D:J(b())}function ie(){var ne=b(),xe=U(ne);if(N=arguments,A=this,B=ne,xe){if(L===void 0)return H(B);if(Z)return L=setTimeout(K,P),Q(B)}return L===void 0&&(L=setTimeout(K,P)),D}return ie.cancel=G,ie.flush=te,ie}function S(I){var P=typeof I;return!!I&&(P=="object"||P=="function")}function M(I){return!!I&&typeof I=="object"}function O(I){return typeof I=="symbol"||M(I)&&p.call(I)==n}function z(I){if(typeof I=="number")return I;if(O(I))return e;if(S(I)){var P=typeof I.valueOf=="function"?I.valueOf():I;I=S(P)?P+"":P}if(typeof I!="string")return I===0?I:+I;I=I.replace(r,"");var C=s.test(I);return C||a.test(I)?l(I.slice(2),C?2:8):i.test(I)?e:+I}return ZE=_,ZE}var eC={exports:{}};var gL;function pw(){return gL||(gL=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var l in s)e.call(s,l)&&s[l]&&(a=i(a,l));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(eC)),eC.exports}var Oe={},tC={},yL;function v7(){return yL||(yL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(Zr());function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(tC)),tC}var vL;function Vg(){if(vL)return Oe;vL=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.checkSpecKeys=Oe.checkNavigable=Oe.changeSlide=Oe.canUseDOM=Oe.canGoNext=void 0,Oe.clamp=d,Oe.extractObject=void 0,Oe.filterSettings=Q,Oe.validSettings=Oe.swipeStart=Oe.swipeMove=Oe.swipeEnd=Oe.slidesOnRight=Oe.slidesOnLeft=Oe.slideHandler=Oe.siblingDirection=Oe.safePreventDefault=Oe.lazyStartIndex=Oe.lazySlidesOnRight=Oe.lazySlidesOnLeft=Oe.lazyEndIndex=Oe.keyHandler=Oe.initializedState=Oe.getWidth=Oe.getTrackLeft=Oe.getTrackCSS=Oe.getTrackAnimateCSS=Oe.getTotalSlides=Oe.getSwipeDirection=Oe.getSlideCount=Oe.getRequiredLazySlides=Oe.getPreClones=Oe.getPostClones=Oe.getOnDemandLazySlides=Oe.getNavigableIndexes=Oe.getHeight=void 0;var t=n(Zr()),e=n(v7());function n(H){return H&&H.__esModule?H:{default:H}}function r(H){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},r(H)}function i(H,R){var U=Object.keys(H);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(H);R&&(K=K.filter(function(J){return Object.getOwnPropertyDescriptor(H,J).enumerable})),U.push.apply(U,K)}return U}function s(H){for(var R=1;R<arguments.length;R++){var U=arguments[R]!=null?arguments[R]:{};R%2?i(Object(U),!0).forEach(function(K){a(H,K,U[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(U)):i(Object(U)).forEach(function(K){Object.defineProperty(H,K,Object.getOwnPropertyDescriptor(U,K))})}return H}function a(H,R,U){return(R=l(R))in H?Object.defineProperty(H,R,{value:U,enumerable:!0,configurable:!0,writable:!0}):H[R]=U,H}function l(H){var R=c(H,"string");return r(R)=="symbol"?R:R+""}function c(H,R){if(r(H)!="object"||!H)return H;var U=H[Symbol.toPrimitive];if(U!==void 0){var K=U.call(H,R);if(r(K)!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(H)}function d(H,R,U){return Math.max(R,Math.min(H,U))}var f=Oe.safePreventDefault=function(R){var U=["onTouchStart","onTouchMove","onWheel"];U.includes(R._reactName)||R.preventDefault()},m=Oe.getOnDemandLazySlides=function(R){for(var U=[],K=p(R),J=y(R),G=K;G<J;G++)R.lazyLoadedList.indexOf(G)<0&&U.push(G);return U};Oe.getRequiredLazySlides=function(R){for(var U=[],K=p(R),J=y(R),G=K;G<J;G++)U.push(G);return U};var p=Oe.lazyStartIndex=function(R){return R.currentSlide-x(R)},y=Oe.lazyEndIndex=function(R){return R.currentSlide+b(R)},x=Oe.lazySlidesOnLeft=function(R){return R.centerMode?Math.floor(R.slidesToShow/2)+(parseInt(R.centerPadding)>0?1:0):0},b=Oe.lazySlidesOnRight=function(R){return R.centerMode?Math.floor((R.slidesToShow-1)/2)+1+(parseInt(R.centerPadding)>0?1:0):R.slidesToShow},_=Oe.getWidth=function(R){return R&&R.offsetWidth||0},S=Oe.getHeight=function(R){return R&&R.offsetHeight||0},M=Oe.getSwipeDirection=function(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,K,J,G,te;return K=R.startX-R.curX,J=R.startY-R.curY,G=Math.atan2(J,K),te=Math.round(G*180/Math.PI),te<0&&(te=360-Math.abs(te)),te<=45&&te>=0||te<=360&&te>=315?"left":te>=135&&te<=225?"right":U===!0?te>=35&&te<=135?"up":"down":"vertical"},O=Oe.canGoNext=function(R){var U=!0;return R.infinite||(R.centerMode&&R.currentSlide>=R.slideCount-1||R.slideCount<=R.slidesToShow||R.currentSlide>=R.slideCount-R.slidesToShow)&&(U=!1),U};Oe.extractObject=function(R,U){var K={};return U.forEach(function(J){return K[J]=R[J]}),K},Oe.initializedState=function(R){var U=t.default.Children.count(R.children),K=R.listRef,J=Math.ceil(_(K)),G=R.trackRef&&R.trackRef.node,te=Math.ceil(_(G)),ie;if(R.vertical)ie=J;else{var ne=R.centerMode&&parseInt(R.centerPadding)*2;typeof R.centerPadding=="string"&&R.centerPadding.slice(-1)==="%"&&(ne*=J/100),ie=Math.ceil((J-ne)/R.slidesToShow)}var xe=K&&S(K.querySelector('[data-index="0"]')),ae=xe*R.slidesToShow,ve=R.currentSlide===void 0?R.initialSlide:R.currentSlide;R.rtl&&R.currentSlide===void 0&&(ve=U-1-R.initialSlide);var Te=R.lazyLoadedList||[],me=m(s(s({},R),{},{currentSlide:ve,lazyLoadedList:Te}));Te=Te.concat(me);var Ie={slideCount:U,slideWidth:ie,listWidth:J,trackWidth:te,currentSlide:ve,slideHeight:xe,listHeight:ae,lazyLoadedList:Te};return R.autoplaying===null&&R.autoplay&&(Ie.autoplaying="playing"),Ie},Oe.slideHandler=function(R){var U=R.waitForAnimate,K=R.animating,J=R.fade,G=R.infinite,te=R.index,ie=R.slideCount,ne=R.lazyLoad,xe=R.currentSlide,ae=R.centerMode,ve=R.slidesToScroll,Te=R.slidesToShow,me=R.useCSS,Ie=R.lazyLoadedList;if(U&&K)return{};var De=te,Ze,ct,Fe,yt={},dt={},oe=G?te:d(te,0,ie-1);if(J){if(!G&&(te<0||te>=ie))return{};te<0?De=te+ie:te>=ie&&(De=te-ie),ne&&Ie.indexOf(De)<0&&(Ie=Ie.concat(De)),yt={animating:!0,currentSlide:De,lazyLoadedList:Ie,targetSlide:De},dt={animating:!1,targetSlide:De}}else Ze=De,De<0?(Ze=De+ie,G?ie%ve!==0&&(Ze=ie-ie%ve):Ze=0):!O(R)&&De>xe?De=Ze=xe:ae&&De>=ie?(De=G?ie:ie-1,Ze=G?0:ie-1):De>=ie&&(Ze=De-ie,G?ie%ve!==0&&(Ze=0):Ze=ie-Te),!G&&De+Te>=ie&&(Ze=ie-Te),ct=j(s(s({},R),{},{slideIndex:De})),Fe=j(s(s({},R),{},{slideIndex:Ze})),G||(ct===Fe&&(De=Ze),ct=Fe),ne&&(Ie=Ie.concat(m(s(s({},R),{},{currentSlide:De})))),me?(yt={animating:!0,currentSlide:Ze,trackStyle:A(s(s({},R),{},{left:ct})),lazyLoadedList:Ie,targetSlide:oe},dt={animating:!1,currentSlide:Ze,trackStyle:N(s(s({},R),{},{left:Fe})),swipeLeft:null,targetSlide:oe}):yt={currentSlide:Ze,trackStyle:N(s(s({},R),{},{left:Fe})),lazyLoadedList:Ie,targetSlide:oe};return{state:yt,nextState:dt}},Oe.changeSlide=function(R,U){var K,J,G,te,ie,ne=R.slidesToScroll,xe=R.slidesToShow,ae=R.slideCount,ve=R.currentSlide,Te=R.targetSlide,me=R.lazyLoad,Ie=R.infinite;if(te=ae%ne!==0,K=te?0:(ae-ve)%ne,U.message==="previous")G=K===0?ne:xe-K,ie=ve-G,me&&!Ie&&(J=ve-G,ie=J===-1?ae-1:J),Ie||(ie=Te-ne);else if(U.message==="next")G=K===0?ne:K,ie=ve+G,me&&!Ie&&(ie=(ve+ne)%ae+K),Ie||(ie=Te+ne);else if(U.message==="dots")ie=U.index*U.slidesToScroll;else if(U.message==="children"){if(ie=U.index,Ie){var De=$(s(s({},R),{},{targetSlide:ie}));ie>U.currentSlide&&De==="left"?ie=ie-ae:ie<U.currentSlide&&De==="right"&&(ie=ie+ae)}}else U.message==="index"&&(ie=Number(U.index));return ie},Oe.keyHandler=function(R,U,K){return R.target.tagName.match("TEXTAREA|INPUT|SELECT")||!U?"":R.keyCode===37?K?"next":"previous":R.keyCode===39?K?"previous":"next":""},Oe.swipeStart=function(R,U,K){return R.target.tagName==="IMG"&&f(R),!U||!K&&R.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:R.touches?R.touches[0].pageX:R.clientX,startY:R.touches?R.touches[0].pageY:R.clientY,curX:R.touches?R.touches[0].pageX:R.clientX,curY:R.touches?R.touches[0].pageY:R.clientY}}},Oe.swipeMove=function(R,U){var K=U.scrolling,J=U.animating,G=U.vertical,te=U.swipeToSlide,ie=U.verticalSwiping,ne=U.rtl,xe=U.currentSlide,ae=U.edgeFriction,ve=U.edgeDragged,Te=U.onEdge,me=U.swiped,Ie=U.swiping,De=U.slideCount,Ze=U.slidesToScroll,ct=U.infinite,Fe=U.touchObject,yt=U.swipeEvent,dt=U.listHeight,oe=U.listWidth;if(!K){if(J)return f(R);G&&te&&ie&&f(R);var Ne,Xe={},de=j(U);Fe.curX=R.touches?R.touches[0].pageX:R.clientX,Fe.curY=R.touches?R.touches[0].pageY:R.clientY,Fe.swipeLength=Math.round(Math.sqrt(Math.pow(Fe.curX-Fe.startX,2)));var Ke=Math.round(Math.sqrt(Math.pow(Fe.curY-Fe.startY,2)));if(!ie&&!Ie&&Ke>10)return{scrolling:!0};ie&&(Fe.swipeLength=Ke);var ft=(ne?-1:1)*(Fe.curX>Fe.startX?1:-1);ie&&(ft=Fe.curY>Fe.startY?1:-1);var rt=Math.ceil(De/Ze),st=M(U.touchObject,ie),Dt=Fe.swipeLength;return ct||(xe===0&&(st==="right"||st==="down")||xe+1>=rt&&(st==="left"||st==="up")||!O(U)&&(st==="left"||st==="up"))&&(Dt=Fe.swipeLength*ae,ve===!1&&Te&&(Te(st),Xe.edgeDragged=!0)),!me&&yt&&(yt(st),Xe.swiped=!0),G?Ne=de+Dt*(dt/oe)*ft:ne?Ne=de-Dt*ft:Ne=de+Dt*ft,ie&&(Ne=de+Dt*ft),Xe=s(s({},Xe),{},{touchObject:Fe,swipeLeft:Ne,trackStyle:N(s(s({},U),{},{left:Ne}))}),Math.abs(Fe.curX-Fe.startX)<Math.abs(Fe.curY-Fe.startY)*.8||Fe.swipeLength>10&&(Xe.swiping=!0,f(R)),Xe}},Oe.swipeEnd=function(R,U){var K=U.dragging,J=U.swipe,G=U.touchObject,te=U.listWidth,ie=U.touchThreshold,ne=U.verticalSwiping,xe=U.listHeight,ae=U.swipeToSlide,ve=U.scrolling,Te=U.onSwipe,me=U.targetSlide,Ie=U.currentSlide,De=U.infinite;if(!K)return J&&f(R),{};var Ze=ne?xe/ie:te/ie,ct=M(G,ne),Fe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(ve||!G.swipeLength)return Fe;if(G.swipeLength>Ze){f(R),Te&&Te(ct);var yt,dt,oe=De?Ie:me;switch(ct){case"left":case"up":dt=oe+P(U),yt=ae?I(U,dt):dt,Fe.currentDirection=0;break;case"right":case"down":dt=oe-P(U),yt=ae?I(U,dt):dt,Fe.currentDirection=1;break;default:yt=oe}Fe.triggerSlideHandler=yt}else{var Ne=j(U);Fe.trackStyle=A(s(s({},U),{},{left:Ne}))}return Fe};var z=Oe.getNavigableIndexes=function(R){for(var U=R.infinite?R.slideCount*2:R.slideCount,K=R.infinite?R.slidesToShow*-1:0,J=R.infinite?R.slidesToShow*-1:0,G=[];K<U;)G.push(K),K=J+R.slidesToScroll,J+=Math.min(R.slidesToScroll,R.slidesToShow);return G},I=Oe.checkNavigable=function(R,U){var K=z(R),J=0;if(U>K[K.length-1])U=K[K.length-1];else for(var G in K){if(U<K[G]){U=J;break}J=K[G]}return U},P=Oe.getSlideCount=function(R){var U=R.centerMode?R.slideWidth*Math.floor(R.slidesToShow/2):0;if(R.swipeToSlide){var K,J=R.listRef,G=J.querySelectorAll&&J.querySelectorAll(".slick-slide")||[];if(Array.from(G).every(function(ne){if(R.vertical){if(ne.offsetTop+S(ne)/2>R.swipeLeft*-1)return K=ne,!1}else if(ne.offsetLeft-U+_(ne)/2>R.swipeLeft*-1)return K=ne,!1;return!0}),!K)return 0;var te=R.rtl===!0?R.slideCount-R.currentSlide:R.currentSlide,ie=Math.abs(K.dataset.index-te)||1;return ie}else return R.slidesToScroll},C=Oe.checkSpecKeys=function(R,U){return U.reduce(function(K,J){return K&&R.hasOwnProperty(J)},!0)?null:console.error("Keys Missing:",R)},N=Oe.getTrackCSS=function(R){C(R,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var U,K;if(!R.vertical)U=B(R)*R.slideWidth;else{var J=R.unslick?R.slideCount:R.slideCount+2*R.slidesToShow;K=J*R.slideHeight}var G={opacity:1,transition:"",WebkitTransition:""};if(R.useTransform){var te=R.vertical?"translate3d(0px, "+R.left+"px, 0px)":"translate3d("+R.left+"px, 0px, 0px)",ie=R.vertical?"translate3d(0px, "+R.left+"px, 0px)":"translate3d("+R.left+"px, 0px, 0px)",ne=R.vertical?"translateY("+R.left+"px)":"translateX("+R.left+"px)";G=s(s({},G),{},{WebkitTransform:te,transform:ie,msTransform:ne})}else R.vertical?G.top=R.left:G.left=R.left;return R.fade&&(G={opacity:1}),U&&(G.width=U),K&&(G.height=K),window&&!window.addEventListener&&window.attachEvent&&(R.vertical?G.marginTop=R.left+"px":G.marginLeft=R.left+"px"),G},A=Oe.getTrackAnimateCSS=function(R){C(R,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var U=N(R);return R.useTransform?(U.WebkitTransition="-webkit-transform "+R.speed+"ms "+R.cssEase,U.transition="transform "+R.speed+"ms "+R.cssEase):R.vertical?U.transition="top "+R.speed+"ms "+R.cssEase:U.transition="left "+R.speed+"ms "+R.cssEase,U},j=Oe.getTrackLeft=function(R){if(R.unslick)return 0;C(R,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var U=R.slideIndex,K=R.trackRef,J=R.infinite,G=R.centerMode,te=R.slideCount,ie=R.slidesToShow,ne=R.slidesToScroll,xe=R.slideWidth,ae=R.listWidth,ve=R.variableWidth,Te=R.slideHeight,me=R.fade,Ie=R.vertical,De=0,Ze,ct,Fe=0;if(me||R.slideCount===1)return 0;var yt=0;if(J?(yt=-D(R),te%ne!==0&&U+ne>te&&(yt=-(U>te?ie-(U-te):te%ne)),G&&(yt+=parseInt(ie/2))):(te%ne!==0&&U+ne>te&&(yt=ie-te%ne),G&&(yt=parseInt(ie/2))),De=yt*xe,Fe=yt*Te,Ie?Ze=U*Te*-1+Fe:Ze=U*xe*-1+De,ve===!0){var dt,oe=K&&K.node;if(dt=U+D(R),ct=oe&&oe.childNodes[dt],Ze=ct?ct.offsetLeft*-1:0,G===!0){dt=J?U+D(R):U,ct=oe&&oe.children[dt],Ze=0;for(var Ne=0;Ne<dt;Ne++)Ze-=oe&&oe.children[Ne]&&oe.children[Ne].offsetWidth;Ze-=parseInt(R.centerPadding),Ze+=ct&&(ae-ct.offsetWidth)/2}}return Ze},D=Oe.getPreClones=function(R){return R.unslick||!R.infinite?0:R.variableWidth?R.slideCount:R.slidesToShow+(R.centerMode?1:0)},L=Oe.getPostClones=function(R){return R.unslick||!R.infinite?0:R.variableWidth?R.slideCount:R.slidesToShow+(R.centerMode?1:0)},B=Oe.getTotalSlides=function(R){return R.slideCount===1?1:D(R)+R.slideCount+L(R)},$=Oe.siblingDirection=function(R){return R.targetSlide>R.currentSlide?R.targetSlide>R.currentSlide+Y(R)?"left":"right":R.targetSlide<R.currentSlide-Z(R)?"right":"left"},Y=Oe.slidesOnRight=function(R){var U=R.slidesToShow,K=R.centerMode,J=R.rtl,G=R.centerPadding;if(K){var te=(U-1)/2+1;return parseInt(G)>0&&(te+=1),J&&U%2===0&&(te+=1),te}return J?0:U-1},Z=Oe.slidesOnLeft=function(R){var U=R.slidesToShow,K=R.centerMode,J=R.rtl,G=R.centerPadding;if(K){var te=(U-1)/2+1;return parseInt(G)>0&&(te+=1),!J&&U%2===0&&(te+=1),te}return J?U-1:0};Oe.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var k=Oe.validSettings=Object.keys(e.default);function Q(H){return k.reduce(function(R,U){return H.hasOwnProperty(U)&&(R[U]=H[U]),R},{})}return Oe}var Dm={},xL;function swe(){if(xL)return Dm;xL=1,Object.defineProperty(Dm,"__esModule",{value:!0}),Dm.Track=void 0;var t=r(Zr()),e=r(pw()),n=Vg();function r(A){return A&&A.__esModule?A:{default:A}}function i(A){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},i(A)}function s(){return s=Object.assign?Object.assign.bind():function(A){for(var j=1;j<arguments.length;j++){var D=arguments[j];for(var L in D)({}).hasOwnProperty.call(D,L)&&(A[L]=D[L])}return A},s.apply(null,arguments)}function a(A,j){if(!(A instanceof j))throw new TypeError("Cannot call a class as a function")}function l(A,j){for(var D=0;D<j.length;D++){var L=j[D];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,O(L.key),L)}}function c(A,j,D){return j&&l(A.prototype,j),Object.defineProperty(A,"prototype",{writable:!1}),A}function d(A,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(j&&j.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),j&&f(A,j)}function f(A,j){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,L){return D.__proto__=L,D},f(A,j)}function m(A){var j=x();return function(){var D,L=b(A);if(j){var B=b(this).constructor;D=Reflect.construct(L,arguments,B)}else D=L.apply(this,arguments);return p(this,D)}}function p(A,j){if(j&&(i(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(A)}function y(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function x(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x=function(){return!!A})()}function b(A){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},b(A)}function _(A,j){var D=Object.keys(A);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(A);j&&(L=L.filter(function(B){return Object.getOwnPropertyDescriptor(A,B).enumerable})),D.push.apply(D,L)}return D}function S(A){for(var j=1;j<arguments.length;j++){var D=arguments[j]!=null?arguments[j]:{};j%2?_(Object(D),!0).forEach(function(L){M(A,L,D[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(D)):_(Object(D)).forEach(function(L){Object.defineProperty(A,L,Object.getOwnPropertyDescriptor(D,L))})}return A}function M(A,j,D){return(j=O(j))in A?Object.defineProperty(A,j,{value:D,enumerable:!0,configurable:!0,writable:!0}):A[j]=D,A}function O(A){var j=z(A,"string");return i(j)=="symbol"?j:j+""}function z(A,j){if(i(A)!="object"||!A)return A;var D=A[Symbol.toPrimitive];if(D!==void 0){var L=D.call(A,j);if(i(L)!="object")return L;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(A)}var I=function(j){var D,L,B,$,Y;j.rtl?Y=j.slideCount-1-j.index:Y=j.index,B=Y<0||Y>=j.slideCount,j.centerMode?($=Math.floor(j.slidesToShow/2),L=(Y-j.currentSlide)%j.slideCount===0,Y>j.currentSlide-$-1&&Y<=j.currentSlide+$&&(D=!0)):D=j.currentSlide<=Y&&Y<j.currentSlide+j.slidesToShow;var Z;j.targetSlide<0?Z=j.targetSlide+j.slideCount:j.targetSlide>=j.slideCount?Z=j.targetSlide-j.slideCount:Z=j.targetSlide;var k=Y===Z;return{"slick-slide":!0,"slick-active":D,"slick-center":L,"slick-cloned":B,"slick-current":k}},P=function(j){var D={};return(j.variableWidth===void 0||j.variableWidth===!1)&&(D.width=j.slideWidth),j.fade&&(D.position="relative",j.vertical?D.top=-j.index*parseInt(j.slideHeight):D.left=-j.index*parseInt(j.slideWidth),D.opacity=j.currentSlide===j.index?1:0,D.zIndex=j.currentSlide===j.index?999:998,j.useCSS&&(D.transition="opacity "+j.speed+"ms "+j.cssEase+", visibility "+j.speed+"ms "+j.cssEase)),D},C=function(j,D){return j.key||D},N=function(j){var D,L=[],B=[],$=[],Y=t.default.Children.count(j.children),Z=(0,n.lazyStartIndex)(j),k=(0,n.lazyEndIndex)(j);return t.default.Children.forEach(j.children,function(Q,H){var R,U={message:"children",index:H,slidesToScroll:j.slidesToScroll,currentSlide:j.currentSlide};!j.lazyLoad||j.lazyLoad&&j.lazyLoadedList.indexOf(H)>=0?R=Q:R=t.default.createElement("div",null);var K=P(S(S({},j),{},{index:H})),J=R.props.className||"",G=I(S(S({},j),{},{index:H}));if(L.push(t.default.cloneElement(R,{key:"original"+C(R,H),"data-index":H,className:(0,e.default)(G,J),tabIndex:"-1","aria-hidden":!G["slick-active"],style:S(S({outline:"none"},R.props.style||{}),K),onClick:function(ne){R.props&&R.props.onClick&&R.props.onClick(ne),j.focusOnSelect&&j.focusOnSelect(U)}})),j.infinite&&Y>1&&j.fade===!1&&!j.unslick){var te=Y-H;te<=(0,n.getPreClones)(j)&&(D=-te,D>=Z&&(R=Q),G=I(S(S({},j),{},{index:D})),B.push(t.default.cloneElement(R,{key:"precloned"+C(R,D),"data-index":D,tabIndex:"-1",className:(0,e.default)(G,J),"aria-hidden":!G["slick-active"],style:S(S({},R.props.style||{}),K),onClick:function(ne){R.props&&R.props.onClick&&R.props.onClick(ne),j.focusOnSelect&&j.focusOnSelect(U)}}))),H<(0,n.getPostClones)(j)&&(D=Y+H,D<k&&(R=Q),G=I(S(S({},j),{},{index:D})),$.push(t.default.cloneElement(R,{key:"postcloned"+C(R,D),"data-index":D,tabIndex:"-1",className:(0,e.default)(G,J),"aria-hidden":!G["slick-active"],style:S(S({},R.props.style||{}),K),onClick:function(ne){R.props&&R.props.onClick&&R.props.onClick(ne),j.focusOnSelect&&j.focusOnSelect(U)}})))}}),j.rtl?B.concat(L,$).reverse():B.concat(L,$)};return Dm.Track=(function(A){d(D,A);var j=m(D);function D(){var L;a(this,D);for(var B=arguments.length,$=new Array(B),Y=0;Y<B;Y++)$[Y]=arguments[Y];return L=j.call.apply(j,[this].concat($)),M(y(L),"node",null),M(y(L),"handleRef",function(Z){L.node=Z}),L}return c(D,[{key:"render",value:function(){var B=N(this.props),$=this.props,Y=$.onMouseEnter,Z=$.onMouseOver,k=$.onMouseLeave,Q={onMouseEnter:Y,onMouseOver:Z,onMouseLeave:k};return t.default.createElement("div",s({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},Q),B)}}]),D})(t.default.PureComponent),Dm}var Om={},bL;function awe(){if(bL)return Om;bL=1;function t(I){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},t(I)}Object.defineProperty(Om,"__esModule",{value:!0}),Om.Dots=void 0;var e=i(Zr()),n=i(pw()),r=Vg();function i(I){return I&&I.__esModule?I:{default:I}}function s(I,P){var C=Object.keys(I);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(I);P&&(N=N.filter(function(A){return Object.getOwnPropertyDescriptor(I,A).enumerable})),C.push.apply(C,N)}return C}function a(I){for(var P=1;P<arguments.length;P++){var C=arguments[P]!=null?arguments[P]:{};P%2?s(Object(C),!0).forEach(function(N){l(I,N,C[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(C)):s(Object(C)).forEach(function(N){Object.defineProperty(I,N,Object.getOwnPropertyDescriptor(C,N))})}return I}function l(I,P,C){return(P=m(P))in I?Object.defineProperty(I,P,{value:C,enumerable:!0,configurable:!0,writable:!0}):I[P]=C,I}function c(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function d(I,P){for(var C=0;C<P.length;C++){var N=P[C];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(I,m(N.key),N)}}function f(I,P,C){return P&&d(I.prototype,P),Object.defineProperty(I,"prototype",{writable:!1}),I}function m(I){var P=p(I,"string");return t(P)=="symbol"?P:P+""}function p(I,P){if(t(I)!="object"||!I)return I;var C=I[Symbol.toPrimitive];if(C!==void 0){var N=C.call(I,P);if(t(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}function y(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),P&&x(I,P)}function x(I,P){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,N){return C.__proto__=N,C},x(I,P)}function b(I){var P=M();return function(){var C,N=O(I);if(P){var A=O(this).constructor;C=Reflect.construct(N,arguments,A)}else C=N.apply(this,arguments);return _(this,C)}}function _(I,P){if(P&&(t(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(I)}function S(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function M(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(M=function(){return!!I})()}function O(I){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},O(I)}var z=function(P){var C;return P.infinite?C=Math.ceil(P.slideCount/P.slidesToScroll):C=Math.ceil((P.slideCount-P.slidesToShow)/P.slidesToScroll)+1,C};return Om.Dots=(function(I){y(C,I);var P=b(C);function C(){return c(this,C),P.apply(this,arguments)}return f(C,[{key:"clickHandler",value:function(A,j){j.preventDefault(),this.props.clickHandler(A)}},{key:"render",value:function(){for(var A=this.props,j=A.onMouseEnter,D=A.onMouseOver,L=A.onMouseLeave,B=A.infinite,$=A.slidesToScroll,Y=A.slidesToShow,Z=A.slideCount,k=A.currentSlide,Q=z({slideCount:Z,slidesToScroll:$,slidesToShow:Y,infinite:B}),H={onMouseEnter:j,onMouseOver:D,onMouseLeave:L},R=[],U=0;U<Q;U++){var K=(U+1)*$-1,J=B?K:(0,r.clamp)(K,0,Z-1),G=J-($-1),te=B?G:(0,r.clamp)(G,0,Z-1),ie=(0,n.default)({"slick-active":B?k>=te&&k<=J:k===te}),ne={message:"dots",index:U,slidesToScroll:$,currentSlide:k},xe=this.clickHandler.bind(this,ne);R=R.concat(e.default.createElement("li",{key:U,className:ie},e.default.cloneElement(this.props.customPaging(U),{onClick:xe})))}return e.default.cloneElement(this.props.appendDots(R),a({className:this.props.dotsClass},H))}}]),C})(e.default.PureComponent),Om}var Hc={},wL;function owe(){if(wL)return Hc;wL=1;function t(I){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},t(I)}Object.defineProperty(Hc,"__esModule",{value:!0}),Hc.PrevArrow=Hc.NextArrow=void 0;var e=i(Zr()),n=i(pw()),r=Vg();function i(I){return I&&I.__esModule?I:{default:I}}function s(){return s=Object.assign?Object.assign.bind():function(I){for(var P=1;P<arguments.length;P++){var C=arguments[P];for(var N in C)({}).hasOwnProperty.call(C,N)&&(I[N]=C[N])}return I},s.apply(null,arguments)}function a(I,P){var C=Object.keys(I);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(I);P&&(N=N.filter(function(A){return Object.getOwnPropertyDescriptor(I,A).enumerable})),C.push.apply(C,N)}return C}function l(I){for(var P=1;P<arguments.length;P++){var C=arguments[P]!=null?arguments[P]:{};P%2?a(Object(C),!0).forEach(function(N){c(I,N,C[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(C)):a(Object(C)).forEach(function(N){Object.defineProperty(I,N,Object.getOwnPropertyDescriptor(C,N))})}return I}function c(I,P,C){return(P=p(P))in I?Object.defineProperty(I,P,{value:C,enumerable:!0,configurable:!0,writable:!0}):I[P]=C,I}function d(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function f(I,P){for(var C=0;C<P.length;C++){var N=P[C];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(I,p(N.key),N)}}function m(I,P,C){return P&&f(I.prototype,P),Object.defineProperty(I,"prototype",{writable:!1}),I}function p(I){var P=y(I,"string");return t(P)=="symbol"?P:P+""}function y(I,P){if(t(I)!="object"||!I)return I;var C=I[Symbol.toPrimitive];if(C!==void 0){var N=C.call(I,P);if(t(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}function x(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),P&&b(I,P)}function b(I,P){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,N){return C.__proto__=N,C},b(I,P)}function _(I){var P=O();return function(){var C,N=z(I);if(P){var A=z(this).constructor;C=Reflect.construct(N,arguments,A)}else C=N.apply(this,arguments);return S(this,C)}}function S(I,P){if(P&&(t(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(I)}function M(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function O(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!I})()}function z(I){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},z(I)}return Hc.PrevArrow=(function(I){x(C,I);var P=_(C);function C(){return d(this,C),P.apply(this,arguments)}return m(C,[{key:"clickHandler",value:function(A,j){j&&j.preventDefault(),this.props.clickHandler(A,j)}},{key:"render",value:function(){var A={"slick-arrow":!0,"slick-prev":!0},j=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(A["slick-disabled"]=!0,j=null);var D={key:"0","data-role":"none",className:(0,n.default)(A),style:{display:"block"},onClick:j},L={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},B;return this.props.prevArrow?B=e.default.cloneElement(this.props.prevArrow,l(l({},D),L)):B=e.default.createElement("button",s({key:"0",type:"button"},D)," ","Previous"),B}}]),C})(e.default.PureComponent),Hc.NextArrow=(function(I){x(C,I);var P=_(C);function C(){return d(this,C),P.apply(this,arguments)}return m(C,[{key:"clickHandler",value:function(A,j){j&&j.preventDefault(),this.props.clickHandler(A,j)}},{key:"render",value:function(){var A={"slick-arrow":!0,"slick-next":!0},j=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(A["slick-disabled"]=!0,j=null);var D={key:"1","data-role":"none",className:(0,n.default)(A),style:{display:"block"},onClick:j},L={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},B;return this.props.nextArrow?B=e.default.cloneElement(this.props.nextArrow,l(l({},D),L)):B=e.default.createElement("button",s({key:"1",type:"button"},D)," ","Next"),B}}]),C})(e.default.PureComponent),Hc}var x7=(function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var a=s[i];n.call(r,a[1],a[0])}},e})()})(),FS=typeof window<"u"&&typeof document<"u"&&window.document===document,kx=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),lwe=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(kx):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}})(),cwe=2;function uwe(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&l()}function a(){lwe(s)}function l(){var c=Date.now();if(n){if(c-i<cwe)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=c}return l}var dwe=20,fwe=["top","right","bottom","left","width","height","size","weight"],hwe=typeof MutationObserver<"u",mwe=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=uwe(this.refresh.bind(this),dwe)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!FS||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),hwe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!FS||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=fwe.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),b7=(function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t}),nh=(function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||kx}),w7=gw(0,0,0,0);function Rx(t){return parseFloat(t)||0}function _L(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+Rx(s)},0)}function pwe(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],a=t["padding-"+s];n[s]=Rx(a)}return n}function gwe(t){var e=t.getBBox();return gw(0,0,e.width,e.height)}function ywe(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return w7;var r=nh(t).getComputedStyle(t),i=pwe(r),s=i.left+i.right,a=i.top+i.bottom,l=Rx(r.width),c=Rx(r.height);if(r.boxSizing==="border-box"&&(Math.round(l+s)!==e&&(l-=_L(r,"left","right")+s),Math.round(c+a)!==n&&(c-=_L(r,"top","bottom")+a)),!xwe(t)){var d=Math.round(l+s)-e,f=Math.round(c+a)-n;Math.abs(d)!==1&&(l-=d),Math.abs(f)!==1&&(c-=f)}return gw(i.left,i.top,l,c)}var vwe=(function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof nh(t).SVGGraphicsElement}:function(t){return t instanceof nh(t).SVGElement&&typeof t.getBBox=="function"}})();function xwe(t){return t===nh(t).document.documentElement}function bwe(t){return FS?vwe(t)?gwe(t):ywe(t):w7}function wwe(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return b7(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function gw(t,e,n,r){return{x:t,y:e,width:n,height:r}}var _we=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=gw(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=bwe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),Ewe=(function(){function t(e,n){var r=wwe(n);b7(this,{target:e,contentRect:r})}return t})(),Cwe=(function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new x7,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof nh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new _we(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof nh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Ewe(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),_7=typeof WeakMap<"u"?new WeakMap:new x7,E7=(function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=mwe.getInstance(),r=new Cwe(e,n,this);_7.set(this,r)}return t})();["observe","unobserve","disconnect"].forEach(function(t){E7.prototype[t]=function(){var e;return(e=_7.get(this))[t].apply(e,arguments)}});var Nwe=(function(){return typeof kx.ResizeObserver<"u"?kx.ResizeObserver:E7})();const Swe=Object.freeze(Object.defineProperty({__proto__:null,default:Nwe},Symbol.toStringTag,{value:"Module"})),Twe=UK(Swe);var EL;function Pwe(){if(EL)return Rm;EL=1,Object.defineProperty(Rm,"__esModule",{value:!0}),Rm.InnerSlider=void 0;var t=d(Zr()),e=d(rwe()),n=d(iwe()),r=d(pw()),i=Vg(),s=swe(),a=awe(),l=owe(),c=d(Twe);function d(B){return B&&B.__esModule?B:{default:B}}function f(B){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},f(B)}function m(){return m=Object.assign?Object.assign.bind():function(B){for(var $=1;$<arguments.length;$++){var Y=arguments[$];for(var Z in Y)({}).hasOwnProperty.call(Y,Z)&&(B[Z]=Y[Z])}return B},m.apply(null,arguments)}function p(B,$){if(B==null)return{};var Y,Z,k=y(B,$);if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(B);for(Z=0;Z<Q.length;Z++)Y=Q[Z],$.includes(Y)||{}.propertyIsEnumerable.call(B,Y)&&(k[Y]=B[Y])}return k}function y(B,$){if(B==null)return{};var Y={};for(var Z in B)if({}.hasOwnProperty.call(B,Z)){if($.includes(Z))continue;Y[Z]=B[Z]}return Y}function x(B,$){var Y=Object.keys(B);if(Object.getOwnPropertySymbols){var Z=Object.getOwnPropertySymbols(B);$&&(Z=Z.filter(function(k){return Object.getOwnPropertyDescriptor(B,k).enumerable})),Y.push.apply(Y,Z)}return Y}function b(B){for(var $=1;$<arguments.length;$++){var Y=arguments[$]!=null?arguments[$]:{};$%2?x(Object(Y),!0).forEach(function(Z){j(B,Z,Y[Z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(Y)):x(Object(Y)).forEach(function(Z){Object.defineProperty(B,Z,Object.getOwnPropertyDescriptor(Y,Z))})}return B}function _(B,$){if(!(B instanceof $))throw new TypeError("Cannot call a class as a function")}function S(B,$){for(var Y=0;Y<$.length;Y++){var Z=$[Y];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(B,D(Z.key),Z)}}function M(B,$,Y){return $&&S(B.prototype,$),Object.defineProperty(B,"prototype",{writable:!1}),B}function O(B,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create($&&$.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),$&&z(B,$)}function z(B,$){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,Z){return Y.__proto__=Z,Y},z(B,$)}function I(B){var $=N();return function(){var Y,Z=A(B);if($){var k=A(this).constructor;Y=Reflect.construct(Z,arguments,k)}else Y=Z.apply(this,arguments);return P(this,Y)}}function P(B,$){if($&&(f($)=="object"||typeof $=="function"))return $;if($!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(B)}function C(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function N(){try{var B=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N=function(){return!!B})()}function A(B){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},A(B)}function j(B,$,Y){return($=D($))in B?Object.defineProperty(B,$,{value:Y,enumerable:!0,configurable:!0,writable:!0}):B[$]=Y,B}function D(B){var $=L(B,"string");return f($)=="symbol"?$:$+""}function L(B,$){if(f(B)!="object"||!B)return B;var Y=B[Symbol.toPrimitive];if(Y!==void 0){var Z=Y.call(B,$);if(f(Z)!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(B)}return Rm.InnerSlider=(function(B){O(Y,B);var $=I(Y);function Y(Z){var k;_(this,Y),k=$.call(this,Z),j(C(k),"listRefHandler",function(H){return k.list=H}),j(C(k),"trackRefHandler",function(H){return k.track=H}),j(C(k),"adaptHeight",function(){if(k.props.adaptiveHeight&&k.list){var H=k.list.querySelector('[data-index="'.concat(k.state.currentSlide,'"]'));k.list.style.height=(0,i.getHeight)(H)+"px"}}),j(C(k),"componentDidMount",function(){if(k.props.onInit&&k.props.onInit(),k.props.lazyLoad){var H=(0,i.getOnDemandLazySlides)(b(b({},k.props),k.state));H.length>0&&(k.setState(function(U){return{lazyLoadedList:U.lazyLoadedList.concat(H)}}),k.props.onLazyLoad&&k.props.onLazyLoad(H))}var R=b({listRef:k.list,trackRef:k.track},k.props);k.updateState(R,!0,function(){k.adaptHeight(),k.props.autoplay&&k.autoPlay("update")}),k.props.lazyLoad==="progressive"&&(k.lazyLoadTimer=setInterval(k.progressiveLazyLoad,1e3)),k.ro=new c.default(function(){k.state.animating?(k.onWindowResized(!1),k.callbackTimers.push(setTimeout(function(){return k.onWindowResized()},k.props.speed))):k.onWindowResized()}),k.ro.observe(k.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(U){U.onfocus=k.props.pauseOnFocus?k.onSlideFocus:null,U.onblur=k.props.pauseOnFocus?k.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",k.onWindowResized):window.attachEvent("onresize",k.onWindowResized)}),j(C(k),"componentWillUnmount",function(){k.animationEndCallback&&clearTimeout(k.animationEndCallback),k.lazyLoadTimer&&clearInterval(k.lazyLoadTimer),k.callbackTimers.length&&(k.callbackTimers.forEach(function(H){return clearTimeout(H)}),k.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",k.onWindowResized):window.detachEvent("onresize",k.onWindowResized),k.autoplayTimer&&clearInterval(k.autoplayTimer),k.ro.disconnect()}),j(C(k),"componentDidUpdate",function(H){if(k.checkImagesLoad(),k.props.onReInit&&k.props.onReInit(),k.props.lazyLoad){var R=(0,i.getOnDemandLazySlides)(b(b({},k.props),k.state));R.length>0&&(k.setState(function(J){return{lazyLoadedList:J.lazyLoadedList.concat(R)}}),k.props.onLazyLoad&&k.props.onLazyLoad(R))}k.adaptHeight();var U=b(b({listRef:k.list,trackRef:k.track},k.props),k.state),K=k.didPropsChange(H);K&&k.updateState(U,K,function(){k.state.currentSlide>=t.default.Children.count(k.props.children)&&k.changeSlide({message:"index",index:t.default.Children.count(k.props.children)-k.props.slidesToShow,currentSlide:k.state.currentSlide}),k.props.autoplay?k.autoPlay("update"):k.pause("paused")})}),j(C(k),"onWindowResized",function(H){k.debouncedResize&&k.debouncedResize.cancel(),k.debouncedResize=(0,n.default)(function(){return k.resizeWindow(H)},50),k.debouncedResize()}),j(C(k),"resizeWindow",function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,R=!!(k.track&&k.track.node);if(R){var U=b(b({listRef:k.list,trackRef:k.track},k.props),k.state);k.updateState(U,H,function(){k.props.autoplay?k.autoPlay("update"):k.pause("paused")}),k.setState({animating:!1}),clearTimeout(k.animationEndCallback),delete k.animationEndCallback}}),j(C(k),"updateState",function(H,R,U){var K=(0,i.initializedState)(H);H=b(b(b({},H),K),{},{slideIndex:K.currentSlide});var J=(0,i.getTrackLeft)(H);H=b(b({},H),{},{left:J});var G=(0,i.getTrackCSS)(H);(R||t.default.Children.count(k.props.children)!==t.default.Children.count(H.children))&&(K.trackStyle=G),k.setState(K,U)}),j(C(k),"ssrInit",function(){if(k.props.variableWidth){var H=0,R=0,U=[],K=(0,i.getPreClones)(b(b(b({},k.props),k.state),{},{slideCount:k.props.children.length})),J=(0,i.getPostClones)(b(b(b({},k.props),k.state),{},{slideCount:k.props.children.length}));k.props.children.forEach(function(ct){U.push(ct.props.style.width),H+=ct.props.style.width});for(var G=0;G<K;G++)R+=U[U.length-1-G],H+=U[U.length-1-G];for(var te=0;te<J;te++)H+=U[te];for(var ie=0;ie<k.state.currentSlide;ie++)R+=U[ie];var ne={width:H+"px",left:-R+"px"};if(k.props.centerMode){var xe="".concat(U[k.state.currentSlide],"px");ne.left="calc(".concat(ne.left," + (100% - ").concat(xe,") / 2 ) ")}return{trackStyle:ne}}var ae=t.default.Children.count(k.props.children),ve=b(b(b({},k.props),k.state),{},{slideCount:ae}),Te=(0,i.getPreClones)(ve)+(0,i.getPostClones)(ve)+ae,me=100/k.props.slidesToShow*Te,Ie=100/Te,De=-Ie*((0,i.getPreClones)(ve)+k.state.currentSlide)*me/100;k.props.centerMode&&(De+=(100-Ie*me/100)/2);var Ze={width:me+"%",left:De+"%"};return{slideWidth:Ie+"%",trackStyle:Ze}}),j(C(k),"checkImagesLoad",function(){var H=k.list&&k.list.querySelectorAll&&k.list.querySelectorAll(".slick-slide img")||[],R=H.length,U=0;Array.prototype.forEach.call(H,function(K){var J=function(){return++U&&U>=R&&k.onWindowResized()};if(!K.onclick)K.onclick=function(){return K.parentNode.focus()};else{var G=K.onclick;K.onclick=function(te){G(te),K.parentNode.focus()}}K.onload||(k.props.lazyLoad?K.onload=function(){k.adaptHeight(),k.callbackTimers.push(setTimeout(k.onWindowResized,k.props.speed))}:(K.onload=J,K.onerror=function(){J(),k.props.onLazyLoadError&&k.props.onLazyLoadError()}))})}),j(C(k),"progressiveLazyLoad",function(){for(var H=[],R=b(b({},k.props),k.state),U=k.state.currentSlide;U<k.state.slideCount+(0,i.getPostClones)(R);U++)if(k.state.lazyLoadedList.indexOf(U)<0){H.push(U);break}for(var K=k.state.currentSlide-1;K>=-(0,i.getPreClones)(R);K--)if(k.state.lazyLoadedList.indexOf(K)<0){H.push(K);break}H.length>0?(k.setState(function(J){return{lazyLoadedList:J.lazyLoadedList.concat(H)}}),k.props.onLazyLoad&&k.props.onLazyLoad(H)):k.lazyLoadTimer&&(clearInterval(k.lazyLoadTimer),delete k.lazyLoadTimer)}),j(C(k),"slideHandler",function(H){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,U=k.props,K=U.asNavFor,J=U.beforeChange,G=U.onLazyLoad,te=U.speed,ie=U.afterChange,ne=k.state.currentSlide,xe=(0,i.slideHandler)(b(b(b({index:H},k.props),k.state),{},{trackRef:k.track,useCSS:k.props.useCSS&&!R})),ae=xe.state,ve=xe.nextState;if(ae){J&&J(ne,ae.currentSlide);var Te=ae.lazyLoadedList.filter(function(me){return k.state.lazyLoadedList.indexOf(me)<0});G&&Te.length>0&&G(Te),!k.props.waitForAnimate&&k.animationEndCallback&&(clearTimeout(k.animationEndCallback),ie&&ie(ne),delete k.animationEndCallback),k.setState(ae,function(){K&&k.asNavForIndex!==H&&(k.asNavForIndex=H,K.innerSlider.slideHandler(H)),ve&&(k.animationEndCallback=setTimeout(function(){var me=ve.animating,Ie=p(ve,["animating"]);k.setState(Ie,function(){k.callbackTimers.push(setTimeout(function(){return k.setState({animating:me})},10)),ie&&ie(ae.currentSlide),delete k.animationEndCallback})},te))})}}),j(C(k),"changeSlide",function(H){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,U=b(b({},k.props),k.state),K=(0,i.changeSlide)(U,H);if(!(K!==0&&!K)&&(R===!0?k.slideHandler(K,R):k.slideHandler(K),k.props.autoplay&&k.autoPlay("update"),k.props.focusOnSelect)){var J=k.list.querySelectorAll(".slick-current");J[0]&&J[0].focus()}}),j(C(k),"clickHandler",function(H){k.clickable===!1&&(H.stopPropagation(),H.preventDefault()),k.clickable=!0}),j(C(k),"keyHandler",function(H){var R=(0,i.keyHandler)(H,k.props.accessibility,k.props.rtl);R!==""&&k.changeSlide({message:R})}),j(C(k),"selectHandler",function(H){k.changeSlide(H)}),j(C(k),"disableBodyScroll",function(){var H=function(U){U=U||window.event,U.preventDefault&&U.preventDefault(),U.returnValue=!1};window.ontouchmove=H}),j(C(k),"enableBodyScroll",function(){window.ontouchmove=null}),j(C(k),"swipeStart",function(H){k.props.verticalSwiping&&k.disableBodyScroll();var R=(0,i.swipeStart)(H,k.props.swipe,k.props.draggable);R!==""&&k.setState(R)}),j(C(k),"swipeMove",function(H){var R=(0,i.swipeMove)(H,b(b(b({},k.props),k.state),{},{trackRef:k.track,listRef:k.list,slideIndex:k.state.currentSlide}));R&&(R.swiping&&(k.clickable=!1),k.setState(R))}),j(C(k),"swipeEnd",function(H){var R=(0,i.swipeEnd)(H,b(b(b({},k.props),k.state),{},{trackRef:k.track,listRef:k.list,slideIndex:k.state.currentSlide}));if(R){var U=R.triggerSlideHandler;delete R.triggerSlideHandler,k.setState(R),U!==void 0&&(k.slideHandler(U),k.props.verticalSwiping&&k.enableBodyScroll())}}),j(C(k),"touchEnd",function(H){k.swipeEnd(H),k.clickable=!0}),j(C(k),"slickPrev",function(){k.callbackTimers.push(setTimeout(function(){return k.changeSlide({message:"previous"})},0))}),j(C(k),"slickNext",function(){k.callbackTimers.push(setTimeout(function(){return k.changeSlide({message:"next"})},0))}),j(C(k),"slickGoTo",function(H){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H=Number(H),isNaN(H))return"";k.callbackTimers.push(setTimeout(function(){return k.changeSlide({message:"index",index:H,currentSlide:k.state.currentSlide},R)},0))}),j(C(k),"play",function(){var H;if(k.props.rtl)H=k.state.currentSlide-k.props.slidesToScroll;else if((0,i.canGoNext)(b(b({},k.props),k.state)))H=k.state.currentSlide+k.props.slidesToScroll;else return!1;k.slideHandler(H)}),j(C(k),"autoPlay",function(H){k.autoplayTimer&&clearInterval(k.autoplayTimer);var R=k.state.autoplaying;if(H==="update"){if(R==="hovered"||R==="focused"||R==="paused")return}else if(H==="leave"){if(R==="paused"||R==="focused")return}else if(H==="blur"&&(R==="paused"||R==="hovered"))return;k.autoplayTimer=setInterval(k.play,k.props.autoplaySpeed+50),k.setState({autoplaying:"playing"})}),j(C(k),"pause",function(H){k.autoplayTimer&&(clearInterval(k.autoplayTimer),k.autoplayTimer=null);var R=k.state.autoplaying;H==="paused"?k.setState({autoplaying:"paused"}):H==="focused"?(R==="hovered"||R==="playing")&&k.setState({autoplaying:"focused"}):R==="playing"&&k.setState({autoplaying:"hovered"})}),j(C(k),"onDotsOver",function(){return k.props.autoplay&&k.pause("hovered")}),j(C(k),"onDotsLeave",function(){return k.props.autoplay&&k.state.autoplaying==="hovered"&&k.autoPlay("leave")}),j(C(k),"onTrackOver",function(){return k.props.autoplay&&k.pause("hovered")}),j(C(k),"onTrackLeave",function(){return k.props.autoplay&&k.state.autoplaying==="hovered"&&k.autoPlay("leave")}),j(C(k),"onSlideFocus",function(){return k.props.autoplay&&k.pause("focused")}),j(C(k),"onSlideBlur",function(){return k.props.autoplay&&k.state.autoplaying==="focused"&&k.autoPlay("blur")}),j(C(k),"render",function(){var H=(0,r.default)("slick-slider",k.props.className,{"slick-vertical":k.props.vertical,"slick-initialized":!0}),R=b(b({},k.props),k.state),U=(0,i.extractObject)(R,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),K=k.props.pauseOnHover;U=b(b({},U),{},{onMouseEnter:K?k.onTrackOver:null,onMouseLeave:K?k.onTrackLeave:null,onMouseOver:K?k.onTrackOver:null,focusOnSelect:k.props.focusOnSelect&&k.clickable?k.selectHandler:null});var J;if(k.props.dots===!0&&k.state.slideCount>=k.props.slidesToShow){var G=(0,i.extractObject)(R,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),te=k.props.pauseOnDotsHover;G=b(b({},G),{},{clickHandler:k.changeSlide,onMouseEnter:te?k.onDotsLeave:null,onMouseOver:te?k.onDotsOver:null,onMouseLeave:te?k.onDotsLeave:null}),J=t.default.createElement(a.Dots,G)}var ie,ne,xe=(0,i.extractObject)(R,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);xe.clickHandler=k.changeSlide,k.props.arrows&&(ie=t.default.createElement(l.PrevArrow,xe),ne=t.default.createElement(l.NextArrow,xe));var ae=null;k.props.vertical&&(ae={height:k.state.listHeight});var ve=null;k.props.vertical===!1?k.props.centerMode===!0&&(ve={padding:"0px "+k.props.centerPadding}):k.props.centerMode===!0&&(ve={padding:k.props.centerPadding+" 0px"});var Te=b(b({},ae),ve),me=k.props.touchMove,Ie={className:"slick-list",style:Te,onClick:k.clickHandler,onMouseDown:me?k.swipeStart:null,onMouseMove:k.state.dragging&&me?k.swipeMove:null,onMouseUp:me?k.swipeEnd:null,onMouseLeave:k.state.dragging&&me?k.swipeEnd:null,onTouchStart:me?k.swipeStart:null,onTouchMove:k.state.dragging&&me?k.swipeMove:null,onTouchEnd:me?k.touchEnd:null,onTouchCancel:k.state.dragging&&me?k.swipeEnd:null,onKeyDown:k.props.accessibility?k.keyHandler:null},De={className:H,dir:"ltr",style:k.props.style};return k.props.unslick&&(Ie={className:"slick-list"},De={className:H,style:k.props.style}),t.default.createElement("div",De,k.props.unslick?"":ie,t.default.createElement("div",m({ref:k.listRefHandler},Ie),t.default.createElement(s.Track,m({ref:k.trackRefHandler},U),k.props.children)),k.props.unslick?"":ne,k.props.unslick?"":J)}),k.list=null,k.track=null,k.state=b(b({},e.default),{},{currentSlide:k.props.initialSlide,targetSlide:k.props.initialSlide?k.props.initialSlide:0,slideCount:t.default.Children.count(k.props.children)}),k.callbackTimers=[],k.clickable=!0,k.debouncedResize=null;var Q=k.ssrInit();return k.state=b(b({},k.state),Q),k}return M(Y,[{key:"didPropsChange",value:function(k){for(var Q=!1,H=0,R=Object.keys(this.props);H<R.length;H++){var U=R[H];if(!k.hasOwnProperty(U)){Q=!0;break}if(!(f(k[U])==="object"||typeof k[U]=="function"||isNaN(k[U]))&&k[U]!==this.props[U]){Q=!0;break}}return Q||t.default.Children.count(this.props.children)!==t.default.Children.count(k.children)}}]),Y})(t.default.Component),Rm}var nC,CL;function Awe(){if(CL)return nC;CL=1;var t=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return nC=t,nC}var rC,NL;function Iwe(){if(NL)return rC;NL=1;var t=Awe(),e=function(i){var s=/[height|width]$/;return s.test(i)},n=function(i){var s="",a=Object.keys(i);return a.forEach(function(l,c){var d=i[l];l=t(l),e(l)&&typeof d=="number"&&(d=d+"px"),d===!0?s+=l:d===!1?s+="not "+l:s+="("+l+": "+d+")",c<a.length-1&&(s+=" and ")}),s},r=function(i){var s="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(a,l){s+=n(a),l<i.length-1&&(s+=", ")}),s):n(i)};return rC=r,rC}var SL;function jwe(){return SL||(SL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=a(Zr()),n=Pwe(),r=a(Iwe()),i=a(v7()),s=Vg();function a(N){return N&&N.__esModule?N:{default:N}}function l(N){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},l(N)}function c(){return c=Object.assign?Object.assign.bind():function(N){for(var A=1;A<arguments.length;A++){var j=arguments[A];for(var D in j)({}).hasOwnProperty.call(j,D)&&(N[D]=j[D])}return N},c.apply(null,arguments)}function d(N,A){var j=Object.keys(N);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(N);A&&(D=D.filter(function(L){return Object.getOwnPropertyDescriptor(N,L).enumerable})),j.push.apply(j,D)}return j}function f(N){for(var A=1;A<arguments.length;A++){var j=arguments[A]!=null?arguments[A]:{};A%2?d(Object(j),!0).forEach(function(D){I(N,D,j[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(j)):d(Object(j)).forEach(function(D){Object.defineProperty(N,D,Object.getOwnPropertyDescriptor(j,D))})}return N}function m(N,A){if(!(N instanceof A))throw new TypeError("Cannot call a class as a function")}function p(N,A){for(var j=0;j<A.length;j++){var D=A[j];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(N,P(D.key),D)}}function y(N,A,j){return A&&p(N.prototype,A),Object.defineProperty(N,"prototype",{writable:!1}),N}function x(N,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(A&&A.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),Object.defineProperty(N,"prototype",{writable:!1}),A&&b(N,A)}function b(N,A){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,D){return j.__proto__=D,j},b(N,A)}function _(N){var A=O();return function(){var j,D=z(N);if(A){var L=z(this).constructor;j=Reflect.construct(D,arguments,L)}else j=D.apply(this,arguments);return S(this,j)}}function S(N,A){if(A&&(l(A)=="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(N)}function M(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}function O(){try{var N=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!N})()}function z(N){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},z(N)}function I(N,A,j){return(A=P(A))in N?Object.defineProperty(N,A,{value:j,enumerable:!0,configurable:!0,writable:!0}):N[A]=j,N}function P(N){var A=C(N,"string");return l(A)=="symbol"?A:A+""}function C(N,A){if(l(N)!="object"||!N)return N;var j=N[Symbol.toPrimitive];if(j!==void 0){var D=j.call(N,A);if(l(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(N)}t.default=(function(N){x(j,N);var A=_(j);function j(D){var L;return m(this,j),L=A.call(this,D),I(M(L),"innerSliderRefHandler",function(B){return L.innerSlider=B}),I(M(L),"slickPrev",function(){return L.innerSlider.slickPrev()}),I(M(L),"slickNext",function(){return L.innerSlider.slickNext()}),I(M(L),"slickGoTo",function(B){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return L.innerSlider.slickGoTo(B,$)}),I(M(L),"slickPause",function(){return L.innerSlider.pause("paused")}),I(M(L),"slickPlay",function(){return L.innerSlider.autoPlay("play")}),L.state={breakpoint:null},L._responsiveMediaHandlers=[],L}return y(j,[{key:"media",value:function(L,B){var $=window.matchMedia(L),Y=function(k){var Q=k.matches;Q&&B()};$.addListener(Y),this._responsiveMediaHandlers.push({mql:$,query:L,listener:Y})}},{key:"componentDidMount",value:function(){var L=this;if(this.props.responsive){var B=this.props.responsive.map(function(Y){return Y.breakpoint});B.sort(function(Y,Z){return Y-Z}),B.forEach(function(Y,Z){var k;Z===0?k=(0,r.default)({minWidth:0,maxWidth:Y}):k=(0,r.default)({minWidth:B[Z-1]+1,maxWidth:Y}),(0,s.canUseDOM)()&&L.media(k,function(){L.setState({breakpoint:Y})})});var $=(0,r.default)({minWidth:B.slice(-1)[0]});(0,s.canUseDOM)()&&this.media($,function(){L.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(L){L.mql.removeListener(L.listener)})}},{key:"render",value:function(){var L=this,B,$;this.state.breakpoint?($=this.props.responsive.filter(function(G){return G.breakpoint===L.state.breakpoint}),B=$[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),$[0].settings)):B=f(f({},i.default),this.props),B.centerMode&&(B.slidesToScroll>1,B.slidesToScroll=1),B.fade&&(B.slidesToShow>1,B.slidesToScroll>1,B.slidesToShow=1,B.slidesToScroll=1);var Y=e.default.Children.toArray(this.props.children);Y=Y.filter(function(G){return typeof G=="string"?!!G.trim():!!G}),B.variableWidth&&(B.rows>1||B.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),B.variableWidth=!1);for(var Z=[],k=null,Q=0;Q<Y.length;Q+=B.rows*B.slidesPerRow){for(var H=[],R=Q;R<Q+B.rows*B.slidesPerRow;R+=B.slidesPerRow){for(var U=[],K=R;K<R+B.slidesPerRow&&(B.variableWidth&&Y[K].props.style&&(k=Y[K].props.style.width),!(K>=Y.length));K+=1)U.push(e.default.cloneElement(Y[K],{key:100*Q+10*R+K,tabIndex:-1,style:{width:"".concat(100/B.slidesPerRow,"%"),display:"inline-block"}}));H.push(e.default.createElement("div",{key:10*Q+R},U))}B.variableWidth?Z.push(e.default.createElement("div",{key:Q,style:{width:k}},H)):Z.push(e.default.createElement("div",{key:Q},H))}if(B==="unslick"){var J="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:J},Y)}else Z.length<=B.slidesToShow&&(B.unslick=!0);return e.default.createElement(n.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(B)),Z)}}]),j})(e.default.Component)})(QE)),QE}var TL;function kwe(){return TL||(TL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(jwe());function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(YE)),YE}var Rwe=kwe();const Dwe=bi(Rwe);function Owe({onAccountClick:t,onAddAccountClick:e}){const{user:n}=Vt(),{getBalance:r}=Lg(),{t:i}=ei(),[s,a]=E.useState([]),[l,c]=E.useState(!0),[d,f]=E.useState(!1);E.useEffect(()=>{if(!n?.uid)return;console.log(" Iniciando listener de contas bancrias para userId:",n.uid);let b=0;const _=3;let S=null,M=null,O=!1;const z=()=>{if(O){console.log(" Configurao de listener j em andamento, ignorando...");return}O=!0,S&&(console.log(" Limpando listener anterior antes de criar novo..."),S(),S=null);const I=it(Ee,"bankAccounts"),P=It(I,Et("userId","==",n.uid));S=xi(P,C=>{console.log(" Contas bancrias recebidas:",C.size),b=0,O=!1;const N=C.docs.map(A=>({...A.data(),id:A.id,createdAt:A.data().createdAt?.toDate()||new Date}));console.log(" Total de contas carregadas:",N.length),console.log(" Pases das contas:",N.map(A=>`${A.country} (${A.currency})`).join(", ")),a(N),f(!1),c(!1)},C=>{console.error(" Erro no listener de contas bancrias:",C),O=!1,C.code==="permission-denied"?(console.log(" Erro de permisso, tentando getDocs..."),m()):C.code==="unavailable"&&b<_?(b++,console.log(` Tentando reconectar listener de contas... (tentativa ${b}/${_})`),M=setTimeout(()=>{S&&S(),z()},1e3*b)):(f(!0),c(!1))})};return z(),()=>{console.log(" Desconectando listener de contas bancrias"),S&&S(),M&&clearTimeout(M)}},[n]);const m=async()=>{if(n?.uid)try{const b=it(Ee,"bankAccounts"),_=It(b,Et("userId","==",n.uid)),M=(await Pt(_)).docs.map(O=>({...O.data(),id:O.id,createdAt:O.data().createdAt?.toDate()||new Date}));a(M),f(!1)}catch(b){console.error(" Erro ao carregar contas com getDocs:",b),f(!0)}finally{c(!1)}},p={dots:!1,infinite:!1,speed:300,slidesToShow:1.2,slidesToScroll:1,arrows:!1,swipeToSlide:!0},y=b=>{switch(b.country){case"BR":return{label:"Pix",icon:""};case"US":return{label:` ${b.accountNumber.slice(-4)}`};case"EU":return{label:` ${b.iban?.slice(-4)||b.accountNumber.slice(-4)}`};default:return{label:` ${b.accountNumber.slice(-4)}`}}},x={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",KRW:"",ZAR:"R",ARS:"$",CLP:"$"};return l?o.jsxs("div",{className:"px-6 mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:i.myAccounts}),o.jsx("div",{className:"animate-pulse",children:o.jsx("div",{className:"bg-zinc-900/50 rounded-3xl h-48 w-[85%]"})})]}):d?o.jsxs("div",{className:"px-6 mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:i.myAccounts}),o.jsx("div",{className:"text-red-500",children:"Ocorreu um erro ao carregar suas contas. Tente novamente mais tarde."})]}):!n||s.length===0?null:o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 px-6",children:i.myAccounts}),o.jsx("div",{className:"px-3",children:o.jsxs(Dwe,{...p,children:[s.map(b=>{const _=y(b);return o.jsx("div",{className:"px-3",children:o.jsxs("button",{onClick:()=>t?.(b),className:"w-full bg-gradient-to-br from-zinc-800/90 via-zinc-900/95 to-black backdrop-blur-xl rounded-3xl p-5 border border-zinc-700/60 hover:border-zinc-600 shadow-lg shadow-black/40 transition-all active:scale-[0.98] text-left relative overflow-hidden group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] via-transparent to-transparent pointer-events-none"}),o.jsxs("div",{className:"flex items-center justify-between mb-10 relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800 border border-zinc-700",children:o.jsx("img",{src:`https://flagcdn.com/w80/${b.country.toLowerCase()}.png`,alt:b.currency,className:"w-full h-full object-cover"})}),o.jsx("div",{className:"text-xl font-semibold text-white",children:b.currency})]}),o.jsxs("div",{className:"px-4 py-2 rounded-full bg-zinc-800/80 backdrop-blur-sm border border-zinc-700/50 flex items-center gap-2",children:[_.icon&&o.jsx("span",{className:"text-cyan-400 text-sm",children:_.icon}),o.jsx("span",{className:"text-xs font-medium text-gray-300",children:_.label})]})]}),(b.iban||b.accountNumber)&&o.jsx("div",{className:"text-xs text-gray-500 mb-3 font-mono tracking-wider relative z-10",children:b.iban?o.jsxs(o.Fragment,{children:["  ",b.iban.slice(-6)]}):o.jsxs(o.Fragment,{children:["  ",b.accountNumber.slice(-6)]})}),o.jsx("div",{className:"relative z-10 tabular-nums text-white",children:o.jsx(Ea,{value:r(b.currency),symbol:x[b.currency],className:"text-2xl font-light"})})]})},b.id)}),o.jsx("div",{className:"px-3",children:o.jsxs("div",{onClick:e,className:"w-full bg-transparent backdrop-blur-xl rounded-3xl p-5 border-2 border-dashed border-zinc-700/60 hover:border-zinc-600 hover:bg-white/5 shadow-lg shadow-black/40 transition-all active:scale-[0.98] text-left relative overflow-hidden group h-full min-h-[180px] flex flex-col cursor-pointer",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-auto relative z-10",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 backdrop-blur-md border border-white/20 flex items-center justify-center",children:o.jsx(_u,{className:"text-white text-2xl font-light"})}),o.jsx("span",{className:"text-white/70 font-semibold",children:"Nova Conta"})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10",children:o.jsxs("p",{className:"text-white/50 text-sm text-center",children:["Adicione uma conta",o.jsx("br",{}),"de outro pas"]})})]})})]})})]})}function Mwe({onClose:t}){const[e,n]=E.useState(!1),r=`rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    //  Localizaes dos usurios
    match /userLocations/{userId} {
      allow read: if request.auth != null && request.auth.uid == userId;
      allow write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Dados dos usurios
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Saldos dos usurios
    match /balances/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Transaes
    match /transactions/{transactionId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null;
    }
    
    //  Transferncias de cripto
    match /cryptoTransfers/{transferId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null;
    }

    //  Contas bancrias
    match /bankAccounts/{accountId} {
      allow read, write: if request.auth != null;
    }
  }
}`,i=async()=>{try{await navigator.clipboard.writeText(r),n(!0),setTimeout(()=>n(!1),2e3)}catch(s){console.error("Erro ao copiar:",s)}};return o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl border border-white/20 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-[0_0_40px_rgba(255,255,255,0.1)]",children:[o.jsxs("div",{className:"sticky top-0 bg-white/5 backdrop-blur-md border-b border-white/10 px-6 py-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl text-white",children:" Configurar Firestore"}),o.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-all",children:o.jsx(Qr,{className:"w-5 h-5 text-white"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-4",children:o.jsx("p",{className:"text-red-400 text-sm",children:" As regras de segurana do Firestore precisam ser configuradas para permitir o salvamento de localizaes."})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"1"}),"Acesse o Firebase Console"]}),o.jsxs("a",{href:"https://console.firebase.google.com/project/nexcoin-1f42f/firestore/rules",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-500/20 backdrop-blur-md rounded-xl px-4 py-3 border border-blue-500/30 hover:bg-blue-500/30 transition-all",children:[o.jsx(YV,{className:"w-4 h-4 text-blue-400"}),o.jsx("span",{className:"text-sm text-blue-400 flex-1 font-medium",children:"Clique aqui para abrir Firestore Rules"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"2"}),"Navegue at as regras"]}),o.jsx("div",{className:"bg-white/5 rounded-xl px-4 py-3 border border-white/10",children:o.jsxs("p",{className:"text-xs text-white/60",children:["Firestore Database  ",o.jsx("span",{className:"text-white",children:"Rules"})]})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"3"}),"Cole estas regras"]}),o.jsxs("div",{className:"relative",children:[o.jsx("pre",{className:"bg-black/40 rounded-xl p-4 border border-white/10 overflow-x-auto text-xs text-white/80 font-mono",children:r}),o.jsx("button",{onClick:i,className:"absolute top-3 right-3 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-lg px-3 py-1.5 flex items-center gap-2 border border-white/10 transition-all",children:e?o.jsxs(o.Fragment,{children:[o.jsx(Hx,{className:"w-4 h-4 text-green-400"}),o.jsx("span",{className:"text-xs text-green-400",children:"Copiado!"})]}):o.jsxs(o.Fragment,{children:[o.jsx(xn,{className:"w-4 h-4 text-white/60"}),o.jsx("span",{className:"text-xs text-white/60",children:"Copiar"})]})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"4"}),"Publique as regras"]}),o.jsx("div",{className:"bg-white/5 rounded-xl px-4 py-3 border border-white/10",children:o.jsxs("p",{className:"text-xs text-white/60",children:["Clique no boto ",o.jsx("span",{className:"text-white font-medium",children:"Publicar"})," (Publish)"]})})]}),o.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4",children:o.jsx("p",{className:"text-green-400 text-sm",children:" Aps publicar, aguarde 1 minuto e recarregue a pgina. As localizaes sero salvas automaticamente!"})}),o.jsx("button",{onClick:t,className:"w-full bg-white/10 hover:bg-white/15 backdrop-blur-md rounded-xl px-4 py-3 border border-white/10 text-white transition-all",children:"Entendi"})]})]})})}function Lwe(t){return t>=1?t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:6}):t.toLocaleString("pt-BR",{minimumFractionDigits:6,maximumFractionDigits:8})}function PL({onNavigate:t,onNavigateWithAccount:e}){const{prices:n}=wi(),{portfolio:r}=qs(),{rates:i}=BP(),{user:s,userData:a,updateVisibleCards:l}=Vt(),{location:c,firestoreError:d}=vU(),{t:f}=ei(),[m,p]=E.useState(!1),[y,x]=E.useState(!1),[b,_]=E.useState(!1),[S,M]=E.useState(!1),[O,z]=E.useState(""),[I,P]=E.useState(["BTC","ETH","SOL","BNB"]),[C,N]=E.useState(["USD"]),[A,j]=E.useState([]);E.useEffect(()=>{a?.preferences?.visibleCards&&P(a.preferences.visibleCards)},[a]),E.useEffect(()=>{if(!s)return;(async()=>{try{const te=it(Ee,"bankAccounts"),ie=It(te,Et("userId","==",s.uid)),ne=await Pt(ie);if(ne.empty){N(["USD"]),$("USD");return}const xe={USD:"USD",BRL:"BRL",GBP:"GBP",EUR:"EUR"},ae=ne.docs.map(Te=>{const me=Te.data();return xe[me.currency]}).filter(Te=>Te!==void 0),ve=Array.from(new Set(ae));ve.length>0?(N(ve),ve.includes(B)||$(ve[0])):(N(["USD"]),$("USD")),j(ne.docs.map(Te=>Te.data()))}catch(te){console.error("Erro ao carregar moedas disponveis:",te),N(["USD"])}})()},[s]);const D=async G=>{const te=I.includes(G)?I.filter(ie=>ie!==G):[...I,G];P(te);try{await l(te)}catch(ie){console.error("Erro ao salvar preferncias:",ie)}},L=[{symbol:"BTC",name:"Bitcoin",coinId:"bitcoin"},{symbol:"ETH",name:"Ethereum",coinId:"ethereum"},{symbol:"SOL",name:"Solana",coinId:"solana"},{symbol:"BNB",name:"BNB",coinId:"binancecoin"},{symbol:"XRP",name:"Ripple",coinId:"ripple"},{symbol:"ADA",name:"Cardano",coinId:"cardano"},{symbol:"AVAX",name:"Avalanche",coinId:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",coinId:"dogecoin"},{symbol:"DOT",name:"Polkadot",coinId:"polkadot"},{symbol:"MATIC",name:"Polygon",coinId:"matic-network"},{symbol:"LINK",name:"Chainlink",coinId:"chainlink"},{symbol:"UNI",name:"Uniswap",coinId:"uniswap"},{symbol:"LTC",name:"Litecoin",coinId:"litecoin"},{symbol:"ATOM",name:"Cosmos",coinId:"cosmos"},{symbol:"XLM",name:"Stellar",coinId:"stellar"},{symbol:"TRX",name:"Tron",coinId:"tron"},{symbol:"SHIB",name:"Shiba Inu",coinId:"shiba-inu"},{symbol:"WBTC",name:"Wrapped Bitcoin",coinId:"wrapped-bitcoin"},{symbol:"DAI",name:"Dai",coinId:"dai"},{symbol:"LEO",name:"UNUS SED LEO",coinId:"leo-token"},{symbol:"USDC",name:"USD Coin",coinId:"usd-coin"},{symbol:"TON",name:"Toncoin",coinId:"the-open-network"},{symbol:"ETC",name:"Ethereum Classic",coinId:"ethereum-classic"},{symbol:"BCH",name:"Bitcoin Cash",coinId:"bitcoin-cash"},{symbol:"APT",name:"Aptos",coinId:"aptos"},{symbol:"ARB",name:"Arbitrum",coinId:"arbitrum"},{symbol:"OP",name:"Optimism",coinId:"optimism"},{symbol:"ICP",name:"Internet Computer",coinId:"internet-computer"},{symbol:"FIL",name:"Filecoin",coinId:"filecoin"},{symbol:"NEAR",name:"NEAR Protocol",coinId:"near"},{symbol:"VET",name:"VeChain",coinId:"vechain"},{symbol:"ALGO",name:"Algorand",coinId:"algorand"},{symbol:"INJ",name:"Injective",coinId:"injective-protocol"},{symbol:"AAVE",name:"Aave",coinId:"aave"},{symbol:"MKR",name:"Maker",coinId:"maker"},{symbol:"GRT",name:"The Graph",coinId:"the-graph"},{symbol:"IMX",name:"Immutable X",coinId:"immutable-x"},{symbol:"STX",name:"Stacks",coinId:"blockstack"},{symbol:"HBAR",name:"Hedera",coinId:"hedera-hashgraph"},{symbol:"FTM",name:"Fantom",coinId:"fantom"},{symbol:"SAND",name:"The Sandbox",coinId:"the-sandbox"},{symbol:"MANA",name:"Decentraland",coinId:"decentraland"},{symbol:"AXS",name:"Axie Infinity",coinId:"axie-infinity"},{symbol:"XTZ",name:"Tezos",coinId:"tezos"},{symbol:"THETA",name:"Theta Network",coinId:"theta-token"},{symbol:"EOS",name:"EOS",coinId:"eos"},{symbol:"XMR",name:"Monero",coinId:"monero"},{symbol:"FLOW",name:"Flow",coinId:"flow"},{symbol:"CHZ",name:"Chiliz",coinId:"chiliz"},{symbol:"ZEC",name:"Zcash",coinId:"zcash"},{symbol:"RUNE",name:"THORChain",coinId:"thorchain"},{symbol:"KLAY",name:"Klaytn",coinId:"klay-token"},{symbol:"DASH",name:"Dash",coinId:"dash"},{symbol:"NEO",name:"Neo",coinId:"neo"},{symbol:"IOTA",name:"IOTA",coinId:"iota"},{symbol:"QNT",name:"Quant",coinId:"quant-network"},{symbol:"EGLD",name:"MultiversX",coinId:"elrond-erd-2"},{symbol:"PEPE",name:"Pepe",coinId:"pepe"},{symbol:"FET",name:"Fetch.ai",coinId:"fetch-ai"},{symbol:"SUI",name:"Sui",coinId:"sui"},{symbol:"SEI",name:"Sei",coinId:"sei-network"}],[B,$]=E.useState("USD"),[Y,Z]=E.useState(0);E.useEffect(()=>{a?.photoURL&&z(a.photoURL)},[a]),E.useEffect(()=>(m||y||b?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[m,y,b]),E.useEffect(()=>{if(d&&(d.includes("Firestore")||d.includes("permission"))){console.log(" [NewHome] Erro de Firestore detectado:",d),console.log(" [NewHome] Abrindo modal de instrues...");const G=setTimeout(()=>{M(!0)},2e3);return()=>clearTimeout(G)}},[d]),n.bitcoin?.usd,n.ethereum?.usd;const k=1;n.bitcoin?.usd_24h_change,n.ethereum?.usd_24h_change,n.tether?.usd_24h_change,n.solana?.usd,n.binancecoin?.usd,n.solana?.usd_24h_change,n.binancecoin?.usd_24h_change;const Q=r.totalBalanceUSDT;r.change24h,r.changePercent24h;const H=r.holdings.find(G=>G.symbol==="USDT");H&&H.amount;const R=Q*k*(i[B]||1);E.useEffect(()=>{Y===0&&R>0&&Z(R)},[R]),E.useEffect(()=>{if(Y===0)return;const G=Y,te=R,ie=400,ne=performance.now(),xe=ae=>{const ve=ae-ne,Te=Math.min(ve/ie,1),me=1-Math.pow(1-Te,3),Ie=G+(te-G)*me;Z(Ie),Te<1&&requestAnimationFrame(xe)};requestAnimationFrame(xe)},[B]);const U=()=>{if(C.length===0)return;const G=new(window.AudioContext||window.webkitAudioContext),te=8,ie=.02,ne=.05;for(let ve=0;ve<te;ve++){const Te=G.createOscillator(),me=G.createGain();Te.connect(me),me.connect(G.destination);const Ie=G.currentTime+ve*ne;Te.frequency.setValueAtTime(1200+ve*50,Ie);const De=.15*(1-ve/te*.5);me.gain.setValueAtTime(De,Ie),me.gain.exponentialRampToValueAtTime(.01,Ie+ie),Te.start(Ie),Te.stop(Ie+ie)}const ae=(C.indexOf(B)+1)%C.length;$(C[ae])},K=G=>({USD:"$",BRL:"R$",GBP:"",EUR:""})[G]||"$",J=async G=>{const te=G.target.files?.[0];if(!(!te||!s))try{Me.loading("Comprimindo foto...",{id:"upload-photo"});const ie=await xU(te,200,.7);z(ie),Me.loading("Salvando foto...",{id:"upload-photo"}),await us(lt(Ee,"users",s.uid),{photoURL:ie}),Me.success("Foto atualizada com sucesso!",{id:"upload-photo"})}catch(ie){console.error("Erro ao salvar foto:",ie),Me.error("Erro ao enviar foto. Tente novamente.",{id:"upload-photo"}),a?.photoURL&&z(a.photoURL)}};return o.jsxs("div",{className:"min-h-screen relative flex flex-col bg-gradient-to-b from-[#1a2942] via-black to-black",children:[o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[o.jsxs("header",{className:"px-6 pt-12 pb-4 flex items-center justify-between gap-3 relative z-10",children:[o.jsx("label",{htmlFor:"profile-photo-input",className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white/10 cursor-pointer hover:border-white/30 transition-all active:scale-95 block bg-white/10",children:O?o.jsx("img",{alt:"User Avatar",className:"w-full h-full object-cover",src:O}):o.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/60 text-lg font-bold",children:a?.displayName?.[0]?.toUpperCase()||"U"})}),o.jsx("input",{type:"file",id:"profile-photo-input",className:"hidden",accept:"image/*",onChange:J}),o.jsxs("button",{className:"flex-1 bg-white/5 backdrop-blur-md rounded-full px-4 py-2.5 flex items-center gap-2 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",onClick:()=>p(!0),children:[o.jsx(Gl,{className:"text-white/60 w-5 h-5"}),o.jsx("span",{className:"text-white/60 text-sm font-medium",children:f.search})]}),o.jsx("button",{className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",onClick:()=>x(!0),children:o.jsx(Ov,{className:"text-white w-5 h-5"})})]}),o.jsx("section",{className:"mt-8 px-6 text-center relative z-10",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-xs font-medium text-white/60 mb-2 px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/20 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:f.cashAndStablecoins}),o.jsxs("h1",{className:"text-5xl font-bold flex flex-col items-center gap-1 text-white",children:[o.jsx("button",{onClick:U,className:"font-bold text-white hover:text-white/80 transition-colors cursor-pointer active:scale-95 flex items-baseline",children:o.jsx(Ea,{value:Y,symbol:K(B),className:"text-4xl font-normal tabular-nums"})}),o.jsxs("span",{className:"text-base font-medium text-white/50",children:[" ",o.jsx(Ea,{value:Q,className:"text-base font-light",showSymbol:!1})," USDT"]})]}),o.jsx("div",{className:"mt-2 w-screen h-12 opacity-40 -mx-6",children:o.jsx(Jbe,{value:Q})})]})}),o.jsxs("section",{className:"mt-1 px-6 grid grid-cols-2 gap-8 relative z-10",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("button",{onClick:()=>{A.length>0,t("selectFiatAccount")},className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:o.jsx(GV,{className:"text-white w-6 h-6"})}),o.jsx("span",{className:"text-white text-sm font-light tracking-wide",children:f.deposit})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("button",{onClick:()=>{const G=A.find(te=>te.currency==="BRL");G&&e?e("withdrawFiat",G):t("withdrawFiat")},className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:o.jsx(rN,{className:"text-white w-6 h-6"})}),o.jsx("span",{className:"text-white text-sm font-light tracking-wide",children:f.transfer})]})]}),o.jsx("section",{className:"mt-8 relative z-10",children:o.jsx(Owe,{onAccountClick:G=>{e&&e("fiatAccountDetails",G)},onAddAccountClick:()=>{t&&t("accountData")}})}),o.jsx("section",{className:"mt-8 px-4 relative z-10",children:o.jsx("button",{onClick:()=>t("transactions"),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-3 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] hover:bg-white/10 transition-all active:scale-[0.98]",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(vG,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-sm font-bold text-white",children:f.statement}),o.jsx("p",{className:"text-xs text-white/50",children:f.viewAllTransactions})]})]}),o.jsx(as,{className:"w-4 h-4 text-white/50"})]})})}),r.holdings.filter(G=>G.amount>0).length>0&&o.jsxs("section",{className:"mt-6 px-4 relative z-10",children:[o.jsx("h3",{className:"text-white/40 text-xs font-medium mb-3 px-1",children:f.assets}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] overflow-hidden",children:r.holdings.filter(G=>G.amount>0).map((G,te,ie)=>{const xe=L.find(me=>me.symbol===G.symbol)?.coinId||G.coinId||G.symbol.toLowerCase(),ae=n[xe]?.usd||0,ve=n[xe]?.usd_24h_change||0,Te=G.amount*ae;return o.jsxs("div",{className:`px-4 py-3 flex items-center justify-between ${te!==ie.length-1?"border-b border-white/5":""} hover:bg-white/5 transition-colors`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:G.symbol,size:"sm"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-white",children:G.name}),o.jsxs("p",{className:"text-xs text-white/40",children:[o.jsx(Ea,{value:Te,className:"text-xs font-light",showSymbol:!1})," USDT"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-white",children:G.symbol==="USDT"?o.jsxs(o.Fragment,{children:[o.jsx(Ea,{value:G.amount,className:"text-sm font-light",showSymbol:!1})," ",G.symbol]}):o.jsxs(o.Fragment,{children:[Lwe(G.amount)," ",G.symbol]})}),o.jsxs("div",{className:`flex items-center justify-end text-xs ${ve>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[ve>=0?o.jsx(Fi,{className:"w-3 h-3"}):o.jsx(Cu,{className:"w-3 h-3"}),Math.abs(ve).toFixed(2).replace(".",","),"%"]})]})]},G.symbol)})})]}),o.jsxs("section",{className:"mt-10 px-4 space-y-4 relative z-10 pb-32",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[o.jsx("h3",{className:"text-white/50 text-xs font-semibold",children:f.market}),o.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-full text-xs font-medium transition-all bg-white/5 backdrop-blur-md text-white/50 border border-white/10 hover:bg-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsx(bG,{className:"w-3.5 h-3.5"}),f.edit]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:L.filter(G=>I.includes(G.symbol)).map(G=>{const te=n[G.coinId]?.usd||0,ie=n[G.coinId]?.usd_24h_change||0;return o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("h4",{className:"text-sm font-bold text-white/50",children:[G.symbol,"-USDT"]}),o.jsx(ht,{symbol:G.symbol,size:"sm"})]}),o.jsx("div",{className:"text-white mb-1",children:o.jsx(Ea,{value:te,className:"text-lg font-light",showSymbol:!1})}),o.jsxs("div",{className:`flex items-center text-xs font-semibold mb-3 ${ie>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[ie>=0?o.jsx(Fi,{className:"w-4 h-4"}):o.jsx(Cu,{className:"w-4 h-4"}),Math.abs(ie).toFixed(2).replace(".",","),"%"]}),o.jsx("div",{className:"h-10 w-full mt-2",children:o.jsx(Fie,{coinId:G.coinId,color:ie>=0?"#34c759":"#ff3b30"})})]},`${G.symbol}-${te}-${ie}`)})})]})]}),o.jsx(Zbe,{isOpen:m,onClose:()=>p(!1)}),o.jsx(ewe,{isOpen:y,onClose:()=>x(!1)}),o.jsx(nwe,{isOpen:b,onClose:()=>_(!1),visibleCards:I,onToggleCard:D}),d&&d.includes("Firestore")&&S&&o.jsx(Mwe,{onClose:()=>M(!1)})]})}function Vwe({onNavigate:t}){const[e,n]=E.useState(!0),{portfolio:r,isLoading:i,addOrUpdateCrypto:s,removeCrypto:a}=qs(),{prices:l}=wi(),{t:c}=ei(),[d,f]=E.useState({show:!1,holding:null}),[m,p]=E.useState(""),[y,x]=E.useState(!1),[b,_]=E.useState({show:!1,holding:null}),[S,M]=E.useState(!1),O=P=>{f({show:!0,holding:P}),p("")},z=async()=>{if(!d.holding||!m||parseFloat(m)<=0){Me.error(c.enterValidValue);return}x(!0);try{const P=d.holding.amount+parseFloat(m);await s(d.holding.symbol,d.holding.coinId,P,d.holding.name),Me.success(c.balanceAddedSuccess,{description:`+${m} ${d.holding.symbol}`}),f({show:!1,holding:null}),p("")}catch(P){console.error("Erro ao adicionar saldo:",P),Me.error(c.errorAddingBalance)}finally{x(!1)}},I=async()=>{if(!b.holding){Me.error("Selecione um ativo para excluir");return}M(!0);try{await a(b.holding.symbol),Me.success("Ativo removido com sucesso!",{description:`${b.holding.symbol}`}),_({show:!1,holding:null})}catch(P){console.error("Erro ao remover ativo:",P),Me.error("Erro ao remover ativo")}finally{M(!1)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[o.jsxs("header",{className:"px-6 pt-8 pb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-lg",children:c.wallet}),o.jsx("button",{onClick:()=>n(!e),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:e?o.jsx(fu,{className:"w-5 h-5"}):o.jsx(gf,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[o.jsxs("button",{onClick:()=>t("receive"),className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:o.jsx(fT,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-sm font-light text-white",children:c.receive})]}),o.jsxs("button",{onClick:()=>t("convert"),className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:o.jsx(nG,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-sm font-light text-white",children:c.convert})]}),o.jsxs("button",{onClick:()=>t("withdraw"),className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:o.jsx(hT,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-sm font-light text-white",children:c.send})]})]})]}),o.jsx("div",{className:"px-6 space-y-6 mb-24",children:i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-white/50 mt-4",children:"Carregando ativos..."})]}):r.holdings.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhum ativo no portflio"}),o.jsxs("p",{className:"text-sm text-white/40 mb-8 max-w-xs mx-auto",children:["Comece adicionando criptomoedas na aba ",o.jsx("span",{className:"text-white font-semibold",children:"Cripto"})]}),o.jsx("button",{onClick:()=>t("crypto"),className:"px-8 py-4 bg-white/5 backdrop-blur-md rounded-2xl font-semibold text-white hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:"Ir para Cripto"})]}):o.jsxs(o.Fragment,{children:[r.holdings.some(P=>P.symbol==="USDT")&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Dinheiro e Stablecoins"}),r.holdings.filter(P=>P.symbol==="USDT").map(P=>{const C=l[P.coinId]?.usd||0;P.amount*C;const N=l[P.coinId]?.usd_24h_change||0;return o.jsxs("div",{onDoubleClick:()=>O(P),title:"Clique 2x para adicionar saldo",className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-5 hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] relative group cursor-pointer",children:[o.jsx("button",{onClick:A=>{A.stopPropagation(),_({show:!0,holding:{symbol:P.symbol,name:P.name,amount:P.amount}})},className:"absolute top-3 right-3 w-9 h-9 rounded-full bg-red-600/80 backdrop-blur-md flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 z-10",title:"Remover ativo",children:o.jsx(ho,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:P.symbol,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-lg mb-1",children:P.symbol}),o.jsx("div",{className:"text-sm text-gray-400",children:P.name||P.symbol})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-light text-lg tabular-nums",children:e?`${or(P.amount)} ${P.symbol}`:""}),o.jsxs("div",{className:`text-sm ${N>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[N>=0?"":""," ",Math.abs(N).toFixed(2),"%"]})]})]})]},P.symbol)})]}),r.holdings.some(P=>P.symbol!=="USDT")?o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h2",{className:"text-lg font-semibold",children:"Criptomoedas"})}),o.jsx("div",{className:"space-y-4",children:r.holdings.filter(P=>P.symbol!=="USDT").map(P=>{const C=l[P.coinId]?.usd||0;P.amount*C;const N=l[P.coinId]?.usd_24h_change||0;return o.jsxs("div",{onDoubleClick:()=>O(P),title:"Clique 2x para adicionar saldo",className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-5 hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] relative group cursor-pointer",children:[o.jsx("button",{onClick:A=>{A.stopPropagation(),_({show:!0,holding:{symbol:P.symbol,name:P.name,amount:P.amount}})},className:"absolute top-3 right-3 w-9 h-9 rounded-full bg-red-600/80 backdrop-blur-md flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 z-10",title:"Remover ativo",children:o.jsx(ho,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:P.symbol,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-lg mb-1",children:P.symbol}),o.jsx("div",{className:"text-sm text-gray-400",children:P.name||P.symbol})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-light text-lg tabular-nums",children:e?`${or(P.amount)} ${P.symbol}`:""}),o.jsxs("div",{className:`text-sm ${N>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[N>=0?"":""," ",Math.abs(N).toFixed(2),"%"]})]})]})]},P.symbol)})}),o.jsx("div",{className:"mt-4 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 text-center",children:o.jsxs("p",{className:"text-sm text-white/50",children:[" Para adicionar mais criptomoedas, v na aba ",o.jsx("span",{className:"font-semibold text-white",children:"Cripto"})," e clique 2x na moeda desejada"]})})]}):o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Criptomoedas"}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto mb-4 flex items-center justify-center",children:o.jsx(_u,{className:"w-8 h-8 text-white/30"})}),o.jsx("p",{className:"text-white/50 text-sm mb-4",children:"Adicione criptomoedas ao seu portflio"}),o.jsx("button",{onClick:()=>t("crypto"),className:"px-6 py-3 bg-white text-black rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Ir para Cripto"}),o.jsx("p",{className:"text-xs text-white/30 mt-3",children:"Na aba Cripto, clique 2x em qualquer moeda para adicionar"})]})]})]})})]}),d.show&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>f({show:!1,holding:null}),children:o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 w-full max-w-md border border-white/10 shadow-[0_0_40px_rgba(255,255,255,0.1)]",onClick:P=>P.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Adicionar Saldo"}),o.jsx("button",{onClick:()=>f({show:!1,holding:null}),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10",children:o.jsx(Qr,{className:"w-5 h-5 text-white"})})]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[o.jsx(ht,{symbol:d.holding?.symbol||"USDT",size:"lg"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-xl text-white mb-1",children:d.holding?.symbol||"USDT"}),o.jsx("div",{className:"text-sm text-gray-400",children:d.holding?.name||"USDT"})]})]}),o.jsxs("div",{className:"mb-4 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Saldo atual"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:[or(d.holding?.amount||0)," ",d.holding?.symbol]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-400 mb-2",children:"Valor a adicionar"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",value:m,onChange:P=>p(P.target.value),placeholder:"0.00",step:"0.00000001",className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 pr-16 text-2xl font-bold text-white placeholder-gray-600 border border-white/10 focus:outline-none focus:border-white/30 transition-colors",autoFocus:!0}),o.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-lg font-semibold text-gray-400",children:d.holding?.symbol})]}),m&&parseFloat(m)>0&&o.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Novo saldo: ",or((d.holding?.amount||0)+parseFloat(m))," ",d.holding?.symbol]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("button",{onClick:()=>f({show:!1,holding:null}),className:"py-4 rounded-2xl font-semibold bg-white/5 hover:bg-white/10 text-white transition-colors border border-white/10",disabled:y,children:"Cancelar"}),o.jsx("button",{onClick:z,className:"py-4 rounded-2xl font-semibold bg-white text-black hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:y||!m||parseFloat(m)<=0,children:y?"Adicionando...":"Adicionar"})]})]})}),b.show&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>_({show:!1,holding:null}),children:o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 w-full max-w-md border border-white/10 shadow-[0_0_40px_rgba(255,255,255,0.1)]",onClick:P=>P.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Remover Ativo"}),o.jsx("button",{onClick:()=>_({show:!1,holding:null}),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10",children:o.jsx(Qr,{className:"w-5 h-5 text-white"})})]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[o.jsx(ht,{symbol:b.holding?.symbol||"USDT",size:"lg"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-xl text-white mb-1",children:b.holding?.symbol||"USDT"}),o.jsx("div",{className:"text-sm text-gray-400",children:b.holding?.name||"USDT"})]})]}),o.jsxs("div",{className:"mb-4 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Saldo atual"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:[or(b.holding?.amount||0)," ",b.holding?.symbol]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("button",{onClick:()=>_({show:!1,holding:null}),className:"py-4 rounded-2xl font-semibold bg-white/5 hover:bg-white/10 text-white transition-colors border border-white/10",disabled:S,children:"Cancelar"}),o.jsx("button",{onClick:I,className:"py-4 rounded-2xl font-semibold bg-red-600 text-white hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:S,children:S?"Removendo...":"Remover"})]})]})})]})}const Fwe="modulepreload",Bwe=function(t){return"/nexcoin/"+t},AL={},C7=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let c=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=c(n.map(d=>{if(d=Bwe(d),d in AL)return;AL[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Fwe,f||(p.as="script"),p.crossOrigin="",p.href=d,l&&p.setAttribute("nonce",l),document.head.appendChild(p),f)return new Promise((y,x)=>{p.addEventListener("load",y),p.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};async function zwe(t,e){try{if(console.log(" Salvando converso:",e),!t)throw new Error("userId  obrigatrio");const n=it(Ee,"users",t,"conversions"),r={fromCurrency:e.fromCurrency,toCurrency:e.toCurrency,fromAmount:e.fromAmount,toAmount:e.toAmount,exchangeRate:e.exchangeRate,fee:e.fee,feePercentage:e.feePercentage,conversionMode:e.conversionMode,status:e.status,createdAt:vt.fromDate(new Date),completedAt:e.status==="completed"?vt.fromDate(new Date):null};e.fromCoinId!==void 0&&(r.fromCoinId=e.fromCoinId),e.toCoinId!==void 0&&(r.toCoinId=e.toCoinId),e.fromName!==void 0&&(r.fromName=e.fromName),e.toName!==void 0&&(r.toName=e.toName);const i=await zi(n,r);console.log(" Converso salva com ID:",i.id);try{const s=it(Ee,"users",t,"transactions");await zi(s,{type:"convert",status:e.status,amount:e.toAmount,currency:e.toCurrency,fromAmount:e.fromAmount,fromCurrency:e.fromCurrency,toAmount:e.toAmount,toCurrency:e.toCurrency,fee:e.fee||0,feeCurrency:e.fromCurrency,description:`Converso de ${e.fromAmount} ${e.fromCurrency} para ${e.toAmount} ${e.toCurrency}`,createdAt:vt.fromDate(new Date),completedAt:e.status==="completed"?vt.fromDate(new Date):null}),console.log(" Transao de converso criada no histrico")}catch(s){console.error(" Erro ao criar transao de converso (no crtico):",s)}return i.id}catch(n){throw console.error(" Erro ao salvar converso:",n),n}}function BS(t,e=.5){return t*(e/100)}function IL(t,e,n){return t>=e+n}async function ga(t,e){try{const n=lt(Ee,"users",t,"fiatBalances",e),r=await cs(n);return r.exists()&&r.data().balance||0}catch(n){return console.error(` Erro ao buscar saldo de ${e}:`,n),0}}async function Al(t,e,n,r,i){for(let l=1;l<=3;l++)try{console.log(` Atualizando saldo fiat ${e} (tentativa ${l}/3):`,n);const c=lt(Ee,"users",t,"fiatBalances",e),d=await cs(c);let f=0;d.exists()&&(f=d.data().balance||0);const m=f+n;return m<0?{success:!1,newBalance:f,message:`Saldo insuficiente. Saldo atual: ${f.toFixed(2)} ${e}`}:(d.exists()?await us(c,{balance:m,updatedAt:os()}):await cr(c,{currency:e,balance:m,createdAt:os(),updatedAt:os()}),console.log(` Saldo de ${e} atualizado: ${f.toFixed(2)}  ${m.toFixed(2)}`),await Uwe(t,{userId:t,currency:e,amount:Math.abs(n),type:n>=0?"credit":"debit",description:r,relatedConversionId:i,balanceBefore:f,balanceAfter:m,createdAt:new Date}),{success:!0,newBalance:m})}catch(c){if(console.error(` Erro ao atualizar saldo de ${e} (tentativa ${l}/3):`,c),l===3)return{success:!1,newBalance:0,message:c instanceof Error?c.message:"Erro ao atualizar saldo"};await new Promise(d=>setTimeout(d,500*l))}return{success:!1,newBalance:0,message:"Erro inesperado ao atualizar saldo"}}async function Uwe(t,e){try{const n=lt(Ee,"users",t,"fiatTransactions",`${Date.now()}`),r={userId:e.userId,currency:e.currency,amount:e.amount,type:e.type,description:e.description,balanceBefore:e.balanceBefore,balanceAfter:e.balanceAfter,createdAt:os()};e.relatedConversionId!==void 0&&(r.relatedConversionId=e.relatedConversionId),await cr(n,r),console.log(" Transao fiat salva no histrico")}catch(n){console.error(" Erro ao salvar transao fiat:",n)}}class $we{locks=new Map;LOCK_TIMEOUT=3e4;async acquireLock(e,n){const r=this.locks.get(e);if(r){if(Date.now()-r.timestamp<this.LOCK_TIMEOUT)return console.warn(" Converso j em andamento para este usurio"),!1;console.warn(" Lock expirado removido:",r),this.locks.delete(e)}return this.locks.set(e,{userId:e,timestamp:Date.now(),operation:n}),console.log(" Lock adquirido:",{userId:e,operation:n}),!0}releaseLock(e){const n=this.locks.get(e);n&&(console.log(" Lock liberado:",{userId:e,duration:Date.now()-n.timestamp}),this.locks.delete(e))}hasActiveLock(e){const n=this.locks.get(e);return n?Date.now()-n.timestamp>=this.LOCK_TIMEOUT?(this.locks.delete(e),!1):!0:!1}clearAllLocks(){console.warn(" Limpando todos os locks"),this.locks.clear()}}const jL=new $we;async function _l(t,e){try{if(!t||t.trim()===""){console.warn(" userId invlido para salvar log de auditoria");return}const n=lt(Ee,"users",t,"auditLogs",`${Date.now()}_${Math.random().toString(36).substr(2,9)}`),r={userId:t,operation:e.operation,fromCurrency:e.fromCurrency,toCurrency:e.toCurrency,fromAmount:e.fromAmount,toAmount:e.toAmount,conversionMode:e.conversionMode,balancesBefore:e.balancesBefore||null,balancesAfter:e.balancesAfter||null,conversionId:e.conversionId||null,errorMessage:e.errorMessage||null,metadata:e.metadata||null,timestamp:os(),userAgent:typeof navigator<"u"?navigator.userAgent:null};await cr(n,r),console.log(" Log de auditoria salvo:",e.operation)}catch(n){n instanceof Error&&n.message?.includes("permission-denied")?console.warn(" Log de auditoria desabilitado (permisso negada)"):console.error(" Erro ao salvar log de auditoria:",n)}}function Qd(t,e){return{from:Number(t.toFixed(8)),to:Number(e.toFixed(8))}}function qwe(){const{user:t}=Vt(),{portfolio:e,updateBalance:n}=qs(),[r,i]=E.useState([]),[s,a]=E.useState(!0);return E.useEffect(()=>{if(!t?.uid){a(!1);return}console.log(" Iniciando listener de converses para userId:",t.uid);let c=null;const d=it(Ee,"users",t.uid,"conversions"),f=It(d,fg("createdAt","desc"),ba(50));return c=xi(f,m=>{console.log(" Snapshot de converses recebido - Total:",m.size);const p=[];m.forEach(y=>{const x=y.data();p.push({id:y.id,fromCurrency:x.fromCurrency,toCurrency:x.toCurrency,fromAmount:x.fromAmount,toAmount:x.toAmount,exchangeRate:x.exchangeRate,fee:x.fee,feePercentage:x.feePercentage,conversionMode:x.conversionMode,fromCoinId:x.fromCoinId,toCoinId:x.toCoinId,fromName:x.fromName,toName:x.toName,status:x.status,createdAt:x.createdAt?.toDate()||new Date,completedAt:x.completedAt?.toDate()})}),i(p),a(!1)},m=>{console.error(" Erro no listener de converses:",m),a(!1)}),()=>{console.log(" Cancelando listener de converses"),c&&c()}},[t?.uid]),{conversions:r,isLoading:s,executeConversion:async(c,d,f,m,p,y,x,b,_,S)=>{if(!t?.uid)return{success:!1,message:"Usurio no autenticado"};if(!await jL.acquireLock(t.uid,`${c}->${d}`))return{success:!1,message:"Aguarde a converso anterior finalizar"};let O=!1,z=!1,I;try{console.log(" Iniciando converso segura:",{from:c,to:d,amount:f,mode:y});const P=BS(f),C=f+P;let N=0,A=0;if(y==="crypto-crypto"){if(N=e.holdings.find(Z=>Z.symbol===c)?.amount||0,A=e.holdings.find(Z=>Z.symbol===d)?.amount||0,!IL(N,f,P))throw new Error(`Saldo insuficiente. Necessrio: ${C.toFixed(8)} ${c}`);await _l(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Qd(N,A),metadata:{fee:P,totalDeducted:C,exchangeRate:p}}),console.log(" [CRYPTOCRYPTO] Saldo validado:",{available:N,required:C}),console.log(` [CRYPTOCRYPTO] Debitando ${C} ${c}`);const Y=e.holdings.find(Z=>Z.symbol===c)?.amount||0;if(!IL(Y,f,P))throw new Error("Saldo alterado durante converso. Tente novamente.");await n(c,x,-C,_),O=!0,console.log(" Dbito concludo"),await new Promise(Z=>setTimeout(Z,100)),console.log(` [CRYPTOCRYPTO] Creditando ${m} ${d}`),await n(d,b,m,S),z=!0,console.log(" Crdito concludo")}else if(y==="crypto-fiat")if(["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(c)){if(N=e.holdings.find(Q=>Q.symbol===c)?.amount||0,A=await ga(t.uid,d),N<f)throw new Error(`Saldo insuficiente. Disponvel: ${N.toFixed(8)} ${c}, Necessrio: ${f.toFixed(8)} ${c}`);if(await _l(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Qd(N,A),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [CRYPTOFIAT] Saldo crypto validado:",{available:N,required:f}),console.log(` [CRYPTOFIAT] Debitando ${f} ${c}`),(e.holdings.find(Q=>Q.symbol===c)?.amount||0)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");await n(c,x,-f,_),O=!0,console.log(" Dbito cripto concludo"),console.log(` [CRYPTOFIAT] Creditando ${m} ${d}`);const k=await Al(t.uid,d,m,`Converso de ${f} ${c} para ${d}`);if(!k.success)throw new Error(k.message||"Erro ao adicionar saldo fiat");z=!0,console.log(" Crdito fiat concludo")}else{if(N=await ga(t.uid,c),A=e.holdings.find(k=>k.symbol===d)?.amount||0,N<f)throw new Error(`Saldo insuficiente. Disponvel: ${N.toFixed(2)} ${c}, Necessrio: ${f.toFixed(2)} ${c}`);if(await _l(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Qd(N,A),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [FIATCRYPTO] Saldo fiat validado:",{available:N,required:f}),console.log(` [FIATCRYPTO] Debitando ${f} ${c}`),await ga(t.uid,c)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");const Z=await Al(t.uid,c,-f,`Converso de ${f} ${c} para ${d}`);if(!Z.success)throw new Error(Z.message||"Erro ao debitar saldo fiat");O=!0,console.log(" Dbito fiat concludo"),console.log(` [FIATCRYPTO] Creditando ${m} ${d}`),await n(d,b,m,S),z=!0,console.log(" Crdito cripto concludo")}else if(y==="fiat-fiat"){if(N=await ga(t.uid,c),A=await ga(t.uid,d),N<f)throw new Error(`Saldo insuficiente. Disponvel: ${N.toFixed(2)} ${c}, Necessrio: ${f.toFixed(2)} ${c}`);if(await _l(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Qd(N,A),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [FIATFIAT] Saldo validado:",{available:N,required:f}),console.log(` [FIATFIAT] Debitando ${f} ${c}`),await ga(t.uid,c)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");const B=await Al(t.uid,c,-f,`Converso de ${f} ${c} para ${d}`);if(!B.success)throw new Error(B.message||"Erro ao debitar saldo");O=!0,console.log(" Dbito fiat concludo"),console.log(` [FIATFIAT] Creditando ${m} ${d}`);const $=await Al(t.uid,d,m,`Converso de ${f} ${c} para ${d}`);if(!$.success)throw new Error($.message||"Erro ao adicionar saldo");z=!0,console.log(" Crdito fiat concludo")}I=await zwe(t.uid,{fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,exchangeRate:p,fee:P,feePercentage:.5,conversionMode:y,fromCoinId:x,toCoinId:b,fromName:_,toName:S,status:"completed"}),console.log(" Converso executada com sucesso!",{conversionId:I});let j=0,D=0;if(y==="crypto-crypto"){const L=e.holdings.find($=>$.symbol===c),B=e.holdings.find($=>$.symbol===d);j=L?.amount||0,D=B?.amount||0}else y==="crypto-fiat"?["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(c)?(j=e.holdings.find(Y=>Y.symbol===c)?.amount||0,D=await ga(t.uid,d)):(j=await ga(t.uid,c),D=e.holdings.find(Y=>Y.symbol===d)?.amount||0):(j=await ga(t.uid,c),D=await ga(t.uid,d));return await _l(t.uid,{operation:"conversion_success",conversionId:I,fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Qd(N,A),balancesAfter:Qd(j,D)}),{success:!0,message:"Converso realizada com sucesso!",conversionId:I}}catch(P){console.error(" Erro ao executar converso:",P);const C=P instanceof Error?P.message:"Erro ao executar converso";if(O&&!z){console.warn(" Iniciando ROLLBACK automtico...");try{if(y==="crypto-crypto"){const N=BS(f),A=f+N;await n(c,x,A,_),console.log(" ROLLBACK concludo: Dbito revertido")}else y==="crypto-fiat"?["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(c)?(await n(c,x,f,_),console.log(" ROLLBACK concludo: Dbito cripto revertido")):(await Al(t.uid,c,f,`ROLLBACK: Converso falhou - ${C}`),console.log(" ROLLBACK concludo: Dbito fiat revertido")):y==="fiat-fiat"&&(await Al(t.uid,c,f,`ROLLBACK: Converso falhou - ${C}`),console.log(" ROLLBACK concludo: Dbito fiat revertido"));await _l(t.uid,{operation:"conversion_rollback",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:`Rollback executado: ${C}`,metadata:{debitCompleted:O,creditCompleted:z}})}catch(N){console.error(" ERRO CRTICO NO ROLLBACK:",N),await _l(t.uid,{operation:"conversion_failed",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:`ERRO CRTICO: Rollback falhou - ${N instanceof Error?N.message:"Erro desconhecido"}`,metadata:{originalError:C,debitCompleted:O,creditCompleted:z}})}}else await _l(t.uid,{operation:"conversion_failed",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:C,metadata:{debitCompleted:O,creditCompleted:z}});return{success:!1,message:C}}finally{jL.releaseLock(t.uid)}}}}function yw(){const[t,e]=E.useState([]),[n,r]=E.useState(!0),{user:i}=Vt();E.useEffect(()=>{if(!i?.uid){e([]),r(!1);return}r(!0);const p=it(Ee,"users",i.uid,"transactions"),y=It(p,fg("createdAt","desc")),x=y7(y,b=>{const S=b.docs.map(M=>{const O=M.data();let z;O.createdAt?.toDate?z=O.createdAt.toDate():O.createdAt instanceof Date?z=O.createdAt:typeof O.createdAt=="string"||typeof O.createdAt=="number"?z=new Date(O.createdAt):z=new Date;let I;return O.completedAt?.toDate?I=O.completedAt.toDate():O.completedAt instanceof Date?I=O.completedAt:O.completedAt&&(I=new Date(O.completedAt)),{...O,id:M.id,createdAt:z,completedAt:I}}).sort((M,O)=>O.createdAt.getTime()-M.createdAt.getTime());e(S),r(!1)},{maxRetries:3,retryDelay:1e3,onError:b=>{console.error(" Erro ao carregar transaes:",b),e([]),r(!1)}});return()=>{try{x()}catch(b){console.error(" Erro ao desinscrever listener:",b)}}},[i?.uid]);const s=async p=>{if(!i?.uid)throw new Error("Usurio no autenticado");try{const y=it(Ee,"transactions"),x=await zi(y,{...p,userId:i.uid,createdAt:vt.now(),completedAt:p.status==="completed"?vt.now():null});return console.log(" Transao salva:",x.id),x.id}catch(y){throw console.error(" Erro ao salvar transao:",y),y}},a=(p,y=2)=>p.toLocaleString("pt-BR",{minimumFractionDigits:y,maximumFractionDigits:y});return{transactions:t,isLoading:n,addTransaction:s,formatAmount:a,getCurrencySymbol:p=>({BRL:"R$",USD:"$",EUR:"",GBP:"",USDT:"",BTC:"",ETH:""})[p]||p,formatTransactionDescription:p=>{switch(p.type){case"send_crypto":return`Envio de ${p.currency}`;case"receive_crypto":return`Recebimento de ${p.currency}`;case"crypto_send":return`Enviado ${p.currency}`;case"crypto_receive":return`Recebido ${p.currency}`;case"pix_send":return"PIX enviado";case"pix_receive":return"PIX recebido";case"convert":return`Converso ${p.fromCurrency}  ${p.toCurrency}`;case"deposit_fiat":return`Depsito ${p.currency}`;case"withdraw_fiat":return`Transferncia ${p.currency}`;case"buy_crypto":return`Compra de ${p.currency}`;case"sell_crypto":return`Venda de ${p.currency}`;default:return p.description||"Transao"}},formatTransactionAmount:p=>{const x=["receive_crypto","crypto_receive","pix_receive","deposit_fiat","convert"].includes(p.type)?"+":"-";if(p.type==="convert"&&p.toAmount&&p.toCurrency)return`${x} ${a(p.toAmount)} ${p.toCurrency}`;const b=Math.abs(p.amount);return`${x} ${a(b)} ${p.currency}`},getTransactionIcon:p=>p.type==="convert"?"":["send_crypto","crypto_send","pix_send","withdraw_fiat"].includes(p.type)?"":["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(p.type)?"":"",getTransactionIconType:p=>p.type==="convert"?"conversao":["send_crypto","crypto_send","pix_send","withdraw_fiat"].includes(p.type)?"saida":(["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(p.type),"entrada")}}async function Hwe(t,e,n,r,i){try{const s=it(Ee,"notifications");await zi(s,{userId:t,type:e,title:n,message:r,timestamp:os(),read:!1,metadata:i||{},createdAt:os()}),console.log(" Notification created:",{userId:t,type:e,title:n})}catch(s){throw console.error(" Error creating notification:",s),s}}async function Wwe(t){try{const e=it(Ee,"notifications"),n=It(e,Et("userId","==",t),fg("timestamp","desc")),r=await Pt(n),i=[];return r.forEach(s=>{const a=s.data();i.push({id:s.id,userId:a.userId,type:a.type,title:a.title,message:a.message,timestamp:a.timestamp?.toDate()||new Date,read:a.read||!1,metadata:a.metadata||{}})}),console.log(` Loaded ${i.length} notifications for user ${t}`),i}catch(e){throw console.error(" Error loading notifications:",e),e}}async function Kwe(t){try{const e=lt(Ee,"notifications",t);await us(e,{read:!0,readAt:os()}),console.log(" Notification marked as read:",t)}catch(e){throw console.error(" Error marking notification as read:",e),e}}async function Gwe(t){try{const e=it(Ee,"notifications"),n=It(e,Et("userId","==",t),Et("read","==",!1)),r=await Pt(n),i=iu(Ee);r.forEach(s=>{i.update(s.ref,{read:!0,readAt:os()})}),await i.commit(),console.log(` Marked ${r.size} notifications as read`)}catch(e){throw console.error(" Error marking all notifications as read:",e),e}}async function Xwe(t,e,n,r,i){await Hwe(t,"transaction","Converso realizada",`Voc converteu ${e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})} ${n} para ${r.toLocaleString("pt-BR",{minimumFractionDigits:8,maximumFractionDigits:8})} ${i}`,{fromAmount:e,fromCurrency:n,toAmount:r,toCurrency:i,type:"conversion"})}function Ywe({onNavigate:t,onNavigateWithAccount:e}){const{user:n}=Vt(),{language:r}=ei(),[i,s]=E.useState(""),[a,l]=E.useState(""),[c,d]=E.useState("BTC"),[f,m]=E.useState("USDT"),[p,y]=E.useState(!1),[x,b]=E.useState(!1),[_,S]=E.useState("crypto-crypto"),[M,O]=E.useState(!1),[z,I]=E.useState(!1),[P,C]=E.useState([]),[N,A]=E.useState(!1),{prices:j}=wi(),{rates:D}=BP(),{portfolio:L}=qs(),{conversions:B,isLoading:$,executeConversion:Y}=qwe(),{getBalance:Z}=Lg(),{addTransaction:k}=yw(),Q=E.useRef(null);E.useEffect(()=>{Q.current&&Q.current.focus()},[]),E.useEffect(()=>(z?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[z]),E.useEffect(()=>{if(!n?.uid)return;(async()=>{try{const Ne=it(Ee,"bankAccounts"),Xe=It(Ne,Et("userId","==",n.uid)),Ke=(await Pt(Xe)).docs.map(ft=>({...ft.data(),id:ft.id}));C(Ke),console.log(" Contas bancrias carregadas:",Ke.length)}catch(Ne){console.error(" Erro ao carregar contas bancrias:",Ne)}})()},[n]);const H=[{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BNB",name:"BNB",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"},{symbol:"XLM",name:"Stellar",id:"stellar"},{symbol:"TRX",name:"Tron",id:"tron"}],R=[{symbol:"BRL",name:"Real Brasileiro",flag:"https://flagcdn.com/w80/br.png"},{symbol:"USD",name:"Dlar Americano",flag:"https://flagcdn.com/w80/us.png"},{symbol:"EUR",name:"Euro",flag:"https://flagcdn.com/w80/eu.png"},{symbol:"GBP",name:"Libra Esterlina",flag:"https://flagcdn.com/w80/gb.png"}],U=E.useMemo(()=>{if(P.length===0)return[];const oe=[...new Set(P.map(Ne=>Ne.currency))];return R.filter(Ne=>oe.includes(Ne.symbol))},[P]),K=E.useMemo(()=>H.filter(oe=>{const Ne=L.holdings.find(Xe=>Xe.symbol===oe.symbol);return Ne&&Ne.amount>0}),[L.holdings]),J=oe=>L.holdings.find(Xe=>Xe.symbol===oe)?.amount||0,G=oe=>Z(oe),te={BTC:"bitcoin",ETH:"ethereum",USDT:"tether",BNB:"binancecoin",SOL:"solana",XRP:"ripple",ADA:"cardano",AVAX:"avalanche-2",DOGE:"dogecoin",DOT:"polkadot",MATIC:"matic-network",LINK:"chainlink",UNI:"uniswap",LTC:"litecoin",ATOM:"cosmos",XLM:"stellar",TRX:"tron"},ie=oe=>H.some(Ne=>Ne.symbol===oe),ne=oe=>R.some(Ne=>Ne.symbol===oe),xe=oe=>{if(oe==="fiat-fiat"&&U.length<2){Me.error("Voc precisa ter contas em pelo menos 2 pases diferentes para fazer converses entre moedas.");return}if(oe==="crypto-fiat"&&U.length===0){Me.error("Voc precisa abrir uma conta bancria para converter cripto em moeda fiat.");return}if(S(oe),oe==="crypto-crypto"){const Ne=K.length>0?K[0].symbol:"BTC";d(Ne),m(Ne==="USDT"?"BTC":"USDT")}else if(oe==="crypto-fiat"){const Ne=K.length>0?K[0].symbol:"BTC";d(Ne);const Xe=U.length>0?U[0].symbol:"BRL";m(Xe)}else{const Ne=U[0]?.symbol||"BRL",Xe=U[1]?.symbol||"USD";d(Ne),m(Xe)}s(""),l("")},ae=()=>{const oe=c,Ne=i;d(f),m(oe),s(a),l(Ne)},ve=oe=>{const Ne=oe.replace(/\D/g,"");if(!Ne){s("");return}const de=parseInt(Ne,10)/100;s(de.toString())},Te=oe=>{if(!oe)return"0,00";const Ne=parseFloat(oe);if(isNaN(Ne))return"0,00";const Xe=Ne.toFixed(2),[de,Ke]=Xe.split(".");return`${de.replace(/\B(?=(\d{3})+(?!\d))/g,".")},${Ke}`},me=E.useMemo(()=>{if(_==="crypto-crypto"){const oe=te[c],Ne=te[f],Xe=j[oe]?.usd||1,de=j[Ne]?.usd||1;return Xe/de}else if(_==="crypto-fiat")if(ie(c)){const Ne=te[c],Xe=j[Ne]?.usd||1,de=D[f]||1;return Xe*de}else{const Ne=te[f],Xe=j[Ne]?.usd||1;return(D[c]||1)/Xe}else if(_==="fiat-fiat"){const oe=D[c]||1;return(D[f]||1)/oe}return 1},[_,c,f,j,D,te,ie]);E.useEffect(()=>{if(!i){l("");return}const oe=parseFloat(i);if(isNaN(oe)){l("");return}if(_==="crypto-crypto"){const Ne=te[c],Xe=te[f],de=j[Ne]?.usd||0,Ke=j[Xe]?.usd||1,ft=oe*de/Ke;l(f==="USDT"?ft.toFixed(2):ft.toString())}else if(_==="crypto-fiat")if(ie(c)){const Xe=te[c],de=j[Xe]?.usd||0,Ke=D[f]||1,rt=oe*de*Ke;l(rt.toFixed(2))}else{const Xe=te[f],de=j[Xe]?.usd||0,Ke=D[c]||1,rt=oe/Ke/de;l(f==="USDT"?rt.toFixed(2):rt.toString())}else if(_==="fiat-fiat"){const Ne=D[c]||1,Xe=D[f]||1,Ke=oe/Ne*Xe;l(Ke.toFixed(2))}},[i,c,f,j,D,_,te,ie]);const Ie=E.useMemo(()=>{if(!i)return!1;const oe=parseFloat(i);if(isNaN(oe)||oe<=0)return!1;if(_==="crypto-crypto"){const Ne=BS(oe),Xe=oe+Ne;return J(c)<Xe}else{if(_==="crypto-fiat")return ie(c)?J(c)<oe:G(c)<oe;if(_==="fiat-fiat")return G(c)<oe}return!1},[i,c,_,J,G,ie]),De=()=>{if(!i)return null;const oe=parseFloat(i);if(isNaN(oe)||oe<=0)return null;if(_==="crypto-crypto"){if(J(c)===0)return`Sem saldo em ${c}`;if(Ie)return"Saldo insuficiente (inclui taxa 0,5%)"}else if(_==="crypto-fiat"){if(J(c)===0)return`Sem saldo em ${c}`;if(Ie)return"Saldo insuficiente"}else if(_==="fiat-fiat"){if(G(c)===0)return`Sem saldo em ${c}`;if(Ie)return"Saldo insuficiente"}return null},Ze=async()=>{if(!(!a||!i)){O(!0);try{const oe=H.find(Qt=>Qt.symbol===c),Ne=H.find(Qt=>Qt.symbol===f),Xe=R.find(Qt=>Qt.symbol===c),de=R.find(Qt=>Qt.symbol===f);let Ke,ft,rt,st;_==="crypto-crypto"?(Ke=oe?.id,ft=Ne?.id,rt=oe?.name,st=Ne?.name):_==="crypto-fiat"?ie(c)?(Ke=oe?.id,ft=void 0,rt=oe?.name,st=de?.name):(Ke=void 0,ft=Ne?.id,rt=Xe?.name,st=Ne?.name):_==="fiat-fiat"&&(Ke=void 0,ft=void 0,rt=Xe?.name,st=de?.name);const Dt=await Y(c,f,parseFloat(i),parseFloat(a),me,_,Ke,ft,rt,st);if(Dt.success){try{await k({type:"convert",status:"completed",amount:parseFloat(a),currency:f,fromAmount:parseFloat(i),fromCurrency:c,toAmount:parseFloat(a),toCurrency:f,fee:_==="crypto-crypto"?parseFloat(i)*.005:0,feeCurrency:c,description:`Converso ${c}  ${f}`}),console.log(" Transao salva no Firestore")}catch(Qt){console.error(" Erro ao salvar transao:",Qt)}s(""),l(""),Me.success("Converso realizada com sucesso!"),I(!0),n?.uid&&await Xwe(n.uid,parseFloat(i),c,parseFloat(a),f)}else Me.error(Dt.message)}catch(oe){console.error("Erro ao executar a converso:",oe),Me.error("Erro ao processar converso")}finally{O(!1)}}},ct=()=>{I(!1)},Fe=()=>{I(!1),t("home")},yt=async oe=>{if(!(!n?.uid||!oe||!window.confirm(" Deseja excluir esta converso?")))try{const{deleteDoc:Xe,doc:de}=await C7(async()=>{const{deleteDoc:Ke,doc:ft}=await Promise.resolve().then(()=>Bee);return{deleteDoc:Ke,doc:ft}},void 0);await Xe(de(Ee,"users",n.uid,"conversions",oe)),Me.success(" Converso excluda com sucesso!"),console.log(` Converso ${oe} removida`)}catch(Xe){console.error(" Erro ao excluir converso:",Xe),Me.error("Erro ao excluir converso")}},dt=()=>{const oe=ie(c)?J(c):G(c);if(oe<=0){Me.error("Saldo insuficiente");return}let Ne;_==="crypto-crypto"?Ne=oe/1.005:Ne=oe;const de=Math.floor(Ne*100).toString();ve(de)};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col relative",children:[o.jsxs("div",{className:"px-6 pt-12 pb-2 flex items-center flex-shrink-0",children:[o.jsx("button",{className:"w-10 h-10 flex items-center justify-start text-white",onClick:()=>t("home"),children:o.jsx(Ct,{className:"w-6 h-6"})}),o.jsx("h1",{className:"flex-1 text-center text-lg",children:"Exchange"}),o.jsx("div",{className:"w-10 h-10"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto hide-scrollbar pb-28",children:o.jsxs("div",{className:"flex flex-col px-4 pt-6",children:[o.jsxs("div",{className:"flex gap-2 mb-6 bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-1.5",children:[o.jsx("button",{onClick:()=>xe("crypto-crypto"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${_==="crypto-crypto"?"bg-white text-black":"text-gray-500"}`,children:"Cripto  Cripto"}),o.jsx("button",{onClick:()=>xe("crypto-fiat"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${_==="crypto-fiat"?"bg-white text-black":"text-gray-500"}`,children:"Cripto  Moeda"}),o.jsx("button",{onClick:()=>xe("fiat-fiat"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${_==="fiat-fiat"?"bg-white text-black":"text-gray-500"}`,children:"Moeda  Moeda"})]}),o.jsxs("div",{className:"relative space-y-2",children:[o.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-3xl p-6 flex items-center justify-between h-32 relative",children:[o.jsx("button",{className:"absolute top-3 right-3 text-[10px] text-gray-500 hover:text-white transition-colors px-2 py-1 rounded-lg hover:bg-white/5",onClick:dt,children:"Converter tudo"}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("button",{className:"flex items-center gap-2 group",onClick:()=>{y(!p),b(!1)},children:[o.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center",children:ie(c)?o.jsx(ht,{symbol:c,size:"xs"}):o.jsx("img",{src:R.find(oe=>oe.symbol===c)?.flag,alt:c,className:"w-full h-full object-cover"})}),o.jsx("span",{className:"text-xl text-white",children:c}),o.jsx(bo,{className:"w-4 h-4 text-gray-500"})]}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:ie(c)?`Saldo: ${or(J(c))} ${c}`:`Saldo: ${Wr(G(c).toString(),c)}`})]}),o.jsx("div",{className:"text-right",children:o.jsx("input",{type:"text",inputMode:"numeric",value:Te(i),onChange:oe=>ve(oe.target.value),placeholder:"0,00",className:"text-base font-normal text-white bg-transparent text-right focus:outline-none w-32 placeholder-gray-700",style:{caretColor:"#0A84FF"},ref:Q})}),p&&o.jsxs("div",{className:"absolute left-6 top-20 bg-zinc-900 rounded-xl p-2 shadow-2xl border border-zinc-700 z-50 w-[200px] max-h-[280px] overflow-y-auto",children:[_==="crypto-crypto"&&K.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===f&&m(c),d(oe.symbol),y(!1)},children:[o.jsx(ht,{symbol:oe.symbol,size:"xs"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),_==="crypto-fiat"&&o.jsxs(o.Fragment,{children:[H.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{d(oe.symbol),y(!1)},children:[o.jsx(ht,{symbol:oe.symbol,size:"xs"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),o.jsx("div",{className:"h-px bg-zinc-700 my-2"}),U.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{d(oe.symbol),y(!1)},children:[o.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]}),_==="fiat-fiat"&&U.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===f&&m(c),d(oe.symbol),y(!1)},children:[o.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]})]}),o.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10",children:o.jsx("button",{className:"w-10 h-10 bg-white/10 backdrop-blur-md text-white rounded-full flex items-center justify-center border border-white/20 active:scale-90 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.1),0_4px_15px_rgba(0,0,0,0.5),inset_0_1px_2px_rgba(255,255,255,0.3),inset_0_-1px_2px_rgba(0,0,0,0.3)]",onClick:ae,children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-0",children:[o.jsx(hT,{className:"w-3.5 h-3.5 stroke-[2.5]"}),o.jsx(fT,{className:"w-3.5 h-3.5 stroke-[2.5]"})]})})}),o.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-3xl p-6 flex items-center justify-between h-32 relative",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("button",{className:"flex items-center gap-2 group",onClick:()=>{b(!x),y(!1)},children:[o.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center",children:ie(f)?o.jsx(ht,{symbol:f,size:"xs"}):o.jsx("img",{src:R.find(oe=>oe.symbol===f)?.flag,alt:f,className:"w-full h-full object-cover"})}),o.jsx("span",{className:"text-xl text-white",children:f}),o.jsx(bo,{className:"w-4 h-4 text-gray-500"})]}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:ie(f)?`Saldo: 0 ${f}`:"Saldo: $ 0,00"})]}),o.jsxs("div",{className:"text-right flex items-center",children:[o.jsx("div",{className:"text-base font-normal text-white text-right w-32 flex items-baseline justify-end",children:a?ne(f)?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-base",children:Wr(a,f).split(",")[0]}),Wr(a,f).includes(",")&&o.jsxs("span",{className:"text-sm",children:[",",Wr(a,f).split(",")[1]]})]}):f==="USDT"?Wr(a):or(parseFloat(a)):"0"}),o.jsx("div",{className:"h-6 w-[2px] bg-[#0A84FF] ml-0.5 animate-pulse"})]}),x&&o.jsxs("div",{className:"absolute left-6 top-20 bg-zinc-900 rounded-xl p-2 shadow-2xl border border-zinc-700 z-50 w-[200px] max-h-[280px] overflow-y-auto",children:[_==="crypto-crypto"&&H.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===c&&d(f),m(oe.symbol),b(!1)},children:[o.jsx(ht,{symbol:oe.symbol,size:"xs"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),_==="crypto-fiat"&&o.jsxs(o.Fragment,{children:[H.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{m(oe.symbol),b(!1)},children:[o.jsx(ht,{symbol:oe.symbol,size:"xs"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),o.jsx("div",{className:"h-px bg-zinc-700 my-2"}),U.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{m(oe.symbol),b(!1)},children:[o.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]}),_==="fiat-fiat"&&U.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===c&&d(f),m(oe.symbol),b(!1)},children:[o.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]})]})]}),o.jsxs("div",{className:"mt-6 px-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-500 text-xs",children:"Cotao"}),o.jsxs("span",{className:"text-xs text-white",children:[i||"1"," ",c," = ",ie(f)&&f!=="USDT"?or((parseFloat(i)||1)*me):Wr((parseFloat(i)||1)*me)," ",f]})]}),_==="crypto-crypto"&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-500 text-xs",children:"Taxa de converso (0.5%)"}),o.jsxs("span",{className:"text-xs text-white",children:[i?ie(c)&&c!=="USDT"?or(parseFloat(i)*.005):Wr(parseFloat(i)*.005):"0"," ",c]})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-zinc-900 pb-3",children:[o.jsx("span",{className:"text-gray-500 text-xs",children:"Processamento"}),o.jsx("span",{className:"text-xs text-white",children:"~ 30 segundos"})]})]}),o.jsxs("div",{className:"mt-6 px-2 pb-6",children:[o.jsx("button",{className:`w-full h-14 text-base rounded-2xl transition-opacity ${a&&i?"bg-white text-black active:opacity-90":"bg-zinc-800 text-gray-600 cursor-not-allowed"}`,disabled:!a||!i||Ie,onClick:Ze,children:M?"Convertendo...":"Confirmar Exchange"}),Ie&&o.jsx("p",{className:"text-red-500 text-xs mt-2 text-center",children:De()})]}),o.jsxs("div",{className:"mt-10 px-2 pb-24",children:[o.jsxs("button",{className:"w-full flex items-center justify-between mb-4 active:opacity-70 transition-opacity",onClick:()=>A(!N),children:[o.jsx("h2",{className:"text-white text-lg",children:"Histrico de Converses"}),o.jsx(bo,{className:`w-5 h-5 text-gray-500 transition-transform ${N?"rotate-180":""}`})]}),N&&o.jsxs(o.Fragment,{children:[(console.log(" [Convert] Estado do histrico:",{isLoading:$,conversionsCount:B.length,conversions:B.slice(0,3)}),null),$?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-white border-r-transparent"}),o.jsx("p",{className:"text-white/50 text-sm mt-4",children:"Carregando histrico..."})]}):B.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-white/50 text-sm",children:"Nenhuma converso realizada ainda"})}):o.jsx("div",{className:"space-y-1",children:B.map((oe,Ne)=>{const Xe=Ne<B.length-1,Ke=oe.createdAt.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between py-4 active:bg-zinc-900/50 transition-colors cursor-pointer",onDoubleClick:()=>oe.id&&yt(oe.id),title:"Clique 2x para excluir",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center border border-zinc-800",children:o.jsx("svg",{className:"w-5 h-5 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-white",children:[oe.fromCurrency," para ",oe.toCurrency]}),o.jsx("p",{className:"text-[10px] text-gray-500",children:Ke})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-xs text-white",children:["+",oe.toCurrency==="USDT"||ne(oe.toCurrency)?Wr(oe.toAmount):or(oe.toAmount)," ",oe.toCurrency]}),o.jsxs("p",{className:"text-[10px] text-gray-500",children:["-",oe.fromCurrency==="USDT"||ne(oe.fromCurrency)?Wr(oe.fromAmount):or(oe.fromAmount)," ",oe.fromCurrency]})]})]}),Xe&&o.jsx("div",{className:"h-px bg-zinc-900 w-full ml-12"})]},oe.id||Ne)})})]})]})]})}),z&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6 overflow-hidden",children:o.jsxs("div",{className:"bg-black w-full h-full flex flex-col items-center justify-start pt-20 px-8 overflow-hidden",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"text-white text-xl font-bold mb-3 text-center",children:"Converso Realizada!"}),o.jsx("p",{className:"text-white/70 text-sm mb-8 text-center",children:"Deseja fazer outra converso?"}),o.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[o.jsx("button",{className:"w-full h-14 bg-white text-black font-bold text-base rounded-2xl transition-opacity active:opacity-90",onClick:ct,children:"Sim, fazer outra"}),o.jsx("button",{className:"w-full h-14 bg-white/10 backdrop-blur-md border border-white/20 text-white font-bold text-base rounded-2xl transition-opacity active:opacity-90",onClick:Fe,children:"No, voltar para Home"})]})]})})]})}function Qwe({onNavigate:t}){const[e,n]=E.useState("all"),{prices:r,isLoading:i}=wi(),{portfolio:s,addOrUpdateCrypto:a}=qs(),{user:l}=Vt(),{t:c}=ei(),[d,f]=E.useState({show:!1,crypto:null}),[m,p]=E.useState(""),[y,x]=E.useState(!1),[b,_]=E.useState(!1),[S,M]=E.useState(""),[O,z]=E.useState([]);E.useEffect(()=>{(async()=>{if(!l?.uid){z([]);return}try{const G=await cs(lt(Ee,"users",l.uid,"preferences","crypto-favorites"));if(G.exists()){const te=G.data();z(te.favorites||[])}else z([])}catch(G){G?.code!=="permission-denied"&&console.error("Erro ao carregar favoritos:",G),z([])}})()},[l]);const I=async J=>{if(!l?.uid){Me.error("Faa login para salvar favoritos");return}const G=O.includes(J)?O.filter(te=>te!==J):[...O,J];z(G);try{await cr(lt(Ee,"users",l.uid,"preferences","crypto-favorites"),{favorites:G,updatedAt:new Date}),G.includes(J)?Me.success("Adicionado aos favoritos"):Me.success("Removido dos favoritos")}catch(te){console.error("Erro ao salvar favoritos:",te),Me.error("Erro ao salvar favorito"),z(O)}},[P,C]=E.useState(0),[N,A]=E.useState(!1),j=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin"},{id:"ethereum",symbol:"ETH",name:"Ethereum"},{id:"tether",symbol:"USDT",name:"Tether"},{id:"binancecoin",symbol:"BNB",name:"Binance Coin"},{id:"solana",symbol:"SOL",name:"Solana"},{id:"ripple",symbol:"XRP",name:"XRP"},{id:"usd-coin",symbol:"USDC",name:"USD Coin"},{id:"cardano",symbol:"ADA",name:"Cardano"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin"},{id:"tron",symbol:"TRX",name:"TRON"},{id:"avalanche-2",symbol:"AVAX",name:"Avalanche"},{id:"polkadot",symbol:"DOT",name:"Polkadot"},{id:"matic-network",symbol:"MATIC",name:"Polygon"},{id:"chainlink",symbol:"LINK",name:"Chainlink"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu"},{id:"litecoin",symbol:"LTC",name:"Litecoin"},{id:"uniswap",symbol:"UNI",name:"Uniswap"},{id:"stellar",symbol:"XLM",name:"Stellar"},{id:"cosmos",symbol:"ATOM",name:"Cosmos"},{id:"monero",symbol:"XMR",name:"Monero"},{id:"ethereum-classic",symbol:"ETC",name:"Ethereum Classic"},{id:"bitcoin-cash",symbol:"BCH",name:"Bitcoin Cash"},{id:"near",symbol:"NEAR",name:"NEAR Protocol"},{id:"algorand",symbol:"ALGO",name:"Algorand"},{id:"vechain",symbol:"VET",name:"VeChain"},{id:"fantom",symbol:"FTM",name:"Fantom"},{id:"the-graph",symbol:"GRT",name:"The Graph"},{id:"filecoin",symbol:"FIL",name:"Filecoin"},{id:"hedera-hashgraph",symbol:"HBAR",name:"Hedera"},{id:"aptos",symbol:"APT",name:"Aptos"},{id:"arbitrum",symbol:"ARB",name:"Arbitrum"},{id:"optimism",symbol:"OP",name:"Optimism"},{id:"render-token",symbol:"RNDR",name:"Render"},{id:"injective-protocol",symbol:"INJ",name:"Injective"},{id:"sui",symbol:"SUI",name:"Sui"}],D=J=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(J),L=J=>J>=1e12?`$ ${(J/1e12).toFixed(1)}T`:J>=1e9?`$ ${(J/1e9).toFixed(0)}B`:J>=1e6?`$ ${(J/1e6).toFixed(0)}M`:`$ ${J.toFixed(0)}`,B=j.map(J=>{const G=r[J.id],te=G?.usd||0,ie=G?.usd_24h_change||0,ne=G?.usd_market_cap||0;return{...J,price:D(te),change:`${ie>=0?"+":""}${ie.toFixed(1)}%`,trend:ie>0?"up":ie<0?"down":"neutral",marketCap:L(ne),isFavorite:O.includes(J.id)}}),$=E.useMemo(()=>j.map(G=>{const te=r[G.id],ie=te?.usd_24h_change||0,ne=te?.usd||0;return{...G,changePercent:ie,price:ne}}).filter(G=>G.changePercent>0).sort((G,te)=>te.changePercent-G.changePercent).slice(0,5),[r]),Y=J=>{const G=J.price,te=J.changePercent,ie=[];for(let ne=0;ne<24;ne++){const xe=ne/23,ae=(Math.random()-.5)*(te/5),ve=te*xe/100+ae,Te=te*.3,me=(Math.random()-.5)*(Te/5),Ie=Te*xe/100+me;ie.push({time:`${ne}h`,price:G*(1+ve/100),change:ve,pricePast:G*.95*(1+Ie/100)})}return ie};E.useEffect(()=>{if($.length===0||N)return;const J=setInterval(()=>{C(G=>(G+1)%$.length)},5e3);return()=>clearInterval(J)},[$.length,N]),E.useMemo(()=>$.map((J,G)=>({name:J.symbol,value:J.changePercent,price:J.price,fullName:J.name})),[$]);const Z=s.holdings.map(J=>J.coinId),k=B.filter(J=>!Z.includes(J.id)),H=E.useMemo(()=>{let J=k;if(S.trim()){const G=S.toLowerCase();J=J.filter(te=>te.name.toLowerCase().includes(G)||te.symbol.toLowerCase().includes(G)||te.id.toLowerCase().includes(G))}return e==="favorites"&&(J=J.filter(G=>G.isFavorite)),J},[k,S,e,O]),R="bg-white/5 backdrop-blur-md border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",U=J=>{f({show:!0,crypto:{id:J.id,symbol:J.symbol,name:J.name}}),p("")},K=async()=>{if(!d.crypto||!m||parseFloat(m)<=0){Me.error("Digite um valor vlido");return}x(!0);try{const J=parseFloat(m),G=s.holdings.find(ie=>ie.coinId===d.crypto.id),te=G?G.amount+J:J;await a(d.crypto.symbol,d.crypto.id,te,d.crypto.name),Me.success("Saldo adicionado com sucesso!",{description:`+${or(J)} ${d.crypto.symbol}`}),f({show:!1,crypto:null}),p("")}catch(J){console.error("Erro ao adicionar saldo:",J),Me.error("Erro ao adicionar saldo")}finally{x(!1)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[o.jsxs("header",{className:"px-6 pt-8 pb-6",children:[o.jsx("h1",{className:"text-lg font-semibold mb-6",children:c.cryptoMarket}),o.jsxs("div",{className:"relative mb-6",children:[o.jsx(Gl,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2 z-10"}),o.jsx("input",{type:"text",placeholder:c.cryptoPage.searchCrypto,className:`w-full rounded-2xl pl-12 pr-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-zinc-700 ${R}`,value:S,onChange:J=>M(J.target.value)})]}),o.jsxs("div",{className:"flex gap-3 mb-6",children:[o.jsx("button",{onClick:()=>n("all"),className:e==="all"?"flex-1 py-3 rounded-full font-semibold transition-colors bg-white text-black":`flex-1 py-3 rounded-full font-semibold transition-colors text-gray-400 ${R}`,children:c.cryptoPage.all}),o.jsxs("button",{onClick:()=>n("favorites"),className:e==="favorites"?"flex-1 py-3 rounded-full font-semibold transition-colors bg-white text-black":`flex-1 py-3 rounded-full font-semibold transition-colors text-gray-400 ${R}`,children:[c.cryptoPage.favorites," ",o.jsx(Z1,{className:"w-4 h-4 inline ml-1"})]})]})]}),o.jsx("div",{className:"px-6 mb-6",children:$.length>0&&$[P]&&o.jsx("div",{className:"relative",children:o.jsxs("div",{className:`rounded-2xl p-4 overflow-hidden relative ${R} cursor-pointer`,onDoubleClick:()=>U($[P]),onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#34c759]/10 via-transparent to-[#34c759]/5 pointer-events-none"}),o.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-3",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h2",{className:"text-sm font-bold",children:"Cripto em Alta"})}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-[#34c759] font-semibold",children:[o.jsx(Fi,{className:"w-3 h-3"}),"Tempo Real"]})]}),o.jsxs("div",{className:"relative z-10 grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ht,{symbol:$[P].symbol,size:"sm"}),o.jsx("div",{children:o.jsx("h3",{className:"text-base font-bold text-white",children:$[P].symbol})})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("p",{className:"text-xs text-white/40",children:"Preo"}),o.jsx("p",{className:"text-white",children:$[P].price<1?o.jsxs(o.Fragment,{children:["$ ",$[P].price.toLocaleString("pt-BR",{minimumFractionDigits:6,maximumFractionDigits:6})]}):o.jsx(Ea,{value:$[P].price,symbol:"$",className:"text-lg font-light"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-white/40",children:"24h"}),o.jsxs("p",{className:"text-lg font-bold text-[#34c759] flex items-center gap-1",children:["+",$[P].changePercent.toFixed(2),"%",o.jsx(Fi,{className:"w-3 h-3"})]})]})]}),o.jsx("div",{className:"h-24 w-full",style:{minHeight:"96px",minWidth:"150px"},children:o.jsx(V8,{width:"100%",height:"100%",minHeight:96,children:o.jsxs(Qbe,{data:Y($[P]),children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"colorCurrent",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#34c759",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#34c759",stopOpacity:0})]}),o.jsxs("linearGradient",{id:"colorPast",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#ff9f0a",stopOpacity:.4}),o.jsx("stop",{offset:"95%",stopColor:"#ff9f0a",stopOpacity:0})]})]}),o.jsx(Ige,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.95)",border:"1px solid rgba(52, 199, 89, 0.3)",borderRadius:"8px",padding:"6px 10px"},labelStyle:{display:"none"},formatter:(J,G)=>G==="price"?[`$${J.toFixed(2)}`,"Hoje"]:G==="pricePast"?[`$${J.toFixed(2)}`,"5 dias atrs"]:["",""]}),o.jsx(DS,{type:"monotone",dataKey:"pricePast",stroke:"#ff9f0a",strokeWidth:1.5,strokeOpacity:.6,fill:"url(#colorPast)",dot:!1,animationDuration:1500,animationEasing:"ease-in-out",isAnimationActive:!0}),o.jsx(DS,{type:"monotone",dataKey:"price",stroke:"#34c759",strokeWidth:2,fill:"url(#colorCurrent)",dot:!1,animationDuration:1500,animationEasing:"ease-in-out",isAnimationActive:!0})]})})})]})]})})}),o.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(20px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `}),o.jsxs("div",{className:"px-6 space-y-4 pb-24",children:[o.jsx("button",{onClick:()=>_(!b),className:`w-full rounded-2xl p-4 hover:bg-white/10 transition-all ${R}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center",children:b?o.jsx(qx,{className:"w-6 h-6 text-white rotate-90"}):o.jsx(as,{className:"w-6 h-6 text-white rotate-90"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-white",children:b?"Ocultar Lista":"Ver Todas as Criptomoedas"}),o.jsxs("div",{className:"text-sm text-gray-400",children:[H.length," ",H.length===1?"ativo disponvel":"ativos disponveis"]})]})]}),o.jsx("div",{className:"text-sm font-semibold text-gray-400",children:b?"Ocultar":"Expandir"})]})}),b&&o.jsx(o.Fragment,{children:H.length>0?o.jsx(o.Fragment,{children:H.map(J=>o.jsxs("div",{className:`w-full rounded-2xl p-4 hover:bg-white/10 transition-colors cursor-pointer ${R}`,onDoubleClick:()=>U(J),title:"Clique 2x para adicionar saldo",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:J.symbol,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold",children:J.name}),o.jsx("div",{className:"text-sm text-gray-400",children:J.symbol})]})]}),o.jsx("button",{className:"text-gray-400 hover:text-yellow-500 transition-colors",onClick:G=>{G.stopPropagation(),I(J.id)},children:o.jsx(Z1,{className:`w-5 h-5 ${J.isFavorite?"fill-yellow-500 text-yellow-500":""}`})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-lg font-semibold",children:J.price}),o.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${J.trend==="up"?"text-green-500":J.trend==="down"?"text-red-500":"text-gray-400"}`,children:[J.trend==="up"&&o.jsx(Fi,{className:"w-4 h-4"}),J.trend==="down"&&o.jsx(Cu,{className:"w-4 h-4"}),J.change]})]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Market Cap: ",J.marketCap]})]},J.id))}):o.jsxs("div",{className:`rounded-2xl p-8 text-center ${R}`,children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto mb-4 flex items-center justify-center",children:o.jsx(Z1,{className:"w-8 h-8 text-white/30 fill-white/30"})}),o.jsx("p",{className:"text-white font-semibold mb-2",children:"Todas as criptos esto ativas!"}),o.jsx("p",{className:"text-sm text-white/50",children:"Voc j adicionou todas as criptomoedas disponveis ao seu portflio."}),o.jsx("button",{onClick:()=>t("wallet"),className:"mt-4 px-6 py-3 bg-white text-black rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Ver Portflio"})]})})]})]}),d.show&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>f({show:!1,crypto:null}),children:o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 w-full max-w-md border border-white/10 shadow-[0_0_40px_rgba(255,255,255,0.1)]",onClick:J=>J.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Adicionar ao Portflio"}),o.jsx("button",{onClick:()=>f({show:!1,crypto:null}),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10",children:o.jsx(Qr,{className:"w-5 h-5 text-white"})})]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[o.jsx(ht,{symbol:d.crypto?.symbol||"BTC",size:"lg"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-xl text-white mb-1",children:d.crypto?.symbol||"BTC"}),o.jsx("div",{className:"text-sm text-gray-400",children:d.crypto?.name||"Bitcoin"})]})]}),(()=>{const J=s.holdings.find(G=>G.coinId===d.crypto?.id);return J?o.jsxs("div",{className:"mb-4 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Saldo atual"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:[or(J.amount)," ",J.symbol]})]}):null})(),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-400 mb-2",children:"Quantidade a adicionar"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",value:m,onChange:J=>p(J.target.value),placeholder:"0.00",step:"0.00000001",className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 pr-16 text-2xl font-bold text-white placeholder-gray-600 border border-white/10 focus:outline-none focus:border-white/30 transition-colors",autoFocus:!0}),o.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-lg font-semibold text-gray-400",children:d.crypto?.symbol})]}),m&&parseFloat(m)>0&&(()=>{const G=s.holdings.find(te=>te.coinId===d.crypto?.id)?.amount||0;return o.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Novo saldo: ",or(G+parseFloat(m))," ",d.crypto?.symbol]})})()]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("button",{onClick:()=>f({show:!1,crypto:null}),className:"py-4 rounded-2xl font-semibold bg-white/5 hover:bg-white/10 text-white transition-colors border border-white/10",disabled:y,children:"Cancelar"}),o.jsx("button",{onClick:K,className:"py-4 rounded-2xl font-semibold bg-white text-black hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:y||!m||parseFloat(m)<=0,children:y?"Adicionando...":"Adicionar"})]})]})})]})}function Jwe({onNavigate:t}){const{userData:e,logout:n}=Vt(),{t:r}=ei(),i=l=>{const c=l.split(" ");return c.length>=2?`${c[0][0]}${c[1][0]}`.toUpperCase():l.substring(0,2).toUpperCase()},s=async()=>{try{console.log(" Fazendo logout..."),await n(),console.log(" Logout concludo! Redirecionando..."),t("welcome")}catch(l){console.error("Erro ao fazer logout:",l),Me.error("Erro ao fazer logout")}},a=[{title:r.account,items:[{icon:pT,label:r.personalInfo,action:()=>t("personalInfo")},{icon:oG,label:r.accountData,action:()=>t("accountData")},{icon:Eu,label:r.security,action:()=>t("security")},{icon:Xm,label:r.notifications,action:()=>t("notifications")}]},{title:r.support,items:[{icon:XV,label:r.helpCenter,action:()=>t("helpCenter")},{icon:QV,label:r.termsAndPrivacy,action:()=>t("termsMenu")}]},{title:r.settings,items:[{icon:mp,label:r.language,action:()=>t("languageSettings")},{icon:wG,label:r.appPreferences,action:()=>t("appPreferences")},{icon:fG,label:r.logout,action:s,danger:!0}]},{title:r.dangerZone,items:[{icon:ho,label:r.deleteAccount,action:()=>t("deleteAccount"),danger:!0}]}];return o.jsx("div",{className:"min-h-screen bg-black text-white flex flex-col",children:o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("h1",{className:"text-xl mb-4",children:r.myProfile}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center text-lg overflow-hidden",children:e?.photoURL?o.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):e?i(e.name):"U"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"",children:e?.name||"Usurio"}),o.jsx("p",{className:"text-sm text-gray-400",children:e?.email||""})]})]})})]}),a.map((l,c)=>o.jsxs("section",{className:"px-6 mb-6",children:[o.jsx("h3",{className:"text-xs text-gray-400 mb-2 px-1",children:l.title.toUpperCase()}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl overflow-hidden border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.items.map((d,f)=>{const m=d.icon;return o.jsxs("div",{children:[o.jsxs("button",{onClick:d.action,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/10 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(m,{className:`w-5 h-5 ${d.danger?"text-red-500":"text-gray-400"}`}),o.jsx("span",{className:d.danger?"text-red-500":"",children:d.label})]}),o.jsx(as,{className:"w-5 h-5 text-gray-400"})]}),f<l.items.length-1&&o.jsx("div",{className:"h-px bg-white/10 mx-4"})]},d.label)})})]},c)),o.jsx("div",{className:"text-center mt-6 text-sm text-gray-500",children:"NexCoin v1.0.0"})]})})}function Zwe({onNavigate:t}){const{userData:e,user:n}=Vt(),[r,i]=E.useState(!1),[s,a]=E.useState(!1),[l,c]=E.useState({birthDate:e?.birthDate||"",address:e?.address||"",city:e?.city||"",state:e?.state||"",zipCode:e?.zipCode||"",document:e?.document||"",patrimony:e?.patrimony||"",accountPurpose:e?.accountPurpose||[]}),d=p=>{const y=p.split(" ");return y.length>=2?`${y[0][0]}${y[1][0]}`.toUpperCase():p.substring(0,2).toUpperCase()},f=async()=>{if(!(!n||!e)){a(!0);try{const p=lt(Ee,"users",n.uid);await us(p,l),Object.assign(e,l),i(!1),alert("Perfil atualizado com sucesso!")}catch(p){console.error("Erro ao atualizar perfil:",p),alert("Erro ao atualizar perfil. Tente novamente.")}finally{a(!1)}}},m=p=>{if(!p)return"";const y=p.replace(/\D/g,"");return y.length===13?`+${y.slice(0,2)} ${y.slice(2,4)} ${y.slice(4,9)}-${y.slice(9)}`:p};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-zinc-900 transition-colors",children:o.jsx(qx,{className:"w-6 h-6"})}),r&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>i(!1),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Qr,{className:"w-5 h-5"})}),o.jsx("button",{onClick:f,disabled:s,className:"w-10 h-10 flex items-center justify-center rounded-full bg-gradient-to-r from-orange-500 to-purple-500 hover:opacity-90 transition-opacity disabled:opacity-50",children:o.jsx(JV,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold flex-1",children:"Informaes pessoais"}),!r&&o.jsx("div",{style:{display:"none"}}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("span",{className:"text-blue-500",children:["@",e?.name?.toLowerCase().replace(/\s+/g,"")||"usuario"]})})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center text-lg font-bold overflow-hidden",children:e?.photoURL?o.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):e?d(e.name):"U"})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-base font-semibold mb-3",children:"Conta pessoal"}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-4 space-y-4",children:[o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Nome completo"}),o.jsx("p",{className:"text-sm",children:e?.name?.toUpperCase()||"NO INFORMADO"})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Data de nascimento"}),r?o.jsx("input",{type:"date",value:l.birthDate,onChange:p=>c({...l,birthDate:p.target.value}),className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):o.jsx("p",{className:"text-sm",children:e?.birthDate||"NO INFORMADO"})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Documento de identificao (CPF/RG/Passaporte)"}),r?o.jsx("input",{type:"text",value:l.document,onChange:p=>c({...l,document:p.target.value}),placeholder:"Digite seu CPF, RG ou Passaporte",className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):o.jsx("p",{className:"text-sm",children:e?.document||"NO INFORMADO"})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Endereo residencial"}),r?o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",value:l.address,onChange:p=>c({...l,address:p.target.value}),placeholder:"Rua, nmero, complemento",className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("input",{type:"text",value:l.city,onChange:p=>c({...l,city:p.target.value}),placeholder:"Cidade",className:"bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}),o.jsx("input",{type:"text",value:l.state,onChange:p=>c({...l,state:p.target.value}),placeholder:"Estado",className:"bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"})]}),o.jsx("input",{type:"text",value:l.zipCode,onChange:p=>c({...l,zipCode:p.target.value}),placeholder:"CEP",className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"})]}):o.jsx("p",{className:"text-sm",children:e?.address&&e?.city&&e?.state&&e?.zipCode?`${e.address}, ${e.zipCode}, ${e.city}, ${e.state}`:"NO INFORMADO"})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Nmero de celular"}),o.jsx("p",{className:"text-sm",children:m(e?.phone||"")||"NO INFORMADO"})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"E-mail"}),o.jsx("p",{className:"text-sm text-orange-500",children:e?.email||"NO INFORMADO"})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Domiclio fiscal"}),o.jsx("p",{className:"text-sm",children:e?.country||"NO INFORMADO"})]})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-base font-semibold mb-3",children:"Patrimnio"}),o.jsx("div",{className:"bg-zinc-900 rounded-3xl p-4",children:o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Patrimnio informado (opcional)"}),r?o.jsx("input",{type:"text",value:l.patrimony,onChange:p=>c({...l,patrimony:p.target.value}),placeholder:"Ex: R$ 500.000,00",className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):o.jsx("p",{className:"text-sm",children:e?.patrimony||"NO INFORMADO"})]})})]})]})]})}async function vw(t){try{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",e.style.opacity="0",e.setAttribute("readonly",""),document.body.appendChild(e),e.focus(),e.select(),e.setSelectionRange(0,t.length);const n=document.execCommand("copy");if(document.body.removeChild(e),n)return!0}catch(e){console.warn("Legacy copy method failed, trying Clipboard API",e)}if(navigator.clipboard&&window.isSecureContext)try{return await navigator.clipboard.writeText(t),!0}catch(e){console.error("Clipboard API also failed",e)}return console.error("All clipboard methods failed"),!1}const e1e=({code:t})=>o.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800",children:o.jsx("img",{src:`https://flagcdn.com/w40/${t.toLowerCase()}.png`,alt:t,className:"w-full h-full object-cover"})});function t1e({account:t,onBack:e,onDelete:n}){const[r,i]=E.useState(null),s=(c,d)=>{vw(c),i(d),setTimeout(()=>i(null),2e3)},a=t.iban!==void 0,l=t.country==="BR";return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"px-6 py-4 flex items-center",children:o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-zinc-900 transition-colors",children:o.jsx(Ct,{className:"w-6 h-6"})})}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("h1",{className:"text-xl font-bold mb-6",children:"Dados da conta"}),o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(e1e,{code:t.flagCode}),o.jsx("span",{className:"font-semibold",children:t.countryName})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6 mb-4",children:[o.jsx("p",{className:"text-xs font-semibold mb-6",children:a?"Apenas para transferncias internacionais":"Apenas para transferncias domsticas"}),o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Instituio"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.bankName}),o.jsx("button",{onClick:()=>s(t.bankName,"bankName"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Tipo de Conta"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.accountType}),o.jsx("button",{onClick:()=>s(t.accountType,"accountType"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Nmero da conta"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.accountNumber}),o.jsx("button",{onClick:()=>s(t.accountNumber,"accountNumber"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),a&&o.jsxs(o.Fragment,{children:[t.iban&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"IBAN"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.iban}),o.jsx("button",{onClick:()=>s(t.iban,"iban"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.swift&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"SWIFT/BIC"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.swift}),o.jsx("button",{onClick:()=>s(t.swift,"swift"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]})]}),!a&&o.jsxs(o.Fragment,{children:[t.sortCode&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Sort Code"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.sortCode}),o.jsx("button",{onClick:()=>s(t.sortCode,"sortCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.branchCode&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:l?"Agncia":"Branch Code"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.branchCode}),o.jsx("button",{onClick:()=>s(t.branchCode,"branchCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.routingNumber&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:t.country==="US"?"Routing Number":t.country==="GB"?"Sort Code":t.country==="AU"?"BSB":"Routing Number"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.routingNumber}),o.jsx("button",{onClick:()=>s(t.routingNumber,"routingNumber"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.bankCode&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:l?"Cdigo da Instituio":"Institution Code"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.bankCode}),o.jsx("button",{onClick:()=>s(t.bankCode,"bankCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.swift&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"SWIFT/BIC"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.swift}),o.jsx("button",{onClick:()=>s(t.swift,"swift"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]})]}),o.jsxs("button",{className:"w-full bg-zinc-700 hover:bg-zinc-600 rounded-full py-3 flex items-center justify-center gap-2 transition-colors mt-6",children:[o.jsx(ZV,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-semibold",children:"Compartilhar dados"})]})]}),a?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(hp,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:"Normalmente as transferncias levam de trs a cinco dias teis para aparecer na sua conta Revolut"})})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(yk,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:"O banco do remetente ou intermedirio poder cobrar por pagamentos internacionais"})})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(vk,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:"Aceitamos somente transferncias SWIFT"})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(yk,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:"No cobraremos nenhuma taxa de transferncia para esta conta."})})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(vk,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:"Voc pode usar os dados da sua conta ou chave Pix para receber transferncias 24 horas, sem complicaes."})})]})]}),n&&t.id&&o.jsxs("button",{onClick:()=>n(t.id),className:"w-full mt-6 bg-red-900/20 hover:bg-red-900/30 border border-red-800 rounded-3xl py-4 flex items-center justify-center gap-2 transition-colors",children:[o.jsx(ho,{className:"w-5 h-5 text-red-500"}),o.jsx("span",{className:"text-sm font-semibold text-red-500",children:"Encerrar conta"})]})]})]})}const xI=E.createContext({});function bI(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const N7=typeof window<"u",S7=N7?E.useLayoutEffect:E.useEffect,xw=E.createContext(null);function wI(t,e){t.indexOf(e)===-1&&t.push(e)}function Dx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ua=(t,e,n)=>n>e?e:n<t?t:n;let _I=()=>{};const Do={},T7=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function P7(t){return typeof t=="object"&&t!==null}const A7=t=>/^0[^.\s]+$/u.test(t);function EI(t){let e;return()=>(e===void 0&&(e=t()),e)}const ls=t=>t,n1e=(t,e)=>n=>e(t(n)),Fg=(...t)=>t.reduce(n1e),Kp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class CI{constructor(){this.subscriptions=[]}add(e){return wI(this.subscriptions,e),()=>Dx(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bs=t=>t*1e3,ss=t=>t/1e3;function I7(t,e){return e?t*(1e3/e):0}const j7=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,r1e=1e-7,i1e=12;function s1e(t,e,n,r,i){let s,a,l=0;do a=e+(n-e)/2,s=j7(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>r1e&&++l<i1e);return a}function Bg(t,e,n,r){if(t===e&&n===r)return ls;const i=s=>s1e(s,0,1,t,n);return s=>s===0||s===1?s:j7(i(s),e,r)}const k7=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,R7=t=>e=>1-t(1-e),D7=Bg(.33,1.53,.69,.99),NI=R7(D7),O7=k7(NI),M7=t=>(t*=2)<1?.5*NI(t):.5*(2-Math.pow(2,-10*(t-1))),SI=t=>1-Math.sin(Math.acos(t)),L7=R7(SI),V7=k7(SI),a1e=Bg(.42,0,1,1),o1e=Bg(0,0,.58,1),F7=Bg(.42,0,.58,1),l1e=t=>Array.isArray(t)&&typeof t[0]!="number",B7=t=>Array.isArray(t)&&typeof t[0]=="number",c1e={linear:ls,easeIn:a1e,easeInOut:F7,easeOut:o1e,circIn:SI,circInOut:V7,circOut:L7,backIn:NI,backInOut:O7,backOut:D7,anticipate:M7},u1e=t=>typeof t=="string",kL=t=>{if(B7(t)){_I(t.length===4);const[e,n,r,i]=t;return Bg(e,n,r,i)}else if(u1e(t))return c1e[t];return t},Tv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function d1e(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){a.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,m=!1,p=!1)=>{const x=p&&i?n:r;return m&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const f1e=40;function z7(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Tv.reduce((O,z)=>(O[z]=d1e(s),O),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:m,preRender:p,render:y,postRender:x}=a,b=()=>{const O=Do.useManualTiming?i.timestamp:performance.now();n=!1,Do.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(O-i.timestamp,f1e),1)),i.timestamp=O,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),f.process(i),m.process(i),p.process(i),y.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},_=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:Tv.reduce((O,z)=>{const I=a[z];return O[z]=(P,C=!1,N=!1)=>(n||_(),I.schedule(P,C,N)),O},{}),cancel:O=>{for(let z=0;z<Tv.length;z++)a[Tv[z]].cancel(O)},state:i,steps:a}}const{schedule:tn,cancel:ac,state:wr,steps:iC}=z7(typeof requestAnimationFrame<"u"?requestAnimationFrame:ls,!0);let i0;function h1e(){i0=void 0}const Xr={now:()=>(i0===void 0&&Xr.set(wr.isProcessing||Do.useManualTiming?wr.timestamp:performance.now()),i0),set:t=>{i0=t,queueMicrotask(h1e)}},U7=t=>e=>typeof e=="string"&&e.startsWith(t),$7=U7("--"),m1e=U7("var(--"),TI=t=>m1e(t)?p1e.test(t.split("/*")[0].trim()):!1,p1e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function RL(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Th={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gp={...Th,transform:t=>Ua(0,1,t)},Pv={...Th,default:1},cp=t=>Math.round(t*1e5)/1e5,PI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g1e(t){return t==null}const y1e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,AI=(t,e)=>n=>!!(typeof n=="string"&&y1e.test(n)&&n.startsWith(t)||e&&!g1e(n)&&Object.prototype.hasOwnProperty.call(n,e)),q7=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,l]=r.match(PI);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},v1e=t=>Ua(0,255,t),sC={...Th,transform:t=>Math.round(v1e(t))},uu={test:AI("rgb","red"),parse:q7("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+sC.transform(t)+", "+sC.transform(e)+", "+sC.transform(n)+", "+cp(Gp.transform(r))+")"};function x1e(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const zS={test:AI("#"),parse:x1e,transform:uu.transform},zg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sl=zg("deg"),Ma=zg("%"),qe=zg("px"),b1e=zg("vh"),w1e=zg("vw"),DL={...Ma,parse:t=>Ma.parse(t)/100,transform:t=>Ma.transform(t*100)},uf={test:AI("hsl","hue"),parse:q7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ma.transform(cp(e))+", "+Ma.transform(cp(n))+", "+cp(Gp.transform(r))+")"},Fn={test:t=>uu.test(t)||zS.test(t)||uf.test(t),parse:t=>uu.test(t)?uu.parse(t):uf.test(t)?uf.parse(t):zS.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?uu.transform(t):uf.transform(t),getAnimatableNone:t=>{const e=Fn.parse(t);return e.alpha=0,Fn.transform(e)}},_1e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function E1e(t){return isNaN(t)&&typeof t=="string"&&(t.match(PI)?.length||0)+(t.match(_1e)?.length||0)>0}const H7="number",W7="color",C1e="var",N1e="var(",OL="${}",S1e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Xp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(S1e,c=>(Fn.test(c)?(r.color.push(s),i.push(W7),n.push(Fn.parse(c))):c.startsWith(N1e)?(r.var.push(s),i.push(C1e),n.push(c)):(r.number.push(s),i.push(H7),n.push(parseFloat(c))),++s,OL)).split(OL);return{values:n,split:l,indexes:r,types:i}}function K7(t){return Xp(t).values}function G7(t){const{split:e,types:n}=Xp(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const l=n[a];l===H7?s+=cp(i[a]):l===W7?s+=Fn.transform(i[a]):s+=i[a]}return s}}const T1e=t=>typeof t=="number"?0:Fn.test(t)?Fn.getAnimatableNone(t):t;function P1e(t){const e=K7(t);return G7(t)(e.map(T1e))}const oc={test:E1e,parse:K7,createTransformer:G7,getAnimatableNone:P1e};function aC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function A1e({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=aC(c,l,t+1/3),s=aC(c,l,t),a=aC(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Ox(t,e){return n=>n>0?e:t}const wn=(t,e,n)=>t+(e-t)*n,oC=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},I1e=[zS,uu,uf],j1e=t=>I1e.find(e=>e.test(t));function ML(t){const e=j1e(t);if(!e)return!1;let n=e.parse(t);return e===uf&&(n=A1e(n)),n}const LL=(t,e)=>{const n=ML(t),r=ML(e);if(!n||!r)return Ox(t,e);const i={...n};return s=>(i.red=oC(n.red,r.red,s),i.green=oC(n.green,r.green,s),i.blue=oC(n.blue,r.blue,s),i.alpha=wn(n.alpha,r.alpha,s),uu.transform(i))},US=new Set(["none","hidden"]);function k1e(t,e){return US.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function R1e(t,e){return n=>wn(t,e,n)}function II(t){return typeof t=="number"?R1e:typeof t=="string"?TI(t)?Ox:Fn.test(t)?LL:M1e:Array.isArray(t)?X7:typeof t=="object"?Fn.test(t)?LL:D1e:Ox}function X7(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>II(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function D1e(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=II(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function O1e(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],l=t.values[a]??0;n[i]=l,r[s]++}return n}const M1e=(t,e)=>{const n=oc.createTransformer(e),r=Xp(t),i=Xp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?US.has(t)&&!i.values.length||US.has(e)&&!r.values.length?k1e(t,e):Fg(X7(O1e(r,i),i.values),n):Ox(t,e)};function Y7(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?wn(t,e,n):II(t)(t,e)}const L1e=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tn.update(e,n),stop:()=>ac(e),now:()=>wr.isProcessing?wr.timestamp:Xr.now()}},Q7=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Mx=2e4;function jI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Mx;)e+=n,r=t.next(e);return e>=Mx?1/0:e}function V1e(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(jI(r),Mx);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:ss(i)}}const F1e=5;function J7(t,e,n){const r=Math.max(e-F1e,0);return I7(n-t(r),e-r)}const Pn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lC=.001;function B1e({duration:t=Pn.duration,bounce:e=Pn.bounce,velocity:n=Pn.velocity,mass:r=Pn.mass}){let i,s,a=1-e;a=Ua(Pn.minDamping,Pn.maxDamping,a),t=Ua(Pn.minDuration,Pn.maxDuration,ss(t)),a<1?(i=d=>{const f=d*a,m=f*t,p=f-n,y=$S(d,a),x=Math.exp(-m);return lC-p/y*x},s=d=>{const m=d*a*t,p=m*n+n,y=Math.pow(a,2)*Math.pow(d,2)*t,x=Math.exp(-m),b=$S(Math.pow(d,2),a);return(-i(d)+lC>0?-1:1)*((p-y)*x)/b}):(i=d=>{const f=Math.exp(-d*t),m=(d-n)*t+1;return-lC+f*m},s=d=>{const f=Math.exp(-d*t),m=(n-d)*(t*t);return f*m});const l=5/t,c=U1e(i,s,l);if(t=Bs(t),isNaN(c))return{stiffness:Pn.stiffness,damping:Pn.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const z1e=12;function U1e(t,e,n){let r=n;for(let i=1;i<z1e;i++)r=r-t(r)/e(r);return r}function $S(t,e){return t*Math.sqrt(1-e*e)}const $1e=["duration","bounce"],q1e=["stiffness","damping","mass"];function VL(t,e){return e.some(n=>t[n]!==void 0)}function H1e(t){let e={velocity:Pn.velocity,stiffness:Pn.stiffness,damping:Pn.damping,mass:Pn.mass,isResolvedFromDuration:!1,...t};if(!VL(t,q1e)&&VL(t,$1e))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ua(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Pn.mass,stiffness:i,damping:s}}else{const n=B1e(t);e={...e,...n,mass:Pn.mass},e.isResolvedFromDuration=!0}return e}function Lx(t=Pn.visualDuration,e=Pn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:m,velocity:p,isResolvedFromDuration:y}=H1e({...n,velocity:-ss(n.velocity||0)}),x=p||0,b=d/(2*Math.sqrt(c*f)),_=a-s,S=ss(Math.sqrt(c/f)),M=Math.abs(_)<5;r||(r=M?Pn.restSpeed.granular:Pn.restSpeed.default),i||(i=M?Pn.restDelta.granular:Pn.restDelta.default);let O;if(b<1){const I=$S(S,b);O=P=>{const C=Math.exp(-b*S*P);return a-C*((x+b*S*_)/I*Math.sin(I*P)+_*Math.cos(I*P))}}else if(b===1)O=I=>a-Math.exp(-S*I)*(_+(x+S*_)*I);else{const I=S*Math.sqrt(b*b-1);O=P=>{const C=Math.exp(-b*S*P),N=Math.min(I*P,300);return a-C*((x+b*S*_)*Math.sinh(N)+I*_*Math.cosh(N))/I}}const z={calculatedDuration:y&&m||null,next:I=>{const P=O(I);if(y)l.done=I>=m;else{let C=I===0?x:0;b<1&&(C=I===0?Bs(x):J7(O,I,P));const N=Math.abs(C)<=r,A=Math.abs(a-P)<=i;l.done=N&&A}return l.value=l.done?a:P,l},toString:()=>{const I=Math.min(jI(z),Mx),P=Q7(C=>z.next(I*C).value,I,30);return I+"ms "+P},toTransition:()=>{}};return z}Lx.applyToOptions=t=>{const e=V1e(t,100,Lx);return t.ease=e.ease,t.duration=Bs(e.duration),t.type="keyframes",t};function qS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:f}){const m=t[0],p={done:!1,value:m},y=N=>l!==void 0&&N<l||c!==void 0&&N>c,x=N=>l===void 0?c:c===void 0||Math.abs(l-N)<Math.abs(c-N)?l:c;let b=n*e;const _=m+b,S=a===void 0?_:a(_);S!==_&&(b=S-m);const M=N=>-b*Math.exp(-N/r),O=N=>S+M(N),z=N=>{const A=M(N),j=O(N);p.done=Math.abs(A)<=d,p.value=p.done?S:j};let I,P;const C=N=>{y(p.value)&&(I=N,P=Lx({keyframes:[p.value,x(p.value)],velocity:J7(O,N,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return C(0),{calculatedDuration:null,next:N=>{let A=!1;return!P&&I===void 0&&(A=!0,z(N),C(N)),I!==void 0&&N>=I?P.next(N-I):(!A&&z(N),p)}}}function W1e(t,e,n){const r=[],i=n||Do.mix||Y7,s=t.length-1;for(let a=0;a<s;a++){let l=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||ls:e;l=Fg(c,l)}r.push(l)}return r}function K1e(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(_I(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=W1e(e,r,i),c=l.length,d=f=>{if(a&&f<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const p=Kp(t[m],t[m+1],f);return l[m](p)};return n?f=>d(Ua(t[0],t[s-1],f)):d}function G1e(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Kp(0,e,r);t.push(wn(n,1,i))}}function X1e(t){const e=[0];return G1e(e,t.length-1),e}function Y1e(t,e){return t.map(n=>n*e)}function Q1e(t,e){return t.map(()=>e||F7).splice(0,t.length-1)}function up({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=l1e(r)?r.map(kL):kL(r),s={done:!1,value:e[0]},a=Y1e(n&&n.length===e.length?n:X1e(e),t),l=K1e(a,e,{ease:Array.isArray(i)?i:Q1e(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const J1e=t=>t!==null;function kI(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(J1e),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const Z1e={decay:qS,inertia:qS,tween:up,keyframes:up,spring:Lx};function Z7(t){typeof t.type=="string"&&(t.type=Z1e[t.type])}class RI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const e_e=t=>t/100;class DI extends RI{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Xr.now()&&this.tick(Xr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Z7(e);const{type:n=up,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:l}=e;const c=n||up;c!==up&&typeof l[0]!="number"&&(this.mixKeyframes=Fg(e_e,Y7(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=jI(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:p,repeatDelay:y,type:x,onUpdate:b,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const S=this.currentTime-d*(this.playbackSpeed>=0?1:-1),M=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let O=this.currentTime,z=r;if(m){const N=Math.min(this.currentTime,i)/l;let A=Math.floor(N),j=N%1;!j&&N>=1&&(j=1),j===1&&A--,A=Math.min(A,m+1),A%2&&(p==="reverse"?(j=1-j,y&&(j-=y/l)):p==="mirror"&&(z=a)),O=Ua(0,1,j)*l}const I=M?{done:!1,value:f[0]}:z.next(O);s&&(I.value=s(I.value));let{done:P}=I;!M&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return C&&x!==qS&&(I.value=kI(f,this.options,_,this.speed)),b&&b(I.value),C&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return ss(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ss(e)}get time(){return ss(this.currentTime)}set time(e){e=Bs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Xr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ss(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=L1e,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Xr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function t_e(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const du=t=>t*180/Math.PI,HS=t=>{const e=du(Math.atan2(t[1],t[0]));return WS(e)},n_e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:HS,rotateZ:HS,skewX:t=>du(Math.atan(t[1])),skewY:t=>du(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},WS=t=>(t=t%360,t<0&&(t+=360),t),FL=HS,BL=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),zL=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),r_e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BL,scaleY:zL,scale:t=>(BL(t)+zL(t))/2,rotateX:t=>WS(du(Math.atan2(t[6],t[5]))),rotateY:t=>WS(du(Math.atan2(-t[2],t[0]))),rotateZ:FL,rotate:FL,skewX:t=>du(Math.atan(t[4])),skewY:t=>du(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function KS(t){return t.includes("scale")?1:0}function GS(t,e){if(!t||t==="none")return KS(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=r_e,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=n_e,i=l}if(!i)return KS(e);const s=r[e],a=i[1].split(",").map(s_e);return typeof s=="function"?s(a):a[s]}const i_e=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return GS(n,e)};function s_e(t){return parseFloat(t.trim())}const Ph=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ah=new Set(Ph),UL=t=>t===Th||t===qe,a_e=new Set(["x","y","z"]),o_e=Ph.filter(t=>!a_e.has(t));function l_e(t){const e=[];return o_e.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Bl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>GS(e,"x"),y:(t,{transform:e})=>GS(e,"y")};Bl.translateX=Bl.x;Bl.translateY=Bl.y;const wu=new Set;let XS=!1,YS=!1,QS=!1;function eH(){if(YS){const t=Array.from(wu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=l_e(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}YS=!1,XS=!1,wu.forEach(t=>t.complete(QS)),wu.clear()}function tH(){wu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(YS=!0)})}function c_e(){QS=!0,tH(),eH(),QS=!1}class OI{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(wu.add(this),XS||(XS=!0,tn.read(tH),tn.resolveKeyframes(eH))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}t_e(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wu.delete(this)}cancel(){this.state==="scheduled"&&(wu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const u_e=t=>t.startsWith("--");function d_e(t,e,n){u_e(e)?t.style.setProperty(e,n):t.style[e]=n}const f_e=EI(()=>window.ScrollTimeline!==void 0),h_e={};function m_e(t,e){const n=EI(t);return()=>h_e[e]??n()}const nH=m_e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,$L={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gm([0,.65,.55,1]),circOut:Gm([.55,0,1,.45]),backIn:Gm([.31,.01,.66,-.59]),backOut:Gm([.33,1.53,.69,.99])};function rH(t,e){if(t)return typeof t=="function"?nH()?Q7(t,e):"ease-out":B7(t)?Gm(t):Array.isArray(t)?t.map(n=>rH(n,e)||$L.easeOut):$L[t]}function p_e(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[e]:n};c&&(f.offset=c);const m=rH(l,i);Array.isArray(m)&&(f.easing=m);const p={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(f,p)}function iH(t){return typeof t=="function"&&"applyToOptions"in t}function g_e({type:t,...e}){return iH(t)&&nH()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class sH extends RI{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,_I(typeof e.type!="string");const d=g_e(e);this.animation=p_e(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=kI(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):d_e(n,r,f),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ss(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ss(e)}get time(){return ss(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Bs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&f_e()?(this.animation.timeline=e,ls):n(this)}}const aH={anticipate:M7,backInOut:O7,circInOut:V7};function y_e(t){return t in aH}function v_e(t){typeof t.ease=="string"&&y_e(t.ease)&&(t.ease=aH[t.ease])}const cC=10;class x_e extends sH{constructor(e){v_e(e),Z7(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new DI({...a,autoplay:!1}),c=Math.max(cC,Xr.now()-this.startTime),d=Ua(0,cC,c-cC);n.setWithVelocity(l.sample(Math.max(0,c-d)).value,l.sample(c).value,d),l.stop()}}const qL=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(oc.test(t)||t==="0")&&!t.startsWith("url("));function b_e(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function w_e(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=qL(i,e),l=qL(s,e);return!a||!l?!1:b_e(t)||(n==="spring"||iH(n))&&r}function JS(t){t.duration=0,t.type="keyframes"}const __e=new Set(["opacity","clipPath","filter","transform"]),E_e=EI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function C_e(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return E_e()&&n&&__e.has(n)&&(n!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const N_e=40;class S_e extends RI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:d,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Xr.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:d,element:f,...m},y=f?.KeyframeResolver||OI;this.keyframeResolver=new y(l,(x,b,_)=>this.onKeyframesResolved(x,b,p,!_),c,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Xr.now(),w_e(e,s,a,l)||((Do.instantAnimations||!c)&&f?.(kI(e,r,n)),e[0]=e[e.length-1],JS(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>N_e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&C_e(p),x=p.motionValue?.owner?.current,b=y?new x_e({...p,element:x}):new DI(p);b.finished.then(()=>{this.notifyFinished()}).catch(ls),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),c_e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function oH(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:l-s*r}const T_e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function P_e(t){const e=T_e.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function lH(t,e,n=1){const[r,i]=P_e(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return T7(a)?parseFloat(a):a}return TI(i)?lH(i,e,n+1):i}const A_e={type:"spring",stiffness:500,damping:25,restSpeed:10},I_e=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),j_e={type:"keyframes",duration:.8},k_e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},R_e=(t,{keyframes:e})=>e.length>2?j_e:Ah.has(t)?t.startsWith("scale")?I_e(e[1]):A_e:k_e,D_e=t=>t!==null;function O_e(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(D_e),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}function cH(t,e){if(t?.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function MI(t,e){const n=t?.[e]??t?.default??t;return n!==t?cH(n,t):n}function M_e({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const LI=(t,e,n,r={},i,s)=>a=>{const l=MI(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Bs(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};M_e(l)||Object.assign(f,R_e(t,f)),f.duration&&(f.duration=Bs(f.duration)),f.repeatDelay&&(f.repeatDelay=Bs(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(JS(f),f.delay===0&&(m=!0)),(Do.instantAnimations||Do.skipAnimations||i?.shouldSkipAnimations)&&(m=!0,JS(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!s&&e.get()!==void 0){const p=O_e(f.keyframes,l);if(p!==void 0){tn.update(()=>{f.onUpdate(p),f.onComplete()});return}}return l.isSync?new DI(f):new S_e(f)};function HL(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function VI(t,e,n,r){if(typeof e=="function"){const[i,s]=HL(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=HL(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Nf(t,e,n){const r=t.getProps();return VI(r,e,n!==void 0?n:r.custom,t)}const uH=new Set(["width","height","top","left","right","bottom",...Ph]),WL=30,L_e=t=>!isNaN(parseFloat(t));class V_e{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Xr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Xr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=L_e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new CI);const r=this.events[e].add(n);return e==="change"?()=>{r(),tn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Xr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>WL)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,WL);return I7(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rh(t,e){return new V_e(t,e)}const ZS=t=>Array.isArray(t);function F_e(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,rh(n))}function B_e(t){return ZS(t)?t[t.length-1]||0:t}function z_e(t,e){const n=Nf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const l=B_e(s[a]);F_e(t,a,l)}}const Fr=t=>!!(t&&t.getVelocity);function U_e(t){return!!(Fr(t)&&t.add)}function eT(t,e){const n=t.getValue("willChange");if(U_e(n))return n.add(e);if(!n&&Do.WillChange){const r=new Do.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function FI(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const $_e="framerAppearId",dH="data-"+FI($_e);function fH(t){return t.props[dH]}function q_e({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function hH(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s,transitionEnd:a,...l}=e;const c=t.getDefaultTransition();s=s?cH(s,c):c;const d=s?.reduceMotion;r&&(s=r);const f=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const p in l){const y=t.getValue(p,t.latestValues[p]??null),x=l[p];if(x===void 0||m&&q_e(m,p))continue;const b={delay:n,...MI(s||{},p)},_=y.get();if(_!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===_&&!b.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const z=fH(t);if(z){const I=window.MotionHandoffAnimation(z,p,tn);I!==null&&(b.startTime=I,S=!0)}}eT(t,p);const M=d??t.shouldReduceMotion;y.start(LI(p,y,x,M&&uH.has(p)?{type:!1}:b,t,S));const O=y.animation;O&&f.push(O)}if(a){const p=()=>tn.update(()=>{a&&z_e(t,a)});f.length?Promise.all(f).then(p):p()}return f}function tT(t,e,n={}){const r=Nf(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(hH(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=i;return H_e(t,e,c,d,f,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function H_e(t,e,n=0,r=0,i=0,s=1,a){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(tT(c,e,{...a,delay:n+(typeof r=="function"?0:r)+oH(t.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function W_e(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>tT(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=tT(t,e,n);else{const i=typeof e=="function"?Nf(t,e,n.custom):e;r=Promise.all(hH(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const K_e={test:t=>t==="auto",parse:t=>t},mH=t=>e=>e.test(t),pH=[Th,qe,Ma,Sl,w1e,b1e,K_e],KL=t=>pH.find(mH(t));function G_e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||A7(t):!0}const X_e=new Set(["brightness","contrast","saturate","opacity"]);function Y_e(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(PI)||[];if(!r)return t;const i=n.replace(r,"");let s=X_e.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Q_e=/\b([a-z-]*)\(.*?\)/gu,nT={...oc,getAnimatableNone:t=>{const e=t.match(Q_e);return e?e.map(Y_e).join(" "):t}},GL={...Th,transform:Math.round},J_e={rotate:Sl,rotateX:Sl,rotateY:Sl,rotateZ:Sl,scale:Pv,scaleX:Pv,scaleY:Pv,scaleZ:Pv,skew:Sl,skewX:Sl,skewY:Sl,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:Gp,originX:DL,originY:DL,originZ:qe},BI={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,inset:qe,insetBlock:qe,insetBlockStart:qe,insetBlockEnd:qe,insetInline:qe,insetInlineStart:qe,insetInlineEnd:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,paddingBlock:qe,paddingBlockStart:qe,paddingBlockEnd:qe,paddingInline:qe,paddingInlineStart:qe,paddingInlineEnd:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,marginBlock:qe,marginBlockStart:qe,marginBlockEnd:qe,marginInline:qe,marginInlineStart:qe,marginInlineEnd:qe,fontSize:qe,backgroundPositionX:qe,backgroundPositionY:qe,...J_e,zIndex:GL,fillOpacity:Gp,strokeOpacity:Gp,numOctaves:GL},Z_e={...BI,color:Fn,backgroundColor:Fn,outlineColor:Fn,fill:Fn,stroke:Fn,borderColor:Fn,borderTopColor:Fn,borderRightColor:Fn,borderBottomColor:Fn,borderLeftColor:Fn,filter:nT,WebkitFilter:nT},gH=t=>Z_e[t];function yH(t,e){let n=gH(t);return n!==nT&&(n=oc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const eEe=new Set(["auto","none","0"]);function tEe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!eEe.has(s)&&Xp(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=yH(n,i)}class nEe extends OI{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),TI(m))){const p=lH(m,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!uH.has(r)||e.length!==2)return;const[i,s]=e,a=KL(i),l=KL(s),c=RL(i),d=RL(s);if(c!==d&&Bl[r]){this.needsMeasurement=!0;return}if(a!==l)if(UL(a)&&UL(l))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else Bl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||G_e(e[i]))&&r.push(i);r.length&&tEe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Bl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const rEe=new Set(["opacity","clipPath","filter","transform"]);function vH(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const xH=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function rT(t){return P7(t)&&"offsetHeight"in t}const{schedule:zI}=z7(queueMicrotask,!1),Ps={x:!1,y:!1};function bH(){return Ps.x||Ps.y}function iEe(t){return t==="x"||t==="y"?Ps[t]?null:(Ps[t]=!0,()=>{Ps[t]=!1}):Ps.x||Ps.y?null:(Ps.x=Ps.y=!0,()=>{Ps.x=Ps.y=!1})}function wH(t,e){const n=vH(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function sEe(t){return!(t.pointerType==="touch"||bH())}function aEe(t,e,n={}){const[r,i,s]=wH(t,n);return r.forEach(a=>{let l=!1,c=!1,d;const f=()=>{a.removeEventListener("pointerleave",x)},m=_=>{d&&(d(_),d=void 0),f()},p=_=>{l=!1,window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",p),c&&(c=!1,m(_))},y=()=>{l=!0,window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",p,i)},x=_=>{if(_.pointerType!=="touch"){if(l){c=!0;return}m(_)}},b=_=>{if(!sEe(_))return;c=!1;const S=e(a,_);typeof S=="function"&&(d=S,a.addEventListener("pointerleave",x,i))};a.addEventListener("pointerenter",b,i),a.addEventListener("pointerdown",y,i)}),s}const _H=(t,e)=>e?t===e?!0:_H(t,e.parentElement):!1,UI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oEe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lEe(t){return oEe.has(t.tagName)||t.isContentEditable===!0}const cEe=new Set(["INPUT","SELECT","TEXTAREA"]);function uEe(t){return cEe.has(t.tagName)||t.isContentEditable===!0}const s0=new WeakSet;function XL(t){return e=>{e.key==="Enter"&&t(e)}}function uC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const dEe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=XL(()=>{if(s0.has(n))return;uC(n,"down");const i=XL(()=>{uC(n,"up")}),s=()=>uC(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function YL(t){return UI(t)&&!bH()}const QL=new WeakSet;function fEe(t,e,n={}){const[r,i,s]=wH(t,n),a=l=>{const c=l.currentTarget;if(!YL(l)||QL.has(l))return;s0.add(c),n.stopPropagation&&QL.add(l);const d=e(c,l),f=(y,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),s0.has(c)&&s0.delete(c),YL(y)&&typeof d=="function"&&d(y,{success:x})},m=y=>{f(y,c===window||c===document||n.useGlobalTarget||_H(c,y.target))},p=y=>{f(y,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",p,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),rT(l)&&(l.addEventListener("focus",d=>dEe(d,i)),!lEe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function $I(t){return P7(t)&&"ownerSVGElement"in t}const a0=new WeakMap;let o0;const EH=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:$I(r)&&"getBBox"in r?r.getBBox()[e]:r[n],hEe=EH("inline","width","offsetWidth"),mEe=EH("block","height","offsetHeight");function pEe({target:t,borderBoxSize:e}){a0.get(t)?.forEach(n=>{n(t,{get width(){return hEe(t,e)},get height(){return mEe(t,e)}})})}function gEe(t){t.forEach(pEe)}function yEe(){typeof ResizeObserver>"u"||(o0=new ResizeObserver(gEe))}function vEe(t,e){o0||yEe();const n=vH(t);return n.forEach(r=>{let i=a0.get(r);i||(i=new Set,a0.set(r,i)),i.add(e),o0?.observe(r)}),()=>{n.forEach(r=>{const i=a0.get(r);i?.delete(e),i?.size||o0?.unobserve(r)})}}const l0=new Set;let df;function xEe(){df=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};l0.forEach(e=>e(t))},window.addEventListener("resize",df)}function bEe(t){return l0.add(t),df||xEe(),()=>{l0.delete(t),!l0.size&&typeof df=="function"&&(window.removeEventListener("resize",df),df=void 0)}}function JL(t,e){return typeof t=="function"?bEe(t):vEe(t,e)}function wEe(t){return $I(t)&&t.tagName==="svg"}const _Ee=[...pH,Fn,oc],EEe=t=>_Ee.find(mH(t)),ZL=()=>({translate:0,scale:1,origin:0,originPoint:0}),ff=()=>({x:ZL(),y:ZL()}),e3=()=>({min:0,max:0}),Hn=()=>({x:e3(),y:e3()}),CEe=new WeakMap;function bw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Yp(t){return typeof t=="string"||Array.isArray(t)}const qI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],HI=["initial",...qI];function ww(t){return bw(t.animate)||HI.some(e=>Yp(t[e]))}function CH(t){return!!(ww(t)||t.variants)}function NEe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Fr(i))t.addValue(r,i);else if(Fr(s))t.addValue(r,rh(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,rh(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const iT={current:null},NH={current:!1},SEe=typeof window<"u";function TEe(){if(NH.current=!0,!!SEe)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>iT.current=t.matches;t.addEventListener("change",e),e()}else iT.current=!1}const t3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Vx={};function SH(t){Vx=t}function PEe(){return Vx}class AEe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=OI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Xr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,tn.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=ww(n),this.isVariantNode=CH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const x=p[y];d[y]!==void 0&&Fr(x)&&x.set(d[y])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,CEe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(NH.current||TEe(),this.shouldReduceMotion=iT.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),ac(this.notifyUpdate),ac(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&rEe.has(e)&&this.current instanceof HTMLElement){const{factory:a,keyframes:l,times:c,ease:d,duration:f}=n.accelerate,m=new sH({element:this.current,name:e,keyframes:l,times:c,ease:d,duration:Bs(f)}),p=a(m);this.valueSubscriptions.set(e,()=>{p(),m.cancel()});return}const r=Ah.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&tn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vx){const n=Vx[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<t3.length;r++){const i=t3[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=NEe(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=rh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(T7(r)||A7(r))?r=parseFloat(r):!EEe(r)&&oc.test(n)&&(r=yH(e,n)),this.setBaseTarget(e,Fr(r)?r.get():r)),Fr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=VI(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Fr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new CI),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){zI.render(this.render)}}class TH extends AEe{constructor(){super(...arguments),this.KeyframeResolver=nEe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Fr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class vc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function PH({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function IEe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jEe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function dC(t){return t===void 0||t===1}function sT({scale:t,scaleX:e,scaleY:n}){return!dC(t)||!dC(e)||!dC(n)}function Zc(t){return sT(t)||AH(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function AH(t){return n3(t.x)||n3(t.y)}function n3(t){return t&&t!=="0%"}function Fx(t,e,n){const r=t-n,i=e*r;return n+i}function r3(t,e,n,r,i){return i!==void 0&&(t=Fx(t,i,r)),Fx(t,n,r)+e}function aT(t,e=0,n=1,r,i){t.min=r3(t.min,e,n,r,i),t.max=r3(t.max,e,n,r,i)}function IH(t,{x:e,y:n}){aT(t.x,e.translate,e.scale,e.originPoint),aT(t.y,n.translate,n.scale,n.originPoint)}const i3=.999999999999,s3=1.0000000000001;function kEe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=n[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&mf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,IH(t,a)),r&&Zc(s.latestValues)&&mf(t,s.latestValues))}e.x<s3&&e.x>i3&&(e.x=1),e.y<s3&&e.y>i3&&(e.y=1)}function hf(t,e){t.min=t.min+e,t.max=t.max+e}function a3(t,e,n,r,i=.5){const s=wn(t.min,t.max,i);aT(t,e,n,s,r)}function mf(t,e){a3(t.x,e.x,e.scaleX,e.scale,e.originX),a3(t.y,e.y,e.scaleY,e.scale,e.originY)}function jH(t,e){return PH(jEe(t.getBoundingClientRect(),e))}function REe(t,e,n){const r=jH(t,n),{scroll:i}=e;return i&&(hf(r.x,i.offset.x),hf(r.y,i.offset.y)),r}const DEe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},OEe=Ph.length;function MEe(t,e,n){let r="",i=!0;for(let s=0;s<OEe;s++){const a=Ph[s],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(a.startsWith("scale")?1:0);else{const d=parseFloat(l);c=a.startsWith("scale")?d===1:d===0}if(!c||n){const d=xH(l,BI[a]);if(!c){i=!1;const f=DEe[a]||a;r+=`${f}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function WI(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,l=!1;for(const c in e){const d=e[c];if(Ah.has(c)){a=!0;continue}else if($7(c)){i[c]=d;continue}else{const f=xH(d,BI[c]);c.startsWith("origin")?(l=!0,s[c]=f):r[c]=f}}if(e.transform||(a||n?r.transform=MEe(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${c} ${d} ${f}`}}function kH(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function o3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Mm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(qe.test(t))t=parseFloat(t);else return t;const n=o3(t,e.target.x),r=o3(t,e.target.y);return`${n}% ${r}%`}},LEe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=oc.parse(t);if(i.length>5)return r;const s=oc.createTransformer(t),a=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=l,i[1+a]/=c;const d=wn(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),s(i)}},oT={borderRadius:{...Mm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Mm,borderTopRightRadius:Mm,borderBottomLeftRadius:Mm,borderBottomRightRadius:Mm,boxShadow:LEe};function RH(t,{layout:e,layoutId:n}){return Ah.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!oT[t]||t==="opacity")}function KI(t,e,n){const r=t.style,i=e?.style,s={};if(!r)return s;for(const a in r)(Fr(r[a])||i&&Fr(i[a])||RH(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}function VEe(t){return window.getComputedStyle(t)}class FEe extends TH{constructor(){super(...arguments),this.type="html",this.renderInstance=kH}readValueFromInstance(e,n){if(Ah.has(n))return this.projection?.isProjecting?KS(n):i_e(e,n);{const r=VEe(e),i=($7(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return jH(e,n)}build(e,n,r){WI(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return KI(e,n,r)}}const BEe={offset:"stroke-dashoffset",array:"stroke-dasharray"},zEe={offset:"strokeDashoffset",array:"strokeDasharray"};function UEe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?BEe:zEe;t[s.offset]=`${-r}`,t[s.array]=`${e} ${n}`}const $Ee=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function DH(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,d,f){if(WI(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=f?.transformBox??"fill-box",delete m.transformBox);for(const y of $Ee)m[y]!==void 0&&(p[y]=m[y],delete m[y]);e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&UEe(m,i,s,a,!1)}const OH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),MH=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qEe(t,e,n,r){kH(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(OH.has(i)?i:FI(i),e.attrs[i])}function LH(t,e,n){const r=KI(t,e,n);for(const i in t)if(Fr(t[i])||Fr(e[i])){const s=Ph.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}class HEe extends TH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ah.has(n)){const r=gH(n);return r&&r.default||0}return n=OH.has(n)?n:FI(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return LH(e,n,r)}build(e,n,r){DH(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){qEe(e,n,r,i)}mount(e){this.isSVGTag=MH(e.tagName),super.mount(e)}}const WEe=HI.length;function VH(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?VH(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<WEe;n++){const r=HI[n],i=t.props[r];(Yp(i)||i===!1)&&(e[r]=i)}return e}function FH(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const KEe=[...qI].reverse(),GEe=qI.length;function XEe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>W_e(t,n,r)))}function YEe(t){let e=XEe(t),n=l3(),r=!0;const i=c=>(d,f)=>{const m=Nf(t,f,c==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:p,transitionEnd:y,...x}=m;d={...d,...x,...y}}return d};function s(c){e=c(t)}function a(c){const{props:d}=t,f=VH(t.parent)||{},m=[],p=new Set;let y={},x=1/0;for(let _=0;_<GEe;_++){const S=KEe[_],M=n[S],O=d[S]!==void 0?d[S]:f[S],z=Yp(O),I=S===c?M.isActive:null;I===!1&&(x=_);let P=O===f[S]&&O!==d[S]&&z;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),M.protectedKeys={...y},!M.isActive&&I===null||!O&&!M.prevProp||bw(O)||typeof O=="boolean")continue;if(S==="exit"&&M.isActive&&I!==!0){M.prevResolvedValues&&(y={...y,...M.prevResolvedValues});continue}const C=QEe(M.prevProp,O);let N=C||S===c&&M.isActive&&!P&&z||_>x&&z,A=!1;const j=Array.isArray(O)?O:[O];let D=j.reduce(i(S),{});I===!1&&(D={});const{prevResolvedValues:L={}}=M,B={...L,...D},$=k=>{N=!0,p.has(k)&&(A=!0,p.delete(k)),M.needsAnimating[k]=!0;const Q=t.getValue(k);Q&&(Q.liveStyle=!1)};for(const k in B){const Q=D[k],H=L[k];if(y.hasOwnProperty(k))continue;let R=!1;ZS(Q)&&ZS(H)?R=!FH(Q,H):R=Q!==H,R?Q!=null?$(k):p.add(k):Q!==void 0&&p.has(k)?$(k):M.protectedKeys[k]=!0}M.prevProp=O,M.prevResolvedValues=D,M.isActive&&(y={...y,...D}),r&&t.blockInitialAnimation&&(N=!1);const Y=P&&C;N&&(!Y||A)&&m.push(...j.map(k=>{const Q={type:S};if(typeof k=="string"&&r&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,R=Nf(H,k);if(H.enteringChildren&&R){const{delayChildren:U}=R.transition||{};Q.delay=oH(H.enteringChildren,t,U)}}return{animation:k,options:Q}}))}if(p.size){const _={};if(typeof d.initial!="boolean"){const S=Nf(t,Array.isArray(d.initial)?d.initial[0]:d.initial);S&&S.transition&&(_.transition=S.transition)}p.forEach(S=>{const M=t.getBaseTarget(S),O=t.getValue(S);O&&(O.liveStyle=!0),_[S]=M??null}),m.push({animation:_})}let b=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(m):Promise.resolve()}function l(c,d){if(n[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(c,d)),n[c].isActive=d;const f=a(c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=l3()}}}function QEe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!FH(e,t):!1}function Wc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function l3(){return{animate:Wc(!0),whileInView:Wc(),whileHover:Wc(),whileTap:Wc(),whileDrag:Wc(),whileFocus:Wc(),exit:Wc()}}function c3(t,e){t.min=e.min,t.max=e.max}function Ts(t,e){c3(t.x,e.x),c3(t.y,e.y)}function u3(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const BH=1e-4,JEe=1-BH,ZEe=1+BH,zH=.01,eCe=0-zH,tCe=0+zH;function Yr(t){return t.max-t.min}function nCe(t,e,n){return Math.abs(t-e)<=n}function d3(t,e,n,r=.5){t.origin=r,t.originPoint=wn(e.min,e.max,t.origin),t.scale=Yr(n)/Yr(e),t.translate=wn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=JEe&&t.scale<=ZEe||isNaN(t.scale))&&(t.scale=1),(t.translate>=eCe&&t.translate<=tCe||isNaN(t.translate))&&(t.translate=0)}function dp(t,e,n,r){d3(t.x,e.x,n.x,r?r.originX:void 0),d3(t.y,e.y,n.y,r?r.originY:void 0)}function f3(t,e,n){t.min=n.min+e.min,t.max=t.min+Yr(e)}function rCe(t,e,n){f3(t.x,e.x,n.x),f3(t.y,e.y,n.y)}function h3(t,e,n){t.min=e.min-n.min,t.max=t.min+Yr(e)}function Bx(t,e,n){h3(t.x,e.x,n.x),h3(t.y,e.y,n.y)}function m3(t,e,n,r,i){return t-=e,t=Fx(t,1/n,r),i!==void 0&&(t=Fx(t,1/i,r)),t}function iCe(t,e=0,n=1,r=.5,i,s=t,a=t){if(Ma.test(e)&&(e=parseFloat(e),e=wn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=wn(s.min,s.max,r);t===s&&(l-=e),t.min=m3(t.min,e,n,l,i),t.max=m3(t.max,e,n,l,i)}function p3(t,e,[n,r,i],s,a){iCe(t,e[n],e[r],e[i],e.scale,s,a)}const sCe=["x","scaleX","originX"],aCe=["y","scaleY","originY"];function g3(t,e,n,r){p3(t.x,e,sCe,n?n.x:void 0,r?r.x:void 0),p3(t.y,e,aCe,n?n.y:void 0,r?r.y:void 0)}function y3(t){return t.translate===0&&t.scale===1}function UH(t){return y3(t.x)&&y3(t.y)}function v3(t,e){return t.min===e.min&&t.max===e.max}function oCe(t,e){return v3(t.x,e.x)&&v3(t.y,e.y)}function x3(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function $H(t,e){return x3(t.x,e.x)&&x3(t.y,e.y)}function b3(t){return Yr(t.x)/Yr(t.y)}function w3(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function va(t){return[t("x"),t("y")]}function lCe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:p,skewX:y,skewY:x}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const qH=["TopLeft","TopRight","BottomLeft","BottomRight"],cCe=qH.length,_3=t=>typeof t=="string"?parseFloat(t):t,E3=t=>typeof t=="number"||qe.test(t);function uCe(t,e,n,r,i,s){i?(t.opacity=wn(0,n.opacity??1,dCe(r)),t.opacityExit=wn(e.opacity??1,0,fCe(r))):s&&(t.opacity=wn(e.opacity??1,n.opacity??1,r));for(let a=0;a<cCe;a++){const l=`border${qH[a]}Radius`;let c=C3(e,l),d=C3(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||E3(c)===E3(d)?(t[l]=Math.max(wn(_3(c),_3(d),r),0),(Ma.test(d)||Ma.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=wn(e.rotate||0,n.rotate||0,r))}function C3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const dCe=HH(0,.5,L7),fCe=HH(.5,.95,ls);function HH(t,e,n){return r=>r<t?0:r>e?1:n(Kp(t,e,r))}function hCe(t,e,n){const r=Fr(t)?t:rh(t);return r.start(LI("",r,e,n)),r.animation}function Qp(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const mCe=(t,e)=>t.depth-e.depth;class pCe{constructor(){this.children=[],this.isDirty=!1}add(e){wI(this.children,e),this.isDirty=!0}remove(e){Dx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(mCe),this.isDirty=!1,this.children.forEach(e)}}function gCe(t,e){const n=Xr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ac(r),t(s-e))};return tn.setup(r,!0),()=>ac(r)}function c0(t){return Fr(t)?t.get():t}class yCe{constructor(){this.members=[]}add(e){wI(this.members,e);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===e||r===this.lead||r===this.prevLead)continue;const i=r.instance;i&&i.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&Dx(this.members,r)}e.scheduleRender()}remove(e){if(Dx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i],a=s.instance;if(s.isPresent!==!1&&(!a||a.isConnected!==!1)){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;if(!(i!==void 0&&s!==void 0&&i===s)){const c=r.instance;c&&c.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:l}=e.options;l===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const u0={hasAnimatedSinceResize:!0,hasEverUpdated:!1},fC=["","X","Y","Z"],vCe=1e3;let xCe=0;function hC(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function WH(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=fH(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&WH(r)}function KH({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e?.()){this.id=xCe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_Ce),this.nodes.forEach(SCe),this.nodes.forEach(TCe),this.nodes.forEach(ECe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new pCe)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new CI),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=$I(a)&&!wEe(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,m=0;const p=()=>this.root.updateBlockedByResize=!1;tn.read(()=>{m=window.innerWidth}),t(a,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,f&&f(),f=gCe(p,250),u0.hasAnimatedSinceResize&&(u0.hasAnimatedSinceResize=!1,this.nodes.forEach(T3)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||kCe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:_}=d.getProps(),S=!this.targetLayout||!$H(this.targetLayout,y),M=!m&&p;if(this.options.layoutRoot||this.resumeFrom||M||m&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...MI(x,"layout"),onPlay:b,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(f,M)}else m||T3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ac(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PCe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&WH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(N3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(S3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(NCe),this.nodes.forEach(bCe),this.nodes.forEach(wCe)):this.nodes.forEach(S3),this.clearAllSnapshots();const l=Xr.now();wr.delta=Ua(0,1e3/60,l-wr.timestamp),wr.timestamp=l,wr.isProcessing=!0,iC.update.process(wr),iC.preRender.process(wr),iC.render.process(wr),wr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CCe),this.sharedNodes.forEach(ACe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Yr(this.snapshot.measuredBox.x)&&!Yr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!UH(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(l||Zc(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),RCe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Hn();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(DCe))){const{scroll:d}=this.root;d&&(hf(l.x,d.offset.x),hf(l.y,d.offset.y))}return l}removeElementScroll(a){const l=Hn();if(Ts(l,a),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Ts(l,a),hf(l.x,f.offset.x),hf(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=Hn();Ts(c,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&mf(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Zc(f.latestValues)&&mf(c,f.latestValues)}return Zc(this.latestValues)&&mf(c,this.latestValues),c}removeTransform(a){const l=Hn();Ts(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Zc(d.latestValues))continue;sT(d.latestValues)&&d.updateSnapshot();const f=Hn(),m=d.measurePageBox();Ts(f,m),g3(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Zc(this.latestValues)&&g3(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!this.layout||!(f||m))return;this.resolvedRelativeTargetAt=wr.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rCe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ts(this.target,this.layout.layoutBox),IH(this.target,this.targetDelta)):Ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||sT(this.parent.latestValues)||AH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,l,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),Bx(this.relativeTargetOrigin,l,c),Ts(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===wr.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ts(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;kEe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Hn());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u3(this.prevProjectionDelta.x,this.projectionDelta.x),u3(this.prevProjectionDelta.y,this.projectionDelta.y)),dp(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!w3(this.projectionDelta.x,this.prevProjectionDelta.x)||!w3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ff(),this.projectionDelta=ff(),this.projectionDeltaWithTransform=ff()}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},m=ff();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Hn(),y=c?c.source:void 0,x=this.layout?this.layout.source:void 0,b=y!==x,_=this.getStack(),S=!_||_.members.length<=1,M=!!(b&&!S&&this.options.crossfade===!0&&!this.path.some(jCe));this.animationProgress=0;let O;this.mixTargetDelta=z=>{const I=z/1e3;P3(m.x,a.x,I),P3(m.y,a.y,I),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Bx(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ICe(this.relativeTarget,this.relativeTargetOrigin,p,I),O&&oCe(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Hn()),Ts(O,this.relativeTarget)),b&&(this.animationValues=f,uCe(f,d,this.latestValues,I,M,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ac(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tn.update(()=>{u0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=rh(0)),this.currentAnimation=hCe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vCe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&GH(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Hn();const m=Yr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+m;const p=Yr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}Ts(l,c),mf(l,f),dp(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new yCe),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&hC("z",a,d,this.animationValues);for(let f=0;f<fC.length;f++)hC(`rotate${fC[f]}`,a,d,this.animationValues),hC(`skew${fC[f]}`,a,d,this.animationValues);a.render();for(const f in d)a.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=c0(l?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=c0(l?.pointerEvents)||""),this.hasProjected&&!Zc(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=lCe(this.projectionDeltaWithTransform,this.treeScale,f);c&&(m=c(f,m)),a.transform=m;const{x:p,y}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,d.animationValues?a.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in oT){if(f[x]===void 0)continue;const{correct:b,applyTo:_,isCSSVariable:S}=oT[x],M=m==="none"?f[x]:b(f[x],d);if(_){const O=_.length;for(let z=0;z<O;z++)a[_[z]]=M}else S?this.options.visualElement.renderState.vars[x]=M:a[x]=M}this.options.layoutId&&(a.pointerEvents=d===this?c0(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(N3),this.root.sharedNodes.clear()}}}function bCe(t){t.updateLayout()}function wCe(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?va(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],p=Yr(m);m.min=n[f].min,m.max=m.min+p}):GH(i,e.layoutBox,n)&&va(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],p=Yr(n[f]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=ff();dp(a,n,e.layoutBox);const l=ff();s?dp(l,t.applyTransform(r,!0),e.measuredBox):dp(l,n,e.layoutBox);const c=!UH(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const y=Hn();Bx(y,e.layoutBox,m.layoutBox);const x=Hn();Bx(x,n,p.layoutBox),$H(y,x)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function _Ce(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ECe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function CCe(t){t.clearSnapshot()}function N3(t){t.clearMeasurements()}function S3(t){t.isLayoutDirty=!1}function NCe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function T3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function SCe(t){t.resolveTargetDelta()}function TCe(t){t.calcProjection()}function PCe(t){t.resetSkewAndRotation()}function ACe(t){t.removeLeadSnapshot()}function P3(t,e,n){t.translate=wn(e.translate,0,n),t.scale=wn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function A3(t,e,n,r){t.min=wn(e.min,n.min,r),t.max=wn(e.max,n.max,r)}function ICe(t,e,n,r){A3(t.x,e.x,n.x,r),A3(t.y,e.y,n.y,r)}function jCe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kCe={duration:.45,ease:[.4,0,.1,1]},I3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),j3=I3("applewebkit/")&&!I3("chrome/")?Math.round:ls;function k3(t){t.min=j3(t.min),t.max=j3(t.max)}function RCe(t){k3(t.x),k3(t.y)}function GH(t,e,n){return t==="position"||t==="preserve-aspect"&&!nCe(b3(e),b3(n),.2)}function DCe(t){return t!==t.root&&t.scroll?.wasRoot}const OCe=KH({attachResizeListener:(t,e)=>Qp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),mC={current:void 0},XH=KH({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!mC.current){const t=new OCe({});t.mount(window),t.setOptions({layoutScroll:!0}),mC.current=t}return mC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),GI=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function R3(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function MCe(...t){return e=>{let n=!1;const r=t.map(i=>{const s=R3(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():R3(t[i],null)}}}}function LCe(...t){return E.useCallback(MCe(...t),t)}class VCe extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=rT(r)&&r.offsetWidth||0,s=rT(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function FCe({children:t,isPresent:e,anchorX:n,anchorY:r,root:i,pop:s}){const a=E.useId(),l=E.useRef(null),c=E.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=E.useContext(GI),f=t.props?.ref??t?.ref,m=LCe(l,f);return E.useInsertionEffect(()=>{const{width:p,height:y,top:x,left:b,right:_,bottom:S}=c.current;if(e||s===!1||!l.current||!p||!y)return;const M=n==="left"?`left: ${b}`:`right: ${_}`,O=r==="bottom"?`bottom: ${S}`:`top: ${x}`;l.current.dataset.motionPopId=a;const z=document.createElement("style");d&&(z.nonce=d);const I=i??document.head;return I.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${M}px !important;
            ${O}px !important;
          }
        `),()=>{I.contains(z)&&I.removeChild(z)}},[e]),o.jsx(VCe,{isPresent:e,childRef:l,sizeRef:c,pop:s,children:s===!1?t:E.cloneElement(t,{ref:m})})}const BCe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,anchorY:c,root:d})=>{const f=bI(zCe),m=E.useId();let p=!0,y=E.useMemo(()=>(p=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:x=>{f.set(x,!0);for(const b of f.values())if(!b)return;r&&r()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,r]);return s&&p&&(y={...y}),E.useMemo(()=>{f.forEach((x,b)=>f.set(b,!1))},[n]),E.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),t=o.jsx(FCe,{pop:a==="popLayout",isPresent:n,anchorX:l,anchorY:c,root:d,children:t}),o.jsx(xw.Provider,{value:y,children:t})};function zCe(){return new Map}function YH(t=!0){const e=E.useContext(xw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=E.useId();E.useEffect(()=>{if(t)return i(s)},[t]);const a=E.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Av=t=>t.key||"";function D3(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const _w=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",anchorY:c="top",root:d})=>{const[f,m]=YH(a),p=E.useMemo(()=>D3(t),[t]),y=a&&!f?[]:p.map(Av),x=E.useRef(!0),b=E.useRef(p),_=bI(()=>new Map),S=E.useRef(new Set),[M,O]=E.useState(p),[z,I]=E.useState(p);S7(()=>{x.current=!1,b.current=p;for(let N=0;N<z.length;N++){const A=Av(z[N]);y.includes(A)?(_.delete(A),S.current.delete(A)):_.get(A)!==!0&&_.set(A,!1)}},[z,y.length,y.join("-")]);const P=[];if(p!==M){let N=[...p];for(let A=0;A<z.length;A++){const j=z[A],D=Av(j);y.includes(D)||(N.splice(A,0,j),P.push(j))}return s==="wait"&&P.length&&(N=P),I(D3(N)),O(p),null}const{forceRender:C}=E.useContext(xI);return o.jsx(o.Fragment,{children:z.map(N=>{const A=Av(N),j=a&&!f?!1:p===z||y.includes(A),D=()=>{if(S.current.has(A))return;if(S.current.add(A),_.has(A))_.set(A,!0);else return;let L=!0;_.forEach(B=>{B||(L=!1)}),L&&(C?.(),I(b.current),a&&m?.(),r&&r())};return o.jsx(BCe,{isPresent:j,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:d,onExitComplete:j?void 0:D,anchorX:l,anchorY:c,children:N},A)})})},QH=E.createContext({strict:!1}),O3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let M3=!1;function UCe(){if(M3)return;const t={};for(const e in O3)t[e]={isEnabled:n=>O3[e].some(r=>!!n[r])};SH(t),M3=!0}function JH(){return UCe(),PEe()}function $Ce(t){const e=JH();for(const n in t)e[n]={...e[n],...t[n]};SH(e)}const qCe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function zx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||qCe.has(t)}let ZH=t=>!zx(t);function HCe(t){typeof t=="function"&&(ZH=e=>e.startsWith("on")?!zx(e):t(e))}try{HCe(require("@emotion/is-prop-valid").default)}catch{}function WCe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(ZH(i)||n===!0&&zx(i)||!e&&!zx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Ew=E.createContext({});function KCe(t,e){if(ww(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Yp(n)?n:void 0,animate:Yp(r)?r:void 0}}return t.inherit!==!1?e:{}}function GCe(t){const{initial:e,animate:n}=KCe(t,E.useContext(Ew));return E.useMemo(()=>({initial:e,animate:n}),[L3(e),L3(n)])}function L3(t){return Array.isArray(t)?t.join(" "):t}const XI=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eW(t,e,n){for(const r in e)!Fr(e[r])&&!RH(r,n)&&(t[r]=e[r])}function XCe({transformTemplate:t},e){return E.useMemo(()=>{const n=XI();return WI(n,e,t),Object.assign({},n.vars,n.style)},[e])}function YCe(t,e){const n=t.style||{},r={};return eW(r,n,t),Object.assign(r,XCe(t,e)),r}function QCe(t,e){const n={},r=YCe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const tW=()=>({...XI(),attrs:{}});function JCe(t,e,n,r){const i=E.useMemo(()=>{const s=tW();return DH(s,e,MH(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};eW(s,t.style,t),i.style={...s,...i.style}}return i}const ZCe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function YI(t){return typeof t!="string"||t.includes("-")?!1:!!(ZCe.indexOf(t)>-1||/[A-Z]/u.test(t))}function eNe(t,e,n,{latestValues:r},i,s=!1,a){const c=(a??YI(t)?JCe:QCe)(e,r,i,t),d=WCe(e,typeof t=="string",s),f=t!==E.Fragment?{...d,...c,ref:n}:{},{children:m}=e,p=E.useMemo(()=>Fr(m)?m.get():m,[m]);return E.createElement(t,{...f,children:p})}function tNe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:nNe(n,r,i,t),renderState:e()}}function nNe(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=c0(s[p]);let{initial:a,animate:l}=t;const c=ww(t),d=CH(t);e&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const m=f?l:a;if(m&&typeof m!="boolean"&&!bw(m)){const p=Array.isArray(m)?m:[m];for(let y=0;y<p.length;y++){const x=VI(t,p[y]);if(x){const{transitionEnd:b,transition:_,...S}=x;for(const M in S){let O=S[M];if(Array.isArray(O)){const z=f?O.length-1:0;O=O[z]}O!==null&&(i[M]=O)}for(const M in b)i[M]=b[M]}}}return i}const nW=t=>(e,n)=>{const r=E.useContext(Ew),i=E.useContext(xw),s=()=>tNe(t,e,r,i);return n?s():bI(s)},rNe=nW({scrapeMotionValuesFromProps:KI,createRenderState:XI}),iNe=nW({scrapeMotionValuesFromProps:LH,createRenderState:tW}),sNe=Symbol.for("motionComponentSymbol");function aNe(t,e,n){const r=E.useRef(n);E.useInsertionEffect(()=>{r.current=n});const i=E.useRef(null);return E.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const a=r.current;if(typeof a=="function")if(s){const l=a(s);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[e])}const rW=E.createContext({});function af(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function oNe(t,e,n,r,i,s){const{visualElement:a}=E.useContext(Ew),l=E.useContext(QH),c=E.useContext(xw),d=E.useContext(GI),f=d.reducedMotion,m=d.skipAnimations,p=E.useRef(null),y=E.useRef(!1);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f,skipAnimations:m,isSVG:s}),y.current&&p.current&&(p.current.manuallyAnimateOnMount=!0));const x=p.current,b=E.useContext(rW);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&lNe(p.current,n,i,b);const _=E.useRef(!1);E.useInsertionEffect(()=>{x&&_.current&&x.update(n,c)});const S=n[dH],M=E.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return S7(()=>{y.current=!0,x&&(_.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),M.current&&x.animationState&&x.animationState.animateChanges())}),E.useEffect(()=>{x&&(!M.current&&x.animationState&&x.animationState.animateChanges(),M.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),M.current=!1),x.enteringChildren=void 0)}),x}function lNe(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:iW(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&af(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:d})}function iW(t){if(t)return t.options.allowProjection!==!1?t.projection:iW(t.parent)}function pC(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&$Ce(r);const s=n?n==="svg":YI(t),a=s?iNe:rNe;function l(d,f){let m;const p={...E.useContext(GI),...d,layoutId:cNe(d)},{isStatic:y}=p,x=GCe(d),b=a(d,y);if(!y&&N7){uNe();const _=dNe(p);m=_.MeasureLayout,x.visualElement=oNe(t,b,p,i,_.ProjectionNode,s)}return o.jsxs(Ew.Provider,{value:x,children:[m&&x.visualElement?o.jsx(m,{visualElement:x.visualElement,...p}):null,eNe(t,d,aNe(b,x.visualElement,f),b,y,e,s)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=E.forwardRef(l);return c[sNe]=t,c}function cNe({layoutId:t}){const e=E.useContext(xI).id;return e&&t!==void 0?e+"-"+t:t}function uNe(t,e){E.useContext(QH).strict}function dNe(t){const e=JH(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function fNe(t,e){if(typeof Proxy>"u")return pC;const n=new Map,r=(s,a)=>pC(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,pC(a,void 0,t,e)),n.get(a))})}const hNe=(t,e)=>e.isSVG??YI(t)?new HEe(e):new FEe(e,{allowProjection:t!==E.Fragment});class mNe extends vc{constructor(e){super(e),e.animationState||(e.animationState=YEe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let pNe=0;class gNe extends vc{constructor(){super(...arguments),this.id=pNe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const yNe={animation:{Feature:mNe},exit:{Feature:gNe}};function Ug(t){return{point:{x:t.pageX,y:t.pageY}}}const vNe=t=>e=>UI(e)&&t(e,Ug(e));function fp(t,e,n,r){return Qp(t,e,vNe(n),r)}const sW=({current:t})=>t?t.ownerDocument.defaultView:null,V3=(t,e)=>Math.abs(t-e);function xNe(t,e){const n=V3(t.x,e.x),r=V3(t.y,e.y);return Math.sqrt(n**2+r**2)}const F3=new Set(["auto","scroll"]);class aW{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=yC(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=xNe(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!b)return;const{point:_}=y,{timestamp:S}=wr;this.history.push({..._,timestamp:S});const{onStart:M,onMove:O}=this.handlers;x||(M&&M(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=gC(x,this.transformPagePoint),tn.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:b,onSessionEnd:_,resumeAnimation:S}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=yC(y.type==="pointercancel"?this.lastMoveEventInfo:gC(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,M),_&&_(y,M)},!UI(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const c=Ug(e),d=gC(c,this.transformPagePoint),{point:f}=d,{timestamp:m}=wr;this.history=[{...f,timestamp:m}];const{onSessionStart:p}=n;p&&p(e,yC(d,this.history)),this.removeListeners=Fg(fp(this.contextWindow,"pointermove",this.handlePointerMove),fp(this.contextWindow,"pointerup",this.handlePointerUp),fp(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(F3.has(r.overflowX)||F3.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),tn.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),ac(this.updatePoint)}}function gC(t,e){return e?{point:e(t.point)}:t}function B3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function yC({point:t},e){return{point:t,delta:B3(t,oW(e)),offset:B3(t,bNe(e)),velocity:wNe(e,.1)}}function bNe(t){return t[0]}function oW(t){return t[t.length-1]}function wNe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=oW(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Bs(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&i.timestamp-r.timestamp>Bs(e)*2&&(r=t[1]);const s=ss(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function _Ne(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?wn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?wn(n,t,r.max):Math.min(t,n)),t}function z3(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ENe(t,{top:e,left:n,bottom:r,right:i}){return{x:z3(t.x,n,i),y:z3(t.y,e,r)}}function U3(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function CNe(t,e){return{x:U3(t.x,e.x),y:U3(t.y,e.y)}}function NNe(t,e){let n=.5;const r=Yr(t),i=Yr(e);return i>r?n=Kp(e.min,e.max-r,t.min):r>i&&(n=Kp(t.min,t.max-i,e.min)),Ua(0,1,n)}function SNe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const lT=.35;function TNe(t=lT){return t===!1?t=0:t===!0&&(t=lT),{x:$3(t,"left","right"),y:$3(t,"top","bottom")}}function $3(t,e,n){return{min:q3(t,e),max:q3(t,n)}}function q3(t,e){return typeof t=="number"?t:t[e]||0}const PNe=new WeakMap;class ANe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{n&&this.snapToCursor(Ug(m).point),this.stopAnimation()},a=(m,p)=>{const{drag:y,dragPropagation:x,onDragStart:b}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=iEe(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),va(S=>{let M=this.getAxisMotionValue(S).get()||0;if(Ma.test(M)){const{projection:O}=this.visualElement;if(O&&O.layout){const z=O.layout.layoutBox[S];z&&(M=Yr(z)*(parseFloat(M)/100))}}this.originPoint[S]=M}),b&&tn.update(()=>b(m,p),!1,!0),eT(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:b,onDrag:_}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:S}=p;if(x&&this.currentDirection===null){this.currentDirection=jNe(S),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),_&&tn.update(()=>_(m,p),!1,!0)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>{const{dragSnapToOrigin:m}=this.getProps();(m||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:f}=this.getProps();this.panSession=new aW(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:sW(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&tn.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Iv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=_Ne(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&af(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=ENe(r.layoutBox,e):this.constraints=!1,this.elastic=TNe(n),i!==this.constraints&&!af(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&va(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=SNe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!af(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=REe(r,i.root,this.visualElement.getTransformPagePoint());let a=CNe(i.layout.layoutBox,s);if(n){const l=n(IEe(a));this.hasMutatedConstraints=!!l,l&&(a=PH(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=va(f=>{if(!Iv(f,n,this.currentDirection))return;let m=c&&c[f]||{};a&&(m={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return eT(this.visualElement,e),r.start(LI(e,r,0,n,this.visualElement,!1))}stopAnimation(){va(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){va(n=>{const{drag:r}=this.getProps();if(!Iv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n],c=s.get()||0;s.set(e[n]-wn(a,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!af(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};va(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=NNe({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),va(a=>{if(!Iv(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(wn(c,d,i[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;PNe.set(this.visualElement,this);const e=this.visualElement.current,n=fp(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps(),p=d.target,y=p!==e&&uEe(p);f&&m&&!y&&this.start(d)});let r;const i=()=>{const{dragConstraints:d}=this.getProps();af(d)&&d.current&&(this.constraints=this.resolveRefConstraints(),r||(r=INe(e,d.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),tn.read(i);const l=Qp(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(va(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=d[m].translate,p.set(p.get()+d[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=lT,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function H3(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function INe(t,e,n){const r=JL(t,H3(n)),i=JL(e,H3(n));return()=>{r(),i()}}function Iv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function jNe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kNe extends vc{constructor(e){super(e),this.removeGroupControls=ls,this.removeListeners=ls,this.controls=new ANe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ls}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const vC=t=>(e,n)=>{t&&tn.update(()=>t(e,n),!1,!0)};class RNe extends vc{constructor(){super(...arguments),this.removePointerDownListener=ls}onPointerDown(e){this.session=new aW(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sW(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:vC(e),onStart:vC(n),onMove:vC(r),onEnd:(s,a)=>{delete this.session,i&&tn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=fp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let xC=!1;class DNe extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),xC&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),u0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,e.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),xC=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||tn.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zI.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;xC=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lW(t){const[e,n]=YH(),r=E.useContext(xI);return o.jsx(DNe,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(rW),isPresent:e,safeToRemove:n})}const ONe={pan:{Feature:RNe},drag:{Feature:kNe,ProjectionNode:XH,MeasureLayout:lW}};function W3(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&tn.postRender(()=>s(e,Ug(e)))}class MNe extends vc{mount(){const{current:e}=this.node;e&&(this.unmount=aEe(e,(n,r)=>(W3(this.node,r,"Start"),i=>W3(this.node,i,"End"))))}unmount(){}}class LNe extends vc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fg(Qp(this.node.current,"focus",()=>this.onFocus()),Qp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function K3(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&tn.postRender(()=>s(e,Ug(e)))}class VNe extends vc{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=fEe(e,(i,s)=>(K3(this.node,s,"Start"),(a,{success:l})=>K3(this.node,a,l?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:r?.tap===!1})}unmount(){}}const cT=new WeakMap,bC=new WeakMap,FNe=t=>{const e=cT.get(t.target);e&&e(t)},BNe=t=>{t.forEach(FNe)};function zNe({root:t,...e}){const n=t||document;bC.has(n)||bC.set(n,{});const r=bC.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(BNe,{root:t,...e})),r[i]}function UNe(t,e,n){const r=zNe(e);return cT.set(t,n),r.observe(t),()=>{cT.delete(t),r.unobserve(t)}}const $Ne={some:0,all:1};class qNe extends vc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$Ne[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),p=d?f:m;p&&p(c)};return UNe(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(HNe(e,n))&&this.startObserver()}unmount(){}}function HNe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const WNe={inView:{Feature:qNe},tap:{Feature:VNe},focus:{Feature:LNe},hover:{Feature:MNe}},KNe={layout:{ProjectionNode:XH,MeasureLayout:lW}},GNe={...yNe,...WNe,...ONe,...KNe},Ye=fNe(GNe,hNe),jv=[{id:1,label:"Validando dados",duration:1500},{id:2,label:"Gerando nmero da conta",duration:2e3},{id:3,label:"Configurando segurana",duration:1800},{id:4,label:"Finalizando abertura",duration:1500}];function XNe({isOpen:t,countryName:e,onComplete:n}){const[r,i]=E.useState(0),[s,a]=E.useState([]);return E.useEffect(()=>{if(!t){i(0),a([]);return}let l;return(async()=>{for(let d=0;d<jv.length;d++)i(d),await new Promise(f=>{l=setTimeout(f,jv[d].duration)}),a(f=>[...f,d]);await new Promise(d=>{l=setTimeout(d,500)}),n()})(),()=>{l&&clearTimeout(l)}},[t,n]),t?_b.createPortal(o.jsx(_w,{children:o.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-6",children:[o.jsx(Ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/90 backdrop-blur-md"}),o.jsxs(Ye.div,{initial:{opacity:0,scale:.8,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:40},transition:{type:"spring",duration:.5},className:"relative bg-zinc-900/95 backdrop-blur-xl rounded-3xl p-10 w-full max-w-md border border-white/20 shadow-[0_20px_100px_rgba(0,0,0,0.9)]",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-white/20 to-white/5 flex items-center justify-center border border-white/20",children:o.jsx(Ye.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:o.jsx(f0,{className:"w-8 h-8 text-white"})})}),o.jsx("h3",{className:"text-xl text-white mb-2",children:"Abrindo Conta"}),o.jsxs("p",{className:"text-sm text-white/60",children:["Configurando sua conta de ",e]})]}),o.jsx("div",{className:"space-y-4 mb-8",children:jv.map((l,c)=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-all ${r>c?"bg-green-500/20 border-2 border-green-500":r===c?"bg-white/20 border-2 border-white animate-pulse":"bg-white/5 border-2 border-white/20"}`,children:r>c?o.jsx(An,{className:"w-5 h-5 text-green-500"}):o.jsx("span",{className:"text-sm text-white",children:c+1})}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:`text-sm transition-all ${r>c?"text-green-400":r===c?"text-white":"text-white/40"}`,children:l.label})})]},l.id))}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-xs text-white/40",children:[s.length," de ",jv.length," etapas concludas"]})})]})]})}),document.body):null}const YNe=async(t,e,n,r,i)=>{try{console.log(" Criando chaves PIX automticas para conta BRL...");const s=it(Ee,"pixKeys"),a=It(s,Et("userId","==",t),Et("accountId","==",e));if(!(await Pt(a)).empty){console.log(" Chaves PIX j existem para esta conta");return}await zi(s,{userId:t,accountId:e,accountNumber:n,currency:"BRL",country:"BR",keyType:"email",keyValue:r,createdAt:new Date}),console.log(" Chave PIX (email) criada:",r),await zi(s,{userId:t,accountId:e,accountNumber:n,currency:"BRL",country:"BR",keyType:"phone",keyValue:i,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",i)}catch(s){console.error(" Erro ao criar chaves PIX automticas:",s)}},G3=({code:t})=>o.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800",children:o.jsx("img",{src:`https://flagcdn.com/w40/${t.toLowerCase()}.png`,alt:t,className:"w-full h-full object-cover"})});function QNe({onNavigate:t}){const{user:e}=Vt(),[n,r]=E.useState(""),[i,s]=E.useState(!1),[a,l]=E.useState(null),[c,d]=E.useState([]),[f,m]=E.useState(!0),[p,y]=E.useState(!1),[x,b]=E.useState(!1),[_,S]=E.useState(!1),[M,O]=E.useState("");E.useEffect(()=>{if(!e)return;(async()=>{try{const j=it(Ee,"bankAccounts"),D=It(j,Et("userId","==",e.uid)),B=(await Pt(D)).docs.map($=>({...$.data(),id:$.id,createdAt:$.data().createdAt?.toDate()||new Date}));d(B),b(!1)}catch(j){console.error(" Erro ao carregar contas:",j),j?.code==="permission-denied"&&b(!0)}finally{m(!1)}})()},[e]);const I=lv().filter(A=>!c.some(j=>j.country===A.code)).filter(A=>A.name.toLowerCase().includes(n.toLowerCase())||A.code.toLowerCase().includes(n.toLowerCase())||A.currency.toLowerCase().includes(n.toLowerCase())),P=A=>{O(A),S(!0)},C=async()=>{if(!(!e||!M)){S(!1),y(!0);try{const A=it(Ee,"bankAccounts"),j=It(A,Et("userId","==",e.uid),Et("country","==",M));if(!(await Pt(j)).empty){console.log(" Conta j existe para:",M);const Y=lv().find(Z=>Z.code===M)?.name||M;Me.error("Conta j existe",{description:`Voc j possui uma conta bancria de ${Y}. No  possvel criar mais de uma conta por pas.`,duration:4e3}),r(""),s(!1),y(!1);return}const L=uU(M),B=await zi(A,{...L,userId:e.uid,createdAt:new Date}),$={...L,id:B.id,createdAt:new Date};if(d(Y=>[...Y,$]),r(""),s(!1),console.log(" Conta criada com sucesso para:",M),Me.success("Conta criada",{description:`Conta bancria de ${lv().find(Y=>Y.code===M)?.name} criada com sucesso!`,duration:3e3}),M==="BR"){const Y=lt(Ee,"users",e.uid),k=(await cs(Y)).data();k?.email&&k?.phone?(await YNe(e.uid,B.id,L.accountNumber,k.email,k.phone),console.log(" Chaves PIX criadas automaticamente!"),setTimeout(()=>{Me.success("Chaves PIX criadas!",{description:"Suas chaves PIX (email e telefone) foram configuradas automaticamente.",duration:4e3})},1500)):console.log(" Email ou telefone no encontrado no perfil do usurio")}setTimeout(()=>{t("home")},1e3)}catch(A){console.error(" Erro ao adicionar conta:",A),Me.error("Erro ao criar conta",{description:"No foi possvel criar a conta bancria. Tente novamente.",duration:3e3})}finally{y(!1)}}},N=async A=>{if(!A){Me.error("Erro",{description:"ID da conta no encontrado.",duration:3e3});return}if(window.confirm(`Tem certeza que deseja encerrar esta conta?

Esta ao no pode ser desfeita e voc perder todos os dados desta conta bancria.`))try{await Ou(lt(Ee,"bankAccounts",A)),d(D=>D.filter(L=>L.id!==A)),l(null),Me.success("Conta encerrada",{description:"A conta bancria foi encerrada com sucesso.",duration:3e3}),console.log(" Conta deletada com sucesso:",A)}catch(D){console.error(" Erro ao deletar conta:",D),D?.code==="permission-denied"?Me.error(" Regras do Firestore no configuradas",{description:"Voc precisa atualizar as regras do Firestore. Consulte o arquivo /GUIA_FIRESTORE.md para instrues detalhadas.",duration:8e3}):Me.error("Erro ao encerrar conta",{description:"No foi possvel encerrar a conta. Tente novamente.",duration:3e3})}};return a?o.jsx(t1e,{account:a,onBack:()=>l(null),onDelete:N}):o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"sticky top-0 z-20 backdrop-blur-lg bg-black/80 border-b border-white/5",children:o.jsx("div",{className:"px-6 py-4 flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-zinc-900 transition-colors",children:o.jsx(qx,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl",children:"Contas"}),o.jsx("p",{className:"text-sm text-white/50",children:"Gerencie suas contas bancrias"})]})]})})}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("h1",{className:"text-xl mb-6",children:"Dados da conta"}),f&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"w-8 h-8 border-3 border-zinc-700 border-t-white rounded-full animate-spin"})}),x&&!f&&o.jsx("div",{className:"bg-red-900/20 border border-red-800 rounded-2xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(zl,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-red-500 mb-1",children:"Erro de permisso"}),o.jsx("p",{className:"text-sm text-gray-300",children:"Verifique se as regras do Firestore foram configuradas corretamente. Consulte o arquivo /FIRESTORE_RULES.txt"})]})]})}),!f&&c.length>0&&o.jsx("div",{className:"bg-zinc-900 rounded-3xl overflow-hidden mb-6",children:c.map((A,j)=>o.jsxs("div",{children:[o.jsxs("button",{className:"w-full px-4 py-4 flex items-center justify-between hover:bg-zinc-800 transition-colors",onClick:()=>l(A),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(G3,{code:A.flagCode}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-semibold",children:A.countryName}),o.jsx("p",{className:"text-sm text-gray-400",children:A.currency})]})]}),o.jsx(as,{className:"w-5 h-5 text-gray-400"})]}),j<c.length-1&&o.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},A.id))}),o.jsx("div",{className:"bg-zinc-900 rounded-3xl overflow-hidden",children:I.map((A,j)=>o.jsxs("div",{children:[o.jsxs("div",{className:"px-4 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(G3,{code:A.flag}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-semibold",children:A.name}),o.jsx("p",{className:"text-sm text-gray-400",children:A.currency})]})]}),o.jsx("button",{className:"px-5 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-full text-sm font-semibold transition-colors disabled:opacity-50",onClick:()=>P(A.code),disabled:p,children:p?"Criando...":"Adicionar"})]}),j<I.length-1&&o.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},A.code))})]}),o.jsx(XNe,{isOpen:_,countryName:lv().find(A=>A.code===M)?.name||"",onComplete:C})]})}function JNe({onNavigate:t}){const[e,n]=E.useState(!1),[r,i]=E.useState(!0),{userData:s}=Vt(),{t:a}=ei(),l=[{title:"Autenticao",items:[{icon:Ml,label:"Alterar senha",description:"ltima alterao h 3 meses",action:()=>t("changePassword"),type:"button"},{icon:rs,label:"Autenticao de dois fatores",description:"Adicione uma camada extra de segurana",action:()=>n(!e),type:"toggle",enabled:e}]},{title:"Notificaes de segurana",items:[{icon:Tf,label:"Alertas por e-mail",description:"Receba notificaes de atividades suspeitas",action:()=>i(!r),type:"toggle",enabled:r},{icon:iN,label:"Atividades recentes",description:"Veja dispositivos e acessos recentes",action:()=>{},type:"button"}]},{title:"Privacidade",items:[{icon:fu,label:"Dispositivos conectados",description:"3 dispositivos ativos",action:()=>{},type:"button"},{icon:uG,label:"Sesses ativas",description:"Gerencie suas sesses",action:()=>{},type:"button"}]}];return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Ct,{className:"w-5 h-5 font-light"})}),o.jsx("h1",{className:"text-xl",children:a.security})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Eu,{className:"w-5 h-5 text-green-500 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"mb-1",children:a.yourAccountProtected}),o.jsx("p",{className:"text-sm text-gray-400",children:a.keepInfoSecure})]})]})}),o.jsx("div",{className:"space-y-6",children:l.map((c,d)=>o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs text-gray-400 mb-2 px-1",children:c.title}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl overflow-hidden shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:c.items.map((f,m)=>{const p=f.icon;return o.jsxs("div",{children:[o.jsxs("button",{onClick:f.action,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/10 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx(p,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"text-white",children:f.label}),o.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:f.description})]})]}),f.type==="toggle"?o.jsx("div",{className:`w - 12 h - 6 rounded - full transition - colors ${f.enabled?"bg-green-500":"bg-zinc-700"} `,children:o.jsx("div",{className:`w - 5 h - 5 bg - white rounded - full mt - 0.5 transition - transform ${f.enabled?"translate-x-6":"translate-x-0.5"} `})}):o.jsx(as,{className:"w-5 h-5 text-gray-400"})]}),m<c.items.length-1&&o.jsx("div",{className:"h-px bg-white/10 mx-4"})]},f.label)})})]},d))}),o.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsxs("h4",{className:"mb-2 flex items-center gap-2",children:[o.jsx(Eu,{className:"w-4 h-4 text-green-500"}),"Dicas de segurana"]}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:"Use uma senha forte e nica"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:"Ative a autenticao de dois fatores"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:"Nunca compartilhe suas credenciais"})]})]})]})]})]})}function ZNe({onNavigate:t}){const[e,n]=E.useState(""),[r,i]=E.useState(""),[s,a]=E.useState(""),[l,c]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(!1),[y,x]=E.useState(!1),[b,_]=E.useState(""),[S,M]=E.useState(!1),z=(C=>({length:C.length>=8,uppercase:/[A-Z]/.test(C),lowercase:/[a-z]/.test(C),number:/[0-9]/.test(C),special:/[!@#$%^&*(),.?":{}|<>]/.test(C)}))(r),I=Object.values(z).every(Boolean),P=async()=>{if(!e||!r||!s){_("Preencha todos os campos");return}if(r!==s){_("As senhas no coincidem");return}if(!I){_("A nova senha no atende aos requisitos de segurana");return}if(r===e){_("A nova senha deve ser diferente da senha atual");return}x(!0),_("");try{const C=bn.currentUser;if(!C||!C.email)throw new Error("Usurio no autenticado");const N=Zu.credential(C.email,e);await $te(C,N),await qz(C,r),M(!0),n(""),i(""),a(""),setTimeout(()=>{t("security")},2e3)}catch(C){console.error("Erro ao alterar senha:",C),C.code==="auth/wrong-password"?_("Senha atual incorreta"):C.code==="auth/weak-password"?_("A nova senha  muito fraca"):C.code==="auth/requires-recent-login"?_("Por segurana, faa login novamente antes de alterar a senha"):C.code==="auth/network-request-failed"?_("Erro de conexo. Verifique sua internet"):_("Erro ao alterar senha. Tente novamente")}finally{x(!1)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("security"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Ct,{className:"w-5 h-5 font-light"})}),o.jsx("h1",{className:"text-xl",children:"Alterar senha"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[S&&o.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(An,{className:"w-5 h-5 text-green-500 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-green-500 mb-1",children:"Senha alterada com sucesso!"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Redirecionando..."})]})]})}),b&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(zl,{className:"w-5 h-5 text-red-500 mt-0.5"}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"text-sm text-red-400",children:b})})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Senha atual"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:o.jsx(Ml,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:l?"text":"password",value:e,onChange:C=>n(C.target.value),placeholder:"Digite sua senha atual",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||S}),o.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||S,children:l?o.jsx(gf,{className:"w-5 h-5"}):o.jsx(fu,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Nova senha"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:o.jsx(Ml,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:d?"text":"password",value:r,onChange:C=>i(C.target.value),placeholder:"Digite sua nova senha",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||S}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||S,children:d?o.jsx(gf,{className:"w-5 h-5"}):o.jsx(fu,{className:"w-5 h-5"})})]}),r&&o.jsxs("div",{className:"mt-3 p-3 bg-white/5 backdrop-blur-md border border-white/10 rounded-xl",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Requisitos da senha:"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.length?"text-green-500":"text-gray-500"}`,children:[o.jsx(An,{className:"w-3 h-3"}),"Mnimo de 8 caracteres"]}),o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.uppercase?"text-green-500":"text-gray-500"}`,children:[o.jsx(An,{className:"w-3 h-3"}),"Letra maiscula (A-Z)"]}),o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.lowercase?"text-green-500":"text-gray-500"}`,children:[o.jsx(An,{className:"w-3 h-3"}),"Letra minscula (a-z)"]}),o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.number?"text-green-500":"text-gray-500"}`,children:[o.jsx(An,{className:"w-3 h-3"}),"Nmero (0-9)"]}),o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.special?"text-green-500":"text-gray-500"}`,children:[o.jsx(An,{className:"w-3 h-3"}),"Caractere especial (!@#$%...)"]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Confirmar nova senha"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:o.jsx(Ml,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:m?"text":"password",value:s,onChange:C=>a(C.target.value),placeholder:"Confirme sua nova senha",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||S}),o.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||S,children:m?o.jsx(gf,{className:"w-5 h-5"}):o.jsx(fu,{className:"w-5 h-5"})})]}),s&&r!==s&&o.jsx("p",{className:"text-xs text-red-400 mt-2",children:"As senhas no coincidem"})]}),o.jsx("button",{onClick:P,disabled:y||S||!e||!r||!s||!I||r!==s,className:"w-full bg-white text-black py-4 rounded-2xl disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 transition-colors active:scale-95",children:y?"Alterando senha...":"Alterar senha"})]}),o.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl",children:[o.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm",children:[o.jsx(Ml,{className:"w-4 h-4 text-gray-400"}),"Dicas de segurana"]}),o.jsxs("ul",{className:"space-y-2 text-xs text-gray-400",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),o.jsx("span",{children:"Nunca compartilhe sua senha com ningum"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),o.jsx("span",{children:"Use uma senha nica para cada servio"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),o.jsx("span",{children:"Considere usar um gerenciador de senhas"})]})]})]})]})]})}function Nr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function eSe(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const kv=43200,X3=1440;let tSe={};function nSe(){return tSe}function Y3(t){const e=Nr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function d0(t,e){const n=Nr(t),r=Nr(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function rSe(t){return eSe(t,Date.now())}function iSe(t,e){const n=Nr(t),r=Nr(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function sSe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function aSe(t,e){return+Nr(t)-+Nr(e)}function oSe(t){const e=Nr(t);return e.setHours(23,59,59,999),e}function lSe(t){const e=Nr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function cSe(t){const e=Nr(t);return+oSe(e)==+lSe(e)}function uSe(t,e){const n=Nr(t),r=Nr(e),i=d0(n,r),s=Math.abs(iSe(n,r));let a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let l=d0(n,r)===-i;cSe(Nr(t))&&s===1&&d0(t,r)===1&&(l=!1),a=i*(s-Number(l))}return a===0?0:a}function dSe(t,e,n){const r=aSe(t,e)/1e3;return sSe(n?.roundingMethod)(r)}const fSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hSe=(t,e,n)=>{let r;const i=fSe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Sf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const mSe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pSe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gSe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ySe={date:Sf({formats:mSe,defaultWidth:"full"}),time:Sf({formats:pSe,defaultWidth:"full"}),dateTime:Sf({formats:gSe,defaultWidth:"full"})},vSe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xSe=(t,e,n,r)=>vSe[t];function Ca(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const bSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_Se={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ESe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},NSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SSe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},TSe={ordinalNumber:SSe,era:Ca({values:bSe,defaultWidth:"wide"}),quarter:Ca({values:wSe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ca({values:_Se,defaultWidth:"wide"}),day:Ca({values:ESe,defaultWidth:"wide"}),dayPeriod:Ca({values:CSe,defaultWidth:"wide",formattingValues:NSe,defaultFormattingWidth:"wide"})};function Na(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?ASe(l,m=>m.test(a)):PSe(l,m=>m.test(a));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(a.length);return{value:d,rest:f}}}function PSe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function ASe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function cW(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const ISe=/^(\d+)(th|st|nd|rd)?/i,jSe=/\d+/i,kSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},RSe={any:[/^b/i,/^(a|c)/i]},DSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},OSe={any:[/1/i,/2/i,/3/i,/4/i]},MSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},LSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},VSe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},FSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},USe={ordinalNumber:cW({matchPattern:ISe,parsePattern:jSe,valueCallback:t=>parseInt(t,10)}),era:Na({matchPatterns:kSe,defaultMatchWidth:"wide",parsePatterns:RSe,defaultParseWidth:"any"}),quarter:Na({matchPatterns:DSe,defaultMatchWidth:"wide",parsePatterns:OSe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Na({matchPatterns:MSe,defaultMatchWidth:"wide",parsePatterns:LSe,defaultParseWidth:"any"}),day:Na({matchPatterns:VSe,defaultMatchWidth:"wide",parsePatterns:FSe,defaultParseWidth:"any"}),dayPeriod:Na({matchPatterns:BSe,defaultMatchWidth:"any",parsePatterns:zSe,defaultParseWidth:"any"})},$Se={code:"en-US",formatDistance:hSe,formatLong:ySe,formatRelative:xSe,localize:TSe,match:USe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qSe(t,e,n){const r=nSe(),i=n?.locale??r.locale??$Se,s=2520,a=d0(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:a});let c,d;a>0?(c=Nr(e),d=Nr(t)):(c=Nr(t),d=Nr(e));const f=dSe(d,c),m=(Y3(d)-Y3(c))/1e3,p=Math.round((f-m)/60);let y;if(p<2)return n?.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,l):f<10?i.formatDistance("lessThanXSeconds",10,l):f<20?i.formatDistance("lessThanXSeconds",20,l):f<40?i.formatDistance("halfAMinute",0,l):f<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):p===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",p,l);if(p<45)return i.formatDistance("xMinutes",p,l);if(p<90)return i.formatDistance("aboutXHours",1,l);if(p<X3){const x=Math.round(p/60);return i.formatDistance("aboutXHours",x,l)}else{if(p<s)return i.formatDistance("xDays",1,l);if(p<kv){const x=Math.round(p/X3);return i.formatDistance("xDays",x,l)}else if(p<kv*2)return y=Math.round(p/kv),i.formatDistance("aboutXMonths",y,l)}if(y=uSe(d,c),y<12){const x=Math.round(p/kv);return i.formatDistance("xMonths",x,l)}else{const x=y%12,b=Math.trunc(y/12);return x<3?i.formatDistance("aboutXYears",b,l):x<9?i.formatDistance("overXYears",b,l):i.formatDistance("almostXYears",b+1,l)}}function HSe(t,e){return qSe(t,rSe(t),e)}const WSe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},KSe=(t,e,n)=>{let r;const i=WSe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},GSe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},XSe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},YSe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QSe={date:Sf({formats:GSe,defaultWidth:"full"}),time:Sf({formats:XSe,defaultWidth:"full"}),dateTime:Sf({formats:YSe,defaultWidth:"full"})},JSe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},ZSe=(t,e,n,r)=>{const i=JSe[t];return typeof i=="function"?i(e):i},eTe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},tTe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},nTe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},rTe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},iTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},sTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},aTe=(t,e)=>{const n=Number(t);return e?.unit==="week"?n+"":n+""},oTe={ordinalNumber:aTe,era:Ca({values:eTe,defaultWidth:"wide"}),quarter:Ca({values:tTe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ca({values:nTe,defaultWidth:"wide"}),day:Ca({values:rTe,defaultWidth:"wide"}),dayPeriod:Ca({values:iTe,defaultWidth:"wide",formattingValues:sTe,defaultFormattingWidth:"wide"})},lTe=/^(\d+)[o]?/i,cTe=/\d+/i,uTe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},dTe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},fTe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},hTe={any:[/1/i,/2/i,/3/i,/4/i]},mTe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},pTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},gTe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},yTe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},vTe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},xTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},bTe={ordinalNumber:cW({matchPattern:lTe,parsePattern:cTe,valueCallback:t=>parseInt(t,10)}),era:Na({matchPatterns:uTe,defaultMatchWidth:"wide",parsePatterns:dTe,defaultParseWidth:"any"}),quarter:Na({matchPatterns:fTe,defaultMatchWidth:"wide",parsePatterns:hTe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Na({matchPatterns:mTe,defaultMatchWidth:"wide",parsePatterns:pTe,defaultParseWidth:"any"}),day:Na({matchPatterns:gTe,defaultMatchWidth:"wide",parsePatterns:yTe,defaultParseWidth:"any"}),dayPeriod:Na({matchPatterns:vTe,defaultMatchWidth:"any",parsePatterns:xTe,defaultParseWidth:"any"})},wTe={code:"pt-BR",formatDistance:KSe,formatLong:QSe,formatRelative:ZSe,localize:oTe,match:bTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _Te({onNavigate:t}){const{user:e}=Vt(),[n,r]=E.useState("all"),[i,s]=E.useState([]),[a,l]=E.useState(!0);E.useEffect(()=>{c()},[e]);const c=async()=>{if(e)try{l(!0);const b=await Wwe(e.uid);s(b)}catch(b){console.error("Error loading notifications:",b)}finally{l(!1)}},d=(b,_)=>b==="transaction"?_?.type==="deposit"?Fi:_?.type==="withdrawal"?Cu:_?.type==="conversion"?eF:Fi:b==="security"?Eu:b==="alert"?zl:b==="info"?Hx:Xm,f=[{label:"Todas",value:"all"},{label:"Transaes",value:"transactions"},{label:"Segurana",value:"security"},{label:"Atualizaes",value:"updates"}],m=i.filter(b=>n==="all"?!0:n==="transactions"?b.type==="transaction":n==="security"?b.type==="security":n==="updates"?b.type==="info"||b.type==="alert":!0),p=i.filter(b=>!b.read).length,y=async b=>{try{await Kwe(b),s(i.map(_=>_.id===b?{..._,read:!0}:_))}catch(_){console.error("Error marking notification as read:",_)}},x=async()=>{if(e)try{await Gwe(e.uid),s(i.map(b=>({...b,read:!0})))}catch(b){console.error("Error marking all notifications as read:",b)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold",children:"Notificaes"}),p>0&&o.jsxs("p",{className:"text-xs text-gray-400",children:[p," no lida",p>1?"s":""]})]})]}),p>0&&o.jsx("button",{onClick:x,className:"text-sm text-white/70 hover:text-white transition-colors",children:"Marcar todas"})]}),o.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar snap-x snap-mandatory",children:f.map(b=>o.jsx("button",{onClick:()=>r(b.value),className:`px-4 py-2 rounded-full whitespace-nowrap transition-colors snap-start flex-shrink-0 ${n===b.value?"bg-white text-black":"bg-zinc-900 text-gray-400 hover:bg-zinc-800"}`,children:b.label},b.value))})]}),o.jsx("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:a?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-900 flex items-center justify-center mb-4",children:o.jsx(Xm,{className:"w-8 h-8 text-gray-600"})}),o.jsx("h3",{className:"font-semibold mb-2",children:"Carregando..."}),o.jsx("p",{className:"text-sm text-gray-400 text-center",children:"Aguarde enquanto carregamos suas notificaes"})]}):m.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-900 flex items-center justify-center mb-4",children:o.jsx(Xm,{className:"w-8 h-8 text-gray-600"})}),o.jsx("h3",{className:"font-semibold mb-2",children:"Nenhuma notificao"}),o.jsx("p",{className:"text-sm text-gray-400 text-center",children:"Voc no tem notificaes nesta categoria"})]}):o.jsx("div",{className:"space-y-2",children:m.map(b=>{const _=d(b.type,b.metadata),S=b.read?"text-white/70":"text-white";return o.jsx("button",{onClick:()=>y(b.id),className:`w-full p-4 rounded-2xl transition-colors text-left ${b.read?"bg-zinc-900/50 hover:bg-zinc-900":"bg-zinc-900 hover:bg-zinc-800"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center flex-shrink-0",children:o.jsx(_,{className:`w-5 h-5 ${S}`})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[o.jsx("h3",{className:`font-semibold ${b.read?"text-gray-300":"text-white"}`,children:b.title}),!b.read&&o.jsx("div",{className:"w-2 h-2 rounded-full bg-white flex-shrink-0 mt-1.5"})]}),o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:b.message}),o.jsx("p",{className:"text-xs text-gray-500",children:HSe(new Date(b.timestamp),{locale:wTe,addSuffix:!0})})]})]})},b.id)})})}),o.jsx("div",{className:"px-6 pb-6 space-y-3",children:o.jsxs("button",{onClick:()=>t("pushSettings"),className:"w-full py-3 rounded-2xl bg-zinc-900 hover:bg-zinc-800 transition-colors text-sm flex items-center justify-center gap-2",children:[o.jsx(rs,{className:"w-4 h-4"}),o.jsx("span",{children:"Configuraes de notificaes push"})]})})]})}function ETe({onNavigate:t}){const[e,n]=E.useState(!0),[r,i]=E.useState(!0),[s,a]=E.useState(!0),[l,c]=E.useState(!0),[d,f]=E.useState(!0),[m,p]=E.useState(!0),[y,x]=E.useState(!0),[b,_]=E.useState(!1),[S,M]=E.useState(!1),O=[{title:"Geral",items:[{icon:Xm,label:"Ativar notificaes push",description:"Receber todas as notificaes no dispositivo",value:e,onChange:n,main:!0}]},{title:"Transaes",items:[{icon:Fi,label:"Todas as transaes",description:"Notificaes de todas as movimentaes",value:r,onChange:i,disabled:!e},{icon:Fi,label:"Depsitos",description:"Quando voc receber fundos",value:s,onChange:a,disabled:!e||!r,nested:!0},{icon:Cu,label:"Saques",description:"Quando processar uma retirada",value:l,onChange:c,disabled:!e||!r,nested:!0}]},{title:"Segurana",items:[{icon:Eu,label:"Alertas de segurana",description:"Todas as notificaes de segurana",value:d,onChange:f,disabled:!e},{icon:rs,label:"Novos dispositivos",description:"Login em um novo dispositivo",value:m,onChange:p,disabled:!e||!d,nested:!0},{icon:zl,label:"Atividades suspeitas",description:"Tentativas de acesso no autorizadas",value:y,onChange:x,disabled:!e||!d,nested:!0}]},{title:"Mercado",items:[{icon:lG,label:"Alertas de preo",description:"Quando seus ativos atingirem metas",value:b,onChange:_,disabled:!e},{icon:Tf,label:"Notcias do mercado",description:"Atualizaes importantes do mercado",value:S,onChange:M,disabled:!e}]}];return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"px-6 pt-6 pb-4",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>t("notifications"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:"Notificaes push"})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(rs,{className:"w-5 h-5 text-white/70 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Mantenha-se informado"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Personalize suas notificaes para receber apenas as informaes mais importantes"})]})]})}),o.jsx("div",{className:"space-y-6",children:O.map((z,I)=>o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs text-gray-400 font-semibold mb-2 px-1",children:z.title}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl overflow-hidden",children:z.items.map((P,C)=>{const N=P.icon,A=P.disabled||!1;return o.jsxs("div",{children:[o.jsx("div",{className:`px-4 py-3 ${P.nested?"pl-12":""} ${A?"opacity-50":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx(N,{className:"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:P.label}),o.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:P.description})]})]}),o.jsx("button",{onClick:()=>!A&&P.onChange(!P.value),disabled:A,className:`w-12 h-6 rounded-full transition-colors flex-shrink-0 ml-3 ${A?"cursor-not-allowed":""} ${P.value&&!A?"bg-white/20":"bg-zinc-700"}`,children:o.jsx("div",{className:`w-5 h-5 bg-white rounded-full mt-0.5 transition-transform ${P.value?"translate-x-6":"translate-x-0.5"}`})})]})}),C<z.items.length-1&&o.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},P.label)})})]},I))}),o.jsx("div",{className:"mt-6 p-4 bg-zinc-900 rounded-2xl",children:o.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[o.jsx("strong",{className:"text-white",children:"Dica:"})," Algumas notificaes de segurana no podem ser desativadas para manter sua conta protegida."]})})]})]})}function CTe({onNavigate:t}){const[e,n]=E.useState("options"),[r,i]=E.useState(""),[s,a]=E.useState(""),[l,c]=E.useState(""),[d,f]=E.useState([]),[m,p]=E.useState(3),[y,x]=E.useState(null),[b,_]=E.useState(!1),S=E.useRef(null);E.useEffect(()=>{S.current?.scrollIntoView({behavior:"smooth"})},[d,b]);const M=[{question:"Como fazer um depsito?",answer:'Para fazer um depsito, v at a aba "Carteira", selecione a criptomoeda desejada e clique em "Depositar". Voc receber um endereo nico para enviar seus fundos. Certifique-se de usar a rede correta para evitar perda de fundos.'},{question:"Como sacar criptomoedas?",answer:'Na aba "Carteira", selecione a moeda que deseja sacar e clique em "Sacar". Insira o endereo de destino, escolha a rede blockchain e o valor. Confirme a transao com seu cdigo de segurana. O processamento pode levar de alguns minutos a horas dependendo da rede.'},{question:"Taxas de transao",answer:"As taxas variam de acordo com a criptomoeda e a rede blockchain utilizada. Depsitos so gratuitos. Para saques, as taxas so dinmicas e baseadas no congestionamento da rede. Voc sempre ver a taxa exata antes de confirmar qualquer transao."},{question:"Segurana da conta",answer:"Sua segurana  nossa prioridade. Recomendamos ativar a autenticao de dois fatores (2FA), usar senha forte e nica, e nunca compartilhar suas credenciais. Todas as transaes exigem confirmao adicional e seus fundos so protegidos com criptografia de nvel bancrio."}],O=()=>{r&&s&&(alert("E-mail enviado com sucesso! Nossa equipe responder em breve."),i(""),a(""),n("options"))},z=()=>{n("waiting"),setTimeout(()=>{p(2)},3e3),setTimeout(()=>{p(1)},6e3),setTimeout(()=>{f([{sender:"system",text:"Voc foi conectado com um agente",time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})},{sender:"agent",text:"Ol! Sou o agente Carlos. Como posso ajud-lo hoje?",time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}]),n("chatActive")},9e3)},I=()=>{if(l.trim()){const j={sender:"user",text:l,time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};f([...d,j]),c(""),_(!0),setTimeout(()=>{const D={sender:"agent",text:"Entendi sua questo. Vou verificar isso para voc.",time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};f(L=>[...L,D]),_(!1)},4e3)}},P=()=>o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Como podemos ajudar?"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Escolha a melhor forma de entrar em contato com nossa equipe de suporte"})]}),o.jsx("button",{onClick:()=>n("email"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(Tf,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Enviar e-mail"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Envie sua dvida por e-mail e receba resposta em at 24 horas"})]})]})}),o.jsx("button",{onClick:z,className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(pG,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Chat ao vivo"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Converse com um agente em tempo real"}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-xs text-green-500",children:"Disponvel agora"})]})]})]})}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("h3",{className:"font-semibold mb-3 text-sm",children:"Perguntas frequentes"}),o.jsx("div",{className:"space-y-2",children:M.map((j,D)=>o.jsxs("div",{children:[o.jsx("button",{onClick:()=>x(y===D?null:D),className:"w-full text-left text-sm text-gray-400 hover:text-white transition-colors py-2",children:j.question}),y===D&&o.jsx("div",{className:"mt-2 mb-2 bg-black rounded-xl p-3",children:o.jsx("p",{className:"text-xs text-gray-400",children:j.answer})})]},D))})]})]}),C=()=>o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Enviar e-mail"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Preencha os campos abaixo e nossa equipe responder em breve"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Assunto"}),o.jsx("input",{type:"text",value:r,onChange:j=>i(j.target.value),placeholder:"Digite o assunto",className:"w-full bg-zinc-900 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Mensagem"}),o.jsx("textarea",{value:s,onChange:j=>a(j.target.value),placeholder:"Descreva sua dvida ou problema",rows:6,className:"w-full bg-zinc-900 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>n("options"),className:"flex-1 py-3 rounded-xl bg-zinc-900 hover:bg-zinc-800 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:O,disabled:!r||!s,className:"flex-1 py-3 rounded-xl bg-green-500 hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Enviar"})]})]})]}),N=()=>o.jsx("div",{className:"px-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4",children:o.jsx(hp,{className:"w-8 h-8 text-green-500 animate-pulse"})}),o.jsx("h2",{className:"font-semibold mb-2",children:"Aguardando atendimento"}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Voc est na fila. Em breve um agente estar disponvel."}),o.jsxs("div",{className:"bg-black rounded-xl p-4 mb-4",children:[o.jsx("div",{className:"text-3xl font-bold text-green-500 mb-1",children:m}),o.jsx("div",{className:"text-xs text-gray-400",children:"pessoas  sua frente"})]}),o.jsx("button",{onClick:()=>n("options"),className:"w-full py-3 rounded-xl bg-zinc-800 hover:bg-zinc-700 transition-colors",children:"Cancelar"})]})}),A=()=>o.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)]",children:[o.jsx("div",{className:"px-6 pb-4 bg-zinc-900 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center gap-3 py-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center",children:o.jsx(pT,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm",children:"Agente Carlos"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-xs text-gray-400",children:"Online"})]})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4 hide-scrollbar min-h-0",children:[d.map((j,D)=>o.jsx("div",{children:j.sender==="system"?o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-xs text-gray-500 bg-zinc-900 px-3 py-1 rounded-full",children:j.text})}):o.jsx("div",{className:`flex ${j.sender==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[75%] ${j.sender==="user"?"bg-white text-black":"bg-zinc-900"} rounded-2xl px-4 py-2.5`,children:[o.jsx("p",{className:"text-xs",children:j.text}),o.jsx("span",{className:"text-[10px] opacity-70 mt-1 block",children:j.time})]})})},D)),b&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"max-w-[75%] bg-zinc-900 rounded-2xl px-4 py-3 flex items-center gap-1",children:[o.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms",animationDuration:"1s"}}),o.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms",animationDuration:"1s"}}),o.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms",animationDuration:"1s"}})]})}),o.jsx("div",{ref:S})]}),o.jsx("div",{className:"px-6 pb-6 pt-4 border-t border-zinc-900 flex-shrink-0",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:l,onChange:j=>c(j.target.value),onKeyPress:j=>j.key==="Enter"&&I(),placeholder:"Digite sua mensagem...",className:"flex-1 bg-zinc-900 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-500"}),o.jsx("button",{onClick:I,disabled:!l.trim(),className:"w-12 h-12 rounded-xl bg-white hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o.jsx(xG,{className:"w-5 h-5 text-black"})})]})})]});return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"px-6 pt-6 pb-4",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>e==="options"?t("profile"):n("options"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:"Central de Ajuda"})]})}),o.jsxs("div",{className:"flex-1 pb-24",children:[e==="options"&&P(),e==="email"&&C(),e==="waiting"&&N(),e==="chatActive"&&A()]})]})}function NTe({onNavigate:t}){return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx("header",{className:"px-6 pt-6 pb-4 sticky top-0 bg-black z-10",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:"Termos de Uso"})]})}),o.jsxs("div",{className:"px-6 pb-24 space-y-6",children:[o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:o.jsx("p",{className:"text-xs text-gray-400",children:"ltima atualizao: 26 de janeiro de 2026"})}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"1. Aceitao dos Termos"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Ao acessar e usar o NexCoin, voc concorda em cumprir estes Termos de Uso. Se voc no concordar com qualquer parte destes termos, no dever usar nossos servios."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"2. Elegibilidade"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Voc deve ter pelo menos 18 anos de idade para usar o NexCoin. Ao criar uma conta, voc declara e garante que tem capacidade legal para celebrar este contrato."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"3. Conta e Segurana"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("p",{className:"leading-relaxed",children:" Voc  responsvel por manter a confidencialidade de suas credenciais de login"}),o.jsx("p",{className:"leading-relaxed",children:" Voc deve notificar imediatamente sobre qualquer uso no autorizado de sua conta"}),o.jsx("p",{className:"leading-relaxed",children:" O NexCoin no ser responsvel por perdas decorrentes do uso no autorizado de sua conta"})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"4. Uso da Plataforma"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsxs("p",{className:"leading-relaxed",children:[o.jsx("strong",{className:"text-white",children:"Uso Permitido:"})," O NexCoin  uma plataforma para negociao de criptomoedas. Voc concorda em usar a plataforma apenas para fins legais."]}),o.jsxs("p",{className:"leading-relaxed",children:[o.jsx("strong",{className:"text-white",children:"Uso Proibido:"}),"  proibido usar a plataforma para lavagem de dinheiro, financiamento de terrorismo, fraude ou qualquer atividade ilegal."]})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"5. Transaes e Taxas"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Todas as transaes realizadas atravs do NexCoin esto sujeitas a taxas de rede. As taxas so claramente exibidas antes da confirmao de qualquer transao. Uma vez confirmada, a transao  irreversvel."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"6. Riscos de Criptomoedas"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Voc reconhece que o mercado de criptomoedas  voltil e que o valor dos seus ativos pode flutuar significativamente. O NexCoin no garante lucros e voc  responsvel por suas decises de investimento."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"7. Limitao de Responsabilidade"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"O NexCoin no ser responsvel por perdas diretas, indiretas, incidentais ou consequenciais resultantes do uso ou incapacidade de usar nossos servios, incluindo perda de fundos, dados ou lucros."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"8. Suspenso e Encerramento"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Reservamo-nos o direito de suspender ou encerrar sua conta a qualquer momento, sem aviso prvio, se acreditarmos que voc violou estes termos ou se envolveu em atividades fraudulentas."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"9. Modificaes dos Termos"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Podemos modificar estes termos a qualquer momento. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. O uso continuado da plataforma aps as modificaes constitui aceitao dos novos termos."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"10. Lei Aplicvel"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Estes termos so regidos pelas leis aplicveis em sua jurisdio. Qualquer disputa ser resolvida nos tribunais competentes."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"11. Contato"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Se voc tiver dvidas sobre estes Termos de Uso, entre em contato conosco atravs da Central de Ajuda."})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-8",children:o.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Ao usar o NexCoin, voc concorda com estes Termos de Uso"})})]})]})}function STe({onNavigate:t}){return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx("header",{className:"px-6 pt-6 pb-4 sticky top-0 bg-black z-10",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:"Poltica de Privacidade"})]})}),o.jsxs("div",{className:"px-6 pb-24 space-y-6",children:[o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:o.jsx("p",{className:"text-xs text-gray-400",children:"ltima atualizao: 26 de janeiro de 2026"})}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"1. Introduo"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"O NexCoin valoriza sua privacidade. Esta Poltica de Privacidade descreve como coletamos, usamos, armazenamos e protegemos suas informaes pessoais quando voc usa nossos servios."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"2. Informaes que Coletamos"}),o.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white mb-1",children:"2.1 Informaes de Cadastro:"}),o.jsx("p",{className:"leading-relaxed",children:" Nome completo, e-mail, nmero de telefone, pas de residncia"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white mb-1",children:"2.2 Informaes de Transao:"}),o.jsx("p",{className:"leading-relaxed",children:" Histrico de transaes, endereos de carteiras, valores negociados"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white mb-1",children:"2.3 Informaes Tcnicas:"}),o.jsx("p",{className:"leading-relaxed",children:" Endereo IP, tipo de dispositivo, sistema operacional, logs de acesso"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white mb-1",children:"2.4 Informaes de Verificao:"}),o.jsx("p",{className:"leading-relaxed",children:" Documentos de identificao para conformidade KYC (Know Your Customer)"})]})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"3. Como Usamos suas Informaes"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("p",{className:"leading-relaxed",children:" Fornecer e melhorar nossos servios de negociao de criptomoedas"}),o.jsx("p",{className:"leading-relaxed",children:" Processar transaes e garantir a segurana da sua conta"}),o.jsx("p",{className:"leading-relaxed",children:" Cumprir requisitos legais e regulatrios (AML/KYC)"}),o.jsx("p",{className:"leading-relaxed",children:" Comunicar sobre atualizaes, manutenes e questes de segurana"}),o.jsx("p",{className:"leading-relaxed",children:" Prevenir fraudes e atividades suspeitas"}),o.jsx("p",{className:"leading-relaxed",children:" Personalizar sua experincia no aplicativo"})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"4. Compartilhamento de Informaes"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"No vendemos suas informaes pessoais. Podemos compartilhar seus dados apenas nas seguintes situaes:"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("p",{className:"leading-relaxed",children:" Com provedores de servios terceirizados essenciais para operao da plataforma"}),o.jsx("p",{className:"leading-relaxed",children:" Quando exigido por lei, ordem judicial ou autoridades regulatrias"}),o.jsx("p",{className:"leading-relaxed",children:" Para proteger nossos direitos legais e prevenir fraudes"}),o.jsx("p",{className:"leading-relaxed",children:" Com seu consentimento explcito"})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"5. Segurana dos Dados"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Implementamos medidas de segurana robustas para proteger suas informaes:"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("p",{className:"leading-relaxed",children:" Criptografia de ponta a ponta para dados sensveis"}),o.jsx("p",{className:"leading-relaxed",children:" Autenticao de dois fatores (2FA)"}),o.jsx("p",{className:"leading-relaxed",children:" Armazenamento seguro em servidores com certificao de segurana"}),o.jsx("p",{className:"leading-relaxed",children:" Monitoramento contnuo contra acessos no autorizados"}),o.jsx("p",{className:"leading-relaxed",children:" Auditorias de segurana regulares"})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"6. Reteno de Dados"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Mantemos suas informaes pessoais pelo tempo necessrio para fornecer nossos servios e cumprir obrigaes legais. Dados de transaes so mantidos conforme exigido por regulamentaes financeiras."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"7. Seus Direitos"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Voc tem os seguintes direitos em relao s suas informaes pessoais:"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("p",{className:"leading-relaxed",children:" Acessar e revisar suas informaes pessoais"}),o.jsx("p",{className:"leading-relaxed",children:" Solicitar correo de dados incorretos"}),o.jsx("p",{className:"leading-relaxed",children:" Solicitar excluso de dados (sujeito a obrigaes legais)"}),o.jsx("p",{className:"leading-relaxed",children:" Optar por no receber comunicaes de marketing"}),o.jsx("p",{className:"leading-relaxed",children:" Portabilidade de dados"})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"8. Cookies e Rastreamento"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Usamos cookies e tecnologias similares para melhorar sua experincia, analisar o uso da plataforma e personalizar contedo. Voc pode gerenciar suas preferncias de cookies nas configuraes do aplicativo."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"9. Transferncias Internacionais"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Seus dados podem ser transferidos e processados em pases diferentes do seu pas de residncia. Garantimos que todas as transferncias cumpram as leis de proteo de dados aplicveis."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"10. Menores de Idade"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Nossos servios no so destinados a menores de 18 anos. No coletamos intencionalmente informaes de menores. Se voc acredita que coletamos dados de um menor, entre em contato conosco imediatamente."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"11. Alteraes na Poltica"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. Recomendamos revisar esta poltica regularmente."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"12. Contato"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Se voc tiver dvidas sobre esta Poltica de Privacidade ou sobre como tratamos seus dados, entre em contato atravs da Central de Ajuda ou envie um e-mail para privacy@nexcoin.com."})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-8",children:o.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Ao usar o NexCoin, voc concorda com esta Poltica de Privacidade"})})]})]})}function TTe({onNavigate:t}){return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx("header",{className:"px-6 pt-6 pb-4",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:"Termos e Privacidade"})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsx("button",{onClick:()=>t("termsAndConditions"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(QV,{className:"w-6 h-6 text-blue-500"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Termos de Uso"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Leia os termos e condies de uso do NexCoin"})]})]})}),o.jsx("button",{onClick:()=>t("privacyPolicy"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(Ml,{className:"w-6 h-6 text-purple-500"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Poltica de Privacidade"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Saiba como protegemos e usamos seus dados"})]})]})}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-6",children:o.jsx("p",{className:"text-xs text-gray-400",children:"ltima atualizao: 26 de janeiro de 2026"})})]})]})}function PTe({onNavigate:t}){const[e,n]=E.useState(!1),[r,i]=E.useState(!1),{language:s,setLanguage:a,t:l}=ei(),[c,d]=E.useState(!1),f=async _=>{_!==s&&(d(!0),setTimeout(async()=>{await a(_),d(!1)},150))},m=_=>{const S=document.getElementById(_);S&&S.scrollIntoView({behavior:"smooth"}),i(!1)};E.useEffect(()=>(document.body.style.overflow="auto",document.body.style.height="auto",document.documentElement.style.overflow="auto",document.documentElement.style.height="auto",()=>{document.body.style.overflow="",document.body.style.height="",document.documentElement.style.overflow="",document.documentElement.style.height=""}),[]),E.useEffect(()=>{const _=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_)},[]);const p={initial:{opacity:0,y:30},whileInView:{opacity:1,y:0}},y={initial:"initial",whileInView:"whileInView",viewport:{once:!0,amount:.2},transition:{duration:.8,ease:"easeOut"}},x={initial:{},whileInView:{transition:{staggerChildren:.1}}},b={initial:"initial",whileInView:"whileInView",viewport:{once:!0,amount:.1}};return o.jsx("div",{className:"bg-white text-black font-sans selection:bg-blue-100 w-full h-auto",style:{position:"fixed",top:0,left:0,right:0,bottom:0,overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch"},children:o.jsxs("div",{className:`transition-opacity duration-200 ease-linear ${c?"opacity-0":"opacity-100"}`,children:[o.jsxs("nav",{className:`sticky top-0 w-full z-50 transition-all duration-300 ${e?"bg-white/90 backdrop-blur-md border-b border-gray-100 py-3":"bg-white py-5"}`,children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-12",children:[o.jsx("h1",{className:"text-2xl font-black italic tracking-tighter text-black",children:"NexCoin"}),o.jsxs("div",{className:"hidden lg:flex gap-8 text-sm font-semibold text-gray-600",children:[o.jsx("button",{onClick:()=>m("products"),className:"hover:text-black transition-colors",children:l.landingPage.products}),o.jsx("button",{onClick:()=>m("company"),className:"hover:text-black transition-colors",children:l.landingPage.company}),o.jsx("button",{onClick:()=>m("help"),className:"hover:text-black transition-colors",children:l.landingPage.help})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative group",children:[o.jsxs("button",{className:"flex items-center gap-2 text-sm font-semibold text-gray-600 hover:text-black transition-colors px-3 py-2 rounded-lg hover:bg-gray-50",children:[o.jsx(mp,{className:"w-4 h-4"}),o.jsx("span",{className:"uppercase",children:s})]}),o.jsxs("div",{className:"absolute right-0 mt-1 w-32 bg-white border border-gray-100 rounded-xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-[60]",children:[o.jsx("button",{onClick:()=>f("pt"),className:"w-full text-left px-4 py-3 text-sm font-semibold hover:bg-gray-50 first:rounded-t-xl transition-colors",children:"Portugus"}),o.jsx("button",{onClick:()=>f("en"),className:"w-full text-left px-4 py-3 text-sm font-semibold hover:bg-gray-50 transition-colors",children:"English"}),o.jsx("button",{onClick:()=>f("es"),className:"w-full text-left px-4 py-3 text-sm font-semibold hover:bg-gray-50 last:rounded-b-xl transition-colors",children:"Espaol"})]})]}),o.jsx("button",{onClick:()=>t("signup"),className:"bg-black text-white px-6 py-2 rounded-full font-bold hover:bg-zinc-900 transition-colors",children:l.landingPage.openAccount}),o.jsx("button",{className:"lg:hidden",onClick:()=>i(!r),children:r?o.jsx(Qr,{size:24}):o.jsx(mG,{size:24})})]})]}),o.jsx(_w,{children:r&&o.jsx(Ye.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"lg:hidden absolute top-full left-0 w-full bg-white/95 backdrop-blur-xl border-b border-gray-100 overflow-hidden shadow-2xl z-50",children:o.jsxs("div",{className:"p-8 flex flex-col gap-8",children:[o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("button",{onClick:()=>m("products"),className:"flex items-center justify-between text-xl font-bold text-gray-900 group text-left",children:[l.landingPage.products,o.jsx(as,{className:"w-5 h-5 text-gray-300 group-hover:text-black transition-colors"})]}),o.jsxs("button",{onClick:()=>m("company"),className:"flex items-center justify-between text-xl font-bold text-gray-900 group text-left",children:[l.landingPage.company,o.jsx(as,{className:"w-5 h-5 text-gray-300 group-hover:text-black transition-colors"})]}),o.jsxs("button",{onClick:()=>m("help"),className:"flex items-center justify-between text-xl font-bold text-gray-900 group text-left",children:[l.landingPage.help,o.jsx(as,{className:"w-5 h-5 text-gray-300 group-hover:text-black transition-colors"})]})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("button",{onClick:()=>{t("signup"),i(!1)},className:"w-full bg-black text-white py-5 rounded-2xl font-black text-lg shadow-xl shadow-black/10 active:scale-95 transition-all",children:l.landingPage.openAccount}),o.jsx("button",{onClick:()=>{t("login"),i(!1)},className:"w-full bg-gray-50 text-gray-900 py-5 rounded-2xl font-bold text-lg border border-gray-100 active:scale-95 transition-all",children:l.login})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:l.language}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{f("pt"),i(!1)},className:`flex-1 py-3 rounded-xl font-bold border transition-all ${s==="pt"?"bg-black text-white border-black":"bg-white border-gray-100 text-gray-600"}`,children:"PT"}),o.jsx("button",{onClick:()=>{f("en"),i(!1)},className:`flex-1 py-3 rounded-xl font-bold border transition-all ${s==="en"?"bg-black text-white border-black":"bg-white border-gray-100 text-gray-600"}`,children:"EN"}),o.jsx("button",{onClick:()=>{f("es"),i(!1)},className:`flex-1 py-3 rounded-xl font-bold border transition-all ${s==="es"?"bg-black text-white border-black":"bg-white border-gray-100 text-gray-600"}`,children:"ES"})]})]})]})})})]}),o.jsx("section",{className:"relative pt-12 pb-16 lg:pt-32 lg:pb-32",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid lg:grid-cols-2 items-center gap-12 lg:gap-20",children:[o.jsxs("div",{className:"z-10 text-center lg:text-left",children:[o.jsxs(Ye.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl sm:text-5xl lg:text-7xl font-black leading-[1.1] mb-6 lg:mb-8 tracking-tighter",children:[l.landingPage.moreThanGlobalTitle," ",o.jsx("span",{className:"text-blue-600 space-x-2",children:l.landingPage.moreThanGlobalHighlight})]}),o.jsx(Ye.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-lg lg:text-xl text-gray-600 mb-8 lg:mb-10 max-w-lg mx-auto lg:mx-0 leading-relaxed",children:l.landingPage.heroSubtitle}),o.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"flex flex-col sm:flex-row justify-center lg:justify-start gap-4",children:o.jsx("button",{onClick:()=>t("signup"),className:"bg-black text-white px-8 py-4 rounded-full font-bold text-lg hover:scale-105 transition-transform",children:l.landingPage.openAccount})})]}),o.jsx(Ye.div,{initial:{opacity:0,scale:.95,rotate:2},animate:{opacity:1,scale:1,rotate:0},transition:{duration:1.2,ease:"easeOut"},className:"relative mt-12 lg:mt-0",children:o.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl aspect-[4/3] lg:aspect-auto",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1556742044-3c52d6e88c62?q=80&w=2070&auto=format&fit=crop",alt:"Fintech experience",className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80%] max-w-[280px] lg:w-64 p-4 lg:p-6 bg-white/30 backdrop-blur-xl border border-white/40 rounded-3xl shadow-2xl",children:[o.jsx("p",{className:"text-[10px] lg:text-xs font-bold text-white/80 uppercase mb-1",children:l.landingPage.yourBalance}),o.jsx("p",{className:"text-3xl lg:text-4xl font-black text-white mb-4",children:s==="pt"?"R$ 42.084":s==="en"?"$ 42,084":" 42.084"}),o.jsxs("div",{className:"flex items-center gap-2 bg-black/20 p-2 rounded-xl border border-white/20",children:[o.jsx("div",{className:"w-6 h-6 lg:w-8 lg:h-8 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(Fi,{size:14,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[8px] lg:text-[10px] font-bold text-white/60",children:l.landingPage.yield}),o.jsx("p",{className:"text-[10px] lg:text-xs font-bold text-white",children:l.landingPage.yieldToday})]})]})]})]})})]})}),o.jsx(Ye.section,{...b,variants:x,className:"py-8 lg:py-12 border-y border-gray-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[o.jsx(Ye.p,{variants:p,className:"text-gray-400 font-bold text-[10px] lg:text-sm uppercase tracking-widest mb-6 lg:mb-10",children:l.landingPage.socialProof}),o.jsxs(Ye.div,{variants:p,className:"flex flex-wrap justify-center items-center gap-6 lg:gap-24 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:[o.jsx("div",{className:"text-lg lg:text-2xl font-black text-gray-800",children:"FAST COMPANY"}),o.jsx("div",{className:"text-lg lg:text-2xl font-black text-gray-800",children:"TECHCRUNCH"}),o.jsx("div",{className:"text-lg lg:text-2xl font-black text-gray-800",children:"FINTECH INSIDER"}),o.jsx("div",{className:"text-lg lg:text-2xl font-black text-gray-800",children:"FORBES"})]})]})}),o.jsxs("section",{id:"products",className:"py-20 lg:py-24 bg-gray-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center mb-2",children:[o.jsx(Ye.h2,{...y,variants:p,className:"text-3xl lg:text-6xl font-black tracking-tighter mb-6",children:l.landingPage.elevateSpending}),o.jsx(Ye.p,{...y,variants:p,className:"text-lg lg:text-xl text-gray-600 max-w-2xl mx-auto",children:l.landingPage.cardSubtitle}),o.jsx(Ye.button,{onClick:()=>t("signup"),...y,variants:p,className:"mt-8 lg:mt-10 bg-black text-white px-8 py-3 rounded-full font-bold",children:l.landingPage.requestCard})]}),o.jsx("div",{className:"relative min-h-[500px] lg:min-h-[700px] flex justify-center items-center py-12 bg-zinc-50/50 overflow-visible perspective-2000",children:o.jsx("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-12 px-6 items-start",children:[{name:"NexCoin Platinum",color:"bg-[linear-gradient(135deg,#a8a9ad_0%,#d1d2d5_20%,#f1f2f6_40%,#ffffff_50%,#f1f2f6_60%,#d1d2d5_80%,#a8a9ad_100%)]",text:"text-zinc-900/80",rotation:"lg:-rotate-2",chip:"silver",holder:"JAMES ANDERSON",number:"4208 8124 9051 2234",expiry:"09/27",features:["Taxa Zero","Cashback 0.5%","Ativos em at 12h"]},{name:"NexCoin Black",color:"bg-gradient-to-br from-[#0f0f0f] via-[#2c2c2c] to-[#000000]",text:"text-white/90",rotation:"lg:scale-105 z-20",chip:"silver",holder:"ELENA RODRGUEZ",number:"4208 7742 8810 9945",expiry:"11/29",features:["Cashback 1.5%","Proteo Pro","Ativos em at 6h"]},{name:"NexCoin Elite",color:"bg-[linear-gradient(135deg,#b88a44_0%,#e1b66b_20%,#fdf5b7_40%,#ffffff_50%,#fdf5b7_60%,#e1b66b_80%,#b88a44_100%)]",text:"text-amber-950/80",rotation:"lg:rotate-2",chip:"gold",holder:"CHEN WEI",number:"4208 5521 3340 7712",expiry:"05/30",features:["Cashback 3.0%","Seguros Premium","Ativos em at 2h"]}].map((_,S)=>o.jsxs("div",{className:"flex flex-col items-center gap-6",children:[o.jsxs(Ye.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},whileHover:{scale:1.05,rotateY:-20,rotateX:12,boxShadow:"0 50px 100px -20px rgba(0,0,0,0.5)"},viewport:{once:!0},transition:{type:"spring",stiffness:150,damping:12},className:`w-[320px] sm:w-[360px] h-[200px] sm:h-[225px] rounded-[18px] shadow-2xl relative overflow-hidden flex flex-col p-6 lg:p-8 justify-between border border-white/40 shrink-0 cursor-pointer 
                                        ${_.color} ${_.rotation} isolate`,style:{transformStyle:"preserve-3d"},children:[o.jsx(Ye.div,{animate:{left:["-100%","250%"]},transition:{duration:4,repeat:1/0,repeatDelay:2,ease:"easeInOut"},className:"absolute inset-0 w-2/3 bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-25 pointer-events-none z-0"}),o.jsxs("div",{className:"relative z-10",style:{transform:"translateZ(50px)"},children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("p",{className:`text-xl lg:text-2xl font-black tracking-tight uppercase ${_.text}`,children:"NexCoin"}),o.jsx("p",{className:`text-[9px] font-bold tracking-[0.4em] uppercase opacity-70 ${_.text}`,children:_.name.split(" ")[1]})]}),o.jsxs("div",{className:`w-14 h-11 rounded-lg relative overflow-hidden border border-black/10 shadow-lg flex items-center justify-center
                                                ${_.chip==="gold"?"bg-[linear-gradient(135deg,#d4af37,#fdf5b7,#d4af37)]":"bg-[linear-gradient(135deg,#a0a0a0,#e0e0e0,#a0a0a0)]"}`,children:[o.jsx("div",{className:"absolute inset-0 grid grid-cols-4 grid-rows-4 gap-[1.5px] p-[3px] opacity-30",children:[...Array(16)].map((M,O)=>o.jsx("div",{className:"border-[0.5px] border-black/30"},O))}),o.jsx("div",{className:"w-10 h-7 border border-black/10 rounded-md relative z-10 bg-black/5"})]})]}),o.jsx("p",{className:`text-lg sm:text-2xl font-mono tracking-[0.15em] mb-2 ${_.text}`,style:{textShadow:S===2?"1px 1px 1px rgba(255,255,255,0.7), -1px -1px 1px rgba(0,0,0,0.3)":"1px 1px 1px rgba(0,0,0,0.6), -1px -1px 1px rgba(255,255,255,0.2)"},children:_.number})]}),o.jsxs("div",{className:"relative z-10 flex justify-between items-end",style:{transform:"translateZ(60px)"},children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("p",{className:`text-[8px] uppercase font-bold opacity-60 mb-0.5 ${_.text}`,children:["Valid Thru ",_.expiry]}),o.jsx("p",{className:`text-[11px] font-black uppercase tracking-[0.2em] ${_.text}`,children:_.holder})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"flex items-center mb-0.5",children:o.jsx("div",{className:"w-7 h-7 rounded-full bg-[#EB001B] relative flex items-center justify-center",children:o.jsx("div",{className:"absolute right-[-11px] w-7 h-7 rounded-full bg-[#F79E1B]/95 mix-blend-normal shadow-sm"})})}),o.jsx("p",{className:`text-[6px] font-black tracking-tight italic mt-1 ${_.text} opacity-80 uppercase`,style:{transform:"translateX(5px)"},children:"mastercard"})]})]})]}),o.jsxs(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3+S*.1},className:"flex flex-col items-center w-full",children:[o.jsx("ul",{className:"flex flex-col gap-2 mb-6",children:_.features.map((M,O)=>o.jsxs("li",{className:"flex items-center gap-2 text-sm font-medium text-gray-600",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600"}),M]},O))}),o.jsxs("button",{onClick:()=>t("signup"),className:`w-full py-3 rounded-xl font-bold transition-all hover:scale-105 active:scale-95
                                            ${S===1?"bg-black text-white shadow-xl px-12":"bg-white text-black border border-gray-200 px-8"}`,children:["Escolher ",_.name.split(" ")[1]]})]})]},S))})})]}),o.jsxs("section",{className:"relative min-h-[500px] lg:min-h-screen flex items-center py-20 lg:py-32",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1510414842594-a61c69b5ae57?q=80&w=2070&auto=format&fit=crop",alt:"Life",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 text-center text-white w-full",children:[o.jsx(Ye.h2,{...y,variants:p,className:"text-3xl lg:text-7xl font-black mb-6 tracking-tighter leading-tight",children:l.landingPage.highYieldTitle}),o.jsx(Ye.p,{...y,variants:p,className:"text-lg lg:text-xl opacity-90 mb-8 lg:mb-10 max-w-2xl mx-auto text-white/80",children:l.landingPage.highYieldSubtitle}),o.jsx(Ye.button,{onClick:()=>t("signup"),...y,variants:p,className:"bg-white text-black px-8 lg:px-10 py-3 lg:py-4 rounded-full font-bold text-lg",children:l.landingPage.exploreYields})]})]}),o.jsx("section",{id:"company",className:"py-20 lg:py-32 bg-white overflow-hidden",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid lg:grid-cols-2 items-center gap-12 lg:gap-20 text-center lg:text-left",children:[o.jsxs(Ye.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[o.jsx("h2",{className:"text-3xl lg:text-5xl font-black tracking-tighter mb-6 lg:mb-8 leading-tight",children:l.landingPage.safeHarborTitle}),o.jsx("p",{className:"text-lg lg:text-xl text-gray-600 mb-8 leading-relaxed",children:l.landingPage.safeHarborSubtitle}),o.jsxs("button",{onClick:()=>t("signup"),className:"bg-black text-white px-8 py-3 rounded-full font-bold flex items-center justify-center lg:justify-start gap-2 mx-auto lg:mx-0",children:[l.landingPage.security," ",o.jsx(rG,{size:18})]})]}),o.jsx(Ye.div,{initial:{opacity:0,x:50,rotate:10},whileInView:{opacity:1,x:0,rotate:-6},viewport:{once:!0},transition:{duration:1,ease:"easeOut"},className:"flex justify-center mt-8 lg:mt-0",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-blue-500 rounded-full blur-[80px] lg:blur-[100px] opacity-20"}),o.jsx("div",{className:"w-48 h-48 lg:w-96 lg:h-96 relative z-10 flex items-center justify-center",children:o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 rounded-[2rem] lg:rounded-[2.5rem] p-1 shadow-inner",children:o.jsx("div",{className:"w-full h-full bg-white rounded-[1.8rem] lg:rounded-[2.2rem] flex items-center justify-center shadow-2xl",children:o.jsx(Eu,{className:"w-20 h-20 lg:w-[120px] lg:h-[120px] text-black",strokeWidth:1.5})})})})]})})]})}),o.jsx("section",{className:"py-20 lg:py-24 bg-black text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[o.jsx(Ye.h2,{...y,variants:p,className:"text-2xl lg:text-5xl font-black mb-6 lg:mb-8 tracking-tighter",children:l.landingPage.enterCryptoTitle}),o.jsx(Ye.p,{...y,variants:p,className:"text-lg lg:text-xl text-white/60 mb-10 lg:mb-12 max-w-2xl mx-auto",children:l.landingPage.enterCryptoSubtitle}),o.jsx(Ye.button,{onClick:()=>t("signup"),...y,variants:p,className:"bg-white text-black px-8 lg:px-10 py-3 lg:py-4 rounded-full font-bold mb-12 lg:mb-20 hover:scale-105 transition-transform",children:l.landingPage.exploreCrypto}),o.jsxs("div",{className:"relative flex justify-center py-10 lg:py-16 h-[250px] lg:h-[350px] items-center overflow-visible",children:[o.jsx(Ye.div,{animate:{y:[0,-20,0],rotate:[0,5,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"z-10",children:o.jsx("div",{className:"inline-flex items-center justify-center rounded-full border-2 lg:border-4 border-green-500/30 bg-black shadow-[0_0_50px_rgba(38,161,123,0.3)] p-1 lg:p-2",children:o.jsx(ht,{symbol:"USDT",size:"lg"})})}),o.jsx(Ye.div,{animate:{y:[0,25,0],x:[0,10,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute left-[2%] lg:left-[15%] top-0 lg:top-5 shadow-2xl",children:o.jsx(ht,{symbol:"ETH",size:"lg"})}),o.jsx(Ye.div,{animate:{y:[0,-15,0],x:[0,-10,0]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute right-[2%] lg:right-[15%] top-2 lg:top-10 shadow-2xl",children:o.jsx(ht,{symbol:"DOGE",size:"lg"})}),o.jsx(Ye.div,{animate:{y:[0,20,0],x:[0,15,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute left-[10%] lg:left-[22%] bottom-5 lg:bottom-10 shadow-2xl",children:o.jsx(ht,{symbol:"SOL",size:"lg"})}),o.jsx(Ye.div,{animate:{y:[0,-25,0],x:[0,-8,0]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute right-[10%] lg:right-[22%] bottom-2 lg:bottom-8 shadow-2xl",children:o.jsx(ht,{symbol:"LTC",size:"lg"})}),o.jsx(Ye.div,{animate:{y:[0,15,0],rotate:[0,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:.3},className:"absolute left-[30%] lg:left-[35%] top-[-10px] lg:top-0 opacity-60 lg:opacity-80",children:o.jsx(ht,{symbol:"XRP",size:"md"})}),o.jsx(Ye.div,{animate:{y:[0,-18,0],rotate:[0,10,0]},transition:{duration:6.5,repeat:1/0,ease:"easeInOut",delay:.8},className:"absolute right-[30%] lg:right-[35%] top-[-5px] lg:top-5 opacity-60 lg:opacity-80",children:o.jsx(ht,{symbol:"ADA",size:"md"})}),o.jsx(Ye.div,{animate:{scale:[1,1.1,1],y:[0,12,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:2.5},className:"absolute left-[35%] lg:left-[40%] bottom-[-10px] lg:bottom-0 opacity-60",children:o.jsx(ht,{symbol:"DOT",size:"md"})}),o.jsx(Ye.div,{animate:{scale:[1,1.1,1],y:[0,-12,0]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:1.2},className:"absolute right-[35%] lg:right-[40%] bottom-[-5px] lg:bottom-5 opacity-60",children:o.jsx(ht,{symbol:"MATIC",size:"md"})}),o.jsx(Ye.div,{animate:{y:[0,-15,0],x:[0,-10,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:1.1},className:"absolute right-[5%] lg:right-[8%] top-[40%] lg:top-[35%] shadow-xl z-20",children:o.jsx(ht,{symbol:"BTC",size:"lg"})}),o.jsx(Ye.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute left-[15%] lg:left-[28%] top-[20%] lg:top-[30%] opacity-40 group-hover:opacity-100 transition-opacity",children:o.jsx(ht,{symbol:"BNB",size:"sm"})}),o.jsx(Ye.div,{animate:{y:[0,20,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:3},className:"absolute right-[15%] lg:right-[28%] top-[20%] lg:top-[30%] opacity-40 group-hover:opacity-100 transition-opacity",children:o.jsx(ht,{symbol:"AVAX",size:"sm"})})]})]})}),o.jsxs("section",{className:"py-20 lg:py-24 bg-gradient-to-br from-blue-600 via-indigo-700 to-black text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),o.jsxs("div",{className:"max-w-5xl mx-auto px-6 text-center relative z-10",children:[o.jsx("h2",{className:"text-2xl lg:text-4xl font-black mb-8 lg:mb-10 tracking-tighter leading-tight",children:l.landingPage.joinThousands}),o.jsx("button",{onClick:()=>t("signup"),className:"bg-white text-black px-8 lg:px-10 py-4 lg:py-5 rounded-full font-bold text-lg lg:text-xl hover:scale-105 transition-transform",children:l.landingPage.openAccountNow})]})]}),o.jsx("footer",{className:"bg-gray-50 pt-24 pb-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-12 mb-20",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("h1",{className:"text-3xl font-black italic mb-8",children:"NexCoin"}),o.jsx("p",{className:"text-gray-500 max-w-xs mb-8",children:l.landingPage.footerTagline}),o.jsx("div",{className:"flex gap-4"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm uppercase mb-6 tracking-widest",children:l.landingPage.footerProduct}),o.jsxs("ul",{className:"flex flex-col gap-4 text-gray-500 text-sm font-semibold",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerCards})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerCrypto})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerBalances})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerYields})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm uppercase mb-6 tracking-widest",children:l.landingPage.footerCompany}),o.jsxs("ul",{className:"flex flex-col gap-4 text-gray-500 text-sm font-semibold",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerAbout})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerCareers})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerBlog})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerPress})})]})]}),o.jsxs("div",{id:"help",children:[o.jsx("p",{className:"font-bold text-sm uppercase mb-6 tracking-widest",children:l.landingPage.footerSupport}),o.jsxs("ul",{className:"flex flex-col gap-4 text-gray-500 text-sm font-semibold",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerHelp})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerContact})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerSecurity})})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-12 text-center lg:text-left",children:o.jsx("p",{className:"text-gray-400 text-xs leading-relaxed max-w-4xl",children:l.landingPage.footerDisclaimer})})]})})]})})}const ATe=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(s,a)=>{n.platforms.set(s,a)},i=s=>{n.platforms.has(s)&&(n.currentPlatform=n.platforms.get(s))};return n.addPlatform=r,n.setPlatform=i,n},ITe=t=>t.CapacitorPlatforms=ATe(t),uW=ITe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});uW.addPlatform;uW.setPlatform;var ih;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(ih||(ih={}));class wC extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const jTe=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},kTe=t=>{var e,n,r,i,s;const a=t.CapacitorCustomPlatform||null,l=t.Capacitor||{},c=l.Plugins=l.Plugins||{},d=t.CapacitorPlatforms,f=()=>a!==null?a.name:jTe(t),m=((e=d?.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||f,p=()=>m()!=="web",y=((n=d?.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||p,x=C=>{const N=z.get(C);return!!(N?.platforms.has(m())||S(C))},b=((r=d?.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||x,_=C=>{var N;return(N=l.PluginHeaders)===null||N===void 0?void 0:N.find(A=>A.name===C)},S=((i=d?.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||_,M=C=>t.console.error(C),O=(C,N,A)=>Promise.reject(`${A} does not have an implementation of "${N}".`),z=new Map,I=(C,N={})=>{const A=z.get(C);if(A)return console.warn(`Capacitor plugin "${C}" already registered. Cannot register plugins twice.`),A.proxy;const j=m(),D=S(C);let L;const B=async()=>(!L&&j in N?L=typeof N[j]=="function"?L=await N[j]():L=N[j]:a!==null&&!L&&"web"in N&&(L=typeof N.web=="function"?L=await N.web():L=N.web),L),$=(R,U)=>{var K,J;if(D){const G=D?.methods.find(te=>U===te.name);if(G)return G.rtype==="promise"?te=>l.nativePromise(C,U.toString(),te):(te,ie)=>l.nativeCallback(C,U.toString(),te,ie);if(R)return(K=R[U])===null||K===void 0?void 0:K.bind(R)}else{if(R)return(J=R[U])===null||J===void 0?void 0:J.bind(R);throw new wC(`"${C}" plugin is not implemented on ${j}`,ih.Unimplemented)}},Y=R=>{let U;const K=(...J)=>{const G=B().then(te=>{const ie=$(te,R);if(ie){const ne=ie(...J);return U=ne?.remove,ne}else throw new wC(`"${C}.${R}()" is not implemented on ${j}`,ih.Unimplemented)});return R==="addListener"&&(G.remove=async()=>U()),G};return K.toString=()=>`${R.toString()}() { [capacitor code] }`,Object.defineProperty(K,"name",{value:R,writable:!1,configurable:!1}),K},Z=Y("addListener"),k=Y("removeListener"),Q=(R,U)=>{const K=Z({eventName:R},U),J=async()=>{const te=await K;k({eventName:R,callbackId:te},U)},G=new Promise(te=>K.then(()=>te({remove:J})));return G.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await J()},G},H=new Proxy({},{get(R,U){switch(U){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return D?Q:Z;case"removeListener":return k;default:return Y(U)}}});return c[C]=H,z.set(C,{name:C,proxy:H,platforms:new Set([...Object.keys(N),...D?[j]:[]])}),H},P=((s=d?.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||I;return l.convertFileSrc||(l.convertFileSrc=C=>C),l.getPlatform=m,l.handleError=M,l.isNativePlatform=y,l.isPluginAvailable=b,l.pluginMethodNoop=O,l.registerPlugin=P,l.Exception=wC,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},RTe=t=>t.Capacitor=kTe(t),Jp=RTe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Cw=Jp.registerPlugin;Jp.Plugins;class dW{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),r&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Jp.Exception(e,ih.Unimplemented)}unavailable(e="not available"){return new Jp.Exception(e,ih.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const Q3=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),J3=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class DTe extends dW{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=J3(i).trim(),s=J3(s).trim(),n[i]=s}),n}async setCookie(e){try{const n=Q3(e.key),r=Q3(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${s}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Cw("CapacitorCookies",{web:()=>new DTe});const OTe=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),MTe=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},LTe=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[s,a]=i;let l,c;return Array.isArray(a)?(c="",a.forEach(d=>{l=e?encodeURIComponent(d):d,c+=`${s}=${l}&`}),c.slice(0,-1)):(l=e?encodeURIComponent(a):a,c=`${s}=${l}`),`${r}&${c}`},"").substr(1):null,VTe=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=MTe(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,l]of Object.entries(t.data||{}))s.set(a,l);n.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((l,c)=>{s.append(c,l)});else for(const l of Object.keys(t.data))s.append(l,t.data[l]);n.body=s;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class FTe extends dW{async request(e){const n=VTe(e,e.webFetchExtra),r=LTe(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,s=await fetch(i,n),a=s.headers.get("content-type")||"";let{responseType:l="text"}=s.ok?e:{};a.includes("application/json")&&(l="json");let c,d;switch(l){case"arraybuffer":case"blob":d=await s.blob(),c=await OTe(d);break;case"json":c=await s.json();break;default:c=await s.text()}const f={};return s.headers.forEach((m,p)=>{f[p]=m}),{data:c,headers:f,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Cw("CapacitorHttp",{web:()=>new FTe});var Jd={},_C={exports:{}},EC,Z3;function BTe(){if(Z3)return EC;Z3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return EC=t,EC}var CC,eV;function zTe(){if(eV)return CC;eV=1;var t=BTe();function e(){}function n(){}return n.resetWarningCache=e,CC=function(){function r(a,l,c,d,f,m){if(m!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},CC}var tV;function fW(){return tV||(tV=1,_C.exports=zTe()()),_C.exports}var NC,nV;function hW(){return nV||(nV=1,NC={L:1,M:0,Q:3,H:2}),NC}var SC,rV;function mW(){return rV||(rV=1,SC={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),SC}var TC,iV;function UTe(){if(iV)return TC;iV=1;var t=mW();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},TC=e,TC}var PC,sV;function $Te(){if(sV)return PC;sV=1;var t=hW();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var i=e.getRsBlockTable(n,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var s=i.length/3,a=new Array,l=0;l<s;l++)for(var c=i[l*3+0],d=i[l*3+1],f=i[l*3+2],m=0;m<c;m++)a.push(new e(d,f));return a},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},PC=e,PC}var AC,aV;function qTe(){if(aV)return AC;aV=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},AC=t,AC}var IC,oV;function pW(){if(oV)return IC;oV=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return IC=t,IC}var jC,lV;function gW(){if(lV)return jC;lV=1;var t=pW();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var i=0;i<n.length&&n[i]==0;)i++;this.num=new Array(n.length-i+r);for(var s=0;s<n.length-i;s++)this.num[s]=n[s+i]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(var s=0;s<n.getLength();s++)r[i+s]^=t.gexp(t.glog(this.get(i))+t.glog(n.get(s)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),i=new Array(this.getLength()),s=0;s<this.getLength();s++)i[s]=this.get(s);for(var s=0;s<n.getLength();s++)i[s]^=t.gexp(t.glog(n.get(s))+r);return new e(i,0).mod(n)}},jC=e,jC}var kC,cV;function HTe(){if(cV)return kC;cV=1;var t=mW(),e=gW(),n=pW(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var a=s<<10;i.getBCHDigit(a)-i.getBCHDigit(i.G15)>=0;)a^=i.G15<<i.getBCHDigit(a)-i.getBCHDigit(i.G15);return(s<<10|a)^i.G15_MASK},getBCHTypeNumber:function(s){for(var a=s<<12;i.getBCHDigit(a)-i.getBCHDigit(i.G18)>=0;)a^=i.G18<<i.getBCHDigit(a)-i.getBCHDigit(i.G18);return s<<12|a},getBCHDigit:function(s){for(var a=0;s!=0;)a++,s>>>=1;return a},getPatternPosition:function(s){return i.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,a,l){switch(s){case r.PATTERN000:return(a+l)%2==0;case r.PATTERN001:return a%2==0;case r.PATTERN010:return l%3==0;case r.PATTERN011:return(a+l)%3==0;case r.PATTERN100:return(Math.floor(a/2)+Math.floor(l/3))%2==0;case r.PATTERN101:return a*l%2+a*l%3==0;case r.PATTERN110:return(a*l%2+a*l%3)%2==0;case r.PATTERN111:return(a*l%3+(a+l)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var a=new e([1],0),l=0;l<s;l++)a=a.multiply(new e([1,n.gexp(l)],0));return a},getLengthInBits:function(s,a){if(1<=a&&a<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(a<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(a<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+a)},getLostPoint:function(s){for(var a=s.getModuleCount(),l=0,c=0;c<a;c++)for(var d=0;d<a;d++){for(var f=0,m=s.isDark(c,d),p=-1;p<=1;p++)if(!(c+p<0||a<=c+p))for(var y=-1;y<=1;y++)d+y<0||a<=d+y||p==0&&y==0||m==s.isDark(c+p,d+y)&&f++;f>5&&(l+=3+f-5)}for(var c=0;c<a-1;c++)for(var d=0;d<a-1;d++){var x=0;s.isDark(c,d)&&x++,s.isDark(c+1,d)&&x++,s.isDark(c,d+1)&&x++,s.isDark(c+1,d+1)&&x++,(x==0||x==4)&&(l+=3)}for(var c=0;c<a;c++)for(var d=0;d<a-6;d++)s.isDark(c,d)&&!s.isDark(c,d+1)&&s.isDark(c,d+2)&&s.isDark(c,d+3)&&s.isDark(c,d+4)&&!s.isDark(c,d+5)&&s.isDark(c,d+6)&&(l+=40);for(var d=0;d<a;d++)for(var c=0;c<a-6;c++)s.isDark(c,d)&&!s.isDark(c+1,d)&&s.isDark(c+2,d)&&s.isDark(c+3,d)&&s.isDark(c+4,d)&&!s.isDark(c+5,d)&&s.isDark(c+6,d)&&(l+=40);for(var b=0,d=0;d<a;d++)for(var c=0;c<a;c++)s.isDark(c,d)&&b++;var _=Math.abs(100*b/a/a-50)/5;return l+=_*10,l}};return kC=i,kC}var RC,uV;function WTe(){if(uV)return RC;uV=1;var t=UTe(),e=$Te(),n=qTe(),r=HTe(),i=gW();function s(l,c){this.typeNumber=l,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var a=s.prototype;return a.addData=function(l){var c=new t(l);this.dataList.push(c),this.dataCache=null},a.isDark=function(l,c){if(l<0||this.moduleCount<=l||c<0||this.moduleCount<=c)throw new Error(l+","+c);return this.modules[l][c]},a.getModuleCount=function(){return this.moduleCount},a.make=function(){if(this.typeNumber<1){var l=1;for(l=1;l<40;l++){for(var c=e.getRSBlocks(l,this.errorCorrectLevel),d=new n,f=0,m=0;m<c.length;m++)f+=c[m].dataCount;for(var m=0;m<this.dataList.length;m++){var p=this.dataList[m];d.put(p.mode,4),d.put(p.getLength(),r.getLengthInBits(p.mode,l)),p.write(d)}if(d.getLengthInBits()<=f*8)break}this.typeNumber=l}this.makeImpl(!1,this.getBestMaskPattern())},a.makeImpl=function(l,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++)this.modules[d][f]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(l,c),this.typeNumber>=7&&this.setupTypeNumber(l),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},a.setupPositionProbePattern=function(l,c){for(var d=-1;d<=7;d++)if(!(l+d<=-1||this.moduleCount<=l+d))for(var f=-1;f<=7;f++)c+f<=-1||this.moduleCount<=c+f||(0<=d&&d<=6&&(f==0||f==6)||0<=f&&f<=6&&(d==0||d==6)||2<=d&&d<=4&&2<=f&&f<=4?this.modules[l+d][c+f]=!0:this.modules[l+d][c+f]=!1)},a.getBestMaskPattern=function(){for(var l=0,c=0,d=0;d<8;d++){this.makeImpl(!0,d);var f=r.getLostPoint(this);(d==0||l>f)&&(l=f,c=d)}return c},a.createMovieClip=function(l,c,d){var f=l.createEmptyMovieClip(c,d),m=1;this.make();for(var p=0;p<this.modules.length;p++)for(var y=p*m,x=0;x<this.modules[p].length;x++){var b=x*m,_=this.modules[p][x];_&&(f.beginFill(0,100),f.moveTo(b,y),f.lineTo(b+m,y),f.lineTo(b+m,y+m),f.lineTo(b,y+m),f.endFill())}return f},a.setupTimingPattern=function(){for(var l=8;l<this.moduleCount-8;l++)this.modules[l][6]==null&&(this.modules[l][6]=l%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},a.setupPositionAdjustPattern=function(){for(var l=r.getPatternPosition(this.typeNumber),c=0;c<l.length;c++)for(var d=0;d<l.length;d++){var f=l[c],m=l[d];if(this.modules[f][m]==null)for(var p=-2;p<=2;p++)for(var y=-2;y<=2;y++)p==-2||p==2||y==-2||y==2||p==0&&y==0?this.modules[f+p][m+y]=!0:this.modules[f+p][m+y]=!1}},a.setupTypeNumber=function(l){for(var c=r.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var f=!l&&(c>>d&1)==1;this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=f}for(var d=0;d<18;d++){var f=!l&&(c>>d&1)==1;this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=f}},a.setupTypeInfo=function(l,c){for(var d=this.errorCorrectLevel<<3|c,f=r.getBCHTypeInfo(d),m=0;m<15;m++){var p=!l&&(f>>m&1)==1;m<6?this.modules[m][8]=p:m<8?this.modules[m+1][8]=p:this.modules[this.moduleCount-15+m][8]=p}for(var m=0;m<15;m++){var p=!l&&(f>>m&1)==1;m<8?this.modules[8][this.moduleCount-m-1]=p:m<9?this.modules[8][15-m-1+1]=p:this.modules[8][15-m-1]=p}this.modules[this.moduleCount-8][8]=!l},a.mapData=function(l,c){for(var d=-1,f=this.moduleCount-1,m=7,p=0,y=this.moduleCount-1;y>0;y-=2)for(y==6&&y--;;){for(var x=0;x<2;x++)if(this.modules[f][y-x]==null){var b=!1;p<l.length&&(b=(l[p]>>>m&1)==1);var _=r.getMask(c,f,y-x);_&&(b=!b),this.modules[f][y-x]=b,m--,m==-1&&(p++,m=7)}if(f+=d,f<0||this.moduleCount<=f){f-=d,d=-d;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(l,c,d){for(var f=e.getRSBlocks(l,c),m=new n,p=0;p<d.length;p++){var y=d[p];m.put(y.mode,4),m.put(y.getLength(),r.getLengthInBits(y.mode,l)),y.write(m)}for(var x=0,p=0;p<f.length;p++)x+=f[p].dataCount;if(m.getLengthInBits()>x*8)throw new Error("code length overflow. ("+m.getLengthInBits()+">"+x*8+")");for(m.getLengthInBits()+4<=x*8&&m.put(0,4);m.getLengthInBits()%8!=0;)m.putBit(!1);for(;!(m.getLengthInBits()>=x*8||(m.put(s.PAD0,8),m.getLengthInBits()>=x*8));)m.put(s.PAD1,8);return s.createBytes(m,f)},s.createBytes=function(l,c){for(var d=0,f=0,m=0,p=new Array(c.length),y=new Array(c.length),x=0;x<c.length;x++){var b=c[x].dataCount,_=c[x].totalCount-b;f=Math.max(f,b),m=Math.max(m,_),p[x]=new Array(b);for(var S=0;S<p[x].length;S++)p[x][S]=255&l.buffer[S+d];d+=b;var M=r.getErrorCorrectPolynomial(_),O=new i(p[x],M.getLength()-1),z=O.mod(M);y[x]=new Array(M.getLength()-1);for(var S=0;S<y[x].length;S++){var I=S+z.getLength()-y[x].length;y[x][S]=I>=0?z.get(I):0}}for(var P=0,S=0;S<c.length;S++)P+=c[S].totalCount;for(var C=new Array(P),N=0,S=0;S<f;S++)for(var x=0;x<c.length;x++)S<p[x].length&&(C[N++]=p[x][S]);for(var S=0;S<m;S++)for(var x=0;x<c.length;x++)S<y[x].length&&(C[N++]=y[x][S]);return C},RC=s,RC}var Rv={},dV;function KTe(){if(dV)return Rv;dV=1,Object.defineProperty(Rv,"__esModule",{value:!0});var t=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var m=arguments[f];for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(d[p]=m[p])}return d},e=fW(),n=s(e),r=Zr(),i=s(r);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,f){var m={};for(var p in d)f.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(d,p)&&(m[p]=d[p]);return m}var l={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},c=(0,r.forwardRef)(function(d,f){var m=d.bgColor,p=d.bgD,y=d.fgD,x=d.fgColor,b=d.size,_=d.title,S=d.viewBoxSize,M=d.xmlns,O=M===void 0?"http://www.w3.org/2000/svg":M,z=a(d,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",t({},z,{height:b,ref:f,viewBox:"0 0 "+S+" "+S,width:b,xmlns:O}),_?i.default.createElement("title",null,_):null,i.default.createElement("path",{d:p,fill:m}),i.default.createElement("path",{d:y,fill:x}))});return c.displayName="QRCodeSvg",c.propTypes=l,Rv.default=c,Rv}var fV;function GTe(){if(fV)return Jd;fV=1,Object.defineProperty(Jd,"__esModule",{value:!0}),Jd.QRCode=void 0;var t=Object.assign||function(b){for(var _=1;_<arguments.length;_++){var S=arguments[_];for(var M in S)Object.prototype.hasOwnProperty.call(S,M)&&(b[M]=S[M])}return b},e=fW(),n=m(e),r=hW(),i=m(r),s=WTe(),a=m(s),l=Zr(),c=m(l),d=KTe(),f=m(d);function m(b){return b&&b.__esModule?b:{default:b}}function p(b,_){var S={};for(var M in b)_.indexOf(M)>=0||Object.prototype.hasOwnProperty.call(b,M)&&(S[M]=b[M]);return S}var y={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},x=(0,l.forwardRef)(function(b,_){var S=b.bgColor,M=S===void 0?"#FFFFFF":S,O=b.fgColor,z=O===void 0?"#000000":O,I=b.level,P=I===void 0?"L":I,C=b.size,N=C===void 0?256:C,A=b.value,j=p(b,["bgColor","fgColor","level","size","value"]),D=new a.default(-1,i.default[P]);D.addData(A),D.make();var L=D.modules;return c.default.createElement(f.default,t({},j,{bgColor:M,bgD:L.map(function(B,$){return B.map(function(Y,Z){return Y?"":"M "+Z+" "+$+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:z,fgD:L.map(function(B,$){return B.map(function(Y,Z){return Y?"M "+Z+" "+$+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:_,size:N,viewBoxSize:L.length}))});return Jd.QRCode=x,x.displayName="QRCode",x.propTypes=y,Jd.default=x,Jd}var XTe=GTe();const YTe=bi(XTe);function QTe({onNavigate:t}){const[e,n]=E.useState(""),[r,i]=E.useState(null),[s,a]=E.useState("Ethereum"),[l,c]=E.useState(!1),[d,f]=E.useState(!1),{prices:m}=wi(),{portfolio:p}=qs(),y=I=>{a(I),c(!1),f(!1)},x=[{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"BNB",name:"Binance Coin",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"}],b=I=>p.holdings.find(C=>C.symbol===I)?.amount||0,_=[{id:"Ethereum",name:"Ethereum",icon:"ETH"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB"},{id:"Polygon",name:"Polygon",icon:"MATIC"},{id:"Arbitrum",name:"Arbitrum",icon:"ARB"},{id:"Optimism",name:"Optimism",icon:"OP"},{id:"Base",name:"Base",icon:"BASE"},{id:"Avalanche",name:"Avalanche C-Chain",icon:"AVAX"},{id:"Solana",name:"Solana",icon:"SOL"},{id:"Tron",name:"Tron",icon:"TRX"},{id:"Fantom",name:"Fantom",icon:"FTM"},{id:"zkSync",name:"zkSync Era",icon:"ZK"},{id:"Cronos",name:"Cronos",icon:"CRO"}],S=(I,P)=>(m[I]?.usd||0)*P,M=x.filter(I=>I.symbol.toLowerCase().includes(e.toLowerCase())||I.name.toLowerCase().includes(e.toLowerCase())),O=I=>{const P=document.createElement("textarea");P.value=I,P.style.position="fixed",P.style.left="-999999px",P.style.top="-999999px",document.body.appendChild(P),P.focus(),P.select();try{document.execCommand("copy"),c(!0),setTimeout(()=>c(!1),2e3)}catch(C){console.error("Erro ao copiar:",C)}document.body.removeChild(P)},z=(I,P)=>{const C=$=>{let Y=5381;for(let Z=0;Z<$.length;Z++){const k=$.charCodeAt(Z);Y=(Y<<5)+Y+k}return Math.abs(Y)+999999},N=($,Y)=>{const Z=[];let k=C($);for(let Q=0;Q<Y;Q++){k=k*1664525+1013904223&2147483647;const H=(k^k>>16)&255;Z.push(H===0?Q%255+1:H)}return Z},A=$=>$.map(Y=>Y.toString(16).padStart(2,"0")).join(""),j=$=>{const Y="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let Z=BigInt("0x"+A($)),k="";for(;Z>0;){const Q=Number(Z%58n);k=Y[Q]+k,Z=Z/58n}for(const Q of $)if(Q===0)k="1"+k;else break;return k},D=$=>{const Y="qpzry9x8gf2tvdw0s3jn54khce6mua7l";let Z="";for(const k of $)Z+=Y[k%Y.length];return Z},L=`${I}-${P}-nexcoin-wallet`;if(P==="Tron"){const $=N(L,20);return"T"+j($).substring(1,34)}if(I==="BTC"){const $=N(L,32);return"bc1q"+D($).substring(0,38)}if(I==="SOL"||P==="Solana"){const $=N(L,32);return j($).substring(0,44)}if(I==="ETH"||P==="Ethereum"||P==="Polygon"||P==="Optimism"||P==="BSC"||P==="Arbitrum"||P==="Base"||P==="Avalanche"||P==="Fantom"||P==="zkSync"||P==="Cronos"||I==="BNB"||I==="MATIC"||I==="LINK"||I==="UNI"||I==="AVAX"||I==="USDT"){const $=N(L,20);return"0x"+A($)}if(I==="XRP"){const $=[0,...N(L,20)];return"r"+j($).substring(1,34)}if(I==="ADA"){const $=N(L,57);return"addr1"+D($).substring(0,98)}if(I==="DOT"){const $=[0,...N(L,32)];return j($).substring(0,48)}if(I==="DOGE"){const $=[30,...N(L,20)];return j($).substring(0,34)}if(I==="LTC"){const $=N(L,32);return"ltc1q"+D($).substring(0,38)}if(I==="ATOM"){const $=N(L,32);return"cosmos1"+D($).substring(0,38)}const B=N(L,20);return"0x"+A(B)};if(r){const I=x.find(C=>C.symbol===r);if(!I)return null;const P=z(I.symbol,s);return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl mb-1 text-gray-400",children:["Receber ",I.symbol]}),o.jsx("p",{className:"text-lg text-gray-500",children:I.name})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ht,{symbol:I.symbol,size:"lg"})})]})]}),o.jsx("div",{className:"px-6 py-8 flex items-center justify-center",children:o.jsx("div",{className:"w-64 h-64 bg-zinc-900 rounded-3xl p-6 flex items-center justify-center",children:o.jsx("div",{className:"w-full h-full bg-white rounded-2xl p-4 flex items-center justify-center",children:o.jsx(YTe,{value:P,size:180})})})}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Endereo da carteira"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 bg-zinc-800 rounded-xl px-4 py-3 text-sm font-mono text-gray-300 overflow-hidden",children:o.jsx("div",{className:"truncate",children:P})}),o.jsx("button",{onClick:()=>O(P),className:"flex-shrink-0 w-12 h-12 rounded-xl bg-zinc-800 hover:bg-zinc-700 flex items-center justify-center transition-all active:scale-95",children:l?o.jsx(An,{className:"w-5 h-5 text-green-500"}):o.jsx(xn,{className:"w-5 h-5 text-gray-400"})})]}),l&&o.jsx("p",{className:"text-xs text-green-500 mt-2 text-center font-semibold",children:"Endereo copiado!"})]})}),o.jsx("div",{className:"flex-1 px-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6",children:[o.jsx("h2",{className:"text-xl mb-3",children:"Selecione a rede"}),o.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Certifique-se de selecionar a rede correta ou seus fundos podem ser perdidos."," ",o.jsx("a",{href:"#",className:"text-blue-500 hover:text-blue-400",children:"Saber mais"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>f(!d),className:"w-full bg-zinc-800 rounded-2xl p-4 flex items-center gap-4 hover:bg-zinc-700 transition-all",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(ht,{symbol:_.find(C=>C.id===s)?.icon||"ETH",size:"sm"})}),o.jsx("div",{className:"flex-1 text-left",children:o.jsx("div",{className:"text-lg font-semibold",children:_.find(C=>C.id===s)?.name||"Ethereum"})}),o.jsx(bo,{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${d?"rotate-180":""}`})]}),d&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),o.jsx("div",{className:"absolute z-20 w-full mt-2 bg-zinc-800/95 backdrop-blur-xl rounded-2xl border border-zinc-700/50 shadow-2xl overflow-hidden",children:o.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:_.map(C=>o.jsxs("button",{onClick:()=>y(C.id),className:`w-full p-4 flex items-center gap-4 transition-all border-b border-zinc-700/30 last:border-b-0 ${s===C.id?"bg-blue-500/20":"hover:bg-zinc-700/50"}`,children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(ht,{symbol:C.icon,size:"sm"})}),o.jsx("div",{className:"flex-1 text-left",children:o.jsxs("div",{className:"text-base font-semibold",children:[" ",C.name]})}),s===C.id&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0",children:o.jsx(An,{className:"w-4 h-4 text-white",strokeWidth:3})})]},C.id))})})]})]})]})})]})}return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-3xl",children:"Receber"})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Gl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Pesquise criptomoedas compatveis",value:e,onChange:I=>n(I.target.value),className:"w-full bg-zinc-900 text-white rounded-full py-3.5 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-gray-700 placeholder-gray-500"})]})}),o.jsxs("div",{className:"flex-1 px-6",children:[o.jsx("div",{className:"space-y-0",children:M.map(I=>{const P=b(I.symbol),C=S(I.id,P);return o.jsxs("button",{className:"w-full bg-zinc-900/50 hover:bg-zinc-800/50 transition-colors p-4 flex items-center gap-4 border-b border-zinc-800/50 last:border-b-0",onClick:()=>i(I.symbol),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ht,{symbol:I.symbol,size:"md"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-base",children:I.symbol}),o.jsx("div",{className:"text-sm text-gray-400",children:I.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold text-base",children:[I.symbol==="USDT"?Wr(P):or(P)," ",I.symbol]}),o.jsxs("div",{className:"text-sm text-gray-400",children:[Wr(C)," USDT"]})]})]},I.symbol)})}),M.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-400",children:"Nenhuma criptomoeda encontrada"})})]})]})}function yW(t,e){const n=Date.now(),r=Math.random().toString(36).substring(2,15),i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",s=a=>{let l="";for(let c=0;c<a;c++)l+=i[Math.floor(Math.random()*i.length)];return l};switch(t){case"Ethereum":case"BSC":case"Polygon":return`0x${e.substring(0,8)}${n.toString(16)}${r}`.substring(0,42);case"Bitcoin":return`bc1q${e.substring(0,6)}${r}${n.toString(36)}`.substring(0,42);case"Tron":return`T${s(33)}`;case"Solana":return`${e.substring(0,8)}${r}${n.toString(36)}Solana`.substring(0,44);case"Ripple":return`r${e.substring(0,7)}${r}${n.toString(36)}`.substring(0,34);default:return`${t.substring(0,3).toUpperCase()}${e.substring(0,8)}${r}${n.toString(36)}`}}async function vW(t,e,n){const r=n||yW(e,t);console.log(` Salvando endereo ${e}: ${r}`);const i=lt(Ee,"users",t,"walletAddresses",e),s={network:e,address:r,userId:t,createdAt:new Date,updatedAt:new Date};await cr(i,s),console.log(" Endereo salvo no documento do usurio");const a=lt(Ee,"walletAddressIndex",r.toLowerCase());return await cr(a,{address:r,userId:t,network:e,updatedAt:new Date}),console.log(` Endereo indexado globalmente: ${r}`),await new Promise(l=>setTimeout(l,300)),s}async function JTe(t,e){try{const n=lt(Ee,"users",t,"walletAddresses",e),r=await cs(n);return r.exists()?r.data().address:(await vW(t,e)).address}catch(n){return console.error(" Erro ao buscar endereo:",n),null}}async function ZTe(t){try{console.log(" Buscando userId para endereo:",t);const e=lt(Ee,"walletAddressIndex",t.toLowerCase()),n=await cs(e);if(n.exists()){const r=n.data();return console.log(" Endereo encontrado no ndice global:",r.userId),r.userId}return console.warn(" Endereo no encontrado no ndice global:",t),console.warn(" Execute a migrao de endereos em: Perfil  Configuraes  Teste de Endereos"),null}catch(e){return console.error(" Erro ao buscar usurio por endereo:",e),null}}async function ePe(t,e){const n=yW(e,t);return await vW(t,e,n),n}async function tPe(t,e,n){try{console.log(" Validando endereo:",t,"na rede:",e);const r=await ZTe(t);if(!r)return console.warn(" Endereo no encontrado no ndice:",t),{isValid:!1,userId:null,userName:null,error:"Endereo no encontrado. Certifique-se de que o destinatrio possui uma conta NexCoin."};if(n&&r===n)return console.warn(" Tentativa de auto-transferncia detectada"),{isValid:!1,userId:null,userName:null,error:"Voc no pode transferir para o seu prprio endereo."};console.log(" Usurio encontrado:",r);const i=lt(Ee,"users",r,"walletAddresses",e),s=await cs(i);if(!s.exists())return console.warn(` Endereo no pertence  rede ${e}`),{isValid:!1,userId:null,userName:null,error:`Este endereo no pertence  rede ${e}`};const a=s.data();if(a.address.toLowerCase()!==t.toLowerCase())return console.warn(` Endereo no corresponde: esperado ${a.address}, recebido ${t}`),{isValid:!1,userId:null,userName:null,error:`Endereo no corresponde  rede ${e}`};const l=lt(Ee,"users",r),c=await cs(l),d=c.exists()&&(c.data().name||c.data().email)||"Usurio";return console.log(" Endereo vlido! Destinatrio:",d,"(",r,")"),{isValid:!0,userId:r,userName:d}}catch(r){return console.error(" Erro ao validar endereo:",r),{isValid:!1,userId:null,userName:null,error:"Erro ao validar endereo"}}}async function nPe(t){try{console.log(" Iniciando transferncia de cripto:",t);const{fromUserId:e,toUserId:n,coinId:r,coinSymbol:i,amount:s,fee:a,network:l,toAddress:c}=t;if(!e||!n)throw new Error("Remetente ou destinatrio invlido");if(e===n)throw new Error("No  possvel transferir para si mesmo");if(s<=0)throw new Error("Valor invlido");const d=s+a,f=await SP(Ee,async x=>{const b=lt(Ee,"users",e,"portfolio",i),_=await x.get(b),S=lt(Ee,"users",n,"portfolio",i),M=await x.get(S);if(!_.exists())throw new Error("Voc no possui saldo desta criptomoeda");const O=_.data().amount||0;if(O<d)throw new Error(`Saldo insuficiente. Necessrio: ${d} ${i}, Disponvel: ${O} ${i}`);const z=O-d;x.update(b,{amount:z,updatedAt:new Date}),console.log(` Debitado ${d} ${i} de ${e}. Novo saldo: ${z}`);let I;return M.exists()?(I=(M.data().amount||0)+s,x.update(S,{amount:I,updatedAt:new Date})):(I=s,x.set(S,{coinId:r,symbol:i,amount:I,name:i,createdAt:new Date,updatedAt:new Date})),console.log(` Creditado ${s} ${i} para ${n}. Novo saldo: ${I}`),{newFromBalance:z,newToBalance:I}}),m=`txn_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,p=lt(it(Ee,"users",e,"transactions"));await cr(p,{id:p.id,type:"crypto_send",coinId:r,coinSymbol:i,currency:i,amount:-d,amountSent:s,fee:a,feeCurrency:i,network:l,toUserId:n,toAddress:c,status:"completed",transactionHash:t.transactionHash,transactionId:m,createdAt:vt.fromDate(new Date),description:`Enviado ${s} ${i} via ${l}`});const y=lt(it(Ee,"users",n,"transactions"));return await cr(y,{id:y.id,type:"crypto_receive",coinId:r,coinSymbol:i,currency:i,amount:s,fee:0,feeCurrency:i,network:l,fromUserId:e,fromAddress:t.fromAddress||"NexCoin User",status:"completed",transactionHash:t.transactionHash,transactionId:m,createdAt:vt.fromDate(new Date),description:`Recebido ${s} ${i} via ${l}`}),console.log(" Transferncia concluda com sucesso!"),{success:!0,transactionId:p.id}}catch(e){return console.error(" Erro ao processar transferncia:",e),{success:!1,error:e.message||"Erro ao processar transferncia"}}}function rPe(){const t=Date.now().toString(16),e=Math.random().toString(16).substring(2);return`0x${t}${e}`.substring(0,66)}function xW(){const{user:t}=Vt(),[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{if(!t?.uid){n([]),i(!1);return}console.log(" Iniciando listener de endereos de wallet...");const l=it(Ee,"users",t.uid,"walletAddresses"),c=xi(l,d=>{const f=[];d.forEach(m=>{const p=m.data();f.push({network:p.network,address:p.address,userId:p.userId,createdAt:p.createdAt?.toDate()||new Date,updatedAt:p.updatedAt?.toDate()||new Date})}),n(f),i(!1),console.log(" Endereos carregados:",f)},d=>{console.error(" Erro ao carregar endereos:",d),i(!1)});return()=>{console.log(" Cancelando listener de endereos"),c()}},[t?.uid]),{addresses:e,isLoading:r,getAddressForNetwork:async l=>{if(!t?.uid)throw new Error("Usurio no autenticado");const c=e.find(f=>f.network===l);return c?c.address:await JTe(t.uid,l)||""},regenerateAddress:async l=>{if(!t?.uid)throw new Error("Usurio no autenticado");const c=await ePe(t.uid,l);return console.log(` Novo endereo gerado para ${l}:`,c),c}}}function iPe({crypto:t,network:e,onBack:n}){const[r,i]=E.useState(""),[s,a]=E.useState(""),[l,c]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(!1),[y,x]=E.useState(!1),[b,_]=E.useState(""),[S,M]=E.useState(""),[O,z]=E.useState(!1),[I,P]=E.useState(!1),[C,N]=E.useState(null),{prices:A}=wi(),{user:j}=Vt(),{getAddressForNetwork:D}=xW();E.useEffect(()=>{const H=setTimeout(async()=>{if(!r||r.length<10){N(null);return}x(!0),N(null);try{const R=await tPe(r,e.id,j?.uid);N(R)}catch(R){console.error("Erro ao validar:",R),N({isValid:!1,userName:null,error:"Erro ao validar endereo"})}finally{x(!1)}},800);return()=>clearTimeout(H)},[r,e.id,j?.uid]);const L=Q=>Q>=1?Q.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8}):Q.toFixed(8),B=parseFloat(e.fee.split(" ")[0]),$=parseFloat(s)||0,Y=$+B,Z=r&&s&&parseFloat(s)>0&&parseFloat(s)<=t.balance&&C?.isValid===!0,k=async()=>{if(!Z||!j?.uid||!C?.userId){Me.error("Dados invlidos para transferncia");return}p(!0);try{const Q=rPe(),H=await D(e.id),R=await nPe({fromUserId:j.uid,toUserId:C.userId,coinId:t.id,coinSymbol:t.symbol,amount:$,fee:B,network:e.id,toAddress:r,fromAddress:H,status:"completed",transactionHash:Q,createdAt:new Date});R.success?(_(Q),M(new Date().toLocaleString("pt-BR")),c(!0),Me.success("Transferncia realizada com sucesso!")):Me.error(R.error||"Erro ao processar transferncia")}catch(Q){console.error("Erro ao enviar:",Q),Me.error(Q.message||"Erro ao processar transferncia")}finally{p(!1)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:n,className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h1",{className:"text-lg",children:["Enviar ",t.symbol]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ht,{symbol:t.symbol,size:"md"})})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Saldo disponvel"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold",children:[L(t.balance)," ",t.symbol]}),o.jsxs("div",{className:"text-xs text-gray-400",children:["$",((A[t.id]?.usd||0)*t.balance).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]}),o.jsxs("div",{className:"flex-1 px-6 space-y-6 overflow-y-auto",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-3",children:"Rede selecionada"}),o.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:o.jsx(ht,{symbol:e.icon,size:"sm"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-sm",children:e.name}),o.jsxs("div",{className:"text-xs text-gray-400",children:["Taxa: ",e.fee]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-3",children:"Endereo da carteira"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Cole ou escaneie o endereo da carteira",value:r,onChange:Q=>i(Q.target.value),className:`w-full bg-zinc-900 text-white rounded-xl py-4 pl-4 pr-12 focus:outline-none focus:ring-2 placeholder-gray-500 transition-all ${C?.isValid?"focus:ring-green-500 ring-2 ring-green-500/50":C?.isValid===!1?"focus:ring-red-500 ring-2 ring-red-500/50":"focus:ring-gray-600"}`}),o.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[y&&o.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}),C?.isValid&&o.jsx(bk,{className:"w-5 h-5 text-green-500"}),C?.isValid===!1&&o.jsx(Qr,{className:"w-5 h-5 text-red-500"})]})]}),C?.isValid&&C.userName&&o.jsxs("div",{className:"mt-3 bg-green-500/10 border border-green-500/20 rounded-xl p-3 flex items-start gap-3",children:[o.jsx(bk,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-green-500 text-sm font-semibold mb-0.5",children:"Destinatrio encontrado"}),o.jsxs("p",{className:"text-green-200/80 text-xs",children:["Enviando para: ",o.jsx("span",{className:"font-semibold",children:C.userName})]})]})]}),C?.isValid===!1&&C.error&&o.jsxs("div",{className:"mt-3 bg-red-500/10 border border-red-500/20 rounded-xl p-3 flex items-start gap-3",children:[o.jsx(zl,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-red-500 text-sm font-semibold mb-0.5",children:"Endereo invlido"}),o.jsx("p",{className:"text-red-200/80 text-xs",children:C.error})]})]}),r&&!C&&!y&&o.jsxs("div",{className:"mt-2 flex items-start gap-2 text-xs text-gray-400",children:[o.jsx(zl,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),o.jsx("p",{children:"Certifique-se de que o endereo est correto. Transaes no podem ser revertidas."})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("label",{className:"text-sm font-semibold",children:"Valor"}),o.jsx("button",{onClick:()=>a(t.balance.toString()),className:"text-xs text-gray-400 hover:text-white transition-colors",children:"Usar mximo"})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"number",placeholder:"0.00",value:s,onChange:Q=>a(Q.target.value),className:"flex-1 bg-transparent text-2xl font-bold outline-none placeholder-gray-600",step:"0.00000001"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ht,{symbol:t.symbol,size:"sm"}),o.jsx("span",{className:"font-semibold text-lg",children:t.symbol})]})]}),s&&o.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[" $",(parseFloat(s)*(A[t.id]?.usd||0)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),s&&r&&C?.isValid&&o.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 space-y-3",children:[o.jsx("h3",{className:"font-semibold text-sm mb-3",children:"Resumo da transao"}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Quantidade"}),o.jsxs("span",{className:"font-semibold",children:[s," ",t.symbol]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Taxa de rede"}),o.jsxs("span",{className:"font-semibold",children:[B," ",t.symbol]})]}),o.jsx("div",{className:"h-px bg-zinc-800 my-2"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Total"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-bold text-lg",children:[t.symbol==="USDT"?Wr(Y):or(Y)," ",t.symbol]}),o.jsxs("div",{className:"text-xs text-gray-400",children:[" ",Wr(Y*(A[t.id]?.usd||0))," USDT"]})]})]})]}),o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 flex gap-3",children:[o.jsx(zl,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-200/90",children:[o.jsx("p",{className:"font-semibold mb-1",children:"Ateno"}),o.jsx("p",{className:"text-xs text-yellow-200/70",children:"Verifique cuidadosamente o endereo e a rede antes de enviar. Apenas endereos cadastrados na NexCoin so aceitos."})]})]})]}),o.jsxs("div",{className:"px-6 py-4 bg-black",children:[o.jsx("button",{disabled:!Z||m,className:`w-full py-4 rounded-xl font-semibold text-lg transition-all ${Z&&!m?"bg-white text-black hover:bg-gray-200":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,onClick:k,children:m?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-black/20 border-t-black rounded-full animate-spin"}),"Processando..."]}):"Enviar"}),!C?.isValid&&r&&!y&&o.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:"O endereo precisa estar cadastrado na NexCoin"})]}),o.jsx(_w,{children:l&&o.jsx(Ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>{c(!1),n()},children:o.jsxs(Ye.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",duration:.5},className:"bg-zinc-900 rounded-3xl p-8 max-w-sm w-full text-center relative overflow-hidden",onClick:Q=>Q.stopPropagation(),children:[o.jsxs(Ye.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6 relative",children:[o.jsx(Ye.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-16 h-16 bg-green-500/30 rounded-full flex items-center justify-center",children:o.jsx(Ye.svg,{initial:{pathLength:0},animate:{pathLength:1},transition:{delay:.5,duration:.5},className:"w-10 h-10 text-green-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx(Ye.path,{d:"M20 6L9 17l-5-5"})})}),o.jsx(Ye.div,{initial:{scale:.8,opacity:.5},animate:{scale:2.5,opacity:0},transition:{duration:1,ease:"easeOut"},className:"absolute inset-0 bg-green-500 rounded-full"})]}),o.jsxs(Ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},children:[o.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Enviado com sucesso!"}),o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Sua transao foi processada"}),C?.userName&&o.jsxs("p",{className:"text-green-400 text-sm font-semibold mb-6",children:["Destinatrio: ",C.userName]}),o.jsxs("div",{className:"bg-black/50 rounded-2xl p-4 mb-6 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Valor"}),o.jsxs("span",{className:"font-semibold text-white",children:[s," ",t.symbol]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Rede"}),o.jsx("span",{className:"font-semibold text-white",children:e.name})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Para"}),o.jsxs("span",{className:"font-semibold text-white text-xs",children:[r.slice(0,8),"...",r.slice(-6)]})]})]}),o.jsx("button",{onClick:()=>{c(!1),f(!0)},className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-gray-200 transition-colors mb-3",children:"Ver Comprovante"}),o.jsx("button",{onClick:()=>{c(!1),n()},className:"w-full bg-zinc-800 text-white font-semibold py-3 rounded-xl hover:bg-zinc-700 transition-colors",children:"Fechar"})]})]})})})]})}function sPe({onNavigate:t}){const[e,n]=E.useState(""),[r,i]=E.useState(null),[s,a]=E.useState(null),{prices:l}=wi(),{portfolio:c}=qs(),d=S=>c.holdings.find(O=>O.coinId===S)?.amount||0,f=[{symbol:"USDT",name:"Tether",balance:d("tether"),id:"tether"},{symbol:"BTC",name:"Bitcoin",balance:d("bitcoin"),id:"bitcoin"},{symbol:"ETH",name:"Ethereum",balance:d("ethereum"),id:"ethereum"},{symbol:"BNB",name:"Binance Coin",balance:d("binancecoin"),id:"binancecoin"},{symbol:"SOL",name:"Solana",balance:d("solana"),id:"solana"},{symbol:"ADA",name:"Cardano",balance:d("cardano"),id:"cardano"},{symbol:"XRP",name:"Ripple",balance:d("ripple"),id:"ripple"},{symbol:"DOT",name:"Polkadot",balance:d("polkadot"),id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",balance:d("dogecoin"),id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",balance:d("avalanche-2"),id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",balance:d("matic-network"),id:"matic-network"},{symbol:"LINK",name:"Chainlink",balance:d("chainlink"),id:"chainlink"},{symbol:"UNI",name:"Uniswap",balance:d("uniswap"),id:"uniswap"},{symbol:"LTC",name:"Litecoin",balance:d("litecoin"),id:"litecoin"},{symbol:"ATOM",name:"Cosmos",balance:d("cosmos"),id:"cosmos"}],m=[{id:"Ethereum",name:"Ethereum (ERC20)",icon:"ETH",fee:"2.5 USDT"},{id:"Tron",name:"Tron (TRC20)",icon:"TRX",fee:"1.0 USDT"},{id:"Polygon",name:"Polygon",icon:"MATIC",fee:"0.5 USDT"},{id:"Solana",name:"Solana",icon:"SOL",fee:"0.3 USDT"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB",fee:"0.8 USDT"}],p=S=>S>=1?S.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8}):S.toFixed(8),y=(S,M)=>(l[S]?.usd||0)*M,x=f.filter(S=>S.symbol.toLowerCase().includes(e.toLowerCase())||S.name.toLowerCase().includes(e.toLowerCase())),b=f.find(S=>S.symbol===r),_=m.find(S=>S.id===s);return r&&b&&s&&_?o.jsx(iPe,{crypto:b,network:_,onBack:()=>{a(null)}}):r&&b?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h1",{className:"text-lg",children:["Enviar ",b.symbol]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ht,{symbol:b.symbol,size:"md"})})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Saldo disponvel"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold",children:[p(b.balance)," ",b.symbol]}),o.jsxs("div",{className:"text-xs text-gray-400",children:["$",y(b.id,b.balance).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]}),o.jsx("div",{className:"flex-1 px-6 overflow-y-auto",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-3",children:"Selecione a rede"}),o.jsx("div",{className:"space-y-2",children:m.map(S=>o.jsxs("button",{onClick:()=>a(S.id),className:"w-full bg-zinc-900 rounded-xl p-4 flex items-center gap-3 transition-all hover:bg-zinc-800",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:o.jsx(ht,{symbol:S.icon,size:"sm"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-sm",children:S.name}),o.jsxs("div",{className:"text-xs text-gray-400",children:["Taxa: ",S.fee]})]})]},S.id))})]})})]}):o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-lg",children:"Enviar"})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Gl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Pesquise criptomoedas compatveis",value:e,onChange:S=>n(S.target.value),className:"w-full bg-zinc-900 text-white rounded-full py-3.5 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-gray-700 placeholder-gray-500"})]})}),o.jsxs("div",{className:"flex-1 px-6 overflow-y-auto",children:[o.jsx("div",{className:"space-y-0",children:x.map(S=>{const M=y(S.id,S.balance);return o.jsxs("button",{className:"w-full bg-zinc-900/50 hover:bg-zinc-800/50 transition-colors p-4 flex items-center gap-4 border-b border-zinc-800/50 last:border-b-0",onClick:()=>i(S.symbol),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ht,{symbol:S.symbol,size:"md"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-base",children:S.symbol}),o.jsx("div",{className:"text-sm text-gray-400",children:S.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold text-base",children:[p(S.balance)," ",S.symbol]}),o.jsxs("div",{className:"text-sm text-gray-400",children:["$",M.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},S.symbol)})}),x.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-400",children:"Nenhuma criptomoeda encontrada"})})]})]})}async function aPe(t,e){try{console.log(" ============ VALIDAO DE CHAVE PIX ============"),console.log(" Chave digitada pelo usurio:",t),console.log(" User ID atual:",e);const n=t.includes("@");let r;n?r=t.trim().replace(/\s/g,"").toLowerCase():r=t.trim().replace(/\s/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\+/g,"").toLowerCase(),console.log(" Tipo detectado:",n?"EMAIL":"TELEFONE/CPF/CNPJ"),console.log(" Chave PIX limpa para busca:",r);const i=it(Ee,"pixKeys");console.log(" Buscando todas as chaves PIX no Firestore...");const s=await Pt(i);console.log(" Total de chaves PIX no sistema:",s.size),console.log(" ============ TODAS AS CHAVES NO SISTEMA ============"),s.docs.forEach((m,p)=>{const y=m.data();console.log(`  [${p+1}] ID: ${m.id}`),console.log(`      keyValue: "${y.keyValue}"`),console.log(`      keyType: ${y.keyType}`),console.log(`      userId: ${y.userId}`)}),console.log(" ====================================================");let a=null;for(const m of s.docs){const p=m.data(),y=p.keyValue||"",x=y.includes("@");let b;if(x?b=y.trim().replace(/\s/g,"").toLowerCase():b=y.trim().replace(/\s/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\+/g,"").toLowerCase(),console.log(" Comparando:"),console.log(`   Digitado (limpo): "${r}"`),console.log(`   Armazenado (original): "${y}"`),console.log(`   Armazenado (limpo): "${b}"`),console.log(`   Match: ${b===r?" SIM":" NO"}`),b===r){a={id:m.id,...p},console.log(" ============ CHAVE ENCONTRADA! ============"),console.log(" Documento ID:",m.id),console.log(" User ID:",p.userId),console.log(" Key Type:",p.keyType),console.log(" Key Value:",p.keyValue),console.log(" ==========================================");break}}if(!a)return console.error(" ============ CHAVE NO ENCONTRADA ============"),console.error(" Chave digitada:",t),console.error(" Chave limpa:",r),console.error(" Total de chaves no sistema:",s.size),console.error(" ============================================="),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Chave PIX no encontrada no sistema NexCoin"};const l=a;if(!l.userId)return console.error(" Chave encontrada mas sem userId!"),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Chave PIX invlida (sem usurio vinculado)"};if(e&&l.userId===e)return console.warn(" Tentativa de auto-transferncia PIX detectada"),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Voc no pode transferir para a sua prpria chave PIX."};const c=lt(Ee,"users",l.userId),d=await cs(c),f=d.exists()&&(d.data().name||d.data().email)||"Usurio";return console.log(" Chave PIX vlida! Destinatrio:",f,"(",l.userId,")"),{isValid:!0,userId:l.userId,userName:f,pixKeyType:l.keyType||"unknown"}}catch(n){return console.error(" ============ ERRO NA VALIDAO ============"),console.error(" Erro:",n),console.error(" ========================================="),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Erro ao validar chave PIX"}}}async function oPe(t){try{console.log(" Iniciando transferncia PIX:",t);const{fromUserId:e,toUserId:n,currency:r,amount:i,pixKey:s,pixKeyType:a,description:l,transactionId:c}=t;if(!e||!n)throw new Error("Remetente ou destinatrio invlido");if(e===n)throw new Error("No  possvel transferir para si mesmo");if(i<=0)throw new Error("Valor invlido");return await SP(Ee,async d=>{const f=lt(Ee,"users",e,"fiatBalances",r),m=await d.get(f),p=lt(Ee,"users",n,"fiatBalances",r),y=await d.get(p);let x=0;m.exists()&&(x=m.data().balance||m.data().amount||0),x<i&&(console.warn(` Saldo fiat insuficiente (${x} ${r}). Isso indica que o usurio est usando saldo do portfolio.`),console.warn(" A validao do saldo j foi feita no frontend. Permitindo transferncia."));const b=Math.max(0,x-i);let _=0;y.exists()&&(_=y.data().balance||y.data().amount||0);const S=_+i;m.exists()?d.update(f,{balance:b,updatedAt:new Date}):d.set(f,{currency:r,balance:b,createdAt:new Date,updatedAt:new Date}),console.log(` Debitado ${i} ${r} de ${e}. Novo saldo: ${b}`),y.exists()?d.update(p,{balance:S,updatedAt:new Date}):d.set(p,{currency:r,balance:S,createdAt:new Date,updatedAt:new Date}),console.log(` Creditado ${i} ${r} para ${n}. Novo saldo: ${S}`);const M=lt(it(Ee,"users",e,"transactions"));d.set(M,{id:M.id,type:"pix_send",currency:r,amount:-i,fee:0,feeCurrency:r,pixKey:s,pixKeyType:a,toUserId:n,status:"completed",transactionId:c,createdAt:vt.fromDate(new Date),description:l||`PIX enviado para ${s}`});const O=lt(it(Ee,"users",n,"transactions"));d.set(O,{id:O.id,type:"pix_receive",currency:r,amount:i,fee:0,feeCurrency:r,pixKey:s,pixKeyType:a,fromUserId:e,status:"completed",transactionId:c,createdAt:vt.fromDate(new Date),description:l||`PIX recebido de ${s}`})}),console.log(" Transferncia PIX concluda com sucesso!"),{success:!0,transactionId:c}}catch(e){return console.error(" Erro ao processar transferncia PIX:",e),{success:!1,error:e.message||"Erro ao processar transferncia PIX"}}}function lPe(){const t=Date.now(),e=Math.random().toString(36).substring(2,9).toUpperCase();return`PIX${t}${e}`}function cPe({onNavigate:t,transactionData:e}){const[n,r]=E.useState(null),[i,s]=E.useState("idle"),a=(c,d)=>{const f=document.createElement("textarea");f.value=c,f.style.position="fixed",f.style.left="-999999px",f.style.top="-999999px",document.body.appendChild(f),f.focus(),f.select();try{document.execCommand("copy"),r(d),setTimeout(()=>r(null),2e3)}catch(m){console.error("Erro ao copiar:",m)}document.body.removeChild(f)},l=async()=>{const c=` Comprovante de Transferncia NexCoin

 Valor: ${e.symbol} ${e.amount}
 Moeda: ${e.currency}
 ID: ${e.transactionId}

 Mtodo: ${e.method}
 Destinatrio: ${e.recipientInfo}

 Status: ${e.status}
 Taxa: ${e.symbol} ${e.fee.toFixed(2)}
 Processamento: ${e.processingTime}
 Data: ${e.date}

 NexCoin - Seu banco digital de criptomoedas`;s("sharing");const d=m=>{try{const p=document.createElement("textarea");p.value=m,p.style.position="fixed",p.style.left="-999999px",p.style.top="-999999px",p.style.opacity="0",document.body.appendChild(p),p.focus(),p.select();const y=document.execCommand("copy");return document.body.removeChild(p),y?(console.log(" Comprovante copiado para rea de transferncia"),s("copied"),setTimeout(()=>s("idle"),3e3),!0):!1}catch(p){return console.error(" Erro ao copiar:",p),!1}},f=window.isSecureContext;try{if(f&&navigator.share&&typeof navigator.canShare=="function"&&navigator.canShare({text:c}))try{await navigator.share({title:" Comprovante de Transferncia - NexCoin",text:c}),console.log(" Comprovante compartilhado com sucesso"),s("idle");return}catch(p){if(p.name==="AbortError"){console.log(" Compartilhamento cancelado pelo usurio"),s("idle");return}console.log(" Web Share API no disponvel, usando mtodo alternativo...")}if(f&&navigator.clipboard&&typeof navigator.clipboard.writeText=="function")try{await navigator.clipboard.writeText(c),console.log(" Comprovante copiado para rea de transferncia"),s("copied"),setTimeout(()=>s("idle"),3e3);return}catch{console.log(" Clipboard API no disponvel, usando mtodo compatvel...")}d(c)||(console.error(" No foi possvel copiar o comprovante"),s("idle"),alert("No foi possvel copiar o comprovante. Por favor, tire um screenshot desta tela."))}catch(m){console.error(" Erro inesperado:",m),d(c)||(s("idle"),alert("No foi possvel copiar o comprovante. Por favor, tire um screenshot desta tela."))}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mb-4 relative",children:o.jsx("div",{className:"w-16 h-16 bg-green-500/30 rounded-full flex items-center justify-center",children:o.jsx(aG,{className:"w-10 h-10 text-green-500"})})}),o.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Transferncia Confirmada!"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Comprovante de transferncia"})]})]}),o.jsxs("div",{className:"flex-1 px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Status"}),o.jsx("div",{className:"bg-green-500/20 px-3 py-1 rounded-full",children:o.jsx("span",{className:"text-xs font-semibold text-green-500",children:e.status})})]}),o.jsx("div",{className:"h-px bg-zinc-800 mb-3"}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-4xl font-bold mb-1",children:[e.symbol," ",e.amount]}),o.jsx("div",{className:"text-sm text-gray-400",children:e.currency})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"ID da transao"}),o.jsx("button",{onClick:()=>a(e.transactionId,"txid"),className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:n==="txid"?o.jsxs(o.Fragment,{children:[o.jsx(An,{className:"w-3 h-3"})," Copiado"]}):o.jsxs(o.Fragment,{children:[o.jsx(xn,{className:"w-3 h-3"})," Copiar"]})})]}),o.jsx("div",{className:"font-mono text-sm bg-zinc-800 rounded-lg px-3 py-2 break-all",children:e.transactionId})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("h3",{className:"text-xs text-gray-400 font-semibold mb-3",children:"Detalhes da transferncia"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Mtodo"}),o.jsx("span",{className:"font-semibold",children:e.method})]}),o.jsx("div",{className:"h-px bg-zinc-800"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Taxa"}),o.jsxs("span",{className:"font-semibold",children:[e.symbol," ",e.fee.toFixed(2)]})]}),o.jsx("div",{className:"h-px bg-zinc-800"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Processamento"}),o.jsx("span",{className:"font-semibold text-yellow-500",children:e.processingTime})]}),o.jsx("div",{className:"h-px bg-zinc-800"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Data"}),o.jsx("span",{className:"font-semibold",children:e.date})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Destinatrio"}),o.jsx("button",{onClick:()=>a(e.recipientInfo,"recipient"),className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:n==="recipient"?o.jsxs(o.Fragment,{children:[o.jsx(An,{className:"w-3 h-3"})," Copiado"]}):o.jsxs(o.Fragment,{children:[o.jsx(xn,{className:"w-3 h-3"})," Copiar"]})})]}),o.jsx("div",{className:"text-sm text-white break-all",children:e.recipientInfo})]}),o.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 text-sm",children:o.jsxs("p",{className:"text-blue-200/90",children:[o.jsx("span",{className:"font-semibold",children:" Importante:"})," Guarde este comprovante para referncia futura. O processamento pode levar at ",e.processingTime,"."]})})]}),o.jsxs("div",{className:"px-6 pt-4 space-y-3",children:[o.jsx("button",{onClick:l,disabled:i==="sharing",className:`w-full font-semibold py-4 rounded-xl transition-colors flex items-center justify-center gap-2 ${i==="copied"?"bg-green-500 text-white":"bg-zinc-900 text-white hover:bg-zinc-800"} ${i==="sharing"?"opacity-50 cursor-not-allowed":""}`,children:i==="sharing"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Compartilhando..."]}):i==="copied"?o.jsxs(o.Fragment,{children:[o.jsx(An,{className:"w-5 h-5"}),"Copiado para rea de transferncia!"]}):o.jsxs(o.Fragment,{children:[o.jsx(ZV,{className:"w-5 h-5"}),"Compartilhar comprovante"]})}),o.jsx("button",{onClick:()=>t("home"),className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-gray-200 transition-colors",children:"Voltar para Home"})]})]})}function uPe({onNavigate:t}){const[e,n]=E.useState("BR"),[r,i]=E.useState(null),[s,a]=E.useState(null),[l,c]=E.useState(""),[d,f]=E.useState(!1),[m,p]=E.useState(!1),[y,x]=E.useState(!1),[b,_]=E.useState(null),[S,M]=E.useState(""),{rates:O}=BP(),{portfolio:z}=qs(),{user:I}=Vt(),{getBalance:P}=Lg(),{addTransaction:C}=yw(),[N,A]=E.useState([]),[j,D]=E.useState(!0),[L,B]=E.useState(""),[$,Y]=E.useState(null),[Z,k]=E.useState(null),[Q,H]=E.useState({bank:"",bankCode:"",agency:"",account:"",accountType:"Conta Corrente",name:"",document:""}),[R,U]=E.useState({accountNumber:"",routingNumber:"",accountType:"Checking",name:"",address:""}),[K,J]=E.useState({iban:"",bic:"",name:"",address:""}),[G,te]=E.useState({accountNumber:"",sortCode:"",name:"",address:""}),ne=[{code:"BR",name:"Brasil",flag:"",currency:"BRL",symbol:"R$"},{code:"US",name:"Estados Unidos",flag:"",currency:"USD",symbol:"$"},{code:"EU",name:"Unio Europeia",flag:"",currency:"EUR",symbol:""},{code:"GB",name:"Reino Unido",flag:"",currency:"GBP",symbol:""}].find(de=>de.code===e),xe=z.totalBalanceUSDT,ae=de=>de*(O[ne.currency]||1),ve=ae(xe),me={BR:[{id:"pix",name:"PIX",icon:rs,description:"Transferncia instantnea",processingTime:"Instantneo",minAmount:.01,maxAmount:1/0,fee:0},{id:"bank",name:"Transferncia Bancria",icon:yl,description:"TED ou DOC",processingTime:"1-2 dias teis",minAmount:.01,maxAmount:1/0,fee:0}],US:[{id:"ach",name:"ACH Transfer",icon:yl,description:"Electronic bank transfer",processingTime:"3-5 business days",minAmount:.01,maxAmount:1/0,fee:0},{id:"wire",name:"Wire Transfer",icon:rs,description:"Domestic wire",processingTime:"Same day",minAmount:.01,maxAmount:1/0,fee:25}],EU:[{id:"sepa",name:"SEPA Transfer",icon:yl,description:"Single Euro Payments Area",processingTime:"1-2 business days",minAmount:.01,maxAmount:1/0,fee:0},{id:"instant",name:"SEPA Instant",icon:rs,description:"Instant SEPA transfer",processingTime:"Instant",minAmount:.01,maxAmount:1/0,fee:2}],GB:[{id:"faster",name:"Faster Payments",icon:rs,description:"Instant bank transfer",processingTime:"Instant",minAmount:.01,maxAmount:1/0,fee:0},{id:"bacs",name:"BACS Transfer",icon:yl,description:"Standard bank transfer",processingTime:"3 business days",minAmount:.01,maxAmount:1/0,fee:0}]}[e],Ie=me.find(de=>de.id===s);E.useEffect(()=>{if(!I?.uid){D(!1);return}const de=it(Ee,"bankAccounts"),Ke=It(de,Et("userId","==",I.uid)),ft=xi(Ke,rt=>{const st=rt.docs.map(Dt=>({...Dt.data(),id:Dt.id,createdAt:Dt.data().createdAt?.toDate()||new Date}));if(A(st),D(!1),st.length>0&&!r){const Dt=st[0];i(Dt);const pr={BR:"BR",US:"US",PT:"EU",ES:"EU",FR:"EU",DE:"EU",IT:"EU",GB:"GB",UK:"GB"}[Dt.country]||"BR";n(pr)}},rt=>{console.error(" Erro ao carregar contas:",rt),D(!1)});return()=>ft()},[I]);const De={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",KRW:"",ZAR:"R",ARS:"$",CLP:"$"},Ze=de=>{switch(de.country){case"BR":return{label:"Pix",icon:""};case"US":return{label:` ${de.accountNumber.slice(-4)}`};case"PT":case"ES":case"FR":case"DE":case"IT":return{label:` ${de.iban?.slice(-4)||de.accountNumber.slice(-4)}`};default:return{label:` ${de.accountNumber.slice(-4)}`}}},ct=de=>{const Ke=De[de]||de,rt=P(de).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});return`${Ke} ${rt}`},Fe=de=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(de),yt=de=>{const Ke=de.replace(/\D/g,"");if(Ke===""){c("");return}let rt=parseInt(Ke,10)/100;const st=P(ne.currency);rt>st&&(rt=st);const Dt=rt.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});c(Dt)},dt=de=>{if(!de)return{isValid:!1,type:null,error:null};const Ke=de.replace(/\s/g,"");return/^\d{11}$/.test(Ke)?{isValid:!0,type:"CPF",error:null}:/^\d{14}$/.test(Ke)?{isValid:!0,type:"CNPJ",error:null}:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(de)?{isValid:!0,type:"E-mail",error:null}:/^(\+55)?(\d{10,11})$/.test(Ke)?{isValid:!0,type:"Telefone",error:null}:/^[a-f0-9]{8}-?[a-f0-9]{4}-?[a-f0-9]{4}-?[a-f0-9]{4}-?[a-f0-9]{12}$/i.test(Ke)?{isValid:!0,type:"Chave Aleatria",error:null}:{isValid:!1,type:null,error:"Tipo de chave PIX no reconhecido. Use CPF, CNPJ, E-mail, Telefone ou Chave Aleatria."}},oe=de=>{let Ke=de.toLowerCase();Ke=Ke.replace(/[\s\-()]/g,""),B(Ke);const ft=dt(Ke);Y(ft.type),k(ft.error)},Ne=async()=>{if(!I?.uid){Me.error("Usurio no autenticado");return}const de=parseFloat(l.replace(/\./g,"").replace(",","."));if(console.log(" ============ VALIDAO DE TRANSFERNCIA PIX ============"),console.log(" Valor digitado (formatado):",l),console.log(" Valor convertido (nmero):",de),console.log(" Moeda:",ne.currency),console.log(" Valor mnimo permitido:",Ie?.minAmount),!de||de<(Ie?.minAmount||0)){Me.error(`Valor mnimo: ${ne.symbol} ${Ie?.minAmount}`);return}const Ke=P(ne.currency),ft=ae(xe);console.log(" ====== DEBUG DE SALDOS ======"),console.log(" Saldo Fiat (Firestore):",Ke),console.log(" Saldo Portfolio (USDT):",xe),console.log(" Saldo Portfolio Convertido:",ft),console.log(" Taxa de converso:",O[ne.currency]);const rt=Math.max(Ke,ft);if(console.log("  Saldo disponvel TOTAL para transferncia:",rt),console.log(" Comparao:",de,">",rt,"=",de>rt),de>rt){console.error(" SALDO INSUFICIENTE!"),console.error(" Tentou transferir:",de),console.error(" Saldo disponvel:",rt),console.error(" Diferena:",de-rt),Me.error(`Saldo insuficiente. Disponvel: ${ne.symbol} ${Fe(rt)}`);return}if(console.log(" Validao de saldo OK!"),console.log(" ===================================================="),e==="BR"&&s==="pix"){if(!L){Me.error("Informe a chave PIX");return}const st=dt(L);if(!st.isValid){Me.error(st.error||"Chave PIX invlida");return}}if(e==="BR"&&s==="bank"&&(!Q.bank||!Q.agency||!Q.account||!Q.name)){Me.error("Preencha todos os dados bancrios");return}if(e==="US"&&(!R.accountNumber||!R.routingNumber||!R.name)){Me.error("Fill in all bank details");return}if(e==="EU"&&(!K.iban||!K.name)){Me.error("Fill in all bank details");return}if(e==="GB"&&(!G.accountNumber||!G.sortCode||!G.name)){Me.error("Fill in all bank details");return}x(!0);try{if(e==="BR"&&s==="pix"){console.log(" Verificando se chave PIX pertence a um usurio NexCoin...");const Dn=await aPe(L,I.uid);if(Dn.isValid&&Dn.userId){console.log(" Chave PIX encontrada no sistema NexCoin"),console.log(` Remetente: ${I.uid}`),console.log(` Destinatrio: ${Dn.userId} (${Dn.userName})`);const Ks=lPe(),$r=await oPe({fromUserId:I.uid,toUserId:Dn.userId,currency:ne.currency,amount:de,pixKey:L,pixKeyType:Dn.pixKeyType||$||"unknown",description:`Transferncia PIX para ${Dn.userName}`,transactionId:Ks,createdAt:new Date});if(!$r.success)throw new Error($r.error||"Erro ao processar transferncia PIX");console.log(" Transferncia PIX entre usurios concluda!"),Me.success(`Transferncia enviada para ${Dn.userName}!`),M(Ks),x(!1),f(!0);return}else{console.warn(" Chave PIX no encontrada no sistema NexCoin"),Me.error(Dn.error||"Chave PIX no encontrada no sistema NexCoin. Apenas transferncias entre usurios NexCoin so suportadas no momento."),x(!1);return}}let st="";e==="BR"&&s==="pix"?st=`Transferncia PIX - ${L}`:e==="BR"&&s==="bank"?st=`Transferncia TED - ${Q.name}`:st=`Transferncia via ${Ie?.name}`;const Dt=await Al(I.uid,ne.currency,-de,st);if(!Dt.success)throw new Error(Dt.message||"Erro ao processar transferncia");let Qt="";e==="BR"&&s==="pix"?Qt=`Chave PIX: ${L} (${$})`:e==="BR"&&s==="bank"?Qt=`${Q.name} - ${Q.bank} Ag: ${Q.agency} Conta: ${Q.account}`:e==="US"?Qt=`${R.name} - Account: ${R.accountNumber}`:e==="EU"?Qt=`${K.name} - IBAN: ${K.iban}`:e==="GB"&&(Qt=`${G.name} - Sort Code: ${G.sortCode} Account: ${G.accountNumber}`);const pr=`TX${Date.now()}${Math.floor(Math.random()*1e3)}`;M(pr),await C({type:"withdraw_fiat",status:"completed",amount:de,currency:ne.currency,fee:Ie?.fee||0,feeCurrency:ne.currency,description:st,recipientInfo:Qt,transactionHash:pr}),console.log(" Transferncia processada com sucesso"),Me.success("Transferncia realizada com sucesso!"),x(!1),f(!0)}catch(st){console.error(" Erro ao processar transferncia:",st),Me.error(st.message||"Erro ao processar transferncia"),x(!1)}},Xe=()=>s?e==="BR"&&s==="pix"?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg mb-1",children:"Transferir via PIX"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Transferncia instantnea"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:o.jsx(rs,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Saldo disponvel"}),o.jsx("div",{className:"text-white",children:o.jsx(Ea,{value:Fe(P("BRL")),symbol:"R$"})})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Valor a transferir"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl font-light text-white",children:ne.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:de=>yt(de.target.value),className:"flex-1 bg-transparent text-xl font-light text-white outline-none placeholder-gray-600"})]}),o.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Mn: ",ne.symbol," ",Ie?.minAmount,"  Mx: ",ne.symbol," ",Fe(Ie?.maxAmount||0)]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Chave PIX do destinatrio"}),o.jsx("input",{type:"text",placeholder:"CPF, E-mail, Telefone ou Chave Aleatria",value:L,onChange:de=>oe(de.target.value),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Informe a chave PIX de quem vai receber a transferncia"}),Z&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:Z})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Taxa"}),o.jsxs("span",{className:"text-white",children:[ne.symbol," 0,00"]})]}),o.jsx("div",{className:"h-px bg-zinc-800"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Tempo"}),o.jsx("span",{className:"text-green-500",children:"Instantneo"})]})]}),o.jsx("button",{onClick:Ne,disabled:y,className:"w-full bg-white text-black py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processando...":"Confirmar Transferncia"})]})]}):e==="BR"&&s==="bank"?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg mb-1",children:"Transferncia Bancria"}),o.jsx("p",{className:"text-sm text-gray-400",children:"TED ou DOC"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:o.jsx(yl,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Saldo disponvel"}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:[ne.symbol," ",Fe(ve)]})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Valor"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-white",children:ne.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:de=>yt(de.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:"Banco",value:Q.bank,onChange:de=>H({...Q,bank:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("input",{type:"text",placeholder:"Cdigo",value:Q.bankCode,onChange:de=>H({...Q,bankCode:de.target.value}),className:"bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Agncia",value:Q.agency,onChange:de=>H({...Q,agency:de.target.value}),className:"bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),o.jsx("input",{type:"text",placeholder:"Conta",value:Q.account,onChange:de=>H({...Q,account:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsxs("select",{value:Q.accountType,onChange:de=>H({...Q,accountType:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none",children:[o.jsx("option",{value:"Conta Corrente",children:"Conta Corrente"}),o.jsx("option",{value:"Conta Poupana",children:"Conta Poupana"})]}),o.jsx("input",{type:"text",placeholder:"Nome completo",value:Q.name,onChange:de=>H({...Q,name:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"CPF/CNPJ",value:Q.document,onChange:de=>H({...Q,document:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),o.jsx("button",{onClick:Ne,disabled:y,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processando...":"Confirmar Transferncia"})]})]}):e==="US"&&(s==="ach"||s==="wire")?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-1",children:s==="ach"?"ACH Transfer":"Wire Transfer"}),o.jsx("p",{className:"text-sm text-gray-400",children:s==="ach"?"Electronic bank transfer":"Domestic wire"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:s==="ach"?o.jsx(yl,{className:"w-6 h-6 text-white"}):o.jsx(rs,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Available balance"}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:[ne.symbol," ",Fe(ve)]})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Amount"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-white",children:ne.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:de=>yt(de.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:"Routing Number",value:R.routingNumber,onChange:de=>U({...R,routingNumber:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Account Number",value:R.accountNumber,onChange:de=>U({...R,accountNumber:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsxs("select",{value:R.accountType,onChange:de=>U({...R,accountType:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none",children:[o.jsx("option",{value:"Checking",children:"Checking"}),o.jsx("option",{value:"Savings",children:"Savings"})]}),o.jsx("input",{type:"text",placeholder:"Account holder name",value:R.name,onChange:de=>U({...R,name:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Address",value:R.address,onChange:de=>U({...R,address:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Fee"}),o.jsxs("span",{className:"font-semibold text-white",children:[ne.symbol," ",Ie?.fee||0]})]})}),o.jsx("button",{onClick:Ne,disabled:y,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processing...":"Confirm Transfer"})]})]}):e==="EU"&&(s==="sepa"||s==="instant")?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-1",children:s==="sepa"?"SEPA Transfer":"SEPA Instant"}),o.jsx("p",{className:"text-sm text-gray-400",children:s==="sepa"?"Single Euro Payments Area":"Instant transfer"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:s==="sepa"?o.jsx(yl,{className:"w-6 h-6 text-white"}):o.jsx(rs,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Available balance"}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:[ne.symbol," ",Fe(ve)]})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Amount"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-white",children:ne.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:de=>yt(de.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:"IBAN",value:K.iban,onChange:de=>J({...K,iban:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500 font-mono text-sm"}),o.jsx("input",{type:"text",placeholder:"BIC/SWIFT (optional)",value:K.bic,onChange:de=>J({...K,bic:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Beneficiary name",value:K.name,onChange:de=>J({...K,name:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Address",value:K.address,onChange:de=>J({...K,address:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Fee"}),o.jsxs("span",{className:"font-semibold text-white",children:[ne.symbol," ",Ie?.fee||0]})]})}),o.jsx("button",{onClick:Ne,disabled:y,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processing...":"Confirm Transfer"})]})]}):e==="GB"&&(s==="faster"||s==="bacs")?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-1",children:s==="faster"?"Faster Payments":"BACS Transfer"}),o.jsx("p",{className:"text-sm text-gray-400",children:s==="faster"?"Instant bank transfer":"Standard bank transfer"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:s==="faster"?o.jsx(rs,{className:"w-6 h-6 text-white"}):o.jsx(yl,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Available balance"}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:[ne.symbol," ",Fe(ve)]})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Amount"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-white",children:ne.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:de=>yt(de.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:"Sort Code (12-34-56)",value:G.sortCode,onChange:de=>te({...G,sortCode:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Account Number",value:G.accountNumber,onChange:de=>te({...G,accountNumber:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Account holder name",value:G.name,onChange:de=>te({...G,name:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Address",value:G.address,onChange:de=>te({...G,address:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),o.jsx("button",{onClick:Ne,disabled:y,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processing...":"Confirm Transfer"})]})]}):null:null;if(d){let de="";e==="BR"&&s==="pix"?de=`Chave PIX: ${L} (${$})`:e==="BR"&&s==="bank"?de=`${Q.name} - ${Q.bank} Ag: ${Q.agency} Conta: ${Q.account}`:e==="US"?de=`${R.name} - Account: ${R.accountNumber}`:e==="EU"?de=`${K.name} - IBAN: ${K.iban}`:e==="GB"&&(de=`${G.name} - Sort Code: ${G.sortCode} Account: ${G.accountNumber}`);const Ke={transactionId:S,amount:l,currency:ne.currency,symbol:ne.symbol,method:Ie?.name||"",processingTime:Ie?.processingTime||"",fee:Ie?.fee||0,recipientInfo:de,date:new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),status:"Processando"};return o.jsx(cPe,{onNavigate:t,transactionData:Ke})}return s?Xe():o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-lg mb-2",children:"Enviar Dinheiro"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Escolha seu pas e mtodo de transferncia"})]}),o.jsxs("div",{className:"px-6 mb-6",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-3 font-semibold",children:"Selecione a Conta"}),j?o.jsx("div",{className:"bg-zinc-900/50 rounded-2xl h-32 animate-pulse"}):N.length===0?o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 text-center",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Nenhuma conta encontrada"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Adicione uma conta na pgina Home"})]}):o.jsx("div",{className:"space-y-3",children:N.map(de=>{const Ke=Ze(de),ft=r?.id===de.id;return o.jsxs("button",{onClick:()=>{i(de);const st={BR:"BR",US:"US",PT:"EU",ES:"EU",FR:"EU",DE:"EU",IT:"EU",GB:"GB",UK:"GB"}[de.country]||"BR";n(st)},className:`w-full bg-gradient-to-br from-zinc-800/90 via-zinc-900/95 to-black backdrop-blur-xl rounded-2xl p-4 border transition-all active:scale-[0.98] text-left relative overflow-hidden group ${ft?"ring-2 ring-white border-white/30":"border-zinc-700/60 hover:border-zinc-600"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] via-transparent to-transparent pointer-events-none"}),o.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[o.jsx("div",{className:"flex items-center gap-3 flex-1",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-lg font-semibold text-white mb-1",children:de.currency}),o.jsxs("div",{className:"flex items-center gap-2",children:[Ke.icon&&o.jsx("span",{className:"text-cyan-400 text-xs",children:Ke.icon}),o.jsx("span",{className:"text-xs text-gray-400",children:Ke.label})]})]})}),o.jsxs("div",{className:"text-right ml-3",children:[o.jsx("div",{className:"text-base font-semibold text-white tabular-nums",children:ct(de.currency)}),(de.iban||de.accountNumber)&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1 font-mono",children:[" ",(de.iban||de.accountNumber).slice(-4)]})]})]})]},de.id)})})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Saldo disponvel para transferncia"}),o.jsx("div",{className:"text-white",children:r?o.jsx(Ea,{value:Fe(P(r.currency)),symbol:De[r.currency]}):o.jsx(Ea,{value:Fe(P(ne.currency)),symbol:ne.symbol})}),o.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r?`Conta ${r.currency}`:` ${Fe(xe)} USDT`})]})}),o.jsxs("div",{className:"flex-1 px-6",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-3 font-semibold",children:"Mtodos de transferncia"}),o.jsx("div",{className:"space-y-3",children:me.map(de=>{const Ke=de.icon;return o.jsxs("button",{onClick:()=>a(de.id),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center flex-shrink-0",children:o.jsx(Ke,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-lg mb-1",children:de.name}),o.jsx("div",{className:"text-sm text-gray-400",children:de.description}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[de.processingTime,"  Sem limite de transferncia"]})]}),o.jsx("div",{className:"text-gray-400",children:o.jsx(Ct,{className:"w-5 h-5 rotate-180"})})]},de.id)})})]}),o.jsx("div",{className:"px-6 pt-4",children:o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 text-sm text-yellow-200/90",children:[o.jsx("p",{className:"font-semibold mb-1",children:" Importante"}),o.jsx("p",{className:"text-xs text-yellow-200/70",children:"Certifique-se de inserir os dados bancrios corretos. Transferncias para dados incorretos no podero ser revertidas."})]})})]})}var Zd={},DC,hV;function dPe(){return hV||(hV=1,DC=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),DC}var OC={},El={},mV;function id(){if(mV)return El;mV=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return El.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},El.getSymbolTotalCodewords=function(r){return e[r]},El.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},El.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},El.isKanjiModeEnabled=function(){return typeof t<"u"},El.toSJIS=function(r){return t(r)},El}var MC={},pV;function QI(){return pV||(pV=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(MC)),MC}var LC,gV;function fPe(){if(gV)return LC;gV=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},LC=t,LC}var VC,yV;function hPe(){if(yV)return VC;yV=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},VC=t,VC}var FC={},vV;function mPe(){return vV||(vV=1,(function(t){const e=id().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),a=s===145?26:Math.ceil((s-13)/(2*i-2))*2,l=[s-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-a;return l.push(6),l.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),a=s.length;for(let l=0;l<a;l++)for(let c=0;c<a;c++)l===0&&c===0||l===0&&c===a-1||l===a-1&&c===0||i.push([s[l],s[c]]);return i}})(FC)),FC}var BC={},xV;function pPe(){if(xV)return BC;xV=1;const t=id().getSymbolSize,e=7;return BC.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},BC}var zC={},bV;function gPe(){return bV||(bV=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let a=0,l=0,c=0,d=null,f=null;for(let m=0;m<s;m++){l=c=0,d=f=null;for(let p=0;p<s;p++){let y=i.get(m,p);y===d?l++:(l>=5&&(a+=e.N1+(l-5)),d=y,l=1),y=i.get(p,m),y===f?c++:(c>=5&&(a+=e.N1+(c-5)),f=y,c=1)}l>=5&&(a+=e.N1+(l-5)),c>=5&&(a+=e.N1+(c-5))}return a},t.getPenaltyN2=function(i){const s=i.size;let a=0;for(let l=0;l<s-1;l++)for(let c=0;c<s-1;c++){const d=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(d===4||d===0)&&a++}return a*e.N2},t.getPenaltyN3=function(i){const s=i.size;let a=0,l=0,c=0;for(let d=0;d<s;d++){l=c=0;for(let f=0;f<s;f++)l=l<<1&2047|i.get(d,f),f>=10&&(l===1488||l===93)&&a++,c=c<<1&2047|i.get(f,d),f>=10&&(c===1488||c===93)&&a++}return a*e.N3},t.getPenaltyN4=function(i){let s=0;const a=i.data.length;for(let c=0;c<a;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/a/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const a=s.size;for(let l=0;l<a;l++)for(let c=0;c<a;c++)s.isReserved(c,l)||s.xor(c,l,n(i,c,l))},t.getBestMask=function(i,s){const a=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let d=0;d<a;d++){s(d),t.applyMask(d,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(d,i),f<c&&(c=f,l=d)}return l}})(zC)),zC}var Dv={},wV;function bW(){if(wV)return Dv;wV=1;const t=QI(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Dv.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},Dv.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},Dv}var UC={},Lm={},_V;function yPe(){if(_V)return Lm;_V=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),Lm.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Lm.exp=function(r){return t[r]},Lm.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},Lm}var EV;function vPe(){return EV||(EV=1,(function(t){const e=yPe();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let a=0;a<r.length;a++)for(let l=0;l<i.length;l++)s[a+l]^=e.mul(r[a],i[l]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const a=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],a);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(UC)),UC}var $C,CV;function xPe(){if(CV)return $C;CV=1;const t=vPe();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),a=this.degree-s.length;if(a>0){const l=new Uint8Array(this.degree);return l.set(s,a),l}return s},$C=e,$C}var qC={},HC={},WC={},NV;function wW(){return NV||(NV=1,WC.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),WC}var ya={},SV;function _W(){if(SV)return ya;SV=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;ya.KANJI=new RegExp(n,"g"),ya.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ya.BYTE=new RegExp(r,"g"),ya.NUMERIC=new RegExp(t,"g"),ya.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ya.testKanji=function(c){return i.test(c)},ya.testNumeric=function(c){return s.test(c)},ya.testAlphanumeric=function(c){return a.test(c)},ya}var TV;function sd(){return TV||(TV=1,(function(t){const e=wW(),n=_W();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,a){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?s.ccBits[0]:a<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,a){if(t.isValid(s))return s;try{return r(s)}catch{return a}}})(HC)),HC}var PV;function bPe(){return PV||(PV=1,(function(t){const e=id(),n=bW(),r=QI(),i=sd(),s=wW(),a=7973,l=e.getBCHDigit(a);function c(p,y,x){for(let b=1;b<=40;b++)if(y<=t.getCapacity(b,x,p))return b}function d(p,y){return i.getCharCountIndicator(p,y)+4}function f(p,y){let x=0;return p.forEach(function(b){const _=d(b.mode,y);x+=_+b.getBitsLength()}),x}function m(p,y){for(let x=1;x<=40;x++)if(f(p,x)<=t.getCapacity(x,y,i.MIXED))return x}t.from=function(y,x){return s.isValid(y)?parseInt(y,10):x},t.getCapacity=function(y,x,b){if(!s.isValid(y))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=i.BYTE);const _=e.getSymbolTotalCodewords(y),S=n.getTotalCodewordsCount(y,x),M=(_-S)*8;if(b===i.MIXED)return M;const O=M-d(b,y);switch(b){case i.NUMERIC:return Math.floor(O/10*3);case i.ALPHANUMERIC:return Math.floor(O/11*2);case i.KANJI:return Math.floor(O/13);case i.BYTE:default:return Math.floor(O/8)}},t.getBestVersionForData=function(y,x){let b;const _=r.from(x,r.M);if(Array.isArray(y)){if(y.length>1)return m(y,_);if(y.length===0)return 1;b=y[0]}else b=y;return c(b.mode,b.getLength(),_)},t.getEncodedBits=function(y){if(!s.isValid(y)||y<7)throw new Error("Invalid QR Code version");let x=y<<12;for(;e.getBCHDigit(x)-l>=0;)x^=a<<e.getBCHDigit(x)-l;return y<<12|x}})(qC)),qC}var KC={},AV;function wPe(){if(AV)return KC;AV=1;const t=id(),e=1335,n=21522,r=t.getBCHDigit(e);return KC.getEncodedBits=function(s,a){const l=s.bit<<3|a;let c=l<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(l<<10|c)^n},KC}var GC={},XC,IV;function _Pe(){if(IV)return XC;IV=1;const t=sd();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,a;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),a=parseInt(s,10),r.put(a,10);const l=this.data.length-i;l>0&&(s=this.data.substr(i),a=parseInt(s,10),r.put(a,l*3+1))},XC=e,XC}var YC,jV;function EPe(){if(jV)return YC;jV=1;const t=sd(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let a=e.indexOf(this.data[s])*45;a+=e.indexOf(this.data[s+1]),i.put(a,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},YC=n,YC}var QC,kV;function CPe(){if(kV)return QC;kV=1;const t=sd();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},QC=e,QC}var JC,RV;function NPe(){if(RV)return JC;RV=1;const t=sd(),e=id();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},JC=n,JC}var ZC={exports:{}},DV;function SPe(){return DV||(DV=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},a={};a[r]=0;var l=e.PriorityQueue.make();l.push(r,0);for(var c,d,f,m,p,y,x,b,_;!l.empty();){c=l.pop(),d=c.value,m=c.cost,p=n[d]||{};for(f in p)p.hasOwnProperty(f)&&(y=p[f],x=m+y,b=a[f],_=typeof a[f]>"u",(_||b>x)&&(a[f]=x,l.push(f,x),s[f]=d))}if(typeof i<"u"&&typeof a[i]>"u"){var S=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(S)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(ZC)),ZC.exports}var OV;function TPe(){return OV||(OV=1,(function(t){const e=sd(),n=_Pe(),r=EPe(),i=CPe(),s=NPe(),a=_W(),l=id(),c=SPe();function d(S){return unescape(encodeURIComponent(S)).length}function f(S,M,O){const z=[];let I;for(;(I=S.exec(O))!==null;)z.push({data:I[0],index:I.index,mode:M,length:I[0].length});return z}function m(S){const M=f(a.NUMERIC,e.NUMERIC,S),O=f(a.ALPHANUMERIC,e.ALPHANUMERIC,S);let z,I;return l.isKanjiModeEnabled()?(z=f(a.BYTE,e.BYTE,S),I=f(a.KANJI,e.KANJI,S)):(z=f(a.BYTE_KANJI,e.BYTE,S),I=[]),M.concat(O,z,I).sort(function(C,N){return C.index-N.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function p(S,M){switch(M){case e.NUMERIC:return n.getBitsLength(S);case e.ALPHANUMERIC:return r.getBitsLength(S);case e.KANJI:return s.getBitsLength(S);case e.BYTE:return i.getBitsLength(S)}}function y(S){return S.reduce(function(M,O){const z=M.length-1>=0?M[M.length-1]:null;return z&&z.mode===O.mode?(M[M.length-1].data+=O.data,M):(M.push(O),M)},[])}function x(S){const M=[];for(let O=0;O<S.length;O++){const z=S[O];switch(z.mode){case e.NUMERIC:M.push([z,{data:z.data,mode:e.ALPHANUMERIC,length:z.length},{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.ALPHANUMERIC:M.push([z,{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.KANJI:M.push([z,{data:z.data,mode:e.BYTE,length:d(z.data)}]);break;case e.BYTE:M.push([{data:z.data,mode:e.BYTE,length:d(z.data)}])}}return M}function b(S,M){const O={},z={start:{}};let I=["start"];for(let P=0;P<S.length;P++){const C=S[P],N=[];for(let A=0;A<C.length;A++){const j=C[A],D=""+P+A;N.push(D),O[D]={node:j,lastCount:0},z[D]={};for(let L=0;L<I.length;L++){const B=I[L];O[B]&&O[B].node.mode===j.mode?(z[B][D]=p(O[B].lastCount+j.length,j.mode)-p(O[B].lastCount,j.mode),O[B].lastCount+=j.length):(O[B]&&(O[B].lastCount=j.length),z[B][D]=p(j.length,j.mode)+4+e.getCharCountIndicator(j.mode,M))}}I=N}for(let P=0;P<I.length;P++)z[I[P]].end=0;return{map:z,table:O}}function _(S,M){let O;const z=e.getBestModeForData(S);if(O=e.from(M,z),O!==e.BYTE&&O.bit<z.bit)throw new Error('"'+S+'" cannot be encoded with mode '+e.toString(O)+`.
 Suggested mode is: `+e.toString(z));switch(O===e.KANJI&&!l.isKanjiModeEnabled()&&(O=e.BYTE),O){case e.NUMERIC:return new n(S);case e.ALPHANUMERIC:return new r(S);case e.KANJI:return new s(S);case e.BYTE:return new i(S)}}t.fromArray=function(M){return M.reduce(function(O,z){return typeof z=="string"?O.push(_(z,null)):z.data&&O.push(_(z.data,z.mode)),O},[])},t.fromString=function(M,O){const z=m(M,l.isKanjiModeEnabled()),I=x(z),P=b(I,O),C=c.find_path(P.map,"start","end"),N=[];for(let A=1;A<C.length-1;A++)N.push(P.table[C[A]].node);return t.fromArray(y(N))},t.rawSplit=function(M){return t.fromArray(m(M,l.isKanjiModeEnabled()))}})(GC)),GC}var MV;function PPe(){if(MV)return OC;MV=1;const t=id(),e=QI(),n=fPe(),r=hPe(),i=mPe(),s=pPe(),a=gPe(),l=bW(),c=xPe(),d=bPe(),f=wPe(),m=sd(),p=TPe();function y(P,C){const N=P.size,A=s.getPositions(C);for(let j=0;j<A.length;j++){const D=A[j][0],L=A[j][1];for(let B=-1;B<=7;B++)if(!(D+B<=-1||N<=D+B))for(let $=-1;$<=7;$++)L+$<=-1||N<=L+$||(B>=0&&B<=6&&($===0||$===6)||$>=0&&$<=6&&(B===0||B===6)||B>=2&&B<=4&&$>=2&&$<=4?P.set(D+B,L+$,!0,!0):P.set(D+B,L+$,!1,!0))}}function x(P){const C=P.size;for(let N=8;N<C-8;N++){const A=N%2===0;P.set(N,6,A,!0),P.set(6,N,A,!0)}}function b(P,C){const N=i.getPositions(C);for(let A=0;A<N.length;A++){const j=N[A][0],D=N[A][1];for(let L=-2;L<=2;L++)for(let B=-2;B<=2;B++)L===-2||L===2||B===-2||B===2||L===0&&B===0?P.set(j+L,D+B,!0,!0):P.set(j+L,D+B,!1,!0)}}function _(P,C){const N=P.size,A=d.getEncodedBits(C);let j,D,L;for(let B=0;B<18;B++)j=Math.floor(B/3),D=B%3+N-8-3,L=(A>>B&1)===1,P.set(j,D,L,!0),P.set(D,j,L,!0)}function S(P,C,N){const A=P.size,j=f.getEncodedBits(C,N);let D,L;for(D=0;D<15;D++)L=(j>>D&1)===1,D<6?P.set(D,8,L,!0):D<8?P.set(D+1,8,L,!0):P.set(A-15+D,8,L,!0),D<8?P.set(8,A-D-1,L,!0):D<9?P.set(8,15-D-1+1,L,!0):P.set(8,15-D-1,L,!0);P.set(A-8,8,1,!0)}function M(P,C){const N=P.size;let A=-1,j=N-1,D=7,L=0;for(let B=N-1;B>0;B-=2)for(B===6&&B--;;){for(let $=0;$<2;$++)if(!P.isReserved(j,B-$)){let Y=!1;L<C.length&&(Y=(C[L]>>>D&1)===1),P.set(j,B-$,Y),D--,D===-1&&(L++,D=7)}if(j+=A,j<0||N<=j){j-=A,A=-A;break}}}function O(P,C,N){const A=new n;N.forEach(function($){A.put($.mode.bit,4),A.put($.getLength(),m.getCharCountIndicator($.mode,P)),$.write(A)});const j=t.getSymbolTotalCodewords(P),D=l.getTotalCodewordsCount(P,C),L=(j-D)*8;for(A.getLengthInBits()+4<=L&&A.put(0,4);A.getLengthInBits()%8!==0;)A.putBit(0);const B=(L-A.getLengthInBits())/8;for(let $=0;$<B;$++)A.put($%2?17:236,8);return z(A,P,C)}function z(P,C,N){const A=t.getSymbolTotalCodewords(C),j=l.getTotalCodewordsCount(C,N),D=A-j,L=l.getBlocksCount(C,N),B=A%L,$=L-B,Y=Math.floor(A/L),Z=Math.floor(D/L),k=Z+1,Q=Y-Z,H=new c(Q);let R=0;const U=new Array(L),K=new Array(L);let J=0;const G=new Uint8Array(P.buffer);for(let ae=0;ae<L;ae++){const ve=ae<$?Z:k;U[ae]=G.slice(R,R+ve),K[ae]=H.encode(U[ae]),R+=ve,J=Math.max(J,ve)}const te=new Uint8Array(A);let ie=0,ne,xe;for(ne=0;ne<J;ne++)for(xe=0;xe<L;xe++)ne<U[xe].length&&(te[ie++]=U[xe][ne]);for(ne=0;ne<Q;ne++)for(xe=0;xe<L;xe++)te[ie++]=K[xe][ne];return te}function I(P,C,N,A){let j;if(Array.isArray(P))j=p.fromArray(P);else if(typeof P=="string"){let Y=C;if(!Y){const Z=p.rawSplit(P);Y=d.getBestVersionForData(Z,N)}j=p.fromString(P,Y||40)}else throw new Error("Invalid data");const D=d.getBestVersionForData(j,N);if(!D)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=D;else if(C<D)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+D+`.
`);const L=O(C,N,j),B=t.getSymbolSize(C),$=new r(B);return y($,C),x($),b($,C),S($,N,0),C>=7&&_($,C),M($,L),isNaN(A)&&(A=a.getBestMask($,S.bind(null,$,N))),a.applyMask(A,$),S($,N,A),{modules:$,version:C,errorCorrectionLevel:N,maskPattern:A,segments:j}}return OC.create=function(C,N){if(typeof C>"u"||C==="")throw new Error("No input text");let A=e.M,j,D;return typeof N<"u"&&(A=e.from(N.errorCorrectionLevel,e.M),j=d.from(N.version),D=a.from(N.maskPattern),N.toSJISFunc&&t.setToSJISFunction(N.toSJISFunc)),I(C,j,A,D)},OC}var eN={},tN={},LV;function EW(){return LV||(LV=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:s,scale:s?4:a,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const a=i.modules.size,l=i.modules.data,c=t.getScale(a,s),d=Math.floor((a+s.margin*2)*c),f=s.margin*c,m=[s.color.light,s.color.dark];for(let p=0;p<d;p++)for(let y=0;y<d;y++){let x=(p*d+y)*4,b=s.color.light;if(p>=f&&y>=f&&p<d-f&&y<d-f){const _=Math.floor((p-f)/c),S=Math.floor((y-f)/c);b=m[l[_*a+S]?1:0]}r[x++]=b.r,r[x++]=b.g,r[x++]=b.b,r[x]=b.a}}})(tN)),tN}var VV;function APe(){return VV||(VV=1,(function(t){const e=EW();function n(i,s,a){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=a,s.width=a,s.style.height=a+"px",s.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,a,l){let c=l,d=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(d=r()),c=e.getOptions(c);const f=e.getImageWidth(s.modules.size,c),m=d.getContext("2d"),p=m.createImageData(f,f);return e.qrToImageData(p.data,s,c),n(m,d,f),m.putImageData(p,0,0),d},t.renderToDataURL=function(s,a,l){let c=l;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const d=t.render(s,a,c),f=c.type||"image/png",m=c.rendererOpts||{};return d.toDataURL(f,m.quality)}})(eN)),eN}var nN={},FV;function IPe(){if(FV)return nN;FV=1;const t=EW();function e(i,s){const a=i.a/255,l=s+'="'+i.hex+'"';return a<1?l+" "+s+'-opacity="'+a.toFixed(2).slice(1)+'"':l}function n(i,s,a){let l=i+s;return typeof a<"u"&&(l+=" "+a),l}function r(i,s,a){let l="",c=0,d=!1,f=0;for(let m=0;m<i.length;m++){const p=Math.floor(m%s),y=Math.floor(m/s);!p&&!d&&(d=!0),i[m]?(f++,m>0&&p>0&&i[m-1]||(l+=d?n("M",p+a,.5+y+a):n("m",c,0),c=0,d=!1),p+1<s&&i[m+1]||(l+=n("h",f),f=0)):c++}return l}return nN.render=function(s,a,l){const c=t.getOptions(a),d=s.modules.size,f=s.modules.data,m=d+c.margin*2,p=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",y="<path "+e(c.color.dark,"stroke")+' d="'+r(f,d,c.margin)+'"/>',x='viewBox="0 0 '+m+" "+m+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+x+' shape-rendering="crispEdges">'+p+y+`</svg>
`;return typeof l=="function"&&l(null,_),_},nN}var BV;function jPe(){if(BV)return Zd;BV=1;const t=dPe(),e=PPe(),n=APe(),r=IPe();function i(s,a,l,c,d){const f=[].slice.call(arguments,1),m=f.length,p=typeof f[m-1]=="function";if(!p&&!t())throw new Error("Callback required as last argument");if(p){if(m<2)throw new Error("Too few arguments provided");m===2?(d=l,l=a,a=c=void 0):m===3&&(a.getContext&&typeof d>"u"?(d=c,c=void 0):(d=c,c=l,l=a,a=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(l=a,a=c=void 0):m===2&&!a.getContext&&(c=l,l=a,a=void 0),new Promise(function(y,x){try{const b=e.create(l,c);y(s(b,a,c))}catch(b){x(b)}})}try{const y=e.create(l,c);d(null,s(y,a,c))}catch(y){d(y)}}return Zd.create=e.create,Zd.toCanvas=i.bind(null,n.render),Zd.toDataURL=i.bind(null,n.renderToDataURL),Zd.toString=i.bind(null,function(s,a,l){return r.render(s,l)}),Zd}var kPe=jPe();const RPe=bi(kPe),zV=[{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"BNB",name:"Binance Coin",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"},{symbol:"TRX",name:"Tron",id:"tron"}],Vm=[{id:"Ethereum",name:"Ethereum (ERC20)",icon:"ETH",shortName:"ETH"},{id:"Tron",name:"Tron (TRC20)",icon:"TRX",shortName:"TRX"},{id:"Polygon",name:"Polygon",icon:"MATIC",shortName:"MATIC"},{id:"Solana",name:"Solana",icon:"SOL",shortName:"SOL"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB",shortName:"BNB"},{id:"Bitcoin",name:"Bitcoin",icon:"BTC",shortName:"BTC"},{id:"Ripple",name:"Ripple",icon:"XRP",shortName:"XRP"}];function DPe({onNavigate:t}){const[e,n]=E.useState(null),[r,i]=E.useState("Tron"),[s,a]=E.useState(""),[l,c]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(""),[y,x]=E.useState(""),[b,_]=E.useState(!1),[S,M]=E.useState(!1),O=E.useRef(null),z=E.useRef(null),{getAddressForNetwork:I,regenerateAddress:P,isLoading:C}=xW(),{portfolio:N}=qs(),{prices:A}=wi();E.useEffect(()=>{const R=U=>{z.current&&!z.current.contains(U.target)&&_(!1)};return b&&document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[b]);const j=R=>N.holdings.find(K=>K.symbol===R)?.amount||0,D=(R,U)=>(A[R]?.usd||0)*U,L=zV.filter(R=>R.symbol.toLowerCase().includes(m.toLowerCase())||R.name.toLowerCase().includes(m.toLowerCase()));E.useEffect(()=>{e&&B()},[r,e]),E.useEffect(()=>{s&&O.current&&RPe.toCanvas(O.current,s,{width:192,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(R=>{console.error("Erro ao gerar QR Code:",R)})},[s]);const B=async()=>{try{const R=await I(r);a(R),f(!1),console.log(` Endereo carregado para ${r}:`,R)}catch(R){console.error(" Erro ao carregar endereo:",R),Me.error("Erro ao carregar endereo")}},$=async()=>{if(!s){Me.error("Nenhum endereo disponvel");return}if(await vw(s)){f(!0);const U=Vm.find(K=>K.id===r);Me.success("Endereo copiado!",{description:`${U?.shortName}  ${s.substring(0,8)}...`}),setTimeout(()=>{f(!1)},3e3)}},Y=async()=>{if(r){c(!0);try{console.log(` Regenerando endereo para ${r}...`);const R=await P(r);a(R),f(!1);const U=Vm.find(K=>K.id===r);Me.success("Novo endereo gerado!",{description:`${U?.shortName}  ${R.substring(0,8)}...`}),console.log(` Novo endereo gerado para ${r}:`,R)}catch(R){console.error(" Erro ao regenerar endereo:",R),Me.error("Erro ao gerar novo endereo")}finally{c(!1)}}},Z=R=>{n(R.symbol),p("")},k=()=>{e?(n(null),a(""),x("")):t("wallet")},Q=Vm.find(R=>R.id===r),H=zV.find(R=>R.symbol===e);return S?o.jsx("div",{className:"min-h-screen bg-black text-white pb-6",children:o.jsxs("div",{className:"px-6 pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("button",{onClick:()=>M(!1),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Ct,{className:"w-5 h-5 text-white"})}),o.jsx("h1",{className:"text-lg text-white",children:"Ajuda"}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-2xl p-5",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"text-yellow-500 text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-yellow-200 font-semibold mb-2",children:"Ateno"}),o.jsx("p",{className:"text-yellow-200/80 text-sm leading-relaxed",children:"Envie apenas ativos compatveis com a rede selecionada. Enviar ativos de outras redes pode resultar em perda permanente dos seus fundos. Sempre verifique se a rede escolhida  compatvel com a plataforma de origem antes de realizar a transferncia."})]})]})}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5 border border-white/10",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-semibold mb-2",children:"Endereo nico"}),o.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:'Este endereo  exclusivo da sua conta e pode ser usado mltiplas vezes para receber criptomoedas. Use o boto "Novo" para gerar um novo endereo quando necessrio, por exemplo, para organizar diferentes transaes ou aumentar sua privacidade.'})]})]})}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5 border border-white/10",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-semibold mb-2",children:"Segurana"}),o.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:"Cada rede blockchain tem um endereo diferente. Ethereum (ERC20), Tron (TRC20), Polygon, Solana, BNB Smart Chain, Bitcoin e Ripple possuem formatos de endereos incompatveis entre si. Sempre confirme a rede antes de enviar ativos para evitar perdas irreversveis."})]})]})}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5 border border-white/10",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-semibold mb-2",children:"Como funciona"}),o.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:"Compartilhe este endereo ou QR Code com quem vai enviar criptomoedas para voc. Quando a transao for confirmada na blockchain, os depsitos aparecem automaticamente na sua carteira NexCoin. O tempo de confirmao varia de acordo com a rede: pode levar de segundos a alguns minutos."})]})]})}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5 border border-white/10",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-semibold mb-2",children:"Dica importante"}),o.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:"Ao receber sua primeira transao em uma determinada rede, recomendamos fazer um teste com uma pequena quantia primeiro. Depois de confirmar que tudo funcionou corretamente, voc pode realizar transaes maiores com segurana."})]})]})})]})]})}):e?o.jsx("div",{className:"min-h-screen bg-black text-white pb-6",children:o.jsxs("div",{className:"px-6 pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("button",{onClick:k,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Ct,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"text-lg text-white",children:["Receber ",e]}),o.jsx("p",{className:"text-sm text-white/60",children:H?.name})]}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"mb-6",ref:z,children:[o.jsx("label",{className:"block text-white/70 text-sm font-semibold mb-3",children:"Selecione a rede"}),o.jsx("button",{onClick:()=>_(!b),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 p-4 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-3",children:Q&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(ht,{symbol:Q.icon,size:"sm"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white font-semibold",children:Q.name}),o.jsx("div",{className:"text-xs text-gray-400",children:Q.shortName})]})]})}),o.jsx("svg",{className:`w-5 h-5 text-white/60 transition-transform ${b?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),b&&o.jsx("div",{className:"mt-2 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 overflow-hidden shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"max-h-[176px] overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsx("style",{children:`
                  div::-webkit-scrollbar {
                    display: none;
                  }
                `}),Vm.map((R,U)=>o.jsxs("button",{onClick:()=>{i(R.id),_(!1)},className:`w-full p-4 flex items-center justify-between transition-all ${r===R.id?"bg-white/10":"hover:bg-white/5"} ${U!==Vm.length-1?"border-b border-white/5":""}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(ht,{symbol:R.icon,size:"sm"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white font-semibold",children:R.name}),o.jsx("div",{className:"text-xs text-gray-400",children:R.shortName})]})]}),r===R.id&&o.jsx("div",{className:"w-2 h-2 rounded-full bg-[#34c759]"})]},R.id))]})})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 mb-6 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsx("div",{className:"bg-white rounded-2xl p-8 mb-6 flex items-center justify-center",children:C?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[o.jsx(dG,{className:"w-12 h-12 text-black animate-spin mb-4"}),o.jsx("p",{className:"text-black text-sm font-semibold",children:"Gerando endereo..."})]}):o.jsx("canvas",{ref:O,className:"w-48 h-48"})}),o.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:Q&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(ht,{symbol:Q.icon,size:"sm"})}),o.jsx("span",{className:"text-sm font-semibold text-white/80",children:Q.name})]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-white/50 text-xs font-semibold mb-2 text-center",children:"SEU ENDEREO"}),C?o.jsx("div",{className:"flex items-center justify-center py-4",children:o.jsx("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):o.jsx("div",{className:"bg-black/30 rounded-xl p-4 border border-white/10",children:o.jsx("p",{className:"font-mono text-sm break-all text-white text-center leading-relaxed",children:s||"Gerando endereo..."})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("button",{className:"bg-white/5 backdrop-blur-md rounded-xl py-4 flex flex-col items-center gap-2 hover:bg-white/10 transition-all border border-white/10 disabled:opacity-50 disabled:cursor-not-allowed",onClick:$,disabled:!s||C,children:d?o.jsxs(o.Fragment,{children:[o.jsx(Hx,{className:"w-5 h-5 text-[#34c759]"}),o.jsx("span",{className:"text-xs text-[#34c759] font-semibold",children:"Copiado!"})]}):o.jsxs(o.Fragment,{children:[o.jsx(xn,{className:"w-5 h-5 text-white"}),o.jsx("span",{className:"text-xs text-white font-semibold",children:"Copiar"})]})}),o.jsxs("button",{className:"bg-white/5 backdrop-blur-md rounded-xl py-4 flex flex-col items-center gap-2 hover:bg-white/10 transition-all border border-white/10 disabled:opacity-50 disabled:cursor-not-allowed",onClick:Y,disabled:l||!s||C,children:[o.jsx(mT,{className:`w-5 h-5 text-white ${l?"animate-spin":""}`}),o.jsx("span",{className:"text-xs text-white font-semibold",children:l?"Gerando...":"Novo"})]})]})]}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-3.5 border border-white/10",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(XV,{className:"w-4 h-4 text-white/60"}),o.jsxs("p",{className:"text-white/70 text-xs text-center",children:["Dvidas sobre transaes? ",o.jsx("span",{onClick:()=>M(!0),className:"text-white font-semibold underline cursor-pointer hover:text-white/90 transition-colors",children:"Ajuda aqui"})]})]})})]})}):o.jsx("div",{className:"min-h-screen bg-black text-white pb-24",children:o.jsxs("div",{className:"px-6 pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("button",{onClick:k,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Ct,{className:"w-5 h-5 text-white"})}),o.jsx("h1",{className:"text-lg text-white",children:"Receber Cripto"}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Gl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),o.jsx("input",{type:"text",placeholder:"Buscar criptomoeda...",value:m,onChange:R=>p(R.target.value),className:"w-full bg-white/5 backdrop-blur-md text-white rounded-2xl pl-12 pr-4 py-4 focus:outline-none focus:ring-2 focus:ring-white/20 placeholder-white/40 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]"})]})}),o.jsx("div",{className:"space-y-3",children:L.map(R=>{const U=j(R.symbol),K=D(R.id,U);return o.jsx("button",{onClick:()=>Z(R),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 hover:bg-white/10 transition-all border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(ht,{symbol:R.symbol,size:"md"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white font-semibold text-base",children:R.name}),o.jsx("div",{className:"text-sm text-white/50",children:R.symbol})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-white font-semibold",children:U.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8})}),o.jsxs("div",{className:"text-sm text-white/50",children:["$",K.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})},R.symbol)})})]})})}function OPe({onNavigate:t}){const{transactions:e,isLoading:n,formatAmount:r,getCurrencySymbol:i,formatTransactionDescription:s,formatTransactionAmount:a,getTransactionIconType:l}=yw(),[c,d]=E.useState(""),f=E.useMemo(()=>{const y=e.filter(b=>{if(c){const _=c.toLowerCase();if(!s(b).toLowerCase().includes(_))return!1}return!0}),x={};return y.forEach(b=>{const _=b.createdAt,S=new Date,M=new Date(S);M.setDate(M.getDate()-1);let O;_.getDate()===S.getDate()&&_.getMonth()===S.getMonth()&&_.getFullYear()===S.getFullYear()?O="Hoje":_.getDate()===M.getDate()&&_.getMonth()===M.getMonth()&&_.getFullYear()===M.getFullYear()?O="Ontem":O=_.toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:_.getFullYear()!==S.getFullYear()?"numeric":void 0}),x[O]||(x[O]=[]),x[O].push(b)}),x},[e,c,s]),m=y=>y.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),p=y=>{switch(y){case"completed":return"text-green-500";case"pending":case"processing":return"text-yellow-500";case"failed":return"text-red-500";default:return"text-gray-400"}};return o.jsxs("div",{className:"min-h-screen bg-black pb-24",children:[o.jsxs("div",{className:"px-6 pt-4 pb-6",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-12 h-12 rounded-full border border-gray-700 flex items-center justify-center mb-6",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Transaes"}),o.jsx("div",{className:"flex gap-3 mb-6",children:o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Gl,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),o.jsx("input",{type:"text",placeholder:"Pesquisar",value:c,onChange:y=>d(y.target.value),className:`w-full bg-zinc-900/80 rounded-full pl-10 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-zinc-700 ${c?"pr-10":"pr-4"} py-3`}),c&&o.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-500",onClick:()=>d(""),children:o.jsx(Qr,{className:"w-5 h-5"})})]})})]}),n&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(f0,{className:"w-8 h-8 animate-spin text-gray-400"})}),!n&&e.length===0&&o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-900 flex items-center justify-center mx-auto mb-4",children:o.jsx(hp,{className:"w-10 h-10 text-gray-600"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma transao"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Suas transaes aparecero aqui"})]}),!n&&e.length>0&&Object.keys(f).length===0&&o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-900 flex items-center justify-center mx-auto mb-4",children:o.jsx(Gl,{className:"w-10 h-10 text-gray-600"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum resultado"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Tente ajustar a busca"})]}),!n&&Object.keys(f).length>0&&o.jsx("div",{className:"px-6 space-y-6",children:Object.entries(f).map(([y,x])=>o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-gray-400 mb-3",children:y}),o.jsx("div",{className:"space-y-3",children:x.map(b=>o.jsxs("button",{className:"w-full bg-zinc-900/80 backdrop-blur rounded-2xl p-4 flex items-center justify-between hover:bg-zinc-800/80 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:`w-12 h-12 rounded-full bg-white/5 flex items-center justify-center flex-shrink-0 ${l(b)==="entrada"?"text-green-500":l(b)==="saida"?"text-red-500":"text-orange-500"}`,children:[l(b)==="entrada"&&o.jsx(fT,{className:"w-4 h-4"}),l(b)==="saida"&&o.jsx(hT,{className:"w-4 h-4"}),l(b)==="conversao"&&o.jsx(iG,{className:"w-4 h-4"})]}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-white",children:s(b)}),o.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-1",children:[o.jsx(hp,{className:"w-3.5 h-3.5"}),m(b.createdAt),o.jsx("span",{className:"mx-1",children:""}),o.jsxs("span",{className:p(b.status),children:[b.status==="completed"&&"Concludo",b.status==="pending"&&"Pendente",b.status==="processing"&&"Processando",b.status==="failed"&&"Falhou"]})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:`font-semibold ${["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(b.type)?"text-green-500":"text-white"}`,children:a(b)}),b.fee>0&&o.jsxs("div",{className:"text-sm text-gray-400",children:["Taxa: ",i(b.feeCurrency)," ",r(b.fee)]})]})]},b.id))})]},y))})]})}function MPe({currentScreen:t,onNavigate:e}){const{t:n}=ei(),r=[{id:"home",icon:cG,label:n.bottomNav.home},{id:"wallet",icon:eF,label:n.bottomNav.wallet},{id:"convert",icon:Mv,label:n.bottomNav.convert},{id:"crypto",icon:Fi,label:n.bottomNav.crypto},{id:"profile",icon:pT,label:n.bottomNav.profile}];return o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black border-t border-gray-800 z-[9999]",children:o.jsx("div",{className:"flex justify-around items-center py-3 px-4 max-w-md mx-auto relative z-10 pointer-events-auto",style:{transform:"translateZ(0)",willChange:"transform"},children:r.map(i=>{const s=i.icon,a=t===i.id;return o.jsxs("button",{onClick:()=>e(i.id),className:"flex flex-col items-center gap-1 transition-colors",children:[o.jsx(s,{className:`w-6 h-6 ${a?"text-white":"text-gray-500"}`}),o.jsx("span",{className:`text-xs ${a?"text-white":"text-gray-500"}`,children:i.label})]},i.id)})})})}function LPe({onNavigate:t}){const{t:e}=ei(),{phoneNumber:n}=lU(),{signInWithPhoneAndPin:r}=Vt(),[i,s]=E.useState(["","","","","",""]),[a,l]=E.useState(!1),[c,d]=E.useState(!1),[f,m]=E.useState(""),p=E.useRef([]);E.useEffect(()=>{p.current[0]?.focus()},[]);const y=(S,M)=>{if(M&&!/^\d$/.test(M))return;a&&l(!1);const O=[...i];if(O[S]=M,s(O),M&&S<5&&p.current[S+1]?.focus(),S===5&&M){const z=[...O.slice(0,5),M].join("");x(z)}},x=S=>{d(!0),m(""),console.log("[PasswordEntry] Validando PIN:",S),console.log("[PasswordEntry] Telefone:",n),setTimeout(()=>{r(n,S).then(()=>{console.log("[PasswordEntry]  Login bem-sucedido!"),t("home")}).catch(M=>{console.log("[PasswordEntry]  Erro no login:",M.message),l(!0),m(M.message||"Erro ao fazer login"),console.log("[PasswordEntry] Exibindo mensagem de erro:",M.message),setTimeout(()=>{s(["","","","","",""]),p.current[0]?.focus(),l(!1),m("")},1500)}).finally(()=>{d(!1)})},300)},b=(S,M)=>{M.key==="Backspace"&&!i[S]&&S>0&&p.current[S-1]?.focus()},_=S=>{S.preventDefault();const M=S.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);if(M){const O=[...i];M.split("").forEach((P,C)=>{C<6&&(O[C]=P)}),s(O);const z=O.findIndex(P=>!P),I=z===-1?5:z;p.current[I]?.focus()}};return o.jsx("div",{className:"bg-black text-white min-h-screen flex items-start justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-[400px] flex flex-col",children:[o.jsx("header",{className:"pt-3 px-4 pb-1",children:o.jsx("button",{"aria-label":"Voltar",className:"flex items-center justify-center w-7 h-7 -ml-1 rounded-full active:bg-slate-800 transition-colors",onClick:()=>t("login"),children:o.jsx(Ct,{className:"w-4 h-4"})})}),o.jsxs("main",{className:"flex-1 px-4",children:[o.jsx("h1",{className:"text-xl font-bold tracking-tight mb-3",children:e.password}),o.jsxs("div",{className:`flex items-center gap-1 mb-2 ${a?"animate-shake":""}`,children:[o.jsx("div",{className:"flex gap-1",children:[0,1,2].map(S=>o.jsx("div",{className:`w-[36px] h-[44px] rounded-lg flex items-center justify-center transition-all ${a?"bg-red-900/20 shadow-[inset_0_0_0_2px_rgba(239,68,68,0.5)]":"bg-zinc-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]"}`,children:o.jsx("input",{ref:M=>p.current[S]=M,"aria-label":`Dgito ${S+1}`,className:`w-full h-full bg-transparent border-none text-center text-lg font-bold focus:ring-0 focus:outline-none ${a?"text-red-500":"text-white"}`,maxLength:1,type:"password",value:i[S],onChange:M=>y(S,M.target.value),onKeyDown:M=>b(S,M),onPaste:_,inputMode:"numeric",disabled:c})},S))}),o.jsx("div",{className:"text-slate-500 font-bold",children:o.jsx("span",{className:`block w-1 h-0.5 rounded-full ${a?"bg-red-500":"bg-slate-500"}`})}),o.jsx("div",{className:"flex gap-1",children:[3,4,5].map(S=>o.jsx("div",{className:`w-[36px] h-[44px] rounded-lg flex items-center justify-center transition-all ${a?"bg-red-900/20 shadow-[inset_0_0_0_2px_rgba(239,68,68,0.5)]":"bg-zinc-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]"}`,children:o.jsx("input",{ref:M=>p.current[S]=M,"aria-label":`Dgito ${S+1}`,className:`w-full h-full bg-transparent border-none text-center text-lg font-bold focus:ring-0 focus:outline-none ${a?"text-red-500":"text-white"}`,maxLength:1,type:"password",value:i[S],onChange:M=>y(S,M.target.value),onKeyDown:M=>b(S,M),onPaste:_,inputMode:"numeric",disabled:c})},S))})]}),a&&o.jsx("p",{className:"text-red-500 text-[11px] font-medium mb-2 animate-fadeIn",children:f||"Senha incorreta"}),o.jsx("button",{className:"text-blue-500 font-semibold text-[13px] hover:underline transition-all",onClick:()=>{console.log("Forgot password clicked")},children:e.forgotPassword})]})]})})}function VPe({onNavigate:t}){const{portfolio:e,addOrUpdateCrypto:n,removeCrypto:r,isLoading:i}=qs(),{prices:s}=wi(),[a,l]=E.useState(null),[c,d]=E.useState(""),[f,m]=E.useState(!1),[p,y]=E.useState(null),[x,b]=E.useState(""),_=[{symbol:"BTC",coinId:"bitcoin",name:"Bitcoin"},{symbol:"ETH",coinId:"ethereum",name:"Ethereum"},{symbol:"USDT",coinId:"tether",name:"Tether"},{symbol:"BNB",coinId:"binancecoin",name:"Binance Coin"},{symbol:"SOL",coinId:"solana",name:"Solana"},{symbol:"ADA",coinId:"cardano",name:"Cardano"},{symbol:"XRP",coinId:"ripple",name:"Ripple"},{symbol:"DOT",coinId:"polkadot",name:"Polkadot"},{symbol:"DOGE",coinId:"dogecoin",name:"Dogecoin"},{symbol:"AVAX",coinId:"avalanche-2",name:"Avalanche"},{symbol:"MATIC",coinId:"matic-network",name:"Polygon"},{symbol:"LINK",coinId:"chainlink",name:"Chainlink"},{symbol:"UNI",coinId:"uniswap",name:"Uniswap"},{symbol:"LTC",coinId:"litecoin",name:"Litecoin"},{symbol:"ATOM",coinId:"cosmos",name:"Cosmos"}],S=(I,P)=>{l(I),d(P.toString())},M=async(I,P,C)=>{const N=parseFloat(c);if(isNaN(N)||N<0){alert("Por favor, insira um valor vlido");return}try{await n(I,P,N,C),l(null),d("")}catch(A){console.error("Erro ao atualizar holding:",A),alert("Erro ao atualizar. Tente novamente.")}},O=async I=>{if(confirm(`Tem certeza que deseja remover ${I} do seu portflio?`))try{await r(I)}catch(P){console.error("Erro ao remover holding:",P),alert("Erro ao remover. Tente novamente.")}},z=async()=>{if(!p){alert("Selecione uma criptomoeda");return}const I=parseFloat(x);if(isNaN(I)||I<=0){alert("Por favor, insira um valor vlido");return}try{await n(p.symbol,p.coinId,I,p.name),m(!1),y(null),b("")}catch(P){console.error("Erro ao adicionar holding:",P),alert("Erro ao adicionar. Tente novamente.")}};return o.jsxs("div",{className:"min-h-screen bg-black text-white pb-24",children:[o.jsxs("div",{className:"bg-gradient-to-b from-zinc-900 to-black px-6 pt-12 pb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:"Gerenciar Ativos"}),o.jsx("button",{onClick:()=>m(!0),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center hover:bg-white/10 transition-colors shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(_u,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-4 border border-white/10",children:[o.jsx("p",{className:"text-white/50 text-sm mb-1",children:"Saldo Total"}),o.jsxs("p",{className:"text-2xl font-bold",children:[Wr(e.totalBalanceUSDT)," USDT"]})]})]}),o.jsxs("div",{className:"px-6 pt-6",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Seus Ativos"}),i?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):e.holdings.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-white/50",children:"Nenhum ativo no portflio"}),o.jsx("button",{onClick:()=>m(!0),className:"mt-4 px-6 py-3 bg-blue-600 rounded-xl font-semibold",children:"Adicionar Primeiro Ativo"})]}):o.jsx("div",{className:"space-y-3",children:e.holdings.map(I=>{const P=s[I.coinId]?.usd||0,C=I.amount*P,N=a===I.symbol;return o.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(ht,{symbol:I.symbol,size:"md"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold",children:I.name||I.symbol}),o.jsx("p",{className:"text-white/50 text-sm",children:I.symbol})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-semibold",children:[or(I.amount)," ",I.symbol]}),o.jsx("p",{className:"text-white/50 text-sm",children:Wr(C)})]})]}),N?o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",value:c,onChange:A=>d(A.target.value),placeholder:"Quantidade",className:"flex-1 bg-white/10 rounded-xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-600"}),o.jsx("button",{onClick:()=>M(I.symbol,I.coinId,I.name||I.symbol),className:"w-10 h-10 bg-green-600 rounded-xl flex items-center justify-center",children:o.jsx(JV,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>{l(null),d("")},className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center",children:o.jsx(Qr,{className:"w-5 h-5"})})]}):o.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[o.jsxs("p",{className:"text-white/50 text-sm",children:["Quantidade: ",o.jsx("span",{className:"text-white font-semibold",children:or(I.amount)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>S(I.symbol,I.amount),className:"w-8 h-8 bg-blue-600/20 rounded-lg flex items-center justify-center",children:o.jsx(gG,{className:"w-4 h-4 text-blue-400"})}),o.jsx("button",{onClick:()=>O(I.symbol),className:"w-8 h-8 bg-red-600/20 rounded-lg flex items-center justify-center",children:o.jsx(ho,{className:"w-4 h-4 text-red-400"})})]})]})]},I.symbol)})})]}),o.jsx(_w,{children:f&&o.jsx(Ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-md z-50 flex items-end",children:o.jsxs(Ye.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"w-full bg-zinc-900 rounded-t-3xl p-6 pb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Adicionar Ativo"}),o.jsx("button",{onClick:()=>{m(!1),y(null),b("")},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(Qr,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-white/50 text-sm mb-2 block",children:"Criptomoeda"}),o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:_.map(I=>o.jsxs("button",{onClick:()=>y(I),className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all ${p?.symbol===I.symbol?"bg-white/10 border-2 border-white/30":"bg-white/5 border border-white/10"}`,children:[o.jsx(ht,{symbol:I.symbol,size:"sm"}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("p",{className:"font-semibold",children:I.name}),o.jsx("p",{className:"text-white/50 text-sm",children:I.symbol})]})]},I.symbol))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-white/50 text-sm mb-2 block",children:"Quantidade"}),o.jsx("input",{type:"number",value:x,onChange:I=>b(I.target.value),placeholder:"0.00",className:"w-full bg-white/10 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),o.jsx("button",{onClick:z,disabled:!p||!x,className:"w-full bg-white text-black rounded-xl py-4 font-semibold hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_20px_rgba(255,255,255,0.2),0_4px_15px_rgba(0,0,0,0.4)]",children:"Adicionar"})]})]})})})]})}function FPe({onNavigate:t,onSelectAccount:e,onNavigateWithAccount:n}){const{user:r}=Vt(),{getBalance:i}=Lg(),[s,a]=E.useState([]),[l,c]=E.useState(!0);E.useEffect(()=>{if(!r?.uid){c(!1);return}console.log(" [SelectFiatAccount] Iniciando listener de contas bancrias para userId:",r.uid);const y=it(Ee,"bankAccounts"),x=It(y,Et("userId","==",r.uid)),b=xi(x,_=>{console.log(" [SelectFiatAccount] Contas bancrias recebidas:",_.size);const S=_.docs.map(M=>({...M.data(),id:M.id,createdAt:M.data().createdAt?.toDate()||new Date}));console.log(" [SelectFiatAccount] Total de contas carregadas:",S.length),console.log(" [SelectFiatAccount] Pases das contas:",S.map(M=>`${M.country} (${M.currency})`).join(", ")),a(S),c(!1)},_=>{console.error(" [SelectFiatAccount] Erro no listener de contas bancrias:",_),c(!1)});return()=>{console.log(" [SelectFiatAccount] Desconectando listener de contas bancrias"),b()}},[r]);const d={BRL:{flag:"",name:"Real Brasileiro",color:"#34c759"},USD:{flag:"",name:"Dlar Americano",color:"#007aff"},EUR:{flag:"",name:"Euro",color:"#5856d6"},GBP:{flag:"",name:"Libra Esterlina",color:"#ff9500"},JPY:{flag:"",name:"Iene Japons",color:"#ff2d55"},CAD:{flag:"",name:"Dlar Canadense",color:"#ff3b30"},AUD:{flag:"",name:"Dlar Australiano",color:"#ff9500"},CHF:{flag:"",name:"Franco Suo",color:"#af52de"},CNY:{flag:"",name:"Yuan Chins",color:"#ff3b30"},INR:{flag:"",name:"Rpia Indiana",color:"#ff9500"},MXN:{flag:"",name:"Peso Mexicano",color:"#34c759"},ARS:{flag:"",name:"Peso Argentino",color:"#5ac8fa"}},f={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",ARS:"$"},m=y=>{e&&e(y),n&&n("fiatAccountDetails",y)},p=y=>{const x=f[y]||y,b=i(y);let _;return y==="BRL"?_=b.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):_=b.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),`${x} ${_}`};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-9 h-9 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] mb-4",children:o.jsx(Ct,{className:"w-4 h-4"})}),o.jsx("h1",{className:"text-xl mb-1",children:"Selecionar conta"}),o.jsx("p",{className:"text-white/50 text-xs",children:"Escolha a conta para transacionar"})]}),o.jsxs("div",{className:"flex-1 px-6 pb-24",children:[l?o.jsx("div",{className:"space-y-2.5",children:[1,2,3].map(y=>o.jsx("div",{className:"w-full bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10 animate-pulse",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-11 h-11 rounded-full bg-white/10"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-1.5 w-28"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-1.5 w-20"}),o.jsx("div",{className:"h-5 bg-white/10 rounded w-24"})]})]})},y))}):o.jsx("div",{className:"space-y-2.5",children:s.length>0?s.map((y,x)=>{const b=d[y.currency]||{name:y.currency};return o.jsx("button",{onClick:()=>m(y),className:"w-full bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10 hover:bg-white/10 transition-all active:scale-[0.98] shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-11 h-11 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center overflow-hidden border border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1)] flex-shrink-0",children:o.jsx("img",{src:`https://flagcdn.com/w80/${y.country.toLowerCase()}.png`,alt:y.currency,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 text-left min-w-0",children:[o.jsx("h3",{className:"text-sm font-semibold text-white mb-0.5 truncate",children:b.name}),o.jsx("p",{className:"text-xs text-white/40 mb-1 font-mono",children:y.iban?` ${y.iban.slice(-6)}`:` ${y.accountNumber.slice(-6)}`}),o.jsx("p",{className:"text-base font-bold text-white tabular-nums",children:p(y.currency)})]}),o.jsx(as,{className:"w-4 h-4 text-white/30 flex-shrink-0"})]})},`${y.currency}-${y.id||x}`)}):o.jsxs("div",{className:"text-center py-10",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center mx-auto mb-3 border border-white/10",children:o.jsx(_u,{className:"w-8 h-8 text-white/30"})}),o.jsx("h3",{className:"text-base font-bold text-white mb-1",children:"Nenhuma conta encontrada"}),o.jsx("p",{className:"text-xs text-white/50 mb-4",children:"Adicione uma conta fiat para comear"}),o.jsx("button",{onClick:()=>t("accountData"),className:"px-5 py-2.5 bg-white/10 backdrop-blur-md rounded-full text-sm text-white font-semibold border border-white/20 hover:bg-white/20 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:"Adicionar Conta"})]})}),!l&&s.length>0&&o.jsx("button",{onClick:()=>t("accountData"),className:"w-full mt-4 bg-white rounded-xl p-3.5 hover:bg-white/90 transition-all active:scale-[0.98] shadow-[0_4px_20px_rgba(255,255,255,0.15)]",children:o.jsxs("div",{className:"flex items-center justify-center gap-2.5",children:[o.jsx(_u,{className:"w-5 h-5 text-black"}),o.jsx("span",{className:"text-sm font-semibold text-black",children:"Adicionar Nova Conta"})]})})]})]})}function BPe(){const[t,e]=E.useState(!1),[n,r]=E.useState(!1),[i,s]=E.useState(!1),{user:a,userData:l,dismissAlert:c}=Vt();E.useEffect(()=>{if(l?.preferences?.dismissedAlerts?.includes("walletsMigration")){e(!0);return}const f=console.error;return console.error=(...m)=>{const p=m.join(" ");(p.includes("permission-denied")||p.includes("Missing or insufficient permissions"))&&s(!0),f.apply(console,m)},()=>{console.error=f}},[l]);const d=async()=>{if(a)try{await c("walletsMigration")}catch(f){console.error("Erro ao salvar dismiss:",f)}e(!0)};return!a||t||!i?null:o.jsx("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-md z-[100] flex items-center justify-center px-4",children:o.jsxs("div",{className:"max-w-md w-full bg-gradient-to-br from-red-600 to-red-700 rounded-2xl p-6 shadow-2xl border border-red-400/30 backdrop-blur-xl",children:[o.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0",children:o.jsx(zl,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:" Ao Obrigatria!"}),o.jsx("p",{className:"text-white/90 text-sm",children:"Deploy das regras do Firestore necessrio"})]})]}),o.jsxs("div",{className:"bg-black/30 rounded-xl p-4 mb-4 border border-white/10",children:[o.jsx("p",{className:"text-red-200 text-sm font-semibold mb-2",children:" Erro atual:"}),o.jsx("code",{className:"text-xs text-white/80 block",children:"FirebaseError: permission-denied"})]}),n?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-black/30 rounded-xl p-4 mb-4 border border-white/10 max-h-64 overflow-y-auto",children:[o.jsx("h4",{className:"font-bold text-white mb-3",children:" Passo a Passo (2 minutos):"}),o.jsxs("div",{className:"space-y-3 text-sm text-white/90",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:"1. Abra o Firebase Console:"}),o.jsx("p",{className:"text-xs",children:"console.firebase.google.com"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:"2. V para Firestore Database:"}),o.jsx("p",{className:"text-xs",children:'Menu lateral  Firestore Database  Aba "Regras"'})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:"3. Cole as novas regras:"}),o.jsx("p",{className:"text-xs",children:"Copie o contedo de /firestore.rules e cole l"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:'4. Clique em "Publicar":'}),o.jsx("p",{className:"text-xs",children:"Aguarde alguns segundos e recarregue esta pgina"})]})]}),o.jsx("div",{className:"mt-4 pt-3 border-t border-white/20",children:o.jsxs("p",{className:"text-xs text-white/70",children:[" Arquivo completo com instrues detalhadas: ",o.jsx("span",{className:"font-mono text-yellow-200",children:"DEPLOY_FIRESTORE_RULES.md"})]})})]}),o.jsxs("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full bg-white text-red-600 rounded-xl py-3 px-4 font-bold text-sm hover:bg-red-50 transition-colors mb-2",children:[o.jsx("span",{children:" Abrir Firebase Console"}),o.jsx(YV,{className:"w-4 h-4"})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"text-white/90 text-sm space-y-2 mb-4",children:[o.jsx("p",{children:" Nova estrutura de wallets implementada"}),o.jsx("p",{className:"font-semibold text-yellow-200",children:" As regras de segurana precisam ser publicadas no Firebase"})]}),o.jsx("button",{onClick:()=>r(!0),className:"w-full bg-white text-red-600 rounded-xl py-3 px-4 font-bold text-sm hover:bg-red-50 transition-colors mb-2",children:" Ver Instrues Passo a Passo"})]}),o.jsx("button",{onClick:d,className:"w-full bg-white/10 text-white rounded-xl py-2 px-4 font-semibold text-sm hover:bg-white/20 transition-colors",children:n?"J fiz o deploy, fechar":"Fechar (no recomendado)"}),!n&&o.jsx("p",{className:"text-xs text-white/60 text-center mt-3",children:" A aplicao no funcionar at o deploy das regras"})]})})}function zPe(){const{user:t}=Vt(),{prices:e,isLoading:n}=wi(),r=E.useRef(""),i=E.useRef(!1);E.useEffect(()=>{if(!(!t?.uid||n||Object.keys(e).length===0)){if(!i.current){i.current=!0;const a=setTimeout(()=>{s()},2e3);return()=>clearTimeout(a)}s()}},[t?.uid,e,n]);const s=()=>{if(!t?.uid||Object.keys(e).length===0)return;const a=JSON.stringify(Object.entries(e).map(([c,d])=>`${c}:${d.usd}`).sort().join(","));if(a===r.current)return;r.current=a,(async()=>{try{await Kre(t.uid,e)}catch(c){console.error(" Erro ao sincronizar valores das wallets:",c)}})()};return null}function JI(){const{user:t}=Vt(),[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{if(!t?.uid){n([]),i(!1);return}console.log(" Iniciando listener de chaves PIX para userId:",t.uid);const s=it(Ee,"pixKeys"),a=It(s,Et("userId","==",t.uid)),l=xi(a,c=>{console.log(" Snapshot de chaves PIX recebido - Total:",c.size);const d=[];c.forEach(f=>{const m=f.data();d.push({id:f.id,userId:m.userId,accountId:m.accountId,accountNumber:m.accountNumber,currency:m.currency,country:m.country,keyType:m.keyType,keyValue:m.keyValue,createdAt:m.createdAt?.toDate()||new Date})}),d.sort((f,m)=>m.createdAt.getTime()-f.createdAt.getTime()),n(d),i(!1)},c=>{console.error(" Erro no listener de chaves PIX:",c),i(!1)});return()=>{console.log(" Cancelando listener de chaves PIX"),l()}},[t?.uid]),{pixKeys:e,isLoading:r}}function UPe({account:t,onBack:e}){const{pixKeys:n,isLoading:r}=JI(),{user:i,userData:s}=Vt(),[a,l]=E.useState(!0);E.useEffect(()=>{a&&(async()=>{if(!i?.uid||!s?.email||!s?.phone||!t.id){console.log(" Dados do usurio incompletos para criar chaves PIX"),l(!1);return}if(t.currency!=="BRL"){console.log(" Conta no  BRL, pulando criao de chaves PIX"),l(!1);return}try{console.log(" Verificando chaves PIX para conta:",t.id);const y=it(Ee,"pixKeys"),x=It(y,Et("userId","==",i.uid),Et("accountId","==",t.id));if(!(await Pt(x)).empty){console.log(" Chaves PIX j existem para esta conta. Nenhuma ao necessria."),l(!1);return}console.log(" Criando chaves PIX automaticamente...");const _=s.email;await zi(y,{userId:i.uid,accountId:t.id,accountNumber:t.accountNumber,currency:"BRL",country:"BR",keyType:"email",keyValue:_,createdAt:new Date}),console.log(" Chave PIX (email) criada:",_);const S=dU(s.phone);await zi(y,{userId:i.uid,accountId:t.id,accountNumber:t.accountNumber,currency:"BRL",country:"BR",keyType:"phone",keyValue:S,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",S),console.log(" Chaves PIX criadas com sucesso!")}catch(y){console.error(" Erro ao inicializar chaves PIX:",y)}finally{l(!1)}})()},[i?.uid,s?.email,s?.phone,t.id,t.currency,t.accountNumber,a]);const c=n.filter(p=>p.accountId===t.id),d=p=>{switch(p){case"email":return Tf;case"phone":return yG;default:return Tf}},f=p=>{switch(p){case"email":return"E-mail";case"phone":return"Telefone";default:return p}},m=async(p,y)=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(p);else{const x=document.createElement("textarea");x.value=p,x.style.position="fixed",x.style.left="-999999px",x.style.top="-999999px",document.body.appendChild(x),x.focus(),x.select();const b=document.execCommand("copy");if(document.body.removeChild(x),!b)throw new Error("Falha ao copiar")}Me.success("Chave copiada!")}catch(x){console.error("Erro ao copiar chave:",x),Me.error("Erro ao copiar chave")}};return o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black flex flex-col z-50",children:[o.jsx("div",{className:"flex items-center px-6 pt-6 pb-4",children:o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-zinc-800/50 backdrop-blur-md flex items-center justify-center hover:bg-zinc-700/50 transition-colors",children:o.jsx(qx,{className:"w-5 h-5 text-white"})})}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Suas chaves Pix"}),o.jsx("p",{className:"text-gray-400 text-base",children:"Suas chaves cadastradas"})]}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 mb-6",children:c.length>0?o.jsx("p",{className:"text-gray-300 text-sm text-center",children:" Suas chaves PIX (email e telefone) foram criadas automaticamente"}):o.jsx("p",{className:"text-gray-300 text-sm text-center",children:"Nenhuma chave PIX encontrada"})}),o.jsx("div",{className:"space-y-3",children:r?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-400",children:"Carregando chaves..."})}):c.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-400",children:"Nenhuma chave cadastrada"})}):c.map(p=>{const y=d(p.keyType);return o.jsx("div",{className:"bg-zinc-900/80 backdrop-blur-xl rounded-3xl p-5 border border-zinc-800/50",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800/50 flex items-center justify-center flex-shrink-0",children:o.jsx(y,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-white font-semibold mb-1",children:f(p.keyType)}),o.jsx("p",{className:"text-gray-400 text-sm font-mono truncate",children:p.keyValue})]}),o.jsx("button",{onClick:()=>m(p.keyValue,p.id),className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center flex-shrink-0 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-white"})})]})},p.id)})})]})]})}function $Pe({onNavigate:t}){const{user:e}=Vt();JI();const[n,r]=E.useState("tarifas"),[i,s]=E.useState(!1),[a,l]=E.useState(null),[c,d]=E.useState(!0);E.useEffect(()=>{(async()=>{if(!e?.uid){d(!1);return}try{const x=it(Ee,"bankAccounts"),b=It(x,Et("userId","==",e.uid),Et("currency","==","BRL")),_=await Pt(b);if(_.empty)console.log(" Conta BRL no encontrada, usando dados padro");else{const S=_.docs[0].data();l(S)}}catch(x){console.error(" Erro ao carregar conta BRL:",x)}finally{d(!1)}})()},[e]);const f=(y,x)=>{vw(y),Me.success("Copiado!",{description:`${x} copiado para a rea de transferncia`,duration:2e3})},m=async()=>{const y=`
Receba BRL
Do Brasil com Pix

Nmero da conta: ${a?.accountNumber||"N/A"}
Agncia: ${a?.branchCode||"0001"}
    `.trim();if(navigator.share)try{await navigator.share({title:"Dados da Conta",text:y})}catch{console.log("Compartilhamento cancelado")}else f(y,"Informaes")},p=()=>{};return c?o.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center",children:o.jsx("div",{className:"text-white",children:"Carregando..."})}):o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black flex flex-col z-50",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-10 h-10 rounded-full bg-zinc-800/50 backdrop-blur-md flex items-center justify-center hover:bg-zinc-700/50 transition-colors",children:o.jsx(Ct,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx("div",{className:"text-white font-semibold",children:"BRL"}),o.jsx("div",{className:"text-xs text-gray-400",children:"Minhas Chaves Pix"})]}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-24",children:[o.jsxs("div",{className:"mb-6 mt-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Receba BRL"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Do Brasil com Pix"})]}),o.jsx("button",{onClick:m,className:"w-full mb-6 px-6 py-3 rounded-2xl bg-white/10 hover:bg-white/15 backdrop-blur-md border border-white/20 text-white font-semibold transition-all shadow-lg",children:"Compartilhar"}),o.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur-xl rounded-3xl p-5 mb-6 border border-zinc-800/50",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Nmero da conta"}),o.jsx("p",{className:"text-white font-mono text-xl font-semibold",children:a?.accountNumber||"N/A"})]}),o.jsx("button",{onClick:()=>f(a?.accountNumber||"","Nmero da conta"),className:"ml-3 w-10 h-10 rounded-full bg-zinc-800/50 hover:bg-zinc-700/50 flex items-center justify-center transition-colors flex-shrink-0",children:o.jsx(xn,{className:"w-4 h-4 text-cyan-400"})})]}),o.jsxs("button",{className:"text-sm text-gray-400 hover:text-gray-300 transition-colors",children:["Clique ",o.jsx("span",{className:"underline",children:"aqui"})," para ver os seus dados de conta completos"]})]}),o.jsx("button",{onClick:()=>s(!0),className:"w-full mb-6 px-6 py-4 rounded-2xl bg-zinc-800/50 hover:bg-zinc-700/50 text-white font-semibold transition-all",children:"Gerenciar"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Informaes resumidas"}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("button",{onClick:()=>r("tarifas"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="tarifas"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Tarifas"}),o.jsx("button",{onClick:()=>r("tempo"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="tempo"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Tempo"}),o.jsx("button",{onClick:()=>r("limites"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="limites"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Limites"})]}),n==="tarifas"&&o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:[o.jsx("p",{className:"text-sm font-semibold text-white mb-1",children:"Quanto custa?"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white",children:"Do Brasil (domstico)"}),o.jsx("p",{className:"text-cyan-400 font-semibold",children:"Sem tarifas"})]}),o.jsx(as,{className:"w-5 h-5 text-gray-400"})]})]})}),n==="tempo"&&o.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:o.jsx("p",{className:"text-gray-400 text-sm",children:"Transferncias Pix so instantneas"})}),n==="limites"&&o.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:o.jsx("p",{className:"text-gray-400 text-sm",children:"Sem limite de recebimento"})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Disponibilidade"}),o.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50 flex items-start gap-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})}),o.jsx("p",{className:"text-white text-sm",children:"DDAs (dbitos automticos) no disponveis"})]})]}),o.jsxs("div",{className:"text-center text-gray-400 text-sm mb-4",children:[o.jsx("p",{className:"mb-2",children:"Como podemos melhorar? Os dados no foram aceitos?"}),o.jsx("button",{className:"text-white hover:underline font-semibold",children:"Envie sua sugesto"})]})]}),i&&a&&o.jsx(UPe,{account:a,onBack:()=>s(!1),onSuccess:p})]})}var qPe=Object.defineProperty,Ux=Object.getOwnPropertySymbols,CW=Object.prototype.hasOwnProperty,NW=Object.prototype.propertyIsEnumerable,UV=(t,e,n)=>e in t?qPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uT=(t,e)=>{for(var n in e||(e={}))CW.call(e,n)&&UV(t,n,e[n]);if(Ux)for(var n of Ux(e))NW.call(e,n)&&UV(t,n,e[n]);return t},dT=(t,e)=>{var n={};for(var r in t)CW.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Ux)for(var r of Ux(t))e.indexOf(r)<0&&NW.call(t,r)&&(n[r]=t[r]);return n};var Hu;(t=>{const e=class _t{constructor(c,d,f,m){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<_t.MIN_VERSION||c>_t.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let p=[];for(let x=0;x<this.size;x++)p.push(!1);for(let x=0;x<this.size;x++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const y=this.addEccAndInterleave(f);if(this.drawCodewords(y),m==-1){let x=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const _=this.getPenaltyScore();_<x&&(m=b,x=_),this.applyMask(b)}}i(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(c,d){const f=t.QrSegment.makeSegments(c);return _t.encodeSegments(f,d)}static encodeBinary(c,d){const f=t.QrSegment.makeBytes(c);return _t.encodeSegments([f],d)}static encodeSegments(c,d,f=1,m=40,p=-1,y=!0){if(!(_t.MIN_VERSION<=f&&f<=m&&m<=_t.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let x,b;for(x=f;;x++){const O=_t.getNumDataCodewords(x,d)*8,z=a.getTotalBits(c,x);if(z<=O){b=z;break}if(x>=m)throw new RangeError("Data too long")}for(const O of[_t.Ecc.MEDIUM,_t.Ecc.QUARTILE,_t.Ecc.HIGH])y&&b<=_t.getNumDataCodewords(x,O)*8&&(d=O);let _=[];for(const O of c){n(O.mode.modeBits,4,_),n(O.numChars,O.mode.numCharCountBits(x),_);for(const z of O.getData())_.push(z)}i(_.length==b);const S=_t.getNumDataCodewords(x,d)*8;i(_.length<=S),n(0,Math.min(4,S-_.length),_),n(0,(8-_.length%8)%8,_),i(_.length%8==0);for(let O=236;_.length<S;O^=253)n(O,8,_);let M=[];for(;M.length*8<_.length;)M.push(0);return _.forEach((O,z)=>M[z>>>3]|=O<<7-(z&7)),new _t(x,d,M,p)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let f=0;f<d;f++)for(let m=0;m<d;m++)f==0&&m==0||f==0&&m==d-1||f==d-1&&m==0||this.drawAlignmentPattern(c[f],c[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let f=d;for(let p=0;p<10;p++)f=f<<1^(f>>>9)*1335;const m=(d<<10|f)^21522;i(m>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,r(m,p));this.setFunctionModule(8,7,r(m,6)),this.setFunctionModule(8,8,r(m,7)),this.setFunctionModule(7,8,r(m,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,r(m,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,r(m,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,r(m,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let f=0;f<12;f++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;i(d>>>18==0);for(let f=0;f<18;f++){const m=r(d,f),p=this.size-11+f%3,y=Math.floor(f/3);this.setFunctionModule(p,y,m),this.setFunctionModule(y,p,m)}}drawFinderPattern(c,d){for(let f=-4;f<=4;f++)for(let m=-4;m<=4;m++){const p=Math.max(Math.abs(m),Math.abs(f)),y=c+m,x=d+f;0<=y&&y<this.size&&0<=x&&x<this.size&&this.setFunctionModule(y,x,p!=2&&p!=4)}}drawAlignmentPattern(c,d){for(let f=-2;f<=2;f++)for(let m=-2;m<=2;m++)this.setFunctionModule(c+m,d+f,Math.max(Math.abs(m),Math.abs(f))!=1)}setFunctionModule(c,d,f){this.modules[d][c]=f,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,f=this.errorCorrectionLevel;if(c.length!=_t.getNumDataCodewords(d,f))throw new RangeError("Invalid argument");const m=_t.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d],p=_t.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d],y=Math.floor(_t.getNumRawDataModules(d)/8),x=m-y%m,b=Math.floor(y/m);let _=[];const S=_t.reedSolomonComputeDivisor(p);for(let O=0,z=0;O<m;O++){let I=c.slice(z,z+b-p+(O<x?0:1));z+=I.length;const P=_t.reedSolomonComputeRemainder(I,S);O<x&&I.push(0),_.push(I.concat(P))}let M=[];for(let O=0;O<_[0].length;O++)_.forEach((z,I)=>{(O!=b-p||I>=x)&&M.push(z[O])});return i(M.length==y),M}drawCodewords(c){if(c.length!=Math.floor(_t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let m=0;m<this.size;m++)for(let p=0;p<2;p++){const y=f-p,b=(f+1&2)==0?this.size-1-m:m;!this.isFunction[b][y]&&d<c.length*8&&(this.modules[b][y]=r(c[d>>>3],7-(d&7)),d++)}}i(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let f=0;f<this.size;f++){let m;switch(c){case 0:m=(f+d)%2==0;break;case 1:m=d%2==0;break;case 2:m=f%3==0;break;case 3:m=(f+d)%3==0;break;case 4:m=(Math.floor(f/3)+Math.floor(d/2))%2==0;break;case 5:m=f*d%2+f*d%3==0;break;case 6:m=(f*d%2+f*d%3)%2==0;break;case 7:m=((f+d)%2+f*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][f]&&m&&(this.modules[d][f]=!this.modules[d][f])}}getPenaltyScore(){let c=0;for(let p=0;p<this.size;p++){let y=!1,x=0,b=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[p][_]==y?(x++,x==5?c+=_t.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,b),y||(c+=this.finderPenaltyCountPatterns(b)*_t.PENALTY_N3),y=this.modules[p][_],x=1);c+=this.finderPenaltyTerminateAndCount(y,x,b)*_t.PENALTY_N3}for(let p=0;p<this.size;p++){let y=!1,x=0,b=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][p]==y?(x++,x==5?c+=_t.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,b),y||(c+=this.finderPenaltyCountPatterns(b)*_t.PENALTY_N3),y=this.modules[_][p],x=1);c+=this.finderPenaltyTerminateAndCount(y,x,b)*_t.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let y=0;y<this.size-1;y++){const x=this.modules[p][y];x==this.modules[p][y+1]&&x==this.modules[p+1][y]&&x==this.modules[p+1][y+1]&&(c+=_t.PENALTY_N2)}let d=0;for(const p of this.modules)d=p.reduce((y,x)=>y+(x?1:0),d);const f=this.size*this.size,m=Math.ceil(Math.abs(d*20-f*10)/f)-1;return i(0<=m&&m<=9),c+=m*_t.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let f=[6];for(let m=this.size-7;f.length<c;m-=d)f.splice(1,0,m);return f}}static getNumRawDataModules(c){if(c<_t.MIN_VERSION||c>_t.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const f=Math.floor(c/7)+2;d-=(25*f-10)*f-55,c>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(_t.getNumRawDataModules(c)/8)-_t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*_t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let m=0;m<c-1;m++)d.push(0);d.push(1);let f=1;for(let m=0;m<c;m++){for(let p=0;p<d.length;p++)d[p]=_t.reedSolomonMultiply(d[p],f),p+1<d.length&&(d[p]^=d[p+1]);f=_t.reedSolomonMultiply(f,2)}return d}static reedSolomonComputeRemainder(c,d){let f=d.map(m=>0);for(const m of c){const p=m^f.shift();f.push(0),d.forEach((y,x)=>f[x]^=_t.reedSolomonMultiply(y,p))}return f}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let f=0;for(let m=7;m>=0;m--)f=f<<1^(f>>>7)*285,f^=(d>>>m&1)*c;return i(f>>>8==0),f}finderPenaltyCountPatterns(c){const d=c[1];i(d<=this.size*3);const f=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(f&&c[0]>=d*4&&c[6]>=d?1:0)+(f&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,f){return c&&(this.finderPenaltyAddHistory(d,f),d=0),d+=this.size,this.finderPenaltyAddHistory(d,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(l,c,d){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let f=c-1;f>=0;f--)d.push(l>>>f&1)}function r(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const s=class Nn{constructor(c,d,f){if(this.mode=c,this.numChars=d,this.bitData=f,d<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(c){let d=[];for(const f of c)n(f,8,d);return new Nn(Nn.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!Nn.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let f=0;f<c.length;){const m=Math.min(c.length-f,3);n(parseInt(c.substring(f,f+m),10),m*3+1,d),f+=m}return new Nn(Nn.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!Nn.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],f;for(f=0;f+2<=c.length;f+=2){let m=Nn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f))*45;m+=Nn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f+1)),n(m,11,d)}return f<c.length&&n(Nn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f)),6,d),new Nn(Nn.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:Nn.isNumeric(c)?[Nn.makeNumeric(c)]:Nn.isAlphanumeric(c)?[Nn.makeAlphanumeric(c)]:[Nn.makeBytes(Nn.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new Nn(Nn.Mode.ECI,0,d)}static isNumeric(c){return Nn.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Nn.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let f=0;for(const m of c){const p=m.mode.numCharCountBits(d);if(m.numChars>=1<<p)return 1/0;f+=4+p+m.bitData.length}return f}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let f=0;f<c.length;f++)c.charAt(f)!="%"?d.push(c.charCodeAt(f)):(d.push(parseInt(c.substring(f+1,f+3),16)),f+=2);return d}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=s;t.QrSegment=s})(Hu||(Hu={}));(t=>{(e=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Hu||(Hu={}));(t=>{(e=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Hu||(Hu={}));var pf=Hu;var HPe={L:pf.QrCode.Ecc.LOW,M:pf.QrCode.Ecc.MEDIUM,Q:pf.QrCode.Ecc.QUARTILE,H:pf.QrCode.Ecc.HIGH},SW=128,TW="L",PW="#FFFFFF",AW="#000000",IW=!1,jW=1,WPe=4,KPe=0,GPe=.1;function kW(t,e=0){const n=[];return t.forEach(function(r,i){let s=null;r.forEach(function(a,l){if(!a&&s!==null){n.push(`M${s+e} ${i+e}h${l-s}v1H${s+e}z`),s=null;return}if(l===r.length-1){if(!a)return;s===null?n.push(`M${l+e},${i+e} h1v1H${l+e}z`):n.push(`M${s+e},${i+e} h${l+1-s}v1H${s+e}z`);return}a&&s===null&&(s=l)})}),n.join("")}function RW(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function XPe(t,e,n,r){if(r==null)return null;const i=t.length+n*2,s=Math.floor(e*GPe),a=i/e,l=(r.width||s)*a,c=(r.height||s)*a,d=r.x==null?t.length/2-l/2:r.x*a,f=r.y==null?t.length/2-c/2:r.y*a,m=r.opacity==null?1:r.opacity;let p=null;if(r.excavate){let x=Math.floor(d),b=Math.floor(f),_=Math.ceil(l+d-x),S=Math.ceil(c+f-b);p={x,y:b,w:_,h:S}}const y=r.crossOrigin;return{x:d,y:f,h:c,w:l,excavation:p,opacity:m,crossOrigin:y}}function YPe(t,e){return e!=null?Math.max(Math.floor(e),0):t?WPe:KPe}function DW({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:s,size:a,boostLevel:l}){let c=Se.useMemo(()=>{const x=(Array.isArray(t)?t:[t]).reduce((b,_)=>(b.push(...pf.QrSegment.makeSegments(_)),b),[]);return pf.QrCode.encodeSegments(x,HPe[e],n,void 0,void 0,l)},[t,e,n,l]);const{cells:d,margin:f,numCells:m,calculatedImageSettings:p}=Se.useMemo(()=>{let y=c.getModules();const x=YPe(r,i),b=y.length+x*2,_=XPe(y,a,x,s);return{cells:y,margin:x,numCells:b,calculatedImageSettings:_}},[c,a,s,r,i]);return{qrcode:c,margin:f,cells:d,numCells:m,calculatedImageSettings:p}}var QPe=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),JPe=Se.forwardRef(function(e,n){const r=e,{value:i,size:s=SW,level:a=TW,bgColor:l=PW,fgColor:c=AW,includeMargin:d=IW,minVersion:f=jW,boostLevel:m,marginSize:p,imageSettings:y}=r,b=dT(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:_}=b,S=dT(b,["style"]),M=y?.src,O=Se.useRef(null),z=Se.useRef(null),I=Se.useCallback($=>{O.current=$,typeof n=="function"?n($):n&&(n.current=$)},[n]),[P,C]=Se.useState(!1),{margin:N,cells:A,numCells:j,calculatedImageSettings:D}=DW({value:i,level:a,minVersion:f,boostLevel:m,includeMargin:d,marginSize:p,imageSettings:y,size:s});Se.useEffect(()=>{if(O.current!=null){const $=O.current,Y=$.getContext("2d");if(!Y)return;let Z=A;const k=z.current,Q=D!=null&&k!==null&&k.complete&&k.naturalHeight!==0&&k.naturalWidth!==0;Q&&D.excavation!=null&&(Z=RW(A,D.excavation));const H=window.devicePixelRatio||1;$.height=$.width=s*H;const R=s/j*H;Y.scale(R,R),Y.fillStyle=l,Y.fillRect(0,0,j,j),Y.fillStyle=c,QPe?Y.fill(new Path2D(kW(Z,N))):A.forEach(function(U,K){U.forEach(function(J,G){J&&Y.fillRect(G+N,K+N,1,1)})}),D&&(Y.globalAlpha=D.opacity),Q&&Y.drawImage(k,D.x+N,D.y+N,D.w,D.h)}}),Se.useEffect(()=>{C(!1)},[M]);const L=uT({height:s,width:s},_);let B=null;return M!=null&&(B=Se.createElement("img",{src:M,key:M,style:{display:"none"},onLoad:()=>{C(!0)},ref:z,crossOrigin:D?.crossOrigin})),Se.createElement(Se.Fragment,null,Se.createElement("canvas",uT({style:L,height:s,width:s,ref:I,role:"img"},S)),B)});JPe.displayName="QRCodeCanvas";var $x=Se.forwardRef(function(e,n){const r=e,{value:i,size:s=SW,level:a=TW,bgColor:l=PW,fgColor:c=AW,includeMargin:d=IW,minVersion:f=jW,boostLevel:m,title:p,marginSize:y,imageSettings:x}=r,b=dT(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:_,cells:S,numCells:M,calculatedImageSettings:O}=DW({value:i,level:a,minVersion:f,boostLevel:m,includeMargin:d,marginSize:y,imageSettings:x,size:s});let z=S,I=null;x!=null&&O!=null&&(O.excavation!=null&&(z=RW(S,O.excavation)),I=Se.createElement("image",{href:x.src,height:O.h,width:O.w,x:O.x+_,y:O.y+_,preserveAspectRatio:"none",opacity:O.opacity,crossOrigin:O.crossOrigin}));const P=kW(z,_);return Se.createElement("svg",uT({height:s,width:s,viewBox:`0 0 ${M} ${M}`,ref:n,role:"img"},b),!!p&&Se.createElement("title",null,p),Se.createElement("path",{fill:l,d:`M0,0 h${M}v${M}H0z`,shapeRendering:"crispEdges"}),Se.createElement("path",{fill:c,d:P,shapeRendering:"crispEdges"}),I)});$x.displayName="QRCodeSVG";function ZPe({account:t,onClose:e}){const{user:n}=Vt(),{pixKeys:r,isLoading:i}=JI(),[s,a]=E.useState("transfer"),[l,c]=E.useState(""),[d,f]=E.useState(!1),[m,p]=E.useState(null),[y,x]=E.useState(""),[b,_]=E.useState(!1);console.log(" FiatAddFunds renderizado",{account:t,user:n?.uid,pixKeysCount:r.length,isLoadingPixKeys:i});const S=t.country==="BR",M=t.currency==="BRL"?"R$":t.currency==="USD"?"$":t.currency==="EUR"?"":"";E.useEffect(()=>{r.length>0&&!y&&x(r[0].id)},[r,y]);const O=r.find(D=>D.id===y),z=(D,L)=>{vw(D),p(L),Me.success("Copiado para rea de transferncia"),setTimeout(()=>p(null),2e3)},I=D=>{const L=D.replace(/\D/g,"");return L?(parseInt(L)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""},P=D=>{const L=I(D);c(L)},C=async()=>{const D=parseFloat(l.replace(/\./g,"").replace(",","."));if(!l||D<=0){Me.error("Insira um valor vlido");return}if(!n?.uid){Me.error("Usurio no autenticado");return}f(!0);try{const L=D,B=s==="pix"?"PIX":"Transferncia Bancria",$=await Al(n.uid,t.currency,L,`Depsito via ${B}`);if($.success){const Y=t.currency==="BRL"?L.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):L.toFixed(2);Me.success(`Depsito de ${M}${Y} realizado com sucesso!`),c(""),setTimeout(()=>{e()},1e3)}else Me.error($.message||"Erro ao processar depsito")}catch(L){console.error("Erro ao simular depsito:",L),Me.error("Erro ao processar depsito")}finally{f(!1)}},A=(()=>{if(!O||!l)return"";const D=parseFloat(l.replace(/\./g,"").replace(",","."));if(D<=0)return"";const L={pixKey:O.keyValue,description:"Depsito NexCoin",merchantName:"NexCoin",merchantCity:"SAO PAULO",txid:Math.random().toString(36).substring(2,15).toUpperCase(),amount:D.toFixed(2)};return JSON.stringify(L)})(),j=D=>{switch(D){case"cpf":return"CPF";case"cnpj":return"CNPJ";case"email":return"E-mail";case"phone":return"Telefone";case"random":return"Aleatria";default:return D}};return o.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[o.jsxs("div",{className:"px-6 pt-12 pb-4 flex items-center flex-shrink-0",children:[o.jsx("button",{className:"w-10 h-10 flex items-center justify-start text-white",onClick:e,children:o.jsx(Ct,{className:"w-6 h-6"})}),o.jsx("h1",{className:"flex-1 text-center font-semibold text-lg pr-10",children:"Adicionar Fundos"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto hide-scrollbar px-6 pb-6",children:[o.jsx("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-4 mb-6",children:o.jsx("div",{className:"flex items-center gap-3 mb-2",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-semibold text-white",children:t.bankName}),o.jsx("p",{className:"text-xs text-gray-400",children:t.accountNumber})]})})}),S&&o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Mtodo de Depsito"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>a("transfer"),className:`flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all ${s==="transfer"?"bg-white text-black":"bg-[#0A0A0A] text-gray-400 border border-[#1A1A1A]"}`,children:"Transferncia"}),o.jsx("button",{onClick:()=>a("pix"),className:`flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all ${s==="pix"?"bg-white text-black":"bg-[#0A0A0A] text-gray-400 border border-[#1A1A1A]"}`,children:"PIX"})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Valor do Depsito"}),o.jsxs("div",{className:"relative",children:[o.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-semibold text-white",children:M}),o.jsx("input",{type:"text",inputMode:"decimal",value:l,onChange:D=>P(D.target.value),placeholder:"0,00",className:"w-full bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl py-4 pl-12 pr-4 text-2xl font-semibold text-white placeholder-gray-600 focus:outline-none focus:border-white/20"})]})]}),s==="transfer"&&o.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-4 mb-6",children:[o.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Dados para Transferncia"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Banco"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-medium",children:t.bankName}),o.jsx("button",{onClick:()=>z(t.bankName,"bank"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="bank"?o.jsx(An,{className:"w-4 h-4 text-green-500"}):o.jsx(xn,{className:"w-4 h-4 text-gray-400"})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Agncia"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-mono",children:t.branchCode}),o.jsx("button",{onClick:()=>z(t.branchCode,"branch"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="branch"?o.jsx(An,{className:"w-4 h-4 text-green-500"}):o.jsx(xn,{className:"w-4 h-4 text-gray-400"})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Conta"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-mono",children:t.accountNumber}),o.jsx("button",{onClick:()=>z(t.accountNumber,"account"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="account"?o.jsx(An,{className:"w-4 h-4 text-green-500"}):o.jsx(xn,{className:"w-4 h-4 text-gray-400"})})]})]}),t.iban&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"IBAN"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-mono",children:t.iban}),o.jsx("button",{onClick:()=>z(t.iban,"iban"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="iban"?o.jsx(An,{className:"w-4 h-4 text-green-500"}):o.jsx(xn,{className:"w-4 h-4 text-gray-400"})})]})]}),t.swift&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"SWIFT/BIC"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-mono",children:t.swift}),o.jsx("button",{onClick:()=>z(t.swift,"swift"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="swift"?o.jsx(An,{className:"w-4 h-4 text-green-500"}):o.jsx(xn,{className:"w-4 h-4 text-gray-400"})})]})]})]})]}),s==="pix"&&o.jsx("div",{className:"space-y-4",children:r.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Selecione a Chave PIX"}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>_(!b),className:"w-full bg-[#0A0A0A] border border-[#1A1A1A] rounded-xl p-4 flex items-center justify-between text-left",children:[O?o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:j(O.keyType)}),o.jsx("p",{className:"text-sm text-white font-mono",children:O.keyValue})]}):o.jsx("p",{className:"text-sm text-gray-400",children:"Selecione uma chave"}),o.jsx(bo,{className:`w-5 h-5 text-gray-400 transition-transform ${b?"rotate-180":""}`})]}),b&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#0A0A0A] border border-[#1A1A1A] rounded-xl overflow-hidden z-10 max-h-60 overflow-y-auto",children:r.map(D=>o.jsxs("button",{onClick:()=>{x(D.id),_(!1)},className:`w-full p-4 text-left hover:bg-white/5 transition-colors border-b border-[#1A1A1A] last:border-b-0 ${y===D.id?"bg-white/5":""}`,children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:j(D.keyType)}),o.jsx("p",{className:"text-sm text-white font-mono",children:D.keyValue})]},D.id))})]})]}),O&&l&&parseFloat(l)>0&&o.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-6",children:[o.jsx("h3",{className:"text-sm font-semibold text-white mb-4 text-center",children:"QR Code PIX"}),o.jsx("div",{className:"bg-white rounded-2xl p-6 mb-4 flex items-center justify-center",children:o.jsx($x,{value:A,size:200,level:"H",includeMargin:!1,className:"w-full h-auto"})}),o.jsxs("div",{className:"space-y-3 mb-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-xs text-gray-400",children:"Valor"}),o.jsxs("span",{className:"text-sm text-white font-semibold",children:[M," ",t.currency==="BRL"?parseFloat(l).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):parseFloat(l).toFixed(2)]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-xs text-gray-400",children:"Chave"}),o.jsx("span",{className:"text-sm text-white font-mono truncate ml-4",children:O.keyValue})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-xs text-gray-400",children:"Destinatrio"}),o.jsx("span",{className:"text-sm text-white",children:"NexCoin"})]})]}),o.jsx("button",{onClick:()=>z(A,"pixPayload"),className:"w-full bg-white/10 hover:bg-white/15 border border-white/20 rounded-xl py-3 flex items-center justify-center gap-2 transition-colors",children:m==="pixPayload"?o.jsxs(o.Fragment,{children:[o.jsx(An,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{className:"text-sm font-medium text-green-500",children:"Cdigo Copiado!"})]}):o.jsxs(o.Fragment,{children:[o.jsx(xn,{className:"w-4 h-4 text-white"}),o.jsx("span",{className:"text-sm font-medium text-white",children:"Copiar Cdigo PIX"})]})})]}),!l||parseFloat(l)<=0?o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 backdrop-blur-sm",children:o.jsxs("p",{className:"text-xs text-white/70",children:[" ",o.jsx("strong",{children:"Dica:"})," Insira o valor do depsito acima para gerar o QR Code PIX."]})}):null]}):o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 backdrop-blur-sm",children:o.jsxs("p",{className:"text-xs text-white/70",children:[" ",o.jsx("strong",{children:"Nenhuma chave PIX cadastrada."})," Cadastre uma chave PIX para usar este mtodo."]})})}),o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mt-6 backdrop-blur-sm",children:o.jsxs("p",{className:"text-xs text-white/60",children:[" ",o.jsx("strong",{children:"Simulao:"}),' Em produo, o sistema aguardaria confirmao da transferncia bancria. Aqui, o saldo ser adicionado instantaneamente ao clicar em "Confirmar Depsito".']})})]}),o.jsx("div",{className:"p-6 flex-shrink-0 border-t border-[#1A1A1A]",children:o.jsx("button",{onClick:C,disabled:!l||d||s==="pix"&&!O,className:"w-full bg-white text-black py-4 rounded-2xl font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-100 active:scale-[0.98]",children:d?"Processando...":"Confirmar Depsito"})})]})}function $V({account:t,onClose:e,onNavigateToConvert:n,onNavigateToWithdraw:r}){const[i,s]=E.useState("transactions"),[a,l]=E.useState(!1),[c,d]=E.useState(!1),{getBalance:f}=Lg(),{transactions:m,isLoading:p,formatTransactionDescription:y,getTransactionIconType:x}=yw(),b=E.useMemo(()=>m.filter(z=>z.currency===t.currency||z.fromCurrency===t.currency||z.toCurrency===t.currency).slice(0,10),[m,t.currency]),_=z=>{const I=f(z);return z==="BRL"?`${I.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})} ${z}`:`${I.toFixed(2).replace(".",",")} ${z}`},S=z=>{let I=0,P=t.currency;z.type==="convert"?z.fromCurrency===t.currency?(I=-z.fromAmount,P=z.fromCurrency):z.toCurrency===t.currency&&(I=z.toAmount,P=z.toCurrency):z.type==="withdraw_fiat"||z.type==="send_crypto"||z.type==="crypto_send"||z.type==="pix_send"?(I=-Math.abs(z.amount),P=z.currency):(I=Math.abs(z.amount),P=z.currency);const C=I>=0?"+":"-",N=Math.abs(I);let A;return P==="BRL"?A=N.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):A=N.toFixed(2).replace(".",","),{formatted:`${C} ${A} ${P}`,amount:I}},M=z=>{const I=z.getDate(),P=z.toLocaleDateString("pt-BR",{month:"short"});return`${I} de ${P.charAt(0).toUpperCase()+P.slice(1)}`},O=z=>{switch(z){case"saida":return o.jsx(rN,{className:"w-5 h-5 text-white"});case"entrada":return o.jsx(GV,{className:"w-5 h-5 text-white"});case"conversao":return o.jsx(Mv,{className:"w-5 h-5 text-white"})}};return o.jsx(o.Fragment,{children:c?o.jsx(ZPe,{account:t,onClose:()=>d(!1)}):a?o.jsx($Pe,{onNavigate:z=>{z==="home"&&(l(!1),e())}}):o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black z-50 overflow-y-auto",children:[o.jsx("div",{className:"flex items-center justify-between p-4 relative z-10",children:o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center backdrop-blur-md border border-white/10 hover:bg-white/15 transition-all",children:o.jsx(Qr,{className:"w-5 h-5 text-white"})})}),o.jsxs("div",{className:"flex flex-col items-center mt-8 px-4 relative z-10",children:[o.jsx("div",{className:"text-white/60 text-sm font-semibold mb-2 tracking-widest uppercase",children:t.currency}),o.jsx("div",{className:"text-xl font-light text-white mb-8 tabular-nums",children:_(t.currency)}),t.currency==="BRL"&&o.jsx("button",{onClick:()=>l(!0),className:"mb-8 px-6 py-2.5 rounded-full bg-white/10 hover:bg-white/15 backdrop-blur-md border border-white/20 transition-all flex items-center gap-2 text-white font-semibold text-sm shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:"Chaves Pix"}),o.jsxs("div",{className:"flex items-center gap-8 mb-10",children:[o.jsxs("button",{onClick:()=>d(!0),className:"flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:o.jsx(_u,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-xs text-white/70 font-light",children:"Adicionar"})]}),o.jsxs("button",{onClick:()=>{n&&n()},className:"flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:o.jsx(Mv,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-xs text-white/70 font-light",children:"Converter"})]}),o.jsxs("button",{onClick:()=>{r&&r()},className:"flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:o.jsx(rN,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-xs text-white/70 font-light",children:"Enviar"})]})]})]}),o.jsx("div",{className:"px-4 mb-6",children:o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-full p-1 flex border border-white/10",children:[o.jsx("button",{onClick:()=>s("transactions"),className:`flex-1 py-2 rounded-full text-sm font-semibold transition-all ${i==="transactions"?"bg-white/20 backdrop-blur-md text-white shadow-[0_0_20px_rgba(255,255,255,0.05)]":"text-white/50 hover:text-white/70"}`,children:"Transaes"}),o.jsx("button",{onClick:()=>s("options"),className:`flex-1 py-2 rounded-full text-sm font-semibold transition-all ${i==="options"?"bg-white/20 backdrop-blur-md text-white shadow-[0_0_20px_rgba(255,255,255,0.05)]":"text-white/50 hover:text-white/70"}`,children:"Opes"})]})}),o.jsx("div",{className:"px-4 pb-8",children:i==="transactions"?o.jsx("div",{className:"space-y-3",children:p?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-white/20 border-t-white rounded-full animate-spin"}),o.jsx("p",{className:"text-white/50 mt-4 text-sm",children:"Carregando transaes..."})]}):b.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto mb-4 flex items-center justify-center",children:o.jsx(Mv,{className:"w-8 h-8 text-white/30"})}),o.jsx("p",{className:"text-white/50 text-sm",children:"Nenhuma transao encontrada"}),o.jsx("p",{className:"text-white/30 text-xs mt-2",children:"Suas transaes aparecero aqui"})]}):o.jsx(o.Fragment,{children:b.map(z=>{const{formatted:I,amount:P}=S(z),C=x(z);return o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)] hover:bg-white/10 transition-all",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0",children:O(C)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-white font-semibold text-sm truncate",children:y(z)}),o.jsxs("div",{className:"text-white/50 text-xs",children:[z.recipientInfo||z.description||"Transao","  ",M(z.createdAt)]})]}),o.jsx("div",{className:"flex flex-col items-end",children:o.jsx("div",{className:`font-semibold text-sm tabular-nums ${P>=0?"text-[#34c759]":"text-white"}`,children:I})})]})},z.id)})})}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:[o.jsx("h3",{className:"text-white font-bold text-sm mb-3",children:"Dados da Conta"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:"Banco"}),o.jsx("div",{className:"text-white text-sm font-semibold",children:t.bankName})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:"Nmero da Conta"}),o.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.accountNumber})]}),t.routingNumber&&o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:"Cdigo do Banco"}),o.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.routingNumber})]}),t.iban&&o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:"IBAN"}),o.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.iban})]}),t.swift&&o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:"SWIFT"}),o.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.swift})]})]})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl overflow-hidden border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:[o.jsxs("button",{className:"w-full p-4 flex items-center justify-between hover:bg-white/10 transition-all border-b border-white/5",children:[o.jsx("span",{className:"text-white text-sm font-semibold",children:"Configuraes da Conta"}),o.jsx(as,{className:"w-4 h-4 text-white/50"})]}),o.jsxs("button",{className:"w-full p-4 flex items-center justify-between hover:bg-white/10 transition-all",children:[o.jsx("span",{className:"text-[#ff3b30] text-sm font-semibold",children:"Remover Conta"}),o.jsx(as,{className:"w-4 h-4 text-[#ff3b30]/50"})]})]})]})})]})})}function eAe(){const{userData:t,logout:e}=Vt(),n=async()=>{try{await e()}catch(r){console.error("Erro ao fazer logout:",r)}};return o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-8 text-center",children:[o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-yellow-500/20 rounded-full blur-xl animate-pulse"}),o.jsx("div",{className:"relative bg-gradient-to-br from-yellow-500 to-orange-500 rounded-full p-4",children:o.jsx(hp,{className:"w-12 h-12 text-white"})})]})}),o.jsx("h1",{className:"text-2xl font-bold mb-3",children:"Conta em Anlise"}),o.jsxs("p",{className:"text-gray-400 mb-8 leading-relaxed",children:["Ol ",t?.name?.split(" ")[0]||"usurio","! Sua solicitao de acesso ao ",o.jsx("span",{className:"text-white font-semibold",children:"NexCoin"})," est sendo analisada pela nossa equipe de segurana."]}),o.jsxs("div",{className:"space-y-4 mb-8 text-left",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-1",children:o.jsx(Hx,{className:"w-5 h-5 text-green-500"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-medium",children:"Cadastro Realizado"}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Suas informaes foram recebidas com sucesso"})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-1",children:o.jsx("div",{className:"w-5 h-5 border-2 border-yellow-500 border-t-transparent rounded-full animate-spin"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-medium",children:"Anlise de Segurana"}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Verificando seus dados e validando identidade"})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-1",children:o.jsx("div",{className:"w-5 h-5 border-2 border-white/20 rounded-full"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-400 font-medium",children:"Aprovao Final"}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Voc receber uma notificao quando for aprovado"})]})]})]}),o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3 text-left",children:[o.jsx(Tf,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-gray-300",children:[o.jsx("span",{className:"font-semibold text-white",children:"Tempo estimado:"})," 24 a 48 horas"]}),o.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Voc receber um e-mail em ",o.jsx("span",{className:"text-white",children:t?.email})," assim que sua conta for aprovada."]})]})]})}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400 mb-6",children:[o.jsx(Eu,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"Protegido por verificao em duas etapas"})]}),o.jsx("button",{onClick:n,className:"w-full py-3 px-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-white font-medium transition-all",children:"Sair da Conta"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-400",children:["Precisa de ajuda?"," ",o.jsx("a",{href:"mailto:suporte@nexcoin.com",className:"text-white hover:underline",children:"Entre em contato"})]})})]})})}async function tAe(t){try{console.log(" ============ INICIANDO EXCLUSO DE CONTA ============"),console.log(" User ID:",t),console.log(" [1/6] Deletando subcolees do usurio...");const e=["portfolio","assets","transactions","conversions","fiatBalances","fiatTransactions","pixKeys","wallets","walletAddresses","receiveAddresses","auditLogs","preferences"];for(const n of e)try{const r=it(Ee,"users",t,n),i=await Pt(r);if(console.log(`   Deletando ${i.size} documentos de ${n}...`),i.size>0){const s=[];let a=iu(Ee),l=0;const c=500;i.docs.forEach(d=>{a.delete(d.ref),l++,l===c&&(s.push(a),a=iu(Ee),l=0)}),l>0&&s.push(a);for(const d of s)await d.commit();console.log(`   ${i.size} documentos deletados de ${n}`)}else console.log(`   Nenhum documento encontrado em ${n}`)}catch(r){console.log(`   Erro ao deletar ${n} (continuando):`,r.message)}console.log(" [2/6] Deletando documento principal do usurio...");try{const n=lt(Ee,"users",t);await Ou(n),console.log("   Documento principal deletado")}catch{console.log("   Documento principal no encontrado ou j foi deletado (continuando)")}console.log(" [3/6] Deletando contas bancrias...");try{const n=it(Ee,"bankAccounts"),r=It(n,Et("userId","==",t)),i=await Pt(r);if(console.log(`   Deletando ${i.size} contas bancrias...`),i.size>0){const s=iu(Ee);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} contas bancrias deletadas`)}else console.log("   Nenhuma conta bancria encontrada")}catch(n){console.log("   Erro ao deletar contas bancrias (continuando):",n.message)}console.log(" [4/6] Deletando chaves PIX...");try{const n=it(Ee,"pixKeys"),r=It(n,Et("userId","==",t)),i=await Pt(r);if(console.log(`   Deletando ${i.size} chaves PIX...`),i.size>0){const s=iu(Ee);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} chaves PIX deletadas`)}else console.log("   Nenhuma chave PIX encontrada")}catch(n){console.log("   Erro ao deletar chaves PIX (continuando):",n.message)}console.log(" [5/6] Deletando ndice de endereos de carteira...");try{const n=it(Ee,"walletAddressIndex"),r=It(n,Et("userId","==",t)),i=await Pt(r);if(i.size>0){console.log(`   Deletando ${i.size} endereos do ndice...`);const s=iu(Ee);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} endereos deletados do ndice`)}else console.log("   Nenhum endereo no ndice encontrado")}catch(n){console.log("   Erro ao deletar ndice de endereos (continuando):",n.message)}if(console.log(" [6/6] Deletando usurio do Firebase Auth..."),!bn.currentUser)throw new Error("Usurio no est autenticado");if(bn.currentUser.uid!==t)throw new Error("Erro de segurana: UID no corresponde ao usurio autenticado");return await Jte(bn.currentUser),console.log("   Usurio deletado do Firebase Auth"),console.log(" ============ CONTA EXCLUDA COM SUCESSO ============"),{success:!0}}catch(e){console.error(" ============ ERRO NA EXCLUSO DE CONTA ============"),console.error(" Erro:",e),console.error(" Mensagem:",e.message),console.error(" ================================================");let n="Erro ao excluir conta. Tente novamente.";return e.code==="auth/requires-recent-login"?n="Por segurana, faa login novamente antes de excluir sua conta.":e.code==="permission-denied"?n="Voc no tem permisso para excluir esta conta.":e.message&&(n=e.message),{success:!1,error:n}}}async function nAe(t){try{const e={assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0};try{const n=await Pt(it(Ee,"users",t,"assets"));e.assets=n.size}catch{}try{const n=await Pt(it(Ee,"users",t,"transactions"));e.transactions=n.size}catch{}try{const n=await Pt(it(Ee,"users",t,"conversions"));e.conversions=n.size}catch{}try{const n=await Pt(it(Ee,"users",t,"fiatBalances"));e.fiatBalances=n.size}catch{}try{const n=It(it(Ee,"bankAccounts"),Et("userId","==",t)),r=await Pt(n);e.bankAccounts=r.size}catch{}try{const n=It(it(Ee,"pixKeys"),Et("userId","==",t)),r=await Pt(n);e.pixKeys=r.size}catch{}return e.total=e.assets+e.transactions+e.conversions+e.fiatBalances+e.bankAccounts+e.pixKeys,console.log(" Contagem de dados do usurio:",e),e}catch(e){return console.error(" Erro geral ao contar dados do usurio:",e),{assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0}}}function rAe({onNavigate:t}){const{user:e,logout:n,verifyPin:r,userData:i}=Vt(),[s,a]=E.useState("warning"),[l,c]=E.useState(""),[d,f]=E.useState(""),[m,p]=E.useState(""),[y,x]=E.useState(!1),[b,_]=E.useState("password"),[S,M]=E.useState({assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0}),[O,z]=E.useState(!0);E.useEffect(()=>{e?.uid&&(P(),I())},[e?.uid]);const I=()=>{if(!bn.currentUser)return;const N=bn.currentUser.providerData;if(console.log(" Provedor de autenticao completo:",JSON.stringify(N,null,2)),console.log(" Email do usurio:",bn.currentUser.email),console.log(" Email verificado:",bn.currentUser.emailVerified),console.log(" Metadata:",bn.currentUser.metadata),N.length>0){const A=N[0].providerId;console.log(" Provider ID detectado:",A),A==="password"?(_("password"),console.log(" Usurio usa email/senha")):A==="google.com"?(_("google"),console.log(" Usurio usa login do Google - NO PRECISA DE SENHA")):(_("other"),console.log(" Usurio usa outro mtodo:",A))}else console.log(" Nenhum provedor encontrado!")},P=async()=>{if(e?.uid){z(!0);try{const N=await nAe(e.uid);M(N)}catch(N){console.error(" Erro ao carregar contagem:",N)}finally{z(!1)}}},C=async()=>{if(!e?.uid){Me.error("Usurio no autenticado");return}if(!bn.currentUser){Me.error("Erro: usurio no encontrado");return}const N=i&&i.accountPin;if(N){if(!d||d.length!==6){Me.error("Digite seu PIN de 6 dgitos");return}if(l!=="EXCLUIR"){Me.error('Digite "EXCLUIR" para confirmar a excluso');return}}else if(l!=="EXCLUIR"){Me.error('Digite "EXCLUIR" para confirmar a excluso');return}a("deleting"),x(!0);try{if(N){if(console.log(" Validando PIN..."),!await r(d)){console.error(" PIN incorreto"),p("PIN incorreto. Tente novamente."),Me.error("PIN incorreto. Verifique e tente novamente."),a("pin"),x(!1);return}console.log(" PIN validado com sucesso!")}else console.log(" Usurio sem dados no Firestore. Pulando validao de PIN.");console.log(" Iniciando excluso da conta...");const A=await tAe(e.uid);if(!A.success)throw new Error(A.error||"Erro ao excluir conta");console.log(" Conta excluda com sucesso!"),a("done"),setTimeout(()=>{n()},3e3)}catch(A){console.error(" Erro ao excluir conta:",A),console.error(" Cdigo:",A.code),console.error(" Mensagem:",A.message);let j="Erro ao excluir conta. Tente novamente.";A.code==="auth/requires-recent-login"?j="Por segurana, faa logout e login novamente antes de excluir sua conta.":A.code==="auth/network-request-failed"?j="Erro de conexo. Verifique sua internet e tente novamente.":A.message&&(j=A.message),Me.error(j),a(N?"pin":"confirm"),x(!1)}};return s==="done"?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:o.jsxs(Ye.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-6",children:o.jsx(Ye.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},children:o.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),o.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Conta Excluda"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Sua conta e todos os dados foram removidos permanentemente."}),o.jsx("p",{className:"text-sm text-gray-500",children:"Redirecionando..."})]})}):s==="deleting"?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:o.jsxs(Ye.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-6",children:o.jsx(f0,{className:"w-10 h-10 text-red-500 animate-spin"})}),o.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Excluindo Conta..."}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Removendo todos os seus dados do sistema."}),o.jsx("p",{className:"text-sm text-gray-500",children:"Isso pode levar alguns segundos."})]})}):o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center hover:bg-white/10 transition-colors mb-6",children:o.jsx(Ct,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Excluir Conta"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Ao permanente e irreversvel"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:o.jsx(iN,{className:"w-6 h-6 text-red-500"})})]})]}),o.jsxs("div",{className:"flex-1 px-6 space-y-4",children:[s==="warning"&&o.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-4",children:[o.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[o.jsx(ho,{className:"w-5 h-5 text-red-500"}),"Dados que sero excludos"]}),O?o.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(N=>o.jsx("div",{className:"h-8 bg-white/5 rounded-lg animate-pulse"},N))}):o.jsxs("div",{className:"space-y-3",children:[S.assets>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Ativos de criptomoedas"}),o.jsx("span",{className:"font-semibold text-white",children:S.assets})]}),S.transactions>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Transaes"}),o.jsx("span",{className:"font-semibold text-white",children:S.transactions})]}),S.conversions>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Converses"}),o.jsx("span",{className:"font-semibold text-white",children:S.conversions})]}),S.fiatBalances>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Saldos fiat"}),o.jsx("span",{className:"font-semibold text-white",children:S.fiatBalances})]}),S.bankAccounts>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Contas bancrias"}),o.jsx("span",{className:"font-semibold text-white",children:S.bankAccounts})]}),S.pixKeys>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Chaves PIX"}),o.jsx("span",{className:"font-semibold text-white",children:S.pixKeys})]}),S.total===0&&o.jsx("div",{className:"text-center text-gray-500 py-4",children:"Nenhum dado encontrado"}),S.total>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-px bg-white/10 my-3"}),o.jsxs("div",{className:"flex justify-between text-base",children:[o.jsx("span",{className:"font-bold text-white",children:"Total"}),o.jsxs("span",{className:"font-bold text-red-500",children:[S.total," itens"]})]})]})]})]}),o.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-red-500 mb-3 flex items-center gap-2",children:[o.jsx(iN,{className:"w-5 h-5"})," Ateno"]}),o.jsxs("ul",{className:"space-y-2 text-sm text-red-200/90",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:["Todos os seus ativos e saldos sero ",o.jsx("strong",{children:"permanentemente excludos"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:["Seu histrico de transaes ser ",o.jsx("strong",{children:"apagado completamente"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:["Suas chaves PIX e contas bancrias sero ",o.jsx("strong",{children:"removidas"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"No ser possvel recuperar"})," nenhum dado aps a excluso"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:["Sua conta NexCoin ser ",o.jsx("strong",{children:"encerrada definitivamente"})]})]})]})]}),o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-2xl p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-yellow-500 mb-3",children:" Recomendao"}),o.jsx("p",{className:"text-sm text-yellow-200/90",children:"Antes de excluir sua conta, certifique-se de ter sacado todos os seus saldos e transferido seus ativos."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>a("confirm"),className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors flex items-center justify-center gap-2",children:[o.jsx(ho,{className:"w-5 h-5"}),"Continuar com Excluso"]}),o.jsx("button",{onClick:()=>t("profile"),className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors",children:"Cancelar"})]})]}),s==="confirm"&&o.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-6",children:[o.jsx("h2",{className:"text-lg font-bold mb-3",children:"Confirmao de Excluso"}),o.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Para confirmar que voc entende que esta ao  irreversvel, digite ",o.jsx("strong",{className:"text-red-500",children:"EXCLUIR"})," no campo abaixo."]}),o.jsx("input",{type:"text",placeholder:"Digite EXCLUIR",value:l,onChange:N=>c(N.target.value.toUpperCase()),className:"w-full bg-white/5 border border-white/10 text-white rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-red-500 placeholder-gray-500 text-center font-bold text-lg",autoFocus:!0}),l&&l!=="EXCLUIR"&&o.jsx("p",{className:"text-xs text-red-500 mt-2 text-center",children:'O texto no corresponde. Digite exatamente "EXCLUIR"'})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>{i&&i.accountPin?a("pin"):C()},disabled:l!=="EXCLUIR",className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar"}),o.jsx("button",{onClick:()=>a("warning"),className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors",children:"Voltar"})]})]}),s==="pin"&&o.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-6",children:[o.jsxs("h2",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[o.jsx(Ml,{className:"w-5 h-5"}),"Digite seu PIN"]}),o.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Por segurana, digite seu PIN para confirmar a excluso da conta."}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"password",placeholder:"Seu PIN",value:d,onChange:N=>f(N.target.value),className:"w-full bg-white/5 border border-white/10 text-white rounded-xl px-4 py-3 pr-12 outline-none focus:ring-2 focus:ring-red-500 placeholder-gray-500",autoFocus:!0}),o.jsx("button",{type:"button",onClick:()=>f(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:o.jsx(ho,{className:"w-5 h-5"})})]}),m&&o.jsx("p",{className:"text-xs text-red-500 mt-2 text-center",children:m})]}),o.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 mb-6",children:o.jsxs("p",{className:"text-sm text-red-200/90 text-center",children:[o.jsx("strong",{children:"ltima confirmao:"}),' Ao clicar em "Excluir Minha Conta", todos os seus dados sero ',o.jsx("strong",{children:"permanentemente removidos"})," do NexCoin."]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:C,disabled:!d||y,className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y?o.jsxs(o.Fragment,{children:[o.jsx(f0,{className:"w-5 h-5 animate-spin"}),"Excluindo..."]}):o.jsxs(o.Fragment,{children:[o.jsx(ho,{className:"w-5 h-5"}),"Excluir Minha Conta Permanentemente"]})}),o.jsx("button",{onClick:()=>a("confirm"),disabled:y,className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50",children:"Voltar"})]})]})]})]})}function iAe({onNavigate:t}){const{language:e,setLanguage:n,t:r}=ei(),i=[{code:"pt",name:r.portuguese,nativeName:"Portugus (Brasil)",flag:""},{code:"en",name:r.english,nativeName:"English (US)",flag:""},{code:"es",name:r.spanish,nativeName:"Espaol",flag:""}],s=async a=>{await n(a),Me.success(r.languageUpdated)};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Ct,{className:"w-5 h-5 font-light"})}),o.jsx("h1",{className:"text-xl",children:r.languageSettings})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 mb-6 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(mp,{className:"w-5 h-5 text-green-500 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"mb-1",children:r.selectLanguage}),o.jsx("p",{className:"text-sm text-gray-400",children:"O idioma ser aplicado em todo o aplicativo"})]})]})}),o.jsx("div",{className:"space-y-3",children:i.map(a=>o.jsx("button",{onClick:()=>s(a.code),className:`w-full p-4 rounded-2xl border transition-all active:scale-95 ${e===a.code?"bg-green-500/20 border-green-500/30":"bg-white/5 backdrop-blur-md border-white/10"} shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-3xl",children:a.flag}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white mb-0.5",children:a.nativeName}),o.jsx("div",{className:"text-xs text-gray-400",children:a.name})]})]}),e===a.code&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:o.jsx(An,{className:"w-4 h-4 text-white"})})]})},a.code))}),o.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm",children:[o.jsx(mp,{className:"w-4 h-4 text-green-500"}),"Idiomas disponveis"]}),o.jsxs("ul",{className:"space-y-2 text-xs text-gray-400",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:"Portugus - Idioma padro para Brasil"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:"English - Default language for international users"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:"Espaol - Idioma predeterminado para usuarios hispanohablantes"})]})]})]})]})]})}class sAe extends Se.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary capturou erro:",e,n)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 p-6 max-w-md",children:[o.jsx("h2",{className:"text-xl mb-4",children:"Algo deu errado"}),o.jsx("p",{className:"text-white/60 text-sm mb-4",children:this.state.error?.message||"Erro desconhecido"}),o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-white/10 hover:bg-white/20 text-white py-3 px-4 rounded-xl transition-all",children:"Recarregar pgina"})]})}):this.props.children}}function aAe(){return o.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center z-50",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsxs("div",{className:"relative inline-block animate-pulse",children:[o.jsx("h1",{className:"text-4xl font-bold italic relative nexcoin-logo-text",children:"NexCoin"}),o.jsx("div",{className:"h-[2px] w-full mx-auto mt-2 rounded-full",style:{background:"linear-gradient(90deg, transparent, #00d4ff, #7b2ff7, transparent)",boxShadow:"0 0 10px rgba(0, 212, 255, 0.8)"}})]}),o.jsx("div",{className:"mt-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-t-[#00d4ff] border-r-transparent border-b-[#7b2ff7] border-l-transparent rounded-full animate-spin"})})]})})}function oAe({onRetry:t}){return o.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black flex flex-col items-center justify-center p-6 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mb-6",children:o.jsx(hG,{className:"w-10 h-10 text-red-500"})}),o.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Acesso  Localizao Obrigatrio"}),o.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed",children:"Para sua segurana e proteo contra fraudes, o NexCoin exige acesso  sua localizao. Por favor, habilite o GPS nas configuraes do seu dispositivo e clique em tentar novamente."}),o.jsxs("button",{onClick:t,className:"w-full max-w-xs bg-white text-black font-bold py-4 rounded-full flex items-center justify-center gap-2 active:scale-[0.98] transition-all",children:[o.jsx(mT,{className:"w-5 h-5"}),"Tentar Novamente"]}),o.jsx("p",{className:"mt-8 text-xs text-gray-500",children:"Este requisito est em conformidade com nossa Poltica de Privacidade e Termos de Uso."})]})}function lAe({onRetry:t}){return o.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black flex flex-col items-center justify-center p-6 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-blue-500/10 rounded-full flex items-center justify-center mb-6",children:o.jsx(sG,{className:"w-10 h-10 text-blue-500"})}),o.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Acesso  Cmera Obrigatrio"}),o.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed",children:"O NexCoin exige acesso  cmera para verificao de identidade (KYC) e segurana da sua conta. Por favor, habilite a permisso de cmera nas configuraes do seu dispositivo e clique em tentar novamente."}),o.jsxs("button",{onClick:t,className:"w-full max-w-xs bg-white text-black font-bold py-4 rounded-full flex items-center justify-center gap-2 active:scale-[0.98] transition-all",children:[o.jsx(mT,{className:"w-5 h-5"}),"Tentar Novamente"]}),o.jsx("p",{className:"mt-8 text-xs text-gray-500",children:"Este requisito garante a integridade das suas transaes e protege sua conta contra acessos no autorizados."})]})}const Cl=Cw("PushNotifications",{});var qV;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(qV||(qV={}));const HV=Cw("LocalNotifications",{web:()=>C7(()=>import("./web-DiBjR-vr.js"),[]).then(t=>new t.LocalNotificationsWeb)}),cAe=E.createContext(void 0);function uAe({children:t}){const{userData:e,isAuthenticated:n}=Vt(),{t:r}=ei(),[i,s]=E.useState(null),[a,l]=E.useState(!1),c=E.useCallback(async()=>{try{console.log(" [Notifications] Iniciando registro de Push...");const f=await Cl.checkPermissions();return f.receive==="prompt"&&(await Cl.requestPermissions()).receive!=="granted"?(console.warn(" [Notifications] Permisso de Push negada"),!1):f.receive!=="granted"&&(await Cl.requestPermissions()).receive!=="granted"?!1:(await Cl.register(),Cl.addListener("registration",m=>{if(console.log(" [Notifications] Token de Push recebido:",m.value),s(m.value),e?.uid){const p=lt(Ee,"users",e.uid);us(p,{pushToken:m.value}).catch(y=>{console.error(" Erro ao salvar pushToken:",y)})}}),Cl.addListener("registrationError",m=>{console.error(" [Notifications] Erro no registro de Push:",m)}),Cl.addListener("pushNotificationReceived",m=>{console.log(" [Notifications] Push recebido (Foreground):",m)}),Cl.addListener("pushNotificationActionPerformed",m=>{console.log(" [Notifications] Ao de Push executada:",m)}),!0)}catch(f){return console.error(" [Notifications] Erro ao configurar Push:",f),!1}},[e?.uid]),d=async(f,m,p)=>{try{await HV.schedule({notifications:[{title:f,body:m,id:Math.floor(Math.random()*1e4),schedule:{at:new Date(Date.now()+100)},extra:p,sound:"default"}]})}catch(y){console.error(" [Notifications] Erro ao enviar Local Notification:",y)}};return E.useEffect(()=>{if(!n||!e?.uid)return;console.log(" [Notifications] Iniciando monitor de transaes para notificaes...");const f=it(Ee,"users",e.uid,"transactions"),m=It(f,Et("status","==","completed"),fg("createdAt","desc"),ba(5)),p=xi(m,y=>{y.docChanges().forEach(x=>{if(x.type==="added"){const b=x.doc.data(),_=x.doc.id,S=`nexcoin_notified_txs_${e.uid}`,M=JSON.parse(localStorage.getItem(S)||"[]");if(M.includes(_))return;const O=b.createdAt?.toDate?b.createdAt.toDate():new Date(b.createdAt);if(Math.abs(new Date().getTime()-O.getTime())/(1e3*60*60)<24&&(console.log(" [Notifications] Nova transao detectada (ou no vista):",b),["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(b.type))){const N=b.type.includes("pix")?"PIX Recebido":"Cripto Recebida",A=`Voc recebeu ${b.amount} ${b.currency}!`;d(N,A,{txId:_});const j=[...M,_];j.length>50&&j.shift(),localStorage.setItem(S,JSON.stringify(j))}}})});return()=>p()},[n,e?.uid]),E.useEffect(()=>{n&&!a&&(l(!0),HV.requestPermissions())},[n,a,c]),o.jsx(cAe.Provider,{value:{pushToken:i,requestPermissions:c,sendLocalNotification:d},children:t})}function dAe(){const t=navigator.userAgent,e=/iPad|iPhone|iPod/.test(t),n=/Safari/.test(t)&&!/Chrome|CriOS|FxiOS/.test(t);return e||n}function fAe(){const{isAuthenticated:t,isPinVerified:e,userData:n}=Vt(),r=E.useRef(!1);E.useEffect(()=>{const i=dAe();if(console.log(" usePermissionsRequest - Estado atual:",{isAuthenticated:t,isPinVerified:e,hasUserData:!!n,userId:n?.userId,permissionsRequested:n?.permissionsRequested,hasRequestedRef:r.current,isIOSSafari:i}),!t){console.log(" No autenticado, aguardando...");return}if(!e){console.log(" PIN no verificado, aguardando...");return}if(!n){console.log(" Sem userData, aguardando...");return}if(r.current){console.log(" J solicitou nesta sesso");return}if(n.permissionsRequested){console.log(" J solicitou anteriormente (Firestore)");return}console.log(" TODAS VALIDAES PASSARAM! Iniciando solicitao de permisses em 1 segundo..."),r.current=!0;const s=setTimeout(()=>{console.log(" Timer disparado! Executando requestPermissions()"),a()},1e3);return()=>clearTimeout(s);async function a(){console.log(" === INICIANDO SOLICITAO DE PERMISSES ===");const l={location:"not_requested",camera:"not_requested"};try{console.log(" Solicitando permisso de LOCALIZAO (nativo)");try{await new Promise((c,d)=>{navigator.geolocation.getCurrentPosition(f=>{console.log(" Localizao concedida:",f.coords),l.location="granted",c()},f=>{console.log(" Localizao negada ou bloqueada:",f.message),f.code===1?l.location="denied":f.code===2?l.location="unavailable":l.location="timeout",c()},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}catch(c){console.error("Erro ao solicitar localizao:",c),l.location="error"}await new Promise(c=>setTimeout(c,1e3)),console.log(" Solicitando permisso de CMERA (nativo)");try{const c=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});console.log(" Cmera concedida"),l.camera="granted",c.getTracks().forEach(d=>d.stop())}catch(c){console.log(" Cmera no permitida:",c.name),c.name==="NotAllowedError"?l.camera="denied":c.name==="NotFoundError"?l.camera="not_found":c.name==="NotReadableError"?l.camera="in_use":c.name==="NotSupportedError"?l.camera="not_supported":l.camera="error"}if(console.log(" Salvando permisses:",l),n?.userId)try{const c=lt(Ee,"users",n.userId);await us(c,{permissionsRequested:!0,locationPermission:l.location,cameraPermission:l.camera,permissionsRequestedAt:new Date().toISOString()}),console.log(" Permisses salvas no Firestore")}catch(c){console.error(" Erro ao salvar permisses:",c)}}catch(c){console.error(" Erro geral ao solicitar permisses:",c)}}},[t,e,n])}function hAe(){const{t}=ei(),e="https://play.google.com/store/apps/details?id=com.nexcoin.app",n="https://apps.apple.com/app/nexcoin/id6470000000",r={initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.15}}},i={initial:{opacity:0,y:30},animate:{opacity:1,y:0}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center px-6 py-12 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-[500px] bg-blue-600/10 blur-[120px] rounded-full"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-indigo-600/10 blur-[100px] rounded-full"}),o.jsxs(Ye.div,{variants:r,initial:"initial",animate:"animate",className:"max-w-5xl w-full text-center relative z-10",children:[o.jsx(Ye.div,{variants:i,className:"mb-4"}),o.jsxs(Ye.div,{variants:i,className:"mb-12",children:[o.jsxs("h2",{className:"text-3xl lg:text-5xl font-black mb-6 tracking-tight leading-tight",children:[t.downloadApp.successSubtitle.split(",")[0],o.jsx("span",{className:"text-blue-500",children:"."})]}),o.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto leading-relaxed",children:t.downloadApp.successSubtitle.split(",").slice(1).join(",")})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-10 mt-12",children:[o.jsxs(Ye.div,{variants:i,className:"group flex flex-col items-center relative transition-all duration-500",children:[o.jsx("div",{className:"pt-8"}),o.jsx("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:t.downloadApp.android}),o.jsx("div",{className:"bg-white p-2 rounded-3xl mb-8 shadow-2xl relative group-hover:scale-[1.02] transition-transform duration-500",children:o.jsx($x,{value:e,size:200,level:"H",includeMargin:!1,imageSettings:{src:"https://upload.wikimedia.org/wikipedia/commons/d/d7/Android_robot.svg",x:void 0,y:void 0,height:40,width:40,excavate:!0}})}),o.jsx("p",{className:"text-sm text-gray-500 mb-8 max-w-[180px]",children:t.downloadApp.androidHint})]}),o.jsxs(Ye.div,{variants:i,className:"group flex flex-col items-center relative transition-all duration-500",children:[o.jsx("div",{className:"pt-8"}),o.jsx("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:t.downloadApp.ios}),o.jsx("div",{className:"bg-white p-2 rounded-3xl mb-8 shadow-2xl relative group-hover:scale-[1.02] transition-transform duration-500",children:o.jsx($x,{value:n,size:200,level:"H",includeMargin:!1,imageSettings:{src:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg",x:void 0,y:void 0,height:40,width:40,excavate:!0}})}),o.jsx("p",{className:"text-sm text-gray-500 mb-8 max-w-[180px]",children:t.downloadApp.iosHint})]})]}),o.jsxs(Ye.div,{variants:i,className:"mt-20 pt-10 border-t border-white/5 flex flex-col md:flex-row items-center justify-between gap-6 text-gray-500 text-sm",children:[o.jsx("p",{children:t.downloadApp.rightsReserved}),o.jsxs("div",{className:"flex gap-8",children:[o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:t.landingPage.footerPrivacy}),o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:t.landingPage.footerTerms})]})]})]})]})}const mAe=console.error;console.error=(...t)=>{typeof t[0]=="string"&&(t[0].includes("WebChannelConnection")||t[0].includes("RPC")||t[0].includes("transport errored"))||mAe.apply(console,t)};function pAe(){const{isAuthenticated:t,isPinVerified:e,userData:n,loading:r}=Vt(),{hasPermission:i,hasCameraPermission:s,isLoading:a,getCurrentLocation:l,checkCameraPermission:c}=vU(),[d,f]=E.useState("welcome"),[m]=E.useState(Jp.getPlatform()==="web"),[p,y]=E.useState(!1),[x,b]=E.useState("fade"),[_,S]=E.useState(null),[M,O]=E.useState(null),[z,I]=E.useState(!1);fAe(),E.useEffect(()=>{if(!r){if(!z){t&&e?(console.log(" Inicializao: Usurio autenticado"),f(m?"downloadApp":"home")):(console.log(" Inicializao: Usurio no autenticado, ficando em welcome"),f("welcome")),I(!0);return}if(t){if(t&&!e)["login","signup"].includes(d)&&(console.log(" Redirecionando para pinVerify (vindo de login/signup)"),f("pinVerify"));else if(t&&e){if(m&&["welcome","login","signup","pinVerify","pinSetup"].includes(d)){console.log(" Web: Cadastro finalizado, indo para tela de download"),f("downloadApp");return}["welcome","login","signup","pinVerify"].includes(d)&&(console.log(" Redirecionando para home"),f("home"))}}else return}},[t,e,r,z]);const P=j=>({welcome:"fade",login:"slide",signup:"slideup",pinSetup:"slideup",pinVerify:"slideup",country:"scale",countrySelection:"scale",completeProfile:"slideup",home:"fade",wallet:"slide",convert:"scale",crypto:"slideup",profile:"slide",personalInfo:"slide",accountData:"slide",security:"scale",changePassword:"slideup",notifications:"slideup",pushSettings:"slideup",helpCenter:"slideup",termsAndConditions:"slideup",privacyPolicy:"slideup",termsMenu:"slideup",deposit:"slideup",withdraw:"slide",withdrawFiat:"slide",receive:"fade",transactions:"scale",passwordEntry:"slideup",manageHoldings:"slideup",fiatAccountDetails:"slideup",selectFiatAccount:"slideup",deleteAccount:"slideup",languageSettings:"slideup",downloadApp:"fade"})[j]||"slide",C=j=>{let D=j;m&&(j==="home"||j==="wallet"||j==="convert"||j==="crypto")&&(console.log(" Web: Redirecionando de",j,"para downloadApp"),D="downloadApp"),console.log(" handleNavigate chamado para:",D),y(!0),setTimeout(()=>{console.log(" Mudando tela para:",D),f(D),b(P(D)),y(!1)},700)},N=(j,D)=>{S(D),C(j)},A=()=>{switch(d){case"welcome":return o.jsx(gk,{onNavigate:C});case"login":return o.jsx(tie,{onNavigate:C});case"signup":return o.jsx(iie,{onNavigate:C});case"pinSetup":return o.jsx(sie,{onNavigate:C});case"country":return o.jsx(AD,{onNavigate:C});case"countrySelection":return o.jsx(AD,{onNavigate:C});case"home":return o.jsx(PL,{onNavigate:C,onNavigateWithAccount:N});case"wallet":return o.jsx(Vwe,{onNavigate:C});case"convert":return o.jsx(Ywe,{onNavigate:C,onNavigateWithAccount:N});case"crypto":return o.jsx(Qwe,{onNavigate:C});case"profile":return o.jsx(Jwe,{onNavigate:C});case"personalInfo":return o.jsx(Zwe,{onNavigate:C});case"accountData":return o.jsx(QNe,{onNavigate:C});case"security":return o.jsx(JNe,{onNavigate:C});case"changePassword":return o.jsx(ZNe,{onNavigate:C});case"notifications":return o.jsx(_Te,{onNavigate:C});case"pushSettings":return o.jsx(ETe,{onNavigate:C});case"helpCenter":return o.jsx(CTe,{onNavigate:C});case"termsAndConditions":return o.jsx(NTe,{onNavigate:C});case"privacyPolicy":return o.jsx(STe,{onNavigate:C});case"termsMenu":return o.jsx(TTe,{onNavigate:C});case"deposit":return o.jsx(QTe,{onNavigate:C});case"withdraw":return o.jsx(sPe,{onNavigate:C});case"withdrawFiat":return o.jsx(uPe,{onNavigate:C,onBack:()=>C("home")});case"receive":return o.jsx(DPe,{onNavigate:C});case"transactions":return o.jsx(OPe,{onNavigate:C});case"passwordEntry":return o.jsx(LPe,{onNavigate:C});case"manageHoldings":return o.jsx(VPe,{onNavigate:C});case"fiatAccountDetails":return _?o.jsx($V,{account:_,onClose:()=>C("home"),onNavigateToConvert:()=>C("convert"),onNavigateToWithdraw:()=>N("withdrawFiat",_)}):o.jsx(PL,{onNavigate:C,onNavigateWithAccount:N});case"selectFiatAccount":return o.jsx(FPe,{onNavigate:C,onNavigateWithAccount:N});case"deleteAccount":return o.jsx(rAe,{onNavigate:C});case"languageSettings":return o.jsx(iAe,{onNavigate:C});case"downloadApp":return o.jsx(hAe,{});default:return o.jsx(gk,{onNavigate:C})}};return r||!z?o.jsx(aAe,{}):t&&n?.trackLocationEnabled===!0&&!i&&!a&&!["welcome","login","signup"].includes(d)?o.jsx(oAe,{onRetry:()=>l()}):t&&n?.requireCameraPermission===!0&&!s&&!a&&!["welcome","login","signup","pinSetup","pinVerify"].includes(d)?o.jsx(lAe,{onRetry:()=>c()}):m&&!t&&(d==="welcome"||d==="login")?o.jsx(PTe,{onNavigate:C}):o.jsxs("div",{className:`min-h-screen bg-black text-white w-full ${m?"":"max-w-[430px] mx-auto"} relative`,children:[t&&n&&n.aprovado==="no"?o.jsx(eAe,{}):o.jsxs(o.Fragment,{children:[d==="fiatAccountDetails"&&_?o.jsx($V,{account:_,onClose:()=>C("home"),onNavigateToConvert:()=>C("convert"),onNavigateToWithdraw:()=>N("withdrawFiat",_)}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:p?`page-${x}-exit`:`page-${x}-enter`,children:A()}),["home","wallet","convert","crypto","profile"].includes(d)&&o.jsx(MPe,{onNavigate:C,currentScreen:d})]}),t&&o.jsx(BPe,{}),o.jsx(zPe,{})]}),o.jsx(Lie,{position:"top-center",theme:"dark",toastOptions:{style:{background:"#18181b",border:"1px solid rgba(255, 255, 255, 0.1)",color:"#fff"}}})]})}function gAe(){return o.jsx(sAe,{children:o.jsx(Ure,{children:o.jsx(nie,{children:o.jsx($re,{children:o.jsx(eie,{children:o.jsx(aie,{children:o.jsx(lie,{children:o.jsx(oie,{children:o.jsx(cie,{children:o.jsx(uAe,{children:o.jsx(pAe,{})})})})})})})})})})})}JK.createRoot(document.getElementById("root")).render(o.jsx(Se.StrictMode,{children:o.jsx(gAe,{})}));export{dW as W};

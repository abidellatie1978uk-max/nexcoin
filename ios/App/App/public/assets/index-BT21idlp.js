function XK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function _i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function YK(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Q1={exports:{}},Nm={},J1={exports:{}},xt={};var gk;function QK(){if(gk)return xt;gk=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function p($){return $===null||typeof $!="object"?null:($=m&&$[m]||$["@@iterator"],typeof $=="function"?$:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,b={};function _($,G,Z){this.props=$,this.context=G,this.refs=b,this.updater=Z||y}_.prototype.isReactComponent={},_.prototype.setState=function($,G){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,G,"setState")},_.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function S(){}S.prototype=_.prototype;function R($,G,Z){this.props=$,this.context=G,this.refs=b,this.updater=Z||y}var D=R.prototype=new S;D.constructor=R,x(D,_.prototype),D.isPureReactComponent=!0;var z=Array.isArray,I=Object.prototype.hasOwnProperty,P={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function E($,G,Z){var Y,te={},ie=null,ne=null;if(G!=null)for(Y in G.ref!==void 0&&(ne=G.ref),G.key!==void 0&&(ie=""+G.key),G)I.call(G,Y)&&!C.hasOwnProperty(Y)&&(te[Y]=G[Y]);var be=arguments.length-2;if(be===1)te.children=Z;else if(1<be){for(var se=Array(be),ve=0;ve<be;ve++)se[ve]=arguments[ve+2];te.children=se}if($&&$.defaultProps)for(Y in be=$.defaultProps,be)te[Y]===void 0&&(te[Y]=be[Y]);return{$$typeof:t,type:$,key:ie,ref:ne,props:te,_owner:P.current}}function A($,G){return{$$typeof:t,type:$.type,key:G,ref:$.ref,props:$.props,_owner:$._owner}}function j($){return typeof $=="object"&&$!==null&&$.$$typeof===t}function V($){var G={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(Z){return G[Z]})}var B=/\/+/g;function F($,G){return typeof $=="object"&&$!==null&&$.key!=null?V(""+$.key):G.toString(36)}function U($,G,Z,Y,te){var ie=typeof $;(ie==="undefined"||ie==="boolean")&&($=null);var ne=!1;if($===null)ne=!0;else switch(ie){case"string":case"number":ne=!0;break;case"object":switch($.$$typeof){case t:case e:ne=!0}}if(ne)return ne=$,te=te(ne),$=Y===""?"."+F(ne,0):Y,z(te)?(Z="",$!=null&&(Z=$.replace(B,"$&/")+"/"),U(te,G,Z,"",function(ve){return ve})):te!=null&&(j(te)&&(te=A(te,Z+(!te.key||ne&&ne.key===te.key?"":(""+te.key).replace(B,"$&/")+"/")+$)),G.push(te)),1;if(ne=0,Y=Y===""?".":Y+":",z($))for(var be=0;be<$.length;be++){ie=$[be];var se=Y+F(ie,be);ne+=U(ie,G,Z,se,te)}else if(se=p($),typeof se=="function")for($=se.call($),be=0;!(ie=$.next()).done;)ie=ie.value,se=Y+F(ie,be++),ne+=U(ie,G,Z,se,te);else if(ie==="object")throw G=String($),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return ne}function X($,G,Z){if($==null)return $;var Y=[],te=0;return U($,Y,"","",function(ie){return G.call(Z,ie,te++)}),Y}function J($){if($._status===-1){var G=$._result;G=G(),G.then(function(Z){($._status===0||$._status===-1)&&($._status=1,$._result=Z)},function(Z){($._status===0||$._status===-1)&&($._status=2,$._result=Z)}),$._status===-1&&($._status=0,$._result=G)}if($._status===1)return $._result.default;throw $._result}var O={current:null},K={transition:null},H={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:K,ReactCurrentOwner:P};function k(){throw Error("act(...) is not supported in production builds of React.")}return xt.Children={map:X,forEach:function($,G,Z){X($,function(){G.apply(this,arguments)},Z)},count:function($){var G=0;return X($,function(){G++}),G},toArray:function($){return X($,function(G){return G})||[]},only:function($){if(!j($))throw Error("React.Children.only expected to receive a single React element child.");return $}},xt.Component=_,xt.Fragment=n,xt.Profiler=i,xt.PureComponent=R,xt.StrictMode=r,xt.Suspense=c,xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,xt.act=k,xt.cloneElement=function($,G,Z){if($==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+$+".");var Y=x({},$.props),te=$.key,ie=$.ref,ne=$._owner;if(G!=null){if(G.ref!==void 0&&(ie=G.ref,ne=P.current),G.key!==void 0&&(te=""+G.key),$.type&&$.type.defaultProps)var be=$.type.defaultProps;for(se in G)I.call(G,se)&&!C.hasOwnProperty(se)&&(Y[se]=G[se]===void 0&&be!==void 0?be[se]:G[se])}var se=arguments.length-2;if(se===1)Y.children=Z;else if(1<se){be=Array(se);for(var ve=0;ve<se;ve++)be[ve]=arguments[ve+2];Y.children=be}return{$$typeof:t,type:$.type,key:te,ref:ie,props:Y,_owner:ne}},xt.createContext=function($){return $={$$typeof:a,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},$.Provider={$$typeof:s,_context:$},$.Consumer=$},xt.createElement=E,xt.createFactory=function($){var G=E.bind(null,$);return G.type=$,G},xt.createRef=function(){return{current:null}},xt.forwardRef=function($){return{$$typeof:l,render:$}},xt.isValidElement=j,xt.lazy=function($){return{$$typeof:f,_payload:{_status:-1,_result:$},_init:J}},xt.memo=function($,G){return{$$typeof:d,type:$,compare:G===void 0?null:G}},xt.startTransition=function($){var G=K.transition;K.transition={};try{$()}finally{K.transition=G}},xt.unstable_act=k,xt.useCallback=function($,G){return O.current.useCallback($,G)},xt.useContext=function($){return O.current.useContext($)},xt.useDebugValue=function(){},xt.useDeferredValue=function($){return O.current.useDeferredValue($)},xt.useEffect=function($,G){return O.current.useEffect($,G)},xt.useId=function(){return O.current.useId()},xt.useImperativeHandle=function($,G,Z){return O.current.useImperativeHandle($,G,Z)},xt.useInsertionEffect=function($,G){return O.current.useInsertionEffect($,G)},xt.useLayoutEffect=function($,G){return O.current.useLayoutEffect($,G)},xt.useMemo=function($,G){return O.current.useMemo($,G)},xt.useReducer=function($,G,Z){return O.current.useReducer($,G,Z)},xt.useRef=function($){return O.current.useRef($)},xt.useState=function($){return O.current.useState($)},xt.useSyncExternalStore=function($,G,Z){return O.current.useSyncExternalStore($,G,Z)},xt.useTransition=function(){return O.current.useTransition()},xt.version="18.3.1",xt}var yk;function ni(){return yk||(yk=1,J1.exports=QK()),J1.exports}var vk;function JK(){if(vk)return Nm;vk=1;var t=ni(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(l,c,d){var f,m={},p=null,y=null;d!==void 0&&(p=""+d),c.key!==void 0&&(p=""+c.key),c.ref!==void 0&&(y=c.ref);for(f in c)r.call(c,f)&&!s.hasOwnProperty(f)&&(m[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)m[f]===void 0&&(m[f]=c[f]);return{$$typeof:e,type:l,key:p,ref:y,props:m,_owner:i.current}}return Nm.Fragment=n,Nm.jsx=a,Nm.jsxs=a,Nm}var xk;function ZK(){return xk||(xk=1,Q1.exports=JK()),Q1.exports}var o=ZK(),N=ni();const Se=_i(N),eG=XK({__proto__:null,default:Se},[N]);var rv={},Z1={exports:{}},ui={},e_={exports:{}},t_={};var bk;function tG(){return bk||(bk=1,(function(t){function e(K,H){var k=K.length;K.push(H);e:for(;0<k;){var $=k-1>>>1,G=K[$];if(0<i(G,H))K[$]=H,K[k]=G,k=$;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var H=K[0],k=K.pop();if(k!==H){K[0]=k;e:for(var $=0,G=K.length,Z=G>>>1;$<Z;){var Y=2*($+1)-1,te=K[Y],ie=Y+1,ne=K[ie];if(0>i(te,k))ie<G&&0>i(ne,te)?(K[$]=ne,K[ie]=k,$=ie):(K[$]=te,K[Y]=k,$=Y);else if(ie<G&&0>i(ne,k))K[$]=ne,K[ie]=k,$=ie;else break e}}return H}function i(K,H){var k=K.sortIndex-H.sortIndex;return k!==0?k:K.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],f=1,m=null,p=3,y=!1,x=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(K){for(var H=n(d);H!==null;){if(H.callback===null)r(d);else if(H.startTime<=K)r(d),H.sortIndex=H.expirationTime,e(c,H);else break;H=n(d)}}function z(K){if(b=!1,D(K),!x)if(n(c)!==null)x=!0,J(I);else{var H=n(d);H!==null&&O(z,H.startTime-K)}}function I(K,H){x=!1,b&&(b=!1,S(E),E=-1),y=!0;var k=p;try{for(D(H),m=n(c);m!==null&&(!(m.expirationTime>H)||K&&!V());){var $=m.callback;if(typeof $=="function"){m.callback=null,p=m.priorityLevel;var G=$(m.expirationTime<=H);H=t.unstable_now(),typeof G=="function"?m.callback=G:m===n(c)&&r(c),D(H)}else r(c);m=n(c)}if(m!==null)var Z=!0;else{var Y=n(d);Y!==null&&O(z,Y.startTime-H),Z=!1}return Z}finally{m=null,p=k,y=!1}}var P=!1,C=null,E=-1,A=5,j=-1;function V(){return!(t.unstable_now()-j<A)}function B(){if(C!==null){var K=t.unstable_now();j=K;var H=!0;try{H=C(!0,K)}finally{H?F():(P=!1,C=null)}}else P=!1}var F;if(typeof R=="function")F=function(){R(B)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,X=U.port2;U.port1.onmessage=B,F=function(){X.postMessage(null)}}else F=function(){_(B,0)};function J(K){C=K,P||(P=!0,F())}function O(K,H){E=_(function(){K(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){x||y||(x=!0,J(I))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(K){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var k=p;p=H;try{return K()}finally{p=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,H){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var k=p;p=K;try{return H()}finally{p=k}},t.unstable_scheduleCallback=function(K,H,k){var $=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?$+k:$):k=$,K){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=k+G,K={id:f++,callback:H,priorityLevel:K,startTime:k,expirationTime:G,sortIndex:-1},k>$?(K.sortIndex=k,e(d,K),n(c)===null&&K===n(d)&&(b?(S(E),E=-1):b=!0,O(z,k-$))):(K.sortIndex=G,e(c,K),x||y||(x=!0,J(I))),K},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(K){var H=p;return function(){var k=p;p=H;try{return K.apply(this,arguments)}finally{p=k}}}})(t_)),t_}var wk;function nG(){return wk||(wk=1,e_.exports=tG()),e_.exports}var _k;function rG(){if(_k)return ui;_k=1;var t=ni(),e=nG();function n(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,h){a(u,h),a(u+"Capture",h)}function a(u,h){for(i[u]=h,u=0;u<h.length;u++)r.add(h[u])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(u){return c.call(m,u)?!0:c.call(f,u)?!1:d.test(u)?m[u]=!0:(f[u]=!0,!1)}function y(u,h,g,w){if(g!==null&&g.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return w?!1:g!==null?!g.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function x(u,h,g,w){if(h===null||typeof h>"u"||y(u,h,g,w))return!0;if(w)return!1;if(g!==null)switch(g.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function b(u,h,g,w,T,M,W){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=w,this.attributeNamespace=T,this.mustUseProperty=g,this.propertyName=u,this.type=h,this.sanitizeURL=M,this.removeEmptyString=W}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){_[u]=new b(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];_[h]=new b(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){_[u]=new b(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){_[u]=new b(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){_[u]=new b(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){_[u]=new b(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){_[u]=new b(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){_[u]=new b(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){_[u]=new b(u,5,!1,u.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function R(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(S,R);_[h]=new b(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(S,R);_[h]=new b(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(S,R);_[h]=new b(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){_[u]=new b(u,1,!1,u.toLowerCase(),null,!1,!1)}),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){_[u]=new b(u,1,!1,u.toLowerCase(),null,!0,!0)});function D(u,h,g,w){var T=_.hasOwnProperty(h)?_[h]:null;(T!==null?T.type!==0:w||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(x(h,g,T,w)&&(g=null),w||T===null?p(h)&&(g===null?u.removeAttribute(h):u.setAttribute(h,""+g)):T.mustUseProperty?u[T.propertyName]=g===null?T.type===3?!1:"":g:(h=T.attributeName,w=T.attributeNamespace,g===null?u.removeAttribute(h):(T=T.type,g=T===3||T===4&&g===!0?"":""+g,w?u.setAttributeNS(w,h,g):u.setAttribute(h,g))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),P=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),V=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),K=Symbol.iterator;function H(u){return u===null||typeof u!="object"?null:(u=K&&u[K]||u["@@iterator"],typeof u=="function"?u:null)}var k=Object.assign,$;function G(u){if($===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);$=h&&h[1]||""}return`
`+$+u}var Z=!1;function Y(u,h){if(!u||Z)return"";Z=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(pe){var w=pe}Reflect.construct(u,[],h)}else{try{h.call()}catch(pe){w=pe}u.call(h.prototype)}else{try{throw Error()}catch(pe){w=pe}u()}}catch(pe){if(pe&&w&&typeof pe.stack=="string"){for(var T=pe.stack.split(`
`),M=w.stack.split(`
`),W=T.length-1,ee=M.length-1;1<=W&&0<=ee&&T[W]!==M[ee];)ee--;for(;1<=W&&0<=ee;W--,ee--)if(T[W]!==M[ee]){if(W!==1||ee!==1)do if(W--,ee--,0>ee||T[W]!==M[ee]){var re=`
`+T[W].replace(" at new "," at ");return u.displayName&&re.includes("<anonymous>")&&(re=re.replace("<anonymous>",u.displayName)),re}while(1<=W&&0<=ee);break}}}finally{Z=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?G(u):""}function te(u){switch(u.tag){case 5:return G(u.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return u=Y(u.type,!1),u;case 11:return u=Y(u.type.render,!1),u;case 1:return u=Y(u.type,!0),u;default:return""}}function ie(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case C:return"Fragment";case P:return"Portal";case A:return"Profiler";case E:return"StrictMode";case F:return"Suspense";case U:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case V:return(u.displayName||"Context")+".Consumer";case j:return(u._context.displayName||"Context")+".Provider";case B:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case X:return h=u.displayName||null,h!==null?h:ie(u.type)||"Memo";case J:h=u._payload,u=u._init;try{return ie(u(h))}catch{}}return null}function ne(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ie(h);case 8:return h===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function be(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function se(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function ve(u){var h=se(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),w=""+u[h];if(!u.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var T=g.get,M=g.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return T.call(this)},set:function(W){w=""+W,M.call(this,W)}}),Object.defineProperty(u,h,{enumerable:g.enumerable}),{getValue:function(){return w},setValue:function(W){w=""+W},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Pe(u){u._valueTracker||(u._valueTracker=ve(u))}function fe(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var g=h.getValue(),w="";return u&&(w=se(u)?u.checked?"true":"false":u.value),u=w,u!==g?(h.setValue(u),!0):!1}function Ae(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function De(u,h){var g=h.checked;return k({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??u._wrapperState.initialChecked})}function Ze(u,h){var g=h.defaultValue==null?"":h.defaultValue,w=h.checked!=null?h.checked:h.defaultChecked;g=be(h.value!=null?h.value:g),u._wrapperState={initialChecked:w,initialValue:g,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function ct(u,h){h=h.checked,h!=null&&D(u,"checked",h,!1)}function Be(u,h){ct(u,h);var g=be(h.value),w=h.type;if(g!=null)w==="number"?(g===0&&u.value===""||u.value!=g)&&(u.value=""+g):u.value!==""+g&&(u.value=""+g);else if(w==="submit"||w==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?dt(u,h.type,g):h.hasOwnProperty("defaultValue")&&dt(u,h.type,be(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function yt(u,h,g){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var w=h.type;if(!(w!=="submit"&&w!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,g||h===u.value||(u.value=h),u.defaultValue=h}g=u.name,g!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,g!==""&&(u.name=g)}function dt(u,h,g){(h!=="number"||Ae(u.ownerDocument)!==u)&&(g==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+g&&(u.defaultValue=""+g))}var oe=Array.isArray;function Ee(u,h,g,w){if(u=u.options,h){h={};for(var T=0;T<g.length;T++)h["$"+g[T]]=!0;for(g=0;g<u.length;g++)T=h.hasOwnProperty("$"+u[g].value),u[g].selected!==T&&(u[g].selected=T),T&&w&&(u[g].defaultSelected=!0)}else{for(g=""+be(g),h=null,T=0;T<u.length;T++){if(u[T].value===g){u[T].selected=!0,w&&(u[T].defaultSelected=!0);return}h!==null||u[T].disabled||(h=u[T])}h!==null&&(h.selected=!0)}}function Xe(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return k({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function de(u,h){var g=h.value;if(g==null){if(g=h.children,h=h.defaultValue,g!=null){if(h!=null)throw Error(n(92));if(oe(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),g=h}u._wrapperState={initialValue:be(g)}}function Ke(u,h){var g=be(h.value),w=be(h.defaultValue);g!=null&&(g=""+g,g!==u.value&&(u.value=g),h.defaultValue==null&&u.defaultValue!==g&&(u.defaultValue=g)),w!=null&&(u.defaultValue=""+w)}function ft(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function st(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function at(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?st(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var kt,Qt=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,g,w,T){MSApp.execUnsafeLocalFunction(function(){return u(h,g,w,T)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(kt=kt||document.createElement("div"),kt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=kt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function gr(u,h){if(h){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=h;return}}u.textContent=h}var Mn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ks=["Webkit","ms","Moz","O"];Object.keys(Mn).forEach(function(u){Ks.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),Mn[h]=Mn[u]})});function Wr(u,h,g){return h==null||typeof h=="boolean"||h===""?"":g||typeof h!="number"||h===0||Mn.hasOwnProperty(u)&&Mn[u]?(""+h).trim():h+"px"}function Ti(u,h){u=u.style;for(var g in h)if(h.hasOwnProperty(g)){var w=g.indexOf("--")===0,T=Wr(g,h[g],w);g==="float"&&(g="cssFloat"),w?u.setProperty(g,T):u[g]=T}}var Qo=k({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tr(u,h){if(h){if(Qo[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function Jo(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gs=null;function Ka(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Gi=null,gs=null,Jt=null;function ii(u){if(u=lm(u)){if(typeof Gi!="function")throw Error(n(280));var h=u.stateNode;h&&(h=yy(h),Gi(u.stateNode,u.type,h))}}function Xs(u){gs?Jt?Jt.push(u):Jt=[u]:gs=u}function tt(){if(gs){var u=gs,h=Jt;if(Jt=gs=null,ii(u),h)for(u=0;u<h.length;u++)ii(h[u])}}function Pt(u,h){return u(h)}function zt(){}var Cn=!1;function Ar(u,h,g){if(Cn)return u(h,g);Cn=!0;try{return Pt(u,h,g)}finally{Cn=!1,(gs!==null||Jt!==null)&&(zt(),tt())}}function Ir(u,h){var g=u.stateNode;if(g===null)return null;var w=yy(g);if(w===null)return null;g=w[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(u=u.type,w=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!w;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(n(231,h,typeof g));return g}var jr=!1;if(l)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){jr=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{jr=!1}function Pi(u,h,g,w,T,M,W,ee,re){var pe=Array.prototype.slice.call(arguments,3);try{h.apply(g,pe)}catch(Ce){this.onError(Ce)}}var Ga=!1,Ys=null,od=!1,Xi=null,Xg={onError:function(u){Ga=!0,Ys=u}};function Yg(u,h,g,w,T,M,W,ee,re){Ga=!1,Ys=null,Pi.apply(Xg,arguments)}function Mh(u,h,g,w,T,M,W,ee,re){if(Yg.apply(this,arguments),Ga){if(Ga){var pe=Ys;Ga=!1,Ys=null}else throw Error(n(198));od||(od=!0,Xi=pe)}}function ys(u){var h=u,g=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(g=h.return),u=h.return;while(u)}return h.tag===3?g:null}function Lh(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function Qg(u){if(ys(u)!==u)throw Error(n(188))}function Jg(u){var h=u.alternate;if(!h){if(h=ys(u),h===null)throw Error(n(188));return h!==u?null:u}for(var g=u,w=h;;){var T=g.return;if(T===null)break;var M=T.alternate;if(M===null){if(w=T.return,w!==null){g=w;continue}break}if(T.child===M.child){for(M=T.child;M;){if(M===g)return Qg(T),u;if(M===w)return Qg(T),h;M=M.sibling}throw Error(n(188))}if(g.return!==w.return)g=T,w=M;else{for(var W=!1,ee=T.child;ee;){if(ee===g){W=!0,g=T,w=M;break}if(ee===w){W=!0,w=T,g=M;break}ee=ee.sibling}if(!W){for(ee=M.child;ee;){if(ee===g){W=!0,g=M,w=T;break}if(ee===w){W=!0,w=M,g=T;break}ee=ee.sibling}if(!W)throw Error(n(189))}}if(g.alternate!==w)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?u:h}function Zg(u){return u=Jg(u),u!==null?wc(u):null}function wc(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=wc(u);if(h!==null)return h;u=u.sibling}return null}var Vh=e.unstable_scheduleCallback,ld=e.unstable_cancelCallback,_c=e.unstable_shouldYield,Xa=e.unstable_requestPaint,sn=e.unstable_now,Pw=e.unstable_getCurrentPriorityLevel,cd=e.unstable_ImmediatePriority,Fh=e.unstable_UserBlockingPriority,Nc=e.unstable_NormalPriority,Bh=e.unstable_LowPriority,ud=e.unstable_IdlePriority,Cc=null,Ai=null;function ey(u){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(Cc,u,void 0,(u.current.flags&128)===128)}catch{}}var Ii=Math.clz32?Math.clz32:Ec,Qs=Math.log,Yi=Math.LN2;function Ec(u){return u>>>=0,u===0?32:31-(Qs(u)/Yi|0)|0}var Js=64,Zo=4194304;function Ft(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Ya(u,h){var g=u.pendingLanes;if(g===0)return 0;var w=0,T=u.suspendedLanes,M=u.pingedLanes,W=g&268435455;if(W!==0){var ee=W&~T;ee!==0?w=Ft(ee):(M&=W,M!==0&&(w=Ft(M)))}else W=g&~T,W!==0?w=Ft(W):M!==0&&(w=Ft(M));if(w===0)return 0;if(h!==0&&h!==w&&(h&T)===0&&(T=w&-w,M=h&-h,T>=M||T===16&&(M&4194240)!==0))return h;if((w&4)!==0&&(w|=g&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=w;0<h;)g=31-Ii(h),T=1<<g,w|=u[g],h&=~T;return w}function Sc(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tc(u,h){for(var g=u.suspendedLanes,w=u.pingedLanes,T=u.expirationTimes,M=u.pendingLanes;0<M;){var W=31-Ii(M),ee=1<<W,re=T[W];re===-1?((ee&g)===0||(ee&w)!==0)&&(T[W]=Sc(ee,h)):re<=h&&(u.expiredLanes|=ee),M&=~ee}}function zh(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function Uh(){var u=Js;return Js<<=1,(Js&4194240)===0&&(Js=64),u}function $h(u){for(var h=[],g=0;31>g;g++)h.push(u);return h}function Pc(u,h,g){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-Ii(h),u[h]=g}function Aw(u,h){var g=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var w=u.eventTimes;for(u=u.expirationTimes;0<g;){var T=31-Ii(g),M=1<<T;h[T]=0,w[T]=-1,u[T]=-1,g&=~M}}function qh(u,h){var g=u.entangledLanes|=h;for(u=u.entanglements;g;){var w=31-Ii(g),T=1<<w;T&h|u[w]&h&&(u[w]|=h),g&=~T}}var St=0;function Zs(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var Hh,dd,Wh,Kh,Gh,ea=!1,fd=[],ta=null,na=null,yr=null,Ac=new Map,Qa=new Map,ji=[],ty="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function el(u,h){switch(u){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":na=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Ac.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Qa.delete(h.pointerId)}}function vs(u,h,g,w,T,M){return u===null||u.nativeEvent!==M?(u={blockedOn:h,domEventName:g,eventSystemFlags:w,nativeEvent:M,targetContainers:[T]},h!==null&&(h=lm(h),h!==null&&dd(h)),u):(u.eventSystemFlags|=w,h=u.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),u)}function ny(u,h,g,w,T){switch(h){case"focusin":return ta=vs(ta,u,h,g,w,T),!0;case"dragenter":return na=vs(na,u,h,g,w,T),!0;case"mouseover":return yr=vs(yr,u,h,g,w,T),!0;case"pointerover":var M=T.pointerId;return Ac.set(M,vs(Ac.get(M)||null,u,h,g,w,T)),!0;case"gotpointercapture":return M=T.pointerId,Qa.set(M,vs(Qa.get(M)||null,u,h,g,w,T)),!0}return!1}function hd(u){var h=Rc(u.target);if(h!==null){var g=ys(h);if(g!==null){if(h=g.tag,h===13){if(h=Lh(g),h!==null){u.blockedOn=h,Gh(u.priority,function(){Wh(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Gt(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var g=md(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(g===null){g=u.nativeEvent;var w=new g.constructor(g.type,g);Gs=w,g.target.dispatchEvent(w),Gs=null}else return h=lm(g),h!==null&&dd(h),u.blockedOn=g,!1;h.shift()}return!0}function ry(u,h,g){Gt(u)&&g.delete(h)}function Iw(){ea=!1,ta!==null&&Gt(ta)&&(ta=null),na!==null&&Gt(na)&&(na=null),yr!==null&&Gt(yr)&&(yr=null),Ac.forEach(ry),Qa.forEach(ry)}function tl(u,h){u.blockedOn===h&&(u.blockedOn=null,ea||(ea=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Iw)))}function nl(u){function h(T){return tl(T,u)}if(0<fd.length){tl(fd[0],u);for(var g=1;g<fd.length;g++){var w=fd[g];w.blockedOn===u&&(w.blockedOn=null)}}for(ta!==null&&tl(ta,u),na!==null&&tl(na,u),yr!==null&&tl(yr,u),Ac.forEach(h),Qa.forEach(h),g=0;g<ji.length;g++)w=ji[g],w.blockedOn===u&&(w.blockedOn=null);for(;0<ji.length&&(g=ji[0],g.blockedOn===null);)hd(g),g.blockedOn===null&&ji.shift()}var Ja=z.ReactCurrentBatchConfig,Za=!0;function ra(u,h,g,w){var T=St,M=Ja.transition;Ja.transition=null;try{St=1,Xh(u,h,g,w)}finally{St=T,Ja.transition=M}}function iy(u,h,g,w){var T=St,M=Ja.transition;Ja.transition=null;try{St=4,Xh(u,h,g,w)}finally{St=T,Ja.transition=M}}function Xh(u,h,g,w){if(Za){var T=md(u,h,g,w);if(T===null)zw(u,h,w,ia,g),el(u,w);else if(ny(T,u,h,g,w))w.stopPropagation();else if(el(u,w),h&4&&-1<ty.indexOf(u)){for(;T!==null;){var M=lm(T);if(M!==null&&Hh(M),M=md(u,h,g,w),M===null&&zw(u,h,w,ia,g),M===T)break;T=M}T!==null&&w.stopPropagation()}else zw(u,h,w,null,g)}}var ia=null;function md(u,h,g,w){if(ia=null,u=Ka(w),u=Rc(u),u!==null)if(h=ys(u),h===null)u=null;else if(g=h.tag,g===13){if(u=Lh(h),u!==null)return u;u=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return ia=u,null}function pd(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pw()){case cd:return 1;case Fh:return 4;case Nc:case Bh:return 16;case ud:return 536870912;default:return 16}default:return 16}}var ki=null,gd=null,eo=null;function sy(){if(eo)return eo;var u,h=gd,g=h.length,w,T="value"in ki?ki.value:ki.textContent,M=T.length;for(u=0;u<g&&h[u]===T[u];u++);var W=g-u;for(w=1;w<=W&&h[g-w]===T[M-w];w++);return eo=T.slice(u,1<w?1-w:void 0)}function Ic(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function sa(){return!0}function Yh(){return!1}function kr(u){function h(g,w,T,M,W){this._reactName=g,this._targetInst=T,this.type=w,this.nativeEvent=M,this.target=W,this.currentTarget=null;for(var ee in u)u.hasOwnProperty(ee)&&(g=u[ee],this[ee]=g?g(M):M[ee]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?sa:Yh,this.isPropagationStopped=Yh,this}return k(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=sa)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=sa)},persist:function(){},isPersistent:sa}),h}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=kr(aa),rl=k({},aa,{view:0,detail:0}),yd=kr(rl),vd,xd,Ri,kc=k({},rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pt,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Ri&&(Ri&&u.type==="mousemove"?(vd=u.screenX-Ri.screenX,xd=u.screenY-Ri.screenY):xd=vd=0,Ri=u),vd)},movementY:function(u){return"movementY"in u?u.movementY:xd}}),Qh=kr(kc),ay=k({},kc,{dataTransfer:0}),oy=kr(ay),bd=k({},rl,{relatedTarget:0}),vr=kr(bd),ly=k({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),cy=kr(ly),il=k({},aa,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),v=kr(il),L=k({},aa,{data:0}),q=kr(L),Q={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ue={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ge={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ke(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=ge[u])?!!h[u]:!1}function pt(){return ke}var jn=k({},rl,{key:function(u){if(u.key){var h=Q[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Ic(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?ue[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pt,charCode:function(u){return u.type==="keypress"?Ic(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ic(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Ut=kr(jn),Vn=k({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Di=kr(Vn),to=k({},rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pt}),oa=kr(to),la=k({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),wd=kr(la),Jh=k({},kc,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),$W=kr(Jh),qW=[9,13,27,32],jw=l&&"CompositionEvent"in window,Zh=null;l&&"documentMode"in document&&(Zh=document.documentMode);var HW=l&&"TextEvent"in window&&!Zh,lj=l&&(!jw||Zh&&8<Zh&&11>=Zh),cj=" ",uj=!1;function dj(u,h){switch(u){case"keyup":return qW.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fj(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var _d=!1;function WW(u,h){switch(u){case"compositionend":return fj(h);case"keypress":return h.which!==32?null:(uj=!0,cj);case"textInput":return u=h.data,u===cj&&uj?null:u;default:return null}}function KW(u,h){if(_d)return u==="compositionend"||!jw&&dj(u,h)?(u=sy(),eo=gd=ki=null,_d=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return lj&&h.locale!=="ko"?null:h.data;default:return null}}var GW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hj(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!GW[u.type]:h==="textarea"}function mj(u,h,g,w){Xs(w),h=my(h,"onChange"),0<h.length&&(g=new jc("onChange","change",null,g,w),u.push({event:g,listeners:h}))}var em=null,tm=null;function XW(u){kj(u,0)}function uy(u){var h=Td(u);if(fe(h))return u}function YW(u,h){if(u==="change")return h}var pj=!1;if(l){var kw;if(l){var Rw="oninput"in document;if(!Rw){var gj=document.createElement("div");gj.setAttribute("oninput","return;"),Rw=typeof gj.oninput=="function"}kw=Rw}else kw=!1;pj=kw&&(!document.documentMode||9<document.documentMode)}function yj(){em&&(em.detachEvent("onpropertychange",vj),tm=em=null)}function vj(u){if(u.propertyName==="value"&&uy(tm)){var h=[];mj(h,tm,u,Ka(u)),Ar(XW,h)}}function QW(u,h,g){u==="focusin"?(yj(),em=h,tm=g,em.attachEvent("onpropertychange",vj)):u==="focusout"&&yj()}function JW(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return uy(tm)}function ZW(u,h){if(u==="click")return uy(h)}function eK(u,h){if(u==="input"||u==="change")return uy(h)}function tK(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var xs=typeof Object.is=="function"?Object.is:tK;function nm(u,h){if(xs(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var g=Object.keys(u),w=Object.keys(h);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var T=g[w];if(!c.call(h,T)||!xs(u[T],h[T]))return!1}return!0}function xj(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function bj(u,h){var g=xj(u);u=0;for(var w;g;){if(g.nodeType===3){if(w=u+g.textContent.length,u<=h&&w>=h)return{node:g,offset:h-u};u=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=xj(g)}}function wj(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?wj(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function _j(){for(var u=window,h=Ae();h instanceof u.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)u=h.contentWindow;else break;h=Ae(u.document)}return h}function Dw(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function nK(u){var h=_j(),g=u.focusedElem,w=u.selectionRange;if(h!==g&&g&&g.ownerDocument&&wj(g.ownerDocument.documentElement,g)){if(w!==null&&Dw(g)){if(h=w.start,u=w.end,u===void 0&&(u=h),"selectionStart"in g)g.selectionStart=h,g.selectionEnd=Math.min(u,g.value.length);else if(u=(h=g.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var T=g.textContent.length,M=Math.min(w.start,T);w=w.end===void 0?M:Math.min(w.end,T),!u.extend&&M>w&&(T=w,w=M,M=T),T=bj(g,M);var W=bj(g,w);T&&W&&(u.rangeCount!==1||u.anchorNode!==T.node||u.anchorOffset!==T.offset||u.focusNode!==W.node||u.focusOffset!==W.offset)&&(h=h.createRange(),h.setStart(T.node,T.offset),u.removeAllRanges(),M>w?(u.addRange(h),u.extend(W.node,W.offset)):(h.setEnd(W.node,W.offset),u.addRange(h)))}}for(h=[],u=g;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<h.length;g++)u=h[g],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var rK=l&&"documentMode"in document&&11>=document.documentMode,Nd=null,Ow=null,rm=null,Mw=!1;function Nj(u,h,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Mw||Nd==null||Nd!==Ae(w)||(w=Nd,"selectionStart"in w&&Dw(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),rm&&nm(rm,w)||(rm=w,w=my(Ow,"onSelect"),0<w.length&&(h=new jc("onSelect","select",null,h,g),u.push({event:h,listeners:w}),h.target=Nd)))}function dy(u,h){var g={};return g[u.toLowerCase()]=h.toLowerCase(),g["Webkit"+u]="webkit"+h,g["Moz"+u]="moz"+h,g}var Cd={animationend:dy("Animation","AnimationEnd"),animationiteration:dy("Animation","AnimationIteration"),animationstart:dy("Animation","AnimationStart"),transitionend:dy("Transition","TransitionEnd")},Lw={},Cj={};l&&(Cj=document.createElement("div").style,"AnimationEvent"in window||(delete Cd.animationend.animation,delete Cd.animationiteration.animation,delete Cd.animationstart.animation),"TransitionEvent"in window||delete Cd.transitionend.transition);function fy(u){if(Lw[u])return Lw[u];if(!Cd[u])return u;var h=Cd[u],g;for(g in h)if(h.hasOwnProperty(g)&&g in Cj)return Lw[u]=h[g];return u}var Ej=fy("animationend"),Sj=fy("animationiteration"),Tj=fy("animationstart"),Pj=fy("transitionend"),Aj=new Map,Ij="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sl(u,h){Aj.set(u,h),s(h,[u])}for(var Vw=0;Vw<Ij.length;Vw++){var Fw=Ij[Vw],iK=Fw.toLowerCase(),sK=Fw[0].toUpperCase()+Fw.slice(1);sl(iK,"on"+sK)}sl(Ej,"onAnimationEnd"),sl(Sj,"onAnimationIteration"),sl(Tj,"onAnimationStart"),sl("dblclick","onDoubleClick"),sl("focusin","onFocus"),sl("focusout","onBlur"),sl(Pj,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var im="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aK=new Set("cancel close invalid load scroll toggle".split(" ").concat(im));function jj(u,h,g){var w=u.type||"unknown-event";u.currentTarget=g,Mh(w,h,void 0,u),u.currentTarget=null}function kj(u,h){h=(h&4)!==0;for(var g=0;g<u.length;g++){var w=u[g],T=w.event;w=w.listeners;e:{var M=void 0;if(h)for(var W=w.length-1;0<=W;W--){var ee=w[W],re=ee.instance,pe=ee.currentTarget;if(ee=ee.listener,re!==M&&T.isPropagationStopped())break e;jj(T,ee,pe),M=re}else for(W=0;W<w.length;W++){if(ee=w[W],re=ee.instance,pe=ee.currentTarget,ee=ee.listener,re!==M&&T.isPropagationStopped())break e;jj(T,ee,pe),M=re}}}if(od)throw u=Xi,od=!1,Xi=null,u}function an(u,h){var g=h[Kw];g===void 0&&(g=h[Kw]=new Set);var w=u+"__bubble";g.has(w)||(Rj(h,u,2,!1),g.add(w))}function Bw(u,h,g){var w=0;h&&(w|=4),Rj(g,u,w,h)}var hy="_reactListening"+Math.random().toString(36).slice(2);function sm(u){if(!u[hy]){u[hy]=!0,r.forEach(function(g){g!=="selectionchange"&&(aK.has(g)||Bw(g,!1,u),Bw(g,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[hy]||(h[hy]=!0,Bw("selectionchange",!1,h))}}function Rj(u,h,g,w){switch(pd(h)){case 1:var T=ra;break;case 4:T=iy;break;default:T=Xh}g=T.bind(null,h,g,u),T=void 0,!jr||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),w?T!==void 0?u.addEventListener(h,g,{capture:!0,passive:T}):u.addEventListener(h,g,!0):T!==void 0?u.addEventListener(h,g,{passive:T}):u.addEventListener(h,g,!1)}function zw(u,h,g,w,T){var M=w;if((h&1)===0&&(h&2)===0&&w!==null)e:for(;;){if(w===null)return;var W=w.tag;if(W===3||W===4){var ee=w.stateNode.containerInfo;if(ee===T||ee.nodeType===8&&ee.parentNode===T)break;if(W===4)for(W=w.return;W!==null;){var re=W.tag;if((re===3||re===4)&&(re=W.stateNode.containerInfo,re===T||re.nodeType===8&&re.parentNode===T))return;W=W.return}for(;ee!==null;){if(W=Rc(ee),W===null)return;if(re=W.tag,re===5||re===6){w=M=W;continue e}ee=ee.parentNode}}w=w.return}Ar(function(){var pe=M,Ce=Ka(g),Te=[];e:{var Ne=Aj.get(u);if(Ne!==void 0){var Ve=jc,$e=u;switch(u){case"keypress":if(Ic(g)===0)break e;case"keydown":case"keyup":Ve=Ut;break;case"focusin":$e="focus",Ve=vr;break;case"focusout":$e="blur",Ve=vr;break;case"beforeblur":case"afterblur":Ve=vr;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=Qh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=oy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=oa;break;case Ej:case Sj:case Tj:Ve=cy;break;case Pj:Ve=wd;break;case"scroll":Ve=yd;break;case"wheel":Ve=$W;break;case"copy":case"cut":case"paste":Ve=v;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=Di}var We=(h&4)!==0,kn=!We&&u==="scroll",ce=We?Ne!==null?Ne+"Capture":null:Ne;We=[];for(var ae=pe,me;ae!==null;){me=ae;var Ie=me.stateNode;if(me.tag===5&&Ie!==null&&(me=Ie,ce!==null&&(Ie=Ir(ae,ce),Ie!=null&&We.push(am(ae,Ie,me)))),kn)break;ae=ae.return}0<We.length&&(Ne=new Ve(Ne,$e,null,g,Ce),Te.push({event:Ne,listeners:We}))}}if((h&7)===0){e:{if(Ne=u==="mouseover"||u==="pointerover",Ve=u==="mouseout"||u==="pointerout",Ne&&g!==Gs&&($e=g.relatedTarget||g.fromElement)&&(Rc($e)||$e[no]))break e;if((Ve||Ne)&&(Ne=Ce.window===Ce?Ce:(Ne=Ce.ownerDocument)?Ne.defaultView||Ne.parentWindow:window,Ve?($e=g.relatedTarget||g.toElement,Ve=pe,$e=$e?Rc($e):null,$e!==null&&(kn=ys($e),$e!==kn||$e.tag!==5&&$e.tag!==6)&&($e=null)):(Ve=null,$e=pe),Ve!==$e)){if(We=Qh,Ie="onMouseLeave",ce="onMouseEnter",ae="mouse",(u==="pointerout"||u==="pointerover")&&(We=Di,Ie="onPointerLeave",ce="onPointerEnter",ae="pointer"),kn=Ve==null?Ne:Td(Ve),me=$e==null?Ne:Td($e),Ne=new We(Ie,ae+"leave",Ve,g,Ce),Ne.target=kn,Ne.relatedTarget=me,Ie=null,Rc(Ce)===pe&&(We=new We(ce,ae+"enter",$e,g,Ce),We.target=me,We.relatedTarget=kn,Ie=We),kn=Ie,Ve&&$e)t:{for(We=Ve,ce=$e,ae=0,me=We;me;me=Ed(me))ae++;for(me=0,Ie=ce;Ie;Ie=Ed(Ie))me++;for(;0<ae-me;)We=Ed(We),ae--;for(;0<me-ae;)ce=Ed(ce),me--;for(;ae--;){if(We===ce||ce!==null&&We===ce.alternate)break t;We=Ed(We),ce=Ed(ce)}We=null}else We=null;Ve!==null&&Dj(Te,Ne,Ve,We,!1),$e!==null&&kn!==null&&Dj(Te,kn,$e,We,!0)}}e:{if(Ne=pe?Td(pe):window,Ve=Ne.nodeName&&Ne.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Ne.type==="file")var Ge=YW;else if(hj(Ne))if(pj)Ge=eK;else{Ge=JW;var nt=QW}else(Ve=Ne.nodeName)&&Ve.toLowerCase()==="input"&&(Ne.type==="checkbox"||Ne.type==="radio")&&(Ge=ZW);if(Ge&&(Ge=Ge(u,pe))){mj(Te,Ge,g,Ce);break e}nt&&nt(u,Ne,pe),u==="focusout"&&(nt=Ne._wrapperState)&&nt.controlled&&Ne.type==="number"&&dt(Ne,"number",Ne.value)}switch(nt=pe?Td(pe):window,u){case"focusin":(hj(nt)||nt.contentEditable==="true")&&(Nd=nt,Ow=pe,rm=null);break;case"focusout":rm=Ow=Nd=null;break;case"mousedown":Mw=!0;break;case"contextmenu":case"mouseup":case"dragend":Mw=!1,Nj(Te,g,Ce);break;case"selectionchange":if(rK)break;case"keydown":case"keyup":Nj(Te,g,Ce)}var rt;if(jw)e:{switch(u){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else _d?dj(u,g)&&(ut="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(ut="onCompositionStart");ut&&(lj&&g.locale!=="ko"&&(_d||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&_d&&(rt=sy()):(ki=Ce,gd="value"in ki?ki.value:ki.textContent,_d=!0)),nt=my(pe,ut),0<nt.length&&(ut=new q(ut,u,null,g,Ce),Te.push({event:ut,listeners:nt}),rt?ut.data=rt:(rt=fj(g),rt!==null&&(ut.data=rt)))),(rt=HW?WW(u,g):KW(u,g))&&(pe=my(pe,"onBeforeInput"),0<pe.length&&(Ce=new q("onBeforeInput","beforeinput",null,g,Ce),Te.push({event:Ce,listeners:pe}),Ce.data=rt))}kj(Te,h)})}function am(u,h,g){return{instance:u,listener:h,currentTarget:g}}function my(u,h){for(var g=h+"Capture",w=[];u!==null;){var T=u,M=T.stateNode;T.tag===5&&M!==null&&(T=M,M=Ir(u,g),M!=null&&w.unshift(am(u,M,T)),M=Ir(u,h),M!=null&&w.push(am(u,M,T))),u=u.return}return w}function Ed(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function Dj(u,h,g,w,T){for(var M=h._reactName,W=[];g!==null&&g!==w;){var ee=g,re=ee.alternate,pe=ee.stateNode;if(re!==null&&re===w)break;ee.tag===5&&pe!==null&&(ee=pe,T?(re=Ir(g,M),re!=null&&W.unshift(am(g,re,ee))):T||(re=Ir(g,M),re!=null&&W.push(am(g,re,ee)))),g=g.return}W.length!==0&&u.push({event:h,listeners:W})}var oK=/\r\n?/g,lK=/\u0000|\uFFFD/g;function Oj(u){return(typeof u=="string"?u:""+u).replace(oK,`
`).replace(lK,"")}function py(u,h,g){if(h=Oj(h),Oj(u)!==h&&g)throw Error(n(425))}function gy(){}var Uw=null,$w=null;function qw(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Hw=typeof setTimeout=="function"?setTimeout:void 0,cK=typeof clearTimeout=="function"?clearTimeout:void 0,Mj=typeof Promise=="function"?Promise:void 0,uK=typeof queueMicrotask=="function"?queueMicrotask:typeof Mj<"u"?function(u){return Mj.resolve(null).then(u).catch(dK)}:Hw;function dK(u){setTimeout(function(){throw u})}function Ww(u,h){var g=h,w=0;do{var T=g.nextSibling;if(u.removeChild(g),T&&T.nodeType===8)if(g=T.data,g==="/$"){if(w===0){u.removeChild(T),nl(h);return}w--}else g!=="$"&&g!=="$?"&&g!=="$!"||w++;g=T}while(g);nl(h)}function al(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function Lj(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return u;h--}else g==="/$"&&h++}u=u.previousSibling}return null}var Sd=Math.random().toString(36).slice(2),ca="__reactFiber$"+Sd,om="__reactProps$"+Sd,no="__reactContainer$"+Sd,Kw="__reactEvents$"+Sd,fK="__reactListeners$"+Sd,hK="__reactHandles$"+Sd;function Rc(u){var h=u[ca];if(h)return h;for(var g=u.parentNode;g;){if(h=g[no]||g[ca]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(u=Lj(u);u!==null;){if(g=u[ca])return g;u=Lj(u)}return h}u=g,g=u.parentNode}return null}function lm(u){return u=u[ca]||u[no],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Td(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function yy(u){return u[om]||null}var Gw=[],Pd=-1;function ol(u){return{current:u}}function on(u){0>Pd||(u.current=Gw[Pd],Gw[Pd]=null,Pd--)}function Zt(u,h){Pd++,Gw[Pd]=u.current,u.current=h}var ll={},Rr=ol(ll),si=ol(!1),Dc=ll;function Ad(u,h){var g=u.type.contextTypes;if(!g)return ll;var w=u.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var T={},M;for(M in g)T[M]=h[M];return w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=T),T}function ai(u){return u=u.childContextTypes,u!=null}function vy(){on(si),on(Rr)}function Vj(u,h,g){if(Rr.current!==ll)throw Error(n(168));Zt(Rr,h),Zt(si,g)}function Fj(u,h,g){var w=u.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return g;w=w.getChildContext();for(var T in w)if(!(T in h))throw Error(n(108,ne(u)||"Unknown",T));return k({},g,w)}function xy(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||ll,Dc=Rr.current,Zt(Rr,u),Zt(si,si.current),!0}function Bj(u,h,g){var w=u.stateNode;if(!w)throw Error(n(169));g?(u=Fj(u,h,Dc),w.__reactInternalMemoizedMergedChildContext=u,on(si),on(Rr),Zt(Rr,u)):on(si),Zt(si,g)}var ro=null,by=!1,Xw=!1;function zj(u){ro===null?ro=[u]:ro.push(u)}function mK(u){by=!0,zj(u)}function cl(){if(!Xw&&ro!==null){Xw=!0;var u=0,h=St;try{var g=ro;for(St=1;u<g.length;u++){var w=g[u];do w=w(!0);while(w!==null)}ro=null,by=!1}catch(T){throw ro!==null&&(ro=ro.slice(u+1)),Vh(cd,cl),T}finally{St=h,Xw=!1}}return null}var Id=[],jd=0,wy=null,_y=0,Qi=[],Ji=0,Oc=null,io=1,so="";function Mc(u,h){Id[jd++]=_y,Id[jd++]=wy,wy=u,_y=h}function Uj(u,h,g){Qi[Ji++]=io,Qi[Ji++]=so,Qi[Ji++]=Oc,Oc=u;var w=io;u=so;var T=32-Ii(w)-1;w&=~(1<<T),g+=1;var M=32-Ii(h)+T;if(30<M){var W=T-T%5;M=(w&(1<<W)-1).toString(32),w>>=W,T-=W,io=1<<32-Ii(h)+T|g<<T|w,so=M+u}else io=1<<M|g<<T|w,so=u}function Yw(u){u.return!==null&&(Mc(u,1),Uj(u,1,0))}function Qw(u){for(;u===wy;)wy=Id[--jd],Id[jd]=null,_y=Id[--jd],Id[jd]=null;for(;u===Oc;)Oc=Qi[--Ji],Qi[Ji]=null,so=Qi[--Ji],Qi[Ji]=null,io=Qi[--Ji],Qi[Ji]=null}var Oi=null,Mi=null,dn=!1,bs=null;function $j(u,h){var g=ns(5,null,null,0);g.elementType="DELETED",g.stateNode=h,g.return=u,h=u.deletions,h===null?(u.deletions=[g],u.flags|=16):h.push(g)}function qj(u,h){switch(u.tag){case 5:var g=u.type;return h=h.nodeType!==1||g.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,Oi=u,Mi=al(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,Oi=u,Mi=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(g=Oc!==null?{id:io,overflow:so}:null,u.memoizedState={dehydrated:h,treeContext:g,retryLane:1073741824},g=ns(18,null,null,0),g.stateNode=h,g.return=u,u.child=g,Oi=u,Mi=null,!0):!1;default:return!1}}function Jw(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Zw(u){if(dn){var h=Mi;if(h){var g=h;if(!qj(u,h)){if(Jw(u))throw Error(n(418));h=al(g.nextSibling);var w=Oi;h&&qj(u,h)?$j(w,g):(u.flags=u.flags&-4097|2,dn=!1,Oi=u)}}else{if(Jw(u))throw Error(n(418));u.flags=u.flags&-4097|2,dn=!1,Oi=u}}}function Hj(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Oi=u}function Ny(u){if(u!==Oi)return!1;if(!dn)return Hj(u),dn=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!qw(u.type,u.memoizedProps)),h&&(h=Mi)){if(Jw(u))throw Wj(),Error(n(418));for(;h;)$j(u,h),h=al(h.nextSibling)}if(Hj(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="/$"){if(h===0){Mi=al(u.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++}u=u.nextSibling}Mi=null}}else Mi=Oi?al(u.stateNode.nextSibling):null;return!0}function Wj(){for(var u=Mi;u;)u=al(u.nextSibling)}function kd(){Mi=Oi=null,dn=!1}function e1(u){bs===null?bs=[u]:bs.push(u)}var pK=z.ReactCurrentBatchConfig;function cm(u,h,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var w=g.stateNode}if(!w)throw Error(n(147,u));var T=w,M=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===M?h.ref:(h=function(W){var ee=T.refs;W===null?delete ee[M]:ee[M]=W},h._stringRef=M,h)}if(typeof u!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,u))}return u}function Cy(u,h){throw u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function Kj(u){var h=u._init;return h(u._payload)}function Gj(u){function h(ce,ae){if(u){var me=ce.deletions;me===null?(ce.deletions=[ae],ce.flags|=16):me.push(ae)}}function g(ce,ae){if(!u)return null;for(;ae!==null;)h(ce,ae),ae=ae.sibling;return null}function w(ce,ae){for(ce=new Map;ae!==null;)ae.key!==null?ce.set(ae.key,ae):ce.set(ae.index,ae),ae=ae.sibling;return ce}function T(ce,ae){return ce=yl(ce,ae),ce.index=0,ce.sibling=null,ce}function M(ce,ae,me){return ce.index=me,u?(me=ce.alternate,me!==null?(me=me.index,me<ae?(ce.flags|=2,ae):me):(ce.flags|=2,ae)):(ce.flags|=1048576,ae)}function W(ce){return u&&ce.alternate===null&&(ce.flags|=2),ce}function ee(ce,ae,me,Ie){return ae===null||ae.tag!==6?(ae=H1(me,ce.mode,Ie),ae.return=ce,ae):(ae=T(ae,me),ae.return=ce,ae)}function re(ce,ae,me,Ie){var Ge=me.type;return Ge===C?Ce(ce,ae,me.props.children,Ie,me.key):ae!==null&&(ae.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===J&&Kj(Ge)===ae.type)?(Ie=T(ae,me.props),Ie.ref=cm(ce,ae,me),Ie.return=ce,Ie):(Ie=Gy(me.type,me.key,me.props,null,ce.mode,Ie),Ie.ref=cm(ce,ae,me),Ie.return=ce,Ie)}function pe(ce,ae,me,Ie){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==me.containerInfo||ae.stateNode.implementation!==me.implementation?(ae=W1(me,ce.mode,Ie),ae.return=ce,ae):(ae=T(ae,me.children||[]),ae.return=ce,ae)}function Ce(ce,ae,me,Ie,Ge){return ae===null||ae.tag!==7?(ae=qc(me,ce.mode,Ie,Ge),ae.return=ce,ae):(ae=T(ae,me),ae.return=ce,ae)}function Te(ce,ae,me){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return ae=H1(""+ae,ce.mode,me),ae.return=ce,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case I:return me=Gy(ae.type,ae.key,ae.props,null,ce.mode,me),me.ref=cm(ce,null,ae),me.return=ce,me;case P:return ae=W1(ae,ce.mode,me),ae.return=ce,ae;case J:var Ie=ae._init;return Te(ce,Ie(ae._payload),me)}if(oe(ae)||H(ae))return ae=qc(ae,ce.mode,me,null),ae.return=ce,ae;Cy(ce,ae)}return null}function Ne(ce,ae,me,Ie){var Ge=ae!==null?ae.key:null;if(typeof me=="string"&&me!==""||typeof me=="number")return Ge!==null?null:ee(ce,ae,""+me,Ie);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case I:return me.key===Ge?re(ce,ae,me,Ie):null;case P:return me.key===Ge?pe(ce,ae,me,Ie):null;case J:return Ge=me._init,Ne(ce,ae,Ge(me._payload),Ie)}if(oe(me)||H(me))return Ge!==null?null:Ce(ce,ae,me,Ie,null);Cy(ce,me)}return null}function Ve(ce,ae,me,Ie,Ge){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return ce=ce.get(me)||null,ee(ae,ce,""+Ie,Ge);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case I:return ce=ce.get(Ie.key===null?me:Ie.key)||null,re(ae,ce,Ie,Ge);case P:return ce=ce.get(Ie.key===null?me:Ie.key)||null,pe(ae,ce,Ie,Ge);case J:var nt=Ie._init;return Ve(ce,ae,me,nt(Ie._payload),Ge)}if(oe(Ie)||H(Ie))return ce=ce.get(me)||null,Ce(ae,ce,Ie,Ge,null);Cy(ae,Ie)}return null}function $e(ce,ae,me,Ie){for(var Ge=null,nt=null,rt=ae,ut=ae=0,ir=null;rt!==null&&ut<me.length;ut++){rt.index>ut?(ir=rt,rt=null):ir=rt.sibling;var Rt=Ne(ce,rt,me[ut],Ie);if(Rt===null){rt===null&&(rt=ir);break}u&&rt&&Rt.alternate===null&&h(ce,rt),ae=M(Rt,ae,ut),nt===null?Ge=Rt:nt.sibling=Rt,nt=Rt,rt=ir}if(ut===me.length)return g(ce,rt),dn&&Mc(ce,ut),Ge;if(rt===null){for(;ut<me.length;ut++)rt=Te(ce,me[ut],Ie),rt!==null&&(ae=M(rt,ae,ut),nt===null?Ge=rt:nt.sibling=rt,nt=rt);return dn&&Mc(ce,ut),Ge}for(rt=w(ce,rt);ut<me.length;ut++)ir=Ve(rt,ce,ut,me[ut],Ie),ir!==null&&(u&&ir.alternate!==null&&rt.delete(ir.key===null?ut:ir.key),ae=M(ir,ae,ut),nt===null?Ge=ir:nt.sibling=ir,nt=ir);return u&&rt.forEach(function(vl){return h(ce,vl)}),dn&&Mc(ce,ut),Ge}function We(ce,ae,me,Ie){var Ge=H(me);if(typeof Ge!="function")throw Error(n(150));if(me=Ge.call(me),me==null)throw Error(n(151));for(var nt=Ge=null,rt=ae,ut=ae=0,ir=null,Rt=me.next();rt!==null&&!Rt.done;ut++,Rt=me.next()){rt.index>ut?(ir=rt,rt=null):ir=rt.sibling;var vl=Ne(ce,rt,Rt.value,Ie);if(vl===null){rt===null&&(rt=ir);break}u&&rt&&vl.alternate===null&&h(ce,rt),ae=M(vl,ae,ut),nt===null?Ge=vl:nt.sibling=vl,nt=vl,rt=ir}if(Rt.done)return g(ce,rt),dn&&Mc(ce,ut),Ge;if(rt===null){for(;!Rt.done;ut++,Rt=me.next())Rt=Te(ce,Rt.value,Ie),Rt!==null&&(ae=M(Rt,ae,ut),nt===null?Ge=Rt:nt.sibling=Rt,nt=Rt);return dn&&Mc(ce,ut),Ge}for(rt=w(ce,rt);!Rt.done;ut++,Rt=me.next())Rt=Ve(rt,ce,ut,Rt.value,Ie),Rt!==null&&(u&&Rt.alternate!==null&&rt.delete(Rt.key===null?ut:Rt.key),ae=M(Rt,ae,ut),nt===null?Ge=Rt:nt.sibling=Rt,nt=Rt);return u&&rt.forEach(function(GK){return h(ce,GK)}),dn&&Mc(ce,ut),Ge}function kn(ce,ae,me,Ie){if(typeof me=="object"&&me!==null&&me.type===C&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case I:e:{for(var Ge=me.key,nt=ae;nt!==null;){if(nt.key===Ge){if(Ge=me.type,Ge===C){if(nt.tag===7){g(ce,nt.sibling),ae=T(nt,me.props.children),ae.return=ce,ce=ae;break e}}else if(nt.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===J&&Kj(Ge)===nt.type){g(ce,nt.sibling),ae=T(nt,me.props),ae.ref=cm(ce,nt,me),ae.return=ce,ce=ae;break e}g(ce,nt);break}else h(ce,nt);nt=nt.sibling}me.type===C?(ae=qc(me.props.children,ce.mode,Ie,me.key),ae.return=ce,ce=ae):(Ie=Gy(me.type,me.key,me.props,null,ce.mode,Ie),Ie.ref=cm(ce,ae,me),Ie.return=ce,ce=Ie)}return W(ce);case P:e:{for(nt=me.key;ae!==null;){if(ae.key===nt)if(ae.tag===4&&ae.stateNode.containerInfo===me.containerInfo&&ae.stateNode.implementation===me.implementation){g(ce,ae.sibling),ae=T(ae,me.children||[]),ae.return=ce,ce=ae;break e}else{g(ce,ae);break}else h(ce,ae);ae=ae.sibling}ae=W1(me,ce.mode,Ie),ae.return=ce,ce=ae}return W(ce);case J:return nt=me._init,kn(ce,ae,nt(me._payload),Ie)}if(oe(me))return $e(ce,ae,me,Ie);if(H(me))return We(ce,ae,me,Ie);Cy(ce,me)}return typeof me=="string"&&me!==""||typeof me=="number"?(me=""+me,ae!==null&&ae.tag===6?(g(ce,ae.sibling),ae=T(ae,me),ae.return=ce,ce=ae):(g(ce,ae),ae=H1(me,ce.mode,Ie),ae.return=ce,ce=ae),W(ce)):g(ce,ae)}return kn}var Rd=Gj(!0),Xj=Gj(!1),Ey=ol(null),Sy=null,Dd=null,t1=null;function n1(){t1=Dd=Sy=null}function r1(u){var h=Ey.current;on(Ey),u._currentValue=h}function i1(u,h,g){for(;u!==null;){var w=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),u===g)break;u=u.return}}function Od(u,h){Sy=u,t1=Dd=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(oi=!0),u.firstContext=null)}function Zi(u){var h=u._currentValue;if(t1!==u)if(u={context:u,memoizedValue:h,next:null},Dd===null){if(Sy===null)throw Error(n(308));Dd=u,Sy.dependencies={lanes:0,firstContext:u}}else Dd=Dd.next=u;return h}var Lc=null;function s1(u){Lc===null?Lc=[u]:Lc.push(u)}function Yj(u,h,g,w){var T=h.interleaved;return T===null?(g.next=g,s1(h)):(g.next=T.next,T.next=g),h.interleaved=g,ao(u,w)}function ao(u,h){u.lanes|=h;var g=u.alternate;for(g!==null&&(g.lanes|=h),g=u,u=u.return;u!==null;)u.childLanes|=h,g=u.alternate,g!==null&&(g.childLanes|=h),g=u,u=u.return;return g.tag===3?g.stateNode:null}var ul=!1;function a1(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qj(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function oo(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function dl(u,h,g){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,(At&2)!==0){var T=w.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),w.pending=h,ao(u,g)}return T=w.interleaved,T===null?(h.next=h,s1(w)):(h.next=T.next,T.next=h),w.interleaved=h,ao(u,g)}function Ty(u,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194240)!==0)){var w=h.lanes;w&=u.pendingLanes,g|=w,h.lanes=g,qh(u,g)}}function Jj(u,h){var g=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var T=null,M=null;if(g=g.firstBaseUpdate,g!==null){do{var W={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};M===null?T=M=W:M=M.next=W,g=g.next}while(g!==null);M===null?T=M=h:M=M.next=h}else T=M=h;g={baseState:w.baseState,firstBaseUpdate:T,lastBaseUpdate:M,shared:w.shared,effects:w.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=h}function Py(u,h,g,w){var T=u.updateQueue;ul=!1;var M=T.firstBaseUpdate,W=T.lastBaseUpdate,ee=T.shared.pending;if(ee!==null){T.shared.pending=null;var re=ee,pe=re.next;re.next=null,W===null?M=pe:W.next=pe,W=re;var Ce=u.alternate;Ce!==null&&(Ce=Ce.updateQueue,ee=Ce.lastBaseUpdate,ee!==W&&(ee===null?Ce.firstBaseUpdate=pe:ee.next=pe,Ce.lastBaseUpdate=re))}if(M!==null){var Te=T.baseState;W=0,Ce=pe=re=null,ee=M;do{var Ne=ee.lane,Ve=ee.eventTime;if((w&Ne)===Ne){Ce!==null&&(Ce=Ce.next={eventTime:Ve,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var $e=u,We=ee;switch(Ne=h,Ve=g,We.tag){case 1:if($e=We.payload,typeof $e=="function"){Te=$e.call(Ve,Te,Ne);break e}Te=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=We.payload,Ne=typeof $e=="function"?$e.call(Ve,Te,Ne):$e,Ne==null)break e;Te=k({},Te,Ne);break e;case 2:ul=!0}}ee.callback!==null&&ee.lane!==0&&(u.flags|=64,Ne=T.effects,Ne===null?T.effects=[ee]:Ne.push(ee))}else Ve={eventTime:Ve,lane:Ne,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ce===null?(pe=Ce=Ve,re=Te):Ce=Ce.next=Ve,W|=Ne;if(ee=ee.next,ee===null){if(ee=T.shared.pending,ee===null)break;Ne=ee,ee=Ne.next,Ne.next=null,T.lastBaseUpdate=Ne,T.shared.pending=null}}while(!0);if(Ce===null&&(re=Te),T.baseState=re,T.firstBaseUpdate=pe,T.lastBaseUpdate=Ce,h=T.shared.interleaved,h!==null){T=h;do W|=T.lane,T=T.next;while(T!==h)}else M===null&&(T.shared.lanes=0);Bc|=W,u.lanes=W,u.memoizedState=Te}}function Zj(u,h,g){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var w=u[h],T=w.callback;if(T!==null){if(w.callback=null,w=g,typeof T!="function")throw Error(n(191,T));T.call(w)}}}var um={},ua=ol(um),dm=ol(um),fm=ol(um);function Vc(u){if(u===um)throw Error(n(174));return u}function o1(u,h){switch(Zt(fm,h),Zt(dm,u),Zt(ua,um),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:at(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=at(h,u)}on(ua),Zt(ua,h)}function Md(){on(ua),on(dm),on(fm)}function e2(u){Vc(fm.current);var h=Vc(ua.current),g=at(h,u.type);h!==g&&(Zt(dm,u),Zt(ua,g))}function l1(u){dm.current===u&&(on(ua),on(dm))}var yn=ol(0);function Ay(u){for(var h=u;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var c1=[];function u1(){for(var u=0;u<c1.length;u++)c1[u]._workInProgressVersionPrimary=null;c1.length=0}var Iy=z.ReactCurrentDispatcher,d1=z.ReactCurrentBatchConfig,Fc=0,vn=null,Hn=null,nr=null,jy=!1,hm=!1,mm=0,gK=0;function Dr(){throw Error(n(321))}function f1(u,h){if(h===null)return!1;for(var g=0;g<h.length&&g<u.length;g++)if(!xs(u[g],h[g]))return!1;return!0}function h1(u,h,g,w,T,M){if(Fc=M,vn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Iy.current=u===null||u.memoizedState===null?bK:wK,u=g(w,T),hm){M=0;do{if(hm=!1,mm=0,25<=M)throw Error(n(301));M+=1,nr=Hn=null,h.updateQueue=null,Iy.current=_K,u=g(w,T)}while(hm)}if(Iy.current=Dy,h=Hn!==null&&Hn.next!==null,Fc=0,nr=Hn=vn=null,jy=!1,h)throw Error(n(300));return u}function m1(){var u=mm!==0;return mm=0,u}function da(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?vn.memoizedState=nr=u:nr=nr.next=u,nr}function es(){if(Hn===null){var u=vn.alternate;u=u!==null?u.memoizedState:null}else u=Hn.next;var h=nr===null?vn.memoizedState:nr.next;if(h!==null)nr=h,Hn=u;else{if(u===null)throw Error(n(310));Hn=u,u={memoizedState:Hn.memoizedState,baseState:Hn.baseState,baseQueue:Hn.baseQueue,queue:Hn.queue,next:null},nr===null?vn.memoizedState=nr=u:nr=nr.next=u}return nr}function pm(u,h){return typeof h=="function"?h(u):h}function p1(u){var h=es(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var w=Hn,T=w.baseQueue,M=g.pending;if(M!==null){if(T!==null){var W=T.next;T.next=M.next,M.next=W}w.baseQueue=T=M,g.pending=null}if(T!==null){M=T.next,w=w.baseState;var ee=W=null,re=null,pe=M;do{var Ce=pe.lane;if((Fc&Ce)===Ce)re!==null&&(re=re.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),w=pe.hasEagerState?pe.eagerState:u(w,pe.action);else{var Te={lane:Ce,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};re===null?(ee=re=Te,W=w):re=re.next=Te,vn.lanes|=Ce,Bc|=Ce}pe=pe.next}while(pe!==null&&pe!==M);re===null?W=w:re.next=ee,xs(w,h.memoizedState)||(oi=!0),h.memoizedState=w,h.baseState=W,h.baseQueue=re,g.lastRenderedState=w}if(u=g.interleaved,u!==null){T=u;do M=T.lane,vn.lanes|=M,Bc|=M,T=T.next;while(T!==u)}else T===null&&(g.lanes=0);return[h.memoizedState,g.dispatch]}function g1(u){var h=es(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var w=g.dispatch,T=g.pending,M=h.memoizedState;if(T!==null){g.pending=null;var W=T=T.next;do M=u(M,W.action),W=W.next;while(W!==T);xs(M,h.memoizedState)||(oi=!0),h.memoizedState=M,h.baseQueue===null&&(h.baseState=M),g.lastRenderedState=M}return[M,w]}function t2(){}function n2(u,h){var g=vn,w=es(),T=h(),M=!xs(w.memoizedState,T);if(M&&(w.memoizedState=T,oi=!0),w=w.queue,y1(s2.bind(null,g,w,u),[u]),w.getSnapshot!==h||M||nr!==null&&nr.memoizedState.tag&1){if(g.flags|=2048,gm(9,i2.bind(null,g,w,T,h),void 0,null),rr===null)throw Error(n(349));(Fc&30)!==0||r2(g,h,T)}return T}function r2(u,h,g){u.flags|=16384,u={getSnapshot:h,value:g},h=vn.updateQueue,h===null?(h={lastEffect:null,stores:null},vn.updateQueue=h,h.stores=[u]):(g=h.stores,g===null?h.stores=[u]:g.push(u))}function i2(u,h,g,w){h.value=g,h.getSnapshot=w,a2(h)&&o2(u)}function s2(u,h,g){return g(function(){a2(h)&&o2(u)})}function a2(u){var h=u.getSnapshot;u=u.value;try{var g=h();return!xs(u,g)}catch{return!0}}function o2(u){var h=ao(u,1);h!==null&&Cs(h,u,1,-1)}function l2(u){var h=da();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pm,lastRenderedState:u},h.queue=u,u=u.dispatch=xK.bind(null,vn,u),[h.memoizedState,u]}function gm(u,h,g,w){return u={tag:u,create:h,destroy:g,deps:w,next:null},h=vn.updateQueue,h===null?(h={lastEffect:null,stores:null},vn.updateQueue=h,h.lastEffect=u.next=u):(g=h.lastEffect,g===null?h.lastEffect=u.next=u:(w=g.next,g.next=u,u.next=w,h.lastEffect=u)),u}function c2(){return es().memoizedState}function ky(u,h,g,w){var T=da();vn.flags|=u,T.memoizedState=gm(1|h,g,void 0,w===void 0?null:w)}function Ry(u,h,g,w){var T=es();w=w===void 0?null:w;var M=void 0;if(Hn!==null){var W=Hn.memoizedState;if(M=W.destroy,w!==null&&f1(w,W.deps)){T.memoizedState=gm(h,g,M,w);return}}vn.flags|=u,T.memoizedState=gm(1|h,g,M,w)}function u2(u,h){return ky(8390656,8,u,h)}function y1(u,h){return Ry(2048,8,u,h)}function d2(u,h){return Ry(4,2,u,h)}function f2(u,h){return Ry(4,4,u,h)}function h2(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function m2(u,h,g){return g=g!=null?g.concat([u]):null,Ry(4,4,h2.bind(null,h,u),g)}function v1(){}function p2(u,h){var g=es();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&f1(h,w[1])?w[0]:(g.memoizedState=[u,h],u)}function g2(u,h){var g=es();h=h===void 0?null:h;var w=g.memoizedState;return w!==null&&h!==null&&f1(h,w[1])?w[0]:(u=u(),g.memoizedState=[u,h],u)}function y2(u,h,g){return(Fc&21)===0?(u.baseState&&(u.baseState=!1,oi=!0),u.memoizedState=g):(xs(g,h)||(g=Uh(),vn.lanes|=g,Bc|=g,u.baseState=!0),h)}function yK(u,h){var g=St;St=g!==0&&4>g?g:4,u(!0);var w=d1.transition;d1.transition={};try{u(!1),h()}finally{St=g,d1.transition=w}}function v2(){return es().memoizedState}function vK(u,h,g){var w=pl(u);if(g={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null},x2(u))b2(h,g);else if(g=Yj(u,h,g,w),g!==null){var T=Gr();Cs(g,u,w,T),w2(g,h,w)}}function xK(u,h,g){var w=pl(u),T={lane:w,action:g,hasEagerState:!1,eagerState:null,next:null};if(x2(u))b2(h,T);else{var M=u.alternate;if(u.lanes===0&&(M===null||M.lanes===0)&&(M=h.lastRenderedReducer,M!==null))try{var W=h.lastRenderedState,ee=M(W,g);if(T.hasEagerState=!0,T.eagerState=ee,xs(ee,W)){var re=h.interleaved;re===null?(T.next=T,s1(h)):(T.next=re.next,re.next=T),h.interleaved=T;return}}catch{}g=Yj(u,h,T,w),g!==null&&(T=Gr(),Cs(g,u,w,T),w2(g,h,w))}}function x2(u){var h=u.alternate;return u===vn||h!==null&&h===vn}function b2(u,h){hm=jy=!0;var g=u.pending;g===null?h.next=h:(h.next=g.next,g.next=h),u.pending=h}function w2(u,h,g){if((g&4194240)!==0){var w=h.lanes;w&=u.pendingLanes,g|=w,h.lanes=g,qh(u,g)}}var Dy={readContext:Zi,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},bK={readContext:Zi,useCallback:function(u,h){return da().memoizedState=[u,h===void 0?null:h],u},useContext:Zi,useEffect:u2,useImperativeHandle:function(u,h,g){return g=g!=null?g.concat([u]):null,ky(4194308,4,h2.bind(null,h,u),g)},useLayoutEffect:function(u,h){return ky(4194308,4,u,h)},useInsertionEffect:function(u,h){return ky(4,2,u,h)},useMemo:function(u,h){var g=da();return h=h===void 0?null:h,u=u(),g.memoizedState=[u,h],u},useReducer:function(u,h,g){var w=da();return h=g!==void 0?g(h):h,w.memoizedState=w.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},w.queue=u,u=u.dispatch=vK.bind(null,vn,u),[w.memoizedState,u]},useRef:function(u){var h=da();return u={current:u},h.memoizedState=u},useState:l2,useDebugValue:v1,useDeferredValue:function(u){return da().memoizedState=u},useTransition:function(){var u=l2(!1),h=u[0];return u=yK.bind(null,u[1]),da().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,g){var w=vn,T=da();if(dn){if(g===void 0)throw Error(n(407));g=g()}else{if(g=h(),rr===null)throw Error(n(349));(Fc&30)!==0||r2(w,h,g)}T.memoizedState=g;var M={value:g,getSnapshot:h};return T.queue=M,u2(s2.bind(null,w,M,u),[u]),w.flags|=2048,gm(9,i2.bind(null,w,M,g,h),void 0,null),g},useId:function(){var u=da(),h=rr.identifierPrefix;if(dn){var g=so,w=io;g=(w&~(1<<32-Ii(w)-1)).toString(32)+g,h=":"+h+"R"+g,g=mm++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=gK++,h=":"+h+"r"+g.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},wK={readContext:Zi,useCallback:p2,useContext:Zi,useEffect:y1,useImperativeHandle:m2,useInsertionEffect:d2,useLayoutEffect:f2,useMemo:g2,useReducer:p1,useRef:c2,useState:function(){return p1(pm)},useDebugValue:v1,useDeferredValue:function(u){var h=es();return y2(h,Hn.memoizedState,u)},useTransition:function(){var u=p1(pm)[0],h=es().memoizedState;return[u,h]},useMutableSource:t2,useSyncExternalStore:n2,useId:v2,unstable_isNewReconciler:!1},_K={readContext:Zi,useCallback:p2,useContext:Zi,useEffect:y1,useImperativeHandle:m2,useInsertionEffect:d2,useLayoutEffect:f2,useMemo:g2,useReducer:g1,useRef:c2,useState:function(){return g1(pm)},useDebugValue:v1,useDeferredValue:function(u){var h=es();return Hn===null?h.memoizedState=u:y2(h,Hn.memoizedState,u)},useTransition:function(){var u=g1(pm)[0],h=es().memoizedState;return[u,h]},useMutableSource:t2,useSyncExternalStore:n2,useId:v2,unstable_isNewReconciler:!1};function ws(u,h){if(u&&u.defaultProps){h=k({},h),u=u.defaultProps;for(var g in u)h[g]===void 0&&(h[g]=u[g]);return h}return h}function x1(u,h,g,w){h=u.memoizedState,g=g(w,h),g=g==null?h:k({},h,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var Oy={isMounted:function(u){return(u=u._reactInternals)?ys(u)===u:!1},enqueueSetState:function(u,h,g){u=u._reactInternals;var w=Gr(),T=pl(u),M=oo(w,T);M.payload=h,g!=null&&(M.callback=g),h=dl(u,M,T),h!==null&&(Cs(h,u,T,w),Ty(h,u,T))},enqueueReplaceState:function(u,h,g){u=u._reactInternals;var w=Gr(),T=pl(u),M=oo(w,T);M.tag=1,M.payload=h,g!=null&&(M.callback=g),h=dl(u,M,T),h!==null&&(Cs(h,u,T,w),Ty(h,u,T))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var g=Gr(),w=pl(u),T=oo(g,w);T.tag=2,h!=null&&(T.callback=h),h=dl(u,T,w),h!==null&&(Cs(h,u,w,g),Ty(h,u,w))}};function _2(u,h,g,w,T,M,W){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(w,M,W):h.prototype&&h.prototype.isPureReactComponent?!nm(g,w)||!nm(T,M):!0}function N2(u,h,g){var w=!1,T=ll,M=h.contextType;return typeof M=="object"&&M!==null?M=Zi(M):(T=ai(h)?Dc:Rr.current,w=h.contextTypes,M=(w=w!=null)?Ad(u,T):ll),h=new h(g,M),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Oy,u.stateNode=h,h._reactInternals=u,w&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=T,u.__reactInternalMemoizedMaskedChildContext=M),h}function C2(u,h,g,w){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,w),h.state!==u&&Oy.enqueueReplaceState(h,h.state,null)}function b1(u,h,g,w){var T=u.stateNode;T.props=g,T.state=u.memoizedState,T.refs={},a1(u);var M=h.contextType;typeof M=="object"&&M!==null?T.context=Zi(M):(M=ai(h)?Dc:Rr.current,T.context=Ad(u,M)),T.state=u.memoizedState,M=h.getDerivedStateFromProps,typeof M=="function"&&(x1(u,h,M,g),T.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(h=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),h!==T.state&&Oy.enqueueReplaceState(T,T.state,null),Py(u,g,T,w),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308)}function Ld(u,h){try{var g="",w=h;do g+=te(w),w=w.return;while(w);var T=g}catch(M){T=`
Error generating stack: `+M.message+`
`+M.stack}return{value:u,source:h,stack:T,digest:null}}function w1(u,h,g){return{value:u,source:null,stack:g??null,digest:h??null}}function _1(u,h){try{console.error(h.value)}catch(g){setTimeout(function(){throw g})}}var NK=typeof WeakMap=="function"?WeakMap:Map;function E2(u,h,g){g=oo(-1,g),g.tag=3,g.payload={element:null};var w=h.value;return g.callback=function(){Uy||(Uy=!0,L1=w),_1(u,h)},g}function S2(u,h,g){g=oo(-1,g),g.tag=3;var w=u.type.getDerivedStateFromError;if(typeof w=="function"){var T=h.value;g.payload=function(){return w(T)},g.callback=function(){_1(u,h)}}var M=u.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(g.callback=function(){_1(u,h),typeof w!="function"&&(hl===null?hl=new Set([this]):hl.add(this));var W=h.stack;this.componentDidCatch(h.value,{componentStack:W!==null?W:""})}),g}function T2(u,h,g){var w=u.pingCache;if(w===null){w=u.pingCache=new NK;var T=new Set;w.set(h,T)}else T=w.get(h),T===void 0&&(T=new Set,w.set(h,T));T.has(g)||(T.add(g),u=LK.bind(null,u,h,g),h.then(u,u))}function P2(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function A2(u,h,g,w,T){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(h=oo(-1,1),h.tag=2,dl(g,h,1))),g.lanes|=1),u):(u.flags|=65536,u.lanes=T,u)}var CK=z.ReactCurrentOwner,oi=!1;function Kr(u,h,g,w){h.child=u===null?Xj(h,null,g,w):Rd(h,u.child,g,w)}function I2(u,h,g,w,T){g=g.render;var M=h.ref;return Od(h,T),w=h1(u,h,g,w,M,T),g=m1(),u!==null&&!oi?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~T,lo(u,h,T)):(dn&&g&&Yw(h),h.flags|=1,Kr(u,h,w,T),h.child)}function j2(u,h,g,w,T){if(u===null){var M=g.type;return typeof M=="function"&&!q1(M)&&M.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(h.tag=15,h.type=M,k2(u,h,M,w,T)):(u=Gy(g.type,null,w,h,h.mode,T),u.ref=h.ref,u.return=h,h.child=u)}if(M=u.child,(u.lanes&T)===0){var W=M.memoizedProps;if(g=g.compare,g=g!==null?g:nm,g(W,w)&&u.ref===h.ref)return lo(u,h,T)}return h.flags|=1,u=yl(M,w),u.ref=h.ref,u.return=h,h.child=u}function k2(u,h,g,w,T){if(u!==null){var M=u.memoizedProps;if(nm(M,w)&&u.ref===h.ref)if(oi=!1,h.pendingProps=w=M,(u.lanes&T)!==0)(u.flags&131072)!==0&&(oi=!0);else return h.lanes=u.lanes,lo(u,h,T)}return N1(u,h,g,w,T)}function R2(u,h,g){var w=h.pendingProps,T=w.children,M=u!==null?u.memoizedState:null;if(w.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(Fd,Li),Li|=g;else{if((g&1073741824)===0)return u=M!==null?M.baseLanes|g:g,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,Zt(Fd,Li),Li|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=M!==null?M.baseLanes:g,Zt(Fd,Li),Li|=w}else M!==null?(w=M.baseLanes|g,h.memoizedState=null):w=g,Zt(Fd,Li),Li|=w;return Kr(u,h,T,g),h.child}function D2(u,h){var g=h.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(h.flags|=512,h.flags|=2097152)}function N1(u,h,g,w,T){var M=ai(g)?Dc:Rr.current;return M=Ad(h,M),Od(h,T),g=h1(u,h,g,w,M,T),w=m1(),u!==null&&!oi?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~T,lo(u,h,T)):(dn&&w&&Yw(h),h.flags|=1,Kr(u,h,g,T),h.child)}function O2(u,h,g,w,T){if(ai(g)){var M=!0;xy(h)}else M=!1;if(Od(h,T),h.stateNode===null)Ly(u,h),N2(h,g,w),b1(h,g,w,T),w=!0;else if(u===null){var W=h.stateNode,ee=h.memoizedProps;W.props=ee;var re=W.context,pe=g.contextType;typeof pe=="object"&&pe!==null?pe=Zi(pe):(pe=ai(g)?Dc:Rr.current,pe=Ad(h,pe));var Ce=g.getDerivedStateFromProps,Te=typeof Ce=="function"||typeof W.getSnapshotBeforeUpdate=="function";Te||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ee!==w||re!==pe)&&C2(h,W,w,pe),ul=!1;var Ne=h.memoizedState;W.state=Ne,Py(h,w,W,T),re=h.memoizedState,ee!==w||Ne!==re||si.current||ul?(typeof Ce=="function"&&(x1(h,g,Ce,w),re=h.memoizedState),(ee=ul||_2(h,g,ee,w,Ne,re,pe))?(Te||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(h.flags|=4194308)):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=re),W.props=w,W.state=re,W.context=pe,w=ee):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{W=h.stateNode,Qj(u,h),ee=h.memoizedProps,pe=h.type===h.elementType?ee:ws(h.type,ee),W.props=pe,Te=h.pendingProps,Ne=W.context,re=g.contextType,typeof re=="object"&&re!==null?re=Zi(re):(re=ai(g)?Dc:Rr.current,re=Ad(h,re));var Ve=g.getDerivedStateFromProps;(Ce=typeof Ve=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ee!==Te||Ne!==re)&&C2(h,W,w,re),ul=!1,Ne=h.memoizedState,W.state=Ne,Py(h,w,W,T);var $e=h.memoizedState;ee!==Te||Ne!==$e||si.current||ul?(typeof Ve=="function"&&(x1(h,g,Ve,w),$e=h.memoizedState),(pe=ul||_2(h,g,pe,w,Ne,$e,re)||!1)?(Ce||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(w,$e,re),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(w,$e,re)),typeof W.componentDidUpdate=="function"&&(h.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof W.componentDidUpdate!="function"||ee===u.memoizedProps&&Ne===u.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&Ne===u.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=$e),W.props=w,W.state=$e,W.context=re,w=pe):(typeof W.componentDidUpdate!="function"||ee===u.memoizedProps&&Ne===u.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&Ne===u.memoizedState||(h.flags|=1024),w=!1)}return C1(u,h,g,w,M,T)}function C1(u,h,g,w,T,M){D2(u,h);var W=(h.flags&128)!==0;if(!w&&!W)return T&&Bj(h,g,!1),lo(u,h,M);w=h.stateNode,CK.current=h;var ee=W&&typeof g.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,u!==null&&W?(h.child=Rd(h,u.child,null,M),h.child=Rd(h,null,ee,M)):Kr(u,h,ee,M),h.memoizedState=w.state,T&&Bj(h,g,!0),h.child}function M2(u){var h=u.stateNode;h.pendingContext?Vj(u,h.pendingContext,h.pendingContext!==h.context):h.context&&Vj(u,h.context,!1),o1(u,h.containerInfo)}function L2(u,h,g,w,T){return kd(),e1(T),h.flags|=256,Kr(u,h,g,w),h.child}var E1={dehydrated:null,treeContext:null,retryLane:0};function S1(u){return{baseLanes:u,cachePool:null,transitions:null}}function V2(u,h,g){var w=h.pendingProps,T=yn.current,M=!1,W=(h.flags&128)!==0,ee;if((ee=W)||(ee=u!==null&&u.memoizedState===null?!1:(T&2)!==0),ee?(M=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(T|=1),Zt(yn,T&1),u===null)return Zw(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(W=w.children,u=w.fallback,M?(w=h.mode,M=h.child,W={mode:"hidden",children:W},(w&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=W):M=Xy(W,w,0,null),u=qc(u,w,g,null),M.return=h,u.return=h,M.sibling=u,h.child=M,h.child.memoizedState=S1(g),h.memoizedState=E1,u):T1(h,W));if(T=u.memoizedState,T!==null&&(ee=T.dehydrated,ee!==null))return EK(u,h,W,w,ee,T,g);if(M){M=w.fallback,W=h.mode,T=u.child,ee=T.sibling;var re={mode:"hidden",children:w.children};return(W&1)===0&&h.child!==T?(w=h.child,w.childLanes=0,w.pendingProps=re,h.deletions=null):(w=yl(T,re),w.subtreeFlags=T.subtreeFlags&14680064),ee!==null?M=yl(ee,M):(M=qc(M,W,g,null),M.flags|=2),M.return=h,w.return=h,w.sibling=M,h.child=w,w=M,M=h.child,W=u.child.memoizedState,W=W===null?S1(g):{baseLanes:W.baseLanes|g,cachePool:null,transitions:W.transitions},M.memoizedState=W,M.childLanes=u.childLanes&~g,h.memoizedState=E1,w}return M=u.child,u=M.sibling,w=yl(M,{mode:"visible",children:w.children}),(h.mode&1)===0&&(w.lanes=g),w.return=h,w.sibling=null,u!==null&&(g=h.deletions,g===null?(h.deletions=[u],h.flags|=16):g.push(u)),h.child=w,h.memoizedState=null,w}function T1(u,h){return h=Xy({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function My(u,h,g,w){return w!==null&&e1(w),Rd(h,u.child,null,g),u=T1(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function EK(u,h,g,w,T,M,W){if(g)return h.flags&256?(h.flags&=-257,w=w1(Error(n(422))),My(u,h,W,w)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(M=w.fallback,T=h.mode,w=Xy({mode:"visible",children:w.children},T,0,null),M=qc(M,T,W,null),M.flags|=2,w.return=h,M.return=h,w.sibling=M,h.child=w,(h.mode&1)!==0&&Rd(h,u.child,null,W),h.child.memoizedState=S1(W),h.memoizedState=E1,M);if((h.mode&1)===0)return My(u,h,W,null);if(T.data==="$!"){if(w=T.nextSibling&&T.nextSibling.dataset,w)var ee=w.dgst;return w=ee,M=Error(n(419)),w=w1(M,w,void 0),My(u,h,W,w)}if(ee=(W&u.childLanes)!==0,oi||ee){if(w=rr,w!==null){switch(W&-W){case 4:T=2;break;case 16:T=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:T=32;break;case 536870912:T=268435456;break;default:T=0}T=(T&(w.suspendedLanes|W))!==0?0:T,T!==0&&T!==M.retryLane&&(M.retryLane=T,ao(u,T),Cs(w,u,T,-1))}return $1(),w=w1(Error(n(421))),My(u,h,W,w)}return T.data==="$?"?(h.flags|=128,h.child=u.child,h=VK.bind(null,u),T._reactRetry=h,null):(u=M.treeContext,Mi=al(T.nextSibling),Oi=h,dn=!0,bs=null,u!==null&&(Qi[Ji++]=io,Qi[Ji++]=so,Qi[Ji++]=Oc,io=u.id,so=u.overflow,Oc=h),h=T1(h,w.children),h.flags|=4096,h)}function F2(u,h,g){u.lanes|=h;var w=u.alternate;w!==null&&(w.lanes|=h),i1(u.return,h,g)}function P1(u,h,g,w,T){var M=u.memoizedState;M===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:T}:(M.isBackwards=h,M.rendering=null,M.renderingStartTime=0,M.last=w,M.tail=g,M.tailMode=T)}function B2(u,h,g){var w=h.pendingProps,T=w.revealOrder,M=w.tail;if(Kr(u,h,w.children,g),w=yn.current,(w&2)!==0)w=w&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&F2(u,g,h);else if(u.tag===19)F2(u,g,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}w&=1}if(Zt(yn,w),(h.mode&1)===0)h.memoizedState=null;else switch(T){case"forwards":for(g=h.child,T=null;g!==null;)u=g.alternate,u!==null&&Ay(u)===null&&(T=g),g=g.sibling;g=T,g===null?(T=h.child,h.child=null):(T=g.sibling,g.sibling=null),P1(h,!1,T,g,M);break;case"backwards":for(g=null,T=h.child,h.child=null;T!==null;){if(u=T.alternate,u!==null&&Ay(u)===null){h.child=T;break}u=T.sibling,T.sibling=g,g=T,T=u}P1(h,!0,g,null,M);break;case"together":P1(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Ly(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function lo(u,h,g){if(u!==null&&(h.dependencies=u.dependencies),Bc|=h.lanes,(g&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,g=yl(u,u.pendingProps),h.child=g,g.return=h;u.sibling!==null;)u=u.sibling,g=g.sibling=yl(u,u.pendingProps),g.return=h;g.sibling=null}return h.child}function SK(u,h,g){switch(h.tag){case 3:M2(h),kd();break;case 5:e2(h);break;case 1:ai(h.type)&&xy(h);break;case 4:o1(h,h.stateNode.containerInfo);break;case 10:var w=h.type._context,T=h.memoizedProps.value;Zt(Ey,w._currentValue),w._currentValue=T;break;case 13:if(w=h.memoizedState,w!==null)return w.dehydrated!==null?(Zt(yn,yn.current&1),h.flags|=128,null):(g&h.child.childLanes)!==0?V2(u,h,g):(Zt(yn,yn.current&1),u=lo(u,h,g),u!==null?u.sibling:null);Zt(yn,yn.current&1);break;case 19:if(w=(g&h.childLanes)!==0,(u.flags&128)!==0){if(w)return B2(u,h,g);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),Zt(yn,yn.current),w)break;return null;case 22:case 23:return h.lanes=0,R2(u,h,g)}return lo(u,h,g)}var z2,A1,U2,$2;z2=function(u,h){for(var g=h.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},A1=function(){},U2=function(u,h,g,w){var T=u.memoizedProps;if(T!==w){u=h.stateNode,Vc(ua.current);var M=null;switch(g){case"input":T=De(u,T),w=De(u,w),M=[];break;case"select":T=k({},T,{value:void 0}),w=k({},w,{value:void 0}),M=[];break;case"textarea":T=Xe(u,T),w=Xe(u,w),M=[];break;default:typeof T.onClick!="function"&&typeof w.onClick=="function"&&(u.onclick=gy)}tr(g,w);var W;g=null;for(pe in T)if(!w.hasOwnProperty(pe)&&T.hasOwnProperty(pe)&&T[pe]!=null)if(pe==="style"){var ee=T[pe];for(W in ee)ee.hasOwnProperty(W)&&(g||(g={}),g[W]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(i.hasOwnProperty(pe)?M||(M=[]):(M=M||[]).push(pe,null));for(pe in w){var re=w[pe];if(ee=T?.[pe],w.hasOwnProperty(pe)&&re!==ee&&(re!=null||ee!=null))if(pe==="style")if(ee){for(W in ee)!ee.hasOwnProperty(W)||re&&re.hasOwnProperty(W)||(g||(g={}),g[W]="");for(W in re)re.hasOwnProperty(W)&&ee[W]!==re[W]&&(g||(g={}),g[W]=re[W])}else g||(M||(M=[]),M.push(pe,g)),g=re;else pe==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,ee=ee?ee.__html:void 0,re!=null&&ee!==re&&(M=M||[]).push(pe,re)):pe==="children"?typeof re!="string"&&typeof re!="number"||(M=M||[]).push(pe,""+re):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(pe)?(re!=null&&pe==="onScroll"&&an("scroll",u),M||ee===re||(M=[])):(M=M||[]).push(pe,re))}g&&(M=M||[]).push("style",g);var pe=M;(h.updateQueue=pe)&&(h.flags|=4)}},$2=function(u,h,g,w){g!==w&&(h.flags|=4)};function ym(u,h){if(!dn)switch(u.tailMode){case"hidden":h=u.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function Or(u){var h=u.alternate!==null&&u.alternate.child===u.child,g=0,w=0;if(h)for(var T=u.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags&14680064,w|=T.flags&14680064,T.return=u,T=T.sibling;else for(T=u.child;T!==null;)g|=T.lanes|T.childLanes,w|=T.subtreeFlags,w|=T.flags,T.return=u,T=T.sibling;return u.subtreeFlags|=w,u.childLanes=g,h}function TK(u,h,g){var w=h.pendingProps;switch(Qw(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(h),null;case 1:return ai(h.type)&&vy(),Or(h),null;case 3:return w=h.stateNode,Md(),on(si),on(Rr),u1(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(u===null||u.child===null)&&(Ny(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,bs!==null&&(B1(bs),bs=null))),A1(u,h),Or(h),null;case 5:l1(h);var T=Vc(fm.current);if(g=h.type,u!==null&&h.stateNode!=null)U2(u,h,g,w,T),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(n(166));return Or(h),null}if(u=Vc(ua.current),Ny(h)){w=h.stateNode,g=h.type;var M=h.memoizedProps;switch(w[ca]=h,w[om]=M,u=(h.mode&1)!==0,g){case"dialog":an("cancel",w),an("close",w);break;case"iframe":case"object":case"embed":an("load",w);break;case"video":case"audio":for(T=0;T<im.length;T++)an(im[T],w);break;case"source":an("error",w);break;case"img":case"image":case"link":an("error",w),an("load",w);break;case"details":an("toggle",w);break;case"input":Ze(w,M),an("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!M.multiple},an("invalid",w);break;case"textarea":de(w,M),an("invalid",w)}tr(g,M),T=null;for(var W in M)if(M.hasOwnProperty(W)){var ee=M[W];W==="children"?typeof ee=="string"?w.textContent!==ee&&(M.suppressHydrationWarning!==!0&&py(w.textContent,ee,u),T=["children",ee]):typeof ee=="number"&&w.textContent!==""+ee&&(M.suppressHydrationWarning!==!0&&py(w.textContent,ee,u),T=["children",""+ee]):i.hasOwnProperty(W)&&ee!=null&&W==="onScroll"&&an("scroll",w)}switch(g){case"input":Pe(w),yt(w,M,!0);break;case"textarea":Pe(w),ft(w);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(w.onclick=gy)}w=T,h.updateQueue=w,w!==null&&(h.flags|=4)}else{W=T.nodeType===9?T:T.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=st(g)),u==="http://www.w3.org/1999/xhtml"?g==="script"?(u=W.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof w.is=="string"?u=W.createElement(g,{is:w.is}):(u=W.createElement(g),g==="select"&&(W=u,w.multiple?W.multiple=!0:w.size&&(W.size=w.size))):u=W.createElementNS(u,g),u[ca]=h,u[om]=w,z2(u,h,!1,!1),h.stateNode=u;e:{switch(W=Jo(g,w),g){case"dialog":an("cancel",u),an("close",u),T=w;break;case"iframe":case"object":case"embed":an("load",u),T=w;break;case"video":case"audio":for(T=0;T<im.length;T++)an(im[T],u);T=w;break;case"source":an("error",u),T=w;break;case"img":case"image":case"link":an("error",u),an("load",u),T=w;break;case"details":an("toggle",u),T=w;break;case"input":Ze(u,w),T=De(u,w),an("invalid",u);break;case"option":T=w;break;case"select":u._wrapperState={wasMultiple:!!w.multiple},T=k({},w,{value:void 0}),an("invalid",u);break;case"textarea":de(u,w),T=Xe(u,w),an("invalid",u);break;default:T=w}tr(g,T),ee=T;for(M in ee)if(ee.hasOwnProperty(M)){var re=ee[M];M==="style"?Ti(u,re):M==="dangerouslySetInnerHTML"?(re=re?re.__html:void 0,re!=null&&Qt(u,re)):M==="children"?typeof re=="string"?(g!=="textarea"||re!=="")&&gr(u,re):typeof re=="number"&&gr(u,""+re):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(i.hasOwnProperty(M)?re!=null&&M==="onScroll"&&an("scroll",u):re!=null&&D(u,M,re,W))}switch(g){case"input":Pe(u),yt(u,w,!1);break;case"textarea":Pe(u),ft(u);break;case"option":w.value!=null&&u.setAttribute("value",""+be(w.value));break;case"select":u.multiple=!!w.multiple,M=w.value,M!=null?Ee(u,!!w.multiple,M,!1):w.defaultValue!=null&&Ee(u,!!w.multiple,w.defaultValue,!0);break;default:typeof T.onClick=="function"&&(u.onclick=gy)}switch(g){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Or(h),null;case 6:if(u&&h.stateNode!=null)$2(u,h,u.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(n(166));if(g=Vc(fm.current),Vc(ua.current),Ny(h)){if(w=h.stateNode,g=h.memoizedProps,w[ca]=h,(M=w.nodeValue!==g)&&(u=Oi,u!==null))switch(u.tag){case 3:py(w.nodeValue,g,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&py(w.nodeValue,g,(u.mode&1)!==0)}M&&(h.flags|=4)}else w=(g.nodeType===9?g:g.ownerDocument).createTextNode(w),w[ca]=h,h.stateNode=w}return Or(h),null;case 13:if(on(yn),w=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(dn&&Mi!==null&&(h.mode&1)!==0&&(h.flags&128)===0)Wj(),kd(),h.flags|=98560,M=!1;else if(M=Ny(h),w!==null&&w.dehydrated!==null){if(u===null){if(!M)throw Error(n(318));if(M=h.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(n(317));M[ca]=h}else kd(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Or(h),M=!1}else bs!==null&&(B1(bs),bs=null),M=!0;if(!M)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=g,h):(w=w!==null,w!==(u!==null&&u.memoizedState!==null)&&w&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(yn.current&1)!==0?Wn===0&&(Wn=3):$1())),h.updateQueue!==null&&(h.flags|=4),Or(h),null);case 4:return Md(),A1(u,h),u===null&&sm(h.stateNode.containerInfo),Or(h),null;case 10:return r1(h.type._context),Or(h),null;case 17:return ai(h.type)&&vy(),Or(h),null;case 19:if(on(yn),M=h.memoizedState,M===null)return Or(h),null;if(w=(h.flags&128)!==0,W=M.rendering,W===null)if(w)ym(M,!1);else{if(Wn!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(W=Ay(u),W!==null){for(h.flags|=128,ym(M,!1),w=W.updateQueue,w!==null&&(h.updateQueue=w,h.flags|=4),h.subtreeFlags=0,w=g,g=h.child;g!==null;)M=g,u=w,M.flags&=14680066,W=M.alternate,W===null?(M.childLanes=0,M.lanes=u,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=W.childLanes,M.lanes=W.lanes,M.child=W.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=W.memoizedProps,M.memoizedState=W.memoizedState,M.updateQueue=W.updateQueue,M.type=W.type,u=W.dependencies,M.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),g=g.sibling;return Zt(yn,yn.current&1|2),h.child}u=u.sibling}M.tail!==null&&sn()>Bd&&(h.flags|=128,w=!0,ym(M,!1),h.lanes=4194304)}else{if(!w)if(u=Ay(W),u!==null){if(h.flags|=128,w=!0,g=u.updateQueue,g!==null&&(h.updateQueue=g,h.flags|=4),ym(M,!0),M.tail===null&&M.tailMode==="hidden"&&!W.alternate&&!dn)return Or(h),null}else 2*sn()-M.renderingStartTime>Bd&&g!==1073741824&&(h.flags|=128,w=!0,ym(M,!1),h.lanes=4194304);M.isBackwards?(W.sibling=h.child,h.child=W):(g=M.last,g!==null?g.sibling=W:h.child=W,M.last=W)}return M.tail!==null?(h=M.tail,M.rendering=h,M.tail=h.sibling,M.renderingStartTime=sn(),h.sibling=null,g=yn.current,Zt(yn,w?g&1|2:g&1),h):(Or(h),null);case 22:case 23:return U1(),w=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==w&&(h.flags|=8192),w&&(h.mode&1)!==0?(Li&1073741824)!==0&&(Or(h),h.subtreeFlags&6&&(h.flags|=8192)):Or(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function PK(u,h){switch(Qw(h),h.tag){case 1:return ai(h.type)&&vy(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Md(),on(si),on(Rr),u1(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return l1(h),null;case 13:if(on(yn),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));kd()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return on(yn),null;case 4:return Md(),null;case 10:return r1(h.type._context),null;case 22:case 23:return U1(),null;case 24:return null;default:return null}}var Vy=!1,Mr=!1,AK=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Vd(u,h){var g=u.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(w){En(u,h,w)}else g.current=null}function I1(u,h,g){try{g()}catch(w){En(u,h,w)}}var q2=!1;function IK(u,h){if(Uw=Za,u=_j(),Dw(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var T=w.anchorOffset,M=w.focusNode;w=w.focusOffset;try{g.nodeType,M.nodeType}catch{g=null;break e}var W=0,ee=-1,re=-1,pe=0,Ce=0,Te=u,Ne=null;t:for(;;){for(var Ve;Te!==g||T!==0&&Te.nodeType!==3||(ee=W+T),Te!==M||w!==0&&Te.nodeType!==3||(re=W+w),Te.nodeType===3&&(W+=Te.nodeValue.length),(Ve=Te.firstChild)!==null;)Ne=Te,Te=Ve;for(;;){if(Te===u)break t;if(Ne===g&&++pe===T&&(ee=W),Ne===M&&++Ce===w&&(re=W),(Ve=Te.nextSibling)!==null)break;Te=Ne,Ne=Te.parentNode}Te=Ve}g=ee===-1||re===-1?null:{start:ee,end:re}}else g=null}g=g||{start:0,end:0}}else g=null;for($w={focusedElem:u,selectionRange:g},Za=!1,ze=h;ze!==null;)if(h=ze,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,ze=u;else for(;ze!==null;){h=ze;try{var $e=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if($e!==null){var We=$e.memoizedProps,kn=$e.memoizedState,ce=h.stateNode,ae=ce.getSnapshotBeforeUpdate(h.elementType===h.type?We:ws(h.type,We),kn);ce.__reactInternalSnapshotBeforeUpdate=ae}break;case 3:var me=h.stateNode.containerInfo;me.nodeType===1?me.textContent="":me.nodeType===9&&me.documentElement&&me.removeChild(me.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ie){En(h,h.return,Ie)}if(u=h.sibling,u!==null){u.return=h.return,ze=u;break}ze=h.return}return $e=q2,q2=!1,$e}function vm(u,h,g){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var T=w=w.next;do{if((T.tag&u)===u){var M=T.destroy;T.destroy=void 0,M!==void 0&&I1(h,g,M)}T=T.next}while(T!==w)}}function Fy(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&u)===u){var w=g.create;g.destroy=w()}g=g.next}while(g!==h)}}function j1(u){var h=u.ref;if(h!==null){var g=u.stateNode;u.tag,u=g,typeof h=="function"?h(u):h.current=u}}function H2(u){var h=u.alternate;h!==null&&(u.alternate=null,H2(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[ca],delete h[om],delete h[Kw],delete h[fK],delete h[hK])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function W2(u){return u.tag===5||u.tag===3||u.tag===4}function K2(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||W2(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function k1(u,h,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(u,h):g.insertBefore(u,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(u,g)):(h=g,h.appendChild(u)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=gy));else if(w!==4&&(u=u.child,u!==null))for(k1(u,h,g),u=u.sibling;u!==null;)k1(u,h,g),u=u.sibling}function R1(u,h,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,h?g.insertBefore(u,h):g.appendChild(u);else if(w!==4&&(u=u.child,u!==null))for(R1(u,h,g),u=u.sibling;u!==null;)R1(u,h,g),u=u.sibling}var xr=null,_s=!1;function fl(u,h,g){for(g=g.child;g!==null;)G2(u,h,g),g=g.sibling}function G2(u,h,g){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(Cc,g)}catch{}switch(g.tag){case 5:Mr||Vd(g,h);case 6:var w=xr,T=_s;xr=null,fl(u,h,g),xr=w,_s=T,xr!==null&&(_s?(u=xr,g=g.stateNode,u.nodeType===8?u.parentNode.removeChild(g):u.removeChild(g)):xr.removeChild(g.stateNode));break;case 18:xr!==null&&(_s?(u=xr,g=g.stateNode,u.nodeType===8?Ww(u.parentNode,g):u.nodeType===1&&Ww(u,g),nl(u)):Ww(xr,g.stateNode));break;case 4:w=xr,T=_s,xr=g.stateNode.containerInfo,_s=!0,fl(u,h,g),xr=w,_s=T;break;case 0:case 11:case 14:case 15:if(!Mr&&(w=g.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){T=w=w.next;do{var M=T,W=M.destroy;M=M.tag,W!==void 0&&((M&2)!==0||(M&4)!==0)&&I1(g,h,W),T=T.next}while(T!==w)}fl(u,h,g);break;case 1:if(!Mr&&(Vd(g,h),w=g.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=g.memoizedProps,w.state=g.memoizedState,w.componentWillUnmount()}catch(ee){En(g,h,ee)}fl(u,h,g);break;case 21:fl(u,h,g);break;case 22:g.mode&1?(Mr=(w=Mr)||g.memoizedState!==null,fl(u,h,g),Mr=w):fl(u,h,g);break;default:fl(u,h,g)}}function X2(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new AK),h.forEach(function(w){var T=FK.bind(null,u,w);g.has(w)||(g.add(w),w.then(T,T))})}}function Ns(u,h){var g=h.deletions;if(g!==null)for(var w=0;w<g.length;w++){var T=g[w];try{var M=u,W=h,ee=W;e:for(;ee!==null;){switch(ee.tag){case 5:xr=ee.stateNode,_s=!1;break e;case 3:xr=ee.stateNode.containerInfo,_s=!0;break e;case 4:xr=ee.stateNode.containerInfo,_s=!0;break e}ee=ee.return}if(xr===null)throw Error(n(160));G2(M,W,T),xr=null,_s=!1;var re=T.alternate;re!==null&&(re.return=null),T.return=null}catch(pe){En(T,h,pe)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)Y2(h,u),h=h.sibling}function Y2(u,h){var g=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Ns(h,u),fa(u),w&4){try{vm(3,u,u.return),Fy(3,u)}catch(We){En(u,u.return,We)}try{vm(5,u,u.return)}catch(We){En(u,u.return,We)}}break;case 1:Ns(h,u),fa(u),w&512&&g!==null&&Vd(g,g.return);break;case 5:if(Ns(h,u),fa(u),w&512&&g!==null&&Vd(g,g.return),u.flags&32){var T=u.stateNode;try{gr(T,"")}catch(We){En(u,u.return,We)}}if(w&4&&(T=u.stateNode,T!=null)){var M=u.memoizedProps,W=g!==null?g.memoizedProps:M,ee=u.type,re=u.updateQueue;if(u.updateQueue=null,re!==null)try{ee==="input"&&M.type==="radio"&&M.name!=null&&ct(T,M),Jo(ee,W);var pe=Jo(ee,M);for(W=0;W<re.length;W+=2){var Ce=re[W],Te=re[W+1];Ce==="style"?Ti(T,Te):Ce==="dangerouslySetInnerHTML"?Qt(T,Te):Ce==="children"?gr(T,Te):D(T,Ce,Te,pe)}switch(ee){case"input":Be(T,M);break;case"textarea":Ke(T,M);break;case"select":var Ne=T._wrapperState.wasMultiple;T._wrapperState.wasMultiple=!!M.multiple;var Ve=M.value;Ve!=null?Ee(T,!!M.multiple,Ve,!1):Ne!==!!M.multiple&&(M.defaultValue!=null?Ee(T,!!M.multiple,M.defaultValue,!0):Ee(T,!!M.multiple,M.multiple?[]:"",!1))}T[om]=M}catch(We){En(u,u.return,We)}}break;case 6:if(Ns(h,u),fa(u),w&4){if(u.stateNode===null)throw Error(n(162));T=u.stateNode,M=u.memoizedProps;try{T.nodeValue=M}catch(We){En(u,u.return,We)}}break;case 3:if(Ns(h,u),fa(u),w&4&&g!==null&&g.memoizedState.isDehydrated)try{nl(h.containerInfo)}catch(We){En(u,u.return,We)}break;case 4:Ns(h,u),fa(u);break;case 13:Ns(h,u),fa(u),T=u.child,T.flags&8192&&(M=T.memoizedState!==null,T.stateNode.isHidden=M,!M||T.alternate!==null&&T.alternate.memoizedState!==null||(M1=sn())),w&4&&X2(u);break;case 22:if(Ce=g!==null&&g.memoizedState!==null,u.mode&1?(Mr=(pe=Mr)||Ce,Ns(h,u),Mr=pe):Ns(h,u),fa(u),w&8192){if(pe=u.memoizedState!==null,(u.stateNode.isHidden=pe)&&!Ce&&(u.mode&1)!==0)for(ze=u,Ce=u.child;Ce!==null;){for(Te=ze=Ce;ze!==null;){switch(Ne=ze,Ve=Ne.child,Ne.tag){case 0:case 11:case 14:case 15:vm(4,Ne,Ne.return);break;case 1:Vd(Ne,Ne.return);var $e=Ne.stateNode;if(typeof $e.componentWillUnmount=="function"){w=Ne,g=Ne.return;try{h=w,$e.props=h.memoizedProps,$e.state=h.memoizedState,$e.componentWillUnmount()}catch(We){En(w,g,We)}}break;case 5:Vd(Ne,Ne.return);break;case 22:if(Ne.memoizedState!==null){Z2(Te);continue}}Ve!==null?(Ve.return=Ne,ze=Ve):Z2(Te)}Ce=Ce.sibling}e:for(Ce=null,Te=u;;){if(Te.tag===5){if(Ce===null){Ce=Te;try{T=Te.stateNode,pe?(M=T.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(ee=Te.stateNode,re=Te.memoizedProps.style,W=re!=null&&re.hasOwnProperty("display")?re.display:null,ee.style.display=Wr("display",W))}catch(We){En(u,u.return,We)}}}else if(Te.tag===6){if(Ce===null)try{Te.stateNode.nodeValue=pe?"":Te.memoizedProps}catch(We){En(u,u.return,We)}}else if((Te.tag!==22&&Te.tag!==23||Te.memoizedState===null||Te===u)&&Te.child!==null){Te.child.return=Te,Te=Te.child;continue}if(Te===u)break e;for(;Te.sibling===null;){if(Te.return===null||Te.return===u)break e;Ce===Te&&(Ce=null),Te=Te.return}Ce===Te&&(Ce=null),Te.sibling.return=Te.return,Te=Te.sibling}}break;case 19:Ns(h,u),fa(u),w&4&&X2(u);break;case 21:break;default:Ns(h,u),fa(u)}}function fa(u){var h=u.flags;if(h&2){try{e:{for(var g=u.return;g!==null;){if(W2(g)){var w=g;break e}g=g.return}throw Error(n(160))}switch(w.tag){case 5:var T=w.stateNode;w.flags&32&&(gr(T,""),w.flags&=-33);var M=K2(u);R1(u,M,T);break;case 3:case 4:var W=w.stateNode.containerInfo,ee=K2(u);k1(u,ee,W);break;default:throw Error(n(161))}}catch(re){En(u,u.return,re)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function jK(u,h,g){ze=u,Q2(u)}function Q2(u,h,g){for(var w=(u.mode&1)!==0;ze!==null;){var T=ze,M=T.child;if(T.tag===22&&w){var W=T.memoizedState!==null||Vy;if(!W){var ee=T.alternate,re=ee!==null&&ee.memoizedState!==null||Mr;ee=Vy;var pe=Mr;if(Vy=W,(Mr=re)&&!pe)for(ze=T;ze!==null;)W=ze,re=W.child,W.tag===22&&W.memoizedState!==null?ek(T):re!==null?(re.return=W,ze=re):ek(T);for(;M!==null;)ze=M,Q2(M),M=M.sibling;ze=T,Vy=ee,Mr=pe}J2(u)}else(T.subtreeFlags&8772)!==0&&M!==null?(M.return=T,ze=M):J2(u)}}function J2(u){for(;ze!==null;){var h=ze;if((h.flags&8772)!==0){var g=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Mr||Fy(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!Mr)if(g===null)w.componentDidMount();else{var T=h.elementType===h.type?g.memoizedProps:ws(h.type,g.memoizedProps);w.componentDidUpdate(T,g.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var M=h.updateQueue;M!==null&&Zj(h,M,w);break;case 3:var W=h.updateQueue;if(W!==null){if(g=null,h.child!==null)switch(h.child.tag){case 5:g=h.child.stateNode;break;case 1:g=h.child.stateNode}Zj(h,W,g)}break;case 5:var ee=h.stateNode;if(g===null&&h.flags&4){g=ee;var re=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":re.autoFocus&&g.focus();break;case"img":re.src&&(g.src=re.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var pe=h.alternate;if(pe!==null){var Ce=pe.memoizedState;if(Ce!==null){var Te=Ce.dehydrated;Te!==null&&nl(Te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Mr||h.flags&512&&j1(h)}catch(Ne){En(h,h.return,Ne)}}if(h===u){ze=null;break}if(g=h.sibling,g!==null){g.return=h.return,ze=g;break}ze=h.return}}function Z2(u){for(;ze!==null;){var h=ze;if(h===u){ze=null;break}var g=h.sibling;if(g!==null){g.return=h.return,ze=g;break}ze=h.return}}function ek(u){for(;ze!==null;){var h=ze;try{switch(h.tag){case 0:case 11:case 15:var g=h.return;try{Fy(4,h)}catch(re){En(h,g,re)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var T=h.return;try{w.componentDidMount()}catch(re){En(h,T,re)}}var M=h.return;try{j1(h)}catch(re){En(h,M,re)}break;case 5:var W=h.return;try{j1(h)}catch(re){En(h,W,re)}}}catch(re){En(h,h.return,re)}if(h===u){ze=null;break}var ee=h.sibling;if(ee!==null){ee.return=h.return,ze=ee;break}ze=h.return}}var kK=Math.ceil,By=z.ReactCurrentDispatcher,D1=z.ReactCurrentOwner,ts=z.ReactCurrentBatchConfig,At=0,rr=null,Fn=null,br=0,Li=0,Fd=ol(0),Wn=0,xm=null,Bc=0,zy=0,O1=0,bm=null,li=null,M1=0,Bd=1/0,co=null,Uy=!1,L1=null,hl=null,$y=!1,ml=null,qy=0,wm=0,V1=null,Hy=-1,Wy=0;function Gr(){return(At&6)!==0?sn():Hy!==-1?Hy:Hy=sn()}function pl(u){return(u.mode&1)===0?1:(At&2)!==0&&br!==0?br&-br:pK.transition!==null?(Wy===0&&(Wy=Uh()),Wy):(u=St,u!==0||(u=window.event,u=u===void 0?16:pd(u.type)),u)}function Cs(u,h,g,w){if(50<wm)throw wm=0,V1=null,Error(n(185));Pc(u,g,w),((At&2)===0||u!==rr)&&(u===rr&&((At&2)===0&&(zy|=g),Wn===4&&gl(u,br)),ci(u,w),g===1&&At===0&&(h.mode&1)===0&&(Bd=sn()+500,by&&cl()))}function ci(u,h){var g=u.callbackNode;Tc(u,h);var w=Ya(u,u===rr?br:0);if(w===0)g!==null&&ld(g),u.callbackNode=null,u.callbackPriority=0;else if(h=w&-w,u.callbackPriority!==h){if(g!=null&&ld(g),h===1)u.tag===0?mK(nk.bind(null,u)):zj(nk.bind(null,u)),uK(function(){(At&6)===0&&cl()}),g=null;else{switch(Zs(w)){case 1:g=cd;break;case 4:g=Fh;break;case 16:g=Nc;break;case 536870912:g=ud;break;default:g=Nc}g=uk(g,tk.bind(null,u))}u.callbackPriority=h,u.callbackNode=g}}function tk(u,h){if(Hy=-1,Wy=0,(At&6)!==0)throw Error(n(327));var g=u.callbackNode;if(zd()&&u.callbackNode!==g)return null;var w=Ya(u,u===rr?br:0);if(w===0)return null;if((w&30)!==0||(w&u.expiredLanes)!==0||h)h=Ky(u,w);else{h=w;var T=At;At|=2;var M=ik();(rr!==u||br!==h)&&(co=null,Bd=sn()+500,Uc(u,h));do try{OK();break}catch(ee){rk(u,ee)}while(!0);n1(),By.current=M,At=T,Fn!==null?h=0:(rr=null,br=0,h=Wn)}if(h!==0){if(h===2&&(T=zh(u),T!==0&&(w=T,h=F1(u,T))),h===1)throw g=xm,Uc(u,0),gl(u,w),ci(u,sn()),g;if(h===6)gl(u,w);else{if(T=u.current.alternate,(w&30)===0&&!RK(T)&&(h=Ky(u,w),h===2&&(M=zh(u),M!==0&&(w=M,h=F1(u,M))),h===1))throw g=xm,Uc(u,0),gl(u,w),ci(u,sn()),g;switch(u.finishedWork=T,u.finishedLanes=w,h){case 0:case 1:throw Error(n(345));case 2:$c(u,li,co);break;case 3:if(gl(u,w),(w&130023424)===w&&(h=M1+500-sn(),10<h)){if(Ya(u,0)!==0)break;if(T=u.suspendedLanes,(T&w)!==w){Gr(),u.pingedLanes|=u.suspendedLanes&T;break}u.timeoutHandle=Hw($c.bind(null,u,li,co),h);break}$c(u,li,co);break;case 4:if(gl(u,w),(w&4194240)===w)break;for(h=u.eventTimes,T=-1;0<w;){var W=31-Ii(w);M=1<<W,W=h[W],W>T&&(T=W),w&=~M}if(w=T,w=sn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*kK(w/1960))-w,10<w){u.timeoutHandle=Hw($c.bind(null,u,li,co),w);break}$c(u,li,co);break;case 5:$c(u,li,co);break;default:throw Error(n(329))}}}return ci(u,sn()),u.callbackNode===g?tk.bind(null,u):null}function F1(u,h){var g=bm;return u.current.memoizedState.isDehydrated&&(Uc(u,h).flags|=256),u=Ky(u,h),u!==2&&(h=li,li=g,h!==null&&B1(h)),u}function B1(u){li===null?li=u:li.push.apply(li,u)}function RK(u){for(var h=u;;){if(h.flags&16384){var g=h.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var w=0;w<g.length;w++){var T=g[w],M=T.getSnapshot;T=T.value;try{if(!xs(M(),T))return!1}catch{return!1}}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function gl(u,h){for(h&=~O1,h&=~zy,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var g=31-Ii(h),w=1<<g;u[g]=-1,h&=~w}}function nk(u){if((At&6)!==0)throw Error(n(327));zd();var h=Ya(u,0);if((h&1)===0)return ci(u,sn()),null;var g=Ky(u,h);if(u.tag!==0&&g===2){var w=zh(u);w!==0&&(h=w,g=F1(u,w))}if(g===1)throw g=xm,Uc(u,0),gl(u,h),ci(u,sn()),g;if(g===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,$c(u,li,co),ci(u,sn()),null}function z1(u,h){var g=At;At|=1;try{return u(h)}finally{At=g,At===0&&(Bd=sn()+500,by&&cl())}}function zc(u){ml!==null&&ml.tag===0&&(At&6)===0&&zd();var h=At;At|=1;var g=ts.transition,w=St;try{if(ts.transition=null,St=1,u)return u()}finally{St=w,ts.transition=g,At=h,(At&6)===0&&cl()}}function U1(){Li=Fd.current,on(Fd)}function Uc(u,h){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==-1&&(u.timeoutHandle=-1,cK(g)),Fn!==null)for(g=Fn.return;g!==null;){var w=g;switch(Qw(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&vy();break;case 3:Md(),on(si),on(Rr),u1();break;case 5:l1(w);break;case 4:Md();break;case 13:on(yn);break;case 19:on(yn);break;case 10:r1(w.type._context);break;case 22:case 23:U1()}g=g.return}if(rr=u,Fn=u=yl(u.current,null),br=Li=h,Wn=0,xm=null,O1=zy=Bc=0,li=bm=null,Lc!==null){for(h=0;h<Lc.length;h++)if(g=Lc[h],w=g.interleaved,w!==null){g.interleaved=null;var T=w.next,M=g.pending;if(M!==null){var W=M.next;M.next=T,w.next=W}g.pending=w}Lc=null}return u}function rk(u,h){do{var g=Fn;try{if(n1(),Iy.current=Dy,jy){for(var w=vn.memoizedState;w!==null;){var T=w.queue;T!==null&&(T.pending=null),w=w.next}jy=!1}if(Fc=0,nr=Hn=vn=null,hm=!1,mm=0,D1.current=null,g===null||g.return===null){Wn=1,xm=h,Fn=null;break}e:{var M=u,W=g.return,ee=g,re=h;if(h=br,ee.flags|=32768,re!==null&&typeof re=="object"&&typeof re.then=="function"){var pe=re,Ce=ee,Te=Ce.tag;if((Ce.mode&1)===0&&(Te===0||Te===11||Te===15)){var Ne=Ce.alternate;Ne?(Ce.updateQueue=Ne.updateQueue,Ce.memoizedState=Ne.memoizedState,Ce.lanes=Ne.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Ve=P2(W);if(Ve!==null){Ve.flags&=-257,A2(Ve,W,ee,M,h),Ve.mode&1&&T2(M,pe,h),h=Ve,re=pe;var $e=h.updateQueue;if($e===null){var We=new Set;We.add(re),h.updateQueue=We}else $e.add(re);break e}else{if((h&1)===0){T2(M,pe,h),$1();break e}re=Error(n(426))}}else if(dn&&ee.mode&1){var kn=P2(W);if(kn!==null){(kn.flags&65536)===0&&(kn.flags|=256),A2(kn,W,ee,M,h),e1(Ld(re,ee));break e}}M=re=Ld(re,ee),Wn!==4&&(Wn=2),bm===null?bm=[M]:bm.push(M),M=W;do{switch(M.tag){case 3:M.flags|=65536,h&=-h,M.lanes|=h;var ce=E2(M,re,h);Jj(M,ce);break e;case 1:ee=re;var ae=M.type,me=M.stateNode;if((M.flags&128)===0&&(typeof ae.getDerivedStateFromError=="function"||me!==null&&typeof me.componentDidCatch=="function"&&(hl===null||!hl.has(me)))){M.flags|=65536,h&=-h,M.lanes|=h;var Ie=S2(M,ee,h);Jj(M,Ie);break e}}M=M.return}while(M!==null)}ak(g)}catch(Ge){h=Ge,Fn===g&&g!==null&&(Fn=g=g.return);continue}break}while(!0)}function ik(){var u=By.current;return By.current=Dy,u===null?Dy:u}function $1(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),rr===null||(Bc&268435455)===0&&(zy&268435455)===0||gl(rr,br)}function Ky(u,h){var g=At;At|=2;var w=ik();(rr!==u||br!==h)&&(co=null,Uc(u,h));do try{DK();break}catch(T){rk(u,T)}while(!0);if(n1(),At=g,By.current=w,Fn!==null)throw Error(n(261));return rr=null,br=0,Wn}function DK(){for(;Fn!==null;)sk(Fn)}function OK(){for(;Fn!==null&&!_c();)sk(Fn)}function sk(u){var h=ck(u.alternate,u,Li);u.memoizedProps=u.pendingProps,h===null?ak(u):Fn=h,D1.current=null}function ak(u){var h=u;do{var g=h.alternate;if(u=h.return,(h.flags&32768)===0){if(g=TK(g,h,Li),g!==null){Fn=g;return}}else{if(g=PK(g,h),g!==null){g.flags&=32767,Fn=g;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Wn=6,Fn=null;return}}if(h=h.sibling,h!==null){Fn=h;return}Fn=h=u}while(h!==null);Wn===0&&(Wn=5)}function $c(u,h,g){var w=St,T=ts.transition;try{ts.transition=null,St=1,MK(u,h,g,w)}finally{ts.transition=T,St=w}return null}function MK(u,h,g,w){do zd();while(ml!==null);if((At&6)!==0)throw Error(n(327));g=u.finishedWork;var T=u.finishedLanes;if(g===null)return null;if(u.finishedWork=null,u.finishedLanes=0,g===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var M=g.lanes|g.childLanes;if(Aw(u,M),u===rr&&(Fn=rr=null,br=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||$y||($y=!0,uk(Nc,function(){return zd(),null})),M=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||M){M=ts.transition,ts.transition=null;var W=St;St=1;var ee=At;At|=4,D1.current=null,IK(u,g),Y2(g,u),nK($w),Za=!!Uw,$w=Uw=null,u.current=g,jK(g),Xa(),At=ee,St=W,ts.transition=M}else u.current=g;if($y&&($y=!1,ml=u,qy=T),M=u.pendingLanes,M===0&&(hl=null),ey(g.stateNode),ci(u,sn()),h!==null)for(w=u.onRecoverableError,g=0;g<h.length;g++)T=h[g],w(T.value,{componentStack:T.stack,digest:T.digest});if(Uy)throw Uy=!1,u=L1,L1=null,u;return(qy&1)!==0&&u.tag!==0&&zd(),M=u.pendingLanes,(M&1)!==0?u===V1?wm++:(wm=0,V1=u):wm=0,cl(),null}function zd(){if(ml!==null){var u=Zs(qy),h=ts.transition,g=St;try{if(ts.transition=null,St=16>u?16:u,ml===null)var w=!1;else{if(u=ml,ml=null,qy=0,(At&6)!==0)throw Error(n(331));var T=At;for(At|=4,ze=u.current;ze!==null;){var M=ze,W=M.child;if((ze.flags&16)!==0){var ee=M.deletions;if(ee!==null){for(var re=0;re<ee.length;re++){var pe=ee[re];for(ze=pe;ze!==null;){var Ce=ze;switch(Ce.tag){case 0:case 11:case 15:vm(8,Ce,M)}var Te=Ce.child;if(Te!==null)Te.return=Ce,ze=Te;else for(;ze!==null;){Ce=ze;var Ne=Ce.sibling,Ve=Ce.return;if(H2(Ce),Ce===pe){ze=null;break}if(Ne!==null){Ne.return=Ve,ze=Ne;break}ze=Ve}}}var $e=M.alternate;if($e!==null){var We=$e.child;if(We!==null){$e.child=null;do{var kn=We.sibling;We.sibling=null,We=kn}while(We!==null)}}ze=M}}if((M.subtreeFlags&2064)!==0&&W!==null)W.return=M,ze=W;else e:for(;ze!==null;){if(M=ze,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:vm(9,M,M.return)}var ce=M.sibling;if(ce!==null){ce.return=M.return,ze=ce;break e}ze=M.return}}var ae=u.current;for(ze=ae;ze!==null;){W=ze;var me=W.child;if((W.subtreeFlags&2064)!==0&&me!==null)me.return=W,ze=me;else e:for(W=ae;ze!==null;){if(ee=ze,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:Fy(9,ee)}}catch(Ge){En(ee,ee.return,Ge)}if(ee===W){ze=null;break e}var Ie=ee.sibling;if(Ie!==null){Ie.return=ee.return,ze=Ie;break e}ze=ee.return}}if(At=T,cl(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(Cc,u)}catch{}w=!0}return w}finally{St=g,ts.transition=h}}return!1}function ok(u,h,g){h=Ld(g,h),h=E2(u,h,1),u=dl(u,h,1),h=Gr(),u!==null&&(Pc(u,1,h),ci(u,h))}function En(u,h,g){if(u.tag===3)ok(u,u,g);else for(;h!==null;){if(h.tag===3){ok(h,u,g);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(hl===null||!hl.has(w))){u=Ld(g,u),u=S2(h,u,1),h=dl(h,u,1),u=Gr(),h!==null&&(Pc(h,1,u),ci(h,u));break}}h=h.return}}function LK(u,h,g){var w=u.pingCache;w!==null&&w.delete(h),h=Gr(),u.pingedLanes|=u.suspendedLanes&g,rr===u&&(br&g)===g&&(Wn===4||Wn===3&&(br&130023424)===br&&500>sn()-M1?Uc(u,0):O1|=g),ci(u,h)}function lk(u,h){h===0&&((u.mode&1)===0?h=1:(h=Zo,Zo<<=1,(Zo&130023424)===0&&(Zo=4194304)));var g=Gr();u=ao(u,h),u!==null&&(Pc(u,h,g),ci(u,g))}function VK(u){var h=u.memoizedState,g=0;h!==null&&(g=h.retryLane),lk(u,g)}function FK(u,h){var g=0;switch(u.tag){case 13:var w=u.stateNode,T=u.memoizedState;T!==null&&(g=T.retryLane);break;case 19:w=u.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(h),lk(u,g)}var ck;ck=function(u,h,g){if(u!==null)if(u.memoizedProps!==h.pendingProps||si.current)oi=!0;else{if((u.lanes&g)===0&&(h.flags&128)===0)return oi=!1,SK(u,h,g);oi=(u.flags&131072)!==0}else oi=!1,dn&&(h.flags&1048576)!==0&&Uj(h,_y,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;Ly(u,h),u=h.pendingProps;var T=Ad(h,Rr.current);Od(h,g),T=h1(null,h,w,u,T,g);var M=m1();return h.flags|=1,typeof T=="object"&&T!==null&&typeof T.render=="function"&&T.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,ai(w)?(M=!0,xy(h)):M=!1,h.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,a1(h),T.updater=Oy,h.stateNode=T,T._reactInternals=h,b1(h,w,u,g),h=C1(null,h,w,!0,M,g)):(h.tag=0,dn&&M&&Yw(h),Kr(null,h,T,g),h=h.child),h;case 16:w=h.elementType;e:{switch(Ly(u,h),u=h.pendingProps,T=w._init,w=T(w._payload),h.type=w,T=h.tag=zK(w),u=ws(w,u),T){case 0:h=N1(null,h,w,u,g);break e;case 1:h=O2(null,h,w,u,g);break e;case 11:h=I2(null,h,w,u,g);break e;case 14:h=j2(null,h,w,ws(w.type,u),g);break e}throw Error(n(306,w,""))}return h;case 0:return w=h.type,T=h.pendingProps,T=h.elementType===w?T:ws(w,T),N1(u,h,w,T,g);case 1:return w=h.type,T=h.pendingProps,T=h.elementType===w?T:ws(w,T),O2(u,h,w,T,g);case 3:e:{if(M2(h),u===null)throw Error(n(387));w=h.pendingProps,M=h.memoizedState,T=M.element,Qj(u,h),Py(h,w,null,g);var W=h.memoizedState;if(w=W.element,M.isDehydrated)if(M={element:w,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},h.updateQueue.baseState=M,h.memoizedState=M,h.flags&256){T=Ld(Error(n(423)),h),h=L2(u,h,w,g,T);break e}else if(w!==T){T=Ld(Error(n(424)),h),h=L2(u,h,w,g,T);break e}else for(Mi=al(h.stateNode.containerInfo.firstChild),Oi=h,dn=!0,bs=null,g=Xj(h,null,w,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(kd(),w===T){h=lo(u,h,g);break e}Kr(u,h,w,g)}h=h.child}return h;case 5:return e2(h),u===null&&Zw(h),w=h.type,T=h.pendingProps,M=u!==null?u.memoizedProps:null,W=T.children,qw(w,T)?W=null:M!==null&&qw(w,M)&&(h.flags|=32),D2(u,h),Kr(u,h,W,g),h.child;case 6:return u===null&&Zw(h),null;case 13:return V2(u,h,g);case 4:return o1(h,h.stateNode.containerInfo),w=h.pendingProps,u===null?h.child=Rd(h,null,w,g):Kr(u,h,w,g),h.child;case 11:return w=h.type,T=h.pendingProps,T=h.elementType===w?T:ws(w,T),I2(u,h,w,T,g);case 7:return Kr(u,h,h.pendingProps,g),h.child;case 8:return Kr(u,h,h.pendingProps.children,g),h.child;case 12:return Kr(u,h,h.pendingProps.children,g),h.child;case 10:e:{if(w=h.type._context,T=h.pendingProps,M=h.memoizedProps,W=T.value,Zt(Ey,w._currentValue),w._currentValue=W,M!==null)if(xs(M.value,W)){if(M.children===T.children&&!si.current){h=lo(u,h,g);break e}}else for(M=h.child,M!==null&&(M.return=h);M!==null;){var ee=M.dependencies;if(ee!==null){W=M.child;for(var re=ee.firstContext;re!==null;){if(re.context===w){if(M.tag===1){re=oo(-1,g&-g),re.tag=2;var pe=M.updateQueue;if(pe!==null){pe=pe.shared;var Ce=pe.pending;Ce===null?re.next=re:(re.next=Ce.next,Ce.next=re),pe.pending=re}}M.lanes|=g,re=M.alternate,re!==null&&(re.lanes|=g),i1(M.return,g,h),ee.lanes|=g;break}re=re.next}}else if(M.tag===10)W=M.type===h.type?null:M.child;else if(M.tag===18){if(W=M.return,W===null)throw Error(n(341));W.lanes|=g,ee=W.alternate,ee!==null&&(ee.lanes|=g),i1(W,g,h),W=M.sibling}else W=M.child;if(W!==null)W.return=M;else for(W=M;W!==null;){if(W===h){W=null;break}if(M=W.sibling,M!==null){M.return=W.return,W=M;break}W=W.return}M=W}Kr(u,h,T.children,g),h=h.child}return h;case 9:return T=h.type,w=h.pendingProps.children,Od(h,g),T=Zi(T),w=w(T),h.flags|=1,Kr(u,h,w,g),h.child;case 14:return w=h.type,T=ws(w,h.pendingProps),T=ws(w.type,T),j2(u,h,w,T,g);case 15:return k2(u,h,h.type,h.pendingProps,g);case 17:return w=h.type,T=h.pendingProps,T=h.elementType===w?T:ws(w,T),Ly(u,h),h.tag=1,ai(w)?(u=!0,xy(h)):u=!1,Od(h,g),N2(h,w,T),b1(h,w,T,g),C1(null,h,w,!0,u,g);case 19:return B2(u,h,g);case 22:return R2(u,h,g)}throw Error(n(156,h.tag))};function uk(u,h){return Vh(u,h)}function BK(u,h,g,w){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(u,h,g,w){return new BK(u,h,g,w)}function q1(u){return u=u.prototype,!(!u||!u.isReactComponent)}function zK(u){if(typeof u=="function")return q1(u)?1:0;if(u!=null){if(u=u.$$typeof,u===B)return 11;if(u===X)return 14}return 2}function yl(u,h){var g=u.alternate;return g===null?(g=ns(u.tag,h,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=h,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&14680064,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,h=u.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function Gy(u,h,g,w,T,M){var W=2;if(w=u,typeof u=="function")q1(u)&&(W=1);else if(typeof u=="string")W=5;else e:switch(u){case C:return qc(g.children,T,M,h);case E:W=8,T|=8;break;case A:return u=ns(12,g,h,T|2),u.elementType=A,u.lanes=M,u;case F:return u=ns(13,g,h,T),u.elementType=F,u.lanes=M,u;case U:return u=ns(19,g,h,T),u.elementType=U,u.lanes=M,u;case O:return Xy(g,T,M,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case j:W=10;break e;case V:W=9;break e;case B:W=11;break e;case X:W=14;break e;case J:W=16,w=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return h=ns(W,g,h,T),h.elementType=u,h.type=w,h.lanes=M,h}function qc(u,h,g,w){return u=ns(7,u,w,h),u.lanes=g,u}function Xy(u,h,g,w){return u=ns(22,u,w,h),u.elementType=O,u.lanes=g,u.stateNode={isHidden:!1},u}function H1(u,h,g){return u=ns(6,u,null,h),u.lanes=g,u}function W1(u,h,g){return h=ns(4,u.children!==null?u.children:[],u.key,h),h.lanes=g,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function UK(u,h,g,w,T){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$h(0),this.expirationTimes=$h(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$h(0),this.identifierPrefix=w,this.onRecoverableError=T,this.mutableSourceEagerHydrationData=null}function K1(u,h,g,w,T,M,W,ee,re){return u=new UK(u,h,g,ee,re),h===1?(h=1,M===!0&&(h|=8)):h=0,M=ns(3,null,null,h),u.current=M,M.stateNode=u,M.memoizedState={element:w,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},a1(M),u}function $K(u,h,g){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:w==null?null:""+w,children:u,containerInfo:h,implementation:g}}function dk(u){if(!u)return ll;u=u._reactInternals;e:{if(ys(u)!==u||u.tag!==1)throw Error(n(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(ai(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(u.tag===1){var g=u.type;if(ai(g))return Fj(u,g,h)}return h}function fk(u,h,g,w,T,M,W,ee,re){return u=K1(g,w,!0,u,T,M,W,ee,re),u.context=dk(null),g=u.current,w=Gr(),T=pl(g),M=oo(w,T),M.callback=h??null,dl(g,M,T),u.current.lanes=T,Pc(u,T,w),ci(u,w),u}function Yy(u,h,g,w){var T=h.current,M=Gr(),W=pl(T);return g=dk(g),h.context===null?h.context=g:h.pendingContext=g,h=oo(M,W),h.payload={element:u},w=w===void 0?null:w,w!==null&&(h.callback=w),u=dl(T,h,W),u!==null&&(Cs(u,T,W,M),Ty(u,T,W)),W}function Qy(u){return u=u.current,u.child?(u.child.tag===5,u.child.stateNode):null}function hk(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<h?g:h}}function G1(u,h){hk(u,h),(u=u.alternate)&&hk(u,h)}function qK(){return null}var mk=typeof reportError=="function"?reportError:function(u){console.error(u)};function X1(u){this._internalRoot=u}Jy.prototype.render=X1.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));Yy(u,h,null,null)},Jy.prototype.unmount=X1.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;zc(function(){Yy(null,u,null,null)}),h[no]=null}};function Jy(u){this._internalRoot=u}Jy.prototype.unstable_scheduleHydration=function(u){if(u){var h=Kh();u={blockedOn:null,target:u,priority:h};for(var g=0;g<ji.length&&h!==0&&h<ji[g].priority;g++);ji.splice(g,0,u),g===0&&hd(u)}};function Y1(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function Zy(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function pk(){}function HK(u,h,g,w,T){if(T){if(typeof w=="function"){var M=w;w=function(){var pe=Qy(W);M.call(pe)}}var W=fk(h,w,u,0,null,!1,!1,"",pk);return u._reactRootContainer=W,u[no]=W.current,sm(u.nodeType===8?u.parentNode:u),zc(),W}for(;T=u.lastChild;)u.removeChild(T);if(typeof w=="function"){var ee=w;w=function(){var pe=Qy(re);ee.call(pe)}}var re=K1(u,0,!1,null,null,!1,!1,"",pk);return u._reactRootContainer=re,u[no]=re.current,sm(u.nodeType===8?u.parentNode:u),zc(function(){Yy(h,re,g,w)}),re}function ev(u,h,g,w,T){var M=g._reactRootContainer;if(M){var W=M;if(typeof T=="function"){var ee=T;T=function(){var re=Qy(W);ee.call(re)}}Yy(h,W,u,T)}else W=HK(g,h,u,T,w);return Qy(W)}Hh=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var g=Ft(h.pendingLanes);g!==0&&(qh(h,g|1),ci(h,sn()),(At&6)===0&&(Bd=sn()+500,cl()))}break;case 13:zc(function(){var w=ao(u,1);if(w!==null){var T=Gr();Cs(w,u,1,T)}}),G1(u,1)}},dd=function(u){if(u.tag===13){var h=ao(u,134217728);if(h!==null){var g=Gr();Cs(h,u,134217728,g)}G1(u,134217728)}},Wh=function(u){if(u.tag===13){var h=pl(u),g=ao(u,h);if(g!==null){var w=Gr();Cs(g,u,h,w)}G1(u,h)}},Kh=function(){return St},Gh=function(u,h){var g=St;try{return St=u,h()}finally{St=g}},Gi=function(u,h,g){switch(h){case"input":if(Be(u,g),h=g.name,g.type==="radio"&&h!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<g.length;h++){var w=g[h];if(w!==u&&w.form===u.form){var T=yy(w);if(!T)throw Error(n(90));fe(w),Be(w,T)}}}break;case"textarea":Ke(u,g);break;case"select":h=g.value,h!=null&&Ee(u,!!g.multiple,h,!1)}},Pt=z1,zt=zc;var WK={usingClientEntryPoint:!1,Events:[lm,Td,yy,Xs,tt,z1]},_m={findFiberByHostInstance:Rc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KK={bundleType:_m.bundleType,version:_m.version,rendererPackageName:_m.rendererPackageName,rendererConfig:_m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Zg(u),u===null?null:u.stateNode},findFiberByHostInstance:_m.findFiberByHostInstance||qK,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tv.isDisabled&&tv.supportsFiber)try{Cc=tv.inject(KK),Ai=tv}catch{}}return ui.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WK,ui.createPortal=function(u,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Y1(h))throw Error(n(200));return $K(u,h,null,g)},ui.createRoot=function(u,h){if(!Y1(u))throw Error(n(299));var g=!1,w="",T=mk;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(w=h.identifierPrefix),h.onRecoverableError!==void 0&&(T=h.onRecoverableError)),h=K1(u,1,!1,null,null,g,!1,w,T),u[no]=h.current,sm(u.nodeType===8?u.parentNode:u),new X1(h)},ui.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Zg(h),u=u===null?null:u.stateNode,u},ui.flushSync=function(u){return zc(u)},ui.hydrate=function(u,h,g){if(!Zy(h))throw Error(n(200));return ev(null,u,h,!0,g)},ui.hydrateRoot=function(u,h,g){if(!Y1(u))throw Error(n(405));var w=g!=null&&g.hydratedSources||null,T=!1,M="",W=mk;if(g!=null&&(g.unstable_strictMode===!0&&(T=!0),g.identifierPrefix!==void 0&&(M=g.identifierPrefix),g.onRecoverableError!==void 0&&(W=g.onRecoverableError)),h=fk(h,null,u,1,g??null,T,!1,M,W),u[no]=h.current,sm(u),w)for(u=0;u<w.length;u++)g=w[u],T=g._getVersion,T=T(g._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[g,T]:h.mutableSourceEagerHydrationData.push(g,T);return new Jy(h)},ui.render=function(u,h,g){if(!Zy(h))throw Error(n(200));return ev(null,u,h,!1,g)},ui.unmountComponentAtNode=function(u){if(!Zy(u))throw Error(n(40));return u._reactRootContainer?(zc(function(){ev(null,null,u,!1,function(){u._reactRootContainer=null,u[no]=null})}),!0):!1},ui.unstable_batchedUpdates=z1,ui.unstable_renderSubtreeIntoContainer=function(u,h,g,w){if(!Zy(g))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return ev(u,h,g,!1,w)},ui.version="18.3.1-next-f1338f8080-20240426",ui}var Nk;function a6(){if(Nk)return Z1.exports;Nk=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Z1.exports=rG(),Z1.exports}var Ck;function iG(){if(Ck)return rv;Ck=1;var t=a6();return rv.createRoot=t.createRoot,rv.hydrateRoot=t.hydrateRoot,rv}var sG=iG();const aG=_i(sG);function oG(){const t=(navigator.language||navigator.languages?.[0]||"en").toLowerCase();return t.startsWith("pt")?{createAccount:"Criar conta",login:"Entrar",terms:"Ao se cadastrar, voc concorda com nossos Termos de Servio e Poltica de Privacidade."}:t.startsWith("es")?{createAccount:"Crear cuenta",login:"Iniciar sesin",terms:"Al registrarte, aceptas nuestros Trminos de Servicio y Poltica de Privacidad."}:{createAccount:"Create Account",login:"Login",terms:"By signing up, you agree to our Terms of Service and Privacy Policy."}}function Ek({onNavigate:t}){const e=oG(),n=()=>{console.log(" Boto de Login clicado no Welcome"),t("login")},r=()=>{console.log(" Boto de Criar Conta clicado no Welcome"),t("signup")},[i,s]=N.useState(!1),a=N.useRef(null);return N.useEffect(()=>{a.current&&a.current.play().then(()=>{s(!0)}).catch(l=>{console.error("Autoplay failed:",l)})},[]),o.jsxs("div",{className:"bg-black text-white overflow-hidden relative w-full h-screen",children:[o.jsx("div",{className:"fixed top-0 left-0 w-full h-full z-0 pointer-events-none bg-black",style:{}}),o.jsx("div",{className:`fixed top-0 left-0 w-full h-full z-0 overflow-hidden transition-opacity duration-1000 ${i?"opacity-100":"opacity-0"}`,children:o.jsx("video",{ref:a,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,"webkit-playsinline":"true",preload:"auto",controls:!1,onPlay:()=>s(!0),className:"w-full h-full object-cover",style:{filter:"brightness(0.6) contrast(1.1)"},children:o.jsx("source",{src:"/assets/videos/entrada.mp4",type:"video/mp4"})})}),o.jsx("div",{className:"fixed top-0 left-0 w-full h-full z-10 pointer-events-none opacity-0 animate-fadeIn",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0) 40%, rgba(0,0,0,0.8) 100%)",animationDelay:"0.2s"}}),o.jsxs("main",{className:"relative z-20 h-screen flex flex-col justify-between px-6 pb-12 pt-20",children:[o.jsxs("div",{className:"flex flex-col items-center text-center pt-[env(safe-area-inset-top)] opacity-0 animate-scaleIn",style:{animationDelay:"0.4s"},children:[o.jsxs("div",{className:"relative inline-block",children:[o.jsx("div",{className:"absolute inset-0 blur-3xl opacity-60",style:{background:"radial-gradient(circle, rgba(0, 212, 255, 0.4) 0%, rgba(123, 47, 247, 0.3) 50%, transparent 70%)"}}),o.jsx("h1",{className:"NexCoin-logo-text text-2xl font-normal tracking-widest uppercase",style:{fontFamily:"'Orbitron', sans-serif"},children:"Ethertron"})]}),o.jsx("p",{className:"mt-4 text-white/70 font-medium tracking-wide uppercase text-[10px]",children:"Future of Finance"})]}),o.jsx("div",{className:"flex-grow"}),o.jsxs("div",{className:"w-full max-w-sm mx-auto flex flex-col gap-3 items-center pb-[env(safe-area-inset-bottom)]",children:[o.jsx("button",{onClick:r,className:"w-full bg-white text-black font-bold py-3.5 px-6 rounded-full shadow-lg active:scale-[0.98] transition-all duration-200 text-base opacity-0 animate-slideUp",style:{animationDelay:"0.6s"},children:e.createAccount}),o.jsx("button",{onClick:n,className:"w-full py-3 text-white font-semibold active:opacity-60 transition-opacity duration-200 text-base bg-white/10 rounded-full opacity-0 animate-slideUp",style:{animationDelay:"0.8s"},children:e.login}),o.jsx("p",{className:"text-[10px] text-white/40 text-center mt-1 px-8 opacity-0 animate-fadeIn",style:{animationDelay:"1s"},children:e.terms})]})]})]})}const lG=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),o6=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var cG={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uG=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...l},c)=>N.createElement("svg",{ref:c,...cG,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:o6("lucide",i),...l},[...a.map(([d,f])=>N.createElement(d,f)),...Array.isArray(s)?s:[s]]));const Fe=(t,e)=>{const n=N.forwardRef(({className:r,...i},s)=>N.createElement(uG,{ref:s,iconNode:e,className:o6(`lucide-${lG(t)}`,r),...i}));return n.displayName=`${t}`,n};const zv=Fe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const aE=Fe("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);const dG=Fe("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);const yT=Fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const Uv=Fe("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const Nt=Fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const fG=Fe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);const hG=Fe("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const oE=Fe("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const vT=Fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const Sk=Fe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);const tp=Fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const xl=Fe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const mG=Fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const wn=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const wo=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const Gx=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const zr=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const pu=Fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const pG=Fe("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Xx=Fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const l6=Fe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const bp=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const Tk=Fe("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const xn=Fe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const xT=Fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);const gG=Fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const yG=Fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const vG=Fe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const xf=Fe("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const gu=Fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const c6=Fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const Pk=Fe("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const wp=Fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const xG=Fe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const bG=Fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);const wG=Fe("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);const jf=Fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const _G=Fe("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);const NG=Fe("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);const Ea=Fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const CG=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const kf=Fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const EG=Fe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const SG=Fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);const TG=Fe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const PG=Fe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const AG=Fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const Ak=Fe("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const Gl=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const IG=Fe("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const bT=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const u6=Fe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Xl=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const jG=Fe("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const kG=Fe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const d6=Fe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const Co=Fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const as=Fe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const n_=Fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const mo=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const Su=Fe("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const zi=Fe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const lE=Fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Ik=Fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const wT=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const f6=Fe("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);const RG=Fe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);const qr=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),DG=()=>{};var jk={};const h6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OG=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},m6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=s>>2,m=(s&3)<<4|l>>4;let p=(l&15)<<2|d>>6,y=d&63;c||(y=64,a||(p=64)),r.push(n[f],n[m],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(h6(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OG(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new MG;const p=s<<2|l>>4;if(r.push(p),d!==64){const y=l<<4&240|d>>2;if(r.push(y),m!==64){const x=d<<6&192|m;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class MG extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LG=function(t){const e=h6(t);return m6.encodeByteArray(e,!0)},v0=function(t){return LG(t).replace(/\./g,"")},p6=function(t){try{return m6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function g6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const VG=()=>g6().__FIREBASE_DEFAULTS__,FG=()=>{if(typeof process>"u"||typeof jk>"u")return;const t=jk.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BG=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&p6(t[1]);return e&&JSON.parse(e)},Yx=()=>{try{return DG()||VG()||FG()||BG()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},y6=t=>Yx()?.emulatorHosts?.[t],v6=t=>{const e=y6(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},x6=()=>Yx()?.config,b6=t=>Yx()?.[`_${t}`];class zG{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function uc(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Qx(t){return(await fetch(t,{credentials:"include"})).ok}function w6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[v0(JSON.stringify(n)),v0(JSON.stringify(a)),""].join(".")}const np={};function UG(){const t={prod:[],emulator:[]};for(const e of Object.keys(np))np[e]?t.emulator.push(e):t.prod.push(e);return t}function $G(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kk=!1;function _T(t,e){if(typeof window>"u"||typeof document>"u"||!uc(window.location.host)||np[t]===e||np[t]||kk)return;np[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=UG().prod.length>0;function a(){const p=document.getElementById(r);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{kk=!0,a()},p}function f(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=$G(r),y=n("text"),x=document.getElementById(y)||document.createElement("span"),b=n("learnmore"),_=document.getElementById(b)||document.createElement("a"),S=n("preprendIcon"),R=document.getElementById(S)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const D=p.element;l(D),f(_,b);const z=d();c(R,S),D.append(R,x,_,z),document.body.appendChild(D)}s?(x.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qG(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function _6(){const t=Yx()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HG(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function WG(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KG(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GG(){const t=Yn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function N6(){return!_6()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C6(){return!_6()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function E6(){try{return typeof indexedDB=="object"}catch{return!1}}function XG(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(n){e(n)}})}const YG="FirebaseError";class qa extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=YG,Object.setPrototypeOf(this,qa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sg.prototype.create)}}class sg{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?QG(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new qa(i,l,r)}}function QG(t,e){return t.replace(JG,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JG=/\{\$([^}]+)}/g;function ZG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zs(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(Rk(s)&&Rk(a)){if(!zs(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rk(t){return t!==null&&typeof t=="object"}function ag(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hm(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Wm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eX(t,e){const n=new tX(t,e);return n.subscribe.bind(n)}class tX{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");nX(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=r_),i.error===void 0&&(i.error=r_),i.complete===void 0&&(i.complete=r_);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nX(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function r_(){}function jt(t){return t&&t._delegate?t._delegate:t}class Yl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xc="[DEFAULT]";let rX=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zG;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sX(e))try{this.getOrInitializeService({instanceIdentifier:Xc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Xc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xc){return this.instances.has(e)}getOptions(e=Xc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iX(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xc){return this.component?this.component.multipleInstances?e:Xc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function iX(t){return t===Xc?void 0:t}function sX(t){return t.instantiationMode==="EAGER"}class aX{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rX(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ct;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ct||(Ct={}));const oX={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},lX=Ct.INFO,cX={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},uX=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=cX[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class NT{constructor(e){this.name=e,this._logLevel=lX,this._logHandler=uX,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ct))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oX[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...e),this._logHandler(this,Ct.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...e),this._logHandler(this,Ct.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...e),this._logHandler(this,Ct.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...e),this._logHandler(this,Ct.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...e),this._logHandler(this,Ct.ERROR,...e)}}const dX=(t,e)=>e.some(n=>t instanceof n);let Dk,Ok;function fX(){return Dk||(Dk=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hX(){return Ok||(Ok=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S6=new WeakMap,cE=new WeakMap,T6=new WeakMap,i_=new WeakMap,CT=new WeakMap;function mX(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Ul(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&S6.set(n,t)}).catch(()=>{}),CT.set(e,t),e}function pX(t){if(cE.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});cE.set(t,e)}let uE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||T6.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ul(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gX(t){uE=t(uE)}function yX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(s_(this),e,...n);return T6.set(r,e.sort?e.sort():[e]),Ul(r)}:hX().includes(t)?function(...e){return t.apply(s_(this),e),Ul(S6.get(this))}:function(...e){return Ul(t.apply(s_(this),e))}}function vX(t){return typeof t=="function"?yX(t):(t instanceof IDBTransaction&&pX(t),dX(t,fX())?new Proxy(t,uE):t)}function Ul(t){if(t instanceof IDBRequest)return mX(t);if(i_.has(t))return i_.get(t);const e=vX(t);return e!==t&&(i_.set(t,e),CT.set(e,t)),e}const s_=t=>CT.get(t);function xX(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),l=Ul(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Ul(a.result),c.oldVersion,c.newVersion,Ul(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const bX=["get","getKey","getAll","getAllKeys","count"],wX=["put","add","delete","clear"],a_=new Map;function Mk(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(a_.get(e))return a_.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=wX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||bX.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return a_.set(e,s),s}gX(t=>({...t,get:(e,n,r)=>Mk(e,n)||t.get(e,n,r),has:(e,n)=>!!Mk(e,n)||t.has(e,n)}));class _X{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function NX(t){return t.getComponent()?.type==="VERSION"}const dE="@firebase/app",Lk="0.14.8";const Eo=new NT("@firebase/app"),CX="@firebase/app-compat",EX="@firebase/analytics-compat",SX="@firebase/analytics",TX="@firebase/app-check-compat",PX="@firebase/app-check",AX="@firebase/auth",IX="@firebase/auth-compat",jX="@firebase/database",kX="@firebase/data-connect",RX="@firebase/database-compat",DX="@firebase/functions",OX="@firebase/functions-compat",MX="@firebase/installations",LX="@firebase/installations-compat",VX="@firebase/messaging",FX="@firebase/messaging-compat",BX="@firebase/performance",zX="@firebase/performance-compat",UX="@firebase/remote-config",$X="@firebase/remote-config-compat",qX="@firebase/storage",HX="@firebase/storage-compat",WX="@firebase/firestore",KX="@firebase/ai",GX="@firebase/firestore-compat",XX="firebase",YX="12.9.0";const x0="[DEFAULT]",QX={[dE]:"fire-core",[CX]:"fire-core-compat",[SX]:"fire-analytics",[EX]:"fire-analytics-compat",[PX]:"fire-app-check",[TX]:"fire-app-check-compat",[AX]:"fire-auth",[IX]:"fire-auth-compat",[jX]:"fire-rtdb",[kX]:"fire-data-connect",[RX]:"fire-rtdb-compat",[DX]:"fire-fn",[OX]:"fire-fn-compat",[MX]:"fire-iid",[LX]:"fire-iid-compat",[VX]:"fire-fcm",[FX]:"fire-fcm-compat",[BX]:"fire-perf",[zX]:"fire-perf-compat",[UX]:"fire-rc",[$X]:"fire-rc-compat",[qX]:"fire-gcs",[HX]:"fire-gcs-compat",[WX]:"fire-fst",[GX]:"fire-fst-compat",[KX]:"fire-vertex","fire-js":"fire-js",[XX]:"fire-js-all"};const _p=new Map,JX=new Map,fE=new Map;function Vk(t,e){try{t.container.addComponent(e)}catch(n){Eo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tu(t){const e=t.name;if(fE.has(e))return Eo.debug(`There were multiple attempts to register component ${e}.`),!1;fE.set(e,t);for(const n of _p.values())Vk(n,t);for(const n of JX.values())Vk(n,t);return!0}function uh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ZX(t,e,n=x0){uh(t,e).clearInstance(n)}function fi(t){return t==null?!1:t.settings!==void 0}const eY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$l=new sg("app","Firebase",eY);class tY{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $l.create("app-deleted",{appName:this._name})}}const Ku=YX;function P6(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:x0,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw $l.create("bad-app-name",{appName:String(i)});if(n||(n=x6()),!n)throw $l.create("no-options");const s=_p.get(i);if(s){if(zs(n,s.options)&&zs(r,s.config))return s;throw $l.create("duplicate-app",{appName:i})}const a=new aX(i);for(const c of fE.values())a.addComponent(c);const l=new tY(n,r,a);return _p.set(i,l),l}function ET(t=x0){const e=_p.get(t);if(!e&&t===x0&&x6())return P6();if(!e)throw $l.create("no-app",{appName:t});return e}function Fk(){return Array.from(_p.values())}function ka(t,e,n){let r=QX[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Eo.warn(a.join(" "));return}Tu(new Yl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const nY="firebase-heartbeat-database",rY=1,Np="firebase-heartbeat-store";let o_=null;function A6(){return o_||(o_=xX(nY,rY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Np)}catch(n){console.warn(n)}}}}).catch(t=>{throw $l.create("idb-open",{originalErrorMessage:t.message})})),o_}async function iY(t){try{const n=(await A6()).transaction(Np),r=await n.objectStore(Np).get(I6(t));return await n.done,r}catch(e){if(e instanceof qa)Eo.warn(e.message);else{const n=$l.create("idb-get",{originalErrorMessage:e?.message});Eo.warn(n.message)}}}async function Bk(t,e){try{const r=(await A6()).transaction(Np,"readwrite");await r.objectStore(Np).put(e,I6(t)),await r.done}catch(n){if(n instanceof qa)Eo.warn(n.message);else{const r=$l.create("idb-set",{originalErrorMessage:n?.message});Eo.warn(r.message)}}}function I6(t){return`${t.name}!${t.options.appId}`}const sY=1024,aY=30;class oY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zk();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>aY){const i=uY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Eo.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=zk(),{heartbeatsToSend:n,unsentEntries:r}=lY(this._heartbeatsCache.heartbeats),i=v0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Eo.warn(e),""}}}function zk(){return new Date().toISOString().substring(0,10)}function lY(t,e=sY){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Uk(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Uk(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E6()?XG().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await iY(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bk(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Uk(t){return v0(JSON.stringify({version:2,heartbeats:t})).length}function uY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function dY(t){Tu(new Yl("platform-logger",e=>new _X(e),"PRIVATE")),Tu(new Yl("heartbeat",e=>new oY(e),"PRIVATE")),ka(dE,Lk,t),ka(dE,Lk,"esm2020"),ka("fire-js","")}dY("");var $k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ql,j6;(function(){var t;function e(C,E){function A(){}A.prototype=E.prototype,C.F=E.prototype,C.prototype=new A,C.prototype.constructor=C,C.D=function(j,V,B){for(var F=Array(arguments.length-2),U=2;U<arguments.length;U++)F[U-2]=arguments[U];return E.prototype[V].apply(j,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,E,A){A||(A=0);const j=Array(16);if(typeof E=="string")for(var V=0;V<16;++V)j[V]=E.charCodeAt(A++)|E.charCodeAt(A++)<<8|E.charCodeAt(A++)<<16|E.charCodeAt(A++)<<24;else for(V=0;V<16;++V)j[V]=E[A++]|E[A++]<<8|E[A++]<<16|E[A++]<<24;E=C.g[0],A=C.g[1],V=C.g[2];let B=C.g[3],F;F=E+(B^A&(V^B))+j[0]+3614090360&4294967295,E=A+(F<<7&4294967295|F>>>25),F=B+(V^E&(A^V))+j[1]+3905402710&4294967295,B=E+(F<<12&4294967295|F>>>20),F=V+(A^B&(E^A))+j[2]+606105819&4294967295,V=B+(F<<17&4294967295|F>>>15),F=A+(E^V&(B^E))+j[3]+3250441966&4294967295,A=V+(F<<22&4294967295|F>>>10),F=E+(B^A&(V^B))+j[4]+4118548399&4294967295,E=A+(F<<7&4294967295|F>>>25),F=B+(V^E&(A^V))+j[5]+1200080426&4294967295,B=E+(F<<12&4294967295|F>>>20),F=V+(A^B&(E^A))+j[6]+2821735955&4294967295,V=B+(F<<17&4294967295|F>>>15),F=A+(E^V&(B^E))+j[7]+4249261313&4294967295,A=V+(F<<22&4294967295|F>>>10),F=E+(B^A&(V^B))+j[8]+1770035416&4294967295,E=A+(F<<7&4294967295|F>>>25),F=B+(V^E&(A^V))+j[9]+2336552879&4294967295,B=E+(F<<12&4294967295|F>>>20),F=V+(A^B&(E^A))+j[10]+4294925233&4294967295,V=B+(F<<17&4294967295|F>>>15),F=A+(E^V&(B^E))+j[11]+2304563134&4294967295,A=V+(F<<22&4294967295|F>>>10),F=E+(B^A&(V^B))+j[12]+1804603682&4294967295,E=A+(F<<7&4294967295|F>>>25),F=B+(V^E&(A^V))+j[13]+4254626195&4294967295,B=E+(F<<12&4294967295|F>>>20),F=V+(A^B&(E^A))+j[14]+2792965006&4294967295,V=B+(F<<17&4294967295|F>>>15),F=A+(E^V&(B^E))+j[15]+1236535329&4294967295,A=V+(F<<22&4294967295|F>>>10),F=E+(V^B&(A^V))+j[1]+4129170786&4294967295,E=A+(F<<5&4294967295|F>>>27),F=B+(A^V&(E^A))+j[6]+3225465664&4294967295,B=E+(F<<9&4294967295|F>>>23),F=V+(E^A&(B^E))+j[11]+643717713&4294967295,V=B+(F<<14&4294967295|F>>>18),F=A+(B^E&(V^B))+j[0]+3921069994&4294967295,A=V+(F<<20&4294967295|F>>>12),F=E+(V^B&(A^V))+j[5]+3593408605&4294967295,E=A+(F<<5&4294967295|F>>>27),F=B+(A^V&(E^A))+j[10]+38016083&4294967295,B=E+(F<<9&4294967295|F>>>23),F=V+(E^A&(B^E))+j[15]+3634488961&4294967295,V=B+(F<<14&4294967295|F>>>18),F=A+(B^E&(V^B))+j[4]+3889429448&4294967295,A=V+(F<<20&4294967295|F>>>12),F=E+(V^B&(A^V))+j[9]+568446438&4294967295,E=A+(F<<5&4294967295|F>>>27),F=B+(A^V&(E^A))+j[14]+3275163606&4294967295,B=E+(F<<9&4294967295|F>>>23),F=V+(E^A&(B^E))+j[3]+4107603335&4294967295,V=B+(F<<14&4294967295|F>>>18),F=A+(B^E&(V^B))+j[8]+1163531501&4294967295,A=V+(F<<20&4294967295|F>>>12),F=E+(V^B&(A^V))+j[13]+2850285829&4294967295,E=A+(F<<5&4294967295|F>>>27),F=B+(A^V&(E^A))+j[2]+4243563512&4294967295,B=E+(F<<9&4294967295|F>>>23),F=V+(E^A&(B^E))+j[7]+1735328473&4294967295,V=B+(F<<14&4294967295|F>>>18),F=A+(B^E&(V^B))+j[12]+2368359562&4294967295,A=V+(F<<20&4294967295|F>>>12),F=E+(A^V^B)+j[5]+4294588738&4294967295,E=A+(F<<4&4294967295|F>>>28),F=B+(E^A^V)+j[8]+2272392833&4294967295,B=E+(F<<11&4294967295|F>>>21),F=V+(B^E^A)+j[11]+1839030562&4294967295,V=B+(F<<16&4294967295|F>>>16),F=A+(V^B^E)+j[14]+4259657740&4294967295,A=V+(F<<23&4294967295|F>>>9),F=E+(A^V^B)+j[1]+2763975236&4294967295,E=A+(F<<4&4294967295|F>>>28),F=B+(E^A^V)+j[4]+1272893353&4294967295,B=E+(F<<11&4294967295|F>>>21),F=V+(B^E^A)+j[7]+4139469664&4294967295,V=B+(F<<16&4294967295|F>>>16),F=A+(V^B^E)+j[10]+3200236656&4294967295,A=V+(F<<23&4294967295|F>>>9),F=E+(A^V^B)+j[13]+681279174&4294967295,E=A+(F<<4&4294967295|F>>>28),F=B+(E^A^V)+j[0]+3936430074&4294967295,B=E+(F<<11&4294967295|F>>>21),F=V+(B^E^A)+j[3]+3572445317&4294967295,V=B+(F<<16&4294967295|F>>>16),F=A+(V^B^E)+j[6]+76029189&4294967295,A=V+(F<<23&4294967295|F>>>9),F=E+(A^V^B)+j[9]+3654602809&4294967295,E=A+(F<<4&4294967295|F>>>28),F=B+(E^A^V)+j[12]+3873151461&4294967295,B=E+(F<<11&4294967295|F>>>21),F=V+(B^E^A)+j[15]+530742520&4294967295,V=B+(F<<16&4294967295|F>>>16),F=A+(V^B^E)+j[2]+3299628645&4294967295,A=V+(F<<23&4294967295|F>>>9),F=E+(V^(A|~B))+j[0]+4096336452&4294967295,E=A+(F<<6&4294967295|F>>>26),F=B+(A^(E|~V))+j[7]+1126891415&4294967295,B=E+(F<<10&4294967295|F>>>22),F=V+(E^(B|~A))+j[14]+2878612391&4294967295,V=B+(F<<15&4294967295|F>>>17),F=A+(B^(V|~E))+j[5]+4237533241&4294967295,A=V+(F<<21&4294967295|F>>>11),F=E+(V^(A|~B))+j[12]+1700485571&4294967295,E=A+(F<<6&4294967295|F>>>26),F=B+(A^(E|~V))+j[3]+2399980690&4294967295,B=E+(F<<10&4294967295|F>>>22),F=V+(E^(B|~A))+j[10]+4293915773&4294967295,V=B+(F<<15&4294967295|F>>>17),F=A+(B^(V|~E))+j[1]+2240044497&4294967295,A=V+(F<<21&4294967295|F>>>11),F=E+(V^(A|~B))+j[8]+1873313359&4294967295,E=A+(F<<6&4294967295|F>>>26),F=B+(A^(E|~V))+j[15]+4264355552&4294967295,B=E+(F<<10&4294967295|F>>>22),F=V+(E^(B|~A))+j[6]+2734768916&4294967295,V=B+(F<<15&4294967295|F>>>17),F=A+(B^(V|~E))+j[13]+1309151649&4294967295,A=V+(F<<21&4294967295|F>>>11),F=E+(V^(A|~B))+j[4]+4149444226&4294967295,E=A+(F<<6&4294967295|F>>>26),F=B+(A^(E|~V))+j[11]+3174756917&4294967295,B=E+(F<<10&4294967295|F>>>22),F=V+(E^(B|~A))+j[2]+718787259&4294967295,V=B+(F<<15&4294967295|F>>>17),F=A+(B^(V|~E))+j[9]+3951481745&4294967295,C.g[0]=C.g[0]+E&4294967295,C.g[1]=C.g[1]+(V+(F<<21&4294967295|F>>>11))&4294967295,C.g[2]=C.g[2]+V&4294967295,C.g[3]=C.g[3]+B&4294967295}r.prototype.v=function(C,E){E===void 0&&(E=C.length);const A=E-this.blockSize,j=this.C;let V=this.h,B=0;for(;B<E;){if(V==0)for(;B<=A;)i(this,C,B),B+=this.blockSize;if(typeof C=="string"){for(;B<E;)if(j[V++]=C.charCodeAt(B++),V==this.blockSize){i(this,j),V=0;break}}else for(;B<E;)if(j[V++]=C[B++],V==this.blockSize){i(this,j),V=0;break}}this.h=V,this.o+=E},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var E=1;E<C.length-8;++E)C[E]=0;E=this.o*8;for(var A=C.length-8;A<C.length;++A)C[A]=E&255,E/=256;for(this.v(C),C=Array(16),E=0,A=0;A<4;++A)for(let j=0;j<32;j+=8)C[E++]=this.g[A]>>>j&255;return C};function s(C,E){var A=l;return Object.prototype.hasOwnProperty.call(A,C)?A[C]:A[C]=E(C)}function a(C,E){this.h=E;const A=[];let j=!0;for(let V=C.length-1;V>=0;V--){const B=C[V]|0;j&&B==E||(A[V]=B,j=!1)}this.g=A}var l={};function c(C){return-128<=C&&C<128?s(C,function(E){return new a([E|0],E<0?-1:0)}):new a([C|0],C<0?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return m;if(C<0)return _(d(-C));const E=[];let A=1;for(let j=0;C>=A;j++)E[j]=C/A|0,A*=4294967296;return new a(E,0)}function f(C,E){if(C.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(C.charAt(0)=="-")return _(f(C.substring(1),E));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const A=d(Math.pow(E,8));let j=m;for(let B=0;B<C.length;B+=8){var V=Math.min(8,C.length-B);const F=parseInt(C.substring(B,B+V),E);V<8?(V=d(Math.pow(E,V)),j=j.j(V).add(d(F))):(j=j.j(A),j=j.add(d(F)))}return j}var m=c(0),p=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(b(this))return-_(this).m();let C=0,E=1;for(let A=0;A<this.g.length;A++){const j=this.i(A);C+=(j>=0?j:4294967296+j)*E,E*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(b(this))return"-"+_(this).toString(C);const E=d(Math.pow(C,6));var A=this;let j="";for(;;){const V=z(A,E).g;A=S(A,V.j(E));let B=((A.g.length>0?A.g[0]:A.h)>>>0).toString(C);if(A=V,x(A))return B+j;for(;B.length<6;)B="0"+B;j=B+j}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(let E=0;E<C.g.length;E++)if(C.g[E]!=0)return!1;return!0}function b(C){return C.h==-1}t.l=function(C){return C=S(this,C),b(C)?-1:x(C)?0:1};function _(C){const E=C.g.length,A=[];for(let j=0;j<E;j++)A[j]=~C.g[j];return new a(A,~C.h).add(p)}t.abs=function(){return b(this)?_(this):this},t.add=function(C){const E=Math.max(this.g.length,C.g.length),A=[];let j=0;for(let V=0;V<=E;V++){let B=j+(this.i(V)&65535)+(C.i(V)&65535),F=(B>>>16)+(this.i(V)>>>16)+(C.i(V)>>>16);j=F>>>16,B&=65535,F&=65535,A[V]=F<<16|B}return new a(A,A[A.length-1]&-2147483648?-1:0)};function S(C,E){return C.add(_(E))}t.j=function(C){if(x(this)||x(C))return m;if(b(this))return b(C)?_(this).j(_(C)):_(_(this).j(C));if(b(C))return _(this.j(_(C)));if(this.l(y)<0&&C.l(y)<0)return d(this.m()*C.m());const E=this.g.length+C.g.length,A=[];for(var j=0;j<2*E;j++)A[j]=0;for(j=0;j<this.g.length;j++)for(let V=0;V<C.g.length;V++){const B=this.i(j)>>>16,F=this.i(j)&65535,U=C.i(V)>>>16,X=C.i(V)&65535;A[2*j+2*V]+=F*X,R(A,2*j+2*V),A[2*j+2*V+1]+=B*X,R(A,2*j+2*V+1),A[2*j+2*V+1]+=F*U,R(A,2*j+2*V+1),A[2*j+2*V+2]+=B*U,R(A,2*j+2*V+2)}for(C=0;C<E;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=E;C<2*E;C++)A[C]=0;return new a(A,0)};function R(C,E){for(;(C[E]&65535)!=C[E];)C[E+1]+=C[E]>>>16,C[E]&=65535,E++}function D(C,E){this.g=C,this.h=E}function z(C,E){if(x(E))throw Error("division by zero");if(x(C))return new D(m,m);if(b(C))return E=z(_(C),E),new D(_(E.g),_(E.h));if(b(E))return E=z(C,_(E)),new D(_(E.g),E.h);if(C.g.length>30){if(b(C)||b(E))throw Error("slowDivide_ only works with positive integers.");for(var A=p,j=E;j.l(C)<=0;)A=I(A),j=I(j);var V=P(A,1),B=P(j,1);for(j=P(j,2),A=P(A,2);!x(j);){var F=B.add(j);F.l(C)<=0&&(V=V.add(A),B=F),j=P(j,1),A=P(A,1)}return E=S(C,V.j(E)),new D(V,E)}for(V=m;C.l(E)>=0;){for(A=Math.max(1,Math.floor(C.m()/E.m())),j=Math.ceil(Math.log(A)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),B=d(A),F=B.j(E);b(F)||F.l(C)>0;)A-=j,B=d(A),F=B.j(E);x(B)&&(B=p),V=V.add(B),C=S(C,F)}return new D(V,C)}t.B=function(C){return z(this,C).h},t.and=function(C){const E=Math.max(this.g.length,C.g.length),A=[];for(let j=0;j<E;j++)A[j]=this.i(j)&C.i(j);return new a(A,this.h&C.h)},t.or=function(C){const E=Math.max(this.g.length,C.g.length),A=[];for(let j=0;j<E;j++)A[j]=this.i(j)|C.i(j);return new a(A,this.h|C.h)},t.xor=function(C){const E=Math.max(this.g.length,C.g.length),A=[];for(let j=0;j<E;j++)A[j]=this.i(j)^C.i(j);return new a(A,this.h^C.h)};function I(C){const E=C.g.length+1,A=[];for(let j=0;j<E;j++)A[j]=C.i(j)<<1|C.i(j-1)>>>31;return new a(A,C.h)}function P(C,E){const A=E>>5;E%=32;const j=C.g.length-A,V=[];for(let B=0;B<j;B++)V[B]=E>0?C.i(B+A)>>>E|C.i(B+A+1)<<32-E:C.i(B+A);return new a(V,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,j6=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,ql=a}).apply(typeof $k<"u"?$k:typeof self<"u"?self:typeof window<"u"?window:{});var iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var k6,Km,R6,$v,hE,D6,O6,M6;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof iv=="object"&&iv];for(var L=0;L<v.length;++L){var q=v[L];if(q&&q.Math==Math)return q}throw Error("Cannot find global object")}var r=n(this);function i(v,L){if(L)e:{var q=r;v=v.split(".");for(var Q=0;Q<v.length-1;Q++){var ue=v[Q];if(!(ue in q))break e;q=q[ue]}v=v[v.length-1],Q=q[v],L=L(Q),L!=Q&&L!=null&&e(q,v,{configurable:!0,writable:!0,value:L})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(L){var q=[],Q;for(Q in L)Object.prototype.hasOwnProperty.call(L,Q)&&q.push([Q,L[Q]]);return q}});var s=s||{},a=this||self;function l(v){var L=typeof v;return L=="object"&&v!=null||L=="function"}function c(v,L,q){return v.call.apply(v.bind,arguments)}function d(v,L,q){return d=c,d.apply(null,arguments)}function f(v,L){var q=Array.prototype.slice.call(arguments,1);return function(){var Q=q.slice();return Q.push.apply(Q,arguments),v.apply(this,Q)}}function m(v,L){function q(){}q.prototype=L.prototype,v.Z=L.prototype,v.prototype=new q,v.prototype.constructor=v,v.Ob=function(Q,ue,ge){for(var ke=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)ke[pt-2]=arguments[pt];return L.prototype[ue].apply(Q,ke)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function y(v){const L=v.length;if(L>0){const q=Array(L);for(let Q=0;Q<L;Q++)q[Q]=v[Q];return q}return[]}function x(v,L){for(let Q=1;Q<arguments.length;Q++){const ue=arguments[Q];var q=typeof ue;if(q=q!="object"?q:ue?Array.isArray(ue)?"array":q:"null",q=="array"||q=="object"&&typeof ue.length=="number"){q=v.length||0;const ge=ue.length||0;v.length=q+ge;for(let ke=0;ke<ge;ke++)v[q+ke]=ue[ke]}else v.push(ue)}}class b{constructor(L,q){this.i=L,this.j=q,this.h=0,this.g=null}get(){let L;return this.h>0?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function _(v){a.setTimeout(()=>{throw v},0)}function S(){var v=C;let L=null;return v.g&&(L=v.g,v.g=v.g.next,v.g||(v.h=null),L.next=null),L}class R{constructor(){this.h=this.g=null}add(L,q){const Q=D.get();Q.set(L,q),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var D=new b(()=>new z,v=>v.reset());class z{constructor(){this.next=this.g=this.h=null}set(L,q){this.h=L,this.g=q,this.next=null}reset(){this.next=this.g=this.h=null}}let I,P=!1,C=new R,E=()=>{const v=Promise.resolve(void 0);I=()=>{v.then(A)}};function A(){for(var v;v=S();){try{v.h.call(v.g)}catch(q){_(q)}var L=D;L.j(v),L.h<100&&(L.h++,v.next=L.g,L.g=v)}P=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(v,L){this.type=v,this.g=this.target=L,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var v=!1,L=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const q=()=>{};a.addEventListener("test",q,L),a.removeEventListener("test",q,L)}catch{}return v})();function F(v){return/^[\s\xa0]*$/.test(v)}function U(v,L){V.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,L)}m(U,V),U.prototype.init=function(v,L){const q=this.type=v.type,Q=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=L,L=v.relatedTarget,L||(q=="mouseover"?L=v.fromElement:q=="mouseout"&&(L=v.toElement)),this.relatedTarget=L,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&U.Z.h.call(this)},U.prototype.h=function(){U.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var X="closure_listenable_"+(Math.random()*1e6|0),J=0;function O(v,L,q,Q,ue){this.listener=v,this.proxy=null,this.src=L,this.type=q,this.capture=!!Q,this.ha=ue,this.key=++J,this.da=this.fa=!1}function K(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function H(v,L,q){for(const Q in v)L.call(q,v[Q],Q,v)}function k(v,L){for(const q in v)L.call(void 0,v[q],q,v)}function $(v){const L={};for(const q in v)L[q]=v[q];return L}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(v,L){let q,Q;for(let ue=1;ue<arguments.length;ue++){Q=arguments[ue];for(q in Q)v[q]=Q[q];for(let ge=0;ge<G.length;ge++)q=G[ge],Object.prototype.hasOwnProperty.call(Q,q)&&(v[q]=Q[q])}}function Y(v){this.src=v,this.g={},this.h=0}Y.prototype.add=function(v,L,q,Q,ue){const ge=v.toString();v=this.g[ge],v||(v=this.g[ge]=[],this.h++);const ke=ie(v,L,Q,ue);return ke>-1?(L=v[ke],q||(L.fa=!1)):(L=new O(L,this.src,ge,!!Q,ue),L.fa=q,v.push(L)),L};function te(v,L){const q=L.type;if(q in v.g){var Q=v.g[q],ue=Array.prototype.indexOf.call(Q,L,void 0),ge;(ge=ue>=0)&&Array.prototype.splice.call(Q,ue,1),ge&&(K(L),v.g[q].length==0&&(delete v.g[q],v.h--))}}function ie(v,L,q,Q){for(let ue=0;ue<v.length;++ue){const ge=v[ue];if(!ge.da&&ge.listener==L&&ge.capture==!!q&&ge.ha==Q)return ue}return-1}var ne="closure_lm_"+(Math.random()*1e6|0),be={};function se(v,L,q,Q,ue){if(Array.isArray(L)){for(let ge=0;ge<L.length;ge++)se(v,L[ge],q,Q,ue);return null}return q=yt(q),v&&v[X]?v.J(L,q,l(Q)?!!Q.capture:!1,ue):ve(v,L,q,!1,Q,ue)}function ve(v,L,q,Q,ue,ge){if(!L)throw Error("Invalid event type");const ke=l(ue)?!!ue.capture:!!ue;let pt=ct(v);if(pt||(v[ne]=pt=new Y(v)),q=pt.add(L,q,Q,ke,ge),q.proxy)return q;if(Q=Pe(),q.proxy=Q,Q.src=v,Q.listener=q,v.addEventListener)B||(ue=ke),ue===void 0&&(ue=!1),v.addEventListener(L.toString(),Q,ue);else if(v.attachEvent)v.attachEvent(De(L.toString()),Q);else if(v.addListener&&v.removeListener)v.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return q}function Pe(){function v(q){return L.call(v.src,v.listener,q)}const L=Ze;return v}function fe(v,L,q,Q,ue){if(Array.isArray(L))for(var ge=0;ge<L.length;ge++)fe(v,L[ge],q,Q,ue);else Q=l(Q)?!!Q.capture:!!Q,q=yt(q),v&&v[X]?(v=v.i,ge=String(L).toString(),ge in v.g&&(L=v.g[ge],q=ie(L,q,Q,ue),q>-1&&(K(L[q]),Array.prototype.splice.call(L,q,1),L.length==0&&(delete v.g[ge],v.h--)))):v&&(v=ct(v))&&(L=v.g[L.toString()],v=-1,L&&(v=ie(L,q,Q,ue)),(q=v>-1?L[v]:null)&&Ae(q))}function Ae(v){if(typeof v!="number"&&v&&!v.da){var L=v.src;if(L&&L[X])te(L.i,v);else{var q=v.type,Q=v.proxy;L.removeEventListener?L.removeEventListener(q,Q,v.capture):L.detachEvent?L.detachEvent(De(q),Q):L.addListener&&L.removeListener&&L.removeListener(Q),(q=ct(L))?(te(q,v),q.h==0&&(q.src=null,L[ne]=null)):K(v)}}}function De(v){return v in be?be[v]:be[v]="on"+v}function Ze(v,L){if(v.da)v=!0;else{L=new U(L,this);const q=v.listener,Q=v.ha||v.src;v.fa&&Ae(v),v=q.call(Q,L)}return v}function ct(v){return v=v[ne],v instanceof Y?v:null}var Be="__closure_events_fn_"+(Math.random()*1e9>>>0);function yt(v){return typeof v=="function"?v:(v[Be]||(v[Be]=function(L){return v.handleEvent(L)}),v[Be])}function dt(){j.call(this),this.i=new Y(this),this.M=this,this.G=null}m(dt,j),dt.prototype[X]=!0,dt.prototype.removeEventListener=function(v,L,q,Q){fe(this,v,L,q,Q)};function oe(v,L){var q,Q=v.G;if(Q)for(q=[];Q;Q=Q.G)q.push(Q);if(v=v.M,Q=L.type||L,typeof L=="string")L=new V(L,v);else if(L instanceof V)L.target=L.target||v;else{var ue=L;L=new V(Q,v),Z(L,ue)}ue=!0;let ge,ke;if(q)for(ke=q.length-1;ke>=0;ke--)ge=L.g=q[ke],ue=Ee(ge,Q,!0,L)&&ue;if(ge=L.g=v,ue=Ee(ge,Q,!0,L)&&ue,ue=Ee(ge,Q,!1,L)&&ue,q)for(ke=0;ke<q.length;ke++)ge=L.g=q[ke],ue=Ee(ge,Q,!1,L)&&ue}dt.prototype.N=function(){if(dt.Z.N.call(this),this.i){var v=this.i;for(const L in v.g){const q=v.g[L];for(let Q=0;Q<q.length;Q++)K(q[Q]);delete v.g[L],v.h--}}this.G=null},dt.prototype.J=function(v,L,q,Q){return this.i.add(String(v),L,!1,q,Q)},dt.prototype.K=function(v,L,q,Q){return this.i.add(String(v),L,!0,q,Q)};function Ee(v,L,q,Q){if(L=v.i.g[String(L)],!L)return!0;L=L.concat();let ue=!0;for(let ge=0;ge<L.length;++ge){const ke=L[ge];if(ke&&!ke.da&&ke.capture==q){const pt=ke.listener,jn=ke.ha||ke.src;ke.fa&&te(v.i,ke),ue=pt.call(jn,Q)!==!1&&ue}}return ue&&!Q.defaultPrevented}function Xe(v,L){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=d(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(L)>2147483647?-1:a.setTimeout(v,L||0)}function de(v){v.g=Xe(()=>{v.g=null,v.i&&(v.i=!1,de(v))},v.l);const L=v.h;v.h=null,v.m.apply(null,L)}class Ke extends j{constructor(L,q){super(),this.m=L,this.l=q,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:de(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ft(v){j.call(this),this.h=v,this.g={}}m(ft,j);var st=[];function at(v){H(v.g,function(L,q){this.g.hasOwnProperty(q)&&Ae(L)},v),v.g={}}ft.prototype.N=function(){ft.Z.N.call(this),at(this)},ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kt=a.JSON.stringify,Qt=a.JSON.parse,gr=class{stringify(v){return a.JSON.stringify(v,void 0)}parse(v){return a.JSON.parse(v,void 0)}};function Mn(){}function Ks(){}var Wr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ti(){V.call(this,"d")}m(Ti,V);function Qo(){V.call(this,"c")}m(Qo,V);var tr={},Jo=null;function Gs(){return Jo=Jo||new dt}tr.Ia="serverreachability";function Ka(v){V.call(this,tr.Ia,v)}m(Ka,V);function Gi(v){const L=Gs();oe(L,new Ka(L))}tr.STAT_EVENT="statevent";function gs(v,L){V.call(this,tr.STAT_EVENT,v),this.stat=L}m(gs,V);function Jt(v){const L=Gs();oe(L,new gs(L,v))}tr.Ja="timingevent";function ii(v,L){V.call(this,tr.Ja,v),this.size=L}m(ii,V);function Xs(v,L){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){v()},L)}function tt(){this.g=!0}tt.prototype.ua=function(){this.g=!1};function Pt(v,L,q,Q,ue,ge){v.info(function(){if(v.g)if(ge){var ke="",pt=ge.split("&");for(let Ut=0;Ut<pt.length;Ut++){var jn=pt[Ut].split("=");if(jn.length>1){const Vn=jn[0];jn=jn[1];const Di=Vn.split("_");ke=Di.length>=2&&Di[1]=="type"?ke+(Vn+"="+jn+"&"):ke+(Vn+"=redacted&")}}}else ke=null;else ke=ge;return"XMLHTTP REQ ("+Q+") [attempt "+ue+"]: "+L+`
`+q+`
`+ke})}function zt(v,L,q,Q,ue,ge,ke){v.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+ue+"]: "+L+`
`+q+`
`+ge+" "+ke})}function Cn(v,L,q,Q){v.info(function(){return"XMLHTTP TEXT ("+L+"): "+Ir(v,q)+(Q?" "+Q:"")})}function Ar(v,L){v.info(function(){return"TIMEOUT: "+L})}tt.prototype.info=function(){};function Ir(v,L){if(!v.g)return L;if(!L)return null;try{const ge=JSON.parse(L);if(ge){for(v=0;v<ge.length;v++)if(Array.isArray(ge[v])){var q=ge[v];if(!(q.length<2)){var Q=q[1];if(Array.isArray(Q)&&!(Q.length<1)){var ue=Q[0];if(ue!="noop"&&ue!="stop"&&ue!="close")for(let ke=1;ke<Q.length;ke++)Q[ke]=""}}}}return kt(ge)}catch{return L}}var jr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ln={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pi;function Ga(){}m(Ga,Mn),Ga.prototype.g=function(){return new XMLHttpRequest},Pi=new Ga;function Ys(v){return encodeURIComponent(String(v))}function od(v){var L=1;v=v.split(":");const q=[];for(;L>0&&v.length;)q.push(v.shift()),L--;return v.length&&q.push(v.join(":")),q}function Xi(v,L,q,Q){this.j=v,this.i=L,this.l=q,this.S=Q||1,this.V=new ft(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xg}function Xg(){this.i=null,this.g="",this.h=!1}var Yg={},Mh={};function ys(v,L,q){v.M=1,v.A=Ya(Yi(L)),v.u=q,v.R=!0,Lh(v,null)}function Lh(v,L){v.F=Date.now(),wc(v),v.B=Yi(v.A);var q=v.B,Q=v.S;Array.isArray(Q)||(Q=[String(Q)]),Kh(q.i,"t",Q),v.C=0,q=v.j.L,v.h=new Xg,v.g=ay(v.j,q?L:null,!v.u),v.P>0&&(v.O=new Ke(d(v.Y,v,v.g),v.P)),L=v.V,q=v.g,Q=v.ba;var ue="readystatechange";Array.isArray(ue)||(ue&&(st[0]=ue.toString()),ue=st);for(let ge=0;ge<ue.length;ge++){const ke=se(q,ue[ge],Q||L.handleEvent,!1,L.h||L);if(!ke)break;L.g[ke.key]=ke}L=v.J?$(v.J):{},v.u?(v.v||(v.v="POST"),L["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,L)):(v.v="GET",v.g.ea(v.B,v.v,null,L)),Gi(),Pt(v.i,v.v,v.B,v.l,v.S,v.u)}Xi.prototype.ba=function(v){v=v.target;const L=this.O;L&&ra(v)==3?L.j():this.Y(v)},Xi.prototype.Y=function(v){try{if(v==this.g)e:{const pt=ra(this.g),jn=this.g.ya(),Ut=this.g.ca();if(!(pt<3)&&(pt!=3||this.g&&(this.h.h||this.g.la()||iy(this.g)))){this.K||pt!=4||jn==7||(jn==8||Ut<=0?Gi(3):Gi(2)),ld(this);var L=this.g.ca();this.X=L;var q=Qg(this);if(this.o=L==200,zt(this.i,this.v,this.B,this.l,this.S,pt,L),this.o){if(this.U&&!this.L){t:{if(this.g){var Q,ue=this.g;if((Q=ue.g?ue.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Q)){var ge=Q;break t}}ge=null}if(v=ge)Cn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,sn(this,v);else{this.o=!1,this.m=3,Jt(12),Xa(this),_c(this);break e}}if(this.R){v=!0;let Vn;for(;!this.K&&this.C<q.length;)if(Vn=Zg(this,q),Vn==Mh){pt==4&&(this.m=4,Jt(14),v=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==Yg){this.m=4,Jt(15),Cn(this.i,this.l,q,"[Invalid Chunk]"),v=!1;break}else Cn(this.i,this.l,Vn,null),sn(this,Vn);if(Jg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||q.length!=0||this.h.h||(this.m=1,Jt(16),v=!1),this.o=this.o&&v,!v)Cn(this.i,this.l,q,"[Invalid Chunked Response]"),Xa(this),_c(this);else if(q.length>0&&!this.W){this.W=!0;var ke=this.j;ke.g==this&&ke.aa&&!ke.P&&(ke.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),jc(ke),ke.P=!0,Jt(11))}}else Cn(this.i,this.l,q,null),sn(this,q);pt==4&&Xa(this),this.o&&!this.K&&(pt==4?vd(this.j,this):(this.o=!1,wc(this)))}else Xh(this.g),L==400&&q.indexOf("Unknown SID")>0?(this.m=3,Jt(12)):(this.m=0,Jt(13)),Xa(this),_c(this)}}}catch{}};function Qg(v){if(!Jg(v))return v.g.la();const L=iy(v.g);if(L==="")return"";let q="";const Q=L.length,ue=ra(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Xa(v),_c(v),"";v.h.i=new a.TextDecoder}for(let ge=0;ge<Q;ge++)v.h.h=!0,q+=v.h.i.decode(L[ge],{stream:!(ue&&ge==Q-1)});return L.length=0,v.h.g+=q,v.C=0,v.h.g}function Jg(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function Zg(v,L){var q=v.C,Q=L.indexOf(`
`,q);return Q==-1?Mh:(q=Number(L.substring(q,Q)),isNaN(q)?Yg:(Q+=1,Q+q>L.length?Mh:(L=L.slice(Q,Q+q),v.C=Q+q,L)))}Xi.prototype.cancel=function(){this.K=!0,Xa(this)};function wc(v){v.T=Date.now()+v.H,Vh(v,v.H)}function Vh(v,L){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Xs(d(v.aa,v),L)}function ld(v){v.D&&(a.clearTimeout(v.D),v.D=null)}Xi.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(Gi(),Jt(17)),Xa(this),this.m=2,_c(this)):Vh(this,this.T-v)};function _c(v){v.j.I==0||v.K||vd(v.j,v)}function Xa(v){ld(v);var L=v.O;L&&typeof L.dispose=="function"&&L.dispose(),v.O=null,at(v.V),v.g&&(L=v.g,v.g=null,L.abort(),L.dispose())}function sn(v,L){try{var q=v.j;if(q.I!=0&&(q.g==v||Bh(q.h,v))){if(!v.L&&Bh(q.h,v)&&q.I==3){try{var Q=q.Ba.g.parse(L)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var ue=Q;if(ue[0]==0){e:if(!q.v){if(q.g)if(q.g.F+3e3<v.F)yd(q),ki(q);else break e;aa(q),Jt(18)}}else q.xa=ue[1],0<q.xa-q.K&&ue[2]<37500&&q.F&&q.A==0&&!q.C&&(q.C=Xs(d(q.Va,q),6e3));Nc(q.h)<=1&&q.ta&&(q.ta=void 0)}else Ri(q,11)}else if((v.L||q.g==v)&&yd(q),!F(L))for(ue=q.Ba.g.parse(L),L=0;L<ue.length;L++){let Ut=ue[L];const Vn=Ut[0];if(!(Vn<=q.K))if(q.K=Vn,Ut=Ut[1],q.I==2)if(Ut[0]=="c"){q.M=Ut[1],q.ba=Ut[2];const Di=Ut[3];Di!=null&&(q.ka=Di,q.j.info("VER="+q.ka));const to=Ut[4];to!=null&&(q.za=to,q.j.info("SVER="+q.za));const oa=Ut[5];oa!=null&&typeof oa=="number"&&oa>0&&(Q=1.5*oa,q.O=Q,q.j.info("backChannelRequestTimeoutMs_="+Q)),Q=q;const la=v.g;if(la){const wd=la.g?la.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wd){var ge=Q.h;ge.g||wd.indexOf("spdy")==-1&&wd.indexOf("quic")==-1&&wd.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(ud(ge,ge.h),ge.h=null))}if(Q.G){const Jh=la.g?la.g.getResponseHeader("X-HTTP-Session-Id"):null;Jh&&(Q.wa=Jh,Ft(Q.J,Q.G,Jh))}}q.I=3,q.l&&q.l.ra(),q.aa&&(q.T=Date.now()-v.F,q.j.info("Handshake RTT: "+q.T+"ms")),Q=q;var ke=v;if(Q.na=Qh(Q,Q.L?Q.ba:null,Q.W),ke.L){Cc(Q.h,ke);var pt=ke,jn=Q.O;jn&&(pt.H=jn),pt.D&&(ld(pt),wc(pt)),Q.g=ke}else kr(Q);q.i.length>0&&eo(q)}else Ut[0]!="stop"&&Ut[0]!="close"||Ri(q,7);else q.I==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Ri(q,7):pd(q):Ut[0]!="noop"&&q.l&&q.l.qa(Ut),q.A=0)}}Gi(4)}catch{}}var Pw=class{constructor(v,L){this.g=v,this.map=L}};function cd(v){this.l=v||10,a.PerformanceNavigationTiming?(v=a.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fh(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function Nc(v){return v.h?1:v.g?v.g.size:0}function Bh(v,L){return v.h?v.h==L:v.g?v.g.has(L):!1}function ud(v,L){v.g?v.g.add(L):v.h=L}function Cc(v,L){v.h&&v.h==L?v.h=null:v.g&&v.g.has(L)&&v.g.delete(L)}cd.prototype.cancel=function(){if(this.i=Ai(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Ai(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let L=v.i;for(const q of v.g.values())L=L.concat(q.G);return L}return y(v.i)}var ey=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ii(v,L){if(v){v=v.split("&");for(let q=0;q<v.length;q++){const Q=v[q].indexOf("=");let ue,ge=null;Q>=0?(ue=v[q].substring(0,Q),ge=v[q].substring(Q+1)):ue=v[q],L(ue,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function Qs(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let L;v instanceof Qs?(this.l=v.l,Ec(this,v.j),this.o=v.o,this.g=v.g,Js(this,v.u),this.h=v.h,Zo(this,Gh(v.i)),this.m=v.m):v&&(L=String(v).match(ey))?(this.l=!1,Ec(this,L[1]||"",!0),this.o=Sc(L[2]||""),this.g=Sc(L[3]||"",!0),Js(this,L[4]),this.h=Sc(L[5]||"",!0),Zo(this,L[6]||"",!0),this.m=Sc(L[7]||"")):(this.l=!1,this.i=new St(null,this.l))}Qs.prototype.toString=function(){const v=[];var L=this.j;L&&v.push(Tc(L,Uh,!0),":");var q=this.g;return(q||L=="file")&&(v.push("//"),(L=this.o)&&v.push(Tc(L,Uh,!0),"@"),v.push(Ys(q).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),q=this.u,q!=null&&v.push(":",String(q))),(q=this.h)&&(this.g&&q.charAt(0)!="/"&&v.push("/"),v.push(Tc(q,q.charAt(0)=="/"?Pc:$h,!0))),(q=this.i.toString())&&v.push("?",q),(q=this.m)&&v.push("#",Tc(q,qh)),v.join("")},Qs.prototype.resolve=function(v){const L=Yi(this);let q=!!v.j;q?Ec(L,v.j):q=!!v.o,q?L.o=v.o:q=!!v.g,q?L.g=v.g:q=v.u!=null;var Q=v.h;if(q)Js(L,v.u);else if(q=!!v.h){if(Q.charAt(0)!="/")if(this.g&&!this.h)Q="/"+Q;else{var ue=L.h.lastIndexOf("/");ue!=-1&&(Q=L.h.slice(0,ue+1)+Q)}if(ue=Q,ue==".."||ue==".")Q="";else if(ue.indexOf("./")!=-1||ue.indexOf("/.")!=-1){Q=ue.lastIndexOf("/",0)==0,ue=ue.split("/");const ge=[];for(let ke=0;ke<ue.length;){const pt=ue[ke++];pt=="."?Q&&ke==ue.length&&ge.push(""):pt==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),Q&&ke==ue.length&&ge.push("")):(ge.push(pt),Q=!0)}Q=ge.join("/")}else Q=ue}return q?L.h=Q:q=v.i.toString()!=="",q?Zo(L,Gh(v.i)):q=!!v.m,q&&(L.m=v.m),L};function Yi(v){return new Qs(v)}function Ec(v,L,q){v.j=q?Sc(L,!0):L,v.j&&(v.j=v.j.replace(/:$/,""))}function Js(v,L){if(L){if(L=Number(L),isNaN(L)||L<0)throw Error("Bad port number "+L);v.u=L}else v.u=null}function Zo(v,L,q){L instanceof St?(v.i=L,fd(v.i,v.l)):(q||(L=Tc(L,Aw)),v.i=new St(L,v.l))}function Ft(v,L,q){v.i.set(L,q)}function Ya(v){return Ft(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function Sc(v,L){return v?L?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Tc(v,L,q){return typeof v=="string"?(v=encodeURI(v).replace(L,zh),q&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function zh(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Uh=/[#\/\?@]/g,$h=/[#\?:]/g,Pc=/[#\?]/g,Aw=/[#\?@]/g,qh=/#/g;function St(v,L){this.h=this.g=null,this.i=v||null,this.j=!!L}function Zs(v){v.g||(v.g=new Map,v.h=0,v.i&&Ii(v.i,function(L,q){v.add(decodeURIComponent(L.replace(/\+/g," ")),q)}))}t=St.prototype,t.add=function(v,L){Zs(this),this.i=null,v=ea(this,v);let q=this.g.get(v);return q||this.g.set(v,q=[]),q.push(L),this.h+=1,this};function Hh(v,L){Zs(v),L=ea(v,L),v.g.has(L)&&(v.i=null,v.h-=v.g.get(L).length,v.g.delete(L))}function dd(v,L){return Zs(v),L=ea(v,L),v.g.has(L)}t.forEach=function(v,L){Zs(this),this.g.forEach(function(q,Q){q.forEach(function(ue){v.call(L,ue,Q,this)},this)},this)};function Wh(v,L){Zs(v);let q=[];if(typeof L=="string")dd(v,L)&&(q=q.concat(v.g.get(ea(v,L))));else for(v=Array.from(v.g.values()),L=0;L<v.length;L++)q=q.concat(v[L]);return q}t.set=function(v,L){return Zs(this),this.i=null,v=ea(this,v),dd(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[L]),this.h+=1,this},t.get=function(v,L){return v?(v=Wh(this,v),v.length>0?String(v[0]):L):L};function Kh(v,L,q){Hh(v,L),q.length>0&&(v.i=null,v.g.set(ea(v,L),y(q)),v.h+=q.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],L=Array.from(this.g.keys());for(let Q=0;Q<L.length;Q++){var q=L[Q];const ue=Ys(q);q=Wh(this,q);for(let ge=0;ge<q.length;ge++){let ke=ue;q[ge]!==""&&(ke+="="+Ys(q[ge])),v.push(ke)}}return this.i=v.join("&")};function Gh(v){const L=new St;return L.i=v.i,v.g&&(L.g=new Map(v.g),L.h=v.h),L}function ea(v,L){return L=String(L),v.j&&(L=L.toLowerCase()),L}function fd(v,L){L&&!v.j&&(Zs(v),v.i=null,v.g.forEach(function(q,Q){const ue=Q.toLowerCase();Q!=ue&&(Hh(this,Q),Kh(this,ue,q))},v)),v.j=L}function ta(v,L){const q=new tt;if(a.Image){const Q=new Image;Q.onload=f(yr,q,"TestLoadImage: loaded",!0,L,Q),Q.onerror=f(yr,q,"TestLoadImage: error",!1,L,Q),Q.onabort=f(yr,q,"TestLoadImage: abort",!1,L,Q),Q.ontimeout=f(yr,q,"TestLoadImage: timeout",!1,L,Q),a.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=v}else L(!1)}function na(v,L){const q=new tt,Q=new AbortController,ue=setTimeout(()=>{Q.abort(),yr(q,"TestPingServer: timeout",!1,L)},1e4);fetch(v,{signal:Q.signal}).then(ge=>{clearTimeout(ue),ge.ok?yr(q,"TestPingServer: ok",!0,L):yr(q,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(ue),yr(q,"TestPingServer: error",!1,L)})}function yr(v,L,q,Q,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),Q(q)}catch{}}function Ac(){this.g=new gr}function Qa(v){this.i=v.Sb||null,this.h=v.ab||!1}m(Qa,Mn),Qa.prototype.g=function(){return new ji(this.i,this.h)};function ji(v,L){dt.call(this),this.H=v,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(ji,dt),t=ji.prototype,t.open=function(v,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=L,this.readyState=1,vs(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const L={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(L.body=v),(this.H||a).fetch(new Request(this.D,L)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,el(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ty(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function ty(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var L=v.value?v.value:new Uint8Array(0);(L=this.B.decode(L,{stream:!v.done}))&&(this.response=this.responseText+=L)}v.done?el(this):vs(this),this.readyState==3&&ty(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,el(this))},t.Na=function(v){this.g&&(this.response=v,el(this))},t.ga=function(){this.g&&el(this)};function el(v){v.readyState=4,v.l=null,v.j=null,v.B=null,vs(v)}t.setRequestHeader=function(v,L){this.A.append(v,L)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],L=this.h.entries();for(var q=L.next();!q.done;)q=q.value,v.push(q[0]+": "+q[1]),q=L.next();return v.join(`\r
`)};function vs(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function ny(v){let L="";return H(v,function(q,Q){L+=Q,L+=":",L+=q,L+=`\r
`}),L}function hd(v,L,q){e:{for(Q in q){var Q=!1;break e}Q=!0}Q||(q=ny(q),typeof v=="string"?q!=null&&Ys(q):Ft(v,L,q))}function Gt(v){dt.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Gt,dt);var ry=/^https?$/i,Iw=["POST","PUT"];t=Gt.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,L,q,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);L=L?L.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pi.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(L,String(v),!0),this.B=!1}catch(ge){tl(this,ge);return}if(v=q||"",q=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var ue in Q)q.set(ue,Q[ue]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const ge of Q.keys())q.set(ge,Q.get(ge));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(q.keys()).find(ge=>ge.toLowerCase()=="content-type"),ue=a.FormData&&v instanceof a.FormData,!(Array.prototype.indexOf.call(Iw,L,void 0)>=0)||Q||ue||q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,ke]of q)this.g.setRequestHeader(ge,ke);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(ge){tl(this,ge)}};function tl(v,L){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=L,v.o=5,nl(v),Za(v)}function nl(v){v.A||(v.A=!0,oe(v,"complete"),oe(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,oe(this,"complete"),oe(this,"abort"),Za(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Za(this,!0)),Gt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ja(this):this.Xa())},t.Xa=function(){Ja(this)};function Ja(v){if(v.h&&typeof s<"u"){if(v.v&&ra(v)==4)setTimeout(v.Ca.bind(v),0);else if(oe(v,"readystatechange"),ra(v)==4){v.h=!1;try{const ge=v.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var q;if(!(q=L)){var Q;if(Q=ge===0){let ke=String(v.D).match(ey)[1]||null;!ke&&a.self&&a.self.location&&(ke=a.self.location.protocol.slice(0,-1)),Q=!ry.test(ke?ke.toLowerCase():"")}q=Q}if(q)oe(v,"complete"),oe(v,"success");else{v.o=6;try{var ue=ra(v)>2?v.g.statusText:""}catch{ue=""}v.l=ue+" ["+v.ca()+"]",nl(v)}}finally{Za(v)}}}}function Za(v,L){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const q=v.g;v.g=null,L||oe(v,"ready");try{q.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function ra(v){return v.g?v.g.readyState:0}t.ca=function(){try{return ra(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var L=this.g.responseText;return v&&L.indexOf(v)==0&&(L=L.substring(v.length)),Qt(L)}};function iy(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Xh(v){const L={};v=(v.g&&ra(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<v.length;Q++){if(F(v[Q]))continue;var q=od(v[Q]);const ue=q[0];if(q=q[1],typeof q!="string")continue;q=q.trim();const ge=L[ue]||[];L[ue]=ge,ge.push(q)}k(L,function(Q){return Q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(v,L,q){return q&&q.internalChannelParams&&q.internalChannelParams[v]||L}function md(v){this.za=0,this.i=[],this.j=new tt,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ia("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ia("baseRetryDelayMs",5e3,v),this.Za=ia("retryDelaySeedMs",1e4,v),this.Ta=ia("forwardChannelMaxRetries",2,v),this.va=ia("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new cd(v&&v.concurrentRequestLimit),this.Ba=new Ac,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=md.prototype,t.ka=8,t.I=1,t.connect=function(v,L,q,Q){Jt(0),this.W=v,this.H=L||{},q&&Q!==void 0&&(this.H.OSID=q,this.H.OAID=Q),this.F=this.X,this.J=Qh(this,null,this.W),eo(this)};function pd(v){if(gd(v),v.I==3){var L=v.V++,q=Yi(v.J);if(Ft(q,"SID",v.M),Ft(q,"RID",L),Ft(q,"TYPE","terminate"),sa(v,q),L=new Xi(v,v.j,L),L.M=2,L.A=Ya(Yi(q)),q=!1,a.navigator&&a.navigator.sendBeacon)try{q=a.navigator.sendBeacon(L.A.toString(),"")}catch{}!q&&a.Image&&(new Image().src=L.A,q=!0),q||(L.g=ay(L.j,null),L.g.ea(L.A)),L.F=Date.now(),wc(L)}kc(v)}function ki(v){v.g&&(jc(v),v.g.cancel(),v.g=null)}function gd(v){ki(v),v.v&&(a.clearTimeout(v.v),v.v=null),yd(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&a.clearTimeout(v.m),v.m=null)}function eo(v){if(!Fh(v.h)&&!v.m){v.m=!0;var L=v.Ea;I||E(),P||(I(),P=!0),C.add(L,v),v.D=0}}function sy(v,L){return Nc(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=L.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Xs(d(v.Ea,v,L),xd(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const ue=new Xi(this,this.j,v);let ge=this.o;if(this.U&&(ge?(ge=$(ge),Z(ge,this.U)):ge=this.U),this.u!==null||this.R||(ue.J=ge,ge=null),this.S)e:{for(var L=0,q=0;q<this.i.length;q++){t:{var Q=this.i[q];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(L+=Q,L>4096){L=q;break e}if(L===4096||q===this.i.length-1){L=q+1;break e}}L=1e3}else L=1e3;L=Yh(this,ue,L),q=Yi(this.J),Ft(q,"RID",v),Ft(q,"CVER",22),this.G&&Ft(q,"X-HTTP-Session-Id",this.G),sa(this,q),ge&&(this.R?L="headers="+Ys(ny(ge))+"&"+L:this.u&&hd(q,this.u,ge)),ud(this.h,ue),this.Ra&&Ft(q,"TYPE","init"),this.S?(Ft(q,"$req",L),Ft(q,"SID","null"),ue.U=!0,ys(ue,q,null)):ys(ue,q,L),this.I=2}}else this.I==3&&(v?Ic(this,v):this.i.length==0||Fh(this.h)||Ic(this))};function Ic(v,L){var q;L?q=L.l:q=v.V++;const Q=Yi(v.J);Ft(Q,"SID",v.M),Ft(Q,"RID",q),Ft(Q,"AID",v.K),sa(v,Q),v.u&&v.o&&hd(Q,v.u,v.o),q=new Xi(v,v.j,q,v.D+1),v.u===null&&(q.J=v.o),L&&(v.i=L.G.concat(v.i)),L=Yh(v,q,1e3),q.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),ud(v.h,q),ys(q,Q,L)}function sa(v,L){v.H&&H(v.H,function(q,Q){Ft(L,Q,q)}),v.l&&H({},function(q,Q){Ft(L,Q,q)})}function Yh(v,L,q){q=Math.min(v.i.length,q);const Q=v.l?d(v.l.Ka,v.l,v):null;e:{var ue=v.i;let pt=-1;for(;;){const jn=["count="+q];pt==-1?q>0?(pt=ue[0].g,jn.push("ofs="+pt)):pt=0:jn.push("ofs="+pt);let Ut=!0;for(let Vn=0;Vn<q;Vn++){var ge=ue[Vn].g;const Di=ue[Vn].map;if(ge-=pt,ge<0)pt=Math.max(0,ue[Vn].g-100),Ut=!1;else try{ge="req"+ge+"_"||"";try{var ke=Di instanceof Map?Di:Object.entries(Di);for(const[to,oa]of ke){let la=oa;l(oa)&&(la=kt(oa)),jn.push(ge+to+"="+encodeURIComponent(la))}}catch(to){throw jn.push(ge+"type="+encodeURIComponent("_badmap")),to}}catch{Q&&Q(Di)}}if(Ut){ke=jn.join("&");break e}}ke=void 0}return v=v.i.splice(0,q),L.G=v,ke}function kr(v){if(!v.g&&!v.v){v.Y=1;var L=v.Da;I||E(),P||(I(),P=!0),C.add(L,v),v.A=0}}function aa(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Xs(d(v.Da,v),xd(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,rl(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Xs(d(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Jt(10),ki(this),rl(this))};function jc(v){v.B!=null&&(a.clearTimeout(v.B),v.B=null)}function rl(v){v.g=new Xi(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var L=Yi(v.na);Ft(L,"RID","rpc"),Ft(L,"SID",v.M),Ft(L,"AID",v.K),Ft(L,"CI",v.F?"0":"1"),!v.F&&v.ia&&Ft(L,"TO",v.ia),Ft(L,"TYPE","xmlhttp"),sa(v,L),v.u&&v.o&&hd(L,v.u,v.o),v.O&&(v.g.H=v.O);var q=v.g;v=v.ba,q.M=1,q.A=Ya(Yi(L)),q.u=null,q.R=!0,Lh(q,v)}t.Va=function(){this.C!=null&&(this.C=null,ki(this),aa(this),Jt(19))};function yd(v){v.C!=null&&(a.clearTimeout(v.C),v.C=null)}function vd(v,L){var q=null;if(v.g==L){yd(v),jc(v),v.g=null;var Q=2}else if(Bh(v.h,L))q=L.G,Cc(v.h,L),Q=1;else return;if(v.I!=0){if(L.o)if(Q==1){q=L.u?L.u.length:0,L=Date.now()-L.F;var ue=v.D;Q=Gs(),oe(Q,new ii(Q,q)),eo(v)}else kr(v);else if(ue=L.m,ue==3||ue==0&&L.X>0||!(Q==1&&sy(v,L)||Q==2&&aa(v)))switch(q&&q.length>0&&(L=v.h,L.i=L.i.concat(q)),ue){case 1:Ri(v,5);break;case 4:Ri(v,10);break;case 3:Ri(v,6);break;default:Ri(v,2)}}}function xd(v,L){let q=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(q*=2),q*L}function Ri(v,L){if(v.j.info("Error code "+L),L==2){var q=d(v.bb,v),Q=v.Ua;const ue=!Q;Q=new Qs(Q||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ec(Q,"https"),Ya(Q),ue?ta(Q.toString(),q):na(Q.toString(),q)}else Jt(2);v.I=0,v.l&&v.l.pa(L),kc(v),gd(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function kc(v){if(v.I=0,v.ja=[],v.l){const L=Ai(v.h);(L.length!=0||v.i.length!=0)&&(x(v.ja,L),x(v.ja,v.i),v.h.i.length=0,y(v.i),v.i.length=0),v.l.oa()}}function Qh(v,L,q){var Q=q instanceof Qs?Yi(q):new Qs(q);if(Q.g!="")L&&(Q.g=L+"."+Q.g),Js(Q,Q.u);else{var ue=a.location;Q=ue.protocol,L=L?L+"."+ue.hostname:ue.hostname,ue=+ue.port;const ge=new Qs(null);Q&&Ec(ge,Q),L&&(ge.g=L),ue&&Js(ge,ue),q&&(ge.h=q),Q=ge}return q=v.G,L=v.wa,q&&L&&Ft(Q,q,L),Ft(Q,"VER",v.ka),sa(v,Q),Q}function ay(v,L,q){if(L&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return L=v.Aa&&!v.ma?new Gt(new Qa({ab:q})):new Gt(v.ma),L.Fa(v.L),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function oy(){}t=oy.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function bd(){}bd.prototype.g=function(v,L){return new vr(v,L)};function vr(v,L){dt.call(this),this.g=new md(L),this.l=v,this.h=L&&L.messageUrlParams||null,v=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(v?v["X-WebChannel-Content-Type"]=L.messageContentType:v={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.sa&&(v?v["X-WebChannel-Client-Profile"]=L.sa:v={"X-WebChannel-Client-Profile":L.sa}),this.g.U=v,(v=L&&L.Qb)&&!F(v)&&(this.g.u=v),this.A=L&&L.supportsCrossDomainXhr||!1,this.v=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!F(L)&&(this.g.G=L,v=this.h,v!==null&&L in v&&(v=this.h,L in v&&delete v[L])),this.j=new il(this)}m(vr,dt),vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){pd(this.g)},vr.prototype.o=function(v){var L=this.g;if(typeof v=="string"){var q={};q.__data__=v,v=q}else this.v&&(q={},q.__data__=kt(v),v=q);L.i.push(new Pw(L.Ya++,v)),L.I==3&&eo(L)},vr.prototype.N=function(){this.g.l=null,delete this.j,pd(this.g),delete this.g,vr.Z.N.call(this)};function ly(v){Ti.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var L=v.__sm__;if(L){e:{for(const q in L){v=q;break e}v=void 0}(this.i=v)&&(v=this.i,L=L!==null&&v in L?L[v]:void 0),this.data=L}else this.data=v}m(ly,Ti);function cy(){Qo.call(this),this.status=1}m(cy,Qo);function il(v){this.g=v}m(il,oy),il.prototype.ra=function(){oe(this.g,"a")},il.prototype.qa=function(v){oe(this.g,new ly(v))},il.prototype.pa=function(v){oe(this.g,new cy)},il.prototype.oa=function(){oe(this.g,"b")},bd.prototype.createWebChannel=bd.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,M6=function(){return new bd},O6=function(){return Gs()},D6=tr,hE={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,$v=jr,Ln.COMPLETE="complete",R6=Ln,Ks.EventType=Wr,Wr.OPEN="a",Wr.CLOSE="b",Wr.ERROR="c",Wr.MESSAGE="d",dt.prototype.listen=dt.prototype.J,Km=Ks,Gt.prototype.listenOnce=Gt.prototype.K,Gt.prototype.getLastError=Gt.prototype.Ha,Gt.prototype.getLastErrorCode=Gt.prototype.ya,Gt.prototype.getStatus=Gt.prototype.ca,Gt.prototype.getResponseJson=Gt.prototype.La,Gt.prototype.getResponseText=Gt.prototype.la,Gt.prototype.send=Gt.prototype.ea,Gt.prototype.setWithCredentials=Gt.prototype.Fa,k6=Gt}).apply(typeof iv<"u"?iv:typeof self<"u"?self:typeof window<"u"?window:{});class lr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");let dh="12.9.0";function fY(t){dh=t}const Ql=new NT("@firebase/firestore");function tf(){return Ql.logLevel}function hY(t){Ql.setLogLevel(t)}function _e(t,...e){if(Ql.logLevel<=Ct.DEBUG){const n=e.map(ST);Ql.debug(`Firestore (${dh}): ${t}`,...n)}}function Dn(t,...e){if(Ql.logLevel<=Ct.ERROR){const n=e.map(ST);Ql.error(`Firestore (${dh}): ${t}`,...n)}}function bi(t,...e){if(Ql.logLevel<=Ct.WARN){const n=e.map(ST);Ql.warn(`Firestore (${dh}): ${t}`,...n)}}function ST(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,L6(t,r,n)}function L6(t,e,n){let r=`FIRESTORE (${dh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Dn(r),new Error(r)}function He(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||L6(e,i,r)}function mY(t,e){t||Le(57014,e)}function Re(t,e){return t}const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends qa{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class V6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(lr.UNAUTHENTICATED)))}shutdown(){}}class pY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class gY{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new dr,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const c=s;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new dr)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string",31837,{l:r}),new V6(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string",2055,{h:e}),new lr(e)}}class yY{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class vY{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yY(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(lr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xY{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){He(this.o===void 0,3512);const r=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(He(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class bY{getToken(){return Promise.resolve(new mE(""))}invalidateToken(){}start(e,n){}shutdown(){}}function wY(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class Jx{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wY(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ot(t,e){return t<e?-1:t>e?1:0}function pE(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return l_(i)===l_(s)?ot(i,s):l_(i)?1:-1}return ot(t.length,e.length)}const _Y=55296,NY=57343;function l_(t){const e=t.charCodeAt(0);return e>=_Y&&e<=NY}function Rf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function B6(t){return t+"\0"}const gE="__name__";class xa{constructor(e,n,r){n===void 0?n=0:n>e.length&&Le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return xa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xa?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=xa.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ot(e.length,n.length)}static compareSegments(e,n){const r=xa.isNumericId(e),i=xa.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?xa.extractNumericId(e).compare(xa.extractNumericId(n)):pE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ql.fromString(e.substring(4,e.length-2))}}class bt extends xa{construct(e,n,r){return new bt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new bt(n)}static emptyPath(){return new bt([])}}const CY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class un extends xa{construct(e,n,r){return new un(e,n,r)}static isValidIdentifier(e){return CY.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gE}static keyField(){return new un([gE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new xe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new xe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new xe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new xe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new un(n)}static emptyPath(){return new un([])}}class je{constructor(e){this.path=e}static fromPath(e){return new je(bt.fromString(e))}static fromName(e){return new je(bt.fromString(e).popFirst(5))}static empty(){return new je(bt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&bt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return bt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new bt(e.slice()))}}function TT(t,e,n){if(!n)throw new xe(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function z6(t,e,n,r){if(e===!0&&r===!0)throw new xe(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function qk(t){if(!je.isDocumentKey(t))throw new xe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hk(t){if(je.isDocumentKey(t))throw new xe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function U6(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Zx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le(12329,{type:typeof t})}function wt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Zx(t);throw new xe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function $6(t,e){if(e<=0)throw new xe(he.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}function $n(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gu(t,e){if(!U6(t))throw new xe(he.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new xe(he.INVALID_ARGUMENT,n);return!0}const Wk=-62135596800,Kk=1e6;class vt{static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Kk);return new vt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Wk)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Kk}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:vt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gu(e,vt._jsonSchema))return new vt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Wk;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}vt._jsonSchemaVersion="firestore/timestamp/1.0",vt._jsonSchema={type:$n("string",vt._jsonSchemaVersion),seconds:$n("number"),nanoseconds:$n("number")};class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new vt(0,0))}static max(){return new Qe(new vt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Df=-1;class Of{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function yE(t){return t.fields.find((e=>e.kind===2))}function Yc(t){return t.fields.filter((e=>e.kind!==2))}function EY(t,e){let n=ot(t.collectionGroup,e.collectionGroup);if(n!==0)return n;for(let r=0;r<Math.min(t.fields.length,e.fields.length);++r)if(n=SY(t.fields[r],e.fields[r]),n!==0)return n;return ot(t.fields.length,e.fields.length)}Of.UNKNOWN_ID=-1;class yu{constructor(e,n){this.fieldPath=e,this.kind=n}}function SY(t,e){const n=un.comparator(t.fieldPath,e.fieldPath);return n!==0?n:ot(t.kind,e.kind)}class Mf{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Mf(0,Hi.min())}}function q6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Hi(i,je.empty(),e)}function H6(t){return new Hi(t.readTime,t.key,Df)}class Hi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hi(Qe.min(),je.empty(),Df)}static max(){return new Hi(Qe.max(),je.empty(),Df)}}function PT(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}const W6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function dc(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==W6)throw t;_e("LocalStore","Unexpectedly lost primary lease")}class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new le(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof le?n:le.resolve(n)}catch(n){return le.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):le.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):le.reject(n)}static resolve(e){return new le(((n,r)=>{n(e)}))}static reject(e){return new le(((n,r)=>{r(e)}))}static waitFor(e){return new le(((n,r)=>{let i=0,s=0,a=!1;e.forEach((l=>{++i,l.next((()=>{++s,a&&s===i&&n()}),(c=>r(c)))})),a=!0,s===i&&n()}))}static or(e){let n=le.resolve(!1);for(const r of e)n=n.next((i=>i?le.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new le(((r,i)=>{const s=e.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const d=c;n(e[d]).next((f=>{a[d]=f,++l,l===s&&r(a)}),(f=>i(f)))}}))}static doWhile(e,n){return new le(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}const Vi="SimpleDb";class eb{static open(e,n,r,i){try{return new eb(n,e.transaction(i,r))}catch(s){throw new rp(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new dr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new rp(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=AT(r.target.error);this.S.reject(new rp(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(_e(Vi,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new PY(n)}}class Ra{static delete(e){return _e(Vi,"Removing database:",e),ru(g6().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!E6())return!1;if(Ra.F())return!0;const e=Yn(),n=Ra.M(e),r=0<n&&n<10,i=G6(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Ra.M(Yn())===12.2&&Dn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(_e(Vi,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new rp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new xe(he.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new xe(he.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new rp(e,a))},i.onupgradeneeded=s=>{_e(Vi,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.N.k(a,i.transaction,s.oldVersion,this.version).next((()=>{_e(Vi,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=n=>this.K(n)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.L(e);const l=eb.open(this.db,e,s?"readonly":"readwrite",r),c=i(l).next((d=>(l.C(),d))).catch((d=>(l.abort(d),le.reject(d)))).toPromise();return c.catch((()=>{})),await l.D,c}catch(l){const c=l,d=c.name!=="FirebaseError"&&a<3;if(_e(Vi,"Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function G6(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class TY{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return ru(this.U.delete())}}class rp extends xe{constructor(e,n){super(he.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function fc(t){return t.name==="IndexedDbTransactionError"}class PY{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(_e(Vi,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(_e(Vi,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ru(r)}add(e){return _e(Vi,"ADD",this.store.name,e,e),ru(this.store.add(e))}get(e){return ru(this.store.get(e)).next((n=>(n===void 0&&(n=null),_e(Vi,"GET",this.store.name,e,n),n)))}delete(e){return _e(Vi,"DELETE",this.store.name,e),ru(this.store.delete(e))}count(){return _e(Vi,"COUNT",this.store.name),ru(this.store.count())}H(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new le(((a,l)=>{s.onerror=c=>{l(c.target.error)},s.onsuccess=c=>{a(c.target.result)}}))}{const s=this.cursor(r),a=[];return this.J(s,((l,c)=>{a.push(c)})).next((()=>a))}}Z(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new le(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}X(e,n){_e(Vi,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Y=!1;const i=this.cursor(r);return this.J(i,((s,a,l)=>l.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}te(e){const n=this.cursor({});return new le(((r,i)=>{n.onerror=s=>{const a=AT(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((l=>{l?a.continue():r()})):r()}}))}J(e,n){const r=[];return new le(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const l=a.target.result;if(!l)return void i();const c=new TY(l),d=n(l.primaryKey,l.value,c);if(d instanceof le){const f=d.catch((m=>(c.done(),le.reject(m))));r.push(f)}c.isDone?i():c.G===null?l.continue():l.continue(c.G)}})).next((()=>le.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ru(t){return new le(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=AT(r.target.error);n(i)}}))}let Gk=!1;function AT(t){const e=Ra.M(Yn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Gk||(Gk=!0,setTimeout((()=>{throw r}),0)),r}}return t}const ip="IndexBackfiller";class AY{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){_e(ip,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();_e(ip,`Documents written: ${n}`)}catch(n){fc(n)?_e(ip,"Ignoring IndexedDB error during index backfill: ",n):await dc(n)}await this.re(6e4)}))}}class IY{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,s=!0;return le.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return _e(ip,`Processing collection: ${a}`),this.oe(e,a,i).next((l=>{i-=l,r.add(a)}));s=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this._e(i,s))).next((l=>(_e(ip,`Updating offset: ${l}`),this.localStore.indexManager.updateCollectionGroup(e,n,l)))).next((()=>a.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=H6(s);PT(a,r)>0&&(r=a)})),new Hi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class mi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mi.ce=-1;const Hl=-1;function og(t){return t==null}function Cp(t){return t===0&&1/t==-1/0}function X6(t){return typeof t=="number"&&Number.isInteger(t)&&!Cp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const b0="";function Ur(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Xk(e)),e=jY(t.get(n),e);return Xk(e)}function jY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case b0:n+="";break;default:n+=s}}return n}function Xk(t){return t+b0+""}function Sa(t){const e=t.length;if(He(e>=2,64408,{path:t}),e===2)return He(t.charAt(0)===b0&&t.charAt(1)==="",56145,{path:t}),bt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf(b0,s);switch((a<0||a>n)&&Le(50515,{path:t}),t.charAt(a+1)){case"":const l=t.substring(s,a);let c;i.length===0?c=l:(i+=l,c=i,i=""),r.push(c);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Le(61167,{path:t})}s=a+2}return new bt(r)}const Qc="remoteDocuments",lg="owner",Ud="owner",Ep="mutationQueues",kY="userId",As="mutations",Yk="batchId",lu="userMutationsIndex",Qk=["userId","batchId"];function qv(t,e){return[t,Ur(e)]}function Y6(t,e,n){return[t,Ur(e),n]}const RY={},Lf="documentMutations",w0="remoteDocumentsV14",DY=["prefixPath","collectionGroup","readTime","documentId"],Hv="documentKeyIndex",OY=["prefixPath","collectionGroup","documentId"],Q6="collectionGroupIndex",MY=["collectionGroup","readTime","prefixPath","documentId"],Sp="remoteDocumentGlobal",vE="remoteDocumentGlobalKey",Vf="targets",J6="queryTargetsIndex",LY=["canonicalId","targetId"],Ff="targetDocuments",VY=["targetId","path"],IT="documentTargetsIndex",FY=["path","targetId"],_0="targetGlobalKey",vu="targetGlobal",Tp="collectionParents",BY=["collectionId","parent"],Bf="clientMetadata",zY="clientId",tb="bundles",UY="bundleId",nb="namedQueries",$Y="name",jT="indexConfiguration",qY="indexId",xE="collectionGroupIndex",HY="collectionGroup",sp="indexState",WY=["indexId","uid"],Z6="sequenceNumberIndex",KY=["uid","sequenceNumber"],ap="indexEntries",GY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],eF="documentKeyIndex",XY=["indexId","uid","orderedDocumentKey"],rb="documentOverlays",YY=["userId","collectionPath","documentId"],bE="collectionPathOverlayIndex",QY=["userId","collectionPath","largestBatchId"],tF="collectionGroupOverlayIndex",JY=["userId","collectionGroup","largestBatchId"],kT="globals",ZY="name",nF=[Ep,As,Lf,Qc,Vf,lg,vu,Ff,Bf,Sp,Tp,tb,nb],eQ=[...nF,rb],rF=[Ep,As,Lf,w0,Vf,lg,vu,Ff,Bf,Sp,Tp,tb,nb,rb],iF=rF,RT=[...iF,jT,sp,ap],tQ=RT,sF=[...RT,kT],nQ=sF;class wE extends K6{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Jn(t,e){const n=Re(t);return Ra.O(n.le,e)}function Jk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function hc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aF(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function oF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class nn{constructor(e,n){this.comparator=e,this.root=n||Cr.EMPTY}insert(e,n){return new nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Cr.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Cr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sv(this.root,e,this.comparator,!1)}getReverseIterator(){return new sv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sv(this.root,e,this.comparator,!0)}}class sv{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Cr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Cr.RED,this.left=i??Cr.EMPTY,this.right=s??Cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Cr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Cr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Le(27949);return e+(this.isRed()?0:1)}}Cr.EMPTY=null,Cr.RED=!0,Cr.BLACK=!1;Cr.EMPTY=new class{constructor(){this.size=0}get key(){throw Le(57766)}get value(){throw Le(16141)}get color(){throw Le(16727)}get left(){throw Le(29726)}get right(){throw Le(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Cr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wt{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zk(this.data.getIterator())}getIteratorFrom(e){return new Zk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class Zk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $d(t){return t.hasNext()?t.getNext():void 0}class pi{constructor(e){this.fields=e,e.sort(un.comparator)}static empty(){return new pi([])}unionWith(e){let n=new Wt(un.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new pi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Rf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class lF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function rQ(){return typeof atob<"u"}class Nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lF("Invalid base64 string: "+s):s}})(e);return new Nn(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nn.EMPTY_BYTE_STRING=new Nn("");const iQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(t){if(He(!!t,39018),typeof t=="string"){let e=0;const n=iQ.exec(t);if(He(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hn(t.seconds),nanos:hn(t.nanos)}}function hn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function To(t){return typeof t=="string"?Nn.fromBase64String(t):Nn.fromUint8Array(t)}const cF="server_timestamp",uF="__type__",dF="__previous_value__",fF="__local_write_time__";function ib(t){return(t?.mapValue?.fields||{})[uF]?.stringValue===cF}function sb(t){const e=t.mapValue.fields[dF];return ib(e)?sb(e):e}function Pp(t){const e=So(t.mapValue.fields[fF].timestampValue);return new vt(e.seconds,e.nanos)}class sQ{constructor(e,n,r,i,s,a,l,c,d,f,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f,this.apiKey=m}}const Ap="(default)";class Jl{constructor(e,n){this.projectId=e,this.database=n||Ap}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Ap}isEqual(e){return e instanceof Jl&&e.projectId===this.projectId&&e.database===this.database}}function aQ(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new xe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(t.options.projectId,e)}const DT="__type__",hF="__max__",Vl={mapValue:{fields:{__type__:{stringValue:hF}}}},OT="__vector__",zf="value",Wv={nullValue:"NULL_VALUE"};function Zl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ib(t)?4:mF(t)?9007199254740991:ab(t)?10:11:Le(28295,{value:t})}function Va(t,e){if(t===e)return!0;const n=Zl(t);if(n!==Zl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pp(t).isEqual(Pp(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=So(i.timestampValue),l=So(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return To(i.bytesValue).isEqual(To(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return hn(i.geoPointValue.latitude)===hn(s.geoPointValue.latitude)&&hn(i.geoPointValue.longitude)===hn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return hn(i.integerValue)===hn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=hn(i.doubleValue),l=hn(s.doubleValue);return a===l?Cp(a)===Cp(l):isNaN(a)&&isNaN(l)}return!1})(t,e);case 9:return Rf(t.arrayValue.values||[],e.arrayValue.values||[],Va);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Jk(a)!==Jk(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Va(a[c],l[c])))return!1;return!0})(t,e);default:return Le(52216,{left:t})}}function Ip(t,e){return(t.values||[]).find((n=>Va(n,e)))!==void 0}function ec(t,e){if(t===e)return 0;const n=Zl(t),r=Zl(e);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const l=hn(s.integerValue||s.doubleValue),c=hn(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return eR(t.timestampValue,e.timestampValue);case 4:return eR(Pp(t),Pp(e));case 5:return pE(t.stringValue,e.stringValue);case 6:return(function(s,a){const l=To(s),c=To(a);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const l=s.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const f=ot(l[d],c[d]);if(f!==0)return f}return ot(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const l=ot(hn(s.latitude),hn(a.latitude));return l!==0?l:ot(hn(s.longitude),hn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return tR(t.arrayValue,e.arrayValue);case 10:return(function(s,a){const l=s.fields||{},c=a.fields||{},d=l[zf]?.arrayValue,f=c[zf]?.arrayValue,m=ot(d?.values?.length||0,f?.values?.length||0);return m!==0?m:tR(d,f)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===Vl.mapValue&&a===Vl.mapValue)return 0;if(s===Vl.mapValue)return 1;if(a===Vl.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),d=a.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let m=0;m<c.length&&m<f.length;++m){const p=pE(c[m],f[m]);if(p!==0)return p;const y=ec(l[c[m]],d[f[m]]);if(y!==0)return y}return ot(c.length,f.length)})(t.mapValue,e.mapValue);default:throw Le(23264,{he:n})}}function eR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=So(t),r=So(e),i=ot(n.seconds,r.seconds);return i!==0?i:ot(n.nanos,r.nanos)}function tR(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ec(n[i],r[i]);if(s)return s}return ot(n.length,r.length)}function Uf(t){return _E(t)}function _E(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=So(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return To(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=_E(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${_E(n.fields[a])}`;return i+"}"})(t.mapValue):Le(61005,{value:t})}function Kv(t){switch(Zl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sb(t);return e?16+Kv(e):16;case 5:return 2*t.stringValue.length;case 6:return To(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+Kv(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return hc(r.fields,((s,a)=>{i+=s.length+Kv(a)})),i})(t.mapValue);default:throw Le(13486,{value:t})}}function Pu(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function NE(t){return!!t&&"integerValue"in t}function jp(t){return!!t&&"arrayValue"in t}function nR(t){return!!t&&"nullValue"in t}function rR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gv(t){return!!t&&"mapValue"in t}function ab(t){return(t?.mapValue?.fields||{})[DT]?.stringValue===OT}function op(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return hc(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=op(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=op(t.arrayValue.values[n]);return e}return{...t}}function mF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===hF}const pF={mapValue:{fields:{[DT]:{stringValue:OT},[zf]:{arrayValue:{}}}}};function oQ(t){return"nullValue"in t?Wv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Pu(Jl.empty(),je.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?ab(t)?pF:{mapValue:{}}:Le(35942,{value:t})}function lQ(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Pu(Jl.empty(),je.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?pF:"mapValue"in t?ab(t)?{mapValue:{}}:Vl:Le(61959,{value:t})}function iR(t,e){const n=ec(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function sR(t,e){const n=ec(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class ur{constructor(e){this.value=e}static empty(){return new ur({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=op(n)}setAll(e){let n=un.emptyPath(),r={},i=[];e.forEach(((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=op(a):i.push(l.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Gv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Va(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){hc(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new ur(op(this.value))}}function gF(t){const e=[];return hc(t.fields,((n,r)=>{const i=new un([n]);if(Gv(r)){const s=gF(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new pi(e)}class cn{constructor(e,n,r,i,s,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(e){return new cn(e,0,Qe.min(),Qe.min(),Qe.min(),ur.empty(),0)}static newFoundDocument(e,n,r,i){return new cn(e,1,n,Qe.min(),r,i,0)}static newNoDocument(e,n){return new cn(e,2,n,Qe.min(),Qe.min(),ur.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,Qe.min(),Qe.min(),ur.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ur.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ur.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tc{constructor(e,n){this.position=e,this.inclusive=n}}function aR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=je.comparator(je.fromName(a.referenceValue),n.key):r=ec(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function oR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Va(t.position[n],e.position[n]))return!1;return!0}class kp{constructor(e,n="asc"){this.field=e,this.dir=n}}function cQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class yF{}class Et extends yF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uQ(e,n,r):n==="array-contains"?new hQ(e,r):n==="in"?new NF(e,r):n==="not-in"?new mQ(e,r):n==="array-contains-any"?new pQ(e,r):new Et(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dQ(e,r):new fQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ec(n,this.value)):n!==null&&Zl(this.value)===Zl(n)&&this.matchesComparison(ec(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qt extends yF{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new qt(e,n)}matches(e){return $f(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $f(t){return t.op==="and"}function CE(t){return t.op==="or"}function MT(t){return vF(t)&&$f(t)}function vF(t){for(const e of t.filters)if(e instanceof qt)return!1;return!0}function EE(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+Uf(t.value);if(MT(t))return t.filters.map((e=>EE(e))).join(",");{const e=t.filters.map((n=>EE(n))).join(",");return`${t.op}(${e})`}}function xF(t,e){return t instanceof Et?(function(r,i){return i instanceof Et&&r.op===i.op&&r.field.isEqual(i.field)&&Va(r.value,i.value)})(t,e):t instanceof qt?(function(r,i){return i instanceof qt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,l)=>s&&xF(a,i.filters[l])),!0):!1})(t,e):void Le(19439)}function bF(t,e){const n=t.filters.concat(e);return qt.create(n,t.op)}function wF(t){return t instanceof Et?(function(n){return`${n.field.canonicalString()} ${n.op} ${Uf(n.value)}`})(t):t instanceof qt?(function(n){return n.op.toString()+" {"+n.getFilters().map(wF).join(" ,")+"}"})(t):"Filter"}class uQ extends Et{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class dQ extends Et{constructor(e,n){super(e,"in",n),this.keys=_F("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class fQ extends Et{constructor(e,n){super(e,"not-in",n),this.keys=_F("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function _F(t,e){return(e.arrayValue?.values||[]).map((n=>je.fromName(n.referenceValue)))}class hQ extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&Ip(n.arrayValue,this.value)}}class NF extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ip(this.value.arrayValue,n)}}class mQ extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ip(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ip(this.value.arrayValue,n)}}class pQ extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Ip(this.value.arrayValue,r)))}}class gQ{constructor(e,n=null,r=[],i=[],s=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.Te=null}}function SE(t,e=null,n=[],r=[],i=null,s=null,a=null){return new gQ(t,e,n,r,i,s,a)}function Au(t){const e=Re(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>EE(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),og(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Uf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Uf(r))).join(",")),e.Te=n}return e.Te}function cg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!oR(t.startAt,e.startAt)&&oR(t.endAt,e.endAt)}function N0(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function C0(t,e){return t.filters.filter((n=>n instanceof Et&&n.field.isEqual(e)))}function lR(t,e,n){let r=Wv,i=!0;for(const s of C0(t,e)){let a=Wv,l=!0;switch(s.op){case"<":case"<=":a=oQ(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,l=!1;break;case"!=":case"not-in":a=Wv}iR({value:r,inclusive:i},{value:a,inclusive:l})<0&&(r=a,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];iR({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function cR(t,e,n){let r=Vl,i=!0;for(const s of C0(t,e)){let a=Vl,l=!0;switch(s.op){case">=":case">":a=lQ(s.value),l=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,l=!1;break;case"!=":case"not-in":a=Vl}sR({value:r,inclusive:i},{value:a,inclusive:l})>0&&(r=a,i=l)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];sR({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}class Lo{constructor(e,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function CF(t,e,n,r,i,s,a,l){return new Lo(t,e,n,r,i,s,a,l)}function fh(t){return new Lo(t)}function uR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yQ(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function LT(t){return t.collectionGroup!==null}function bf(t){const e=Re(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new Wt(un.comparator);return a.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(l=l.add(d.field))}))})),l})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new kp(s,r))})),n.has(un.keyField().canonicalString())||e.Ie.push(new kp(un.keyField(),r))}return e.Ie}function $r(t){const e=Re(t);return e.Ee||(e.Ee=SF(e,bf(t))),e.Ee}function EF(t){const e=Re(t);return e.Re||(e.Re=SF(e,t.explicitOrderBy)),e.Re}function SF(t,e){if(t.limitType==="F")return SE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new kp(i.field,s)}));const n=t.endAt?new tc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new tc(t.startAt.position,t.startAt.inclusive):null;return SE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function TE(t,e){const n=t.filters.concat([e]);return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vQ(t,e){const n=t.explicitOrderBy.concat([e]);return new Lo(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function E0(t,e,n){return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xQ(t,e){return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}function bQ(t,e){return new Lo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}function ug(t,e){return cg($r(t),$r(e))&&t.limitType===e.limitType}function TF(t){return`${Au($r(t))}|lt:${t.limitType}`}function nf(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>wF(i))).join(", ")}]`),og(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>Uf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>Uf(i))).join(",")),`Target(${r})`})($r(t))}; limitType=${t.limitType})`}function dg(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):je.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of bf(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,l,c){const d=aR(a,l,c);return a.inclusive?d<=0:d<0})(r.startAt,bf(r),i)||r.endAt&&!(function(a,l,c){const d=aR(a,l,c);return a.inclusive?d>=0:d>0})(r.endAt,bf(r),i))})(t,e)}function PF(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AF(t){return(e,n)=>{let r=!1;for(const i of bf(t)){const s=wQ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function wQ(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):(function(s,a,l){const c=a.data.field(s),d=l.data.field(s);return c!==null&&d!==null?ec(c,d):Le(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Le(19790,{direction:t.dir})}}class Vo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){hc(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return oF(this.inner)}size(){return this.innerSize}}const _Q=new nn(je.comparator);function gi(){return _Q}const IF=new nn(je.comparator);function Gm(...t){let e=IF;for(const n of t)e=e.insert(n.key,n);return e}function jF(t){let e=IF;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Ta(){return lp()}function kF(){return lp()}function lp(){return new Vo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const NQ=new nn(je.comparator),CQ=new Wt(je.comparator);function gt(...t){let e=CQ;for(const n of t)e=e.add(n);return e}const EQ=new Wt(ot);function VT(){return EQ}function FT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cp(e)?"-0":e}}function RF(t){return{integerValue:""+t}}function DF(t,e){return X6(e)?RF(e):FT(t,e)}class ob{constructor(){this._=void 0}}function SQ(t,e,n){return t instanceof qf?(function(i,s){const a={fields:{[uF]:{stringValue:cF},[fF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ib(s)&&(s=sb(s)),s&&(a.fields[dF]=s),{mapValue:a}})(n,e):t instanceof Iu?MF(t,e):t instanceof ju?LF(t,e):(function(i,s){const a=OF(i,s),l=dR(a)+dR(i.Ae);return NE(a)&&NE(i.Ae)?RF(l):FT(i.serializer,l)})(t,e)}function TQ(t,e,n){return t instanceof Iu?MF(t,e):t instanceof ju?LF(t,e):n}function OF(t,e){return t instanceof Hf?(function(r){return NE(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class qf extends ob{}class Iu extends ob{constructor(e){super(),this.elements=e}}function MF(t,e){const n=VF(e);for(const r of t.elements)n.some((i=>Va(i,r)))||n.push(r);return{arrayValue:{values:n}}}class ju extends ob{constructor(e){super(),this.elements=e}}function LF(t,e){let n=VF(e);for(const r of t.elements)n=n.filter((i=>!Va(i,r)));return{arrayValue:{values:n}}}class Hf extends ob{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function dR(t){return hn(t.integerValue||t.doubleValue)}function VF(t){return jp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class fg{constructor(e,n){this.field=e,this.transform=n}}function PQ(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Iu&&i instanceof Iu||r instanceof ju&&i instanceof ju?Rf(r.elements,i.elements,Va):r instanceof Hf&&i instanceof Hf?Va(r.Ae,i.Ae):r instanceof qf&&i instanceof qf})(t.transform,e.transform)}class AQ{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class lb{}function FF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mh(t.key,mn.none()):new hh(t.key,t.data,mn.none());{const n=t.data,r=ur.empty();let i=new Wt(un.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Fo(t.key,r,new pi(i.toArray()),mn.none())}}function IQ(t,e,n){t instanceof hh?(function(i,s,a){const l=i.value.clone(),c=hR(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):t instanceof Fo?(function(i,s,a){if(!Xv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=hR(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(BF(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function cp(t,e,n,r){return t instanceof hh?(function(s,a,l,c){if(!Xv(s.precondition,a))return l;const d=s.value.clone(),f=mR(s.fieldTransforms,c,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Fo?(function(s,a,l,c){if(!Xv(s.precondition,a))return l;const d=mR(s.fieldTransforms,c,a),f=a.data;return f.setAll(BF(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,a,l){return Xv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l})(t,e,n)}function jQ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=OF(r.transform,i||null);s!=null&&(n===null&&(n=ur.empty()),n.set(r.field,s))}return n||null}function fR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Rf(r,i,((s,a)=>PQ(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hh extends lb{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fo extends lb{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function BF(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function hR(t,e,n){const r=new Map;He(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,l=e.data.field(s.field);r.set(s.field,TQ(a,l,n[i]))}return r}function mR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,SQ(s,a,e))}return r}class mh extends lb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BT extends lb{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zT{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&IQ(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=cp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=cp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kF();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=FF(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(Qe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),gt())}isEqual(e){return this.batchId===e.batchId&&Rf(this.mutations,e.mutations,((n,r)=>fR(n,r)))&&Rf(this.baseMutations,e.baseMutations,((n,r)=>fR(n,r)))}}class UT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return NQ})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new UT(e,n,r,i)}}class $T{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zF{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}class kQ{constructor(e,n){this.count=e,this.unchangedNames=n}}var Bn,Tt;function UF(t){switch(t){case he.OK:return Le(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Le(15467,{code:t})}}function $F(t){if(t===void 0)return Dn("GRPC error has no .code"),he.UNKNOWN;switch(t){case Bn.OK:return he.OK;case Bn.CANCELLED:return he.CANCELLED;case Bn.UNKNOWN:return he.UNKNOWN;case Bn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Bn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Bn.INTERNAL:return he.INTERNAL;case Bn.UNAVAILABLE:return he.UNAVAILABLE;case Bn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Bn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Bn.NOT_FOUND:return he.NOT_FOUND;case Bn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Bn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Bn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Bn.ABORTED:return he.ABORTED;case Bn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Bn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Bn.DATA_LOSS:return he.DATA_LOSS;default:return Le(39323,{code:t})}}(Tt=Bn||(Bn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";let PE=null;function RQ(t){if(PE)throw new Error("a TestingHooksSpi instance is already set");PE=t}function qF(){return new TextEncoder}const DQ=new ql([4294967295,4294967295],0);function pR(t){const e=qF().encode(t),n=new j6;return n.update(e),new Uint8Array(n.digest())}function gR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ql([n,r],0),new ql([i,s],0)]}class qT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xm(`Invalid padding: ${n}`);if(r<0)throw new Xm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xm(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ql.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(ql.fromNumber(r)));return i.compare(DQ)===1&&(i=new ql([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=pR(e),[r,i]=gR(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new qT(s,i,n);return r.forEach((l=>a.insert(l))),a}insert(e){if(this.ge===0)return;const n=pR(e),[r,i]=gR(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.be(a)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mg.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new hg(Qe.min(),i,new nn(ot),gi(),gt())}}class mg{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mg(r,n,gt(),gt(),gt())}}class Yv{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class HF{constructor(e,n){this.targetId=e,this.Ce=n}}class WF{constructor(e,n,r=Nn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class yR{constructor(){this.ve=0,this.Fe=vR(),this.Me=Nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=gt(),n=gt(),r=gt();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Le(38017,{changeType:s})}})),new mg(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=vR()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,He(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class OQ{constructor(e){this.Ge=e,this.ze=new Map,this.je=gi(),this.He=av(),this.Je=av(),this.Ze=new nn(ot)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Le(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(N0(s))if(r===0){const a=new je(s.path);this.et(n,a,cn.newNoDocument(a,Qe.min()))}else He(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}PE?.lt((function(f,m,p,y,x){const b={localCacheCount:f,existenceFilterCount:m.count,databaseId:p.database,projectId:p.projectId},_=m.unchangedNames;return _&&(b.bloomFilter={applied:x===0,hashCount:_?.hashCount??0,bitmapLength:_?.bits?.bitmap?.length??0,padding:_?.bits?.padding??0,mightContain:S=>y?.mightContain(S)??!1}),b})(a,e.Ce,this.Ge.ht(),l,c))}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=To(r).toUint8Array()}catch(c){if(c instanceof lF)return bi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new qT(a,i,s)}catch(c){return bi(c instanceof Xm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.et(n,s,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((s,a)=>{const l=this.ot(a);if(l){if(s.current&&N0(l.target)){const c=new je(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,cn.newNoDocument(c,e))}s.Be&&(n.set(a,s.ke()),s.Ke())}}));let r=gt();this.Je.forEach(((s,a)=>{let l=!0;a.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new hg(e,n,this.Ze,this.je,r);return this.je=gi(),this.He=av(),this.Je=av(),this.Ze=new nn(ot),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new yR,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Wt(ot),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Wt(ot),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new yR),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function av(){return new nn(je.comparator)}function vR(){return new nn(je.comparator)}const MQ={asc:"ASCENDING",desc:"DESCENDING"},LQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VQ={and:"AND",or:"OR"};class FQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function AE(t,e){return t.useProto3Json||og(e)?e:{value:e}}function Wf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BQ(t,e){return Wf(t,e.toTimestamp())}function On(t){return He(!!t,49232),Qe.fromTimestamp((function(n){const r=So(n);return new vt(r.seconds,r.nanos)})(t))}function HT(t,e){return IE(t,e).canonicalString()}function IE(t,e){const n=(function(i){return new bt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function GF(t){const e=bt.fromString(t);return He(rB(e),10190,{key:e.toString()}),e}function Rp(t,e){return HT(t.databaseId,e.path)}function Da(t,e){const n=GF(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(QF(n))}function XF(t,e){return HT(t.databaseId,e)}function YF(t){const e=GF(t);return e.length===4?bt.emptyPath():QF(e)}function jE(t){return new bt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QF(t){return He(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function xR(t,e,n){return{name:Rp(t,e),fields:n.value.mapValue.fields}}function cb(t,e,n){const r=Da(t,e.name),i=On(e.updateTime),s=e.createTime?On(e.createTime):Qe.min(),a=new ur({mapValue:{fields:e.fields}}),l=cn.newFoundDocument(r,i,s,a);return n&&l.setHasCommittedMutations(),n?l.setHasCommittedMutations():l}function zQ(t,e){return"found"in e?(function(r,i){He(!!i.found,43571),i.found.name,i.found.updateTime;const s=Da(r,i.found.name),a=On(i.found.updateTime),l=i.found.createTime?On(i.found.createTime):Qe.min(),c=new ur({mapValue:{fields:i.found.fields}});return cn.newFoundDocument(s,a,l,c)})(t,e):"missing"in e?(function(r,i){He(!!i.missing,3894),He(!!i.readTime,22933);const s=Da(r,i.missing),a=On(i.readTime);return cn.newNoDocument(s,a)})(t,e):Le(7234,{result:e})}function UQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Le(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?(He(f===void 0||typeof f=="string",58123),Nn.fromBase64String(f||"")):(He(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Nn.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&(function(d){const f=d.code===void 0?he.UNKNOWN:$F(d.code);return new xe(f,d.message||"")})(a);n=new WF(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Da(t,r.document.name),s=On(r.document.updateTime),a=r.document.createTime?On(r.document.createTime):Qe.min(),l=new ur({mapValue:{fields:r.document.fields}}),c=cn.newFoundDocument(i,s,a,l),d=r.targetIds||[],f=r.removedTargetIds||[];n=new Yv(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Da(t,r.document),s=r.readTime?On(r.readTime):Qe.min(),a=cn.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Yv([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Da(t,r.document),s=r.removedTargetIds||[];n=new Yv([],s,i,null)}else{if(!("filter"in e))return Le(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new kQ(i,s),l=r.targetId;n=new HF(l,a)}}return n}function Dp(t,e){let n;if(e instanceof hh)n={update:xR(t,e.key,e.value)};else if(e instanceof mh)n={delete:Rp(t,e.key)};else if(e instanceof Fo)n={update:xR(t,e.key,e.data),updateMask:GQ(e.fieldMask)};else{if(!(e instanceof BT))return Le(16599,{dt:e.type});n={verify:Rp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const l=a.transform;if(l instanceof qf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Iu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ju)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Hf)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw Le(20930,{transform:a.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:BQ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Le(27497)})(t,e.precondition)),n}function kE(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?mn.updateTime(On(s.updateTime)):s.exists!==void 0?mn.exists(s.exists):mn.none()})(e.currentDocument):mn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,l){let c=null;if("setToServerValue"in l)He(l.setToServerValue==="REQUEST_TIME",16630,{proto:l}),c=new qf;else if("appendMissingElements"in l){const f=l.appendMissingElements.values||[];c=new Iu(f)}else if("removeAllFromArray"in l){const f=l.removeAllFromArray.values||[];c=new ju(f)}else"increment"in l?c=new Hf(a,l.increment):Le(16584,{proto:l});const d=un.fromServerFormat(l.fieldPath);return new fg(d,c)})(t,i))):[];if(e.update){e.update.name;const i=Da(t,e.update.name),s=new ur({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(c){const d=c.fieldPaths||[];return new pi(d.map((f=>un.fromServerFormat(f))))})(e.updateMask);return new Fo(i,s,a,n,r)}return new hh(i,s,n,r)}if(e.delete){const i=Da(t,e.delete);return new mh(i,n)}if(e.verify){const i=Da(t,e.verify);return new BT(i,n)}return Le(1463,{proto:e})}function $Q(t,e){return t&&t.length>0?(He(e!==void 0,14353),t.map((n=>(function(i,s){let a=i.updateTime?On(i.updateTime):On(s);return a.isEqual(Qe.min())&&(a=On(s)),new AQ(a,i.transformResults||[])})(n,e)))):[]}function JF(t,e){return{documents:[XF(t,e.path)]}}function ub(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XF(t,i);const s=(function(d){if(d.length!==0)return nB(qt.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(d){if(d.length!==0)return d.map((f=>(function(p){return{field:jl(p.field),direction:HQ(p.dir)}})(f)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=AE(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function ZF(t,e,n,r){const{ft:i,parent:s}=ub(t,e),a={},l=[];let c=0;return n.forEach((d=>{const f=r?d.alias:"aggregate_"+c++;a[f]=d.alias,d.aggregateType==="count"?l.push({alias:f,count:{}}):d.aggregateType==="avg"?l.push({alias:f,avg:{field:jl(d.fieldPath)}}):d.aggregateType==="sum"&&l.push({alias:f,sum:{field:jl(d.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:l,structuredQuery:i.structuredQuery},parent:i.parent},gt:a,parent:s}}function eB(t){let e=YF(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){He(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=(function(m){const p=tB(m);return p instanceof qt&&MT(p)?p.getFilters():[p]})(n.where));let a=[];n.orderBy&&(a=(function(m){return m.map((p=>(function(x){return new kp(rf(x.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(p)))})(n.orderBy));let l=null;n.limit&&(l=(function(m){let p;return p=typeof m=="object"?m.value:m,og(p)?null:p})(n.limit));let c=null;n.startAt&&(c=(function(m){const p=!!m.before,y=m.values||[];return new tc(y,p)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const p=!m.before,y=m.values||[];return new tc(y,p)})(n.endAt)),CF(e,i,a,s,l,"F",c,d)}function qQ(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function tB(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=rf(n.unaryFilter.field);return Et.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=rf(n.unaryFilter.field);return Et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=rf(n.unaryFilter.field);return Et.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=rf(n.unaryFilter.field);return Et.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Le(61313);default:return Le(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Et.create(rf(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Le(58110);default:return Le(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return qt.create(n.compositeFilter.filters.map((r=>tB(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Le(1026)}})(n.compositeFilter.op))})(t):Le(30097,{filter:t})}function HQ(t){return MQ[t]}function WQ(t){return LQ[t]}function KQ(t){return VQ[t]}function jl(t){return{fieldPath:t.canonicalString()}}function rf(t){return un.fromServerFormat(t.fieldPath)}function nB(t){return t instanceof Et?(function(n){if(n.op==="=="){if(rR(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NAN"}};if(nR(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rR(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NAN"}};if(nR(n.value))return{unaryFilter:{field:jl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jl(n.field),op:WQ(n.op),value:n.value}}})(t):t instanceof qt?(function(n){const r=n.getFilters().map((i=>nB(i)));return r.length===1?r[0]:{compositeFilter:{op:KQ(n.op),filters:r}}})(t):Le(54877,{filter:t})}function GQ(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rB(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function iB(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class po{constructor(e,n,r,i,s=Qe.min(),a=Qe.min(),l=Nn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new po(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new po(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class sB{constructor(e){this.yt=e}}function XQ(t,e){let n;if(e.document)n=cb(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=je.fromSegments(e.noDocument.path),i=Ru(e.noDocument.readTime);n=cn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Le(56709);{const r=je.fromSegments(e.unknownDocument.path),i=Ru(e.unknownDocument.version);n=cn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new vt(i[0],i[1]);return Qe.fromTimestamp(s)})(e.readTime)),n}function bR(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:S0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:Rp(s,a.key),fields:a.data.value.mapValue.fields,updateTime:Wf(s,a.version.toTimestamp()),createTime:Wf(s,a.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ku(e.version)};else{if(!e.isUnknownDocument())return Le(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:ku(e.version)}}return r}function S0(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ku(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ru(t){const e=new vt(t.seconds,t.nanoseconds);return Qe.fromTimestamp(e)}function iu(t,e){const n=(e.baseMutations||[]).map((s=>kE(t.yt,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const l=e.mutations[s+1];a.updateTransforms=l.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>kE(t.yt,s))),i=vt.fromMillis(e.localWriteTimeMs);return new zT(e.batchId,i,n,r)}function Ym(t){const e=Ru(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Ru(t.lastLimboFreeSnapshotVersion):Qe.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){const a=s.documents.length;return He(a===1,1966,{count:a}),$r(fh(YF(s.documents[0])))})(t.query):(function(s){return $r(eB(s))})(t.query),new po(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Nn.fromBase64String(t.resumeToken))}function aB(t,e){const n=ku(e.snapshotVersion),r=ku(e.lastLimboFreeSnapshotVersion);let i;i=N0(e.target)?JF(t.yt,e.target):ub(t.yt,e.target).ft;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Au(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function db(t){const e=eB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?E0(e,e.limit,"L"):e}function c_(t,e){return new $T(e.largestBatchId,kE(t.yt,e.overlayMutation))}function wR(t,e){const n=e.path.lastSegment();return[t,Ur(e.path.popLast()),n]}function _R(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ku(r.readTime),documentKey:Ur(r.documentKey.path),largestBatchId:r.largestBatchId}}class YQ{getBundleMetadata(e,n){return NR(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:Ru(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return NR(e).put((function(i){return{bundleId:i.id,createTime:ku(On(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return CR(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:db(s.bundledQuery),readTime:Ru(s.readTime)}})(r)}))}saveNamedQuery(e,n){return CR(e).put((function(i){return{name:i.name,readTime:ku(On(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function NR(t){return Jn(t,tb)}function CR(t){return Jn(t,nb)}class fb{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new fb(e,r)}getOverlay(e,n){return Cm(e).get(wR(this.userId,n)).next((r=>r?c_(this.serializer,r):null))}getOverlays(e,n){const r=Ta();return le.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const l=new $T(n,a);i.push(this.bt(e,l))})),le.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(Ur(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const l=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(Cm(e).X(bE,l))})),le.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Ta(),s=Ur(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Cm(e).H(bE,a).next((l=>{for(const c of l){const d=c_(this.serializer,c);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=Ta();let a;const l=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Cm(e).ee({index:tF,range:l},((c,d,f)=>{const m=c_(this.serializer,d);s.size()<i||m.largestBatchId===a?(s.set(m.getKey(),m),a=m.largestBatchId):f.done()})).next((()=>s))}bt(e,n){return Cm(e).put((function(i,s,a){const[l,c,d]=wR(s,a.mutation.key);return{userId:s,collectionPath:c,documentId:d,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Dp(i.yt,a.mutation)}})(this.serializer,this.userId,n))}}function Cm(t){return Jn(t,rb)}class QQ{St(e){return Jn(e,kT)}getSessionToken(e){return this.St(e).get("sessionToken").next((n=>{const r=n?.value;return r?Nn.fromUint8Array(r):Nn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}class su{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(hn(e.integerValue));else if("doubleValue"in e){const r=hn(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Cp(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=So(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(To(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?mF(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):ab(e)?this.kt(e.mapValue,n):(this.Kt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Nt(n)):Le(19022,{Ut:e})}Ot(e,n){this.Ft(n,25),this.$t(e,n)}$t(e,n){n.xt(e)}Kt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){const r=e.fields||{};this.Ft(n,53);const i=zf,s=r[i].arrayValue?.values?.length||0;this.Ft(n,15),n.Mt(hn(s)),this.Ot(i,n),this.Ct(r[i],n)}qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),je.fromName(e).path.forEach((r=>{this.Ft(n,60),this.$t(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}su.Wt=new su;const qd=255;function JQ(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function ER(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=JQ(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class ZQ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ht(r.value),r=n.next();this.Jt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Xt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const i=n.codePointAt(0);this.Ht(240|i>>>18),this.Ht(128|63&i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i)}}this.Jt()}Yt(e){const n=this.en(e),r=ER(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=ER(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(qd),this.sn(255)}_n(){this.an(qd),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===qd?(this.sn(qd),this.sn(0)):this.sn(n)}Ht(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===qd?(this.an(qd),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class eJ{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class tJ{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Em{constructor(){this.cn=new ZQ,this.ascending=new eJ(this.cn),this.descending=new tJ(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class au{constructor(e,n,r,i){this.hn=e,this.Pn=n,this.Tn=r,this.In=i}En(){const e=this.In.length,n=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.In,0),n!==e?r.set([0],this.In.length):++r[r.length-1],new au(this.hn,this.Pn,this.Tn,r)}Rn(e,n,r){return{indexId:this.hn,uid:e,arrayValue:Qv(this.Tn),directionalValue:Qv(this.In),orderedDocumentKey:Qv(n),documentKey:r.path.toArray()}}An(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function bl(t,e){let n=t.hn-e.hn;return n!==0?n:(n=SR(t.Tn,e.Tn),n!==0?n:(n=SR(t.In,e.In),n!==0?n:je.comparator(t.Pn,e.Pn)))}function SR(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Qv(t){return C6()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function TR(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class PR{constructor(e){this.Vn=new Wt(((n,r)=>un.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(He(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const n=yE(e);if(n!==void 0&&!this.pn(n))return!1;const r=Yc(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.pn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Vn.size>0){const l=this.Vn.getIterator().getNext();if(!i.has(l.field.canonicalString())){const c=r[s];if(!this.yn(l,c)||!this.wn(this.dn[a++],c))return!1}++s}for(;s<r.length;++s){const l=r[s];if(a>=this.dn.length||!this.wn(this.dn[a++],l))return!1}return!0}bn(){if(this.fn)return null;let e=new Wt(un.comparator);const n=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new yu(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new yu(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new yu(r.field,r.dir==="asc"?0:1)));return new Of(Of.UNKNOWN_ID,this.collectionId,n,Mf.empty())}pn(e){for(const n of this.mn)if(this.yn(n,e))return!0;return!1}yn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}wn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function oB(t){if(He(t instanceof Et||t instanceof qt,20012),t instanceof Et){if(t instanceof NF){const n=t.value.arrayValue?.values?.map((r=>Et.create(t.field,"==",r)))||[];return qt.create(n,"or")}return t}const e=t.filters.map((n=>oB(n)));return qt.create(e,t.op)}function nJ(t){if(t.getFilters().length===0)return[];const e=OE(oB(t));return He(lB(e),7391),RE(e)||DE(e)?[e]:e.getFilters()}function RE(t){return t instanceof Et}function DE(t){return t instanceof qt&&MT(t)}function lB(t){return RE(t)||DE(t)||(function(n){if(n instanceof qt&&CE(n)){for(const r of n.getFilters())if(!RE(r)&&!DE(r))return!1;return!0}return!1})(t)}function OE(t){if(He(t instanceof Et||t instanceof qt,34018),t instanceof Et)return t;if(t.filters.length===1)return OE(t.filters[0]);const e=t.filters.map((r=>OE(r)));let n=qt.create(e,t.op);return n=T0(n),lB(n)?n:(He(n instanceof qt,64498),He($f(n),40251),He(n.filters.length>1,57927),n.filters.reduce(((r,i)=>WT(r,i))))}function WT(t,e){let n;return He(t instanceof Et||t instanceof qt,38388),He(e instanceof Et||e instanceof qt,25473),n=t instanceof Et?e instanceof Et?(function(i,s){return qt.create([i,s],"and")})(t,e):AR(t,e):e instanceof Et?AR(e,t):(function(i,s){if(He(i.filters.length>0&&s.filters.length>0,48005),$f(i)&&$f(s))return bF(i,s.getFilters());const a=CE(i)?i:s,l=CE(i)?s:i,c=a.filters.map((d=>WT(d,l)));return qt.create(c,"or")})(t,e),T0(n)}function AR(t,e){if($f(e))return bF(e,t.getFilters());{const n=e.filters.map((r=>WT(t,r)));return qt.create(n,"or")}}function T0(t){if(He(t instanceof Et||t instanceof qt,11850),t instanceof Et)return t;const e=t.getFilters();if(e.length===1)return T0(e[0]);if(vF(t))return t;const n=e.map((i=>T0(i))),r=[];return n.forEach((i=>{i instanceof Et?r.push(i):i instanceof qt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:qt.create(r,t.op)}class rJ{constructor(){this.Sn=new KT}addToCollectionParentIndex(e,n){return this.Sn.add(n),le.resolve()}getCollectionParents(e,n){return le.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return le.resolve()}deleteFieldIndex(e,n){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,n){return le.resolve()}getDocumentsMatchingTarget(e,n){return le.resolve(null)}getIndexType(e,n){return le.resolve(0)}getFieldIndexes(e,n){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,n){return le.resolve(Hi.min())}getMinOffsetFromCollectionGroup(e,n){return le.resolve(Hi.min())}updateCollectionGroup(e,n,r){return le.resolve()}updateIndexEntries(e,n){return le.resolve()}}class KT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wt(bt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(bt.comparator)).toArray()}}const IR="IndexedDbIndexManager",ov=new Uint8Array(0);class iJ{constructor(e,n){this.databaseId=n,this.Dn=new KT,this.Cn=new Vo((r=>Au(r)),((r,i)=>cg(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Dn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.Dn.add(n)}));const s={collectionId:r,parent:Ur(i)};return jR(e).put(s)}return le.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[B6(n),""],!1,!0);return jR(e).H(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(Sa(a.parent))}return r}))}addFieldIndex(e,n){const r=Sm(e),i=(function(l){return{indexId:l.indexId,collectionGroup:l.collectionGroup,fields:l.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=Wd(e);return s.next((l=>{a.put(_R(l,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=Sm(e),i=Wd(e),s=Hd(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Sm(e),r=Hd(e),i=Wd(e);return n.X().next((()=>r.X())).next((()=>i.X()))}createTargetIndexes(e,n){return le.forEach(this.vn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new PR(r).bn();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Hd(e);let i=!0;const s=new Map;return le.forEach(this.vn(n),(a=>this.Fn(e,a).next((l=>{i&&(i=!!l),s.set(a,l)})))).next((()=>{if(i){let a=gt();const l=[];return le.forEach(s,((c,d)=>{_e(IR,`Using index ${(function(D){return`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map((z=>`${z.fieldPath}:${z.kind}`)).join(",")}`})(c)} to execute ${Au(n)}`);const f=(function(D,z){const I=yE(z);if(I===void 0)return null;for(const P of C0(D,I.fieldPath))switch(P.op){case"array-contains-any":return P.value.arrayValue.values||[];case"array-contains":return[P.value]}return null})(d,c),m=(function(D,z){const I=new Map;for(const P of Yc(z))for(const C of C0(D,P.fieldPath))switch(C.op){case"==":case"in":I.set(P.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return I.set(P.fieldPath.canonicalString(),C.value),Array.from(I.values())}return null})(d,c),p=(function(D,z){const I=[];let P=!0;for(const C of Yc(z)){const E=C.kind===0?lR(D,C.fieldPath,D.startAt):cR(D,C.fieldPath,D.startAt);I.push(E.value),P&&(P=E.inclusive)}return new tc(I,P)})(d,c),y=(function(D,z){const I=[];let P=!0;for(const C of Yc(z)){const E=C.kind===0?cR(D,C.fieldPath,D.endAt):lR(D,C.fieldPath,D.endAt);I.push(E.value),P&&(P=E.inclusive)}return new tc(I,P)})(d,c),x=this.Mn(c,d,p),b=this.Mn(c,d,y),_=this.xn(c,d,m),S=this.On(c.indexId,f,x,p.inclusive,b,y.inclusive,_);return le.forEach(S,(R=>r.Z(R,n.limit).next((D=>{D.forEach((z=>{const I=je.fromSegments(z.documentKey);a.has(I)||(a=a.add(I),l.push(I))}))}))))})).next((()=>l))}return le.resolve(null)}))}vn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=nJ(qt.create(e.filters,"and")).map((r=>SE(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,n),n)}On(e,n,r,i,s,a,l){const c=(n!=null?n.length:1)*Math.max(r.length,s.length),d=c/(n!=null?n.length:1),f=[];for(let m=0;m<c;++m){const p=n?this.Nn(n[m/d]):ov,y=this.Bn(e,p,r[m%d],i),x=this.Ln(e,p,s[m%d],a),b=l.map((_=>this.Bn(e,p,_,!0)));f.push(...this.createRange(y,x,b))}return f}Bn(e,n,r,i){const s=new au(e,je.empty(),n,r);return i?s:s.En()}Ln(e,n,r,i){const s=new au(e,je.empty(),n,r);return i?s.En():s}Fn(e,n){const r=new PR(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const l of s)r.gn(l)&&(!a||l.fields.length>a.fields.length)&&(a=l);return a}))}getIndexType(e,n){let r=2;const i=this.vn(n);return le.forEach(i,(s=>this.Fn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(c){let d=new Wt(un.comparator),f=!1;for(const m of c.filters)for(const p of m.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?f=!0:d=d.add(p.field));for(const m of c.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(f?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}kn(e,n){const r=new Em;for(const i of Yc(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.ln(i.kind);su.Wt.Dt(s,a)}return r.un()}Nn(e){const n=new Em;return su.Wt.Dt(e,n.ln(0)),n.un()}Kn(e,n){const r=new Em;return su.Wt.Dt(Pu(this.databaseId,n),r.ln((function(s){const a=Yc(s);return a.length===0?0:a[a.length-1].kind})(e))),r.un()}xn(e,n,r){if(r===null)return[];let i=[];i.push(new Em);let s=0;for(const a of Yc(e)){const l=r[s++];for(const c of i)if(this.qn(n,a.fieldPath)&&jp(l))i=this.Un(i,a,l);else{const d=c.ln(a.kind);su.Wt.Dt(l,d)}}return this.$n(i)}Mn(e,n,r){return this.xn(e,n,r.position)}$n(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Un(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const l of i){const c=new Em;c.seed(l.un()),su.Wt.Dt(a,c.ln(n.kind)),s.push(c)}return s}qn(e,n){return!!e.filters.find((r=>r instanceof Et&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Sm(e),i=Wd(e);return(n?r.H(xE,IDBKeyRange.bound(n,n)):r.H()).next((s=>{const a=[];return le.forEach(s,(l=>i.get([l.indexId,this.uid]).next((c=>{a.push((function(f,m){const p=m?new Mf(m.sequenceNumber,new Hi(Ru(m.readTime),new je(Sa(m.documentKey)),m.largestBatchId)):Mf.empty(),y=f.fields.map((([x,b])=>new yu(un.fromServerFormat(x),b)));return new Of(f.indexId,f.collectionGroup,y,p)})(l,c))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ot(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Sm(e),s=Wd(e);return this.Wn(e).next((a=>i.H(xE,IDBKeyRange.bound(n,n)).next((l=>le.forEach(l,(c=>s.put(_R(c.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return le.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?le.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((l=>(r.set(i.collectionGroup,l),le.forEach(l,(c=>this.Qn(e,i,c).next((d=>{const f=this.Gn(s,c);return d.isEqual(f)?le.resolve():this.zn(e,s,c,d,f)})))))))}))}jn(e,n,r,i){return Hd(e).put(i.Rn(this.uid,this.Kn(r,n.key),n.key))}Hn(e,n,r,i){return Hd(e).delete(i.An(this.uid,this.Kn(r,n.key),n.key))}Qn(e,n,r){const i=Hd(e);let s=new Wt(bl);return i.ee({index:eF,range:IDBKeyRange.only([r.indexId,this.uid,Qv(this.Kn(r,n))])},((a,l)=>{s=s.add(new au(r.indexId,n,TR(l.arrayValue),TR(l.directionalValue)))})).next((()=>s))}Gn(e,n){let r=new Wt(bl);const i=this.kn(n,e);if(i==null)return r;const s=yE(n);if(s!=null){const a=e.data.field(s.fieldPath);if(jp(a))for(const l of a.arrayValue.values||[])r=r.add(new au(n.indexId,e.key,this.Nn(l),i))}else r=r.add(new au(n.indexId,e.key,ov,i));return r}zn(e,n,r,i,s){_e(IR,"Updating index entries for document '%s'",n.key);const a=[];return(function(c,d,f,m,p){const y=c.getIterator(),x=d.getIterator();let b=$d(y),_=$d(x);for(;b||_;){let S=!1,R=!1;if(b&&_){const D=f(b,_);D<0?R=!0:D>0&&(S=!0)}else b!=null?R=!0:S=!0;S?(m(_),_=$d(x)):R?(p(b),b=$d(y)):(b=$d(y),_=$d(x))}})(i,s,bl,(l=>{a.push(this.jn(e,n,r,l))}),(l=>{a.push(this.Hn(e,n,r,l))})),le.waitFor(a)}Wn(e){let n=1;return Wd(e).ee({index:Z6,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,l)=>bl(a,l))).filter(((a,l,c)=>!l||bl(a,c[l-1])!==0));const i=[];i.push(e);for(const a of r){const l=bl(a,e),c=bl(a,n);if(l===0)i[0]=e.En();else if(l>0&&c<0)i.push(a),i.push(a.En());else if(c>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Jn(i[a],i[a+1]))return[];const l=i[a].An(this.uid,ov,je.empty()),c=i[a+1].An(this.uid,ov,je.empty());s.push(IDBKeyRange.bound(l,c))}return s}Jn(e,n){return bl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(kR)}getMinOffset(e,n){return le.mapArray(this.vn(n),(r=>this.Fn(e,r).next((i=>i||Le(44426))))).next(kR)}}function jR(t){return Jn(t,Tp)}function Hd(t){return Jn(t,ap)}function Sm(t){return Jn(t,jT)}function Wd(t){return Jn(t,sp)}function kR(t){He(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;PT(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Hi(e.readTime,e.documentKey,n)}const RR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cB=41943040;class Fr{static withCacheSize(e){return new Fr(e,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}function uB(t,e,n){const r=t.store(As),i=t.store(Lf),s=[],a=IDBKeyRange.only(n.batchId);let l=0;const c=r.ee({range:a},((f,m,p)=>(l++,p.delete())));s.push(c.next((()=>{He(l===1,47070,{batchId:n.batchId})})));const d=[];for(const f of n.mutations){const m=Y6(e,f.key.path,n.batchId);s.push(i.delete(m)),d.push(f.key)}return le.waitFor(s).next((()=>d))}function P0(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Le(14731);e=t.noDocument}return JSON.stringify(e).length}Fr.DEFAULT_COLLECTION_PERCENTILE=10,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fr.DEFAULT=new Fr(cB,Fr.DEFAULT_COLLECTION_PERCENTILE,Fr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fr.DISABLED=new Fr(-1,0,0);class hb{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static wt(e,n,r,i){He(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new hb(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wl(e).ee({index:lu,range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=sf(e),a=wl(e);return a.add({}).next((l=>{He(typeof l=="number",49019);const c=new zT(l,n,r,i),d=(function(y,x,b){const _=b.baseMutations.map((R=>Dp(y.yt,R))),S=b.mutations.map((R=>Dp(y.yt,R)));return{userId:x,batchId:b.batchId,localWriteTimeMs:b.localWriteTime.toMillis(),baseMutations:_,mutations:S}})(this.serializer,this.userId,c),f=[];let m=new Wt(((p,y)=>ot(p.canonicalString(),y.canonicalString())));for(const p of i){const y=Y6(this.userId,p.key.path,l);m=m.add(p.key.path.popLast()),f.push(a.put(d)),f.push(s.put(y,RY))}return m.forEach((p=>{f.push(this.indexManager.addToCollectionParentIndex(e,p))})),e.addOnCommittedListener((()=>{this.Zn[l]=c.keys()})),le.waitFor(f).next((()=>c))}))}lookupMutationBatch(e,n){return wl(e).get(n).next((r=>r?(He(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),iu(this.serializer,r)):null))}Xn(e,n){return this.Zn[n]?le.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return wl(e).ee({index:lu,range:i},((a,l,c)=>{l.userId===this.userId&&(He(l.batchId>=r,47524,{Yn:r}),s=iu(this.serializer,l)),c.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Hl;return wl(e).ee({index:lu,range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Hl],[this.userId,Number.POSITIVE_INFINITY]);return wl(e).H(lu,n).next((r=>r.map((i=>iu(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=qv(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return sf(e).ee({range:i},((a,l,c)=>{const[d,f,m]=a,p=Sa(f);if(d===this.userId&&n.path.isEqual(p))return wl(e).get(m).next((y=>{if(!y)throw Le(61480,{er:a,batchId:m});He(y.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:y.userId,batchId:m}),s.push(iu(this.serializer,y))}));c.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(ot);const i=[];return n.forEach((s=>{const a=qv(this.userId,s.path),l=IDBKeyRange.lowerBound(a),c=sf(e).ee({range:l},((d,f,m)=>{const[p,y,x]=d,b=Sa(y);p===this.userId&&s.path.isEqual(b)?r=r.add(x):m.done()}));i.push(c)})),le.waitFor(i).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=qv(this.userId,r),a=IDBKeyRange.lowerBound(s);let l=new Wt(ot);return sf(e).ee({range:a},((c,d,f)=>{const[m,p,y]=c,x=Sa(p);m===this.userId&&r.isPrefixOf(x)?x.length===i&&(l=l.add(y)):f.done()})).next((()=>this.tr(e,l)))}tr(e,n){const r=[],i=[];return n.forEach((s=>{i.push(wl(e).get(s).next((a=>{if(a===null)throw Le(35274,{batchId:s});He(a.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:a.userId,batchId:s}),r.push(iu(this.serializer,a))})))})),le.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return uB(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.nr(n.batchId)})),le.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return le.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return sf(e).ee({range:r},((s,a,l)=>{if(s[0]===this.userId){const c=Sa(s[1]);i.push(c)}else l.done()})).next((()=>{He(i.length===0,56720,{rr:i.map((s=>s.canonicalString()))})}))}))}containsKey(e,n){return dB(e,this.userId,n)}ir(e){return fB(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:Hl,lastStreamToken:""}))}}function dB(t,e,n){const r=qv(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return sf(t).ee({range:s,Y:!0},((l,c,d)=>{const[f,m,p]=l;f===e&&m===i&&(a=!0),d.done()})).next((()=>a))}function wl(t){return Jn(t,As)}function sf(t){return Jn(t,Lf)}function fB(t){return Jn(t,Ep)}class Du{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Du(0)}static ar(){return new Du(-1)}}class sJ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.ur(e).next((n=>{const r=new Du(n.highestTargetId);return n.highestTargetId=r.next(),this.cr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((n=>Qe.fromTimestamp(new vt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.ur(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.cr(e,i))))}addTargetData(e,n){return this.lr(e,n).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(n,r),this.cr(e,r))))))}updateTargetData(e,n){return this.lr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Kd(e).delete(n.targetId))).next((()=>this.ur(e))).next((r=>(He(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Kd(e).ee(((a,l)=>{const c=Ym(l);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))})).next((()=>le.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Kd(e).ee(((r,i)=>{const s=Ym(i);n(s)}))}ur(e){return DR(e).get(_0).next((n=>(He(n!==null,2888),n)))}cr(e,n){return DR(e).put(_0,n)}lr(e,n){return Kd(e).put(aB(this.serializer,n))}hr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((n=>n.targetCount))}getTargetData(e,n){const r=Au(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Kd(e).ee({range:i,index:J6},((a,l,c)=>{const d=Ym(l);cg(n,d.target)&&(s=d,c.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=kl(e);return n.forEach((a=>{const l=Ur(a.path);i.push(s.put({targetId:r,path:l})),i.push(this.referenceDelegate.addReference(e,r,a))})),le.waitFor(i)}removeMatchingKeys(e,n,r){const i=kl(e);return le.forEach(n,(s=>{const a=Ur(s.path);return le.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=kl(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=kl(e);let s=gt();return i.ee({range:r,Y:!0},((a,l,c)=>{const d=Sa(a[1]),f=new je(d);s=s.add(f)})).next((()=>s))}containsKey(e,n){const r=Ur(n.path),i=IDBKeyRange.bound([r],[B6(r)],!1,!0);let s=0;return kl(e).ee({index:IT,Y:!0,range:i},(([a,l],c,d)=>{a!==0&&(s++,d.done())})).next((()=>s>0))}At(e,n){return Kd(e).get(n).next((r=>r?Ym(r):null))}}function Kd(t){return Jn(t,Vf)}function DR(t){return Jn(t,vu)}function kl(t){return Jn(t,Ff)}const OR="LruGarbageCollector",hB=1048576;function MR([t,e],[n,r]){const i=ot(t,n);return i===0?ot(e,r):i}class aJ{constructor(e){this.Pr=e,this.buffer=new Wt(MR),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();MR(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){_e(OR,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fc(n)?_e(OR,"Ignoring IndexedDB error during garbage collection: ",n):await dc(n)}await this.Ar(3e5)}))}}class oJ{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return le.resolve(mi.ce);const r=new aJ(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(RR)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),RR):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,a,l,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,l=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),tf()<=Ct.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function pB(t,e){return new oJ(t,e)}class lJ{constructor(e,n){this.db=e,this.garbageCollector=pB(this,n)}dr(e){const n=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}mr(e,n){return this.yr(e,((r,i)=>n(i)))}addReference(e,n,r){return lv(e,r)}removeReference(e,n,r){return lv(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return lv(e,n)}wr(e,n){return(function(i,s){let a=!1;return fB(i).te((l=>dB(i,l,s).next((c=>(c&&(a=!0),le.resolve(!c)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.yr(e,((a,l)=>{if(l<=n){const c=this.wr(e,a).next((d=>{if(!d)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Qe.min()),kl(e).delete((function(m){return[0,Ur(m.path)]})(a)))))}));i.push(c)}})).next((()=>le.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return lv(e,n)}yr(e,n){const r=kl(e);let i,s=mi.ce;return r.ee({index:IT},(([a,l],{path:c,sequenceNumber:d})=>{a===0?(s!==mi.ce&&n(new je(Sa(i)),s),s=d,i=c):s=mi.ce})).next((()=>{s!==mi.ce&&n(new je(Sa(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lv(t,e){return kl(t).put((function(r,i){return{targetId:0,path:Ur(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class gB{constructor(){this.changes=new Vo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?le.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class cJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Hc(e).put(r)}removeEntry(e,n,r){return Hc(e).delete((function(s,a){const l=s.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],S0(a),l[l.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.br(e,r))))}getEntry(e,n){let r=cn.newInvalidDocument(n);return Hc(e).ee({index:Hv,range:IDBKeyRange.only(Tm(n))},((i,s)=>{r=this.Sr(n,s)})).next((()=>r))}Dr(e,n){let r={size:0,document:cn.newInvalidDocument(n)};return Hc(e).ee({index:Hv,range:IDBKeyRange.only(Tm(n))},((i,s)=>{r={document:this.Sr(n,s),size:P0(s)}})).next((()=>r))}getEntries(e,n){let r=gi();return this.Cr(e,n,((i,s)=>{const a=this.Sr(i,s);r=r.insert(i,a)})).next((()=>r))}vr(e,n){let r=gi(),i=new nn(je.comparator);return this.Cr(e,n,((s,a)=>{const l=this.Sr(s,a);r=r.insert(s,l),i=i.insert(s,P0(a))})).next((()=>({documents:r,Fr:i})))}Cr(e,n,r){if(n.isEmpty())return le.resolve();let i=new Wt(FR);n.forEach((c=>i=i.add(c)));const s=IDBKeyRange.bound(Tm(i.first()),Tm(i.last())),a=i.getIterator();let l=a.getNext();return Hc(e).ee({index:Hv,range:s},((c,d,f)=>{const m=je.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;l&&FR(l,m)<0;)r(l,null),l=a.getNext();l&&l.isEqual(m)&&(r(l,d),l=a.hasNext()?a.getNext():null),l?f.j(Tm(l)):f.done()})).next((()=>{for(;l;)r(l,null),l=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,l=[a.popLast().toArray(),a.lastSegment(),S0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Hc(e).H(IDBKeyRange.bound(l,c,!0)).next((d=>{s?.incrementDocumentReadCount(d.length);let f=gi();for(const m of d){const p=this.Sr(je.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);p.isFoundDocument()&&(dg(n,p)||i.has(p.key))&&(f=f.insert(p.key,p))}return f}))}getAllFromCollectionGroup(e,n,r,i){let s=gi();const a=VR(n,r),l=VR(n,Hi.max());return Hc(e).ee({index:Q6,range:IDBKeyRange.bound(a,l,!0)},((c,d,f)=>{const m=this.Sr(je.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(m.key,m),s.size===i&&f.done()})).next((()=>s))}newChangeBuffer(e){return new uJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return LR(e).get(vE).next((n=>(He(!!n,20021),n)))}br(e,n){return LR(e).put(vE,n)}Sr(e,n){if(n){const r=XQ(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Qe.min())))return r}return cn.newInvalidDocument(e)}}function yB(t){return new cJ(t)}class uJ extends gB{constructor(e,n){super(),this.Mr=e,this.trackRemovals=n,this.Or=new Vo((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Wt(((s,a)=>ot(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const l=this.Or.get(s);if(n.push(this.Mr.removeEntry(e,s,l.readTime)),a.isValidDocument()){const c=bR(this.Mr.serializer,a);i=i.add(s.path.popLast());const d=P0(c);r+=d-l.size,n.push(this.Mr.addEntry(e,s,c))}else if(r-=l.size,this.trackRemovals){const c=bR(this.Mr.serializer,a.convertToNoDocument(Qe.min()));n.push(this.Mr.addEntry(e,s,c))}})),i.forEach((s=>{n.push(this.Mr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.Mr.updateMetadata(e,r)),le.waitFor(n)}getFromCache(e,n){return this.Mr.Dr(e,n).next((r=>(this.Or.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Mr.vr(e,n).next((({documents:r,Fr:i})=>(i.forEach(((s,a)=>{this.Or.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function LR(t){return Jn(t,Sp)}function Hc(t){return Jn(t,w0)}function Tm(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function VR(t,e){const n=e.documentKey.path.toArray();return[t,S0(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function FR(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ot(n[s],r[s]),i)return i;return i=ot(n.length,r.length),i||(i=ot(n[n.length-2],r[r.length-2]),i||ot(n[n.length-1],r[r.length-1]))}class dJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class vB{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&cp(r.mutation,i,pi.empty(),vt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,gt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=gt()){const i=Ta();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=Gm();return s.forEach(((l,c)=>{a=a.insert(l,c.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=Ta();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,gt())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,l)=>{n.set(a,l)}))}))}computeViews(e,n,r,i){let s=gi();const a=lp(),l=(function(){return lp()})();return n.forEach(((c,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof Fo)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),cp(f.mutation,d,f.mutation.getFieldMask(),vt.now())):a.set(d.key,pi.empty())})),this.recalculateAndSaveOverlays(e,s).next((c=>(c.forEach(((d,f)=>a.set(d,f))),n.forEach(((d,f)=>l.set(d,new dJ(f,a.get(d)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=lp();let i=new nn(((a,l)=>a-l)),s=gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const l of a)l.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let f=r.get(c)||pi.empty();f=l.applyToLocalView(d,f),r.set(c,f);const m=(i.get(l.batchId)||gt()).add(c);i=i.insert(l.batchId,m)}))})).next((()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,f=c.value,m=kF();f.forEach((p=>{if(!s.has(p)){const y=FF(n.get(p),r.get(p));y!==null&&m.set(p,y),s=s.add(p)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return le.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return yQ(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):LT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):le.resolve(Ta());let l=Df,c=s;return a.next((d=>le.forEach(d,((f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(f)?le.resolve():this.remoteDocumentCache.getEntry(e,f).next((p=>{c=c.insert(f,p)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,c,d,gt()))).next((f=>({batchId:l,changes:jF(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((r=>{let i=Gm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=Gm();return this.indexManager.getCollectionParents(e,s).next((l=>le.forEach(l,(c=>{const d=(function(m,p){return new Lo(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((m,p)=>{a=a.insert(m,p)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((c,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,cn.newInvalidDocument(f)))}));let l=Gm();return a.forEach(((c,d)=>{const f=s.get(c);f!==void 0&&cp(f.mutation,d,pi.empty(),vt.now()),dg(n,d)&&(l=l.insert(c,d))})),l}))}}class fJ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return le.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:On(i.createTime)}})(n)),le.resolve()}getNamedQuery(e,n){return le.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:db(i.bundledQuery),readTime:On(i.readTime)}})(n)),le.resolve()}}class hJ{constructor(){this.overlays=new nn(je.comparator),this.Lr=new Map}getOverlay(e,n){return le.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ta();return le.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.bt(e,n,s)})),le.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Lr.delete(r)),le.resolve()}getOverlaysForCollection(e,n,r){const i=Ta(),s=n.length+1,a=new je(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return le.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nn(((d,f)=>d-f));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=Ta(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const l=Ta(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,f)=>l.set(d,f))),!(l.size()>=i)););return le.resolve(l)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new $T(n,r));let s=this.Lr.get(n);s===void 0&&(s=gt(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}class mJ{constructor(){this.sessionToken=Nn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,le.resolve()}}class GT{constructor(){this.kr=new Wt(ar.Kr),this.qr=new Wt(ar.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new ar(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new ar(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new je(new bt([])),r=new ar(n,e),i=new ar(n,e+1),s=[];return this.qr.forEachInRange([r,i],(a=>{this.Wr(a),s.push(a.key)})),s}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new je(new bt([])),r=new ar(n,e),i=new ar(n,e+1);let s=gt();return this.qr.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new ar(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ar{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return je.comparator(e.key,n.key)||ot(e.Hr,n.Hr)}static Ur(e,n){return ot(e.Hr,n.Hr)||je.comparator(e.key,n.key)}}class pJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Wt(ar.Kr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new zT(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Jr=this.Jr.add(new ar(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return le.resolve(a)}lookupMutationBatch(e,n){return le.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return le.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?Hl:this.Yn-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ar(n,0),i=new ar(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],(a=>{const l=this.Zr(a.Hr);s.push(l)})),le.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(ot);return n.forEach((i=>{const s=new ar(i,0),a=new ar(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,a],(l=>{r=r.add(l.Hr)}))})),le.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;je.isDocumentKey(s)||(s=s.child(""));const a=new ar(new je(s),0);let l=new Wt(ot);return this.Jr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Hr)),!0)}),a),le.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){He(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return le.forEach(n.mutations,(i=>{const s=new ar(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new ar(n,0),i=this.Jr.firstAfterOrEqual(r);return le.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class gJ{constructor(e){this.ti=e,this.docs=(function(){return new nn(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return le.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=gi();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():cn.newInvalidDocument(i))})),le.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gi();const a=n.path,l=new je(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||PT(H6(f),r)<=0||(i.has(f.key)||dg(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return le.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Le(9500)}ni(e,n){return le.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new yJ(this)}getSize(e){return le.resolve(this.size)}}class yJ extends gB{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),le.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class vJ{constructor(e){this.persistence=e,this.ri=new Vo((n=>Au(n)),cg),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.ii=0,this.si=new GT,this.targetCount=0,this.oi=Du._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),le.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Du(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,le.resolve()}updateTargetData(e,n){return this.lr(n),le.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach(((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(a),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),le.waitFor(s).next((()=>i))}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return le.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),le.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),le.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),le.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return le.resolve(r)}containsKey(e,n){return le.resolve(this.si.containsKey(n))}}class XT{constructor(e,n){this._i={},this.overlays={},this.ai=new mi(0),this.ui=!1,this.ui=!0,this.ci=new mJ,this.referenceDelegate=e(this),this.li=new vJ(this),this.indexManager=new rJ,this.remoteDocumentCache=(function(i){return new gJ(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new sB(n),this.Pi=new fJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new pJ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new xJ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((s=>this.referenceDelegate.Ii(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ei(e,n){return le.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class xJ extends K6{constructor(e){super(),this.currentSequenceNumber=e}}class mb{constructor(e){this.persistence=e,this.Ri=new GT,this.Ai=null}static Vi(e){return new mb(e)}get di(){if(this.Ai)return this.Ai;throw Le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),le.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),le.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.di.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.di,(r=>{const i=je.fromPath(r);return this.mi(e,i).next((s=>{s||n.removeEntry(i,Qe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return le.or([()=>le.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class A0{constructor(e,n){this.persistence=e,this.fi=new Vo((r=>Ur(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=pB(this,n)}static Vi(e,n){return new A0(e,n)}Ti(){}Ii(e){return le.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return le.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((s=>s?le.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,(a=>this.wr(e,a,n).next((l=>{l||(r++,s.removeEntry(a,Qe.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),le.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kv(e.data.value)),n}wr(e,n,r){return le.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return le.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class bJ{constructor(e){this.serializer=e}k(e,n,r,i){const s=new eb("createOrUpgrade",n);r<1&&i>=1&&((function(c){c.createObjectStore(lg)})(e),(function(c){c.createObjectStore(Ep,{keyPath:kY}),c.createObjectStore(As,{keyPath:Yk,autoIncrement:!0}).createIndex(lu,Qk,{unique:!0}),c.createObjectStore(Lf)})(e),BR(e),(function(c){c.createObjectStore(Qc)})(e));let a=le.resolve();return r<3&&i>=3&&(r!==0&&((function(c){c.deleteObjectStore(Ff),c.deleteObjectStore(Vf),c.deleteObjectStore(vu)})(e),BR(e)),a=a.next((()=>(function(c){const d=c.store(vu),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Qe.min().toTimestamp(),targetCount:0};return d.put(_0,f)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(c,d){return d.store(As).H().next((m=>{c.deleteObjectStore(As),c.createObjectStore(As,{keyPath:Yk,autoIncrement:!0}).createIndex(lu,Qk,{unique:!0});const p=d.store(As),y=m.map((x=>p.put(x)));return le.waitFor(y)}))})(e,s)))),a=a.next((()=>{(function(c){c.createObjectStore(Bf,{keyPath:zY})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.gi(s)))),r<6&&i>=6&&(a=a.next((()=>((function(c){c.createObjectStore(Sp)})(e),this.pi(s))))),r<7&&i>=7&&(a=a.next((()=>this.yi(s)))),r<8&&i>=8&&(a=a.next((()=>this.wi(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.bi(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(c){c.createObjectStore(tb,{keyPath:UY})})(e),(function(c){c.createObjectStore(nb,{keyPath:$Y})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(c){const d=c.createObjectStore(rb,{keyPath:YY});d.createIndex(bE,QY,{unique:!1}),d.createIndex(tF,JY,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(c){const d=c.createObjectStore(w0,{keyPath:DY});d.createIndex(Hv,OY),d.createIndex(Q6,MY)})(e))).next((()=>this.Si(e,s))).next((()=>e.deleteObjectStore(Qc)))),r<14&&i>=14&&(a=a.next((()=>this.Di(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(c){c.createObjectStore(jT,{keyPath:qY,autoIncrement:!0}).createIndex(xE,HY,{unique:!1}),c.createObjectStore(sp,{keyPath:WY}).createIndex(Z6,KY,{unique:!1}),c.createObjectStore(ap,{keyPath:GY}).createIndex(eF,XY,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore(sp).clear()})).next((()=>{n.objectStore(ap).clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(c){c.createObjectStore(kT,{keyPath:ZY})})(e)}))),r<18&&i>=18&&C6()&&(a=a.next((()=>{n.objectStore(sp).clear()})).next((()=>{n.objectStore(ap).clear()}))),a}pi(e){let n=0;return e.store(Qc).ee(((r,i)=>{n+=P0(i)})).next((()=>{const r={byteSize:n};return e.store(Sp).put(vE,r)}))}gi(e){const n=e.store(Ep),r=e.store(As);return n.H().next((i=>le.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,Hl],[s.userId,s.lastAcknowledgedBatchId]);return r.H(lu,a).next((l=>le.forEach(l,(c=>{He(c.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const d=iu(this.serializer,c);return uB(e,s.userId,d).next((()=>{}))}))))}))))}yi(e){const n=e.store(Ff),r=e.store(Qc);return e.store(vu).get(_0).next((i=>{const s=[];return r.ee(((a,l)=>{const c=new bt(a),d=(function(m){return[0,Ur(m)]})(c);s.push(n.get(d).next((f=>f?le.resolve():(m=>n.put({targetId:0,path:Ur(m),sequenceNumber:i.highestListenSequenceNumber}))(c))))})).next((()=>le.waitFor(s)))}))}wi(e,n){e.createObjectStore(Tp,{keyPath:BY});const r=n.store(Tp),i=new KT,s=a=>{if(i.add(a)){const l=a.lastSegment(),c=a.popLast();return r.put({collectionId:l,parent:Ur(c)})}};return n.store(Qc).ee({Y:!0},((a,l)=>{const c=new bt(a);return s(c.popLast())})).next((()=>n.store(Lf).ee({Y:!0},(([a,l,c],d)=>{const f=Sa(l);return s(f.popLast())}))))}bi(e){const n=e.store(Vf);return n.ee(((r,i)=>{const s=Ym(i),a=aB(this.serializer,s);return n.put(a)}))}Si(e,n){const r=n.store(Qc),i=[];return r.ee(((s,a)=>{const l=n.store(w0),c=(function(m){return m.document?new je(bt.fromString(m.document.name).popFirst(5)):m.noDocument?je.fromSegments(m.noDocument.path):m.unknownDocument?je.fromSegments(m.unknownDocument.path):Le(36783)})(a).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(l.put(d))})).next((()=>le.waitFor(i)))}Di(e,n){const r=n.store(As),i=yB(this.serializer),s=new XT(mb.Vi,this.serializer.yt);return r.H().next((a=>{const l=new Map;return a.forEach((c=>{let d=l.get(c.userId)??gt();iu(this.serializer,c).keys().forEach((f=>d=d.add(f))),l.set(c.userId,d)})),le.forEach(l,((c,d)=>{const f=new lr(d),m=fb.wt(this.serializer,f),p=s.getIndexManager(f),y=hb.wt(f,this.serializer,p,s.referenceDelegate);return new vB(i,y,m,p).recalculateAndSaveOverlaysForDocumentKeys(new wE(n,mi.ce),c).next()}))}))}}function BR(t){t.createObjectStore(Ff,{keyPath:VY}).createIndex(IT,FY,{unique:!0}),t.createObjectStore(Vf,{keyPath:"targetId"}).createIndex(J6,LY,{unique:!0}),t.createObjectStore(vu)}const _l="IndexedDbPersistence",u_=18e5,d_=5e3,f_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",xB="main";class YT{constructor(e,n,r,i,s,a,l,c,d,f,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Ci=s,this.window=a,this.document=l,this.Fi=d,this.Mi=f,this.xi=m,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=p=>Promise.resolve(),!YT.v())throw new xe(he.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new lJ(this,i),this.Ki=n+xB,this.serializer=new sB(c),this.qi=new Ra(this.Ki,this.xi,new bJ(this.serializer)),this.ci=new QQ,this.li=new sJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=yB(this.serializer),this.Pi=new YQ,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,f===!1&&Dn(_l,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xe(he.FAILED_PRECONDITION,f_);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new mi(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>cv(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((n=>{n||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((n=>this.isPrimary&&!n?this.Ji(e).next((()=>!1)):!!n&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(fc(e))return _e(_l,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _e(_l,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Pm(e).get(Ud).next((n=>le.resolve(this.Xi(n))))}Yi(e){return cv(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,u_)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Jn(n,Bf);return r.H().next((i=>{const s=this.ns(i,u_),a=i.filter((l=>s.indexOf(l)===-1));return le.forEach(a,(l=>r.delete(l.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Ui)for(const n of e)this.Ui.removeItem(this.rs(n.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?le.resolve(!0):Pm(e).get(Ud).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,d_)&&!this.ss(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new xe(he.FAILED_PRECONDITION,f_);return!1}}return!(!this.networkEnabled||!this.inForeground)||cv(e).H().next((r=>this.ns(r,d_).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,l=this.networkEnabled===i.networkEnabled;if(s||a&&l)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&_e(_l,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[lg,Bf],(e=>{const n=new wE(e,mi.ce);return this.Ji(n).next((()=>this.Yi(n)))})),this.qi.close(),this.ls()}ns(e,n){return e.filter((r=>this.ts(r.updateTimeMs,n)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>cv(e).H().next((n=>this.ns(n,u_).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,n){return hb.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new iJ(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return fb.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,n,r){_e(_l,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(c){return c===18?nQ:c===17?sF:c===16?tQ:c===15?RT:c===14?iF:c===13?rF:c===12?eQ:c===11?nF:void Le(60245)})(this.xi);let a;return this.qi.runTransaction(e,i,s,(l=>(a=new wE(l,this.ai?this.ai.next():mi.ce),n==="readwrite-primary"?this.ji(a).next((c=>!!c||this.Hi(a))).next((c=>{if(!c)throw Dn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new xe(he.FAILED_PRECONDITION,W6);return r(a)})).next((c=>this.Zi(a).next((()=>c)))):this.Ps(a).next((()=>r(a)))))).then((l=>(a.raiseOnCommittedEvent(),l)))}Ps(e){return Pm(e).get(Ud).next((n=>{if(n!==null&&this.ts(n.leaseTimestampMs,d_)&&!this.ss(n.ownerId)&&!this.Xi(n)&&!(this.Mi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new xe(he.FAILED_PRECONDITION,f_)}))}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Pm(e).put(Ud,n)}static v(){return Ra.v()}Ji(e){const n=Pm(e);return n.get(Ud).next((r=>this.Xi(r)?(_e(_l,"Releasing primary lease."),n.delete(Ud)):le.resolve()))}ts(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Dn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;N6()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const n=this.Ui?.getItem(this.rs(e))!==null;return _e(_l,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Dn(_l,"Failed to get zombied client id.",n),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){Dn("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Pm(t){return Jn(t,lg)}function cv(t){return Jn(t,Bf)}function QT(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class JT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=gt(),i=gt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new JT(e,n.fromCache,r,i)}}class wJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class bB{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return N6()?8:G6(Yn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ps(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new wJ;return this.ys(e,n,a).next((l=>{if(s.result=l,this.As)return this.ws(e,n,a,l.size)}))})).next((()=>s.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(tf()<=Ct.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",nf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),le.resolve()):(tf()<=Ct.DEBUG&&_e("QueryEngine","Query:",nf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(tf()<=Ct.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",nf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$r(n))):le.resolve())}gs(e,n){if(uR(n))return le.resolve(null);let r=$r(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=E0(n,null,"F"),r=$r(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=gt(...s);return this.fs.getDocuments(e,a).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.bs(n,l);return this.Ss(n,d,a,c.readTime)?this.gs(e,E0(n,null,"F")):this.Ds(e,d,n,c)}))))})))))}ps(e,n,r,i){return uR(n)||i.isEqual(Qe.min())?le.resolve(null):this.fs.getDocuments(e,r).next((s=>{const a=this.bs(n,s);return this.Ss(n,a,r,i)?le.resolve(null):(tf()<=Ct.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nf(n)),this.Ds(e,a,n,q6(i,Df)).next((l=>l)))}))}bs(e,n){let r=new Wt(AF(e));return n.forEach(((i,s)=>{dg(e,s)&&(r=r.add(s))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return tf()<=Ct.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",nf(n)),this.fs.getDocumentsMatchingQuery(e,n,Hi.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}const ZT="LocalStore",_J=3e8;class NJ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new nn(ot),this.Fs=new Vo((s=>Au(s)),cg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vB(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function wB(t,e,n,r){return new NJ(t,e,n,r)}async function _B(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],l=[];let c=gt();for(const d of i){a.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of s){l.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ns:d,removedBatchIds:a,addedBatchIds:l})))}))}))}function CJ(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return(function(l,c,d,f){const m=d.batch,p=m.keys();let y=le.resolve();return p.forEach((x=>{y=y.next((()=>f.getEntry(c,x))).next((b=>{const _=d.docVersions.get(x);He(_!==null,48541),b.version.compareTo(_)<0&&(m.applyToRemoteDocument(b,d),b.isValidDocument()&&(b.setReadTime(d.commitVersion),f.addEntry(b)))}))})),y.next((()=>l.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=gt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function NB(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function EJ(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const l=[];e.targetChanges.forEach(((f,m)=>{const p=i.get(m);if(!p)return;l.push(n.li.removeMatchingKeys(s,f.removedDocuments,m).next((()=>n.li.addMatchingKeys(s,f.addedDocuments,m))));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(Nn.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(m,y),(function(b,_,S){return b.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=_J?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0})(p,y,f)&&l.push(n.li.updateTargetData(s,y))}));let c=gi(),d=gt();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))})),l.push(CB(s,a,e.documentUpdates).next((f=>{c=f.Bs,d=f.Ls}))),!r.isEqual(Qe.min())){const f=n.li.getLastRemoteSnapshotVersion(s).next((m=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r)));l.push(f)}return le.waitFor(l).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,c,d))).next((()=>c))})).then((s=>(n.vs=i,s)))}function CB(t,e,n){let r=gt(),i=gt();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=gi();return n.forEach(((l,c)=>{const d=s.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Qe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):_e(ZT,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)})),{Bs:a,Ls:i}}))}function SJ(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Hl),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Kf(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((s=>s?(i=s,le.resolve(i)):n.li.allocateTargetId(r).next((a=>(i=new po(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Gf(t,e,n){const r=Re(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!fc(a))throw a;_e(ZT,`Failed to update sequence numbers for target ${e}: ${a}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function I0(t,e,n){const r=Re(t);let i=Qe.min(),s=gt();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(c,d,f){const m=Re(c),p=m.Fs.get(f);return p!==void 0?le.resolve(m.vs.get(p)):m.li.getTargetData(d,f)})(r,a,$r(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(a,l.targetId).next((c=>{s=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(a,e,n?i:Qe.min(),n?s:gt()))).next((l=>(TB(r,PF(e),l),{documents:l,ks:s})))))}function EB(t,e){const n=Re(t),r=Re(n.li),i=n.vs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.At(s,e).next((a=>a?a.target:null))))}function SB(t,e){const n=Re(t),r=n.Ms.get(e)||Qe.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.xs.getAllFromCollectionGroup(i,e,q6(r,Df),Number.MAX_SAFE_INTEGER))).then((i=>(TB(n,e,i),i)))}function TB(t,e,n){let r=t.Ms.get(e)||Qe.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.Ms.set(e,r)}async function TJ(t,e,n,r){const i=Re(t);let s=gt(),a=gi();for(const d of n){const f=e.Ks(d.metadata.name);d.document&&(s=s.add(f));const m=e.qs(d);m.setReadTime(e.Us(d.metadata.readTime)),a=a.insert(f,m)}const l=i.xs.newChangeBuffer({trackRemovals:!0}),c=await Kf(i,(function(f){return $r(fh(bt.fromString(`__bundle__/docs/${f}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(d=>CB(d,l,a).next((f=>(l.apply(d),f))).next((f=>i.li.removeMatchingKeysForTargetId(d,c.targetId).next((()=>i.li.addMatchingKeys(d,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(d,f.Bs,f.Ls))).next((()=>f.Bs))))))}async function PJ(t,e,n=gt()){const r=await Kf(t,$r(db(e.bundledQuery))),i=Re(t);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=On(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Pi.saveNamedQuery(s,e);const l=r.withResumeToken(Nn.EMPTY_BYTE_STRING,a);return i.vs=i.vs.insert(l.targetId,l),i.li.updateTargetData(s,l).next((()=>i.li.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.li.addMatchingKeys(s,n,r.targetId))).next((()=>i.Pi.saveNamedQuery(s,e)))}))}const PB="firestore_clients";function zR(t,e){return`${PB}_${t}_${e}`}const AB="firestore_mutations";function UR(t,e,n){let r=`${AB}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const IB="firestore_targets";function h_(t,e){return`${IB}_${t}_${e}`}const ba="SharedClientState";class j0{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static $s(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new xe(i.error.code,i.error.message))),a?new j0(e,n,i.state,s):(Dn(ba,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class up{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static $s(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new xe(r.error.code,r.error.message))),s?new up(e,r.state,i):(Dn(ba,`Failed to parse target state for ID '${e}': ${n}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class k0{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static $s(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=VT();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=X6(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new k0(e,s):(Dn(ba,`Failed to parse client data for instance '${e}': ${n}`),null)}}class eP{constructor(e,n){this.clientId=e,this.onlineState=n}static $s(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new eP(n.clientId,n.onlineState):(Dn(ba,`Failed to parse online state: ${e}`),null)}}class ME{constructor(){this.activeTargetIds=VT()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m_{constructor(e,n,r,i,s){this.window=e,this.Ci=n,this.persistenceKey=r,this.zs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new nn(ot),this.started=!1,this.Zs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Xs=zR(this.persistenceKey,this.zs),this.Ys=(function(c){return`firestore_sequence_number_${c}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new ME),this.eo=new RegExp(`^${PB}_${a}_([^_]*)$`),this.no=new RegExp(`^${AB}_${a}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${IB}_${a}_(\\d+)$`),this.io=(function(c){return`firestore_online_state_${c}`})(this.persistenceKey),this.so=(function(c){return`firestore_bundle_loaded_v2_${c}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const r of e){if(r===this.zs)continue;const i=this.getItem(zR(this.persistenceKey,r));if(i){const s=k0.$s(r,i);s&&(this.Js=this.Js.insert(s.clientId,s))}}this.oo();const n=this.storage.getItem(this.io);if(n){const r=this._o(n);r&&this.ao(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let n=!1;return this.Js.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,n,r){this.co(e,n,r),this.lo(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(h_(this.persistenceKey,e));if(i){const s=up.$s(e,i);s&&(r=s.state)}}return n&&this.ho.Qs(e),this.oo(),r}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(h_(this.persistenceKey,e))}updateQueryState(e,n,r){this.Po(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.lo(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return _e(ba,"READ",e,n),n}setItem(e,n){_e(ba,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){_e(ba,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const n=e;if(n.storageArea===this.storage){if(_e(ba,"EVENT",n.key,n.newValue),n.key===this.Xs)return void Dn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.eo.test(n.key)){if(n.newValue==null){const r=this.Eo(n.key);return this.Ro(r,null)}{const r=this.Ao(n.key,n.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.no.test(n.key)){if(n.newValue!==null){const r=this.Vo(n.key,n.newValue);if(r)return this.mo(r)}}else if(this.ro.test(n.key)){if(n.newValue!==null){const r=this.fo(n.key,n.newValue);if(r)return this.po(r)}}else if(n.key===this.io){if(n.newValue!==null){const r=this._o(n.newValue);if(r)return this.ao(r)}}else if(n.key===this.Ys){const r=(function(s){let a=mi.ce;if(s!=null)try{const l=JSON.parse(s);He(typeof l=="number",30636,{yo:s}),a=l}catch(l){Dn(ba,"Failed to read sequence number from WebStorage",l)}return a})(n.newValue);r!==mi.ce&&this.sequenceNumberHandler(r)}else if(n.key===this.so){const r=this.wo(n.newValue);await Promise.all(r.map((i=>this.syncEngine.bo(i))))}}}else this.Zs.push(n)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,n,r){const i=new j0(this.currentUser,e,n,r),s=UR(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ws())}lo(e){const n=UR(this.persistenceKey,this.currentUser,e);this.removeItem(n)}To(e){const n={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(n))}Po(e,n,r){const i=h_(this.persistenceKey,e),s=new up(e,n,r);this.setItem(i,s.Ws())}Io(e){const n=JSON.stringify(Array.from(e));this.setItem(this.so,n)}Eo(e){const n=this.eo.exec(e);return n?n[1]:null}Ao(e,n){const r=this.Eo(e);return k0.$s(r,n)}Vo(e,n){const r=this.no.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return j0.$s(new lr(s),i,n)}fo(e,n){const r=this.ro.exec(e),i=Number(r[1]);return up.$s(i,n)}_o(e){return eP.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);_e(ba,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,n){const r=n?this.Js.insert(e,n):this.Js.remove(e),i=this.uo(this.Js),s=this.uo(r),a=[],l=[];return s.forEach((c=>{i.has(c)||a.push(c)})),i.forEach((c=>{s.has(c)||l.push(c)})),this.syncEngine.Co(a,l).then((()=>{this.Js=r}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let n=VT();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class jB{constructor(){this.vo=new ME,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ME,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AJ{Mo(e){}shutdown(){}}const $R="ConnectivityMonitor";class qR{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){_e($R,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){_e($R,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let uv=null;function LE(){return uv===null?uv=(function(){return 268435456+Math.round(2147483648*Math.random())})():uv++,"0x"+uv.toString(16)}const p_="RestConnection",IJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class jJ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Ap?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const a=LE(),l=this.Qo(e,n.toUriEncodedString());_e(p_,`Sending RPC '${e}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,s);const{host:d}=new URL(l),f=uc(d);return this.zo(e,l,c,r,f).then((m=>(_e(p_,`Received RPC '${e}' ${a}: `,m),m)),(m=>{throw bi(p_,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",r),m}))}jo(e,n,r,i,s,a){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+dh})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,s)=>e[s]=i)),r&&r.headers.forEach(((i,s)=>e[s]=i))}Qo(e,n){const r=IJ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class kJ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Lr="WebChannelConnection",Am=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class wf extends jJ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!wf.c_){const e=O6();Am(e,D6.STAT_EVENT,(n=>{n.stat===hE.PROXY?_e(Lr,"STAT_EVENT: detected buffering proxy"):n.stat===hE.NOPROXY&&_e(Lr,"STAT_EVENT: detected no buffering proxy")})),wf.c_=!0}}zo(e,n,r,i,s){const a=LE();return new Promise(((l,c)=>{const d=new k6;d.setWithCredentials(!0),d.listenOnce(R6.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case $v.NO_ERROR:const m=d.getResponseJson();_e(Lr,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case $v.TIMEOUT:_e(Lr,`RPC '${e}' ${a} timed out`),c(new xe(he.DEADLINE_EXCEEDED,"Request time out"));break;case $v.HTTP_ERROR:const p=d.getStatus();if(_e(Lr,`RPC '${e}' ${a} failed with status:`,p,"response text:",d.getResponseText()),p>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const x=y?.error;if(x&&x.status&&x.message){const b=(function(S){const R=S.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(R)>=0?R:he.UNKNOWN})(x.status);c(new xe(b,x.message))}else c(new xe(he.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new xe(he.UNAVAILABLE,"Connection failed."));break;default:Le(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{_e(Lr,`RPC '${e}' ${a} completed.`)}}));const f=JSON.stringify(i);_e(Lr,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",f,r,15)}))}T_(e,n,r){const i=LE(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");_e(Lr,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=a.createWebChannel(d,l);this.I_(f);let m=!1,p=!1;const y=new kJ({Ho:x=>{p?_e(Lr,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(m||(_e(Lr,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),_e(Lr,`RPC '${e}' stream ${i} sending:`,x),f.send(x))},Jo:()=>f.close()});return Am(f,Km.EventType.OPEN,(()=>{p||(_e(Lr,`RPC '${e}' stream ${i} transport opened.`),y.i_())})),Am(f,Km.EventType.CLOSE,(()=>{p||(p=!0,_e(Lr,`RPC '${e}' stream ${i} transport closed`),y.o_(),this.E_(f))})),Am(f,Km.EventType.ERROR,(x=>{p||(p=!0,bi(Lr,`RPC '${e}' stream ${i} transport errored. Name:`,x.name,"Message:",x.message),y.o_(new xe(he.UNAVAILABLE,"The operation could not be completed")))})),Am(f,Km.EventType.MESSAGE,(x=>{if(!p){const b=x.data[0];He(!!b,16349);const _=b,S=_?.error||_[0]?.error;if(S){_e(Lr,`RPC '${e}' stream ${i} received error:`,S);const R=S.status;let D=(function(P){const C=Bn[P];if(C!==void 0)return $F(C)})(R),z=S.message;R==="NOT_FOUND"&&z.includes("database")&&z.includes("does not exist")&&z.includes(this.databaseId.database)&&bi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),D===void 0&&(D=he.INTERNAL,z="Unknown error status: "+R+" with message "+S.message),p=!0,y.o_(new xe(D,z)),f.close()}else _e(Lr,`RPC '${e}' stream ${i} received:`,b),y.__(b)}})),wf.u_(),setTimeout((()=>{y.s_()}),0),y}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return M6()}}function RJ(t){return new wf(t)}function kB(){return typeof window<"u"?window:null}function Jv(){return typeof document<"u"?document:null}function Xu(t){return new FQ(t,!0)}wf.c_=!1;class tP{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const HR="PersistentStream";class RB{constructor(e,n,r,i,s,a,l,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new tP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(Dn(n.toString()),Dn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new xe(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return _e(HR,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(_e(HR,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class DJ extends RB{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UQ(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Qe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Qe.min():a.readTime?On(a.readTime):Qe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=jE(this.serializer),n.addTarget=(function(s,a){let l;const c=a.target;if(l=N0(c)?{documents:JF(s,c)}:{query:ub(s,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=KF(s,a.resumeToken);const d=AE(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(Qe.min())>0){l.readTime=Wf(s,a.snapshotVersion.toTimestamp());const d=AE(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l})(this.serializer,e);const r=qQ(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=jE(this.serializer),n.removeTarget=e,this.K_(n)}}class OJ extends RB{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return He(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){He(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=$Q(e.writeResults,e.commitTime),r=On(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=jE(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Dp(this.serializer,r)))};this.K_(n)}}class MJ{}class LJ extends MJ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Wo(e,IE(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xe(he.UNKNOWN,s.toString())}))}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.jo(e,IE(n,r),i,a,l,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(he.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function VJ(t,e,n,r){return new LJ(t,e,n,r)}class FJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Dn(n),this.aa=!1):_e("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ou="RemoteStore";class BJ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo((a=>{r.enqueueAndForget((async()=>{mc(this)&&(_e(Ou,"Restarting streams for network reachability change."),await(async function(c){const d=Re(c);d.Ea.add(4),await ph(d),d.Va.set("Unknown"),d.Ea.delete(4),await pg(d)})(this))}))})),this.Va=new FJ(r,i)}}async function pg(t){if(mc(t))for(const e of t.Ra)await e(!0)}async function ph(t){for(const e of t.Ra)await e(!1)}function pb(t,e){const n=Re(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),iP(n)?rP(n):yh(n).O_()&&nP(n,e))}function Xf(t,e){const n=Re(t),r=yh(n);n.Ia.delete(e),r.O_()&&DB(n,e),n.Ia.size===0&&(r.O_()?r.L_():mc(n)&&n.Va.set("Unknown"))}function nP(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yh(t).Z_(e)}function DB(t,e){t.da.$e(e),yh(t).X_(e)}function rP(t){t.da=new OQ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),yh(t).start(),t.Va.ua()}function iP(t){return mc(t)&&!yh(t).x_()&&t.Ia.size>0}function mc(t){return Re(t).Ea.size===0}function OB(t){t.da=void 0}async function zJ(t){t.Va.set("Online")}async function UJ(t){t.Ia.forEach(((e,n)=>{nP(t,e)}))}async function $J(t,e){OB(t),iP(t)?(t.Va.ha(e),rP(t)):t.Va.set("Unknown")}async function qJ(t,e,n){if(t.Va.set("Online"),e instanceof WF&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const l of s.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.da.removeTarget(l))})(t,e)}catch(r){_e(Ou,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await R0(t,r)}else if(e instanceof Yv?t.da.Xe(e):e instanceof HF?t.da.st(e):t.da.tt(e),!n.isEqual(Qe.min()))try{const r=await NB(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const l=s.da.Tt(a);return l.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=s.Ia.get(d);f&&s.Ia.set(d,f.withResumeToken(c.resumeToken,a))}})),l.targetMismatches.forEach(((c,d)=>{const f=s.Ia.get(c);if(!f)return;s.Ia.set(c,f.withResumeToken(Nn.EMPTY_BYTE_STRING,f.snapshotVersion)),DB(s,c);const m=new po(f.target,c,d,f.sequenceNumber);nP(s,m)})),s.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){_e(Ou,"Failed to raise snapshot:",r),await R0(t,r)}}async function R0(t,e,n){if(!fc(e))throw e;t.Ea.add(1),await ph(t),t.Va.set("Offline"),n||(n=()=>NB(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e(Ou,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pg(t)}))}function MB(t,e){return e().catch((n=>R0(t,n,e)))}async function gh(t){const e=Re(t),n=nc(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Hl;for(;HJ(e);)try{const i=await SJ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,WJ(e,i)}catch(i){await R0(e,i)}LB(e)&&VB(e)}function HJ(t){return mc(t)&&t.Ta.length<10}function WJ(t,e){t.Ta.push(e);const n=nc(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function LB(t){return mc(t)&&!nc(t).x_()&&t.Ta.length>0}function VB(t){nc(t).start()}async function KJ(t){nc(t).ra()}async function GJ(t){const e=nc(t);for(const n of t.Ta)e.ea(n.mutations)}async function XJ(t,e,n){const r=t.Ta.shift(),i=UT.from(r,e,n);await MB(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await gh(t)}async function YJ(t,e){e&&nc(t).Y_&&await(async function(r,i){if((function(a){return UF(a)&&a!==he.ABORTED})(i.code)){const s=r.Ta.shift();nc(r).B_(),await MB(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await gh(r)}})(t,e),LB(t)&&VB(t)}async function WR(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),_e(Ou,"RemoteStore received new credentials");const r=mc(n);n.Ea.add(3),await ph(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pg(n)}async function VE(t,e){const n=Re(t);e?(n.Ea.delete(2),await pg(n)):e||(n.Ea.add(2),await ph(n),n.Va.set("Unknown"))}function yh(t){return t.ma||(t.ma=(function(n,r,i){const s=Re(n);return s.sa(),new DJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:zJ.bind(null,t),Yo:UJ.bind(null,t),t_:$J.bind(null,t),J_:qJ.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),iP(t)?rP(t):t.Va.set("Unknown")):(await t.ma.stop(),OB(t))}))),t.ma}function nc(t){return t.fa||(t.fa=(function(n,r,i){const s=Re(n);return s.sa(),new OJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:KJ.bind(null,t),t_:YJ.bind(null,t),ta:GJ.bind(null,t),na:XJ.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await gh(t)):(await t.fa.stop(),t.Ta.length>0&&(_e(Ou,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class sP{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,l=new sP(e,n,a,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vh(t,e){if(Dn("AsyncQueue",`${e}: ${t}`),fc(t))return new xe(he.UNAVAILABLE,`${e}: ${t}`);throw t}class xu{static emptySet(e){return new xu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=Gm(),this.sortedSet=new nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class KR{constructor(){this.ga=new nn(je.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Le(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Mu{constructor(e,n,r,i,s,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((l=>{a.push({type:0,doc:l})})),new Mu(e,n,xu.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ug(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class QJ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class JJ{constructor(){this.queries=GR(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Re(n),s=i.queries;i.queries=GR(),s.forEach(((a,l)=>{for(const c of l.ba)c.onError(r)}))})(this,new xe(he.ABORTED,"Firestore shutting down"))}}function GR(){return new Vo((t=>TF(t)),ug)}async function aP(t,e){const n=Re(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new QJ,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=vh(a,`Initialization of query '${nf(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&lP(n)}async function oP(t,e){const n=Re(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.ba.indexOf(e);a>=0&&(s.ba.splice(a,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ZJ(t,e){const n=Re(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.ba)l.Fa(i)&&(r=!0);a.wa=i}}r&&lP(n)}function eZ(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function lP(t){t.Ca.forEach((e=>{e.next()}))}var FE,XR;(XR=FE||(FE={})).Ma="default",XR.Cache="cache";class cP{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Mu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==FE.Cache}}class FB{constructor(e,n){this.qa=e,this.byteLength=n}Ua(){return"metadata"in this.qa}}class YR{constructor(e){this.serializer=e}Ks(e){return Da(this.serializer,e)}qs(e){return e.metadata.exists?cb(this.serializer,e.document,!1):cn.newNoDocument(this.Ks(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return On(e)}}class uP{constructor(e,n){this.$a=e,this.serializer=n,this.Wa=[],this.Qa=[],this.collectionGroups=new Set,this.progress=BB(e)}get queries(){return this.Wa}get documents(){return this.Qa}Ga(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Wa.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Qa.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++n;const r=bt.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Qa[this.Qa.length-1].document=e.qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,{...this.progress}):null}za(e){const n=new Map,r=new YR(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ks(i.metadata.name);for(const a of i.metadata.queries){const l=(n.get(a)||gt()).add(s);n.set(a,l)}}return n}async ja(e){const n=await TJ(e,new YR(this.serializer),this.Qa,this.$a.id),r=this.za(this.documents);for(const i of this.Wa)await PJ(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,Ha:this.collectionGroups,Ja:n}}}function BB(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class zB{constructor(e){this.key=e}}class UB{constructor(e){this.key=e}}class $B{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=gt(),this.mutatedKeys=gt(),this.eu=AF(e),this.tu=new xu(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new KR,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,m)=>{const p=i.get(f),y=dg(this.query,m)?m:null,x=!!p&&this.mutatedKeys.has(p.key),b=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;p&&y?p.data.isEqual(y.data)?x!==b&&(r.track({type:3,doc:y}),_=!0):this.su(p,y)||(r.track({type:2,doc:y}),_=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(l=!0)):!p&&y?(r.track({type:0,doc:y}),_=!0):p&&!y&&(r.track({type:1,doc:p}),_=!0,(c||d)&&(l=!0)),_&&(y?(a=a.add(y),s=b?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{tu:a,iu:r,Ss:l,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((f,m)=>(function(y,x){const b=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le(20277,{Vt:_})}};return b(y)-b(x)})(f.type,m.type)||this.eu(f.doc,m.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,d=c!==this.Xa;return this.Xa=c,a.length!==0||d?{snapshot:new Mu(this.query,e.tu,s,a,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new KR,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=gt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new UB(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new zB(r))})),n}cu(e){this.Za=e.ks,this.Ya=gt();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Mu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const pc="SyncEngine";class tZ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nZ{constructor(e){this.key=e,this.hu=!1}}class rZ{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Vo((l=>TF(l)),ug),this.Iu=new Map,this.Eu=new Set,this.Ru=new nn(je.comparator),this.Au=new Map,this.Vu=new GT,this.du={},this.mu=new Map,this.fu=Du.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function iZ(t,e,n=!0){const r=gb(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await qB(r,e,n,!0),i}async function sZ(t,e){const n=gb(t);await qB(n,e,!0,!1)}async function qB(t,e,n,r){const i=await Kf(t.localStore,$r(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await dP(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&pb(t.remoteStore,i),l}async function dP(t,e,n,r,i){t.pu=(m,p,y)=>(async function(b,_,S,R){let D=_.view.ru(S);D.Ss&&(D=await I0(b.localStore,_.query,!1).then((({documents:C})=>_.view.ru(C,D))));const z=R&&R.targetChanges.get(_.targetId),I=R&&R.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(D,b.isPrimaryClient,z,I);return BE(b,_.targetId,P.au),P.snapshot})(t,m,p,y);const s=await I0(t.localStore,e,!0),a=new $B(e,s.ks),l=a.ru(s.documents),c=mg.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,c);BE(t,n,d.au);const f=new tZ(e,n,a);return t.Tu.set(e,f),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function aZ(t,e,n){const r=Re(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter((a=>!ug(a,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gf(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xf(r.remoteStore,i.targetId),Yf(r,i.targetId)})).catch(dc)):(Yf(r,i.targetId),await Gf(r.localStore,i.targetId,!0))}async function oZ(t,e){const n=Re(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xf(n.remoteStore,r.targetId))}async function lZ(t,e,n){const r=pP(t);try{const i=await(function(a,l){const c=Re(a),d=vt.now(),f=l.reduce(((y,x)=>y.add(x.key)),gt());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let x=gi(),b=gt();return c.xs.getEntries(y,f).next((_=>{x=_,x.forEach(((S,R)=>{R.isValidDocument()||(b=b.add(S))}))})).next((()=>c.localDocuments.getOverlayedDocuments(y,x))).next((_=>{m=_;const S=[];for(const R of l){const D=jQ(R,m.get(R.key).overlayedDocument);D!=null&&S.push(new Fo(R.key,D,gF(D.value.mapValue),mn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,S,l)})).next((_=>{p=_;const S=_.applyToLocalDocumentSet(m,b);return c.documentOverlayCache.saveOverlays(y,_.batchId,S)}))})).then((()=>({batchId:p.batchId,changes:jF(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,l,c){let d=a.du[a.currentUser.toKey()];d||(d=new nn(ot)),d=d.insert(l,c),a.du[a.currentUser.toKey()]=d})(r,i.batchId,n),await Bo(r,i.changes),await gh(r.remoteStore)}catch(i){const s=vh(i,"Failed to persist write");n.reject(s)}}async function HB(t,e){const n=Re(t);try{const r=await EJ(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Au.get(s);a&&(He(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?He(a.hu,14607):i.removedDocuments.size>0&&(He(a.hu,42227),a.hu=!1))})),await Bo(n,r,e)}catch(r){await dc(r)}}function QR(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((s,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(a,l){const c=Re(a);c.onlineState=l;let d=!1;c.queries.forEach(((f,m)=>{for(const p of m.ba)p.va(l)&&(d=!0)})),d&&lP(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function cZ(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new nn(je.comparator);a=a.insert(s,cn.newNoDocument(s,Qe.min()));const l=gt().add(s),c=new hg(Qe.min(),new Map,new nn(ot),a,l);await HB(r,c),r.Ru=r.Ru.remove(s),r.Au.delete(e),mP(r)}else await Gf(r.localStore,e,!1).then((()=>Yf(r,e,n))).catch(dc)}async function uZ(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await CJ(n.localStore,e);hP(n,r,null),fP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bo(n,i)}catch(i){await dc(i)}}async function dZ(t,e,n){const r=Re(t);try{const i=await(function(a,l){const c=Re(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return c.mutationQueue.lookupMutationBatch(d,l).next((m=>(He(m!==null,37113),f=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>c.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);hP(r,e,n),fP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bo(r,i)}catch(i){await dc(i)}}async function fZ(t,e){const n=Re(t);mc(n.remoteStore)||_e(pc,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(a){const l=Re(a);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(c=>l.mutationQueue.getHighestUnacknowledgedBatchId(c)))})(n.localStore);if(r===Hl)return void e.resolve();const i=n.mu.get(r)||[];i.push(e),n.mu.set(r,i)}catch(r){const i=vh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function fP(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function hP(t,e,n){const r=Re(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Yf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||WB(t,r)}))}function WB(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Xf(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),mP(t))}function BE(t,e,n){for(const r of n)r instanceof zB?(t.Vu.addReference(r.key,e),hZ(t,r)):r instanceof UB?(_e(pc,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||WB(t,r.key)):Le(19791,{wu:r})}function hZ(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(_e(pc,"New document in limbo: "+n),t.Eu.add(r),mP(t))}function mP(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new je(bt.fromString(e)),r=t.fu.next();t.Au.set(r,new nZ(n)),t.Ru=t.Ru.insert(n,r),pb(t.remoteStore,new po($r(fh(n.path)),r,"TargetPurposeLimboResolution",mi.ce))}}async function Bo(t,e,n){const r=Re(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{a.push(r.pu(c,e,n).then((d=>{if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:n?.targetChanges.get(c.targetId)?.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=JT.Es(c.targetId,d);s.push(f)}})))})),await Promise.all(a),r.Pu.J_(i),await(async function(c,d){const f=Re(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>le.forEach(d,(p=>le.forEach(p.Ts,(y=>f.persistence.referenceDelegate.addReference(m,p.targetId,y))).next((()=>le.forEach(p.Is,(y=>f.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))))))}catch(m){if(!fc(m))throw m;_e(ZT,"Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const y=f.vs.get(p),x=y.snapshotVersion,b=y.withLastLimboFreeSnapshotVersion(x);f.vs=f.vs.insert(p,b)}}})(r.localStore,s))}async function mZ(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){_e(pc,"User change. New user:",e.toKey());const r=await _B(n.localStore,e);n.currentUser=e,(function(s,a){s.mu.forEach((l=>{l.forEach((c=>{c.reject(new xe(he.CANCELLED,a))}))})),s.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bo(n,r.Ns)}}function pZ(t,e){const n=Re(t),r=n.Au.get(e);if(r&&r.hu)return gt().add(r.key);{let i=gt();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}async function gZ(t,e){const n=Re(t),r=await I0(n.localStore,e.query,!0),i=e.view.cu(r);return n.isPrimaryClient&&BE(n,e.targetId,i.au),i}async function yZ(t,e){const n=Re(t);return SB(n.localStore,e).then((r=>Bo(n,r)))}async function vZ(t,e,n,r){const i=Re(t),s=await(function(l,c){const d=Re(l),f=Re(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(m=>f.Xn(m,c).next((p=>p?d.localDocuments.getDocuments(m,p):le.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await gh(i.remoteStore):n==="acknowledged"||n==="rejected"?(hP(i,e,r||null),fP(i,e),(function(l,c){Re(Re(l).mutationQueue).nr(c)})(i.localStore,e)):Le(6720,"Unknown batchState",{bu:n}),await Bo(i,s)):_e(pc,"Cannot apply mutation batch with id: "+e)}async function xZ(t,e){const n=Re(t);if(gb(n),pP(n),e===!0&&n.gu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await JR(n,r.toArray());n.gu=!0,await VE(n.remoteStore,!0);for(const s of i)pb(n.remoteStore,s)}else if(e===!1&&n.gu!==!1){const r=[];let i=Promise.resolve();n.Iu.forEach(((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(Yf(n,a),Gf(n.localStore,a,!0)))),Xf(n.remoteStore,a)})),await i,await JR(n,r),(function(a){const l=Re(a);l.Au.forEach(((c,d)=>{Xf(l.remoteStore,d)})),l.Vu.zr(),l.Au=new Map,l.Ru=new nn(je.comparator)})(n),n.gu=!1,await VE(n.remoteStore,!1)}}async function JR(t,e,n){const r=Re(t),i=[],s=[];for(const a of e){let l;const c=r.Iu.get(a);if(c&&c.length!==0){l=await Kf(r.localStore,$r(c[0]));for(const d of c){const f=r.Tu.get(d),m=await gZ(r,f);m.snapshot&&s.push(m.snapshot)}}else{const d=await EB(r.localStore,a);l=await Kf(r.localStore,d),await dP(r,KB(d),a,!1,l.resumeToken)}i.push(l)}return r.Pu.J_(s),i}function KB(t){return CF(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function bZ(t){return(function(n){return Re(Re(n).persistence).hs()})(Re(t).localStore)}async function wZ(t,e,n,r){const i=Re(t);if(i.gu)return void _e(pc,"Ignoring unexpected query state notification.");const s=i.Iu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await SB(i.localStore,PF(s[0])),l=hg.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Nn.EMPTY_BYTE_STRING);await Bo(i,a,l);break}case"rejected":await Gf(i.localStore,e,!0),Yf(i,e,r);break;default:Le(64155,n)}}async function _Z(t,e,n){const r=gb(t);if(r.gu){for(const i of e){if(r.Iu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){_e(pc,"Adding an already active target "+i);continue}const s=await EB(r.localStore,i),a=await Kf(r.localStore,s);await dP(r,KB(s),a.targetId,!1,a.resumeToken),pb(r.remoteStore,a)}for(const i of n)r.Iu.has(i)&&await Gf(r.localStore,i,!1).then((()=>{Xf(r.remoteStore,i),Yf(r,i)})).catch(dc)}}function gb(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=HB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cZ.bind(null,e),e.Pu.J_=ZJ.bind(null,e.eventManager),e.Pu.yu=eZ.bind(null,e.eventManager),e}function pP(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dZ.bind(null,e),e}function NZ(t,e,n){const r=Re(t);(async function(s,a,l){try{const c=await a.getMetadata();if(await(function(y,x){const b=Re(y),_=On(x.createTime);return b.persistence.runTransaction("hasNewerBundle","readonly",(S=>b.Pi.getBundleMetadata(S,x.id))).then((S=>!!S&&S.createTime.compareTo(_)>=0))})(s.localStore,c))return await a.close(),l._completeWith((function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}})(c)),Promise.resolve(new Set);l._updateProgress(BB(c));const d=new uP(c,a.serializer);let f=await a.Su();for(;f;){const p=await d.Ga(f);p&&l._updateProgress(p),f=await a.Su()}const m=await d.ja(s.localStore);return await Bo(s,m.Ja,void 0),await(function(y,x){const b=Re(y);return b.persistence.runTransaction("Save bundle","readwrite",(_=>b.Pi.saveBundleMetadata(_,x)))})(s.localStore,c),l._completeWith(m.progress),Promise.resolve(m.Ha)}catch(c){return bi(pc,`Loading bundle failed with ${c}`),l._failWith(c),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return wB(this.persistence,new bB,e.initialUser,this.serializer)}Cu(e){return new XT(mb.Vi,this.serializer)}Du(e){return new jB}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qf.provider={build:()=>new Qf};class gP extends Qf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){He(this.persistence.referenceDelegate instanceof A0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new mB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Fr.withCacheSize(this.cacheSizeBytes):Fr.DEFAULT;return new XT((r=>A0.Vi(r,n)),this.serializer)}}class yP extends Qf{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await pP(this.xu.syncEngine),await gh(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return wB(this.persistence,new bB,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new mB(r,e.asyncQueue,n)}Mu(e,n){const r=new IY(n,this.persistence);return new AY(e.asyncQueue,r)}Cu(e){const n=QT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Fr.withCacheSize(this.cacheSizeBytes):Fr.DEFAULT;return new YT(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,kB(),Jv(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new jB}}class GB extends yP{constructor(e,n){super(e,n,!1),this.xu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.xu.syncEngine;this.sharedClientState instanceof m_&&(this.sharedClientState.syncEngine={So:vZ.bind(null,n),Do:wZ.bind(null,n),Co:_Z.bind(null,n),hs:bZ.bind(null,n),bo:yZ.bind(null,n)},await this.sharedClientState.start()),await this.persistence.zi((async r=>{await xZ(this.xu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Du(e){const n=kB();if(!m_.v(n))throw new xe(he.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=QT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new m_(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class rc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>QR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mZ.bind(null,this.syncEngine),await VE(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new JJ})()}createDatastore(e){const n=Xu(e.databaseInfo.databaseId),r=RJ(e.databaseInfo);return VJ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,l){return new BJ(r,i,s,a,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>QR(this.syncEngine,n,0)),(function(){return qR.v()?new qR:new AJ})())}createSyncEngine(e,n){return(function(i,s,a,l,c,d,f){const m=new rZ(i,s,a,l,c,d);return f&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);_e(Ou,"RemoteStore shutting down."),r.Ea.add(5),await ph(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rc.provider={build:()=>new rc};function ZR(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class yb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Dn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class CZ{constructor(e,n){this.Bu=e,this.serializer=n,this.metadata=new dr,this.buffer=new Uint8Array,this.Lu=(function(){return new TextDecoder("utf-8")})(),this.ku().then((r=>{r&&r.Ua()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.qa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Bu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.ku()}async ku(){const e=await this.Ku();if(e===null)return null;const n=this.Lu.decode(e),r=Number(n);isNaN(r)&&this.qu(`length string (${n}) is not valid number`);const i=await this.Uu(r);return new FB(JSON.parse(i),e.length+r)}$u(){return this.buffer.findIndex((e=>e===123))}async Ku(){for(;this.$u()<0&&!await this.Wu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Uu(e){for(;this.buffer.length<e;)await this.Wu()&&this.qu("Reached the end of bundle when more is expected.");const n=this.Lu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}qu(e){throw this.Bu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Wu(){const e=await this.Bu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}class EZ{constructor(e,n){this.bundleData=e,this.serializer=n,this.cursor=0,this.elements=[];let r=this.Su();if(!r||!r.Ua())throw new Error(`The first element of the bundle is not a metadata object, it is
         ${JSON.stringify(r?.qa)}`);this.metadata=r;do r=this.Su(),r!==null&&this.elements.push(r);while(r!==null)}getMetadata(){return this.metadata}Qu(){return this.elements}Su(){if(this.cursor===this.bundleData.length)return null;const e=this.Ku(),n=this.Uu(e);return new FB(JSON.parse(n),e)}Uu(e){if(this.cursor+e>this.bundleData.length)throw new xe(he.INTERNAL,"Reached the end of bundle when more is expected.");return this.bundleData.slice(this.cursor,this.cursor+=e)}Ku(){const e=this.cursor;let n=this.cursor;for(;n<this.bundleData.length;){if(this.bundleData[n]==="{"){if(n===e)throw new Error("First character is a bracket and not a number");return this.cursor=n,Number(this.bundleData.slice(e,n))}n++}throw new Error("Reached the end of bundle when more is expected.")}}let SZ=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new xe(he.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const a=Re(i),l={documents:s.map((m=>Rp(a.serializer,m)))},c=await a.jo("BatchGetDocuments",a.serializer.databaseId,bt.emptyPath(),l,s.length),d=new Map;c.forEach((m=>{const p=zQ(a.serializer,m);d.set(p.key.toString(),p)}));const f=[];return s.forEach((m=>{const p=d.get(m.toString());He(!!p,55234,{key:m}),f.push(p)})),f})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new mh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=je.fromPath(r);this.mutations.push(new BT(i,this.precondition(i)))})),await(async function(r,i){const s=Re(r),a={writes:i.map((l=>Dp(s.serializer,l)))};await s.Wo("Commit",s.serializer.databaseId,bt.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Le(50498,{Gu:e.constructor.name});n=Qe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new xe(he.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Qe.min())?mn.exists(!1):mn.updateTime(n):mn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Qe.min()))throw new xe(he.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mn.updateTime(n)}return mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};class TZ{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.zu=r.maxAttempts,this.M_=new tP(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const e=new SZ(this.datastore),n=this.Ju(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.Zu(i)}))))})).catch((r=>{this.Zu(r)}))}))}Ju(e){try{const n=this.updateFunction(e);return!og(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Zu(e){this.zu>0&&this.Xu(e)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(e)}Xu(e){if(e?.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!UF(n)}return!1}}const ic="FirestoreClient";class PZ{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=lr.UNAUTHENTICATED,this.clientId=Jx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{_e(ic,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(_e(ic,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vh(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function g_(t,e){t.asyncQueue.verifyOperationInProgress(),_e(ic,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await _B(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function eD(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vP(t);_e(ic,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>WR(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>WR(e.remoteStore,i))),t._onlineComponents=e}async function vP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e(ic,"Using user provided OfflineComponentProvider");try{await g_(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===he.FAILED_PRECONDITION||i.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;bi("Error using user provided cache. Falling back to memory cache: "+n),await g_(t,new Qf)}}else _e(ic,"Using default OfflineComponentProvider"),await g_(t,new gP(void 0));return t._offlineComponents}async function vb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e(ic,"Using user provided OnlineComponentProvider"),await eD(t,t._uninitializedComponentsProvider._online)):(_e(ic,"Using default OnlineComponentProvider"),await eD(t,new rc))),t._onlineComponents}function XB(t){return vP(t).then((e=>e.persistence))}function xh(t){return vP(t).then((e=>e.localStore))}function YB(t){return vb(t).then((e=>e.remoteStore))}function xP(t){return vb(t).then((e=>e.syncEngine))}function QB(t){return vb(t).then((e=>e.datastore))}async function Jf(t){const e=await vb(t),n=e.eventManager;return n.onListen=iZ.bind(null,e.syncEngine),n.onUnlisten=aZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oZ.bind(null,e.syncEngine),n}function AZ(t){return t.asyncQueue.enqueue((async()=>{const e=await XB(t),n=await YB(t);return e.setNetworkEnabled(!0),(function(i){const s=Re(i);return s.Ea.delete(0),pg(s)})(n)}))}function IZ(t){return t.asyncQueue.enqueue((async()=>{const e=await XB(t),n=await YB(t);return e.setNetworkEnabled(!1),(async function(i){const s=Re(i);s.Ea.add(0),await ph(s),s.Va.set("Offline")})(n)}))}function jZ(t,e,n,r){const i=new yb(r),s=new cP(e,i,n);return t.asyncQueue.enqueueAndForget((async()=>aP(await Jf(t),s))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>oP(await Jf(t),s)))}}function kZ(t,e){const n=new dr;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const l=await(function(d,f){const m=Re(d);return m.persistence.runTransaction("read document","readonly",(p=>m.localDocuments.getDocument(p,f)))})(i,s);l.isFoundDocument()?a.resolve(l):l.isNoDocument()?a.resolve(null):a.reject(new xe(he.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(l){const c=vh(l,`Failed to get document '${s} from cache`);a.reject(c)}})(await xh(t),e,n))),n.promise}function JB(t,e,n={}){const r=new dr;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,c,d){const f=new yb({next:p=>{f.Nu(),a.enqueueAndForget((()=>oP(s,m)));const y=p.docs.has(l);!y&&p.fromCache?d.reject(new xe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?d.reject(new xe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new cP(fh(l.path),f,{includeMetadataChanges:!0,Ka:!0});return aP(s,m)})(await Jf(t),t.asyncQueue,e,n,r))),r.promise}function RZ(t,e){const n=new dr;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const l=await I0(i,s,!0),c=new $B(s,l.ks),d=c.ru(l.documents),f=c.applyChanges(d,!1);a.resolve(f.snapshot)}catch(l){const c=vh(l,`Failed to execute query '${s} against cache`);a.reject(c)}})(await xh(t),e,n))),n.promise}function ZB(t,e,n={}){const r=new dr;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,l,c,d){const f=new yb({next:p=>{f.Nu(),a.enqueueAndForget((()=>oP(s,m))),p.fromCache&&c.source==="server"?d.reject(new xe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new cP(l,f,{includeMetadataChanges:!0,Ka:!0});return aP(s,m)})(await Jf(t),t.asyncQueue,e,n,r))),r.promise}function DZ(t,e,n){const r=new dr;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await QB(t);r.resolve((async function(a,l,c){const d=Re(a),{request:f,gt:m,parent:p}=ZF(d.serializer,EF(l),c);d.connection.Ko||delete f.parent;const y=(await d.jo("RunAggregationQuery",d.serializer.databaseId,p,f,1)).filter((b=>!!b.result));He(y.length===1,64727);const x=y[0].result?.aggregateFields;return Object.keys(x).reduce(((b,_)=>(b[m[_]]=x[_],b)),{})})(i,e,n))}catch(i){r.reject(i)}})),r.promise}function OZ(t,e){const n=new dr;return t.asyncQueue.enqueueAndForget((async()=>lZ(await xP(t),e,n))),n.promise}function MZ(t,e){const n=new yb(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Re(i).Ca.add(s),s.next()})(await Jf(t),n))),()=>{n.Nu(),t.asyncQueue.enqueueAndForget((async()=>(function(i,s){Re(i).Ca.delete(s)})(await Jf(t),n)))}}function LZ(t,e,n){const r=new dr;return t.asyncQueue.enqueueAndForget((async()=>{const i=await QB(t);new TZ(t.asyncQueue,i,n,e,r).ju()})),r.promise}function VZ(t,e,n,r){const i=(function(a,l){let c;return c=typeof a=="string"?qF().encode(a):a,(function(f,m){return new CZ(f,m)})((function(f,m){if(f instanceof Uint8Array)return ZR(f,m);if(f instanceof ArrayBuffer)return ZR(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(c),l)})(n,Xu(e));t.asyncQueue.enqueueAndForget((async()=>{NZ(await xP(t),i,r)}))}function FZ(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const s=Re(r);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Pi.getNamedQuery(a,i)))})(await xh(t),e)))}function ez(t,e){return(function(r,i){return new EZ(r,i)})(t,e)}function BZ(t,e){return t.asyncQueue.enqueue((async()=>(async function(r,i){const s=Re(r),a=s.indexManager,l=[];return s.persistence.runTransaction("Configure indexes","readwrite",(c=>a.getFieldIndexes(c).next((d=>(function(m,p,y,x,b){m=[...m],p=[...p],m.sort(y),p.sort(y);const _=m.length,S=p.length;let R=0,D=0;for(;R<S&&D<_;){const z=y(m[D],p[R]);z<0?b(m[D++]):z>0?x(p[R++]):(R++,D++)}for(;R<S;)x(p[R++]);for(;D<_;)b(m[D++])})(d,i,EY,(f=>{l.push(a.addFieldIndex(c,f))}),(f=>{l.push(a.deleteFieldIndex(c,f))})))).next((()=>le.waitFor(l)))))})(await xh(t),e)))}function zZ(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){Re(r).Cs.As=i})(await xh(t),e)))}function UZ(t){return t.asyncQueue.enqueue((async()=>(function(n){const r=Re(n),i=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",(s=>i.deleteAllFieldIndexes(s)))})(await xh(t))))}function tz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const $Z="ComponentProvider",tD=new Map;function qZ(t,e,n,r,i){return new sQ(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,tz(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const nz="firestore.googleapis.com",nD=!0;class rD{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new xe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=nz,this.ssl=nD}else this.host=e.host,this.ssl=e.ssl??nD;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cB;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hB)throw new xe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}z6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tz(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new xe(he.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rD({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rD(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new F6;switch(r.type){case"firstParty":return new vY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=tD.get(n);r&&(_e($Z,"Removing Datastore"),tD.delete(n),r.terminate())})(this),Promise.resolve()}}function rz(t,e,n,r={}){t=wt(t,gg);const i=uc(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(Qx(`https://${l}`),_T("Firestore",!0)),s.host!==nz&&s.host!==l&&bi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:l,ssl:i,emulatorOptions:r};if(!zs(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=lr.MOCK_USER;else{d=w6(r.mockUserToken,t._app?.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new xe(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new lr(m)}t._authCredentials=new pY(new V6(d,f))}}class Qn{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Qn(this.firestore,e,this._query)}}class Ht{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gu(n,Ht._jsonSchema))return new Ht(e,r||null,new je(bt.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:$n("string",Ht._jsonSchemaVersion),referencePath:$n("string")};class Ms extends Qn{constructor(e,n,r){super(e,n,fh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new je(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function it(t,e,...n){if(t=jt(t),TT("collection","path",e),t instanceof gg){const r=bt.fromString(e,...n);return Hk(r),new Ms(t,null,r)}{if(!(t instanceof Ht||t instanceof Ms))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return Hk(r),new Ms(t.firestore,null,r)}}function HZ(t,e){if(t=wt(t,gg),TT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xe(he.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qn(t,null,(function(r){return new Lo(bt.emptyPath(),r)})(e))}function et(t,e,...n){if(t=jt(t),arguments.length===1&&(e=Jx.newId()),TT("doc","path",e),t instanceof gg){const r=bt.fromString(e,...n);return qk(r),new Ht(t,null,new je(r))}{if(!(t instanceof Ht||t instanceof Ms))throw new xe(he.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(bt.fromString(e,...n));return qk(r),new Ht(t.firestore,t instanceof Ms?t.converter:null,new je(r))}}function WZ(t,e){return t=jt(t),e=jt(e),(t instanceof Ht||t instanceof Ms)&&(e instanceof Ht||e instanceof Ms)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function bP(t,e){return t=jt(t),e=jt(e),t instanceof Qn&&e instanceof Qn&&t.firestore===e.firestore&&ug(t._query,e._query)&&t.converter===e.converter}const iD="AsyncQueue";class sD{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new tP(this,"async_queue_retry"),this._c=()=>{const r=Jv();r&&_e(iD,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Jv();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!fc(e))throw e;_e(iD,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Dn("INTERNAL UNHANDLED ERROR: ",aD(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=sP.createAndSchedule(this,e,n,r,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Le(47125,{Pc:aD(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function aD(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class iz{constructor(){this._progressObserver={},this._taskCompletionResolver=new dr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const KZ=-1;class Kt extends gg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sD,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sD(e),this._firestoreClient=void 0,await e}}}function GZ(t,e,n){n||(n=Ap);const r=uh(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(zs(s,e))return i;throw new xe(he.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new xe(he.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hB)throw new xe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&uc(e.host)&&Qx(e.host),r.initialize({options:e,instanceIdentifier:n})}function sz(t,e){const n=typeof t=="object"?t:ET(),r=typeof t=="string"?t:e||Ap,i=uh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=v6("firestore");s&&rz(i,...s)}return i}function gn(t){if(t._terminated)throw new xe(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||az(t),t._firestoreClient}function az(t){const e=t._freezeSettings(),n=qZ(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new PZ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(i){const s=i?._online.build();return{_offline:i?._offline.build(s),_online:s}})(t._componentsProvider))}function XZ(t,e){bi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return oz(t,rc.provider,{build:r=>new yP(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function YZ(t){bi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();oz(t,rc.provider,{build:n=>new GB(n,e.cacheSizeBytes)})}function oz(t,e,n){if((t=wt(t,Kt))._firestoreClient||t._terminated)throw new xe(he.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new xe(he.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},az(t)}function QZ(t){if(t._initialized&&!t._terminated)throw new xe(he.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new dr;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!Ra.v())return Promise.resolve();const i=r+xB;await Ra.delete(i)})(QT(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function JZ(t){return(function(n){const r=new dr;return n.asyncQueue.enqueueAndForget((async()=>fZ(await xP(n),r))),r.promise})(gn(t=wt(t,Kt)))}function ZZ(t){return AZ(gn(t=wt(t,Kt)))}function eee(t){return IZ(gn(t=wt(t,Kt)))}function tee(t){return ZX(t.app,"firestore",t._databaseId.database),t._delete()}function zE(t,e){const n=gn(t=wt(t,Kt)),r=new iz;return VZ(n,t._databaseId,e,r),r}function lz(t,e){return FZ(gn(t=wt(t,Kt)),e).then((n=>n?new Qn(t,null,n.query):null))}class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(Nn.fromBase64String(e))}catch(n){throw new xe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hi(Nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gu(e,hi._jsonSchema))return hi.fromBase64String(e.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:$n("string",hi._jsonSchemaVersion),bytes:$n("string")};class Yu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function nee(){return new Yu(gE)}class gc{constructor(e){this._methodName=e}}class Ls{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ls._jsonSchemaVersion}}static fromJSON(e){if(Gu(e,Ls._jsonSchema))return new Ls(e.latitude,e.longitude)}}Ls._jsonSchemaVersion="firestore/geoPoint/1.0",Ls._jsonSchema={type:$n("string",Ls._jsonSchemaVersion),latitude:$n("number"),longitude:$n("number")};class Ui{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gu(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ui(e.vectorValues);throw new xe(he.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:$n("string",Ui._jsonSchemaVersion),vectorValues:$n("object")};const ree=/^__.*__$/;class iee{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms):new hh(e,this.data,n,this.fieldTransforms)}}class cz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le(40011,{dataSource:t})}}class xb{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new xb({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const n=this.path?.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return D0(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(uz(this.dataSource)&&ree.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class see{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xu(e)}createContext(e,n,r,i=!1){return new xb({dataSource:e,methodName:n,targetDoc:r,path:un.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qu(t){const e=t._freezeSettings(),n=Xu(t._databaseId);return new see(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bb(t,e,n,r,i,s={}){const a=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);TP("Data must be an object, but it was:",a,r);const l=hz(r,a);let c,d;if(s.merge)c=new pi(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const p=Po(e,m,n);if(!a.contains(p))throw new xe(he.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);pz(f,p)||f.push(p)}c=new pi(f),d=a.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=a.fieldTransforms;return new iee(new ur(l),c,d)}class yg extends gc{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yg}}function dz(t,e,n){return new xb({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class wP extends gc{_toFieldTransform(e){return new fg(e.path,new qf)}isEqual(e){return e instanceof wP}}class _P extends gc{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=dz(this,e,!0),r=this.Ac.map((s=>Ju(s,n))),i=new Iu(r);return new fg(e.path,i)}isEqual(e){return e instanceof _P&&zs(this.Ac,e.Ac)}}class NP extends gc{constructor(e,n){super(e),this.Ac=n}_toFieldTransform(e){const n=dz(this,e,!0),r=this.Ac.map((s=>Ju(s,n))),i=new ju(r);return new fg(e.path,i)}isEqual(e){return e instanceof NP&&zs(this.Ac,e.Ac)}}class CP extends gc{constructor(e,n){super(e),this.Vc=n}_toFieldTransform(e){const n=new Hf(e.serializer,DF(e.serializer,this.Vc));return new fg(e.path,n)}isEqual(e){return e instanceof CP&&this.Vc===e.Vc}}function EP(t,e,n,r){const i=t.createContext(1,e,n);TP("Data must be an object, but it was:",i,r);const s=[],a=ur.empty();hc(r,((c,d)=>{const f=PP(e,c,n);d=jt(d);const m=i.childContextForFieldPath(f);if(d instanceof yg)s.push(f);else{const p=Ju(d,m);p!=null&&(s.push(f),a.set(f,p))}}));const l=new pi(s);return new cz(a,l,i.fieldTransforms)}function SP(t,e,n,r,i,s){const a=t.createContext(1,e,n),l=[Po(e,r,n)],c=[i];if(s.length%2!=0)throw new xe(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)l.push(Po(e,s[p])),c.push(s[p+1]);const d=[],f=ur.empty();for(let p=l.length-1;p>=0;--p)if(!pz(d,l[p])){const y=l[p];let x=c[p];x=jt(x);const b=a.childContextForFieldPath(y);if(x instanceof yg)d.push(y);else{const _=Ju(x,b);_!=null&&(d.push(y),f.set(y,_))}}const m=new pi(d);return new cz(f,m,a.fieldTransforms)}function fz(t,e,n,r=!1){return Ju(n,t.createContext(r?4:3,e))}function Ju(t,e){if(mz(t=jt(t)))return TP("Unsupported field value:",e,t),hz(t,e);if(t instanceof gc)return(function(r,i){if(!uz(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const l of r){let c=Ju(l,i.childContextForArray(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return DF(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=vt.fromDate(r);return{timestampValue:Wf(i.serializer,s)}}if(r instanceof vt){const s=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wf(i.serializer,s)}}if(r instanceof Ls)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:KF(i.serializer,r._byteString)};if(r instanceof Ht){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.createError(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:HT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ui)return(function(a,l){const c=a instanceof Ui?a.toArray():a;return{mapValue:{fields:{[DT]:{stringValue:OT},[zf]:{arrayValue:{values:c.map((f=>{if(typeof f!="number")throw l.createError("VectorValues must only contain numeric values.");return FT(l.serializer,f)}))}}}}}})(r,i);if(iB(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Zx(r)}`)})(t,e)}function hz(t,e){const n={};return oF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hc(t,((r,i)=>{const s=Ju(i,e.childContextForField(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function mz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof Ls||t instanceof hi||t instanceof Ht||t instanceof gc||t instanceof Ui||iB(t))}function TP(t,e,n){if(!mz(n)||!U6(n)){const r=Zx(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Po(t,e,n){if((e=jt(e))instanceof Yu)return e._internalPath;if(typeof e=="string")return PP(t,e);throw D0("Field path arguments must be of type string or ",t,!1,void 0,n)}const aee=new RegExp("[~\\*/\\[\\]]");function PP(t,e,n){if(e.search(aee)>=0)throw D0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yu(...e.split("."))._internalPath}catch{throw D0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function D0(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new xe(he.INVALID_ARGUMENT,l+t+c)}function pz(t,e){return t.some((n=>n.isEqual(e)))}class AP{convertValue(e,n="none"){switch(Zl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(To(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return hc(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){const n=e.fields?.[zf].arrayValue?.values?.map((r=>hn(r.doubleValue)));return new Ui(n)}convertGeoPoint(e){return new Ls(hn(e.latitude),hn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=sb(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Pp(e));default:return null}}convertTimestamp(e){const n=So(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=bt.fromString(e);He(rB(r),9688,{name:e});const i=new Jl(r.get(1),r.get(3)),s=new je(r.popFirst(5));return i.isEqual(n)||Dn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class yc extends AP{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function oee(){return new yg("deleteField")}function $i(){return new wP("serverTimestamp")}function lee(...t){return new _P("arrayUnion",t)}function cee(...t){return new NP("arrayRemove",t)}function uee(t){return new CP("increment",t)}function dee(t){return new Ui(t)}function fee(t){const e=gn(wt(t.firestore,Kt)),n=e._onlineComponents?.datastore.serializer;return n===void 0?null:ub(n,$r(t._query)).ft}function hee(t,e){const n=aF(e,((s,a)=>new zF(a,s.aggregateType,s._internalFieldPath))),r=gn(wt(t.firestore,Kt)),i=r._onlineComponents?.datastore.serializer;return i===void 0?null:ZF(i,EF(t._query),n,!0).request}const oD="@firebase/firestore",lD="4.11.0";function _f(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Zf{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class gz{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}_fieldsProto(){return new ur({mapValue:{fields:this._data}}).clone().value.mapValue.fields}}class Op{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(Po("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mee extends Op{data(){return super.data()}}function yz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IP{}class bh extends IP{}function Dt(t,e,...n){let r=[];e instanceof IP&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((c=>c instanceof Zu)).length,l=s.filter((c=>c instanceof wh)).length;if(a>1||a>0&&l>0)throw new xe(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class wh extends bh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new wh(e,n,r)}_apply(e){const n=this._parse(e);return xz(e._query,n),new Qn(e.firestore,e.converter,TE(e._query,n))}_parse(e){const n=Qu(e.firestore);return(function(s,a,l,c,d,f,m){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new xe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){uD(m,f);const x=[];for(const b of m)x.push(cD(c,s,b));p={arrayValue:{values:x}}}else p=cD(c,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||uD(m,f),p=fz(l,a,m,f==="in"||f==="not-in");return Et.create(d,f,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function It(t,e,n){const r=e,i=Po("where",t);return wh._create(i,r,n)}class Zu extends IP{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Zu(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:qt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const l=s.getFlattenedFilters();for(const c of l)xz(a,c),a=TE(a,c)})(e._query,n),new Qn(e.firestore,e.converter,TE(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function pee(...t){return t.forEach((e=>bz("or",e))),Zu._create("or",t)}function gee(...t){return t.forEach((e=>bz("and",e))),Zu._create("and",t)}class wb extends bh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wb(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new xe(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xe(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new kp(s,a)})(e._query,this._field,this._direction);return new Qn(e.firestore,e.converter,vQ(e._query,n))}}function vg(t,e="asc"){const n=e,r=Po("orderBy",t);return wb._create(r,n)}class xg extends bh{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new xg(e,n,r)}_apply(e){return new Qn(e.firestore,e.converter,E0(e._query,this._limit,this._limitType))}}function Rl(t){return $6("limit",t),xg._create("limit",t,"F")}function yee(t){return $6("limitToLast",t),xg._create("limitToLast",t,"L")}class bg extends bh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new bg(e,n,r)}_apply(e){const n=vz(e,this.type,this._docOrFields,this._inclusive);return new Qn(e.firestore,e.converter,xQ(e._query,n))}}function vee(...t){return bg._create("startAt",t,!0)}function xee(...t){return bg._create("startAfter",t,!1)}class wg extends bh{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new wg(e,n,r)}_apply(e){const n=vz(e,this.type,this._docOrFields,this._inclusive);return new Qn(e.firestore,e.converter,bQ(e._query,n))}}function bee(...t){return wg._create("endBefore",t,!1)}function wee(...t){return wg._create("endAt",t,!0)}function vz(t,e,n,r){if(n[0]=jt(n[0]),n[0]instanceof Op)return(function(s,a,l,c,d){if(!c)throw new xe(he.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const f=[];for(const m of bf(s))if(m.field.isKeyField())f.push(Pu(a,c.key));else{const p=c.data.field(m.field);if(ib(p))throw new xe(he.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const y=m.field.canonicalString();throw new xe(he.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(p)}return new tc(f,d)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Qu(t.firestore);return(function(a,l,c,d,f,m){const p=a.explicitOrderBy;if(f.length>p.length)throw new xe(he.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let x=0;x<f.length;x++){const b=f[x];if(p[x].field.isKeyField()){if(typeof b!="string")throw new xe(he.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof b}`);if(!LT(a)&&b.indexOf("/")!==-1)throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${b}' contains a slash.`);const _=a.path.child(bt.fromString(b));if(!je.isDocumentKey(_))throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const S=new je(_);y.push(Pu(l,S))}else{const _=fz(c,d,b);y.push(_)}}return new tc(y,m)})(t._query,t.firestore._databaseId,i,e,n,r)}}function cD(t,e,n){if(typeof(n=jt(n))=="string"){if(n==="")throw new xe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!LT(e)&&n.indexOf("/")!==-1)throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(bt.fromString(n));if(!je.isDocumentKey(r))throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Pu(t,new je(r))}if(n instanceof Ht)return Pu(t,n._key);throw new xe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Zx(n)}.`)}function uD(t,e){if(!Array.isArray(t)||t.length===0)throw new xe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xz(t,e){const n=(function(i,s){for(const a of i)for(const l of a.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new xe(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xe(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function bz(t,e){if(!(e instanceof wh||e instanceof Zu))throw new xe(he.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}function _b(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class jP extends AP{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}function _ee(t){return new Zf("sum",Po("sum",t))}function Nee(t){return new Zf("avg",Po("average",t))}function wz(){return new Zf("count")}function Cee(t,e){return t instanceof Zf&&e instanceof Zf&&t.aggregateType===e.aggregateType&&t._internalFieldPath?.canonicalString()===e._internalFieldPath?.canonicalString()}function Eee(t,e){return bP(t.query,e.query)&&zs(t.data(),e.data())}function See(t){return _z(t,{count:wz()})}function _z(t,e){const n=wt(t.firestore,Kt),r=gn(n),i=aF(e,((s,a)=>new zF(a,s.aggregateType,s._internalFieldPath)));return DZ(r,t._query,i).then((s=>(function(l,c,d){const f=new yc(l);return new gz(c,f,d)})(n,t,s)))}class Tee{constructor(e){this.kind="memory",this._onlineComponentProvider=rc.provider,this._offlineComponentProvider=e?.garbageCollector?e.garbageCollector._offlineComponentProvider:{build:()=>new gP(void 0)}}toJSON(){return{kind:this.kind}}}class Pee{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=Nz(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class Aee{constructor(){this.kind="memoryEager",this._offlineComponentProvider=Qf.provider}toJSON(){return{kind:this.kind}}}class Iee{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new gP(e)}}toJSON(){return{kind:this.kind}}}function jee(){return new Aee}function kee(t){return new Iee(t?.cacheSizeBytes)}function Ree(t){return new Tee(t)}function Dee(t){return new Pee(t)}class Oee{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=rc.provider,this._offlineComponentProvider={build:n=>new yP(n,e?.cacheSizeBytes,this.forceOwnership)}}}class Mee{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=rc.provider,this._offlineComponentProvider={build:n=>new GB(n,e?.cacheSizeBytes)}}}function Nz(t){return new Oee(t?.forceOwnership)}function Lee(){return new Mee}const Cz="NOT SUPPORTED";class go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vi extends Op{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Po("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(he.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=vi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}function Vee(t,e,n){if(Gu(e,vi._jsonSchema)){if(e.bundle===Cz)throw new xe(he.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Xu(t._databaseId),i=ez(e.bundle,r),s=i.t(),a=new uP(i.getMetadata(),r);for(const f of s)a.o(f);const l=a.documents;if(l.length!==1)throw new xe(he.INVALID_ARGUMENT,`Expected bundle data to contain 1 document, but it contains ${l.length} documents.`);const c=cb(r,l[0].document),d=new je(bt.fromString(e.bundleName));return new vi(t,new jP(t),d,c,new go(!1,!1),n||null)}}vi._jsonSchemaVersion="firestore/documentSnapshot/1.0",vi._jsonSchema={type:$n("string",vi._jsonSchemaVersion),bundleSource:$n("string","DocumentSnapshot"),bundleName:$n("string"),bundle:$n("string")};class dp extends vi{data(e={}){return super.data(e)}}class xi{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new go(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new dp(this._firestore,this._userDataWriter,r.key,r,new go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((l=>{const c=new dp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new go(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>s||l.type!==3)).map((l=>{const c=new dp(i._firestore,i._userDataWriter,l.doc.key,l.doc,new go(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),f=a.indexOf(l.doc.key)),{type:Bee(l.type),doc:c,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new xe(he.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=xi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Jx.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Fee(t,e,n){if(Gu(e,xi._jsonSchema)){if(e.bundle===Cz)throw new xe(he.INVALID_ARGUMENT,"The provided JSON object was created in a client environment, which is not supported.");const r=Xu(t._databaseId),i=ez(e.bundle,r),s=i.t(),a=new uP(i.getMetadata(),r);for(const p of s)a.o(p);if(a.queries.length!==1)throw new xe(he.INVALID_ARGUMENT,`Snapshot data expected 1 query but found ${a.queries.length} queries.`);const l=db(a.queries[0].bundledQuery),c=a.documents;let d=new xu;c.map((p=>{const y=cb(r,p.document);d=d.add(y)}));const f=Mu.fromInitialDocuments(l,d,gt(),!1,!1),m=new Qn(t,n||null,l);return new xi(t,new jP(t),m,f)}}function Bee(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le(61501,{type:t})}}function zee(t,e){return t instanceof vi&&e instanceof vi?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof xi&&e instanceof xi&&t._firestore===e._firestore&&bP(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}xi._jsonSchemaVersion="firestore/querySnapshot/1.0",xi._jsonSchema={type:$n("string",xi._jsonSchemaVersion),bundleSource:$n("string","QuerySnapshot"),bundleName:$n("string"),bundle:$n("string")};const Uee={maxAttempts:5};class Ez{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Qu(e)}set(e,n,r){this._verifyNotCommitted();const i=Fl(e,this._firestore),s=_b(i.converter,n,r),a=bb(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,mn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Fl(e,this._firestore);let a;return a=typeof(n=jt(n))=="string"||n instanceof Yu?SP(this._dataReader,"WriteBatch.update",s._key,n,r,i):EP(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Fl(e,this._firestore);return this._mutations=this._mutations.concat(new mh(n._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xe(he.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Fl(t,e){if((t=jt(t)).firestore!==e)throw new xe(he.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class $ee{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Qu(e)}get(e){const n=Fl(e,this._firestore),r=new jP(this._firestore);return this._transaction.lookup([n._key]).then((i=>{if(!i||i.length!==1)return Le(24041);const s=i[0];if(s.isFoundDocument())return new Op(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new Op(this._firestore,r,n._key,null,n.converter);throw Le(18433,{doc:s})}))}set(e,n,r){const i=Fl(e,this._firestore),s=_b(i.converter,n,r),a=bb(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,a),this}update(e,n,r,...i){const s=Fl(e,this._firestore);let a;return a=typeof(n=jt(n))=="string"||n instanceof Yu?SP(this._dataReader,"Transaction.update",s._key,n,r,i):EP(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,a),this}delete(e){const n=Fl(e,this._firestore);return this._transaction.delete(n._key),this}}class Sz extends $ee{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Fl(e,this._firestore),r=new yc(this._firestore);return super.get(e).then((i=>new vi(this._firestore,r,n._key,i._document,new go(!1,!1),n.converter)))}}function kP(t,e,n){t=wt(t,Kt);const r={...Uee,...n};(function(a){if(a.maxAttempts<1)throw new xe(he.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r);const i=gn(t);return LZ(i,(s=>e(new Sz(t,s))),r)}function Wi(t){t=wt(t,Ht);const e=wt(t.firestore,Kt),n=gn(e);return JB(n,t._key).then((r=>RP(e,t,r)))}function qee(t){t=wt(t,Ht);const e=wt(t.firestore,Kt),n=gn(e),r=new yc(e);return kZ(n,t._key).then((i=>new vi(e,r,t._key,i,new go(i!==null&&i.hasLocalMutations,!0),t.converter)))}function Hee(t){t=wt(t,Ht);const e=wt(t.firestore,Kt),n=gn(e);return JB(n,t._key,{source:"server"}).then((r=>RP(e,t,r)))}function Ot(t){t=wt(t,Qn);const e=wt(t.firestore,Kt),n=gn(e),r=new yc(e);return yz(t._query),ZB(n,t._query).then((i=>new xi(e,r,t,i)))}function Wee(t){t=wt(t,Qn);const e=wt(t.firestore,Kt),n=gn(e),r=new yc(e);return RZ(n,t._query).then((i=>new xi(e,r,t,i)))}function Kee(t){t=wt(t,Qn);const e=wt(t.firestore,Kt),n=gn(e),r=new yc(e);return ZB(n,t._query,{source:"server"}).then((i=>new xi(e,r,t,i)))}function Rn(t,e,n){t=wt(t,Ht);const r=wt(t.firestore,Kt),i=_b(t.converter,e,n),s=Qu(r);return _h(r,[bb(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mn.none())])}function wi(t,e,n,...r){t=wt(t,Ht);const i=wt(t.firestore,Kt),s=Qu(i);let a;return a=typeof(e=jt(e))=="string"||e instanceof Yu?SP(s,"updateDoc",t._key,e,n,r):EP(s,"updateDoc",t._key,e),_h(i,[a.toMutation(t._key,mn.exists(!0))])}function sc(t){return _h(wt(t.firestore,Kt),[new mh(t._key,mn.none())])}function us(t,e){const n=wt(t.firestore,Kt),r=et(t),i=_b(t.converter,e),s=Qu(t.firestore);return _h(n,[bb(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,mn.exists(!1))]).then((()=>r))}function ei(t,...e){t=jt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||_f(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(_f(e[r])){const d=e[r];e[r]=d.next?.bind(d),e[r+1]=d.error?.bind(d),e[r+2]=d.complete?.bind(d)}let s,a,l;if(t instanceof Ht)a=wt(t.firestore,Kt),l=fh(t._key.path),s={next:d=>{e[r]&&e[r](RP(a,t,d))},error:e[r+1],complete:e[r+2]};else{const d=wt(t,Qn);a=wt(d.firestore,Kt),l=d._query;const f=new yc(a);s={next:m=>{e[r]&&e[r](new xi(a,f,d,m))},error:e[r+1],complete:e[r+2]},yz(t._query)}const c=gn(a);return jZ(c,l,i,s)}function Gee(t,e,...n){const r=jt(t),i=(function(c){const d={bundle:"",bundleName:"",bundleSource:""},f=["bundle","bundleName","bundleSource"];for(const m of f){if(!(m in c)){d.error=`snapshotJson missing required field: ${m}`;break}const p=c[m];if(typeof p!="string"){d.error=`snapshotJson field '${m}' must be a string.`;break}if(p.length===0){d.error=`snapshotJson field '${m}' cannot be an empty string.`;break}m==="bundle"?d.bundle=p:m==="bundleName"?d.bundleName=p:m==="bundleSource"&&(d.bundleSource=p)}return d})(e);if(i.error)throw new xe(he.INVALID_ARGUMENT,i.error);let s,a=0;if(typeof n[a]!="object"||_f(n[a])||(s=n[a++]),i.bundleSource==="QuerySnapshot"){let l=null;if(typeof n[a]=="object"&&_f(n[a])){const c=n[a++];l={next:c.next,error:c.error,complete:c.complete}}else l={next:n[a++],error:n[a++],complete:n[a++]};return(function(d,f,m,p,y){let x,b=!1;return zE(d,f.bundle).then((()=>lz(d,f.bundleName))).then((S=>{S&&!b&&(y&&S.withConverter(y),x=ei(S,m||{},p))})).catch((S=>(p.error&&p.error(S),()=>{}))),()=>{b||(b=!0,x&&x())}})(r,i,s,l,n[a])}if(i.bundleSource==="DocumentSnapshot"){let l=null;if(typeof n[a]=="object"&&_f(n[a])){const c=n[a++];l={next:c.next,error:c.error,complete:c.complete}}else l={next:n[a++],error:n[a++],complete:n[a++]};return(function(d,f,m,p,y){let x,b=!1;return zE(d,f.bundle).then((()=>{if(!b){const S=new Ht(d,y||null,je.fromPath(f.bundleName));x=ei(S,m||{},p)}})).catch((S=>(p.error&&p.error(S),()=>{}))),()=>{b||(b=!0,x&&x())}})(r,i,s,l,n[a])}throw new xe(he.INVALID_ARGUMENT,`unsupported bundle source: ${i.bundleSource}`)}function Xee(t,e){t=wt(t,Kt);const n=gn(t),r=_f(e)?e:{next:e};return MZ(n,r)}function _h(t,e){const n=gn(t);return OZ(n,e)}function RP(t,e,n){const r=n.docs.get(e._key),i=new yc(t);return new vi(t,i,e._key,r,new go(n.hasPendingWrites,n.fromCache),e.converter)}function ou(t){return t=wt(t,Kt),gn(t),new Ez(t,(e=>_h(t,e)))}function Yee(t,e){t=wt(t,Kt);const n=gn(t);if(!n._uninitializedComponentsProvider||n._uninitializedComponentsProvider._offline.kind==="memory")return bi("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=(function(s){const a=typeof s=="string"?(function(d){try{return JSON.parse(d)}catch(f){throw new xe(he.INVALID_ARGUMENT,"Failed to parse JSON: "+f?.message)}})(s):s,l=[];if(Array.isArray(a.indexes))for(const c of a.indexes){const d=dD(c,"collectionGroup"),f=[];if(Array.isArray(c.fields))for(const m of c.fields){const p=dD(m,"fieldPath"),y=PP("setIndexConfiguration",p);m.arrayConfig==="CONTAINS"?f.push(new yu(y,2)):m.order==="ASCENDING"?f.push(new yu(y,0)):m.order==="DESCENDING"&&f.push(new yu(y,1))}l.push(new Of(Of.UNKNOWN_ID,d,f,Mf.empty()))}return l})(e);return BZ(n,r)}function dD(t,e){if(typeof t[e]!="string")throw new xe(he.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}class Tz{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function Qee(t){t=wt(t,Kt);const e=fD.get(t);if(e)return e;if(gn(t)._uninitializedComponentsProvider?._offline.kind!=="persistent")return null;const r=new Tz(t);return fD.set(t,r),r}function Jee(t){Pz(t,!0)}function Zee(t){Pz(t,!1)}function ete(t){const e=gn(t._firestore);UZ(e).then((n=>_e("deleting all persistent cache indexes succeeded"))).catch((n=>bi("deleting all persistent cache indexes failed",n)))}function Pz(t,e){const n=gn(t._firestore);zZ(n,e).then((r=>_e(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((r=>bi(`setting persistent cache index auto creation isEnabled=${e} failed`,r)))}const fD=new WeakMap;class tte{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return DP.instance.onExistenceFilterMismatch(e)}}class DP{constructor(){this.i=new Map}static get instance(){return dv||(dv=new DP,RQ(dv)),dv}u(e){this.i.forEach((n=>n(e)))}onExistenceFilterMismatch(e){const n=Symbol(),r=this.i;return r.set(n,e),()=>r.delete(n)}}let dv=null;(function(e,n=!0){fY(Ku),Tu(new Yl("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new Kt(new gY(r.getProvider("auth-internal")),new xY(a,r.getProvider("app-check-internal")),aQ(a,i),a);return s={useFetchStreams:n,...s},l._setSettings(s),l}),"PUBLIC").setMultipleInstances(!0)),ka(oD,lD,e),ka(oD,lD,"esm2020")})();const nte=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:AP,AggregateField:Zf,AggregateQuerySnapshot:gz,Bytes:hi,CACHE_SIZE_UNLIMITED:KZ,CollectionReference:Ms,DocumentReference:Ht,DocumentSnapshot:vi,FieldPath:Yu,FieldValue:gc,Firestore:Kt,FirestoreError:xe,GeoPoint:Ls,LoadBundleTask:iz,PersistentCacheIndexManager:Tz,Query:Qn,QueryCompositeFilterConstraint:Zu,QueryConstraint:bh,QueryDocumentSnapshot:dp,QueryEndAtConstraint:wg,QueryFieldFilterConstraint:wh,QueryLimitConstraint:xg,QueryOrderByConstraint:wb,QuerySnapshot:xi,QueryStartAtConstraint:bg,SnapshotMetadata:go,Timestamp:vt,Transaction:Sz,VectorValue:Ui,WriteBatch:Ez,_AutoId:Jx,_ByteString:Nn,_DatabaseId:Jl,_DocumentKey:je,_EmptyAppCheckTokenProvider:bY,_EmptyAuthCredentialsProvider:F6,_FieldPath:un,_TestingHooks:tte,_cast:wt,_debugAssert:mY,_internalAggregationQueryToProtoRunAggregationQueryRequest:hee,_internalQueryToProtoQueryTarget:fee,_isBase64Available:rQ,_logWarn:bi,_validateIsNotUsedTogether:z6,addDoc:us,aggregateFieldEqual:Cee,aggregateQuerySnapshotEqual:Eee,and:gee,arrayRemove:cee,arrayUnion:lee,average:Nee,clearIndexedDbPersistence:QZ,collection:it,collectionGroup:HZ,connectFirestoreEmulator:rz,count:wz,deleteAllPersistentCacheIndexes:ete,deleteDoc:sc,deleteField:oee,disableNetwork:eee,disablePersistentCacheIndexAutoCreation:Zee,doc:et,documentId:nee,documentSnapshotFromJSON:Vee,enableIndexedDbPersistence:XZ,enableMultiTabIndexedDbPersistence:YZ,enableNetwork:ZZ,enablePersistentCacheIndexAutoCreation:Jee,endAt:wee,endBefore:bee,ensureFirestoreConfigured:gn,executeWrite:_h,getAggregateFromServer:_z,getCountFromServer:See,getDoc:Wi,getDocFromCache:qee,getDocFromServer:Hee,getDocs:Ot,getDocsFromCache:Wee,getDocsFromServer:Kee,getFirestore:sz,getPersistentCacheIndexManager:Qee,increment:uee,initializeFirestore:GZ,limit:Rl,limitToLast:yee,loadBundle:zE,memoryEagerGarbageCollector:jee,memoryLocalCache:Ree,memoryLruGarbageCollector:kee,namedQuery:lz,onSnapshot:ei,onSnapshotResume:Gee,onSnapshotsInSync:Xee,or:pee,orderBy:vg,persistentLocalCache:Dee,persistentMultipleTabManager:Lee,persistentSingleTabManager:Nz,query:Dt,queryEqual:bP,querySnapshotFromJSON:Fee,refEqual:WZ,runTransaction:kP,serverTimestamp:$i,setDoc:Rn,setIndexConfiguration:Yee,setLogLevel:hY,snapshotEqual:zee,startAfter:xee,startAt:vee,sum:_ee,terminate:tee,updateDoc:wi,vector:dee,waitForPendingWrites:JZ,where:It,writeBatch:ou},Symbol.toStringTag,{value:"Module"}));var rte="firebase",ite="12.9.0";ka(rte,ite,"app");function Az(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ste=Az,Iz=new sg("auth","Firebase",Az());const O0=new NT("@firebase/auth");function ate(t,...e){O0.logLevel<=Ct.WARN&&O0.warn(`Auth (${Ku}): ${t}`,...e)}function Zv(t,...e){O0.logLevel<=Ct.ERROR&&O0.error(`Auth (${Ku}): ${t}`,...e)}function ds(t,...e){throw MP(t,...e)}function Vs(t,...e){return MP(t,...e)}function OP(t,e,n){const r={...ste(),[e]:n};return new sg("auth","Firebase",r).create(e,{appName:t.name})}function _o(t){return OP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ote(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ds(t,"argument-error"),OP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function MP(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Iz.create(t,...e)}function lt(t,e,...n){if(!t)throw MP(e,...n)}function yo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zv(e),new Error(e)}function Ao(t,e){t||yo(e)}function UE(){return typeof self<"u"&&self.location?.href||""}function lte(){return hD()==="http:"||hD()==="https:"}function hD(){return typeof self<"u"&&self.location?.protocol||null}function cte(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lte()||WG()||"connection"in navigator)?navigator.onLine:!0}function ute(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class _g{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ao(n>e,"Short delay should be less than long delay!"),this.isMobile=qG()||KG()}get(){return cte()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function LP(t,e){Ao(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class jz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dte={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const fte=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hte=new _g(3e4,6e4);function zo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ha(t,e,n,r,i={}){return kz(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const l=ag({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...s};return HG()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&uc(t.emulatorConfig.host)&&(d.credentials="include"),jz.fetch()(await Rz(t,t.config.apiHost,n,l),d)})}async function kz(t,e,n){t._canInitEmulator=!1;const r={...dte,...e};try{const i=new pte(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw fv(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const l=s.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw fv(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw fv(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw fv(t,"user-disabled",a);const f=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw OP(t,f,d);ds(t,f)}}catch(i){if(i instanceof qa)throw i;ds(t,"network-request-failed",{message:String(i)})}}async function Ng(t,e,n,r,i={}){const s=await Ha(t,e,n,r,i);return"mfaPendingCredential"in s&&ds(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Rz(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?LP(t.config,i):`${t.config.apiScheme}://${i}`;return fte.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function mte(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pte{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vs(this.auth,"network-request-failed")),hte.get())})}}function fv(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vs(t,e,r);return i.customData._tokenResponse=n,i}function mD(t){return t!==void 0&&t.enterprise!==void 0}class gte{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mte(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yte(t,e){return Ha(t,"GET","/v2/recaptchaConfig",zo(t,e))}async function vte(t,e){return Ha(t,"POST","/v1/accounts:delete",e)}async function M0(t,e){return Ha(t,"POST","/v1/accounts:lookup",e)}function fp(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xte(t,e=!1){const n=jt(t),r=await n.getIdToken(e),i=VP(r);lt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:fp(y_(i.auth_time)),issuedAtTime:fp(y_(i.iat)),expirationTime:fp(y_(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function y_(t){return Number(t)*1e3}function VP(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zv("JWT malformed, contained fewer than 3 sections"),null;try{const i=p6(n);return i?JSON.parse(i):(Zv("Failed to decode base64 JWT payload"),null)}catch(i){return Zv("Caught error parsing JWT payload as JSON",i?.toString()),null}}function pD(t){const e=VP(t);return lt(e,"internal-error"),lt(typeof e.exp<"u","internal-error"),lt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function eh(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof qa&&bte(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bte({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class wte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class $E{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fp(this.lastLoginAt),this.creationTime=fp(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function L0(t){const e=t.auth,n=await t.getIdToken(),r=await eh(t,M0(e,{idToken:n}));lt(r?.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=i.providerUserInfo?.length?Dz(i.providerUserInfo):[],a=Nte(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!a?.length,d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new $E(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function _te(t){const e=jt(t);await L0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Nte(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Dz(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Cte(t,e){const n=await kz(t,{},async()=>{const r=ag({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await Rz(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&uc(t.emulatorConfig.host)&&(c.credentials="include"),jz.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ete(t,e){return Ha(t,"POST","/v2/accounts:revokeToken",zo(t,e))}class Nf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){lt(e.idToken,"internal-error"),lt(typeof e.idToken<"u","internal-error"),lt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pD(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){lt(e.length!==0,"internal-error");const n=pD(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(lt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Cte(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Nf;return r&&(lt(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(lt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(lt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nf,this.toJSON())}_performRefresh(){return yo("not implemented")}}function Nl(t,e){lt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rs{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new wte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new $E(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await eh(this,this.stsTokenManager.getToken(this.auth,e));return lt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return xte(this,e)}reload(){return _te(this)}_assign(e){this!==e&&(lt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rs({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){lt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await L0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fi(this.auth.app))return Promise.reject(_o(this.auth));const e=await this.getIdToken();return await eh(this,vte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,f=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:y,providerData:x,stsTokenManager:b}=n;lt(m&&b,e,"internal-error");const _=Nf.fromJSON(this.name,b);lt(typeof m=="string",e,"internal-error"),Nl(r,e.name),Nl(i,e.name),lt(typeof p=="boolean",e,"internal-error"),lt(typeof y=="boolean",e,"internal-error"),Nl(s,e.name),Nl(a,e.name),Nl(l,e.name),Nl(c,e.name),Nl(d,e.name),Nl(f,e.name);const S=new Rs({uid:m,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:y,photoURL:a,phoneNumber:s,tenantId:l,stsTokenManager:_,createdAt:d,lastLoginAt:f});return x&&Array.isArray(x)&&(S.providerData=x.map(R=>({...R}))),c&&(S._redirectEventId=c),S}static async _fromIdTokenResponse(e,n,r=!1){const i=new Nf;i.updateFromServerResponse(n);const s=new Rs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await L0(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];lt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Dz(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,l=new Nf;l.updateFromIdToken(r);const c=new Rs({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new $E(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,d),c}}const gD=new Map;function vo(t){Ao(t instanceof Function,"Expected a class definition");let e=gD.get(t);return e?(Ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gD.set(t,e),e)}class Oz{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Oz.type="NONE";const yD=Oz;function e0(t,e,n){return`firebase:${t}:${e}:${n}`}class Cf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=e0(this.userKey,i.apiKey,s),this.fullPersistenceKey=e0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await M0(this.auth,{idToken:e}).catch(()=>{});return n?Rs._fromGetAccountInfoResponse(this.auth,n,e):null}return Rs._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cf(vo(yD),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||vo(yD);const a=e0(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const f=await d._get(a);if(f){let m;if(typeof f=="string"){const p=await M0(e,{idToken:f}).catch(()=>{});if(!p)break;m=await Rs._fromGetAccountInfoResponse(e,p,f)}else m=Rs._fromJSON(e,f);d!==s&&(l=m),s=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Cf(s,e,r):(s=c[0],l&&await s._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new Cf(s,e,r))}}function vD(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Mz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zz(e))return"Blackberry";if(Uz(e))return"Webos";if(Lz(e))return"Safari";if((e.includes("chrome/")||Vz(e))&&!e.includes("edge/"))return"Chrome";if(Bz(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Mz(t=Yn()){return/firefox\//i.test(t)}function Lz(t=Yn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vz(t=Yn()){return/crios\//i.test(t)}function Fz(t=Yn()){return/iemobile/i.test(t)}function Bz(t=Yn()){return/android/i.test(t)}function zz(t=Yn()){return/blackberry/i.test(t)}function Uz(t=Yn()){return/webos/i.test(t)}function FP(t=Yn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ste(t=Yn()){return FP(t)&&!!window.navigator?.standalone}function Tte(){return GG()&&document.documentMode===10}function $z(t=Yn()){return FP(t)||Bz(t)||Uz(t)||zz(t)||/windows phone/i.test(t)||Fz(t)}function qz(t,e=[]){let n;switch(t){case"Browser":n=vD(Yn());break;case"Worker":n=`${vD(Yn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ku}/${r}`}class Pte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,l)=>{try{const c=e(s);a(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function Ate(t,e={}){return Ha(t,"GET","/v2/passwordPolicy",zo(t,e))}const Ite=6;class jte{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Ite,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class kte{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xD(this),this.idTokenSubscription=new xD(this),this.beforeStateQueue=new Pte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Iz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=vo(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Cf.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await M0(this,{idToken:e}),r=await Rs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(fi(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=this.redirectUser?._redirectEventId,a=r?._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&l?.user&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return lt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await L0(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ute()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fi(this.app))return Promise.reject(_o(this));const n=e?jt(e):null;return n&&lt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&lt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fi(this.app)?Promise.reject(_o(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fi(this.app)?Promise.reject(_o(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(vo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ate(this),n=new jte(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sg("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ete(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&vo(e)||this._popupRedirectResolver;lt(n,this,"argument-error"),this.redirectPersistenceManager=await Cf.create(this,[vo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(lt(l,this,"internal-error"),l.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return lt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qz(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ate(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Uo(t){return jt(t)}class xD{constructor(e){this.auth=e,this.observer=null,this.addObserver=eX(n=>this.observer=n)}get next(){return lt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nb={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Rte(t){Nb=t}function Hz(t){return Nb.loadJS(t)}function Dte(){return Nb.recaptchaEnterpriseScript}function Ote(){return Nb.gapiScript}function Mte(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class Lte{constructor(){this.enterprise=new Vte}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Vte{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Fte="recaptcha-enterprise",Wz="NO_RECAPTCHA";class Bte{constructor(e){this.type=Fte,this.auth=Uo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,l)=>{yte(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new gte(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function i(s,a,l){const c=window.grecaptcha;mD(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(Wz)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Lte().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{r(this.auth).then(l=>{if(!n&&mD(window.grecaptcha))i(l,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Dte();c.length!==0&&(c+=l),Hz(c).then(()=>{i(l,s,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function bD(t,e,n,r=!1,i=!1){const s=new Bte(t);let a;if(i)a=Wz;else try{a=await s.verify(n)}catch{a=await s.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function V0(t,e,n,r,i){if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await bD(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await bD(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}function zte(t,e){const n=uh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(zs(s,e??{}))return i;ds(i,"already-initialized")}return n.initialize({options:e})}function Ute(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(vo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function $te(t,e,n){const r=Uo(t);lt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Kz(e),{host:a,port:l}=qte(e),c=l===null?"":`:${l}`,d={url:`${s}//${a}${c}/`},f=Object.freeze({host:a,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){lt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),lt(zs(d,r.config.emulator)&&zs(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,uc(a)?(Qx(`${s}//${a}${c}`),_T("Auth",!0)):Hte()}function Kz(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qte(t){const e=Kz(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:wD(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:wD(a)}}}function wD(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Hte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class BP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yo("not implemented")}_getIdTokenResponse(e){return yo("not implemented")}_linkToIdToken(e,n){return yo("not implemented")}_getReauthenticationResolver(e){return yo("not implemented")}}async function Wte(t,e){return Ha(t,"POST","/v1/accounts:update",e)}async function Kte(t,e){return Ha(t,"POST","/v1/accounts:signUp",e)}async function Gte(t,e){return Ng(t,"POST","/v1/accounts:signInWithPassword",zo(t,e))}async function Xte(t,e){return Ha(t,"POST","/v1/accounts:sendOobCode",zo(t,e))}async function Yte(t,e){return Xte(t,e)}async function Qte(t,e){return Ng(t,"POST","/v1/accounts:signInWithEmailLink",zo(t,e))}async function Jte(t,e){return Ng(t,"POST","/v1/accounts:signInWithEmailLink",zo(t,e))}class Mp extends BP{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Mp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Mp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V0(e,n,"signInWithPassword",Gte);case"emailLink":return Qte(e,{email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return V0(e,r,"signUpPassword",Kte);case"emailLink":return Jte(e,{idToken:n,email:this._email,oobCode:this._password});default:ds(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Ef(t,e){return Ng(t,"POST","/v1/accounts:signInWithIdp",zo(t,e))}const Zte="http://localhost";class Lu extends BP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ds("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Lu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ef(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ef(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ef(e,n)}buildRequest(){const e={requestUri:Zte,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ag(n)}return e}}function ene(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function tne(t){const e=Hm(Wm(t)).link,n=e?Hm(Wm(e)).deep_link_id:null,r=Hm(Wm(t)).deep_link_id;return(r?Hm(Wm(r)).link:null)||r||n||e||t}class zP{constructor(e){const n=Hm(Wm(e)),r=n.apiKey??null,i=n.oobCode??null,s=ene(n.mode??null);lt(r&&i&&s,"argument-error"),this.apiKey=r,this.operation=s,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=tne(e);try{return new zP(n)}catch{return null}}}class ed{constructor(){this.providerId=ed.PROVIDER_ID}static credential(e,n){return Mp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zP.parseLink(n);return lt(r,"argument-error"),Mp._fromEmailAndCode(e,r.code,r.tenantId)}}ed.PROVIDER_ID="password";ed.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ed.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class UP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Cg extends UP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Dl extends Cg{constructor(){super("facebook.com")}static credential(e){return Lu._fromParams({providerId:Dl.PROVIDER_ID,signInMethod:Dl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dl.credentialFromTaggedObject(e)}static credentialFromError(e){return Dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dl.credential(e.oauthAccessToken)}catch{return null}}}Dl.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dl.PROVIDER_ID="facebook.com";class fo extends Cg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lu._fromParams({providerId:fo.PROVIDER_ID,signInMethod:fo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fo.credentialFromTaggedObject(e)}static credentialFromError(e){return fo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fo.credential(n,r)}catch{return null}}}fo.GOOGLE_SIGN_IN_METHOD="google.com";fo.PROVIDER_ID="google.com";class Ol extends Cg{constructor(){super("github.com")}static credential(e){return Lu._fromParams({providerId:Ol.PROVIDER_ID,signInMethod:Ol.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ol.credentialFromTaggedObject(e)}static credentialFromError(e){return Ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ol.credential(e.oauthAccessToken)}catch{return null}}}Ol.GITHUB_SIGN_IN_METHOD="github.com";Ol.PROVIDER_ID="github.com";class Ml extends Cg{constructor(){super("twitter.com")}static credential(e,n){return Lu._fromParams({providerId:Ml.PROVIDER_ID,signInMethod:Ml.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ml.credentialFromTaggedObject(e)}static credentialFromError(e){return Ml.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ml.credential(n,r)}catch{return null}}}Ml.TWITTER_SIGN_IN_METHOD="twitter.com";Ml.PROVIDER_ID="twitter.com";async function nne(t,e){return Ng(t,"POST","/v1/accounts:signUp",zo(t,e))}class Vu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Rs._fromIdTokenResponse(e,r,i),a=_D(r);return new Vu({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=_D(r);return new Vu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function _D(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class F0 extends qa{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,F0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new F0(e,n,r,i)}}function Gz(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?F0._fromErrorAndOperation(t,s,e,r):s})}async function rne(t,e,n=!1){const r=await eh(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vu._forOperation(t,"link",r)}async function Xz(t,e,n=!1){const{auth:r}=t;if(fi(r.app))return Promise.reject(_o(r));const i="reauthenticate";try{const s=await eh(t,Gz(r,i,e,t),n);lt(s.idToken,r,"internal-error");const a=VP(s.idToken);lt(a,r,"internal-error");const{sub:l}=a;return lt(t.uid===l,r,"user-mismatch"),Vu._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&ds(r,"user-mismatch"),s}}async function Yz(t,e,n=!1){if(fi(t.app))return Promise.reject(_o(t));const r="signIn",i=await Gz(t,r,e),s=await Vu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function ine(t,e){return Yz(Uo(t),e)}async function sne(t,e){return Xz(jt(t),e)}async function Qz(t){const e=Uo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ane(t,e,n){const r=Uo(t);await V0(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Yte)}async function one(t,e,n){if(fi(t.app))return Promise.reject(_o(t));const r=Uo(t),a=await V0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",nne).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Qz(t),c}),l=await Vu._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(l.user),l}function ND(t,e,n){return fi(t.app)?Promise.reject(_o(t)):ine(jt(t),ed.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Qz(t),r})}function Jz(t,e){return lne(jt(t),null,e)}async function lne(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const a=await eh(t,Wte(r,s));await t._updateTokensIfNecessary(a,!0)}function cne(t,e){return jt(t).setPersistence(e)}function une(t,e,n,r){return jt(t).onIdTokenChanged(e,n,r)}function dne(t,e,n){return jt(t).beforeAuthStateChanged(e,n)}function fne(t,e,n,r){return jt(t).onAuthStateChanged(e,n,r)}function hne(t){return jt(t).signOut()}async function mne(t){return jt(t).delete()}const B0="__sak";class Zz{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(B0,"1"),this.storage.removeItem(B0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const pne=1e3,gne=10;class eU extends Zz{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$z(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);Tte()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,gne):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},pne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eU.type="LOCAL";const tU=eU;class nU extends Zz{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nU.type="SESSION";const rU=nU;function yne(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Cb{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Cb(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(a).map(async d=>d(n.origin,s)),c=await yne(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cb.receivers=[];function $P(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class vne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const d=$P("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(p.data.response);break;default:clearTimeout(f),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Oa(){return window}function xne(t){Oa().location.href=t}function iU(){return typeof Oa().WorkerGlobalScope<"u"&&typeof Oa().importScripts=="function"}async function bne(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wne(){return navigator?.serviceWorker?.controller||null}function _ne(){return iU()?self:null}const sU="firebaseLocalStorageDb",Nne=1,z0="firebaseLocalStorage",aU="fbase_key";class Eg{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Eb(t,e){return t.transaction([z0],e?"readwrite":"readonly").objectStore(z0)}function Cne(){const t=indexedDB.deleteDatabase(sU);return new Eg(t).toPromise()}function qE(){const t=indexedDB.open(sU,Nne);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(z0,{keyPath:aU})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(z0)?e(r):(r.close(),await Cne(),e(await qE()))})})}async function CD(t,e,n){const r=Eb(t,!0).put({[aU]:e,value:n});return new Eg(r).toPromise()}async function Ene(t,e){const n=Eb(t,!1).get(e),r=await new Eg(n).toPromise();return r===void 0?null:r.value}function ED(t,e){const n=Eb(t,!0).delete(e);return new Eg(n).toPromise()}const Sne=800,Tne=3;class oU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Tne)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iU()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cb._getInstance(_ne()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bne(),!this.activeServiceWorker)return;this.sender=new vne(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qE();return await CD(e,B0,"1"),await ED(e,B0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>CD(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ene(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ED(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Eb(i,!1).getAll();return new Eg(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oU.type="LOCAL";const Pne=oU;new _g(3e4,6e4);function lU(t,e){return e?vo(e):(lt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class qP extends BP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ef(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ef(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ef(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Ane(t){return Yz(t.auth,new qP(t),t.bypassAuthState)}function Ine(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),Xz(n,new qP(t),t.bypassAuthState)}async function jne(t){const{auth:e,user:n}=t;return lt(n,e,"internal-error"),rne(n,new qP(t),t.bypassAuthState)}class cU{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ane;case"linkViaPopup":case"linkViaRedirect":return jne;case"reauthViaPopup":case"reauthViaRedirect":return Ine;default:ds(this.auth,"internal-error")}}resolve(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kne=new _g(2e3,1e4);async function Rne(t,e,n){if(fi(t.app))return Promise.reject(Vs(t,"operation-not-supported-in-this-environment"));const r=Uo(t);ote(t,e,UP);const i=lU(r,n);return new cu(r,"signInViaPopup",e,i).executeNotNull()}class cu extends cU{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,cu.currentPopupAction&&cu.currentPopupAction.cancel(),cu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return lt(e,this.auth,"internal-error"),e}async onExecution(){Ao(this.filter.length===1,"Popup operations only handle one event");const e=$P();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cu.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kne.get())};e()}}cu.currentPopupAction=null;const Dne="pendingRedirect",t0=new Map;class One extends cU{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=t0.get(this.auth._key());if(!e){try{const r=await Mne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}t0.set(this.auth._key(),e)}return this.bypassAuthState||t0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Mne(t,e){const n=Fne(e),r=Vne(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Lne(t,e){t0.set(t._key(),e)}function Vne(t){return vo(t._redirectPersistence)}function Fne(t){return e0(Dne,t.config.apiKey,t.name)}async function Bne(t,e,n=!1){if(fi(t.app))return Promise.reject(_o(t));const r=Uo(t),i=lU(r,e),a=await new One(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}const zne=600*1e3;class Une{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$ne(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!uU(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Vs(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zne&&this.cachedEventUids.clear(),this.cachedEventUids.has(SD(e))}saveEventToCache(e){this.cachedEventUids.add(SD(e)),this.lastProcessedEventTime=Date.now()}}function SD(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function uU({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function $ne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uU(t);default:return!1}}async function qne(t,e={}){return Ha(t,"GET","/v1/projects",e)}const Hne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wne=/^https?/;async function Kne(t){if(t.config.emulator)return;const{authorizedDomains:e}=await qne(t);for(const n of e)try{if(Gne(n))return}catch{}ds(t,"unauthorized-domain")}function Gne(t){const e=UE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!Wne.test(n))return!1;if(Hne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Xne=new _g(3e4,6e4);function TD(){const t=Oa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Yne(t){return new Promise((e,n)=>{function r(){TD(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TD(),n(Vs(t,"network-request-failed"))},timeout:Xne.get()})}if(Oa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oa().gapi?.load)r();else{const i=Mte("iframefcb");return Oa()[i]=()=>{gapi.load?r():n(Vs(t,"network-request-failed"))},Hz(`${Ote()}?onload=${i}`).catch(s=>n(s))}}).catch(e=>{throw n0=null,e})}let n0=null;function Qne(t){return n0=n0||Yne(t),n0}const Jne=new _g(5e3,15e3),Zne="__/auth/iframe",ere="emulator/auth/iframe",tre={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},nre=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rre(t){const e=t.config;lt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?LP(e,ere):`https://${t.config.authDomain}/${Zne}`,r={apiKey:e.apiKey,appName:t.name,v:Ku},i=nre.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ag(r).slice(1)}`}async function ire(t){const e=await Qne(t),n=Oa().gapi;return lt(n,t,"internal-error"),e.open({where:document.body,url:rre(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tre,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=Vs(t,"network-request-failed"),l=Oa().setTimeout(()=>{s(a)},Jne.get());function c(){Oa().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(a)})}))}const sre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},are=500,ore=600,lre="_blank",cre="http://localhost";class PD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ure(t,e,n,r=are,i=ore){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...sre,width:r.toString(),height:i.toString(),top:s,left:a},d=Yn().toLowerCase();n&&(l=Vz(d)?lre:n),Mz(d)&&(e=e||cre,c.scrollbars="yes");const f=Object.entries(c).reduce((p,[y,x])=>`${p}${y}=${x},`,"");if(Ste(d)&&l!=="_self")return dre(e||"",l),new PD(null);const m=window.open(e||"",l,f);lt(m,t,"popup-blocked");try{m.focus()}catch{}return new PD(m)}function dre(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const fre="__/auth/handler",hre="emulator/auth/handler",mre=encodeURIComponent("fac");async function AD(t,e,n,r,i,s){lt(t.config.authDomain,t,"auth-domain-config-required"),lt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ku,eventId:i};if(e instanceof UP){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",ZG(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof Cg){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const c=await t._getAppCheckToken(),d=c?`#${mre}=${encodeURIComponent(c)}`:"";return`${pre(t)}?${ag(l).slice(1)}${d}`}function pre({config:t}){return t.emulator?LP(t,hre):`https://${t.authDomain}/${fre}`}const v_="webStorageSupport";class gre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rU,this._completeRedirectFn=Bne,this._overrideRedirectResult=Lne}async _openPopup(e,n,r,i){Ao(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const s=await AD(e,n,r,UE(),i);return ure(e,s,$P())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await AD(e,n,r,UE(),i);return xne(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ao(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ire(e),r=new Une(e);return n.register("authEvent",i=>(lt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(v_,{type:v_},i=>{const s=i?.[0]?.[v_];s!==void 0&&n(!!s),ds(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Kne(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $z()||Lz()||FP()}}const yre=gre;var ID="@firebase/auth",jD="1.12.0";class vre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){lt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xre(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bre(t){Tu(new Yl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=r.options;lt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qz(t)},d=new kte(r,i,s,c);return Ute(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tu(new Yl("auth-internal",e=>{const n=Uo(e.getProvider("auth").getImmediate());return(r=>new vre(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ka(ID,jD,xre(t)),ka(ID,jD,"esm2020")}const wre=300,_re=b6("authIdTokenMaxAge")||wre;let kD=null;const Nre=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>_re)return;const i=n?.token;kD!==i&&(kD=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Cre(t=ET()){const e=uh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zte(t,{popupRedirectResolver:yre,persistence:[Pne,tU,rU]}),r=b6("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=Nre(s.toString());dne(n,a,()=>a(n.currentUser)),une(n,l=>a(l))}}const i=y6("auth");return i&&$te(n,`http://${i}`),n}function Ere(){return document.getElementsByTagName("head")?.[0]??document}Rte({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Ere().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bre("Browser");const dU="firebasestorage.googleapis.com",Sre="storageBucket",Tre=120*1e3,Pre=600*1e3;class Wa extends qa{constructor(e,n,r=0){super(x_(e),`Firebase Storage: ${n} (${x_(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wa.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return x_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fa;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fa||(Fa={}));function x_(t){return"storage/"+t}function Are(){const t="An unknown error occurred, please check the error payload for server response.";return new Wa(Fa.UNKNOWN,t)}function Ire(){return new Wa(Fa.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function jre(){return new Wa(Fa.CANCELED,"User canceled the upload/download.")}function kre(t){return new Wa(Fa.INVALID_URL,"Invalid URL '"+t+"'.")}function Rre(t){return new Wa(Fa.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function RD(t){return new Wa(Fa.INVALID_ARGUMENT,t)}function fU(){return new Wa(Fa.APP_DELETED,"The Firebase app was deleted.")}function Dre(t){return new Wa(Fa.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Ds{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Ds.makeFromUrl(e,n)}catch{return new Ds(e,"")}if(r.path==="")return r;throw Rre(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function d(z){z.path_=decodeURIComponent(z.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${f}/b/${i}/o${p}`,"i"),x={bucket:1,path:3},b=n===dU?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",S=new RegExp(`^https?://${b}/${i}/${_}`,"i"),D=[{regex:l,indices:c,postModify:s},{regex:y,indices:x,postModify:d},{regex:S,indices:{bucket:1,path:2},postModify:d}];for(let z=0;z<D.length;z++){const I=D[z],P=I.regex.exec(e);if(P){const C=P[I.indices.bucket];let E=P[I.indices.path];E||(E=""),r=new Ds(C,E),I.postModify(r);break}}if(r==null)throw kre(e);return r}}class Ore{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Mre(t,e,n){let r=1,i=null,s=null,a=!1,l=0;function c(){return l===2}let d=!1;function f(..._){d||(d=!0,e.apply(null,_))}function m(_){i=setTimeout(()=>{i=null,t(y,c())},_)}function p(){s&&clearTimeout(s)}function y(_,...S){if(d){p();return}if(_){p(),f.call(null,_,...S);return}if(c()||a){p(),f.call(null,_,...S);return}r<64&&(r*=2);let D;l===1?(l=2,D=0):D=(r+Math.random())*1e3,m(D)}let x=!1;function b(_){x||(x=!0,p(),!d&&(i!==null?(_||(l=2),clearTimeout(i),m(0)):_||(l=1)))}return m(0),s=setTimeout(()=>{a=!0,b(!0)},n),b}function Lre(t){t(!1)}function Vre(t){return t!==void 0}function DD(t,e,n,r){if(r<e)throw RD(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw RD(`Invalid value for '${t}'. Expected ${n} or less.`)}function Fre(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var U0;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(U0||(U0={}));function Bre(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class zre{constructor(e,n,r,i,s,a,l,c,d,f,m,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new hv(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const l=s.getErrorCode()===U0.NO_ERROR,c=s.getStatus();if(!l||Bre(c,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===U0.ABORT;r(!1,new hv(!1,null,f));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new hv(d,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Vre(c)?s(c):s()}catch(c){a(c)}else if(l!==null){const c=Are();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?fU():jre();a(c)}else{const c=Ire();a(c)}};this.canceled_?n(!1,new hv(!1,null,!0)):this.backoffId_=Mre(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Lre(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class hv{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ure(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $re(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qre(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Hre(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Wre(t,e,n,r,i,s,a=!0,l=!1){const c=Fre(t.urlParams),d=t.url+c,f=Object.assign({},t.headers);return qre(f,e),Ure(f,n),$re(f,s),Hre(f,r),new zre(d,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,l)}function Kre(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Gre(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class $0{constructor(e,n){this._service=e,n instanceof Ds?this._location=n:this._location=Ds.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $0(e,n)}get root(){const e=new Ds(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Gre(this._location.path)}get storage(){return this._service}get parent(){const e=Kre(this._location.path);if(e===null)return null;const n=new Ds(this._location.bucket,e);return new $0(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Dre(e)}}function OD(t,e){const n=e?.[Sre];return n==null?null:Ds.makeFromBucketSpec(n,t)}function Xre(t,e,n,r={}){t.host=`${e}:${n}`;const i=uc(e);i&&(Qx(`https://${t.host}/b`),_T("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:w6(s,t.app.options.projectId))}class Yre{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=dU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Tre,this._maxUploadRetryTime=Pre,this._requests=new Set,i!=null?this._bucket=Ds.makeFromBucketSpec(i,this._host):this._bucket=OD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ds.makeFromBucketSpec(this._url,e):this._bucket=OD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){DD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){DD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(fi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $0(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Ore(fU());{const a=Wre(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const MD="@firebase/storage",LD="0.14.0";const hU="storage";function Qre(t=ET(),e){t=jt(t);const r=uh(t,hU).getImmediate({identifier:e}),i=v6("storage");return i&&Jre(r,...i),r}function Jre(t,e,n,r={}){Xre(t,e,n,r)}function Zre(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Yre(n,r,i,e,Ku)}function eie(){Tu(new Yl(hU,Zre,"PUBLIC").setMultipleInstances(!0)),ka(MD,LD,""),ka(MD,LD,"esm2020")}eie();const tie={apiKey:"AIzaSyBv8ljlrTY9LsoPUZPQpw1YaX2W6D5_O54",authDomain:"nexcoin-1f42f.firebaseapp.com",projectId:"nexcoin-1f42f",storageBucket:"nexcoin-1f42f.firebasestorage.app",messagingSenderId:"575773698878",appId:"1:575773698878:web:29261adabbe23c039f1a6f"},HP=Fk().length===0?P6(tie):Fk()[0],bn=Cre(HP),we=sz(HP);Qre(HP);cne(bn,tU).then(()=>{console.log(" Persistncia do Firebase Auth configurada")}).catch(t=>console.error(" Erro Auth persistence:",t));const nie=console.error;console.error=(...t)=>{typeof t[0]=="string"&&(t[0].includes("WebChannelConnection")||t[0].includes("@firebase/firestore"))||nie(...t)};const HE={pt:{countries:{BR:"Brasil",US:"Estados Unidos",PT:"Portugal",ES:"Espanha",FR:"Frana",DE:"Alemanha",IT:"Itlia",GB:"Reino Unido",NL:"Holanda",BE:"Blgica",CH:"Sua",AT:"ustria",CA:"Canad",AU:"Austrlia",MX:"Mxico",AR:"Argentina",CL:"Chile",CO:"Colmbia"},fiatAccounts:{title:"Contas",subtitle:"Gerencie suas contas bancrias",accounts:"Contas",manageBankAccounts:"Gerencie suas contas bancrias",accountData:"Dados da conta",accountSettings:"Configuraes da Conta",selectAccount:"Selecionar conta",chooseAccountToTransact:"Escolha a conta para transacionar",addNewAccount:"Adicionar Nova Conta",addAccount:"Adicionar Conta",noAccountsFound:"Nenhuma conta encontrada",addFiatAccount:"Adicione uma conta fiat para comear",add:"Adicionar",addButton:"Adicionar",creating:"Criando...",removeAccount:"Remover Conta",closeAccount:"Encerrar conta",deleteAccount:"Deletar Conta",openingAccount:"Abrindo Conta",configuringAccount:"Configurando sua conta de {country}",validating:"Validando dados",generating:"Gerando nmero da conta",security:"Configurando segurana",finalizing:"Finalizando abertura",completedSteps:"{completed} de {total} etapas concludas",accountExists:"Conta j existe",accountExistsDesc:"Voc j possui uma conta bancria de {country}. No  possvel criar mais de uma conta por pas.",accountCreated:"Conta criada",accountCreatedDesc:"Conta bancria de {country} criada com sucesso!",pixKeysCreated:"Chaves PIX criadas!",pixKeysCreatedDesc:"Suas chaves PIX (email e telefone) foram configuradas automaticamente.",errorCreatingAccount:"Erro ao criar conta",errorCreatingAccountDesc:"No foi possvel criar a conta bancria. Tente novamente.",error:"Erro",accountIdNotFound:"ID da conta no encontrado.",closeAccountConfirm:`Tem certeza que deseja encerrar esta conta?

Esta ao no pode ser desfeita e voc perder todos os dados desta conta bancria.`,accountClosed:"Conta encerrada",accountClosedDesc:"A conta bancria foi encerrada com sucesso.",errorClosingAccount:"Erro ao encerrar conta",errorClosingAccountDesc:"No foi possvel encerrar a conta. Tente novamente.",permissionError:"Erro de permisso",permissionErrorDesc:"Verifique se as regras do Firestore foram configuradas corretamente.",firestoreRulesWarning:" Regras do Firestore no configuradas",firestoreRulesDesc:"Voc precisa atualizar as regras do Firestore. Consulte o guia para instrues detalhadas.",institution:"Instituio",bank:"Banco",accountType:"Tipo de Conta",accountNumber:"Nmero da conta",bankCode:"Cdigo do Banco",institutionCode:"Cdigo da Instituio",iban:"IBAN",swiftBic:"SWIFT/BIC",sortCode:"Sort Code",branchCode:"Branch Code",agency:"Agncia",routingNumber:"Routing Number",bsb:"BSB",shareData:"Compartilhar dados",domesticOnly:"Apenas para transferncias domsticas",internationalOnly:"Apenas para transferncias internacionais",transferTimeTip:"Normalmente as transferncias levam de trs a cinco dias teis para aparecer na sua conta",feeTip:"O banco do remetente ou intermedirio poder cobrar por pagamentos internacionais",swiftOnlyTip:"Aceitamos somente transferncias SWIFT",noFeeTip:"No cobraremos nenhuma taxa de transferncia para esta conta.",pixTip:"Voc pode usar os dados da sua conta ou chave Pix para receber transferncias 24 horas, sem complicaes.",addFunds:"Adicionar Fundos",depositMethod:"Mtodo de Depsito",depositAmount:"Valor do Depsito",transferDetails:"Dados para Transferncia",selectPixKey:"Selecione a Chave PIX",selectKey:"Selecione uma chave",pixKeys:"Chaves Pix",pixQrCode:"QR Code PIX",copyPixCode:"Copiar Cdigo PIX",codeCopied:"Cdigo Copiado!",depositHint:"Dica: Insira o valor do depsito acima para gerar o QR Code PIX.",noPixKeys:"Nenhuma chave PIX cadastrada. Cadastre uma chave PIX para usar este mtodo.",simulationWarning:'Simulao: Em produo, o sistema aguardaria confirmao da transferncia bancria. Aqui, o saldo ser adicionado instantaneamente ao clicar em "Confirmar Depsito".',confirmDeposit:"Confirmar Depsito",depositVia:"Depsito via",depositSuccess:"Depsito realizado com sucesso!",depositError:"Erro ao processar depsito",recipient:"Destinatrio",yourPixKeys:"Suas chaves Pix",registeredKeys:"Suas chaves cadastradas",keysAutoCreated:" Suas chaves PIX (email e telefone) foram criadas automaticamente",noKeysFound:"Nenhuma chave PIX encontrada",errorCopying:"Erro ao copiar chave"},cards:{title:"Meus Cartes",subtitle:"Gesto inteligente de cartes NexCoin",activeLabel:"Ativo",blockedLabel:"Bloqueado",cancelledLabel:"Cancelado",processingLabel:"Processando",virtual:"Carto Virtual",physical:"Carto Fsico",manage:"Gerenciar",requestNew:"Solicitar novo carto",noActiveCards:"Nenhum carto ativo",choosePlan:"Escolha abaixo um dos planos NexCoin para comear a usar.",availablePlans:"Planos Disponveis",free:"Grtis",orderNow:"Pedir agora",confirmOrder:"Confirmar Pedido",validatingRequest:"Validando solicitao do plano",selectedPlan:"Plano selecionado",category:"Categoria",monthlyFee:"Tarifa mensal",exempt:"ISENTO",confirmAndOrder:"Confirmar e Pedir",processingRequest:"Processando pedido...",cancel:"Cancelar",details:"Detalhes do Carto",information:"Informaes",cardNumber:"Nmero",expiry:"Vencimento",modality:"Modalidade",network:"Bandeira",unblock:"Desbloquear Carto",blockTemporarily:"Bloquear Temporariamente",blockDesc:"Impea novas compras agora",cancelAndExcl:"Cancelar e Excluir",irreversible:"Ao irreversvel",confirmCancel:"Deseja cancelar?",cancelWarning:"Ao confirmar as funes deste carto sero desativadas permanentemente.",back:"Voltar",successVirtual:" Carto virtual ativado!",successPhysical:" Pedido recebido! Em breve voc receber o rastreio.",errorRequest:"Erro ao processar pedido. Tente novamente."},welcome:"Bem-vindo",createAccount:"Criar Conta",login:"Entrar",signUp:"Cadastro",termsAgreement:"Ao se cadastrar, voc concorda com nossos Termos de Servio e Poltica de Privacidade.",futureOfFinance:"Future of Finance",dontHaveAccount:"No tem uma conta?",alreadyHaveAccount:"J tem uma conta?",email:"E-mail",phone:"Telefone",fullName:"Nome completo",password:"Senha",confirmPassword:"Confirmar senha",forgotPassword:"Esqueceu a senha?",continue:"Continuar",initialSetup:"Configurao inicial",countryCurrencySubtitle:"Selecione seu pas de origem e a moeda preferencial para suas transaes.",choosePin:"Escolha sua senha de acesso",choosePinSubtitle:"Crie uma senha de 6 dgitos para entrar no aplicativo e autorizar suas transaes.",confirmPin:"Confirme sua senha",confirmPinSubtitle:"Digite novamente sua senha de 6 dgitos para confirmar.",enterPin:"Digite seu PIN",enterPinSubtitle:"Digite seu PIN de 6 dgitos para acessar sua conta",forgotPin:"Esqueci meu PIN",pinsDontMatch:"As senhas no coincidem. Tente novamente.",pinSetupSuccess:"Senha configurada com sucesso!",portuguese:"Portugus",english:"Ingls",spanish:"Espanhol",register:"Cadastrar",invalidName:"Nome invlido",invalidEmail:"E-mail invlido",invalidPhone:"Telefone invlido",phoneNotFound:"Telefone no encontrado",passwordRequirement:"A senha deve ter pelo menos 8 caracteres, 1 maiscula e 1 caractere especial",passwordsDontMatch:"As senhas no coincidem",privacyPolicy:"Poltica de Privacidade",or:"ou",incorrectPassword:"Senha incorreta",loginError:"Erro ao fazer login",home:"Incio",wallet:"Carteira",convert:"Converter",crypto:"Cripto",profile:"Perfil",totalBalance:"Saldo total",hideBalance:"Ocultar saldo",showBalance:"Exibir saldo",recentTransactions:"Transaes recentes",deposit:"Depositar",withdraw:"Sacar",transfer:"Transferir",noTransactions:"Nenhuma transao ainda",quickActions:"Aes rpidas",viewAll:"Ver tudo",statement:"Extrato",viewAllTransactions:"Ver todas as transaes",market:"Mercado",myAccounts:"Minhas Contas",myCryptos:"Minhas Criptomoedas",trade:"Negociar",activity:"Atividade",myWallet:"Minha Carteira",assets:"Ativos",search:"Pesquisar",totalAssets:"Total em ativos",cryptoAssets:"Ativos em Cripto",fiatBalance:"Saldo em Fiat",manageHoldings:"Gerenciar ativos",send:"Enviar",loadingAssets:"Carregando ativos...",noAssetsInPortfolio:"Nenhum ativo no portflio",startAddingCryptos:"Comece adicionando criptomoedas na aba",goToCrypto:"Ir para Cripto",cryptocurrencies:"Criptomoedas",removeAsset:"Remover ativo",addBalance:"Adicionar Saldo",enterValidValue:"Digite um valor vlido",balanceAddedSuccess:"Saldo adicionado com sucesso!",errorAddingBalance:"Erro ao adicionar saldo",add:"Adicionar",confirmDeletion:"Confirmar Excluso",areYouSureDelete:"Tem certeza que deseja remover permanentemente",fromYourPortfolio:"do seu portflio?",currentBalance:"Saldo atual",valueToAdd:"Valor a adicionar",newBalance:"Novo saldo",adding:"Adicionando...",addCryptosToPortfolio:"Adicione criptomoedas ao seu portflio",toAddMoreCryptos:"Para adicionar mais criptomoedas, v na aba",selectAssetToDelete:"Selecione um ativo para excluir",assetRemovedSuccess:"Ativo removido com sucesso!",errorRemovingAsset:"Erro ao remover ativo",removing:"Removendo...",remove:"Remover",cashAndStablecoins:"Dinheiro e Stablecoins",cancel:"Cancelar",brazilianReal:"Real Brasileiro (PIX)",usDollar:"Dlar Americano",euro:"Euro",sterling:"Libra Esterlina",stablecoin:"Stablecoin",japaneseYen:"Iene Japons",canadianDollar:"Dlar Canadense",australianDollar:"Dlar Australiano",swissFranc:"Franco Suo",chineseYuan:"Yuan Chins",indianRupee:"Rpia Indiana",mexicanPeso:"Peso Mexicano",argentinePeso:"Peso Argentino",convertCrypto:"Converter Cripto",from:"De",to:"Para",amount:"Valor",youGet:"Voc recebe",exchangeRate:"Taxa de cmbio",convertNow:"Converter agora",selectCrypto:"Selecionar cripto",cryptoMarket:"Mercado Cripto",topGainers:"Maiores altas",topLosers:"Maiores quedas",marketCap:"Cap. de mercado",volume24h:"Volume 24h",price:"Preo",change24h:"Variao 24h",myProfile:"Meu Perfil",settings:"Configuraes",security:"Segurana",notifications:"Notificaes",language:"Idioma",support:"Suporte",about:"Sobre",logout:"Sair",account:"Conta",personalInfo:"Informaes pessoais",accountData:"Dados da conta",helpCenter:"Central de ajuda",termsAndPrivacy:"Termos e privacidade",dangerZone:"Zona de Perigo",deleteAccount:"Excluir conta",help:"Ajuda",privacy:"Privacidade",aboutUs:"Sobre ns",receiveCrypto:{title:"Receber",searchPlaceholder:"Buscar criptomoeda...",receiveCryptoTitle:"Receber {crypto}",selectNetwork:"Selecione a rede",yourAddress:"SEU ENDEREO",copy:"Copiar",new:"Novo",generating:"Gerando...",copied:"Copiado!",generatingAddress:"Gerando endereo...",helpTitle:"Ajuda",attention:"Ateno",attentionDesc:"Envie apenas ativos compatveis com a rede selecionada. Enviar ativos de outras redes pode resultar em perda permanente dos seus fundos.",uniqueAddress:"Endereo nico",uniqueAddressDesc:"Este endereo  exclusivo da sua conta e pode ser usado mltiplas vezes.",security:"Segurana",securityDesc:"Sempre confirme a rede antes de enviar ativos para evitar perdas irreversveis.",howItWorks:"Como funciona",howItWorksDesc:"Compartilhe este endereo ou QR Code com quem vai enviar criptomoedas para voc.",importantTip:"Dica importante",importantTipDesc:"Recomendamos fazer um teste com uma pequena quantia primeiro.",transactionQuestions:"Dvidas sobre transaes?",helpHere:"Ajuda aqui"},securitySettings:"Configuraes de Segurana",changePassword:"Alterar senha",twoFactor:"Autenticao de dois fatores",biometric:"Biometria",currentPassword:"Senha atual",newPassword:"Nova senha",confirmNewPassword:"Confirmar nova senha",updatePassword:"Atualizar senha",authentication:"Autenticao",lastChanged:"ltima alterao h 3 meses",addExtraLayer:"Adicione uma camada extra de segurana",securityNotifications:"Notificaes de segurana",emailAlerts:"Alertas por e-mail",receiveSuspiciousActivity:"Receba notificaes de atividades suspeitas",recentActivity:"Atividades recentes",viewDevicesAccess:"Veja dispositivos e acessos recentes",connectedDevices:"Dispositivos conectados",activeDevices:"3 dispositivos ativos",activeSessions:"Sesses ativas",manageSessions:"Gerencie suas sesses",yourAccountProtected:"Sua conta est protegida",keepInfoSecure:"Continue mantendo suas informaes seguras",securityTips:"Dicas de segurana",useStrongPassword:"Use uma senha forte e nica",enableTwoFactor:"Ative a autenticao de dois fatores",neverShareCredentials:"Nunca compartilhe suas credenciais",notificationSettings:"Configuraes de Notificaes",pushNotifications:"Notificaes push",emailNotifications:"Notificaes por e-mail",transactionAlerts:"Alertas de transao",priceAlerts:"Alertas de preo",newsUpdates:"Atualizaes de notcias",notificationsTitle:"Notificaes",unreadMessages:"{count} no lida{plural}",markAll:"Marcar todas",filterAll:"Todas",filterTransactions:"Transaes",filterSecurity:"Segurana",filterUpdates:"Atualizaes",loadingNotifications:"Aguarde enquanto carregamos suas notificaes",noNotificationsTitle:"Nenhuma notificao",noNotificationsDesc:"Voc no tem notificaes nesta categoria",pushSettingsButton:"Configuraes de notificaes push",helpCenterPage:{title:"Central de Ajuda",howCanWeHelp:"Como podemos ajudar?",chooseOption:"Escolha a melhor forma de entrar em contato com nossa equipe de suporte",sendEmail:"Enviar e-mail",sendEmailDesc:"Envie sua dvida por e-mail e receba resposta em at 24 horas",liveChat:"Chat ao vivo",liveChatDesc:"Converse com um agente em tempo real",availableNow:"Disponvel agora",faq:"Perguntas frequentes",subject:"Assunto",enterSubject:"Digite o assunto",message:"Mensagem",enterMessage:"Descreva sua dvida ou problema",send:"Enviar",cancel:"Cancelar",emailSent:"E-mail enviado com sucesso! Nossa equipe responder em breve.",waitingSupport:"Aguardando atendimento",youAreInQueue:"Voc est na fila. Em breve um agente estar disponvel.",peopleAhead:"pessoas  sua frente",connectedWithAgent:"Voc foi conectado com um agente",agentGreeting:"Ol! Sou o agente Carlos. Como posso ajud-lo hoje?",agentResponse:"Entendi sua questo. Vou verificar isso para voc.",agentName:"Agente Carlos",online:"Online",typeMessage:"Digite sua mensagem...",faqs:{deposit:{q:"Como fazer um depsito?",a:'Para fazer um depsito, v at a aba "Carteira", selecione a criptomoeda desejada e clique em "Depositar". Voc receber um endereo nico para enviar seus fundos. Certifique-se de usar a rede correta para evitar perda de fundos.'},withdraw:{q:"Como sacar criptomoedas?",a:'Na aba "Carteira", selecione a moeda que deseja sacar e clique em "Sacar". Insira o endereo de destino, escolha a rede blockchain e o valor. Confirme a transao com seu cdigo de segurana. O processamento pode levar de alguns minutos a horas dependendo da rede.'},fees:{q:"Taxas de transao",a:"As taxas variam de acordo com a criptomoeda e a rede blockchain utilizada. Depsitos so gratuitos. Para saques, as taxas so dinmicas e baseadas no congestionamento da rede. Voc sempre ver a taxa exata antes de confirmar qualquer transao."},security:{q:"Segurana da conta",a:"Sua segurana  nossa prioridade. Recomendamos ativar a autenticao de dois fatores (2FA), usar senha forte e nica, e nunca compartilhar suas credenciais. Todas as transaes exigem confirmao adicional e seus fundos so protegidos com criptografia de nvel bancrio."}}},termsMenuPage:{title:"Termos e Privacidade",termsOfUse:"Termos de Uso",termsDesc:"Leia os termos e condies de uso do NexCoin",privacyPolicy:"Poltica de Privacidade",privacyDesc:"Saiba como protegemos e usamos seus dados",lastUpdate:"ltima atualizao: 26 de janeiro de 2026"},termsAndConditionsPage:{title:"Termos de Uso",lastUpdate:"ltima atualizao: 26 de janeiro de 2026",sections:{1:{title:"1. Aceitao dos Termos",content:"Ao acessar e usar a NexCoin, voc concorda em cumprir estes Termos de Uso. Se voc no concordar com qualquer parte destes termos, no dever usar nossos servios."},2:{title:"2. Elegibilidade",content:"Voc deve ter pelo menos 18 anos de idade para usar a NexCoin. Ao criar uma conta, voc declara e garante que tem capacidade legal para celebrar este contrato."},3:{title:"3. Conta e Segurana",content:[" Voc  responsvel por manter a confidencialidade de suas credenciais de login"," Voc deve notificar imediatamente sobre qualquer uso no autorizado de sua conta"," A NexCoin no ser responsvel por perdas decorrentes do uso no autorizado de sua conta"]},4:{title:"4. Segurana e Permisses Obrigatrias",content:"Para garantir a segurana das suas transaes e prevenir fraudes, o uso do GPS (geolocalizao) e da CMERA  OBRIGATRIO na plataforma NexCoin.",items:[" O acesso aos servios ser bloqueado caso as permisses de localizao ou cmera sejam negadas ou desativadas"," A cmera  utilizada exclusivamente para verificao de identidade (KYC), prova de vida e autenticao de segurana"," O GPS  utilizado para monitoramento de segurana constante, incluindo rastreamento em segundo plano para preveno contra acessos no autorizados e proteo de ativos"," O uso de notificaes  recomendado para o monitoramento em tempo real de todas as movimentaes financeiras da sua conta"]},5:{title:"5. Uso da Plataforma",items:["Uso Permitido: A NexCoin  uma plataforma para negociao de criptomoedas. Voc concorda em usar a plataforma apenas para fins legais.","Uso Proibido:  proibido usar a plataforma para lavagem de dinheiro, financiamento de terrorismo, fraude ou qualquer atividade ilegal."]},6:{title:"6. Transaes e Taxas",content:"Todas as transaes realizadas atravs da NexCoin esto sujeitas a taxas de rede. As taxas so claramente exibidas antes da confirmao de qualquer transao. Uma vez confirmada, a transao  irreversvel."},7:{title:"7. Riscos de Criptomoedas",content:"Voc reconhece que o mercado de criptomoedas  voltil e que o valor dos seus ativos pode flutuar significativamente. A NexCoin no garante lucros e voc  responsvel por suas decises de investimento."},8:{title:"8. Limitao de Responsabilidade",content:"A NexCoin no ser responsvel por perdas diretas, indiretas, incidentais ou consequenciais resultantes do uso ou incapacidade de usar nossos servios, incluindo perda de fundos, dados ou lucros."},9:{title:"9. Suspenso e Encerramento",content:"Reservamo-nos o direito de suspender ou encerrar sua conta a qualquer momento, sem aviso prvio, se acreditarmos que voc violou estes termos ou se envolveu em atividades fraudulentas."},10:{title:"10. Modificaes dos Termos",content:"Podemos modificar estes termos a qualquer momento. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. O uso continuado da plataforma aps as modificaes constitui aceitao dos novos termos."},11:{title:"11. Lei Aplicvel",content:"Estes termos so regidos pelas leis aplicveis em sua jurisdio. Qualquer disputa ser resolvida nos tribunais competentes."},12:{title:"12. Contato",content:"Se voc tiver dvidas sobre estes Termos de Uso, entre em contato conosco atravs do Centro de Ajuda."}},agreement:"Ao usar a NexCoin, voc concorda com estes Termos de Uso"},privacyPolicyPage:{title:"Poltica de Privacidade",lastUpdate:"ltima atualizao: 26 de janeiro de 2026",sections:{1:{title:"1. Introduo",content:"A NexCoin valoriza sua privacidade. Esta Poltica de Privacidade descreve como coletamos, usamos, armazenamos e protegemos suas informaes pessoais quando voc usa nossos servios."},2:{title:"2. Informaes que Coletamos",items:[{title:"2.1 Informaes de Cadastro:",content:" Nome completo, e-mail, nmero de telefone, pas de residncia"},{title:"2.2 Informaes de Transao:",content:" Histrico de transaes, endereos de carteiras, valores negociados"},{title:"2.3 Informaes Tcnicas:",content:" Endereo IP, tipo de dispositivo, sistema operacional, logs de acesso"},{title:"2.4 Informaes de Geolocalizao (GPS):",content:" Localizao precisa do dispositivo, utilizada obrigatoriamente para fins de segurana, preveno de fraudes e conformidade regulatria."},{title:"2.5 Informaes de Verificao:",content:" Documentos de identificao e dados biomtricos para conformidade KYC (Know Your Customer)"},{title:"2.6 Informaes de Cmera:",content:" Acesso  cmera do dispositivo, utilizado obrigatoriamente para captura de documentos e reconhecimento facial (KYC) para fins de segurana e preveno de fraudes."},{title:"2.7 Notificaes e Alertas:",content:" Coleta de tokens de dispositivo para envio de notificaes push sobre depsitos recebidos, segurana da conta e alertas importantes do sistema."}]},3:{title:"3. Como Usamos suas Informaes",content:[" Fornecer e melhorar nossos servios de negociao de criptomoedas"," Processar transaes e garantir a segurana da sua conta"," Cumprir requisitos legais e regulatrios (AML/KYC)"," Comunicar sobre atualizaes, manutenes e questes de segurana"," Prevenir fraudes e atividades suspeitas atravs do monitoramento de localizao e padres de acesso"," Personalizar sua experincia no aplicativo"]},4:{title:"4. Compartilhamento de Informaes",intro:"No vendemos suas informaes pessoais. Podemos compartilhar seus dados apenas nas seguintes situaes:",content:[" Com provedores de servios terceirizados essenciais para operao da plataforma"," Quando exigido por lei, ordem judicial ou autoridades regulatrias"," Para proteger nossos direitos legais e prevenir fraudes"," Com seu consentimento explcito"]},5:{title:"5. Segurana dos Dados",intro:"Implementamos medidas de segurana robustas para proteger suas informaes:",content:[" Criptografia de ponta a ponta para dados sensveis"," Autenticao de dois fatores (2FA)"," Armazenamento seguro em servidores com certificao de segurana"," Monitoramento contnuo contra acessos no autorizados"," Auditorias de segurana regulares"]},6:{title:"6. Reteno de Dados",content:"Mantemos suas informaes pessoais pelo tempo necessrio para fornecer nossos servios e cumprir obrigaes legais. Dados de transaes so mantidos conforme exigido por regulamentaes financeiras."},7:{title:"7. Seus Direitos",intro:"Voc tem os seguintes direitos em relao s suas informaes pessoais:",content:[" Acessar e revisar suas informaes pessoais"," Solicitar correo de dados incorretos"," Solicitar excluso de dados (sujeito a obrigaes legais)"," Optar por no receber comunicaes de marketing"," Portabilidade de dados"]},8:{title:"8. Cookies e Rastreamento",content:"Usamos cookies e tecnologias similares para melhorar sua experincia, analisar o uso da plataforma e personalizar contedo. Voc pode gerenciar suas preferncias de cookies nas configuraes do aplicativo."},9:{title:"9. Transferncias Internacionais",content:"Seus dados podem ser transferidos e processados em pases diferentes do seu pas de residncia. Garantimos que todas as transferncias cumpram as leis de proteo de dados aplicveis."},10:{title:"10. Menores de Idade",content:"Nossos servios no so destinados a menores de 18 anos. No coletamos intencionalmente informaes de menores. Se voc acredita que coletamos dados de um menor, entre em contato conosco imediatamente."},11:{title:"11. Alteraes na Poltica",content:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. Recomendamos revisar esta poltica regularmente."},12:{title:"12. Contato",content:"Se voc tiver dvidas sobre esta Poltica de Privacidade ou sobre como tratamos seus dados, entre em contato atravs do Centro de Ajuda ou envie um e-mail para Suporte.NexCoin@gmail.com."}},agreement:"Ao usar a NexCoin, voc concorda com esta Poltica de Privacidade"},languageSettings:"Configuraes de Idioma",selectLanguage:"Selecione seu idioma",languageUpdated:"Idioma atualizado com sucesso!",selectYourLanguage:"Selecione seu idioma",languageDescription:"Escolha o idioma de sua preferncia para o aplicativo",sent:"Enviado",received:"Recebido",pending:"Pendente",completed:"Concludo",failed:"Falhou",transactions:"Transaes",allTransactions:"Todas as transaes",transactionsPage:{title:"Transaes",search:"Pesquisar",today:"Hoje",yesterday:"Ontem",noTransactions:"Nenhuma transao",noTransactionsDesc:"Suas transaes aparecero aqui",noResults:"Nenhum resultado",noResultsDesc:"Tente ajustar a busca",fee:"Taxa",types:{sendCrypto:"Envio de",receiveCrypto:"Recebimento de",sent:"Enviado",received:"Recebido",pixSent:"PIX enviado",pixReceived:"PIX recebido",conversion:"Converso",deposit:"Depsito",withdrawal:"Transferncia",buy:"Compra de",sell:"Venda de"},status:{completed:"Concludo",pending:"Pendente",processing:"Processando",failed:"Falhou"}},statsPage:{title:"Estatsticas",portfolioAnalysis:"Anlise do Portflio",totalBalance:"Saldo Total",totalAssets:"Total de Ativos",largestAsset:"Maior Ativo",assetDistribution:"Distribuio de Ativos",ofPortfolio:"do portflio",portfolioHistory:"Histrico do Portflio",lastUpdates:"ltimas {count} atualizaes",updatesEvery5Min:"Atualiza a cada 5min"},copied:"Copiado!",copiedToClipboard:"Copiado para rea de transferncia",enterValidAmount:"Insira um valor vlido",transferMethod:"Transferncia",confirm:"Confirmar",save:"Salvar",edit:"Editar",back:"Voltar",next:"Prximo",done:"Concludo",loading:"Carregando...",error:"Erro",success:"Sucesso",close:"Fechar",options:"Opes",welcomeBack:"Bem-vindo de volta",goodMorning:"Bom dia",goodAfternoon:"Boa tarde",goodEvening:"Boa noite",depositFunds:"Depositar fundos",withdrawFunds:"Sacar fundos",selectAmount:"Selecionar valor",enterAmount:"Inserir valor",minimum:"Mnimo",maximum:"Mximo",available:"Disponvel",receive:"Receber",name:"Nome",country:"Pas",dateOfBirth:"Data de nascimento",address:"Endereo",personalAccount:"Conta pessoal",idDocument:"Documento de identificao (CPF/RG/Passaporte)",enterIdDocument:"Digite seu CPF, RG ou Passaporte",residentialAddress:"Endereo residencial",addressPlaceholder:"Rua, nmero, complemento",city:"Cidade",state:"Estado",zipCode:"CEP",phoneNumber:"Nmero de celular",emailLabel:"E-mail",taxResidence:"Domiclio fiscal",patrimony:"Patrimnio",reportedPatrimony:"Patrimnio informado (opcional)",patrimonyPlaceholder:"Ex: R$ 500.000,00",notInformed:"NO INFORMADO",portfolioValue:"Valor do portflio",dailyChange:"Variao diria",profit:"Lucro",loss:"Perda",myCards:"Meus cartes",addCard:"Adicionar carto",manageCards:"Gerenciar cartes",bottomNav:{home:"Incio",wallet:"Carteira",convert:"Converter",crypto:"Cripto",profile:"Perfil"},cryptoPage:{all:"Todos",favorites:"Favoritos",searchCrypto:"Pesquisar criptomoeda...",addBalance:"Adicionar Saldo",enterAmount:"Digite o valor",add:"Adicionar",balance:"Saldo",noFavorites:"Nenhum favorito ainda",addFavoritesTip:"Toque na estrela para adicionar favoritos",topGainersToday:"Maiores Altas Hoje",cryptoAddedSuccess:"Cripto adicionada com sucesso!",errorAddingCrypto:"Erro ao adicionar cripto",invalidAmount:"Valor invlido",addToPortfolio:"Adicionar ao Portflio",trendingUp:"Cripto em Alta",realTime:"Tempo Real",price:"Preo",change24h:"24h",hideList:"Ocultar Lista",seeAllCryptos:"Ver Todas as Criptomoedas",activeAvailable:"ativo disponvel",activesAvailable:"ativos disponveis",hide:"Ocultar",expand:"Expandir",holdToAddBalance:"Segure 5s para adicionar saldo",marketCap:"Market Cap",allCryptosActive:"Todas as criptos esto ativas!",allCryptosAdded:"Voc j adicionou todas as criptomoedas disponveis ao seu portflio.",viewPortfolio:"Ver Portflio",currentBalance:"Saldo atual",amountToAdd:"Quantidade a adicionar",newBalance:"Novo saldo",cancel:"Cancelar",adding:"Adicionando...",confirmAddPortfolio:"Deseja adicionar esta cripto ao seu portflio?",addNow:"Adicionar Agora"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Cripto  Cripto",cryptoToFiat:"Cripto  Moeda",fiatToFiat:"Moeda  Moeda",convertAll:"Converter tudo",exchangeRate:"Cotao",balance:"Saldo",conversionFee:"Taxa de converso (0.5%)",processing:"Processamento",confirmExchange:"Confirmar Exchange",converting:"Convertendo...",conversionHistory:"Histrico de Converses",insufficientBalance:"Saldo insuficiente",insufficientBalanceWithFee:"Saldo insuficiente (inclui taxa 0,5%)",noBalance:"Sem saldo em",conversionCompleted:"Converso Realizada!",anotherConversion:"Deseja fazer outra converso?",yesAnother:"Sim, fazer outra",noGoHome:"No, voltar para Home",conversionSuccess:"Converso realizada com sucesso!",conversionError:"Erro ao processar converso",deleteConversion:" Deseja excluir esta converso?",conversionDeleted:" Converso excluda com sucesso!",errorDeletingConversion:"Erro ao excluir converso",noConversions:"Nenhuma converso realizada ainda",loadingHistory:"Carregando histrico...",needTwoAccounts:"Voc precisa ter contas em pelo menos 2 pases diferentes para fazer converses entre moedas.",needBankAccount:"Voc precisa abrir uma conta bancria para converter cripto em moeda fiat.",seeHistory:"Ver Histrico",hideHistory:"Ocultar Histrico",seconds:"segundos",clickToDelete:"Clique 2x para excluir"},withdrawTransfer:{sendMoney:"Enviar Dinheiro",chooseCountryAndMethod:"Escolha seu pas e mtodo de transferncia",selectAccount:"Selecione a Conta",availableForTransfer:"Saldo disponvel para transferncia",transferMethods:"Mtodos de transferncia",instantTransfer:"Transferncia instantnea",instantNoLimit:"Instantneo  Sem limite de transferncia",bankTransfer:"Transferncia Bancria",tedOrDoc:"TED ou DOC",businessDaysNoLimit:"1-2 dias teis  Sem limite de transferncia",important:"Importante",verifyBankData:"Certifique-se de inserir os dados bancrios corretos. Transferncias para dados incorretos no podero ser revertidas.",transferViaPix:"Transferir via PIX",availableBalance:"Saldo disponvel",amountToTransfer:"Valor a transferir",pixKeyRecipient:"Chave PIX do destinatrio",pixKeyPlaceholder:"CPF, E-mail, Telefone ou Chave Aleatria",informPixKey:"Informe a chave PIX de quem vai receber a transferncia",fee:"Taxa",time:"Tempo",instant:"Instantneo",confirmTransfer:"Confirmar Transferncia",pix:"PIX",businessDays:"1-2 dias teis",pixKeyInvalidType:"Tipo de chave PIX no reconhecido. Use CPF, CNPJ, E-mail, Telefone ou Chave Aleatria.",userNotAuthenticated:"Usurio no autenticado",minAmount:"Valor mnimo",insufficientBalance:"Saldo insuficiente. Disponvel",informPixKeyError:"Informe a chave PIX",pixKeyInvalid:"Chave PIX invlida",fillBankDetails:"Preencha todos os dados bancrios",pixTransferTo:"Transferncia PIX para",errorProcessingPix:"Erro ao processar transferncia PIX",transferSentTo:"Transferncia enviada para",pixKeyNotFound:"Chave PIX no encontrada no sistema NexCoin. Apenas transferncias entre usurios NexCoin so suportadas no momento.",pixTransfer:"Transferncia PIX",tedTransfer:"Transferncia TED",transferVia:"Transferncia via",errorProcessingTransfer:"Erro ao processar transferncia",pixKey:"Chave PIX",transferSuccess:"Transferncia realizada com sucesso!",min:"Mn",max:"Mx",processing:"Processando...",amount:"Valor",bank:"Banco",code:"Cdigo",agency:"Agncia",account:"Conta",checkingAccount:"Conta Corrente",savingsAccount:"Conta Poupana",fullName:"Nome completo",cpfCnpj:"CPF/CNPJ",checking:"Corrente",savings:"Poupana",accountHolderName:"Nome do titular",address:"Endereo",beneficiaryName:"Nome do beneficirio",processingStatus:"Processando",addAccountHome:"Adicione uma conta na pgina Home",noTransferLimit:"Sem limite de transferncia",achTransfer:"Transferncia ACH",electronicBankTransfer:"Transferncia bancria eletrnica",wireTransfer:"Transferncia Wire",domesticWire:"Wire domstico",sepaTransfer:"Transferncia SEPA",singleEuroPaymentsArea:"rea nica de Pagamentos em Euro",sepaInstant:"SEPA Instantneo",instantSepaTransfer:"Transferncia SEPA instantnea",fasterPayments:"Pagamentos Rpidos",instantBankTransfer:"Transferncia bancria instantnea",bacsTransfer:"Transferncia BACS",standardBankTransfer:"Transferncia bancria padro",bankDetails:"Dados da Conta",removeAccount:"Remover Conta"},withdrawCrypto:{title:"Enviar",searchPlaceholder:"Pesquise criptomoedas compatveis",availableBalance:"Saldo disponvel",selectNetwork:"Selecione a rede",fee:"Taxa",noCryptosFound:"Nenhuma criptomoeda encontrada",sendCrypto:"Enviar"},withdrawAddress:{title:"Enviar",selectedNetwork:"Rede selecionada",walletAddress:"Endereo da carteira",addressPlaceholder:"Cole ou escaneie o endereo da carteira",recipientFound:"Destinatrio encontrado",sendingTo:"Enviando para",invalidAddress:"Endereo invlido",addressWarning:"Certifique-se de que o endereo est correto. Transaes no podem ser revertidas.",amount:"Valor",useMax:"Usar mximo",summary:"Resumo da transao",quantity:"Quantidade",networkFee:"Taxa de rede",total:"Total",attention:"Ateno",attentionWarning:"Verifique cuidadosamente o endereo e a rede antes de enviar. Apenas endereos cadastrados na NexCoin so aceitos.",mustBeRegistered:"O endereo precisa estar cadastrado na NexCoin",sentSuccess:"Enviado com sucesso!",transactionProcessed:"Sua transao foi processada",recipient:"Destinatrio",viewReceipt:"Ver Comprovante",processing:"Processando...",transferSuccess:"Transferncia realizada com sucesso!",availableBalance:"Saldo disponvel",fee:"Taxa"},withdrawReceipt:{title:"Transferncia Confirmada!",subtitle:"Comprovante de transferncia",transactionId:"ID da transao",details:"Detalhes da transferncia",method:"Mtodo",fee:"Taxa",processing:"Processamento",date:"Data",recipient:"Destinatrio",important:"Importante",importantNotice:"Guarde este comprovante para referncia futura. O processamento pode levar at",shareReceipt:"Compartilhar comprovante",backToHome:"Voltar para Home",copied:"Copiado",sharing:"Compartilhando...",copiedToClipboard:"Copiado para rea de transferncia!",shareTextHeader:" Comprovante de Transferncia NexCoin",shareTextFooter:" NexCoin - Seu banco digital de criptomoderas",amount:"Valor",currency:"Moeda",status:"Status",copy:"Copiar",to:"Para"},paymentScreen:{title:"Taxa de Anlise",description:"Para prosseguir com a anlise da sua conta,  necessrio realizar uma doao simblica de validao.",totalToPay:"Total a pagar",payButton:"Pagar 5.00",processing:"Processando...",securePayment:"Pagamento seguro processado pela Stripe. Seus dados so criptografados.",secureBadge:"Pagamento 100% seguro e criptografado",configError:"Erro de Configurao",technicalNote:"Nota Tcnica: Se voc ver erro de CORS/Network,  porque a Stripe bloqueia o uso da chave secreta no navegador. Voc precisa configurar um backend ou Cloud Function.",tryAgain:"Tentar Novamente",success:"Pagamento realizado com sucesso!",updateError:"Pagamento confirmado, mas houve um erro ao atualizar seu perfil. Contate o suporte.",initiating:"Iniciando pagamento seguro...",pleaseWait:"Por favor, aguarde um momento."},pendingApproval:{title:"Conta em Anlise",greeting:"Ol {name}!",description:"Sua solicitao de acesso ao NexCoin est sendo analisada pela nossa equipe de segurana.",step1Title:"Cadastro Realizado",step1Desc:"Suas informaes foram recebidas com sucesso",step2Title:"Anlise de Segurana",step2Desc:"Verificando seus dados e validando identidade",step3Title:"Aprovao Final",step3Desc:"Voc receber uma notificao quando for aprovado",estimatedTime:"Tempo estimado:",timeValue:"24 a 48 horas",emailNotice:"Voc receber um e-mail em {email} assim que sua conta for aprovada.",securityBadge:"Protegido por verificao em duas etapas",logoutButton:"Sair da Conta",needHelp:"Precisa de ajuda?",contactUs:"Entre em contato"},pushSettingsPage:{title:"Notificaes push",keepInformed:"Mantenha-se informado",keepInformedDesc:"Personalize suas notificaes para receber apenas as informaes mais importantes",sections:{general:"Geral",transactions:"Transaes",security:"Segurana",market:"Mercado"},items:{enablePush:"Ativar notificaes push",enablePushDesc:"Receber todas as notificaes no dispositivo",allTransactions:"Todas as transaes",allTransactionsDesc:"Notificaes de todas as movimentaes",deposits:"Depsitos",depositsDesc:"Quando voc receber fundos",withdrawals:"Saques",withdrawalsDesc:"Quando processar uma retirada",securityAlerts:"Alertas de segurana",securityAlertsDesc:"Todas as notificaes de segurana",newDevices:"Novos dispositivos",newDevicesDesc:"Login em um novo dispositivo",suspiciousActivity:"Atividades suspeitas",suspiciousActivityDesc:"Tentativas de acesso no autorizadas",priceAlerts:"Alertas de preo",priceAlertsDesc:"Quando seus ativos atingirem metas",marketNews:"Notcias do mercado",marketNewsDesc:"Atualizaes importantes do mercado"},tipTitle:"Dica:",tipContent:"Algumas notificaes de segurana no podem ser desativadas para manter sua conta protegida."},landingPage:{products:"Produtos",company:"Empresa",help:"Ajuda",openAccount:"Abra sua conta",openAccountNow:"Abra sua conta agora",moreThanGlobalTitle:"Mais que uma",moreThanGlobalHighlight:"conta global cooperativa",heroSubtitle:"Global & Crypto Exchange. A moeda do futuro. Envie, gaste e economize de forma mais inteligente. Junte-se a milhares que j transformaram sua vida financeira com a NexCoin.",yourBalance:"Seu Saldo",yield:"RENDIMENTO",yieldToday:"+ 0.85% hoje",socialProof:"O App usado por milhares de pessoas",elevateSpending:"Eleve sua forma de gastar",cardSubtitle:"Pea seu carto NexCoin e tenha controle total dos seus gastos em qualquer lugar do mundo.",requestCard:"Pedir carto",highYieldTitle:"Mude sua vida com contas de alto rendimento",highYieldSubtitle:"Faa seu dinheiro trabalhar para voc. Taxas competitivas e liquidez diria para voc aproveitar o que importa.",exploreYields:"Explorar rendimentos",safeHarborTitle:"O porto seguro para o seu dinheiro",safeHarborSubtitle:"Utilizamos tecnologia de ponta para proteger seus dados e seu patrimnio. Com autenticao biomtrica, criptografia de nvel militar e monitoramento em tempo real, voc pode ter tranquilidade.",security:"Segurana",enterCryptoTitle:"Entre no mundo cripto",enterCryptoSubtitle:"Compre Bitcoin, Ethereum e outras criptos com apenas um toque. Simples, seguro e transparente.",exploreCrypto:"Explorar Cripto",joinThousands:"Junte-se a milhares que j usam a NexCoin",footerTagline:"Global & Crypto Exchange. A moeda do futuro. Revolucionando sua vida financeira com tecnologia, transparncia e segurana.",footerProduct:"Produto",footerCards:"Cartes",footerCrypto:"Cripto",footerBalances:"Saldos",footerYields:"Rendimentos",footerCompany:"Empresa",footerAbout:"Sobre ns",footerCareers:"Carreiras",footerBlog:"Blog",footerPress:"Imprensa",footerSupport:"Suporte",footerHelp:"Ajuda",footerContact:"Fale conosco",footerSecurity:"Segurana",footerPrivacy:"Poltica de Privacidade",footerTerms:"Termos de Uso",footerAddress:"22 Coin Street, London, Inglaterra, SE1 9NS",footerPhone:"+44 7892 821669",footerEmail:"Suporte.NexCoin@gmail.com",footerDisclaimer:"NexCoin  uma plataforma tecnolgica de servios financeiros digitais. Os servios de pagamentos e contas so prestados por parceiros autorizados e regulamentados. Certifique-se de ler nossos Termos e Condies antes de abrir uma conta. O investimento em criptoativos envolve riscos significativos de perda. A NexCoin no  uma instituio financeira bancria propriamente dita, atuando como correspondente bancrio.  2026 NexCoin. Todos os direitos reservados."},downloadApp:{successTitle:"Cadastro realizado com sucesso! ",successSubtitle:"Para acessar sua conta e comear a investir, baixe agora o app oficial da NexCoin em seu smartphone.",android:"Android",androidHint:"Aponte a cmera para baixar via Google Play",downloadApk:"Baixar APK",ios:"iOS (iPhone)",iosHint:"Aponte a cmera para baixar via App Store",downloadAppStore:"Baixar App Store",rightsReserved:" 2026 NexCoin. Todos os direitos reservados."},permissions:{locationTitle:"Acesso  Localizao Obrigatrio",locationDesc:"Para sua segurana e proteo contra fraudes, o NexCoin exige acesso  sua localizao. Por favor, habilite o GPS nas configuraes do seu dispositivo.",cameraTitle:"Acesso  Cmera Obrigatrio",cameraDesc:"O NexCoin exige acesso  cmera para verificao de identidade (KYC) e segurana da sua conta. Por favor, habilite a permisso de cmera nas configuraes.",retry:"Tentar Novamente",securityNotice:"Este requisito garante a integridade das suas transaes e protege sua conta."}},en:{countries:{BR:"Brazil",US:"United States",PT:"Portugal",ES:"Spain",FR:"France",DE:"Germany",IT:"Italy",GB:"United Kingdom",NL:"Netherlands",BE:"Belgium",CH:"Switzerland",AT:"Austria",CA:"Canada",AU:"Australia",MX:"Mexico",AR:"Argentina",CL:"Chile",CO:"Colombia"},fiatAccounts:{title:"Accounts",subtitle:"Manage your bank accounts",accounts:"Accounts",manageBankAccounts:"Manage your bank accounts",accountData:"Account details",accountSettings:"Account Settings",selectAccount:"Select account",chooseAccountToTransact:"Choose the account to transact",addNewAccount:"Add New Account",addAccount:"Add Account",noAccountsFound:"No accounts found",addFiatAccount:"Add a fiat account to get started",add:"Add",addButton:"Add",creating:"Creating...",removeAccount:"Remove Account",closeAccount:"Close account",deleteAccount:"Delete Account",openingAccount:"Opening Account",configuringAccount:"Configuring your {country} account",validating:"Validating data",generating:"Generating account number",security:"Setting up security",finalizing:"Finalizing account opening",completedSteps:"{completed} of {total} steps completed",accountExists:"Account already exists",accountExistsDesc:"You already have a {country} bank account. It is not possible to create more than one account per country.",accountCreated:"Account created",accountCreatedDesc:"{country} bank account created successfully!",pixKeysCreated:"PIX Keys created!",pixKeysCreatedDesc:"Your PIX keys (email and phone) have been automatically configured.",errorCreatingAccount:"Error creating account",errorCreatingAccountDesc:"Could not create the bank account. Please try again.",error:"Error",accountIdNotFound:"Account ID not found.",closeAccountConfirm:`Are you sure you want to close this account?

This action cannot be undone and you will lose all data associated with this bank account.`,accountClosed:"Account closed",accountClosedDesc:"The bank account has been successfully closed.",errorClosingAccount:"Error closing account",errorClosingAccountDesc:"Could not close the account. Please try again.",permissionError:"Permission error",permissionErrorDesc:"Check if Firestore rules are correctly configured.",firestoreRulesWarning:" Firestore rules not configured",firestoreRulesDesc:"You need to update Firestore rules. Consult the guide for detailed instructions.",institution:"Institution",bank:"Bank",accountType:"Account Type",accountNumber:"Account number",bankCode:"Bank Code",institutionCode:"Institution Code",iban:"IBAN",swiftBic:"SWIFT/BIC",sortCode:"Sort Code",branchCode:"Branch Code",agency:"Agency",routingNumber:"Routing Number",bsb:"BSB",shareData:"Share details",domesticOnly:"For domestic transfers only",internationalOnly:"For international transfers only",transferTimeTip:"Transfers usually take three to five business days to appear in your account",feeTip:"The sender's bank or intermediary may charge for international payments",swiftOnlyTip:"We only accept SWIFT transfers",noFeeTip:"We will not charge any transfer fee for this account.",pixTip:"You can use your account details or Pix key to receive transfers 24 hours a day, hassle-free.",addFunds:"Add Funds",depositMethod:"Deposit Method",depositAmount:"Deposit Amount",transferDetails:"Transfer Details",selectPixKey:"Select PIX Key",selectKey:"Select a key",pixKeys:"PIX Keys",pixQrCode:"PIX QR Code",copyPixCode:"Copy PIX Code",codeCopied:"Code Copied!",depositHint:"Hint: Enter development deposit amount above to generate PIX QR Code.",noPixKeys:"No PIX keys registered. Register a PIX key to use this method.",simulationWarning:'Simulation: In production, the system would wait for bank transfer confirmation. Here, balance will be added instantly when clicking "Confirm Deposit".',confirmDeposit:"Confirm Deposit",depositVia:"Deposit via",depositSuccess:"Deposit successfully completed!",depositError:"Error processing deposit",recipient:"Recipient",yourPixKeys:"Your PIX keys",registeredKeys:"Your registered keys",keysAutoCreated:" Your PIX keys (email and phone) were automatically created",noKeysFound:"No PIX keys found",errorCopying:"Error copying key"},cards:{title:"My Cards",subtitle:"Intelligent management of NexCoin cards",activeLabel:"Active",blockedLabel:"Blocked",cancelledLabel:"Cancelled",processingLabel:"Processing",virtual:"Virtual Card",physical:"Physical Card",manage:"Manage",requestNew:"Request new card",noActiveCards:"No active cards",choosePlan:"Choose one of the NexCoin plans below to get started.",availablePlans:"Available Plans",free:"Free",orderNow:"Order now",confirmOrder:"Confirm Order",validatingRequest:"Validating plan request",selectedPlan:"Selected plan",category:"Category",monthlyFee:"Monthly fee",exempt:"EXEMPT",confirmAndOrder:"Confirm and Order",processingRequest:"Processing order...",cancel:"Cancel",details:"Card Details",information:"Information",cardNumber:"Number",expiry:"Expiry",modality:"Modality",network:"Network",unblock:"Unblock Card",blockTemporarily:"Block Temporarily",blockDesc:"Prevent new purchases now",cancelAndExcl:"Cancel and Delete",irreversible:"Irreversible action",confirmCancel:"Do you want to cancel?",cancelWarning:"Upon confirmation, this card's functions will be permanently disabled.",back:"Back",successVirtual:" Virtual card activated!",successPhysical:" Order received! You will receive the tracking soon.",errorRequest:"Error processing order. Please try again."},welcome:"Welcome",createAccount:"Create Account",login:"Login",signUp:"Sign Up",termsAgreement:"By signing up, you agree to our Terms of Service and Privacy Policy.",futureOfFinance:"Future of Finance",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",email:"Email",phone:"Phone",fullName:"Full name",password:"Password",confirmPassword:"Confirm password",forgotPassword:"Forgot password?",continue:"Continue",initialSetup:"Initial setup",countryCurrencySubtitle:"Select your country of origin and the preferred currency for your transactions.",choosePin:"Choose your access PIN",choosePinSubtitle:"Create a 6-digit PIN to enter the app and authorize your transactions.",confirmPin:"Confirm your PIN",confirmPinSubtitle:"Enter your 6-digit PIN again to confirm.",enterPin:"Enter your PIN",enterPinSubtitle:"Enter your 6-digit PIN to access your account",forgotPin:"Forgot my PIN",pinsDontMatch:"PINs do not match. Try again.",pinSetupSuccess:"PIN set up successfully!",portuguese:"Portuguese",english:"English",spanish:"Spanish",register:"Register",invalidName:"Invalid name",invalidEmail:"Invalid email",invalidPhone:"Invalid phone",phoneNotFound:"Phone not found",passwordRequirement:"Password must have at least 8 characters, 1 uppercase and 1 special character",passwordsDontMatch:"Passwords do not match",privacyPolicy:"Privacy Policy",or:"or",incorrectPassword:"Incorrect password",loginError:"Error signing in",home:"Home",wallet:"Wallet",convert:"Convert",crypto:"Crypto",profile:"Profile",totalBalance:"Total Balance",hideBalance:"Hide Balance",showBalance:"Show Balance",recentTransactions:"Recent Transactions",deposit:"Deposit",withdraw:"Withdraw",transfer:"Transfer",noTransactions:"No transactions yet",quickActions:"Quick Actions",viewAll:"View All",statement:"Statement",viewAllTransactions:"View All Transactions",market:"Market",myAccounts:"My Accounts",myCryptos:"My Cryptos",trade:"Trade",activity:"Activity",myWallet:"My Wallet",assets:"Assets",search:"Search",totalAssets:"Total Assets",cryptoAssets:"Crypto Assets",fiatBalance:"Fiat Balance",manageHoldings:"Manage Holdings",send:"Send",loadingAssets:"Loading assets...",noAssetsInPortfolio:"No assets in portfolio",startAddingCryptos:"Start adding cryptocurrencies in the",goToCrypto:"Go to Crypto",cryptocurrencies:"Cryptocurrencies",clickToAddBalance:"Double-click to add balance",removeAsset:"Remove Asset",addBalance:"Add Balance",enterValidValue:"Enter a valid value",balanceAddedSuccess:"Balance added successfully!",errorAddingBalance:"Error adding balance",add:"Add",confirmDeletion:"Confirm Deletion",areYouSureDelete:"Are you sure you want to permanently remove",fromYourPortfolio:"from your portfolio?",currentBalance:"Current balance",valueToAdd:"Value to add",newBalance:"New balance",adding:"Adding...",addCryptosToPortfolio:"Add cryptocurrencies to your portfolio",toAddMoreCryptos:"To add more cryptocurrencies, go to the",andClickCrypto:"tab and double-click on the desired coin",inCryptoTab:"In the Crypto tab, double-click on any coin to add",selectAssetToDelete:"Select an asset to delete",assetRemovedSuccess:"Asset removed successfully!",errorRemovingAsset:"Error removing asset",removing:"Removing...",remove:"Remove",cashAndStablecoins:"Cash and Stablecoins",cancel:"Cancel",brazilianReal:"Brazilian Real (PIX)",usDollar:"US Dollar",euro:"Euro",sterling:"Pound Sterling",stablecoin:"Stablecoin",japaneseYen:"Japanese Yen",canadianDollar:"Canadian Dollar",australianDollar:"Australian Dollar",swissFranc:"Swiss Franc",chineseYuan:"Chinese Yuan",indianRupee:"Indian Rupee",mexicanPeso:"Mexican Peso",argentinePeso:"Argentine Peso",convertCrypto:"Convert Crypto",from:"From",to:"To",amount:"Amount",youGet:"You get",exchangeRate:"Exchange Rate",convertNow:"Convert now",selectCrypto:"Select crypto",cryptoMarket:"Crypto Market",topGainers:"Top Gainers",topLosers:"Top Losers",marketCap:"Market Cap",volume24h:"24h Volume",price:"Price",change24h:"24h Change",myProfile:"My Profile",settings:"Settings",security:"Security",notifications:"Notifications",language:"Language",support:"Support",about:"About",logout:"Logout",account:"Account",personalInfo:"Personal Information",accountData:"Account Data",helpCenter:"Help Center",termsAndPrivacy:"Terms & Privacy",dangerZone:"Danger Zone",deleteAccount:"Delete Account",help:"Help",privacy:"Privacy",aboutUs:"About Us",receiveCrypto:{title:"Receive",searchPlaceholder:"Search cryptocurrency...",receiveCryptoTitle:"Receive {crypto}",selectNetwork:"Select network",yourAddress:"YOUR ADDRESS",copy:"Copy",new:"New",generating:"Generating...",copied:"Copied!",generatingAddress:"Generating address...",helpTitle:"Help",attention:"Attention",attentionDesc:"Only send assets compatible with the selected network. Sending assets from other networks may result in permanent loss of funds.",uniqueAddress:"Unique address",uniqueAddressDesc:"This address is exclusive to your account and can be used multiple times.",security:"Security",securityDesc:"Always confirm the network before sending assets to avoid irreversible losses.",howItWorks:"How it works",howItWorksDesc:"Share this address or QR Code with anyone sending you cryptocurrencies.",importantTip:"Important tip",importantTipDesc:"We recommend testing with a small amount first.",transactionQuestions:"Questions about transactions?",helpHere:"Help here"},securitySettings:"Security Settings",changePassword:"Change Password",twoFactor:"Two-Factor Authentication",biometric:"Biometric",currentPassword:"Current Password",newPassword:"New Password",confirmNewPassword:"Confirm New Password",updatePassword:"Update Password",authentication:"Authentication",lastChanged:"Last changed 3 months ago",addExtraLayer:"Add an extra layer of security",securityNotifications:"Security Notifications",emailAlerts:"Email Alerts",receiveSuspiciousActivity:"Receive notifications of suspicious activities",recentActivity:"Recent Activity",viewDevicesAccess:"View devices and recent access",connectedDevices:"Connected Devices",activeDevices:"3 active devices",activeSessions:"Active Sessions",manageSessions:"Manage your sessions",yourAccountProtected:"Your account is protected",keepInfoSecure:"Keep your information secure",securityTips:"Security Tips",useStrongPassword:"Use a strong and unique password",enableTwoFactor:"Enable two-factor authentication",neverShareCredentials:"Never share your credentials",notificationSettings:"Notification Settings",pushNotifications:"Push Notifications",emailNotifications:"Email Notifications",transactionAlerts:"Transaction Alerts",priceAlerts:"Price Alerts",newsUpdates:"News Updates",notificationsTitle:"Notifications",unreadMessages:"{count} unread",markAll:"Mark all",filterAll:"All",filterTransactions:"Transactions",filterSecurity:"Security",filterUpdates:"Updates",loadingNotifications:"Wait while we load your notifications",noNotificationsTitle:"No notifications",noNotificationsDesc:"You have no notifications in this category",pushSettingsButton:"Push notification settings",helpCenterPage:{title:"Help Center",howCanWeHelp:"How can we help?",chooseOption:"Choose the best way to contact our support team",sendEmail:"Send Email",sendEmailDesc:"Send your question via email and get a response within 24 hours",liveChat:"Live Chat",liveChatDesc:"Chat with an agent in real-time",availableNow:"Available now",faq:"Frequently Asked Questions",subject:"Subject",enterSubject:"Enter subject",message:"Message",enterMessage:"Describe your question or issue",send:"Send",cancel:"Cancel",emailSent:"Email sent successfully! Our team will respond shortly.",waitingSupport:"Waiting for support",youAreInQueue:"You are in the queue. An agent will be available shortly.",peopleAhead:"people ahead of you",connectedWithAgent:"You are connected with an agent",agentGreeting:"Hello! I am agent Carlos. How can I help you today?",agentResponse:"I understand your question. I will check that for you.",agentName:"Agent Carlos",online:"Online",typeMessage:"Type your message...",faqs:{deposit:{q:"How to make a deposit?",a:'To make a deposit, go to the "Wallet" tab, select the desired cryptocurrency and click "Deposit". You will receive a unique address to send your funds. Make sure to use the correct network to avoid loss of funds.'},withdraw:{q:"How to withdraw cryptocurrencies?",a:'In the "Wallet" tab, select the coin you want to withdraw and click "Withdraw". Enter the destination address, choose the blockchain network and amount. Confirm the transaction with your security code. Processing may take from a few minutes to hours depending on the network.'},fees:{q:"Transaction fees",a:"Fees vary according to the cryptocurrency and blockchain network used. Deposits are free. For withdrawals, fees are dynamic based on network congestion. You will always see the exact fee before confirming any transaction."},security:{q:"Account security",a:"Your security is our priority. We recommend enabling two-factor authentication (2FA), using a strong and unique password, and never sharing your credentials. All transactions require additional confirmation and your funds are protected with bank-grade encryption."}}},termsMenuPage:{title:"Terms & Privacy",termsOfUse:"Terms of Use",termsDesc:"Read NexCoin terms and conditions of use",privacyPolicy:"Privacy Policy",privacyDesc:"Learn how we protect and use your data",lastUpdate:"Last updated: January 26, 2026"},termsAndConditionsPage:{title:"Terms of Use",lastUpdate:"Last updated: January 26, 2026",sections:{1:{title:"1. Acceptance of Terms",content:"By accessing and using NexCoin, you agree to comply with these Terms of Use. If you do not agree with any part of these terms, you should not use our services."},2:{title:"2. Eligibility",content:"You must be at least 18 years old to use NexCoin. By creating an account, you represent and warrant that you have the legal capacity to enter into this agreement."},3:{title:"3. Account and Security",content:[" You are responsible for maintaining the confidentiality of your login credentials"," You must immediately notify us of any unauthorized use of your account"," NexCoin will not be liable for losses arising from unauthorized use of your account"]},4:{title:"4. Security and Mandatory Permissions",content:"To ensure the security of your transactions and prevent fraud, the use of GPS (geolocation) and CAMERA is MANDATORY on the NexCoin platform.",items:[" Access to services will be blocked if location or camera permissions are denied or disabled"," The camera is used exclusively for identity verification (KYC), proof of life, and security authentication"," GPS is used for constant security monitoring, including background tracking to prevent unauthorized access and protect assets"," The use of notifications is recommended for real-time monitoring of all financial movements in your account"]},5:{title:"5. Platform Use",items:["Permitted Use: NexCoin is a platform for cryptocurrency trading. You agree to use the platform only for legal purposes.","Prohibited Use: It is forbidden to use the platform for money laundering, terrorist financing, fraud, or any illegal activity."]},6:{title:"6. Transactions and Fees",content:"All transactions made through NexCoin are subject to network fees. Fees are clearly displayed before confirming any transaction. Once confirmed, the transaction is irreversible."},7:{title:"7. Cryptocurrency Risks",content:"You acknowledge that the cryptocurrency market is volatile and that the value of your assets may fluctuate significantly. NexCoin does not guarantee profits and you are responsible for your investment decisions."},8:{title:"8. Limitation of Liability",content:"NexCoin will not be liable for direct, indirect, incidental, or consequential losses resulting from the use or inability to use our services, including loss of funds, data, or profits."},9:{title:"9. Suspension and Termination",content:"We reserve the right to suspend or terminate your account at any time, without prior notice, if we believe you have violated these terms or engaged in fraudulent activities."},10:{title:"10. Terms Modifications",content:"We may modify these terms at any time. We will notify you of significant changes through the app or email. Continued use of the platform after modifications constitutes acceptance of the new terms."},11:{title:"11. Applicable Law",content:"These terms are governed by the laws applicable in your jurisdiction. Any dispute will be resolved in competent courts."},12:{title:"12. Contact",content:"If you have questions about these Terms of Use, contact us through the Help Center."}},agreement:"By using NexCoin, you agree to these Terms of Use"},privacyPolicyPage:{title:"Privacy Policy",lastUpdate:"Jan 26, 2026",sections:{1:{title:"1. Introduction",content:"NexCoin values your privacy. This Privacy Policy describes how we collect, use, store, and protect your personal information when you use our services."},2:{title:"2. Information We Collect",items:[{title:"2.1 Registration Information:",content:" Full name, email, phone number, country of residence"},{title:"2.2 Transaction Information:",content:" Transaction history, wallet addresses, traded amounts"},{title:"2.3 Technical Information:",content:" IP address, device type, operating system, access logs"},{title:"2.4 Geolocation Information (GPS):",content:" Precise device location, mandatorily used for security purposes, fraud prevention, and regulatory compliance."},{title:"2.5 Verification Information:",content:" Identification documents and biometric data for KYC (Know Your Customer) compliance"},{title:"2.6 Camera Information:",content:" Access to device camera, mandatorily used for document capture and facial recognition (KYC) for security and fraud prevention purposes."},{title:"2.7 Notifications and Alerts:",content:" Collection of device tokens for sending push notifications about received deposits, account security, and important system alerts."}]},3:{title:"3. How We Use Your Information",content:[" Provide and improve our cryptocurrency trading services"," Process transactions and ensure your account security"," Comply with legal and regulatory requirements (AML/KYC)"," Communicate about updates, maintenance, and security issues"," Prevent fraud and suspicious activities through location monitoring and access patterns"," Personalize your app experience"]},4:{title:"4. Information Sharing",intro:"We do not sell your personal information. We may share your data only in the following situations:",content:[" With third-party service providers essential for platform operation"," When required by law, court order, or regulatory authorities"," To protect our legal rights and prevent fraud"," With your explicit consent"]},5:{title:"5. Data Security",intro:"We implement robust security measures to protect your information:",content:[" End-to-end encryption for sensitive data"," Two-factor authentication (2FA)"," Secure storage on servers with security certification"," Continuous monitoring against unauthorized access"," Regular security audits"]},6:{title:"6. Data Retention",content:"We retain your personal information for as long as necessary to provide our services and comply with legal obligations. Transaction data is kept as required by financial regulations."},7:{title:"7. Your Rights",intro:"You have the following rights regarding your personal information:",content:[" Access and review your personal information"," Request correction of incorrect data"," Request deletion of data (subject to legal obligations)"," Opt-out of marketing communications"," Data portability"]},8:{title:"8. Cookies and Tracking",content:"We use cookies and similar technologies to improve your experience, analyze platform usage, and personalize content. You can manage your cookie preferences in the app settings."},9:{title:"9. International Transfers",content:"Your data may be transferred and processed in countries different from your country of residence. We ensure all transfers comply with applicable data protection laws."},10:{title:"10. Minors",content:"Our services are not intended for minors under 18. We do not knowingly collect information from minors. If you believe we have collected data from a minor, contact us immediately."},11:{title:"11. Policy Changes",content:"We may update this Privacy Policy periodically. We will notify you of significant changes through the app or email. We recommend reviewing this policy regularly."},12:{title:"12. Contact",content:"If you have questions about this Privacy Policy or how we treat your data, contact us through the Help Center or send an email to Suporte.NexCoin@gmail.com."}},agreement:"By using NexCoin, you agree to this Privacy Policy"},languageSettings:"Language Settings",selectLanguage:"Select your language",languageUpdated:"Language updated successfully!",selectYourLanguage:"Select your language",languageDescription:"Choose your preferred language for the app",sent:"Sent",received:"Received",pending:"Pending",completed:"Completed",failed:"Failed",transactions:"Transactions",allTransactions:"All Transactions",transactionsPage:{title:"Transactions",search:"Search",today:"Today",yesterday:"Yesterday",noTransactions:"No transactions",noTransactionsDesc:"Your transactions will appear here",noResults:"No results",noResultsDesc:"Try adjusting your search",fee:"Fee",types:{sendCrypto:"Sent",receiveCrypto:"Received",sent:"Sent",received:"Received",pixSent:"PIX sent",pixReceived:"PIX received",conversion:"Conversion",deposit:"Deposit",withdrawal:"Transfer",buy:"Buy",sell:"Sell"},status:{completed:"Completed",pending:"Pending",processing:"Processing",failed:"Failed"}},statsPage:{title:"Statistics",portfolioAnalysis:"Portfolio Analysis",totalBalance:"Total Balance",totalAssets:"Total Assets",largestAsset:"Largest Asset",assetDistribution:"Asset Distribution",ofPortfolio:"of portfolio",portfolioHistory:"Portfolio History",lastUpdates:"Last {count} updates",updatesEvery5Min:"Updates every 5min"},copied:"Copied!",copiedToClipboard:"Copied to clipboard",enterValidAmount:"Enter a valid amount",transferMethod:"Transfer",confirm:"Confirm",save:"Save",edit:"Edit",back:"Back",next:"Next",done:"Done",loading:"Loading...",error:"Error",success:"Success",close:"Close",options:"Options",welcomeBack:"Welcome back",goodMorning:"Good morning",goodAfternoon:"Good afternoon",goodEvening:"Good evening",depositFunds:"Deposit Funds",withdrawFunds:"Withdraw Funds",selectAmount:"Select Amount",enterAmount:"Enter Amount",minimum:"Minimum",maximum:"Maximum",available:"Available",receive:"Receive",name:"Name",country:"Country",dateOfBirth:"Date of Birth",address:"Address",personalAccount:"Personal Account",idDocument:"Identification Document",enterIdDocument:"Enter your ID document",residentialAddress:"Residential Address",addressPlaceholder:"Street, number, apartment",city:"City",state:"State",zipCode:"Zip Code",phoneNumber:"Phone Number",emailLabel:"Email",taxResidence:"Tax Residence",patrimony:"Net Worth",reportedPatrimony:"Reported Net Worth (optional)",patrimonyPlaceholder:"Ex: $ 500,000.00",notInformed:"NOT INFORMED",portfolioValue:"Portfolio Value",dailyChange:"Daily Change",profit:"Profit",loss:"Loss",myCards:"My Cards",addCard:"Add Card",manageCards:"Manage Cards",bottomNav:{home:"Home",wallet:"Wallet",convert:"Convert",crypto:"Crypto",profile:"Profile"},cryptoPage:{all:"All",favorites:"Favorites",searchCrypto:"Search cryptocurrency...",addBalance:"Add Balance",enterAmount:"Enter amount",add:"Add",balance:"Balance",noFavorites:"No favorites yet",addFavoritesTip:"Tap the star to add favorites",topGainersToday:"Top Gainers Today",cryptoAddedSuccess:"Crypto added successfully!",errorAddingCrypto:"Error adding crypto",invalidAmount:"Invalid amount",addToPortfolio:"Add to Portfolio",trendingUp:"Trending Cryptos",realTime:"Real Time",price:"Price",change24h:"24h",hideList:"Hide List",seeAllCryptos:"See All Cryptocurrencies",activeAvailable:"asset available",activesAvailable:"assets available",hide:"Hide",expand:"Expand",holdToAddBalance:"Hold 5s to add balance",marketCap:"Market Cap",allCryptosActive:"All cryptos are active!",allCryptosAdded:"You have added all available cryptocurrencies to your portfolio.",viewPortfolio:"View Portfolio",currentBalance:"Current Balance",amountToAdd:"Amount to add",newBalance:"New Balance",cancel:"Cancel",adding:"Adding...",confirmAddPortfolio:"Do you want to add this crypto to your portfolio?",addNow:"Add Now"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Crypto  Crypto",cryptoToFiat:"Crypto  Fiat",fiatToFiat:"Fiat  Fiat",convertAll:"Convert all",exchangeRate:"Exchange Rate",balance:"Balance",conversionFee:"Conversion fee (0.5%)",processing:"Processing",confirmExchange:"Confirm Exchange",converting:"Converting...",conversionHistory:"Conversion History",insufficientBalance:"Insufficient balance",insufficientBalanceWithFee:"Insufficient balance (includes 0.5% fee)",noBalance:"No balance in",conversionCompleted:"Conversion Completed!",anotherConversion:"Do you want to make another conversion?",yesAnother:"Yes, make another",noGoHome:"No, go to Home",conversionSuccess:"Conversion completed successfully!",conversionError:"Error processing conversion",deleteConversion:" Do you want to delete this conversion?",conversionDeleted:" Conversion deleted successfully!",errorDeletingConversion:"Error deleting conversion",noConversions:"No conversions made yet",loadingHistory:"Loading history...",needTwoAccounts:"You need accounts in at least 2 different countries to make currency conversions.",needBankAccount:"You need to open a bank account to convert crypto to fiat currency.",seeHistory:"See History",hideHistory:"Hide History",seconds:"seconds",clickToDelete:"Double-click to delete"},withdrawTransfer:{sendMoney:"Send Money",chooseCountryAndMethod:"Choose your country and transfer method",selectAccount:"Select Account",availableForTransfer:"Available balance for transfer",transferMethods:"Transfer methods",instantTransfer:"Instant transfer",instantNoLimit:"Instant  No transfer limit",bankTransfer:"Bank Transfer",tedOrDoc:"TED or DOC",businessDaysNoLimit:"1-2 business days  No transfer limit",important:"Important",verifyBankData:"Make sure to enter the correct bank details. Transfers to incorrect data cannot be reversed.",transferViaPix:"Transfer via PIX",availableBalance:"Available balance",amountToTransfer:"Amount to transfer",pixKeyRecipient:"Recipient PIX key",pixKeyPlaceholder:"CPF, Email, Phone or Random Key",informPixKey:"Enter the PIX key of who will receive the transfer",fee:"Fee",time:"Time",instant:"Instant",confirmTransfer:"Confirm Transfer",pix:"PIX",businessDays:"1-2 business days",pixKeyInvalidType:"PIX key type not recognized. Use CPF, CNPJ, Email, Phone or Random Key.",userNotAuthenticated:"User not authenticated",minAmount:"Minimum amount",insufficientBalance:"Insufficient balance. Available",informPixKeyError:"Enter PIX key",pixKeyInvalid:"Invalid PIX key",fillBankDetails:"Fill in all bank details",pixTransferTo:"PIX transfer to",errorProcessingPix:"Error processing PIX transfer",transferSentTo:"Transfer sent to",pixKeyNotFound:"PIX key not found in NexCoin system. Only transfers between NexCoin users are supported at the moment.",pixTransfer:"PIX Transfer",tedTransfer:"TED Transfer",transferVia:"Transfer via",errorProcessingTransfer:"Error processing transfer",pixKey:"PIX Key",transferSuccess:"Transfer successful!",min:"Min",max:"Max",processing:"Processing...",amount:"Amount",bank:"Bank",code:"Code",agency:"Agency",account:"Account",checkingAccount:"Checking Account",savingsAccount:"Savings Account",fullName:"Full Name",cpfCnpj:"CPF/CNPJ",checking:"Checking",savings:"Savings",accountHolderName:"Holder Name",address:"Address",beneficiaryName:"Beneficiary Name",processingStatus:"Processing",addAccountHome:"Add an account on Home page",noTransferLimit:"No transfer limit",achTransfer:"ACH Transfer",electronicBankTransfer:"Electronic bank transfer",wireTransfer:"Wire Transfer",domesticWire:"Domestic wire",sepaTransfer:"SEPA Transfer",singleEuroPaymentsArea:"Single Euro Payments Area",sepaInstant:"SEPA Instant",instantSepaTransfer:"Instant SEPA transfer",fasterPayments:"Faster Payments",instantBankTransfer:"Instant bank transfer",bacsTransfer:"BACS Transfer",standardBankTransfer:"Standard bank transfer",bankDetails:"Account Details",removeAccount:"Remove Account"},withdrawCrypto:{title:"Send",searchPlaceholder:"Search compatible cryptocurrencies",availableBalance:"Available balance",selectNetwork:"Select network",fee:"Fee",noCryptosFound:"No cryptocurrencies found",sendCrypto:"Send"},withdrawAddress:{title:"Send",selectedNetwork:"Selected network",walletAddress:"Wallet address",addressPlaceholder:"Paste or scan the wallet address",recipientFound:"Recipient found",sendingTo:"Sending to",invalidAddress:"Invalid address",addressWarning:"Make sure the address is correct. Transactions cannot be reversed.",amount:"Amount",useMax:"Use max",summary:"Transaction summary",quantity:"Quantity",networkFee:"Network fee",total:"Total",attention:"Attention",attentionWarning:"Carefully check the address and network before sending. Only addresses registered in NexCoin are accepted.",mustBeRegistered:"The address must be registered in NexCoin",sentSuccess:"Sent successfully!",transactionProcessed:"Your transaction has been processed",recipient:"Recipient",viewReceipt:"View Receipt",processing:"Processing...",transferSuccess:"Transfer completed successfully!",availableBalance:"Available balance",fee:"Fee"},withdrawReceipt:{title:"Transfer Confirmed!",subtitle:"Transfer receipt",transactionId:"Transaction ID",details:"Transfer details",method:"Method",fee:"Fee",processing:"Processing",date:"Date",recipient:"Recipient",important:"Important",importantNotice:"Keep this receipt for future reference. Processing may take up to",shareReceipt:"Share receipt",backToHome:"Back to Home",copied:"Copied",sharing:"Sharing...",copiedToClipboard:"Copied to clipboard!",shareTextHeader:" NexCoin Transfer Receipt",shareTextFooter:" NexCoin - Your digital crypto bank",amount:"Amount",currency:"Currency",status:"Status",copy:"Copy",to:"To"},paymentScreen:{title:"Analysis Fee",description:"To proceed with your account analysis, a symbolic validation donation is required.",totalToPay:"Total to pay",payButton:"Pay 5.00",processing:"Processing...",securePayment:"Secure payment processed by Stripe. Your data is encrypted.",secureBadge:"100% Secure and Encrypted Payment",configError:"Configuration Error",technicalNote:"Technical Note: If you see CORS/Network error, it is because Stripe blocks secret key usage in browser. You need to configure a backend or Cloud Function.",tryAgain:"Try Again",success:"Payment successful!",updateError:"Payment confirmed, but there was an error updating your profile. Contact support.",initiating:"Initiating secure payment...",pleaseWait:"Please wait a moment."},pendingApproval:{title:"Account Under Review",greeting:"Hello {name}!",description:"Your request to access NexCoin is being reviewed by our security team.",step1Title:"Registration Completed",step1Desc:"Your information was received successfully",step2Title:"Security Analysis",step2Desc:"Verifying your data and validating identity",step3Title:"Final Approval",step3Desc:"You will receive a notification when approved",estimatedTime:"Estimated time:",timeValue:"24 to 48 hours",emailNotice:"You will receive an email at {email} as soon as your account is approved.",securityBadge:"Protected by two-step verification",logoutButton:"Log Out",needHelp:"Need help?",contactUs:"Contact us"},pushSettingsPage:{title:"Push Notifications",keepInformed:"Stay informed",keepInformedDesc:"Customize your notifications to receive only the most important information",sections:{general:"General",transactions:"Transactions",security:"Security",market:"Market"},items:{enablePush:"Enable push notifications",enablePushDesc:"Receive all notifications on your device",allTransactions:"All transactions",allTransactionsDesc:"Notifications for all movements",deposits:"Deposits",depositsDesc:"When you receive funds",withdrawals:"Withdrawals",withdrawalsDesc:"When a withdrawal is processed",securityAlerts:"Security alerts",securityAlertsDesc:"All security notifications",newDevices:"New devices",newDevicesDesc:"Login on a new device",suspiciousActivity:"Suspicious activities",suspiciousActivityDesc:"Unauthorized access attempts",priceAlerts:"Price alerts",priceAlertsDesc:"When your assets reach targets",marketNews:"Market news",marketNewsDesc:"Important market updates"},tipTitle:"Tip:",tipContent:"Some security notifications cannot be disabled to keep your account protected."},landingPage:{products:"Products",company:"Company",help:"Help",openAccount:"Open your account",openAccountNow:"Open your account now",moreThanGlobalTitle:"More than a",moreThanGlobalHighlight:"global cooperative account",heroSubtitle:"Global & Crypto Exchange. The currency of the future. Send, spend, and save smarter. Join thousands who have already transformed their financial life with NexCoin.",yourBalance:"Your Balance",yield:"YIELD",yieldToday:"+ 0.85% today",socialProof:"The App used by thousands of people",elevateSpending:"Elevate your way of spending",cardSubtitle:"Order your NexCoin card and have total control of your spending anywhere in the world.",requestCard:"Request card",highYieldTitle:"Change your life with high-yield accounts",highYieldSubtitle:"Make your money work for you. Competitive rates and daily liquidity for you to enjoy what matters.",exploreYields:"Explore yields",safeHarborTitle:"The safe harbor for your money",safeHarborSubtitle:"We use cutting-edge technology to protect your data and your wealth. With biometric authentication, military-grade encryption, and real-time monitoring, you can have peace of mind.",security:"Security",enterCryptoTitle:"Enter the crypto world",enterCryptoSubtitle:"Buy Bitcoin, Ethereum, and other cryptos with just one touch. Simple, safe, and transparent.",exploreCrypto:"Explore Crypto",joinThousands:"Join thousands already using NexCoin",footerTagline:"Global & Crypto Exchange. The currency of the future. Revolutionizing your financial life with technology, transparency, and security.",footerProduct:"Product",footerCards:"Cards",footerCrypto:"Crypto",footerBalances:"Balances",footerYields:"Yields",footerCompany:"Company",footerAbout:"About us",footerCareers:"Careers",footerBlog:"Blog",footerPress:"Press",footerSupport:"Support",footerHelp:"Help",footerContact:"Contact us",footerSecurity:"Security",footerPrivacy:"Privacy Policy",footerTerms:"Terms of Use",footerAddress:"22 Coin Street, London, England, SE1 9NS",footerPhone:"+44 7892 821669",footerEmail:"Suporte.NexCoin@gmail.com",footerDisclaimer:"NexCoin is a digital financial services platform. Payment services and accounts are provided by authorized and regulated partners. Be sure to read our Terms and Conditions before opening an account. Investing in crypto assets involves significant risks of loss. NexCoin is not a banking financial institution itself, acting as a banking correspondent.  2026 NexCoin. All rights reserved."},downloadApp:{successTitle:"Registration successful! ",successSubtitle:"To access your account and start investing, download the official NexCoin app on your smartphone now.",android:"Android",androidHint:"Point your camera to download via Google Play",downloadApk:"Download APK",ios:"iOS (iPhone)",iosHint:"Point your camera to download via App Store",downloadAppStore:"Download App Store",rightsReserved:" 2026 NexCoin. All rights reserved."},permissions:{locationTitle:"Location Access Required",locationDesc:"For your security and fraud protection, NexCoin requires access to your location. Please enable GPS in your device settings.",cameraTitle:"Camera Access Required",cameraDesc:"NexCoin requires camera access for identity verification (KYC) and account security. Please enable camera permission in settings.",retry:"Try Again",securityNotice:"This requirement ensures the integrity of your transactions and protects your account."}},es:{termsMenuPage:{title:"Trminos y Privacidad",termsOfUse:"Trminos de Uso",termsDesc:"Lee los trminos y condiciones de uso de NexCoin",privacyPolicy:"Poltica de Privacidad",privacyDesc:"Sepa cmo protegemos y usamos sus datos",lastUpdate:"ltima actualizacin: 26 de enero de 2026"},countries:{BR:"Brasil",US:"Estados Unidos",PT:"Portugal",ES:"Espaa",FR:"Francia",DE:"Alemania",IT:"Italia",GB:"Reino Unido",NL:"Pases Bajos",BE:"Blgica",CH:"Suiza",AT:"Austria",CA:"Canad",AU:"Australia",MX:"Mxico",AR:"Argentina",CL:"Chile",CO:"Colombia"},fiatAccounts:{title:"Cuentas",subtitle:"Gestiona tus cuentas bancarias",accounts:"Cuentas",manageBankAccounts:"Gestiona tus cuentas bancarias",accountData:"Datos de la cuenta",accountSettings:"Configuracin de la Cuenta",selectAccount:"Seleccionar cuenta",chooseAccountToTransact:"Elige la cuenta para transaccionar",addNewAccount:"Aadir Nueva Cuenta",addAccount:"Aadir Cuenta",noAccountsFound:"No se encontraron cuentas",addFiatAccount:"Aade una cuenta fiat para comenzar",add:"Aadir",addButton:"Aadir",creating:"Creando...",removeAccount:"Eliminar Cuenta",closeAccount:"Cerrar cuenta",deleteAccount:"Eliminar Cuenta",openingAccount:"Abriendo Cuenta",configuringAccount:"Configurando tu cuenta de {country}",validating:"Validando datos",generating:"Generando nmero de cuenta",security:"Configurando seguridad",finalizing:"Finalizando apertura",completedSteps:"{completed} de {total} etapas completadas",accountExists:"La cuenta ya existe",accountExistsDesc:"Ya tienes una cuenta bancaria de {country}. No es posible crear ms de una cuenta por pas.",accountCreated:"Cuenta creada",accountCreatedDesc:"Cuenta bancaria de {country} creada con xito!",pixKeysCreated:"Claves PIX creadas!",pixKeysCreatedDesc:"Tus claves PIX (email y telfono) se han configurado automticamente.",errorCreatingAccount:"Error al crear la cuenta",errorCreatingAccountDesc:"No se pudo crear la cuenta bancria. Intntalo de nuevo.",error:"Error",accountIdNotFound:"ID de cuenta no encontrado.",closeAccountConfirm:`Ests seguro de que deseas cerrar esta cuenta?

Esta accin no se puede deshacer y perders todos los datos asociados a esta cuenta bancaria.`,accountClosed:"Cuenta cerrada",accountClosedDesc:"La cuenta bancria se ha cerrado con xito.",errorClosingAccount:"Error al cerrar la cuenta",errorClosingAccountDesc:"No se pudo cerrar la cuenta. Intntalo de nuevo.",permissionError:"Error de permiso",permissionErrorDesc:"Verifica si las reglas de Firestore estn configuradas correctamente.",firestoreRulesWarning:" Reglas de Firestore no configuradas",firestoreRulesDesc:"Necesitas actualizar las reglas de Firestore. Consulta la gua para obtener instrucciones detalladas.",institution:"Institucin",bank:"Banco",accountType:"Tipo de Cuenta",accountNumber:"Nmero de cuenta",bankCode:"Cdigo del Banco",institutionCode:"Cdigo de Institucin",iban:"IBAN",swiftBic:"SWIFT/BIC",sortCode:"Sort Code",branchCode:"Cdigo de sucursal",agency:"Agencia",routingNumber:"Nmero de ruta",bsb:"BSB",shareData:"Compartir datos",domesticOnly:"Solo para transferencias nacionales",internationalOnly:"Solo para transferencias internacionales",transferTimeTip:"Normalmente, las transferencias tardan de tres a cinco das hbiles en aparecer en tu cuenta",feeTip:"El banco del remitente o el intermediario pueden cobrar por pagos internacionales",swiftOnlyTip:"Solo aceptamos transferencias SWIFT",noFeeTip:"No cobraremos ninguna tarifa de transferencia por esta cuenta.",pixTip:"Puedes usar los datos de tu cuenta o clave Pix para recibir transferencias las 24 horas, sin complicaciones.",addFunds:"Aadir Fondos",depositMethod:"Mtodo de Depsito",depositAmount:"Monto del Depsito",transferDetails:"Datos para Transferencia",selectPixKey:"Seleccione la Clave PIX",selectKey:"Seleccione una clave",pixKeys:"Claves Pix",pixQrCode:"Cdigo QR PIX",copyPixCode:"Copiar Cdigo PIX",codeCopied:"Cdigo Copiado!",depositHint:"Consejo: Ingrese el monto del depsito arriba para generar el Cdigo QR PIX.",noPixKeys:"Ninguna clave PIX registrada. Registre una clave PIX para usar este mtodo.",simulationWarning:'Simulacin: En produccin, el sistema esperara la confirmacin de la transferencia bancaria. Aqu, el saldo se agregar instantneamente al hacer clic en "Confirmar Depsito".',confirmDeposit:"Confirmar Depsito",depositVia:"Depsito va",depositSuccess:"Depsito realizado con xito!",depositError:"Error al procesar el depsito",recipient:"Destinatario",yourPixKeys:"Tus claves PIX",registeredKeys:"Tus claves registradas",keysAutoCreated:" Tus claves PIX (email y telfono) se crearon automticamente",noKeysFound:"No se encontraron claves PIX",errorCopying:"Error al copiar clave"},cards:{title:"Mis Tarjetas",subtitle:"Gestin inteligente de tarjetas NexCoin",activeLabel:"Activo",blockedLabel:"Bloqueado",cancelledLabel:"Cancelado",processingLabel:"Procesando",virtual:"Tarjeta Virtual",physical:"Tarjeta Fsica",manage:"Gestionar",requestNew:"Solicitar nueva tarjeta",noActiveCards:"No hay tarjetas activas",choosePlan:"Elige uno de los planes NexCoin a continuacin para comenzar.",availablePlans:"Planes Disponibles",free:"Gratis",orderNow:"Pedir ahora",confirmOrder:"Confirmar Pedido",validatingRequest:"Validando solicitud del plan",selectedPlan:"Plan seleccionado",category:"Categora",monthlyFee:"Tarifa mensual",exempt:"EXENTO",confirmAndOrder:"Confirmar y Pedir",processingRequest:"Procesando pedido...",cancel:"Cancelar",details:"Detalles de la Tarjeta",information:"Informacin",cardNumber:"Nmero",expiry:"Vencimiento",modality:"Modalidad",network:"Bandera",unblock:"Desbloquear Tarjeta",blockTemporarily:"Bloquear Temporalmente",blockDesc:"Evite nuevas compras ahora",cancelAndExcl:"Cancelar y Eliminar",irreversible:"Accin irreversible",confirmCancel:"Deseas cancelar?",cancelWarning:"Al confirmar, las funciones de esta tarjeta se desactivarn permanentemente.",back:"Volver",successVirtual:" Tarjeta virtual activada!",successPhysical:" Pedido recibido! Pronto recibirs el seguimiento.",errorRequest:"Error al procesar el pedido. Intntalo de nuevo."},welcome:"Bienvenido",createAccount:"Crear Cuenta",login:"Iniciar Sesin",signUp:"Registro",termsAgreement:"Al registrarte, aceptas nuestros Trminos de Servicio y Poltica de Privacidad.",futureOfFinance:"Future of Finance",dontHaveAccount:"No tienes una cuenta?",alreadyHaveAccount:"Ya tienes una cuenta?",email:"Email",phone:"Telfono",fullName:"Nombre completo",password:"Contrasea",confirmPassword:"Confirmar contrasea",forgotPassword:"Olvidaste tu contrasea?",continue:"Continuar",initialSetup:"Configuracin inicial",countryCurrencySubtitle:"Selecciona tu pas de origen y la moneda preferida para tus transacciones.",choosePin:"Elige tu PIN de acceso",choosePinSubtitle:"Crea un PIN de 6 dgitos para entrar en la aplicacin y autorizar tus transacciones.",confirmPin:"Confirma tu PIN",confirmPinSubtitle:"Introduce de nuevo tu PIN de 6 dgitos para confirmar.",enterPin:"Ingrese su PIN",enterPinSubtitle:"Ingrese su PIN de 6 dgitos para acceder a su cuenta",forgotPin:"Olvid mi PIN",pinsDontMatch:"Los PIN no coinciden. Intntalo de nuevo.",pinSetupSuccess:"PIN configurado correctamente!",portuguese:"Portugus",english:"Ingls",spanish:"Espaol",register:"Registrarse",invalidName:"Nombre invlido",invalidEmail:"Correo electrnico invlido",invalidPhone:"Telfono invlido",phoneNotFound:"Telfono no encontrado",passwordRequirement:"La contrasea debe tener al menos 8 caracteres, 1 mayscula y 1 carcter especial",passwordsDontMatch:"Las contraseas no coinciden",privacyPolicy:"Poltica de Privacidad",or:"o",incorrectPassword:"Contrasea incorrecta",loginError:"Error al iniciar sesin",home:"Inicio",wallet:"Billetera",convert:"Convertir",crypto:"Cripto",profile:"Perfil",totalBalance:"Saldo Total",hideBalance:"Ocultar Saldo",showBalance:"Mostrar Saldo",recentTransactions:"Transacciones Recientes",deposit:"Depositar",withdraw:"Retirar",transfer:"Transferir",noTransactions:"No hay transacciones an",quickActions:"Acciones Rpidas",viewAll:"Ver Todo",statement:"Estado de Cuenta",viewAllTransactions:"Ver Todas las Transacciones",market:"Mercado",myAccounts:"Mis Cuentas",myCryptos:"Mis Criptos",trade:"Negociar",activity:"Actividad",myWallet:"Mi Billetera",assets:"Activos",search:"Buscar",totalAssets:"Total en Activos",cryptoAssets:"Activos en Cripto",fiatBalance:"Saldo en Fiat",manageHoldings:"Gestionar Activos",send:"Enviar",loadingAssets:"Cargando activos...",noAssetsInPortfolio:"No hay activos en el portafolio",startAddingCryptos:"Comienza agregando criptomonedas en la pestaa",goToCrypto:"Ir a Cripto",cryptocurrencies:"Criptomonedas",clickToAddBalance:"Haz doble clic para agregar saldo",removeAsset:"Eliminar Activo",addBalance:"Agregar Saldo",enterValidValue:"Ingresa un valor vlido",balanceAddedSuccess:"Saldo agregado con xito!",errorAddingBalance:"Error al agregar saldo",add:"Agregar",confirmDeletion:"Confirmar Eliminacin",areYouSureDelete:"Ests seguro de que deseas eliminar permanentemente",fromYourPortfolio:"de tu portafolio?",currentBalance:"Saldo actual",valueToAdd:"Valor a agregar",newBalance:"Nuevo saldo",adding:"Agregando...",addCryptosToPortfolio:"Agrega criptomonedas a tu portafolio",toAddMoreCryptos:"Para agregar ms criptomonedas, ve a la",andClickCrypto:"pestaa y haz doble clic en la moneda deseada",inCryptoTab:"En la pestaa Cripto, haz doble clic en cualquier moneda para agregar",selectAssetToDelete:"Selecciona un activo para eliminar",assetRemovedSuccess:"Activo eliminado con xito!",errorRemovingAsset:"Error al eliminar activo",removing:"Eliminando...",remove:"Eliminar",cashAndStablecoins:"Efectivo y Stablecoins",cancel:"Cancelar",brazilianReal:"Real Brasileo (PIX)",usDollar:"Dlar Estadounidense",euro:"Euro",sterling:"Libra Esterlina",stablecoin:"Stablecoin",japaneseYen:"Yen Japons",canadianDollar:"Dlar Canadiense",australianDollar:"Dlar Australiano",swissFranc:"Franco Suizo",chineseYuan:"Yuan Chino",indianRupee:"Rupia India",mexicanPeso:"Peso Mexicano",argentinePeso:"Peso Argentino",convertCrypto:"Convertir Cripto",from:"De",to:"A",amount:"Cantidad",youGet:"Recibes",exchangeRate:"Tasa de Cambio",convertNow:"Convertir ahora",selectCrypto:"Seleccionar cripto",cryptoMarket:"Mercado Cripto",topGainers:"Mayores Subidas",topLosers:"Mayores Cadas",marketCap:"Cap. de Mercado",volume24h:"Volumen 24h",price:"Precio",change24h:"Cambio 24h",myProfile:"Mi Perfil",settings:"Configuracin",security:"Seguridad",notifications:"Notificaciones",language:"Idioma",support:"Soporte",about:"Acerca de",logout:"Salir",account:"Cuenta",personalInfo:"Informacin Personal",accountData:"Datos de la Cuenta",helpCenter:"Centro de Ayuda",termsAndPrivacy:"Trminos y Privacidad",dangerZone:"Zona de Peligro",deleteAccount:"Eliminar Cuenta",help:"Ayuda",privacy:"Privacidad",aboutUs:"Acerca de Nosotros",receiveCrypto:{title:"Recibir",searchPlaceholder:"Buscar criptomoneda...",receiveCryptoTitle:"Recibir {crypto}",selectNetwork:"Seleccione la red",yourAddress:"SU DIRECCIN",copy:"Copiar",new:"Nuevo",generating:"Generando...",copied:"Copiado!",generatingAddress:"Generando direccin...",helpTitle:"Ayuda",attention:"Atencin",attentionDesc:"Enve solo activos compatibles con la red seleccionada. El envo de activos de otras redes puede resultar en la prdida permanente de sus fondos.",uniqueAddress:"Direccin nica",uniqueAddressDesc:"Esta direccin es exclusiva para su cuenta y puede usarse varias veces.",security:"Seguridad",securityDesc:"Siempre confirme la red antes de enviar activos para evitar prdidas irreversibles.",howItWorks:"Cmo funciona",howItWorksDesc:"Comparta esta direccin o cdigo QR con quien le enve criptomonedas.",importantTip:"Consejo importante",importantTipDesc:"Recomendamos hacer una prueba con una cantidad pequea primero.",transactionQuestions:"Dudas sobre transacciones?",helpHere:"Ayuda aqu"},securitySettings:"Configuracin de Seguridad",changePassword:"Cambiar Contrasea",twoFactor:"Autenticacin de Dos Factores",biometric:"Biometra",currentPassword:"Contrasea Actual",newPassword:"Nueva Contrasea",confirmNewPassword:"Confirmar Nueva Contrasea",updatePassword:"Actualizar Contrasea",authentication:"Autenticacin",lastChanged:"ltimo cambio hace 3 meses",addExtraLayer:"Agrega una capa extra de seguridad",securityNotifications:"Notificaciones de Seguridad",emailAlerts:"Alertas por Correo",receiveSuspiciousActivity:"Recibe notificaciones de actividades sospechosas",recentActivity:"Actividad Reciente",viewDevicesAccess:"Ver dispositivos y accesos recientes",connectedDevices:"Dispositivos Conectados",activeDevices:"3 dispositivos activos",activeSessions:"Sesiones Activas",manageSessions:"Gestiona tus sesiones",yourAccountProtected:"Tu cuenta est protegida",keepInfoSecure:"Mantn tu informacin segura",securityTips:"Consejos de Seguridad",useStrongPassword:"Usa una contrasea fuerte y nica",enableTwoFactor:"Activa la autenticacin de dos factores",neverShareCredentials:"Nunca compartas tus credenciales",notificationSettings:"Configuracin de Notificaciones",pushNotifications:"Notificaciones Push",emailNotifications:"Notificaciones por Correo",transactionAlerts:"Alertas de Transaccin",priceAlerts:"Alertas de Precio",newsUpdates:"Actualizaciones de Noticias",notificationsTitle:"Notificaciones",unreadMessages:"{count} no leda{plural}",markAll:"Marcar todas",filterAll:"Todas",filterTransactions:"Transacciones",filterSecurity:"Seguridad",filterUpdates:"Actualizaciones",loadingNotifications:"Espere mientras cargamos sus notificaciones",noNotificationsTitle:"Sin notificaciones",noNotificationsDesc:"No tiene notificaciones en esta categora",pushSettingsButton:"Configuracin de notificaciones push",helpCenterPage:{title:"Centro de Ayuda",howCanWeHelp:"Cmo podemos ayudar?",chooseOption:"Elija la mejor forma de contactar a nuestro equipo de soporte",sendEmail:"Enviar correo",sendEmailDesc:"Enve su duda por correo y reciba respuesta en hasta 24 horas",liveChat:"Chat en vivo",liveChatDesc:"Hable con un agente en tiempo real",availableNow:"Disponible ahora",faq:"Preguntas frecuentes",subject:"Asunto",enterSubject:"Ingrese el asunto",message:"Mensaje",enterMessage:"Describa su duda o problema",send:"Enviar",cancel:"Cancelar",emailSent:"Correo enviado con xito! Nuestro equipo responder pronto.",waitingSupport:"Esperando atencin",youAreInQueue:"Ests en la fila. Pronto un agente estar disponible.",peopleAhead:"personas delante de ti",connectedWithAgent:"Has sido conectado con un agente",agentGreeting:"Hola! Soy el agente Carlos. Cmo puedo ayudarte hoy?",agentResponse:"Entiendo tu pregunta. Voy a verificar eso por ti.",agentName:"Agente Carlos",online:"En lnea",typeMessage:"Escribe tu mensaje...",faqs:{deposit:{q:"Cmo hacer un depsito?",a:'Para hacer un depsito, ve a la pestaa "Billetera", selecciona la criptomoneda deseada y haz clic en "Depositar". Recibirs una direccin nica para enviar tus fondos. Asegrate de usar la red correcta para evitar prdida de fondos.'},withdraw:{q:"Cmo retirar criptomonedas?",a:'En la pestaa "Billetera", selecciona la moneda que deseas retirar y haz clic en "Retirar". Ingresa la direccin de destino, elige la red blockchain y el monto. Confirma la transaccin con tu cdigo de seguridad. El procesamiento puede tardar de unos minutos a horas dependiendo de la red.'},fees:{q:"Tasas de transaccin",a:"Las tasas varan segn la criptomoneda y la red blockchain utilizada. Los depsitos son gratuitos. Para retiros, las tasas son dinmicas y basadas en la congestin de la red. Siempre vers la tasa exacta antes de confirmar cualquier transaccin."},security:{q:"Seguridad de la cuenta",a:"Tu seguridad es nuestra prioridad. Recomendamos activar la autenticacin de dos factores (2FA), usar contrasea fuerte y nica, y nunca compartir tus credenciales. Todas las transacciones requieren confirmacin adicional y tus fondos estn protegidos con cifrado de nivel bancario."}}},termsAndConditionsPage:{title:"Trminos de Uso",lastUpdate:"ltima actualizacin: 26 de enero de 2026",sections:{1:{title:"1. Aceptacin de los Trminos",content:"Al acceder y usar NexCoin, aceptas cumplir con estos Trminos de Uso. Si no ests de acuerdo con cualquier parte de estos trminos, no deberas usar nuestros servicios."},2:{title:"2. Elegibilidad",content:"Debes tener al menos 18 aos para usar NexCoin. Al crear una cuenta, declaras y garantizas que tienes capacidad legal para celebrar este contrato."},3:{title:"3. Cuenta y Seguridad",content:[" Eres responsable de mantener la confidencialidad de tus credenciales de inicio de sesin"," Debes notificar inmediatamente sobre cualquier uso no autorizado de tu cuenta"," NexCoin no ser responsable por prdidas derivadas del uso no autorizado de tu cuenta"]},4:{title:"4. Seguridad y Permisos Obligatorios",content:"Para garantizar la seguridad de tus transacciones y prevenir fraudes, el uso de GPS (geolocalizacin) y CMARA es OBLIGATORIO en la plataforma NexCoin.",items:[" El acceso a los servicios ser bloqueado si se deniegan o desactivan los permisos de ubicacin o cmara"," La cmara se utiliza exclusivamente para verificacin de identidad (KYC), prueba de vida y autenticacin de seguridad"," El GPS se utiliza para monitoreo de seguridad constante, incluyendo seguimiento en segundo plano para prevencin contra accesos no autorizados y proteccin de activos"," El uso de notificaciones se recomienda para el monitoreo en tiempo real de todos los movimientos financieros de tu cuenta"]},5:{title:"5. Uso de la Plataforma",items:["Uso Permitido: NexCoin es una plataforma para comercio de criptomonedas. Aceptas usar la plataforma solo para fines legales.","Uso Prohibido: Est prohibido usar la plataforma para lavado de dinero, financiamiento del terrorismo, fraude o cualquier actividad ilegal."]},6:{title:"6. Transacciones y Tasas",content:"Todas las transacciones realizadas a travs de NexCoin estn sujetas a tasas de red. Las tasas se muestran claramente antes de la confirmacin de cualquier transaccin. Una vez confirmada, la transaccin es irreversible."},7:{title:"7. Riesgos de Criptomonedas",content:"Reconoces que el mercado de criptomonedas es voltil y que el valor de tus activos puede fluctuar significativamente. NexCoin no garantiza ganancias y eres responsable de tus decisiones de inversin."},8:{title:"8. Limitacin de Responsabilidad",content:"NexCoin no ser responsable por prdidas directas, indirectas, incidentales o consecuentes resultantes del uso o incapacidad de usar nuestros servicios, incluyendo prdida de fondos, datos o ganancias."},9:{title:"9. Suspensin y Terminacin",content:"Nos reservamos el derecho de suspender o terminar tu cuenta en cualquier momento, sin previo aviso, si creemos que has violado estos trminos o te has involucrado en actividades fraudulentas."},10:{title:"10. Modificaciones de los Trminos",content:"Podemos modificar estos trminos en cualquier momento. Te notificaremos sobre cambios significativos a travs de la aplicacin o correo electrnico. El uso continuado de la plataforma despus de las modificaciones constituye aceptacin de los nuevos trminos."},11:{title:"11. Ley Aplicable",content:"Estos trminos se rigen por las leyes aplicables en tu jurisdiccin. Cualquier disputa ser resuelta en los tribunales competentes."},12:{title:"12. Contacto",content:"Si tienes dudas sobre estos Trminos de Uso, contctanos a travs del Centro de Ayuda."}},agreement:"Al usar NexCoin, aceptas estos Trminos de Uso"},privacyPolicyPage:{title:"Poltica de Privacidad",lastUpdate:"ltima actualizacin: 26 de enero de 2026",sections:{1:{title:"1. Introduccin",content:"NexCoin valora tu privacidad. Esta Poltica de Privacidad describe cmo recopilamos, usamos, almacenamos y protegemos tu informacin personal cuando usas nuestros servicios."},2:{title:"2. Informacin que Recopilamos",items:[{title:"2.1 Informacin de Registro:",content:" Nombre completo, correo electrnico, nmero de telfono, pas de residencia"},{title:"2.2 Informacin de Transaccin:",content:" Historial de transacciones, direcciones de billeteras, montos negociados"},{title:"2.3 Informacin Tcnica:",content:" Direccin IP, tipo de dispositivo, sistema operativo, registros de acceso"},{title:"2.4 Informacin de Geolocalizacin (GPS):",content:" Ubicacin precisa del dispositivo, utilizada obligatoriamente para fines de seguridad, prevencin de fraudes y cumplimiento normativo."},{title:"2.5 Informacin de Verificacin:",content:" Documentos de identificacin y datos biomtricos para cumplimiento KYC (Conozca a su Cliente)"},{title:"2.6 Informacin de Cmara:",content:" Acceso a la cmara del dispositivo, utilizado obligatoriamente para captura de documentos y reconocimiento facial (KYC) para fines de seguridad y prevencin de fraudes."},{title:"2.7 Notificaciones y Alertas:",content:" Recopilacin de tokens de dispositivo para envo de notificaciones push sobre depsitos recibidos, seguridad de la cuenta y alertas importantes del sistema."}]},3:{title:"3. Cmo Usamos tu Informacin",content:[" Proporcionar y mejorar nuestros servicios de comercio de criptomonedas"," Procesar transacciones y garantizar la seguridad de tu cuenta"," Cumplir requisitos legales y regulatorios (AML/KYC)"," Comunicar sobre actualizaciones, mantenimientos y cuestiones de seguridad"," Prevenir fraudes y actividades sospechosas a travs del monitoreo de ubicacin y patrones de acceso"," Personalizar tu experiencia en la aplicacin"]},4:{title:"4. Compartir Informacin",intro:"No vendemos tu informacin personal. Podemos compartir tus datos solo en las siguientes situaciones:",content:[" Con proveedores de servicios externos esenciales para la operacin de la plataforma"," Cuando sea requerido por ley, orden judicial o autoridades reguladoras"," Para proteger nuestros derechos legales y prevenir fraudes"," Con tu consentimiento explcito"]},5:{title:"5. Seguridad de los Datos",intro:"Implementamos medidas de seguridad robustas para proteger tu informacin:",content:[" Cifrado de extremo a extremo para datos sensibles"," Autenticacin de dos factores (2FA)"," Almacenamiento seguro en servidores con certificacin de seguridad"," Monitoreo continuo contra accesos no autorizados"," Auditoras de seguridad regulares"]},6:{title:"6. Retencin de Datos",content:"Mantenemos tu informacin personal por el tiempo necesario para proporcionar nuestros servicios y cumplir obligaciones legales. Los datos de transacciones se mantienen segn lo requerido por regulaciones financieras."},7:{title:"7. Tus Derechos",intro:"Tienes los siguientes derechos en relacin con tu informacin personal:",content:[" Acceder y revisar tu informacin personal"," Solicitar correccin de datos incorrectos"," Solicitar eliminacin de datos (sujeto a obligaciones legales)"," Optar por no recibir comunicaciones de marketing"," Portabilidad de datos"]},8:{title:"8. Cookies y Rastreo",content:"Usamos cookies y tecnologas similares para mejorar tu experiencia, analizar el uso de la plataforma y personalizar contenido. Puedes gestionar tus preferencias de cookies en la configuracin de la aplicacin."},9:{title:"9. Transferencias Internacionales",content:"Tus datos pueden ser transferidos y procesados en pases diferentes de tu pas de residencia. Garantizamos que todas las transferencias cumplan con las leyes de proteccin de datos aplicables."},10:{title:"10. Menores de Edad",content:"Nuestros servicios no estn destinados a menores de 18 aos. No recopilamos intencionalmente informacin de menores. Si crees que hemos recopilado datos de un menor, contctanos inmediatamente."},11:{title:"11. Cambios en la Poltica",content:"Podemos actualizar esta Poltica de Privacidad peridicamente. Te notificaremos sobre cambios significativos a travs de la aplicacin o correo electrnico. Recomendamos revisar esta poltica regularmente."},12:{title:"12. Contacto",content:"Si tienes dudas sobre esta Poltica de Privacidad o sobre cmo tratamos tus datos, contctanos a travs del Centro de Ayuda o enva un correo a Suporte.NexCoin@gmail.com."}},agreement:"Al usar NexCoin, aceptas esta Poltica de Privacidad"},languageSettings:"Configuracin de Idioma",selectLanguage:"Selecciona tu idioma",languageUpdated:"Idioma actualizado con xito!",selectYourLanguage:"Selecciona tu idioma",languageDescription:"Elige tu idioma preferido para la aplicacin",sent:"Enviado",received:"Recibido",pending:"Pendiente",completed:"Completado",failed:"Fallido",transactions:"Transacciones",allTransactions:"Todas las Transacciones",transactionsPage:{title:"Transacciones",search:"Buscar",today:"Hoy",yesterday:"Ayer",noTransactions:"Sin transacciones",noTransactionsDesc:"Tus transacciones aparecern aqu",noResults:"Sin resultados",noResultsDesc:"Intenta ajustar la bsqueda",fee:"Comisin",types:{sendCrypto:"Envo de",receiveCrypto:"Recepcin de",sent:"Enviado",received:"Recibido",pixSent:"PIX enviado",pixReceived:"PIX recibido",conversion:"Conversin",deposit:"Depsito",withdrawal:"Transferencia",buy:"Compra de",sell:"Venta de"},status:{completed:"Completado",pending:"Pendiente",processing:"Procesando",failed:"Fallido"}},statsPage:{title:"Estadsticas",portfolioAnalysis:"Anlisis del Portafolio",totalBalance:"Saldo Total",totalAssets:"Total de Activos",largestAsset:"Mayor Activo",assetDistribution:"Distribucin de Activos",ofPortfolio:"del portafolio",portfolioHistory:"Historial del Portafolio",lastUpdates:"ltimas {count} actualizaciones",updatesEvery5Min:"Actualiza cada 5min"},copied:"Copiado!",copiedToClipboard:"Copiado al portapapeles",enterValidAmount:"Ingrese un monto vlido",transferMethod:"Transferencia",confirm:"Confirmar",save:"Guardar",edit:"Editar",back:"Volver",next:"Siguiente",done:"Hecho",loading:"Cargando...",error:"Error",success:"xito",close:"Cerrar",options:"Opciones",welcomeBack:"Bienvenido de nuevo",goodMorning:"Buenos das",goodAfternoon:"Buenas tardes",goodEvening:"Buenas noches",depositFunds:"Depositar Fondos",withdrawFunds:"Retirar Fondos",selectAmount:"Seleccionar Cantidad",enterAmount:"Ingresar Cantidad",minimum:"Mnimo",maximum:"Mximo",available:"Disponible",receive:"Recibir",name:"Nombre",country:"Pas",dateOfBirth:"Fecha de Nacimiento",address:"Direccin",personalAccount:"Cuenta Personal",idDocument:"Documento de Identificacin",enterIdDocument:"Ingrese su documento de identidad",residentialAddress:"Direccin Residencial",addressPlaceholder:"Calle, nmero, apartamento",city:"Ciudad",state:"Estado",zipCode:"Cdigo Postal",phoneNumber:"Nmero de Telfono",emailLabel:"Correo Electrnico",taxResidence:"Domicilio Fiscal",patrimony:"Patrimonio",reportedPatrimony:"Patrimonio Informado (opcional)",patrimonyPlaceholder:"Ej: $ 500.000,00",notInformed:"NO INFORMADO",portfolioValue:"Valor del Portafolio",dailyChange:"Cambio Diario",profit:"Ganancia",loss:"Prdida",myCards:"Mis Tarjetas",addCard:"Agregar Tarjeta",manageCards:"Gestionar Tarjetas",bottomNav:{home:"Inicio",wallet:"Billetera",convert:"Convertir",crypto:"Cripto",profile:"Perfil"},cryptoPage:{all:"Todos",favorites:"Favoritos",searchCrypto:"Buscar criptomoneda...",addBalance:"Agregar Saldo",enterAmount:"Ingresar cantidad",add:"Agregar",balance:"Saldo",noFavorites:"An no hay favoritos",addFavoritesTip:"Toca la estrella para agregar favoritos",topGainersToday:"Mayores Subidas Hoy",cryptoAddedSuccess:"Cripto agregada con xito!",errorAddingCrypto:"Error al agregar cripto",invalidAmount:"Cantidad invlida",addToPortfolio:"Aadir al Portafolio",trendingUp:"Cripto en Alza",realTime:"Tiempo Real",price:"Precio",change24h:"24h",hideList:"Ocultar Lista",seeAllCryptos:"Ver Todas las Criptomonedas",activeAvailable:"activo disponible",activesAvailable:"activos disponibles",hide:"Ocultar",expand:"Expandir",holdToAddBalance:"Mantn presionado 5s para aadir saldo",marketCap:"Cap. de Mercado",allCryptosActive:"Todas las criptos estn activas!",allCryptosAdded:"Ya has aadido todas las criptomonedas disponibles a tu cartera.",viewPortfolio:"Ver Portafolio",currentBalance:"Saldo actual",amountToAdd:"Cantidad a aadir",newBalance:"Nuevo saldo",cancel:"Cancelar",adding:"Aadiendo...",confirmAddPortfolio:"Deseas aadir esta cripto a tu cartera?",addNow:"Aadir Ahora"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Cripto  Cripto",cryptoToFiat:"Cripto  Fiat",fiatToFiat:"Fiat  Fiat",convertAll:"Convertir todo",exchangeRate:"Tasa de Cambio",balance:"Saldo",conversionFee:"Tarifa de conversin (0.5%)",processing:"Procesamiento",confirmExchange:"Confirmar Exchange",converting:"Convirtiendo...",conversionHistory:"Historial de Conversiones",insufficientBalance:"Saldo insuficiente",insufficientBalanceWithFee:"Saldo insuficiente (incluye tarifa 0,5%)",noBalance:"Sin saldo en",conversionCompleted:"Conversin Completada!",anotherConversion:"Deseas hacer otra conversin?",yesAnother:"S, hacer otra",noGoHome:"No, volver al Inicio",conversionSuccess:"Conversin realizada con xito!",conversionError:"Error al procesar conversin",deleteConversion:" Deseas eliminar esta conversin?",conversionDeleted:" Conversin eliminada con xito!",errorDeletingConversion:"Error al eliminar conversin",noConversions:"An no se han realizado conversiones",loadingHistory:"Cargando historial...",needTwoAccounts:"Necesitas cuentas en al menos 2 pases diferentes para hacer conversiones de moneda.",needBankAccount:"Necesitas abrir una cuenta bancaria para convertir cripto en moneda fiat.",seconds:"segundos",clickToDelete:"Haz doble clic para eliminar",seeHistory:"Ver Historial",hideHistory:"Ocultar Historial"},withdrawTransfer:{sendMoney:"Enviar Dinero",chooseCountryAndMethod:"Elige tu pas y mtodo de transferencia",selectAccount:"Seleccionar Cuenta",availableForTransfer:"Saldo disponible para transferencia",transferMethods:"Mtodos de transferencia",instantTransfer:"Transferencia instantnea",instantNoLimit:"Instantneo  Sin lmite de transferencia",bankTransfer:"Transferencia Bancaria",tedOrDoc:"TED o DOC",businessDaysNoLimit:"1-2 das hbiles  Sin lmite de transferencia",important:"Importante",verifyBankData:"Asegrate de ingresar los datos bancarios correctos. Las transferencias a datos incorrectos no se pueden revertir.",transferViaPix:"Transferir va PIX",availableBalance:"Saldo disponible",amountToTransfer:"Cantidad a transferir",pixKeyRecipient:"Clave PIX del destinatario",pixKeyPlaceholder:"CPF, Email, Telfono o Clave Aleatoria",informPixKey:"Ingresa la clave PIX de quien recibir la transferencia",fee:"Comisin",time:"Tiempo",instant:"Instantneo",confirmTransfer:"Confirmar Transferencia",pix:"PIX",businessDays:"1-2 das hbiles",pixKeyInvalidType:"Tipo de clave PIX no reconocido. Use CPF, CNPJ, Email, Telfono o Clave Aleatoria.",userNotAuthenticated:"Usuario no autenticado",minAmount:"Monto mnimo",insufficientBalance:"Saldo insuficiente. Disponible",informPixKeyError:"Informe la clave PIX",pixKeyInvalid:"Clave PIX invlida",fillBankDetails:"Complete todos los datos bancarios",pixTransferTo:"Transferencia PIX para",errorProcessingPix:"Error al procesar transferencia PIX",transferSentTo:"Transferencia enviada a",pixKeyNotFound:"Clave PIX no encontrada en el sistema NexCoin. Solo se soportan transferencias entre usuarios NexCoin por el momento.",pixTransfer:"Transferencia PIX",tedTransfer:"Transferencia TED",transferVia:"Transferencia va",errorProcessingTransfer:"Error al procesar transferencia",pixKey:"Clave PIX",transferSuccess:"Transferencia realizada con xito!",min:"Mn",max:"Mx",processing:"Procesando...",amount:"Monto",bank:"Banco",code:"Cdigo",agency:"Agencia",account:"Cuenta",checkingAccount:"Cuenta Corriente",savingsAccount:"Cuenta de Ahorros",fullName:"Nombre completo",cpfCnpj:"CPF/CNPJ",checking:"Corriente",savings:"Ahorros",accountHolderName:"Nombre del titular",address:"Direccin",beneficiaryName:"Nombre del beneficiario",processingStatus:"Procesando",addAccountHome:"Agregue una cuenta en la pgina de Inicio",noTransferLimit:"Sin lmite de transferencia",achTransfer:"Transferencia ACH",electronicBankTransfer:"Transferencia bancaria electrnica",wireTransfer:"Transferencia Wire",domesticWire:"Wire domstico",sepaTransfer:"Transferencia SEPA",singleEuroPaymentsArea:"Zona nica de Pagos en Euros",sepaInstant:"SEPA Instantneo",instantSepaTransfer:"Transferencia SEPA instantnea",fasterPayments:"Pagos Rpidos",instantBankTransfer:"Transferencia bancaria instantnea",bacsTransfer:"Transferencia BACS",standardBankTransfer:"Transferencia bancaria estndar",bankDetails:"Detalles de la Cuenta",removeAccount:"Eliminar Cuenta"},withdrawCrypto:{title:"Enviar",searchPlaceholder:"Buscar criptomonedas compatibles",availableBalance:"Saldo disponible",selectNetwork:"Seleccione la red",fee:"Comisin",noCryptosFound:"No se encontraron criptomonedas",sendCrypto:"Enviar"},withdrawAddress:{title:"Enviar",selectedNetwork:"Rede seleccionada",walletAddress:"Direccin de la billetera",addressPlaceholder:"Pega o escanea la direccin de la billetera",recipientFound:"Destinatario encontrado",sendingTo:"Enviando a",invalidAddress:"Direccin invlida",addressWarning:"Asegrate de que la direccin sea correcta. Las transacciones no se pueden revertir.",amount:"Cantidad",useMax:"Usar mximo",summary:"Resumen de la transaccin",quantity:"Cantidad",networkFee:"Comisin de red",total:"Total",attention:"Atencin",attentionWarning:"Verifique cuidadosamente la direccin y la red antes de enviar. Solo se aceptan direcciones registradas en NexCoin.",mustBeRegistered:"La direccin debe estar registrada en NexCoin",sentSuccess:"Enviado con xito!",transactionProcessed:"Su transaccin ha sido procesada",recipient:"Destinatario",viewReceipt:"Ver Comprobante",processing:"Procesando...",transferSuccess:"Transferencia realizada con xito!",availableBalance:"Saldo disponible",fee:"Comisin"},withdrawReceipt:{title:"Transferencia Confirmada!",subtitle:"Comprobante de transferencia",transactionId:"ID de la transaccin",details:"Detalles de la transferencia",method:"Mtodo",fee:"Comisin",processing:"Procesamiento",date:"Fecha",recipient:"Destinatario",important:"Importante",importantNotice:"Guarde este comprobante para referencia futura. El procesamiento puede tardar hasta",shareReceipt:"Compartir comprobante",backToHome:"Volver al Inicio",copied:"Copiado",sharing:"Compartiendo...",copiedToClipboard:"Copiado al portapapeles!",shareTextHeader:" Comprobante de Transferencia NexCoin",shareTextFooter:" NexCoin - Su banco digital de criptomonedas",amount:"Monto",currency:"Moneda",status:"Estado",copy:"Copiar",to:"Para"},paymentScreen:{title:"Tarifa de Anlisis",description:"Para continuar con el anlisis de su cuenta, es necesario realizar una donacin simblica de validacin.",totalToPay:"Total a pagar",payButton:"Pagar 5.00",processing:"Procesando...",securePayment:"Pago seguro procesado por Stripe. Sus datos estn encriptados.",secureBadge:"Pago 100% seguro y encriptado",configError:"Error de Configuracin",technicalNote:"Nota Tcnica: Si ve error de CORS/Network, es porque Stripe bloquea el uso de la clave secreta en el navegador. Necesita configurar un backend o Cloud Function.",tryAgain:"Intentar de Nuevo",success:"Pago exitoso!",updateError:"Pago confirmado, pero hubo un error al actualizar su perfil. Contacte al soporte.",initiating:"Iniciando pago seguro...",pleaseWait:"Por favor espere un momento."},pendingApproval:{title:"Cuenta en Anlisis",greeting:"Hola {name}!",description:"Su solicitud de acceso a NexCoin est siendo analizada por nuestro equipo de seguridad.",step1Title:"Registro Realizado",step1Desc:"Su informacin fue recibida con xito",step2Title:"Anlisis de Seguridad",step2Desc:"Verificando sus datos y validando identidad",step3Title:"Aprobacin Final",step3Desc:"Recibir una notificacin cuando sea aprobado",estimatedTime:"Tiempo estimado:",timeValue:"24 a 48 horas",emailNotice:"Recibir un correo electrnico en {email} tan pronto como su cuenta sea aprobada.",securityBadge:"Protegido por verificacin en dos pasos",logoutButton:"Cerrar Sesin",needHelp:"Necesita ayuda?",contactUs:"Contctenos"},pushSettingsPage:{title:"Notificaciones push",keepInformed:"Mantente informado",keepInformedDesc:"Personaliza tus notificaciones para recibir solo la informacin ms importante",sections:{general:"General",transactions:"Transacciones",security:"Seguridad",market:"Mercado"},items:{enablePush:"Activar notificaciones push",enablePushDesc:"Recibir todas las notificaciones en el dispositivo",allTransactions:"Todas las transacciones",allTransactionsDesc:"Notificaciones de todos los movimientos",deposits:"Depsitos",depositsDesc:"Cuando recibas fondos",withdrawals:"Retiros",withdrawalsDesc:"Cuando se procese un retiro",securityAlerts:"Alertas de seguridad",securityAlertsDesc:"Todas las notificaciones de seguridad",newDevices:"Nuevos dispositivos",newDevicesDesc:"Inicio de sesin en un nuevo dispositivo",suspiciousActivity:"Actividades sospechosas",suspiciousActivityDesc:"Intentos de acceso no autorizados",priceAlerts:"Alertas de precio",priceAlertsDesc:"Cuando tus activos alcancen metas",marketNews:"Noticias del mercado",marketNewsDesc:"Actualizaciones importantes del mercado"},tipTitle:"Consejo:",tipContent:"Algunas notificaciones de seguridad no se pueden desactivar para mantener tu cuenta protegida."},landingPage:{products:"Productos",company:"Empresa",help:"Ayuda",openAccount:"Abre tu cuenta",openAccountNow:"Abre tu cuenta ahora",moreThanGlobalTitle:"Ms que una cuenta",moreThanGlobalHighlight:"cooperativa global",heroSubtitle:"Global & Crypto Exchange. La moneda del futuro. Enva, gasta y ahorra con ms inteligencia. nete a miles que ya han transformado su vida financiera con NexCoin.",yourBalance:"Tu Saldo",yield:"RENDIMIENTO",yieldToday:"+ 0,85% hoy",socialProof:"La App usada por miles de personas",elevateSpending:"Eleva tu forma de gastar",cardSubtitle:"Pide tu tarjeta NexCoin y ten control total de tus gastos en cualquier lugar del mundo.",requestCard:"Solicitar tarjeta",highYieldTitle:"Cambia tu vida con las cuentas remuneradas",highYieldSubtitle:"Haz que tu dinero trabaje para ti. Tasas competitivas y liquidez diaria para que disfrutes de lo que importa.",exploreYields:"Explorar rendimientos",safeHarborTitle:"El puerto seguro de tu dinero",safeHarborSubtitle:"Utilizamos tecnologa de punta para proteger tus datos y tu patrimonio. Con autenticacin biomtrica, criptografa de grado militar y monitoreo en tiempo real, puedes estar tranquilo.",security:"Seguridad",enterCryptoTitle:"Entra en el mundo cripto",enterCryptoSubtitle:"Compra Bitcoin, Ethereum y otras criptos con un solo toque. Simple, seguro y transparente.",exploreCrypto:"Explorar Cripto",joinThousands:"nete a miles que ya usan NexCoin",footerTagline:"Global & Crypto Exchange. La moneda del futuro. Revolucionando tu vida financiera con tecnologa, transparencia y seguridad.",footerProduct:"Producto",footerCards:"Tarjetas",footerCrypto:"Cripto",footerBalances:"Saldos",footerYields:"Rendimientos",footerCompany:"Empresa",footerAbout:"Sobre nosotros",footerCareers:"Carreras",footerBlog:"Blog",footerPress:"Prensa",footerSupport:"Soporte",footerHelp:"Ayuda",footerContact:"Contctanos",footerSecurity:"Seguridad",footerPrivacy:"Poltica de Privacidad",footerTerms:"Trminos de Uso",footerAddress:"22 Coin Street, London, Inglaterra, SE1 9NS",footerPhone:"+44 7892 821669",footerEmail:"Suporte.NexCoin@gmail.com",footerDisclaimer:"NexCoin es una plataforma de servicios financieros digitales. Los servicios de pago y las cuentas son proporcionados por socios autorizados y regulados. Asegrese de leer nuestros Trminos y condiciones antes de abrir una cuenta. La inversin en criptoactivos implica riesgos significativos de prdida. NexCoin no es una institucin financiera bancaria propia, sino que acta como corresponsal bancario.  2026 NexCoin. Reservados todos los derechos."},downloadApp:{successTitle:"Registro realizado con xito! ",successSubtitle:"Para acceder a tu cuenta y empezar a invertir, descarga ahora la aplicacin oficial de NexCoin en tu smartphone.",android:"Android",androidHint:"Apunta la cmara para descargar por Google Play",downloadApk:"Download APK",ios:"iOS (iPhone)",iosHint:"Apunta la cmara para descargar por App Store",downloadAppStore:"Download App Store",rightsReserved:" 2026 NexCoin. Todos los derechos reservados."},permissions:{locationTitle:"Acceso a la Ubicacin Obligatorio",locationDesc:"Para su seguridad y proteccin contra fraudes, NexCoin requiere acceso a su ubicacin. Por favor, habilite el GPS en la configuracin de su dispositivo.",cameraTitle:"Acceso a la Cmara Obligatorio",cameraDesc:"NexCoin requiere acceso a la cmara para la verificacin de identidad (KYC) y la seguridad de su cuenta. Por favor, habilite el permiso de cmara en la configuracin.",retry:"Intentar de Nuevo",securityNotice:"Este requisito garantiza la integridad de sus transacciones y protege su cuenta."}}},Tl=()=>{try{const t=navigator.language.toLowerCase();return t.startsWith("pt")?"pt":t.startsWith("es")?"es":"en"}catch(t){return console.error("Erro ao detectar idioma do navegador:",t),"pt"}},VD=Tl(),rie={language:VD,setLanguage:async()=>{},t:HE[VD]},mU=N.createContext(rie);function iie({children:t}){const[e,n]=N.useState(Tl());N.useEffect(()=>{try{const s=bn.onAuthStateChanged(a=>{if(a&&a.uid){const l=et(we,"users",a.uid),c=ei(l,d=>{try{if(d.exists()){const f=d.data();f?.language&&["pt","en","es"].includes(f.language)?n(f.language):n(Tl())}else n(Tl())}catch(f){console.error("Erro ao processar dados do usurio:",f),n(Tl())}},d=>{d.code!=="permission-denied"&&console.error("Erro ao escutar idioma do usurio:",d),n(Tl())});return()=>c()}else n(Tl())});return()=>s()}catch(s){console.error("Erro ao configurar listener de autenticao:",s),n(Tl())}},[]);const i={language:e,setLanguage:async s=>{try{if(!["pt","en","es"].includes(s)){console.error("Idioma invlido:",s);return}n(s);const a=bn.currentUser;if(a)try{const l=et(we,"users",a.uid);await wi(l,{language:s}),console.log(" Idioma salvo no Firestore:",s)}catch(l){console.error("Erro ao salvar idioma no Firestore:",l)}}catch(a){console.error("Erro ao definir idioma:",a)}},t:HE[e]||HE.pt};return o.jsx(mU.Provider,{value:i,children:t})}function In(){return N.useContext(mU)}const pU=N.createContext({phoneNumber:"",setPhoneNumber:()=>{}});function gU(){return N.useContext(pU)}function sie({children:t}){const[e,n]=N.useState(""),r={phoneNumber:e,setPhoneNumber:n};return o.jsx(pU.Provider,{value:r,children:t})}async function yU(t,e,n,r,i,s){try{if(console.log(" Salvando ativo no portfolio:",{userId:t,symbol:e,coinId:n,amount:r,name:i,valueUsd:s}),!t){console.warn(" userId vazio, cancelando salvamento");return}const a=et(we,"users",t,"portfolio",e);await Rn(a,{symbol:e,coinId:n,amount:r,name:i||e,valueUsd:s||0,updatedAt:new Date},{merge:!0}),console.log(" Ativo salvo no portfolio com sucesso!")}catch(a){throw console.error(" Erro ao salvar ativo no portfolio:",a),a instanceof Error&&(console.error(" Mensagem:",a.message),console.error(" Stack:",a.stack)),a}}async function aie(t,e){try{console.log(" Removendo ativo do portfolio:",e);const n=et(we,"users",t,"portfolio",e);await sc(n),console.log(" Ativo removido do portfolio com sucesso!")}catch(n){throw console.error(" Erro ao remover ativo do portfolio:",n),n}}async function oie(t,e,n,r,i,s){for(let c=1;c<=3;c++)try{console.log(` Atualizando saldo (tentativa ${c}/3):`,{symbol:e,deltaAmount:r});const d=et(we,"users",t,"portfolio",e),f=await Wi(d);if(f.exists()){const p=(f.data().amount||0)+r;if(p<=0)await sc(d),console.log(" Ativo removido (saldo zerado)");else{const y=s?p*s:0;await wi(d,{amount:p,valueUsd:y,updatedAt:new Date}),console.log(" Saldo atualizado:",p,"valueUsd:",y)}}else if(r>0){const m=s?r*s:0;await yU(t,e,n,r,i,m),console.log(" Novo ativo criado com saldo:",r)}return}catch(d){if(console.error(` Erro ao atualizar saldo (tentativa ${c}/3):`,d),c===3)throw d;await new Promise(f=>setTimeout(f,500*c))}}async function lie(t){console.log(" initializeUserPortfolio no  necessrio com a nova estrutura de coleo")}async function cie(t,e){try{if(!t){console.warn(" userId vazio, cancelando sincronizao");return}if(!e||Object.keys(e).length===0){console.warn(" Preos vazios, cancelando sincronizao");return}console.log(" Sincronizando valores do portfolio com preos atuais...");const n=it(we,"users",t,"portfolio"),r=await Ot(n);if(r.empty){console.log(" Nenhum ativo encontrado para sincronizar");return}const i=r.docs.map(async s=>{try{const a=s.data(),{coinId:l,amount:c,symbol:d}=a;if(!l||c===void 0){console.warn(` Dados invlidos para ativo ${s.id}:`,{symbol:a.symbol||"N/A",coinId:l||"AUSENTE",amount:c!==void 0?c:"AUSENTE"}),console.warn(" Este documento ser removido no prximo login");return}const f=e[l];if(!f||!f.usd){console.warn(` Preo no encontrado para ${l} (${d||s.id})`);return}const m=c*f.usd,p=et(we,"users",t,"portfolio",s.id);await wi(p,{valueUsd:m,updatedAt:new Date}),console.log(` Ativo ${s.id} atualizado: ${c} x $${f.usd.toFixed(2)} = $${m.toFixed(2)}`)}catch(a){console.error(` Erro ao atualizar ativo ${s.id}:`,a)}});await Promise.all(i),console.log(" Sincronizao de valores concluda!")}catch(n){console.error(" Erro ao sincronizar valores do portfolio:",n)}}async function uie(t){try{console.log(" Iniciando migrao de wallets para portfolio..."),console.log(" userId:",t);const e=it(we,"users",t,"wallets"),n=await Ot(e);if(n.empty){console.log(" Nenhuma wallet encontrada para migrar");return}console.log(` Total de wallets encontradas: ${n.size}`);let r=0,i=0;for(const s of n.docs)try{const a=s.data();if(console.log(` Verificando wallet: ${s.id}`,a),!a.symbol||!a.coinId||a.amount===void 0){console.warn(` Wallet ${s.id} possui dados invlidos, pulando...`,{symbol:a.symbol,coinId:a.coinId,amount:a.amount}),i++;continue}const l=et(we,"users",t,"portfolio",s.id);await Rn(l,{symbol:a.symbol,coinId:a.coinId,amount:a.amount,name:a.name||a.symbol,valueUsd:a.valueUsd||0,createdAt:a.createdAt||new Date,updatedAt:new Date},{merge:!1}),console.log(` Wallet ${s.id} migrada para portfolio`),r++}catch(a){console.error(` Erro ao migrar wallet ${s.id}:`,a),i++}console.log(" Migrao concluda!"),console.log(` Resumo: ${r} migradas, ${i} erros`)}catch(e){throw console.error(" Erro na migrao:",e),e}}async function die(t){try{const e=it(we,"users",t,"wallets"),n=await Ot(e),r=!n.empty;return r&&console.log(` Usurio ${t} possui ${n.size} wallets que precisam ser migradas`),r}catch(e){return console.error(" Erro ao verificar necessidade de migrao:",e),!1}}async function fie(t){try{await die(t)?(console.log(" Migrao automtica necessria..."),await uie(t),console.log(" Migrao automtica concluda!")):console.log(" Nenhuma migrao necessria"),await hie(t)}catch(e){console.error(" Erro na migrao automtica:",e)}}async function hie(t){try{console.log(" Verificando documentos invlidos no portfolio...");const e=it(we,"users",t,"portfolio"),n=await Ot(e);if(n.empty){console.log(" Portfolio vazio, nada a limpar");return}let r=0,i=0;for(const s of n.docs){const a=s.data();if(s.id==="holdings"&&Array.isArray(a.holdings)){console.log(' Encontrado documento "holdings" com estrutura antiga (array)'),console.log(" Migrando",a.holdings.length,"holdings para documentos separados...");try{for(const l of a.holdings)if(l.symbol&&l.coinId&&l.amount!==void 0){const c=et(we,"users",t,"portfolio",l.symbol);await Rn(c,{symbol:l.symbol,coinId:l.coinId,amount:l.amount,name:l.name||l.symbol,valueUsd:0,createdAt:new Date,updatedAt:new Date},{merge:!0}),console.log(` Holding ${l.symbol} migrado para documento separado`),i++}else console.warn(" Holding invlido no array:",l);await sc(s.ref),console.log(' Documento "holdings" antigo deletado aps migrao'),r++}catch(l){console.error(' Erro ao migrar documento "holdings":',l)}continue}if(!a.symbol||!a.coinId||a.amount===void 0){console.warn(` Deletando documento invlido: ${s.id}`,a);try{await sc(s.ref),r++,console.log(` Documento ${s.id} deletado`)}catch(l){console.error(` Erro ao deletar documento ${s.id}:`,l)}}}i>0&&console.log(` ${i} holding(s) migrado(s) de estrutura antiga para nova`),r>0&&console.log(` ${r} documento(s) invlido(s) removido(s) do portfolio`),i===0&&r===0&&console.log(" Nenhum documento invlido encontrado")}catch(e){console.error(" Erro ao limpar documentos invlidos:",e)}}const Bt=t=>Array.from({length:t},()=>Math.floor(Math.random()*10)).join(""),mie=()=>{const t=Bt(8),e=Math.floor(Math.random()*10);return`${t}-${e}`},Es=(t,e,n)=>{const r=Bt(2);return`${t}${r}${e}${n}`},pie={BR:{bankCode:"336",branchCode:"0001",swift:"ETRBRBR"},US:{routingNumber:"021000021",swift:"ETRUSNY"},PT:{bankCode:"0035",swift:"ETRPTPL"},ES:{bankCode:"2100",swift:"ETRESMM"},FR:{bankCode:"30004",branchCode:"00001",swift:"ETRFRPP"},DE:{bankCode:"10050000",swift:"ETRDEFF"},IT:{bankCode:"05034",branchCode:"01600",swift:"ETRITM1"},GB:{sortCode:"60-16-13",swift:"ETRGB2L"},NL:{bankCode:"ETRC",swift:"ETRNL2A"},BE:{bankCode:"735",swift:"ETRBEBB"},CH:{bankCode:"00235",swift:"ETRCHZZ"},AT:{bankCode:"12000",swift:"ETRATWW"},CA:{routingNumber:"000010001",swift:"ETRCATT"},AU:{routingNumber:"062-000",swift:"ETRAU2S"},MX:{bankCode:"072",swift:"ETRMXMM"},AR:{bankCode:"336",branchCode:"0001",swift:"ETRARBA"},CL:{bankCode:"055",swift:"ETRCLRM"},CO:{bankCode:"0001",swift:"ETRCOBB"}},vU=(t,e)=>{const n=e?`${e}_${t}_${Date.now()}`:`${t}_${Date.now()}`,r=new Date,i=pie[t],a={BR:{country:"BR",countryName:"Brasil",flagCode:"br",currency:"BRL",accountNumber:mie(),bankCode:i?.bankCode,branchCode:i?.branchCode,bankName:"NexCoin transactions",accountType:"Conta Corrente",swift:i?.swift},US:{country:"US",countryName:"Estados Unidos",flagCode:"us",currency:"USD",accountNumber:Bt(12),routingNumber:i?.routingNumber,bankName:"NexCoin transactions",accountType:"Checking Account",swift:i?.swift},PT:{country:"PT",countryName:"Portugal",flagCode:"pt",currency:"EUR",accountNumber:Bt(11),iban:Es("PT",i?.bankCode||"0000",Bt(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Conta  Ordem",bankCode:i?.bankCode},ES:{country:"ES",countryName:"Espanha",flagCode:"es",currency:"EUR",accountNumber:Bt(10),iban:Es("ES",i?.bankCode||"0000",Bt(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente",bankCode:i?.bankCode},FR:{country:"FR",countryName:"Frana",flagCode:"fr",currency:"EUR",accountNumber:Bt(11),iban:Es("FR",i?.bankCode||"00000",Bt(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Compte Courant",bankCode:i?.bankCode,branchCode:i?.branchCode},DE:{country:"DE",countryName:"Alemanha",flagCode:"de",currency:"EUR",accountNumber:Bt(10),iban:Es("DE",i?.bankCode||"00000000",Bt(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Girokonto",bankCode:i?.bankCode},IT:{country:"IT",countryName:"Itlia",flagCode:"it",currency:"EUR",accountNumber:Bt(12),iban:Es("IT",(i?.bankCode||"00000")+(i?.branchCode||"00000"),Bt(12)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Conto Corrente",bankCode:i?.bankCode,branchCode:i?.branchCode},GB:{country:"GB",countryName:"Reino Unido",flagCode:"gb",currency:"GBP",accountNumber:Bt(8),iban:Es("GB",i?.sortCode?.replace(/-/g,"")||"000000",Bt(8)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Current Account",sortCode:i?.sortCode},NL:{country:"NL",countryName:"Holanda",flagCode:"nl",currency:"EUR",accountNumber:Bt(10),iban:Es("NL",i?.bankCode||"ETRC",Bt(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Betaalrekening",bankCode:i?.bankCode},BE:{country:"BE",countryName:"Blgica",flagCode:"be",currency:"EUR",accountNumber:Bt(12),iban:Es("BE",i?.bankCode||"000",Bt(12)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Compte  Vue",bankCode:i?.bankCode},CH:{country:"CH",countryName:"Sua",flagCode:"ch",currency:"CHF",accountNumber:Bt(9),iban:Es("CH",i?.bankCode||"00000",Bt(9)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Privatkonto",bankCode:i?.bankCode},AT:{country:"AT",countryName:"ustria",flagCode:"at",currency:"EUR",accountNumber:Bt(11),iban:Es("AT",i?.bankCode||"00000",Bt(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Girokonto",bankCode:i?.bankCode},CA:{country:"CA",countryName:"Canad",flagCode:"ca",currency:"CAD",accountNumber:Bt(12),routingNumber:i?.routingNumber,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Chequing Account"},AU:{country:"AU",countryName:"Austrlia",flagCode:"au",currency:"AUD",accountNumber:Bt(9),routingNumber:i?.routingNumber,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Transaction Account"},MX:{country:"MX",countryName:"Mxico",flagCode:"mx",currency:"MXN",accountNumber:Bt(18),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta de Cheques"},AR:{country:"AR",countryName:"Argentina",flagCode:"ar",currency:"ARS",accountNumber:Bt(14),bankCode:i?.bankCode,branchCode:i?.branchCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente"},CL:{country:"CL",countryName:"Chile",flagCode:"cl",currency:"CLP",accountNumber:Bt(12),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente"},CO:{country:"CO",countryName:"Colmbia",flagCode:"co",currency:"COP",accountNumber:Bt(11),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta de Ahorros"}}[t]||{country:t,countryName:"Pas",flagCode:t.toLowerCase(),currency:"USD",accountNumber:Bt(10),iban:Es(t,"0000",Bt(10)),swift:`ETR${t}XX`,bankName:"NexCoin transactions",accountType:"Account"};return{id:n,...a,createdAt:r}},mv=()=>[{code:"BR",name:"Brasil",flag:"br",currency:"BRL"},{code:"US",name:"Estados Unidos",flag:"us",currency:"USD"},{code:"PT",name:"Portugal",flag:"pt",currency:"EUR"},{code:"ES",name:"Espanha",flag:"es",currency:"EUR"},{code:"FR",name:"Frana",flag:"fr",currency:"EUR"},{code:"DE",name:"Alemanha",flag:"de",currency:"EUR"},{code:"IT",name:"Itlia",flag:"it",currency:"EUR"},{code:"GB",name:"Reino Unido",flag:"gb",currency:"GBP"},{code:"NL",name:"Holanda",flag:"nl",currency:"EUR"},{code:"BE",name:"Blgica",flag:"be",currency:"EUR"},{code:"CH",name:"Sua",flag:"ch",currency:"CHF"},{code:"AT",name:"ustria",flag:"at",currency:"EUR"},{code:"CA",name:"Canad",flag:"ca",currency:"CAD"},{code:"AU",name:"Austrlia",flag:"au",currency:"AUD"},{code:"MX",name:"Mxico",flag:"mx",currency:"MXN"},{code:"AR",name:"Argentina",flag:"ar",currency:"ARS"},{code:"CL",name:"Chile",flag:"cl",currency:"CLP"},{code:"CO",name:"Colmbia",flag:"co",currency:"COP"}];function xU(t){if(!t)return"";let e=t.trim();if(e.startsWith("+55"))e=e.substring(3);else if(e.startsWith("55")){const r=e.replace(/\D/g,"");(r.length===13||r.length===14)&&(e=e.substring(2))}const n=e.replace(/\D/g,"");return n.length!==10&&n.length!==11&&console.warn(` Telefone com formato invlido para PIX: ${t} (${n.length} dgitos)`),n}const bU=N.createContext({user:null,userData:null,loading:!0,isAuthenticated:!1,isPinVerified:!1,auth:bn,signUp:async()=>{},signIn:async()=>{},signInWithPhoneAndPin:async()=>{},signInWithGoogle:async()=>{},logout:async()=>{},verifyPin:async()=>!1,setPinVerified:()=>{},checkIfUserHasPin:async()=>!1,checkPhoneExists:async()=>!1,reloadUserData:async()=>{},updateLanguage:async()=>{},updateVisibleCards:async()=>{},dismissAlert:async()=>{},syncPixKeys:async()=>{}});function Vt(){return N.useContext(bU)}function gie({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState(null),[s,a]=N.useState(!0),[l,c]=N.useState(!1);N.useRef(""),N.useRef("");const d="NexCoin_pin_verified",f=U=>{c(U),U&&e?.uid?(localStorage.setItem(d,e.uid),console.log(" Estado de PIN verificado salvo no localStorage")):(localStorage.removeItem(d),console.log(" Estado de PIN verificado removido do localStorage"))},m=U=>{const J=localStorage.getItem(d)===U;return console.log(" Verificando PIN do localStorage:",J?"Verificado":"No verificado"),J},p=U=>{const X=U.replace(/\D/g,"");return U.startsWith("+")?`+${X}`:`+${X}`},y=(U,X)=>`${U}_${X}_Ethertron2024!`,x=(U,X)=>`${U}_${X}_NexCoin2024!`,b=async U=>{try{const X=et(we,"users",U),J=await Wi(X);if(J.exists()){const O=J.data();return i(O),O}return null}catch(X){return console.error("Erro ao carregar dados do usurio:",X),null}},_=async()=>{if(e){const U=await b(e.uid);i(U)}},S=async(U,X,J)=>{try{console.log(" Sincronizando chaves PIX automticas (Idempotente)...");const O=`${U}_BRL`,K=et(we,"bankAccounts",O),H=await Wi(K);let k="";if(H.exists())k=H.data().accountNumber,console.log(" Conta BRL j existe:",O);else{console.log(" Criando conta bancria BRL nica...");const ie=vU("BR",U);k=ie.accountNumber,await Rn(K,{...ie,id:O,userId:U,isPrimary:!0,createdAt:new Date}),console.log(" Conta BRL criada com ID fixo:",O)}const $=`${U}_pix_email`,G=et(we,"pixKeys",$);await Rn(G,{id:$,userId:U,accountId:O,accountNumber:k,currency:"BRL",country:"BR",keyType:"email",keyValue:X,createdAt:new Date},{merge:!0});const Z=xU(J),Y=`${U}_pix_phone`,te=et(we,"pixKeys",Y);await Rn(te,{id:Y,userId:U,accountId:O,accountNumber:k,currency:"BRL",country:"BR",keyType:"phone",keyValue:Z,createdAt:new Date},{merge:!0}),console.log(" Chaves PIX sincronizadas com sucesso")}catch(O){console.error(" Erro na sincronizao de chaves PIX:",O)}},R=async(U,X,J)=>{try{console.log(" Sincronizando chaves PIX com novos dados do perfil...");const O=it(we,"pixKeys"),K=Dt(O,It("userId","==",U)),H=await Ot(K);if(H.empty){console.log(" Nenhuma chave PIX encontrada para sincronizar");return}const k=[];H.forEach($=>{const G=$.data(),Z=et(we,"pixKeys",$.id);G.keyType==="email"&&X&&k.push(wi(Z,{keyValue:X})),G.keyType==="phone"&&J&&k.push(wi(Z,{keyValue:J}))}),await Promise.all(k),console.log(" Chaves PIX sincronizadas com sucesso!")}catch(O){console.error(" Erro ao sincronizar chaves PIX:",O)}},D=async(U,X,J,O,K,H)=>{try{const k=p(O),$=it(we,"users"),G=Dt($,It("phone","==",k),Rl(1));if(!(await Ot(G)).empty)throw new Error("Este nmero de telefone j est cadastrado");const Y=y(k,H),ie=(await one(bn,U,Y)).user,ne=et(we,"users",ie.uid),be={uid:ie.uid,email:ie.email||U,name:J,phone:k,country:K,accountPin:H,createdAt:new Date,aprovado:"no"};await Rn(ne,be),i(be);try{await lie(ie.uid)}catch(se){console.warn(" Erro ao inicializar portfolio:",se)}}catch(k){const $=k.code;throw $==="auth/email-already-in-use"?new Error("Este e-mail j est cadastrado. Faa login ou use outro e-mail."):$==="auth/invalid-email"?new Error("E-mail invlido. Verifique e tente novamente."):$==="auth/weak-password"?new Error("Senha muito fraca. Use no mnimo 6 caracteres."):$==="auth/operation-not-allowed"?new Error("Cadastro com e-mail desabilitado. Entre em contato com o suporte."):new Error(k.message||"Erro ao criar conta. Tente novamente.")}},z=async(U,X)=>{try{const J=await ND(bn,U,X),O=await b(J.user.uid);if(O&&O.phone&&O.accountPin)try{const K=p(O.phone),H=y(K,O.accountPin);await Jz(J.user,H)}catch(K){console.error(" Erro ao migrar senha:",K)}}catch(J){const O=J.code;throw O==="auth/user-not-found"?new Error("E-mail no cadastrado. Crie uma conta primeiro."):O==="auth/wrong-password"?new Error("Senha incorreta. Tente novamente."):O==="auth/invalid-email"?new Error("E-mail invlido. Verifique e tente novamente."):O==="auth/user-disabled"?new Error("Esta conta foi desabilitada. Entre em contato com o suporte."):O==="auth/too-many-requests"?new Error("Muitas tentativas. Aguarde alguns minutos e tente novamente."):new Error("Erro ao fazer login. Verifique suas credenciais.")}},I=async(U,X)=>{try{const J=p(U),O=it(we,"users");let K=Dt(O,It("phone","==",J),Rl(1)),H=await Ot(K);if(H.empty&&(K=Dt(O,It("phone","==",U),Rl(1)),H=await Ot(K)),H.empty)throw new Error("Nmero de telefone no cadastrado");const $=H.docs[0].data();if($.accountPin!==X)throw new Error("PIN incorreto");const G=y(J,X),Z=x(J,X);let Y=!1;for(const te of[G,Z])try{const ie=await ND(bn,$.email,te);await b(ie.user.uid),f(!0),Y=!0;break}catch(ie){if(ie.code==="auth/invalid-credential"||ie.code==="auth/wrong-password")continue;throw ie}if(!Y)try{throw await ane(bn,$.email),new Error("Sua conta precisa ser atualizada. Enviamos um e-mail para redefinir sua senha.")}catch(te){throw te}}catch(J){throw J.message==="Nmero de telefone no cadastrado"||J.message==="PIN incorreto"?J:J.code==="auth/too-many-requests"?new Error("Muitas tentativas. Aguarde alguns minutos e tente novamente."):new Error(J.message||"Erro ao fazer login. Tente novamente.")}},P=async U=>{try{const X=p(U),J=it(we,"users"),O=Dt(J,It("phone","==",X),Rl(1));return!(await Ot(O)).empty}catch{return!1}},C=async()=>{try{const U=new fo,X=await Rne(bn,U);if(!await b(X.user.uid)){const O=et(we,"users",X.user.uid),K={uid:X.user.uid,email:X.user.email||"",name:X.user.displayName||"",phone:"",country:"",accountPin:"",createdAt:new Date,aprovado:"yes"};await Rn(O,K),i(K)}}catch(U){throw new Error(U.message||"Erro ao fazer login com Google")}},E=async()=>{try{await hne(bn),n(null),i(null),f(!1)}catch(U){throw new Error(U.message||"Erro ao fazer logout")}},A=async U=>{if(!r)return!1;const X=r.accountPin===U;return X&&f(!0),X},j=async()=>r?!!r.accountPin&&r.accountPin.length===6:!1;N.useEffect(()=>fne(bn,async X=>{if(n(X),X){await b(X.uid);try{await fie(X.uid)}catch{}c(m(X.uid))}else i(null),c(!1);a(!1)}),[]),N.useEffect(()=>{if(!e?.uid)return;const U=et(we,"users",e.uid);return ei(U,J=>{J.exists()&&i(J.data())})},[e?.uid]),N.useEffect(()=>{if(!e?.uid||!r||r.country!=="BR")return;(async()=>{try{const X=it(we,"pixKeys"),J=Dt(X,It("userId","==",e.uid),Rl(1));(await Ot(J)).empty&&await S(e.uid,r.email,r.phone)}catch{}})()},[e?.uid,r?.country]);const V=async U=>{if(!r)return;const X=et(we,"users",r.uid),J={...r,preferences:{...r.preferences,dismissedAlerts:[...r.preferences?.dismissedAlerts||[],U]}};await Rn(X,J),i(J)},B=async U=>{if(!r)return;const X=et(we,"users",r.uid),J={...r,language:U};await Rn(X,J),i(J)},F=async U=>{if(!r)return;const X=et(we,"users",r.uid),J={...r,preferences:{...r.preferences,visibleCards:U}};await Rn(X,J),i(J)};return o.jsx(bU.Provider,{value:{user:e,userData:r,loading:s,isAuthenticated:!!e,isPinVerified:l,auth:bn,signUp:D,signIn:z,signInWithPhoneAndPin:I,signInWithGoogle:C,logout:E,verifyPin:A,setPinVerified:c,checkIfUserHasPin:j,checkPhoneExists:P,reloadUserData:_,updateLanguage:B,updateVisibleCards:F,dismissAlert:V,syncPixKeys:R},children:t})}function bu({countryCode:t,size:e="md"}){const n={sm:"w-10 h-10",md:"w-12 h-12",lg:"w-16 h-16"},r={sm:"w-6 h-6",md:"w-7 h-7",lg:"w-9 h-9"},a=`https://flagcdn.com/w80/${{BR:"br",US:"us",PT:"pt",ES:"es",FR:"fr",DE:"de",IT:"it",GB:"gb",NL:"nl",BE:"be",CH:"ch",AT:"at",EU:"eu"}[t]||t.toLowerCase()}.png`;return o.jsxs("div",{className:`${n[e]} rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden`,children:[o.jsx("img",{src:a,alt:`${t} flag`,className:`${r[e]} object-cover rounded-full`,onError:l=>{l.currentTarget.style.display="none",l.currentTarget.nextSibling&&(l.currentTarget.nextSibling.style.display="block")}}),o.jsx("span",{className:"text-sm hidden",children:t})]})}function yie({onNavigate:t}){const{language:e,setLanguage:n,t:r}=In(),{setPhoneNumber:i}=gU(),{checkPhoneExists:s}=Vt(),[a,l]=N.useState(""),[c,d]=N.useState(!1),[f,m]=N.useState(!1),[p,y]=N.useState(!1),[x,b]=N.useState(""),[_,S]=N.useState(!1),[R,D]=N.useState({code:"+55",countryCode:"BR",name:"Brasil"}),z=N.useRef(null);N.useEffect(()=>{z.current&&z.current.focus()},[]);const I=()=>[{code:"pt",countryCode:"BR",name:r.portuguese},{code:"en",countryCode:"US",name:r.english},{code:"es",countryCode:"ES",name:r.spanish}],P=[{code:"+55",countryCode:"BR",name:"Brasil",mask:"(XX) XXXXX-XXXX",maxLength:15},{code:"+1",countryCode:"US",name:"USA",mask:"(XXX) XXX-XXXX",maxLength:14},{code:"+44",countryCode:"GB",name:"Reino Unido",mask:"XXXX XXX XXXX",maxLength:13},{code:"+33",countryCode:"FR",name:"Frana",mask:"XX XX XX XX XX",maxLength:14},{code:"+49",countryCode:"DE",name:"Alemanha",mask:"XXX XXXXXXX",maxLength:11},{code:"+39",countryCode:"IT",name:"Itlia",mask:"XXX XXX XXXX",maxLength:12},{code:"+34",countryCode:"ES",name:"Espanha",mask:"XXX XX XX XX",maxLength:11},{code:"+351",countryCode:"PT",name:"Portugal",mask:"XXX XXX XXX",maxLength:11}],C=(B,F)=>{const U=B.replace(/\D/g,"");if(!P.find(J=>J.countryCode===F))return U;switch(F){case"BR":return U.length<=2?U:U.length<=7?`(${U.slice(0,2)}) ${U.slice(2)}`:U.length<=11?`(${U.slice(0,2)}) ${U.slice(2,7)}-${U.slice(7)}`:`(${U.slice(0,2)}) ${U.slice(2,7)}-${U.slice(7,11)}`;case"US":return U.length<=3?U:U.length<=6?`(${U.slice(0,3)}) ${U.slice(3)}`:`(${U.slice(0,3)}) ${U.slice(3,6)}-${U.slice(6,10)}`;case"GB":return U.length<=4?U:U.length<=7?`${U.slice(0,4)} ${U.slice(4)}`:`${U.slice(0,4)} ${U.slice(4,7)} ${U.slice(7,11)}`;case"FR":return U.length<=2?U:U.length<=4?`${U.slice(0,2)} ${U.slice(2)}`:U.length<=6?`${U.slice(0,2)} ${U.slice(2,4)} ${U.slice(4)}`:U.length<=8?`${U.slice(0,2)} ${U.slice(2,4)} ${U.slice(4,6)} ${U.slice(6)}`:`${U.slice(0,2)} ${U.slice(2,4)} ${U.slice(4,6)} ${U.slice(6,8)} ${U.slice(8,10)}`;case"DE":return U.length<=3?U:`${U.slice(0,3)} ${U.slice(3,10)}`;case"IT":return U.length<=3?U:U.length<=6?`${U.slice(0,3)} ${U.slice(3)}`:`${U.slice(0,3)} ${U.slice(3,6)} ${U.slice(6,10)}`;case"ES":return U.length<=3?U:U.length<=5?`${U.slice(0,3)} ${U.slice(3)}`:U.length<=7?`${U.slice(0,3)} ${U.slice(3,5)} ${U.slice(5)}`:`${U.slice(0,3)} ${U.slice(3,5)} ${U.slice(5,7)} ${U.slice(7,9)}`;case"PT":return U.length<=3?U:U.length<=6?`${U.slice(0,3)} ${U.slice(3)}`:`${U.slice(0,3)} ${U.slice(3,6)} ${U.slice(6,9)}`;default:return U}},E=B=>{const F=C(B.target.value,R.countryCode);l(F)},j=(B=>B.replace(/\D/g,"").length>=10)(a),V=async()=>{if(a&&j){const B=`${R.code}${a.replace(/\D/g,"")}`;i(B),S(!0),b("");try{const F=await s(B);S(!1),F?t("passwordEntry"):b(r.phoneNotFound||"Telefone no encontrado")}catch{S(!1),b(r.phoneNotFound||"Telefone no encontrado")}}};return o.jsxs("div",{className:"bg-black text-white p-4 pb-20",children:[(c||f)&&o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{d(!1),m(!1)}}),o.jsx("div",{className:"w-full max-w-md mx-auto pt-2 pb-4",children:o.jsx("button",{onClick:()=>t("welcome"),className:"flex items-center gap-2 text-white transition-opacity active:opacity-60",children:o.jsx(Nt,{className:"w-5 h-5"})})}),o.jsxs("main",{className:"w-full max-w-md mx-auto pt-4",children:[o.jsxs("div",{className:"space-y-2 mb-5",children:[o.jsx("h2",{className:"text-2xl tracking-tight text-white",children:r.welcome}),o.jsx("p",{className:"text-slate-400 text-sm",children:r.dontHaveAccount})]}),o.jsxs("div",{className:"flex gap-2 mb-3",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{className:"h-12 flex items-center gap-2 bg-zinc-900 px-3 rounded-xl shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)] transition-colors active:opacity-70",onClick:()=>d(!c),children:[o.jsx(bu,{countryCode:R.countryCode,size:"sm"}),o.jsx("span",{className:"text-sm",children:R.code}),o.jsx(wo,{className:"w-4 h-4 text-gray-400"})]}),c&&o.jsx("div",{className:"absolute top-full mt-2 left-0 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[200px]",children:P.map(B=>o.jsxs("button",{className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{D(B),l(""),d(!1)},children:[o.jsx(bu,{countryCode:B.countryCode,size:"sm"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-sm",children:B.name}),o.jsx("div",{className:"text-xs text-gray-400",children:B.code})]})]},B.code))})]}),o.jsx("div",{className:"flex-1",children:o.jsx("input",{ref:z,className:"w-full h-12 bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.phone,type:"tel",value:a,onChange:E,onBlur:()=>y(!0)})})]}),p&&a&&!j&&o.jsx("p",{className:"text-red-500 text-xs -mt-2 mb-3",children:r.invalidPhone}),x&&o.jsx("p",{className:"text-red-500 text-xs -mt-2 mb-3",children:x}),o.jsx("a",{className:"text-blue-500 text-sm mb-5 block transition-opacity active:opacity-60",href:"#",children:r.forgotPassword}),o.jsx("button",{className:`w-full py-3.5 rounded-full mb-5 transition-all duration-300 ${a&&j?"bg-white text-black hover:opacity-90 active:scale-[0.98]":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,disabled:!a||!j,onClick:V,children:_?o.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[o.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),o.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.928l3-2.647z"})]}):r.continue}),o.jsx("div",{className:"text-center mb-5",children:o.jsx("button",{onClick:()=>t("signup"),className:"w-full bg-zinc-900 text-white py-3.5 rounded-full transition-colors hover:bg-zinc-800 active:scale-[0.98]",children:r.createAccount})}),o.jsxs("div",{className:"flex justify-center items-center mb-4 relative",children:[o.jsxs("button",{className:"flex items-center gap-2 text-slate-300 text-sm px-3 py-2 rounded-lg transition-colors active:bg-zinc-800",onClick:()=>m(!f),children:[o.jsx(wp,{className:"w-4 h-4"}),I().find(B=>B.code===e)?.name,o.jsx(wo,{className:"w-4 h-4"})]}),f&&o.jsx("div",{className:"absolute bottom-full mb-2 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[160px]",children:I().map(B=>o.jsx("button",{className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{n(B.code),m(!1)},children:o.jsx("div",{className:"flex-1",children:o.jsx("div",{className:"text-sm",children:B.name})})},B.code))})]})]}),o.jsx("footer",{className:"w-full max-w-md mx-auto mt-8 pb-3 flex flex-col items-center gap-2",children:o.jsx("a",{className:"text-xs text-slate-400 hover:underline",href:"#",children:"Poltica de Privacidade"})})]})}const wU=N.createContext({signUpData:null,setSignUpData:()=>{},clearSignUpData:()=>{}});function WP(){return N.useContext(wU)}function vie({children:t}){const[e,n]=N.useState(null),r=s=>{n(s)},i=()=>{n(null)};return o.jsx(wU.Provider,{value:{signUpData:e,setSignUpData:r,clearSignUpData:i},children:t})}function xie(t){if(!t)return"";const e=new Set(["de","da","do","dos","das","e","em","para","com","sem","of","the","and","in","on","at","to","for","with","del","la","el","los","las","y","en","por","con","le","les","du","des","et","au","aux","di","della","degli","delle"]);return t.toLowerCase().split(" ").map((n,r)=>r===0?n.charAt(0).toUpperCase()+n.slice(1):e.has(n)?n:n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}function bie({onNavigate:t}){const{signUp:e}=Vt(),{setSignUpData:n}=WP(),{t:r}=In(),[i,s]=N.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[a,l]=N.useState({email:!1,phone:!1,password:!1,confirmPassword:!1,name:!1}),[c,d]=N.useState(!1),[f,m]=N.useState(!1),[p,y]=N.useState(!1),[x,b]=N.useState({code:"+55",countryCode:"BR",name:"Brasil"}),_=[{code:"+55",countryCode:"BR",name:"Brasil",mask:"(XX) XXXXX-XXXX",maxLength:15},{code:"+1",countryCode:"US",name:"USA",mask:"(XXX) XXX-XXXX",maxLength:14},{code:"+44",countryCode:"GB",name:"Reino Unido",mask:"XXXX XXX XXXX",maxLength:13},{code:"+33",countryCode:"FR",name:"Frana",mask:"XX XX XX XX XX",maxLength:14},{code:"+49",countryCode:"DE",name:"Alemanha",mask:"XXX XXXXXXX",maxLength:11},{code:"+39",countryCode:"IT",name:"Itlia",mask:"XXX XXX XXXX",maxLength:12},{code:"+34",countryCode:"ES",name:"Espanha",mask:"XXX XX XX XX",maxLength:11},{code:"+351",countryCode:"PT",name:"Portugal",mask:"XXX XXX XXX",maxLength:11}],S=(J,O)=>{const K=J.replace(/\D/g,"");if(!_.find(k=>k.countryCode===O))return K;switch(O){case"BR":return K.length<=2?K:K.length<=7?`(${K.slice(0,2)}) ${K.slice(2)}`:K.length<=11?`(${K.slice(0,2)}) ${K.slice(2,7)}-${K.slice(7)}`:`(${K.slice(0,2)}) ${K.slice(2,7)}-${K.slice(7,11)}`;case"US":return K.length<=3?K:K.length<=6?`(${K.slice(0,3)}) ${K.slice(3)}`:`(${K.slice(0,3)}) ${K.slice(3,6)}-${K.slice(6,10)}`;case"GB":return K.length<=4?K:K.length<=7?`${K.slice(0,4)} ${K.slice(4)}`:`${K.slice(0,4)} ${K.slice(4,7)} ${K.slice(7,11)}`;case"FR":return K.length<=2?K:K.length<=4?`${K.slice(0,2)} ${K.slice(2)}`:K.length<=6?`${K.slice(0,2)} ${K.slice(2,4)} ${K.slice(4)}`:K.length<=8?`${K.slice(0,2)} ${K.slice(2,4)} ${K.slice(4,6)} ${K.slice(6)}`:`${K.slice(0,2)} ${K.slice(2,4)} ${K.slice(4,6)} ${K.slice(6,8)} ${K.slice(8,10)}`;case"DE":return K.length<=3?K:`${K.slice(0,3)} ${K.slice(3,10)}`;case"IT":return K.length<=3?K:K.length<=6?`${K.slice(0,3)} ${K.slice(3)}`:`${K.slice(0,3)} ${K.slice(3,6)} ${K.slice(6,10)}`;case"ES":return K.length<=3?K:K.length<=5?`${K.slice(0,3)} ${K.slice(3)}`:K.length<=7?`${K.slice(0,3)} ${K.slice(3,5)} ${K.slice(5)}`:`${K.slice(0,3)} ${K.slice(3,5)} ${K.slice(5,7)} ${K.slice(7,9)}`;case"PT":return K.length<=3?K:K.length<=6?`${K.slice(0,3)} ${K.slice(3)}`:`${K.slice(0,3)} ${K.slice(3,6)} ${K.slice(6,9)}`;default:return K}},R=J=>{const O=S(J.target.value,x.countryCode);s({...i,phone:O})},D=J=>{const k=J.target.value.replace(/\s+/g," ").split(" ").slice(0,5).join(" "),$=k.trim().length>0?xie(k):k;s({...i,name:$})},z=J=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(J),I=J=>J.replace(/\D/g,"").length>=10,P=J=>{const O=J.length>=8,K=/[A-Z]/.test(J),H=/[!@#$%^&*(),.?":{}|<>]/.test(J);return{hasMinLength:O,hasUpperCase:K,hasSpecialChar:H,isValid:O&&K&&H}},C=J=>{const O=J.trim().split(" ").filter(K=>K.length>0);return O.length>=1&&O.length<=5},E=z(i.email),A=I(i.phone),j=P(i.password),V=C(i.name),B=i.password===i.confirmPassword&&i.confirmPassword.length>0,F=V&&E&&A&&j.isValid&&B,U=()=>{if(!F)return;const J=i.phone.replace(/\D/g,""),O=`${x.code}${J}`;n({name:i.name,email:i.email,phone:O,password:i.password,country:""}),t("countrySelection")},X=async()=>{const J=Math.floor(1e3+Math.random()*9e3),O={name:`Usurio Teste ${J}`,email:`teste${J}@ethertron.com`,phone:`+55119${J}${J}`,password:"Teste123!",country:"BR"};console.log(" Iniciando cadastro de teste:",O);try{await e(O.email,O.password,O.name,O.phone,O.country,"123456"),console.log(" Conta de teste criada com sucesso!"),alert(` Conta criada e SALVA NO FIREBASE!

Email: ${O.email}
PIN: 123456
Status: Pendente de Aprovao`),t("home")}catch(K){console.error(" Erro no cadastro de teste:",K),alert(` Falha no Cadastro: ${K.message}`)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white p-4 flex flex-col justify-center items-center relative",children:[p&&o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{y(!1)}}),o.jsx("div",{className:"absolute top-4 left-4 z-20",children:o.jsx("button",{onClick:()=>t("welcome"),className:"flex items-center gap-2 text-white transition-opacity active:opacity-60 p-2",children:o.jsx(Nt,{className:"w-5 h-5"})})}),o.jsx("main",{className:"w-full max-w-md",children:o.jsxs("div",{className:"space-y-2",children:[o.jsx("h2",{className:"text-2xl font-bold tracking-tight text-white",children:r.createAccount}),o.jsx("p",{className:"text-slate-400 text-sm mb-5",children:r.dontHaveAccount}),o.jsx("button",{type:"button",onClick:X,className:"w-full bg-zinc-800 text-zinc-400 py-2 rounded-xl text-xs mb-4 hover:bg-zinc-700 transition-colors",children:" MODO TESTE: CRIAR CONTA AUTOMTICA"}),o.jsxs("form",{className:"space-y-3 mb-5",children:[o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.fullName||r.name,type:"text",value:i.name,onChange:D,onBlur:()=>l({...a,name:!0})}),a.name&&i.name&&!V&&o.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:"Nome invlido"}),o.jsxs("div",{children:[o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.email,type:"email",value:i.email,onChange:J=>s({...i,email:J.target.value}),onBlur:()=>l({...a,email:!0})}),a.email&&i.email&&!E&&o.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:"E-mail invlido"})]}),o.jsxs("div",{className:"flex gap-2 relative",children:[o.jsxs("div",{className:"relative",children:[o.jsxs("button",{type:"button",className:"flex items-center gap-2 bg-zinc-900 px-3 py-[13px] rounded-xl shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)] transition-colors active:opacity-70 h-[50px]",onClick:()=>y(!p),children:[o.jsx(bu,{countryCode:x.countryCode,size:"sm"}),o.jsx("span",{className:"font-medium text-sm",children:x.code}),o.jsx(wo,{className:"w-4 h-4 text-gray-400"})]}),p&&o.jsx("div",{className:"absolute top-full mt-2 left-0 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[200px]",children:_.map(J=>o.jsxs("button",{type:"button",className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{b(J),s({...i,phone:""}),y(!1)},children:[o.jsx(bu,{countryCode:J.countryCode,size:"sm"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium text-sm",children:J.name}),o.jsx("div",{className:"text-xs text-gray-400",children:J.code})]})]},J.code))})]}),o.jsx("div",{className:"flex-1",children:o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.phone,type:"tel",value:i.phone,onChange:R,onBlur:()=>l({...a,phone:!0})})})]}),a.phone&&i.phone&&!A&&o.jsx("p",{className:"text-xs text-red-500 -mt-2 ml-1",children:"Telefone invlido"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 pr-12 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.password,type:c?"text":"password",value:i.password,onChange:J=>s({...i,password:J.target.value}),onBlur:()=>l({...a,password:!0})}),o.jsx("button",{type:"button",className:"absolute right-4 top-[14px] text-gray-400 hover:text-gray-300 transition-colors cursor-pointer",onMouseDown:J=>{J.preventDefault()},onClick:J=>{J.preventDefault(),J.stopPropagation(),d(!c)},children:c?o.jsx(xf,{className:"w-5 h-5"}):o.jsx(gu,{className:"w-5 h-5"})}),a.password&&i.password&&!j.isValid&&o.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:"A senha deve ter pelo menos 8 caracteres, 1 maiscula e 1 caractere especial"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 pr-12 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.confirmPassword,type:f?"text":"password",value:i.confirmPassword,onChange:J=>s({...i,confirmPassword:J.target.value}),onBlur:()=>l({...a,confirmPassword:!0})}),o.jsx("button",{type:"button",className:"absolute right-4 top-[14px] text-gray-400 hover:text-gray-300 transition-colors cursor-pointer",onMouseDown:J=>{J.preventDefault()},onClick:J=>{J.preventDefault(),J.stopPropagation(),m(!f)},children:f?o.jsx(xf,{className:"w-5 h-5"}):o.jsx(gu,{className:"w-5 h-5"})}),a.confirmPassword&&i.confirmPassword&&!B&&o.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:"As senhas no coincidem"})]}),o.jsx("button",{type:"button",className:`w-full py-3.5 rounded-full font-semibold transition-all duration-300 ${F?"bg-gradient-to-r from-blue-500 to-purple-500 text-white hover:from-blue-600 hover:to-purple-600 active:scale-[0.98]":"bg-zinc-800 text-zinc-500 cursor-not-allowed"}`,onClick:U,disabled:!F,children:r.continue})]})]})})]})}function wie({onNavigate:t}){const{userData:e,verifyPin:n,setPinVerified:r,signUp:i}=Vt(),{signUpData:s,clearSignUpData:a}=WP(),[l,c]=N.useState(["","","","","",""]),[d,f]=N.useState(["","","","","",""]),[m,p]=N.useState("create"),[y,x]=N.useState(""),[b,_]=N.useState(!1),[S,R]=N.useState(!1),D=N.useRef([]);N.useEffect(()=>{p(s?"create":"verify")},[s]),N.useEffect(()=>{D.current[0]&&D.current[0].focus()},[m]);const z=(V,B,F=!1)=>{if(B&&!/^\d$/.test(B))return;const U=F?[...d]:[...l];if(U[V]=B,F?f(U):c(U),B&&V<5&&D.current[V+1]?.focus(),U.every(X=>X!=="")){const X=U.join("");if(m==="create")setTimeout(()=>{p("confirm"),x("")},100);else if(m==="confirm"){const J=l.join("");X===J?P(X):(x("Os PINs no coincidem. Tente novamente."),_(!0),setTimeout(()=>{_(!1),f(["","","","","",""]),D.current[0]?.focus()},500))}else m==="verify"&&(async()=>await n(X)?(r(!0),t("home")):(x("PIN incorreto. Tente novamente."),_(!0),setTimeout(()=>{_(!1),c(["","","","","",""]),D.current[0]?.focus()},500)))()}},I=(V,B,F=!1)=>{if(B.key==="Backspace"){B.preventDefault();const U=F?[...d]:[...l];U[V]===""?V>0&&(U[V-1]="",F?f(U):c(U),D.current[V-1]?.focus()):(U[V]="",F?f(U):c(U))}},P=async V=>{if(!s){console.error("Sem dados de cadastro");return}try{R(!0),x(""),await i(s.email,s.password,s.name,s.phone,s.country,V),a(),r(!0),t("home")}catch(B){console.error("Erro ao criar conta:",B),x(B.message||"Erro ao criar conta. Tente novamente."),R(!1)}},C=()=>{m==="confirm"?(p("create"),f(["","","","","",""]),x("")):t("login")},E=()=>m==="create"?"Crie seu PIN":m==="confirm"?"Confirme seu PIN":"Digite seu PIN",A=()=>m==="create"?"Crie um PIN de 6 dgitos para proteger sua conta":m==="confirm"?"Digite o PIN novamente para confirmar":"Digite seu PIN para acessar sua conta",j=m==="confirm"?d:l;return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"px-6 pt-6 pb-4",children:o.jsx("button",{onClick:C,className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(Nt,{className:"w-5 h-5"})})}),o.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 -mt-20",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center mb-8 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:o.jsx(Ea,{className:"w-10 h-10 text-white"})}),o.jsx("h1",{className:"text-3xl font-bold mb-2 text-center",children:E()}),o.jsx("p",{className:"text-sm text-gray-400 mb-12 text-center max-w-xs",children:A()}),o.jsx("div",{className:`flex gap-3 mb-6 ${b?"animate-shake":""}`,children:j.map((V,B)=>o.jsx("input",{ref:F=>D.current[B]=F,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:V,onChange:F=>z(B,F.target.value,m==="confirm"),onKeyDown:F=>I(B,F,m==="confirm"),className:"w-14 h-16 bg-zinc-900 border-2 border-zinc-800 rounded-2xl text-center text-2xl font-bold text-white focus:border-white focus:outline-none transition-all",style:{caretColor:"transparent"}},`${m}-${B}`))}),y&&o.jsx("p",{className:"text-red-500 text-sm mb-4 text-center animate-fade-in",children:y}),o.jsx("p",{className:"text-xs text-gray-500 text-center max-w-xs",children:m==="verify"?"Use seu PIN de 6 dgitos para acessar sua conta":"Escolha um PIN fcil de lembrar, mas difcil de adivinhar"})]}),S&&o.jsxs("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex flex-col items-center justify-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-white border-t-transparent rounded-full animate-spin mb-4"}),o.jsx("p",{className:"text-white font-medium animate-pulse",children:"Criando sua conta..."})]}),m==="verify"&&o.jsx("footer",{className:"px-6 pb-8",children:o.jsx("button",{onClick:()=>t("login"),className:"w-full text-center text-sm text-gray-400 hover:text-white transition-colors",children:"Esqueci meu PIN"})}),o.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
          20%, 40%, 60%, 80% { transform: translateX(10px); }
        }
        .animate-shake {
          animation: shake 0.5s;
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
      `})]})}function FD({onNavigate:t}){const{signUpData:e,setSignUpData:n}=WP(),[r,i]=N.useState(null),[s,a]=N.useState(null),[l,c]=N.useState(!1),d=[{id:"BR",name:"Brasil",code:"BR",currency:"BRL"},{id:"US",name:"Estados Unidos",code:"US",currency:"USD"},{id:"PT",name:"Portugal",code:"PT",currency:"EUR"},{id:"ES",name:"Espanha",code:"ES",currency:"EUR"},{id:"FR",name:"Frana",code:"FR",currency:"EUR"},{id:"DE",name:"Alemanha",code:"DE",currency:"EUR"},{id:"IT",name:"Itlia",code:"IT",currency:"EUR"},{id:"GB",name:"Reino Unido",code:"GB",currency:"EUR"},{id:"NL",name:"Holanda",code:"NL",currency:"EUR"},{id:"BE",name:"Blgica",code:"BE",currency:"EUR"},{id:"CH",name:"Sua",code:"CH",currency:"EUR"},{id:"AT",name:"ustria",code:"AT",currency:"EUR"}],f=[{id:"BRL",name:"Real Brasileiro",symbol:"R$",code:"BR"},{id:"USD",name:"Dlar Americano",symbol:"$",code:"US"},{id:"EUR",name:"Euro",symbol:"",code:"EU"}],m=d.find(x=>x.id===r),p=(x,b)=>{i(x),a(b),c(!1)},y=()=>{r&&s&&e&&(n({...e,country:r}),t("pinSetup"))};return o.jsxs("div",{className:"bg-black text-white min-h-screen flex flex-col p-6",children:[o.jsx("div",{className:"w-full max-w-md mx-auto pt-4 pb-8",children:o.jsx("h1",{className:"text-2xl font-bold tracking-tight text-center mb-2",children:"NexCoin"})}),o.jsxs("main",{className:"w-full max-w-md mx-auto flex-1 overflow-y-auto hide-scrollbar",children:[o.jsxs("div",{className:"space-y-2 mb-6",children:[o.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Configurao inicial"}),o.jsx("p",{className:"text-slate-400 text-sm",children:"Selecione seu pas de origem e a moeda preferencial para suas transaes."})]}),o.jsxs("div",{className:"mb-8",children:[o.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pas de origem"}),o.jsxs("div",{className:"relative",children:[o.jsx("button",{type:"button",onClick:()=>c(!l),className:"w-full bg-zinc-900 rounded-2xl p-4 flex items-center justify-between hover:bg-zinc-800 transition-all",children:m?o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(bu,{countryCode:m.code,size:"md"}),o.jsx("div",{className:"text-left",children:o.jsx("div",{className:"font-semibold",children:m.name})})]}):o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-gray-400",children:"Selecione um pas"}),o.jsx(wo,{className:"w-5 h-5 text-gray-400"})]})}),l&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-zinc-900 rounded-2xl border border-zinc-800 max-h-80 overflow-y-auto hide-scrollbar z-50 shadow-xl",children:d.map(x=>o.jsxs("button",{type:"button",onClick:()=>p(x.id,x.currency),className:"w-full p-4 flex items-center gap-3 hover:bg-zinc-800 transition-colors first:rounded-t-2xl last:rounded-b-2xl",children:[o.jsx(bu,{countryCode:x.code,size:"sm"}),o.jsx("div",{className:"text-left flex-1",children:o.jsx("div",{className:"font-semibold",children:x.name})}),r===x.id&&o.jsx("div",{className:"w-5 h-5 rounded-full bg-white flex items-center justify-center",children:o.jsx(wn,{className:"w-3 h-3 text-black"})})]},x.id))})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("label",{className:"text-lg font-semibold",children:"Moeda Preferencial"}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Escolha a moeda que deseja usar como padro"}),f.map(x=>o.jsxs("button",{type:"button",onClick:()=>a(x.id),className:`w-full bg-zinc-900 rounded-2xl p-4 flex items-center justify-between transition-all duration-300 ${s===x.id?"ring-1 ring-inset ring-white/60":"hover:bg-zinc-800"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(bu,{countryCode:x.code,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold",children:x.name}),o.jsxs("div",{className:"text-sm text-gray-400",children:[x.symbol," ",x.id]})]})]}),s===x.id&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center",children:o.jsx(wn,{className:"w-4 h-4 text-black"})})]},x.id))]})]}),o.jsx("button",{type:"button",onClick:y,className:`w-full py-4 rounded-full font-semibold transition-all duration-300 ${r&&s?"bg-white text-black hover:opacity-90 active:scale-[0.98]":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,disabled:!r||!s,children:"Continuar"})]})}const _U=N.createContext({prices:{},isLoading:!0,lastUpdate:null});function Ni(){return N.useContext(_U)}function _ie({children:t}){const[e,n]=N.useState({}),[r,i]=N.useState(!0),[s,a]=N.useState(null),l=["bitcoin","ethereum","tether","binancecoin","solana","ripple","cardano","avalanche-2","dogecoin","polkadot","matic-network","chainlink","uniswap","litecoin","cosmos","stellar","tron","shiba-inu","wrapped-bitcoin","dai","leo-token","usd-coin","the-open-network","ethereum-classic","bitcoin-cash","aptos","arbitrum","optimism","internet-computer","filecoin","near","vechain","algorand","injective-protocol","aave","maker","the-graph","immutable-x","blockstack","hedera-hashgraph","fantom","the-sandbox","decentraland","axie-infinity","tezos","theta-token","eos","monero","flow","chiliz","zcash","thorchain","klay-token","dash","neo","iota","quant-network","elrond-erd-2","pepe","fetch-ai","sui","sei-network"],c=async()=>{try{const f=l.join(","),m=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${f}&vs_currencies=usd&include_24hr_change=true&include_market_cap=true`,{method:"GET",headers:{Accept:"application/json"}});if(!m.ok){d();return}const p=m.headers.get("content-type");if(!p||!p.includes("application/json")){d();return}const y=await m.json();n(y),a(new Date),i(!1)}catch{d()}},d=()=>{n({bitcoin:{usd:87450,usd_24h_change:2.5,usd_market_cap:172e10},ethereum:{usd:2889.03,usd_24h_change:1.8,usd_market_cap:347e9},tether:{usd:1,usd_24h_change:0,usd_market_cap:958e8},binancecoin:{usd:312.45,usd_24h_change:-.8,usd_market_cap:488e8},solana:{usd:98.76,usd_24h_change:5.2,usd_market_cap:428e8},ripple:{usd:.52,usd_24h_change:1.2,usd_market_cap:28e9},"usd-coin":{usd:1,usd_24h_change:.01,usd_market_cap:32e9},cardano:{usd:.45,usd_24h_change:-.5,usd_market_cap:158e8},dogecoin:{usd:.08,usd_24h_change:3.1,usd_market_cap:112e8},tron:{usd:.12,usd_24h_change:.8,usd_market_cap:105e8},"avalanche-2":{usd:36.5,usd_24h_change:2.7,usd_market_cap:135e8},polkadot:{usd:6.85,usd_24h_change:2.3,usd_market_cap:95e8},"matic-network":{usd:.98,usd_24h_change:1.5,usd_market_cap:89e8},chainlink:{usd:14.25,usd_24h_change:3.2,usd_market_cap:78e8},"shiba-inu":{usd:9e-6,usd_24h_change:4.5,usd_market_cap:53e8},litecoin:{usd:78.5,usd_24h_change:-1.2,usd_market_cap:57e8},uniswap:{usd:11.2,usd_24h_change:2.1,usd_market_cap:67e8},stellar:{usd:.11,usd_24h_change:.5,usd_market_cap:32e8},cosmos:{usd:9.45,usd_24h_change:1.8,usd_market_cap:36e8},monero:{usd:165.2,usd_24h_change:-.3,usd_market_cap:3e9},"ethereum-classic":{usd:26.8,usd_24h_change:1.1,usd_market_cap:39e8},"bitcoin-cash":{usd:385,usd_24h_change:-1.5,usd_market_cap:76e8},near:{usd:5.2,usd_24h_change:2.9,usd_market_cap:54e8},algorand:{usd:.35,usd_24h_change:1.3,usd_market_cap:28e8},vechain:{usd:.032,usd_24h_change:.8,usd_market_cap:23e8},fantom:{usd:.68,usd_24h_change:3.5,usd_market_cap:19e8},"the-graph":{usd:.28,usd_24h_change:2.2,usd_market_cap:21e8},filecoin:{usd:5.15,usd_24h_change:-.9,usd_market_cap:25e8},"hedera-hashgraph":{usd:.075,usd_24h_change:1.7,usd_market_cap:24e8},aptos:{usd:8.9,usd_24h_change:4.2,usd_market_cap:35e8},arbitrum:{usd:.82,usd_24h_change:2.8,usd_market_cap:29e8},optimism:{usd:2.15,usd_24h_change:1.9,usd_market_cap:22e8},"render-token":{usd:7.35,usd_24h_change:5.1,usd_market_cap:28e8},"injective-protocol":{usd:22.5,usd_24h_change:3.8,usd_market_cap:21e8},sui:{usd:3.45,usd_24h_change:6.2,usd_market_cap:32e8}}),a(new Date),i(!1)};return N.useEffect(()=>{c();const f=setInterval(c,1e4);return()=>clearInterval(f)},[]),o.jsx(_U.Provider,{value:{prices:e,isLoading:r,lastUpdate:s},children:t})}const NU=N.createContext({portfolio:{totalBalanceUSDT:0,change24h:0,changePercent24h:0,holdings:[],priceHistory:[]},isLoading:!0,refreshHoldings:async()=>{},updateHoldings:async()=>{},addOrUpdateCrypto:async()=>{},removeCrypto:async()=>{},updateBalance:async()=>{}});function qs(){return N.useContext(NU)}function Nie({children:t}){const{prices:e,isLoading:n}=Ni(),{user:r,auth:i}=Vt(),[s,a]=N.useState({totalBalanceUSDT:0,change24h:0,changePercent24h:0,holdings:[],priceHistory:[]}),[l,c]=N.useState(!0),[d,f]=N.useState(!1),[m,p]=N.useState([]);N.useEffect(()=>{if(!r?.uid){c(!1);return}console.log(" Iniciando listener de portfolio para userId:",r.uid);let R=0;const D=3;let z=null,I=null,P=!1;const C=()=>{if(P){console.log(" Configurao de listener j em andamento, ignorando...");return}P=!0,z&&(console.log(" Limpando listener anterior antes de criar novo..."),z(),z=null);const E=it(we,"users",r.uid,"portfolio"),A=Dt(E);z=ei(A,j=>{console.log(" Snapshot recebido - Total de ativos no portfolio:",j.size),R=0,P=!1;const V=[];j.forEach(B=>{const F=B.data();console.log(" Ativo encontrado:",{id:B.id,data:F}),V.push({symbol:F.symbol,coinId:F.coinId,amount:F.amount,name:F.name,valueUsd:F.valueUsd||0,updatedAt:F.updatedAt?.toDate()})}),console.log(" Total de holdings carregados:",V.length),a(B=>({...B,holdings:V})),c(!1),f(!1)},j=>{console.error(" Erro no listener da coleo portfolio:",j),P=!1,j.code==="permission-denied"?(console.error(" Permisso negada - verificar regras do Firestore"),f(!0),c(!1)):j.code==="unavailable"&&R<D?(R++,console.log(` Tentando reconectar... (tentativa ${R}/${D})`),I&&clearTimeout(I),I=setTimeout(()=>{z&&z(),C()},1e3*R)):c(!1)})};return C(),()=>{console.log(" Cancelando listener da coleo portfolio"),z&&z(),I&&clearTimeout(I)}},[r?.uid]),N.useEffect(()=>{if(n||!e||Object.keys(e).length===0)return;let R=0;s.holdings.forEach(P=>{const C=e[P.coinId]?.usd||0;R+=P.amount*C});let D=0;s.holdings.forEach(P=>{const C=e[P.coinId]?.usd||0,E=e[P.coinId]?.usd_24h_change||0,A=C/(1+E/100);D+=P.amount*A});const z=R-D,I=D!==0?(R-D)/D*100:0;p(P=>[...P,R].slice(-50)),a({totalBalanceUSDT:R,change24h:z,changePercent24h:I,holdings:s.holdings,priceHistory:m}),c(!1)},[e,n,s.holdings]),N.useEffect(()=>{a(R=>({...R,priceHistory:m}))},[m]);const y=async()=>{console.log(" refreshHoldings: listener automtico est ativo")},x=async R=>{console.warn(" updateHoldings est deprecated com a nova estrutura de coleo")},b=async(R,D,z,I)=>{if(!r)return;console.log(" Adicionando/atualizando crypto:",{symbol:R,coinId:D,amount:z,name:I});const P=e[D]?.usd||0,C=z*P;await yU(r.uid,R,D,z,I,C),console.log(" Crypto adicionado, aguardando atualizao do listener")},_=async R=>{r&&await aie(r.uid,R)},S=async(R,D,z,I)=>{if(!r)return;const P=e[D]?.usd||0;await oie(r.uid,R,D,z,I,P)};return o.jsx(NU.Provider,{value:{portfolio:s,isLoading:l,refreshHoldings:y,updateHoldings:x,addOrUpdateCrypto:b,removeCrypto:_,updateBalance:S},children:t})}const CU=N.createContext({rates:{},loading:!0});function Cie({children:t}){const[e,n]=N.useState({}),[r,i]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{n({USD:1,BRL:5.2,EUR:.92,GBP:.79}),i(!1)}catch(a){console.error("Erro ao buscar taxas de cmbio:",a),n({USD:1,BRL:5.2,EUR:.92,GBP:.79}),i(!1)}})()},[]),o.jsx(CU.Provider,{value:{rates:e,loading:r},children:t})}function KP(){return N.useContext(CU)}const Eie="modulepreload",Sie=function(t,e){return new URL(t,e).href},BD={},GP=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let d=function(f){return Promise.all(f.map(m=>Promise.resolve(m).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};const a=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=d(n.map(f=>{if(f=Sie(f,r),f in BD)return;BD[f]=!0;const m=f.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(r)for(let x=a.length-1;x>=0;x--){const b=a[x];if(b.href===f&&(!m||b.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${f}"]${p}`))return;const y=document.createElement("link");if(y.rel=m?"stylesheet":Eie,m||(y.as="script"),y.crossOrigin="",y.href=f,c&&y.setAttribute("nonce",c),document.head.appendChild(y),m)return new Promise((x,b)=>{y.addEventListener("load",x),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};const Tie=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(s,a)=>{n.platforms.set(s,a)},i=s=>{n.platforms.has(s)&&(n.currentPlatform=n.platforms.get(s))};return n.addPlatform=r,n.setPlatform=i,n},Pie=t=>t.CapacitorPlatforms=Tie(t),EU=Pie(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});EU.addPlatform;EU.setPlatform;var th;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(th||(th={}));class Sf extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Aie=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Iie=t=>{var e,n,r,i,s;const a=t.CapacitorCustomPlatform||null,l=t.Capacitor||{},c=l.Plugins=l.Plugins||{},d=t.CapacitorPlatforms,f=()=>a!==null?a.name:Aie(t),m=((e=d?.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||f,p=()=>m()!=="web",y=((n=d?.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||p,x=C=>{const E=z.get(C);return!!(E?.platforms.has(m())||S(C))},b=((r=d?.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||x,_=C=>{var E;return(E=l.PluginHeaders)===null||E===void 0?void 0:E.find(A=>A.name===C)},S=((i=d?.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||_,R=C=>t.console.error(C),D=(C,E,A)=>Promise.reject(`${A} does not have an implementation of "${E}".`),z=new Map,I=(C,E={})=>{const A=z.get(C);if(A)return console.warn(`Capacitor plugin "${C}" already registered. Cannot register plugins twice.`),A.proxy;const j=m(),V=S(C);let B;const F=async()=>(!B&&j in E?B=typeof E[j]=="function"?B=await E[j]():B=E[j]:a!==null&&!B&&"web"in E&&(B=typeof E.web=="function"?B=await E.web():B=E.web),B),U=(k,$)=>{var G,Z;if(V){const Y=V?.methods.find(te=>$===te.name);if(Y)return Y.rtype==="promise"?te=>l.nativePromise(C,$.toString(),te):(te,ie)=>l.nativeCallback(C,$.toString(),te,ie);if(k)return(G=k[$])===null||G===void 0?void 0:G.bind(k)}else{if(k)return(Z=k[$])===null||Z===void 0?void 0:Z.bind(k);throw new Sf(`"${C}" plugin is not implemented on ${j}`,th.Unimplemented)}},X=k=>{let $;const G=(...Z)=>{const Y=F().then(te=>{const ie=U(te,k);if(ie){const ne=ie(...Z);return $=ne?.remove,ne}else throw new Sf(`"${C}.${k}()" is not implemented on ${j}`,th.Unimplemented)});return k==="addListener"&&(Y.remove=async()=>$()),Y};return G.toString=()=>`${k.toString()}() { [capacitor code] }`,Object.defineProperty(G,"name",{value:k,writable:!1,configurable:!1}),G},J=X("addListener"),O=X("removeListener"),K=(k,$)=>{const G=J({eventName:k},$),Z=async()=>{const te=await G;O({eventName:k,callbackId:te},$)},Y=new Promise(te=>G.then(()=>te({remove:Z})));return Y.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Z()},Y},H=new Proxy({},{get(k,$){switch($){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return V?K:J;case"removeListener":return O;default:return X($)}}});return c[C]=H,z.set(C,{name:C,proxy:H,platforms:new Set([...Object.keys(E),...V?[j]:[]])}),H},P=((s=d?.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||I;return l.convertFileSrc||(l.convertFileSrc=C=>C),l.getPlatform=m,l.handleError=R,l.isNativePlatform=y,l.isPluginAvailable=b,l.pluginMethodNoop=D,l.registerPlugin=P,l.Exception=Sf,l.DEBUG=!!l.DEBUG,l.isLoggingEnabled=!!l.isLoggingEnabled,l.platform=l.getPlatform(),l.isNative=l.isNativePlatform(),l},jie=t=>t.Capacitor=Iie(t),Pa=jie(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Nh=Pa.registerPlugin;Pa.Plugins;class XP{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),r&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Pa.Exception(e,th.Unimplemented)}unavailable(e="not available"){return new Pa.Exception(e,th.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const zD=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),UD=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class kie extends XP{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=UD(i).trim(),s=UD(s).trim(),n[i]=s}),n}async setCookie(e){try{const n=zD(e.key),r=zD(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${s}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Nh("CapacitorCookies",{web:()=>new kie});const Rie=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),Die=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},Oie=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[s,a]=i;let l,c;return Array.isArray(a)?(c="",a.forEach(d=>{l=e?encodeURIComponent(d):d,c+=`${s}=${l}&`}),c.slice(0,-1)):(l=e?encodeURIComponent(a):a,c=`${s}=${l}`),`${r}&${c}`},"").substr(1):null,Mie=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=Die(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,l]of Object.entries(t.data||{}))s.set(a,l);n.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((l,c)=>{s.append(c,l)});else for(const l of Object.keys(t.data))s.append(l,t.data[l]);n.body=s;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class Lie extends XP{async request(e){const n=Mie(e,e.webFetchExtra),r=Oie(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,s=await fetch(i,n),a=s.headers.get("content-type")||"";let{responseType:l="text"}=s.ok?e:{};a.includes("application/json")&&(l="json");let c,d;switch(l){case"arraybuffer":case"blob":d=await s.blob(),c=await Rie(d);break;case"json":c=await s.json();break;default:c=await s.text()}const f={};return s.headers.forEach((m,p)=>{f[p]=m}),{data:c,headers:f,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Nh("CapacitorHttp",{web:()=>new Lie});const lf=Nh("Geolocation",{web:()=>GP(()=>import("./web-BRSCPas_.js"),[],import.meta.url).then(t=>new t.GeolocationWeb)});var cf;(function(t){t.Prompt="PROMPT",t.Camera="CAMERA",t.Photos="PHOTOS"})(cf||(cf={}));var hp;(function(t){t.Rear="REAR",t.Front="FRONT"})(hp||(hp={}));var $D;(function(t){t.Uri="uri",t.Base64="base64",t.DataUrl="dataUrl"})($D||($D={}));class SU extends XP{async getPhoto(e){return new Promise(async(n,r)=>{if(e.webUseInput||e.source===cf.Photos)this.fileInputExperience(e,n,r);else if(e.source===cf.Prompt){let i=document.querySelector("pwa-action-sheet");i||(i=document.createElement("pwa-action-sheet"),document.body.appendChild(i)),i.header=e.promptLabelHeader||"Photo",i.cancelable=!1,i.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],i.addEventListener("onSelection",async s=>{s.detail===0?this.fileInputExperience(e,n,r):this.cameraExperience(e,n,r)})}else this.cameraExperience(e,n,r)})}async pickImages(e){return new Promise(async(n,r)=>{this.multipleFileInputExperience(n,r)})}async cameraExperience(e,n,r){if(customElements.get("pwa-camera-modal")){const i=document.createElement("pwa-camera-modal");i.facingMode=e.direction===hp.Front?"user":"environment",document.body.appendChild(i);try{await i.componentOnReady(),i.addEventListener("onPhoto",async s=>{const a=s.detail;a===null?r(new Sf("User cancelled photos app")):a instanceof Error?r(a):n(await this._getCameraPhoto(a,e)),i.dismiss(),document.body.removeChild(i)}),i.present()}catch{this.fileInputExperience(e,n,r)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,n,r)}fileInputExperience(e,n,r){let i=document.querySelector("#_capacitor-camera-input");const s=()=>{var a;(a=i.parentNode)===null||a===void 0||a.removeChild(i)};i||(i=document.createElement("input"),i.id="_capacitor-camera-input",i.type="file",i.hidden=!0,document.body.appendChild(i),i.addEventListener("change",a=>{const l=i.files[0];let c="jpeg";if(l.type==="image/png"?c="png":l.type==="image/gif"&&(c="gif"),e.resultType==="dataUrl"||e.resultType==="base64"){const d=new FileReader;d.addEventListener("load",()=>{if(e.resultType==="dataUrl")n({dataUrl:d.result,format:c});else if(e.resultType==="base64"){const f=d.result.split(",")[1];n({base64String:f,format:c})}s()}),d.readAsDataURL(l)}else n({webPath:URL.createObjectURL(l),format:c}),s()}),i.addEventListener("cancel",a=>{r(new Sf("User cancelled photos app")),s()})),i.accept="image/*",i.capture=!0,e.source===cf.Photos||e.source===cf.Prompt?i.removeAttribute("capture"):e.direction===hp.Front?i.capture="user":e.direction===hp.Rear&&(i.capture="environment"),i.click()}multipleFileInputExperience(e,n){let r=document.querySelector("#_capacitor-camera-input-multiple");const i=()=>{var s;(s=r.parentNode)===null||s===void 0||s.removeChild(r)};r||(r=document.createElement("input"),r.id="_capacitor-camera-input-multiple",r.type="file",r.hidden=!0,r.multiple=!0,document.body.appendChild(r),r.addEventListener("change",s=>{const a=[];for(let l=0;l<r.files.length;l++){const c=r.files[l];let d="jpeg";c.type==="image/png"?d="png":c.type==="image/gif"&&(d="gif"),a.push({webPath:URL.createObjectURL(c),format:d})}e({photos:a}),i()}),r.addEventListener("cancel",s=>{n(new Sf("User cancelled photos app")),i()})),r.accept="image/*",r.click()}_getCameraPhoto(e,n){return new Promise((r,i)=>{const s=new FileReader,a=e.type.split("/")[1];n.resultType==="uri"?r({webPath:URL.createObjectURL(e),format:a,saved:!1}):(s.readAsDataURL(e),s.onloadend=()=>{const l=s.result;n.resultType==="dataUrl"?r({dataUrl:l,format:a,saved:!1}):r({base64String:l.split(",")[1],format:a,saved:!1})},s.onerror=l=>{i(l)})})}async checkPermissions(){if(typeof navigator>"u"||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch{throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}new SU;const WE=Nh("Camera",{web:()=>new SU}),TU=N.createContext(void 0);function Vie({children:t}){const[e,n]=N.useState(null),[r,i]=N.useState(!1),[s,a]=N.useState(null),[l,c]=N.useState(!1),[d,f]=N.useState(!1),[m,p]=N.useState(!1),[y,x]=N.useState(null),[b,_]=N.useState(!1),[S,R]=N.useState(null),[D,z]=N.useState(null),I=N.useCallback(async()=>{try{console.log(" [Camera] Verificando permisso nativa..."),(await WE.checkPermissions()).camera==="granted"?p(!0):p(!1)}catch(U){console.error(" [Camera] Erro ao verificar permisso:",U),p(!1)}},[]);Se.useEffect(()=>{Pa.isNativePlatform()&&I()},[I]);const P=N.useCallback(U=>{console.log(" [Location] Posio obtida com sucesso:",U);const X={latitude:U.coords.latitude,longitude:U.coords.longitude,accuracy:U.coords.accuracy,altitude:U.coords.altitude,altitudeAccuracy:U.coords.altitudeAccuracy,heading:U.coords.heading,speed:U.coords.speed};n({coordinates:X,timestamp:U.timestamp}),f(!0),i(!1),a(null),E(X.latitude,X.longitude)},[]),C=N.useCallback(U=>{if(U.message.includes("permissions policy")||U.message.includes("Permissions Policy")||U.code===1){console.log(" [Location] GPS no disponvel - Ativando modo simulao (So Paulo)...");const O={latitude:-23.55052,longitude:-46.633308,accuracy:10},K={coordinates:O,timestamp:Date.now(),city:"So Paulo",state:"So Paulo",country:"Brasil",address:"Praa da S, Centro Histrico de So Paulo, So Paulo, Brasil"};n(K),f(!1),i(!1),a(null),A(O.latitude,O.longitude,{city:"So Paulo",state:"So Paulo",country:"Brasil",address:"Praa da S, Centro Histrico de So Paulo, So Paulo, Brasil"}),console.log(" [Location] Modo simulao ativo - Exibindo So Paulo");return}console.error(" [Location] Erro de geolocalizao:",U),console.error(" [Location] Cdigo do erro:",U.code),console.error(" [Location] Mensagem:",U.message);let J="Erro ao obter localizao";switch(U.code){case U.PERMISSION_DENIED:J="Voc bloqueou o acesso  localizao. Por favor, permita nas configuraes do navegador.",console.error(" [Location] PERMISSO NEGADA - Usurio bloqueou a localizao"),f(!1);break;case U.POSITION_UNAVAILABLE:J="Localizao indisponvel. Verifique se o GPS est ativado.",console.error(" [Location] POSIO INDISPONVEL - GPS pode estar desligado");break;case U.TIMEOUT:J="Tempo esgotado ao obter localizao. Tente novamente.",console.error(" [Location] TIMEOUT - Demorou muito para obter localizao");break;default:J=`Erro desconhecido (cdigo ${U.code}): ${U.message}`,console.error(" [Location] ERRO DESCONHECIDO:",U)}a(J),i(!1)},[]),E=async(U,X)=>{try{console.log(" [Geocoding] Fazendo geocoding reverso...");const J=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${U}&lon=${X}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"NexCoin/1.0"}});if(J.ok){const O=await J.json();console.log(" [Geocoding] Endereo obtido:",O);const K={city:O.address?.city||O.address?.town||O.address?.village||"Desconhecido",state:O.address?.state||"",country:O.address?.country||"",address:O.display_name||""};n(H=>H?{...H,...K}:null),A(U,X,K)}else A(U,X)}catch{console.log(" [Geocoding] No foi possvel obter endereo (ambiente restrito)"),A(U,X)}},A=async(U,X,J)=>{_(!0),z(null);try{const O=bn.currentUser;if(!O){console.log(" [Firestore] Usurio NO autenticado - no salvando localizao"),console.log(" [Firestore] Faa login primeiro para salvar a localizao"),_(!1),z("Usurio no autenticado");return}console.log(" [Firestore]  Usurio autenticado:",O.uid),console.log(" [Firestore] Email:",O.email),console.log(" [Firestore] Salvando em: userLocations/"+O.uid);const K=et(we,"userLocations",O.uid),H={userId:O.uid,userEmail:O.email||"",coordinates:{latitude:U,longitude:X},timestamp:$i(),updatedAt:$i()};J?(H.city=J.city,H.state=J.state,H.country=J.country,H.address=J.address,console.log(" [Firestore] Com endereo:",J.city)):console.log(" [Firestore] Sem dados de endereo"),console.log(" [Firestore] Dados completos:",H),await Rn(K,H,{merge:!0}),console.log(" [Firestore]  LOCALIZAO SALVA COM SUCESSO! "),console.log(" [Firestore] Acesse: https://console.firebase.google.com"),console.log(" [Firestore] V em: Firestore Database > userLocations"),_(!1),R(new Date),z(null)}catch(O){console.error(" [Firestore] ERRO ao salvar localizao:",O),console.error(" [Firestore] Detalhes do erro:",JSON.stringify(O,null,2));const K=O instanceof Error&&(O.message.includes("permission-denied")||O.message.includes("Missing or insufficient permissions"));_(!1),K?(z("Firestore permission-denied - Regras precisam ser publicadas"),console.error(" [Firestore] ERRO DE PERMISSO - As regras do Firestore no foram publicadas!"),console.error(" [Firestore] Execute: bash deploy-firestore-rules.sh"),console.error(" [Firestore] Ou publique manualmente em: https://console.firebase.google.com/project/NexCoin-app/firestore/rules")):z("Erro ao salvar localizao no Firestore")}},j=N.useCallback(async()=>{if(!navigator.geolocation){a("Geolocalizao no  suportada pelo seu navegador");return}i(!0),a(null),navigator.geolocation.getCurrentPosition(P,C,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[P,C]),V=N.useCallback(async()=>{const U=Pa.isNativePlatform();try{if(U&&(await lf.checkPermissions()).location!=="granted"){console.log(" [Location] Permisso no concedida, solicitando..."),i(!1);return}if(l)return;if(console.log(" [Location] Iniciando monitoramento de localizao..."),i(!0),a(null),c(!0),U){const X=await lf.watchPosition({enableHighAccuracy:!0,timeout:1e4},(J,O)=>{if(O){C(O);return}J&&P(J)});x(X)}else{const X=navigator.geolocation.watchPosition(P,C,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0});x(X)}console.log(" [Location] Monitoramento iniciado")}catch(X){console.error(" [Location] Erro ao iniciar monitoramento:",X),c(!1),i(!1)}},[P,C,l]),B=N.useCallback(async()=>{y!==null&&(console.log(" [Location] Parando monitoramento..."),Pa.isNativePlatform()?await lf.clearWatch({id:y}):navigator.geolocation.clearWatch(y),x(null),c(!1))},[y]),F={location:e,isLoading:r,error:s,isWatching:l,hasPermission:d,hasCameraPermission:m,checkCameraPermission:I,watchLocation:V,stopWatching:B,getCurrentLocation:j,isSavingToFirestore:b,lastFirestoreSave:S,firestoreError:D};return Se.useEffect(()=>{(async()=>(await new Promise(X=>setTimeout(X,2e3)),Pa.isNativePlatform()?(await lf.checkPermissions()).location==="granted"?(console.log(" [Location] Permisso j concedida, ativando GPS..."),V()):console.log(" [Location] Sem permisso prvia, no incomodando o usurio agora."):console.log(" [Web] Localizao automtica desativada para evitar pop-ups")))()},[]),o.jsx(TU.Provider,{value:F,children:t})}function PU(){const t=N.useContext(TU);if(t===void 0)throw new Error("useLocation deve ser usado dentro de LocationProvider");return t}async function AU(t,e=200,n=.7){return new Promise((r,i)=>{const s=new FileReader;s.onload=a=>{const l=new Image;l.onload=()=>{let c=l.width,d=l.height;c>d?c>e&&(d=d*e/c,c=e):d>e&&(c=c*e/d,d=e);const f=document.createElement("canvas");f.width=c,f.height=d;const m=f.getContext("2d");if(!m){i(new Error("No foi possvel criar contexto do canvas"));return}m.drawImage(l,0,0,c,d);const p=f.toDataURL("image/jpeg",n),x=p.length*3/4/1024;if(console.log(" Imagem comprimida:"),console.log(`   Original: ${(t.size/1024).toFixed(2)} KB`),console.log(`   Comprimida: ${x.toFixed(2)} KB`),console.log(`   Dimenses: ${c}x${d}`),x>100&&n>.3){console.log(" Imagem ainda muito grande, comprimindo mais..."),AU(t,e*.8,n*.7).then(r).catch(i);return}r(p)},l.onerror=()=>{i(new Error("Erro ao carregar imagem"))},l.src=a.target?.result},s.onerror=()=>{i(new Error("Erro ao ler arquivo"))},s.readAsDataURL(t)})}var Sb=a6();const Fie=_i(Sb);var Bie=t=>{switch(t){case"success":return $ie;case"info":return Hie;case"warning":return qie;case"error":return Wie;default:return null}},zie=Array(12).fill(0),Uie=({visible:t,className:e})=>Se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Se.createElement("div",{className:"sonner-spinner"},zie.map((n,r)=>Se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),$ie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),qie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Hie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Wie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Kie=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Gie=()=>{let[t,e]=Se.useState(document.hidden);return Se.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},KE=1,Xie=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:KE++,s=this.toasts.find(l=>l.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:n}),{...l,...t,id:i,dismissible:a,title:n}):l):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,a=r.then(async c=>{if(s=["resolve",c],Se.isValidElement(c))i=!1,this.create({id:n,type:"default",message:c});else if(Qie(c)&&!c.ok){i=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:d,description:f})}else if(e.success!==void 0){i=!1;let d=typeof e.success=="function"?await e.success(c):e.success,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let d=typeof e.error=="function"?await e.error(c):e.error,f=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var c;i&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,d)=>a.then(()=>s[0]==="reject"?d(s[1]):c(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(t,e)=>{let n=e?.id||KE++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},di=new Xie,Yie=(t,e)=>{let n=e?.id||KE++;return di.addToast({title:t,...e,id:n}),n},Qie=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Jie=Yie,Zie=()=>di.toasts,ese=()=>di.getActiveToasts(),Me=Object.assign(Jie,{success:di.success,info:di.info,warning:di.warning,error:di.error,custom:di.custom,message:di.message,promise:di.promise,dismiss:di.dismiss,loading:di.loading},{getHistory:Zie,getToasts:ese});function tse(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}tse(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function pv(t){return t.label!==void 0}var nse=3,rse="32px",ise="16px",qD=4e3,sse=356,ase=14,ose=20,lse=200;function Ss(...t){return t.filter(Boolean).join(" ")}function cse(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var use=t=>{var e,n,r,i,s,a,l,c,d,f,m;let{invert:p,toast:y,unstyled:x,interacting:b,setHeights:_,visibleToasts:S,heights:R,index:D,toasts:z,expanded:I,removeToast:P,defaultRichColors:C,closeButton:E,style:A,cancelButtonStyle:j,actionButtonStyle:V,className:B="",descriptionClassName:F="",duration:U,position:X,gap:J,loadingIcon:O,expandByDefault:K,classNames:H,icons:k,closeButtonAriaLabel:$="Close toast",pauseWhenPageIsHidden:G}=t,[Z,Y]=Se.useState(null),[te,ie]=Se.useState(null),[ne,be]=Se.useState(!1),[se,ve]=Se.useState(!1),[Pe,fe]=Se.useState(!1),[Ae,De]=Se.useState(!1),[Ze,ct]=Se.useState(!1),[Be,yt]=Se.useState(0),[dt,oe]=Se.useState(0),Ee=Se.useRef(y.duration||U||qD),Xe=Se.useRef(null),de=Se.useRef(null),Ke=D===0,ft=D+1<=S,st=y.type,at=y.dismissible!==!1,kt=y.className||"",Qt=y.descriptionClassName||"",gr=Se.useMemo(()=>R.findIndex(tt=>tt.toastId===y.id)||0,[R,y.id]),Mn=Se.useMemo(()=>{var tt;return(tt=y.closeButton)!=null?tt:E},[y.closeButton,E]),Ks=Se.useMemo(()=>y.duration||U||qD,[y.duration,U]),Wr=Se.useRef(0),Ti=Se.useRef(0),Qo=Se.useRef(0),tr=Se.useRef(null),[Jo,Gs]=X.split("-"),Ka=Se.useMemo(()=>R.reduce((tt,Pt,zt)=>zt>=gr?tt:tt+Pt.height,0),[R,gr]),Gi=Gie(),gs=y.invert||p,Jt=st==="loading";Ti.current=Se.useMemo(()=>gr*J+Ka,[gr,Ka]),Se.useEffect(()=>{Ee.current=Ks},[Ks]),Se.useEffect(()=>{be(!0)},[]),Se.useEffect(()=>{let tt=de.current;if(tt){let Pt=tt.getBoundingClientRect().height;return oe(Pt),_(zt=>[{toastId:y.id,height:Pt,position:y.position},...zt]),()=>_(zt=>zt.filter(Cn=>Cn.toastId!==y.id))}},[_,y.id]),Se.useLayoutEffect(()=>{if(!ne)return;let tt=de.current,Pt=tt.style.height;tt.style.height="auto";let zt=tt.getBoundingClientRect().height;tt.style.height=Pt,oe(zt),_(Cn=>Cn.find(Ar=>Ar.toastId===y.id)?Cn.map(Ar=>Ar.toastId===y.id?{...Ar,height:zt}:Ar):[{toastId:y.id,height:zt,position:y.position},...Cn])},[ne,y.title,y.description,_,y.id]);let ii=Se.useCallback(()=>{ve(!0),yt(Ti.current),_(tt=>tt.filter(Pt=>Pt.toastId!==y.id)),setTimeout(()=>{P(y)},lse)},[y,P,_,Ti]);Se.useEffect(()=>{if(y.promise&&st==="loading"||y.duration===1/0||y.type==="loading")return;let tt;return I||b||G&&Gi?(()=>{if(Qo.current<Wr.current){let Pt=new Date().getTime()-Wr.current;Ee.current=Ee.current-Pt}Qo.current=new Date().getTime()})():Ee.current!==1/0&&(Wr.current=new Date().getTime(),tt=setTimeout(()=>{var Pt;(Pt=y.onAutoClose)==null||Pt.call(y,y),ii()},Ee.current)),()=>clearTimeout(tt)},[I,b,y,st,G,Gi,ii]),Se.useEffect(()=>{y.delete&&ii()},[ii,y.delete]);function Xs(){var tt,Pt,zt;return k!=null&&k.loading?Se.createElement("div",{className:Ss(H?.loader,(tt=y?.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":st==="loading"},k.loading):O?Se.createElement("div",{className:Ss(H?.loader,(Pt=y?.classNames)==null?void 0:Pt.loader,"sonner-loader"),"data-visible":st==="loading"},O):Se.createElement(Uie,{className:Ss(H?.loader,(zt=y?.classNames)==null?void 0:zt.loader),visible:st==="loading"})}return Se.createElement("li",{tabIndex:0,ref:de,className:Ss(B,kt,H?.toast,(e=y?.classNames)==null?void 0:e.toast,H?.default,H?.[st],(n=y?.classNames)==null?void 0:n[st]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:C,"data-styled":!(y.jsx||y.unstyled||x),"data-mounted":ne,"data-promise":!!y.promise,"data-swiped":Ze,"data-removed":se,"data-visible":ft,"data-y-position":Jo,"data-x-position":Gs,"data-index":D,"data-front":Ke,"data-swiping":Pe,"data-dismissible":at,"data-type":st,"data-invert":gs,"data-swipe-out":Ae,"data-swipe-direction":te,"data-expanded":!!(I||K&&ne),style:{"--index":D,"--toasts-before":D,"--z-index":z.length-D,"--offset":`${se?Be:Ti.current}px`,"--initial-height":K?"auto":`${dt}px`,...A,...y.style},onDragEnd:()=>{fe(!1),Y(null),tr.current=null},onPointerDown:tt=>{Jt||!at||(Xe.current=new Date,yt(Ti.current),tt.target.setPointerCapture(tt.pointerId),tt.target.tagName!=="BUTTON"&&(fe(!0),tr.current={x:tt.clientX,y:tt.clientY}))},onPointerUp:()=>{var tt,Pt,zt,Cn;if(Ae||!at)return;tr.current=null;let Ar=Number(((tt=de.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ir=Number(((Pt=de.current)==null?void 0:Pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),jr=new Date().getTime()-((zt=Xe.current)==null?void 0:zt.getTime()),Ln=Z==="x"?Ar:Ir,Pi=Math.abs(Ln)/jr;if(Math.abs(Ln)>=ose||Pi>.11){yt(Ti.current),(Cn=y.onDismiss)==null||Cn.call(y,y),ie(Z==="x"?Ar>0?"right":"left":Ir>0?"down":"up"),ii(),De(!0),ct(!1);return}fe(!1),Y(null)},onPointerMove:tt=>{var Pt,zt,Cn,Ar;if(!tr.current||!at||((Pt=window.getSelection())==null?void 0:Pt.toString().length)>0)return;let Ir=tt.clientY-tr.current.y,jr=tt.clientX-tr.current.x,Ln=(zt=t.swipeDirections)!=null?zt:cse(X);!Z&&(Math.abs(jr)>1||Math.abs(Ir)>1)&&Y(Math.abs(jr)>Math.abs(Ir)?"x":"y");let Pi={x:0,y:0};Z==="y"?(Ln.includes("top")||Ln.includes("bottom"))&&(Ln.includes("top")&&Ir<0||Ln.includes("bottom")&&Ir>0)&&(Pi.y=Ir):Z==="x"&&(Ln.includes("left")||Ln.includes("right"))&&(Ln.includes("left")&&jr<0||Ln.includes("right")&&jr>0)&&(Pi.x=jr),(Math.abs(Pi.x)>0||Math.abs(Pi.y)>0)&&ct(!0),(Cn=de.current)==null||Cn.style.setProperty("--swipe-amount-x",`${Pi.x}px`),(Ar=de.current)==null||Ar.style.setProperty("--swipe-amount-y",`${Pi.y}px`)}},Mn&&!y.jsx?Se.createElement("button",{"aria-label":$,"data-disabled":Jt,"data-close-button":!0,onClick:Jt||!at?()=>{}:()=>{var tt;ii(),(tt=y.onDismiss)==null||tt.call(y,y)},className:Ss(H?.closeButton,(i=y?.classNames)==null?void 0:i.closeButton)},(s=k?.close)!=null?s:Kie):null,y.jsx||N.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:Se.createElement(Se.Fragment,null,st||y.icon||y.promise?Se.createElement("div",{"data-icon":"",className:Ss(H?.icon,(a=y?.classNames)==null?void 0:a.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Xs():null,y.type!=="loading"?y.icon||k?.[st]||Bie(st):null):null,Se.createElement("div",{"data-content":"",className:Ss(H?.content,(l=y?.classNames)==null?void 0:l.content)},Se.createElement("div",{"data-title":"",className:Ss(H?.title,(c=y?.classNames)==null?void 0:c.title)},typeof y.title=="function"?y.title():y.title),y.description?Se.createElement("div",{"data-description":"",className:Ss(F,Qt,H?.description,(d=y?.classNames)==null?void 0:d.description)},typeof y.description=="function"?y.description():y.description):null),N.isValidElement(y.cancel)?y.cancel:y.cancel&&pv(y.cancel)?Se.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||j,onClick:tt=>{var Pt,zt;pv(y.cancel)&&at&&((zt=(Pt=y.cancel).onClick)==null||zt.call(Pt,tt),ii())},className:Ss(H?.cancelButton,(f=y?.classNames)==null?void 0:f.cancelButton)},y.cancel.label):null,N.isValidElement(y.action)?y.action:y.action&&pv(y.action)?Se.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||V,onClick:tt=>{var Pt,zt;pv(y.action)&&((zt=(Pt=y.action).onClick)==null||zt.call(Pt,tt),!tt.defaultPrevented&&ii())},className:Ss(H?.actionButton,(m=y?.classNames)==null?void 0:m.actionButton)},y.action.label):null))};function HD(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function dse(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",l=s?ise:rse;function c(d){["top","right","bottom","left"].forEach(f=>{n[`${a}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${a}-${d}`]=l:n[`${a}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(l)}),n}var fse=N.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:l,offset:c,mobileOffset:d,theme:f="light",richColors:m,duration:p,style:y,visibleToasts:x=nse,toastOptions:b,dir:_=HD(),gap:S=ase,loadingIcon:R,icons:D,containerAriaLabel:z="Notifications",pauseWhenPageIsHidden:I}=t,[P,C]=Se.useState([]),E=Se.useMemo(()=>Array.from(new Set([r].concat(P.filter(G=>G.position).map(G=>G.position)))),[P,r]),[A,j]=Se.useState([]),[V,B]=Se.useState(!1),[F,U]=Se.useState(!1),[X,J]=Se.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=Se.useRef(null),K=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=Se.useRef(null),k=Se.useRef(!1),$=Se.useCallback(G=>{C(Z=>{var Y;return(Y=Z.find(te=>te.id===G.id))!=null&&Y.delete||di.dismiss(G.id),Z.filter(({id:te})=>te!==G.id)})},[]);return Se.useEffect(()=>di.subscribe(G=>{if(G.dismiss){C(Z=>Z.map(Y=>Y.id===G.id?{...Y,delete:!0}:Y));return}setTimeout(()=>{Fie.flushSync(()=>{C(Z=>{let Y=Z.findIndex(te=>te.id===G.id);return Y!==-1?[...Z.slice(0,Y),{...Z[Y],...G},...Z.slice(Y+1)]:[G,...Z]})})})}),[]),Se.useEffect(()=>{if(f!=="system"){J(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let G=window.matchMedia("(prefers-color-scheme: dark)");try{G.addEventListener("change",({matches:Z})=>{J(Z?"dark":"light")})}catch{G.addListener(({matches:Y})=>{try{J(Y?"dark":"light")}catch(te){console.error(te)}})}},[f]),Se.useEffect(()=>{P.length<=1&&B(!1)},[P]),Se.useEffect(()=>{let G=Z=>{var Y,te;i.every(ie=>Z[ie]||Z.code===ie)&&(B(!0),(Y=O.current)==null||Y.focus()),Z.code==="Escape"&&(document.activeElement===O.current||(te=O.current)!=null&&te.contains(document.activeElement))&&B(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[i]),Se.useEffect(()=>{if(O.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,k.current=!1)}},[O.current]),Se.createElement("section",{ref:e,"aria-label":`${z} ${K}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((G,Z)=>{var Y;let[te,ie]=G.split("-");return P.length?Se.createElement("ol",{key:G,dir:_==="auto"?HD():_,tabIndex:-1,ref:O,className:l,"data-sonner-toaster":!0,"data-theme":X,"data-y-position":te,"data-lifted":V&&P.length>1&&!s,"data-x-position":ie,style:{"--front-toast-height":`${((Y=A[0])==null?void 0:Y.height)||0}px`,"--width":`${sse}px`,"--gap":`${S}px`,...y,...dse(c,d)},onBlur:ne=>{k.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(k.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||k.current||(k.current=!0,H.current=ne.relatedTarget)},onMouseEnter:()=>B(!0),onMouseMove:()=>B(!0),onMouseLeave:()=>{F||B(!1)},onDragEnd:()=>B(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},P.filter(ne=>!ne.position&&Z===0||ne.position===G).map((ne,be)=>{var se,ve;return Se.createElement(use,{key:ne.id,icons:D,index:be,toast:ne,defaultRichColors:m,duration:(se=b?.duration)!=null?se:p,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:n,visibleToasts:x,closeButton:(ve=b?.closeButton)!=null?ve:a,interacting:F,position:G,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,removeToast:$,toasts:P.filter(Pe=>Pe.position==ne.position),heights:A.filter(Pe=>Pe.position==ne.position),setHeights:j,expandByDefault:s,gap:S,loadingIcon:R,expanded:V,pauseWhenPageIsHidden:I,swipeDirections:t.swipeDirections})})):null}))});const WD={BTC:"https://coin-images.coingecko.com/coins/images/1/large/bitcoin.png",ETH:"https://coin-images.coingecko.com/coins/images/279/large/ethereum.png",USDT:"https://coin-images.coingecko.com/coins/images/325/large/Tether.png",TETHER:"https://coin-images.coingecko.com/coins/images/325/large/Tether.png",BNB:"https://coin-images.coingecko.com/coins/images/825/large/bnb-icon2_2x.png",SOL:"https://coin-images.coingecko.com/coins/images/4128/large/solana.png",XRP:"https://coin-images.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png",ADA:"https://coin-images.coingecko.com/coins/images/975/large/cardano.png",AVAX:"https://coin-images.coingecko.com/coins/images/12559/large/Avalanche_Circle_RedWhite_Trans.png",DOGE:"https://coin-images.coingecko.com/coins/images/5/large/dogecoin.png",DOT:"https://coin-images.coingecko.com/coins/images/12171/large/polkadot.png",MATIC:"https://coin-images.coingecko.com/coins/images/4713/large/matic-token-icon.png",LINK:"https://coin-images.coingecko.com/coins/images/877/large/chainlink-new-logo.png",UNI:"https://coin-images.coingecko.com/coins/images/12504/large/uniswap-uni.png",LTC:"https://coin-images.coingecko.com/coins/images/2/large/litecoin.png",ATOM:"https://coin-images.coingecko.com/coins/images/1481/large/cosmos_hub.png",XLM:"https://coin-images.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png",TRX:"https://coin-images.coingecko.com/coins/images/1094/large/tron-logo.png",SHIB:"https://coin-images.coingecko.com/coins/images/11939/large/shiba.png",WBTC:"https://coin-images.coingecko.com/coins/images/7598/large/wrapped_bitcoin_wbtc.png",DAI:"https://coin-images.coingecko.com/coins/images/9956/large/4943.png",LEO:"https://coin-images.coingecko.com/coins/images/8418/large/leo-token.png",USDC:"https://coin-images.coingecko.com/coins/images/6319/large/USD_Coin_icon.png",TON:"https://coin-images.coingecko.com/coins/images/17980/large/ton_symbol.png",ETC:"https://coin-images.coingecko.com/coins/images/453/large/ethereum-classic-logo.png",BCH:"https://coin-images.coingecko.com/coins/images/780/large/bitcoin-cash-circle.png",APT:"https://coin-images.coingecko.com/coins/images/26455/large/aptos_round.png",ARB:"https://coin-images.coingecko.com/coins/images/16547/large/photo_2023-03-29_21.47.00.jpeg",OP:"https://coin-images.coingecko.com/coins/images/25244/large/Optimism.png",ICP:"https://coin-images.coingecko.com/coins/images/14495/large/Internet_Computer_logo.png",FIL:"https://coin-images.coingecko.com/coins/images/12817/large/filecoin.png",NEAR:"https://coin-images.coingecko.com/coins/images/10365/large/near_icon.png",VET:"https://coin-images.coingecko.com/coins/images/1167/large/VeChain-Logo-768x725.png",ALGO:"https://coin-images.coingecko.com/coins/images/4380/large/download.png",INJ:"https://coin-images.coingecko.com/coins/images/12882/large/Secondary_Symbol.png",AAVE:"https://coin-images.coingecko.com/coins/images/12645/large/AAVE.png",MKR:"https://coin-images.coingecko.com/coins/images/1364/large/Mark_Maker.png",GRT:"https://coin-images.coingecko.com/coins/images/13397/large/Graph_Token.png",IMX:"https://coin-images.coingecko.com/coins/images/17233/large/imx.png",STX:"https://coin-images.coingecko.com/coins/images/2069/large/Stacks_logo_full.png",HBAR:"https://coin-images.coingecko.com/coins/images/3688/large/hbar.png",FTM:"https://coin-images.coingecko.com/coins/images/4001/large/Fantom.png",SAND:"https://coin-images.coingecko.com/coins/images/12129/large/sandbox_logo.jpg",MANA:"https://coin-images.coingecko.com/coins/images/878/large/decentraland-mana.png",AXS:"https://coin-images.coingecko.com/coins/images/13029/large/axie_infinity_logo.png",XTZ:"https://coin-images.coingecko.com/coins/images/976/large/Tezos-logo.png",THETA:"https://coin-images.coingecko.com/coins/images/2538/large/theta-token-logo.png",EOS:"https://coin-images.coingecko.com/coins/images/738/large/eos-eos-logo.png",XMR:"https://coin-images.coingecko.com/coins/images/69/large/monero_logo.png",FLOW:"https://coin-images.coingecko.com/coins/images/13446/large/flow.png",CHZ:"https://coin-images.coingecko.com/coins/images/8834/large/Chiliz.png",ZEC:"https://coin-images.coingecko.com/coins/images/486/large/circle-zcash-color.png",RUNE:"https://coin-images.coingecko.com/coins/images/6595/large/TC-Icon-Round-Dark.png",KLAY:"https://coin-images.coingecko.com/coins/images/9672/large/klaytn.png",DASH:"https://coin-images.coingecko.com/coins/images/19/large/dash-logo.png",NEO:"https://coin-images.coingecko.com/coins/images/480/large/NEO_512_512.png",IOTA:"https://coin-images.coingecko.com/coins/images/692/large/IOTA_Swirl.png",QNT:"https://coin-images.coingecko.com/coins/images/3370/large/5ZOu7brX_400x400.jpg",EGLD:"https://coin-images.coingecko.com/coins/images/12335/large/egld-token-logo.png",PEPE:"https://coin-images.coingecko.com/coins/images/29850/large/pepe-token.jpeg",FET:"https://coin-images.coingecko.com/coins/images/5681/large/Fetch.jpg",SUI:"https://coin-images.coingecko.com/coins/images/26375/large/sui_asset.jpeg",SEI:"https://coin-images.coingecko.com/coins/images/28205/large/sei_icon.jpg",BRL:"https://flagcdn.com/w80/br.png",USD:"https://flagcdn.com/w80/us.png",EUR:"https://flagcdn.com/w80/eu.png",GBP:"https://flagcdn.com/w80/gb.png"},hse={BTC:"#F7931A",ETH:"#627EEA",USDT:"#26A17B",TETHER:"#26A17B",BNB:"#F3BA2F",SOL:"#14F195",XRP:"#23292F",ADA:"#0033AD",AVAX:"#E84142",DOGE:"#C2A633",DOT:"#E6007A",MATIC:"#8247E5",LINK:"#2A5ADA",UNI:"#FF007A",LTC:"#345D9D",ATOM:"#2E3148",XLM:"#14B6E7",TRX:"#EB0029",SHIB:"#FFA409",WBTC:"#F09242",DAI:"#F5AC37",LEO:"#D33C40",USDC:"#2775CA",TON:"#0088CC",ETC:"#328432",BCH:"#8DC351",APT:"#000000",ARB:"#28A0F0",OP:"#FF0420",ICP:"#29ABE2",FIL:"#0090FF",NEAR:"#000000",VET:"#15BDFF",ALGO:"#000000",INJ:"#00F2FE",AAVE:"#B6509E",MKR:"#1AAB9B",GRT:"#6747ED",IMX:"#0B0D23",STX:"#5546FF",HBAR:"#000000",FTM:"#13B5EC",SAND:"#00ADEF",MANA:"#FF2D55",AXS:"#0055D5",XTZ:"#2C7DF7",THETA:"#2AB8E6",EOS:"#000000",XMR:"#FF6600",FLOW:"#00EF8B",CHZ:"#CD0124",ZEC:"#F4B728",RUNE:"#00CCFF",KLAY:"#FF3D00",DASH:"#008CE7",NEO:"#58BF00",IOTA:"#000000",QNT:"#1A1A1A",EGLD:"#000000",PEPE:"#22C55E",FET:"#0714FE",SUI:"#6FBCF0",SEI:"#A91B1B"};function ht({symbol:t,size:e="md"}){const[n,r]=N.useState(!1),i={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},s=WD[t.toUpperCase()]||WD.BTC,a=hse[t.toUpperCase()]||"#6B7280";return n?o.jsx("div",{className:`${i[e]} rounded-full flex items-center justify-center text-white shadow-md`,style:{backgroundColor:a},children:o.jsx("span",{className:e==="xs"?"text-[8px]":e==="sm"?"text-[10px]":e==="md"?"text-xs":"text-sm",children:t.toUpperCase().slice(0,3)})}):o.jsx("div",{className:`${i[e]} rounded-full overflow-hidden flex items-center justify-center bg-white shadow-md`,children:o.jsx("img",{src:s,alt:`${t} icon`,className:"w-full h-full object-cover",onError:()=>r(!0),crossOrigin:"anonymous",loading:"lazy"})})}function mse({coinId:t,color:e}){const[n,r]=N.useState([]);N.useEffect(()=>{const l=async()=>{try{const d=await fetch(`https://api.coingecko.com/api/v3/coins/${t}/market_chart?vs_currency=usd&days=1&interval=hourly`);if(!d.ok){r(i());return}const f=d.headers.get("content-type");if(!f||!f.includes("application/json")){r(i());return}const m=await d.json();if(m.prices&&m.prices.length>0){const p=m.prices.map(y=>y[1]);r(p)}else r(i())}catch{r(i())}};l();const c=setInterval(l,15e3);return()=>clearInterval(c)},[t]);const i=()=>{const l=[];let c=100;for(let d=0;d<24;d++)c+=(Math.random()-.5)*10,l.push(c);return l},s=()=>{if(n.length===0)return"M0,20 L100,20";const l=Math.min(...n),d=Math.max(...n)-l||1;return`M${n.map((m,p)=>{const y=p/(n.length-1)*100,x=40-(m-l)/d*30-5;return`${y},${x}`}).join(" L")}`},a=()=>{if(n.length===0)return"M0,20 L100,20 L100,40 L0,40 Z";const l=Math.min(...n),d=Math.max(...n)-l||1;return`M${n.map((m,p)=>{const y=p/(n.length-1)*100,x=40-(m-l)/d*30-5;return`${y},${x}`}).join(" L")} L100,40 L0,40 Z`};return o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 40",children:[o.jsx("defs",{children:o.jsxs("linearGradient",{id:`gradient-${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:e,stopOpacity:"0.3"}),o.jsx("stop",{offset:"100%",stopColor:e,stopOpacity:"0"})]})}),o.jsx("path",{d:a(),fill:`url(#gradient-${t})`}),o.jsx("path",{d:s(),fill:"none",stroke:e,strokeLinecap:"round",strokeWidth:"2"})]})}function IU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=IU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=IU(t))&&(r&&(r+=" "),r+=e);return r}var pse=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function YP(t){if(typeof t!="string")return!1;var e=pse;return e.includes(t)}var gse=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],yse=new Set(gse);function jU(t){return typeof t!="string"?!1:yse.has(t)}function kU(t){return typeof t=="string"&&t.startsWith("data-")}function Us(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(jU(n)||kU(n))&&(e[n]=t[n]);return e}function Tb(t){if(t==null)return null;if(N.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Us(e)}return typeof t=="object"&&!Array.isArray(t)?Us(t):null}function Hr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(jU(n)||kU(n)||YP(n))&&(e[n]=t[n]);return e}function vse(t){return t==null?null:N.isValidElement(t)?Hr(t.props):typeof t=="object"&&!Array.isArray(t)?Hr(t):null}var xse=["children","width","height","viewBox","className","style","title","desc"];function GE(){return GE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GE.apply(null,arguments)}function bse(t,e){if(t==null)return{};var n,r,i=wse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var RU=N.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:l,title:c,desc:d}=t,f=bse(t,xse),m=s||{width:r,height:i,x:0,y:0},p=Yt("recharts-surface",a);return N.createElement("svg",GE({},Hr(f),{className:p,width:r,height:i,style:l,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),N.createElement("title",null,c),N.createElement("desc",null,d),n)}),_se=["children","className"];function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XE.apply(null,arguments)}function Nse(t,e){if(t==null)return{};var n,r,i=Cse(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var fs=N.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Nse(t,_se),s=Yt("recharts-layer",r);return N.createElement("g",XE({className:s},Hr(i),{ref:e}),n)}),Ese=N.createContext(null);function en(t){return function(){return t}}const DU=Math.cos,q0=Math.sin,Hs=Math.sqrt,H0=Math.PI,Pb=2*H0,YE=Math.PI,QE=2*YE,Jc=1e-6,Sse=QE-Jc;function OU(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Tse(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return OU;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Pse{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?OU:Tse(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=r-e,d=i-n,f=a-e,m=l-n,p=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Jc)if(!(Math.abs(m*c-d*f)>Jc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-a,x=i-l,b=c*c+d*d,_=y*y+x*x,S=Math.sqrt(b),R=Math.sqrt(p),D=s*Math.tan((YE-Math.acos((b+p-_)/(2*S*R)))/2),z=D/R,I=D/S;Math.abs(z-1)>Jc&&this._append`L${e+z*f},${n+z*m}`,this._append`A${s},${s},0,0,${+(m*y>f*x)},${this._x1=e+I*c},${this._y1=n+I*d}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),d=e+l,f=n+c,m=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Jc||Math.abs(this._y1-f)>Jc)&&this._append`L${d},${f}`,r&&(p<0&&(p=p%QE+QE),p>Sse?this._append`A${r},${r},0,1,${m},${e-l},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=f}`:p>Jc&&this._append`A${r},${r},0,${+(p>=YE)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function QP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Pse(e)}function JP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function MU(t){this._context=t}MU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ab(t){return new MU(t)}function LU(t){return t[0]}function VU(t){return t[1]}function FU(t,e){var n=en(!0),r=null,i=Ab,s=null,a=QP(l);t=typeof t=="function"?t:t===void 0?LU:en(t),e=typeof e=="function"?e:e===void 0?VU:en(e);function l(c){var d,f=(c=JP(c)).length,m,p=!1,y;for(r==null&&(s=i(y=a())),d=0;d<=f;++d)!(d<f&&n(m=c[d],d,c))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(m,d,c),+e(m,d,c));if(y)return s=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:en(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:en(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:en(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(s=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=s=null:s=i(r=c),l):r},l}function gv(t,e,n){var r=null,i=en(!0),s=null,a=Ab,l=null,c=QP(d);t=typeof t=="function"?t:t===void 0?LU:en(+t),e=typeof e=="function"?e:en(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?VU:en(+n);function d(m){var p,y,x,b=(m=JP(m)).length,_,S=!1,R,D=new Array(b),z=new Array(b);for(s==null&&(l=a(R=c())),p=0;p<=b;++p){if(!(p<b&&i(_=m[p],p,m))===S)if(S=!S)y=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),x=p-1;x>=y;--x)l.point(D[x],z[x]);l.lineEnd(),l.areaEnd()}S&&(D[p]=+t(_,p,m),z[p]=+e(_,p,m),l.point(r?+r(_,p,m):D[p],n?+n(_,p,m):z[p]))}if(R)return l=null,R+""||null}function f(){return FU().defined(i).curve(a).context(s)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:en(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:en(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:en(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:en(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:en(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:en(+m),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:en(!!m),d):i},d.curve=function(m){return arguments.length?(a=m,s!=null&&(l=a(s)),d):a},d.context=function(m){return arguments.length?(m==null?s=l=null:l=a(s=m),d):s},d}class BU{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Ase(t){return new BU(t,!0)}function Ise(t){return new BU(t,!1)}const ZP={draw(t,e){const n=Hs(e/H0);t.moveTo(n,0),t.arc(0,0,n,0,Pb)}},jse={draw(t,e){const n=Hs(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},zU=Hs(1/3),kse=zU*2,Rse={draw(t,e){const n=Hs(e/kse),r=n*zU;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Dse={draw(t,e){const n=Hs(e),r=-n/2;t.rect(r,r,n,n)}},Ose=.8908130915292852,UU=q0(H0/10)/q0(7*H0/10),Mse=q0(Pb/10)*UU,Lse=-DU(Pb/10)*UU,Vse={draw(t,e){const n=Hs(e*Ose),r=Mse*n,i=Lse*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=Pb*s/5,l=DU(a),c=q0(a);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},b_=Hs(3),Fse={draw(t,e){const n=-Hs(e/(b_*3));t.moveTo(0,n*2),t.lineTo(-b_*n,-n),t.lineTo(b_*n,-n),t.closePath()}},rs=-.5,is=Hs(3)/2,JE=1/Hs(12),Bse=(JE/2+1)*3,zse={draw(t,e){const n=Hs(e/Bse),r=n/2,i=n*JE,s=r,a=n*JE+n,l=-s,c=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(l,c),t.lineTo(rs*r-is*i,is*r+rs*i),t.lineTo(rs*s-is*a,is*s+rs*a),t.lineTo(rs*l-is*c,is*l+rs*c),t.lineTo(rs*r+is*i,rs*i-is*r),t.lineTo(rs*s+is*a,rs*a-is*s),t.lineTo(rs*l+is*c,rs*c-is*l),t.closePath()}};function Use(t,e){let n=null,r=QP(i);t=typeof t=="function"?t:en(t||ZP),e=typeof e=="function"?e:en(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:en(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:en(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function W0(){}function K0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $U(t){this._context=t}$U.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:K0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:K0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $se(t){return new $U(t)}function qU(t){this._context=t}qU.prototype={areaStart:W0,areaEnd:W0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:K0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qse(t){return new qU(t)}function HU(t){this._context=t}HU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:K0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Hse(t){return new HU(t)}function WU(t){this._context=t}WU.prototype={areaStart:W0,areaEnd:W0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Wse(t){return new WU(t)}function KD(t){return t<0?-1:1}function GD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),l=(s*i+a*r)/(r+i);return(KD(s)+KD(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function XD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function w_(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,l=(s-r)/3;t._context.bezierCurveTo(r+l,i+l*e,s-l,a-l*n,s,a)}function G0(t){this._context=t}G0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:w_(this,this._t0,XD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,w_(this,XD(this,n=GD(this,t,e)),n);break;default:w_(this,this._t0,n=GD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function KU(t){this._context=new GU(t)}(KU.prototype=Object.create(G0.prototype)).point=function(t,e){G0.prototype.point.call(this,e,t)};function GU(t){this._context=t}GU.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Kse(t){return new G0(t)}function Gse(t){return new KU(t)}function XU(t){this._context=t}XU.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=YD(t),i=YD(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function YD(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function Xse(t){return new XU(t)}function Ib(t,e){this._context=t,this._t=e}Ib.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Yse(t){return new Ib(t,.5)}function Qse(t){return new Ib(t,0)}function Jse(t){return new Ib(t,1)}function Fu(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,l=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<l;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ZE(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Zse(t,e){return t[e]}function eae(t){const e=[];return e.key=t,e}function tae(){var t=en([]),e=ZE,n=Fu,r=Zse;function i(s){var a=Array.from(t.apply(this,arguments),eae),l,c=a.length,d=-1,f;for(const m of s)for(l=0,++d;l<c;++l)(a[l][d]=[0,+r(m,a[l].key,d,s)]).data=m;for(l=0,f=JP(e(a));l<c;++l)a[f[l]].index=l;return n(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:en(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:en(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?ZE:typeof s=="function"?s:en(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Fu,i):n},i}function nae(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Fu(t,e)}}function rae(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,l=0;a<i;++a)l+=t[a][n][1]||0;r[n][1]+=r[n][0]=-l/2}Fu(t,e)}}function iae(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var l=0,c=0,d=0;l<a;++l){for(var f=t[e[l]],m=f[r][1]||0,p=f[r-1][1]||0,y=(m-p)/2,x=0;x<l;++x){var b=t[e[x]],_=b[r][1]||0,S=b[r-1][1]||0;y+=_-S}c+=m,d+=y*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,Fu(t,e)}}var __={},N_={},QD;function sae(){return QD||(QD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(N_)),N_}var C_={},JD;function YU(){return JD||(JD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(C_)),C_}var E_={},ZD;function eA(){return ZD||(ZD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(E_)),E_}var S_={},T_={},e5;function aae(){return e5||(e5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(T_)),T_}var t5;function tA(){return t5||(t5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aae(),n=eA();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let l=0,c="",d="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),l++);l<a;){const m=i[l];d?m==="\\"&&l+1<a?(l++,c+=i[l]):m===d?d="":c+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,s.push(c),c=""):c+=m:m==="["?(f=!0,c&&(s.push(c),c="")):m==="."?c&&(s.push(c),c=""):c+=m,l++}return c&&s.push(c),s}t.toPath=r})(S_)),S_}var n5;function nA(){return n5||(n5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sae(),n=YU(),r=eA(),i=tA();function s(l,c,d){if(l==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?n.isDeepKey(c)?s(l,i.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const f=l[c];return f===void 0?d:f}default:{if(Array.isArray(c))return a(l,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const f=l[c];return f===void 0?d:f}}}function a(l,c,d){if(c.length===0)return d;let f=l;for(let m=0;m<c.length;m++){if(f==null||e.isUnsafeProperty(c[m]))return d;f=f[c[m]]}return f===void 0?d:f}t.get=s})(__)),__}var P_,r5;function oae(){return r5||(r5=1,P_=nA().get),P_}var lae=oae();const jb=_i(lae);var cae=4;function Bl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cae,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Pn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,a)=>{var l=n[a-1];return typeof l=="string"?i+l+s:l!==void 0?i+Bl(l)+s:i+s},"")}var Os=t=>t===0?0:t>0?1:-1,Ba=t=>typeof t=="number"&&t!=+t,Bu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Je=t=>(typeof t=="number"||t instanceof Number)&&!Ba(t),za=t=>Je(t)||typeof t=="string",uae=0,Lp=t=>{var e=++uae;return"".concat(t||"").concat(e)},ac=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Je(e)&&typeof e!="string")return r;var s;if(Bu(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Ba(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},QU=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Un(t,e,n){return Je(t)&&Je(e)?Bl(t+n*(e-t)):e}function JU(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):jb(r,e))===n)}var fr=t=>t===null||typeof t>"u",Sg=t=>fr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Aa(t){return t!=null}function td(){}var dae=["type","size","sizeType"];function eS(){return eS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eS.apply(null,arguments)}function i5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i5(Object(n),!0).forEach(function(r){fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fae(t,e,n){return(e=hae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hae(t){var e=mae(t,"string");return typeof e=="symbol"?e:e+""}function mae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pae(t,e){if(t==null)return{};var n,r,i=gae(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function gae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ZU={symbolCircle:ZP,symbolCross:jse,symbolDiamond:Rse,symbolSquare:Dse,symbolStar:Vse,symbolTriangle:Fse,symbolWye:zse},yae=Math.PI/180,vae=t=>{var e="symbol".concat(Sg(t));return ZU[e]||ZP},xae=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*yae;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},bae=(t,e)=>{ZU["symbol".concat(Sg(t))]=e},e8=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=pae(t,dae),s=s5(s5({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var l=()=>{var p=vae(a),y=Use().type(p).size(xae(n,r,a)),x=y();if(x!==null)return x},{className:c,cx:d,cy:f}=s,m=Hr(s);return Je(d)&&Je(f)&&Je(n)?N.createElement("path",eS({},m,{className:Yt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:l()})):null};e8.registerSymbol=bae;var t8=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,rA=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{YP(i)&&(r[i]=(s=>n[i](n,s)))}),r},wae=(t,e,n)=>r=>(t(e,n,r),null),_ae=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];YP(i)&&typeof s=="function"&&(r||(r={}),r[i]=wae(s,e,n))}),r};function a5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(n),!0).forEach(function(r){Cae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cae(t,e,n){return(e=Eae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eae(t){var e=Sae(t,"string");return typeof e=="symbol"?e:e+""}function Sae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ci(t,e){var n=Nae({},t),r=e,i=Object.keys(e),s=i.reduce((a,l)=>(a[l]===void 0&&r[l]!==void 0&&(a[l]=r[l]),a),n);return s}var A_={},I_={},o5;function Tae(){return o5||(o5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],l=r(a,s,n);i.has(l)||i.set(l,a)}return Array.from(i.values())}t.uniqBy=e})(I_)),I_}var j_={},l5;function Pae(){return l5||(l5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(j_)),j_}var k_={},c5;function n8(){return c5||(c5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(k_)),k_}var R_={},D_={},O_={},u5;function Aae(){return u5||(u5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(O_)),O_}var d5;function iA(){return d5||(d5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Aae();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(D_)),D_}var M_={},f5;function Iae(){return f5||(f5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(M_)),M_}var h5;function jae(){return h5||(h5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iA(),n=Iae();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(R_)),R_}var L_={},V_={},m5;function kae(){return m5||(m5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nA();function n(r){return function(i){return e.get(i,r)}}t.property=n})(V_)),V_}var F_={},B_={},z_={},U_={},p5;function r8(){return p5||(p5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(U_)),U_}var $_={},g5;function i8(){return g5||(g5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})($_)),$_}var q_={},y5;function s8(){return y5||(y5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(q_)),q_}var v5;function Rae(){return v5||(v5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r8(),n=i8(),r=s8();function i(f,m,p){return typeof p!="function"?i(f,m,()=>{}):s(f,m,function y(x,b,_,S,R,D){const z=p(x,b,_,S,R,D);return z!==void 0?!!z:s(x,b,y,D)},new Map)}function s(f,m,p,y){if(m===f)return!0;switch(typeof m){case"object":return a(f,m,p,y);case"function":return Object.keys(m).length>0?s(f,{...m},p,y):r.isEqualsSameValueZero(f,m);default:return e.isObject(f)?typeof m=="string"?m==="":!0:r.isEqualsSameValueZero(f,m)}}function a(f,m,p,y){if(m==null)return!0;if(Array.isArray(m))return c(f,m,p,y);if(m instanceof Map)return l(f,m,p,y);if(m instanceof Set)return d(f,m,p,y);const x=Object.keys(m);if(f==null||n.isPrimitive(f))return x.length===0;if(x.length===0)return!0;if(y?.has(m))return y.get(m)===f;y?.set(m,f);try{for(let b=0;b<x.length;b++){const _=x[b];if(!n.isPrimitive(f)&&!(_ in f)||m[_]===void 0&&f[_]!==void 0||m[_]===null&&f[_]!==null||!p(f[_],m[_],_,f,m,y))return!1}return!0}finally{y?.delete(m)}}function l(f,m,p,y){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,b]of m.entries()){const _=f.get(x);if(p(_,b,x,f,m,y)===!1)return!1}return!0}function c(f,m,p,y){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let b=0;b<m.length;b++){const _=m[b];let S=!1;for(let R=0;R<f.length;R++){if(x.has(R))continue;const D=f[R];let z=!1;if(p(D,_,b,f,m,y)&&(z=!0),z){x.add(R),S=!0;break}}if(!S)return!1}return!0}function d(f,m,p,y){return m.size===0?!0:f instanceof Set?c([...f],[...m],p,y):!1}t.isMatchWith=i,t.isSetMatch=d})(z_)),z_}var x5;function a8(){return x5||(x5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Rae();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(B_)),B_}var H_={},W_={},K_={},b5;function Dae(){return b5||(b5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(K_)),K_}var G_={},w5;function sA(){return w5||(w5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(G_)),G_}var X_={},_5;function o8(){return _5||(_5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",m="[object Function]",p="[object ArrayBuffer]",y="[object Object]",x="[object Error]",b="[object DataView]",_="[object Uint8Array]",S="[object Uint8ClampedArray]",R="[object Uint16Array]",D="[object Uint32Array]",z="[object BigUint64Array]",I="[object Int8Array]",P="[object Int16Array]",C="[object Int32Array]",E="[object BigInt64Array]",A="[object Float32Array]",j="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=p,t.arrayTag=f,t.bigInt64ArrayTag=E,t.bigUint64ArrayTag=z,t.booleanTag=i,t.dataViewTag=b,t.dateTag=l,t.errorTag=x,t.float32ArrayTag=A,t.float64ArrayTag=j,t.functionTag=m,t.int16ArrayTag=P,t.int32ArrayTag=C,t.int8ArrayTag=I,t.mapTag=c,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=R,t.uint32ArrayTag=D,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=S})(X_)),X_}var Y_={},N5;function Oae(){return N5||(N5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(Y_)),Y_}var C5;function l8(){return C5||(C5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Dae(),n=sA(),r=o8(),i=i8(),s=Oae();function a(f,m){return l(f,void 0,f,new Map,m)}function l(f,m,p,y=new Map,x=void 0){const b=x?.(f,m,p,y);if(b!==void 0)return b;if(i.isPrimitive(f))return f;if(y.has(f))return y.get(f);if(Array.isArray(f)){const _=new Array(f.length);y.set(f,_);for(let S=0;S<f.length;S++)_[S]=l(f[S],S,p,y,x);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;y.set(f,_);for(const[S,R]of f)_.set(S,l(R,S,p,y,x));return _}if(f instanceof Set){const _=new Set;y.set(f,_);for(const S of f)_.add(l(S,void 0,p,y,x));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);y.set(f,_);for(let S=0;S<f.length;S++)_[S]=l(f[S],S,p,y,x);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return y.set(f,_),c(_,f,p,y,x),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return y.set(f,_),c(_,f,p,y,x),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return y.set(f,_),c(_,f,p,y,x),_}if(f instanceof Error){const _=new f.constructor;return y.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,c(_,f,p,y,x),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return y.set(f,_),c(_,f,p,y,x),_}if(f instanceof Number){const _=new Number(f.valueOf());return y.set(f,_),c(_,f,p,y,x),_}if(f instanceof String){const _=new String(f.valueOf());return y.set(f,_),c(_,f,p,y,x),_}if(typeof f=="object"&&d(f)){const _=Object.create(Object.getPrototypeOf(f));return y.set(f,_),c(_,f,p,y,x),_}return f}function c(f,m,p=f,y,x){const b=[...Object.keys(m),...e.getSymbols(m)];for(let _=0;_<b.length;_++){const S=b[_],R=Object.getOwnPropertyDescriptor(f,S);(R==null||R.writable)&&(f[S]=l(m[S],S,p,y,x))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=l,t.copyProperties=c})(W_)),W_}var E5;function Mae(){return E5||(E5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l8();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(H_)),H_}var S5;function Lae(){return S5||(S5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a8(),n=Mae();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(F_)),F_}var Q_={},J_={},Z_={},T5;function Vae(){return T5||(T5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l8(),n=sA(),r=o8();function i(s,a){return e.cloneDeepWith(s,(l,c,d,f)=>{const m=a?.(l,c,d,f);if(m!==void 0)return m;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const p={};return f.set(s,p),e.copyProperties(p,s,d,f),p}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new s.constructor(s?.valueOf());return e.copyProperties(p,s),p}case r.argumentsTag:{const p={};return e.copyProperties(p,s),p.length=s.length,p[Symbol.iterator]=s[Symbol.iterator],p}default:return}}})}t.cloneDeepWith=i})(Z_)),Z_}var P5;function Fae(){return P5||(P5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Vae();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(J_)),J_}var eN={},tN={},A5;function c8(){return A5||(A5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(tN)),tN}var nN={},I5;function Bae(){return I5||(I5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sA();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(nN)),nN}var j5;function zae(){return j5||(j5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YU(),n=c8(),r=Bae(),i=tA();function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&e.isDeepKey(l)&&a?.[l]==null?c=i.toPath(l):c=[l],c.length===0)return!1;let d=a;for(let f=0;f<c.length;f++){const m=c[f];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=s})(eN)),eN}var k5;function Uae(){return k5||(k5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=a8(),n=eA(),r=Fae(),i=nA(),s=zae();function a(l,c){switch(typeof l){case"object":{Object.is(l?.valueOf(),-0)&&(l="-0");break}case"number":{l=n.toKey(l);break}}return c=r.cloneDeep(c),function(d){const f=i.get(d,l);return f===void 0?s.has(d,l):c===void 0?f===void 0:e.isMatch(f,c)}}t.matchesProperty=a})(Q_)),Q_}var R5;function $ae(){return R5||(R5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=n8(),n=kae(),r=Lae(),i=Uae();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(L_)),L_}var D5;function qae(){return D5||(D5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Tae(),n=Pae(),r=n8(),i=jae(),s=$ae();function a(l,c=r.identity){return i.isArrayLikeObject(l)?e.uniqBy(Array.from(l),n.ary(s.iteratee(c),1)):[]}t.uniqBy=a})(A_)),A_}var rN,O5;function Hae(){return O5||(O5=1,rN=qae().uniqBy),rN}var Wae=Hae();const M5=_i(Wae);function Kae(t,e,n){return e===!0?M5(t,n):typeof e=="function"?M5(t,e):t}var iN={exports:{}},sN={},aN={exports:{}},oN={};var L5;function Gae(){if(L5)return oN;L5=1;var t=ni();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function l(m,p){var y=p(),x=r({inst:{value:y,getSnapshot:p}}),b=x[0].inst,_=x[1];return s(function(){b.value=y,b.getSnapshot=p,c(b)&&_({inst:b})},[m,y,p]),i(function(){return c(b)&&_({inst:b}),m(function(){c(b)&&_({inst:b})})},[m]),a(y),y}function c(m){var p=m.getSnapshot;m=m.value;try{var y=p();return!n(m,y)}catch{return!0}}function d(m,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return oN.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,oN}var V5;function Xae(){return V5||(V5=1,aN.exports=Gae()),aN.exports}var F5;function Yae(){if(F5)return sN;F5=1;var t=ni(),e=Xae();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,l=t.useMemo,c=t.useDebugValue;return sN.useSyncExternalStoreWithSelector=function(d,f,m,p,y){var x=s(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=l(function(){function S(P){if(!R){if(R=!0,D=P,P=p(P),y!==void 0&&b.hasValue){var C=b.value;if(y(C,P))return z=C}return z=P}if(C=z,r(D,P))return C;var E=p(P);return y!==void 0&&y(C,E)?(D=P,C):(D=P,z=E)}var R=!1,D,z,I=m===void 0?null:m;return[function(){return S(f())},I===null?void 0:function(){return S(I())}]},[f,m,p,y]);var _=i(d,x[0],x[1]);return a(function(){b.hasValue=!0,b.value=_},[_]),c(_),_},sN}var B5;function Qae(){return B5||(B5=1,iN.exports=Yae()),iN.exports}var Jae=Qae(),aA=N.createContext(null),Zae=t=>t,Tr=()=>{var t=N.useContext(aA);return t?t.store.dispatch:Zae},r0=()=>{},eoe=()=>r0,toe=(t,e)=>t===e;function mt(t){var e=N.useContext(aA),n=N.useMemo(()=>e?r=>{if(r!=null)return t(r)}:r0,[e,t]);return Jae.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:eoe,e?e.store.getState:r0,e?e.store.getState:r0,n,toe)}function noe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function roe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function ioe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var z5=t=>Array.isArray(t)?t:[t];function soe(t){const e=Array.isArray(t[0])?t[0]:t;return ioe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function aoe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var ooe=class{constructor(t){this.value=t}deref(){return this.value}},loe=typeof WeakRef<"u"?WeakRef:ooe,coe=0,U5=1;function yv(){return{s:coe,v:void 0,o:null,p:null}}function u8(t,e={}){let n=yv();const{resultEqualityCheck:r}=e;let i,s=0;function a(){let l=n;const{length:c}=arguments;for(let m=0,p=c;m<p;m++){const y=arguments[m];if(typeof y=="function"||typeof y=="object"&&y!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const b=x.get(y);b===void 0?(l=yv(),x.set(y,l)):l=b}else{let x=l.p;x===null&&(l.p=x=new Map);const b=x.get(y);b===void 0?(l=yv(),x.set(y,l)):l=b}}const d=l;let f;if(l.s===U5)f=l.v;else if(f=t.apply(null,arguments),s++,r){const m=i?.deref?.()??i;m!=null&&r(m,f)&&(f=m,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new loe(f):f}return d.s=U5,d.v=f,f}return a.clearCache=()=>{n=yv(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function uoe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,l,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),noe(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...c},{memoize:m,memoizeOptions:p=[],argsMemoize:y=u8,argsMemoizeOptions:x=[]}=f,b=z5(p),_=z5(x),S=soe(i),R=m(function(){return s++,d.apply(null,arguments)},...b),D=y(function(){a++;const I=aoe(S,arguments);return l=R.apply(null,I),l},..._);return Object.assign(D,{resultFunc:d,memoizedResultFunc:R,dependencies:S,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var ye=uoe(u8),doe=Object.assign((t,e=ye)=>{roe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,l,c)=>(a[n[c]]=l,a),{}))},{withTypes:()=>doe}),lN={},cN={},uN={},$5;function foe(){return $5||($5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),l=e(i);if(a===l&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};t.compareValues=n})(uN)),uN}var dN={},fN={},q5;function d8(){return q5||(q5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(fN)),fN}var H5;function hoe(){return H5||(H5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d8(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(dN)),dN}var W5;function moe(){return W5||(W5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=foe(),n=hoe(),r=tA();function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(y=>String(y));const d=(y,x)=>{let b=y;for(let _=0;_<x.length&&b!=null;++_)b=b[x[_]];return b},f=(y,x)=>x==null||y==null?x:typeof y=="object"&&"key"in y?Object.hasOwn(x,y.key)?x[y.key]:d(x,y.path):typeof y=="function"?y(x):Array.isArray(y)?d(x,y):typeof x=="object"?x[y]:x,m=a.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return s.map(y=>({original:y,criteria:m.map(x=>f(x,y))})).slice().sort((y,x)=>{for(let b=0;b<m.length;b++){const _=e.compareValues(y.criteria[b],x.criteria[b],l[b]);if(_!==0)return _}return 0}).map(y=>y.original)}t.orderBy=i})(cN)),cN}var hN={},K5;function poe(){return K5||(K5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(l,c)=>{for(let d=0;d<l.length;d++){const f=l[d];Array.isArray(f)&&c<s?a(f,c+1):i.push(f)}};return a(n,0),i}t.flatten=e})(hN)),hN}var mN={},G5;function f8(){return G5||(G5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c8(),n=iA(),r=r8(),i=s8();function s(a,l,c){return r.isObject(c)&&(typeof l=="number"&&n.isArrayLike(c)&&e.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.isEqualsSameValueZero(c[l],a):!1}t.isIterateeCall=s})(mN)),mN}var X5;function goe(){return X5||(X5=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=moe(),n=poe(),r=f8();function i(s,...a){const l=a.length;return l>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(lN)),lN}var pN,Y5;function yoe(){return Y5||(Y5=1,pN=goe().sortBy),pN}var voe=yoe();const kb=_i(voe);var h8=t=>t.legend.settings,xoe=t=>t.legend.size,boe=t=>t.legend.payload;ye([boe,h8],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?kb(r,n):r});var vv=1;function woe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>vv||Math.abs(a.left-e.left)>vv||Math.abs(a.top-e.top)>vv||Math.abs(a.width-e.width)>vv)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function wr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _oe=typeof Symbol=="function"&&Symbol.observable||"@@observable",Q5=_oe,gN=()=>Math.random().toString(36).substring(7).split("").join("."),Noe={INIT:`@@redux/INIT${gN()}`,REPLACE:`@@redux/REPLACE${gN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gN()}`},X0=Noe;function oA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function m8(t,e,n){if(typeof t!="function")throw new Error(wr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wr(1));return n(m8)(t,e)}let r=t,i=e,s=new Map,a=s,l=0,c=!1;function d(){a===s&&(a=new Map,s.forEach((_,S)=>{a.set(S,_)}))}function f(){if(c)throw new Error(wr(3));return i}function m(_){if(typeof _!="function")throw new Error(wr(4));if(c)throw new Error(wr(5));let S=!0;d();const R=l++;return a.set(R,_),function(){if(S){if(c)throw new Error(wr(6));S=!1,d(),a.delete(R),s=null}}}function p(_){if(!oA(_))throw new Error(wr(7));if(typeof _.type>"u")throw new Error(wr(8));if(typeof _.type!="string")throw new Error(wr(17));if(c)throw new Error(wr(9));try{c=!0,i=r(i,_)}finally{c=!1}return(s=a).forEach(R=>{R()}),_}function y(_){if(typeof _!="function")throw new Error(wr(10));r=_,p({type:X0.REPLACE})}function x(){const _=m;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(wr(11));function R(){const z=S;z.next&&z.next(f())}return R(),{unsubscribe:_(R)}},[Q5](){return this}}}return p({type:X0.INIT}),{dispatch:p,subscribe:m,getState:f,replaceReducer:y,[Q5]:x}}function Coe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:X0.INIT})>"u")throw new Error(wr(12));if(typeof n(void 0,{type:X0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wr(13))})}function p8(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{Coe(n)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const d={};for(let f=0;f<r.length;f++){const m=r[f],p=n[m],y=a[m],x=p(y,l);if(typeof x>"u")throw l&&l.type,new Error(wr(14));d[m]=x,c=c||x!==y}return c=c||r.length!==Object.keys(a).length,c?d:a}}function Y0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Eoe(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(wr(15))};const a={getState:i.getState,dispatch:(c,...d)=>s(c,...d)},l=t.map(c=>c(a));return s=Y0(...l)(i.dispatch),{...i,dispatch:s}}}function g8(t){return oA(t)&&"type"in t&&typeof t.type=="string"}var y8=Symbol.for("immer-nothing"),J5=Symbol.for("immer-draftable"),ti=Symbol.for("immer-state");function Is(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Bi=Object,nh=Bi.getPrototypeOf,Q0="constructor",Rb="prototype",tS="configurable",J0="enumerable",i0="writable",Vp="value",Io=t=>!!t&&!!t[ti];function $s(t){return t?v8(t)||Ob(t)||!!t[J5]||!!t[Q0]?.[J5]||Mb(t)||Lb(t):!1}var Soe=Bi[Rb][Q0].toString(),Z5=new WeakMap;function v8(t){if(!t||!lA(t))return!1;const e=nh(t);if(e===null||e===Bi[Rb])return!0;const n=Bi.hasOwnProperty.call(e,Q0)&&e[Q0];if(n===Object)return!0;if(!af(n))return!1;let r=Z5.get(n);return r===void 0&&(r=Function.toString.call(n),Z5.set(n,r)),r===Soe}function Db(t,e,n=!0){Tg(t)===0?(n?Reflect.ownKeys(t):Bi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Tg(t){const e=t[ti];return e?e.type_:Ob(t)?1:Mb(t)?2:Lb(t)?3:0}var eO=(t,e,n=Tg(t))=>n===2?t.has(e):Bi[Rb].hasOwnProperty.call(t,e),nS=(t,e,n=Tg(t))=>n===2?t.get(e):t[e],Z0=(t,e,n,r=Tg(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Toe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Ob=Array.isArray,Mb=t=>t instanceof Map,Lb=t=>t instanceof Set,lA=t=>typeof t=="object",af=t=>typeof t=="function",yN=t=>typeof t=="boolean";function Poe(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var uo=t=>t.copy_||t.base_,cA=t=>t.modified_?t.copy_:t.base_;function rS(t,e){if(Mb(t))return new Map(t);if(Lb(t))return new Set(t);if(Ob(t))return Array[Rb].slice.call(t);const n=v8(t);if(e===!0||e==="class_only"&&!n){const r=Bi.getOwnPropertyDescriptors(t);delete r[ti];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l[i0]===!1&&(l[i0]=!0,l[tS]=!0),(l.get||l.set)&&(r[a]={[tS]:!0,[i0]:!0,[J0]:l[J0],[Vp]:t[a]})}return Bi.create(nh(t),r)}else{const r=nh(t);if(r!==null&&n)return{...t};const i=Bi.create(r);return Bi.assign(i,t)}}function uA(t,e=!1){return Vb(t)||Io(t)||!$s(t)||(Tg(t)>1&&Bi.defineProperties(t,{set:xv,add:xv,clear:xv,delete:xv}),Bi.freeze(t),e&&Db(t,(n,r)=>{uA(r,!0)},!1)),t}function Aoe(){Is(2)}var xv={[Vp]:Aoe};function Vb(t){return t===null||!lA(t)?!0:Bi.isFrozen(t)}var ex="MapSet",iS="Patches",tO="ArrayMethods",x8={};function zu(t){const e=x8[t];return e||Is(0,t),e}var nO=t=>!!x8[t],Fp,b8=()=>Fp,Ioe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:nO(ex)?zu(ex):void 0,arrayMethodsPlugin_:nO(tO)?zu(tO):void 0});function rO(t,e){e&&(t.patchPlugin_=zu(iS),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function sS(t){aS(t),t.drafts_.forEach(joe),t.drafts_=null}function aS(t){t===Fp&&(Fp=t.parent_)}var iO=t=>Fp=Ioe(Fp,t);function joe(t){const e=t[ti];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function sO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ti].modified_&&(sS(e),Is(4)),$s(t)&&(t=aO(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[ti].base_,t,e)}else t=aO(e,n);return koe(e,t,!0),sS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==y8?t:void 0}function aO(t,e){if(Vb(e))return e;const n=e[ti];if(!n)return tx(e,t.handledSet_,t);if(!Fb(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);N8(n,t)}return n.copy_}function koe(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&uA(e,n)}function w8(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Fb=(t,e)=>t.scope_===e,Roe=[];function _8(t,e,n,r){const i=uo(t),s=t.type_;if(r!==void 0&&nS(i,r,s)===e){Z0(i,r,n,s);return}if(!t.draftLocations_){const l=t.draftLocations_=new Map;Db(i,(c,d)=>{if(Io(d)){const f=l.get(d)||[];f.push(c),l.set(d,f)}})}const a=t.draftLocations_.get(e)??Roe;for(const l of a)Z0(i,l,n,s)}function Doe(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!Fb(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const a=cA(s);_8(t,s.draft_??s,a,n),N8(s,i)})}function N8(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}w8(t)}}function Ooe(t,e,n){const{scope_:r}=t;if(Io(n)){const i=n[ti];Fb(i,r)&&i.callbacks_.push(function(){s0(t);const a=cA(i);_8(t,n,a,e)})}else $s(n)&&t.callbacks_.push(function(){const s=uo(t);t.type_===3?s.has(n)&&tx(n,r.handledSet_,r):nS(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&tx(nS(t.copy_,e,t.type_),r.handledSet_,r)})}function tx(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Io(t)||e.has(t)||!$s(t)||Vb(t)||(e.add(t),Db(t,(r,i)=>{if(Io(i)){const s=i[ti];if(Fb(s,n)){const a=cA(s);Z0(t,r,a,t.type_),w8(s)}}else $s(i)&&tx(i,e,n)})),t}function Moe(t,e){const n=Ob(t),r={type_:n?1:0,scope_:e?e.scope_:b8(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=nx;n&&(i=[r],s=Bp);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,[l,r]}var nx={get(t,e){if(e===ti)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=uo(t);if(!eO(i,e,t.type_))return Loe(t,i,e);const s=i[e];if(t.finalized_||!$s(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&Poe(e))return s;if(s===vN(t.base_,e)){s0(t);const a=t.type_===1?+e:e,l=lS(t.scope_,s,t,a);return t.copy_[a]=l}return s},has(t,e){return e in uo(t)},ownKeys(t){return Reflect.ownKeys(uo(t))},set(t,e,n){const r=C8(uo(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=vN(uo(t),e),s=i?.[ti];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Toe(n,i)&&(n!==void 0||eO(t.base_,e,t.type_)))return!0;s0(t),oS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Ooe(t,e,n)),!0},deleteProperty(t,e){return s0(t),vN(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),oS(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=uo(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[i0]:!0,[tS]:t.type_!==1||e!=="length",[J0]:r[J0],[Vp]:n[e]}},defineProperty(){Is(11)},getPrototypeOf(t){return nh(t.base_)},setPrototypeOf(){Is(12)}},Bp={};for(let t in nx){let e=nx[t];Bp[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Bp.deleteProperty=function(t,e){return Bp.set.call(this,t,e,void 0)};Bp.set=function(t,e,n){return nx.set.call(this,t[0],e,n,t[0])};function vN(t,e){const n=t[ti];return(n?uo(n):t)[e]}function Loe(t,e,n){const r=C8(e,n);return r?Vp in r?r[Vp]:r.get?.call(t.draft_):void 0}function C8(t,e){if(!(e in t))return;let n=nh(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=nh(n)}}function oS(t){t.modified_||(t.modified_=!0,t.parent_&&oS(t.parent_))}function s0(t){t.copy_||(t.assigned_=new Map,t.copy_=rS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Voe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(af(n)&&!af(r)){const a=r;r=n;const l=this;return function(d=a,...f){return l.produce(d,m=>r.call(this,m,...f))}}af(r)||Is(6),i!==void 0&&!af(i)&&Is(7);let s;if($s(n)){const a=iO(this),l=lS(a,n,void 0);let c=!0;try{s=r(l),c=!1}finally{c?sS(a):aS(a)}return rO(a,i),sO(s,a)}else if(!n||!lA(n)){if(s=r(n),s===void 0&&(s=n),s===y8&&(s=void 0),this.autoFreeze_&&uA(s,!0),i){const a=[],l=[];zu(iS).generateReplacementPatches_(n,s,{patches_:a,inversePatches_:l}),i(a,l)}return s}else Is(1,n)},this.produceWithPatches=(n,r)=>{if(af(n))return(l,...c)=>this.produceWithPatches(l,d=>n(d,...c));let i,s;return[this.produce(n,r,(l,c)=>{i=l,s=c}),i,s]},yN(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),yN(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),yN(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){$s(e)||Is(8),Io(e)&&(e=Fs(e));const n=iO(this),r=lS(n,e,void 0);return r[ti].isManual_=!0,aS(n),r}finishDraft(e,n){const r=e&&e[ti];(!r||!r.isManual_)&&Is(9);const{scope_:i}=r;return rO(i,n),sO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=zu(iS).applyPatches_;return Io(e)?i(e,n):this.produce(e,s=>i(s,n))}};function lS(t,e,n,r){const[i,s]=Mb(e)?zu(ex).proxyMap_(e,n):Lb(e)?zu(ex).proxySet_(e,n):Moe(e,n);return(n?.scope_??b8()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?Doe(n,s,r):s.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:d}=c;s.modified_&&d&&d.generatePatches_(s,[],c)}),i}function Fs(t){return Io(t)||Is(10,t),E8(t)}function E8(t){if(!$s(t)||Vb(t))return t;const e=t[ti];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=rS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=rS(t,!0);return Db(n,(i,s)=>{Z0(n,i,E8(s))},r),e&&(e.finalized_=!1),n}var Foe=new Voe,S8=Foe.produce;function T8(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Boe=T8(),zoe=T8,Uoe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Y0:Y0.apply(null,arguments)};function hs(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(qi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>g8(r)&&r.type===t,n}var P8=class Qm extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Qm.prototype)}static get[Symbol.species](){return Qm}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Qm(...e[0].concat(this)):new Qm(...e.concat(this))}};function oO(t){return $s(t)?S8(t,()=>{}):t}function bv(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function $oe(t){return typeof t=="boolean"}var qoe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new P8;return n&&($oe(n)?a.push(Boe):a.push(zoe(n.extraArgument))),a},A8="RTK_autoBatch",fn=()=>t=>({payload:t,meta:{[A8]:!0}}),lO=t=>e=>{setTimeout(e,t)},I8=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const l=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lO(10):t.type==="callback"?t.queueNotification:lO(t.timeout),d=()=>{a=!1,s&&(s=!1,l.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const m=()=>i&&f(),p=r.subscribe(m);return l.add(f),()=>{p(),l.delete(f)}},dispatch(f){try{return i=!f?.meta?.[A8],s=!i,s&&(a||(a=!0,c(d))),r.dispatch(f)}finally{i=!0}}})},Hoe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new P8(t);return r&&i.push(I8(typeof r=="object"?r:void 0)),i};function Woe(t){const e=qoe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let l;if(typeof n=="function")l=n;else if(oA(n))l=p8(n);else throw new Error(qi(1));let c;typeof r=="function"?c=r(e):c=e();let d=Y0;i&&(d=Uoe({trace:!1,...typeof i=="object"&&i}));const f=Eoe(...c),m=Hoe(f);let p=typeof a=="function"?a(m):m();const y=d(...p);return m8(l,s,y)}function j8(t){const e={},n=[];let r;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(qi(28));if(l in e)throw new Error(qi(29));return e[l]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function Koe(t){return typeof t=="function"}function Goe(t,e){let[n,r,i]=j8(e),s;if(Koe(t))s=()=>oO(t());else{const l=oO(t);s=()=>l}function a(l=s(),c){let d=[n[c.type],...r.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,m)=>{if(m)if(Io(f)){const y=m(f,c);return y===void 0?f:y}else{if($s(f))return S8(f,p=>m(p,c));{const p=m(f,c);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},l)}return a.getInitialState=s,a}var Xoe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Yoe=(t=21)=>{let e="",n=t;for(;n--;)e+=Xoe[Math.random()*64|0];return e},Qoe=Symbol.for("rtk-slice-createasyncthunk");function Joe(t,e){return`${t}/${e}`}function Zoe({creators:t}={}){const e=t?.asyncThunk?.[Qoe];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(qi(11));const a=(typeof r.reducers=="function"?r.reducers(tle()):r.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(D,z){const I=typeof D=="string"?D:D.type;if(!I)throw new Error(qi(12));if(I in c.sliceCaseReducersByType)throw new Error(qi(13));return c.sliceCaseReducersByType[I]=z,d},addMatcher(D,z){return c.sliceMatchers.push({matcher:D,reducer:z}),d},exposeAction(D,z){return c.actionCreators[D]=z,d},exposeCaseReducer(D,z){return c.sliceCaseReducersByName[D]=z,d}};l.forEach(D=>{const z=a[D],I={reducerName:D,type:Joe(i,D),createNotation:typeof r.reducers=="function"};rle(z)?sle(I,z,d,e):nle(I,z,d)});function f(){const[D={},z=[],I=void 0]=typeof r.extraReducers=="function"?j8(r.extraReducers):[r.extraReducers],P={...D,...c.sliceCaseReducersByType};return Goe(r.initialState,C=>{for(let E in P)C.addCase(E,P[E]);for(let E of c.sliceMatchers)C.addMatcher(E.matcher,E.reducer);for(let E of z)C.addMatcher(E.matcher,E.reducer);I&&C.addDefaultCase(I)})}const m=D=>D,p=new Map,y=new WeakMap;let x;function b(D,z){return x||(x=f()),x(D,z)}function _(){return x||(x=f()),x.getInitialState()}function S(D,z=!1){function I(C){let E=C[D];return typeof E>"u"&&z&&(E=bv(y,I,_)),E}function P(C=m){const E=bv(p,z,()=>new WeakMap);return bv(E,C,()=>{const A={};for(const[j,V]of Object.entries(r.selectors??{}))A[j]=ele(V,C,()=>bv(y,C,_),z);return A})}return{reducerPath:D,getSelectors:P,get selectors(){return P(I)},selectSlice:I}}const R={name:i,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:_,...S(s),injectInto(D,{reducerPath:z,...I}={}){const P=z??s;return D.inject({reducerPath:P,reducer:b},I),{...R,...S(P,!0)}}};return R}}function ele(t,e,n,r){function i(s,...a){let l=e(s);return typeof l>"u"&&r&&(l=n()),t(l,...a)}return i.unwrapped=t,i}var Ei=Zoe();function tle(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function nle({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!ile(r))throw new Error(qi(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?hs(t,a):hs(t))}function rle(t){return t._reducerDefinitionType==="asyncThunk"}function ile(t){return t._reducerDefinitionType==="reducerWithPrepare"}function sle({type:t,reducerName:e},n,r,i){if(!i)throw new Error(qi(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:d,options:f}=n,m=i(t,s,f);r.exposeAction(e,m),a&&r.addCase(m.fulfilled,a),l&&r.addCase(m.pending,l),c&&r.addCase(m.rejected,c),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:a||wv,pending:l||wv,rejected:c||wv,settled:d||wv})}function wv(){}var ale="task",k8="listener",R8="completed",dA="cancelled",ole=`task-${dA}`,lle=`task-${R8}`,cS=`${k8}-${dA}`,cle=`${k8}-${R8}`,Bb=class{constructor(t){this.code=t,this.message=`${ale} ${dA} (reason: ${t})`}name="TaskAbortError";message},fA=(t,e)=>{if(typeof t!="function")throw new TypeError(qi(32))},rx=()=>{},D8=(t,e=rx)=>(t.catch(e),t),O8=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),wu=t=>{if(t.aborted)throw new Bb(t.reason)};function M8(t,e){let n=rx;return new Promise((r,i)=>{const s=()=>i(new Bb(t.reason));if(t.aborted){s();return}n=O8(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=rx})}var ule=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof Bb?"cancelled":"rejected",error:n}}finally{e?.()}},ix=t=>e=>D8(M8(t,e).then(n=>(wu(t),n))),L8=t=>{const e=ix(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Tf}=Object,cO={},zb="listenerMiddleware",dle=(t,e)=>{const n=r=>O8(t,()=>r.abort(t.reason));return(r,i)=>{fA(r);const s=new AbortController;n(s);const a=ule(async()=>{wu(t),wu(s.signal);const l=await r({pause:ix(s.signal),delay:L8(s.signal),signal:s.signal});return wu(s.signal),l},()=>s.abort(lle));return i?.autoJoin&&e.push(a.catch(rx)),{result:ix(t)(a),cancel(){s.abort(ole)}}}},fle=(t,e)=>{const n=async(r,i)=>{wu(e);let s=()=>{};const l=[new Promise((c,d)=>{let f=t({predicate:r,effect:(m,p)=>{p.unsubscribe(),c([m,p.getState(),p.getOriginalState()])}});s=()=>{f(),d()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await M8(e,Promise.race(l));return wu(e),c}finally{s()}};return(r,i)=>D8(n(r,i))},V8=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=hs(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(qi(21));return fA(s),{predicate:i,type:e,effect:s}},F8=Tf(t=>{const{type:e,predicate:n,effect:r}=V8(t);return{id:Yoe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(qi(22))}}},{withTypes:()=>F8}),uO=(t,e)=>{const{type:n,effect:r,predicate:i}=V8(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},uS=t=>{t.pending.forEach(e=>{e.abort(cS)})},hle=(t,e)=>()=>{for(const n of e.keys())uS(n);t.clear()},dO=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},B8=Tf(hs(`${zb}/add`),{withTypes:()=>B8}),mle=hs(`${zb}/removeAll`),z8=Tf(hs(`${zb}/remove`),{withTypes:()=>z8}),ple=(...t)=>{console.error(`${zb}/error`,...t)},Pg=(t={})=>{const e=new Map,n=new Map,r=y=>{const x=n.get(y)??0;n.set(y,x+1)},i=y=>{const x=n.get(y)??1;x===1?n.delete(y):n.set(y,x-1)},{extra:s,onError:a=ple}=t;fA(a);const l=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),x=>{y.unsubscribe(),x?.cancelActive&&uS(y)}),c=y=>{const x=uO(e,y)??F8(y);return l(x)};Tf(c,{withTypes:()=>c});const d=y=>{const x=uO(e,y);return x&&(x.unsubscribe(),y.cancelActive&&uS(x)),!!x};Tf(d,{withTypes:()=>d});const f=async(y,x,b,_)=>{const S=new AbortController,R=fle(c,S.signal),D=[];try{y.pending.add(S),r(y),await Promise.resolve(y.effect(x,Tf({},b,{getOriginalState:_,condition:(z,I)=>R(z,I).then(Boolean),take:R,delay:L8(S.signal),pause:ix(S.signal),extra:s,signal:S.signal,fork:dle(S.signal,D),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((z,I,P)=>{z!==S&&(z.abort(cS),P.delete(z))})},cancel:()=>{S.abort(cS),y.pending.delete(S)},throwIfCancelled:()=>{wu(S.signal)}})))}catch(z){z instanceof Bb||dO(a,z,{raisedBy:"effect"})}finally{await Promise.all(D),S.abort(cle),i(y),y.pending.delete(S)}},m=hle(e,n);return{middleware:y=>x=>b=>{if(!g8(b))return x(b);if(B8.match(b))return c(b.payload);if(mle.match(b)){m();return}if(z8.match(b))return d(b.payload);let _=y.getState();const S=()=>{if(_===cO)throw new Error(qi(23));return _};let R;try{if(R=x(b),e.size>0){const D=y.getState(),z=Array.from(e.values());for(const I of z){let P=!1;try{P=I.predicate(b,D,_)}catch(C){P=!1,dO(a,C,{raisedBy:"predicate"})}P&&f(I,b,y,S)}}}finally{_=cO}return R},startListening:c,stopListening:d,clearListeners:m}};function qi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var gle={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},U8=Ei({name:"chartLayout",initialState:gle,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:yle,setLayout:vle,setChartSize:xle,setScale:ble}=U8.actions,wle=U8.reducer;function $8(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Mt(t){return Number.isFinite(t)}function oc(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){_le(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _le(t,e,n){return(e=Nle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nle(t){var e=Cle(t,"string");return typeof e=="symbol"?e:e+""}function Cle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xn(t,e,n){return fr(t)||fr(e)?n:za(e)?jb(t,e,n):typeof e=="function"?e(t):n}var Ele=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:l}=e;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&Je(t[s]))return uf(uf({},t),{},{[s]:t[s]+(r||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&Je(t[a]))return uf(uf({},t),{},{[a]:t[a]+(i||0)})}return t},Ws=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Sle=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0,l=0;l<n;++l){var c=t[l],d=c?.[i];if(d!=null){var f=d[1],m=d[0],p=Ba(f)?m:f;p>=0?(d[0]=s,s+=p,d[1]=s):(d[0]=a,a+=p,d[1]=a)}}}},Tle=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0;a<n;++a){var l=t[a],c=l?.[i];if(c!=null){var d=Ba(c[1])?c[0]:c[1];d>=0?(c[0]=s,s+=d,c[1]=s):(c[0]=0,c[1]=0)}}}},Ple={sign:Sle,expand:nae,none:Fu,silhouette:rae,wiggle:iae,positive:Tle},Ale=(t,e,n)=>{var r,i=(r=Ple[n])!==null&&r!==void 0?r:Fu,s=tae().keys(e).value((l,c)=>Number(Xn(l,c,0))).order(ZE).offset(i),a=s(t);return a.forEach((l,c)=>{l.forEach((d,f)=>{var m=Xn(t[f],e[c],0);Array.isArray(m)&&m.length===2&&Je(m[0])&&Je(m[1])&&(d[0]=m[0],d[1]=m[1])})}),a};function Ile(t){return t==null?void 0:String(t)}function sx(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!fr(i[e.dataKey])){var l=JU(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var c=Xn(i,fr(a)?e.dataKey:a),d=e.scale.map(c);return Je(d)?d:null}var jle=t=>{var e=t.flat(2).filter(Je);return[Math.min(...e),Math.max(...e)]},kle=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Rle=(t,e,n)=>{if(t!=null)return kle(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:a}=s,l=a.reduce((c,d)=>{var f=$8(d,e,n),m=jle(f);return!Mt(m[0])||!Mt(m[1])?c:[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(l[0],r[0]),Math.max(l[1],r[1])]},[1/0,-1/0]))},hO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,rh=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=kb(e,f=>f.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],d=i[a-1];s=Math.min((c?.coordinate||0)-(d?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function pO(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return uf(uf({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Ub(t,e){if(t)return String(t);if(typeof e=="string")return e}var Dle=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Ole=(t,e)=>e==="centric"?t.angle:t.radius,$o=t=>t.layout.width,qo=t=>t.layout.height,Mle=t=>t.layout.scale,q8=t=>t.layout.margin,$b=ye(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),qb=ye(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Lle="data-recharts-item-index",Vle="data-recharts-item-id",Ag=60;function gO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _v(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gO(Object(n),!0).forEach(function(r){Fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fle(t,e,n){return(e=Ble(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ble(t){var e=zle(t,"string");return typeof e=="symbol"?e:e+""}function zle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ule=t=>t.brush.height;function $le(t){var e=qb(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ag;return n+i}return n},0)}function qle(t){var e=qb(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Ag;return n+i}return n},0)}function Hle(t){var e=$b(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function Wle(t){var e=$b(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Pr=ye([$o,qo,q8,Ule,$le,qle,Hle,Wle,h8,xoe],(t,e,n,r,i,s,a,l,c,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+a,bottom:(n.bottom||0)+l},p=_v(_v({},m),f),y=p.bottom;p.bottom+=r,p=Ele(p,c,d);var x=t-p.left-p.right,b=e-p.top-p.bottom;return _v(_v({brushBottom:y},p),{},{width:Math.max(x,0),height:Math.max(b,0)})}),Kle=ye(Pr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Gle=ye($o,qo,(t,e)=>({x:0,y:0,width:t,height:e})),Xle=N.createContext(null),Si=()=>N.useContext(Xle)!=null,Hb=t=>t.brush,Wb=ye([Hb,Pr,q8],(t,e,n)=>({height:t.height,x:Je(t.x)?t.x:e.left,y:Je(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Je(t.width)?t.width:e.width})),xN={},bN={},wN={},yO;function Yle(){return yO||(yO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),f=()=>{l!==null&&(n.apply(a,l),a=void 0,l=null)},m=()=>{d&&f(),b()};let p=null;const y=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},r)},x=()=>{p!==null&&(clearTimeout(p),p=null)},b=()=>{x(),a=void 0,l=null},_=()=>{f()},S=function(...R){if(i?.aborted)return;a=this,l=R;const D=p==null;y(),c&&D&&f()};return S.schedule=y,S.cancel=b,S.flush=_,i?.addEventListener("abort",b,{once:!0}),S}t.debounce=e})(wN)),wN}var vO;function Qle(){return vO||(vO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yle();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,d=Array(2);a&&(d[0]="leading"),l&&(d[1]="trailing");let f,m=null;const p=e.debounce(function(...b){f=r.apply(this,b),m=null},i,{edges:d}),y=function(...b){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(f=r.apply(this,b),m=Date.now(),p.cancel(),p.schedule(),f):(p.apply(this,b),f)},x=()=>(p.flush(),f);return y.cancel=p.cancel,y.flush=x,y}t.debounce=n})(bN)),bN}var xO;function Jle(){return xO||(xO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qle();function n(r,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:l})}t.throttle=n})(xN)),xN}var _N,bO;function Zle(){return bO||(bO=1,_N=Jle().throttle),_N}var ece=Zle();const tce=_i(ece);var wO=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},Ia={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},H8=(t,e,n)=>{var{width:r=Ia.width,height:i=Ia.height,aspect:s,maxHeight:a}=n,l=Bu(r)?t:Number(r),c=Bu(i)?e:Number(i);return s&&s>0&&(l?c=l/s:c&&(l=c*s),a&&c!=null&&c>a&&(c=a)),{calculatedWidth:l,calculatedHeight:c}},nce={width:0,height:0,overflow:"visible"},rce={width:0,overflowX:"visible"},ice={height:0,overflowY:"visible"},sce={},ace=t=>{var{width:e,height:n}=t,r=Bu(e),i=Bu(n);return r&&i?nce:r?rce:i?ice:sce};function oce(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=Ia.width,s=Ia.height):i===void 0?i=r&&r>0?void 0:Ia.width:s===void 0&&(s=r&&r>0?void 0:Ia.height),{width:i,height:s}}function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dS.apply(null,arguments)}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){lce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lce(t,e,n){return(e=cce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cce(t){var e=uce(t,"string");return typeof e=="symbol"?e:e+""}function uce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var W8=N.createContext(Ia.initialDimension);function dce(t){return oc(t.width)&&oc(t.height)}function K8(t){var{children:e,width:n,height:r}=t,i=N.useMemo(()=>({width:n,height:r}),[n,r]);return dce(i)?N.createElement(W8.Provider,{value:i},e):null}var hA=()=>N.useContext(W8),fce=N.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Ia.initialDimension,width:i,height:s,minWidth:a=Ia.minWidth,minHeight:l,maxHeight:c,children:d,debounce:f=Ia.debounce,id:m,className:p,onResize:y,style:x={}}=t,b=N.useRef(null),_=N.useRef();_.current=y,N.useImperativeHandle(e,()=>b.current);var[S,R]=N.useState({containerWidth:r.width,containerHeight:r.height}),D=N.useCallback((E,A)=>{R(j=>{var V=Math.round(E),B=Math.round(A);return j.containerWidth===V&&j.containerHeight===B?j:{containerWidth:V,containerHeight:B}})},[]);N.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return td;var E=B=>{var F,U=B[0];if(U!=null){var{width:X,height:J}=U.contentRect;D(X,J),(F=_.current)===null||F===void 0||F.call(_,X,J)}};f>0&&(E=tce(E,f,{trailing:!0,leading:!1}));var A=new ResizeObserver(E),{width:j,height:V}=b.current.getBoundingClientRect();return D(j,V),A.observe(b.current),()=>{A.disconnect()}},[D,f]);var{containerWidth:z,containerHeight:I}=S;wO(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:C}=H8(z,I,{width:i,height:s,aspect:n,maxHeight:c});return wO(P!=null&&P>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,C,i,s,a,l,n),N.createElement("div",{id:m?"".concat(m):void 0,className:Yt("recharts-responsive-container",p),style:NO(NO({},x),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:b},N.createElement("div",{style:ace({width:i,height:s})},N.createElement(K8,{width:P,height:C},d)))}),G8=N.forwardRef((t,e)=>{var n=hA();if(oc(n.width)&&oc(n.height))return t.children;var{width:r,height:i}=oce({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=H8(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Je(s)&&Je(a)?N.createElement(K8,{width:s,height:a},t.children):N.createElement(fce,dS({},t,{width:r,height:i,ref:e}))});function mA(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Kb=()=>{var t,e=Si(),n=mt(Kle),r=mt(Wb),i=(t=mt(Hb))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},hce={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},mce=()=>{var t;return(t=mt(Pr))!==null&&t!==void 0?t:hce},pce=()=>mt($o),gce=()=>mt(qo),rn=t=>t.layout.layoutType,nd=()=>mt(rn),X8=()=>{var t=nd();if(t==="horizontal"||t==="vertical")return t},Y8=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},yce=()=>{var t=nd();return t!==void 0},Ig=t=>{var e=Tr(),n=Si(),{width:r,height:i}=t,s=hA(),a=r,l=i;return s&&(a=s.width>0?s.width:r,l=s.height>0?s.height:i),N.useEffect(()=>{!n&&oc(a)&&oc(l)&&e(xle({width:a,height:l}))},[e,n,a,l]),null},Q8=Symbol.for("immer-nothing"),CO=Symbol.for("immer-draftable"),Ki=Symbol.for("immer-state");function js(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var zp=Object.getPrototypeOf;function ih(t){return!!t&&!!t[Ki]}function Uu(t){return t?J8(t)||Array.isArray(t)||!!t[CO]||!!t.constructor?.[CO]||jg(t)||Xb(t):!1}var vce=Object.prototype.constructor.toString(),EO=new WeakMap;function J8(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=EO.get(n);return r===void 0&&(r=Function.toString.call(n),EO.set(n,r)),r===vce}function ax(t,e,n=!0){Gb(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Gb(t){const e=t[Ki];return e?e.type_:Array.isArray(t)?1:jg(t)?2:Xb(t)?3:0}function fS(t,e){return Gb(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Z8(t,e,n){const r=Gb(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function xce(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function jg(t){return t instanceof Map}function Xb(t){return t instanceof Set}function Zc(t){return t.copy_||t.base_}function hS(t,e){if(jg(t))return new Map(t);if(Xb(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=J8(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ki];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],l=r[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(r[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:t[a]})}return Object.create(zp(t),r)}else{const r=zp(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function pA(t,e=!1){return Yb(t)||ih(t)||!Uu(t)||(Gb(t)>1&&Object.defineProperties(t,{set:Nv,add:Nv,clear:Nv,delete:Nv}),Object.freeze(t),e&&Object.values(t).forEach(n=>pA(n,!0))),t}function bce(){js(2)}var Nv={value:bce};function Yb(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var wce={};function $u(t){const e=wce[t];return e||js(0,t),e}var Up;function e$(){return Up}function _ce(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SO(t,e){e&&($u("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mS(t){pS(t),t.drafts_.forEach(Nce),t.drafts_=null}function pS(t){t===Up&&(Up=t.parent_)}function TO(t){return Up=_ce(Up,t)}function Nce(t){const e=t[Ki];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function PO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ki].modified_&&(mS(e),js(4)),Uu(t)&&(t=ox(e,t),e.parent_||lx(e,t)),e.patches_&&$u("Patches").generateReplacementPatches_(n[Ki].base_,t,e.patches_,e.inversePatches_)):t=ox(e,n,[]),mS(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Q8?t:void 0}function ox(t,e,n){if(Yb(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Ki];if(!i)return ax(e,(s,a)=>AO(t,i,e,s,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return lx(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,l=!1;i.type_===3&&(a=new Set(s),s.clear(),l=!0),ax(a,(c,d)=>AO(t,i,s,c,d,n,l),r),lx(t,s,!1),n&&t.patches_&&$u("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function AO(t,e,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const l=Yb(i);if(!(l&&!a)){if(ih(i)){const c=s&&e&&e.type_!==3&&!fS(e.assigned_,r)?s.concat(r):void 0,d=ox(t,i,c);if(Z8(n,r,d),ih(d))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Uu(i)&&!l){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&l)return;ox(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(jg(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&lx(t,i)}}}function lx(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&pA(e,n)}function Cce(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:e$(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=gA;n&&(i=[r],s=$p);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return r.draft_=l,r.revoke_=a,l}var gA={get(t,e){if(e===Ki)return t;const n=Zc(t);if(!fS(n,e))return Ece(t,n,e);const r=n[e];return t.finalized_||!Uu(r)?r:r===NN(t.base_,e)?(CN(t),t.copy_[e]=yS(r,t)):r},has(t,e){return e in Zc(t)},ownKeys(t){return Reflect.ownKeys(Zc(t))},set(t,e,n){const r=t$(Zc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=NN(Zc(t),e),s=i?.[Ki];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(xce(n,i)&&(n!==void 0||fS(t.base_,e)))return!0;CN(t),gS(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return NN(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,CN(t),gS(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Zc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){js(11)},getPrototypeOf(t){return zp(t.base_)},setPrototypeOf(){js(12)}},$p={};ax(gA,(t,e)=>{$p[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});$p.deleteProperty=function(t,e){return $p.set.call(this,t,e,void 0)};$p.set=function(t,e,n){return gA.set.call(this,t[0],e,n,t[0])};function NN(t,e){const n=t[Ki];return(n?Zc(n):t)[e]}function Ece(t,e,n){const r=t$(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function t$(t,e){if(!(e in t))return;let n=zp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=zp(n)}}function gS(t){t.modified_||(t.modified_=!0,t.parent_&&gS(t.parent_))}function CN(t){t.copy_||(t.copy_=hS(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Sce=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(c=s,...d){return a.produce(c,f=>n.call(this,f,...d))}}typeof n!="function"&&js(6),r!==void 0&&typeof r!="function"&&js(7);let i;if(Uu(e)){const s=TO(this),a=yS(e,void 0);let l=!0;try{i=n(a),l=!1}finally{l?mS(s):pS(s)}return SO(s,r),PO(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Q8&&(i=void 0),this.autoFreeze_&&pA(i,!0),r){const s=[],a=[];$u("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else js(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...l)=>this.produceWithPatches(a,c=>e(c,...l));let r,i;return[this.produce(e,n,(a,l)=>{r=a,i=l}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Uu(t)||js(8),ih(t)&&(t=Tce(t));const e=TO(this),n=yS(t,void 0);return n[Ki].isManual_=!0,pS(e),n}finishDraft(t,e){const n=t&&t[Ki];(!n||!n.isManual_)&&js(9);const{scope_:r}=n;return SO(r,e),PO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=$u("Patches").applyPatches_;return ih(t)?r(t,e):this.produce(t,i=>r(i,e))}};function yS(t,e){const n=jg(t)?$u("MapSet").proxyMap_(t,e):Xb(t)?$u("MapSet").proxySet_(t,e):Cce(t,e);return(e?e.scope_:e$()).drafts_.push(n),n}function Tce(t){return ih(t)||js(10,t),n$(t)}function n$(t){if(!Uu(t)||Yb(t))return t;const e=t[Ki];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=hS(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=hS(t,!0);return ax(n,(i,s)=>{Z8(n,i,n$(s))},r),e&&(e.finalized_=!1),n}var Pce=new Sce;Pce.produce;var Ace={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},r$=Ei({name:"legend",initialState:Ace,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:fn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Fs(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:fn()},removeLegendPayload:{reducer(t,e){var n=Fs(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:fn()}}}),{setLegendSize:zAe,setLegendSettings:UAe,addLegendPayload:Ice,replaceLegendPayload:jce,removeLegendPayload:kce}=r$.actions,Rce=r$.reducer;function vS(){return vS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vS.apply(null,arguments)}function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Im(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){Dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dce(t,e,n){return(e=Oce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oce(t){var e=Mce(t,"string");return typeof e=="symbol"?e:e+""}function Mce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lce(t){return Array.isArray(t)&&za(t[0])&&za(t[1])?t.join(" ~ "):t}var Gd={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Vce=t=>{var{separator:e=Gd.separator,contentStyle:n,itemStyle:r,labelStyle:i=Gd.labelStyle,payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:m,accessibilityLayer:p=Gd.accessibilityLayer}=t,y=()=>{if(s&&s.length){var I={padding:0,margin:0},P=(l?kb(s,l):s).map((C,E)=>{if(C.type==="none")return null;var A=C.formatter||a||Lce,{value:j,name:V}=C,B=j,F=V;if(A){var U=A(j,V,C,E,s);if(Array.isArray(U))[B,F]=U;else if(U!=null)B=U;else return null}var X=Im(Im({},Gd.itemStyle),{},{color:C.color||Gd.itemStyle.color},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:X},za(F)?N.createElement("span",{className:"recharts-tooltip-item-name"},F):null,za(F)?N.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,N.createElement("span",{className:"recharts-tooltip-item-value"},B),N.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:I},P)}return null},x=Im(Im({},Gd.contentStyle),n),b=Im({margin:0},i),_=!fr(f),S=_?f:"",R=Yt("recharts-default-tooltip",c),D=Yt("recharts-tooltip-label",d);_&&m&&s!==void 0&&s!==null&&(S=m(f,s));var z=p?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",vS({className:R,style:x},z),N.createElement("p",{className:D,style:b},N.isValidElement(S)?S:"".concat(S)),y())},jm="recharts-tooltip-wrapper",Fce={visibility:"hidden"};function Bce(t){var{coordinate:e,translateX:n,translateY:r}=t;return Yt(jm,{["".concat(jm,"-right")]:Je(n)&&e&&Je(e.x)&&n>=e.x,["".concat(jm,"-left")]:Je(n)&&e&&Je(e.x)&&n<e.x,["".concat(jm,"-bottom")]:Je(r)&&e&&Je(e.y)&&r>=e.y,["".concat(jm,"-top")]:Je(r)&&e&&Je(e.y)&&r<e.y})}function jO(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:d}=t;if(s&&Je(s[r]))return s[r];var f=n[r]-l-(i>0?i:0),m=n[r]+i;if(e[r])return a[r]?f:m;var p=c[r];if(p==null)return 0;if(a[r]){var y=f,x=p;return y<x?Math.max(m,p):Math.max(f,p)}if(d==null)return 0;var b=m+l,_=p+d;return b>_?Math.max(f,p):Math.max(m,p)}function zce(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Uce(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:a,tooltipBox:l,useTranslate3d:c,viewBox:d}=t,f,m,p;return l.height>0&&l.width>0&&n?(m=jO({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:s,reverseDirection:a,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),p=jO({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:s,reverseDirection:a,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=zce({translateX:m,translateY:p,useTranslate3d:c})):f=Fce,{cssProperties:f,cssClasses:Bce({translateX:m,translateY:p,coordinate:n})}}function kO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(n),!0).forEach(function(r){xS(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xS(t,e,n){return(e=$ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ce(t){var e=qce(t,"string");return typeof e=="symbol"?e:e+""}function qce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Hce extends N.PureComponent{constructor(){super(...arguments),xS(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),xS(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:d,position:f,reverseDirection:m,useTranslate3d:p,viewBox:y,wrapperStyle:x,lastBoundingBox:b,innerRef:_,hasPortalFromProps:S}=this.props,R=typeof d=="number"?d:d.x,D=typeof d=="number"?d:d.y,{cssClasses:z,cssProperties:I}=Uce({allowEscapeViewBox:n,coordinate:a,offsetLeft:R,offsetTop:D,position:f,reverseDirection:m,tooltipBox:{height:b.height,width:b.width},useTranslate3d:p,viewBox:y}),P=S?{}:Cv(Cv({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},I),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&l?"visible":"hidden",position:"absolute",top:0,left:0}),C=Cv(Cv({},P),{},{visibility:!this.state.dismissed&&e&&l?"visible":"hidden"},x);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:z,style:C,ref:_},s)}}var i$=()=>{var t;return(t=mt(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function bS(){return bS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bS.apply(null,arguments)}function RO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RO(Object(n),!0).forEach(function(r){Wce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wce(t,e,n){return(e=Kce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kce(t){var e=Gce(t,"string");return typeof e=="symbol"?e:e+""}function Gce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OO={curveBasisClosed:qse,curveBasisOpen:Hse,curveBasis:$se,curveBumpX:Ase,curveBumpY:Ise,curveLinearClosed:Wse,curveLinear:Ab,curveMonotoneX:Kse,curveMonotoneY:Gse,curveNatural:Xse,curveStep:Yse,curveStepAfter:Jse,curveStepBefore:Qse},cx=t=>Mt(t.x)&&Mt(t.y),MO=t=>t.base!=null&&cx(t.base)&&cx(t),km=t=>t.x,Rm=t=>t.y,Xce=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Sg(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=OO["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return OO[n]||Ab},LO={connectNulls:!1,type:"linear"},Yce=t=>{var{type:e=LO.type,points:n=[],baseLine:r,layout:i,connectNulls:s=LO.connectNulls}=t,a=Xce(e,i),l=s?n.filter(cx):n;if(Array.isArray(r)){var c,d=n.map((x,b)=>DO(DO({},x),{},{base:r[b]}));i==="vertical"?c=gv().y(Rm).x1(km).x0(x=>x.base.x):c=gv().x(km).y1(Rm).y0(x=>x.base.y);var f=c.defined(MO).curve(a),m=s?d.filter(MO):d;return f(m)}var p;i==="vertical"&&Je(r)?p=gv().y(Rm).x1(km).x0(r):Je(r)?p=gv().x(km).y1(Rm).y0(r):p=FU().x(km).y(Rm);var y=p.defined(cx).curve(a);return y(l)},mp=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=nd();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},l=n&&n.length?Yce(a):r;return N.createElement("path",bS({},Us(t),rA(t),{className:Yt("recharts-curve",e),d:l===null?void 0:l,ref:i}))},Qce=["x","y","top","left","width","height","className"];function wS(){return wS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wS.apply(null,arguments)}function VO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(n),!0).forEach(function(r){Zce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zce(t,e,n){return(e=eue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eue(t){var e=tue(t,"string");return typeof e=="symbol"?e:e+""}function tue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nue(t,e){if(t==null)return{};var n,r,i=rue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var iue=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),sue=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:l}=t,c=nue(t,Qce),d=Jce({x:e,y:n,top:r,left:i,width:s,height:a},c);return!Je(e)||!Je(n)||!Je(s)||!Je(a)||!Je(r)||!Je(i)?null:N.createElement("path",wS({},Hr(d),{className:Yt("recharts-cross",l),d:iue(e,n,s,a,r,i)}))};function aue(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function FO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FO(Object(n),!0).forEach(function(r){oue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oue(t,e,n){return(e=lue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lue(t){var e=cue(t,"string");return typeof e=="symbol"?e:e+""}function cue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uue=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),s$=(t,e,n)=>t.map(r=>"".concat(uue(r)," ").concat(e,"ms ").concat(n)).join(","),due=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),qp=(t,e)=>Object.keys(e).reduce((n,r)=>BO(BO({},n),{},{[r]:t(r,e[r])}),{});function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){fue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fue(t,e,n){return(e=hue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hue(t){var e=mue(t,"string");return typeof e=="symbol"?e:e+""}function mue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ux=(t,e,n)=>t+(e-t)*n,_S=t=>{var{from:e,to:n}=t;return e!==n},a$=(t,e,n)=>{var r=qp((i,s)=>{if(_S(s)){var[a,l]=t(s.from,s.to,s.velocity);return Gn(Gn({},s),{},{from:a,velocity:l})}return s},e);return n<1?qp((i,s)=>_S(s)&&r[i]!=null?Gn(Gn({},s),{},{velocity:ux(s.velocity,r[i].velocity,n),from:ux(s.from,r[i].from,n)}):s,e):a$(t,r,n-1)};function pue(t,e,n,r,i,s){var a,l=r.reduce((p,y)=>Gn(Gn({},p),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),c=()=>qp((p,y)=>y.from,l),d=()=>!Object.values(l).filter(_S).length,f=null,m=p=>{a||(a=p);var y=p-a,x=y/n.dt;l=a$(n,l,x),i(Gn(Gn(Gn({},t),e),c())),a=p,d()||(f=s.setTimeout(m))};return()=>(f=s.setTimeout(m),()=>{var p;(p=f)===null||p===void 0||p()})}function gue(t,e,n,r,i,s,a){var l=null,c=i.reduce((m,p)=>{var y=t[p],x=e[p];return y==null||x==null?m:Gn(Gn({},m),{},{[p]:[y,x]})},{}),d,f=m=>{d||(d=m);var p=(m-d)/r,y=qp((b,_)=>ux(..._,n(p)),c);if(s(Gn(Gn(Gn({},t),e),y)),p<1)l=a.setTimeout(f);else{var x=qp((b,_)=>ux(..._,n(1)),c);s(Gn(Gn(Gn({},t),e),x))}};return()=>(l=a.setTimeout(f),()=>{var m;(m=l)===null||m===void 0||m()})}const yue=(t,e,n,r,i,s)=>{var a=due(t,e);return n==null?()=>(i(Gn(Gn({},t),e)),()=>{}):n.isStepper===!0?pue(t,e,n,a,i,s):gue(t,e,n,r,a,i,s)};var dx=1e-4,o$=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],l$=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),UO=(t,e)=>n=>{var r=o$(t,e);return l$(r,n)},vue=(t,e)=>n=>{var r=o$(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return l$(i,n)},xue=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},bue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=xue(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},wue=(t,e,n,r)=>{var i=UO(t,n),s=UO(e,r),a=vue(t,n),l=d=>d>1?1:d<0?0:d,c=d=>{for(var f=d>1?1:d,m=f,p=0;p<8;++p){var y=i(m)-f,x=a(m);if(Math.abs(y-f)<dx||x<dx)return s(m);m=l(m-y/x)}return s(m)};return c.isStepper=!1,c},$O=function(){return wue(...bue(...arguments))},_ue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,l,c)=>{var d=-(a-l)*n,f=c*r,m=c+(d-f)*i/1e3,p=c*i/1e3+a;return Math.abs(p-l)<dx&&Math.abs(m)<dx?[l,0]:[p,m]};return s.isStepper=!0,s.dt=i,s},Nue=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $O(t);case"spring":return _ue();default:if(t.split("(")[0]==="cubic-bezier")return $O(t)}return typeof t=="function"?t:null};function Cue(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...d]=l;if(typeof c=="number"){i=t.setTimeout(s.bind(null,d),c);return}s(c),i=t.setTimeout(s.bind(null,d));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class Eue{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Sue(){return Cue(new Eue)}var Tue=N.createContext(Sue);function Pue(t,e){var n=N.useContext(Tue);return N.useMemo(()=>e??n(t),[t,e,n])}var Aue=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),kg={isSsr:Aue()},Iue={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},qO={t:0},EN={t:1};function Qb(t){var e=Ci(t,Iue),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:d}=e,f=n==="auto"?!kg.isSsr:n,m=Pue(e.animationId,e.animationManager),[p,y]=N.useState(f?qO:EN),x=N.useRef(null);return N.useEffect(()=>{f||y(EN)},[f]),N.useEffect(()=>{if(!f||!r)return td;var b=yue(qO,EN,Nue(s),i,y,m.getTimeoutController()),_=()=>{x.current=b()};return m.start([c,a,_,i,l]),()=>{m.stop(),x.current&&x.current(),l()}},[f,r,i,s,a,c,l,m]),d(p.t)}function Jb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(Lp(e)),r=N.useRef(t);return r.current!==t&&(n.current=Lp(e),r.current=t),n.current}var jue=["radius"],kue=["radius"],HO,WO,KO,GO,XO,YO,QO,JO,ZO,e4;function t4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t4(Object(n),!0).forEach(function(r){Rue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rue(t,e,n){return(e=Due(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Due(t){var e=Oue(t,"string");return typeof e=="symbol"?e:e+""}function Oue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fx(){return fx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fx.apply(null,arguments)}function r4(t,e){if(t==null)return{};var n,r,i=Mue(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mue(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ha(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var i4=(t,e,n,r,i)=>{var s=Bl(n),a=Bl(r),l=Math.min(Math.abs(s)/2,Math.abs(a)/2),c=a>=0?1:-1,d=s>=0?1:-1,f=a>=0&&s>=0||a<0&&s<0?1:0,m;if(l>0&&Array.isArray(i)){for(var p=[0,0,0,0],y=0,x=4;y<x;y++){var b,_=(b=i[y])!==null&&b!==void 0?b:0;p[y]=_>l?l:_}m=Pn(HO||(HO=ha(["M",",",""])),t,e+c*p[0]),p[0]>0&&(m+=Pn(WO||(WO=ha(["A ",",",",0,0,",",",",",""])),p[0],p[0],f,t+d*p[0],e)),m+=Pn(KO||(KO=ha(["L ",",",""])),t+n-d*p[1],e),p[1]>0&&(m+=Pn(GO||(GO=ha(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],f,t+n,e+c*p[1])),m+=Pn(XO||(XO=ha(["L ",",",""])),t+n,e+r-c*p[2]),p[2]>0&&(m+=Pn(YO||(YO=ha(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],f,t+n-d*p[2],e+r)),m+=Pn(QO||(QO=ha(["L ",",",""])),t+d*p[3],e+r),p[3]>0&&(m+=Pn(JO||(JO=ha(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],f,t,e+r-c*p[3])),m+="Z"}else if(l>0&&i===+i&&i>0){var S=Math.min(l,i);m=Pn(ZO||(ZO=ha(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*S,S,S,f,t+d*S,e,t+n-d*S,e,S,S,f,t+n,e+c*S,t+n,e+r-c*S,S,S,f,t+n-d*S,e+r,t+d*S,e+r,S,S,f,t,e+r-c*S)}else m=Pn(e4||(e4=ha(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},s4={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},c$=t=>{var e=Ci(t,s4),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&i(O)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:d,className:f}=e,{animationEasing:m,animationDuration:p,animationBegin:y,isAnimationActive:x,isUpdateAnimationActive:b}=e,_=N.useRef(l),S=N.useRef(c),R=N.useRef(s),D=N.useRef(a),z=N.useMemo(()=>({x:s,y:a,width:l,height:c,radius:d}),[s,a,l,c,d]),I=Jb(z,"rectangle-");if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var P=Yt("recharts-rectangle",f);if(!b){var C=Hr(e),{radius:E}=C,A=r4(C,jue);return N.createElement("path",fx({},A,{x:Bl(s),y:Bl(a),width:Bl(l),height:Bl(c),radius:typeof d=="number"?d:void 0,className:P,d:i4(s,a,l,c,d)}))}var j=_.current,V=S.current,B=R.current,F=D.current,U="0px ".concat(r===-1?1:r,"px"),X="".concat(r,"px 0px"),J=s$(["strokeDasharray"],p,typeof m=="string"?m:s4.animationEasing);return N.createElement(Qb,{animationId:I,key:I,canBegin:r>0,duration:p,easing:m,isActive:b,begin:y},O=>{var K=Un(j,l,O),H=Un(V,c,O),k=Un(B,s,O),$=Un(F,a,O);n.current&&(_.current=K,S.current=H,R.current=k,D.current=$);var G;x?O>0?G={transition:J,strokeDasharray:X}:G={strokeDasharray:U}:G={strokeDasharray:X};var Z=Hr(e),{radius:Y}=Z,te=r4(Z,kue);return N.createElement("path",fx({},te,{radius:typeof d=="number"?d:void 0,className:P,d:i4(k,$,K,H,d),ref:n,style:n4(n4({},G),e.style)}))})};function a4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a4(Object(n),!0).forEach(function(r){Lue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lue(t,e,n){return(e=Vue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vue(t){var e=Fue(t,"string");return typeof e=="symbol"?e:e+""}function Fue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hx=Math.PI/180,Bue=t=>t*180/Math.PI,Er=(t,e,n,r)=>({x:t+Math.cos(-hx*r)*n,y:e+Math.sin(-hx*r)*n}),zue=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Uue=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},$ue=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=Uue({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(n-i)/a,c=Math.acos(l);return r>s&&(c=2*Math.PI-c),{radius:a,angle:Bue(c),angleInRadian:c}},que=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},Hue=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},Wue=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=$ue({x:n,y:r},e),{innerRadius:a,outerRadius:l}=e;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:d}=que(e),f=s,m;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;m=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=c}return m?o4(o4({},e),{},{radius:i,angle:Hue(f,e)}):null};function u$(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=Er(e,n,r,i),l=Er(e,n,r,s);return{points:[a,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var l4,c4,u4,d4,f4,h4,m4;function NS(){return NS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NS.apply(null,arguments)}function uu(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var Kue=(t,e)=>{var n=Os(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Ev=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=t,d=l*(a?1:-1)+r,f=Math.asin(l/d)/hx,m=c?i:i+s*f,p=Er(e,n,d,m),y=Er(e,n,r,m),x=c?i-s*f:i,b=Er(e,n,d*Math.cos(f*hx),x);return{center:p,circleTangency:y,lineTangency:b,theta:f}},d$=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,l=Kue(s,a),c=s+l,d=Er(e,n,i,s),f=Er(e,n,i,c),m=Pn(l4||(l4=uu(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(l)>180),+(s>c),f.x,f.y);if(r>0){var p=Er(e,n,r,s),y=Er(e,n,r,c);m+=Pn(c4||(c4=uu(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,r,r,+(Math.abs(l)>180),+(s<=c),p.x,p.y)}else m+=Pn(u4||(u4=uu(["L ",","," Z"])),e,n);return m},Gue=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:d}=t,f=Os(d-c),{circleTangency:m,lineTangency:p,theta:y}=Ev({cx:e,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),{circleTangency:x,lineTangency:b,theta:_}=Ev({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:l}),S=l?Math.abs(c-d):Math.abs(c-d)-y-_;if(S<0)return a?Pn(d4||(d4=uu(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,s,s,s*2,s,s,-s*2):d$({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var R=Pn(f4||(f4=uu(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,s,s,+(f<0),m.x,m.y,i,i,+(S>180),+(f<0),x.x,x.y,s,s,+(f<0),b.x,b.y);if(r>0){var{circleTangency:D,lineTangency:z,theta:I}=Ev({cx:e,cy:n,radius:r,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:P,lineTangency:C,theta:E}=Ev({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=l?Math.abs(c-d):Math.abs(c-d)-I-E;if(A<0&&s===0)return"".concat(R,"L").concat(e,",").concat(n,"Z");R+=Pn(h4||(h4=uu(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,s,s,+(f<0),P.x,P.y,r,r,+(A>180),+(f>0),D.x,D.y,s,s,+(f<0),z.x,z.y)}else R+=Pn(m4||(m4=uu(["L",",","Z"])),e,n);return R},Xue={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},f$=t=>{var e=Ci(t,Xue),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f,className:m}=e;if(s<i||d===f)return null;var p=Yt("recharts-sector",m),y=s-i,x=ac(a,y,0,!0),b;return x>0&&Math.abs(d-f)<360?b=Gue({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,y/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:f}):b=d$({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),N.createElement("path",NS({},Hr(e),{className:p,d:b}))};function Yue(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(t8(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:l}=e,c=Er(r,i,s,l),d=Er(r,i,a,l);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return u$(e)}}var SN={},TN={},PN={},p4;function Que(){return p4||(p4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d8();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(PN)),PN}var g4;function Jue(){return g4||(g4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Que();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(TN)),TN}var y4;function Zue(){return y4||(y4=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=f8(),n=Jue();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let d=0;d<l;d++)c[d]=i,i+=a;return c}t.range=r})(SN)),SN}var AN,v4;function ede(){return v4||(v4=1,AN=Zue().range),AN}var tde=ede();const h$=_i(tde);function Wl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function nde(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yA(t){let e,n,r;t.length!==2?(e=Wl,n=(l,c)=>Wl(t(l),c),r=(l,c)=>t(l)-c):(e=t===Wl||t===nde?t:rde,n=t,r=t);function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;n(l[m],c)<0?d=m+1:f=m}while(d<f)}return d}function s(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;n(l[m],c)<=0?d=m+1:f=m}while(d<f)}return d}function a(l,c,d=0,f=l.length){const m=i(l,c,d,f-1);return m>d&&r(l[m-1],c)>-r(l[m],c)?m-1:m}return{left:i,center:a,right:s}}function rde(){return 0}function m$(t){return t===null?NaN:+t}function*ide(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const sde=yA(Wl),Rg=sde.right;yA(m$).center;class x4 extends Map{constructor(e,n=lde){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(b4(this,e))}has(e){return super.has(b4(this,e))}set(e,n){return super.set(ade(this,e),n)}delete(e){return super.delete(ode(this,e))}}function b4({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ade({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ode({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function lde(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cde(t=Wl){if(t===Wl)return p$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function p$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ude=Math.sqrt(50),dde=Math.sqrt(10),fde=Math.sqrt(2);function mx(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=ude?10:s>=dde?5:s>=fde?2:1;let l,c,d;return i<0?(d=Math.pow(10,-i)/a,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*a,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=n&&n<2?mx(t,e,n*2):[l,c,d]}function CS(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?mx(e,t,n):mx(t,e,n);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(r)if(a<0)for(let d=0;d<l;++d)c[d]=(s-d)/-a;else for(let d=0;d<l;++d)c[d]=(s-d)*a;else if(a<0)for(let d=0;d<l;++d)c[d]=(i+d)/-a;else for(let d=0;d<l;++d)c[d]=(i+d)*a;return c}function ES(t,e,n){return e=+e,t=+t,n=+n,mx(t,e,n)[2]}function SS(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?ES(e,t,n):ES(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function w4(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _4(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function g$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?p$:cde(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,f=Math.log(c),m=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*m*(c-m)/c)*(d-c/2<0?-1:1),y=Math.max(n,Math.floor(e-d*m/c+p)),x=Math.min(r,Math.floor(e+(c-d)*m/c+p));g$(t,e,y,x,i)}const s=t[e];let a=n,l=r;for(Dm(t,n,e),i(t[r],s)>0&&Dm(t,n,r);a<l;){for(Dm(t,a,l),++a,--l;i(t[a],s)<0;)++a;for(;i(t[l],s)>0;)--l}i(t[n],s)===0?Dm(t,n,l):(++l,Dm(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function Dm(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function hde(t,e,n){if(t=Float64Array.from(ide(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return _4(t);if(e>=1)return w4(t);var r,i=(r-1)*e,s=Math.floor(i),a=w4(g$(t,s).subarray(0,s+1)),l=_4(t.subarray(s+1));return a+(l-a)*(i-s)}}function mde(t,e,n=m$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),l=+n(t[s+1],s+1,t);return a+(l-a)*(i-s)}}function pde(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ps(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ho(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const TS=Symbol("implicit");function vA(){var t=new x4,e=[],n=[],r=TS;function i(s){let a=t.get(s);if(a===void 0){if(r!==TS)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new x4;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return vA(e,n).unknown(r)},ps.apply(i,arguments),i}function xA(){var t=vA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,l=!1,c=0,d=0,f=.5;delete t.unknown;function m(){var p=e().length,y=i<r,x=y?i:r,b=y?r:i;s=(b-x)/Math.max(1,p-c+d*2),l&&(s=Math.floor(s)),x+=(b-x-s*(p-c))*f,a=s*(1-c),l&&(x=Math.round(x),a=Math.round(a));var _=pde(p).map(function(S){return x+s*S});return n(y?_.reverse():_)}return t.domain=function(p){return arguments.length?(e(p),m()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,l=!0,m()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(p){return arguments.length?(l=!!p,m()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),m()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},t.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},t.copy=function(){return xA(e(),[r,i]).round(l).paddingInner(c).paddingOuter(d).align(f)},ps.apply(m(),arguments)}function y$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return y$(e())},t}function gde(){return y$(xA.apply(null,arguments).paddingInner(1))}function bA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function v$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Dg(){}var Hp=.7,px=1/Hp,Pf="\\s*([+-]?\\d+)\\s*",Wp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ma="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",yde=/^#([0-9a-f]{3,8})$/,vde=new RegExp(`^rgb\\(${Pf},${Pf},${Pf}\\)$`),xde=new RegExp(`^rgb\\(${Ma},${Ma},${Ma}\\)$`),bde=new RegExp(`^rgba\\(${Pf},${Pf},${Pf},${Wp}\\)$`),wde=new RegExp(`^rgba\\(${Ma},${Ma},${Ma},${Wp}\\)$`),_de=new RegExp(`^hsl\\(${Wp},${Ma},${Ma}\\)$`),Nde=new RegExp(`^hsla\\(${Wp},${Ma},${Ma},${Wp}\\)$`),N4={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bA(Dg,Kp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:C4,formatHex:C4,formatHex8:Cde,formatHsl:Ede,formatRgb:E4,toString:E4});function C4(){return this.rgb().formatHex()}function Cde(){return this.rgb().formatHex8()}function Ede(){return x$(this).formatHsl()}function E4(){return this.rgb().formatRgb()}function Kp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=yde.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?S4(e):n===3?new yi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Sv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Sv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=vde.exec(t))?new yi(e[1],e[2],e[3],1):(e=xde.exec(t))?new yi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=bde.exec(t))?Sv(e[1],e[2],e[3],e[4]):(e=wde.exec(t))?Sv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_de.exec(t))?A4(e[1],e[2]/100,e[3]/100,1):(e=Nde.exec(t))?A4(e[1],e[2]/100,e[3]/100,e[4]):N4.hasOwnProperty(t)?S4(N4[t]):t==="transparent"?new yi(NaN,NaN,NaN,0):null}function S4(t){return new yi(t>>16&255,t>>8&255,t&255,1)}function Sv(t,e,n,r){return r<=0&&(t=e=n=NaN),new yi(t,e,n,r)}function Sde(t){return t instanceof Dg||(t=Kp(t)),t?(t=t.rgb(),new yi(t.r,t.g,t.b,t.opacity)):new yi}function PS(t,e,n,r){return arguments.length===1?Sde(t):new yi(t,e,n,r??1)}function yi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}bA(yi,PS,v$(Dg,{brighter(t){return t=t==null?px:Math.pow(px,t),new yi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Hp:Math.pow(Hp,t),new yi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yi(_u(this.r),_u(this.g),_u(this.b),gx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:T4,formatHex:T4,formatHex8:Tde,formatRgb:P4,toString:P4}));function T4(){return`#${du(this.r)}${du(this.g)}${du(this.b)}`}function Tde(){return`#${du(this.r)}${du(this.g)}${du(this.b)}${du((isNaN(this.opacity)?1:this.opacity)*255)}`}function P4(){const t=gx(this.opacity);return`${t===1?"rgb(":"rgba("}${_u(this.r)}, ${_u(this.g)}, ${_u(this.b)}${t===1?")":`, ${t})`}`}function gx(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _u(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function du(t){return t=_u(t),(t<16?"0":"")+t.toString(16)}function A4(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ks(t,e,n,r)}function x$(t){if(t instanceof ks)return new ks(t.h,t.s,t.l,t.opacity);if(t instanceof Dg||(t=Kp(t)),!t)return new ks;if(t instanceof ks)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,l=s-i,c=(s+i)/2;return l?(e===s?a=(n-r)/l+(n<r)*6:n===s?a=(r-e)/l+2:a=(e-n)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new ks(a,l,c,t.opacity)}function Pde(t,e,n,r){return arguments.length===1?x$(t):new ks(t,e,n,r??1)}function ks(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}bA(ks,Pde,v$(Dg,{brighter(t){return t=t==null?px:Math.pow(px,t),new ks(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Hp:Math.pow(Hp,t),new ks(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yi(IN(t>=240?t-240:t+120,i,r),IN(t,i,r),IN(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ks(I4(this.h),Tv(this.s),Tv(this.l),gx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=gx(this.opacity);return`${t===1?"hsl(":"hsla("}${I4(this.h)}, ${Tv(this.s)*100}%, ${Tv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function I4(t){return t=(t||0)%360,t<0?t+360:t}function Tv(t){return Math.max(0,Math.min(1,t||0))}function IN(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const wA=t=>()=>t;function Ade(t,e){return function(n){return t+n*e}}function Ide(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function jde(t){return(t=+t)==1?b$:function(e,n){return n-e?Ide(e,n,t):wA(isNaN(e)?n:e)}}function b$(t,e){var n=e-t;return n?Ade(t,n):wA(isNaN(t)?e:t)}const j4=(function t(e){var n=jde(e);function r(i,s){var a=n((i=PS(i)).r,(s=PS(s)).r),l=n(i.g,s.g),c=n(i.b,s.b),d=b$(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=c(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function kde(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Rde(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Dde(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Ch(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(l){for(a=0;a<r;++a)s[a]=i[a](l);return s}}function Ode(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function yx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Mde(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ch(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var AS=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jN=new RegExp(AS.source,"g");function Lde(t){return function(){return t}}function Vde(t){return function(e){return t(e)+""}}function Fde(t,e){var n=AS.lastIndex=jN.lastIndex=0,r,i,s,a=-1,l=[],c=[];for(t=t+"",e=e+"";(r=AS.exec(t))&&(i=jN.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),l[a]?l[a]+=s:l[++a]=s),(r=r[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:yx(r,i)})),n=jN.lastIndex;return n<e.length&&(s=e.slice(n),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?Vde(c[0].x):Lde(e):(e=c.length,function(d){for(var f=0,m;f<e;++f)l[(m=c[f]).i]=m.x(d);return l.join("")})}function Ch(t,e){var n=typeof e,r;return e==null||n==="boolean"?wA(e):(n==="number"?yx:n==="string"?(r=Kp(e))?(e=r,j4):Fde:e instanceof Kp?j4:e instanceof Date?Ode:Rde(e)?kde:Array.isArray(e)?Dde:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Mde:yx)(t,e)}function _A(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Bde(t,e){e===void 0&&(e=t,t=Ch);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var l=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[l](a-l)}}function zde(t){return function(){return t}}function vx(t){return+t}var k4=[0,1];function Yr(t){return t}function IS(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:zde(isNaN(e)?NaN:.5)}function Ude(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function $de(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=IS(i,r),s=n(a,s)):(r=IS(r,i),s=n(s,a)),function(l){return s(r(l))}}function qde(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=IS(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(l){var c=Rg(t,l,1,r)-1;return s[c](i[c](l))}}function Og(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Zb(){var t=k4,e=k4,n=Ch,r,i,s,a=Yr,l,c,d;function f(){var p=Math.min(t.length,e.length);return a!==Yr&&(a=Ude(t[0],t[p-1])),l=p>2?qde:$de,c=d=null,m}function m(p){return p==null||isNaN(p=+p)?s:(c||(c=l(t.map(r),e,n)))(r(a(p)))}return m.invert=function(p){return a(i((d||(d=l(e,t.map(r),yx)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,vx),f()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),n=_A,f()},m.clamp=function(p){return arguments.length?(a=p?!0:Yr,f()):a!==Yr},m.interpolate=function(p){return arguments.length?(n=p,f()):n},m.unknown=function(p){return arguments.length?(s=p,m):s},function(p,y){return r=p,i=y,f()}}function NA(){return Zb()(Yr,Yr)}function Hde(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function xx(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function sh(t){return t=xx(Math.abs(t)),t?t[1]:NaN}function Wde(t,e){return function(n,r){for(var i=n.length,s=[],a=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),s.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Kde(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Gde=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gp(t){if(!(e=Gde.exec(t)))throw new Error("invalid format: "+t);var e;return new CA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Gp.prototype=CA.prototype;function CA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}CA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Xde(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var bx;function Yde(t,e){var n=xx(t,e);if(!n)return bx=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(bx=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+xx(t,Math.max(0,e+s-1))[0]}function R4(t,e){var n=xx(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const D4={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Hde,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>R4(t*100,e),r:R4,s:Yde,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function O4(t){return t}var M4=Array.prototype.map,L4=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Qde(t){var e=t.grouping===void 0||t.thousands===void 0?O4:Wde(M4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?O4:Kde(M4.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m,p){m=Gp(m);var y=m.fill,x=m.align,b=m.sign,_=m.symbol,S=m.zero,R=m.width,D=m.comma,z=m.precision,I=m.trim,P=m.type;P==="n"?(D=!0,P="g"):D4[P]||(z===void 0&&(z=12),I=!0,P="g"),(S||y==="0"&&x==="=")&&(S=!0,y="0",x="=");var C=(p&&p.prefix!==void 0?p.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),E=(_==="$"?r:/[%p]/.test(P)?a:"")+(p&&p.suffix!==void 0?p.suffix:""),A=D4[P],j=/[defgprs%]/.test(P);z=z===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function V(B){var F=C,U=E,X,J,O;if(P==="c")U=A(B)+U,B="";else{B=+B;var K=B<0||1/B<0;if(B=isNaN(B)?c:A(Math.abs(B),z),I&&(B=Xde(B)),K&&+B==0&&b!=="+"&&(K=!1),F=(K?b==="("?b:l:b==="-"||b==="("?"":b)+F,U=(P==="s"&&!isNaN(B)&&bx!==void 0?L4[8+bx/3]:"")+U+(K&&b==="("?")":""),j){for(X=-1,J=B.length;++X<J;)if(O=B.charCodeAt(X),48>O||O>57){U=(O===46?i+B.slice(X+1):B.slice(X))+U,B=B.slice(0,X);break}}}D&&!S&&(B=e(B,1/0));var H=F.length+B.length+U.length,k=H<R?new Array(R-H+1).join(y):"";switch(D&&S&&(B=e(k+B,k.length?R-U.length:1/0),k=""),x){case"<":B=F+B+U+k;break;case"=":B=F+k+B+U;break;case"^":B=k.slice(0,H=k.length>>1)+F+B+U+k.slice(H);break;default:B=k+F+B+U;break}return s(B)}return V.toString=function(){return m+""},V}function f(m,p){var y=Math.max(-8,Math.min(8,Math.floor(sh(p)/3)))*3,x=Math.pow(10,-y),b=d((m=Gp(m),m.type="f",m),{suffix:L4[8+y/3]});return function(_){return b(x*_)}}return{format:d,formatPrefix:f}}var Pv,EA,w$;Jde({thousands:",",grouping:[3],currency:["$",""]});function Jde(t){return Pv=Qde(t),EA=Pv.format,w$=Pv.formatPrefix,Pv}function Zde(t){return Math.max(0,-sh(Math.abs(t)))}function efe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sh(e)/3)))*3-sh(Math.abs(t)))}function tfe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sh(e)-sh(t))+1}function _$(t,e,n,r){var i=SS(t,e,n),s;switch(r=Gp(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=efe(i,a))&&(r.precision=s),w$(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=tfe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Zde(i))&&(r.precision=s-(r.type==="%")*2);break}}return EA(r)}function vc(t){var e=t.domain;return t.ticks=function(n){var r=e();return CS(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return _$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],l=r[s],c,d,f=10;for(l<a&&(d=a,a=l,l=d,d=i,i=s,s=d);f-- >0;){if(d=ES(a,l,n),d===c)return r[i]=a,r[s]=l,e(r);if(d>0)a=Math.floor(a/d)*d,l=Math.ceil(l/d)*d;else if(d<0)a=Math.ceil(a*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function N$(){var t=NA();return t.copy=function(){return Og(t,N$())},ps.apply(t,arguments),vc(t)}function C$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,vx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return C$(t).unknown(e)},t=arguments.length?Array.from(t,vx):[0,1],vc(n)}function E$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function V4(t){return Math.log(t)}function F4(t){return Math.exp(t)}function nfe(t){return-Math.log(-t)}function rfe(t){return-Math.exp(-t)}function ife(t){return isFinite(t)?+("1e"+t):t<0?0:t}function sfe(t){return t===10?ife:t===Math.E?Math.exp:e=>Math.pow(t,e)}function afe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function B4(t){return(e,n)=>-t(-e,n)}function SA(t){const e=t(V4,F4),n=e.domain;let r=10,i,s;function a(){return i=afe(r),s=sfe(r),n()[0]<0?(i=B4(i),s=B4(s),t(nfe,rfe)):t(V4,F4),e}return e.base=function(l){return arguments.length?(r=+l,a()):r},e.domain=function(l){return arguments.length?(n(l),a()):n()},e.ticks=l=>{const c=n();let d=c[0],f=c[c.length-1];const m=f<d;m&&([d,f]=[f,d]);let p=i(d),y=i(f),x,b;const _=l==null?10:+l;let S=[];if(!(r%1)&&y-p<_){if(p=Math.floor(p),y=Math.ceil(y),d>0){for(;p<=y;++p)for(x=1;x<r;++x)if(b=p<0?x/s(-p):x*s(p),!(b<d)){if(b>f)break;S.push(b)}}else for(;p<=y;++p)for(x=r-1;x>=1;--x)if(b=p>0?x/s(-p):x*s(p),!(b<d)){if(b>f)break;S.push(b)}S.length*2<_&&(S=CS(d,f,_))}else S=CS(p,y,Math.min(y-p,_)).map(s);return m?S.reverse():S},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Gp(c)).precision==null&&(c.trim=!0),c=EA(c)),l===1/0)return c;const d=Math.max(1,r*l/e.ticks().length);return f=>{let m=f/s(Math.round(i(f)));return m*r<r-.5&&(m*=r),m<=d?c(f):""}},e.nice=()=>n(E$(n(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function S$(){const t=SA(Zb()).domain([1,10]);return t.copy=()=>Og(t,S$()).base(t.base()),ps.apply(t,arguments),t}function z4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function U4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function TA(t){var e=1,n=t(z4(e),U4(e));return n.constant=function(r){return arguments.length?t(z4(e=+r),U4(e)):e},vc(n)}function T$(){var t=TA(Zb());return t.copy=function(){return Og(t,T$()).constant(t.constant())},ps.apply(t,arguments)}function $4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ofe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lfe(t){return t<0?-t*t:t*t}function PA(t){var e=t(Yr,Yr),n=1;function r(){return n===1?t(Yr,Yr):n===.5?t(ofe,lfe):t($4(n),$4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},vc(e)}function AA(){var t=PA(Zb());return t.copy=function(){return Og(t,AA()).exponent(t.exponent())},ps.apply(t,arguments),t}function cfe(){return AA.apply(null,arguments).exponent(.5)}function q4(t){return Math.sign(t)*t*t}function ufe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function P$(){var t=NA(),e=[0,1],n=!1,r;function i(s){var a=ufe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(q4(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,vx)).map(q4)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return P$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ps.apply(i,arguments),vc(i)}function A$(){var t=[],e=[],n=[],r;function i(){var a=0,l=Math.max(1,e.length);for(n=new Array(l-1);++a<l;)n[a-1]=mde(t,a/l);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Rg(n,a)]}return s.invertExtent=function(a){var l=e.indexOf(a);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let l of a)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Wl),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return A$().domain(t).range(e).unknown(r)},ps.apply(s,arguments)}function I$(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[Rg(r,c,0,n)]:s}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return a}return a.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},a.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return r.slice()},a.copy=function(){return I$().domain([t,e]).range(i).unknown(s)},ps.apply(vc(a),arguments)}function j$(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Rg(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return j$().domain(t).range(e).unknown(n)},ps.apply(i,arguments)}const kN=new Date,RN=new Date;function Zn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let d;do c.push(d=new Date(+s)),e(s,l),t(s);while(d<s&&s<a);return c},i.filter=s=>Zn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;e(a,-1),!s(a););else for(;--l>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(kN.setTime(+s),RN.setTime(+a),t(kN),t(RN),Math.floor(n(kN,RN))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const wx=Zn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):wx);wx.range;const xo=1e3,os=xo*60,bo=os*60,jo=bo*24,IA=jo*7,H4=jo*30,DN=jo*365,fu=Zn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xo)},(t,e)=>(e-t)/xo,t=>t.getUTCSeconds());fu.range;const jA=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xo)},(t,e)=>{t.setTime(+t+e*os)},(t,e)=>(e-t)/os,t=>t.getMinutes());jA.range;const kA=Zn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*os)},(t,e)=>(e-t)/os,t=>t.getUTCMinutes());kA.range;const RA=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xo-t.getMinutes()*os)},(t,e)=>{t.setTime(+t+e*bo)},(t,e)=>(e-t)/bo,t=>t.getHours());RA.range;const DA=Zn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*bo)},(t,e)=>(e-t)/bo,t=>t.getUTCHours());DA.range;const Mg=Zn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*os)/jo,t=>t.getDate()-1);Mg.range;const ew=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jo,t=>t.getUTCDate()-1);ew.range;const k$=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/jo,t=>Math.floor(t/jo));k$.range;function rd(t){return Zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*os)/IA)}const tw=rd(0),_x=rd(1),dfe=rd(2),ffe=rd(3),ah=rd(4),hfe=rd(5),mfe=rd(6);tw.range;_x.range;dfe.range;ffe.range;ah.range;hfe.range;mfe.range;function id(t){return Zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/IA)}const nw=id(0),Nx=id(1),pfe=id(2),gfe=id(3),oh=id(4),yfe=id(5),vfe=id(6);nw.range;Nx.range;pfe.range;gfe.range;oh.range;yfe.range;vfe.range;const OA=Zn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());OA.range;const MA=Zn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());MA.range;const ko=Zn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ko.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ko.range;const Ro=Zn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ro.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ro.range;function R$(t,e,n,r,i,s){const a=[[fu,1,xo],[fu,5,5*xo],[fu,15,15*xo],[fu,30,30*xo],[s,1,os],[s,5,5*os],[s,15,15*os],[s,30,30*os],[i,1,bo],[i,3,3*bo],[i,6,6*bo],[i,12,12*bo],[r,1,jo],[r,2,2*jo],[n,1,IA],[e,1,H4],[e,3,3*H4],[t,1,DN]];function l(d,f,m){const p=f<d;p&&([d,f]=[f,d]);const y=m&&typeof m.range=="function"?m:c(d,f,m),x=y?y.range(d,+f+1):[];return p?x.reverse():x}function c(d,f,m){const p=Math.abs(f-d)/m,y=yA(([,,_])=>_).right(a,p);if(y===a.length)return t.every(SS(d/DN,f/DN,m));if(y===0)return wx.every(Math.max(SS(d,f,m),1));const[x,b]=a[p/a[y-1][2]<a[y][2]/p?y-1:y];return x.every(b)}return[l,c]}const[xfe,bfe]=R$(Ro,MA,nw,k$,DA,kA),[wfe,_fe]=R$(ko,OA,tw,Mg,RA,jA);function ON(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function MN(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Om(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Nfe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,l=t.months,c=t.shortMonths,d=Mm(i),f=Lm(i),m=Mm(s),p=Lm(s),y=Mm(a),x=Lm(a),b=Mm(l),_=Lm(l),S=Mm(c),R=Lm(c),D={a:O,A:K,b:H,B:k,c:null,d:Q4,e:Q4,f:Wfe,g:nhe,G:ihe,H:$fe,I:qfe,j:Hfe,L:D$,m:Kfe,M:Gfe,p:$,q:G,Q:eM,s:tM,S:Xfe,u:Yfe,U:Qfe,V:Jfe,w:Zfe,W:ehe,x:null,X:null,y:the,Y:rhe,Z:she,"%":Z4},z={a:Z,A:Y,b:te,B:ie,c:null,d:J4,e:J4,f:che,g:xhe,G:whe,H:ahe,I:ohe,j:lhe,L:M$,m:uhe,M:dhe,p:ne,q:be,Q:eM,s:tM,S:fhe,u:hhe,U:mhe,V:phe,w:ghe,W:yhe,x:null,X:null,y:vhe,Y:bhe,Z:_he,"%":Z4},I={a:j,A:V,b:B,B:F,c:U,d:X4,e:X4,f:Ffe,g:G4,G:K4,H:Y4,I:Y4,j:Ofe,L:Vfe,m:Dfe,M:Mfe,p:A,q:Rfe,Q:zfe,s:Ufe,S:Lfe,u:Pfe,U:Afe,V:Ife,w:Tfe,W:jfe,x:X,X:J,y:G4,Y:K4,Z:kfe,"%":Bfe};D.x=P(n,D),D.X=P(r,D),D.c=P(e,D),z.x=P(n,z),z.X=P(r,z),z.c=P(e,z);function P(se,ve){return function(Pe){var fe=[],Ae=-1,De=0,Ze=se.length,ct,Be,yt;for(Pe instanceof Date||(Pe=new Date(+Pe));++Ae<Ze;)se.charCodeAt(Ae)===37&&(fe.push(se.slice(De,Ae)),(Be=W4[ct=se.charAt(++Ae)])!=null?ct=se.charAt(++Ae):Be=ct==="e"?" ":"0",(yt=ve[ct])&&(ct=yt(Pe,Be)),fe.push(ct),De=Ae+1);return fe.push(se.slice(De,Ae)),fe.join("")}}function C(se,ve){return function(Pe){var fe=Om(1900,void 0,1),Ae=E(fe,se,Pe+="",0),De,Ze;if(Ae!=Pe.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(ve&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(De=MN(Om(fe.y,0,1)),Ze=De.getUTCDay(),De=Ze>4||Ze===0?Nx.ceil(De):Nx(De),De=ew.offset(De,(fe.V-1)*7),fe.y=De.getUTCFullYear(),fe.m=De.getUTCMonth(),fe.d=De.getUTCDate()+(fe.w+6)%7):(De=ON(Om(fe.y,0,1)),Ze=De.getDay(),De=Ze>4||Ze===0?_x.ceil(De):_x(De),De=Mg.offset(De,(fe.V-1)*7),fe.y=De.getFullYear(),fe.m=De.getMonth(),fe.d=De.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Ze="Z"in fe?MN(Om(fe.y,0,1)).getUTCDay():ON(Om(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Ze+5)%7:fe.w+fe.U*7-(Ze+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,MN(fe)):ON(fe)}}function E(se,ve,Pe,fe){for(var Ae=0,De=ve.length,Ze=Pe.length,ct,Be;Ae<De;){if(fe>=Ze)return-1;if(ct=ve.charCodeAt(Ae++),ct===37){if(ct=ve.charAt(Ae++),Be=I[ct in W4?ve.charAt(Ae++):ct],!Be||(fe=Be(se,Pe,fe))<0)return-1}else if(ct!=Pe.charCodeAt(fe++))return-1}return fe}function A(se,ve,Pe){var fe=d.exec(ve.slice(Pe));return fe?(se.p=f.get(fe[0].toLowerCase()),Pe+fe[0].length):-1}function j(se,ve,Pe){var fe=y.exec(ve.slice(Pe));return fe?(se.w=x.get(fe[0].toLowerCase()),Pe+fe[0].length):-1}function V(se,ve,Pe){var fe=m.exec(ve.slice(Pe));return fe?(se.w=p.get(fe[0].toLowerCase()),Pe+fe[0].length):-1}function B(se,ve,Pe){var fe=S.exec(ve.slice(Pe));return fe?(se.m=R.get(fe[0].toLowerCase()),Pe+fe[0].length):-1}function F(se,ve,Pe){var fe=b.exec(ve.slice(Pe));return fe?(se.m=_.get(fe[0].toLowerCase()),Pe+fe[0].length):-1}function U(se,ve,Pe){return E(se,e,ve,Pe)}function X(se,ve,Pe){return E(se,n,ve,Pe)}function J(se,ve,Pe){return E(se,r,ve,Pe)}function O(se){return a[se.getDay()]}function K(se){return s[se.getDay()]}function H(se){return c[se.getMonth()]}function k(se){return l[se.getMonth()]}function $(se){return i[+(se.getHours()>=12)]}function G(se){return 1+~~(se.getMonth()/3)}function Z(se){return a[se.getUTCDay()]}function Y(se){return s[se.getUTCDay()]}function te(se){return c[se.getUTCMonth()]}function ie(se){return l[se.getUTCMonth()]}function ne(se){return i[+(se.getUTCHours()>=12)]}function be(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ve=P(se+="",D);return ve.toString=function(){return se},ve},parse:function(se){var ve=C(se+="",!1);return ve.toString=function(){return se},ve},utcFormat:function(se){var ve=P(se+="",z);return ve.toString=function(){return se},ve},utcParse:function(se){var ve=C(se+="",!0);return ve.toString=function(){return se},ve}}}var W4={"-":"",_:" ",0:"0"},hr=/^\s*\d+/,Cfe=/^%/,Efe=/[\\^$*+?|[\]().{}]/g;function Lt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Sfe(t){return t.replace(Efe,"\\$&")}function Mm(t){return new RegExp("^(?:"+t.map(Sfe).join("|")+")","i")}function Lm(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Tfe(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Pfe(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Afe(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ife(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function jfe(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function K4(t,e,n){var r=hr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function G4(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kfe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Rfe(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Dfe(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function X4(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ofe(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Y4(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Mfe(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Lfe(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Vfe(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ffe(t,e,n){var r=hr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Bfe(t,e,n){var r=Cfe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function zfe(t,e,n){var r=hr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ufe(t,e,n){var r=hr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Q4(t,e){return Lt(t.getDate(),e,2)}function $fe(t,e){return Lt(t.getHours(),e,2)}function qfe(t,e){return Lt(t.getHours()%12||12,e,2)}function Hfe(t,e){return Lt(1+Mg.count(ko(t),t),e,3)}function D$(t,e){return Lt(t.getMilliseconds(),e,3)}function Wfe(t,e){return D$(t,e)+"000"}function Kfe(t,e){return Lt(t.getMonth()+1,e,2)}function Gfe(t,e){return Lt(t.getMinutes(),e,2)}function Xfe(t,e){return Lt(t.getSeconds(),e,2)}function Yfe(t){var e=t.getDay();return e===0?7:e}function Qfe(t,e){return Lt(tw.count(ko(t)-1,t),e,2)}function O$(t){var e=t.getDay();return e>=4||e===0?ah(t):ah.ceil(t)}function Jfe(t,e){return t=O$(t),Lt(ah.count(ko(t),t)+(ko(t).getDay()===4),e,2)}function Zfe(t){return t.getDay()}function ehe(t,e){return Lt(_x.count(ko(t)-1,t),e,2)}function the(t,e){return Lt(t.getFullYear()%100,e,2)}function nhe(t,e){return t=O$(t),Lt(t.getFullYear()%100,e,2)}function rhe(t,e){return Lt(t.getFullYear()%1e4,e,4)}function ihe(t,e){var n=t.getDay();return t=n>=4||n===0?ah(t):ah.ceil(t),Lt(t.getFullYear()%1e4,e,4)}function she(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Lt(e/60|0,"0",2)+Lt(e%60,"0",2)}function J4(t,e){return Lt(t.getUTCDate(),e,2)}function ahe(t,e){return Lt(t.getUTCHours(),e,2)}function ohe(t,e){return Lt(t.getUTCHours()%12||12,e,2)}function lhe(t,e){return Lt(1+ew.count(Ro(t),t),e,3)}function M$(t,e){return Lt(t.getUTCMilliseconds(),e,3)}function che(t,e){return M$(t,e)+"000"}function uhe(t,e){return Lt(t.getUTCMonth()+1,e,2)}function dhe(t,e){return Lt(t.getUTCMinutes(),e,2)}function fhe(t,e){return Lt(t.getUTCSeconds(),e,2)}function hhe(t){var e=t.getUTCDay();return e===0?7:e}function mhe(t,e){return Lt(nw.count(Ro(t)-1,t),e,2)}function L$(t){var e=t.getUTCDay();return e>=4||e===0?oh(t):oh.ceil(t)}function phe(t,e){return t=L$(t),Lt(oh.count(Ro(t),t)+(Ro(t).getUTCDay()===4),e,2)}function ghe(t){return t.getUTCDay()}function yhe(t,e){return Lt(Nx.count(Ro(t)-1,t),e,2)}function vhe(t,e){return Lt(t.getUTCFullYear()%100,e,2)}function xhe(t,e){return t=L$(t),Lt(t.getUTCFullYear()%100,e,2)}function bhe(t,e){return Lt(t.getUTCFullYear()%1e4,e,4)}function whe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?oh(t):oh.ceil(t),Lt(t.getUTCFullYear()%1e4,e,4)}function _he(){return"+0000"}function Z4(){return"%"}function eM(t){return+t}function tM(t){return Math.floor(+t/1e3)}var Xd,V$,F$;Nhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nhe(t){return Xd=Nfe(t),V$=Xd.format,Xd.parse,F$=Xd.utcFormat,Xd.utcParse,Xd}function Che(t){return new Date(t)}function Ehe(t){return t instanceof Date?+t:+new Date(+t)}function LA(t,e,n,r,i,s,a,l,c,d){var f=NA(),m=f.invert,p=f.domain,y=d(".%L"),x=d(":%S"),b=d("%I:%M"),_=d("%I %p"),S=d("%a %d"),R=d("%b %d"),D=d("%B"),z=d("%Y");function I(P){return(c(P)<P?y:l(P)<P?x:a(P)<P?b:s(P)<P?_:r(P)<P?i(P)<P?S:R:n(P)<P?D:z)(P)}return f.invert=function(P){return new Date(m(P))},f.domain=function(P){return arguments.length?p(Array.from(P,Ehe)):p().map(Che)},f.ticks=function(P){var C=p();return t(C[0],C[C.length-1],P??10)},f.tickFormat=function(P,C){return C==null?I:d(C)},f.nice=function(P){var C=p();return(!P||typeof P.range!="function")&&(P=e(C[0],C[C.length-1],P??10)),P?p(E$(C,P)):f},f.copy=function(){return Og(f,LA(t,e,n,r,i,s,a,l,c,d))},f}function She(){return ps.apply(LA(wfe,_fe,ko,OA,tw,Mg,RA,jA,fu,V$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function The(){return ps.apply(LA(xfe,bfe,Ro,MA,nw,ew,DA,kA,fu,F$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function rw(){var t=0,e=1,n,r,i,s,a=Yr,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:a(i===0?.5:(m=(s(m)-n)*i,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(a=m,d):a};function f(m){return function(p){var y,x;return arguments.length?([y,x]=p,a=m(y,x),d):[a(0),a(1)]}}return d.range=f(Ch),d.rangeRound=f(_A),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function xc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function B$(){var t=vc(rw()(Yr));return t.copy=function(){return xc(t,B$())},Ho.apply(t,arguments)}function z$(){var t=SA(rw()).domain([1,10]);return t.copy=function(){return xc(t,z$()).base(t.base())},Ho.apply(t,arguments)}function U$(){var t=TA(rw());return t.copy=function(){return xc(t,U$()).constant(t.constant())},Ho.apply(t,arguments)}function VA(){var t=PA(rw());return t.copy=function(){return xc(t,VA()).exponent(t.exponent())},Ho.apply(t,arguments)}function Phe(){return VA.apply(null,arguments).exponent(.5)}function $$(){var t=[],e=Yr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Rg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Wl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>hde(t,s/r))},n.copy=function(){return $$(e).domain(t)},Ho.apply(n,arguments)}function iw(){var t=0,e=.5,n=1,r=1,i,s,a,l,c,d=Yr,f,m=!1,p;function y(b){return isNaN(b=+b)?p:(b=.5+((b=+f(b))-s)*(r*b<r*s?l:c),d(m?Math.max(0,Math.min(1,b)):b))}y.domain=function(b){return arguments.length?([t,e,n]=b,i=f(t=+t),s=f(e=+e),a=f(n=+n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y):[t,e,n]},y.clamp=function(b){return arguments.length?(m=!!b,y):m},y.interpolator=function(b){return arguments.length?(d=b,y):d};function x(b){return function(_){var S,R,D;return arguments.length?([S,R,D]=_,d=Bde(b,[S,R,D]),y):[d(0),d(.5),d(1)]}}return y.range=x(Ch),y.rangeRound=x(_A),y.unknown=function(b){return arguments.length?(p=b,y):p},function(b){return f=b,i=b(t),s=b(e),a=b(n),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),r=s<i?-1:1,y}}function q$(){var t=vc(iw()(Yr));return t.copy=function(){return xc(t,q$())},Ho.apply(t,arguments)}function H$(){var t=SA(iw()).domain([.1,1,10]);return t.copy=function(){return xc(t,H$()).base(t.base())},Ho.apply(t,arguments)}function W$(){var t=TA(iw());return t.copy=function(){return xc(t,W$()).constant(t.constant())},Ho.apply(t,arguments)}function FA(){var t=PA(iw());return t.copy=function(){return xc(t,FA()).exponent(t.exponent())},Ho.apply(t,arguments)}function Ahe(){return FA.apply(null,arguments).exponent(.5)}const Jm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xA,scaleDiverging:q$,scaleDivergingLog:H$,scaleDivergingPow:FA,scaleDivergingSqrt:Ahe,scaleDivergingSymlog:W$,scaleIdentity:C$,scaleImplicit:TS,scaleLinear:N$,scaleLog:S$,scaleOrdinal:vA,scalePoint:gde,scalePow:AA,scaleQuantile:A$,scaleQuantize:I$,scaleRadial:P$,scaleSequential:B$,scaleSequentialLog:z$,scaleSequentialPow:VA,scaleSequentialQuantile:$$,scaleSequentialSqrt:Phe,scaleSequentialSymlog:U$,scaleSqrt:cfe,scaleSymlog:T$,scaleThreshold:j$,scaleTime:She,scaleUtc:The,tickFormat:_$},Symbol.toStringTag,{value:"Module"}));var Wo=t=>t.chartData,K$=ye([Wo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),BA=(t,e,n,r)=>r?K$(t):Wo(t),Ihe=(t,e,n)=>n?K$(t):Wo(t);function Do(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Mt(e)&&Mt(n))return!0}return!1}function nM(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function G$(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Mt(n))i=n;else if(typeof n=="function")return;if(Mt(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Do(a))return a}}function jhe(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Do(r))return nM(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,l;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Je(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&hO.test(i)){var c=hO.exec(i);if(c==null||c[1]==null||e==null)a=void 0;else{var d=+c[1];a=e[0]-d}}else a=e?.[0];if(s==="auto")e!=null&&(l=Math.max(...e));else if(Je(s))l=s;else if(typeof s=="function")try{e!=null&&(l=s(e?.[1]))}catch{}else if(typeof s=="string"&&mO.test(s)){var f=mO.exec(s);if(f==null||f[1]==null||e==null)l=void 0;else{var m=+f[1];l=e[1]+m}}else l=e?.[1];var p=[a,l];if(Do(p))return e==null?p:nM(p,e,n)}}}var Eh=1e9,khe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},UA,pn=!0,ms="[DecimalError] ",Nu=ms+"Invalid argument: ",zA=ms+"Exponent out of range: ",Sh=Math.floor,eu=Math.pow,Rhe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fi,or=1e7,ln=7,X$=9007199254740991,Cx=Sh(X$/ln),Ue={};Ue.absoluteValue=Ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ue.comparedTo=Ue.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ue.decimalPlaces=Ue.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ln;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ue.dividedBy=Ue.div=function(t){return No(this,new this.constructor(t))};Ue.dividedToIntegerBy=Ue.idiv=function(t){var e=this,n=e.constructor;return Xt(No(e,new n(t),0,1),n.precision)};Ue.equals=Ue.eq=function(t){return!this.cmp(t)};Ue.exponent=function(){return qn(this)};Ue.greaterThan=Ue.gt=function(t){return this.cmp(t)>0};Ue.greaterThanOrEqualTo=Ue.gte=function(t){return this.cmp(t)>=0};Ue.isInteger=Ue.isint=function(){return this.e>this.d.length-2};Ue.isNegative=Ue.isneg=function(){return this.s<0};Ue.isPositive=Ue.ispos=function(){return this.s>0};Ue.isZero=function(){return this.s===0};Ue.lessThan=Ue.lt=function(t){return this.cmp(t)<0};Ue.lessThanOrEqualTo=Ue.lte=function(t){return this.cmp(t)<1};Ue.logarithm=Ue.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Fi))throw Error(ms+"NaN");if(n.s<1)throw Error(ms+(n.s?"NaN":"-Infinity"));return n.eq(Fi)?new r(0):(pn=!1,e=No(Xp(n,s),Xp(t,s),s),pn=!0,Xt(e,i))};Ue.minus=Ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?J$(e,t):Y$(e,(t.s=-t.s,t))};Ue.modulo=Ue.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ms+"NaN");return n.s?(pn=!1,e=No(n,t,0,1).times(t),pn=!0,n.minus(e)):Xt(new r(n),i)};Ue.naturalExponential=Ue.exp=function(){return Q$(this)};Ue.naturalLogarithm=Ue.ln=function(){return Xp(this)};Ue.negated=Ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ue.plus=Ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Y$(e,t):J$(e,(t.s=-t.s,t))};Ue.precision=Ue.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Nu+t);if(e=qn(i)+1,r=i.d.length-1,n=r*ln+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ue.squareRoot=Ue.sqrt=function(){var t,e,n,r,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ms+"NaN")}for(t=qn(l),pn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=ja(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Sh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=a=n+3;;)if(s=r,r=s.plus(No(l,s,a+2)).times(.5),ja(s.d).slice(0,a)===(e=ja(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Xt(s,n+1,0),s.times(s).eq(l)){r=s;break}}else if(e!="9999")break;a+=4}return pn=!0,Xt(r,n)};Ue.times=Ue.mul=function(t){var e,n,r,i,s,a,l,c,d,f=this,m=f.constructor,p=f.d,y=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,n=f.e+t.e,c=p.length,d=y.length,c<d&&(s=p,p=y,y=s,a=c,c=d,d=a),s=[],a=c+d,r=a;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)l=s[i]+y[r]*p[i-r-1]+e,s[i--]=l%or|0,e=l/or|0;s[i]=(s[i]+e)%or|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,pn?Xt(t,m.precision):t};Ue.toDecimalPlaces=Ue.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ua(t,0,Eh),e===void 0?e=r.rounding:Ua(e,0,8),Xt(n,t+qn(n)+1,e))};Ue.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=qu(r,!0):(Ua(t,0,Eh),e===void 0?e=i.rounding:Ua(e,0,8),r=Xt(new i(r),t+1,e),n=qu(r,!0,t+1)),n};Ue.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?qu(i):(Ua(t,0,Eh),e===void 0?e=s.rounding:Ua(e,0,8),r=Xt(new s(i),t+qn(i)+1,e),n=qu(r.abs(),!1,t+qn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ue.toInteger=Ue.toint=function(){var t=this,e=t.constructor;return Xt(new e(t),qn(t)+1,e.rounding)};Ue.toNumber=function(){return+this};Ue.toPower=Ue.pow=function(t){var e,n,r,i,s,a,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(Fi);if(l=new c(l),!l.s){if(t.s<1)throw Error(ms+"Infinity");return l}if(l.eq(Fi))return l;if(r=c.precision,t.eq(Fi))return Xt(l,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=l.s,a){if((n=f<0?-f:f)<=X$){for(i=new c(Fi),e=Math.ceil(r/ln+4),pn=!1;n%2&&(i=i.times(l),iM(i.d,e)),n=Sh(n/2),n!==0;)l=l.times(l),iM(l.d,e);return pn=!0,t.s<0?new c(Fi).div(i):Xt(i,r)}}else if(s<0)throw Error(ms+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,pn=!1,i=t.times(Xp(l,r+d)),pn=!0,i=Q$(i),i.s=s,i};Ue.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=qn(i),r=qu(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ua(t,1,Eh),e===void 0?e=s.rounding:Ua(e,0,8),i=Xt(new s(i),t,e),n=qn(i),r=qu(i,t<=n||n<=s.toExpNeg,t)),r};Ue.toSignificantDigits=Ue.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ua(t,1,Eh),e===void 0?e=r.rounding:Ua(e,0,8)),Xt(new r(n),t,e)};Ue.toString=Ue.valueOf=Ue.val=Ue.toJSON=Ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qn(t),n=t.constructor;return qu(t,e<=n.toExpNeg||e>=n.toExpPos)};function Y$(t,e){var n,r,i,s,a,l,c,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),pn?Xt(e,m):e;if(c=t.d,d=e.d,a=t.e,i=e.e,c=c.slice(),s=a-i,s){for(s<0?(r=c,s=-s,l=d.length):(r=d,i=a,l=c.length),a=Math.ceil(m/ln),l=a>l?a+1:l+1,s>l&&(s=l,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(l=c.length,s=d.length,l-s<0&&(s=l,r=d,d=c,c=r),n=0;s;)n=(c[--s]=c[s]+d[s]+n)/or|0,c[s]%=or;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,pn?Xt(e,m):e}function Ua(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Nu+t)}function ja(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=ln-r.length,n&&(s+=Al(n)),s+=r;a=t[e],r=a+"",n=ln-r.length,n&&(s+=Al(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var No=(function(){function t(r,i){var s,a=0,l=r.length;for(r=r.slice();l--;)s=r[l]*i+a,r[l]=s%or|0,a=s/or|0;return a&&r.unshift(a),r}function e(r,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*or+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var l,c,d,f,m,p,y,x,b,_,S,R,D,z,I,P,C,E,A=r.constructor,j=r.s==i.s?1:-1,V=r.d,B=i.d;if(!r.s)return new A(r);if(!i.s)throw Error(ms+"Division by zero");for(c=r.e-i.e,C=B.length,I=V.length,y=new A(j),x=y.d=[],d=0;B[d]==(V[d]||0);)++d;if(B[d]>(V[d]||0)&&--c,s==null?R=s=A.precision:a?R=s+(qn(r)-qn(i))+1:R=s,R<0)return new A(0);if(R=R/ln+2|0,d=0,C==1)for(f=0,B=B[0],R++;(d<I||f)&&R--;d++)D=f*or+(V[d]||0),x[d]=D/B|0,f=D%B|0;else{for(f=or/(B[0]+1)|0,f>1&&(B=t(B,f),V=t(V,f),C=B.length,I=V.length),z=C,b=V.slice(0,C),_=b.length;_<C;)b[_++]=0;E=B.slice(),E.unshift(0),P=B[0],B[1]>=or/2&&++P;do f=0,l=e(B,b,C,_),l<0?(S=b[0],C!=_&&(S=S*or+(b[1]||0)),f=S/P|0,f>1?(f>=or&&(f=or-1),m=t(B,f),p=m.length,_=b.length,l=e(m,b,p,_),l==1&&(f--,n(m,C<p?E:B,p))):(f==0&&(l=f=1),m=B.slice()),p=m.length,p<_&&m.unshift(0),n(b,m,_),l==-1&&(_=b.length,l=e(B,b,C,_),l<1&&(f++,n(b,C<_?E:B,_))),_=b.length):l===0&&(f++,b=[0]),x[d++]=f,l&&b[0]?b[_++]=V[z]||0:(b=[V[z]],_=1);while((z++<I||b[0]!==void 0)&&R--)}return x[0]||x.shift(),y.e=c,Xt(y,a?s+qn(y)+1:s)}})();function Q$(t,e){var n,r,i,s,a,l,c=0,d=0,f=t.constructor,m=f.precision;if(qn(t)>16)throw Error(zA+qn(t));if(!t.s)return new f(Fi);for(pn=!1,l=m,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(eu(2,d))/Math.LN10*2+5|0,l+=r,n=i=s=new f(Fi),f.precision=l;;){if(i=Xt(i.times(t),l),n=n.times(++c),a=s.plus(No(i,n,l)),ja(a.d).slice(0,l)===ja(s.d).slice(0,l)){for(;d--;)s=Xt(s.times(s),l);return f.precision=m,e==null?(pn=!0,Xt(s,m)):s}s=a}}function qn(t){for(var e=t.e*ln,n=t.d[0];n>=10;n/=10)e++;return e}function LN(t,e,n){if(e>t.LN10.sd())throw pn=!0,n&&(t.precision=n),Error(ms+"LN10 precision limit exceeded");return Xt(new t(t.LN10),e)}function Al(t){for(var e="";t--;)e+="0";return e}function Xp(t,e){var n,r,i,s,a,l,c,d,f,m=1,p=10,y=t,x=y.d,b=y.constructor,_=b.precision;if(y.s<1)throw Error(ms+(y.s?"NaN":"-Infinity"));if(y.eq(Fi))return new b(0);if(e==null?(pn=!1,d=_):d=e,y.eq(10))return e==null&&(pn=!0),LN(b,d);if(d+=p,b.precision=d,n=ja(x),r=n.charAt(0),s=qn(y),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=ja(y.d),r=n.charAt(0),m++;s=qn(y),r>1?(y=new b("0."+n),s++):y=new b(r+"."+n.slice(1))}else return c=LN(b,d+2,_).times(s+""),y=Xp(new b(r+"."+n.slice(1)),d-p).plus(c),b.precision=_,e==null?(pn=!0,Xt(y,_)):y;for(l=a=y=No(y.minus(Fi),y.plus(Fi),d),f=Xt(y.times(y),d),i=3;;){if(a=Xt(a.times(f),d),c=l.plus(No(a,new b(i),d)),ja(c.d).slice(0,d)===ja(l.d).slice(0,d))return l=l.times(2),s!==0&&(l=l.plus(LN(b,d+2,_).times(s+""))),l=No(l,new b(m),d),b.precision=_,e==null?(pn=!0,Xt(l,_)):l;l=c,i+=2}}function rM(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Sh(n/ln),t.d=[],r=(n+1)%ln,n<0&&(r+=ln),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ln;r<i;)t.d.push(+e.slice(r,r+=ln));e=e.slice(r),r=ln-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),pn&&(t.e>Cx||t.e<-Cx))throw Error(zA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Xt(t,e,n){var r,i,s,a,l,c,d,f,m=t.d;for(a=1,s=m[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=ln,i=e,d=m[f=0];else{if(f=Math.ceil((r+1)/ln),s=m.length,f>=s)return t;for(d=s=m[f],a=1;s>=10;s/=10)a++;r%=ln,i=r-ln+a}if(n!==void 0&&(s=eu(10,a-i-1),l=d/s%10|0,c=e<0||m[f+1]!==void 0||d%s,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?d/eu(10,a-i):0:m[f-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(s=qn(t),m.length=1,e=e-s-1,m[0]=eu(10,(ln-e%ln)%ln),t.e=Sh(-e/ln)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=f,s=1,f--):(m.length=f+1,s=eu(10,ln-r),m[f]=i>0?(d/eu(10,a-i)%eu(10,i)|0)*s:0),c)for(;;)if(f==0){(m[0]+=s)==or&&(m[0]=1,++t.e);break}else{if(m[f]+=s,m[f]!=or)break;m[f--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(pn&&(t.e>Cx||t.e<-Cx))throw Error(zA+qn(t));return t}function J$(t,e){var n,r,i,s,a,l,c,d,f,m,p=t.constructor,y=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),pn?Xt(e,y):e;if(c=t.d,m=e.d,r=e.e,d=t.e,c=c.slice(),a=d-r,a){for(f=a<0,f?(n=c,a=-a,l=m.length):(n=m,r=d,l=c.length),i=Math.max(Math.ceil(y/ln),l)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=m.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=m[i]){f=c[i]<m[i];break}a=0}for(f&&(n=c,c=m,m=n,e.s=-e.s),l=c.length,i=m.length-l;i>0;--i)c[l++]=0;for(i=m.length;i>a;){if(c[--i]<m[i]){for(s=i;s&&c[--s]===0;)c[s]=or-1;--c[s],c[i]+=or}c[i]-=m[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,pn?Xt(e,y):e):new p(0)}function qu(t,e,n){var r,i=qn(t),s=ja(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Al(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Al(-i-1)+s,n&&(r=n-a)>0&&(s+=Al(r))):i>=a?(s+=Al(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Al(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Al(r))),t.s<0?"-"+s:s}function iM(t,e){if(t.length>e)return t.length=e,!0}function Z$(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Nu+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return rM(a,s.toString())}else if(typeof s!="string")throw Error(Nu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Rhe.test(s))rM(a,s);else throw Error(Nu+s)}if(i.prototype=Ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Z$,i.config=i.set=Dhe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Dhe(t){if(!t||typeof t!="object")throw Error(ms+"Object expected");var e,n,r,i=["precision",1,Eh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Sh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Nu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Nu+n+": "+r);return this}var UA=Z$(khe);Fi=new UA(1);const $t=UA;function e9(t){var e;return t===0?e=1:e=Math.floor(new $t(t).abs().log(10).toNumber())+1,e}function t9(t,e,n){for(var r=new $t(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var n9=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},r9=(t,e,n)=>{if(t.lte(0))return new $t(0);var r=e9(t.toNumber()),i=new $t(10).pow(r),s=t.div(i),a=r!==1?.05:.1,l=new $t(Math.ceil(s.div(a).toNumber())).add(n).mul(a),c=l.mul(i);return e?new $t(c.toNumber()):new $t(Math.ceil(c.toNumber()))},Ohe=(t,e,n)=>{var r=new $t(1),i=new $t(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new $t(10).pow(e9(t)-1),i=new $t(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new $t(Math.floor(t)))}else t===0?i=new $t(Math.floor((e-1)/2)):n||(i=new $t(Math.floor(t)));for(var a=Math.floor((e-1)/2),l=[],c=0;c<e;c++)l.push(i.add(new $t(c-a).mul(r)).toNumber());return l},i9=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new $t(0),tickMin:new $t(0),tickMax:new $t(0)};var a=r9(new $t(n).sub(e).div(r-1),i,s),l;e<=0&&n>=0?l=new $t(0):(l=new $t(e).add(n).div(2),l=l.sub(new $t(l).mod(a)));var c=Math.ceil(l.sub(e).div(a).toNumber()),d=Math.ceil(new $t(n).sub(l).div(a).toNumber()),f=c+d+1;return f>r?i9(e,n,r,i,s+1):(f<r&&(d=n>0?d+(r-f):d,c=n>0?c:c+(r-f)),{step:a,tickMin:l.sub(new $t(c).mul(a)),tickMax:l.add(new $t(d).mul(a))})},Mhe=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[l,c]=n9([n,r]);if(l===-1/0||c===1/0){var d=c===1/0?[l,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return n>r?d.reverse():d}if(l===c)return Ohe(l,i,s);var{step:f,tickMin:m,tickMax:p}=i9(l,c,a,s,0),y=t9(m,p.add(new $t(.1).mul(f)),f);return n>r?y.reverse():y},Lhe=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,l]=n9([r,i]);if(a===-1/0||l===1/0)return[r,i];if(a===l)return[a];var c=Math.max(n,2),d=r9(new $t(l).sub(a).div(c-1),s,0),f=[...t9(new $t(a),new $t(l),d),l];return s===!1&&(f=f.map(m=>Math.round(m))),r>i?f.reverse():f},Vhe=t=>t.rootProps.barCategoryGap,sw=t=>t.rootProps.stackOffset,s9=t=>t.rootProps.reverseStackOrder,$A=t=>t.options.chartName,qA=t=>t.rootProps.syncId,a9=t=>t.rootProps.syncMethod,HA=t=>t.options.eventEmitter,Fhe=t=>t.rootProps.baseValue,Qr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Wc={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},ma={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},aw=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function WA(t,e,n){if(n!=="auto")return n;if(t!=null)return Ws(t,e)?"category":"number"}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ex(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){Bhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bhe(t,e,n){return(e=zhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zhe(t){var e=Uhe(t,"string");return typeof e=="symbol"?e:e+""}function Uhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aM={allowDataOverflow:Wc.allowDataOverflow,allowDecimals:Wc.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Wc.angleAxisId,includeHidden:!1,name:void 0,reversed:Wc.reversed,scale:Wc.scale,tick:Wc.tick,tickCount:void 0,ticks:void 0,type:Wc.type,unit:void 0},oM={allowDataOverflow:ma.allowDataOverflow,allowDecimals:ma.allowDecimals,allowDuplicatedCategory:ma.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ma.radiusAxisId,includeHidden:ma.includeHidden,name:void 0,reversed:ma.reversed,scale:ma.scale,tick:ma.tick,tickCount:ma.tickCount,ticks:void 0,type:ma.type,unit:void 0},$he=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},KA=ye([$he,Y8],(t,e)=>{var n;if(t!=null)return t;var r=(n=WA(e,"angleAxis",aM.type))!==null&&n!==void 0?n:"category";return Ex(Ex({},aM),{},{type:r})}),qhe=(t,e)=>t.polarAxis.radiusAxis[e],GA=ye([qhe,Y8],(t,e)=>{var n;if(t!=null)return t;var r=(n=WA(e,"radiusAxis",oM.type))!==null&&n!==void 0?n:"category";return Ex(Ex({},oM),{},{type:r})}),ow=t=>t.polarOptions,XA=ye([$o,qo,Pr],zue),o9=ye([ow,XA],(t,e)=>{if(t!=null)return ac(t.innerRadius,e,0)}),l9=ye([ow,XA],(t,e)=>{if(t!=null)return ac(t.outerRadius,e,e*.8)}),Hhe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},c9=ye([ow],Hhe);ye([KA,c9],aw);var u9=ye([XA,o9,l9],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ye([GA,u9],aw);var d9=ye([rn,ow,o9,l9,$o,qo],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:l,startAngle:c,endAngle:d}=e;return{cx:ac(a,i,i/2),cy:ac(l,s,s/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),mr=(t,e)=>e,lw=(t,e,n)=>n;function YA(t){return t?.id}function f9(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(l=>{var c,d=(c=l.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var f=YA(l);d.forEach((m,p)=>{var y=s==null||i?p:String(Xn(m,s,null)),x=Xn(m,l.dataKey,0),b;a.has(y)?b=a.get(y):b={},Object.assign(b,{[f]:x}),a.set(y,b)})}}),Array.from(a.values())}function QA(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var cw=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function uw(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function Whe(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var pr=t=>{var e=rn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Th=t=>t.tooltip.settings.axisId;function Khe(t){if(t in Jm)return Jm[t]();var e="scale".concat(Sg(t));if(e in Jm)return Jm[e]()}function lM(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(s){function a(){return s.apply(this,arguments)}return a.toString=function(){return s.toString()},a})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var a=i[0],l=i[1];return a<=l?s>=a&&s<=l:s>=l&&s<=a},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,a)=>{var l=t(s);if(l!=null){if(t.bandwidth&&a!==null&&a!==void 0&&a.position){var c=t.bandwidth();switch(a.position){case"middle":l+=c/2;break;case"end":l+=c;break}}return l}}}}function cM(t,e,n){if(typeof t=="function")return lM(t.copy().domain(e).range(n));if(t!=null){var r=Khe(t);if(r!=null)return r.domain(e).range(n),lM(r)}}var Ghe=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Do(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];Mt(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function uM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uM(Object(n),!0).forEach(function(r){Xhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xhe(t,e,n){return(e=Yhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yhe(t){var e=Qhe(t,"string");return typeof e=="symbol"?e:e+""}function Qhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jS=[0,"auto"],h9={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Jhe=(t,e)=>t.cartesianAxis.xAxis[e],Ko=(t,e)=>{var n=Jhe(t,e);return n??h9},sr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:jS,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ag},m9=(t,e)=>t.cartesianAxis.yAxis[e],Go=(t,e)=>{var n=m9(t,e);return n??sr},Zhe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},JA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??Zhe},ri=(t,e,n)=>{switch(e){case"xAxis":return Ko(t,n);case"yAxis":return Go(t,n);case"zAxis":return JA(t,n);case"angleAxis":return KA(t,n);case"radiusAxis":return GA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},eme=(t,e,n)=>{switch(e){case"xAxis":return Ko(t,n);case"yAxis":return Go(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Lg=(t,e,n)=>{switch(e){case"xAxis":return Ko(t,n);case"yAxis":return Go(t,n);case"angleAxis":return KA(t,n);case"radiusAxis":return GA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},p9=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function g9(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var ZA=t=>t.graphicalItems.cartesianItems,tme=ye([mr,lw],g9),y9=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Vg=ye([ZA,ri,tme],y9,{memoizeOptions:{resultEqualityCheck:uw}}),v9=ye([Vg],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(QA)),x9=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),nme=ye([Vg],x9),b9=t=>t.map(e=>e.data).filter(Boolean).flat(1),rme=ye([Vg],b9,{memoizeOptions:{resultEqualityCheck:uw}}),w9=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},eI=ye([rme,BA],w9),_9=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Xn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Xn(i,r)}))):t.map(r=>({value:r})),dw=ye([eI,ri,Vg],_9);function N9(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function a0(t){if(za(t)||t instanceof Date){var e=Number(t);if(Mt(e))return e}}function dM(t){if(Array.isArray(t)){var e=[a0(t[0]),a0(t[1])];return Do(e)?e:void 0}var n=a0(t);if(n!=null)return[n,n]}function Oo(t){return t.map(a0).filter(Aa)}function ime(t,e,n){return!n||typeof e!="number"||Ba(e)?[]:n.length?Oo(n.flatMap(r=>{var i=Xn(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Mt(s)||!Mt(a)))return[e-s,e+a]})):[]}var er=t=>{var e=pr(t),n=Th(t);return Lg(t,e,n)},Fg=ye([er],t=>t?.dataKey),sme=ye([v9,BA,er],f9),C9=(t,e,n,r)=>{var i={},s=e.reduce((a,l)=>{if(l.stackId==null)return a;var c=a[l.stackId];return c==null&&(c=[]),c.push(l),a[l.stackId]=c,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[l,c]=a,d=r?[...c].reverse():c,f=d.map(YA);return[l,{stackedData:Ale(t,f,n),graphicalItems:d}]}))},E9=ye([sme,v9,sw,s9],C9),S9=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=Rle(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},ame=ye([ri],t=>t.allowDataOverflow),tI=t=>{var e;if(t==null||!("domain"in t))return jS;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Oo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:jS},T9=ye([ri],tI),P9=ye([T9,ame],G$),ome=ye([E9,Wo,mr,P9],S9,{memoizeOptions:{resultEqualityCheck:cw}}),nI=t=>t.errorBars,lme=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>N9(n,r)),Tx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},A9=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(l=>{n.forEach(c=>{var d,f,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(S=>N9(i,S)),p=Xn(l,(f=e.dataKey)!==null&&f!==void 0?f:c.dataKey),y=ime(l,p,m);if(y.length>=2){var x=Math.min(...y),b=Math.max(...y);(s==null||x<s)&&(s=x),(a==null||b>a)&&(a=b)}var _=dM(p);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),a=a==null?_[1]:Math.max(a,_[1]))})}),e?.dataKey!=null&&t.forEach(l=>{var c=dM(Xn(l,e.dataKey));c!=null&&(s=s==null?c[0]:Math.min(s,c[0]),a=a==null?c[1]:Math.max(a,c[1]))}),Mt(s)&&Mt(a))return[s,a]},cme=ye([eI,ri,nme,nI,mr],A9,{memoizeOptions:{resultEqualityCheck:cw}});function ume(t){var{value:e}=t;if(za(e)||e instanceof Date)return e}var dme=(t,e,n)=>{var r=t.map(ume).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&QU(r))?h$(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},I9=t=>t.referenceElements.dots,Ph=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),fme=ye([I9,mr,lw],Ph),j9=t=>t.referenceElements.areas,hme=ye([j9,mr,lw],Ph),k9=t=>t.referenceElements.lines,mme=ye([k9,mr,lw],Ph),R9=(t,e)=>{if(t!=null){var n=Oo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},pme=ye(fme,mr,R9),D9=(t,e)=>{if(t!=null){var n=Oo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},gme=ye([hme,mr],D9);function yme(t){var e;if(t.x!=null)return Oo([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Oo(n)}function vme(t){var e;if(t.y!=null)return Oo([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Oo(n)}var O9=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?yme(r):vme(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},xme=ye([mme,mr],O9),bme=ye(pme,xme,gme,(t,e,n)=>Tx(t,n,e)),M9=(t,e,n,r,i,s,a,l)=>{if(n!=null)return n;var c=a==="vertical"&&l==="xAxis"||a==="horizontal"&&l==="yAxis",d=c?Tx(r,s,i):Tx(s,i);return jhe(e,d,t.allowDataOverflow)},wme=ye([ri,T9,P9,ome,cme,bme,rn,mr],M9,{memoizeOptions:{resultEqualityCheck:cw}}),_me=[0,1],L9=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:l,type:c}=t,d=Ws(e,s);if(d&&l==null){var f;return h$(0,(f=n?.length)!==null&&f!==void 0?f:0)}return c==="category"?dme(r,t,d):i==="expand"?_me:a}},rI=ye([ri,rn,eI,dw,sw,mr,wme],L9);function Nme(t){return t in Jm}var V9=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(Sg(r));return Nme(s)?s:"point"}}},Ah=ye([ri,p9,$A],V9);function iI(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?cM(t.scale,n,r):cM(e,n,r)}var F9=(t,e,n)=>{var r=tI(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Do(t))return Mhe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Do(t))return Lhe(t,e.tickCount,e.allowDecimals)}},sI=ye([rI,Lg,Ah],F9),B9=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&Do(e)&&Array.isArray(n)&&n.length>0){var i,s,a=e[0],l=(i=n[0])!==null&&i!==void 0?i:0,c=e[1],d=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(a,l),Math.max(c,d)]}return e},Cme=ye([ri,rI,sI,mr],B9),Eme=ye(dw,ri,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Oo(t.map(m=>m.value))).sort((m,p)=>m-p),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l],d=r[l+1];if(!(c==null||d==null)){var f=d-c;n=Math.min(n,f)}}return n/a}}),z9=ye(Eme,rn,Vhe,Pr,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Mt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=ac(n,t*s),l=t*s/2;return l-a-(l-a)/s*a}return 0}),Sme=(t,e,n)=>{var r=Ko(t,e);return r==null||typeof r.padding!="string"?0:z9(t,"xAxis",e,n,r.padding)},Tme=(t,e,n)=>{var r=Go(t,e);return r==null||typeof r.padding!="string"?0:z9(t,"yAxis",e,n,r.padding)},Pme=ye(Ko,Sme,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Ame=ye(Go,Tme,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Ime=ye([Pr,Pme,Wb,Hb,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),jme=ye([Pr,rn,Ame,Wb,Hb,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Bg=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Ime(t,n,r);case"yAxis":return jme(t,n,r);case"zAxis":return(i=JA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return c9(t);case"radiusAxis":return u9(t,n);default:return}},U9=ye([ri,Bg],aw),kme=ye([Ah,Cme],Ghe),fw=ye([ri,Ah,kme,U9],iI);ye([Vg,nI,mr],lme);function $9(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var hw=(t,e)=>e,mw=(t,e,n)=>n,Rme=ye($b,hw,mw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort($9)),Dme=ye(qb,hw,mw,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort($9)),q9=(t,e)=>({width:t.width,height:e.height}),Ome=(t,e)=>{var n=typeof e.width=="number"?e.width:Ag;return{width:n,height:t.height}};ye(Pr,Ko,q9);var Mme=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Lme=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Vme=ye(qo,Pr,Rme,hw,mw,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=q9(e,l);a==null&&(a=Mme(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;s[l.id]=a-Number(d)*c.height,a+=(d?-1:1)*c.height}),s}),Fme=ye($o,Pr,Dme,hw,mw,(t,e,n,r,i)=>{var s={},a;return n.forEach(l=>{var c=Ome(e,l);a==null&&(a=Lme(e,r,t));var d=r==="left"&&!i||r==="right"&&i;s[l.id]=a-Number(d)*c.width,a+=(d?-1:1)*c.width}),s}),Bme=(t,e)=>{var n=Ko(t,e);if(n!=null)return Vme(t,n.orientation,n.mirror)};ye([Pr,Ko,Bme,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}});var zme=(t,e)=>{var n=Go(t,e);if(n!=null)return Fme(t,n.orientation,n.mirror)},Ume=ye([Pr,Go,zme,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),$me=ye(Pr,Go,(t,e)=>{var n=typeof e.width=="number"?e.width:Ag;return{width:n,height:t.height}}),H9=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,l=Ws(t,r),c=e.map(d=>d.value);if(a&&l&&s==="category"&&i&&QU(c))return c}},aI=ye([rn,dw,ri,mr],H9),W9=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Ws(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(l=>l.value)}},oI=ye([rn,dw,Lg,mr],W9);ye([rn,eme,Ah,fw,aI,oI,Bg,sI,mr],(t,e,n,r,i,s,a,l,c)=>{if(e!=null){var d=Ws(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:l,range:a,realScaleType:n,scale:r}}});var qme=(t,e,n,r,i,s,a,l,c)=>{if(!(e==null||r==null)){var d=Ws(t,c),{type:f,ticks:m,tickCount:p}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/y:0;x=c==="angleAxis"&&s!=null&&s.length>=2?Os(s[0]-s[1])*2*x:x;var b=m||i;return b?b.map((_,S)=>{var R=a?a.indexOf(_):_,D=r.map(R);return Mt(D)?{index:S,coordinate:D+x,value:_,offset:x}:null}).filter(Aa):d&&l?l.map((_,S)=>{var R=r.map(_);return Mt(R)?{coordinate:R+x,value:_,index:S,offset:x}:null}).filter(Aa):r.ticks?r.ticks(p).map((_,S)=>{var R=r.map(_);return Mt(R)?{coordinate:R+x,value:_,index:S,offset:x}:null}).filter(Aa):r.domain().map((_,S)=>{var R=r.map(_);return Mt(R)?{coordinate:R+x,value:a?a[_]:_,index:S,offset:x}:null}).filter(Aa)}},Hme=ye([rn,Lg,Ah,fw,sI,Bg,aI,oI,mr],qme),Wme=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var l=Ws(t,a),{tickCount:c}=e,d=0;return d=a==="angleAxis"&&r?.length>=2?Os(r[0]-r[1])*2*d:d,l&&s?s.map((f,m)=>{var p=n.map(f);return Mt(p)?{coordinate:p+d,value:f,index:m,offset:d}:null}).filter(Aa):n.ticks?n.ticks(c).map((f,m)=>{var p=n.map(f);return Mt(p)?{coordinate:p+d,value:f,index:m,offset:d}:null}).filter(Aa):n.domain().map((f,m)=>{var p=n.map(f);return Mt(p)?{coordinate:p+d,value:i?i[f]:f,index:m,offset:d}:null}).filter(Aa)}},pw=ye([rn,Lg,fw,Bg,aI,oI,mr],Wme),gw=ye(ri,fw,(t,e)=>{if(!(t==null||e==null))return Sx(Sx({},t),{},{scale:e})}),Kme=ye([ri,Ah,rI,U9],iI);ye((t,e,n)=>JA(t,n),Kme,(t,e)=>{if(!(t==null||e==null))return Sx(Sx({},t),{},{scale:e})});var Gme=ye([rn,$b,qb],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),K9=t=>t.options.defaultTooltipEventType,G9=t=>t.options.validateTooltipEventTypes;function X9(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function lI(t,e){var n=K9(t),r=G9(t);return X9(e,n,r)}function Xme(t){return mt(e=>lI(e,t))}var Y9=(t,e)=>{var n,r=Number(e);if(!(Ba(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},Yme=t=>t.tooltip.settings,Ll={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},Qme={itemInteraction:{click:Ll,hover:Ll},axisInteraction:{click:Ll,hover:Ll},keyboardInteraction:Ll,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Q9=Ei({name:"tooltip",initialState:Qme,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:fn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Fs(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:fn()},removeTooltipEntrySettings:{reducer(t,e){var n=Fs(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:fn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:Jme,replaceTooltipEntrySettings:Zme,removeTooltipEntrySettings:epe,setTooltipSettingsState:tpe,setActiveMouseOverItemIndex:npe,mouseLeaveItem:$Ae,mouseLeaveChart:J9,setActiveClickItemIndex:qAe,setMouseOverAxisIndex:Z9,setMouseClickAxisIndex:rpe,setSyncInteraction:kS,setKeyboardInteraction:RS}=Q9.actions,ipe=Q9.reducer;function fM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Av(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fM(Object(n),!0).forEach(function(r){spe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function spe(t,e,n){return(e=ape(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ape(t){var e=ope(t,"string");return typeof e=="symbol"?e:e+""}function ope(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lpe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function cpe(t){return t.index!=null}var eq=(t,e,n,r)=>{if(e==null)return Ll;var i=lpe(t,e,n);if(i==null)return Ll;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(cpe(i)){if(s)return Av(Av({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Av(Av({},Ll),{},{coordinate:i.coordinate})};function upe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function dpe(t,e){var n=upe(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function fpe(t,e,n){if(n==null||e==null)return!0;var r=Xn(t,e);return r==null||!Do(n)?!0:dpe(r,n)}var cI=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Mt(s))return i;var a=0,l=1/0;e.length>0&&(l=e.length-1);var c=Math.max(a,Math.min(s,l)),d=e[c];return d==null||fpe(d,n,r)?String(c):null},tq=(t,e,n,r,i,s,a)=>{if(s!=null){var l=a[0],c=l?.getPosition(s);if(c!=null)return c;var d=i?.[Number(s)];if(d)return n==="horizontal"?{x:d.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:d.coordinate}}},nq=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var l;return((l=a.settings)===null||l===void 0?void 0:l.graphicalItemId)===i})},rq=t=>t.options.tooltipPayloadSearcher,Ih=t=>t.tooltip;function hM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hM(Object(n),!0).forEach(function(r){hpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hpe(t,e,n){return(e=mpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mpe(t){var e=ppe(t,"string");return typeof e=="symbol"?e:e+""}function ppe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gpe(t,e){return t??e}var iq=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:d,dataEndIndex:f}=n,m=[];return t.reduce((p,y)=>{var x,{dataDefinedOnItem:b,settings:_}=y,S=gpe(b,l),R=Array.isArray(S)?$8(S,d,f):S,D=(x=_?.dataKey)!==null&&x!==void 0?x:r,z=_?.nameKey,I;if(r&&Array.isArray(R)&&!Array.isArray(R[0])&&a==="axis"?I=JU(R,r,i):I=s(R,e,c,z),Array.isArray(I))I.forEach(C=>{var E=mM(mM({},_),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});p.push(pO({tooltipEntrySettings:E,dataKey:C.dataKey,payload:C.payload,value:Xn(C.payload,C.dataKey),name:C.name}))});else{var P;p.push(pO({tooltipEntrySettings:_,dataKey:D,payload:I,value:Xn(I,D),name:(P=Xn(I,z))!==null&&P!==void 0?P:_?.name}))}return p},m)}},uI=ye([er,p9,$A],V9),ype=ye([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),vpe=ye([pr,Th],g9),jh=ye([ype,er,vpe],y9,{memoizeOptions:{resultEqualityCheck:uw}}),xpe=ye([jh],t=>t.filter(QA)),bpe=ye([jh],b9,{memoizeOptions:{resultEqualityCheck:uw}}),kh=ye([bpe,Wo],w9),wpe=ye([xpe,Wo,er],f9),dI=ye([kh,er,jh],_9),sq=ye([er],tI),_pe=ye([er],t=>t.allowDataOverflow),aq=ye([sq,_pe],G$),Npe=ye([jh],t=>t.filter(QA)),Cpe=ye([wpe,Npe,sw,s9],C9),Epe=ye([Cpe,Wo,pr,aq],S9),Spe=ye([jh],x9),Tpe=ye([kh,er,Spe,nI,pr],A9,{memoizeOptions:{resultEqualityCheck:cw}}),Ppe=ye([I9,pr,Th],Ph),Ape=ye([Ppe,pr],R9),Ipe=ye([j9,pr,Th],Ph),jpe=ye([Ipe,pr],D9),kpe=ye([k9,pr,Th],Ph),Rpe=ye([kpe,pr],O9),Dpe=ye([Ape,Rpe,jpe],Tx),Ope=ye([er,sq,aq,Epe,Tpe,Dpe,rn,pr],M9),zg=ye([er,rn,kh,dI,sw,pr,Ope],L9),Mpe=ye([zg,er,uI],F9),Lpe=ye([er,zg,Mpe,pr],B9),oq=t=>{var e=pr(t),n=Th(t),r=!1;return Bg(t,e,n,r)},lq=ye([er,oq],aw),cq=ye([er,uI,Lpe,lq],iI),Vpe=ye([rn,dI,er,pr],H9),Fpe=ye([rn,dI,er,pr],W9),Bpe=(t,e,n,r,i,s,a,l)=>{if(e){var{type:c}=e,d=Ws(t,l);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/f:0;return m=l==="angleAxis"&&i!=null&&i?.length>=2?Os(i[0]-i[1])*2*m:m,d&&a?a.map((p,y)=>{var x=r.map(p);return Mt(x)?{coordinate:x+m,value:p,index:y,offset:m}:null}).filter(Aa):r.domain().map((p,y)=>{var x=r.map(p);return Mt(x)?{coordinate:x+m,value:s?s[p]:p,index:y,offset:m}:null}).filter(Aa)}}},Xo=ye([rn,er,uI,cq,oq,Vpe,Fpe,pr],Bpe),fI=ye([K9,G9,Yme],(t,e,n)=>X9(n.shared,t,e)),uq=t=>t.tooltip.settings.trigger,hI=t=>t.tooltip.settings.defaultIndex,Ug=ye([Ih,fI,uq,hI],eq),Yp=ye([Ug,kh,Fg,zg],cI),dq=ye([Xo,Yp],Y9),zpe=ye([Ug],t=>{if(t)return t.dataKey});ye([Ug],t=>{if(t)return t.graphicalItemId});var fq=ye([Ih,fI,uq,hI],nq),Upe=ye([$o,qo,rn,Pr,Xo,hI,fq],tq),$pe=ye([Ug,Upe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),qpe=ye([Ug],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),Hpe=ye([fq,Yp,Wo,Fg,dq,rq,fI],iq),Wpe=ye([Hpe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function pM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pM(Object(n),!0).forEach(function(r){Kpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kpe(t,e,n){return(e=Gpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gpe(t){var e=Xpe(t,"string");return typeof e=="symbol"?e:e+""}function Xpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ype=()=>mt(er),Qpe=()=>{var t=Ype(),e=mt(Xo),n=mt(cq);return rh(!t||!n?void 0:gM(gM({},t),{},{scale:n}),e)};function yM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yM(Object(n),!0).forEach(function(r){Jpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jpe(t,e,n){return(e=Zpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zpe(t){var e=ege(t,"string");return typeof e=="symbol"?e:e+""}function ege(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tge=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},nge=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=r;return Yd(Yd(Yd({},r),Er(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=r;return Yd(Yd(Yd({},r),Er(r.cx,r.cy,l,c)),{},{angle:c,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function rge(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var hq=(t,e,n,r,i)=>{var s,a=(s=e?.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<a;l++){var c,d,f,m,p,y=l>0?(c=n[l-1])===null||c===void 0?void 0:c.coordinate:(d=n[a-1])===null||d===void 0?void 0:d.coordinate,x=(f=n[l])===null||f===void 0?void 0:f.coordinate,b=l>=a-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(p=n[l+1])===null||p===void 0?void 0:p.coordinate,_=void 0;if(!(y==null||x==null||b==null))if(Os(x-y)!==Os(b-x)){var S=[];if(Os(b-x)===Os(i[1]-i[0])){_=b;var R=x+i[1]-i[0];S[0]=Math.min(R,(R+y)/2),S[1]=Math.max(R,(R+y)/2)}else{_=y;var D=b+i[1]-i[0];S[0]=Math.min(x,(D+x)/2),S[1]=Math.max(x,(D+x)/2)}var z=[Math.min(x,(_+x)/2),Math.max(x,(_+x)/2)];if(t>z[0]&&t<=z[1]||t>=S[0]&&t<=S[1]){var I;return(I=n[l])===null||I===void 0?void 0:I.index}}else{var P=Math.min(y,b),C=Math.max(y,b);if(t>(P+x)/2&&t<=(C+x)/2){var E;return(E=n[l])===null||E===void 0?void 0:E.index}}}else if(e)for(var A=0;A<a;A++){var j=e[A];if(j!=null){var V=e[A+1],B=e[A-1];if(A===0&&V!=null&&t<=(j.coordinate+V.coordinate)/2||A===a-1&&B!=null&&t>(j.coordinate+B.coordinate)/2||A>0&&A<a-1&&B!=null&&V!=null&&t>(j.coordinate+B.coordinate)/2&&t<=(j.coordinate+V.coordinate)/2)return j.index}}return-1},mq=()=>mt($A),mI=(t,e)=>e,pq=(t,e,n)=>n,pI=(t,e,n,r)=>r,ige=ye(Xo,t=>kb(t,e=>e.coordinate)),gI=ye([Ih,mI,pq,pI],eq),yI=ye([gI,kh,Fg,zg],cI),sge=(t,e,n)=>{if(e!=null){var r=Ih(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},gq=ye([Ih,mI,pq,pI],nq),Px=ye([$o,qo,rn,Pr,Xo,pI,gq],tq),age=ye([gI,Px],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),yq=ye([Xo,yI],Y9),oge=ye([gq,yI,Wo,Fg,yq,rq,mI],iq),lge=ye([gI,yI],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),cge=(t,e,n,r,i,s,a)=>{if(!(!t||!n||!r||!i)&&rge(t,a)){var l=Dle(t,e),c=hq(l,s,i,n,r),d=tge(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},uge=(t,e,n,r,i,s,a)=>{if(!(!t||!r||!i||!s||!n)){var l=Wue(t,n);if(l){var c=Ole(l,e),d=hq(c,a,s,r,i),f=nge(e,s,d,l);return{activeIndex:String(d),activeCoordinate:f}}}},dge=(t,e,n,r,i,s,a,l)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?cge(t,e,r,i,s,a,l):uge(t,e,n,r,i,s,a)},fge=ye(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),hge=ye(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Qr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:Whe}});function vM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vM(Object(n),!0).forEach(function(r){mge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mge(t,e,n){return(e=pge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pge(t){var e=gge(t,"string");return typeof e=="symbol"?e:e+""}function gge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yge={},vge={zIndexMap:Object.values(Qr).reduce((t,e)=>xM(xM({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),yge)},xge=new Set(Object.values(Qr));function bge(t){return xge.has(t)}var vq=Ei({name:"zIndex",initialState:vge,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:fn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!bge(n)&&delete t.zIndexMap[n])},prepare:fn()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:fn()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:fn()}}}),{registerZIndexPortal:wge,unregisterZIndexPortal:_ge,registerZIndexPortalElement:Nge,unregisterZIndexPortalElement:Cge}=vq.actions,Ege=vq.reducer;function Yo(t){var{zIndex:e,children:n}=t,r=yce(),i=r&&e!==void 0&&e!==0,s=Si(),a=Tr();N.useLayoutEffect(()=>i?(a(wge({zIndex:e})),()=>{a(_ge({zIndex:e}))}):td,[a,e,i]);var l=mt(c=>fge(c,e,s));return i?l?Sb.createPortal(n,l):null:n}function DS(){return DS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DS.apply(null,arguments)}function bM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bM(Object(n),!0).forEach(function(r){Sge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sge(t,e,n){return(e=Tge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tge(t){var e=Pge(t,"string");return typeof e=="symbol"?e:e+""}function Pge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Age(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return N.isValidElement(e)?N.cloneElement(e,r):N.createElement(n,r)}function Ige(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:l,cursor:c,tooltipEventType:d,chartName:f}=t,m=n,p=r,y=i;if(!c||!m||f!=="ScatterChart"&&d!=="axis")return null;var x,b,_;if(f==="ScatterChart")x=m,b=sue,_=Qr.cursorLine;else if(f==="BarChart")x=aue(l,m,s,a),b=c$,_=Qr.cursorRectangle;else if(l==="radial"&&t8(m)){var{cx:S,cy:R,radius:D,startAngle:z,endAngle:I}=u$(m);x={cx:S,cy:R,startAngle:z,endAngle:I,innerRadius:D,outerRadius:D},b=f$,_=Qr.cursorLine}else x={points:Yue(l,m,s)},b=mp,_=Qr.cursorLine;var P=typeof c=="object"&&"className"in c?c.className:void 0,C=Iv(Iv(Iv(Iv({stroke:"#ccc",pointerEvents:"none"},s),x),Tb(c)),{},{payload:p,payloadIndex:y,className:Yt("recharts-tooltip-cursor",P)});return N.createElement(Yo,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},N.createElement(Age,{cursor:c,cursorComp:b,cursorProps:C}))}function jge(t){var e=Qpe(),n=mce(),r=nd(),i=mq();return e==null||n==null||r==null||i==null?null:N.createElement(Ige,DS({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var xq=N.createContext(null),kge=()=>N.useContext(xq),VN={exports:{}},wM;function Rge(){return wM||(wM=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function s(c,d,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,m||c,p),x=n?n+d:d;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],y]:c._events[x].push(y):(c._events[x]=y,c._eventsCount++),c}function a(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)e.call(f,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=n?n+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,y=m.length,x=new Array(y);p<y;p++)x[p]=m[p].fn;return x},l.prototype.listenerCount=function(d){var f=n?n+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,p,y,x){var b=n?n+d:d;if(!this._events[b])return!1;var _=this._events[b],S=arguments.length,R,D;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,m),!0;case 4:return _.fn.call(_.context,f,m,p),!0;case 5:return _.fn.call(_.context,f,m,p,y),!0;case 6:return _.fn.call(_.context,f,m,p,y,x),!0}for(D=1,R=new Array(S-1);D<S;D++)R[D-1]=arguments[D];_.fn.apply(_.context,R)}else{var z=_.length,I;for(D=0;D<z;D++)switch(_[D].once&&this.removeListener(d,_[D].fn,void 0,!0),S){case 1:_[D].fn.call(_[D].context);break;case 2:_[D].fn.call(_[D].context,f);break;case 3:_[D].fn.call(_[D].context,f,m);break;case 4:_[D].fn.call(_[D].context,f,m,p);break;default:if(!R)for(I=1,R=new Array(S-1);I<S;I++)R[I-1]=arguments[I];_[D].fn.apply(_[D].context,R)}}return!0},l.prototype.on=function(d,f,m){return s(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return s(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,p){var y=n?n+d:d;if(!this._events[y])return this;if(!f)return a(this,y),this;var x=this._events[y];if(x.fn)x.fn===f&&(!p||x.once)&&(!m||x.context===m)&&a(this,y);else{for(var b=0,_=[],S=x.length;b<S;b++)(x[b].fn!==f||p&&!x[b].once||m&&x[b].context!==m)&&_.push(x[b]);_.length?this._events[y]=_.length===1?_[0]:_:a(this,y)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(VN)),VN.exports}var Dge=Rge();const Oge=_i(Dge);var Qp=new Oge,OS="recharts.syncEvent.tooltip",_M="recharts.syncEvent.brush",bq=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Ba(n))return t[n]}},Mge={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},wq=Ei({name:"options",initialState:Mge,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Lge=wq.reducer,{createEventEmitter:Vge}=wq.actions;function Fge(t){return t.tooltip.syncInteraction}var Bge={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},_q=Ei({name:"chartData",initialState:Bge,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:NM,setDataStartEndIndexes:zge,setComputedData:HAe}=_q.actions,Uge=_q.reducer,$ge=["x","y"];function CM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CM(Object(n),!0).forEach(function(r){qge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qge(t,e,n){return(e=Hge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hge(t){var e=Wge(t,"string");return typeof e=="symbol"?e:e+""}function Wge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kge(t,e){if(t==null)return{};var n,r,i=Gge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Xge(){var t=mt(qA),e=mt(HA),n=Tr(),r=mt(a9),i=mt(Xo),s=nd(),a=Kb(),l=mt(c=>c.rootProps.className);N.useEffect(()=>{if(t==null)return td;var c=(d,f,m)=>{if(e!==m&&t===d){if(r==="index"){var p;if(a&&f!==null&&f!==void 0&&(p=f.payload)!==null&&p!==void 0&&p.coordinate&&f.payload.sourceViewBox){var y=f.payload.coordinate,{x,y:b}=y,_=Kge(y,$ge),{x:S,y:R,width:D,height:z}=f.payload.sourceViewBox,I=Qd(Qd({},_),{},{x:a.x+(D?(x-S)/D:0)*a.width,y:a.y+(z?(b-R)/z:0)*a.height});n(Qd(Qd({},f),{},{payload:Qd(Qd({},f.payload),{},{coordinate:I})}))}else n(f);return}if(i!=null){var P;if(typeof r=="function"){var C={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},E=r(i,C);P=i[E]}else r==="value"&&(P=i.find(J=>String(J.value)===f.payload.label));var{coordinate:A}=f.payload;if(P==null||f.payload.active===!1||A==null||a==null){n(kS({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:j,y:V}=A,B=Math.min(j,a.x+a.width),F=Math.min(V,a.y+a.height),U={x:s==="horizontal"?P.coordinate:B,y:s==="horizontal"?F:P.coordinate},X=kS({active:f.payload.active,coordinate:U,dataKey:f.payload.dataKey,index:String(P.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(X)}}};return Qp.on(OS,c),()=>{Qp.off(OS,c)}},[l,n,e,t,r,i,s,a])}function Yge(){var t=mt(qA),e=mt(HA),n=Tr();N.useEffect(()=>{if(t==null)return td;var r=(i,s,a)=>{e!==a&&t===i&&n(zge(s))};return Qp.on(_M,r),()=>{Qp.off(_M,r)}},[n,e,t])}function Qge(){var t=Tr();N.useEffect(()=>{t(Vge())},[t]),Xge(),Yge()}function Jge(t,e,n,r,i,s){var a=mt(y=>sge(y,t,e)),l=mt(HA),c=mt(qA),d=mt(a9),f=mt(Fge),m=f?.active,p=Kb();N.useEffect(()=>{if(!m&&c!=null&&l!=null){var y=kS({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});Qp.emit(OS,c,y,l)}},[m,n,a,i,r,l,c,d,s,p])}function EM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EM(Object(n),!0).forEach(function(r){Zge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zge(t,e,n){return(e=eye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eye(t){var e=tye(t,"string");return typeof e=="symbol"?e:e+""}function tye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nye(t){return t.dataKey}function rye(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(Vce,e)}var TM=[],iye={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function sye(t){var e,n,r=Ci(t,iye),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:p,position:y,reverseDirection:x,useTranslate3d:b,wrapperStyle:_,cursor:S,shared:R,trigger:D,defaultIndex:z,portal:I,axisId:P}=r,C=Tr(),E=typeof z=="number"?String(z):z;N.useEffect(()=>{C(tpe({shared:R,trigger:D,axisId:P,active:i,defaultIndex:E}))},[C,R,D,P,i,E]);var A=Kb(),j=i$(),V=Xme(R),{activeIndex:B,isActive:F}=(e=mt(ne=>lge(ne,V,D,E)))!==null&&e!==void 0?e:{},U=mt(ne=>oge(ne,V,D,E)),X=mt(ne=>yq(ne,V,D,E)),J=mt(ne=>age(ne,V,D,E)),O=U,K=kge(),H=(n=i??F)!==null&&n!==void 0?n:!1,[k,$]=woe([O,H]),G=V==="axis"?X:void 0;Jge(V,D,J,G,B,H);var Z=I??K;if(Z==null||A==null||V==null)return null;var Y=O??TM;H||(Y=TM),d&&Y.length&&(Y=Kae(Y.filter(ne=>ne.value!=null&&(ne.hide!==!0||r.includeHidden)),p,nye));var te=Y.length>0,ie=N.createElement(Hce,{allowEscapeViewBox:s,animationDuration:a,animationEasing:l,isAnimationActive:f,active:H,coordinate:J,hasPayload:te,offset:m,position:y,reverseDirection:x,useTranslate3d:b,viewBox:A,wrapperStyle:_,lastBoundingBox:k,innerRef:$,hasPortalFromProps:!!I},rye(c,SM(SM({},r),{},{payload:Y,label:G,active:H,activeIndex:B,coordinate:J,accessibilityLayer:j})));return N.createElement(N.Fragment,null,Sb.createPortal(ie,Z),H&&N.createElement(jge,{cursor:S,tooltipEventType:V,coordinate:J,payload:Y,index:B}))}function aye(t,e,n){return(e=oye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oye(t){var e=lye(t,"string");return typeof e=="symbol"?e:e+""}function lye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class cye{constructor(e){aye(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uye(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){dye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dye(t,e,n){return(e=fye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fye(t){var e=hye(t,"string");return typeof e=="symbol"?e:e+""}function hye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mye={cacheSize:2e3,enableCache:!0},Nq=uye({},mye),AM=new cye(Nq.cacheSize),pye={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},IM="recharts_measurement_span";function gye(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",l=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var jM=(t,e)=>{try{var n=document.getElementById(IM);n||(n=document.createElement("span"),n.setAttribute("id",IM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,pye,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},pp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||kg.isSsr)return{width:0,height:0};if(!Nq.enableCache)return jM(e,n);var r=gye(e,n),i=AM.get(r);if(i)return i;var s=jM(e,n);return AM.set(r,s),s},Cq;function yye(t,e,n){return(e=vye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vye(t){var e=xye(t,"string");return typeof e=="symbol"?e:e+""}function xye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bye=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wye=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_ye={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Nye=["cm","mm","pt","pc","in","Q","px"];function Cye(t){return Nye.includes(t)}var df="NaN";function Eye(t,e){return t*_ye[e]}class Nr{static parse(e){var n,[,r,i]=(n=wye.exec(e))!==null&&n!==void 0?n:[];return r==null?Nr.NaN:new Nr(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Ba(e)&&(this.unit=""),n!==""&&!bye.test(n)&&(this.num=NaN,this.unit=""),Cye(n)&&(this.num=Eye(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Nr(NaN,""):new Nr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Nr(NaN,""):new Nr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Nr(NaN,""):new Nr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Nr(NaN,""):new Nr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ba(this.num)}}Cq=Nr;yye(Nr,"NaN",new Cq(NaN,""));function Eq(t){if(t==null||t.includes(df))return df;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=kM.exec(e))!==null&&n!==void 0?n:[],a=Nr.parse(r??""),l=Nr.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return df;e=e.replace(kM,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,m,p]=(d=RM.exec(e))!==null&&d!==void 0?d:[],y=Nr.parse(f??""),x=Nr.parse(p??""),b=m==="+"?y.add(x):y.subtract(x);if(b.isNaN())return df;e=e.replace(RM,b.toString())}return e}var DM=/\(([^()]*)\)/;function Sye(t){for(var e=t,n;(n=DM.exec(e))!=null;){var[,r]=n;e=e.replace(DM,Eq(r))}return e}function Tye(t){var e=t.replace(/\s+/g,"");return e=Sye(e),e=Eq(e),e}function Pye(t){try{return Tye(t)}catch{return df}}function FN(t){var e=Pye(t.slice(5,-1));return e===df?"":e}var Aye=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Iye=["dx","dy","angle","className","breakAll"];function MS(){return MS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MS.apply(null,arguments)}function OM(t,e){if(t==null)return{};var n,r,i=jye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function jye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Sq=/[ \f\n\r\t\v\u2028\u2029]+/,Tq=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];fr(e)||(n?i=e.toString().split(""):i=e.toString().split(Sq));var s=i.map(l=>({word:l,width:pp(l,r).width})),a=n?0:pp("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function kye(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Pq=(t,e,n,r)=>t.reduce((i,s)=>{var{word:a,width:l}=s,c=i[i.length-1];if(c&&l!=null&&(e==null||r||c.width+l+n<Number(e)))c.words.push(a),c.width+=l+n;else{var d={words:[a],width:l};i.push(d)}return i},[]),Aq=t=>t.reduce((e,n)=>e.width>n.width?e:n),Rye="",MM=(t,e,n,r,i,s,a,l)=>{var c=t.slice(0,e),d=Tq({breakAll:n,style:r,children:c+Rye});if(!d)return[!1,[]];var f=Pq(d.wordsWithComputedWidth,s,a,l),m=f.length>i||Aq(f).width>Number(s);return[m,f]},Dye=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=t,d=Je(s),f=String(a),m=Pq(e,r,n,i);if(!d||i)return m;var p=m.length>s||Aq(m).width>Number(r);if(!p)return m;for(var y=0,x=f.length-1,b=0,_;y<=x&&b<=f.length-1;){var S=Math.floor((y+x)/2),R=S-1,[D,z]=MM(f,R,c,l,s,r,n,i),[I]=MM(f,S,c,l,s,r,n,i);if(!D&&!I&&(y=S+1),D&&I&&(x=S-1),!D&&I){_=z;break}b++}return _||m},LM=t=>{var e=fr(t)?[]:t.toString().split(Sq);return[{words:e,width:void 0}]},Oye=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!kg.isSsr){var l,c,d=Tq({breakAll:s,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:m}=d;l=f,c=m}else return LM(r);return Dye({breakAll:s,children:r,maxLines:a,style:i},l,c,e,!!n)}return LM(r)},Iq="#808080",Mye={angle:0,breakAll:!1,capHeight:"0.71em",fill:Iq,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},vI=N.forwardRef((t,e)=>{var n=Ci(t,Mye),{x:r,y:i,lineHeight:s,capHeight:a,fill:l,scaleToFit:c,textAnchor:d,verticalAnchor:f}=n,m=OM(n,Aye),p=N.useMemo(()=>Oye({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:y,dy:x,angle:b,className:_,breakAll:S}=m,R=OM(m,Iye);if(!za(r)||!za(i)||p.length===0)return null;var D=Number(r)+(Je(y)?y:0),z=Number(i)+(Je(x)?x:0);if(!Mt(D)||!Mt(z))return null;var I;switch(f){case"start":I=FN("calc(".concat(a,")"));break;case"middle":I=FN("calc(".concat((p.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:I=FN("calc(".concat(p.length-1," * -").concat(s,")"));break}var P=[],C=p[0];if(c&&C!=null){var E=C.width,{width:A}=m;P.push("scale(".concat(Je(A)&&Je(E)?A/E:1,")"))}return b&&P.push("rotate(".concat(b,", ").concat(D,", ").concat(z,")")),P.length&&(R.transform=P.join(" ")),N.createElement("text",MS({},Hr(R),{ref:e,x:D,y:z,className:Yt("recharts-text",_),textAnchor:d,fill:l.includes("url")?Iq:l}),p.map((j,V)=>{var B=j.words.join(S?"":" ");return N.createElement("tspan",{x:D,dy:V===0?I:s,key:"".concat(B,"-").concat(V)},B)}))});vI.displayName="Text";function VM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VM(Object(n),!0).forEach(function(r){Lye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lye(t,e,n){return(e=Vye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vye(t){var e=Fye(t,"string");return typeof e=="symbol"?e:e+""}function Fye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bye=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:a,height:l,upperWidth:c,lowerWidth:d}=mA(e),f=s,m=s+(c-d)/2,p=(f+m)/2,y=(c+d)/2,x=f+c/2,b=l>=0?1:-1,_=b*r,S=b>0?"end":"start",R=b>0?"start":"end",D=c>=0?1:-1,z=D*r,I=D>0?"end":"start",P=D>0?"start":"end",C=i;if(n==="top"){var E={x:f+c/2,y:a-_,horizontalAnchor:"middle",verticalAnchor:S};return C&&(E.height=Math.max(a-C.y,0),E.width=c),E}if(n==="bottom"){var A={x:m+d/2,y:a+l+_,horizontalAnchor:"middle",verticalAnchor:R};return C&&(A.height=Math.max(C.y+C.height-(a+l),0),A.width=d),A}if(n==="left"){var j={x:p-z,y:a+l/2,horizontalAnchor:I,verticalAnchor:"middle"};return C&&(j.width=Math.max(j.x-C.x,0),j.height=l),j}if(n==="right"){var V={x:p+y+z,y:a+l/2,horizontalAnchor:P,verticalAnchor:"middle"};return C&&(V.width=Math.max(C.x+C.width-V.x,0),V.height=l),V}var B=C?{width:y,height:l}:{};return n==="insideLeft"?pa({x:p+z,y:a+l/2,horizontalAnchor:P,verticalAnchor:"middle"},B):n==="insideRight"?pa({x:p+y-z,y:a+l/2,horizontalAnchor:I,verticalAnchor:"middle"},B):n==="insideTop"?pa({x:f+c/2,y:a+_,horizontalAnchor:"middle",verticalAnchor:R},B):n==="insideBottom"?pa({x:m+d/2,y:a+l-_,horizontalAnchor:"middle",verticalAnchor:S},B):n==="insideTopLeft"?pa({x:f+z,y:a+_,horizontalAnchor:P,verticalAnchor:R},B):n==="insideTopRight"?pa({x:f+c-z,y:a+_,horizontalAnchor:I,verticalAnchor:R},B):n==="insideBottomLeft"?pa({x:m+z,y:a+l-_,horizontalAnchor:P,verticalAnchor:S},B):n==="insideBottomRight"?pa({x:m+d-z,y:a+l-_,horizontalAnchor:I,verticalAnchor:S},B):n&&typeof n=="object"&&(Je(n.x)||Bu(n.x))&&(Je(n.y)||Bu(n.y))?pa({x:s+ac(n.x,y),y:a+ac(n.y,l),horizontalAnchor:"end",verticalAnchor:"end"},B):pa({x,y:a+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},B)},zye=["labelRef"],Uye=["content"];function FM(t,e){if(t==null)return{};var n,r,i=$ye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $ye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){qye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qye(t,e,n){return(e=Hye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hye(t){var e=Wye(t,"string");return typeof e=="symbol"?e:e+""}function Wye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ho(){return ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ho.apply(null,arguments)}var jq=N.createContext(null),Kye=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:l}=t,c=N.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,n,r,i,s,a]);return N.createElement(jq.Provider,{value:c},l)},kq=()=>{var t=N.useContext(jq),e=Kb();return t||(e?mA(e):void 0)},Gye=N.createContext(null),Xye=()=>{var t=N.useContext(Gye),e=mt(d9);return t||e},Yye=t=>{var{value:e,formatter:n}=t,r=fr(t.children)?e:t.children;return typeof n=="function"?n(r):r},xI=t=>t!=null&&typeof t=="function",Qye=(t,e)=>{var n=Os(e-t),r=Math.min(Math.abs(e-t),360);return n*r},Jye=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:l,cy:c,innerRadius:d,outerRadius:f,startAngle:m,endAngle:p,clockWise:y}=i,x=(d+f)/2,b=Qye(m,p),_=b>=0?1:-1,S,R;switch(e){case"insideStart":S=m+_*s,R=y;break;case"insideEnd":S=p-_*s,R=!y;break;case"end":S=p+_*s,R=y;break;default:throw new Error("Unsupported position ".concat(e))}R=b<=0?R:!R;var D=Er(l,c,x,S),z=Er(l,c,x,S+(R?1:-1)*359),I="M".concat(D.x,",").concat(D.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(R?0:1,`,
    `).concat(z.x,",").concat(z.y),P=fr(t.id)?Lp("recharts-radial-line-"):t.id;return N.createElement("text",ho({},r,{dominantBaseline:"central",className:Yt("recharts-radial-bar-label",a)}),N.createElement("defs",null,N.createElement("path",{id:P,d:I})),N.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Zye=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=t,d=(l+c)/2;if(n==="outside"){var{x:f,y:m}=Er(r,i,a+e,d);return{x:f,y:m,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(s+a)/2,{x:y,y:x}=Er(r,i,p,d);return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},o0=t=>t!=null&&"cx"in t&&Je(t.cx),eve={angle:0,offset:5,zIndex:Qr.label,position:"middle",textBreakAll:!1};function tve(t){if(!o0(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function Il(t){var e=Ci(t,eve),{viewBox:n,parentViewBox:r,position:i,value:s,children:a,content:l,className:c="",textBreakAll:d,labelRef:f}=e,m=Xye(),p=kq(),y=i==="center"?p:m??p,x,b,_;n==null?x=y:o0(n)?x=n:x=mA(n);var S=tve(x);if(!x||fr(s)&&fr(a)&&!N.isValidElement(l)&&typeof l!="function")return null;var R=Zm(Zm({},e),{},{viewBox:x});if(N.isValidElement(l)){var{labelRef:D}=R,z=FM(R,zye);return N.cloneElement(l,z)}if(typeof l=="function"){var{content:I}=R,P=FM(R,Uye);if(b=N.createElement(l,P),N.isValidElement(b))return b}else b=Yye(e);var C=Hr(e);if(o0(x)){if(i==="insideStart"||i==="insideEnd"||i==="end")return Jye(e,i,b,C,x);_=Zye(x,e.offset,e.position)}else{if(!S)return null;var E=Bye({viewBox:S,position:i,offset:e.offset,parentViewBox:o0(r)?void 0:r});_=Zm(Zm({x:E.x,y:E.y,textAnchor:E.horizontalAnchor,verticalAnchor:E.verticalAnchor},E.width!==void 0?{width:E.width}:{}),E.height!==void 0?{height:E.height}:{})}return N.createElement(Yo,{zIndex:e.zIndex},N.createElement(vI,ho({ref:f,className:Yt("recharts-label",c)},C,_,{textAnchor:kye(C.textAnchor)?C.textAnchor:_.textAnchor,breakAll:d}),b))}Il.displayName="Label";var nve=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?N.createElement(Il,ho({key:"label-implicit"},r)):za(t)?N.createElement(Il,ho({key:"label-implicit",value:t},r)):N.isValidElement(t)?t.type===Il?N.cloneElement(t,Zm({key:"label-implicit"},r)):N.createElement(Il,ho({key:"label-implicit",content:t},r)):xI(t)?N.createElement(Il,ho({key:"label-implicit",content:t},r)):t&&typeof t=="object"?N.createElement(Il,ho({},t,{key:"label-implicit"},r)):null};function rve(t){var{label:e,labelRef:n}=t,r=kq();return nve(e,r,n)||null}var BN={},zN={},zM;function ive(){return zM||(zM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(zN)),zN}var UN={},UM;function sve(){return UM||(UM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(UN)),UN}var $M;function ave(){return $M||($M=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ive(),n=sve(),r=iA();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(BN)),BN}var $N,qM;function ove(){return qM||(qM=1,$N=ave().last),$N}var lve=ove();const cve=_i(lve);var uve=["valueAccessor"],dve=["dataKey","clockWise","id","textBreakAll","zIndex"];function Ax(){return Ax=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ax.apply(null,arguments)}function HM(t,e){if(t==null)return{};var n,r,i=fve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hve=t=>Array.isArray(t.value)?cve(t.value):t.value,Rq=N.createContext(void 0),Dq=Rq.Provider,Oq=N.createContext(void 0);Oq.Provider;function mve(){return N.useContext(Rq)}function pve(){return N.useContext(Oq)}function l0(t){var{valueAccessor:e=hve}=t,n=HM(t,uve),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:l}=n,c=HM(n,dve),d=mve(),f=pve(),m=d||f;return!m||!m.length?null:N.createElement(Yo,{zIndex:l??Qr.label},N.createElement(fs,{className:"recharts-label-list"},m.map((p,y)=>{var x,b=fr(r)?e(p,y):Xn(p.payload,r),_=fr(s)?{}:{id:"".concat(s,"-").concat(y)};return N.createElement(Il,Ax({key:"label-".concat(y)},Hr(p),c,_,{fill:(x=n.fill)!==null&&x!==void 0?x:p.fill,parentViewBox:p.parentViewBox,value:b,textBreakAll:a,viewBox:p.viewBox,index:y,zIndex:0}))})))}l0.displayName="LabelList";function Mq(t){var{label:e}=t;return e?e===!0?N.createElement(l0,{key:"labelList-implicit"}):N.isValidElement(e)||xI(e)?N.createElement(l0,{key:"labelList-implicit",content:e}):typeof e=="object"?N.createElement(l0,Ax({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function LS(){return LS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LS.apply(null,arguments)}var Lq=t=>{var{cx:e,cy:n,r,className:i}=t,s=Yt("recharts-dot",i);return Je(e)&&Je(n)&&Je(r)?N.createElement("circle",LS({},Us(t),rA(t),{className:s,cx:e,cy:n,r})):null},gve={radiusAxis:{},angleAxis:{}},Vq=Ei({name:"polarAxis",initialState:gve,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:WAe,removeRadiusAxis:KAe,addAngleAxis:GAe,removeAngleAxis:XAe}=Vq.actions,yve=Vq.reducer;function vve(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var bI=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,qN={},WM;function xve(){return WM||(WM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(qN)),qN}var HN,KM;function bve(){return KM||(KM=1,HN=xve().isPlainObject),HN}var wve=bve();const _ve=_i(wve);var GM,XM,YM,QM,JM;function ZM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZM(Object(n),!0).forEach(function(r){Nve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nve(t,e,n){return(e=Cve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cve(t){var e=Eve(t,"string");return typeof e=="symbol"?e:e+""}function Eve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ix(){return Ix=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ix.apply(null,arguments)}function Vm(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var tL=(t,e,n,r,i)=>{var s=n-r,a;return a=Pn(GM||(GM=Vm(["M ",",",""])),t,e),a+=Pn(XM||(XM=Vm(["L ",",",""])),t+n,e),a+=Pn(YM||(YM=Vm(["L ",",",""])),t+n-s/2,e+i),a+=Pn(QM||(QM=Vm(["L ",",",""])),t+n-s/2-r,e+i),a+=Pn(JM||(JM=Vm(["L ",","," Z"])),t,e),a},Sve={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tve=t=>{var e=Ci(t,Sve),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:l}=e,{animationEasing:c,animationDuration:d,animationBegin:f,isUpdateAnimationActive:m}=e,p=N.useRef(null),[y,x]=N.useState(-1),b=N.useRef(i),_=N.useRef(s),S=N.useRef(a),R=N.useRef(n),D=N.useRef(r),z=Jb(t,"trapezoid-");if(N.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var U=p.current.getTotalLength();U&&x(U)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var I=Yt("recharts-trapezoid",l);if(!m)return N.createElement("g",null,N.createElement("path",Ix({},Hr(e),{className:I,d:tL(n,r,i,s,a)})));var P=b.current,C=_.current,E=S.current,A=R.current,j=D.current,V="0px ".concat(y===-1?1:y,"px"),B="".concat(y,"px 0px"),F=s$(["strokeDasharray"],d,c);return N.createElement(Qb,{animationId:z,key:z,canBegin:y>0,duration:d,easing:c,isActive:m,begin:f},U=>{var X=Un(P,i,U),J=Un(C,s,U),O=Un(E,a,U),K=Un(A,n,U),H=Un(j,r,U);p.current&&(b.current=X,_.current=J,S.current=O,R.current=K,D.current=H);var k=U>0?{transition:F,strokeDasharray:B}:{strokeDasharray:V};return N.createElement("path",Ix({},Hr(e),{className:I,d:tL(K,H,X,J,O),ref:p,style:eL(eL({},k),e.style)}))})},Pve=["option","shapeType","activeClassName"];function Ave(t,e){if(t==null)return{};var n,r,i=Ive(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ive(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){jve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jve(t,e,n){return(e=kve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kve(t){var e=Rve(t,"string");return typeof e=="symbol"?e:e+""}function Rve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dve(t,e){return jx(jx({},e),t)}function Ove(t,e){return t==="symbols"}function rL(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return N.createElement(c$,n);case"trapezoid":return N.createElement(Tve,n);case"sector":return N.createElement(f$,n);case"symbols":if(Ove(e))return N.createElement(e8,n);break;case"curve":return N.createElement(mp,n);default:return null}}function Mve(t){return N.isValidElement(t)?t.props:t}function Lve(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Ave(t,Pve),s;if(N.isValidElement(e))s=N.cloneElement(e,jx(jx({},i),Mve(e)));else if(typeof e=="function")s=e(i,i.index);else if(_ve(e)&&typeof e!="boolean"){var a=Dve(e,i);s=N.createElement(rL,{shapeType:n,elementProps:a})}else{var l=i;s=N.createElement(rL,{shapeType:n,elementProps:l})}return i.isActive?N.createElement(fs,{className:r},s):s}function Fq(t){var{tooltipEntrySettings:e}=t,n=Tr(),r=Si(),i=N.useRef(null);return N.useLayoutEffect(()=>{r||(i.current===null?n(Jme(e)):i.current!==e&&n(Zme({prev:i.current,next:e})),i.current=e)},[e,n,r]),N.useLayoutEffect(()=>()=>{i.current&&(n(epe(i.current)),i.current=null)},[n]),null}function Bq(t){var{legendPayload:e}=t,n=Tr(),r=Si(),i=N.useRef(null);return N.useLayoutEffect(()=>{r||(i.current===null?n(Ice(e)):i.current!==e&&n(jce({prev:i.current,next:e})),i.current=e)},[n,r,e]),N.useLayoutEffect(()=>()=>{i.current&&(n(kce(i.current)),i.current=null)},[n]),null}var WN,Vve=()=>{var[t]=N.useState(()=>Lp("uid-"));return t},Fve=(WN=eG.useId)!==null&&WN!==void 0?WN:Vve;function Bve(t,e){var n=Fve();return e||(t?"".concat(t,"-").concat(n):n)}var zve=N.createContext(void 0),zq=t=>{var{id:e,type:n,children:r}=t,i=Bve("recharts-".concat(n),e);return N.createElement(zve.Provider,{value:i},r(i))},Uve={cartesianItems:[],polarItems:[]},Uq=Ei({name:"graphicalItems",initialState:Uve,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:fn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Fs(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:fn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Fs(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:fn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:fn()},removePolarGraphicalItem:{reducer(t,e){var n=Fs(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:fn()}}}),{addCartesianGraphicalItem:$ve,replaceCartesianGraphicalItem:qve,removeCartesianGraphicalItem:Hve,addPolarGraphicalItem:YAe,removePolarGraphicalItem:QAe}=Uq.actions,Wve=Uq.reducer,Kve=t=>{var e=Tr(),n=N.useRef(null);return N.useLayoutEffect(()=>{n.current===null?e($ve(t)):n.current!==t&&e(qve({prev:n.current,next:t})),n.current=t},[e,t]),N.useLayoutEffect(()=>()=>{n.current&&(e(Hve(n.current)),n.current=null)},[e]),null},$q=N.memo(Kve),Gve=["points"];function iL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iL(Object(n),!0).forEach(function(r){Xve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xve(t,e,n){return(e=Yve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yve(t){var e=Qve(t,"string");return typeof e=="symbol"?e:e+""}function Qve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kx.apply(null,arguments)}function Jve(t,e){if(t==null)return{};var n,r,i=Zve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function e0e(t){var{option:e,dotProps:n,className:r}=t;if(N.isValidElement(e))return N.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Yt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:a}=s,l=Jve(s,Gve);return N.createElement(Lq,kx({},l,{className:i}))}function t0e(t,e){return t==null?!1:e?!0:t.length===1}function qq(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:l,clipPathId:c,zIndex:d=Qr.scatter}=t;if(!t0e(e,n))return null;var f=bI(n),m=vse(n),p=e.map((x,b)=>{var _,S,R=KN(KN(KN({r:3},a),m),{},{index:b,cx:(_=x.x)!==null&&_!==void 0?_:void 0,cy:(S=x.y)!==null&&S!==void 0?S:void 0,dataKey:s,value:x.value,payload:x.payload,points:e});return N.createElement(e0e,{key:"dot-".concat(b),option:n,dotProps:R,className:i})}),y={};return l&&c!=null&&(y.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(c,")")),N.createElement(Yo,{zIndex:d},N.createElement(fs,kx({className:r},y),p))}function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){n0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n0e(t,e,n){return(e=r0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r0e(t){var e=i0e(t,"string");return typeof e=="symbol"?e:e+""}function i0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hq=0,s0e={xAxis:{},yAxis:{},zAxis:{}},Wq=Ei({name:"cartesianAxis",initialState:s0e,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:fn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:fn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:fn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:fn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:fn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:fn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:fn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:fn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:fn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-((s=a[0])!==null&&s!==void 0?s:0))<=1)return;var l=[...a,r].slice(-3);t.yAxis[n]=aL(aL({},i),{},{width:r,widthHistory:l})}}}}),{addXAxis:JAe,replaceXAxis:ZAe,removeXAxis:eIe,addYAxis:a0e,replaceYAxis:o0e,removeYAxis:l0e,addZAxis:tIe,replaceZAxis:nIe,removeZAxis:rIe,updateYAxisWidth:c0e}=Wq.actions,u0e=Wq.reducer,d0e=ye([Pr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),f0e=ye([d0e,$o,qo],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),yw=()=>mt(f0e),h0e=()=>mt(Wpe);function oL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(n),!0).forEach(function(r){m0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m0e(t,e,n){return(e=p0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p0e(t){var e=g0e(t,"string");return typeof e=="symbol"?e:e+""}function g0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y0e=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var l={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=GN(GN(GN({},l),Tb(i)),rA(i)),d;return N.isValidElement(i)?d=N.cloneElement(i,c):typeof i=="function"?d=i(c):d=N.createElement(Lq,c),N.createElement(fs,{className:"recharts-active-dot",clipPath:a},d)};function VS(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=Qr.activeDot}=t,l=mt(Yp),c=h0e();if(e==null||c==null)return null;var d=e.find(f=>c.includes(f.payload));return fr(d)?null:N.createElement(Yo,{zIndex:a},N.createElement(y0e,{point:d,childIndex:Number(l),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var v0e=t=>{var{chartData:e}=t,n=Tr(),r=Si();return N.useEffect(()=>r?()=>{}:(n(NM(e)),()=>{n(NM(void 0))}),[e,n,r]),null},lL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Kq=Ei({name:"brush",initialState:lL,reducers:{setBrushSettings(t,e){return e.payload==null?lL:e.payload}}}),{setBrushSettings:iIe}=Kq.actions,x0e=Kq.reducer;function b0e(t){return(t%180+180)%180}var w0e=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=b0e(i),a=s*Math.PI/180,l=Math.atan(r/n),c=a>l&&a<Math.PI-l?r/Math.sin(a):n/Math.cos(a);return Math.abs(c)},_0e={dots:[],areas:[],lines:[]},Gq=Ei({name:"referenceElements",initialState:_0e,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Fs(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Fs(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Fs(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:sIe,removeDot:aIe,addArea:oIe,removeArea:lIe,addLine:cIe,removeLine:uIe}=Gq.actions,N0e=Gq.reducer,C0e=N.createContext(void 0),E0e=t=>{var{children:e}=t,[n]=N.useState("".concat(Lp("recharts"),"-clip")),r=yw();if(r==null)return null;var{x:i,y:s,width:a,height:l}=r;return N.createElement(C0e.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:s,height:l,width:a}))),e)};function Xq(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function S0e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return w0e(r,n)}function T0e(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:l}=t;return e===1?{start:r?i:s,end:r?i+a:s+l}:{start:r?i+a:s+l,end:r?i:s}}function Jp(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function P0e(t,e){return Xq(t,e+1)}function A0e(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:l}=e,c=0,d=1,f=a,m=function(){var x=r?.[c];if(x===void 0)return{v:Xq(r,d)};var b=c,_,S=()=>(_===void 0&&(_=n(x,b)),_),R=x.coordinate,D=c===0||Jp(t,R,S,f,l);D||(c=0,f=a,d+=1),D&&(f=R+t*(S()/2+i),c+=d)},p;d<=s.length;)if(p=m(),p)return p.v;return[]}function I0e(t,e,n,r,i){var s=(r||[]).slice(),a=s.length;if(a===0)return[];for(var{start:l,end:c}=e,d=1;d<=a;d++){for(var f=(a-1)%d,m=l,p=!0,y=function(){var z=r[b];if(z==null)return 0;var I=b,P,C=()=>(P===void 0&&(P=n(z,I)),P),E=z.coordinate,A=b===f||Jp(t,E,C,m,c);if(!A)return p=!1,1;A&&(m=E+t*(C()/2+i))},x,b=f;b<a&&(x=y(),!(x!==0&&x===1));b+=d);if(p){for(var _=[],S=f;S<a;S+=d){var R=r[S];R!=null&&_.push(R)}return _}}return[]}function cL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(n),!0).forEach(function(r){j0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j0e(t,e,n){return(e=k0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k0e(t){var e=R0e(t,"string");return typeof e=="symbol"?e:e+""}function R0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D0e(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:l}=e,{end:c}=e,d=function(p){var y=s[p];if(y==null)return 1;var x=y,b,_=()=>(b===void 0&&(b=n(y,p)),b);if(p===a-1){var S=t*(x.coordinate+t*_()/2-c);s[p]=x=Vr(Vr({},x),{},{tickCoord:S>0?x.coordinate-S*t:x.coordinate})}else s[p]=x=Vr(Vr({},x),{},{tickCoord:x.coordinate});if(x.tickCoord!=null){var R=Jp(t,x.tickCoord,_,l,c);R&&(c=x.tickCoord-t*(_()/2+i),s[p]=Vr(Vr({},x),{},{isShow:!0}))}},f=a-1;f>=0;f--)d(f);return s}function O0e(t,e,n,r,i,s){var a=(r||[]).slice(),l=a.length,{start:c,end:d}=e;if(s){var f=r[l-1];if(f!=null){var m=n(f,l-1),p=t*(f.coordinate+t*m/2-d);if(a[l-1]=f=Vr(Vr({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate}),f.tickCoord!=null){var y=Jp(t,f.tickCoord,()=>m,c,d);y&&(d=f.tickCoord-t*(m/2+i),a[l-1]=Vr(Vr({},f),{},{isShow:!0}))}}}for(var x=s?l-1:l,b=function(R){var D=a[R];if(D==null)return 1;var z=D,I,P=()=>(I===void 0&&(I=n(D,R)),I);if(R===0){var C=t*(z.coordinate-t*P()/2-c);a[R]=z=Vr(Vr({},z),{},{tickCoord:C<0?z.coordinate-C*t:z.coordinate})}else a[R]=z=Vr(Vr({},z),{},{tickCoord:z.coordinate});if(z.tickCoord!=null){var E=Jp(t,z.tickCoord,P,c,d);E&&(c=z.tickCoord+t*(P()/2+i),a[R]=Vr(Vr({},z),{},{isShow:!0}))}},_=0;_<x;_++)b(_);return a}function M0e(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:d,unit:f,angle:m}=t;if(!i||!i.length||!r)return[];if(Je(c)||kg.isSsr){var p;return(p=P0e(i,Je(c)?c:0))!==null&&p!==void 0?p:[]}var y=[],x=l==="top"||l==="bottom"?"width":"height",b=f&&x==="width"?pp(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(I,P)=>{var C=typeof d=="function"?d(I.value,P):I.value;return x==="width"?S0e(pp(C,{fontSize:e,letterSpacing:n}),b,m):pp(C,{fontSize:e,letterSpacing:n})[x]},S=i[0],R=i[1],D=i.length>=2&&S!=null&&R!=null?Os(R.coordinate-S.coordinate):1,z=T0e(s,D,x);return c==="equidistantPreserveStart"?A0e(D,z,_,i,a):c==="equidistantPreserveEnd"?I0e(D,z,_,i,a):(c==="preserveStart"||c==="preserveStartEnd"?y=O0e(D,z,_,i,a,c==="preserveStartEnd"):y=D0e(D,z,_,i,a),y.filter(I=>I.isShow))}var L0e=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>a&&(a=m.width)}});var l=n?n.getBoundingClientRect().width:0,c=i+s,d=a+c+l+(n?r:0);return Math.round(d)}return 0},V0e=["axisLine","width","height","className","hide","ticks","axisType"];function F0e(t,e){if(t==null)return{};var n,r,i=B0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function B0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hu.apply(null,arguments)}function uL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(n),!0).forEach(function(r){z0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z0e(t,e,n){return(e=U0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U0e(t){var e=$0e(t,"string");return typeof e=="symbol"?e:e+""}function $0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var c0={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Qr.axis};function q0e(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:l,otherSvgProps:c}=t;if(!l)return null;var d=Tn(Tn(Tn({},c),Us(l)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);d=Tn(Tn({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var m=+(s==="left"&&!a||s==="right"&&a);d=Tn(Tn({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return N.createElement("line",Hu({},d,{className:Yt("recharts-cartesian-axis-line",jb(l,"className"))}))}function H0e(t,e,n,r,i,s,a,l,c){var d,f,m,p,y,x,b=l?-1:1,_=t.tickSize||a,S=Je(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":d=f=t.coordinate,p=n+ +!l*i,m=p-b*_,x=m-b*c,y=S;break;case"left":m=p=t.coordinate,f=e+ +!l*r,d=f-b*_,y=d-b*c,x=S;break;case"right":m=p=t.coordinate,f=e+ +l*r,d=f+b*_,y=d+b*c,x=S;break;default:d=f=t.coordinate,p=n+ +l*i,m=p+b*_,x=m+b*c,y=S;break}return{line:{x1:d,y1:m,x2:f,y2:p},tick:{x:y,y:x}}}function W0e(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function K0e(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function G0e(t){var{option:e,tickProps:n,value:r}=t,i,s=Yt(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(e))i=N.cloneElement(e,Tn(Tn({},n),{},{className:s}));else if(typeof e=="function")i=e(Tn(Tn({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Yt(a,vve(e))),i=N.createElement(vI,Hu({},n,{className:a}),r)}return i}var X0e=N.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:l,padding:c,tickTextProps:d,orientation:f,mirror:m,x:p,y,width:x,height:b,tickSize:_,tickMargin:S,fontSize:R,letterSpacing:D,getTicksConfig:z,events:I,axisType:P}=t,C=M0e(Tn(Tn({},z),{},{ticks:n}),R,D),E=W0e(f,m),A=K0e(f,m),j=Us(z),V=Tb(r),B={};typeof i=="object"&&(B=i);var F=Tn(Tn({},j),{},{fill:"none"},B),U=C.map(O=>Tn({entry:O},H0e(O,p,y,x,b,f,_,m,S))),X=U.map(O=>{var{entry:K,line:H}=O;return N.createElement(fs,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(K.value,"-").concat(K.coordinate,"-").concat(K.tickCoord)},i&&N.createElement("line",Hu({},F,H,{className:Yt("recharts-cartesian-axis-tick-line",jb(i,"className"))})))}),J=U.map((O,K)=>{var H,k,{entry:$,tick:G}=O,Z=Tn(Tn(Tn(Tn({verticalAnchor:A},j),{},{textAnchor:E,stroke:"none",fill:s},G),{},{index:K,payload:$,visibleTicksCount:C.length,tickFormatter:a,padding:c},d),{},{angle:(H=(k=d?.angle)!==null&&k!==void 0?k:j.angle)!==null&&H!==void 0?H:0}),Y=Tn(Tn({},Z),V);return N.createElement(fs,Hu({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat($.value,"-").concat($.coordinate,"-").concat($.tickCoord)},_ae(I,$,K)),r&&N.createElement(G0e,{option:r,tickProps:Y,value:"".concat(typeof a=="function"?a($.value,K):$.value).concat(l||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},J.length>0&&N.createElement(Yo,{zIndex:Qr.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:e},J)),X.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},X))}),Y0e=N.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:l,axisType:c}=t,d=F0e(t,V0e),[f,m]=N.useState(""),[p,y]=N.useState(""),x=N.useRef(null);N.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return L0e({ticks:x.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=N.useCallback(_=>{if(_){var S=_.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=S;var R=S[0];if(R){var D=window.getComputedStyle(R),z=D.fontSize,I=D.letterSpacing;(z!==f||I!==p)&&(m(z),y(I))}}},[f,p]);return a||r!=null&&r<=0||i!=null&&i<=0?null:N.createElement(Yo,{zIndex:t.zIndex},N.createElement(fs,{className:Yt("recharts-cartesian-axis",s)},N.createElement(q0e,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Us(t)}),N.createElement(X0e,{ref:b,axisType:c,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:p,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:l,unit:t.unit,width:t.width,x:t.x,y:t.y}),N.createElement(Kye,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},N.createElement(rve,{label:t.label,labelRef:t.labelRef}),t.children)))}),Yq=N.forwardRef((t,e)=>{var n=Ci(t,c0);return N.createElement(Y0e,Hu({},n,{ref:e}))});Yq.displayName="CartesianAxis";var Q0e={},Qq=Ei({name:"errorBars",initialState:Q0e,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:dIe,replaceErrorBar:fIe,removeErrorBar:hIe}=Qq.actions,J0e=Qq.reducer,Z0e=["children"];function exe(t,e){if(t==null)return{};var n,r,i=txe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function txe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var nxe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},rxe=N.createContext(nxe);function ixe(t){var{children:e}=t,n=exe(t,Z0e);return N.createElement(rxe.Provider,{value:n},e)}function wI(t,e){var n,r,i=mt(d=>Ko(d,t)),s=mt(d=>Go(d,e)),a=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:h9.allowDataOverflow,l=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:sr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function Jq(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=yw(),{needClipX:s,needClipY:a,needClip:l}=wI(e,n);if(!l||!i)return null;var{x:c,y:d,width:f,height:m}=i;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:s?c:c-f/2,y:a?d:d-m/2,width:s?f:f*2,height:a?m:m*2}))}var Zq=(t,e,n,r)=>gw(t,"xAxis",e,r),e7=(t,e,n,r)=>pw(t,"xAxis",e,r),t7=(t,e,n,r)=>gw(t,"yAxis",n,r),n7=(t,e,n,r)=>pw(t,"yAxis",n,r),sxe=ye([rn,Zq,t7,e7,n7],(t,e,n,r,i)=>Ws(t,"xAxis")?rh(e,r,!1):rh(n,i,!1)),axe=(t,e,n,r,i)=>i;function oxe(t){return t.type==="line"}var lxe=ye([ZA,axe],(t,e)=>t.filter(oxe).find(n=>n.id===e)),cxe=ye([rn,Zq,t7,e7,n7,lxe,sxe,BA],(t,e,n,r,i,s,a,l)=>{var{chartData:c,dataStartIndex:d,dataEndIndex:f}=l;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:m,data:p}=s,y;if(p!=null&&p.length>0?y=p:y=c?.slice(d,f+1),y!=null)return Xxe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:a,displayedData:y})}});function r7(t){var e=Tb(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),l=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(l)||l<0)&&(l=r),{r:a,strokeWidth:l}}return{r:n,strokeWidth:r}}var XN={exports:{}},YN={};var dL;function uxe(){if(dL)return YN;dL=1;var t=ni();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,l=t.useDebugValue;return YN.useSyncExternalStoreWithSelector=function(c,d,f,m,p){var y=i(null);if(y.current===null){var x={hasValue:!1,value:null};y.current=x}else x=y.current;y=a(function(){function _(I){if(!S){if(S=!0,R=I,I=m(I),p!==void 0&&x.hasValue){var P=x.value;if(p(P,I))return D=P}return D=I}if(P=D,n(R,I))return P;var C=m(I);return p!==void 0&&p(P,C)?(R=I,P):(R=I,D=C)}var S=!1,R,D,z=f===void 0?null:f;return[function(){return _(d())},z===null?void 0:function(){return _(z())}]},[d,f,m,p]);var b=r(c,y[0],y[1]);return s(function(){x.hasValue=!0,x.value=b},[b]),l(b),b},YN}var fL;function dxe(){return fL||(fL=1,XN.exports=uxe()),XN.exports}dxe();function fxe(t){t()}function hxe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){fxe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var hL={notify(){},get:()=>[]};function mxe(t,e){let n,r=hL,i=0,s=!1;function a(b){f();const _=r.subscribe(b);let S=!1;return()=>{S||(S=!0,_(),m())}}function l(){r.notify()}function c(){x.onStateChange&&x.onStateChange()}function d(){return s}function f(){i++,n||(n=t.subscribe(c),r=hxe())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=hL)}function p(){s||(s=!0,f())}function y(){s&&(s=!1,m())}const x={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:d,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>r};return x}var pxe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gxe=pxe(),yxe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",vxe=yxe(),xxe=()=>gxe||vxe?N.useLayoutEffect:N.useEffect,bxe=xxe();function mL(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function wxe(t,e){if(mL(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!mL(t[n[i]],e[n[i]]))return!1;return!0}var _xe=Symbol.for("react-redux-context"),Nxe=typeof globalThis<"u"?globalThis:{};function Cxe(){if(!N.createContext)return{};const t=Nxe[_xe]??=new Map;let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var Exe=Cxe();function Sxe(t){const{children:e,context:n,serverState:r,store:i}=t,s=N.useMemo(()=>{const c=mxe(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),a=N.useMemo(()=>i.getState(),[i]);bxe(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=n||Exe;return N.createElement(l.Provider,{value:s},e)}var Txe=Sxe,Pxe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Axe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function vw(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Pxe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!wxe(t[r],e[r]))return!1}else if(!Axe(t[r],e[r]))return!1;return!0}var Ixe=["id"],jxe=["type","layout","connectNulls","needClip","shape"],kxe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Zp(){return Zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zp.apply(null,arguments)}function pL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pL(Object(n),!0).forEach(function(r){Rxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rxe(t,e,n){return(e=Dxe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dxe(t){var e=Oxe(t,"string");return typeof e=="symbol"?e:e+""}function Oxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _I(t,e){if(t==null)return{};var n,r,i=Mxe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Mxe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lxe=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Ub(n,e),payload:t}]},Vxe=N.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:c,tooltipType:d,id:f}=t,m={dataDefinedOnItem:n,getPosition:td,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Ub(a,e),hide:l,type:d,color:r,unit:c,graphicalItemId:f}};return N.createElement(Fq,{tooltipEntrySettings:m})}),i7=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Fxe(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Bxe=(t,e,n)=>{var r=n.reduce((y,x)=>y+x);if(!r)return i7(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,l=[],c=0,d=0;c<n.length;d+=(f=n[c])!==null&&f!==void 0?f:0,++c){var f,m=n[c];if(m!=null&&d+m>s){l=[...n.slice(0,c),s-d];break}}var p=l.length%2===0?[0,a]:[a];return[...Fxe(n,i),...l,...p].map(y=>"".concat(y,"px")).join(", ")};function zxe(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r,{id:l}=r,c=_I(r,Ixe),d=Us(c);return N.createElement(qq,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:d,needClip:a,clipPathId:e})}function Uxe(t){var{showLabels:e,children:n,points:r}=t,i=N.useMemo(()=>r?.map(s=>{var a,l,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return wa(wa({},c),{},{value:s.value,payload:s.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return N.createElement(Dq,{value:e?i:void 0},n)}function gL(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:l,connectNulls:c,needClip:d,shape:f}=s,m=_I(s,jxe),p=wa(wa({},Hr(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:l,connectNulls:c,strokeDasharray:i??s.strokeDasharray});return N.createElement(N.Fragment,null,r?.length>1&&N.createElement(Lve,Zp({shapeType:"curve",option:f},p,{pathRef:n})),N.createElement(zxe,{points:r,clipPathId:e,props:s}))}function $xe(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function qxe(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:l,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:m,animateNewValues:p,width:y,height:x,onAnimationEnd:b,onAnimationStart:_}=n,S=i.current,R=Jb(a,"recharts-line-"),D=N.useRef(R),[z,I]=N.useState(!1),P=!z,C=N.useCallback(()=>{typeof b=="function"&&b(),I(!1)},[b]),E=N.useCallback(()=>{typeof _=="function"&&_(),I(!0)},[_]),A=$xe(r.current),j=N.useRef(0);D.current!==R&&(j.current=s.current,D.current=R);var V=j.current;return N.createElement(Uxe,{points:a,showLabels:P},n.children,N.createElement(Qb,{animationId:R,begin:d,duration:f,isActive:c,easing:m,onAnimationEnd:C,onAnimationStart:E,key:R},B=>{var F=Un(V,A+V,B),U=Math.min(F,A),X;if(c)if(l){var J="".concat(l).split(/[,\s]+/gim).map(H=>parseFloat(H));X=Bxe(U,A,J)}else X=i7(A,U);else X=l==null?void 0:String(l);if(B>0&&A>0&&(i.current=a,s.current=Math.max(s.current,U)),S){var O=S.length/a.length,K=B===1?a:a.map((H,k)=>{var $=Math.floor(k*O);if(S[$]){var G=S[$];return wa(wa({},H),{},{x:Un(G.x,H.x,B),y:Un(G.y,H.y,B)})}return p?wa(wa({},H),{},{x:Un(y*2,H.x,B),y:Un(x/2,H.y,B)}):wa(wa({},H),{},{x:H.x,y:H.y})});return i.current=K,N.createElement(gL,{props:n,points:K,clipPathId:e,pathRef:r,strokeDasharray:X})}return N.createElement(gL,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:X})}),N.createElement(Mq,{label:n.label}))}function Hxe(t){var{clipPathId:e,props:n}=t,r=N.useRef(null),i=N.useRef(0),s=N.useRef(null);return N.createElement(qxe,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var Wxe=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Xn(t.payload,e)}};class Kxe extends N.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:l,left:c,width:d,height:f,id:m,needClip:p,zIndex:y}=this.props;if(e)return null;var x=Yt("recharts-line",i),b=m,{r:_,strokeWidth:S}=r7(n),R=bI(n),D=_*2+S,z=p?"url(#clipPath-".concat(R?"":"dots-").concat(b,")"):void 0;return N.createElement(Yo,{zIndex:y},N.createElement(fs,{className:x},p&&N.createElement("defs",null,N.createElement(Jq,{clipPathId:b,xAxisId:s,yAxisId:a}),!R&&N.createElement("clipPath",{id:"clipPath-dots-".concat(b)},N.createElement("rect",{x:c-D/2,y:l-D/2,width:d+D,height:f+D}))),N.createElement(ixe,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:Wxe,errorBarOffset:0},N.createElement(Hxe,{props:this.props,clipPathId:b}))),N.createElement(VS,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:z}))}}var s7={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Qr.line,type:"linear"};function Gxe(t){var e=Ci(t,s7),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,hide:d,isAnimationActive:f,label:m,legendType:p,xAxisId:y,yAxisId:x,id:b}=e,_=_I(e,kxe),{needClip:S}=wI(y,x),R=yw(),D=nd(),z=Si(),I=mt(j=>cxe(j,y,x,z,b));if(D!=="horizontal"&&D!=="vertical"||I==null||R==null)return null;var{height:P,width:C,x:E,y:A}=R;return N.createElement(Kxe,Zp({},_,{id:b,connectNulls:l,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:f,hide:d,label:m,legendType:p,xAxisId:y,yAxisId:x,points:I,layout:D,height:P,width:C,left:E,top:A,needClip:S}))}function Xxe(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:l,displayedData:c}=t;return c.map((d,f)=>{var m=Xn(d,a);if(e==="horizontal"){var p=sx({axis:n,ticks:i,bandSize:l,entry:d,index:f}),y=fr(m)?null:r.scale.map(m);return{x:p,y:y??null,value:m,payload:d}}var x=fr(m)?null:n.scale.map(m),b=sx({axis:r,ticks:s,bandSize:l,entry:d,index:f});return x==null||b==null?null:{x,y:b,value:m,payload:d}}).filter(Boolean)}function Yxe(t){var e=Ci(t,s7),n=Si();return N.createElement(zq,{id:e.id,type:"line"},r=>N.createElement(N.Fragment,null,N.createElement(Bq,{legendPayload:Lxe(e)}),N.createElement(Vxe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),N.createElement($q,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),N.createElement(Gxe,Zp({},e,{id:r}))))}var a7=N.memo(Yxe,vw);a7.displayName="Line";function NI(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:Hq}function CI(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:Hq}var o7=(t,e,n)=>gw(t,"xAxis",NI(t,e),n),l7=(t,e,n)=>pw(t,"xAxis",NI(t,e),n),c7=(t,e,n)=>gw(t,"yAxis",CI(t,e),n),u7=(t,e,n)=>pw(t,"yAxis",CI(t,e),n),Qxe=ye([rn,o7,c7,l7,u7],(t,e,n,r,i)=>Ws(t,"xAxis")?rh(e,r,!1):rh(n,i,!1)),Jxe=(t,e)=>e,d7=ye([ZA,Jxe],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),f7=t=>{var e=rn(t),n=Ws(e,"xAxis");return n?"yAxis":"xAxis"},Zxe=(t,e)=>{var n=f7(t);return n==="yAxis"?CI(t,e):NI(t,e)},ebe=(t,e,n)=>E9(t,f7(t),Zxe(t,e),n),tbe=ye([d7,ebe],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=YA(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,a=s?.find(l=>l.key===i);if(a!=null)return a.map(l=>[l[0],l[1]])}}}),nbe=ye([rn,o7,c7,l7,u7,tbe,Ihe,Qxe,d7,Fhe],(t,e,n,r,i,s,a,l,c,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:p}=a;if(!(c==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{data:y}=c,x;if(y&&y.length>0?x=y:x=f?.slice(m,p+1),x!=null)return wbe({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:c,stackedData:s,displayedData:x,chartBaseValue:d,bandSize:l})}}),rbe=["id"],ibe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(null,arguments)}function h7(t,e){if(t==null)return{};var n,r,i=sbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){abe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function abe(t,e,n){return(e=obe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function obe(t){var e=lbe(t,"string");return typeof e=="symbol"?e:e+""}function lbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rx(t,e){return t&&t!=="none"?t:e}var cbe=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:Rx(r,i),value:Ub(n,e),payload:t}]},ube=N.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:l,unit:c,tooltipType:d,id:f}=t,m={dataDefinedOnItem:n,getPosition:td,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Ub(a,e),hide:l,type:d,color:Rx(r,s),unit:c,graphicalItemId:f}};return N.createElement(Fq,{tooltipEntrySettings:m})});function dbe(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:a}=r,l=Us(r);return N.createElement(qq,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:l,needClip:i,clipPathId:e})}function fbe(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var a,l,c={x:(a=s.x)!==null&&a!==void 0?a:0,y:(l=s.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return ff(ff({},c),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return N.createElement(Dq,{value:e?i:void 0},n)}function vL(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:a,type:l,stroke:c,connectNulls:d,isRange:f}=s,{id:m}=s,p=h7(s,rbe),y=Us(p),x=Hr(p);return N.createElement(N.Fragment,null,e?.length>1&&N.createElement(fs,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},N.createElement(mp,Cu({},x,{id:m,points:e,connectNulls:d,type:l,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),c!=="none"&&N.createElement(mp,Cu({},y,{className:"recharts-area-curve",layout:a,type:l,connectNulls:d,fill:"none",points:e})),c!=="none"&&f&&N.createElement(mp,Cu({},y,{className:"recharts-area-curve",layout:a,type:l,connectNulls:d,fill:"none",points:n}))),N.createElement(dbe,{points:e,props:p,clipPathId:i}))}function hbe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=t,l=(e=s[0])===null||e===void 0?void 0:e.y,c=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Mt(l)||!Mt(c))return null;var d=r*Math.abs(l-c),f=Math.max(...s.map(m=>m.x||0));return Je(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(m=>m.x||0),f)),Je(f)?N.createElement("rect",{x:0,y:l<c?l:l-d,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(d)}):null}function mbe(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=t,l=(e=s[0])===null||e===void 0?void 0:e.x,c=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Mt(l)||!Mt(c))return null;var d=r*Math.abs(l-c),f=Math.max(...s.map(m=>m.y||0));return Je(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(m=>m.y||0),f)),Je(f)?N.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}function pbe(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?N.createElement(hbe,{alpha:e,points:r,baseLine:i,strokeWidth:s}):N.createElement(mbe,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function gbe(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:a,baseLine:l,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:m,onAnimationStart:p,onAnimationEnd:y}=r,x=N.useMemo(()=>({points:a,baseLine:l}),[a,l]),b=Jb(x,"recharts-area-"),_=X8(),[S,R]=N.useState(!1),D=!S,z=N.useCallback(()=>{typeof y=="function"&&y(),R(!1)},[y]),I=N.useCallback(()=>{typeof p=="function"&&p(),R(!0)},[p]);if(_==null)return null;var P=i.current,C=s.current;return N.createElement(fbe,{showLabels:D,points:a},r.children,N.createElement(Qb,{animationId:b,begin:d,duration:f,isActive:c,easing:m,onAnimationEnd:z,onAnimationStart:I,key:b},E=>{if(P){var A=P.length/a.length,j=E===1?a:a.map((B,F)=>{var U=Math.floor(F*A);if(P[U]){var X=P[U];return ff(ff({},B),{},{x:Un(X.x,B.x,E),y:Un(X.y,B.y,E)})}return B}),V;return Je(l)?V=Un(C,l,E):fr(l)||Ba(l)?V=Un(C,0,E):V=l.map((B,F)=>{var U=Math.floor(F*A);if(Array.isArray(C)&&C[U]){var X=C[U];return ff(ff({},B),{},{x:Un(X.x,B.x,E),y:Un(X.y,B.y,E)})}return B}),E>0&&(i.current=j,s.current=V),N.createElement(vL,{points:j,baseLine:V,needClip:e,clipPathId:n,props:r})}return E>0&&(i.current=a,s.current=l),N.createElement(fs,null,c&&N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(n)},N.createElement(pbe,{alpha:E,points:a,baseLine:l,layout:_,strokeWidth:r.strokeWidth}))),N.createElement(fs,{clipPath:"url(#animationClipPath-".concat(n,")")},N.createElement(vL,{points:a,baseLine:l,needClip:e,clipPathId:n,props:r})))}),N.createElement(Mq,{label:r.label}))}function ybe(t){var{needClip:e,clipPathId:n,props:r}=t,i=N.useRef(null),s=N.useRef();return N.createElement(gbe,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class vbe extends N.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:a,needClip:l,xAxisId:c,yAxisId:d,width:f,height:m,id:p,baseLine:y,zIndex:x}=this.props;if(e)return null;var b=Yt("recharts-area",i),_=p,{r:S,strokeWidth:R}=r7(n),D=bI(n),z=S*2+R,I=l?"url(#clipPath-".concat(D?"":"dots-").concat(_,")"):void 0;return N.createElement(Yo,{zIndex:x},N.createElement(fs,{className:b},l&&N.createElement("defs",null,N.createElement(Jq,{clipPathId:_,xAxisId:c,yAxisId:d}),!D&&N.createElement("clipPath",{id:"clipPath-dots-".concat(_)},N.createElement("rect",{x:a-z/2,y:s-z/2,width:f+z,height:m+z}))),N.createElement(ybe,{needClip:l,clipPathId:_,props:this.props})),N.createElement(VS,{points:r,mainColor:Rx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(y)&&N.createElement(VS,{points:y,mainColor:Rx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var m7={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Qr.area};function xbe(t){var e,n=Ci(t,m7),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:l,dot:c,fill:d,fillOpacity:f,hide:m,isAnimationActive:p,legendType:y,stroke:x,xAxisId:b,yAxisId:_}=n,S=h7(n,ibe),R=nd(),D=mq(),{needClip:z}=wI(b,_),I=Si(),{points:P,isRange:C,baseLine:E}=(e=mt(U=>nbe(U,t.id,I)))!==null&&e!==void 0?e:{},A=yw();if(R!=="horizontal"&&R!=="vertical"||A==null||D!=="AreaChart"&&D!=="ComposedChart")return null;var{height:j,width:V,x:B,y:F}=A;return!P||!P.length?null:N.createElement(vbe,Cu({},S,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:E,connectNulls:l,dot:c,fill:d,fillOpacity:f,height:j,hide:m,layout:R,isAnimationActive:p==="auto"?!kg.isSsr:p,isRange:C,legendType:y,needClip:z,points:P,stroke:x,width:V,left:B,top:F,xAxisId:b,yAxisId:_}))}var bbe=(t,e,n,r,i)=>{var s=n??e;if(Je(s))return s;var a=t==="horizontal"?i:r,l=a.scale.domain();if(a.type==="number"){var c=Math.max(l[0],l[1]),d=Math.min(l[0],l[1]);return s==="dataMin"?d:s==="dataMax"||c<0?c:Math.max(Math.min(l[0],l[1]),0)}return s==="dataMin"?l[0]:s==="dataMax"?l[1]:l[0]};function wbe(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:l,yAxis:c,displayedData:d,dataStartIndex:f,xAxisTicks:m,yAxisTicks:p,bandSize:y}=t,x=i&&i.length,b=bbe(s,a,n,l,c),_=s==="horizontal",S=!1,R=d.map((z,I)=>{var P,C,E,A;if(x)A=i[f+I];else{var j=Xn(z,r);Array.isArray(j)?(A=j,S=!0):A=[b,j]}var V=(P=(C=A)===null||C===void 0?void 0:C[1])!==null&&P!==void 0?P:null,B=V==null||x&&!e&&Xn(z,r)==null;if(_){var F;return{x:sx({axis:l,ticks:m,bandSize:y,entry:z,index:I}),y:B?null:(F=c.scale.map(V))!==null&&F!==void 0?F:null,value:A,payload:z}}return{x:B?null:(E=l.scale.map(V))!==null&&E!==void 0?E:null,y:sx({axis:c,ticks:p,bandSize:y,entry:z,index:I}),value:A,payload:z}}),D;return x||S?D=R.map(z=>{var I,P=Array.isArray(z.value)?z.value[0]:null;if(_){var C;return{x:z.x,y:P!=null&&z.y!=null&&(C=c.scale.map(P))!==null&&C!==void 0?C:null,payload:z.payload}}return{x:P!=null&&(I=l.scale.map(P))!==null&&I!==void 0?I:null,y:z.y,payload:z.payload}}):D=_?c.scale.map(b):l.scale.map(b),{points:R,baseLine:D??0,isRange:S}}function _be(t){var e=Ci(t,m7),n=Si();return N.createElement(zq,{id:e.id,type:"area"},r=>N.createElement(N.Fragment,null,N.createElement(Bq,{legendPayload:cbe(e)}),N.createElement(ube,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),N.createElement($q,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:Ile(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),N.createElement(xbe,Cu({},e,{id:r}))))}var FS=N.memo(_be,vw);FS.displayName="Area";var Nbe=["domain","range"],Cbe=["domain","range"];function xL(t,e){if(t==null)return{};var n,r,i=Ebe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ebe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bL(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Sbe(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=xL(t,Nbe),{domain:s,range:a}=e,l=xL(e,Cbe);return!bL(n,s)||!bL(r,a)?!1:vw(i,l)}var Tbe=["type"],Pbe=["dangerouslySetInnerHTML","ticks","scale"],Abe=["id","scale"];function BS(){return BS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BS.apply(null,arguments)}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _L(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){Ibe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ibe(t,e,n){return(e=jbe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jbe(t){var e=kbe(t,"string");return typeof e=="symbol"?e:e+""}function kbe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zS(t,e){if(t==null)return{};var n,r,i=Rbe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rbe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dbe(t){var e=Tr(),n=N.useRef(null),r=X8(),{type:i}=t,s=zS(t,Tbe),a=WA(r,"yAxis",i),l=N.useMemo(()=>{if(a!=null)return _L(_L({},s),{},{type:a})},[a,s]);return N.useLayoutEffect(()=>{l!=null&&(n.current===null?e(a0e(l)):n.current!==l&&e(o0e({prev:n.current,next:l})),n.current=l)},[l,e]),N.useLayoutEffect(()=>()=>{n.current&&(e(l0e(n.current)),n.current=null)},[e]),null}function Obe(t){var{yAxisId:e,className:n,width:r,label:i}=t,s=N.useRef(null),a=N.useRef(null),l=mt(Gle),c=Si(),d=Tr(),f="yAxis",m=mt(P=>$me(P,e)),p=mt(P=>Ume(P,e)),y=mt(P=>Hme(P,f,e,c)),x=mt(P=>m9(P,e));if(N.useLayoutEffect(()=>{if(!(r!=="auto"||!m||xI(i)||N.isValidElement(i)||x==null)){var P=s.current;if(P){var C=P.getCalculatedWidth();Math.round(m.width)!==Math.round(C)&&d(c0e({id:e,width:C}))}}},[y,m,d,i,e,r,x]),m==null||p==null||x==null)return null;var{dangerouslySetInnerHTML:b,ticks:_,scale:S}=t,R=zS(t,Pbe),{id:D,scale:z}=x,I=zS(x,Abe);return N.createElement(Yq,BS({},R,I,{ref:s,labelRef:a,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Yt("recharts-".concat(f," ").concat(f),n),viewBox:l,ticks:y,axisType:f}))}var Mbe={allowDataOverflow:sr.allowDataOverflow,allowDecimals:sr.allowDecimals,allowDuplicatedCategory:sr.allowDuplicatedCategory,angle:sr.angle,axisLine:c0.axisLine,hide:!1,includeHidden:sr.includeHidden,interval:sr.interval,label:!1,minTickGap:sr.minTickGap,mirror:sr.mirror,orientation:sr.orientation,padding:sr.padding,reversed:sr.reversed,scale:sr.scale,tick:sr.tick,tickCount:sr.tickCount,tickLine:c0.tickLine,tickSize:c0.tickSize,type:sr.type,width:sr.width,yAxisId:0},Lbe=t=>{var e=Ci(t,Mbe);return N.createElement(N.Fragment,null,N.createElement(Dbe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),N.createElement(Obe,e))},p7=N.memo(Lbe,Sbe);p7.displayName="YAxis";var Vbe=(t,e)=>e,EI=ye([Vbe,rn,d9,pr,lq,Xo,ige,Pr],dge),SI=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},g7=hs("mouseClick"),y7=Pg();y7.startListening({actionCreator:g7,effect:(t,e)=>{var n=t.payload,r=EI(e.getState(),SI(n));r?.activeIndex!=null&&e.dispatch(rpe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var US=hs("mouseMove"),v7=Pg(),jv=null;v7.startListening({actionCreator:US,effect:(t,e)=>{var n=t.payload;jv!==null&&cancelAnimationFrame(jv);var r=SI(n);jv=requestAnimationFrame(()=>{var i=e.getState(),s=lI(i,i.tooltip.settings.shared);if(s==="axis"){var a=EI(i,r);a?.activeIndex!=null?e.dispatch(Z9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(J9())}jv=null})}});function Fbe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var NL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},x7=Ei({name:"rootProps",initialState:NL,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:NL.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Bbe=x7.reducer,{updateOptions:zbe}=x7.actions,Ube=null,$be={updatePolarOptions:(t,e)=>e.payload},b7=Ei({name:"polarOptions",initialState:Ube,reducers:$be}),{updatePolarOptions:mIe}=b7.actions,qbe=b7.reducer,w7=hs("keyDown"),_7=hs("focus"),TI=Pg();TI.startListening({actionCreator:w7,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=cI(i,kh(n),Fg(n),zg(n)),l=a==null?-1:Number(a);if(!(!Number.isFinite(l)||l<0)){var c=Xo(n);if(s==="Enter"){var d=Px(n,"axis","hover",String(i.index));e.dispatch(RS({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=Gme(n),m=f==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,y=l+p*m;if(!(c==null||y>=c.length||y<0)){var x=Px(n,"axis","hover",String(y));e.dispatch(RS({active:!0,activeIndex:y.toString(),activeCoordinate:x}))}}}}}});TI.startListening({actionCreator:_7,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=Px(n,"axis","hover",String(s));e.dispatch(RS({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var ss=hs("externalEvent"),N7=Pg(),QN=new Map;N7.startListening({actionCreator:ss,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=QN.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var l=e.getState(),c={activeCoordinate:$pe(l),activeDataKey:zpe(l),activeIndex:Yp(l),activeLabel:dq(l),activeTooltipIndex:Yp(l),isTooltipActive:qpe(l)};n(c,r)}finally{QN.delete(i)}});QN.set(i,a)}}});var Hbe=ye([Ih],t=>t.tooltipItemPayloads),Wbe=ye([Hbe,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),C7=hs("touchMove"),E7=Pg();E7.startListening({actionCreator:C7,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=lI(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var a=EI(r,SI({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(Z9({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var l,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(Lle),m=(l=d.getAttribute(Vle))!==null&&l!==void 0?l:void 0,p=jh(r).find(b=>b.id===m);if(f==null||p==null||m==null)return;var{dataKey:y}=p,x=Wbe(r,f,m);e.dispatch(npe({activeDataKey:y,activeIndex:f,activeCoordinate:x,activeGraphicalItemId:m}))}}}});var Kbe=p8({brush:x0e,cartesianAxis:u0e,chartData:Uge,errorBars:J0e,graphicalItems:Wve,layout:wle,legend:Rce,options:Lge,polarAxis:yve,polarOptions:qbe,referenceElements:N0e,rootProps:Bbe,tooltip:ipe,zIndex:Ege}),Gbe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Woe({reducer:Kbe,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([y7.middleware,v7.middleware,TI.middleware,N7.middleware,E7.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(I8({type:"raf"}))},devTools:{serialize:{replacer:Fbe},name:"recharts-".concat(n)}})};function Xbe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Si(),s=N.useRef(null);if(i)return n;s.current==null&&(s.current=Gbe(e,r));var a=aA;return N.createElement(Txe,{context:a,store:s.current},n)}function Ybe(t){var{layout:e,margin:n}=t,r=Tr(),i=Si();return N.useEffect(()=>{i||(r(vle(e)),r(yle(n)))},[r,i,e,n]),null}var Qbe=N.memo(Ybe,vw);function Jbe(t){var e=Tr();return N.useEffect(()=>{e(zbe(t))},[e,t]),null}function CL(t){var{zIndex:e,isPanorama:n}=t,r=N.useRef(null),i=Tr();return N.useLayoutEffect(()=>(r.current&&i(Nge({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Cge({zIndex:e,isPanorama:n}))}),[i,e,n]),N.createElement("g",{tabIndex:-1,ref:r})}function EL(t){var{children:e,isPanorama:n}=t,r=mt(hge);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return N.createElement(N.Fragment,null,i.map(a=>N.createElement(CL,{key:a,zIndex:a,isPanorama:n})),e,s.map(a=>N.createElement(CL,{key:a,zIndex:a,isPanorama:n})))}var Zbe=["children"];function ewe(t,e){if(t==null)return{};var n,r,i=twe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function twe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Dx(){return Dx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dx.apply(null,arguments)}var nwe={width:"100%",height:"100%",display:"block"},rwe=N.forwardRef((t,e)=>{var n=pce(),r=gce(),i=i$();if(!oc(n)||!oc(r))return null;var{children:s,otherAttributes:a,title:l,desc:c}=t,d,f;return a!=null&&(typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0),N.createElement(RU,Dx({},a,{title:l,desc:c,role:f,tabIndex:d,width:n,height:r,style:nwe,ref:e}),s)}),iwe=t=>{var{children:e}=t,n=mt(Wb);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return N.createElement(RU,{width:r,height:i,x:a,y:s},e)},SL=N.forwardRef((t,e)=>{var{children:n}=t,r=ewe(t,Zbe),i=Si();return i?N.createElement(iwe,null,N.createElement(EL,{isPanorama:!0},n)):N.createElement(rwe,Dx({ref:e},r),N.createElement(EL,{isPanorama:!1},n))});function swe(){var t=Tr(),[e,n]=N.useState(null),r=mt(Mle);return N.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Mt(s)&&s!==r&&t(ble(s))}},[e,t,r]),n}function TL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function awe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(n),!0).forEach(function(r){owe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function owe(t,e,n){return(e=lwe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lwe(t){var e=cwe(t,"string");return typeof e=="symbol"?e:e+""}function cwe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kl(){return Kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kl.apply(null,arguments)}var uwe=()=>(Qge(),null);function Ox(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var dwe=N.forwardRef((t,e)=>{var n,r,i=N.useRef(null),[s,a]=N.useState({containerWidth:Ox((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:Ox((r=t.style)===null||r===void 0?void 0:r.height)}),l=N.useCallback((d,f)=>{a(m=>{var p=Math.round(d),y=Math.round(f);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),c=N.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:m}=d.getBoundingClientRect();l(f,m);var p=x=>{var b=x[0];if(b!=null){var{width:_,height:S}=b.contentRect;l(_,S)}},y=new ResizeObserver(p);y.observe(d),i.current=y}},[e,l]);return N.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[l]),N.createElement(N.Fragment,null,N.createElement(Ig,{width:s.containerWidth,height:s.containerHeight}),N.createElement("div",Kl({ref:c},t)))}),fwe=N.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=N.useState({containerWidth:Ox(n),containerHeight:Ox(r)}),a=N.useCallback((c,d)=>{s(f=>{var m=Math.round(c),p=Math.round(d);return f.containerWidth===m&&f.containerHeight===p?f:{containerWidth:m,containerHeight:p}})},[]),l=N.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();a(d,f)}},[e,a]);return N.createElement(N.Fragment,null,N.createElement(Ig,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",Kl({ref:l},t)))}),hwe=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return N.createElement(N.Fragment,null,N.createElement(Ig,{width:n,height:r}),N.createElement("div",Kl({ref:e},t)))}),mwe=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?N.createElement(fwe,Kl({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?N.createElement(hwe,Kl({},t,{width:n,height:r,ref:e})):N.createElement(N.Fragment,null,N.createElement(Ig,{width:n,height:r}),N.createElement("div",Kl({ref:e},t)))});function pwe(t){return t?dwe:mwe}var gwe=N.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:m,onMouseUp:p,onTouchEnd:y,onTouchMove:x,onTouchStart:b,style:_,width:S,responsive:R,dispatchTouchEvents:D=!0}=t,z=N.useRef(null),I=Tr(),[P,C]=N.useState(null),[E,A]=N.useState(null),j=swe(),V=hA(),B=V?.width>0?V.width:S,F=V?.height>0?V.height:i,U=N.useCallback(se=>{j(se),typeof e=="function"&&e(se),C(se),A(se),se!=null&&(z.current=se)},[j,e,C,A]),X=N.useCallback(se=>{I(g7(se)),I(ss({handler:s,reactEvent:se}))},[I,s]),J=N.useCallback(se=>{I(US(se)),I(ss({handler:d,reactEvent:se}))},[I,d]),O=N.useCallback(se=>{I(J9()),I(ss({handler:f,reactEvent:se}))},[I,f]),K=N.useCallback(se=>{I(US(se)),I(ss({handler:m,reactEvent:se}))},[I,m]),H=N.useCallback(()=>{I(_7())},[I]),k=N.useCallback(se=>{I(w7(se.key))},[I]),$=N.useCallback(se=>{I(ss({handler:a,reactEvent:se}))},[I,a]),G=N.useCallback(se=>{I(ss({handler:l,reactEvent:se}))},[I,l]),Z=N.useCallback(se=>{I(ss({handler:c,reactEvent:se}))},[I,c]),Y=N.useCallback(se=>{I(ss({handler:p,reactEvent:se}))},[I,p]),te=N.useCallback(se=>{I(ss({handler:b,reactEvent:se}))},[I,b]),ie=N.useCallback(se=>{D&&I(C7(se)),I(ss({handler:x,reactEvent:se}))},[I,D,x]),ne=N.useCallback(se=>{I(ss({handler:y,reactEvent:se}))},[I,y]),be=pwe(R);return N.createElement(xq.Provider,{value:P},N.createElement(Ese.Provider,{value:E},N.createElement(be,{width:B??_?.width,height:F??_?.height,className:Yt("recharts-wrapper",r),style:awe({position:"relative",cursor:"default",width:B,height:F},_),onClick:X,onContextMenu:$,onDoubleClick:G,onFocus:H,onKeyDown:k,onMouseDown:Z,onMouseEnter:J,onMouseLeave:O,onMouseMove:K,onMouseUp:Y,onTouchEnd:ne,onTouchMove:ie,onTouchStart:te,ref:U},N.createElement(uwe,null),n)))}),ywe=["width","height","responsive","children","className","style","compact","title","desc"];function vwe(t,e){if(t==null)return{};var n,r,i=xwe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xwe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var bwe=N.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:l,compact:c,title:d,desc:f}=t,m=vwe(t,ywe),p=Us(m);return c?N.createElement(N.Fragment,null,N.createElement(Ig,{width:n,height:r}),N.createElement(SL,{otherAttributes:p,title:d,desc:f},s)):N.createElement(gwe,{className:a,style:l,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},N.createElement(SL,{otherAttributes:p,title:d,desc:f,ref:e},N.createElement(E0e,null,s)))});function $S(){return $S=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$S.apply(null,arguments)}var wwe={top:5,right:5,bottom:5,left:5},_we={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:wwe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},S7=N.forwardRef(function(e,n){var r,i=Ci(e.categoricalChartProps,_we),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:l,tooltipPayloadSearcher:c,eventEmitter:void 0};return N.createElement(Xbe,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:s},N.createElement(v0e,{chartData:d.data}),N.createElement(Qbe,{layout:i.layout,margin:i.margin}),N.createElement(Jbe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(bwe,$S({},i,{ref:n})))}),Nwe=["axis"],Cwe=N.forwardRef((t,e)=>N.createElement(S7,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Nwe,tooltipPayloadSearcher:bq,categoricalChartProps:t,ref:e})),Ewe=["axis"],Swe=N.forwardRef((t,e)=>N.createElement(S7,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ewe,tooltipPayloadSearcher:bq,categoricalChartProps:t,ref:e}));function Twe({value:t}){const[e,n]=N.useState([]),[r,i]=N.useState(!0);return N.useEffect(()=>{const s=()=>{const c=[],d=t,f=t*.003;for(let m=0;m<24;m++){const p=m/24,y=(Math.random()-.5)*2,x=Math.sin(p*Math.PI*2)*.5,b=d+f*y*.5+f*x;c.push({value:b,timestamp:Date.now()-(24-m)*36e5})}return c};n(s()),i(!1);const a=setInterval(()=>{n(s())},60*1e3);return()=>clearInterval(a)},[t]),e.length===0?o.jsx("div",{className:"w-full h-full",style:{minHeight:"48px"}}):o.jsx("div",{className:"w-full h-full",style:{minWidth:"300px",minHeight:"48px"},children:o.jsx(G8,{width:"100%",height:"100%",minHeight:48,children:o.jsxs(Cwe,{data:e,children:[o.jsx(p7,{hide:!0,domain:["dataMin","dataMax"]}),o.jsx(a7,{type:"monotone",dataKey:"value",stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:2,dot:!1,animationDuration:1e3,isAnimationActive:!0})]})})})}const JN=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin"},{id:"ethereum",symbol:"ETH",name:"Ethereum"},{id:"tether",symbol:"USDT",name:"Tether"},{id:"binancecoin",symbol:"BNB",name:"BNB"},{id:"solana",symbol:"SOL",name:"Solana"},{id:"ripple",symbol:"XRP",name:"XRP"},{id:"cardano",symbol:"ADA",name:"Cardano"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin"},{id:"polkadot",symbol:"DOT",name:"Polkadot"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu"}];function Pwe({isOpen:t,onClose:e}){const[n,r]=N.useState(""),[i,s]=N.useState(JN),{prices:a}=Ni();N.useEffect(()=>{if(n.trim()==="")s(JN);else{const c=JN.filter(d=>d.name.toLowerCase().includes(n.toLowerCase())||d.symbol.toLowerCase().includes(n.toLowerCase()));s(c)}},[n]);const l=c=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:c<1?6:2}).format(c);return t?o.jsxs("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm animate-in fade-in overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsx("style",{children:`
        .search-modal-container::-webkit-scrollbar {
          display: none;
        }
      `}),o.jsxs("div",{className:"min-h-screen p-6 pt-12 search-modal-container",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsxs("div",{className:"flex-1 bg-white/5 backdrop-blur-md rounded-2xl px-4 py-3 flex items-center gap-3 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsx(Xl,{className:"text-white/60 w-5 h-5"}),o.jsx("input",{type:"text",placeholder:"Pesquisar criptomoeda...",value:n,onChange:c=>r(c.target.value),autoFocus:!0,className:"flex-1 bg-transparent text-white placeholder:text-white/40 outline-none text-sm"}),n&&o.jsx("button",{onClick:()=>r(""),className:"text-white/60 hover:text-white",children:o.jsx(qr,{className:"w-4 h-4"})})]}),o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(qr,{className:"text-white w-5 h-5"})})]}),o.jsx("div",{className:"space-y-2",children:i.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-white/50 text-sm",children:"Nenhuma criptomoeda encontrada"})}):i.map(c=>{const d=a[c.id]?.usd||0,f=a[c.id]?.usd_24h_change||0,m=f>=0;return o.jsxs("button",{className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 flex items-center justify-between border border-white/10 hover:border-white/20 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:c.symbol,size:"sm"}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-white font-semibold text-sm",children:c.name}),o.jsx("p",{className:"text-white/50 text-xs",children:c.symbol})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-white font-semibold text-sm",children:d>0?`$${l(d)}`:""}),d>0&&o.jsxs("div",{className:`flex items-center justify-end gap-1 text-xs font-medium ${m?"text-[#34c759]":"text-[#ff3b30]"}`,children:[m?o.jsx(zi,{className:"w-3 h-3"}):o.jsx(Su,{className:"w-3 h-3"}),Math.abs(f).toFixed(2).replace(".",","),"%"]})]})]},c.id)})})]})]}):null}function Xr(t,e){const n=typeof t=="string"?parseFloat(t):t;if(isNaN(n))return"0,00";const r=new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(n);if(e){const s={USD:"$",BRL:"R$",GBP:"",EUR:""}[e]||"";return s?`${s} ${r}`:r}return r}function cr(t){return t===0?"0":t<1e-8?t.toFixed(8):t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8}).replace(/,(\d*?)0+$/,",$1").replace(/,$/,"")}function kv(t,e=2){return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:e,maximumFractionDigits:e}).format(t)}function Awe({isOpen:t,onClose:e}){const{portfolio:n}=qs(),{prices:r}=Ni(),i=l=>{const d=kv(l,2).split(",");return{main:d[0],cents:d[1]||"00"}},s=n.change24h>=0,a=n.holdings.map(l=>{const c=r[l.coinId]?.usd||(l.symbol==="USDT"?1:0),d=l.amount*c,f=d/n.totalBalanceUSDT*100;return{...l,valueUSDT:d,percentage:f,price:c}}).sort((l,c)=>c.valueUSDT-l.valueUSDT);return t?o.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-md animate-in fade-in overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsx("style",{children:`
        .stats-modal-container::-webkit-scrollbar {
          display: none;
        }
      `}),o.jsxs("div",{className:"min-h-screen p-6 pt-12 pb-24 stats-modal-container",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center",children:o.jsx(zv,{className:"text-white w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-white text-xl",children:"Estatsticas"}),o.jsx("p",{className:"text-white/50 text-sm",children:"Anlise do Portflio"})]})]}),o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center border border-white/10 hover:bg-white/20 transition-all",children:o.jsx(qr,{className:"text-white w-5 h-5"})})]}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 mb-6 border border-white/10",children:o.jsxs("div",{className:"text-center",children:[o.jsx("p",{className:"text-white/50 text-sm mb-2",children:"Saldo Total"}),o.jsxs("h1",{className:"text-3xl text-white mb-3",children:[i(n.totalBalanceUSDT).main,o.jsxs("span",{className:"text-xl",children:[",",i(n.totalBalanceUSDT).cents]}),o.jsx("span",{className:"text-lg text-white/50 ml-2",children:"USDT"})]}),o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full ${s?"bg-[#34c759]/20":"bg-[#ff3b30]/20"}`,children:[s?o.jsx(zi,{className:`w-4 h-4 ${s?"text-[#34c759]":"text-[#ff3b30]"}`}):o.jsx(Su,{className:`w-4 h-4 ${s?"text-[#34c759]":"text-[#ff3b30]"}`}),o.jsxs("span",{className:`text-sm ${s?"text-[#34c759]":"text-[#ff3b30]"}`,children:[kv(Math.abs(n.change24h))," USDT"]})]}),o.jsx("div",{className:`px-3 py-1 rounded-full ${s?"bg-[#34c759]/20":"bg-[#ff3b30]/20"}`,children:o.jsxs("span",{className:`text-sm ${s?"text-[#34c759]":"text-[#ff3b30]"}`,children:[s?"+":"",n.changePercent24h.toFixed(2).replace(".",","),"%"]})})]})]})}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Ak,{className:"w-4 h-4 text-white/70"}),o.jsx("p",{className:"text-white/50 text-xs",children:"Total de Ativos"})]}),o.jsx("p",{className:"text-white text-2xl",children:a.length})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(zv,{className:"w-4 h-4 text-white/70"}),o.jsx("p",{className:"text-white/50 text-xs",children:"Maior Ativo"})]}),o.jsx("p",{className:"text-white text-lg",children:a[0]?.symbol||""}),o.jsxs("p",{className:"text-white/50 text-xs",children:[a[0]?.percentage.toFixed(1).replace(".",","),"%"]})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-white text-lg mb-4 flex items-center gap-2",children:[o.jsx(Ak,{className:"w-5 h-5"}),"Distribuio de Ativos"]}),o.jsx("div",{className:"space-y-3",children:a.map(l=>{const c=r[l.coinId]?.usd_24h_change||0,d=c>=0;return o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:l.symbol,size:"sm"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-white text-sm",children:l.name}),o.jsxs("p",{className:"text-white/50 text-xs",children:[kv(l.amount,4)," ",l.symbol]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-white text-sm",children:[kv(l.valueUSDT)," USDT"]}),o.jsxs("div",{className:`text-xs ${d?"text-[#34c759]":"text-[#ff3b30]"}`,children:[d?"+":"",c.toFixed(2).replace(".",","),"%"]})]})]}),o.jsx("div",{className:"relative h-2 bg-white/10 rounded-full overflow-hidden",children:o.jsx("div",{className:"absolute left-0 top-0 h-full bg-white/30 rounded-full transition-all",style:{width:`${l.percentage}%`}})}),o.jsxs("p",{className:"text-white/50 text-xs mt-2",children:[l.percentage.toFixed(2).replace(".",","),"% do portflio"]})]},l.symbol)})})]}),n.priceHistory.length>1&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h3",{className:"text-white text-lg mb-4 flex items-center gap-2",children:[o.jsx(zv,{className:"w-5 h-5"}),"Histrico do Portflio"]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[o.jsx("div",{className:"h-32 relative",children:o.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[o.jsx("stop",{offset:"0%",stopColor:s?"#34c759":"#ff3b30",stopOpacity:"0.15"}),o.jsx("stop",{offset:"100%",stopColor:s?"#34c759":"#ff3b30",stopOpacity:"0"})]}),o.jsxs("filter",{id:"glow",children:[o.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"coloredBlur"}),o.jsxs("feMerge",{children:[o.jsx("feMergeNode",{in:"coloredBlur"}),o.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),o.jsx("path",{d:(()=>{const l=n.priceHistory,c=Math.min(...l),f=Math.max(...l)-c||1,m=l.map((x,b)=>{const _=b/(l.length-1)*100,S=100-(x-c)/f*70-15;return{x:_,y:S}});let p=`M${m[0].x},${m[0].y}`;for(let x=0;x<m.length-1;x++){const b=m[Math.max(0,x-1)],_=m[x],S=m[x+1],R=m[Math.min(m.length-1,x+2)],D=_.x+(S.x-b.x)/6,z=_.y+(S.y-b.y)/6,I=S.x-(R.x-_.x)/6,P=S.y-(R.y-_.y)/6;p+=` C${D},${z} ${I},${P} ${S.x},${S.y}`}return`${p} L100,100 L0,100 Z`})(),fill:"url(#chartGradient)"}),o.jsx("path",{d:(()=>{const l=n.priceHistory,c=Math.min(...l),f=Math.max(...l)-c||1,m=l.map((y,x)=>{const b=x/(l.length-1)*100,_=100-(y-c)/f*70-15;return{x:b,y:_}});let p=`M${m[0].x},${m[0].y}`;for(let y=0;y<m.length-1;y++){const x=m[Math.max(0,y-1)],b=m[y],_=m[y+1],S=m[Math.min(m.length-1,y+2)],R=b.x+(_.x-x.x)/6,D=b.y+(_.y-x.y)/6,z=_.x-(S.x-b.x)/6,I=_.y-(S.y-b.y)/6;p+=` C${R},${D} ${z},${I} ${_.x},${_.y}`}return p})(),fill:"none",stroke:s?"#34c759":"#ff3b30",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)"})]})}),o.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-white/50",children:[o.jsxs("span",{children:["ltimas ",n.priceHistory.length," atualizaes"]}),o.jsx("span",{children:"Atualiza a cada 5min"})]})]})]})]})]}):null}const Iwe=[{symbol:"BTC",name:"Bitcoin",coinId:"bitcoin"},{symbol:"ETH",name:"Ethereum",coinId:"ethereum"},{symbol:"BNB",name:"BNB",coinId:"binancecoin"},{symbol:"SOL",name:"Solana",coinId:"solana"},{symbol:"XRP",name:"Ripple",coinId:"ripple"},{symbol:"ADA",name:"Cardano",coinId:"cardano"},{symbol:"AVAX",name:"Avalanche",coinId:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",coinId:"dogecoin"},{symbol:"DOT",name:"Polkadot",coinId:"polkadot"},{symbol:"MATIC",name:"Polygon",coinId:"matic-network"},{symbol:"LINK",name:"Chainlink",coinId:"chainlink"},{symbol:"UNI",name:"Uniswap",coinId:"uniswap"},{symbol:"LTC",name:"Litecoin",coinId:"litecoin"},{symbol:"ATOM",name:"Cosmos",coinId:"cosmos"},{symbol:"XLM",name:"Stellar",coinId:"stellar"},{symbol:"TRX",name:"Tron",coinId:"tron"},{symbol:"SHIB",name:"Shiba Inu",coinId:"shiba-inu"},{symbol:"WBTC",name:"Wrapped Bitcoin",coinId:"wrapped-bitcoin"},{symbol:"DAI",name:"Dai",coinId:"dai"},{symbol:"LEO",name:"UNUS SED LEO",coinId:"leo-token"},{symbol:"USDC",name:"USD Coin",coinId:"usd-coin"},{symbol:"TON",name:"Toncoin",coinId:"the-open-network"},{symbol:"ETC",name:"Ethereum Classic",coinId:"ethereum-classic"},{symbol:"BCH",name:"Bitcoin Cash",coinId:"bitcoin-cash"},{symbol:"APT",name:"Aptos",coinId:"aptos"},{symbol:"ARB",name:"Arbitrum",coinId:"arbitrum"},{symbol:"OP",name:"Optimism",coinId:"optimism"},{symbol:"ICP",name:"Internet Computer",coinId:"internet-computer"},{symbol:"FIL",name:"Filecoin",coinId:"filecoin"},{symbol:"NEAR",name:"NEAR Protocol",coinId:"near"},{symbol:"VET",name:"VeChain",coinId:"vechain"},{symbol:"ALGO",name:"Algorand",coinId:"algorand"},{symbol:"INJ",name:"Injective",coinId:"injective-protocol"},{symbol:"AAVE",name:"Aave",coinId:"aave"},{symbol:"MKR",name:"Maker",coinId:"maker"},{symbol:"GRT",name:"The Graph",coinId:"the-graph"},{symbol:"IMX",name:"Immutable X",coinId:"immutable-x"},{symbol:"STX",name:"Stacks",coinId:"blockstack"},{symbol:"HBAR",name:"Hedera",coinId:"hedera-hashgraph"},{symbol:"FTM",name:"Fantom",coinId:"fantom"},{symbol:"SAND",name:"The Sandbox",coinId:"the-sandbox"},{symbol:"MANA",name:"Decentraland",coinId:"decentraland"},{symbol:"AXS",name:"Axie Infinity",coinId:"axie-infinity"},{symbol:"XTZ",name:"Tezos",coinId:"tezos"},{symbol:"THETA",name:"Theta Network",coinId:"theta-token"},{symbol:"EOS",name:"EOS",coinId:"eos"},{symbol:"XMR",name:"Monero",coinId:"monero"},{symbol:"FLOW",name:"Flow",coinId:"flow"},{symbol:"CHZ",name:"Chiliz",coinId:"chiliz"},{symbol:"ZEC",name:"Zcash",coinId:"zcash"},{symbol:"RUNE",name:"THORChain",coinId:"thorchain"},{symbol:"KLAY",name:"Klaytn",coinId:"klay-token"},{symbol:"DASH",name:"Dash",coinId:"dash"},{symbol:"NEO",name:"Neo",coinId:"neo"},{symbol:"IOTA",name:"IOTA",coinId:"iota"},{symbol:"QNT",name:"Quant",coinId:"quant-network"},{symbol:"EGLD",name:"MultiversX",coinId:"elrond-erd-2"},{symbol:"PEPE",name:"Pepe",coinId:"pepe"},{symbol:"FET",name:"Fetch.ai",coinId:"fetch-ai"},{symbol:"SUI",name:"Sui",coinId:"sui"},{symbol:"SEI",name:"Sei",coinId:"sei-network"}];function jwe({isOpen:t,onClose:e,visibleCards:n,onToggleCard:r}){const{prices:i}=Ni();if(!t)return null;const s=a=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a);return o.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),o.jsxs("div",{className:"relative w-full max-w-md bg-[#1c1c1e] rounded-t-3xl sm:rounded-3xl shadow-2xl max-h-[85vh] flex flex-col animate-slide-up",children:[o.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl font-bold text-white",children:"Gerenciar Criptomoedas"}),o.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors",children:o.jsx(qr,{className:"w-5 h-5 text-white/70"})})]}),o.jsx("div",{className:"px-6 py-3 bg-white/5",children:o.jsx("p",{className:"text-sm text-white/50",children:"Selecione as criptomoedas para exibir na tela inicial"})}),o.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:o.jsx("div",{className:"space-y-2",children:Iwe.map(a=>{const l=n.includes(a.symbol),c=i[a.coinId]?.usd||0,d=i[a.coinId]?.usd_24h_change||0;return o.jsxs("button",{onClick:()=>r(a.symbol),className:`w-full rounded-2xl p-4 flex items-center justify-between transition-all border ${l?"bg-white/10 border-white/20":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:a.symbol,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-base font-bold text-white",children:a.name}),o.jsx("p",{className:"text-sm text-white/50",children:a.symbol})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm font-semibold text-white",children:s(c)}),o.jsxs("div",{className:`text-xs ${d>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[d>=0?"+":"",d.toFixed(2).replace(".",","),"%"]})]}),o.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-all ${l?"bg-green-500":"bg-white/10 border border-white/20"}`,children:l?o.jsx(wn,{className:"w-4 h-4 text-white"}):o.jsx(Gl,{className:"w-4 h-4 text-white/50"})})]})]},a.symbol)})})}),o.jsx("div",{className:"px-6 py-4 border-t border-white/10",children:o.jsx("button",{onClick:e,className:"w-full py-3.5 rounded-full bg-blue-500 hover:bg-blue-600 text-white font-semibold transition-colors",children:"Concluir"})})]})]})}function T7(t,e,n={}){const{maxRetries:r=3,retryDelay:i=1e3,onError:s}=n;let a=0,l=null,c=!1;const d=()=>{if(!c)try{l=ei(t,f=>{a=0,e(f)},f=>{if(console.error(" Erro no listener Firestore:",f),s&&s(f),f.code==="permission-denied"){console.error(" Erro de permisso - no ser feito retry");return}if(a<r&&!c){a++;const m=i*Math.pow(2,a-1);console.log(` Tentando reconectar (${a}/${r}) em ${m}ms...`),setTimeout(()=>{c||d()},m)}else console.error(" Mximo de tentativas de reconexo atingido")})}catch(f){console.error(" Erro ao configurar listener:",f)}};return d(),()=>{if(c=!0,l)try{l()}catch(f){console.error(" Erro ao desinscrever listener:",f)}}}function $g(){const{user:t}=Vt(),[e,n]=N.useState([]),[r,i]=N.useState(!0),[s,a]=N.useState(!1);N.useEffect(()=>{if(!t?.uid){i(!1),n([]),a(!1);return}console.log(" Iniciando listener de saldos fiat para userId:",t.uid);const d=it(we,"users",t.uid,"fiatBalances"),f=Dt(d),m=T7(f,p=>{console.log(" Snapshot de saldos fiat recebido - Total:",p.size);const y=[];p.forEach(x=>{const b=x.data();y.push({currency:b.currency||x.id,balance:b.balance||0,updatedAt:b.updatedAt?.toDate()||new Date})}),n(y),i(!1),a(!1),console.log(" Saldos fiat carregados:",y)},{maxRetries:3,retryDelay:1e3,onError:p=>{console.error(" Erro no listener de saldos fiat:",p),p.code==="permission-denied"&&(console.warn(" ERRO DE PERMISSO: Configure as regras do Firestore!"),a(!0)),i(!1)}});return()=>{console.log(" Cancelando listener de saldos fiat"),m()}},[t?.uid]);const l=d=>e.find(m=>m.currency===d)?.balance||0;return{balances:e,isLoading:r,hasPermissionError:s,getBalance:l,hasEnoughBalance:(d,f)=>l(d)>=f}}function _a({value:t,symbol:e,className:n="text-xl font-light",showSymbol:r=!0,decimalScale:i=.65}){const a=(typeof t=="number"?t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):t).split(","),l=a[0],c=a[1]||"00";return o.jsxs("span",{className:n,children:[r&&e&&`${e} `,l,o.jsxs("span",{style:{fontSize:`${i}em`},children:[",",c]})]})}var ZN={},eC={},Fm={},tC={},PL;function kwe(){return PL||(PL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(tC)),tC}var nC,AL;function Rwe(){if(AL)return nC;AL=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c=typeof nv=="object"&&nv&&nv.Object===Object&&nv,d=typeof self=="object"&&self&&self.Object===Object&&self,f=c||d||Function("return this")(),m=Object.prototype,p=m.toString,y=Math.max,x=Math.min,b=function(){return f.Date.now()};function _(I,P,C){var E,A,j,V,B,F,U=0,X=!1,J=!1,O=!0;if(typeof I!="function")throw new TypeError(t);P=z(P)||0,S(C)&&(X=!!C.leading,J="maxWait"in C,j=J?y(z(C.maxWait)||0,P):j,O="trailing"in C?!!C.trailing:O);function K(ne){var be=E,se=A;return E=A=void 0,U=ne,V=I.apply(se,be),V}function H(ne){return U=ne,B=setTimeout(G,P),X?K(ne):V}function k(ne){var be=ne-F,se=ne-U,ve=P-be;return J?x(ve,j-se):ve}function $(ne){var be=ne-F,se=ne-U;return F===void 0||be>=P||be<0||J&&se>=j}function G(){var ne=b();if($(ne))return Z(ne);B=setTimeout(G,k(ne))}function Z(ne){return B=void 0,O&&E?K(ne):(E=A=void 0,V)}function Y(){B!==void 0&&clearTimeout(B),U=0,E=F=A=B=void 0}function te(){return B===void 0?V:Z(b())}function ie(){var ne=b(),be=$(ne);if(E=arguments,A=this,F=ne,be){if(B===void 0)return H(F);if(J)return B=setTimeout(G,P),K(F)}return B===void 0&&(B=setTimeout(G,P)),V}return ie.cancel=Y,ie.flush=te,ie}function S(I){var P=typeof I;return!!I&&(P=="object"||P=="function")}function R(I){return!!I&&typeof I=="object"}function D(I){return typeof I=="symbol"||R(I)&&p.call(I)==n}function z(I){if(typeof I=="number")return I;if(D(I))return e;if(S(I)){var P=typeof I.valueOf=="function"?I.valueOf():I;I=S(P)?P+"":P}if(typeof I!="string")return I===0?I:+I;I=I.replace(r,"");var C=s.test(I);return C||a.test(I)?l(I.slice(2),C?2:8):i.test(I)?e:+I}return nC=_,nC}var rC={exports:{}};var IL;function xw(){return IL||(IL=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var l=arguments[a];l&&(s=i(s,r(l)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var l in s)e.call(s,l)&&s[l]&&(a=i(a,l));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(rC)),rC.exports}var Oe={},iC={},jL;function P7(){return jL||(jL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(ni());function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(iC)),iC}var kL;function qg(){if(kL)return Oe;kL=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.checkSpecKeys=Oe.checkNavigable=Oe.changeSlide=Oe.canUseDOM=Oe.canGoNext=void 0,Oe.clamp=d,Oe.extractObject=void 0,Oe.filterSettings=K,Oe.validSettings=Oe.swipeStart=Oe.swipeMove=Oe.swipeEnd=Oe.slidesOnRight=Oe.slidesOnLeft=Oe.slideHandler=Oe.siblingDirection=Oe.safePreventDefault=Oe.lazyStartIndex=Oe.lazySlidesOnRight=Oe.lazySlidesOnLeft=Oe.lazyEndIndex=Oe.keyHandler=Oe.initializedState=Oe.getWidth=Oe.getTrackLeft=Oe.getTrackCSS=Oe.getTrackAnimateCSS=Oe.getTotalSlides=Oe.getSwipeDirection=Oe.getSlideCount=Oe.getRequiredLazySlides=Oe.getPreClones=Oe.getPostClones=Oe.getOnDemandLazySlides=Oe.getNavigableIndexes=Oe.getHeight=void 0;var t=n(ni()),e=n(P7());function n(H){return H&&H.__esModule?H:{default:H}}function r(H){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},r(H)}function i(H,k){var $=Object.keys(H);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(H);k&&(G=G.filter(function(Z){return Object.getOwnPropertyDescriptor(H,Z).enumerable})),$.push.apply($,G)}return $}function s(H){for(var k=1;k<arguments.length;k++){var $=arguments[k]!=null?arguments[k]:{};k%2?i(Object($),!0).forEach(function(G){a(H,G,$[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors($)):i(Object($)).forEach(function(G){Object.defineProperty(H,G,Object.getOwnPropertyDescriptor($,G))})}return H}function a(H,k,$){return(k=l(k))in H?Object.defineProperty(H,k,{value:$,enumerable:!0,configurable:!0,writable:!0}):H[k]=$,H}function l(H){var k=c(H,"string");return r(k)=="symbol"?k:k+""}function c(H,k){if(r(H)!="object"||!H)return H;var $=H[Symbol.toPrimitive];if($!==void 0){var G=$.call(H,k);if(r(G)!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(H)}function d(H,k,$){return Math.max(k,Math.min(H,$))}var f=Oe.safePreventDefault=function(k){var $=["onTouchStart","onTouchMove","onWheel"];$.includes(k._reactName)||k.preventDefault()},m=Oe.getOnDemandLazySlides=function(k){for(var $=[],G=p(k),Z=y(k),Y=G;Y<Z;Y++)k.lazyLoadedList.indexOf(Y)<0&&$.push(Y);return $};Oe.getRequiredLazySlides=function(k){for(var $=[],G=p(k),Z=y(k),Y=G;Y<Z;Y++)$.push(Y);return $};var p=Oe.lazyStartIndex=function(k){return k.currentSlide-x(k)},y=Oe.lazyEndIndex=function(k){return k.currentSlide+b(k)},x=Oe.lazySlidesOnLeft=function(k){return k.centerMode?Math.floor(k.slidesToShow/2)+(parseInt(k.centerPadding)>0?1:0):0},b=Oe.lazySlidesOnRight=function(k){return k.centerMode?Math.floor((k.slidesToShow-1)/2)+1+(parseInt(k.centerPadding)>0?1:0):k.slidesToShow},_=Oe.getWidth=function(k){return k&&k.offsetWidth||0},S=Oe.getHeight=function(k){return k&&k.offsetHeight||0},R=Oe.getSwipeDirection=function(k){var $=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,G,Z,Y,te;return G=k.startX-k.curX,Z=k.startY-k.curY,Y=Math.atan2(Z,G),te=Math.round(Y*180/Math.PI),te<0&&(te=360-Math.abs(te)),te<=45&&te>=0||te<=360&&te>=315?"left":te>=135&&te<=225?"right":$===!0?te>=35&&te<=135?"up":"down":"vertical"},D=Oe.canGoNext=function(k){var $=!0;return k.infinite||(k.centerMode&&k.currentSlide>=k.slideCount-1||k.slideCount<=k.slidesToShow||k.currentSlide>=k.slideCount-k.slidesToShow)&&($=!1),$};Oe.extractObject=function(k,$){var G={};return $.forEach(function(Z){return G[Z]=k[Z]}),G},Oe.initializedState=function(k){var $=t.default.Children.count(k.children),G=k.listRef,Z=Math.ceil(_(G)),Y=k.trackRef&&k.trackRef.node,te=Math.ceil(_(Y)),ie;if(k.vertical)ie=Z;else{var ne=k.centerMode&&parseInt(k.centerPadding)*2;typeof k.centerPadding=="string"&&k.centerPadding.slice(-1)==="%"&&(ne*=Z/100),ie=Math.ceil((Z-ne)/k.slidesToShow)}var be=G&&S(G.querySelector('[data-index="0"]')),se=be*k.slidesToShow,ve=k.currentSlide===void 0?k.initialSlide:k.currentSlide;k.rtl&&k.currentSlide===void 0&&(ve=$-1-k.initialSlide);var Pe=k.lazyLoadedList||[],fe=m(s(s({},k),{},{currentSlide:ve,lazyLoadedList:Pe}));Pe=Pe.concat(fe);var Ae={slideCount:$,slideWidth:ie,listWidth:Z,trackWidth:te,currentSlide:ve,slideHeight:be,listHeight:se,lazyLoadedList:Pe};return k.autoplaying===null&&k.autoplay&&(Ae.autoplaying="playing"),Ae},Oe.slideHandler=function(k){var $=k.waitForAnimate,G=k.animating,Z=k.fade,Y=k.infinite,te=k.index,ie=k.slideCount,ne=k.lazyLoad,be=k.currentSlide,se=k.centerMode,ve=k.slidesToScroll,Pe=k.slidesToShow,fe=k.useCSS,Ae=k.lazyLoadedList;if($&&G)return{};var De=te,Ze,ct,Be,yt={},dt={},oe=Y?te:d(te,0,ie-1);if(Z){if(!Y&&(te<0||te>=ie))return{};te<0?De=te+ie:te>=ie&&(De=te-ie),ne&&Ae.indexOf(De)<0&&(Ae=Ae.concat(De)),yt={animating:!0,currentSlide:De,lazyLoadedList:Ae,targetSlide:De},dt={animating:!1,targetSlide:De}}else Ze=De,De<0?(Ze=De+ie,Y?ie%ve!==0&&(Ze=ie-ie%ve):Ze=0):!D(k)&&De>be?De=Ze=be:se&&De>=ie?(De=Y?ie:ie-1,Ze=Y?0:ie-1):De>=ie&&(Ze=De-ie,Y?ie%ve!==0&&(Ze=0):Ze=ie-Pe),!Y&&De+Pe>=ie&&(Ze=ie-Pe),ct=j(s(s({},k),{},{slideIndex:De})),Be=j(s(s({},k),{},{slideIndex:Ze})),Y||(ct===Be&&(De=Ze),ct=Be),ne&&(Ae=Ae.concat(m(s(s({},k),{},{currentSlide:De})))),fe?(yt={animating:!0,currentSlide:Ze,trackStyle:A(s(s({},k),{},{left:ct})),lazyLoadedList:Ae,targetSlide:oe},dt={animating:!1,currentSlide:Ze,trackStyle:E(s(s({},k),{},{left:Be})),swipeLeft:null,targetSlide:oe}):yt={currentSlide:Ze,trackStyle:E(s(s({},k),{},{left:Be})),lazyLoadedList:Ae,targetSlide:oe};return{state:yt,nextState:dt}},Oe.changeSlide=function(k,$){var G,Z,Y,te,ie,ne=k.slidesToScroll,be=k.slidesToShow,se=k.slideCount,ve=k.currentSlide,Pe=k.targetSlide,fe=k.lazyLoad,Ae=k.infinite;if(te=se%ne!==0,G=te?0:(se-ve)%ne,$.message==="previous")Y=G===0?ne:be-G,ie=ve-Y,fe&&!Ae&&(Z=ve-Y,ie=Z===-1?se-1:Z),Ae||(ie=Pe-ne);else if($.message==="next")Y=G===0?ne:G,ie=ve+Y,fe&&!Ae&&(ie=(ve+ne)%se+G),Ae||(ie=Pe+ne);else if($.message==="dots")ie=$.index*$.slidesToScroll;else if($.message==="children"){if(ie=$.index,Ae){var De=U(s(s({},k),{},{targetSlide:ie}));ie>$.currentSlide&&De==="left"?ie=ie-se:ie<$.currentSlide&&De==="right"&&(ie=ie+se)}}else $.message==="index"&&(ie=Number($.index));return ie},Oe.keyHandler=function(k,$,G){return k.target.tagName.match("TEXTAREA|INPUT|SELECT")||!$?"":k.keyCode===37?G?"next":"previous":k.keyCode===39?G?"previous":"next":""},Oe.swipeStart=function(k,$,G){return k.target.tagName==="IMG"&&f(k),!$||!G&&k.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:k.touches?k.touches[0].pageX:k.clientX,startY:k.touches?k.touches[0].pageY:k.clientY,curX:k.touches?k.touches[0].pageX:k.clientX,curY:k.touches?k.touches[0].pageY:k.clientY}}},Oe.swipeMove=function(k,$){var G=$.scrolling,Z=$.animating,Y=$.vertical,te=$.swipeToSlide,ie=$.verticalSwiping,ne=$.rtl,be=$.currentSlide,se=$.edgeFriction,ve=$.edgeDragged,Pe=$.onEdge,fe=$.swiped,Ae=$.swiping,De=$.slideCount,Ze=$.slidesToScroll,ct=$.infinite,Be=$.touchObject,yt=$.swipeEvent,dt=$.listHeight,oe=$.listWidth;if(!G){if(Z)return f(k);Y&&te&&ie&&f(k);var Ee,Xe={},de=j($);Be.curX=k.touches?k.touches[0].pageX:k.clientX,Be.curY=k.touches?k.touches[0].pageY:k.clientY,Be.swipeLength=Math.round(Math.sqrt(Math.pow(Be.curX-Be.startX,2)));var Ke=Math.round(Math.sqrt(Math.pow(Be.curY-Be.startY,2)));if(!ie&&!Ae&&Ke>10)return{scrolling:!0};ie&&(Be.swipeLength=Ke);var ft=(ne?-1:1)*(Be.curX>Be.startX?1:-1);ie&&(ft=Be.curY>Be.startY?1:-1);var st=Math.ceil(De/Ze),at=R($.touchObject,ie),kt=Be.swipeLength;return ct||(be===0&&(at==="right"||at==="down")||be+1>=st&&(at==="left"||at==="up")||!D($)&&(at==="left"||at==="up"))&&(kt=Be.swipeLength*se,ve===!1&&Pe&&(Pe(at),Xe.edgeDragged=!0)),!fe&&yt&&(yt(at),Xe.swiped=!0),Y?Ee=de+kt*(dt/oe)*ft:ne?Ee=de-kt*ft:Ee=de+kt*ft,ie&&(Ee=de+kt*ft),Xe=s(s({},Xe),{},{touchObject:Be,swipeLeft:Ee,trackStyle:E(s(s({},$),{},{left:Ee}))}),Math.abs(Be.curX-Be.startX)<Math.abs(Be.curY-Be.startY)*.8||Be.swipeLength>10&&(Xe.swiping=!0,f(k)),Xe}},Oe.swipeEnd=function(k,$){var G=$.dragging,Z=$.swipe,Y=$.touchObject,te=$.listWidth,ie=$.touchThreshold,ne=$.verticalSwiping,be=$.listHeight,se=$.swipeToSlide,ve=$.scrolling,Pe=$.onSwipe,fe=$.targetSlide,Ae=$.currentSlide,De=$.infinite;if(!G)return Z&&f(k),{};var Ze=ne?be/ie:te/ie,ct=R(Y,ne),Be={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(ve||!Y.swipeLength)return Be;if(Y.swipeLength>Ze){f(k),Pe&&Pe(ct);var yt,dt,oe=De?Ae:fe;switch(ct){case"left":case"up":dt=oe+P($),yt=se?I($,dt):dt,Be.currentDirection=0;break;case"right":case"down":dt=oe-P($),yt=se?I($,dt):dt,Be.currentDirection=1;break;default:yt=oe}Be.triggerSlideHandler=yt}else{var Ee=j($);Be.trackStyle=A(s(s({},$),{},{left:Ee}))}return Be};var z=Oe.getNavigableIndexes=function(k){for(var $=k.infinite?k.slideCount*2:k.slideCount,G=k.infinite?k.slidesToShow*-1:0,Z=k.infinite?k.slidesToShow*-1:0,Y=[];G<$;)Y.push(G),G=Z+k.slidesToScroll,Z+=Math.min(k.slidesToScroll,k.slidesToShow);return Y},I=Oe.checkNavigable=function(k,$){var G=z(k),Z=0;if($>G[G.length-1])$=G[G.length-1];else for(var Y in G){if($<G[Y]){$=Z;break}Z=G[Y]}return $},P=Oe.getSlideCount=function(k){var $=k.centerMode?k.slideWidth*Math.floor(k.slidesToShow/2):0;if(k.swipeToSlide){var G,Z=k.listRef,Y=Z.querySelectorAll&&Z.querySelectorAll(".slick-slide")||[];if(Array.from(Y).every(function(ne){if(k.vertical){if(ne.offsetTop+S(ne)/2>k.swipeLeft*-1)return G=ne,!1}else if(ne.offsetLeft-$+_(ne)/2>k.swipeLeft*-1)return G=ne,!1;return!0}),!G)return 0;var te=k.rtl===!0?k.slideCount-k.currentSlide:k.currentSlide,ie=Math.abs(G.dataset.index-te)||1;return ie}else return k.slidesToScroll},C=Oe.checkSpecKeys=function(k,$){return $.reduce(function(G,Z){return G&&k.hasOwnProperty(Z)},!0)?null:console.error("Keys Missing:",k)},E=Oe.getTrackCSS=function(k){C(k,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var $,G;if(!k.vertical)$=F(k)*k.slideWidth;else{var Z=k.unslick?k.slideCount:k.slideCount+2*k.slidesToShow;G=Z*k.slideHeight}var Y={opacity:1,transition:"",WebkitTransition:""};if(k.useTransform){var te=k.vertical?"translate3d(0px, "+k.left+"px, 0px)":"translate3d("+k.left+"px, 0px, 0px)",ie=k.vertical?"translate3d(0px, "+k.left+"px, 0px)":"translate3d("+k.left+"px, 0px, 0px)",ne=k.vertical?"translateY("+k.left+"px)":"translateX("+k.left+"px)";Y=s(s({},Y),{},{WebkitTransform:te,transform:ie,msTransform:ne})}else k.vertical?Y.top=k.left:Y.left=k.left;return k.fade&&(Y={opacity:1}),$&&(Y.width=$),G&&(Y.height=G),window&&!window.addEventListener&&window.attachEvent&&(k.vertical?Y.marginTop=k.left+"px":Y.marginLeft=k.left+"px"),Y},A=Oe.getTrackAnimateCSS=function(k){C(k,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var $=E(k);return k.useTransform?($.WebkitTransition="-webkit-transform "+k.speed+"ms "+k.cssEase,$.transition="transform "+k.speed+"ms "+k.cssEase):k.vertical?$.transition="top "+k.speed+"ms "+k.cssEase:$.transition="left "+k.speed+"ms "+k.cssEase,$},j=Oe.getTrackLeft=function(k){if(k.unslick)return 0;C(k,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var $=k.slideIndex,G=k.trackRef,Z=k.infinite,Y=k.centerMode,te=k.slideCount,ie=k.slidesToShow,ne=k.slidesToScroll,be=k.slideWidth,se=k.listWidth,ve=k.variableWidth,Pe=k.slideHeight,fe=k.fade,Ae=k.vertical,De=0,Ze,ct,Be=0;if(fe||k.slideCount===1)return 0;var yt=0;if(Z?(yt=-V(k),te%ne!==0&&$+ne>te&&(yt=-($>te?ie-($-te):te%ne)),Y&&(yt+=parseInt(ie/2))):(te%ne!==0&&$+ne>te&&(yt=ie-te%ne),Y&&(yt=parseInt(ie/2))),De=yt*be,Be=yt*Pe,Ae?Ze=$*Pe*-1+Be:Ze=$*be*-1+De,ve===!0){var dt,oe=G&&G.node;if(dt=$+V(k),ct=oe&&oe.childNodes[dt],Ze=ct?ct.offsetLeft*-1:0,Y===!0){dt=Z?$+V(k):$,ct=oe&&oe.children[dt],Ze=0;for(var Ee=0;Ee<dt;Ee++)Ze-=oe&&oe.children[Ee]&&oe.children[Ee].offsetWidth;Ze-=parseInt(k.centerPadding),Ze+=ct&&(se-ct.offsetWidth)/2}}return Ze},V=Oe.getPreClones=function(k){return k.unslick||!k.infinite?0:k.variableWidth?k.slideCount:k.slidesToShow+(k.centerMode?1:0)},B=Oe.getPostClones=function(k){return k.unslick||!k.infinite?0:k.variableWidth?k.slideCount:k.slidesToShow+(k.centerMode?1:0)},F=Oe.getTotalSlides=function(k){return k.slideCount===1?1:V(k)+k.slideCount+B(k)},U=Oe.siblingDirection=function(k){return k.targetSlide>k.currentSlide?k.targetSlide>k.currentSlide+X(k)?"left":"right":k.targetSlide<k.currentSlide-J(k)?"right":"left"},X=Oe.slidesOnRight=function(k){var $=k.slidesToShow,G=k.centerMode,Z=k.rtl,Y=k.centerPadding;if(G){var te=($-1)/2+1;return parseInt(Y)>0&&(te+=1),Z&&$%2===0&&(te+=1),te}return Z?0:$-1},J=Oe.slidesOnLeft=function(k){var $=k.slidesToShow,G=k.centerMode,Z=k.rtl,Y=k.centerPadding;if(G){var te=($-1)/2+1;return parseInt(Y)>0&&(te+=1),!Z&&$%2===0&&(te+=1),te}return Z?$-1:0};Oe.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var O=Oe.validSettings=Object.keys(e.default);function K(H){return O.reduce(function(k,$){return H.hasOwnProperty($)&&(k[$]=H[$]),k},{})}return Oe}var Bm={},RL;function Dwe(){if(RL)return Bm;RL=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.Track=void 0;var t=r(ni()),e=r(xw()),n=qg();function r(A){return A&&A.__esModule?A:{default:A}}function i(A){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},i(A)}function s(){return s=Object.assign?Object.assign.bind():function(A){for(var j=1;j<arguments.length;j++){var V=arguments[j];for(var B in V)({}).hasOwnProperty.call(V,B)&&(A[B]=V[B])}return A},s.apply(null,arguments)}function a(A,j){if(!(A instanceof j))throw new TypeError("Cannot call a class as a function")}function l(A,j){for(var V=0;V<j.length;V++){var B=j[V];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(A,D(B.key),B)}}function c(A,j,V){return j&&l(A.prototype,j),Object.defineProperty(A,"prototype",{writable:!1}),A}function d(A,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(j&&j.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),j&&f(A,j)}function f(A,j){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(V,B){return V.__proto__=B,V},f(A,j)}function m(A){var j=x();return function(){var V,B=b(A);if(j){var F=b(this).constructor;V=Reflect.construct(B,arguments,F)}else V=B.apply(this,arguments);return p(this,V)}}function p(A,j){if(j&&(i(j)=="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(A)}function y(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function x(){try{var A=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x=function(){return!!A})()}function b(A){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(j){return j.__proto__||Object.getPrototypeOf(j)},b(A)}function _(A,j){var V=Object.keys(A);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(A);j&&(B=B.filter(function(F){return Object.getOwnPropertyDescriptor(A,F).enumerable})),V.push.apply(V,B)}return V}function S(A){for(var j=1;j<arguments.length;j++){var V=arguments[j]!=null?arguments[j]:{};j%2?_(Object(V),!0).forEach(function(B){R(A,B,V[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(V)):_(Object(V)).forEach(function(B){Object.defineProperty(A,B,Object.getOwnPropertyDescriptor(V,B))})}return A}function R(A,j,V){return(j=D(j))in A?Object.defineProperty(A,j,{value:V,enumerable:!0,configurable:!0,writable:!0}):A[j]=V,A}function D(A){var j=z(A,"string");return i(j)=="symbol"?j:j+""}function z(A,j){if(i(A)!="object"||!A)return A;var V=A[Symbol.toPrimitive];if(V!==void 0){var B=V.call(A,j);if(i(B)!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(A)}var I=function(j){var V,B,F,U,X;j.rtl?X=j.slideCount-1-j.index:X=j.index,F=X<0||X>=j.slideCount,j.centerMode?(U=Math.floor(j.slidesToShow/2),B=(X-j.currentSlide)%j.slideCount===0,X>j.currentSlide-U-1&&X<=j.currentSlide+U&&(V=!0)):V=j.currentSlide<=X&&X<j.currentSlide+j.slidesToShow;var J;j.targetSlide<0?J=j.targetSlide+j.slideCount:j.targetSlide>=j.slideCount?J=j.targetSlide-j.slideCount:J=j.targetSlide;var O=X===J;return{"slick-slide":!0,"slick-active":V,"slick-center":B,"slick-cloned":F,"slick-current":O}},P=function(j){var V={};return(j.variableWidth===void 0||j.variableWidth===!1)&&(V.width=j.slideWidth),j.fade&&(V.position="relative",j.vertical?V.top=-j.index*parseInt(j.slideHeight):V.left=-j.index*parseInt(j.slideWidth),V.opacity=j.currentSlide===j.index?1:0,V.zIndex=j.currentSlide===j.index?999:998,j.useCSS&&(V.transition="opacity "+j.speed+"ms "+j.cssEase+", visibility "+j.speed+"ms "+j.cssEase)),V},C=function(j,V){return j.key||V},E=function(j){var V,B=[],F=[],U=[],X=t.default.Children.count(j.children),J=(0,n.lazyStartIndex)(j),O=(0,n.lazyEndIndex)(j);return t.default.Children.forEach(j.children,function(K,H){var k,$={message:"children",index:H,slidesToScroll:j.slidesToScroll,currentSlide:j.currentSlide};!j.lazyLoad||j.lazyLoad&&j.lazyLoadedList.indexOf(H)>=0?k=K:k=t.default.createElement("div",null);var G=P(S(S({},j),{},{index:H})),Z=k.props.className||"",Y=I(S(S({},j),{},{index:H}));if(B.push(t.default.cloneElement(k,{key:"original"+C(k,H),"data-index":H,className:(0,e.default)(Y,Z),tabIndex:"-1","aria-hidden":!Y["slick-active"],style:S(S({outline:"none"},k.props.style||{}),G),onClick:function(ne){k.props&&k.props.onClick&&k.props.onClick(ne),j.focusOnSelect&&j.focusOnSelect($)}})),j.infinite&&X>1&&j.fade===!1&&!j.unslick){var te=X-H;te<=(0,n.getPreClones)(j)&&(V=-te,V>=J&&(k=K),Y=I(S(S({},j),{},{index:V})),F.push(t.default.cloneElement(k,{key:"precloned"+C(k,V),"data-index":V,tabIndex:"-1",className:(0,e.default)(Y,Z),"aria-hidden":!Y["slick-active"],style:S(S({},k.props.style||{}),G),onClick:function(ne){k.props&&k.props.onClick&&k.props.onClick(ne),j.focusOnSelect&&j.focusOnSelect($)}}))),H<(0,n.getPostClones)(j)&&(V=X+H,V<O&&(k=K),Y=I(S(S({},j),{},{index:V})),U.push(t.default.cloneElement(k,{key:"postcloned"+C(k,V),"data-index":V,tabIndex:"-1",className:(0,e.default)(Y,Z),"aria-hidden":!Y["slick-active"],style:S(S({},k.props.style||{}),G),onClick:function(ne){k.props&&k.props.onClick&&k.props.onClick(ne),j.focusOnSelect&&j.focusOnSelect($)}})))}}),j.rtl?F.concat(B,U).reverse():F.concat(B,U)};return Bm.Track=(function(A){d(V,A);var j=m(V);function V(){var B;a(this,V);for(var F=arguments.length,U=new Array(F),X=0;X<F;X++)U[X]=arguments[X];return B=j.call.apply(j,[this].concat(U)),R(y(B),"node",null),R(y(B),"handleRef",function(J){B.node=J}),B}return c(V,[{key:"render",value:function(){var F=E(this.props),U=this.props,X=U.onMouseEnter,J=U.onMouseOver,O=U.onMouseLeave,K={onMouseEnter:X,onMouseOver:J,onMouseLeave:O};return t.default.createElement("div",s({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},K),F)}}]),V})(t.default.PureComponent),Bm}var zm={},DL;function Owe(){if(DL)return zm;DL=1;function t(I){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},t(I)}Object.defineProperty(zm,"__esModule",{value:!0}),zm.Dots=void 0;var e=i(ni()),n=i(xw()),r=qg();function i(I){return I&&I.__esModule?I:{default:I}}function s(I,P){var C=Object.keys(I);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(I);P&&(E=E.filter(function(A){return Object.getOwnPropertyDescriptor(I,A).enumerable})),C.push.apply(C,E)}return C}function a(I){for(var P=1;P<arguments.length;P++){var C=arguments[P]!=null?arguments[P]:{};P%2?s(Object(C),!0).forEach(function(E){l(I,E,C[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(C)):s(Object(C)).forEach(function(E){Object.defineProperty(I,E,Object.getOwnPropertyDescriptor(C,E))})}return I}function l(I,P,C){return(P=m(P))in I?Object.defineProperty(I,P,{value:C,enumerable:!0,configurable:!0,writable:!0}):I[P]=C,I}function c(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function d(I,P){for(var C=0;C<P.length;C++){var E=P[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(I,m(E.key),E)}}function f(I,P,C){return P&&d(I.prototype,P),Object.defineProperty(I,"prototype",{writable:!1}),I}function m(I){var P=p(I,"string");return t(P)=="symbol"?P:P+""}function p(I,P){if(t(I)!="object"||!I)return I;var C=I[Symbol.toPrimitive];if(C!==void 0){var E=C.call(I,P);if(t(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}function y(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),P&&x(I,P)}function x(I,P){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,E){return C.__proto__=E,C},x(I,P)}function b(I){var P=R();return function(){var C,E=D(I);if(P){var A=D(this).constructor;C=Reflect.construct(E,arguments,A)}else C=E.apply(this,arguments);return _(this,C)}}function _(I,P){if(P&&(t(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(I)}function S(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function R(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!I})()}function D(I){return D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},D(I)}var z=function(P){var C;return P.infinite?C=Math.ceil(P.slideCount/P.slidesToScroll):C=Math.ceil((P.slideCount-P.slidesToShow)/P.slidesToScroll)+1,C};return zm.Dots=(function(I){y(C,I);var P=b(C);function C(){return c(this,C),P.apply(this,arguments)}return f(C,[{key:"clickHandler",value:function(A,j){j.preventDefault(),this.props.clickHandler(A)}},{key:"render",value:function(){for(var A=this.props,j=A.onMouseEnter,V=A.onMouseOver,B=A.onMouseLeave,F=A.infinite,U=A.slidesToScroll,X=A.slidesToShow,J=A.slideCount,O=A.currentSlide,K=z({slideCount:J,slidesToScroll:U,slidesToShow:X,infinite:F}),H={onMouseEnter:j,onMouseOver:V,onMouseLeave:B},k=[],$=0;$<K;$++){var G=($+1)*U-1,Z=F?G:(0,r.clamp)(G,0,J-1),Y=Z-(U-1),te=F?Y:(0,r.clamp)(Y,0,J-1),ie=(0,n.default)({"slick-active":F?O>=te&&O<=Z:O===te}),ne={message:"dots",index:$,slidesToScroll:U,currentSlide:O},be=this.clickHandler.bind(this,ne);k=k.concat(e.default.createElement("li",{key:$,className:ie},e.default.cloneElement(this.props.customPaging($),{onClick:be})))}return e.default.cloneElement(this.props.appendDots(k),a({className:this.props.dotsClass},H))}}]),C})(e.default.PureComponent),zm}var Kc={},OL;function Mwe(){if(OL)return Kc;OL=1;function t(I){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},t(I)}Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.PrevArrow=Kc.NextArrow=void 0;var e=i(ni()),n=i(xw()),r=qg();function i(I){return I&&I.__esModule?I:{default:I}}function s(){return s=Object.assign?Object.assign.bind():function(I){for(var P=1;P<arguments.length;P++){var C=arguments[P];for(var E in C)({}).hasOwnProperty.call(C,E)&&(I[E]=C[E])}return I},s.apply(null,arguments)}function a(I,P){var C=Object.keys(I);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(I);P&&(E=E.filter(function(A){return Object.getOwnPropertyDescriptor(I,A).enumerable})),C.push.apply(C,E)}return C}function l(I){for(var P=1;P<arguments.length;P++){var C=arguments[P]!=null?arguments[P]:{};P%2?a(Object(C),!0).forEach(function(E){c(I,E,C[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(C)):a(Object(C)).forEach(function(E){Object.defineProperty(I,E,Object.getOwnPropertyDescriptor(C,E))})}return I}function c(I,P,C){return(P=p(P))in I?Object.defineProperty(I,P,{value:C,enumerable:!0,configurable:!0,writable:!0}):I[P]=C,I}function d(I,P){if(!(I instanceof P))throw new TypeError("Cannot call a class as a function")}function f(I,P){for(var C=0;C<P.length;C++){var E=P[C];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(I,p(E.key),E)}}function m(I,P,C){return P&&f(I.prototype,P),Object.defineProperty(I,"prototype",{writable:!1}),I}function p(I){var P=y(I,"string");return t(P)=="symbol"?P:P+""}function y(I,P){if(t(I)!="object"||!I)return I;var C=I[Symbol.toPrimitive];if(C!==void 0){var E=C.call(I,P);if(t(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}function x(I,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(P&&P.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),P&&b(I,P)}function b(I,P){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,E){return C.__proto__=E,C},b(I,P)}function _(I){var P=D();return function(){var C,E=z(I);if(P){var A=z(this).constructor;C=Reflect.construct(E,arguments,A)}else C=E.apply(this,arguments);return S(this,C)}}function S(I,P){if(P&&(t(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(I)}function R(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function D(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D=function(){return!!I})()}function z(I){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},z(I)}return Kc.PrevArrow=(function(I){x(C,I);var P=_(C);function C(){return d(this,C),P.apply(this,arguments)}return m(C,[{key:"clickHandler",value:function(A,j){j&&j.preventDefault(),this.props.clickHandler(A,j)}},{key:"render",value:function(){var A={"slick-arrow":!0,"slick-prev":!0},j=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(A["slick-disabled"]=!0,j=null);var V={key:"0","data-role":"none",className:(0,n.default)(A),style:{display:"block"},onClick:j},B={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},F;return this.props.prevArrow?F=e.default.cloneElement(this.props.prevArrow,l(l({},V),B)):F=e.default.createElement("button",s({key:"0",type:"button"},V)," ","Previous"),F}}]),C})(e.default.PureComponent),Kc.NextArrow=(function(I){x(C,I);var P=_(C);function C(){return d(this,C),P.apply(this,arguments)}return m(C,[{key:"clickHandler",value:function(A,j){j&&j.preventDefault(),this.props.clickHandler(A,j)}},{key:"render",value:function(){var A={"slick-arrow":!0,"slick-next":!0},j=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(A["slick-disabled"]=!0,j=null);var V={key:"1","data-role":"none",className:(0,n.default)(A),style:{display:"block"},onClick:j},B={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},F;return this.props.nextArrow?F=e.default.cloneElement(this.props.nextArrow,l(l({},V),B)):F=e.default.createElement("button",s({key:"1",type:"button"},V)," ","Next"),F}}]),C})(e.default.PureComponent),Kc}var A7=(function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var a=s[i];n.call(r,a[1],a[0])}},e})()})(),qS=typeof window<"u"&&typeof document<"u"&&window.document===document,Mx=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),Lwe=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Mx):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}})(),Vwe=2;function Fwe(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&l()}function a(){Lwe(s)}function l(){var c=Date.now();if(n){if(c-i<Vwe)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=c}return l}var Bwe=20,zwe=["top","right","bottom","left","width","height","size","weight"],Uwe=typeof MutationObserver<"u",$we=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Fwe(this.refresh.bind(this),Bwe)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!qS||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Uwe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!qS||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=zwe.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),I7=(function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t}),lh=(function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Mx}),j7=bw(0,0,0,0);function Lx(t){return parseFloat(t)||0}function ML(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+Lx(s)},0)}function qwe(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],a=t["padding-"+s];n[s]=Lx(a)}return n}function Hwe(t){var e=t.getBBox();return bw(0,0,e.width,e.height)}function Wwe(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return j7;var r=lh(t).getComputedStyle(t),i=qwe(r),s=i.left+i.right,a=i.top+i.bottom,l=Lx(r.width),c=Lx(r.height);if(r.boxSizing==="border-box"&&(Math.round(l+s)!==e&&(l-=ML(r,"left","right")+s),Math.round(c+a)!==n&&(c-=ML(r,"top","bottom")+a)),!Gwe(t)){var d=Math.round(l+s)-e,f=Math.round(c+a)-n;Math.abs(d)!==1&&(l-=d),Math.abs(f)!==1&&(c-=f)}return bw(i.left,i.top,l,c)}var Kwe=(function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof lh(t).SVGGraphicsElement}:function(t){return t instanceof lh(t).SVGElement&&typeof t.getBBox=="function"}})();function Gwe(t){return t===lh(t).document.documentElement}function Xwe(t){return qS?Kwe(t)?Hwe(t):Wwe(t):j7}function Ywe(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return I7(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function bw(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Qwe=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=bw(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Xwe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),Jwe=(function(){function t(e,n){var r=Ywe(n);I7(this,{target:e,contentRect:r})}return t})(),Zwe=(function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new A7,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof lh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Qwe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof lh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Jwe(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),k7=typeof WeakMap<"u"?new WeakMap:new A7,R7=(function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=$we.getInstance(),r=new Zwe(e,n,this);k7.set(this,r)}return t})();["observe","unobserve","disconnect"].forEach(function(t){R7.prototype[t]=function(){var e;return(e=k7.get(this))[t].apply(e,arguments)}});var e1e=(function(){return typeof Mx.ResizeObserver<"u"?Mx.ResizeObserver:R7})();const t1e=Object.freeze(Object.defineProperty({__proto__:null,default:e1e},Symbol.toStringTag,{value:"Module"})),n1e=YK(t1e);var LL;function r1e(){if(LL)return Fm;LL=1,Object.defineProperty(Fm,"__esModule",{value:!0}),Fm.InnerSlider=void 0;var t=d(ni()),e=d(kwe()),n=d(Rwe()),r=d(xw()),i=qg(),s=Dwe(),a=Owe(),l=Mwe(),c=d(n1e);function d(F){return F&&F.__esModule?F:{default:F}}function f(F){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},f(F)}function m(){return m=Object.assign?Object.assign.bind():function(F){for(var U=1;U<arguments.length;U++){var X=arguments[U];for(var J in X)({}).hasOwnProperty.call(X,J)&&(F[J]=X[J])}return F},m.apply(null,arguments)}function p(F,U){if(F==null)return{};var X,J,O=y(F,U);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(F);for(J=0;J<K.length;J++)X=K[J],U.includes(X)||{}.propertyIsEnumerable.call(F,X)&&(O[X]=F[X])}return O}function y(F,U){if(F==null)return{};var X={};for(var J in F)if({}.hasOwnProperty.call(F,J)){if(U.includes(J))continue;X[J]=F[J]}return X}function x(F,U){var X=Object.keys(F);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(F);U&&(J=J.filter(function(O){return Object.getOwnPropertyDescriptor(F,O).enumerable})),X.push.apply(X,J)}return X}function b(F){for(var U=1;U<arguments.length;U++){var X=arguments[U]!=null?arguments[U]:{};U%2?x(Object(X),!0).forEach(function(J){j(F,J,X[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(X)):x(Object(X)).forEach(function(J){Object.defineProperty(F,J,Object.getOwnPropertyDescriptor(X,J))})}return F}function _(F,U){if(!(F instanceof U))throw new TypeError("Cannot call a class as a function")}function S(F,U){for(var X=0;X<U.length;X++){var J=U[X];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(F,V(J.key),J)}}function R(F,U,X){return U&&S(F.prototype,U),Object.defineProperty(F,"prototype",{writable:!1}),F}function D(F,U){if(typeof U!="function"&&U!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(U&&U.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),U&&z(F,U)}function z(F,U){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(X,J){return X.__proto__=J,X},z(F,U)}function I(F){var U=E();return function(){var X,J=A(F);if(U){var O=A(this).constructor;X=Reflect.construct(J,arguments,O)}else X=J.apply(this,arguments);return P(this,X)}}function P(F,U){if(U&&(f(U)=="object"||typeof U=="function"))return U;if(U!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(F)}function C(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function E(){try{var F=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E=function(){return!!F})()}function A(F){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(U){return U.__proto__||Object.getPrototypeOf(U)},A(F)}function j(F,U,X){return(U=V(U))in F?Object.defineProperty(F,U,{value:X,enumerable:!0,configurable:!0,writable:!0}):F[U]=X,F}function V(F){var U=B(F,"string");return f(U)=="symbol"?U:U+""}function B(F,U){if(f(F)!="object"||!F)return F;var X=F[Symbol.toPrimitive];if(X!==void 0){var J=X.call(F,U);if(f(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(F)}return Fm.InnerSlider=(function(F){D(X,F);var U=I(X);function X(J){var O;_(this,X),O=U.call(this,J),j(C(O),"listRefHandler",function(H){return O.list=H}),j(C(O),"trackRefHandler",function(H){return O.track=H}),j(C(O),"adaptHeight",function(){if(O.props.adaptiveHeight&&O.list){var H=O.list.querySelector('[data-index="'.concat(O.state.currentSlide,'"]'));O.list.style.height=(0,i.getHeight)(H)+"px"}}),j(C(O),"componentDidMount",function(){if(O.props.onInit&&O.props.onInit(),O.props.lazyLoad){var H=(0,i.getOnDemandLazySlides)(b(b({},O.props),O.state));H.length>0&&(O.setState(function($){return{lazyLoadedList:$.lazyLoadedList.concat(H)}}),O.props.onLazyLoad&&O.props.onLazyLoad(H))}var k=b({listRef:O.list,trackRef:O.track},O.props);O.updateState(k,!0,function(){O.adaptHeight(),O.props.autoplay&&O.autoPlay("update")}),O.props.lazyLoad==="progressive"&&(O.lazyLoadTimer=setInterval(O.progressiveLazyLoad,1e3)),O.ro=new c.default(function(){O.state.animating?(O.onWindowResized(!1),O.callbackTimers.push(setTimeout(function(){return O.onWindowResized()},O.props.speed))):O.onWindowResized()}),O.ro.observe(O.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function($){$.onfocus=O.props.pauseOnFocus?O.onSlideFocus:null,$.onblur=O.props.pauseOnFocus?O.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",O.onWindowResized):window.attachEvent("onresize",O.onWindowResized)}),j(C(O),"componentWillUnmount",function(){O.animationEndCallback&&clearTimeout(O.animationEndCallback),O.lazyLoadTimer&&clearInterval(O.lazyLoadTimer),O.callbackTimers.length&&(O.callbackTimers.forEach(function(H){return clearTimeout(H)}),O.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",O.onWindowResized):window.detachEvent("onresize",O.onWindowResized),O.autoplayTimer&&clearInterval(O.autoplayTimer),O.ro.disconnect()}),j(C(O),"componentDidUpdate",function(H){if(O.checkImagesLoad(),O.props.onReInit&&O.props.onReInit(),O.props.lazyLoad){var k=(0,i.getOnDemandLazySlides)(b(b({},O.props),O.state));k.length>0&&(O.setState(function(Z){return{lazyLoadedList:Z.lazyLoadedList.concat(k)}}),O.props.onLazyLoad&&O.props.onLazyLoad(k))}O.adaptHeight();var $=b(b({listRef:O.list,trackRef:O.track},O.props),O.state),G=O.didPropsChange(H);G&&O.updateState($,G,function(){O.state.currentSlide>=t.default.Children.count(O.props.children)&&O.changeSlide({message:"index",index:t.default.Children.count(O.props.children)-O.props.slidesToShow,currentSlide:O.state.currentSlide}),O.props.autoplay?O.autoPlay("update"):O.pause("paused")})}),j(C(O),"onWindowResized",function(H){O.debouncedResize&&O.debouncedResize.cancel(),O.debouncedResize=(0,n.default)(function(){return O.resizeWindow(H)},50),O.debouncedResize()}),j(C(O),"resizeWindow",function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,k=!!(O.track&&O.track.node);if(k){var $=b(b({listRef:O.list,trackRef:O.track},O.props),O.state);O.updateState($,H,function(){O.props.autoplay?O.autoPlay("update"):O.pause("paused")}),O.setState({animating:!1}),clearTimeout(O.animationEndCallback),delete O.animationEndCallback}}),j(C(O),"updateState",function(H,k,$){var G=(0,i.initializedState)(H);H=b(b(b({},H),G),{},{slideIndex:G.currentSlide});var Z=(0,i.getTrackLeft)(H);H=b(b({},H),{},{left:Z});var Y=(0,i.getTrackCSS)(H);(k||t.default.Children.count(O.props.children)!==t.default.Children.count(H.children))&&(G.trackStyle=Y),O.setState(G,$)}),j(C(O),"ssrInit",function(){if(O.props.variableWidth){var H=0,k=0,$=[],G=(0,i.getPreClones)(b(b(b({},O.props),O.state),{},{slideCount:O.props.children.length})),Z=(0,i.getPostClones)(b(b(b({},O.props),O.state),{},{slideCount:O.props.children.length}));O.props.children.forEach(function(ct){$.push(ct.props.style.width),H+=ct.props.style.width});for(var Y=0;Y<G;Y++)k+=$[$.length-1-Y],H+=$[$.length-1-Y];for(var te=0;te<Z;te++)H+=$[te];for(var ie=0;ie<O.state.currentSlide;ie++)k+=$[ie];var ne={width:H+"px",left:-k+"px"};if(O.props.centerMode){var be="".concat($[O.state.currentSlide],"px");ne.left="calc(".concat(ne.left," + (100% - ").concat(be,") / 2 ) ")}return{trackStyle:ne}}var se=t.default.Children.count(O.props.children),ve=b(b(b({},O.props),O.state),{},{slideCount:se}),Pe=(0,i.getPreClones)(ve)+(0,i.getPostClones)(ve)+se,fe=100/O.props.slidesToShow*Pe,Ae=100/Pe,De=-Ae*((0,i.getPreClones)(ve)+O.state.currentSlide)*fe/100;O.props.centerMode&&(De+=(100-Ae*fe/100)/2);var Ze={width:fe+"%",left:De+"%"};return{slideWidth:Ae+"%",trackStyle:Ze}}),j(C(O),"checkImagesLoad",function(){var H=O.list&&O.list.querySelectorAll&&O.list.querySelectorAll(".slick-slide img")||[],k=H.length,$=0;Array.prototype.forEach.call(H,function(G){var Z=function(){return++$&&$>=k&&O.onWindowResized()};if(!G.onclick)G.onclick=function(){return G.parentNode.focus()};else{var Y=G.onclick;G.onclick=function(te){Y(te),G.parentNode.focus()}}G.onload||(O.props.lazyLoad?G.onload=function(){O.adaptHeight(),O.callbackTimers.push(setTimeout(O.onWindowResized,O.props.speed))}:(G.onload=Z,G.onerror=function(){Z(),O.props.onLazyLoadError&&O.props.onLazyLoadError()}))})}),j(C(O),"progressiveLazyLoad",function(){for(var H=[],k=b(b({},O.props),O.state),$=O.state.currentSlide;$<O.state.slideCount+(0,i.getPostClones)(k);$++)if(O.state.lazyLoadedList.indexOf($)<0){H.push($);break}for(var G=O.state.currentSlide-1;G>=-(0,i.getPreClones)(k);G--)if(O.state.lazyLoadedList.indexOf(G)<0){H.push(G);break}H.length>0?(O.setState(function(Z){return{lazyLoadedList:Z.lazyLoadedList.concat(H)}}),O.props.onLazyLoad&&O.props.onLazyLoad(H)):O.lazyLoadTimer&&(clearInterval(O.lazyLoadTimer),delete O.lazyLoadTimer)}),j(C(O),"slideHandler",function(H){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$=O.props,G=$.asNavFor,Z=$.beforeChange,Y=$.onLazyLoad,te=$.speed,ie=$.afterChange,ne=O.state.currentSlide,be=(0,i.slideHandler)(b(b(b({index:H},O.props),O.state),{},{trackRef:O.track,useCSS:O.props.useCSS&&!k})),se=be.state,ve=be.nextState;if(se){Z&&Z(ne,se.currentSlide);var Pe=se.lazyLoadedList.filter(function(fe){return O.state.lazyLoadedList.indexOf(fe)<0});Y&&Pe.length>0&&Y(Pe),!O.props.waitForAnimate&&O.animationEndCallback&&(clearTimeout(O.animationEndCallback),ie&&ie(ne),delete O.animationEndCallback),O.setState(se,function(){G&&O.asNavForIndex!==H&&(O.asNavForIndex=H,G.innerSlider.slideHandler(H)),ve&&(O.animationEndCallback=setTimeout(function(){var fe=ve.animating,Ae=p(ve,["animating"]);O.setState(Ae,function(){O.callbackTimers.push(setTimeout(function(){return O.setState({animating:fe})},10)),ie&&ie(se.currentSlide),delete O.animationEndCallback})},te))})}}),j(C(O),"changeSlide",function(H){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$=b(b({},O.props),O.state),G=(0,i.changeSlide)($,H);if(!(G!==0&&!G)&&(k===!0?O.slideHandler(G,k):O.slideHandler(G),O.props.autoplay&&O.autoPlay("update"),O.props.focusOnSelect)){var Z=O.list.querySelectorAll(".slick-current");Z[0]&&Z[0].focus()}}),j(C(O),"clickHandler",function(H){O.clickable===!1&&(H.stopPropagation(),H.preventDefault()),O.clickable=!0}),j(C(O),"keyHandler",function(H){var k=(0,i.keyHandler)(H,O.props.accessibility,O.props.rtl);k!==""&&O.changeSlide({message:k})}),j(C(O),"selectHandler",function(H){O.changeSlide(H)}),j(C(O),"disableBodyScroll",function(){var H=function($){$=$||window.event,$.preventDefault&&$.preventDefault(),$.returnValue=!1};window.ontouchmove=H}),j(C(O),"enableBodyScroll",function(){window.ontouchmove=null}),j(C(O),"swipeStart",function(H){O.props.verticalSwiping&&O.disableBodyScroll();var k=(0,i.swipeStart)(H,O.props.swipe,O.props.draggable);k!==""&&O.setState(k)}),j(C(O),"swipeMove",function(H){var k=(0,i.swipeMove)(H,b(b(b({},O.props),O.state),{},{trackRef:O.track,listRef:O.list,slideIndex:O.state.currentSlide}));k&&(k.swiping&&(O.clickable=!1),O.setState(k))}),j(C(O),"swipeEnd",function(H){var k=(0,i.swipeEnd)(H,b(b(b({},O.props),O.state),{},{trackRef:O.track,listRef:O.list,slideIndex:O.state.currentSlide}));if(k){var $=k.triggerSlideHandler;delete k.triggerSlideHandler,O.setState(k),$!==void 0&&(O.slideHandler($),O.props.verticalSwiping&&O.enableBodyScroll())}}),j(C(O),"touchEnd",function(H){O.swipeEnd(H),O.clickable=!0}),j(C(O),"slickPrev",function(){O.callbackTimers.push(setTimeout(function(){return O.changeSlide({message:"previous"})},0))}),j(C(O),"slickNext",function(){O.callbackTimers.push(setTimeout(function(){return O.changeSlide({message:"next"})},0))}),j(C(O),"slickGoTo",function(H){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(H=Number(H),isNaN(H))return"";O.callbackTimers.push(setTimeout(function(){return O.changeSlide({message:"index",index:H,currentSlide:O.state.currentSlide},k)},0))}),j(C(O),"play",function(){var H;if(O.props.rtl)H=O.state.currentSlide-O.props.slidesToScroll;else if((0,i.canGoNext)(b(b({},O.props),O.state)))H=O.state.currentSlide+O.props.slidesToScroll;else return!1;O.slideHandler(H)}),j(C(O),"autoPlay",function(H){O.autoplayTimer&&clearInterval(O.autoplayTimer);var k=O.state.autoplaying;if(H==="update"){if(k==="hovered"||k==="focused"||k==="paused")return}else if(H==="leave"){if(k==="paused"||k==="focused")return}else if(H==="blur"&&(k==="paused"||k==="hovered"))return;O.autoplayTimer=setInterval(O.play,O.props.autoplaySpeed+50),O.setState({autoplaying:"playing"})}),j(C(O),"pause",function(H){O.autoplayTimer&&(clearInterval(O.autoplayTimer),O.autoplayTimer=null);var k=O.state.autoplaying;H==="paused"?O.setState({autoplaying:"paused"}):H==="focused"?(k==="hovered"||k==="playing")&&O.setState({autoplaying:"focused"}):k==="playing"&&O.setState({autoplaying:"hovered"})}),j(C(O),"onDotsOver",function(){return O.props.autoplay&&O.pause("hovered")}),j(C(O),"onDotsLeave",function(){return O.props.autoplay&&O.state.autoplaying==="hovered"&&O.autoPlay("leave")}),j(C(O),"onTrackOver",function(){return O.props.autoplay&&O.pause("hovered")}),j(C(O),"onTrackLeave",function(){return O.props.autoplay&&O.state.autoplaying==="hovered"&&O.autoPlay("leave")}),j(C(O),"onSlideFocus",function(){return O.props.autoplay&&O.pause("focused")}),j(C(O),"onSlideBlur",function(){return O.props.autoplay&&O.state.autoplaying==="focused"&&O.autoPlay("blur")}),j(C(O),"render",function(){var H=(0,r.default)("slick-slider",O.props.className,{"slick-vertical":O.props.vertical,"slick-initialized":!0}),k=b(b({},O.props),O.state),$=(0,i.extractObject)(k,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),G=O.props.pauseOnHover;$=b(b({},$),{},{onMouseEnter:G?O.onTrackOver:null,onMouseLeave:G?O.onTrackLeave:null,onMouseOver:G?O.onTrackOver:null,focusOnSelect:O.props.focusOnSelect&&O.clickable?O.selectHandler:null});var Z;if(O.props.dots===!0&&O.state.slideCount>=O.props.slidesToShow){var Y=(0,i.extractObject)(k,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),te=O.props.pauseOnDotsHover;Y=b(b({},Y),{},{clickHandler:O.changeSlide,onMouseEnter:te?O.onDotsLeave:null,onMouseOver:te?O.onDotsOver:null,onMouseLeave:te?O.onDotsLeave:null}),Z=t.default.createElement(a.Dots,Y)}var ie,ne,be=(0,i.extractObject)(k,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);be.clickHandler=O.changeSlide,O.props.arrows&&(ie=t.default.createElement(l.PrevArrow,be),ne=t.default.createElement(l.NextArrow,be));var se=null;O.props.vertical&&(se={height:O.state.listHeight});var ve=null;O.props.vertical===!1?O.props.centerMode===!0&&(ve={padding:"0px "+O.props.centerPadding}):O.props.centerMode===!0&&(ve={padding:O.props.centerPadding+" 0px"});var Pe=b(b({},se),ve),fe=O.props.touchMove,Ae={className:"slick-list",style:Pe,onClick:O.clickHandler,onMouseDown:fe?O.swipeStart:null,onMouseMove:O.state.dragging&&fe?O.swipeMove:null,onMouseUp:fe?O.swipeEnd:null,onMouseLeave:O.state.dragging&&fe?O.swipeEnd:null,onTouchStart:fe?O.swipeStart:null,onTouchMove:O.state.dragging&&fe?O.swipeMove:null,onTouchEnd:fe?O.touchEnd:null,onTouchCancel:O.state.dragging&&fe?O.swipeEnd:null,onKeyDown:O.props.accessibility?O.keyHandler:null},De={className:H,dir:"ltr",style:O.props.style};return O.props.unslick&&(Ae={className:"slick-list"},De={className:H,style:O.props.style}),t.default.createElement("div",De,O.props.unslick?"":ie,t.default.createElement("div",m({ref:O.listRefHandler},Ae),t.default.createElement(s.Track,m({ref:O.trackRefHandler},$),O.props.children)),O.props.unslick?"":ne,O.props.unslick?"":Z)}),O.list=null,O.track=null,O.state=b(b({},e.default),{},{currentSlide:O.props.initialSlide,targetSlide:O.props.initialSlide?O.props.initialSlide:0,slideCount:t.default.Children.count(O.props.children)}),O.callbackTimers=[],O.clickable=!0,O.debouncedResize=null;var K=O.ssrInit();return O.state=b(b({},O.state),K),O}return R(X,[{key:"didPropsChange",value:function(O){for(var K=!1,H=0,k=Object.keys(this.props);H<k.length;H++){var $=k[H];if(!O.hasOwnProperty($)){K=!0;break}if(!(f(O[$])==="object"||typeof O[$]=="function"||isNaN(O[$]))&&O[$]!==this.props[$]){K=!0;break}}return K||t.default.Children.count(this.props.children)!==t.default.Children.count(O.children)}}]),X})(t.default.Component),Fm}var sC,VL;function i1e(){if(VL)return sC;VL=1;var t=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return sC=t,sC}var aC,FL;function s1e(){if(FL)return aC;FL=1;var t=i1e(),e=function(i){var s=/[height|width]$/;return s.test(i)},n=function(i){var s="",a=Object.keys(i);return a.forEach(function(l,c){var d=i[l];l=t(l),e(l)&&typeof d=="number"&&(d=d+"px"),d===!0?s+=l:d===!1?s+="not "+l:s+="("+l+": "+d+")",c<a.length-1&&(s+=" and ")}),s},r=function(i){var s="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(a,l){s+=n(a),l<i.length-1&&(s+=", ")}),s):n(i)};return aC=r,aC}var BL;function a1e(){return BL||(BL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=a(ni()),n=r1e(),r=a(s1e()),i=a(P7()),s=qg();function a(E){return E&&E.__esModule?E:{default:E}}function l(E){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},l(E)}function c(){return c=Object.assign?Object.assign.bind():function(E){for(var A=1;A<arguments.length;A++){var j=arguments[A];for(var V in j)({}).hasOwnProperty.call(j,V)&&(E[V]=j[V])}return E},c.apply(null,arguments)}function d(E,A){var j=Object.keys(E);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(E);A&&(V=V.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),j.push.apply(j,V)}return j}function f(E){for(var A=1;A<arguments.length;A++){var j=arguments[A]!=null?arguments[A]:{};A%2?d(Object(j),!0).forEach(function(V){I(E,V,j[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(j)):d(Object(j)).forEach(function(V){Object.defineProperty(E,V,Object.getOwnPropertyDescriptor(j,V))})}return E}function m(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function p(E,A){for(var j=0;j<A.length;j++){var V=A[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(E,P(V.key),V)}}function y(E,A,j){return A&&p(E.prototype,A),Object.defineProperty(E,"prototype",{writable:!1}),E}function x(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),A&&b(E,A)}function b(E,A){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,V){return j.__proto__=V,j},b(E,A)}function _(E){var A=D();return function(){var j,V=z(E);if(A){var B=z(this).constructor;j=Reflect.construct(V,arguments,B)}else j=V.apply(this,arguments);return S(this,j)}}function S(E,A){if(A&&(l(A)=="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R(E)}function R(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function D(){try{var E=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D=function(){return!!E})()}function z(E){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},z(E)}function I(E,A,j){return(A=P(A))in E?Object.defineProperty(E,A,{value:j,enumerable:!0,configurable:!0,writable:!0}):E[A]=j,E}function P(E){var A=C(E,"string");return l(A)=="symbol"?A:A+""}function C(E,A){if(l(E)!="object"||!E)return E;var j=E[Symbol.toPrimitive];if(j!==void 0){var V=j.call(E,A);if(l(V)!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(E)}t.default=(function(E){x(j,E);var A=_(j);function j(V){var B;return m(this,j),B=A.call(this,V),I(R(B),"innerSliderRefHandler",function(F){return B.innerSlider=F}),I(R(B),"slickPrev",function(){return B.innerSlider.slickPrev()}),I(R(B),"slickNext",function(){return B.innerSlider.slickNext()}),I(R(B),"slickGoTo",function(F){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return B.innerSlider.slickGoTo(F,U)}),I(R(B),"slickPause",function(){return B.innerSlider.pause("paused")}),I(R(B),"slickPlay",function(){return B.innerSlider.autoPlay("play")}),B.state={breakpoint:null},B._responsiveMediaHandlers=[],B}return y(j,[{key:"media",value:function(B,F){var U=window.matchMedia(B),X=function(O){var K=O.matches;K&&F()};U.addListener(X),this._responsiveMediaHandlers.push({mql:U,query:B,listener:X})}},{key:"componentDidMount",value:function(){var B=this;if(this.props.responsive){var F=this.props.responsive.map(function(X){return X.breakpoint});F.sort(function(X,J){return X-J}),F.forEach(function(X,J){var O;J===0?O=(0,r.default)({minWidth:0,maxWidth:X}):O=(0,r.default)({minWidth:F[J-1]+1,maxWidth:X}),(0,s.canUseDOM)()&&B.media(O,function(){B.setState({breakpoint:X})})});var U=(0,r.default)({minWidth:F.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(U,function(){B.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(B){B.mql.removeListener(B.listener)})}},{key:"render",value:function(){var B=this,F,U;this.state.breakpoint?(U=this.props.responsive.filter(function(Y){return Y.breakpoint===B.state.breakpoint}),F=U[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),U[0].settings)):F=f(f({},i.default),this.props),F.centerMode&&(F.slidesToScroll>1,F.slidesToScroll=1),F.fade&&(F.slidesToShow>1,F.slidesToScroll>1,F.slidesToShow=1,F.slidesToScroll=1);var X=e.default.Children.toArray(this.props.children);X=X.filter(function(Y){return typeof Y=="string"?!!Y.trim():!!Y}),F.variableWidth&&(F.rows>1||F.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),F.variableWidth=!1);for(var J=[],O=null,K=0;K<X.length;K+=F.rows*F.slidesPerRow){for(var H=[],k=K;k<K+F.rows*F.slidesPerRow;k+=F.slidesPerRow){for(var $=[],G=k;G<k+F.slidesPerRow&&(F.variableWidth&&X[G].props.style&&(O=X[G].props.style.width),!(G>=X.length));G+=1)$.push(e.default.cloneElement(X[G],{key:100*K+10*k+G,tabIndex:-1,style:{width:"".concat(100/F.slidesPerRow,"%"),display:"inline-block"}}));H.push(e.default.createElement("div",{key:10*K+k},$))}F.variableWidth?J.push(e.default.createElement("div",{key:K,style:{width:O}},H)):J.push(e.default.createElement("div",{key:K},H))}if(F==="unslick"){var Z="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Z},X)}else J.length<=F.slidesToShow&&(F.unslick=!0);return e.default.createElement(n.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(F)),J)}}]),j})(e.default.Component)})(eC)),eC}var zL;function o1e(){return zL||(zL=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(a1e());function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(ZN)),ZN}var l1e=o1e();const c1e=_i(l1e);function u1e({onAccountClick:t,onAddAccountClick:e}){const{user:n}=Vt(),{getBalance:r}=$g(),{t:i}=In(),[s,a]=N.useState([]),[l,c]=N.useState(!0),[d,f]=N.useState(!1);N.useEffect(()=>{if(!n?.uid)return;console.log(" Iniciando listener de contas bancrias para userId:",n.uid);let b=0;const _=3;let S=null,R=null,D=!1;const z=()=>{if(D){console.log(" Configurao de listener j em andamento, ignorando...");return}D=!0,S&&(console.log(" Limpando listener anterior antes de criar novo..."),S(),S=null);const I=it(we,"bankAccounts"),P=Dt(I,It("userId","==",n.uid));S=ei(P,C=>{console.log(" Contas bancrias recebidas:",C.size),b=0,D=!1;const E=C.docs.map(V=>({...V.data(),id:V.id,createdAt:V.data().createdAt?.toDate()||new Date})),A=new Map;E.forEach(V=>{const B=A.get(V.currency),F=V.id===`${n.uid}_${V.currency}`||V.id===`${n.uid}_BRL`;(!B||F)&&A.set(V.currency,V)});const j=Array.from(A.values());console.log(" Total de contas (deduplicadas):",j.length),console.log(" Pases das contas:",j.map(V=>`${V.country} (${V.currency})`).join(", ")),a(j),f(!1),c(!1)},C=>{console.error(" Erro no listener de contas bancrias:",C),D=!1,C.code==="permission-denied"?(console.log(" Erro de permisso, tentando getDocs..."),m()):C.code==="unavailable"&&b<_?(b++,console.log(` Tentando reconectar listener de contas... (tentativa ${b}/${_})`),R=setTimeout(()=>{S&&S(),z()},1e3*b)):(f(!0),c(!1))})};return z(),()=>{console.log(" Desconectando listener de contas bancrias"),S&&S(),R&&clearTimeout(R)}},[n]);const m=async()=>{if(n?.uid)try{const b=it(we,"bankAccounts"),_=Dt(b,It("userId","==",n.uid)),R=(await Ot(_)).docs.map(D=>({...D.data(),id:D.id,createdAt:D.data().createdAt?.toDate()||new Date}));a(R),f(!1)}catch(b){console.error(" Erro ao carregar contas com getDocs:",b),f(!0)}finally{c(!1)}},p={dots:!1,infinite:!1,speed:300,slidesToShow:1.2,slidesToScroll:1,arrows:!1,swipeToSlide:!0},y=b=>{switch(b.country){case"BR":return{label:"Pix",icon:""};case"US":return{label:` ${b.accountNumber.slice(-4)}`};case"EU":return{label:` ${b.iban?.slice(-4)||b.accountNumber.slice(-4)}`};default:return{label:` ${b.accountNumber.slice(-4)}`}}},x={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",KRW:"",ZAR:"R",ARS:"$",CLP:"$"};return l?o.jsxs("div",{className:"px-6 mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:i.myAccounts}),o.jsx("div",{className:"animate-pulse",children:o.jsx("div",{className:"bg-zinc-900/50 rounded-3xl h-48 w-[85%]"})})]}):d?o.jsxs("div",{className:"px-6 mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:i.myAccounts}),o.jsx("div",{className:"text-red-500",children:"Ocorreu um erro ao carregar suas contas. Tente novamente mais tarde."})]}):!n||s.length===0?null:o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-lg font-semibold mb-4 px-6",children:i.myAccounts}),o.jsx("div",{className:"px-3",children:o.jsxs(c1e,{...p,children:[s.map(b=>{const _=y(b);return o.jsx("div",{className:"px-3",children:o.jsxs("button",{onClick:()=>t?.(b),className:"w-full bg-gradient-to-br from-zinc-800/90 via-zinc-900/95 to-black backdrop-blur-xl rounded-3xl p-5 border border-zinc-700/60 hover:border-zinc-600 shadow-lg shadow-black/40 transition-all active:scale-[0.98] text-left relative overflow-hidden group",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] via-transparent to-transparent pointer-events-none"}),o.jsxs("div",{className:"flex items-center justify-between mb-10 relative z-10",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800 border border-zinc-700",children:o.jsx("img",{src:`https://flagcdn.com/w80/${b.country.toLowerCase()}.png`,alt:b.currency,className:"w-full h-full object-cover"})}),o.jsx("div",{className:"text-xl font-semibold text-white",children:b.currency})]}),o.jsxs("div",{className:"px-4 py-2 rounded-full bg-zinc-800/80 backdrop-blur-sm border border-zinc-700/50 flex items-center gap-2",children:[_.icon&&o.jsx("span",{className:"text-cyan-400 text-sm",children:_.icon}),o.jsx("span",{className:"text-xs font-medium text-gray-300",children:_.label})]})]}),(b.iban||b.accountNumber)&&o.jsx("div",{className:"text-xs text-gray-500 mb-3 font-mono tracking-wider relative z-10",children:b.iban?o.jsxs(o.Fragment,{children:["  ",b.iban.slice(-6)]}):o.jsxs(o.Fragment,{children:["  ",b.accountNumber.slice(-6)]})}),o.jsx("div",{className:"relative z-10 tabular-nums text-white",children:o.jsx(_a,{value:r(b.currency),symbol:x[b.currency],className:"text-2xl font-light"})})]})},b.id)}),o.jsx("div",{className:"px-3",children:o.jsxs("div",{onClick:e,className:"w-full bg-transparent backdrop-blur-xl rounded-3xl p-5 border-2 border-dashed border-zinc-700/60 hover:border-zinc-600 hover:bg-white/5 shadow-lg shadow-black/40 transition-all active:scale-[0.98] text-left relative overflow-hidden group h-full min-h-[180px] flex flex-col cursor-pointer",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-auto relative z-10",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 backdrop-blur-md border border-white/20 flex items-center justify-center",children:o.jsx(Gl,{className:"text-white text-2xl font-light"})}),o.jsx("span",{className:"text-white/70 font-semibold",children:"Nova Conta"})]}),o.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10",children:o.jsxs("p",{className:"text-white/50 text-sm text-center",children:["Adicione uma conta",o.jsx("br",{}),"de outro pas"]})})]})})]})})]})}function d1e({onClose:t}){const[e,n]=N.useState(!1),r=`rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    //  Localizaes dos usurios
    match /userLocations/{userId} {
      allow read: if request.auth != null && request.auth.uid == userId;
      allow write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Dados dos usurios
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Saldos dos usurios
    match /balances/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Transaes
    match /transactions/{transactionId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null;
    }
    
    //  Transferncias de cripto
    match /cryptoTransfers/{transferId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null;
    }

    //  Contas bancrias
    match /bankAccounts/{accountId} {
      allow read, write: if request.auth != null;
    }
  }
}`,i=async()=>{try{await navigator.clipboard.writeText(r),n(!0),setTimeout(()=>n(!1),2e3)}catch(s){console.error("Erro ao copiar:",s)}};return o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl border border-white/20 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-[0_0_40px_rgba(255,255,255,0.1)]",children:[o.jsxs("div",{className:"sticky top-0 bg-white/5 backdrop-blur-md border-b border-white/10 px-6 py-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-xl text-white",children:" Configurar Firestore"}),o.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-all",children:o.jsx(qr,{className:"w-5 h-5 text-white"})})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-4",children:o.jsx("p",{className:"text-red-400 text-sm",children:" As regras de segurana do Firestore precisam ser configuradas para permitir o salvamento de localizaes."})}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"1"}),"Acesse o Firebase Console"]}),o.jsxs("a",{href:"https://console.firebase.google.com/project/ethertron-app/firestore/rules",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-500/20 backdrop-blur-md rounded-xl px-4 py-3 border border-blue-500/30 hover:bg-blue-500/30 transition-all",children:[o.jsx(vG,{className:"w-4 h-4 text-blue-400"}),o.jsx("span",{className:"text-sm text-blue-400 flex-1 font-medium",children:"Clique aqui para abrir Firestore Rules"})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"2"}),"Navegue at as regras"]}),o.jsx("div",{className:"bg-white/5 rounded-xl px-4 py-3 border border-white/10",children:o.jsxs("p",{className:"text-xs text-white/60",children:["Firestore Database  ",o.jsx("span",{className:"text-white",children:"Rules"})]})})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"3"}),"Cole estas regras"]}),o.jsxs("div",{className:"relative",children:[o.jsx("pre",{className:"bg-black/40 rounded-xl p-4 border border-white/10 overflow-x-auto text-xs text-white/80 font-mono",children:r}),o.jsx("button",{onClick:i,className:"absolute top-3 right-3 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-lg px-3 py-1.5 flex items-center gap-2 border border-white/10 transition-all",children:e?o.jsxs(o.Fragment,{children:[o.jsx(Xx,{className:"w-4 h-4 text-green-400"}),o.jsx("span",{className:"text-xs text-green-400",children:"Copiado!"})]}):o.jsxs(o.Fragment,{children:[o.jsx(xn,{className:"w-4 h-4 text-white/60"}),o.jsx("span",{className:"text-xs text-white/60",children:"Copiar"})]})})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[o.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"4"}),"Publique as regras"]}),o.jsx("div",{className:"bg-white/5 rounded-xl px-4 py-3 border border-white/10",children:o.jsxs("p",{className:"text-xs text-white/60",children:["Clique no boto ",o.jsx("span",{className:"text-white font-medium",children:"Publicar"})," (Publish)"]})})]}),o.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4",children:o.jsx("p",{className:"text-green-400 text-sm",children:" Aps publicar, aguarde 1 minuto e recarregue a pgina. As localizaes sero salvas automaticamente!"})}),o.jsx("button",{onClick:t,className:"w-full bg-white/10 hover:bg-white/15 backdrop-blur-md rounded-xl px-4 py-3 border border-white/10 text-white transition-all",children:"Entendi"})]})]})})}function f1e(t){return t>=1?t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:6}):t.toLocaleString("pt-BR",{minimumFractionDigits:6,maximumFractionDigits:8})}function UL({onNavigate:t,onNavigateWithAccount:e}){const{prices:n}=Ni(),{portfolio:r}=qs(),{rates:i}=KP(),{user:s,userData:a,updateVisibleCards:l}=Vt(),{location:c,firestoreError:d}=PU(),{t:f}=In(),[m,p]=N.useState(!1),[y,x]=N.useState(!1),[b,_]=N.useState(!1),[S,R]=N.useState(!1),[D,z]=N.useState(""),[I,P]=N.useState(["BTC","ETH","SOL","BNB"]),[C,E]=N.useState(["USD"]),[A,j]=N.useState([]);N.useEffect(()=>{a?.preferences?.visibleCards&&P(a.preferences.visibleCards)},[a]),N.useEffect(()=>{if(!s)return;(async()=>{try{const te=it(we,"bankAccounts"),ie=Dt(te,It("userId","==",s.uid)),ne=await Ot(ie);if(ne.empty){E(["USD"]),U("USD");return}const be=ne.docs.map(fe=>({...fe.data(),id:fe.id})),se=new Map;be.forEach(fe=>{const Ae=se.get(fe.currency),De=fe.id===`${s.uid}_${fe.currency}`||fe.id===`${s.uid}_BRL`;(!Ae||De)&&se.set(fe.currency,fe)});const ve=Array.from(se.values()),Pe=ve.map(fe=>fe.currency);Pe.length>0?(E(Pe),Pe.includes(F)||U(Pe[0])):(E(["USD"]),U("USD")),j(ve)}catch(te){console.error("Erro ao carregar moedas disponveis:",te),E(["USD"])}})()},[s]);const V=async Y=>{const te=I.includes(Y)?I.filter(ie=>ie!==Y):[...I,Y];P(te);try{await l(te)}catch(ie){console.error("Erro ao salvar preferncias:",ie)}},B=[{symbol:"BTC",name:"Bitcoin",coinId:"bitcoin"},{symbol:"ETH",name:"Ethereum",coinId:"ethereum"},{symbol:"SOL",name:"Solana",coinId:"solana"},{symbol:"BNB",name:"BNB",coinId:"binancecoin"},{symbol:"XRP",name:"Ripple",coinId:"ripple"},{symbol:"ADA",name:"Cardano",coinId:"cardano"},{symbol:"AVAX",name:"Avalanche",coinId:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",coinId:"dogecoin"},{symbol:"DOT",name:"Polkadot",coinId:"polkadot"},{symbol:"MATIC",name:"Polygon",coinId:"matic-network"},{symbol:"LINK",name:"Chainlink",coinId:"chainlink"},{symbol:"UNI",name:"Uniswap",coinId:"uniswap"},{symbol:"LTC",name:"Litecoin",coinId:"litecoin"},{symbol:"ATOM",name:"Cosmos",coinId:"cosmos"},{symbol:"XLM",name:"Stellar",coinId:"stellar"},{symbol:"TRX",name:"Tron",coinId:"tron"},{symbol:"SHIB",name:"Shiba Inu",coinId:"shiba-inu"},{symbol:"WBTC",name:"Wrapped Bitcoin",coinId:"wrapped-bitcoin"},{symbol:"DAI",name:"Dai",coinId:"dai"},{symbol:"LEO",name:"UNUS SED LEO",coinId:"leo-token"},{symbol:"USDC",name:"USD Coin",coinId:"usd-coin"},{symbol:"TON",name:"Toncoin",coinId:"the-open-network"},{symbol:"ETC",name:"Ethereum Classic",coinId:"ethereum-classic"},{symbol:"BCH",name:"Bitcoin Cash",coinId:"bitcoin-cash"},{symbol:"APT",name:"Aptos",coinId:"aptos"},{symbol:"ARB",name:"Arbitrum",coinId:"arbitrum"},{symbol:"OP",name:"Optimism",coinId:"optimism"},{symbol:"ICP",name:"Internet Computer",coinId:"internet-computer"},{symbol:"FIL",name:"Filecoin",coinId:"filecoin"},{symbol:"NEAR",name:"NEAR Protocol",coinId:"near"},{symbol:"VET",name:"VeChain",coinId:"vechain"},{symbol:"ALGO",name:"Algorand",coinId:"algorand"},{symbol:"INJ",name:"Injective",coinId:"injective-protocol"},{symbol:"AAVE",name:"Aave",coinId:"aave"},{symbol:"MKR",name:"Maker",coinId:"maker"},{symbol:"GRT",name:"The Graph",coinId:"the-graph"},{symbol:"IMX",name:"Immutable X",coinId:"immutable-x"},{symbol:"STX",name:"Stacks",coinId:"blockstack"},{symbol:"HBAR",name:"Hedera",coinId:"hedera-hashgraph"},{symbol:"FTM",name:"Fantom",coinId:"fantom"},{symbol:"SAND",name:"The Sandbox",coinId:"the-sandbox"},{symbol:"MANA",name:"Decentraland",coinId:"decentraland"},{symbol:"AXS",name:"Axie Infinity",coinId:"axie-infinity"},{symbol:"XTZ",name:"Tezos",coinId:"tezos"},{symbol:"THETA",name:"Theta Network",coinId:"theta-token"},{symbol:"EOS",name:"EOS",coinId:"eos"},{symbol:"XMR",name:"Monero",coinId:"monero"},{symbol:"FLOW",name:"Flow",coinId:"flow"},{symbol:"CHZ",name:"Chiliz",coinId:"chiliz"},{symbol:"ZEC",name:"Zcash",coinId:"zcash"},{symbol:"RUNE",name:"THORChain",coinId:"thorchain"},{symbol:"KLAY",name:"Klaytn",coinId:"klay-token"},{symbol:"DASH",name:"Dash",coinId:"dash"},{symbol:"NEO",name:"Neo",coinId:"neo"},{symbol:"IOTA",name:"IOTA",coinId:"iota"},{symbol:"QNT",name:"Quant",coinId:"quant-network"},{symbol:"EGLD",name:"MultiversX",coinId:"elrond-erd-2"},{symbol:"PEPE",name:"Pepe",coinId:"pepe"},{symbol:"FET",name:"Fetch.ai",coinId:"fetch-ai"},{symbol:"SUI",name:"Sui",coinId:"sui"},{symbol:"SEI",name:"Sei",coinId:"sei-network"}],[F,U]=N.useState("USD"),[X,J]=N.useState(0);N.useEffect(()=>{a?.photoURL&&z(a.photoURL)},[a]),N.useEffect(()=>(m||y||b?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[m,y,b]),N.useEffect(()=>{if(d&&(d.includes("Firestore")||d.includes("permission"))){console.log(" [NewHome] Erro de Firestore detectado:",d),console.log(" [NewHome] Abrindo modal de instrues...");const Y=setTimeout(()=>{R(!0)},2e3);return()=>clearTimeout(Y)}},[d]),n.bitcoin?.usd,n.ethereum?.usd;const O=1;n.bitcoin?.usd_24h_change,n.ethereum?.usd_24h_change,n.tether?.usd_24h_change,n.solana?.usd,n.binancecoin?.usd,n.solana?.usd_24h_change,n.binancecoin?.usd_24h_change;const K=r.totalBalanceUSDT;r.change24h,r.changePercent24h;const H=r.holdings.find(Y=>Y.symbol==="USDT");H&&H.amount;const k=K*O*(i[F]||1);N.useEffect(()=>{X===0&&k>0&&J(k)},[k]),N.useEffect(()=>{if(X===0)return;const Y=X,te=k,ie=400,ne=performance.now(),be=se=>{const ve=se-ne,Pe=Math.min(ve/ie,1),fe=1-Math.pow(1-Pe,3),Ae=Y+(te-Y)*fe;J(Ae),Pe<1&&requestAnimationFrame(be)};requestAnimationFrame(be)},[F]);const $=()=>{if(C.length===0)return;const Y=new(window.AudioContext||window.webkitAudioContext),te=8,ie=.02,ne=.05;for(let ve=0;ve<te;ve++){const Pe=Y.createOscillator(),fe=Y.createGain();Pe.connect(fe),fe.connect(Y.destination);const Ae=Y.currentTime+ve*ne;Pe.frequency.setValueAtTime(1200+ve*50,Ae);const De=.15*(1-ve/te*.5);fe.gain.setValueAtTime(De,Ae),fe.gain.exponentialRampToValueAtTime(.01,Ae+ie),Pe.start(Ae),Pe.stop(Ae+ie)}const se=(C.indexOf(F)+1)%C.length;U(C[se])},G=Y=>({USD:"$",BRL:"R$",GBP:"",EUR:""})[Y]||"$",Z=async Y=>{const te=Y.target.files?.[0];if(!(!te||!s))try{Me.loading("Comprimindo foto...",{id:"upload-photo"});const ie=await AU(te,200,.7);z(ie),Me.loading("Salvando foto...",{id:"upload-photo"}),await wi(et(we,"users",s.uid),{photoURL:ie}),Me.success("Foto atualizada com sucesso!",{id:"upload-photo"})}catch(ie){console.error("Erro ao salvar foto:",ie),Me.error("Erro ao enviar foto. Tente novamente.",{id:"upload-photo"}),a?.photoURL&&z(a.photoURL)}};return o.jsxs("div",{className:"min-h-screen relative flex flex-col bg-gradient-to-b from-[#1a2942] via-black to-black",children:[o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[o.jsxs("header",{className:"px-6 pt-12 pb-4 flex items-center justify-between gap-3 relative z-10",children:[o.jsx("label",{htmlFor:"profile-photo-input",className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white/10 cursor-pointer hover:border-white/30 transition-all active:scale-95 block flex-shrink-0",children:D?o.jsx("img",{alt:"User Avatar",className:"w-full h-full object-cover",src:D}):o.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black text-white text-xs font-medium select-none",children:(()=>{const te=(a?.name||a?.displayName||"").trim().split(/\s+/),ie=te[0]?.[0]?.toUpperCase()||"",ne=te.length>1?te[te.length-1][0]?.toUpperCase():"";return ie+ne||"U"})()})}),o.jsx("input",{type:"file",id:"profile-photo-input",className:"hidden",accept:"image/*",onChange:Z}),o.jsxs("button",{className:"flex-1 bg-white/5 backdrop-blur-md rounded-full px-4 py-2.5 flex items-center gap-2 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",onClick:()=>p(!0),children:[o.jsx(Xl,{className:"text-white/60 w-5 h-5"}),o.jsx("span",{className:"text-white/60 text-sm font-medium",children:f.search})]}),o.jsx("button",{className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",onClick:()=>x(!0),children:o.jsx(zv,{className:"text-white w-5 h-5"})})]}),o.jsx("section",{className:"mt-8 px-6 text-center relative z-10",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-xs font-medium text-white/60 mb-2 px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/20 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:f.cashAndStablecoins}),o.jsxs("h1",{className:"text-5xl font-bold flex flex-col items-center gap-1 text-white",children:[o.jsx("button",{onClick:$,className:"font-bold text-white hover:text-white/80 transition-colors cursor-pointer active:scale-95 flex items-baseline",children:o.jsx(_a,{value:X,symbol:G(F),className:"text-4xl font-normal tabular-nums"})}),o.jsxs("span",{className:"text-base font-medium text-white/50",children:[" ",o.jsx(_a,{value:K,className:"text-base font-light",showSymbol:!1})," USDT"]})]}),o.jsx("div",{className:"mt-2 w-screen h-12 opacity-40 -mx-6",children:o.jsx(Twe,{value:K})})]})}),o.jsxs("section",{className:"mt-1 px-6 grid grid-cols-3 gap-2 relative z-10",children:[o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("button",{onClick:()=>{A.length>0,t("selectFiatAccount")},className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10",children:o.jsx(aE,{className:"text-white w-6 h-6"})}),o.jsx("span",{className:"text-white text-[10px] font-light tracking-wide uppercase opacity-70",children:f.deposit})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("button",{onClick:()=>t("crypto"),className:"w-14 h-14 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/30 shadow-[0_0_20px_rgba(255,255,255,0.1),inset_0_1px_0_0_rgba(255,255,255,0.2),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/20",children:o.jsx(zi,{className:"text-cyan-400 w-6 h-6"})}),o.jsx("span",{className:"text-white text-[10px] font-bold tracking-wide uppercase",children:"Cripto"})]}),o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("button",{onClick:()=>{const Y=A.find(te=>te.currency==="BRL");Y&&e?e("withdrawFiat",Y):t("withdrawFiat")},className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10",children:o.jsx(oE,{className:"text-white w-6 h-6"})}),o.jsx("span",{className:"text-white text-[10px] font-light tracking-wide uppercase opacity-70",children:f.transfer})]})]}),o.jsx("section",{className:"mt-8 relative z-10",children:o.jsx(u1e,{onAccountClick:Y=>{e&&e("fiatAccountDetails",Y)},onAddAccountClick:()=>{t&&t("accountData")}})}),o.jsx("section",{className:"mt-8 px-4 relative z-10",children:o.jsx("button",{onClick:()=>t("transactions"),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-3 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] hover:bg-white/10 transition-all active:scale-[0.98]",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(IG,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("h3",{className:"text-sm font-bold text-white",children:f.statement}),o.jsx("p",{className:"text-xs text-white/50",children:f.viewAllTransactions})]})]}),o.jsx(zr,{className:"w-4 h-4 text-white/50"})]})})}),r.holdings.filter(Y=>Y.amount>0).length>0&&o.jsxs("section",{className:"mt-6 px-4 relative z-10",children:[o.jsx("h3",{className:"text-white/40 text-xs font-medium mb-3 px-1",children:f.assets}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] overflow-hidden",children:r.holdings.filter(Y=>Y.amount>0).map((Y,te,ie)=>{const be=B.find(fe=>fe.symbol===Y.symbol)?.coinId||Y.coinId||Y.symbol.toLowerCase(),se=n[be]?.usd||0,ve=n[be]?.usd_24h_change||0,Pe=Y.amount*se;return o.jsxs("div",{className:`px-4 py-3 flex items-center justify-between ${te!==ie.length-1?"border-b border-white/5":""} hover:bg-white/5 transition-colors`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:Y.symbol,size:"sm"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-white",children:Y.name}),o.jsxs("p",{className:"text-xs text-white/40",children:[o.jsx(_a,{value:Pe,className:"text-xs font-light",showSymbol:!1})," USDT"]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-sm text-white",children:Y.symbol==="USDT"?o.jsxs(o.Fragment,{children:[o.jsx(_a,{value:Y.amount,className:"text-sm font-light",showSymbol:!1})," ",Y.symbol]}):o.jsxs(o.Fragment,{children:[f1e(Y.amount)," ",Y.symbol]})}),o.jsxs("div",{className:`flex items-center justify-end text-xs ${ve>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[ve>=0?o.jsx(zi,{className:"w-3 h-3"}):o.jsx(Su,{className:"w-3 h-3"}),Math.abs(ve).toFixed(2).replace(".",","),"%"]})]})]},Y.symbol)})})]}),o.jsxs("section",{className:"mt-10 px-4 space-y-4 relative z-10 pb-32",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[o.jsx("h3",{className:"text-white/50 text-xs font-semibold",children:f.market}),o.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-full text-xs font-medium transition-all bg-white/5 backdrop-blur-md text-white/50 border border-white/10 hover:bg-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsx(kG,{className:"w-3.5 h-3.5"}),f.edit]})]}),o.jsx("div",{className:"grid grid-cols-2 gap-4",children:B.filter(Y=>I.includes(Y.symbol)).map(Y=>{const te=n[Y.coinId]?.usd||0,ie=n[Y.coinId]?.usd_24h_change||0;return o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsxs("h4",{className:"text-sm font-bold text-white/50",children:[Y.symbol,"-USDT"]}),o.jsx(ht,{symbol:Y.symbol,size:"sm"})]}),o.jsx("div",{className:"text-white mb-1",children:o.jsx(_a,{value:te,className:"text-lg font-light",showSymbol:!1})}),o.jsxs("div",{className:`flex items-center text-xs font-semibold mb-3 ${ie>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[ie>=0?o.jsx(zi,{className:"w-4 h-4"}):o.jsx(Su,{className:"w-4 h-4"}),Math.abs(ie).toFixed(2).replace(".",","),"%"]}),o.jsx("div",{className:"h-10 w-full mt-2",children:o.jsx(mse,{coinId:Y.coinId,color:ie>=0?"#34c759":"#ff3b30"})})]},`${Y.symbol}-${te}-${ie}`)})})]})]}),o.jsx(Pwe,{isOpen:m,onClose:()=>p(!1)}),o.jsx(Awe,{isOpen:y,onClose:()=>x(!1)}),o.jsx(jwe,{isOpen:b,onClose:()=>_(!1),visibleCards:I,onToggleCard:V}),d&&d.includes("Firestore")&&S&&o.jsx(d1e,{onClose:()=>R(!1)})]})}function h1e({onNavigate:t}){const[e,n]=N.useState(!0),{portfolio:r,isLoading:i,addOrUpdateCrypto:s,removeCrypto:a}=qs(),{prices:l}=Ni(),{t:c}=In(),[d,f]=N.useState({show:!1,holding:null}),[m,p]=N.useState(""),[y,x]=N.useState(!1),[b,_]=N.useState({show:!1,holding:null}),[S,R]=N.useState(!1),D=P=>{f({show:!0,holding:P}),p("")},z=async()=>{if(!d.holding||!m||parseFloat(m)<=0){Me.error(c.enterValidValue);return}x(!0);try{const P=d.holding.amount+parseFloat(m);await s(d.holding.symbol,d.holding.coinId,P,d.holding.name),Me.success(c.balanceAddedSuccess,{description:`+${m} ${d.holding.symbol}`}),f({show:!1,holding:null}),p("")}catch(P){console.error("Erro ao adicionar saldo:",P),Me.error(c.errorAddingBalance)}finally{x(!1)}},I=async()=>{if(!b.holding){Me.error("Selecione um ativo para excluir");return}R(!0);try{await a(b.holding.symbol),Me.success("Ativo removido com sucesso!",{description:`${b.holding.symbol}`}),_({show:!1,holding:null})}catch(P){console.error("Erro ao remover ativo:",P),Me.error("Erro ao remover ativo")}finally{R(!1)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[o.jsxs("header",{className:"px-6 pt-8 pb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h1",{className:"text-lg",children:c.wallet}),o.jsx("button",{onClick:()=>n(!e),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:e?o.jsx(gu,{className:"w-5 h-5"}):o.jsx(xf,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[o.jsxs("button",{onClick:()=>t("receive"),className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:o.jsx(yT,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-sm font-light text-white",children:c.receive})]}),o.jsxs("button",{onClick:()=>t("convert"),className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:o.jsx(dG,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-sm font-light text-white",children:c.convert})]}),o.jsxs("button",{onClick:()=>t("withdraw"),className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:o.jsx(vT,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-sm font-light text-white",children:c.send})]})]})]}),o.jsx("div",{className:"px-6 space-y-6 mb-24",children:i?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),o.jsx("p",{className:"text-white/50 mt-4",children:"Carregando ativos..."})]}):r.holdings.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Nenhum ativo no portflio"}),o.jsxs("p",{className:"text-sm text-white/40 mb-8 max-w-xs mx-auto",children:["Comece adicionando criptomoedas na aba ",o.jsx("span",{className:"text-white font-semibold",children:"Cripto"})]}),o.jsx("button",{onClick:()=>t("crypto"),className:"px-8 py-4 bg-white/5 backdrop-blur-md rounded-2xl font-semibold text-white hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:"Ir para Cripto"})]}):o.jsxs(o.Fragment,{children:[r.holdings.some(P=>P.symbol==="USDT")&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Dinheiro e Stablecoins"}),r.holdings.filter(P=>P.symbol==="USDT").map(P=>{const C=l[P.coinId]?.usd||0;P.amount*C;const E=l[P.coinId]?.usd_24h_change||0;return o.jsxs("div",{onDoubleClick:()=>D(P),title:"Clique 2x para adicionar saldo",className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-5 hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] relative group cursor-pointer",children:[o.jsx("button",{onClick:A=>{A.stopPropagation(),_({show:!0,holding:{symbol:P.symbol,name:P.name||P.symbol,amount:P.amount}})},className:"absolute top-3 right-3 w-9 h-9 rounded-full bg-red-600/80 backdrop-blur-md flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 z-10",title:"Remover ativo",children:o.jsx(mo,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:P.symbol,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-lg mb-1",children:P.symbol}),o.jsx("div",{className:"text-sm text-gray-400",children:P.name||P.symbol})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-light text-lg tabular-nums",children:e?`${cr(P.amount)} ${P.symbol}`:""}),o.jsxs("div",{className:`text-sm ${E>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[E>=0?"":""," ",Math.abs(E).toFixed(2),"%"]})]})]})]},P.symbol)})]}),r.holdings.some(P=>P.symbol!=="USDT")?o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center justify-between mb-4",children:o.jsx("h2",{className:"text-lg font-semibold",children:"Criptomoedas"})}),o.jsx("div",{className:"space-y-4",children:r.holdings.filter(P=>P.symbol!=="USDT").map(P=>{const C=l[P.coinId]?.usd||0;P.amount*C;const E=l[P.coinId]?.usd_24h_change||0;return o.jsxs("div",{onDoubleClick:()=>D(P),title:"Clique 2x para adicionar saldo",className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-5 hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] relative group cursor-pointer",children:[o.jsx("button",{onClick:A=>{A.stopPropagation(),_({show:!0,holding:{symbol:P.symbol,name:P.name||P.symbol,amount:P.amount}})},className:"absolute top-3 right-3 w-9 h-9 rounded-full bg-red-600/80 backdrop-blur-md flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 z-10",title:"Remover ativo",children:o.jsx(mo,{className:"w-4 h-4 text-white"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:P.symbol,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-lg mb-1",children:P.symbol}),o.jsx("div",{className:"text-sm text-gray-400",children:P.name||P.symbol})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"font-light text-lg tabular-nums",children:e?`${cr(P.amount)} ${P.symbol}`:""}),o.jsxs("div",{className:`text-sm ${E>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[E>=0?"":""," ",Math.abs(E).toFixed(2),"%"]})]})]})]},P.symbol)})}),o.jsx("div",{className:"mt-4 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 text-center",children:o.jsxs("p",{className:"text-sm text-white/50",children:[" Para adicionar mais criptomoedas, v na aba ",o.jsx("span",{className:"font-semibold text-white",children:"Cripto"})," e clique 2x na moeda desejada"]})})]}):o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Criptomoedas"}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto mb-4 flex items-center justify-center",children:o.jsx(Gl,{className:"w-8 h-8 text-white/30"})}),o.jsx("p",{className:"text-white/50 text-sm mb-4",children:"Adicione criptomoedas ao seu portflio"}),o.jsx("button",{onClick:()=>t("crypto"),className:"px-6 py-3 bg-white text-black rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Ir para Cripto"}),o.jsx("p",{className:"text-xs text-white/30 mt-3",children:"Na aba Cripto, clique 2x em qualquer moeda para adicionar"})]})]})]})})]}),d.show&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>f({show:!1,holding:null}),children:o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 w-full max-w-md border border-white/10 shadow-[0_0_40px_rgba(255,255,255,0.1)]",onClick:P=>P.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Adicionar Saldo"}),o.jsx("button",{onClick:()=>f({show:!1,holding:null}),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10",children:o.jsx(qr,{className:"w-5 h-5 text-white"})})]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[o.jsx(ht,{symbol:d.holding?.symbol||"USDT",size:"lg"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-xl text-white mb-1",children:d.holding?.symbol||"USDT"}),o.jsx("div",{className:"text-sm text-gray-400",children:d.holding?.name||"USDT"})]})]}),o.jsxs("div",{className:"mb-4 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Saldo atual"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:[cr(d.holding?.amount||0)," ",d.holding?.symbol]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-400 mb-2",children:"Valor a adicionar"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",value:m,onChange:P=>p(P.target.value),placeholder:"0.00",step:"0.00000001",className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 pr-16 text-2xl font-bold text-white placeholder-gray-600 border border-white/10 focus:outline-none focus:border-white/30 transition-colors",autoFocus:!0}),o.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-lg font-semibold text-gray-400",children:d.holding?.symbol})]}),m&&parseFloat(m)>0&&o.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Novo saldo: ",cr((d.holding?.amount||0)+parseFloat(m))," ",d.holding?.symbol]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("button",{onClick:()=>f({show:!1,holding:null}),className:"py-4 rounded-2xl font-semibold bg-white/5 hover:bg-white/10 text-white transition-colors border border-white/10",disabled:y,children:"Cancelar"}),o.jsx("button",{onClick:z,className:"py-4 rounded-2xl font-semibold bg-white text-black hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:y||!m||parseFloat(m)<=0,children:y?"Adicionando...":"Adicionar"})]})]})}),b.show&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>_({show:!1,holding:null}),children:o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 w-full max-w-md border border-white/10 shadow-[0_0_40px_rgba(255,255,255,0.1)]",onClick:P=>P.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Remover Ativo"}),o.jsx("button",{onClick:()=>_({show:!1,holding:null}),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10",children:o.jsx(qr,{className:"w-5 h-5 text-white"})})]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[o.jsx(ht,{symbol:b.holding?.symbol||"USDT",size:"lg"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-xl text-white mb-1",children:b.holding?.symbol||"USDT"}),o.jsx("div",{className:"text-sm text-gray-400",children:b.holding?.name||"USDT"})]})]}),o.jsxs("div",{className:"mb-4 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Saldo atual"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:[cr(b.holding?.amount||0)," ",b.holding?.symbol]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("button",{onClick:()=>_({show:!1,holding:null}),className:"py-4 rounded-2xl font-semibold bg-white/5 hover:bg-white/10 text-white transition-colors border border-white/10",disabled:S,children:"Cancelar"}),o.jsx("button",{onClick:I,className:"py-4 rounded-2xl font-semibold bg-red-600 text-white hover:bg-red-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:S,children:S?"Removendo...":"Remover"})]})]})})]})}async function m1e(t,e){try{if(console.log(" Salvando converso:",e),!t)throw new Error("userId  obrigatrio");const n=it(we,"users",t,"conversions"),r={fromCurrency:e.fromCurrency,toCurrency:e.toCurrency,fromAmount:e.fromAmount,toAmount:e.toAmount,exchangeRate:e.exchangeRate,fee:e.fee,feePercentage:e.feePercentage,conversionMode:e.conversionMode,status:e.status,createdAt:vt.fromDate(new Date),completedAt:e.status==="completed"?vt.fromDate(new Date):null};e.fromCoinId!==void 0&&(r.fromCoinId=e.fromCoinId),e.toCoinId!==void 0&&(r.toCoinId=e.toCoinId),e.fromName!==void 0&&(r.fromName=e.fromName),e.toName!==void 0&&(r.toName=e.toName);const i=await us(n,r);console.log(" Converso salva com ID:",i.id);try{const s=it(we,"users",t,"transactions");await us(s,{type:"convert",status:e.status,amount:e.toAmount,currency:e.toCurrency,fromAmount:e.fromAmount,fromCurrency:e.fromCurrency,toAmount:e.toAmount,toCurrency:e.toCurrency,fee:e.fee||0,feeCurrency:e.fromCurrency,description:`Converso de ${e.fromAmount} ${e.fromCurrency} para ${e.toAmount} ${e.toCurrency}`,createdAt:vt.fromDate(new Date),completedAt:e.status==="completed"?vt.fromDate(new Date):null}),console.log(" Transao de converso criada no histrico")}catch(s){console.error(" Erro ao criar transao de converso (no crtico):",s)}return i.id}catch(n){throw console.error(" Erro ao salvar converso:",n),n}}function HS(t,e=.5){return t*(e/100)}function $L(t,e,n){return t>=e+n}async function ga(t,e){try{const n=et(we,"users",t,"fiatBalances",e),r=await Wi(n);return r.exists()&&r.data().balance||0}catch(n){return console.error(` Erro ao buscar saldo de ${e}:`,n),0}}async function tu(t,e,n,r,i){for(let l=1;l<=3;l++)try{console.log(` Atualizando saldo fiat ${e} (tentativa ${l}/3):`,n);const c=et(we,"users",t,"fiatBalances",e),d=await Wi(c);let f=0;d.exists()&&(f=d.data().balance||0);const m=f+n;return m<0?{success:!1,newBalance:f,message:`Saldo insuficiente. Saldo atual: ${f.toFixed(2)} ${e}`}:(d.exists()?await wi(c,{balance:m,updatedAt:$i()}):await Rn(c,{currency:e,balance:m,createdAt:$i(),updatedAt:$i()}),console.log(` Saldo de ${e} atualizado: ${f.toFixed(2)}  ${m.toFixed(2)}`),await p1e(t,{userId:t,currency:e,amount:Math.abs(n),type:n>=0?"credit":"debit",description:r,relatedConversionId:i,balanceBefore:f,balanceAfter:m,createdAt:new Date}),{success:!0,newBalance:m})}catch(c){if(console.error(` Erro ao atualizar saldo de ${e} (tentativa ${l}/3):`,c),l===3)return{success:!1,newBalance:0,message:c instanceof Error?c.message:"Erro ao atualizar saldo"};await new Promise(d=>setTimeout(d,500*l))}return{success:!1,newBalance:0,message:"Erro inesperado ao atualizar saldo"}}async function p1e(t,e){try{const n=et(we,"users",t,"fiatTransactions",`${Date.now()}`),r={userId:e.userId,currency:e.currency,amount:e.amount,type:e.type,description:e.description,balanceBefore:e.balanceBefore,balanceAfter:e.balanceAfter,createdAt:$i()};e.relatedConversionId!==void 0&&(r.relatedConversionId=e.relatedConversionId),await Rn(n,r),console.log(" Transao fiat salva no histrico")}catch(n){console.error(" Erro ao salvar transao fiat:",n)}}class g1e{locks=new Map;LOCK_TIMEOUT=3e4;async acquireLock(e,n){const r=this.locks.get(e);if(r){if(Date.now()-r.timestamp<this.LOCK_TIMEOUT)return console.warn(" Converso j em andamento para este usurio"),!1;console.warn(" Lock expirado removido:",r),this.locks.delete(e)}return this.locks.set(e,{userId:e,timestamp:Date.now(),operation:n}),console.log(" Lock adquirido:",{userId:e,operation:n}),!0}releaseLock(e){const n=this.locks.get(e);n&&(console.log(" Lock liberado:",{userId:e,duration:Date.now()-n.timestamp}),this.locks.delete(e))}hasActiveLock(e){const n=this.locks.get(e);return n?Date.now()-n.timestamp>=this.LOCK_TIMEOUT?(this.locks.delete(e),!1):!0:!1}clearAllLocks(){console.warn(" Limpando todos os locks"),this.locks.clear()}}const qL=new g1e;async function Cl(t,e){try{if(!t||t.trim()===""){console.warn(" userId invlido para salvar log de auditoria");return}const n=et(we,"users",t,"auditLogs",`${Date.now()}_${Math.random().toString(36).substr(2,9)}`),r={userId:t,operation:e.operation,fromCurrency:e.fromCurrency,toCurrency:e.toCurrency,fromAmount:e.fromAmount,toAmount:e.toAmount,conversionMode:e.conversionMode,balancesBefore:e.balancesBefore||null,balancesAfter:e.balancesAfter||null,conversionId:e.conversionId||null,errorMessage:e.errorMessage||null,metadata:e.metadata||null,timestamp:$i(),userAgent:typeof navigator<"u"?navigator.userAgent:null};await Rn(n,r),console.log(" Log de auditoria salvo:",e.operation)}catch(n){n instanceof Error&&n.message?.includes("permission-denied")?console.warn(" Log de auditoria desabilitado (permisso negada)"):console.error(" Erro ao salvar log de auditoria:",n)}}function Jd(t,e){return{from:Number(t.toFixed(8)),to:Number(e.toFixed(8))}}function y1e(){const{user:t}=Vt(),{portfolio:e,updateBalance:n}=qs(),[r,i]=N.useState([]),[s,a]=N.useState(!0);return N.useEffect(()=>{if(!t?.uid){a(!1);return}console.log(" Iniciando listener de converses para userId:",t.uid);let c=null;const d=it(we,"users",t.uid,"conversions"),f=Dt(d,vg("createdAt","desc"),Rl(50));return c=ei(f,m=>{console.log(" Snapshot de converses recebido - Total:",m.size);const p=[];m.forEach(y=>{const x=y.data();p.push({id:y.id,fromCurrency:x.fromCurrency,toCurrency:x.toCurrency,fromAmount:x.fromAmount,toAmount:x.toAmount,exchangeRate:x.exchangeRate,fee:x.fee,feePercentage:x.feePercentage,conversionMode:x.conversionMode,fromCoinId:x.fromCoinId,toCoinId:x.toCoinId,fromName:x.fromName,toName:x.toName,status:x.status,createdAt:x.createdAt?.toDate()||new Date,completedAt:x.completedAt?.toDate()})}),i(p),a(!1)},m=>{console.error(" Erro no listener de converses:",m),a(!1)}),()=>{console.log(" Cancelando listener de converses"),c&&c()}},[t?.uid]),{conversions:r,isLoading:s,executeConversion:async(c,d,f,m,p,y,x,b,_,S)=>{if(!t?.uid)return{success:!1,message:"Usurio no autenticado"};if(!await qL.acquireLock(t.uid,`${c}->${d}`))return{success:!1,message:"Aguarde a converso anterior finalizar"};let D=!1,z=!1,I;try{console.log(" Iniciando converso segura:",{from:c,to:d,amount:f,mode:y});const P=HS(f),C=f+P;let E=0,A=0;if(y==="crypto-crypto"){if(E=e.holdings.find(J=>J.symbol===c)?.amount||0,A=e.holdings.find(J=>J.symbol===d)?.amount||0,!$L(E,f,P))throw new Error(`Saldo insuficiente. Necessrio: ${C.toFixed(8)} ${c}`);await Cl(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Jd(E,A),metadata:{fee:P,totalDeducted:C,exchangeRate:p}}),console.log(" [CRYPTOCRYPTO] Saldo validado:",{available:E,required:C}),console.log(` [CRYPTOCRYPTO] Debitando ${C} ${c}`);const X=e.holdings.find(J=>J.symbol===c)?.amount||0;if(!$L(X,f,P))throw new Error("Saldo alterado durante converso. Tente novamente.");await n(c,x,-C,_),D=!0,console.log(" Dbito concludo"),await new Promise(J=>setTimeout(J,100)),console.log(` [CRYPTOCRYPTO] Creditando ${m} ${d}`),await n(d,b,m,S),z=!0,console.log(" Crdito concludo")}else if(y==="crypto-fiat")if(["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(c)){if(E=e.holdings.find(K=>K.symbol===c)?.amount||0,A=await ga(t.uid,d),E<f)throw new Error(`Saldo insuficiente. Disponvel: ${E.toFixed(8)} ${c}, Necessrio: ${f.toFixed(8)} ${c}`);if(await Cl(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Jd(E,A),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [CRYPTOFIAT] Saldo crypto validado:",{available:E,required:f}),console.log(` [CRYPTOFIAT] Debitando ${f} ${c}`),(e.holdings.find(K=>K.symbol===c)?.amount||0)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");await n(c,x,-f,_),D=!0,console.log(" Dbito cripto concludo"),console.log(` [CRYPTOFIAT] Creditando ${m} ${d}`);const O=await tu(t.uid,d,m,`Converso de ${f} ${c} para ${d}`);if(!O.success)throw new Error(O.message||"Erro ao adicionar saldo fiat");z=!0,console.log(" Crdito fiat concludo")}else{if(E=await ga(t.uid,c),A=e.holdings.find(O=>O.symbol===d)?.amount||0,E<f)throw new Error(`Saldo insuficiente. Disponvel: ${E.toFixed(2)} ${c}, Necessrio: ${f.toFixed(2)} ${c}`);if(await Cl(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Jd(E,A),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [FIATCRYPTO] Saldo fiat validado:",{available:E,required:f}),console.log(` [FIATCRYPTO] Debitando ${f} ${c}`),await ga(t.uid,c)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");const J=await tu(t.uid,c,-f,`Converso de ${f} ${c} para ${d}`);if(!J.success)throw new Error(J.message||"Erro ao debitar saldo fiat");D=!0,console.log(" Dbito fiat concludo"),console.log(` [FIATCRYPTO] Creditando ${m} ${d}`),await n(d,b,m,S),z=!0,console.log(" Crdito cripto concludo")}else if(y==="fiat-fiat"){if(E=await ga(t.uid,c),A=await ga(t.uid,d),E<f)throw new Error(`Saldo insuficiente. Disponvel: ${E.toFixed(2)} ${c}, Necessrio: ${f.toFixed(2)} ${c}`);if(await Cl(t.uid,{operation:"conversion_start",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Jd(E,A),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [FIATFIAT] Saldo validado:",{available:E,required:f}),console.log(` [FIATFIAT] Debitando ${f} ${c}`),await ga(t.uid,c)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");const F=await tu(t.uid,c,-f,`Converso de ${f} ${c} para ${d}`);if(!F.success)throw new Error(F.message||"Erro ao debitar saldo");D=!0,console.log(" Dbito fiat concludo"),console.log(` [FIATFIAT] Creditando ${m} ${d}`);const U=await tu(t.uid,d,m,`Converso de ${f} ${c} para ${d}`);if(!U.success)throw new Error(U.message||"Erro ao adicionar saldo");z=!0,console.log(" Crdito fiat concludo")}I=await m1e(t.uid,{fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,exchangeRate:p,fee:P,feePercentage:.5,conversionMode:y,fromCoinId:x,toCoinId:b,fromName:_,toName:S,status:"completed"}),console.log(" Converso executada com sucesso!",{conversionId:I});let j=0,V=0;if(y==="crypto-crypto"){const B=e.holdings.find(U=>U.symbol===c),F=e.holdings.find(U=>U.symbol===d);j=B?.amount||0,V=F?.amount||0}else y==="crypto-fiat"?["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(c)?(j=e.holdings.find(X=>X.symbol===c)?.amount||0,V=await ga(t.uid,d)):(j=await ga(t.uid,c),V=e.holdings.find(X=>X.symbol===d)?.amount||0):(j=await ga(t.uid,c),V=await ga(t.uid,d));return await Cl(t.uid,{operation:"conversion_success",conversionId:I,fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:Jd(E,A),balancesAfter:Jd(j,V)}),{success:!0,message:"Converso realizada com sucesso!",conversionId:I}}catch(P){console.error(" Erro ao executar converso:",P);const C=P instanceof Error?P.message:"Erro ao executar converso";if(D&&!z){console.warn(" Iniciando ROLLBACK automtico...");try{if(y==="crypto-crypto"){const E=HS(f),A=f+E;await n(c,x,A,_),console.log(" ROLLBACK concludo: Dbito revertido")}else y==="crypto-fiat"?["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(c)?(await n(c,x,f,_),console.log(" ROLLBACK concludo: Dbito cripto revertido")):(await tu(t.uid,c,f,`ROLLBACK: Converso falhou - ${C}`),console.log(" ROLLBACK concludo: Dbito fiat revertido")):y==="fiat-fiat"&&(await tu(t.uid,c,f,`ROLLBACK: Converso falhou - ${C}`),console.log(" ROLLBACK concludo: Dbito fiat revertido"));await Cl(t.uid,{operation:"conversion_rollback",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:`Rollback executado: ${C}`,metadata:{debitCompleted:D,creditCompleted:z}})}catch(E){console.error(" ERRO CRTICO NO ROLLBACK:",E),await Cl(t.uid,{operation:"conversion_failed",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:`ERRO CRTICO: Rollback falhou - ${E instanceof Error?E.message:"Erro desconhecido"}`,metadata:{originalError:C,debitCompleted:D,creditCompleted:z}})}}else await Cl(t.uid,{operation:"conversion_failed",fromCurrency:c,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:C,metadata:{debitCompleted:D,creditCompleted:z}});return{success:!1,message:C}}finally{qL.releaseLock(t.uid)}}}}function ww(){const[t,e]=N.useState([]),[n,r]=N.useState(!0),{user:i}=Vt();N.useEffect(()=>{if(!i?.uid){e([]),r(!1);return}r(!0);const p=it(we,"users",i.uid,"transactions"),y=Dt(p,vg("createdAt","desc")),x=T7(y,b=>{const S=b.docs.map(R=>{const D=R.data();let z;D.createdAt?.toDate?z=D.createdAt.toDate():D.createdAt instanceof Date?z=D.createdAt:typeof D.createdAt=="string"||typeof D.createdAt=="number"?z=new Date(D.createdAt):z=new Date;let I;return D.completedAt?.toDate?I=D.completedAt.toDate():D.completedAt instanceof Date?I=D.completedAt:D.completedAt&&(I=new Date(D.completedAt)),{...D,id:R.id,createdAt:z,completedAt:I}}).sort((R,D)=>D.createdAt.getTime()-R.createdAt.getTime());e(S),r(!1)},{maxRetries:3,retryDelay:1e3,onError:b=>{console.error(" Erro ao carregar transaes:",b),e([]),r(!1)}});return()=>{try{x()}catch(b){console.error(" Erro ao desinscrever listener:",b)}}},[i?.uid]);const s=async p=>{if(!i?.uid)throw new Error("Usurio no autenticado");try{const y=it(we,"transactions"),x=await us(y,{...p,userId:i.uid,createdAt:vt.now(),completedAt:p.status==="completed"?vt.now():null});return console.log(" Transao salva:",x.id),x.id}catch(y){throw console.error(" Erro ao salvar transao:",y),y}},a=(p,y=2)=>p.toLocaleString("pt-BR",{minimumFractionDigits:y,maximumFractionDigits:y});return{transactions:t,isLoading:n,addTransaction:s,formatAmount:a,getCurrencySymbol:p=>({BRL:"R$",USD:"$",EUR:"",GBP:"",USDT:"",BTC:"",ETH:""})[p]||p,formatTransactionDescription:p=>{switch(p.type){case"send_crypto":return`Envio de ${p.currency}`;case"receive_crypto":return`Recebimento de ${p.currency}`;case"crypto_send":return`Enviado ${p.currency}`;case"crypto_receive":return`Recebido ${p.currency}`;case"pix_send":return"PIX enviado";case"pix_receive":return"PIX recebido";case"convert":return`Converso ${p.fromCurrency}  ${p.toCurrency}`;case"deposit_fiat":return`Depsito ${p.currency}`;case"withdraw_fiat":return`Transferncia ${p.currency}`;case"buy_crypto":return`Compra de ${p.currency}`;case"sell_crypto":return`Venda de ${p.currency}`;default:return p.description||"Transao"}},formatTransactionAmount:p=>{const x=["receive_crypto","crypto_receive","pix_receive","deposit_fiat","convert"].includes(p.type)?"+":"-";if(p.type==="convert"&&p.toAmount&&p.toCurrency)return`${x} ${a(p.toAmount)} ${p.toCurrency}`;const b=Math.abs(p.amount);return`${x} ${a(b)} ${p.currency}`},getTransactionIcon:p=>p.type==="convert"?"":["send_crypto","crypto_send","pix_send","withdraw_fiat"].includes(p.type)?"":["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(p.type)?"":"",getTransactionIconType:p=>p.type==="convert"?"conversao":["send_crypto","crypto_send","pix_send","withdraw_fiat"].includes(p.type)?"saida":(["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(p.type),"entrada")}}async function v1e(t,e,n,r,i){try{const s=it(we,"notifications");await us(s,{userId:t,type:e,title:n,message:r,timestamp:$i(),read:!1,metadata:i||{},createdAt:$i()}),console.log(" Notification created:",{userId:t,type:e,title:n})}catch(s){throw console.error(" Error creating notification:",s),s}}async function x1e(t){try{const e=it(we,"notifications"),n=Dt(e,It("userId","==",t),vg("timestamp","desc")),r=await Ot(n),i=[];return r.forEach(s=>{const a=s.data();i.push({id:s.id,userId:a.userId,type:a.type,title:a.title,message:a.message,timestamp:a.timestamp?.toDate()||new Date,read:a.read||!1,metadata:a.metadata||{}})}),console.log(` Loaded ${i.length} notifications for user ${t}`),i}catch(e){throw console.error(" Error loading notifications:",e),e}}async function b1e(t){try{const e=et(we,"notifications",t);await wi(e,{read:!0,readAt:$i()}),console.log(" Notification marked as read:",t)}catch(e){throw console.error(" Error marking notification as read:",e),e}}async function w1e(t){try{const e=it(we,"notifications"),n=Dt(e,It("userId","==",t),It("read","==",!1)),r=await Ot(n),i=ou(we);r.forEach(s=>{i.update(s.ref,{read:!0,readAt:$i()})}),await i.commit(),console.log(` Marked ${r.size} notifications as read`)}catch(e){throw console.error(" Error marking all notifications as read:",e),e}}async function _1e(t,e,n,r,i){await v1e(t,"transaction","Converso realizada",`Voc converteu ${e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})} ${n} para ${r.toLocaleString("pt-BR",{minimumFractionDigits:8,maximumFractionDigits:8})} ${i}`,{fromAmount:e,fromCurrency:n,toAmount:r,toCurrency:i,type:"conversion"})}function N1e({onNavigate:t,onNavigateWithAccount:e}){const{user:n}=Vt(),{language:r}=In(),[i,s]=N.useState(""),[a,l]=N.useState(""),[c,d]=N.useState("BTC"),[f,m]=N.useState("USDT"),[p,y]=N.useState(!1),[x,b]=N.useState(!1),[_,S]=N.useState("crypto-crypto"),[R,D]=N.useState(!1),[z,I]=N.useState(!1),[P,C]=N.useState([]),[E,A]=N.useState(!1),{prices:j}=Ni(),{rates:V}=KP(),{portfolio:B}=qs(),{conversions:F,isLoading:U,executeConversion:X}=y1e(),{getBalance:J}=$g(),{addTransaction:O}=ww(),K=N.useRef(null);N.useEffect(()=>{K.current&&K.current.focus()},[]),N.useEffect(()=>(z?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[z]),N.useEffect(()=>{if(!n?.uid)return;(async()=>{try{const Ee=it(we,"bankAccounts"),Xe=Dt(Ee,It("userId","==",n.uid)),Ke=(await Ot(Xe)).docs.map(ft=>({...ft.data(),id:ft.id}));C(Ke),console.log(" Contas bancrias carregadas:",Ke.length)}catch(Ee){console.error(" Erro ao carregar contas bancrias:",Ee)}})()},[n]);const H=[{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BNB",name:"BNB",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"},{symbol:"XLM",name:"Stellar",id:"stellar"},{symbol:"TRX",name:"Tron",id:"tron"}],k=[{symbol:"BRL",name:"Real Brasileiro",flag:"https://flagcdn.com/w80/br.png"},{symbol:"USD",name:"Dlar Americano",flag:"https://flagcdn.com/w80/us.png"},{symbol:"EUR",name:"Euro",flag:"https://flagcdn.com/w80/eu.png"},{symbol:"GBP",name:"Libra Esterlina",flag:"https://flagcdn.com/w80/gb.png"}],$=N.useMemo(()=>{if(P.length===0)return[];const oe=[...new Set(P.map(Ee=>Ee.currency))];return k.filter(Ee=>oe.includes(Ee.symbol))},[P]),G=N.useMemo(()=>H.filter(oe=>{const Ee=B.holdings.find(Xe=>Xe.symbol===oe.symbol);return Ee&&Ee.amount>0}),[B.holdings]),Z=oe=>B.holdings.find(Xe=>Xe.symbol===oe)?.amount||0,Y=oe=>J(oe),te={BTC:"bitcoin",ETH:"ethereum",USDT:"tether",BNB:"binancecoin",SOL:"solana",XRP:"ripple",ADA:"cardano",AVAX:"avalanche-2",DOGE:"dogecoin",DOT:"polkadot",MATIC:"matic-network",LINK:"chainlink",UNI:"uniswap",LTC:"litecoin",ATOM:"cosmos",XLM:"stellar",TRX:"tron"},ie=oe=>H.some(Ee=>Ee.symbol===oe),ne=oe=>k.some(Ee=>Ee.symbol===oe),be=oe=>{if(oe==="fiat-fiat"&&$.length<2){Me.error("Voc precisa ter contas em pelo menos 2 pases diferentes para fazer converses entre moedas.");return}if(oe==="crypto-fiat"&&$.length===0){Me.error("Voc precisa abrir uma conta bancria para converter cripto em moeda fiat.");return}if(S(oe),oe==="crypto-crypto"){const Ee=G.length>0?G[0].symbol:"BTC";d(Ee),m(Ee==="USDT"?"BTC":"USDT")}else if(oe==="crypto-fiat"){const Ee=G.length>0?G[0].symbol:"BTC";d(Ee);const Xe=$.length>0?$[0].symbol:"BRL";m(Xe)}else{const Ee=$[0]?.symbol||"BRL",Xe=$[1]?.symbol||"USD";d(Ee),m(Xe)}s(""),l("")},se=()=>{const oe=c,Ee=i;d(f),m(oe),s(a),l(Ee)},ve=oe=>{const Ee=oe.replace(/\D/g,"");if(!Ee){s("");return}const de=parseInt(Ee,10)/100;s(de.toString())},Pe=oe=>{if(!oe)return"0,00";const Ee=parseFloat(oe);if(isNaN(Ee))return"0,00";const Xe=Ee.toFixed(2),[de,Ke]=Xe.split(".");return`${de.replace(/\B(?=(\d{3})+(?!\d))/g,".")},${Ke}`},fe=N.useMemo(()=>{if(_==="crypto-crypto"){const oe=te[c],Ee=te[f],Xe=j[oe]?.usd||1,de=j[Ee]?.usd||1;return Xe/de}else if(_==="crypto-fiat")if(ie(c)){const Ee=te[c],Xe=j[Ee]?.usd||1,de=V[f]||1;return Xe*de}else{const Ee=te[f],Xe=j[Ee]?.usd||1;return(V[c]||1)/Xe}else if(_==="fiat-fiat"){const oe=V[c]||1;return(V[f]||1)/oe}return 1},[_,c,f,j,V,te,ie]);N.useEffect(()=>{if(!i){l("");return}const oe=parseFloat(i);if(isNaN(oe)){l("");return}if(_==="crypto-crypto"){const Ee=te[c],Xe=te[f],de=j[Ee]?.usd||0,Ke=j[Xe]?.usd||1,ft=oe*de/Ke;l(f==="USDT"?ft.toFixed(2):ft.toString())}else if(_==="crypto-fiat")if(ie(c)){const Xe=te[c],de=j[Xe]?.usd||0,Ke=V[f]||1,st=oe*de*Ke;l(st.toFixed(2))}else{const Xe=te[f],de=j[Xe]?.usd||0,Ke=V[c]||1,st=oe/Ke/de;l(f==="USDT"?st.toFixed(2):st.toString())}else if(_==="fiat-fiat"){const Ee=V[c]||1,Xe=V[f]||1,Ke=oe/Ee*Xe;l(Ke.toFixed(2))}},[i,c,f,j,V,_,te,ie]);const Ae=N.useMemo(()=>{if(!i)return!1;const oe=parseFloat(i);if(isNaN(oe)||oe<=0)return!1;if(_==="crypto-crypto"){const Ee=HS(oe),Xe=oe+Ee;return Z(c)<Xe}else{if(_==="crypto-fiat")return ie(c)?Z(c)<oe:Y(c)<oe;if(_==="fiat-fiat")return Y(c)<oe}return!1},[i,c,_,Z,Y,ie]),De=()=>{if(!i)return null;const oe=parseFloat(i);if(isNaN(oe)||oe<=0)return null;if(_==="crypto-crypto"){if(Z(c)===0)return`Sem saldo em ${c}`;if(Ae)return"Saldo insuficiente (inclui taxa 0,5%)"}else if(_==="crypto-fiat"){if(Z(c)===0)return`Sem saldo em ${c}`;if(Ae)return"Saldo insuficiente"}else if(_==="fiat-fiat"){if(Y(c)===0)return`Sem saldo em ${c}`;if(Ae)return"Saldo insuficiente"}return null},Ze=async()=>{if(!(!a||!i)){D(!0);try{const oe=H.find(Qt=>Qt.symbol===c),Ee=H.find(Qt=>Qt.symbol===f),Xe=k.find(Qt=>Qt.symbol===c),de=k.find(Qt=>Qt.symbol===f);let Ke,ft,st,at;_==="crypto-crypto"?(Ke=oe?.id,ft=Ee?.id,st=oe?.name,at=Ee?.name):_==="crypto-fiat"?ie(c)?(Ke=oe?.id,ft=void 0,st=oe?.name,at=de?.name):(Ke=void 0,ft=Ee?.id,st=Xe?.name,at=Ee?.name):_==="fiat-fiat"&&(Ke=void 0,ft=void 0,st=Xe?.name,at=de?.name);const kt=await X(c,f,parseFloat(i),parseFloat(a),fe,_,Ke,ft,st,at);if(kt.success){try{await O({type:"convert",status:"completed",amount:parseFloat(a),currency:f,fromAmount:parseFloat(i),fromCurrency:c,toAmount:parseFloat(a),toCurrency:f,fee:_==="crypto-crypto"?parseFloat(i)*.005:0,feeCurrency:c,description:`Converso ${c}  ${f}`}),console.log(" Transao salva no Firestore")}catch(Qt){console.error(" Erro ao salvar transao:",Qt)}s(""),l(""),Me.success("Converso realizada com sucesso!"),I(!0),n?.uid&&await _1e(n.uid,parseFloat(i),c,parseFloat(a),f)}else Me.error(kt.message)}catch(oe){console.error("Erro ao executar a converso:",oe),Me.error("Erro ao processar converso")}finally{D(!1)}}},ct=()=>{I(!1)},Be=()=>{I(!1),t("home")},yt=async oe=>{if(!(!n?.uid||!oe||!window.confirm(" Deseja excluir esta converso?")))try{const{deleteDoc:Xe,doc:de}=await GP(async()=>{const{deleteDoc:Ke,doc:ft}=await Promise.resolve().then(()=>nte);return{deleteDoc:Ke,doc:ft}},void 0,import.meta.url);await Xe(de(we,"users",n.uid,"conversions",oe)),Me.success(" Converso excluda com sucesso!"),console.log(` Converso ${oe} removida`)}catch(Xe){console.error(" Erro ao excluir converso:",Xe),Me.error("Erro ao excluir converso")}},dt=()=>{const oe=ie(c)?Z(c):Y(c);if(oe<=0){Me.error("Saldo insuficiente");return}let Ee;_==="crypto-crypto"?Ee=oe/1.005:Ee=oe;const de=Math.floor(Ee*100).toString();ve(de)};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col relative",children:[o.jsxs("div",{className:"px-6 pt-12 pb-2 flex items-center flex-shrink-0",children:[o.jsx("button",{className:"w-10 h-10 flex items-center justify-start text-white",onClick:()=>t("home"),children:o.jsx(Nt,{className:"w-6 h-6"})}),o.jsx("h1",{className:"flex-1 text-center text-lg",children:"Exchange"}),o.jsx("div",{className:"w-10 h-10"})]}),o.jsx("div",{className:"flex-1 overflow-y-auto hide-scrollbar pb-28",children:o.jsxs("div",{className:"flex flex-col px-4 pt-6",children:[o.jsxs("div",{className:"flex gap-2 mb-6 bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-1.5",children:[o.jsx("button",{onClick:()=>be("crypto-crypto"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${_==="crypto-crypto"?"bg-white text-black":"text-gray-500"}`,children:"Cripto  Cripto"}),o.jsx("button",{onClick:()=>be("crypto-fiat"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${_==="crypto-fiat"?"bg-white text-black":"text-gray-500"}`,children:"Cripto  Moeda"}),o.jsx("button",{onClick:()=>be("fiat-fiat"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${_==="fiat-fiat"?"bg-white text-black":"text-gray-500"}`,children:"Moeda  Moeda"})]}),o.jsxs("div",{className:"relative space-y-2",children:[o.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-3xl p-6 flex items-center justify-between h-32 relative",children:[o.jsx("button",{className:"absolute top-3 right-3 text-[10px] text-gray-500 hover:text-white transition-colors px-2 py-1 rounded-lg hover:bg-white/5",onClick:dt,children:"Converter tudo"}),o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("button",{className:"flex items-center gap-2 group",onClick:()=>{y(!p),b(!1)},children:[o.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center",children:ie(c)?o.jsx(ht,{symbol:c,size:"xs"}):o.jsx("img",{src:k.find(oe=>oe.symbol===c)?.flag,alt:c,className:"w-full h-full object-cover"})}),o.jsx("span",{className:"text-xl text-white",children:c}),o.jsx(wo,{className:"w-4 h-4 text-gray-500"})]}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:ie(c)?`Saldo: ${cr(Z(c))} ${c}`:`Saldo: ${Xr(Y(c).toString(),c)}`})]}),o.jsx("div",{className:"text-right",children:o.jsx("input",{type:"text",inputMode:"numeric",value:Pe(i),onChange:oe=>ve(oe.target.value),placeholder:"0,00",className:"text-base font-normal text-white bg-transparent text-right focus:outline-none w-32 placeholder-gray-700",style:{caretColor:"#0A84FF"},ref:K})}),p&&o.jsxs("div",{className:"absolute left-6 top-20 bg-zinc-900 rounded-xl p-2 shadow-2xl border border-zinc-700 z-50 w-[200px] max-h-[280px] overflow-y-auto",children:[_==="crypto-crypto"&&G.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===f&&m(c),d(oe.symbol),y(!1)},children:[o.jsx(ht,{symbol:oe.symbol,size:"xs"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),_==="crypto-fiat"&&o.jsxs(o.Fragment,{children:[H.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{d(oe.symbol),y(!1)},children:[o.jsx(ht,{symbol:oe.symbol,size:"xs"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),o.jsx("div",{className:"h-px bg-zinc-700 my-2"}),$.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{d(oe.symbol),y(!1)},children:[o.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]}),_==="fiat-fiat"&&$.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===f&&m(c),d(oe.symbol),y(!1)},children:[o.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]})]}),o.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10",children:o.jsx("button",{className:"w-10 h-10 bg-white/10 backdrop-blur-md text-white rounded-full flex items-center justify-center border border-white/20 active:scale-90 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.1),0_4px_15px_rgba(0,0,0,0.5),inset_0_1px_2px_rgba(255,255,255,0.3),inset_0_-1px_2px_rgba(0,0,0,0.3)]",onClick:se,children:o.jsxs("div",{className:"flex flex-col items-center justify-center gap-0",children:[o.jsx(vT,{className:"w-3.5 h-3.5 stroke-[2.5]"}),o.jsx(yT,{className:"w-3.5 h-3.5 stroke-[2.5]"})]})})}),o.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-3xl p-6 flex items-center justify-between h-32 relative",children:[o.jsxs("div",{className:"flex flex-col gap-1",children:[o.jsxs("button",{className:"flex items-center gap-2 group",onClick:()=>{b(!x),y(!1)},children:[o.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center",children:ie(f)?o.jsx(ht,{symbol:f,size:"xs"}):o.jsx("img",{src:k.find(oe=>oe.symbol===f)?.flag,alt:f,className:"w-full h-full object-cover"})}),o.jsx("span",{className:"text-xl text-white",children:f}),o.jsx(wo,{className:"w-4 h-4 text-gray-500"})]}),o.jsx("p",{className:"text-gray-500 text-xs mt-1",children:ie(f)?`Saldo: 0 ${f}`:"Saldo: $ 0,00"})]}),o.jsxs("div",{className:"text-right flex items-center",children:[o.jsx("div",{className:"text-base font-normal text-white text-right w-32 flex items-baseline justify-end",children:a?ne(f)?o.jsxs(o.Fragment,{children:[o.jsx("span",{className:"text-base",children:Xr(a,f).split(",")[0]}),Xr(a,f).includes(",")&&o.jsxs("span",{className:"text-sm",children:[",",Xr(a,f).split(",")[1]]})]}):f==="USDT"?Xr(a):cr(parseFloat(a)):"0"}),o.jsx("div",{className:"h-6 w-[2px] bg-[#0A84FF] ml-0.5 animate-pulse"})]}),x&&o.jsxs("div",{className:"absolute left-6 top-20 bg-zinc-900 rounded-xl p-2 shadow-2xl border border-zinc-700 z-50 w-[200px] max-h-[280px] overflow-y-auto",children:[_==="crypto-crypto"&&H.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===c&&d(f),m(oe.symbol),b(!1)},children:[o.jsx(ht,{symbol:oe.symbol,size:"xs"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),_==="crypto-fiat"&&o.jsxs(o.Fragment,{children:[H.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{m(oe.symbol),b(!1)},children:[o.jsx(ht,{symbol:oe.symbol,size:"xs"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),o.jsx("div",{className:"h-px bg-zinc-700 my-2"}),$.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{m(oe.symbol),b(!1)},children:[o.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]}),_==="fiat-fiat"&&$.map(oe=>o.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===c&&d(f),m(oe.symbol),b(!1)},children:[o.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-sm",children:oe.name}),o.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]})]})]}),o.jsxs("div",{className:"mt-6 px-4 space-y-3",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-500 text-xs",children:"Cotao"}),o.jsxs("span",{className:"text-xs text-white",children:[i||"1"," ",c," = ",ie(f)&&f!=="USDT"?cr((parseFloat(i)||1)*fe):Xr((parseFloat(i)||1)*fe)," ",f]})]}),_==="crypto-crypto"&&o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-500 text-xs",children:"Taxa de converso (0.5%)"}),o.jsxs("span",{className:"text-xs text-white",children:[i?ie(c)&&c!=="USDT"?cr(parseFloat(i)*.005):Xr(parseFloat(i)*.005):"0"," ",c]})]}),o.jsxs("div",{className:"flex justify-between items-center border-b border-zinc-900 pb-3",children:[o.jsx("span",{className:"text-gray-500 text-xs",children:"Processamento"}),o.jsx("span",{className:"text-xs text-white",children:"~ 30 segundos"})]})]}),o.jsxs("div",{className:"mt-6 px-2 pb-6",children:[o.jsx("button",{className:`w-full h-14 text-base rounded-2xl transition-opacity ${a&&i?"bg-white text-black active:opacity-90":"bg-zinc-800 text-gray-600 cursor-not-allowed"}`,disabled:!a||!i||Ae,onClick:Ze,children:R?"Convertendo...":"Confirmar Exchange"}),Ae&&o.jsx("p",{className:"text-red-500 text-xs mt-2 text-center",children:De()})]}),o.jsxs("div",{className:"mt-10 px-2 pb-24",children:[o.jsxs("button",{className:"w-full flex items-center justify-between mb-4 active:opacity-70 transition-opacity",onClick:()=>A(!E),children:[o.jsx("h2",{className:"text-white text-lg",children:"Histrico de Converses"}),o.jsx(wo,{className:`w-5 h-5 text-gray-500 transition-transform ${E?"rotate-180":""}`})]}),E&&o.jsxs(o.Fragment,{children:[(console.log(" [Convert] Estado do histrico:",{isLoading:U,conversionsCount:F.length,conversions:F.slice(0,3)}),null),U?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-white border-r-transparent"}),o.jsx("p",{className:"text-white/50 text-sm mt-4",children:"Carregando histrico..."})]}):F.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-white/50 text-sm",children:"Nenhuma converso realizada ainda"})}):o.jsx("div",{className:"space-y-1",children:F.map((oe,Ee)=>{const Xe=Ee<F.length-1,Ke=oe.createdAt.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between py-4 active:bg-zinc-900/50 transition-colors cursor-pointer",onDoubleClick:()=>oe.id&&yt(oe.id),title:"Clique 2x para excluir",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center border border-zinc-800",children:o.jsx("svg",{className:"w-5 h-5 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-white",children:[oe.fromCurrency," para ",oe.toCurrency]}),o.jsx("p",{className:"text-[10px] text-gray-500",children:Ke})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"text-xs text-white",children:["+",oe.toCurrency==="USDT"||ne(oe.toCurrency)?Xr(oe.toAmount):cr(oe.toAmount)," ",oe.toCurrency]}),o.jsxs("p",{className:"text-[10px] text-gray-500",children:["-",oe.fromCurrency==="USDT"||ne(oe.fromCurrency)?Xr(oe.fromAmount):cr(oe.fromAmount)," ",oe.fromCurrency]})]})]}),Xe&&o.jsx("div",{className:"h-px bg-zinc-900 w-full ml-12"})]},oe.id||Ee)})})]})]})]})}),z&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6 overflow-hidden",children:o.jsxs("div",{className:"bg-black w-full h-full flex flex-col items-center justify-start pt-20 px-8 overflow-hidden",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),o.jsx("h2",{className:"text-white text-xl font-bold mb-3 text-center",children:"Converso Realizada!"}),o.jsx("p",{className:"text-white/70 text-sm mb-8 text-center",children:"Deseja fazer outra converso?"}),o.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[o.jsx("button",{className:"w-full h-14 bg-white text-black font-bold text-base rounded-2xl transition-opacity active:opacity-90",onClick:ct,children:"Sim, fazer outra"}),o.jsx("button",{className:"w-full h-14 bg-white/10 backdrop-blur-md border border-white/20 text-white font-bold text-base rounded-2xl transition-opacity active:opacity-90",onClick:Be,children:"No, voltar para Home"})]})]})})]})}function C1e({onNavigate:t}){const[e,n]=N.useState("all"),{prices:r,isLoading:i}=Ni(),{portfolio:s,addOrUpdateCrypto:a}=qs(),{user:l}=Vt(),{t:c}=In(),[d,f]=N.useState({show:!1,crypto:null}),[m,p]=N.useState(""),[y,x]=N.useState(!1),[b,_]=N.useState(!1),[S,R]=N.useState(""),[D,z]=N.useState([]);N.useEffect(()=>{(async()=>{if(!l?.uid){z([]);return}try{const Y=await Wi(et(we,"users",l.uid,"preferences","crypto-favorites"));if(Y.exists()){const te=Y.data();z(te.favorites||[])}else z([])}catch(Y){Y?.code!=="permission-denied"&&console.error("Erro ao carregar favoritos:",Y),z([])}})()},[l]);const I=async Z=>{if(!l?.uid){Me.error("Faa login para salvar favoritos");return}const Y=D.includes(Z)?D.filter(te=>te!==Z):[...D,Z];z(Y);try{await Rn(et(we,"users",l.uid,"preferences","crypto-favorites"),{favorites:Y,updatedAt:new Date}),Y.includes(Z)?Me.success("Adicionado aos favoritos"):Me.success("Removido dos favoritos")}catch(te){console.error("Erro ao salvar favoritos:",te),Me.error("Erro ao salvar favorito"),z(D)}},[P,C]=N.useState(0),[E,A]=N.useState(!1),j=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin"},{id:"ethereum",symbol:"ETH",name:"Ethereum"},{id:"tether",symbol:"USDT",name:"Tether"},{id:"binancecoin",symbol:"BNB",name:"Binance Coin"},{id:"solana",symbol:"SOL",name:"Solana"},{id:"ripple",symbol:"XRP",name:"XRP"},{id:"usd-coin",symbol:"USDC",name:"USD Coin"},{id:"cardano",symbol:"ADA",name:"Cardano"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin"},{id:"tron",symbol:"TRX",name:"TRON"},{id:"avalanche-2",symbol:"AVAX",name:"Avalanche"},{id:"polkadot",symbol:"DOT",name:"Polkadot"},{id:"matic-network",symbol:"MATIC",name:"Polygon"},{id:"chainlink",symbol:"LINK",name:"Chainlink"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu"},{id:"litecoin",symbol:"LTC",name:"Litecoin"},{id:"uniswap",symbol:"UNI",name:"Uniswap"},{id:"stellar",symbol:"XLM",name:"Stellar"},{id:"cosmos",symbol:"ATOM",name:"Cosmos"},{id:"monero",symbol:"XMR",name:"Monero"},{id:"ethereum-classic",symbol:"ETC",name:"Ethereum Classic"},{id:"bitcoin-cash",symbol:"BCH",name:"Bitcoin Cash"},{id:"near",symbol:"NEAR",name:"NEAR Protocol"},{id:"algorand",symbol:"ALGO",name:"Algorand"},{id:"vechain",symbol:"VET",name:"VeChain"},{id:"fantom",symbol:"FTM",name:"Fantom"},{id:"the-graph",symbol:"GRT",name:"The Graph"},{id:"filecoin",symbol:"FIL",name:"Filecoin"},{id:"hedera-hashgraph",symbol:"HBAR",name:"Hedera"},{id:"aptos",symbol:"APT",name:"Aptos"},{id:"arbitrum",symbol:"ARB",name:"Arbitrum"},{id:"optimism",symbol:"OP",name:"Optimism"},{id:"render-token",symbol:"RNDR",name:"Render"},{id:"injective-protocol",symbol:"INJ",name:"Injective"},{id:"sui",symbol:"SUI",name:"Sui"}],V=Z=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(Z),B=Z=>Z>=1e12?`$ ${(Z/1e12).toFixed(1)}T`:Z>=1e9?`$ ${(Z/1e9).toFixed(0)}B`:Z>=1e6?`$ ${(Z/1e6).toFixed(0)}M`:`$ ${Z.toFixed(0)}`,F=j.map(Z=>{const Y=r[Z.id],te=Y?.usd||0,ie=Y?.usd_24h_change||0,ne=Y?.usd_market_cap||0;return{...Z,price:V(te),change:`${ie>=0?"+":""}${ie.toFixed(1)}%`,trend:ie>0?"up":ie<0?"down":"neutral",marketCap:B(ne),isFavorite:D.includes(Z.id)}}),U=N.useMemo(()=>j.map(Y=>{const te=r[Y.id],ie=te?.usd_24h_change||0,ne=te?.usd||0;return{...Y,changePercent:ie,price:ne}}).filter(Y=>Y.changePercent>0).sort((Y,te)=>te.changePercent-Y.changePercent).slice(0,5),[r]),X=Z=>{const Y=Z.price,te=Z.changePercent,ie=[];for(let ne=0;ne<24;ne++){const be=ne/23,se=(Math.random()-.5)*(te/5),ve=te*be/100+se,Pe=te*.3,fe=(Math.random()-.5)*(Pe/5),Ae=Pe*be/100+fe;ie.push({time:`${ne}h`,price:Y*(1+ve/100),change:ve,pricePast:Y*.95*(1+Ae/100)})}return ie};N.useEffect(()=>{if(U.length===0||E)return;const Z=setInterval(()=>{C(Y=>(Y+1)%U.length)},5e3);return()=>clearInterval(Z)},[U.length,E]),N.useMemo(()=>U.map((Z,Y)=>({name:Z.symbol,value:Z.changePercent,price:Z.price,fullName:Z.name})),[U]);const J=s.holdings.map(Z=>Z.coinId),O=F.filter(Z=>!J.includes(Z.id)),H=N.useMemo(()=>{let Z=O;if(S.trim()){const Y=S.toLowerCase();Z=Z.filter(te=>te.name.toLowerCase().includes(Y)||te.symbol.toLowerCase().includes(Y)||te.id.toLowerCase().includes(Y))}return e==="favorites"&&(Z=Z.filter(Y=>Y.isFavorite)),Z},[O,S,e,D]),k="bg-white/5 backdrop-blur-md border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",$=Z=>{f({show:!0,crypto:{id:Z.id,symbol:Z.symbol,name:Z.name}}),p("")},G=async()=>{if(!d.crypto||!m||parseFloat(m)<=0){Me.error("Digite um valor vlido");return}x(!0);try{const Z=parseFloat(m),Y=s.holdings.find(ie=>ie.coinId===d.crypto.id),te=Y?Y.amount+Z:Z;await a(d.crypto.symbol,d.crypto.id,te,d.crypto.name),Me.success("Saldo adicionado com sucesso!",{description:`+${cr(Z)} ${d.crypto.symbol}`}),f({show:!1,crypto:null}),p("")}catch(Z){console.error("Erro ao adicionar saldo:",Z),Me.error("Erro ao adicionar saldo")}finally{x(!1)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[o.jsxs("header",{className:"px-6 pt-8 pb-6",children:[o.jsx("h1",{className:"text-lg font-semibold mb-6",children:c.cryptoMarket}),o.jsxs("div",{className:"relative mb-6",children:[o.jsx(Xl,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2 z-10"}),o.jsx("input",{type:"text",placeholder:c.cryptoPage.searchCrypto,className:`w-full rounded-2xl pl-12 pr-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-zinc-700 ${k}`,value:S,onChange:Z=>R(Z.target.value)})]}),o.jsxs("div",{className:"flex gap-3 mb-6",children:[o.jsx("button",{onClick:()=>n("all"),className:e==="all"?"flex-1 py-3 rounded-full font-semibold transition-colors bg-white text-black":`flex-1 py-3 rounded-full font-semibold transition-colors text-gray-400 ${k}`,children:c.cryptoPage.all}),o.jsxs("button",{onClick:()=>n("favorites"),className:e==="favorites"?"flex-1 py-3 rounded-full font-semibold transition-colors bg-white text-black":`flex-1 py-3 rounded-full font-semibold transition-colors text-gray-400 ${k}`,children:[c.cryptoPage.favorites," ",o.jsx(n_,{className:"w-4 h-4 inline ml-1"})]})]})]}),o.jsx("div",{className:"px-6 mb-6",children:U.length>0&&U[P]&&o.jsx("div",{className:"relative",children:o.jsxs("div",{className:`rounded-2xl p-4 overflow-hidden relative ${k} cursor-pointer`,onDoubleClick:()=>$(U[P]),onMouseEnter:()=>A(!0),onMouseLeave:()=>A(!1),children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#34c759]/10 via-transparent to-[#34c759]/5 pointer-events-none"}),o.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-3",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("h2",{className:"text-sm font-bold",children:"Cripto em Alta"})}),o.jsxs("div",{className:"flex items-center gap-1 text-xs text-[#34c759] font-semibold",children:[o.jsx(zi,{className:"w-3 h-3"}),"Tempo Real"]})]}),o.jsxs("div",{className:"relative z-10 grid grid-cols-2 gap-3 mb-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(ht,{symbol:U[P].symbol,size:"sm"}),o.jsx("div",{children:o.jsx("h3",{className:"text-base font-bold text-white",children:U[P].symbol})})]}),o.jsxs("div",{className:"mb-2",children:[o.jsx("p",{className:"text-xs text-white/40",children:"Preo"}),o.jsx("p",{className:"text-white",children:U[P].price<1?o.jsxs(o.Fragment,{children:["$ ",U[P].price.toLocaleString("pt-BR",{minimumFractionDigits:6,maximumFractionDigits:6})]}):o.jsx(_a,{value:U[P].price,symbol:"$",className:"text-lg font-light"})})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-white/40",children:"24h"}),o.jsxs("p",{className:"text-lg font-bold text-[#34c759] flex items-center gap-1",children:["+",U[P].changePercent.toFixed(2),"%",o.jsx(zi,{className:"w-3 h-3"})]})]})]}),o.jsx("div",{className:"h-24 w-full",style:{minHeight:"96px",minWidth:"150px"},children:o.jsx(G8,{width:"100%",height:"100%",minHeight:96,children:o.jsxs(Swe,{data:X(U[P]),children:[o.jsxs("defs",{children:[o.jsxs("linearGradient",{id:"colorCurrent",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#34c759",stopOpacity:.8}),o.jsx("stop",{offset:"95%",stopColor:"#34c759",stopOpacity:0})]}),o.jsxs("linearGradient",{id:"colorPast",x1:"0",y1:"0",x2:"0",y2:"1",children:[o.jsx("stop",{offset:"5%",stopColor:"#ff9f0a",stopOpacity:.4}),o.jsx("stop",{offset:"95%",stopColor:"#ff9f0a",stopOpacity:0})]})]}),o.jsx(sye,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.95)",border:"1px solid rgba(52, 199, 89, 0.3)",borderRadius:"8px",padding:"6px 10px"},labelStyle:{display:"none"},formatter:(Z,Y)=>Y==="price"?[`$${Z.toFixed(2)}`,"Hoje"]:Y==="pricePast"?[`$${Z.toFixed(2)}`,"5 dias atrs"]:["",""]}),o.jsx(FS,{type:"monotone",dataKey:"pricePast",stroke:"#ff9f0a",strokeWidth:1.5,strokeOpacity:.6,fill:"url(#colorPast)",dot:!1,animationDuration:1500,animationEasing:"ease-in-out",isAnimationActive:!0}),o.jsx(FS,{type:"monotone",dataKey:"price",stroke:"#34c759",strokeWidth:2,fill:"url(#colorCurrent)",dot:!1,animationDuration:1500,animationEasing:"ease-in-out",isAnimationActive:!0})]})})})]})]})})}),o.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(20px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `}),o.jsxs("div",{className:"px-6 space-y-4 pb-24",children:[o.jsx("button",{onClick:()=>_(!b),className:`w-full rounded-2xl p-4 hover:bg-white/10 transition-all ${k}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center",children:b?o.jsx(Gx,{className:"w-6 h-6 text-white rotate-90"}):o.jsx(zr,{className:"w-6 h-6 text-white rotate-90"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-white",children:b?"Ocultar Lista":"Ver Todas as Criptomoedas"}),o.jsxs("div",{className:"text-sm text-gray-400",children:[H.length," ",H.length===1?"ativo disponvel":"ativos disponveis"]})]})]}),o.jsx("div",{className:"text-sm font-semibold text-gray-400",children:b?"Ocultar":"Expandir"})]})}),b&&o.jsx(o.Fragment,{children:H.length>0?o.jsx(o.Fragment,{children:H.map(Z=>o.jsxs("div",{className:`w-full rounded-2xl p-4 hover:bg-white/10 transition-colors cursor-pointer ${k}`,onDoubleClick:()=>$(Z),title:"Clique 2x para adicionar saldo",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(ht,{symbol:Z.symbol,size:"md"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold",children:Z.name}),o.jsx("div",{className:"text-sm text-gray-400",children:Z.symbol})]})]}),o.jsx("button",{className:"text-gray-400 hover:text-yellow-500 transition-colors",onClick:Y=>{Y.stopPropagation(),I(Z.id)},children:o.jsx(n_,{className:`w-5 h-5 ${Z.isFavorite?"fill-yellow-500 text-yellow-500":""}`})})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"text-lg font-semibold",children:Z.price}),o.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${Z.trend==="up"?"text-green-500":Z.trend==="down"?"text-red-500":"text-gray-400"}`,children:[Z.trend==="up"&&o.jsx(zi,{className:"w-4 h-4"}),Z.trend==="down"&&o.jsx(Su,{className:"w-4 h-4"}),Z.change]})]}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Market Cap: ",Z.marketCap]})]},Z.id))}):o.jsxs("div",{className:`rounded-2xl p-8 text-center ${k}`,children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto mb-4 flex items-center justify-center",children:o.jsx(n_,{className:"w-8 h-8 text-white/30 fill-white/30"})}),o.jsx("p",{className:"text-white font-semibold mb-2",children:"Todas as criptos esto ativas!"}),o.jsx("p",{className:"text-sm text-white/50",children:"Voc j adicionou todas as criptomoedas disponveis ao seu portflio."}),o.jsx("button",{onClick:()=>t("wallet"),className:"mt-4 px-6 py-3 bg-white text-black rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:"Ver Portflio"})]})})]})]}),d.show&&o.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>f({show:!1,crypto:null}),children:o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 w-full max-w-md border border-white/10 shadow-[0_0_40px_rgba(255,255,255,0.1)]",onClick:Z=>Z.stopPropagation(),children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Adicionar ao Portflio"}),o.jsx("button",{onClick:()=>f({show:!1,crypto:null}),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10",children:o.jsx(qr,{className:"w-5 h-5 text-white"})})]}),o.jsxs("div",{className:"flex items-center gap-4 mb-6 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[o.jsx(ht,{symbol:d.crypto?.symbol||"BTC",size:"lg"}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-xl text-white mb-1",children:d.crypto?.symbol||"BTC"}),o.jsx("div",{className:"text-sm text-gray-400",children:d.crypto?.name||"Bitcoin"})]})]}),(()=>{const Z=s.holdings.find(Y=>Y.coinId===d.crypto?.id);return Z?o.jsxs("div",{className:"mb-4 p-4 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"Saldo atual"}),o.jsxs("p",{className:"text-2xl font-bold text-white",children:[cr(Z.amount)," ",Z.symbol]})]}):null})(),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-400 mb-2",children:"Quantidade a adicionar"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"number",value:m,onChange:Z=>p(Z.target.value),placeholder:"0.00",step:"0.00000001",className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 pr-16 text-2xl font-bold text-white placeholder-gray-600 border border-white/10 focus:outline-none focus:border-white/30 transition-colors",autoFocus:!0}),o.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-lg font-semibold text-gray-400",children:d.crypto?.symbol})]}),m&&parseFloat(m)>0&&(()=>{const Y=s.holdings.find(te=>te.coinId===d.crypto?.id)?.amount||0;return o.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["Novo saldo: ",cr(Y+parseFloat(m))," ",d.crypto?.symbol]})})()]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("button",{onClick:()=>f({show:!1,crypto:null}),className:"py-4 rounded-2xl font-semibold bg-white/5 hover:bg-white/10 text-white transition-colors border border-white/10",disabled:y,children:"Cancelar"}),o.jsx("button",{onClick:G,className:"py-4 rounded-2xl font-semibold bg-white text-black hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:y||!m||parseFloat(m)<=0,children:y?"Adicionando...":"Adicionar"})]})]})})]})}function E1e({onNavigate:t}){const{userData:e,logout:n}=Vt(),{t:r}=In(),i=l=>{const c=l.split(" ");return c.length>=2?`${c[0][0]}${c[1][0]}`.toUpperCase():l.substring(0,2).toUpperCase()},s=async()=>{try{console.log(" Fazendo logout..."),await n(),console.log(" Logout concludo! Redirecionando..."),t("welcome")}catch(l){console.error("Erro ao fazer logout:",l),Me.error("Erro ao fazer logout")}},a=[{title:r.account,items:[{icon:wT,label:r.personalInfo,action:()=>t("personalInfo")},{icon:gG,label:r.accountData,action:()=>t("accountData")},{icon:Co,label:r.security,action:()=>t("security")},{icon:tp,label:r.notifications,action:()=>t("notifications")}]},{title:r.support,items:[{icon:l6,label:r.helpCenter,action:()=>t("helpCenter")},{icon:c6,label:r.termsAndPrivacy,action:()=>t("termsMenu")}]},{title:r.settings,items:[{icon:wp,label:r.language,action:()=>t("languageSettings")},{icon:CG,label:r.logout,action:s,danger:!0}]},{title:r.dangerZone,items:[{icon:mo,label:r.deleteAccount,action:()=>t("deleteAccount"),danger:!0}]}];return o.jsx("div",{className:"min-h-screen bg-black text-white flex flex-col",children:o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("h1",{className:"text-xl mb-4",children:r.myProfile}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center text-lg overflow-hidden",children:e?.photoURL?o.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):e?i(e.name):"U"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"",children:e?.name||"Usurio"}),o.jsx("p",{className:"text-sm text-gray-400",children:e?.email||""})]})]})})]}),a.map((l,c)=>o.jsxs("section",{className:"px-6 mb-6",children:[o.jsx("h3",{className:"text-xs text-gray-400 mb-2 px-1",children:l.title.toUpperCase()}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl overflow-hidden border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.items.map((d,f)=>{const m=d.icon;return o.jsxs("div",{children:[o.jsxs("button",{onClick:d.action,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/10 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(m,{className:`w-5 h-5 ${d.danger?"text-red-500":"text-gray-400"}`}),o.jsx("span",{className:d.danger?"text-red-500":"",children:d.label})]}),o.jsx(zr,{className:"w-5 h-5 text-gray-400"})]}),f<l.items.length-1&&o.jsx("div",{className:"h-px bg-white/10 mx-4"})]},d.label)})})]},c)),o.jsx("div",{className:"text-center mt-6 text-sm text-gray-500",children:"NexCoin v1.0.0"})]})})}function S1e({onNavigate:t}){const{userData:e,user:n}=Vt(),[r,i]=N.useState(!1),[s,a]=N.useState(!1),[l,c]=N.useState({birthDate:e?.birthDate||"",address:e?.address||"",city:e?.city||"",state:e?.state||"",zipCode:e?.zipCode||"",document:e?.document||"",patrimony:e?.patrimony||"",accountPurpose:e?.accountPurpose||[]}),d=p=>{const y=p.split(" ");return y.length>=2?`${y[0][0]}${y[1][0]}`.toUpperCase():p.substring(0,2).toUpperCase()},f=async()=>{if(!(!n||!e)){a(!0);try{const p=et(we,"users",n.uid);await wi(p,l),Object.assign(e,l),i(!1),alert("Perfil atualizado com sucesso!")}catch(p){console.error("Erro ao atualizar perfil:",p),alert("Erro ao atualizar perfil. Tente novamente.")}finally{a(!1)}}},m=p=>{if(!p)return"";const y=p.replace(/\D/g,"");return y.length===13?`+${y.slice(0,2)} ${y.slice(2,4)} ${y.slice(4,9)}-${y.slice(9)}`:p};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-zinc-900 transition-colors",children:o.jsx(Gx,{className:"w-6 h-6"})}),r&&o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>i(!1),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(qr,{className:"w-5 h-5"})}),o.jsx("button",{onClick:f,disabled:s,className:"w-10 h-10 flex items-center justify-center rounded-full bg-gradient-to-r from-orange-500 to-purple-500 hover:opacity-90 transition-opacity disabled:opacity-50",children:o.jsx(u6,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold flex-1",children:"Informaes pessoais"}),!r&&o.jsx("div",{style:{display:"none"}}),o.jsx("div",{className:"flex items-center gap-2",children:o.jsxs("span",{className:"text-blue-500",children:["@",e?.name?.toLowerCase().replace(/\s+/g,"")||"usuario"]})})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center text-lg font-bold overflow-hidden",children:e?.photoURL?o.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):e?d(e.name):"U"})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h2",{className:"text-base font-semibold mb-3",children:"Conta pessoal"}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-4 space-y-4",children:[o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Nome completo"}),o.jsx("p",{className:"text-sm",children:e?.name?.toUpperCase()||"NO INFORMADO"})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Data de nascimento"}),r?o.jsx("input",{type:"date",value:l.birthDate,onChange:p=>c({...l,birthDate:p.target.value}),className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):o.jsx("p",{className:"text-sm",children:e?.birthDate||"NO INFORMADO"})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Documento de identificao (CPF/RG/Passaporte)"}),r?o.jsx("input",{type:"text",value:l.document,onChange:p=>c({...l,document:p.target.value}),placeholder:"Digite seu CPF, RG ou Passaporte",className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):o.jsx("p",{className:"text-sm",children:e?.document||"NO INFORMADO"})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Endereo residencial"}),r?o.jsxs("div",{className:"space-y-2",children:[o.jsx("input",{type:"text",value:l.address,onChange:p=>c({...l,address:p.target.value}),placeholder:"Rua, nmero, complemento",className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsx("input",{type:"text",value:l.city,onChange:p=>c({...l,city:p.target.value}),placeholder:"Cidade",className:"bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}),o.jsx("input",{type:"text",value:l.state,onChange:p=>c({...l,state:p.target.value}),placeholder:"Estado",className:"bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"})]}),o.jsx("input",{type:"text",value:l.zipCode,onChange:p=>c({...l,zipCode:p.target.value}),placeholder:"CEP",className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"})]}):o.jsx("p",{className:"text-sm",children:e?.address&&e?.city&&e?.state&&e?.zipCode?`${e.address}, ${e.zipCode}, ${e.city}, ${e.state}`:"NO INFORMADO"})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Nmero de celular"}),o.jsx("p",{className:"text-sm",children:m(e?.phone||"")||"NO INFORMADO"})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"E-mail"}),o.jsx("p",{className:"text-sm text-orange-500",children:e?.email||"NO INFORMADO"})]}),o.jsx("div",{className:"h-px bg-white/10"}),o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Domiclio fiscal"}),o.jsx("p",{className:"text-sm",children:e?.country||"NO INFORMADO"})]})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-base font-semibold mb-3",children:"Patrimnio"}),o.jsx("div",{className:"bg-zinc-900 rounded-3xl p-4",children:o.jsxs("div",{className:"py-2",children:[o.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:"Patrimnio informado (opcional)"}),r?o.jsx("input",{type:"text",value:l.patrimony,onChange:p=>c({...l,patrimony:p.target.value}),placeholder:"Ex: R$ 500.000,00",className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):o.jsx("p",{className:"text-sm",children:e?.patrimony||"NO INFORMADO"})]})})]})]})]})}async function _w(t){try{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",e.style.opacity="0",e.setAttribute("readonly",""),document.body.appendChild(e),e.focus(),e.select(),e.setSelectionRange(0,t.length);const n=document.execCommand("copy");if(document.body.removeChild(e),n)return!0}catch(e){console.warn("Legacy copy method failed, trying Clipboard API",e)}if(navigator.clipboard&&window.isSecureContext)try{return await navigator.clipboard.writeText(t),!0}catch(e){console.error("Clipboard API also failed",e)}return console.error("All clipboard methods failed"),!1}const T1e=({code:t})=>o.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800",children:o.jsx("img",{src:`https://flagcdn.com/w40/${t.toLowerCase()}.png`,alt:t,className:"w-full h-full object-cover"})});function P1e({account:t,onBack:e,onDelete:n}){const[r,i]=N.useState(null),s=(c,d)=>{_w(c),i(d),setTimeout(()=>i(null),2e3)},a=t.iban!==void 0,l=t.country==="BR";return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"px-6 py-4 flex items-center",children:o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-zinc-900 transition-colors",children:o.jsx(Nt,{className:"w-6 h-6"})})}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("h1",{className:"text-xl font-bold mb-6",children:"Dados da conta"}),o.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[o.jsx(T1e,{code:t.flagCode}),o.jsx("span",{className:"font-semibold",children:t.countryName})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6 mb-4",children:[o.jsx("p",{className:"text-xs font-semibold mb-6",children:a?"Apenas para transferncias internacionais":"Apenas para transferncias domsticas"}),o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Instituio"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.bankName}),o.jsx("button",{onClick:()=>s(t.bankName,"bankName"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Tipo de Conta"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.accountType}),o.jsx("button",{onClick:()=>s(t.accountType,"accountType"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Nmero da conta"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.accountNumber}),o.jsx("button",{onClick:()=>s(t.accountNumber,"accountNumber"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),a&&o.jsxs(o.Fragment,{children:[t.iban&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"IBAN"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.iban}),o.jsx("button",{onClick:()=>s(t.iban,"iban"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.swift&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"SWIFT/BIC"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.swift}),o.jsx("button",{onClick:()=>s(t.swift,"swift"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]})]}),!a&&o.jsxs(o.Fragment,{children:[t.sortCode&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Sort Code"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.sortCode}),o.jsx("button",{onClick:()=>s(t.sortCode,"sortCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.branchCode&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:l?"Agncia":"Branch Code"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.branchCode}),o.jsx("button",{onClick:()=>s(t.branchCode,"branchCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.routingNumber&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:t.country==="US"?"Routing Number":t.country==="GB"?"Sort Code":t.country==="AU"?"BSB":"Routing Number"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.routingNumber}),o.jsx("button",{onClick:()=>s(t.routingNumber,"routingNumber"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.bankCode&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:l?"Cdigo da Instituio":"Institution Code"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.bankCode}),o.jsx("button",{onClick:()=>s(t.bankCode,"bankCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]}),t.swift&&o.jsxs("div",{className:"mb-5",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"SWIFT/BIC"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.swift}),o.jsx("button",{onClick:()=>s(t.swift,"swift"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-blue-400"})})]})]})]}),o.jsxs("button",{className:"w-full bg-zinc-700 hover:bg-zinc-600 rounded-full py-3 flex items-center justify-center gap-2 transition-colors mt-6",children:[o.jsx(d6,{className:"w-4 h-4"}),o.jsx("span",{className:"text-sm font-semibold",children:"Compartilhar dados"})]})]}),a?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(bp,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:"Normalmente as transferncias levam de trs a cinco dias teis para aparecer na sua conta Revolut"})})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(Tk,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:"O banco do remetente ou intermedirio poder cobrar por pagamentos internacionais"})})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(Pk,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:"Aceitamos somente transferncias SWIFT"})})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(Tk,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:"No cobraremos nenhuma taxa de transferncia para esta conta."})})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 flex gap-4",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:o.jsx(Pk,{className:"w-5 h-5"})})}),o.jsx("div",{children:o.jsx("p",{className:"text-sm font-semibold",children:"Voc pode usar os dados da sua conta ou chave Pix para receber transferncias 24 horas, sem complicaes."})})]})]}),n&&t.id&&o.jsxs("button",{onClick:()=>n(t.id),className:"w-full mt-6 bg-red-900/20 hover:bg-red-900/30 border border-red-800 rounded-3xl py-4 flex items-center justify-center gap-2 transition-colors",children:[o.jsx(mo,{className:"w-5 h-5 text-red-500"}),o.jsx("span",{className:"text-sm font-semibold text-red-500",children:"Encerrar conta"})]})]})]})}const PI=N.createContext({});function AI(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const D7=typeof window<"u",O7=D7?N.useLayoutEffect:N.useEffect,Nw=N.createContext(null);function II(t,e){t.indexOf(e)===-1&&t.push(e)}function Vx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const $a=(t,e,n)=>n>e?e:n<t?t:n;let jI=()=>{};const Mo={},M7=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function L7(t){return typeof t=="object"&&t!==null}const V7=t=>/^0[^.\s]+$/u.test(t);function kI(t){let e;return()=>(e===void 0&&(e=t()),e)}const cs=t=>t,A1e=(t,e)=>n=>e(t(n)),Hg=(...t)=>t.reduce(A1e),eg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class RI{constructor(){this.subscriptions=[]}add(e){return II(this.subscriptions,e),()=>Vx(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bs=t=>t*1e3,ls=t=>t/1e3;function F7(t,e){return e?t*(1e3/e):0}const B7=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,I1e=1e-7,j1e=12;function k1e(t,e,n,r,i){let s,a,l=0;do a=e+(n-e)/2,s=B7(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>I1e&&++l<j1e);return a}function Wg(t,e,n,r){if(t===e&&n===r)return cs;const i=s=>k1e(s,0,1,t,n);return s=>s===0||s===1?s:B7(i(s),e,r)}const z7=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,U7=t=>e=>1-t(1-e),$7=Wg(.33,1.53,.69,.99),DI=U7($7),q7=z7(DI),H7=t=>(t*=2)<1?.5*DI(t):.5*(2-Math.pow(2,-10*(t-1))),OI=t=>1-Math.sin(Math.acos(t)),W7=U7(OI),K7=z7(OI),R1e=Wg(.42,0,1,1),D1e=Wg(0,0,.58,1),G7=Wg(.42,0,.58,1),O1e=t=>Array.isArray(t)&&typeof t[0]!="number",X7=t=>Array.isArray(t)&&typeof t[0]=="number",M1e={linear:cs,easeIn:R1e,easeInOut:G7,easeOut:D1e,circIn:OI,circInOut:K7,circOut:W7,backIn:DI,backInOut:q7,backOut:$7,anticipate:H7},L1e=t=>typeof t=="string",HL=t=>{if(X7(t)){jI(t.length===4);const[e,n,r,i]=t;return Wg(e,n,r,i)}else if(L1e(t))return M1e[t];return t},Rv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function V1e(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){a.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,m=!1,p=!1)=>{const x=p&&i?n:r;return m&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const F1e=40;function Y7(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Rv.reduce((D,z)=>(D[z]=V1e(s),D),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:m,preRender:p,render:y,postRender:x}=a,b=()=>{const D=Mo.useManualTiming?i.timestamp:performance.now();n=!1,Mo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(D-i.timestamp,F1e),1)),i.timestamp=D,i.isProcessing=!0,l.process(i),c.process(i),d.process(i),f.process(i),m.process(i),p.process(i),y.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},_=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:Rv.reduce((D,z)=>{const I=a[z];return D[z]=(P,C=!1,E=!1)=>(n||_(),I.schedule(P,C,E)),D},{}),cancel:D=>{for(let z=0;z<Rv.length;z++)a[Rv[z]].cancel(D)},state:i,steps:a}}const{schedule:tn,cancel:lc,state:_r,steps:oC}=Y7(typeof requestAnimationFrame<"u"?requestAnimationFrame:cs,!0);let u0;function B1e(){u0=void 0}const Jr={now:()=>(u0===void 0&&Jr.set(_r.isProcessing||Mo.useManualTiming?_r.timestamp:performance.now()),u0),set:t=>{u0=t,queueMicrotask(B1e)}},Q7=t=>e=>typeof e=="string"&&e.startsWith(t),J7=Q7("--"),z1e=Q7("var(--"),MI=t=>z1e(t)?U1e.test(t.split("/*")[0].trim()):!1,U1e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function WL(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Rh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},tg={...Rh,transform:t=>$a(0,1,t)},Dv={...Rh,default:1},gp=t=>Math.round(t*1e5)/1e5,LI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $1e(t){return t==null}const q1e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,VI=(t,e)=>n=>!!(typeof n=="string"&&q1e.test(n)&&n.startsWith(t)||e&&!$1e(n)&&Object.prototype.hasOwnProperty.call(n,e)),Z7=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,l]=r.match(LI);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},H1e=t=>$a(0,255,t),lC={...Rh,transform:t=>Math.round(H1e(t))},hu={test:VI("rgb","red"),parse:Z7("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+lC.transform(t)+", "+lC.transform(e)+", "+lC.transform(n)+", "+gp(tg.transform(r))+")"};function W1e(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const WS={test:VI("#"),parse:W1e,transform:hu.transform},Kg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pl=Kg("deg"),La=Kg("%"),qe=Kg("px"),K1e=Kg("vh"),G1e=Kg("vw"),KL={...La,parse:t=>La.parse(t)/100,transform:t=>La.transform(t*100)},hf={test:VI("hsl","hue"),parse:Z7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+La.transform(gp(e))+", "+La.transform(gp(n))+", "+gp(tg.transform(r))+")"},zn={test:t=>hu.test(t)||WS.test(t)||hf.test(t),parse:t=>hu.test(t)?hu.parse(t):hf.test(t)?hf.parse(t):WS.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?hu.transform(t):hf.transform(t),getAnimatableNone:t=>{const e=zn.parse(t);return e.alpha=0,zn.transform(e)}},X1e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Y1e(t){return isNaN(t)&&typeof t=="string"&&(t.match(LI)?.length||0)+(t.match(X1e)?.length||0)>0}const eH="number",tH="color",Q1e="var",J1e="var(",GL="${}",Z1e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ng(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(Z1e,c=>(zn.test(c)?(r.color.push(s),i.push(tH),n.push(zn.parse(c))):c.startsWith(J1e)?(r.var.push(s),i.push(Q1e),n.push(c)):(r.number.push(s),i.push(eH),n.push(parseFloat(c))),++s,GL)).split(GL);return{values:n,split:l,indexes:r,types:i}}function nH(t){return ng(t).values}function rH(t){const{split:e,types:n}=ng(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const l=n[a];l===eH?s+=gp(i[a]):l===tH?s+=zn.transform(i[a]):s+=i[a]}return s}}const e_e=t=>typeof t=="number"?0:zn.test(t)?zn.getAnimatableNone(t):t;function t_e(t){const e=nH(t);return rH(t)(e.map(e_e))}const cc={test:Y1e,parse:nH,createTransformer:rH,getAnimatableNone:t_e};function cC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function n_e({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=cC(c,l,t+1/3),s=cC(c,l,t),a=cC(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function Fx(t,e){return n=>n>0?e:t}const _n=(t,e,n)=>t+(e-t)*n,uC=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},r_e=[WS,hu,hf],i_e=t=>r_e.find(e=>e.test(t));function XL(t){const e=i_e(t);if(!e)return!1;let n=e.parse(t);return e===hf&&(n=n_e(n)),n}const YL=(t,e)=>{const n=XL(t),r=XL(e);if(!n||!r)return Fx(t,e);const i={...n};return s=>(i.red=uC(n.red,r.red,s),i.green=uC(n.green,r.green,s),i.blue=uC(n.blue,r.blue,s),i.alpha=_n(n.alpha,r.alpha,s),hu.transform(i))},KS=new Set(["none","hidden"]);function s_e(t,e){return KS.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function a_e(t,e){return n=>_n(t,e,n)}function FI(t){return typeof t=="number"?a_e:typeof t=="string"?MI(t)?Fx:zn.test(t)?YL:c_e:Array.isArray(t)?iH:typeof t=="object"?zn.test(t)?YL:o_e:Fx}function iH(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>FI(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function o_e(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=FI(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function l_e(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],l=t.values[a]??0;n[i]=l,r[s]++}return n}const c_e=(t,e)=>{const n=cc.createTransformer(e),r=ng(t),i=ng(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?KS.has(t)&&!i.values.length||KS.has(e)&&!r.values.length?s_e(t,e):Hg(iH(l_e(r,i),i.values),n):Fx(t,e)};function sH(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_n(t,e,n):FI(t)(t,e)}const u_e=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tn.update(e,n),stop:()=>lc(e),now:()=>_r.isProcessing?_r.timestamp:Jr.now()}},aH=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Bx=2e4;function BI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Bx;)e+=n,r=t.next(e);return e>=Bx?1/0:e}function d_e(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(BI(r),Bx);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:ls(i)}}const f_e=5;function oH(t,e,n){const r=Math.max(e-f_e,0);return F7(n-t(r),e-r)}const An={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},dC=.001;function h_e({duration:t=An.duration,bounce:e=An.bounce,velocity:n=An.velocity,mass:r=An.mass}){let i,s,a=1-e;a=$a(An.minDamping,An.maxDamping,a),t=$a(An.minDuration,An.maxDuration,ls(t)),a<1?(i=d=>{const f=d*a,m=f*t,p=f-n,y=GS(d,a),x=Math.exp(-m);return dC-p/y*x},s=d=>{const m=d*a*t,p=m*n+n,y=Math.pow(a,2)*Math.pow(d,2)*t,x=Math.exp(-m),b=GS(Math.pow(d,2),a);return(-i(d)+dC>0?-1:1)*((p-y)*x)/b}):(i=d=>{const f=Math.exp(-d*t),m=(d-n)*t+1;return-dC+f*m},s=d=>{const f=Math.exp(-d*t),m=(n-d)*(t*t);return f*m});const l=5/t,c=p_e(i,s,l);if(t=Bs(t),isNaN(c))return{stiffness:An.stiffness,damping:An.damping,duration:t};{const d=Math.pow(c,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const m_e=12;function p_e(t,e,n){let r=n;for(let i=1;i<m_e;i++)r=r-t(r)/e(r);return r}function GS(t,e){return t*Math.sqrt(1-e*e)}const g_e=["duration","bounce"],y_e=["stiffness","damping","mass"];function QL(t,e){return e.some(n=>t[n]!==void 0)}function v_e(t){let e={velocity:An.velocity,stiffness:An.stiffness,damping:An.damping,mass:An.mass,isResolvedFromDuration:!1,...t};if(!QL(t,y_e)&&QL(t,g_e))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*$a(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:An.mass,stiffness:i,damping:s}}else{const n=h_e(t);e={...e,...n,mass:An.mass},e.isResolvedFromDuration=!0}return e}function zx(t=An.visualDuration,e=An.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:d,mass:f,duration:m,velocity:p,isResolvedFromDuration:y}=v_e({...n,velocity:-ls(n.velocity||0)}),x=p||0,b=d/(2*Math.sqrt(c*f)),_=a-s,S=ls(Math.sqrt(c/f)),R=Math.abs(_)<5;r||(r=R?An.restSpeed.granular:An.restSpeed.default),i||(i=R?An.restDelta.granular:An.restDelta.default);let D;if(b<1){const I=GS(S,b);D=P=>{const C=Math.exp(-b*S*P);return a-C*((x+b*S*_)/I*Math.sin(I*P)+_*Math.cos(I*P))}}else if(b===1)D=I=>a-Math.exp(-S*I)*(_+(x+S*_)*I);else{const I=S*Math.sqrt(b*b-1);D=P=>{const C=Math.exp(-b*S*P),E=Math.min(I*P,300);return a-C*((x+b*S*_)*Math.sinh(E)+I*_*Math.cosh(E))/I}}const z={calculatedDuration:y&&m||null,next:I=>{const P=D(I);if(y)l.done=I>=m;else{let C=I===0?x:0;b<1&&(C=I===0?Bs(x):oH(D,I,P));const E=Math.abs(C)<=r,A=Math.abs(a-P)<=i;l.done=E&&A}return l.value=l.done?a:P,l},toString:()=>{const I=Math.min(BI(z),Bx),P=aH(C=>z.next(I*C).value,I,30);return I+"ms "+P},toTransition:()=>{}};return z}zx.applyToOptions=t=>{const e=d_e(t,100,zx);return t.ease=e.ease,t.duration=Bs(e.duration),t.type="keyframes",t};function XS({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:d=.5,restSpeed:f}){const m=t[0],p={done:!1,value:m},y=E=>l!==void 0&&E<l||c!==void 0&&E>c,x=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let b=n*e;const _=m+b,S=a===void 0?_:a(_);S!==_&&(b=S-m);const R=E=>-b*Math.exp(-E/r),D=E=>S+R(E),z=E=>{const A=R(E),j=D(E);p.done=Math.abs(A)<=d,p.value=p.done?S:j};let I,P;const C=E=>{y(p.value)&&(I=E,P=zx({keyframes:[p.value,x(p.value)],velocity:oH(D,E,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return C(0),{calculatedDuration:null,next:E=>{let A=!1;return!P&&I===void 0&&(A=!0,z(E),C(E)),I!==void 0&&E>=I?P.next(E-I):(!A&&z(E),p)}}}function x_e(t,e,n){const r=[],i=n||Mo.mix||sH,s=t.length-1;for(let a=0;a<s;a++){let l=i(t[a],t[a+1]);if(e){const c=Array.isArray(e)?e[a]||cs:e;l=Hg(c,l)}r.push(l)}return r}function b_e(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(jI(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=x_e(e,r,i),c=l.length,d=f=>{if(a&&f<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const p=eg(t[m],t[m+1],f);return l[m](p)};return n?f=>d($a(t[0],t[s-1],f)):d}function w_e(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=eg(0,e,r);t.push(_n(n,1,i))}}function __e(t){const e=[0];return w_e(e,t.length-1),e}function N_e(t,e){return t.map(n=>n*e)}function C_e(t,e){return t.map(()=>e||G7).splice(0,t.length-1)}function yp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=O1e(r)?r.map(HL):HL(r),s={done:!1,value:e[0]},a=N_e(n&&n.length===e.length?n:__e(e),t),l=b_e(a,e,{ease:Array.isArray(i)?i:C_e(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const E_e=t=>t!==null;function zI(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(E_e),l=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!l||r===void 0?s[l]:r}const S_e={decay:XS,inertia:XS,tween:yp,keyframes:yp,spring:zx};function lH(t){typeof t.type=="string"&&(t.type=S_e[t.type])}class UI{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const T_e=t=>t/100;class $I extends UI{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Jr.now()&&this.tick(Jr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;lH(e);const{type:n=yp,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:l}=e;const c=n||yp;c!==yp&&typeof l[0]!="number"&&(this.mixKeyframes=Hg(T_e,sH(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=BI(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:p,repeatDelay:y,type:x,onUpdate:b,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const S=this.currentTime-d*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?S<0:S>i;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let D=this.currentTime,z=r;if(m){const E=Math.min(this.currentTime,i)/l;let A=Math.floor(E),j=E%1;!j&&E>=1&&(j=1),j===1&&A--,A=Math.min(A,m+1),A%2&&(p==="reverse"?(j=1-j,y&&(j-=y/l)):p==="mirror"&&(z=a)),D=$a(0,1,j)*l}const I=R?{done:!1,value:f[0]}:z.next(D);s&&(I.value=s(I.value));let{done:P}=I;!R&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return C&&x!==XS&&(I.value=zI(f,this.options,_,this.speed)),b&&b(I.value),C&&this.finish(),I}then(e,n){return this.finished.then(e,n)}get duration(){return ls(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ls(e)}get time(){return ls(this.currentTime)}set time(e){e=Bs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Jr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ls(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=u_e,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Jr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function P_e(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const mu=t=>t*180/Math.PI,YS=t=>{const e=mu(Math.atan2(t[1],t[0]));return QS(e)},A_e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:YS,rotateZ:YS,skewX:t=>mu(Math.atan(t[1])),skewY:t=>mu(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},QS=t=>(t=t%360,t<0&&(t+=360),t),JL=YS,ZL=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),e3=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),I_e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:ZL,scaleY:e3,scale:t=>(ZL(t)+e3(t))/2,rotateX:t=>QS(mu(Math.atan2(t[6],t[5]))),rotateY:t=>QS(mu(Math.atan2(-t[2],t[0]))),rotateZ:JL,rotate:JL,skewX:t=>mu(Math.atan(t[4])),skewY:t=>mu(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function JS(t){return t.includes("scale")?1:0}function ZS(t,e){if(!t||t==="none")return JS(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=I_e,i=n;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=A_e,i=l}if(!i)return JS(e);const s=r[e],a=i[1].split(",").map(k_e);return typeof s=="function"?s(a):a[s]}const j_e=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ZS(n,e)};function k_e(t){return parseFloat(t.trim())}const Dh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oh=new Set(Dh),t3=t=>t===Rh||t===qe,R_e=new Set(["x","y","z"]),D_e=Dh.filter(t=>!R_e.has(t));function O_e(t){const e=[];return D_e.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const zl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ZS(e,"x"),y:(t,{transform:e})=>ZS(e,"y")};zl.translateX=zl.x;zl.translateY=zl.y;const Eu=new Set;let eT=!1,tT=!1,nT=!1;function cH(){if(tT){const t=Array.from(Eu).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=O_e(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}tT=!1,eT=!1,Eu.forEach(t=>t.complete(nT)),Eu.clear()}function uH(){Eu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(tT=!0)})}function M_e(){nT=!0,uH(),cH(),nT=!1}class qI{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Eu.add(this),eT||(eT=!0,tn.read(uH),tn.resolveKeyframes(cH))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}P_e(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Eu.delete(this)}cancel(){this.state==="scheduled"&&(Eu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const L_e=t=>t.startsWith("--");function V_e(t,e,n){L_e(e)?t.style.setProperty(e,n):t.style[e]=n}const F_e=kI(()=>window.ScrollTimeline!==void 0),B_e={};function z_e(t,e){const n=kI(t);return()=>B_e[e]??n()}const dH=z_e(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ep=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,n3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ep([0,.65,.55,1]),circOut:ep([.55,0,1,.45]),backIn:ep([.31,.01,.66,-.59]),backOut:ep([.33,1.53,.69,.99])};function fH(t,e){if(t)return typeof t=="function"?dH()?aH(t,e):"ease-out":X7(t)?ep(t):Array.isArray(t)?t.map(n=>fH(n,e)||n3.easeOut):n3[t]}function U_e(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[e]:n};c&&(f.offset=c);const m=fH(l,i);Array.isArray(m)&&(f.easing=m);const p={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(f,p)}function hH(t){return typeof t=="function"&&"applyToOptions"in t}function $_e({type:t,...e}){return hH(t)&&dH()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mH extends UI{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,jI(typeof e.type!="string");const d=$_e(e);this.animation=U_e(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=zI(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):V_e(n,r,f),this.animation.cancel()}c?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return ls(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+ls(e)}get time(){return ls(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Bs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&F_e()?(this.animation.timeline=e,cs):n(this)}}const pH={anticipate:H7,backInOut:q7,circInOut:K7};function q_e(t){return t in pH}function H_e(t){typeof t.ease=="string"&&q_e(t.ease)&&(t.ease=pH[t.ease])}const fC=10;class W_e extends mH{constructor(e){H_e(e),lH(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const l=new $I({...a,autoplay:!1}),c=Math.max(fC,Jr.now()-this.startTime),d=$a(0,fC,c-fC);n.setWithVelocity(l.sample(Math.max(0,c-d)).value,l.sample(c).value,d),l.stop()}}const r3=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(cc.test(t)||t==="0")&&!t.startsWith("url("));function K_e(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function G_e(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=r3(i,e),l=r3(s,e);return!a||!l?!1:K_e(t)||(n==="spring"||hH(n))&&r}function rT(t){t.duration=0,t.type="keyframes"}const X_e=new Set(["opacity","clipPath","filter","transform"]),Y_e=kI(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Q_e(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Y_e()&&n&&X_e.has(n)&&(n!=="transform"||!d)&&!c&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const J_e=40;class Z_e extends UI{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:d,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Jr.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:d,element:f,...m},y=f?.KeyframeResolver||qI;this.keyframeResolver=new y(l,(x,b,_)=>this.onKeyframesResolved(x,b,p,!_),c,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Jr.now(),G_e(e,s,a,l)||((Mo.instantAnimations||!c)&&f?.(zI(e,r,n)),e[0]=e[e.length-1],rT(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>J_e?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&Q_e(p),x=p.motionValue?.owner?.current,b=y?new W_e({...p,element:x}):new $I(p);b.finished.then(()=>{this.notifyFinished()}).catch(cs),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),M_e()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function gH(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),a=t.size,l=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:l-s*r}const eNe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function tNe(t){const e=eNe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function yH(t,e,n=1){const[r,i]=tNe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return M7(a)?parseFloat(a):a}return MI(i)?yH(i,e,n+1):i}const nNe={type:"spring",stiffness:500,damping:25,restSpeed:10},rNe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),iNe={type:"keyframes",duration:.8},sNe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aNe=(t,{keyframes:e})=>e.length>2?iNe:Oh.has(t)?t.startsWith("scale")?rNe(e[1]):nNe:sNe,oNe=t=>t!==null;function lNe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(oNe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}function vH(t,e){if(t?.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function HI(t,e){const n=t?.[e]??t?.default??t;return n!==t?vH(n,t):n}function cNe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const WI=(t,e,n,r={},i,s)=>a=>{const l=HI(r,t)||{},c=l.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Bs(c);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};cNe(l)||Object.assign(f,aNe(t,f)),f.duration&&(f.duration=Bs(f.duration)),f.repeatDelay&&(f.repeatDelay=Bs(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(rT(f),f.delay===0&&(m=!0)),(Mo.instantAnimations||Mo.skipAnimations||i?.shouldSkipAnimations)&&(m=!0,rT(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!s&&e.get()!==void 0){const p=lNe(f.keyframes,l);if(p!==void 0){tn.update(()=>{f.onUpdate(p),f.onComplete()});return}}return l.isSync?new $I(f):new Z_e(f)};function i3(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function KI(t,e,n,r){if(typeof e=="function"){const[i,s]=i3(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=i3(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Af(t,e,n){const r=t.getProps();return KI(r,e,n!==void 0?n:r.custom,t)}const xH=new Set(["width","height","top","left","right","bottom",...Dh]),s3=30,uNe=t=>!isNaN(parseFloat(t));class dNe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Jr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uNe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new RI);const r=this.events[e].add(n);return e==="change"?()=>{r(),tn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>s3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,s3);return F7(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ch(t,e){return new dNe(t,e)}const iT=t=>Array.isArray(t);function fNe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ch(n))}function hNe(t){return iT(t)?t[t.length-1]||0:t}function mNe(t,e){const n=Af(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const l=hNe(s[a]);fNe(t,a,l)}}const Br=t=>!!(t&&t.getVelocity);function pNe(t){return!!(Br(t)&&t.add)}function sT(t,e){const n=t.getValue("willChange");if(pNe(n))return n.add(e);if(!n&&Mo.WillChange){const r=new Mo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function GI(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const gNe="framerAppearId",bH="data-"+GI(gNe);function wH(t){return t.props[bH]}function yNe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function _H(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s,transitionEnd:a,...l}=e;const c=t.getDefaultTransition();s=s?vH(s,c):c;const d=s?.reduceMotion;r&&(s=r);const f=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const p in l){const y=t.getValue(p,t.latestValues[p]??null),x=l[p];if(x===void 0||m&&yNe(m,p))continue;const b={delay:n,...HI(s||{},p)},_=y.get();if(_!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===_&&!b.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const z=wH(t);if(z){const I=window.MotionHandoffAnimation(z,p,tn);I!==null&&(b.startTime=I,S=!0)}}sT(t,p);const R=d??t.shouldReduceMotion;y.start(WI(p,y,x,R&&xH.has(p)?{type:!1}:b,t,S));const D=y.animation;D&&f.push(D)}if(a){const p=()=>tn.update(()=>{a&&mNe(t,a)});f.length?Promise.all(f).then(p):p()}return f}function aT(t,e,n={}){const r=Af(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(_H(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=i;return vNe(t,e,c,d,f,m,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,d]=l==="beforeChildren"?[s,a]:[a,s];return c().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function vNe(t,e,n=0,r=0,i=0,s=1,a){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(aT(c,e,{...a,delay:n+(typeof r=="function"?0:r)+gH(t.variantChildren,c,r,i,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function xNe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>aT(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=aT(t,e,n);else{const i=typeof e=="function"?Af(t,e,n.custom):e;r=Promise.all(_H(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const bNe={test:t=>t==="auto",parse:t=>t},NH=t=>e=>e.test(t),CH=[Rh,qe,La,Pl,G1e,K1e,bNe],a3=t=>CH.find(NH(t));function wNe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||V7(t):!0}const _Ne=new Set(["brightness","contrast","saturate","opacity"]);function NNe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(LI)||[];if(!r)return t;const i=n.replace(r,"");let s=_Ne.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const CNe=/\b([a-z-]*)\(.*?\)/gu,oT={...cc,getAnimatableNone:t=>{const e=t.match(CNe);return e?e.map(NNe).join(" "):t}},o3={...Rh,transform:Math.round},ENe={rotate:Pl,rotateX:Pl,rotateY:Pl,rotateZ:Pl,scale:Dv,scaleX:Dv,scaleY:Dv,scaleZ:Dv,skew:Pl,skewX:Pl,skewY:Pl,distance:qe,translateX:qe,translateY:qe,translateZ:qe,x:qe,y:qe,z:qe,perspective:qe,transformPerspective:qe,opacity:tg,originX:KL,originY:KL,originZ:qe},XI={borderWidth:qe,borderTopWidth:qe,borderRightWidth:qe,borderBottomWidth:qe,borderLeftWidth:qe,borderRadius:qe,borderTopLeftRadius:qe,borderTopRightRadius:qe,borderBottomRightRadius:qe,borderBottomLeftRadius:qe,width:qe,maxWidth:qe,height:qe,maxHeight:qe,top:qe,right:qe,bottom:qe,left:qe,inset:qe,insetBlock:qe,insetBlockStart:qe,insetBlockEnd:qe,insetInline:qe,insetInlineStart:qe,insetInlineEnd:qe,padding:qe,paddingTop:qe,paddingRight:qe,paddingBottom:qe,paddingLeft:qe,paddingBlock:qe,paddingBlockStart:qe,paddingBlockEnd:qe,paddingInline:qe,paddingInlineStart:qe,paddingInlineEnd:qe,margin:qe,marginTop:qe,marginRight:qe,marginBottom:qe,marginLeft:qe,marginBlock:qe,marginBlockStart:qe,marginBlockEnd:qe,marginInline:qe,marginInlineStart:qe,marginInlineEnd:qe,fontSize:qe,backgroundPositionX:qe,backgroundPositionY:qe,...ENe,zIndex:o3,fillOpacity:tg,strokeOpacity:tg,numOctaves:o3},SNe={...XI,color:zn,backgroundColor:zn,outlineColor:zn,fill:zn,stroke:zn,borderColor:zn,borderTopColor:zn,borderRightColor:zn,borderBottomColor:zn,borderLeftColor:zn,filter:oT,WebkitFilter:oT},EH=t=>SNe[t];function SH(t,e){let n=EH(t);return n!==oT&&(n=cc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const TNe=new Set(["auto","none","0"]);function PNe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!TNe.has(s)&&ng(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=SH(n,i)}class ANe extends qI{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),MI(m))){const p=yH(m,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!xH.has(r)||e.length!==2)return;const[i,s]=e,a=a3(i),l=a3(s),c=WL(i),d=WL(s);if(c!==d&&zl[r]){this.needsMeasurement=!0;return}if(a!==l)if(t3(a)&&t3(l))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else zl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||wNe(e[i]))&&r.push(i);r.length&&PNe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=zl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const INe=new Set(["opacity","clipPath","filter","transform"]);function TH(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const PH=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function lT(t){return L7(t)&&"offsetHeight"in t}const{schedule:YI}=Y7(queueMicrotask,!1),Ps={x:!1,y:!1};function AH(){return Ps.x||Ps.y}function jNe(t){return t==="x"||t==="y"?Ps[t]?null:(Ps[t]=!0,()=>{Ps[t]=!1}):Ps.x||Ps.y?null:(Ps.x=Ps.y=!0,()=>{Ps.x=Ps.y=!1})}function IH(t,e){const n=TH(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function kNe(t){return!(t.pointerType==="touch"||AH())}function RNe(t,e,n={}){const[r,i,s]=IH(t,n);return r.forEach(a=>{let l=!1,c=!1,d;const f=()=>{a.removeEventListener("pointerleave",x)},m=_=>{d&&(d(_),d=void 0),f()},p=_=>{l=!1,window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",p),c&&(c=!1,m(_))},y=()=>{l=!0,window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",p,i)},x=_=>{if(_.pointerType!=="touch"){if(l){c=!0;return}m(_)}},b=_=>{if(!kNe(_))return;c=!1;const S=e(a,_);typeof S=="function"&&(d=S,a.addEventListener("pointerleave",x,i))};a.addEventListener("pointerenter",b,i),a.addEventListener("pointerdown",y,i)}),s}const jH=(t,e)=>e?t===e?!0:jH(t,e.parentElement):!1,QI=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,DNe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ONe(t){return DNe.has(t.tagName)||t.isContentEditable===!0}const MNe=new Set(["INPUT","SELECT","TEXTAREA"]);function LNe(t){return MNe.has(t.tagName)||t.isContentEditable===!0}const d0=new WeakSet;function l3(t){return e=>{e.key==="Enter"&&t(e)}}function hC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const VNe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=l3(()=>{if(d0.has(n))return;hC(n,"down");const i=l3(()=>{hC(n,"up")}),s=()=>hC(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function c3(t){return QI(t)&&!AH()}const u3=new WeakSet;function FNe(t,e,n={}){const[r,i,s]=IH(t,n),a=l=>{const c=l.currentTarget;if(!c3(l)||u3.has(l))return;d0.add(c),n.stopPropagation&&u3.add(l);const d=e(c,l),f=(y,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),d0.has(c)&&d0.delete(c),c3(y)&&typeof d=="function"&&d(y,{success:x})},m=y=>{f(y,c===window||c===document||n.useGlobalTarget||jH(c,y.target))},p=y=>{f(y,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",p,i)};return r.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),lT(l)&&(l.addEventListener("focus",d=>VNe(d,i)),!ONe(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function JI(t){return L7(t)&&"ownerSVGElement"in t}const f0=new WeakMap;let h0;const kH=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:JI(r)&&"getBBox"in r?r.getBBox()[e]:r[n],BNe=kH("inline","width","offsetWidth"),zNe=kH("block","height","offsetHeight");function UNe({target:t,borderBoxSize:e}){f0.get(t)?.forEach(n=>{n(t,{get width(){return BNe(t,e)},get height(){return zNe(t,e)}})})}function $Ne(t){t.forEach(UNe)}function qNe(){typeof ResizeObserver>"u"||(h0=new ResizeObserver($Ne))}function HNe(t,e){h0||qNe();const n=TH(t);return n.forEach(r=>{let i=f0.get(r);i||(i=new Set,f0.set(r,i)),i.add(e),h0?.observe(r)}),()=>{n.forEach(r=>{const i=f0.get(r);i?.delete(e),i?.size||h0?.unobserve(r)})}}const m0=new Set;let mf;function WNe(){mf=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};m0.forEach(e=>e(t))},window.addEventListener("resize",mf)}function KNe(t){return m0.add(t),mf||WNe(),()=>{m0.delete(t),!m0.size&&typeof mf=="function"&&(window.removeEventListener("resize",mf),mf=void 0)}}function d3(t,e){return typeof t=="function"?KNe(t):HNe(t,e)}function GNe(t){return JI(t)&&t.tagName==="svg"}const XNe=[...CH,zn,cc],YNe=t=>XNe.find(NH(t)),f3=()=>({translate:0,scale:1,origin:0,originPoint:0}),pf=()=>({x:f3(),y:f3()}),h3=()=>({min:0,max:0}),Kn=()=>({x:h3(),y:h3()}),QNe=new WeakMap;function Cw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function rg(t){return typeof t=="string"||Array.isArray(t)}const ZI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ej=["initial",...ZI];function Ew(t){return Cw(t.animate)||ej.some(e=>rg(t[e]))}function RH(t){return!!(Ew(t)||t.variants)}function JNe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Br(i))t.addValue(r,i);else if(Br(s))t.addValue(r,ch(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,ch(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const cT={current:null},DH={current:!1},ZNe=typeof window<"u";function eCe(){if(DH.current=!0,!!ZNe)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>cT.current=t.matches;t.addEventListener("change",e),e()}else cT.current=!1}const m3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Ux={};function OH(t){Ux=t}function tCe(){return Ux}class nCe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=qI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Jr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,tn.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Ew(n),this.isVariantNode=RH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const x=p[y];d[y]!==void 0&&Br(x)&&x.set(d[y])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,QNe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(DH.current||eCe(),this.shouldReduceMotion=cT.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),lc(this.notifyUpdate),lc(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&INe.has(e)&&this.current instanceof HTMLElement){const{factory:a,keyframes:l,times:c,ease:d,duration:f}=n.accelerate,m=new mH({element:this.current,name:e,keyframes:l,times:c,ease:d,duration:Bs(f)}),p=a(m);this.valueSubscriptions.set(e,()=>{p(),m.cancel()});return}const r=Oh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&tn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ux){const n=Ux[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<m3.length;r++){const i=m3[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=JNe(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ch(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(M7(r)||V7(r))?r=parseFloat(r):!YNe(r)&&cc.test(n)&&(r=SH(e,n)),this.setBaseTarget(e,Br(r)?r.get():r)),Br(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=KI(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Br(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new RI),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){YI.render(this.render)}}class MH extends nCe{constructor(){super(...arguments),this.KeyframeResolver=ANe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Br(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class bc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function LH({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function rCe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function iCe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function mC(t){return t===void 0||t===1}function uT({scale:t,scaleX:e,scaleY:n}){return!mC(t)||!mC(e)||!mC(n)}function nu(t){return uT(t)||VH(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function VH(t){return p3(t.x)||p3(t.y)}function p3(t){return t&&t!=="0%"}function $x(t,e,n){const r=t-n,i=e*r;return n+i}function g3(t,e,n,r,i){return i!==void 0&&(t=$x(t,i,r)),$x(t,n,r)+e}function dT(t,e=0,n=1,r,i){t.min=g3(t.min,e,n,r,i),t.max=g3(t.max,e,n,r,i)}function FH(t,{x:e,y:n}){dT(t.x,e.translate,e.scale,e.originPoint),dT(t.y,n.translate,n.scale,n.originPoint)}const y3=.999999999999,v3=1.0000000000001;function sCe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let l=0;l<i;l++){s=n[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&yf(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,FH(t,a)),r&&nu(s.latestValues)&&yf(t,s.latestValues))}e.x<v3&&e.x>y3&&(e.x=1),e.y<v3&&e.y>y3&&(e.y=1)}function gf(t,e){t.min=t.min+e,t.max=t.max+e}function x3(t,e,n,r,i=.5){const s=_n(t.min,t.max,i);dT(t,e,n,s,r)}function yf(t,e){x3(t.x,e.x,e.scaleX,e.scale,e.originX),x3(t.y,e.y,e.scaleY,e.scale,e.originY)}function BH(t,e){return LH(iCe(t.getBoundingClientRect(),e))}function aCe(t,e,n){const r=BH(t,n),{scroll:i}=e;return i&&(gf(r.x,i.offset.x),gf(r.y,i.offset.y)),r}const oCe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lCe=Dh.length;function cCe(t,e,n){let r="",i=!0;for(let s=0;s<lCe;s++){const a=Dh[s],l=t[a];if(l===void 0)continue;let c=!0;if(typeof l=="number")c=l===(a.startsWith("scale")?1:0);else{const d=parseFloat(l);c=a.startsWith("scale")?d===1:d===0}if(!c||n){const d=PH(l,XI[a]);if(!c){i=!1;const f=oCe[a]||a;r+=`${f}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function tj(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,l=!1;for(const c in e){const d=e[c];if(Oh.has(c)){a=!0;continue}else if(J7(c)){i[c]=d;continue}else{const f=PH(d,XI[c]);c.startsWith("origin")?(l=!0,s[c]=f):r[c]=f}}if(e.transform||(a||n?r.transform=cCe(e,t.transform,n):r.transform&&(r.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${c} ${d} ${f}`}}function zH(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function b3(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Um={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(qe.test(t))t=parseFloat(t);else return t;const n=b3(t,e.target.x),r=b3(t,e.target.y);return`${n}% ${r}%`}},uCe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=cc.parse(t);if(i.length>5)return r;const s=cc.createTransformer(t),a=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+a]/=l,i[1+a]/=c;const d=_n(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),s(i)}},fT={borderRadius:{...Um,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Um,borderTopRightRadius:Um,borderBottomLeftRadius:Um,borderBottomRightRadius:Um,boxShadow:uCe};function UH(t,{layout:e,layoutId:n}){return Oh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!fT[t]||t==="opacity")}function nj(t,e,n){const r=t.style,i=e?.style,s={};if(!r)return s;for(const a in r)(Br(r[a])||i&&Br(i[a])||UH(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}function dCe(t){return window.getComputedStyle(t)}class fCe extends MH{constructor(){super(...arguments),this.type="html",this.renderInstance=zH}readValueFromInstance(e,n){if(Oh.has(n))return this.projection?.isProjecting?JS(n):j_e(e,n);{const r=dCe(e),i=(J7(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return BH(e,n)}build(e,n,r){tj(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return nj(e,n,r)}}const hCe={offset:"stroke-dashoffset",array:"stroke-dasharray"},mCe={offset:"strokeDashoffset",array:"strokeDasharray"};function pCe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?hCe:mCe;t[s.offset]=`${-r}`,t[s.array]=`${e} ${n}`}const gCe=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function $H(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,d,f){if(tj(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=f?.transformBox??"fill-box",delete m.transformBox);for(const y of gCe)m[y]!==void 0&&(p[y]=m[y],delete m[y]);e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&pCe(m,i,s,a,!1)}const qH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),HH=t=>typeof t=="string"&&t.toLowerCase()==="svg";function yCe(t,e,n,r){zH(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(qH.has(i)?i:GI(i),e.attrs[i])}function WH(t,e,n){const r=nj(t,e,n);for(const i in t)if(Br(t[i])||Br(e[i])){const s=Dh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}class vCe extends MH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Oh.has(n)){const r=EH(n);return r&&r.default||0}return n=qH.has(n)?n:GI(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return WH(e,n,r)}build(e,n,r){$H(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){yCe(e,n,r,i)}mount(e){this.isSVGTag=HH(e.tagName),super.mount(e)}}const xCe=ej.length;function KH(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?KH(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<xCe;n++){const r=ej[n],i=t.props[r];(rg(i)||i===!1)&&(e[r]=i)}return e}function GH(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const bCe=[...ZI].reverse(),wCe=ZI.length;function _Ce(t){return e=>Promise.all(e.map(({animation:n,options:r})=>xNe(t,n,r)))}function NCe(t){let e=_Ce(t),n=w3(),r=!0;const i=c=>(d,f)=>{const m=Af(t,f,c==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:p,transitionEnd:y,...x}=m;d={...d,...x,...y}}return d};function s(c){e=c(t)}function a(c){const{props:d}=t,f=KH(t.parent)||{},m=[],p=new Set;let y={},x=1/0;for(let _=0;_<wCe;_++){const S=bCe[_],R=n[S],D=d[S]!==void 0?d[S]:f[S],z=rg(D),I=S===c?R.isActive:null;I===!1&&(x=_);let P=D===f[S]&&D!==d[S]&&z;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),R.protectedKeys={...y},!R.isActive&&I===null||!D&&!R.prevProp||Cw(D)||typeof D=="boolean")continue;if(S==="exit"&&R.isActive&&I!==!0){R.prevResolvedValues&&(y={...y,...R.prevResolvedValues});continue}const C=CCe(R.prevProp,D);let E=C||S===c&&R.isActive&&!P&&z||_>x&&z,A=!1;const j=Array.isArray(D)?D:[D];let V=j.reduce(i(S),{});I===!1&&(V={});const{prevResolvedValues:B={}}=R,F={...B,...V},U=O=>{E=!0,p.has(O)&&(A=!0,p.delete(O)),R.needsAnimating[O]=!0;const K=t.getValue(O);K&&(K.liveStyle=!1)};for(const O in F){const K=V[O],H=B[O];if(y.hasOwnProperty(O))continue;let k=!1;iT(K)&&iT(H)?k=!GH(K,H):k=K!==H,k?K!=null?U(O):p.add(O):K!==void 0&&p.has(O)?U(O):R.protectedKeys[O]=!0}R.prevProp=D,R.prevResolvedValues=V,R.isActive&&(y={...y,...V}),r&&t.blockInitialAnimation&&(E=!1);const X=P&&C;E&&(!X||A)&&m.push(...j.map(O=>{const K={type:S};if(typeof O=="string"&&r&&!X&&t.manuallyAnimateOnMount&&t.parent){const{parent:H}=t,k=Af(H,O);if(H.enteringChildren&&k){const{delayChildren:$}=k.transition||{};K.delay=gH(H.enteringChildren,t,$)}}return{animation:O,options:K}}))}if(p.size){const _={};if(typeof d.initial!="boolean"){const S=Af(t,Array.isArray(d.initial)?d.initial[0]:d.initial);S&&S.transition&&(_.transition=S.transition)}p.forEach(S=>{const R=t.getBaseTarget(S),D=t.getValue(S);D&&(D.liveStyle=!0),_[S]=R??null}),m.push({animation:_})}let b=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(m):Promise.resolve()}function l(c,d){if(n[c].isActive===d)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(c,d)),n[c].isActive=d;const f=a(c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>n,reset:()=>{n=w3()}}}function CCe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!GH(e,t):!1}function Gc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function w3(){return{animate:Gc(!0),whileInView:Gc(),whileHover:Gc(),whileTap:Gc(),whileDrag:Gc(),whileFocus:Gc(),exit:Gc()}}function _3(t,e){t.min=e.min,t.max=e.max}function Ts(t,e){_3(t.x,e.x),_3(t.y,e.y)}function N3(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const XH=1e-4,ECe=1-XH,SCe=1+XH,YH=.01,TCe=0-YH,PCe=0+YH;function Zr(t){return t.max-t.min}function ACe(t,e,n){return Math.abs(t-e)<=n}function C3(t,e,n,r=.5){t.origin=r,t.originPoint=_n(e.min,e.max,t.origin),t.scale=Zr(n)/Zr(e),t.translate=_n(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ECe&&t.scale<=SCe||isNaN(t.scale))&&(t.scale=1),(t.translate>=TCe&&t.translate<=PCe||isNaN(t.translate))&&(t.translate=0)}function vp(t,e,n,r){C3(t.x,e.x,n.x,r?r.originX:void 0),C3(t.y,e.y,n.y,r?r.originY:void 0)}function E3(t,e,n){t.min=n.min+e.min,t.max=t.min+Zr(e)}function ICe(t,e,n){E3(t.x,e.x,n.x),E3(t.y,e.y,n.y)}function S3(t,e,n){t.min=e.min-n.min,t.max=t.min+Zr(e)}function qx(t,e,n){S3(t.x,e.x,n.x),S3(t.y,e.y,n.y)}function T3(t,e,n,r,i){return t-=e,t=$x(t,1/n,r),i!==void 0&&(t=$x(t,1/i,r)),t}function jCe(t,e=0,n=1,r=.5,i,s=t,a=t){if(La.test(e)&&(e=parseFloat(e),e=_n(a.min,a.max,e/100)-a.min),typeof e!="number")return;let l=_n(s.min,s.max,r);t===s&&(l-=e),t.min=T3(t.min,e,n,l,i),t.max=T3(t.max,e,n,l,i)}function P3(t,e,[n,r,i],s,a){jCe(t,e[n],e[r],e[i],e.scale,s,a)}const kCe=["x","scaleX","originX"],RCe=["y","scaleY","originY"];function A3(t,e,n,r){P3(t.x,e,kCe,n?n.x:void 0,r?r.x:void 0),P3(t.y,e,RCe,n?n.y:void 0,r?r.y:void 0)}function I3(t){return t.translate===0&&t.scale===1}function QH(t){return I3(t.x)&&I3(t.y)}function j3(t,e){return t.min===e.min&&t.max===e.max}function DCe(t,e){return j3(t.x,e.x)&&j3(t.y,e.y)}function k3(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function JH(t,e){return k3(t.x,e.x)&&k3(t.y,e.y)}function R3(t){return Zr(t.x)/Zr(t.y)}function D3(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function va(t){return[t("x"),t("y")]}function OCe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:p,skewX:y,skewY:x}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),x&&(r+=`skewY(${x}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(r+=`scale(${l}, ${c})`),r||"none"}const ZH=["TopLeft","TopRight","BottomLeft","BottomRight"],MCe=ZH.length,O3=t=>typeof t=="string"?parseFloat(t):t,M3=t=>typeof t=="number"||qe.test(t);function LCe(t,e,n,r,i,s){i?(t.opacity=_n(0,n.opacity??1,VCe(r)),t.opacityExit=_n(e.opacity??1,0,FCe(r))):s&&(t.opacity=_n(e.opacity??1,n.opacity??1,r));for(let a=0;a<MCe;a++){const l=`border${ZH[a]}Radius`;let c=L3(e,l),d=L3(n,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||M3(c)===M3(d)?(t[l]=Math.max(_n(O3(c),O3(d),r),0),(La.test(d)||La.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||n.rotate)&&(t.rotate=_n(e.rotate||0,n.rotate||0,r))}function L3(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const VCe=eW(0,.5,W7),FCe=eW(.5,.95,cs);function eW(t,e,n){return r=>r<t?0:r>e?1:n(eg(t,e,r))}function BCe(t,e,n){const r=Br(t)?t:ch(t);return r.start(WI("",r,e,n)),r.animation}function ig(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const zCe=(t,e)=>t.depth-e.depth;class UCe{constructor(){this.children=[],this.isDirty=!1}add(e){II(this.children,e),this.isDirty=!0}remove(e){Vx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(zCe),this.isDirty=!1,this.children.forEach(e)}}function $Ce(t,e){const n=Jr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(lc(r),t(s-e))};return tn.setup(r,!0),()=>lc(r)}function p0(t){return Br(t)?t.get():t}class qCe{constructor(){this.members=[]}add(e){II(this.members,e);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===e||r===this.lead||r===this.prevLead)continue;const i=r.instance;i&&i.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&Vx(this.members,r)}e.scheduleRender()}remove(e){if(Vx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i],a=s.instance;if(s.isPresent!==!1&&(!a||a.isConnected!==!1)){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;if(!(i!==void 0&&s!==void 0&&i===s)){const c=r.instance;c&&c.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:l}=e.options;l===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const g0={hasAnimatedSinceResize:!0,hasEverUpdated:!1},pC=["","X","Y","Z"],HCe=1e3;let WCe=0;function gC(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function tW(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=wH(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&tW(r)}function nW({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},l=e?.()){this.id=WCe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(XCe),this.nodes.forEach(ZCe),this.nodes.forEach(eEe),this.nodes.forEach(YCe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new UCe)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new RI),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=JI(a)&&!GNe(a),this.instance=a;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,m=0;const p=()=>this.root.updateBlockedByResize=!1;tn.read(()=>{m=window.innerWidth}),t(a,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,f&&f(),f=$Ce(p,250),g0.hasAnimatedSinceResize&&(g0.hasAnimatedSinceResize=!1,this.nodes.forEach(B3)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||sEe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:_}=d.getProps(),S=!this.targetLayout||!JH(this.targetLayout,y),R=!m&&p;if(this.options.layoutRoot||this.resumeFrom||R||m&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...HI(x,"layout"),onPlay:b,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(f,R)}else m||B3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),lc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tEe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tW(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(V3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(F3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(JCe),this.nodes.forEach(KCe),this.nodes.forEach(GCe)):this.nodes.forEach(F3),this.clearAllSnapshots();const l=Jr.now();_r.delta=$a(0,1e3/60,l-_r.timestamp),_r.timestamp=l,_r.isProcessing=!0,oC.update.process(_r),oC.preRender.process(_r),oC.render.process(_r),_r.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,YI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QCe),this.sharedNodes.forEach(nEe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zr(this.snapshot.measuredBox.x)&&!Zr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!QH(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(l||nu(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),aEe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Kn();const l=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(oEe))){const{scroll:d}=this.root;d&&(gf(l.x,d.offset.x),gf(l.y,d.offset.y))}return l}removeElementScroll(a){const l=Kn();if(Ts(l,a),this.scroll?.wasRoot)return l;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&Ts(l,a),gf(l.x,f.offset.x),gf(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=Kn();Ts(c,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&yf(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),nu(f.latestValues)&&yf(c,f.latestValues)}return nu(this.latestValues)&&yf(c,this.latestValues),c}removeTransform(a){const l=Kn();Ts(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!nu(d.latestValues))continue;uT(d.latestValues)&&d.updateSnapshot();const f=Kn(),m=d.measurePageBox();Ts(f,m),A3(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return nu(this.latestValues)&&A3(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_r.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!this.layout||!(f||m))return;this.resolvedRelativeTargetAt=_r.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kn(),this.targetWithTransforms=Kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ICe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ts(this.target,this.layout.layoutBox),FH(this.target,this.targetDelta)):Ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||uT(this.parent.latestValues)||VH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,l,c){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kn(),this.relativeTargetOrigin=Kn(),qx(this.relativeTargetOrigin,l,c),Ts(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===_r.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ts(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;sCe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Kn());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(N3(this.prevProjectionDelta.x,this.projectionDelta.x),N3(this.prevProjectionDelta.y,this.projectionDelta.y)),vp(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!D3(this.projectionDelta.x,this.prevProjectionDelta.x)||!D3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pf(),this.projectionDelta=pf(),this.projectionDeltaWithTransform=pf()}setAnimationOrigin(a,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},m=pf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Kn(),y=c?c.source:void 0,x=this.layout?this.layout.source:void 0,b=y!==x,_=this.getStack(),S=!_||_.members.length<=1,R=!!(b&&!S&&this.options.crossfade===!0&&!this.path.some(iEe));this.animationProgress=0;let D;this.mixTargetDelta=z=>{const I=z/1e3;z3(m.x,a.x,I),z3(m.y,a.y,I),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qx(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rEe(this.relativeTarget,this.relativeTargetOrigin,p,I),D&&DCe(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Kn()),Ts(D,this.relativeTarget)),b&&(this.animationValues=f,LCe(f,d,this.latestValues,I,R,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=I},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(lc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tn.update(()=>{g0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ch(0)),this.currentAnimation=BCe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),a.onUpdate&&a.onUpdate(l)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(HCe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=a;if(!(!l||!c||!d)){if(this!==a&&this.layout&&d&&rW(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Kn();const m=Zr(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+m;const p=Zr(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+p}Ts(l,c),yf(l,f),vp(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new qCe),this.sharedNodes.get(a).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&gC("z",a,d,this.animationValues);for(let f=0;f<pC.length;f++)gC(`rotate${pC[f]}`,a,d,this.animationValues),gC(`skew${pC[f]}`,a,d,this.animationValues);a.render();for(const f in d)a.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=p0(l?.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=p0(l?.pointerEvents)||""),this.hasProjected&&!nu(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=OCe(this.projectionDeltaWithTransform,this.treeScale,f);c&&(m=c(f,m)),a.transform=m;const{x:p,y}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,d.animationValues?a.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in fT){if(f[x]===void 0)continue;const{correct:b,applyTo:_,isCSSVariable:S}=fT[x],R=m==="none"?f[x]:b(f[x],d);if(_){const D=_.length;for(let z=0;z<D;z++)a[_[z]]=R}else S?this.options.visualElement.renderState.vars[x]=R:a[x]=R}this.options.layoutId&&(a.pointerEvents=d===this?p0(l?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(V3),this.root.sharedNodes.clear()}}}function KCe(t){t.updateLayout()}function GCe(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?va(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],p=Zr(m);m.min=n[f].min,m.max=m.min+p}):rW(i,e.layoutBox,n)&&va(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],p=Zr(n[f]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=pf();vp(a,n,e.layoutBox);const l=pf();s?vp(l,t.applyTransform(r,!0),e.measuredBox):vp(l,n,e.layoutBox);const c=!QH(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const y=Kn();qx(y,e.layoutBox,m.layoutBox);const x=Kn();qx(x,n,p.layoutBox),JH(y,x)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function XCe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function YCe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function QCe(t){t.clearSnapshot()}function V3(t){t.clearMeasurements()}function F3(t){t.isLayoutDirty=!1}function JCe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function B3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function ZCe(t){t.resolveTargetDelta()}function eEe(t){t.calcProjection()}function tEe(t){t.resetSkewAndRotation()}function nEe(t){t.removeLeadSnapshot()}function z3(t,e,n){t.translate=_n(e.translate,0,n),t.scale=_n(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function U3(t,e,n,r){t.min=_n(e.min,n.min,r),t.max=_n(e.max,n.max,r)}function rEe(t,e,n,r){U3(t.x,e.x,n.x,r),U3(t.y,e.y,n.y,r)}function iEe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const sEe={duration:.45,ease:[.4,0,.1,1]},$3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),q3=$3("applewebkit/")&&!$3("chrome/")?Math.round:cs;function H3(t){t.min=q3(t.min),t.max=q3(t.max)}function aEe(t){H3(t.x),H3(t.y)}function rW(t,e,n){return t==="position"||t==="preserve-aspect"&&!ACe(R3(e),R3(n),.2)}function oEe(t){return t!==t.root&&t.scroll?.wasRoot}const lEe=nW({attachResizeListener:(t,e)=>ig(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),yC={current:void 0},iW=nW({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yC.current){const t=new lEe({});t.mount(window),t.setOptions({layoutScroll:!0}),yC.current=t}return yC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),rj=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function W3(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function cEe(...t){return e=>{let n=!1;const r=t.map(i=>{const s=W3(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():W3(t[i],null)}}}}function uEe(...t){return N.useCallback(cEe(...t),t)}class dEe extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=lT(r)&&r.offsetWidth||0,s=lT(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function fEe({children:t,isPresent:e,anchorX:n,anchorY:r,root:i,pop:s}){const a=N.useId(),l=N.useRef(null),c=N.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=N.useContext(rj),f=t.props?.ref??t?.ref,m=uEe(l,f);return N.useInsertionEffect(()=>{const{width:p,height:y,top:x,left:b,right:_,bottom:S}=c.current;if(e||s===!1||!l.current||!p||!y)return;const R=n==="left"?`left: ${b}`:`right: ${_}`,D=r==="bottom"?`bottom: ${S}`:`top: ${x}`;l.current.dataset.motionPopId=a;const z=document.createElement("style");d&&(z.nonce=d);const I=i??document.head;return I.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${R}px !important;
            ${D}px !important;
          }
        `),()=>{I.contains(z)&&I.removeChild(z)}},[e]),o.jsx(dEe,{isPresent:e,childRef:l,sizeRef:c,pop:s,children:s===!1?t:N.cloneElement(t,{ref:m})})}const hEe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,anchorY:c,root:d})=>{const f=AI(mEe),m=N.useId();let p=!0,y=N.useMemo(()=>(p=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:x=>{f.set(x,!0);for(const b of f.values())if(!b)return;r&&r()},register:x=>(f.set(x,!1),()=>f.delete(x))}),[n,f,r]);return s&&p&&(y={...y}),N.useMemo(()=>{f.forEach((x,b)=>f.set(b,!1))},[n]),N.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),t=o.jsx(fEe,{pop:a==="popLayout",isPresent:n,anchorX:l,anchorY:c,root:d,children:t}),o.jsx(Nw.Provider,{value:y,children:t})};function mEe(){return new Map}function sW(t=!0){const e=N.useContext(Nw);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=N.useId();N.useEffect(()=>{if(t)return i(s)},[t]);const a=N.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Ov=t=>t.key||"";function K3(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const Sw=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",anchorY:c="top",root:d})=>{const[f,m]=sW(a),p=N.useMemo(()=>K3(t),[t]),y=a&&!f?[]:p.map(Ov),x=N.useRef(!0),b=N.useRef(p),_=AI(()=>new Map),S=N.useRef(new Set),[R,D]=N.useState(p),[z,I]=N.useState(p);O7(()=>{x.current=!1,b.current=p;for(let E=0;E<z.length;E++){const A=Ov(z[E]);y.includes(A)?(_.delete(A),S.current.delete(A)):_.get(A)!==!0&&_.set(A,!1)}},[z,y.length,y.join("-")]);const P=[];if(p!==R){let E=[...p];for(let A=0;A<z.length;A++){const j=z[A],V=Ov(j);y.includes(V)||(E.splice(A,0,j),P.push(j))}return s==="wait"&&P.length&&(E=P),I(K3(E)),D(p),null}const{forceRender:C}=N.useContext(PI);return o.jsx(o.Fragment,{children:z.map(E=>{const A=Ov(E),j=a&&!f?!1:p===z||y.includes(A),V=()=>{if(S.current.has(A))return;if(S.current.add(A),_.has(A))_.set(A,!0);else return;let B=!0;_.forEach(F=>{F||(B=!1)}),B&&(C?.(),I(b.current),a&&m?.(),r&&r())};return o.jsx(hEe,{isPresent:j,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:d,onExitComplete:j?void 0:V,anchorX:l,anchorY:c,children:E},A)})})},aW=N.createContext({strict:!1}),G3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let X3=!1;function pEe(){if(X3)return;const t={};for(const e in G3)t[e]={isEnabled:n=>G3[e].some(r=>!!n[r])};OH(t),X3=!0}function oW(){return pEe(),tCe()}function gEe(t){const e=oW();for(const n in t)e[n]={...e[n],...t[n]};OH(e)}const yEe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Hx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||yEe.has(t)}let lW=t=>!Hx(t);function vEe(t){typeof t=="function"&&(lW=e=>e.startsWith("on")?!Hx(e):t(e))}try{vEe(require("@emotion/is-prop-valid").default)}catch{}function xEe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(lW(i)||n===!0&&Hx(i)||!e&&!Hx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Tw=N.createContext({});function bEe(t,e){if(Ew(t)){const{initial:n,animate:r}=t;return{initial:n===!1||rg(n)?n:void 0,animate:rg(r)?r:void 0}}return t.inherit!==!1?e:{}}function wEe(t){const{initial:e,animate:n}=bEe(t,N.useContext(Tw));return N.useMemo(()=>({initial:e,animate:n}),[Y3(e),Y3(n)])}function Y3(t){return Array.isArray(t)?t.join(" "):t}const ij=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cW(t,e,n){for(const r in e)!Br(e[r])&&!UH(r,n)&&(t[r]=e[r])}function _Ee({transformTemplate:t},e){return N.useMemo(()=>{const n=ij();return tj(n,e,t),Object.assign({},n.vars,n.style)},[e])}function NEe(t,e){const n=t.style||{},r={};return cW(r,n,t),Object.assign(r,_Ee(t,e)),r}function CEe(t,e){const n={},r=NEe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const uW=()=>({...ij(),attrs:{}});function EEe(t,e,n,r){const i=N.useMemo(()=>{const s=uW();return $H(s,e,HH(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};cW(s,t.style,t),i.style={...s,...i.style}}return i}const SEe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sj(t){return typeof t!="string"||t.includes("-")?!1:!!(SEe.indexOf(t)>-1||/[A-Z]/u.test(t))}function TEe(t,e,n,{latestValues:r},i,s=!1,a){const c=(a??sj(t)?EEe:CEe)(e,r,i,t),d=xEe(e,typeof t=="string",s),f=t!==N.Fragment?{...d,...c,ref:n}:{},{children:m}=e,p=N.useMemo(()=>Br(m)?m.get():m,[m]);return N.createElement(t,{...f,children:p})}function PEe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:AEe(n,r,i,t),renderState:e()}}function AEe(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=p0(s[p]);let{initial:a,animate:l}=t;const c=Ew(t),d=RH(t);e&&d&&!c&&t.inherit!==!1&&(a===void 0&&(a=e.initial),l===void 0&&(l=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const m=f?l:a;if(m&&typeof m!="boolean"&&!Cw(m)){const p=Array.isArray(m)?m:[m];for(let y=0;y<p.length;y++){const x=KI(t,p[y]);if(x){const{transitionEnd:b,transition:_,...S}=x;for(const R in S){let D=S[R];if(Array.isArray(D)){const z=f?D.length-1:0;D=D[z]}D!==null&&(i[R]=D)}for(const R in b)i[R]=b[R]}}}return i}const dW=t=>(e,n)=>{const r=N.useContext(Tw),i=N.useContext(Nw),s=()=>PEe(t,e,r,i);return n?s():AI(s)},IEe=dW({scrapeMotionValuesFromProps:nj,createRenderState:ij}),jEe=dW({scrapeMotionValuesFromProps:WH,createRenderState:uW}),kEe=Symbol.for("motionComponentSymbol");function REe(t,e,n){const r=N.useRef(n);N.useInsertionEffect(()=>{r.current=n});const i=N.useRef(null);return N.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const a=r.current;if(typeof a=="function")if(s){const l=a(s);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[e])}const fW=N.createContext({});function of(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function DEe(t,e,n,r,i,s){const{visualElement:a}=N.useContext(Tw),l=N.useContext(aW),c=N.useContext(Nw),d=N.useContext(rj),f=d.reducedMotion,m=d.skipAnimations,p=N.useRef(null),y=N.useRef(!1);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f,skipAnimations:m,isSVG:s}),y.current&&p.current&&(p.current.manuallyAnimateOnMount=!0));const x=p.current,b=N.useContext(fW);x&&!x.projection&&i&&(x.type==="html"||x.type==="svg")&&OEe(p.current,n,i,b);const _=N.useRef(!1);N.useInsertionEffect(()=>{x&&_.current&&x.update(n,c)});const S=n[bH],R=N.useRef(!!S&&!window.MotionHandoffIsComplete?.(S)&&window.MotionHasOptimisedAnimation?.(S));return O7(()=>{y.current=!0,x&&(_.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),x.scheduleRenderMicrotask(),R.current&&x.animationState&&x.animationState.animateChanges())}),N.useEffect(()=>{x&&(!R.current&&x.animationState&&x.animationState.animateChanges(),R.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(S)}),R.current=!1),x.enteringChildren=void 0)}),x}function OEe(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:hW(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&of(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:c,layoutRoot:d})}function hW(t){if(t)return t.options.allowProjection!==!1?t.projection:hW(t.parent)}function vC(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&gEe(r);const s=n?n==="svg":sj(t),a=s?jEe:IEe;function l(d,f){let m;const p={...N.useContext(rj),...d,layoutId:MEe(d)},{isStatic:y}=p,x=wEe(d),b=a(d,y);if(!y&&D7){LEe();const _=VEe(p);m=_.MeasureLayout,x.visualElement=DEe(t,b,p,i,_.ProjectionNode,s)}return o.jsxs(Tw.Provider,{value:x,children:[m&&x.visualElement?o.jsx(m,{visualElement:x.visualElement,...p}):null,TEe(t,d,REe(b,x.visualElement,f),b,y,e,s)]})}l.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const c=N.forwardRef(l);return c[kEe]=t,c}function MEe({layoutId:t}){const e=N.useContext(PI).id;return e&&t!==void 0?e+"-"+t:t}function LEe(t,e){N.useContext(aW).strict}function VEe(t){const e=oW(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function FEe(t,e){if(typeof Proxy>"u")return vC;const n=new Map,r=(s,a)=>vC(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,vC(a,void 0,t,e)),n.get(a))})}const BEe=(t,e)=>e.isSVG??sj(t)?new vCe(e):new fCe(e,{allowProjection:t!==N.Fragment});class zEe extends bc{constructor(e){super(e),e.animationState||(e.animationState=NCe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Cw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let UEe=0;class $Ee extends bc{constructor(){super(...arguments),this.id=UEe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const qEe={animation:{Feature:zEe},exit:{Feature:$Ee}};function Gg(t){return{point:{x:t.pageX,y:t.pageY}}}const HEe=t=>e=>QI(e)&&t(e,Gg(e));function xp(t,e,n,r){return ig(t,e,HEe(n),r)}const mW=({current:t})=>t?t.ownerDocument.defaultView:null,Q3=(t,e)=>Math.abs(t-e);function WEe(t,e){const n=Q3(t.x,e.x),r=Q3(t.y,e.y);return Math.sqrt(n**2+r**2)}const J3=new Set(["auto","scroll"]);class pW{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=bC(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,b=WEe(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!b)return;const{point:_}=y,{timestamp:S}=_r;this.history.push({..._,timestamp:S});const{onStart:R,onMove:D}=this.handlers;x||(R&&R(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),D&&D(this.lastMoveEvent,y)},this.handlePointerMove=(y,x)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=xC(x,this.transformPagePoint),tn.update(this.updatePoint,!0)},this.handlePointerUp=(y,x)=>{this.end();const{onEnd:b,onSessionEnd:_,resumeAnimation:S}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=bC(y.type==="pointercancel"?this.lastMoveEventInfo:xC(x,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,R),_&&_(y,R)},!QI(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const c=Gg(e),d=xC(c,this.transformPagePoint),{point:f}=d,{timestamp:m}=_r;this.history=[{...f,timestamp:m}];const{onSessionStart:p}=n;p&&p(e,bC(d,this.history)),this.removeListeners=Hg(xp(this.contextWindow,"pointermove",this.handlePointerMove),xp(this.contextWindow,"pointerup",this.handlePointerUp),xp(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(J3.has(r.overflowX)||J3.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),tn.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),lc(this.updatePoint)}}function xC(t,e){return e?{point:e(t.point)}:t}function Z3(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bC({point:t},e){return{point:t,delta:Z3(t,gW(e)),offset:Z3(t,KEe(e)),velocity:GEe(e,.1)}}function KEe(t){return t[0]}function gW(t){return t[t.length-1]}function GEe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=gW(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Bs(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&i.timestamp-r.timestamp>Bs(e)*2&&(r=t[1]);const s=ls(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function XEe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_n(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_n(n,t,r.max):Math.min(t,n)),t}function eV(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function YEe(t,{top:e,left:n,bottom:r,right:i}){return{x:eV(t.x,n,i),y:eV(t.y,e,r)}}function tV(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function QEe(t,e){return{x:tV(t.x,e.x),y:tV(t.y,e.y)}}function JEe(t,e){let n=.5;const r=Zr(t),i=Zr(e);return i>r?n=eg(e.min,e.max-r,t.min):r>i&&(n=eg(t.min,t.max-i,e.min)),$a(0,1,n)}function ZEe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hT=.35;function eSe(t=hT){return t===!1?t=0:t===!0&&(t=hT),{x:nV(t,"left","right"),y:nV(t,"top","bottom")}}function nV(t,e,n){return{min:rV(t,e),max:rV(t,n)}}function rV(t,e){return typeof t=="number"?t:t[e]||0}const tSe=new WeakMap;class nSe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{n&&this.snapToCursor(Gg(m).point),this.stopAnimation()},a=(m,p)=>{const{drag:y,dragPropagation:x,onDragStart:b}=this.getProps();if(y&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jNe(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),va(S=>{let R=this.getAxisMotionValue(S).get()||0;if(La.test(R)){const{projection:D}=this.visualElement;if(D&&D.layout){const z=D.layout.layoutBox[S];z&&(R=Zr(z)*(parseFloat(R)/100))}}this.originPoint[S]=R}),b&&tn.update(()=>b(m,p),!1,!0),sT(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:y,dragDirectionLock:x,onDirectionLock:b,onDrag:_}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:S}=p;if(x&&this.currentDirection===null){this.currentDirection=iSe(S),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,S),this.updateAxis("y",p.point,S),this.visualElement.render(),_&&tn.update(()=>_(m,p),!1,!0)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>{const{dragSnapToOrigin:m}=this.getProps();(m||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:f}=this.getProps();this.panSession=new pW(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:mW(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&tn.postRender(()=>l(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Mv(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=XEe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&of(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=YEe(r.layoutBox,e):this.constraints=!1,this.elastic=eSe(n),i!==this.constraints&&!of(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&va(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=ZEe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!of(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=aCe(r,i.root,this.visualElement.getTransformPagePoint());let a=QEe(i.layout.layoutBox,s);if(n){const l=n(rCe(a));this.hasMutatedConstraints=!!l,l&&(a=LH(l))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=va(f=>{if(!Mv(f,n,this.currentDirection))return;let m=c&&c[f]||{};a&&(m={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,x={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,x)});return Promise.all(d).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return sT(this.visualElement,e),r.start(WI(e,r,0,n,this.visualElement,!1))}stopAnimation(){va(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){va(n=>{const{drag:r}=this.getProps();if(!Mv(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[n],c=s.get()||0;s.set(e[n]-_n(a,l,.5)+c)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!of(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};va(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=JEe({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),va(a=>{if(!Mv(a,e,null))return;const l=this.getAxisMotionValue(a),{min:c,max:d}=this.constraints[a];l.set(_n(c,d,i[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;tSe.set(this.visualElement,this);const e=this.visualElement.current,n=xp(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps(),p=d.target,y=p!==e&&LNe(p);f&&m&&!y&&this.start(d)});let r;const i=()=>{const{dragConstraints:d}=this.getProps();of(d)&&d.current&&(this.constraints=this.resolveRefConstraints(),r||(r=rSe(e,d.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),tn.read(i);const l=ig(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(va(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=d[m].translate,p.set(p.get()+d[m].translate))}),this.visualElement.render())}));return()=>{l(),n(),a(),c&&c(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=hT,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function iV(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function rSe(t,e,n){const r=d3(t,iV(n)),i=d3(e,iV(n));return()=>{r(),i()}}function Mv(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iSe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sSe extends bc{constructor(e){super(e),this.removeGroupControls=cs,this.removeListeners=cs,this.controls=new nSe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cs}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const wC=t=>(e,n)=>{t&&tn.update(()=>t(e,n),!1,!0)};class aSe extends bc{constructor(){super(...arguments),this.removePointerDownListener=cs}onPointerDown(e){this.session=new pW(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mW(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:wC(e),onStart:wC(n),onMove:wC(r),onEnd:(s,a)=>{delete this.session,i&&tn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=xp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let _C=!1;class oSe extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),_C&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),g0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,e.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),_C=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||tn.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),YI.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;_C=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function yW(t){const[e,n]=sW(),r=N.useContext(PI);return o.jsx(oSe,{...t,layoutGroup:r,switchLayoutGroup:N.useContext(fW),isPresent:e,safeToRemove:n})}const lSe={pan:{Feature:aSe},drag:{Feature:sSe,ProjectionNode:iW,MeasureLayout:yW}};function sV(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&tn.postRender(()=>s(e,Gg(e)))}class cSe extends bc{mount(){const{current:e}=this.node;e&&(this.unmount=RNe(e,(n,r)=>(sV(this.node,r,"Start"),i=>sV(this.node,i,"End"))))}unmount(){}}class uSe extends bc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hg(ig(this.node.current,"focus",()=>this.onFocus()),ig(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function aV(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&tn.postRender(()=>s(e,Gg(e)))}class dSe extends bc{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=FNe(e,(i,s)=>(aV(this.node,s,"Start"),(a,{success:l})=>aV(this.node,a,l?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:r?.tap===!1})}unmount(){}}const mT=new WeakMap,NC=new WeakMap,fSe=t=>{const e=mT.get(t.target);e&&e(t)},hSe=t=>{t.forEach(fSe)};function mSe({root:t,...e}){const n=t||document;NC.has(n)||NC.set(n,{});const r=NC.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(hSe,{root:t,...e})),r[i]}function pSe(t,e,n){const r=mSe(e);return mT.set(t,n),r.observe(t),()=>{mT.delete(t),r.unobserve(t)}}const gSe={some:0,all:1};class ySe extends bc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:gSe[i]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),p=d?f:m;p&&p(c)};return pSe(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vSe(e,n))&&this.startObserver()}unmount(){}}function vSe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const xSe={inView:{Feature:ySe},tap:{Feature:dSe},focus:{Feature:uSe},hover:{Feature:cSe}},bSe={layout:{ProjectionNode:iW,MeasureLayout:yW}},wSe={...qEe,...xSe,...lSe,...bSe},Ye=FEe(wSe,BEe),Lv=[{id:1,label:"Validando dados",duration:1500},{id:2,label:"Gerando nmero da conta",duration:2e3},{id:3,label:"Configurando segurana",duration:1800},{id:4,label:"Finalizando abertura",duration:1500}];function _Se({isOpen:t,countryName:e,onComplete:n}){const[r,i]=N.useState(0),[s,a]=N.useState([]);return N.useEffect(()=>{if(!t){i(0),a([]);return}let l;return(async()=>{for(let d=0;d<Lv.length;d++)i(d),await new Promise(f=>{l=setTimeout(f,Lv[d].duration)}),a(f=>[...f,d]);await new Promise(d=>{l=setTimeout(d,500)}),n()})(),()=>{l&&clearTimeout(l)}},[t,n]),t?Sb.createPortal(o.jsx(Sw,{children:o.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-6",children:[o.jsx(Ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/90 backdrop-blur-md"}),o.jsxs(Ye.div,{initial:{opacity:0,scale:.8,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:40},transition:{type:"spring",duration:.5},className:"relative bg-zinc-900/95 backdrop-blur-xl rounded-3xl p-10 w-full max-w-md border border-white/20 shadow-[0_20px_100px_rgba(0,0,0,0.9)]",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-white/20 to-white/5 flex items-center justify-center border border-white/20",children:o.jsx(Ye.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:o.jsx(jf,{className:"w-8 h-8 text-white"})})}),o.jsx("h3",{className:"text-xl text-white mb-2",children:"Abrindo Conta"}),o.jsxs("p",{className:"text-sm text-white/60",children:["Configurando sua conta de ",e]})]}),o.jsx("div",{className:"space-y-4 mb-8",children:Lv.map((l,c)=>o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-all ${r>c?"bg-green-500/20 border-2 border-green-500":r===c?"bg-white/20 border-2 border-white animate-pulse":"bg-white/5 border-2 border-white/20"}`,children:r>c?o.jsx(wn,{className:"w-5 h-5 text-green-500"}):o.jsx("span",{className:"text-sm text-white",children:c+1})}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:`text-sm transition-all ${r>c?"text-green-400":r===c?"text-white":"text-white/40"}`,children:l.label})})]},l.id))}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-xs text-white/40",children:[s.length," de ",Lv.length," etapas concludas"]})})]})]})}),document.body):null}const NSe=async(t,e,n,r,i)=>{try{console.log(" Criando chaves PIX automticas para conta BRL...");const s=it(we,"pixKeys"),a=Dt(s,It("userId","==",t),It("accountId","==",e));if(!(await Ot(a)).empty){console.log(" Chaves PIX j existem para esta conta");return}await us(s,{userId:t,accountId:e,accountNumber:n,currency:"BRL",country:"BR",keyType:"email",keyValue:r,createdAt:new Date}),console.log(" Chave PIX (email) criada:",r),await us(s,{userId:t,accountId:e,accountNumber:n,currency:"BRL",country:"BR",keyType:"phone",keyValue:i,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",i)}catch(s){console.error(" Erro ao criar chaves PIX automticas:",s)}},oV=({code:t})=>o.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800",children:o.jsx("img",{src:`https://flagcdn.com/w40/${t.toLowerCase()}.png`,alt:t,className:"w-full h-full object-cover"})});function CSe({onNavigate:t}){const{user:e}=Vt(),[n,r]=N.useState(""),[i,s]=N.useState(!1),[a,l]=N.useState(null),[c,d]=N.useState([]),[f,m]=N.useState(!0),[p,y]=N.useState(!1),[x,b]=N.useState(!1),[_,S]=N.useState(!1),[R,D]=N.useState("");N.useEffect(()=>{if(!e)return;(async()=>{try{const j=it(we,"bankAccounts"),V=Dt(j,It("userId","==",e.uid)),F=(await Ot(V)).docs.map(U=>({...U.data(),id:U.id,createdAt:U.data().createdAt?.toDate()||new Date}));d(F),b(!1)}catch(j){console.error(" Erro ao carregar contas:",j),j?.code==="permission-denied"&&b(!0)}finally{m(!1)}})()},[e]);const I=mv().filter(A=>!c.some(j=>j.country===A.code)).filter(A=>A.name.toLowerCase().includes(n.toLowerCase())||A.code.toLowerCase().includes(n.toLowerCase())||A.currency.toLowerCase().includes(n.toLowerCase())),P=A=>{D(A),S(!0)},C=async()=>{if(!(!e||!R)){S(!1),y(!0);try{const A=it(we,"bankAccounts"),j=Dt(A,It("userId","==",e.uid),It("country","==",R));if(!(await Ot(j)).empty){console.log(" Conta j existe para:",R);const X=mv().find(J=>J.code===R)?.name||R;Me.error("Conta j existe",{description:`Voc j possui uma conta bancria de ${X}. No  possvel criar mais de uma conta por pas.`,duration:4e3}),r(""),s(!1),y(!1);return}const B=vU(R),F=await us(A,{...B,userId:e.uid,createdAt:new Date}),U={...B,id:F.id,createdAt:new Date};if(d(X=>[...X,U]),r(""),s(!1),console.log(" Conta criada com sucesso para:",R),Me.success("Conta criada",{description:`Conta bancria de ${mv().find(X=>X.code===R)?.name} criada com sucesso!`,duration:3e3}),R==="BR"){const X=et(we,"users",e.uid),O=(await Wi(X)).data();O?.email&&O?.phone?(await NSe(e.uid,F.id,B.accountNumber,O.email,O.phone),console.log(" Chaves PIX criadas automaticamente!"),setTimeout(()=>{Me.success("Chaves PIX criadas!",{description:"Suas chaves PIX (email e telefone) foram configuradas automaticamente.",duration:4e3})},1500)):console.log(" Email ou telefone no encontrado no perfil do usurio")}setTimeout(()=>{t("home")},1e3)}catch(A){console.error(" Erro ao adicionar conta:",A),Me.error("Erro ao criar conta",{description:"No foi possvel criar a conta bancria. Tente novamente.",duration:3e3})}finally{y(!1)}}},E=async A=>{if(!A){Me.error("Erro",{description:"ID da conta no encontrado.",duration:3e3});return}if(window.confirm(`Tem certeza que deseja encerrar esta conta?

Esta ao no pode ser desfeita e voc perder todos os dados desta conta bancria.`))try{await sc(et(we,"bankAccounts",A)),d(V=>V.filter(B=>B.id!==A)),l(null),Me.success("Conta encerrada",{description:"A conta bancria foi encerrada com sucesso.",duration:3e3}),console.log(" Conta deletada com sucesso:",A)}catch(V){console.error(" Erro ao deletar conta:",V),V?.code==="permission-denied"?Me.error(" Regras do Firestore no configuradas",{description:"Voc precisa atualizar as regras do Firestore. Consulte o arquivo /GUIA_FIRESTORE.md para instrues detalhadas.",duration:8e3}):Me.error("Erro ao encerrar conta",{description:"No foi possvel encerrar a conta. Tente novamente.",duration:3e3})}};return a?o.jsx(P1e,{account:a,onBack:()=>l(null),onDelete:E}):o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"sticky top-0 z-20 backdrop-blur-lg bg-black/80 border-b border-white/5",children:o.jsx("div",{className:"px-6 py-4 flex items-center gap-4",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-zinc-900 transition-colors",children:o.jsx(Gx,{className:"w-6 h-6"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl",children:"Contas"}),o.jsx("p",{className:"text-sm text-white/50",children:"Gerencie suas contas bancrias"})]})]})})}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("h1",{className:"text-xl mb-6",children:"Dados da conta"}),f&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"w-8 h-8 border-3 border-zinc-700 border-t-white rounded-full animate-spin"})}),x&&!f&&o.jsx("div",{className:"bg-red-900/20 border border-red-800 rounded-2xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(pu,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-red-500 mb-1",children:"Erro de permisso"}),o.jsx("p",{className:"text-sm text-gray-300",children:"Verifique se as regras do Firestore foram configuradas corretamente. Consulte o arquivo /FIRESTORE_RULES.txt"})]})]})}),!f&&c.length>0&&o.jsx("div",{className:"bg-zinc-900 rounded-3xl overflow-hidden mb-6",children:c.map((A,j)=>o.jsxs("div",{children:[o.jsxs("button",{className:"w-full px-4 py-4 flex items-center justify-between hover:bg-zinc-800 transition-colors",onClick:()=>l(A),children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(oV,{code:A.flagCode}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-semibold",children:A.countryName}),o.jsx("p",{className:"text-sm text-gray-400",children:A.currency})]})]}),o.jsx(zr,{className:"w-5 h-5 text-gray-400"})]}),j<c.length-1&&o.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},A.id))}),o.jsx("div",{className:"bg-zinc-900 rounded-3xl overflow-hidden",children:I.map((A,j)=>o.jsxs("div",{children:[o.jsxs("div",{className:"px-4 py-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(oV,{code:A.flag}),o.jsxs("div",{className:"text-left",children:[o.jsx("p",{className:"font-semibold",children:A.name}),o.jsx("p",{className:"text-sm text-gray-400",children:A.currency})]})]}),o.jsx("button",{className:"px-5 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-full text-sm font-semibold transition-colors disabled:opacity-50",onClick:()=>P(A.code),disabled:p,children:p?"Criando...":"Adicionar"})]}),j<I.length-1&&o.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},A.code))})]}),o.jsx(_Se,{isOpen:_,countryName:mv().find(A=>A.code===R)?.name||"",onComplete:C})]})}function ESe({onNavigate:t}){const[e,n]=N.useState(!1),[r,i]=N.useState(!0),{userData:s}=Vt(),{t:a}=In(),l=[{title:"Autenticao",items:[{icon:Ea,label:"Alterar senha",description:"ltima alterao h 3 meses",action:()=>t("changePassword"),type:"button"},{icon:as,label:"Autenticao de dois fatores",description:"Adicione uma camada extra de segurana",action:()=>n(!e),type:"toggle",enabled:e}]},{title:"Notificaes de segurana",items:[{icon:kf,label:"Alertas por e-mail",description:"Receba notificaes de atividades suspeitas",action:()=>i(!r),type:"toggle",enabled:r},{icon:lE,label:"Atividades recentes",description:"Veja dispositivos e acessos recentes",action:()=>{},type:"button"}]},{title:"Privacidade",items:[{icon:gu,label:"Dispositivos conectados",description:"3 dispositivos ativos",action:()=>{},type:"button"},{icon:wG,label:"Sesses ativas",description:"Gerencie suas sesses",action:()=>{},type:"button"}]}];return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Nt,{className:"w-5 h-5 font-light"})}),o.jsx("h1",{className:"text-xl",children:a.security})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Co,{className:"w-5 h-5 text-green-500 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"mb-1",children:a.yourAccountProtected}),o.jsx("p",{className:"text-sm text-gray-400",children:a.keepInfoSecure})]})]})}),o.jsx("div",{className:"space-y-6",children:l.map((c,d)=>o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs text-gray-400 mb-2 px-1",children:c.title}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl overflow-hidden shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:c.items.map((f,m)=>{const p=f.icon;return o.jsxs("div",{children:[o.jsxs("button",{onClick:f.action,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/10 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx(p,{className:"w-5 h-5 text-gray-400"}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"text-white",children:f.label}),o.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:f.description})]})]}),f.type==="toggle"?o.jsx("div",{className:`w - 12 h - 6 rounded - full transition - colors ${f.enabled?"bg-green-500":"bg-zinc-700"} `,children:o.jsx("div",{className:`w - 5 h - 5 bg - white rounded - full mt - 0.5 transition - transform ${f.enabled?"translate-x-6":"translate-x-0.5"} `})}):o.jsx(zr,{className:"w-5 h-5 text-gray-400"})]}),m<c.items.length-1&&o.jsx("div",{className:"h-px bg-white/10 mx-4"})]},f.label)})})]},d))}),o.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsxs("h4",{className:"mb-2 flex items-center gap-2",children:[o.jsx(Co,{className:"w-4 h-4 text-green-500"}),"Dicas de segurana"]}),o.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:"Use uma senha forte e nica"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:"Ative a autenticao de dois fatores"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:"Nunca compartilhe suas credenciais"})]})]})]})]})]})}function SSe({onNavigate:t}){const[e,n]=N.useState(""),[r,i]=N.useState(""),[s,a]=N.useState(""),[l,c]=N.useState(!1),[d,f]=N.useState(!1),[m,p]=N.useState(!1),[y,x]=N.useState(!1),[b,_]=N.useState(""),[S,R]=N.useState(!1),z=(C=>({length:C.length>=8,uppercase:/[A-Z]/.test(C),lowercase:/[a-z]/.test(C),number:/[0-9]/.test(C),special:/[!@#$%^&*(),.?":{}|<>]/.test(C)}))(r),I=Object.values(z).every(Boolean),P=async()=>{if(!e||!r||!s){_("Preencha todos os campos");return}if(r!==s){_("As senhas no coincidem");return}if(!I){_("A nova senha no atende aos requisitos de segurana");return}if(r===e){_("A nova senha deve ser diferente da senha atual");return}x(!0),_("");try{const C=bn.currentUser;if(!C||!C.email)throw new Error("Usurio no autenticado");const E=ed.credential(C.email,e);await sne(C,E),await Jz(C,r),R(!0),n(""),i(""),a(""),setTimeout(()=>{t("security")},2e3)}catch(C){console.error("Erro ao alterar senha:",C),C.code==="auth/wrong-password"?_("Senha atual incorreta"):C.code==="auth/weak-password"?_("A nova senha  muito fraca"):C.code==="auth/requires-recent-login"?_("Por segurana, faa login novamente antes de alterar a senha"):C.code==="auth/network-request-failed"?_("Erro de conexo. Verifique sua internet"):_("Erro ao alterar senha. Tente novamente")}finally{x(!1)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("security"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Nt,{className:"w-5 h-5 font-light"})}),o.jsx("h1",{className:"text-xl",children:"Alterar senha"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[S&&o.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(wn,{className:"w-5 h-5 text-green-500 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-green-500 mb-1",children:"Senha alterada com sucesso!"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Redirecionando..."})]})]})}),b&&o.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(pu,{className:"w-5 h-5 text-red-500 mt-0.5"}),o.jsx("div",{className:"flex-1",children:o.jsx("p",{className:"text-sm text-red-400",children:b})})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Senha atual"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:o.jsx(Ea,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:l?"text":"password",value:e,onChange:C=>n(C.target.value),placeholder:"Digite sua senha atual",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||S}),o.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||S,children:l?o.jsx(xf,{className:"w-5 h-5"}):o.jsx(gu,{className:"w-5 h-5"})})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Nova senha"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:o.jsx(Ea,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:d?"text":"password",value:r,onChange:C=>i(C.target.value),placeholder:"Digite sua nova senha",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||S}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||S,children:d?o.jsx(xf,{className:"w-5 h-5"}):o.jsx(gu,{className:"w-5 h-5"})})]}),r&&o.jsxs("div",{className:"mt-3 p-3 bg-white/5 backdrop-blur-md border border-white/10 rounded-xl",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Requisitos da senha:"}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.length?"text-green-500":"text-gray-500"}`,children:[o.jsx(wn,{className:"w-3 h-3"}),"Mnimo de 8 caracteres"]}),o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.uppercase?"text-green-500":"text-gray-500"}`,children:[o.jsx(wn,{className:"w-3 h-3"}),"Letra maiscula (A-Z)"]}),o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.lowercase?"text-green-500":"text-gray-500"}`,children:[o.jsx(wn,{className:"w-3 h-3"}),"Letra minscula (a-z)"]}),o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.number?"text-green-500":"text-gray-500"}`,children:[o.jsx(wn,{className:"w-3 h-3"}),"Nmero (0-9)"]}),o.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.special?"text-green-500":"text-gray-500"}`,children:[o.jsx(wn,{className:"w-3 h-3"}),"Caractere especial (!@#$%...)"]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Confirmar nova senha"}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:o.jsx(Ea,{className:"w-5 h-5 text-gray-400"})}),o.jsx("input",{type:m?"text":"password",value:s,onChange:C=>a(C.target.value),placeholder:"Confirme sua nova senha",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||S}),o.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||S,children:m?o.jsx(xf,{className:"w-5 h-5"}):o.jsx(gu,{className:"w-5 h-5"})})]}),s&&r!==s&&o.jsx("p",{className:"text-xs text-red-400 mt-2",children:"As senhas no coincidem"})]}),o.jsx("button",{onClick:P,disabled:y||S||!e||!r||!s||!I||r!==s,className:"w-full bg-white text-black py-4 rounded-2xl disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 transition-colors active:scale-95",children:y?"Alterando senha...":"Alterar senha"})]}),o.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl",children:[o.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm",children:[o.jsx(Ea,{className:"w-4 h-4 text-gray-400"}),"Dicas de segurana"]}),o.jsxs("ul",{className:"space-y-2 text-xs text-gray-400",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),o.jsx("span",{children:"Nunca compartilhe sua senha com ningum"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),o.jsx("span",{children:"Use uma senha nica para cada servio"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),o.jsx("span",{children:"Considere usar um gerenciador de senhas"})]})]})]})]})]})}function Sr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function TSe(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Vv=43200,lV=1440;let PSe={};function ASe(){return PSe}function cV(t){const e=Sr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function y0(t,e){const n=Sr(t),r=Sr(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function ISe(t){return TSe(t,Date.now())}function jSe(t,e){const n=Sr(t),r=Sr(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function kSe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function RSe(t,e){return+Sr(t)-+Sr(e)}function DSe(t){const e=Sr(t);return e.setHours(23,59,59,999),e}function OSe(t){const e=Sr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function MSe(t){const e=Sr(t);return+DSe(e)==+OSe(e)}function LSe(t,e){const n=Sr(t),r=Sr(e),i=y0(n,r),s=Math.abs(jSe(n,r));let a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let l=y0(n,r)===-i;MSe(Sr(t))&&s===1&&y0(t,r)===1&&(l=!1),a=i*(s-Number(l))}return a===0?0:a}function VSe(t,e,n){const r=RSe(t,e)/1e3;return kSe(n?.roundingMethod)(r)}const FSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BSe=(t,e,n)=>{let r;const i=FSe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function If(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const zSe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},USe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$Se={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qSe={date:If({formats:zSe,defaultWidth:"full"}),time:If({formats:USe,defaultWidth:"full"}),dateTime:If({formats:$Se,defaultWidth:"full"})},HSe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WSe=(t,e,n,r)=>HSe[t];function Na(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,l=n?.width?String(n.width):a;i=t.formattingValues[l]||t.formattingValues[a]}else{const a=t.defaultWidth,l=n?.width?String(n.width):t.defaultWidth;i=t.values[l]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const KSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},YSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},QSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ZSe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},eTe={ordinalNumber:ZSe,era:Na({values:KSe,defaultWidth:"wide"}),quarter:Na({values:GSe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Na({values:XSe,defaultWidth:"wide"}),day:Na({values:YSe,defaultWidth:"wide"}),dayPeriod:Na({values:QSe,defaultWidth:"wide",formattingValues:JSe,defaultFormattingWidth:"wide"})};function Ca(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?nTe(l,m=>m.test(a)):tTe(l,m=>m.test(a));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(a.length);return{value:d,rest:f}}}function tTe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function nTe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function vW(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const l=e.slice(i.length);return{value:a,rest:l}}}const rTe=/^(\d+)(th|st|nd|rd)?/i,iTe=/\d+/i,sTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},aTe={any:[/^b/i,/^(a|c)/i]},oTe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lTe={any:[/1/i,/2/i,/3/i,/4/i]},cTe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},uTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dTe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},fTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},hTe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},mTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},pTe={ordinalNumber:vW({matchPattern:rTe,parsePattern:iTe,valueCallback:t=>parseInt(t,10)}),era:Ca({matchPatterns:sTe,defaultMatchWidth:"wide",parsePatterns:aTe,defaultParseWidth:"any"}),quarter:Ca({matchPatterns:oTe,defaultMatchWidth:"wide",parsePatterns:lTe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ca({matchPatterns:cTe,defaultMatchWidth:"wide",parsePatterns:uTe,defaultParseWidth:"any"}),day:Ca({matchPatterns:dTe,defaultMatchWidth:"wide",parsePatterns:fTe,defaultParseWidth:"any"}),dayPeriod:Ca({matchPatterns:hTe,defaultMatchWidth:"any",parsePatterns:mTe,defaultParseWidth:"any"})},gTe={code:"en-US",formatDistance:BSe,formatLong:qSe,formatRelative:WSe,localize:eTe,match:pTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function yTe(t,e,n){const r=ASe(),i=n?.locale??r.locale??gTe,s=2520,a=y0(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const l=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:a});let c,d;a>0?(c=Sr(e),d=Sr(t)):(c=Sr(t),d=Sr(e));const f=VSe(d,c),m=(cV(d)-cV(c))/1e3,p=Math.round((f-m)/60);let y;if(p<2)return n?.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,l):f<10?i.formatDistance("lessThanXSeconds",10,l):f<20?i.formatDistance("lessThanXSeconds",20,l):f<40?i.formatDistance("halfAMinute",0,l):f<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):p===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",p,l);if(p<45)return i.formatDistance("xMinutes",p,l);if(p<90)return i.formatDistance("aboutXHours",1,l);if(p<lV){const x=Math.round(p/60);return i.formatDistance("aboutXHours",x,l)}else{if(p<s)return i.formatDistance("xDays",1,l);if(p<Vv){const x=Math.round(p/lV);return i.formatDistance("xDays",x,l)}else if(p<Vv*2)return y=Math.round(p/Vv),i.formatDistance("aboutXMonths",y,l)}if(y=LSe(d,c),y<12){const x=Math.round(p/Vv);return i.formatDistance("xMonths",x,l)}else{const x=y%12,b=Math.trunc(y/12);return x<3?i.formatDistance("aboutXYears",b,l):x<9?i.formatDistance("overXYears",b,l):i.formatDistance("almostXYears",b+1,l)}}function vTe(t,e){return yTe(t,ISe(t),e)}const xTe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},bTe=(t,e,n)=>{let r;const i=xTe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},wTe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},_Te={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},NTe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},CTe={date:If({formats:wTe,defaultWidth:"full"}),time:If({formats:_Te,defaultWidth:"full"}),dateTime:If({formats:NTe,defaultWidth:"full"})},ETe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},STe=(t,e,n,r)=>{const i=ETe[t];return typeof i=="function"?i(e):i},TTe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},PTe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},ATe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},ITe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},jTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},kTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},RTe=(t,e)=>{const n=Number(t);return e?.unit==="week"?n+"":n+""},DTe={ordinalNumber:RTe,era:Na({values:TTe,defaultWidth:"wide"}),quarter:Na({values:PTe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Na({values:ATe,defaultWidth:"wide"}),day:Na({values:ITe,defaultWidth:"wide"}),dayPeriod:Na({values:jTe,defaultWidth:"wide",formattingValues:kTe,defaultFormattingWidth:"wide"})},OTe=/^(\d+)[o]?/i,MTe=/\d+/i,LTe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},VTe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},FTe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},BTe={any:[/1/i,/2/i,/3/i,/4/i]},zTe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},UTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},$Te={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},qTe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},HTe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},WTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},KTe={ordinalNumber:vW({matchPattern:OTe,parsePattern:MTe,valueCallback:t=>parseInt(t,10)}),era:Ca({matchPatterns:LTe,defaultMatchWidth:"wide",parsePatterns:VTe,defaultParseWidth:"any"}),quarter:Ca({matchPatterns:FTe,defaultMatchWidth:"wide",parsePatterns:BTe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ca({matchPatterns:zTe,defaultMatchWidth:"wide",parsePatterns:UTe,defaultParseWidth:"any"}),day:Ca({matchPatterns:$Te,defaultMatchWidth:"wide",parsePatterns:qTe,defaultParseWidth:"any"}),dayPeriod:Ca({matchPatterns:HTe,defaultMatchWidth:"any",parsePatterns:WTe,defaultParseWidth:"any"})},GTe={code:"pt-BR",formatDistance:bTe,formatLong:CTe,formatRelative:STe,localize:DTe,match:KTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XTe({onNavigate:t}){const{user:e}=Vt(),[n,r]=N.useState("all"),[i,s]=N.useState([]),[a,l]=N.useState(!0);N.useEffect(()=>{c()},[e]);const c=async()=>{if(e)try{l(!0);const b=await x1e(e.uid);s(b)}catch(b){console.error("Error loading notifications:",b)}finally{l(!1)}},d=(b,_)=>b==="transaction"?_?.type==="deposit"?zi:_?.type==="withdrawal"?Su:_?.type==="conversion"?f6:zi:b==="security"?Co:b==="alert"?pu:b==="info"?Xx:tp,f=[{label:"Todas",value:"all"},{label:"Transaes",value:"transactions"},{label:"Segurana",value:"security"},{label:"Atualizaes",value:"updates"}],m=i.filter(b=>n==="all"?!0:n==="transactions"?b.type==="transaction":n==="security"?b.type==="security":n==="updates"?b.type==="info"||b.type==="alert":!0),p=i.filter(b=>!b.read).length,y=async b=>{try{await b1e(b),s(i.map(_=>_.id===b?{..._,read:!0}:_))}catch(_){console.error("Error marking notification as read:",_)}},x=async()=>{if(e)try{await w1e(e.uid),s(i.map(b=>({...b,read:!0})))}catch(b){console.error("Error marking all notifications as read:",b)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-bold",children:"Notificaes"}),p>0&&o.jsxs("p",{className:"text-xs text-gray-400",children:[p," no lida",p>1?"s":""]})]})]}),p>0&&o.jsx("button",{onClick:x,className:"text-sm text-white/70 hover:text-white transition-colors",children:"Marcar todas"})]}),o.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar snap-x snap-mandatory",children:f.map(b=>o.jsx("button",{onClick:()=>r(b.value),className:`px-4 py-2 rounded-full whitespace-nowrap transition-colors snap-start flex-shrink-0 ${n===b.value?"bg-white text-black":"bg-zinc-900 text-gray-400 hover:bg-zinc-800"}`,children:b.label},b.value))})]}),o.jsx("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:a?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-900 flex items-center justify-center mb-4",children:o.jsx(tp,{className:"w-8 h-8 text-gray-600"})}),o.jsx("h3",{className:"font-semibold mb-2",children:"Carregando..."}),o.jsx("p",{className:"text-sm text-gray-400 text-center",children:"Aguarde enquanto carregamos suas notificaes"})]}):m.length===0?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-900 flex items-center justify-center mb-4",children:o.jsx(tp,{className:"w-8 h-8 text-gray-600"})}),o.jsx("h3",{className:"font-semibold mb-2",children:"Nenhuma notificao"}),o.jsx("p",{className:"text-sm text-gray-400 text-center",children:"Voc no tem notificaes nesta categoria"})]}):o.jsx("div",{className:"space-y-2",children:m.map(b=>{const _=d(b.type,b.metadata),S=b.read?"text-white/70":"text-white";return o.jsx("button",{onClick:()=>y(b.id),className:`w-full p-4 rounded-2xl transition-colors text-left ${b.read?"bg-zinc-900/50 hover:bg-zinc-900":"bg-zinc-900 hover:bg-zinc-800"}`,children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center flex-shrink-0",children:o.jsx(_,{className:`w-5 h-5 ${S}`})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[o.jsx("h3",{className:`font-semibold ${b.read?"text-gray-300":"text-white"}`,children:b.title}),!b.read&&o.jsx("div",{className:"w-2 h-2 rounded-full bg-white flex-shrink-0 mt-1.5"})]}),o.jsx("p",{className:"text-sm text-gray-400 mb-1",children:b.message}),o.jsx("p",{className:"text-xs text-gray-500",children:vTe(new Date(b.timestamp),{locale:GTe,addSuffix:!0})})]})]})},b.id)})})}),o.jsx("div",{className:"px-6 pb-6 space-y-3",children:o.jsxs("button",{onClick:()=>t("pushSettings"),className:"w-full py-3 rounded-2xl bg-zinc-900 hover:bg-zinc-800 transition-colors text-sm flex items-center justify-center gap-2",children:[o.jsx(as,{className:"w-4 h-4"}),o.jsx("span",{children:"Configuraes de notificaes push"})]})})]})}function YTe({onNavigate:t}){const[e,n]=N.useState(!0),[r,i]=N.useState(!0),[s,a]=N.useState(!0),[l,c]=N.useState(!0),[d,f]=N.useState(!0),[m,p]=N.useState(!0),[y,x]=N.useState(!0),[b,_]=N.useState(!1),[S,R]=N.useState(!1),D=[{title:"Geral",items:[{icon:tp,label:"Ativar notificaes push",description:"Receber todas as notificaes no dispositivo",value:e,onChange:n,main:!0}]},{title:"Transaes",items:[{icon:zi,label:"Todas as transaes",description:"Notificaes de todas as movimentaes",value:r,onChange:i,disabled:!e},{icon:zi,label:"Depsitos",description:"Quando voc receber fundos",value:s,onChange:a,disabled:!e||!r,nested:!0},{icon:Su,label:"Saques",description:"Quando processar uma retirada",value:l,onChange:c,disabled:!e||!r,nested:!0}]},{title:"Segurana",items:[{icon:Co,label:"Alertas de segurana",description:"Todas as notificaes de segurana",value:d,onChange:f,disabled:!e},{icon:as,label:"Novos dispositivos",description:"Login em um novo dispositivo",value:m,onChange:p,disabled:!e||!d,nested:!0},{icon:pu,label:"Atividades suspeitas",description:"Tentativas de acesso no autorizadas",value:y,onChange:x,disabled:!e||!d,nested:!0}]},{title:"Mercado",items:[{icon:yG,label:"Alertas de preo",description:"Quando seus ativos atingirem metas",value:b,onChange:_,disabled:!e},{icon:kf,label:"Notcias do mercado",description:"Atualizaes importantes do mercado",value:S,onChange:R,disabled:!e}]}];return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"px-6 pt-6 pb-4",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>t("notifications"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:"Notificaes push"})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(as,{className:"w-5 h-5 text-white/70 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Mantenha-se informado"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Personalize suas notificaes para receber apenas as informaes mais importantes"})]})]})}),o.jsx("div",{className:"space-y-6",children:D.map((z,I)=>o.jsxs("div",{children:[o.jsx("h3",{className:"text-xs text-gray-400 font-semibold mb-2 px-1",children:z.title}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl overflow-hidden",children:z.items.map((P,C)=>{const E=P.icon,A=P.disabled||!1;return o.jsxs("div",{children:[o.jsx("div",{className:`px-4 py-3 ${P.nested?"pl-12":""} ${A?"opacity-50":""}`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[o.jsx(E,{className:"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-medium",children:P.label}),o.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:P.description})]})]}),o.jsx("button",{onClick:()=>!A&&P.onChange(!P.value),disabled:A,className:`w-12 h-6 rounded-full transition-colors flex-shrink-0 ml-3 ${A?"cursor-not-allowed":""} ${P.value&&!A?"bg-white/20":"bg-zinc-700"}`,children:o.jsx("div",{className:`w-5 h-5 bg-white rounded-full mt-0.5 transition-transform ${P.value?"translate-x-6":"translate-x-0.5"}`})})]})}),C<z.items.length-1&&o.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},P.label)})})]},I))}),o.jsx("div",{className:"mt-6 p-4 bg-zinc-900 rounded-2xl",children:o.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[o.jsx("strong",{className:"text-white",children:"Dica:"})," Algumas notificaes de segurana no podem ser desativadas para manter sua conta protegida."]})})]})]})}function QTe({onNavigate:t}){const[e,n]=N.useState("options"),[r,i]=N.useState(""),[s,a]=N.useState(""),[l,c]=N.useState(""),[d,f]=N.useState([]),[m,p]=N.useState(3),[y,x]=N.useState(null),[b,_]=N.useState(!1),S=N.useRef(null);N.useEffect(()=>{S.current?.scrollIntoView({behavior:"smooth"})},[d,b]);const R=[{question:"Como fazer um depsito?",answer:'Para fazer um depsito, v at a aba "Carteira", selecione a criptomoeda desejada e clique em "Depositar". Voc receber um endereo nico para enviar seus fundos. Certifique-se de usar a rede correta para evitar perda de fundos.'},{question:"Como sacar criptomoedas?",answer:'Na aba "Carteira", selecione a moeda que deseja sacar e clique em "Sacar". Insira o endereo de destino, escolha a rede blockchain e o valor. Confirme a transao com seu cdigo de segurana. O processamento pode levar de alguns minutos a horas dependendo da rede.'},{question:"Taxas de transao",answer:"As taxas variam de acordo com a criptomoeda e a rede blockchain utilizada. Depsitos so gratuitos. Para saques, as taxas so dinmicas e baseadas no congestionamento da rede. Voc sempre ver a taxa exata antes de confirmar qualquer transao."},{question:"Segurana da conta",answer:"Sua segurana  nossa prioridade. Recomendamos ativar a autenticao de dois fatores (2FA), usar senha forte e nica, e nunca compartilhar suas credenciais. Todas as transaes exigem confirmao adicional e seus fundos so protegidos com criptografia de nvel bancrio."}],D=()=>{r&&s&&(alert("E-mail enviado com sucesso! Nossa equipe responder em breve."),i(""),a(""),n("options"))},z=()=>{n("waiting"),setTimeout(()=>{p(2)},3e3),setTimeout(()=>{p(1)},6e3),setTimeout(()=>{f([{sender:"system",text:"Voc foi conectado com um agente",time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})},{sender:"agent",text:"Ol! Sou o agente Carlos. Como posso ajud-lo hoje?",time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}]),n("chatActive")},9e3)},I=()=>{if(l.trim()){const j={sender:"user",text:l,time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};f([...d,j]),c(""),_(!0),setTimeout(()=>{const V={sender:"agent",text:"Entendi sua questo. Vou verificar isso para voc.",time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};f(B=>[...B,V]),_(!1)},4e3)}},P=()=>o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Como podemos ajudar?"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Escolha a melhor forma de entrar em contato com nossa equipe de suporte"})]}),o.jsx("button",{onClick:()=>n("email"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(kf,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Enviar e-mail"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Envie sua dvida por e-mail e receba resposta em at 24 horas"})]})]})}),o.jsx("button",{onClick:z,className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(TG,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Chat ao vivo"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Converse com um agente em tempo real"}),o.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-xs text-green-500",children:"Disponvel agora"})]})]})]})}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("h3",{className:"font-semibold mb-3 text-sm",children:"Perguntas frequentes"}),o.jsx("div",{className:"space-y-2",children:R.map((j,V)=>o.jsxs("div",{children:[o.jsx("button",{onClick:()=>x(y===V?null:V),className:"w-full text-left text-sm text-gray-400 hover:text-white transition-colors py-2",children:j.question}),y===V&&o.jsx("div",{className:"mt-2 mb-2 bg-black rounded-xl p-3",children:o.jsx("p",{className:"text-xs text-gray-400",children:j.answer})})]},V))})]})]}),C=()=>o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("h2",{className:"font-semibold mb-2",children:"Enviar e-mail"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Preencha os campos abaixo e nossa equipe responder em breve"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Assunto"}),o.jsx("input",{type:"text",value:r,onChange:j=>i(j.target.value),placeholder:"Digite o assunto",className:"w-full bg-zinc-900 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Mensagem"}),o.jsx("textarea",{value:s,onChange:j=>a(j.target.value),placeholder:"Descreva sua dvida ou problema",rows:6,className:"w-full bg-zinc-900 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"})]}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>n("options"),className:"flex-1 py-3 rounded-xl bg-zinc-900 hover:bg-zinc-800 transition-colors",children:"Cancelar"}),o.jsx("button",{onClick:D,disabled:!r||!s,className:"flex-1 py-3 rounded-xl bg-green-500 hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Enviar"})]})]})]}),E=()=>o.jsx("div",{className:"px-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4",children:o.jsx(bp,{className:"w-8 h-8 text-green-500 animate-pulse"})}),o.jsx("h2",{className:"font-semibold mb-2",children:"Aguardando atendimento"}),o.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Voc est na fila. Em breve um agente estar disponvel."}),o.jsxs("div",{className:"bg-black rounded-xl p-4 mb-4",children:[o.jsx("div",{className:"text-3xl font-bold text-green-500 mb-1",children:m}),o.jsx("div",{className:"text-xs text-gray-400",children:"pessoas  sua frente"})]}),o.jsx("button",{onClick:()=>n("options"),className:"w-full py-3 rounded-xl bg-zinc-800 hover:bg-zinc-700 transition-colors",children:"Cancelar"})]})}),A=()=>o.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)]",children:[o.jsx("div",{className:"px-6 pb-4 bg-zinc-900 flex-shrink-0",children:o.jsxs("div",{className:"flex items-center gap-3 py-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center",children:o.jsx(wT,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-sm",children:"Agente Carlos"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),o.jsx("span",{className:"text-xs text-gray-400",children:"Online"})]})]})]})}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4 hide-scrollbar min-h-0",children:[d.map((j,V)=>o.jsx("div",{children:j.sender==="system"?o.jsx("div",{className:"text-center",children:o.jsx("span",{className:"text-xs text-gray-500 bg-zinc-900 px-3 py-1 rounded-full",children:j.text})}):o.jsx("div",{className:`flex ${j.sender==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-[75%] ${j.sender==="user"?"bg-white text-black":"bg-zinc-900"} rounded-2xl px-4 py-2.5`,children:[o.jsx("p",{className:"text-xs",children:j.text}),o.jsx("span",{className:"text-[10px] opacity-70 mt-1 block",children:j.time})]})})},V)),b&&o.jsx("div",{className:"flex justify-start",children:o.jsxs("div",{className:"max-w-[75%] bg-zinc-900 rounded-2xl px-4 py-3 flex items-center gap-1",children:[o.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms",animationDuration:"1s"}}),o.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms",animationDuration:"1s"}}),o.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms",animationDuration:"1s"}})]})}),o.jsx("div",{ref:S})]}),o.jsx("div",{className:"px-6 pb-6 pt-4 border-t border-zinc-900 flex-shrink-0",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"text",value:l,onChange:j=>c(j.target.value),onKeyPress:j=>j.key==="Enter"&&I(),placeholder:"Digite sua mensagem...",className:"flex-1 bg-zinc-900 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-500"}),o.jsx("button",{onClick:I,disabled:!l.trim(),className:"w-12 h-12 rounded-xl bg-white hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:o.jsx(jG,{className:"w-5 h-5 text-black"})})]})})]});return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsx("header",{className:"px-6 pt-6 pb-4",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>e==="options"?t("profile"):n("options"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:"Central de Ajuda"})]})}),o.jsxs("div",{className:"flex-1 pb-24",children:[e==="options"&&P(),e==="email"&&C(),e==="waiting"&&E(),e==="chatActive"&&A()]})]})}function JTe({onNavigate:t}){return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx("header",{className:"px-6 pt-6 pb-4 sticky top-0 bg-black z-10",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:"Termos de Uso"})]})}),o.jsxs("div",{className:"px-6 pb-24 space-y-6",children:[o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:o.jsx("p",{className:"text-xs text-gray-400",children:"ltima atualizao: 26 de janeiro de 2026"})}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"1. Aceitao dos Termos"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Ao usar o NexCoin, voc concorda em cumprir estes Termos de Uso. Se voc no concordar com qualquer parte destes termos, no dever usar nossos servios."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"2. Elegibilidade"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Voc deve ter pelo menos 18 anos de idade para usar o NexCoin. Ao criar uma conta, voc declara e garante que tem capacidade legal para celebrar este contrato."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"3. Conta e Segurana"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("p",{className:"leading-relaxed",children:" Voc  responsvel por manter a confidencialidade de suas credenciais de login"}),o.jsx("p",{className:"leading-relaxed",children:" Voc deve notificar imediatamente sobre qualquer uso no autorizado de sua conta"}),o.jsx("p",{className:"leading-relaxed",children:" O NexCoin no ser responsvel por perdas decorrentes do uso no autorizado de sua conta"})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"4. Uso da Plataforma"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsxs("p",{className:"leading-relaxed",children:[o.jsx("strong",{className:"text-white",children:"Uso Permitido:"})," O NexCoin  uma plataforma para negociao de criptomoedas. Voc concorda em usar a plataforma apenas para fins legais."]}),o.jsxs("p",{className:"leading-relaxed",children:[o.jsx("strong",{className:"text-white",children:"Uso Proibido:"}),"  proibido usar a plataforma para lavagem de dinheiro, financiamento de terrorismo, fraude ou qualquer atividade ilegal."]})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"5. Transaes e Taxas"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Todas as transaes realizadas atravs do NexCoin esto sujeitas a taxas de rede. As taxas so claramente exibidas antes da confirmao de qualquer transao. Uma vez confirmada, a transao  irreversvel."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"6. Riscos de Criptomoedas"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Voc reconhece que o mercado de criptomoedas  voltil e que o valor dos seus ativos pode flutuar significativamente. O NexCoin no garante lucros e voc  responsvel por suas decises de investimento."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"7. Limitao de Responsabilidade"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"O NexCoin no ser responsvel por perdas diretas, indiretas, incidentais ou consequenciais resultantes do uso ou incapacidade de usar nossos servios, incluindo perda de fundos, dados ou lucros."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"8. Suspenso e Encerramento"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Reservamo-nos o direito de suspender ou encerrar sua conta a qualquer momento, sem aviso prvio, se acreditarmos que voc violou estes termos ou se envolveu em atividades fraudulentas."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"9. Modificaes dos Termos"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Podemos modificar estes termos a qualquer momento. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. O uso continuado da plataforma aps as modificaes constitui aceitao dos novos termos."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"10. Lei Aplicvel"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Estes termos so regidos pelas leis aplicveis em sua jurisdio. Qualquer disputa ser resolvida nos tribunais competentes."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"11. Contato"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Se voc tiver dvidas sobre estes Termos de Uso, entre em contato conosco atravs da Central de Ajuda."})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-8",children:o.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Ao usar o NexCoin, voc concorda com estes Termos de Uso"})})]})]})}function ZTe({onNavigate:t}){return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx("header",{className:"px-6 pt-6 pb-4 sticky top-0 bg-black z-10",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:"Poltica de Privacidade"})]})}),o.jsxs("div",{className:"px-6 pb-24 space-y-6",children:[o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:o.jsx("p",{className:"text-xs text-gray-400",children:"ltima atualizao: 26 de janeiro de 2026"})}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"1. Introduo"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"O NexCoin valoriza sua privacidade. Esta Poltica de Privacidade descreve como coletamos, usamos, armazenamos e protegemos suas informaes pessoais quando voc usa nossos servios."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"2. Informaes que Coletamos"}),o.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white mb-1",children:"2.1 Informaes de Cadastro:"}),o.jsx("p",{className:"leading-relaxed",children:" Nome completo, e-mail, nmero de telefone, pas de residncia"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white mb-1",children:"2.2 Informaes de Transao:"}),o.jsx("p",{className:"leading-relaxed",children:" Histrico de transaes, endereos de carteiras, valores negociados"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white mb-1",children:"2.3 Informaes Tcnicas:"}),o.jsx("p",{className:"leading-relaxed",children:" Endereo IP, tipo de dispositivo, sistema operacional, logs de acesso"})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-white mb-1",children:"2.4 Informaes de Verificao:"}),o.jsx("p",{className:"leading-relaxed",children:" Documentos de identificao para conformidade KYC (Know Your Customer)"})]})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"3. Como Usamos suas Informaes"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("p",{className:"leading-relaxed",children:" Fornecer e melhorar nossos servios de negociao de criptomoedas"}),o.jsx("p",{className:"leading-relaxed",children:" Processar transaes e garantir a segurana da sua conta"}),o.jsx("p",{className:"leading-relaxed",children:" Cumprir requisitos legais e regulatrios (AML/KYC)"}),o.jsx("p",{className:"leading-relaxed",children:" Comunicar sobre atualizaes, manutenes e questes de segurana"}),o.jsx("p",{className:"leading-relaxed",children:" Prevenir fraudes e atividades suspeitas"}),o.jsx("p",{className:"leading-relaxed",children:" Personalizar sua experincia no aplicativo"})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"4. Compartilhamento de Informaes"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"No vendemos suas informaes pessoais. Podemos compartilhar seus dados apenas nas seguintes situaes:"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("p",{className:"leading-relaxed",children:" Com provedores de servios terceirizados essenciais para operao da plataforma"}),o.jsx("p",{className:"leading-relaxed",children:" Quando exigido por lei, ordem judicial ou autoridades regulatrias"}),o.jsx("p",{className:"leading-relaxed",children:" Para proteger nossos direitos legais e prevenir fraudes"}),o.jsx("p",{className:"leading-relaxed",children:" Com seu consentimento explcito"})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"5. Segurana dos Dados"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Implementamos medidas de segurana robustas para proteger suas informaes:"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("p",{className:"leading-relaxed",children:" Criptografia de ponta a ponta para dados sensveis"}),o.jsx("p",{className:"leading-relaxed",children:" Autenticao de dois fatores (2FA)"}),o.jsx("p",{className:"leading-relaxed",children:" Armazenamento seguro em servidores com certificao de segurana"}),o.jsx("p",{className:"leading-relaxed",children:" Monitoramento contnuo contra acessos no autorizados"}),o.jsx("p",{className:"leading-relaxed",children:" Auditorias de segurana regulares"})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"6. Reteno de Dados"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Mantemos suas informaes pessoais pelo tempo necessrio para fornecer nossos servios e cumprir obrigaes legais. Dados de transaes so mantidos conforme exigido por regulamentaes financeiras."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"7. Seus Direitos"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Voc tem os seguintes direitos em relao s suas informaes pessoais:"}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[o.jsx("p",{className:"leading-relaxed",children:" Acessar e revisar suas informaes pessoais"}),o.jsx("p",{className:"leading-relaxed",children:" Solicitar correo de dados incorretos"}),o.jsx("p",{className:"leading-relaxed",children:" Solicitar excluso de dados (sujeito a obrigaes legais)"}),o.jsx("p",{className:"leading-relaxed",children:" Optar por no receber comunicaes de marketing"}),o.jsx("p",{className:"leading-relaxed",children:" Portabilidade de dados"})]})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"8. Cookies e Rastreamento"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Usamos cookies e tecnologias similares para melhorar sua experincia, analisar o uso da plataforma e personalizar contedo. Voc pode gerenciar suas preferncias de cookies nas configuraes do aplicativo."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"9. Transferncias Internacionais"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Seus dados podem ser transferidos e processados em pases diferentes do seu pas de residncia. Garantimos que todas as transferncias cumpram as leis de proteo de dados aplicveis."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"10. Menores de Idade"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Nossos servios no so destinados a menores de 18 anos. No coletamos intencionalmente informaes de menores. Se voc acredita que coletamos dados de um menor, entre em contato conosco imediatamente."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"11. Alteraes na Poltica"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. Recomendamos revisar esta poltica regularmente."})]}),o.jsxs("section",{className:"space-y-3",children:[o.jsx("h2",{className:"text-lg font-semibold",children:"12. Contato"}),o.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:"Se voc tiver dvidas sobre esta Poltica de Privacidade ou sobre como tratamos seus dados, entre em contato atravs da Central de Ajuda ou envie um e-mail para Suporte.NexCoin@gmail.com."})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-8",children:o.jsx("p",{className:"text-xs text-gray-400 text-center",children:"Ao usar o NexCoin, voc concorda com esta Poltica de Privacidade"})})]})]})}function ePe({onNavigate:t}){return o.jsxs("div",{className:"min-h-screen bg-black text-white",children:[o.jsx("header",{className:"px-6 pt-6 pb-4",children:o.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:"Termos e Privacidade"})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsx("button",{onClick:()=>t("termsAndConditions"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(c6,{className:"w-6 h-6 text-blue-500"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Termos de Uso"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Leia os termos e condies de uso do NexCoin"})]})]})}),o.jsx("button",{onClick:()=>t("privacyPolicy"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:o.jsxs("div",{className:"flex items-start gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(Ea,{className:"w-6 h-6 text-purple-500"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold mb-1",children:"Poltica de Privacidade"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Saiba como protegemos e usamos seus dados"})]})]})}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-6",children:o.jsx("p",{className:"text-xs text-gray-400",children:"ltima atualizao: 26 de janeiro de 2026"})})]})]})}function tPe({onNavigate:t}){const[e,n]=N.useState(!1),[r,i]=N.useState(!1),{language:s,setLanguage:a,t:l}=In(),[c,d]=N.useState(!1),f=async _=>{_!==s&&(d(!0),setTimeout(async()=>{await a(_),d(!1)},150))},m=_=>{const S=document.getElementById(_);S&&S.scrollIntoView({behavior:"smooth"}),i(!1)};N.useEffect(()=>(document.body.style.overflow="auto",document.body.style.height="auto",document.documentElement.style.overflow="auto",document.documentElement.style.height="auto",()=>{document.body.style.overflow="",document.body.style.height="",document.documentElement.style.overflow="",document.documentElement.style.height=""}),[]),N.useEffect(()=>{const _=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",_),()=>window.removeEventListener("scroll",_)},[]);const p={initial:{opacity:0,y:30},whileInView:{opacity:1,y:0}},y={initial:"initial",whileInView:"whileInView",viewport:{once:!0,amount:.2},transition:{duration:.8,ease:"easeOut"}},x={initial:{},whileInView:{transition:{staggerChildren:.1}}},b={initial:"initial",whileInView:"whileInView",viewport:{once:!0,amount:.1}};return o.jsx("div",{className:"bg-white text-black font-sans selection:bg-blue-100 w-full h-auto",style:{position:"fixed",top:0,left:0,right:0,bottom:0,overflowY:"auto",overflowX:"hidden",WebkitOverflowScrolling:"touch"},children:o.jsxs("div",{className:`transition-opacity duration-200 ease-linear ${c?"opacity-0":"opacity-100"}`,children:[o.jsxs("nav",{className:`sticky top-0 w-full z-50 transition-all duration-300 ${e?"bg-white/90 backdrop-blur-md border-b border-gray-100 py-3":"bg-white py-5"}`,children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-6 flex justify-between items-center",children:[o.jsxs("div",{className:"flex items-center gap-12",children:[o.jsx("h1",{className:"text-2xl font-black italic tracking-tighter text-black",children:"NexCoin"}),o.jsxs("div",{className:"hidden lg:flex gap-8 text-sm font-semibold text-gray-600",children:[o.jsx("button",{onClick:()=>m("products"),className:"hover:text-black transition-colors",children:l.landingPage.products}),o.jsx("button",{onClick:()=>m("company"),className:"hover:text-black transition-colors",children:l.landingPage.company}),o.jsx("button",{onClick:()=>m("help"),className:"hover:text-black transition-colors",children:l.landingPage.help})]})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"relative group",children:[o.jsxs("button",{className:"flex items-center gap-2 text-sm font-semibold text-gray-600 hover:text-black transition-colors px-3 py-2 rounded-lg hover:bg-gray-50",children:[o.jsx(wp,{className:"w-4 h-4"}),o.jsx("span",{className:"uppercase",children:s})]}),o.jsxs("div",{className:"absolute right-0 mt-1 w-32 bg-white border border-gray-100 rounded-xl shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-[60]",children:[o.jsx("button",{onClick:()=>f("pt"),className:"w-full text-left px-4 py-3 text-sm font-semibold hover:bg-gray-50 first:rounded-t-xl transition-colors",children:"Portugus"}),o.jsx("button",{onClick:()=>f("en"),className:"w-full text-left px-4 py-3 text-sm font-semibold hover:bg-gray-50 transition-colors",children:"English"}),o.jsx("button",{onClick:()=>f("es"),className:"w-full text-left px-4 py-3 text-sm font-semibold hover:bg-gray-50 last:rounded-b-xl transition-colors",children:"Espaol"})]})]}),o.jsx("button",{onClick:()=>t("signup"),className:"hidden lg:block bg-black text-white px-6 py-2 rounded-full font-bold hover:bg-zinc-900 transition-colors",children:l.landingPage.openAccount}),o.jsx("button",{className:"lg:hidden",onClick:()=>i(!r),children:r?o.jsx(qr,{size:24}):o.jsx(SG,{size:24})})]})]}),o.jsx(Sw,{children:r&&o.jsx(Ye.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"lg:hidden absolute top-full left-0 w-full bg-white/95 backdrop-blur-xl border-b border-gray-100 overflow-hidden shadow-2xl z-50",children:o.jsxs("div",{className:"p-8 flex flex-col gap-8",children:[o.jsxs("div",{className:"flex flex-col gap-6",children:[o.jsxs("button",{onClick:()=>m("products"),className:"flex items-center justify-between text-xl font-bold text-gray-900 group text-left",children:[l.landingPage.products,o.jsx(zr,{className:"w-5 h-5 text-gray-300 group-hover:text-black transition-colors"})]}),o.jsxs("button",{onClick:()=>m("company"),className:"flex items-center justify-between text-xl font-bold text-gray-900 group text-left",children:[l.landingPage.company,o.jsx(zr,{className:"w-5 h-5 text-gray-300 group-hover:text-black transition-colors"})]}),o.jsxs("button",{onClick:()=>m("help"),className:"flex items-center justify-between text-xl font-bold text-gray-900 group text-left",children:[l.landingPage.help,o.jsx(zr,{className:"w-5 h-5 text-gray-300 group-hover:text-black transition-colors"})]})]}),o.jsxs("div",{className:"flex flex-col gap-4",children:[o.jsx("button",{onClick:()=>{t("signup"),i(!1)},className:"w-full bg-black text-white py-5 rounded-2xl font-black text-lg shadow-xl shadow-black/10 active:scale-95 transition-all",children:l.landingPage.openAccount}),o.jsx("button",{onClick:()=>{t("login"),i(!1)},className:"w-full bg-gray-50 text-gray-900 py-5 rounded-2xl font-bold text-lg border border-gray-100 active:scale-95 transition-all",children:l.login})]}),o.jsxs("div",{className:"flex flex-col gap-3",children:[o.jsx("p",{className:"text-[10px] font-black text-gray-400 uppercase tracking-widest",children:l.language}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>{f("pt"),i(!1)},className:`flex-1 py-3 rounded-xl font-bold border transition-all ${s==="pt"?"bg-black text-white border-black":"bg-white border-gray-100 text-gray-600"}`,children:"PT"}),o.jsx("button",{onClick:()=>{f("en"),i(!1)},className:`flex-1 py-3 rounded-xl font-bold border transition-all ${s==="en"?"bg-black text-white border-black":"bg-white border-gray-100 text-gray-600"}`,children:"EN"}),o.jsx("button",{onClick:()=>{f("es"),i(!1)},className:`flex-1 py-3 rounded-xl font-bold border transition-all ${s==="es"?"bg-black text-white border-black":"bg-white border-gray-100 text-gray-600"}`,children:"ES"})]})]})]})})})]}),o.jsx("section",{className:"relative pt-12 pb-16 lg:pt-32 lg:pb-32",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid lg:grid-cols-2 items-center gap-12 lg:gap-20",children:[o.jsxs("div",{className:"z-10 text-center lg:text-left",children:[o.jsxs(Ye.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-4xl sm:text-5xl lg:text-7xl font-black leading-[1.1] mb-6 lg:mb-8 tracking-tighter",children:[l.landingPage.moreThanGlobalTitle," ",o.jsx("span",{className:"text-blue-600 space-x-2",children:l.landingPage.moreThanGlobalHighlight})]}),o.jsx(Ye.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-lg lg:text-xl text-gray-600 mb-8 lg:mb-10 max-w-lg mx-auto lg:mx-0 leading-relaxed",children:l.landingPage.heroSubtitle}),o.jsx(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"flex flex-col sm:flex-row justify-center lg:justify-start gap-4",children:o.jsx("button",{onClick:()=>t("signup"),className:"bg-black text-white px-8 py-4 rounded-full font-bold text-lg hover:scale-105 transition-transform",children:l.landingPage.openAccount})})]}),o.jsx(Ye.div,{initial:{opacity:0,scale:.95,rotate:2},animate:{opacity:1,scale:1,rotate:0},transition:{duration:1.2,ease:"easeOut"},className:"relative mt-12 lg:mt-0",children:o.jsxs("div",{className:"relative rounded-3xl overflow-hidden shadow-2xl aspect-[4/3] lg:aspect-auto",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1556742044-3c52d6e88c62?q=80&w=2070&auto=format&fit=crop",alt:"Fintech experience",className:"w-full h-full object-cover"}),o.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[80%] max-w-[280px] lg:w-64 p-4 lg:p-6 bg-white/30 backdrop-blur-xl border border-white/40 rounded-3xl shadow-2xl",children:[o.jsx("p",{className:"text-[10px] lg:text-xs font-bold text-white/80 uppercase mb-1",children:l.landingPage.yourBalance}),o.jsx("p",{className:"text-3xl lg:text-4xl font-black text-white mb-4",children:s==="pt"?"R$ 42.084":s==="en"?"$ 42,084":" 42.084"}),o.jsxs("div",{className:"flex items-center gap-2 bg-black/20 p-2 rounded-xl border border-white/20",children:[o.jsx("div",{className:"w-6 h-6 lg:w-8 lg:h-8 bg-blue-500 rounded-full flex items-center justify-center",children:o.jsx(zi,{size:14,className:"text-white"})}),o.jsxs("div",{children:[o.jsx("p",{className:"text-[8px] lg:text-[10px] font-bold text-white/60",children:l.landingPage.yield}),o.jsx("p",{className:"text-[10px] lg:text-xs font-bold text-white",children:l.landingPage.yieldToday})]})]})]})]})})]})}),o.jsx(Ye.section,{...b,variants:x,className:"py-8 lg:py-12 border-y border-gray-100",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[o.jsx(Ye.p,{variants:p,className:"text-gray-400 font-bold text-[10px] lg:text-sm uppercase tracking-widest mb-6 lg:mb-10",children:l.landingPage.socialProof}),o.jsxs(Ye.div,{variants:p,className:"flex flex-wrap justify-center items-center gap-6 lg:gap-24 opacity-60 grayscale hover:grayscale-0 transition-all duration-500",children:[o.jsx("div",{className:"text-lg lg:text-2xl font-black text-gray-800",children:"FAST COMPANY"}),o.jsx("div",{className:"text-lg lg:text-2xl font-black text-gray-800",children:"TECHCRUNCH"}),o.jsx("div",{className:"text-lg lg:text-2xl font-black text-gray-800",children:"FINTECH INSIDER"}),o.jsx("div",{className:"text-lg lg:text-2xl font-black text-gray-800",children:"FORBES"})]})]})}),o.jsxs("section",{id:"products",className:"py-20 lg:py-24 bg-gray-50",children:[o.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center mb-2",children:[o.jsx(Ye.h2,{...y,variants:p,className:"text-3xl lg:text-6xl font-black tracking-tighter mb-6",children:l.landingPage.elevateSpending}),o.jsx(Ye.p,{...y,variants:p,className:"text-lg lg:text-xl text-gray-600 max-w-2xl mx-auto",children:l.landingPage.cardSubtitle}),o.jsx(Ye.button,{onClick:()=>t("signup"),...y,variants:p,className:"mt-8 lg:mt-10 bg-black text-white px-8 py-3 rounded-full font-bold",children:l.landingPage.requestCard})]}),o.jsx("div",{className:"relative min-h-[500px] lg:min-h-[700px] flex justify-center items-center py-12 bg-zinc-50/50 overflow-visible perspective-2000",children:o.jsx("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-12 px-6 items-start",children:[{name:"NexCoin Platinum",color:"bg-[linear-gradient(135deg,#a8a9ad_0%,#d1d2d5_20%,#f1f2f6_40%,#ffffff_50%,#f1f2f6_60%,#d1d2d5_80%,#a8a9ad_100%)]",text:"text-zinc-900/80",rotation:"lg:-rotate-2",chip:"silver",holder:"JAMES ANDERSON",number:"4208 8124 9051 2234",expiry:"09/27",features:["Taxa Zero","Cashback 0.5%","Ativos em at 12h"]},{name:"NexCoin Black",color:"bg-gradient-to-br from-[#0f0f0f] via-[#2c2c2c] to-[#000000]",text:"text-white/90",rotation:"lg:scale-105 z-20",chip:"silver",holder:"ELENA RODRGUEZ",number:"4208 7742 8810 9945",expiry:"11/29",features:["Cashback 1.5%","Proteo Pro","Ativos em at 6h"]},{name:"NexCoin Elite",color:"bg-[linear-gradient(135deg,#b88a44_0%,#e1b66b_20%,#fdf5b7_40%,#ffffff_50%,#fdf5b7_60%,#e1b66b_80%,#b88a44_100%)]",text:"text-amber-950/80",rotation:"lg:rotate-2",chip:"gold",holder:"CHEN WEI",number:"4208 5521 3340 7712",expiry:"05/30",features:["Cashback 3.0%","Seguros Premium","Ativos em at 2h"]}].map((_,S)=>o.jsxs("div",{className:"flex flex-col items-center gap-6",children:[o.jsxs(Ye.div,{initial:{y:50,opacity:0},whileInView:{y:0,opacity:1},whileHover:{scale:1.05,rotateY:-20,rotateX:12,boxShadow:"0 50px 100px -20px rgba(0,0,0,0.5)"},viewport:{once:!0},transition:{type:"spring",stiffness:150,damping:12},className:`w-[320px] sm:w-[360px] h-[200px] sm:h-[225px] rounded-[18px] shadow-2xl relative overflow-hidden flex flex-col p-6 lg:p-8 justify-between border border-white/40 shrink-0 cursor-pointer 
                                        ${_.color} ${_.rotation} isolate`,style:{transformStyle:"preserve-3d"},children:[o.jsx(Ye.div,{animate:{left:["-100%","250%"]},transition:{duration:4,repeat:1/0,repeatDelay:2,ease:"easeInOut"},className:"absolute inset-0 w-2/3 bg-gradient-to-r from-transparent via-white/30 to-transparent -skew-x-25 pointer-events-none z-0"}),o.jsxs("div",{className:"relative z-10",style:{transform:"translateZ(50px)"},children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("p",{className:`text-xl lg:text-2xl font-black tracking-tight uppercase ${_.text}`,children:"NexCoin"}),o.jsx("p",{className:`text-[9px] font-bold tracking-[0.4em] uppercase opacity-70 ${_.text}`,children:_.name.split(" ")[1]})]}),o.jsxs("div",{className:`w-14 h-11 rounded-lg relative overflow-hidden border border-black/10 shadow-lg flex items-center justify-center
                                                ${_.chip==="gold"?"bg-[linear-gradient(135deg,#d4af37,#fdf5b7,#d4af37)]":"bg-[linear-gradient(135deg,#a0a0a0,#e0e0e0,#a0a0a0)]"}`,children:[o.jsx("div",{className:"absolute inset-0 grid grid-cols-4 grid-rows-4 gap-[1.5px] p-[3px] opacity-30",children:[...Array(16)].map((R,D)=>o.jsx("div",{className:"border-[0.5px] border-black/30"},D))}),o.jsx("div",{className:"w-10 h-7 border border-black/10 rounded-md relative z-10 bg-black/5"})]})]}),o.jsx("p",{className:`text-lg sm:text-2xl font-mono tracking-[0.15em] mb-2 ${_.text}`,style:{textShadow:S===2?"1px 1px 1px rgba(255,255,255,0.7), -1px -1px 1px rgba(0,0,0,0.3)":"1px 1px 1px rgba(0,0,0,0.6), -1px -1px 1px rgba(255,255,255,0.2)"},children:_.number})]}),o.jsxs("div",{className:"relative z-10 flex justify-between items-end",style:{transform:"translateZ(60px)"},children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsxs("p",{className:`text-[8px] uppercase font-bold opacity-60 mb-0.5 ${_.text}`,children:["Valid Thru ",_.expiry]}),o.jsx("p",{className:`text-[11px] font-black uppercase tracking-[0.2em] ${_.text}`,children:_.holder})]}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"flex items-center mb-0.5",children:o.jsx("div",{className:"w-7 h-7 rounded-full bg-[#EB001B] relative flex items-center justify-center",children:o.jsx("div",{className:"absolute right-[-11px] w-7 h-7 rounded-full bg-[#F79E1B]/95 mix-blend-normal shadow-sm"})})}),o.jsx("p",{className:`text-[6px] font-black tracking-tight italic mt-1 ${_.text} opacity-80 uppercase`,style:{transform:"translateX(5px)"},children:"mastercard"})]})]})]}),o.jsxs(Ye.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:.3+S*.1},className:"flex flex-col items-center w-full",children:[o.jsx("ul",{className:"flex flex-col gap-2 mb-6",children:_.features.map((R,D)=>o.jsxs("li",{className:"flex items-center gap-2 text-sm font-medium text-gray-600",children:[o.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-600"}),R]},D))}),o.jsxs("button",{onClick:()=>t("signup"),className:`w-full py-3 rounded-xl font-bold transition-all hover:scale-105 active:scale-95
                                            ${S===1?"bg-black text-white shadow-xl px-12":"bg-white text-black border border-gray-200 px-8"}`,children:["Escolher ",_.name.split(" ")[1]]})]})]},S))})})]}),o.jsxs("section",{className:"relative min-h-[500px] lg:min-h-screen flex items-center py-20 lg:py-32",children:[o.jsxs("div",{className:"absolute inset-0 z-0",children:[o.jsx("img",{src:"https://images.unsplash.com/photo-1510414842594-a61c69b5ae57?q=80&w=2070&auto=format&fit=crop",alt:"Life",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-black/40"})]}),o.jsxs("div",{className:"max-w-7xl mx-auto px-6 relative z-10 text-center text-white w-full",children:[o.jsx(Ye.h2,{...y,variants:p,className:"text-3xl lg:text-7xl font-black mb-6 tracking-tighter leading-tight",children:l.landingPage.highYieldTitle}),o.jsx(Ye.p,{...y,variants:p,className:"text-lg lg:text-xl opacity-90 mb-8 lg:mb-10 max-w-2xl mx-auto text-white/80",children:l.landingPage.highYieldSubtitle}),o.jsx(Ye.button,{onClick:()=>t("signup"),...y,variants:p,className:"bg-white text-black px-8 lg:px-10 py-3 lg:py-4 rounded-full font-bold text-lg",children:l.landingPage.exploreYields})]})]}),o.jsx("section",{id:"company",className:"py-20 lg:py-32 bg-white overflow-hidden",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid lg:grid-cols-2 items-center gap-12 lg:gap-20 text-center lg:text-left",children:[o.jsxs(Ye.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},children:[o.jsx("h2",{className:"text-3xl lg:text-5xl font-black tracking-tighter mb-6 lg:mb-8 leading-tight",children:l.landingPage.safeHarborTitle}),o.jsx("p",{className:"text-lg lg:text-xl text-gray-600 mb-8 leading-relaxed",children:l.landingPage.safeHarborSubtitle}),o.jsxs("button",{onClick:()=>t("signup"),className:"bg-black text-white px-8 py-3 rounded-full font-bold flex items-center justify-center lg:justify-start gap-2 mx-auto lg:mx-0",children:[l.landingPage.security," ",o.jsx(fG,{size:18})]})]}),o.jsx(Ye.div,{initial:{opacity:0,x:50,rotate:10},whileInView:{opacity:1,x:0,rotate:-6},viewport:{once:!0},transition:{duration:1,ease:"easeOut"},className:"flex justify-center mt-8 lg:mt-0",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-blue-500 rounded-full blur-[80px] lg:blur-[100px] opacity-20"}),o.jsx("div",{className:"w-48 h-48 lg:w-96 lg:h-96 relative z-10 flex items-center justify-center",children:o.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-100 to-gray-200 rounded-[2rem] lg:rounded-[2.5rem] p-1 shadow-inner",children:o.jsx("div",{className:"w-full h-full bg-white rounded-[1.8rem] lg:rounded-[2.2rem] flex items-center justify-center shadow-2xl",children:o.jsx(Co,{className:"w-20 h-20 lg:w-[120px] lg:h-[120px] text-black",strokeWidth:1.5})})})})]})})]})}),o.jsx("section",{className:"py-20 lg:py-24 bg-black text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[o.jsx(Ye.h2,{...y,variants:p,className:"text-2xl lg:text-5xl font-black mb-6 lg:mb-8 tracking-tighter",children:l.landingPage.enterCryptoTitle}),o.jsx(Ye.p,{...y,variants:p,className:"text-lg lg:text-xl text-white/60 mb-10 lg:mb-12 max-w-2xl mx-auto",children:l.landingPage.enterCryptoSubtitle}),o.jsx(Ye.button,{onClick:()=>t("signup"),...y,variants:p,className:"bg-white text-black px-8 lg:px-10 py-3 lg:py-4 rounded-full font-bold mb-12 lg:mb-20 hover:scale-105 transition-transform",children:l.landingPage.exploreCrypto}),o.jsxs("div",{className:"relative flex justify-center py-10 lg:py-16 h-[250px] lg:h-[350px] items-center overflow-visible",children:[o.jsx(Ye.div,{animate:{y:[0,-20,0],rotate:[0,5,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut"},className:"z-10",children:o.jsx("div",{className:"inline-flex items-center justify-center rounded-full border-2 lg:border-4 border-green-500/30 bg-black shadow-[0_0_50px_rgba(38,161,123,0.3)] p-1 lg:p-2",children:o.jsx(ht,{symbol:"USDT",size:"lg"})})}),o.jsx(Ye.div,{animate:{y:[0,25,0],x:[0,10,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute left-[2%] lg:left-[15%] top-0 lg:top-5 shadow-2xl",children:o.jsx(ht,{symbol:"ETH",size:"lg"})}),o.jsx(Ye.div,{animate:{y:[0,-15,0],x:[0,-10,0]},transition:{duration:4.5,repeat:1/0,ease:"easeInOut",delay:.5},className:"absolute right-[2%] lg:right-[15%] top-2 lg:top-10 shadow-2xl",children:o.jsx(ht,{symbol:"DOGE",size:"lg"})}),o.jsx(Ye.div,{animate:{y:[0,20,0],x:[0,15,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute left-[10%] lg:left-[22%] bottom-5 lg:bottom-10 shadow-2xl",children:o.jsx(ht,{symbol:"SOL",size:"lg"})}),o.jsx(Ye.div,{animate:{y:[0,-25,0],x:[0,-8,0]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:1.5},className:"absolute right-[10%] lg:right-[22%] bottom-2 lg:bottom-8 shadow-2xl",children:o.jsx(ht,{symbol:"LTC",size:"lg"})}),o.jsx(Ye.div,{animate:{y:[0,15,0],rotate:[0,-10,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut",delay:.3},className:"absolute left-[30%] lg:left-[35%] top-[-10px] lg:top-0 opacity-60 lg:opacity-80",children:o.jsx(ht,{symbol:"XRP",size:"md"})}),o.jsx(Ye.div,{animate:{y:[0,-18,0],rotate:[0,10,0]},transition:{duration:6.5,repeat:1/0,ease:"easeInOut",delay:.8},className:"absolute right-[30%] lg:right-[35%] top-[-5px] lg:top-5 opacity-60 lg:opacity-80",children:o.jsx(ht,{symbol:"ADA",size:"md"})}),o.jsx(Ye.div,{animate:{scale:[1,1.1,1],y:[0,12,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:2.5},className:"absolute left-[35%] lg:left-[40%] bottom-[-10px] lg:bottom-0 opacity-60",children:o.jsx(ht,{symbol:"DOT",size:"md"})}),o.jsx(Ye.div,{animate:{scale:[1,1.1,1],y:[0,-12,0]},transition:{duration:5.5,repeat:1/0,ease:"easeInOut",delay:1.2},className:"absolute right-[35%] lg:right-[40%] bottom-[-5px] lg:bottom-5 opacity-60",children:o.jsx(ht,{symbol:"MATIC",size:"md"})}),o.jsx(Ye.div,{animate:{y:[0,-15,0],x:[0,-10,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut",delay:1.1},className:"absolute right-[5%] lg:right-[8%] top-[40%] lg:top-[35%] shadow-xl z-20",children:o.jsx(ht,{symbol:"BTC",size:"lg"})}),o.jsx(Ye.div,{animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute left-[15%] lg:left-[28%] top-[20%] lg:top-[30%] opacity-40 group-hover:opacity-100 transition-opacity",children:o.jsx(ht,{symbol:"BNB",size:"sm"})}),o.jsx(Ye.div,{animate:{y:[0,20,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut",delay:3},className:"absolute right-[15%] lg:right-[28%] top-[20%] lg:top-[30%] opacity-40 group-hover:opacity-100 transition-opacity",children:o.jsx(ht,{symbol:"AVAX",size:"sm"})})]})]})}),o.jsxs("section",{className:"py-20 lg:py-24 bg-gradient-to-br from-blue-600 via-indigo-700 to-black text-white relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),o.jsxs("div",{className:"max-w-5xl mx-auto px-6 text-center relative z-10",children:[o.jsx("h2",{className:"text-2xl lg:text-4xl font-black mb-8 lg:mb-10 tracking-tighter leading-tight",children:l.landingPage.joinThousands}),o.jsx("button",{onClick:()=>t("signup"),className:"bg-white text-black px-8 lg:px-10 py-4 lg:py-5 rounded-full font-bold text-lg lg:text-xl hover:scale-105 transition-transform",children:l.landingPage.openAccountNow})]})]}),o.jsx("footer",{className:"bg-gray-50 pt-24 pb-20",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-12 mb-20",children:[o.jsxs("div",{className:"col-span-2",children:[o.jsx("h1",{className:"text-3xl font-black italic mb-8",children:"NexCoin"}),o.jsx("p",{className:"text-gray-500 max-w-xs mb-8",children:l.landingPage.footerTagline}),o.jsxs("div",{className:"mt-8 space-y-2 text-sm text-gray-500 font-medium",children:[o.jsx("p",{children:l.landingPage.footerAddress}),o.jsx("p",{children:l.landingPage.footerPhone}),o.jsx("a",{href:`mailto:${l.landingPage.footerEmail}`,className:"hover:text-blue-600 transition-colors",children:l.landingPage.footerEmail})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm uppercase mb-6 tracking-widest",children:l.landingPage.footerProduct}),o.jsxs("ul",{className:"flex flex-col gap-4 text-gray-500 text-sm font-semibold",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerCards})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerCrypto})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerBalances})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerYields})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"font-bold text-sm uppercase mb-6 tracking-widest",children:l.landingPage.footerCompany}),o.jsxs("ul",{className:"flex flex-col gap-4 text-gray-500 text-sm font-semibold",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerAbout})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerCareers})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerBlog})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerPress})})]})]}),o.jsxs("div",{id:"help",children:[o.jsx("p",{className:"font-bold text-sm uppercase mb-6 tracking-widest",children:l.landingPage.footerSupport}),o.jsxs("ul",{className:"flex flex-col gap-4 text-gray-500 text-sm font-semibold",children:[o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerHelp})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerContact})}),o.jsx("li",{children:o.jsx("a",{href:"#",className:"hover:text-black transition-colors",children:l.landingPage.footerSecurity})})]})]})]}),o.jsx("div",{className:"border-t border-gray-200 pt-12 text-center lg:text-left",children:o.jsx("p",{className:"text-gray-400 text-xs leading-relaxed max-w-4xl",children:l.landingPage.footerDisclaimer})})]})})]})})}var Zd={},CC={exports:{}},EC,uV;function nPe(){if(uV)return EC;uV=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return EC=t,EC}var SC,dV;function rPe(){if(dV)return SC;dV=1;var t=nPe();function e(){}function n(){}return n.resetWarningCache=e,SC=function(){function r(a,l,c,d,f,m){if(m!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},SC}var fV;function xW(){return fV||(fV=1,CC.exports=rPe()()),CC.exports}var TC,hV;function bW(){return hV||(hV=1,TC={L:1,M:0,Q:3,H:2}),TC}var PC,mV;function wW(){return mV||(mV=1,PC={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),PC}var AC,pV;function iPe(){if(pV)return AC;pV=1;var t=wW();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},AC=e,AC}var IC,gV;function sPe(){if(gV)return IC;gV=1;var t=bW();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var i=e.getRsBlockTable(n,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var s=i.length/3,a=new Array,l=0;l<s;l++)for(var c=i[l*3+0],d=i[l*3+1],f=i[l*3+2],m=0;m<c;m++)a.push(new e(d,f));return a},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},IC=e,IC}var jC,yV;function aPe(){if(yV)return jC;yV=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},jC=t,jC}var kC,vV;function _W(){if(vV)return kC;vV=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return kC=t,kC}var RC,xV;function NW(){if(xV)return RC;xV=1;var t=_W();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var i=0;i<n.length&&n[i]==0;)i++;this.num=new Array(n.length-i+r);for(var s=0;s<n.length-i;s++)this.num[s]=n[s+i]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(var s=0;s<n.getLength();s++)r[i+s]^=t.gexp(t.glog(this.get(i))+t.glog(n.get(s)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),i=new Array(this.getLength()),s=0;s<this.getLength();s++)i[s]=this.get(s);for(var s=0;s<n.getLength();s++)i[s]^=t.gexp(t.glog(n.get(s))+r);return new e(i,0).mod(n)}},RC=e,RC}var DC,bV;function oPe(){if(bV)return DC;bV=1;var t=wW(),e=NW(),n=_W(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var a=s<<10;i.getBCHDigit(a)-i.getBCHDigit(i.G15)>=0;)a^=i.G15<<i.getBCHDigit(a)-i.getBCHDigit(i.G15);return(s<<10|a)^i.G15_MASK},getBCHTypeNumber:function(s){for(var a=s<<12;i.getBCHDigit(a)-i.getBCHDigit(i.G18)>=0;)a^=i.G18<<i.getBCHDigit(a)-i.getBCHDigit(i.G18);return s<<12|a},getBCHDigit:function(s){for(var a=0;s!=0;)a++,s>>>=1;return a},getPatternPosition:function(s){return i.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,a,l){switch(s){case r.PATTERN000:return(a+l)%2==0;case r.PATTERN001:return a%2==0;case r.PATTERN010:return l%3==0;case r.PATTERN011:return(a+l)%3==0;case r.PATTERN100:return(Math.floor(a/2)+Math.floor(l/3))%2==0;case r.PATTERN101:return a*l%2+a*l%3==0;case r.PATTERN110:return(a*l%2+a*l%3)%2==0;case r.PATTERN111:return(a*l%3+(a+l)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var a=new e([1],0),l=0;l<s;l++)a=a.multiply(new e([1,n.gexp(l)],0));return a},getLengthInBits:function(s,a){if(1<=a&&a<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(a<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(a<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+a)},getLostPoint:function(s){for(var a=s.getModuleCount(),l=0,c=0;c<a;c++)for(var d=0;d<a;d++){for(var f=0,m=s.isDark(c,d),p=-1;p<=1;p++)if(!(c+p<0||a<=c+p))for(var y=-1;y<=1;y++)d+y<0||a<=d+y||p==0&&y==0||m==s.isDark(c+p,d+y)&&f++;f>5&&(l+=3+f-5)}for(var c=0;c<a-1;c++)for(var d=0;d<a-1;d++){var x=0;s.isDark(c,d)&&x++,s.isDark(c+1,d)&&x++,s.isDark(c,d+1)&&x++,s.isDark(c+1,d+1)&&x++,(x==0||x==4)&&(l+=3)}for(var c=0;c<a;c++)for(var d=0;d<a-6;d++)s.isDark(c,d)&&!s.isDark(c,d+1)&&s.isDark(c,d+2)&&s.isDark(c,d+3)&&s.isDark(c,d+4)&&!s.isDark(c,d+5)&&s.isDark(c,d+6)&&(l+=40);for(var d=0;d<a;d++)for(var c=0;c<a-6;c++)s.isDark(c,d)&&!s.isDark(c+1,d)&&s.isDark(c+2,d)&&s.isDark(c+3,d)&&s.isDark(c+4,d)&&!s.isDark(c+5,d)&&s.isDark(c+6,d)&&(l+=40);for(var b=0,d=0;d<a;d++)for(var c=0;c<a;c++)s.isDark(c,d)&&b++;var _=Math.abs(100*b/a/a-50)/5;return l+=_*10,l}};return DC=i,DC}var OC,wV;function lPe(){if(wV)return OC;wV=1;var t=iPe(),e=sPe(),n=aPe(),r=oPe(),i=NW();function s(l,c){this.typeNumber=l,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var a=s.prototype;return a.addData=function(l){var c=new t(l);this.dataList.push(c),this.dataCache=null},a.isDark=function(l,c){if(l<0||this.moduleCount<=l||c<0||this.moduleCount<=c)throw new Error(l+","+c);return this.modules[l][c]},a.getModuleCount=function(){return this.moduleCount},a.make=function(){if(this.typeNumber<1){var l=1;for(l=1;l<40;l++){for(var c=e.getRSBlocks(l,this.errorCorrectLevel),d=new n,f=0,m=0;m<c.length;m++)f+=c[m].dataCount;for(var m=0;m<this.dataList.length;m++){var p=this.dataList[m];d.put(p.mode,4),d.put(p.getLength(),r.getLengthInBits(p.mode,l)),p.write(d)}if(d.getLengthInBits()<=f*8)break}this.typeNumber=l}this.makeImpl(!1,this.getBestMaskPattern())},a.makeImpl=function(l,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++)this.modules[d][f]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(l,c),this.typeNumber>=7&&this.setupTypeNumber(l),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},a.setupPositionProbePattern=function(l,c){for(var d=-1;d<=7;d++)if(!(l+d<=-1||this.moduleCount<=l+d))for(var f=-1;f<=7;f++)c+f<=-1||this.moduleCount<=c+f||(0<=d&&d<=6&&(f==0||f==6)||0<=f&&f<=6&&(d==0||d==6)||2<=d&&d<=4&&2<=f&&f<=4?this.modules[l+d][c+f]=!0:this.modules[l+d][c+f]=!1)},a.getBestMaskPattern=function(){for(var l=0,c=0,d=0;d<8;d++){this.makeImpl(!0,d);var f=r.getLostPoint(this);(d==0||l>f)&&(l=f,c=d)}return c},a.createMovieClip=function(l,c,d){var f=l.createEmptyMovieClip(c,d),m=1;this.make();for(var p=0;p<this.modules.length;p++)for(var y=p*m,x=0;x<this.modules[p].length;x++){var b=x*m,_=this.modules[p][x];_&&(f.beginFill(0,100),f.moveTo(b,y),f.lineTo(b+m,y),f.lineTo(b+m,y+m),f.lineTo(b,y+m),f.endFill())}return f},a.setupTimingPattern=function(){for(var l=8;l<this.moduleCount-8;l++)this.modules[l][6]==null&&(this.modules[l][6]=l%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},a.setupPositionAdjustPattern=function(){for(var l=r.getPatternPosition(this.typeNumber),c=0;c<l.length;c++)for(var d=0;d<l.length;d++){var f=l[c],m=l[d];if(this.modules[f][m]==null)for(var p=-2;p<=2;p++)for(var y=-2;y<=2;y++)p==-2||p==2||y==-2||y==2||p==0&&y==0?this.modules[f+p][m+y]=!0:this.modules[f+p][m+y]=!1}},a.setupTypeNumber=function(l){for(var c=r.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var f=!l&&(c>>d&1)==1;this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=f}for(var d=0;d<18;d++){var f=!l&&(c>>d&1)==1;this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=f}},a.setupTypeInfo=function(l,c){for(var d=this.errorCorrectLevel<<3|c,f=r.getBCHTypeInfo(d),m=0;m<15;m++){var p=!l&&(f>>m&1)==1;m<6?this.modules[m][8]=p:m<8?this.modules[m+1][8]=p:this.modules[this.moduleCount-15+m][8]=p}for(var m=0;m<15;m++){var p=!l&&(f>>m&1)==1;m<8?this.modules[8][this.moduleCount-m-1]=p:m<9?this.modules[8][15-m-1+1]=p:this.modules[8][15-m-1]=p}this.modules[this.moduleCount-8][8]=!l},a.mapData=function(l,c){for(var d=-1,f=this.moduleCount-1,m=7,p=0,y=this.moduleCount-1;y>0;y-=2)for(y==6&&y--;;){for(var x=0;x<2;x++)if(this.modules[f][y-x]==null){var b=!1;p<l.length&&(b=(l[p]>>>m&1)==1);var _=r.getMask(c,f,y-x);_&&(b=!b),this.modules[f][y-x]=b,m--,m==-1&&(p++,m=7)}if(f+=d,f<0||this.moduleCount<=f){f-=d,d=-d;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(l,c,d){for(var f=e.getRSBlocks(l,c),m=new n,p=0;p<d.length;p++){var y=d[p];m.put(y.mode,4),m.put(y.getLength(),r.getLengthInBits(y.mode,l)),y.write(m)}for(var x=0,p=0;p<f.length;p++)x+=f[p].dataCount;if(m.getLengthInBits()>x*8)throw new Error("code length overflow. ("+m.getLengthInBits()+">"+x*8+")");for(m.getLengthInBits()+4<=x*8&&m.put(0,4);m.getLengthInBits()%8!=0;)m.putBit(!1);for(;!(m.getLengthInBits()>=x*8||(m.put(s.PAD0,8),m.getLengthInBits()>=x*8));)m.put(s.PAD1,8);return s.createBytes(m,f)},s.createBytes=function(l,c){for(var d=0,f=0,m=0,p=new Array(c.length),y=new Array(c.length),x=0;x<c.length;x++){var b=c[x].dataCount,_=c[x].totalCount-b;f=Math.max(f,b),m=Math.max(m,_),p[x]=new Array(b);for(var S=0;S<p[x].length;S++)p[x][S]=255&l.buffer[S+d];d+=b;var R=r.getErrorCorrectPolynomial(_),D=new i(p[x],R.getLength()-1),z=D.mod(R);y[x]=new Array(R.getLength()-1);for(var S=0;S<y[x].length;S++){var I=S+z.getLength()-y[x].length;y[x][S]=I>=0?z.get(I):0}}for(var P=0,S=0;S<c.length;S++)P+=c[S].totalCount;for(var C=new Array(P),E=0,S=0;S<f;S++)for(var x=0;x<c.length;x++)S<p[x].length&&(C[E++]=p[x][S]);for(var S=0;S<m;S++)for(var x=0;x<c.length;x++)S<y[x].length&&(C[E++]=y[x][S]);return C},OC=s,OC}var Fv={},_V;function cPe(){if(_V)return Fv;_V=1,Object.defineProperty(Fv,"__esModule",{value:!0});var t=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var m=arguments[f];for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(d[p]=m[p])}return d},e=xW(),n=s(e),r=ni(),i=s(r);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,f){var m={};for(var p in d)f.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(d,p)&&(m[p]=d[p]);return m}var l={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},c=(0,r.forwardRef)(function(d,f){var m=d.bgColor,p=d.bgD,y=d.fgD,x=d.fgColor,b=d.size,_=d.title,S=d.viewBoxSize,R=d.xmlns,D=R===void 0?"http://www.w3.org/2000/svg":R,z=a(d,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",t({},z,{height:b,ref:f,viewBox:"0 0 "+S+" "+S,width:b,xmlns:D}),_?i.default.createElement("title",null,_):null,i.default.createElement("path",{d:p,fill:m}),i.default.createElement("path",{d:y,fill:x}))});return c.displayName="QRCodeSvg",c.propTypes=l,Fv.default=c,Fv}var NV;function uPe(){if(NV)return Zd;NV=1,Object.defineProperty(Zd,"__esModule",{value:!0}),Zd.QRCode=void 0;var t=Object.assign||function(b){for(var _=1;_<arguments.length;_++){var S=arguments[_];for(var R in S)Object.prototype.hasOwnProperty.call(S,R)&&(b[R]=S[R])}return b},e=xW(),n=m(e),r=bW(),i=m(r),s=lPe(),a=m(s),l=ni(),c=m(l),d=cPe(),f=m(d);function m(b){return b&&b.__esModule?b:{default:b}}function p(b,_){var S={};for(var R in b)_.indexOf(R)>=0||Object.prototype.hasOwnProperty.call(b,R)&&(S[R]=b[R]);return S}var y={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},x=(0,l.forwardRef)(function(b,_){var S=b.bgColor,R=S===void 0?"#FFFFFF":S,D=b.fgColor,z=D===void 0?"#000000":D,I=b.level,P=I===void 0?"L":I,C=b.size,E=C===void 0?256:C,A=b.value,j=p(b,["bgColor","fgColor","level","size","value"]),V=new a.default(-1,i.default[P]);V.addData(A),V.make();var B=V.modules;return c.default.createElement(f.default,t({},j,{bgColor:R,bgD:B.map(function(F,U){return F.map(function(X,J){return X?"":"M "+J+" "+U+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:z,fgD:B.map(function(F,U){return F.map(function(X,J){return X?"M "+J+" "+U+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:_,size:E,viewBoxSize:B.length}))});return Zd.QRCode=x,x.displayName="QRCode",x.propTypes=y,Zd.default=x,Zd}var dPe=uPe();const fPe=_i(dPe);function hPe({onNavigate:t}){const[e,n]=N.useState(""),[r,i]=N.useState(null),[s,a]=N.useState("Ethereum"),[l,c]=N.useState(!1),[d,f]=N.useState(!1),{prices:m}=Ni(),{portfolio:p}=qs(),y=I=>{a(I),c(!1),f(!1)},x=[{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"BNB",name:"Binance",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"}],b=I=>p.holdings.find(C=>C.symbol===I)?.amount||0,_=[{id:"Ethereum",name:"Ethereum",icon:"ETH"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB"},{id:"Polygon",name:"Polygon",icon:"MATIC"},{id:"Arbitrum",name:"Arbitrum",icon:"ARB"},{id:"Optimism",name:"Optimism",icon:"OP"},{id:"Base",name:"Base",icon:"BASE"},{id:"Avalanche",name:"Avalanche C-Chain",icon:"AVAX"},{id:"Solana",name:"Solana",icon:"SOL"},{id:"Tron",name:"Tron",icon:"TRX"},{id:"Fantom",name:"Fantom",icon:"FTM"},{id:"zkSync",name:"zkSync Era",icon:"ZK"},{id:"Cronos",name:"Cronos",icon:"CRO"}],S=(I,P)=>(m[I]?.usd||0)*P,R=x.filter(I=>I.symbol.toLowerCase().includes(e.toLowerCase())||I.name.toLowerCase().includes(e.toLowerCase())),D=I=>{const P=document.createElement("textarea");P.value=I,P.style.position="fixed",P.style.left="-999999px",P.style.top="-999999px",document.body.appendChild(P),P.focus(),P.select();try{document.execCommand("copy"),c(!0),setTimeout(()=>c(!1),2e3)}catch(C){console.error("Erro ao copiar:",C)}document.body.removeChild(P)},z=(I,P)=>{const C=U=>{let X=5381;for(let J=0;J<U.length;J++){const O=U.charCodeAt(J);X=(X<<5)+X+O}return Math.abs(X)+999999},E=(U,X)=>{const J=[];let O=C(U);for(let K=0;K<X;K++){O=O*1664525+1013904223&2147483647;const H=(O^O>>16)&255;J.push(H===0?K%255+1:H)}return J},A=U=>U.map(X=>X.toString(16).padStart(2,"0")).join(""),j=U=>{const X="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let J=BigInt("0x"+A(U)),O="";for(;J>0;){const K=Number(J%58n);O=X[K]+O,J=J/58n}for(const K of U)if(K===0)O="1"+O;else break;return O},V=U=>{const X="qpzry9x8gf2tvdw0s3jn54khce6mua7l";let J="";for(const O of U)J+=X[O%X.length];return J},B=`${I}-${P}-ethertron-wallet`;if(P==="Tron"){const U=E(B,20);return"T"+j(U).substring(1,34)}if(I==="BTC"){const U=E(B,32);return"bc1q"+V(U).substring(0,38)}if(I==="SOL"||P==="Solana"){const U=E(B,32);return j(U).substring(0,44)}if(I==="ETH"||P==="Ethereum"||P==="Polygon"||P==="Optimism"||P==="BSC"||P==="Arbitrum"||P==="Base"||P==="Avalanche"||P==="Fantom"||P==="zkSync"||P==="Cronos"||I==="BNB"||I==="MATIC"||I==="LINK"||I==="UNI"||I==="AVAX"||I==="USDT"){const U=E(B,20);return"0x"+A(U)}if(I==="XRP"){const U=[0,...E(B,20)];return"r"+j(U).substring(1,34)}if(I==="ADA"){const U=E(B,57);return"addr1"+V(U).substring(0,98)}if(I==="DOT"){const U=[0,...E(B,32)];return j(U).substring(0,48)}if(I==="DOGE"){const U=[30,...E(B,20)];return j(U).substring(0,34)}if(I==="LTC"){const U=E(B,32);return"ltc1q"+V(U).substring(0,38)}if(I==="ATOM"){const U=E(B,32);return"cosmos1"+V(U).substring(0,38)}const F=E(B,20);return"0x"+A(F)};if(r){const I=x.find(C=>C.symbol===r);if(!I)return null;const P=z(I.symbol,s);return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl mb-1 text-gray-400",children:["Receber ",I.symbol]}),o.jsx("p",{className:"text-lg text-gray-500",children:I.name})]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ht,{symbol:I.symbol,size:"lg"})})]})]}),o.jsx("div",{className:"px-6 py-8 flex items-center justify-center",children:o.jsx("div",{className:"w-64 h-64 bg-zinc-900 rounded-3xl p-6 flex items-center justify-center",children:o.jsx("div",{className:"w-full h-full bg-white rounded-2xl p-4 flex items-center justify-center",children:o.jsx(fPe,{value:P,size:180})})})}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Endereo da carteira"}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"flex-1 bg-zinc-800 rounded-xl px-4 py-3 text-sm font-mono text-gray-300 overflow-hidden",children:o.jsx("div",{className:"truncate",children:P})}),o.jsx("button",{onClick:()=>D(P),className:"flex-shrink-0 w-12 h-12 rounded-xl bg-zinc-800 hover:bg-zinc-700 flex items-center justify-center transition-all active:scale-95",children:l?o.jsx(wn,{className:"w-5 h-5 text-green-500"}):o.jsx(xn,{className:"w-5 h-5 text-gray-400"})})]}),l&&o.jsx("p",{className:"text-xs text-green-500 mt-2 text-center font-semibold",children:"Endereo copiado!"})]})}),o.jsx("div",{className:"flex-1 px-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6",children:[o.jsx("h2",{className:"text-xl mb-3",children:"Selecione a rede"}),o.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Certifique-se de selecionar a rede correta ou seus fundos podem ser perdidos."," ",o.jsx("a",{href:"#",className:"text-blue-500 hover:text-blue-400",children:"Saber mais"})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>f(!d),className:"w-full bg-zinc-800 rounded-2xl p-4 flex items-center gap-4 hover:bg-zinc-700 transition-all",children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(ht,{symbol:_.find(C=>C.id===s)?.icon||"ETH",size:"sm"})}),o.jsx("div",{className:"flex-1 text-left",children:o.jsx("div",{className:"text-lg font-semibold",children:_.find(C=>C.id===s)?.name||"Ethereum"})}),o.jsx(wo,{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${d?"rotate-180":""}`})]}),d&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),o.jsx("div",{className:"absolute z-20 w-full mt-2 bg-zinc-800/95 backdrop-blur-xl rounded-2xl border border-zinc-700/50 shadow-2xl overflow-hidden",children:o.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:_.map(C=>o.jsxs("button",{onClick:()=>y(C.id),className:`w-full p-4 flex items-center gap-4 transition-all border-b border-zinc-700/30 last:border-b-0 ${s===C.id?"bg-blue-500/20":"hover:bg-zinc-700/50"}`,children:[o.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:o.jsx(ht,{symbol:C.icon,size:"sm"})}),o.jsx("div",{className:"flex-1 text-left",children:o.jsxs("div",{className:"text-base font-semibold",children:[" ",C.name]})}),s===C.id&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0",children:o.jsx(wn,{className:"w-4 h-4 text-white",strokeWidth:3})})]},C.id))})})]})]})]})})]})}return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-3xl",children:"Receber"})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Xl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Pesquise criptomoedas compatveis",value:e,onChange:I=>n(I.target.value),className:"w-full bg-zinc-900 text-white rounded-full py-3.5 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-gray-700 placeholder-gray-500"})]})}),o.jsxs("div",{className:"flex-1 px-6",children:[o.jsx("div",{className:"space-y-0",children:R.map(I=>{const P=b(I.symbol),C=S(I.id,P);return o.jsxs("button",{className:"w-full bg-zinc-900/50 hover:bg-zinc-800/50 transition-colors p-4 flex items-center gap-4 border-b border-zinc-800/50 last:border-b-0",onClick:()=>i(I.symbol),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ht,{symbol:I.symbol,size:"md"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-base",children:I.symbol}),o.jsx("div",{className:"text-sm text-gray-400",children:I.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold text-base",children:[I.symbol==="USDT"?Xr(P):cr(P)," ",I.symbol]}),o.jsxs("div",{className:"text-sm text-gray-400",children:[Xr(C)," USDT"]})]})]},I.symbol)})}),R.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-400",children:"Nenhuma criptomoeda encontrada"})})]})]})}function CW(t,e){const n=Date.now(),r=Math.random().toString(36).substring(2,15),i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",s=a=>{let l="";for(let c=0;c<a;c++)l+=i[Math.floor(Math.random()*i.length)];return l};switch(t){case"Ethereum":case"BSC":case"Polygon":return`0x${e.substring(0,8)}${n.toString(16)}${r}`.substring(0,42);case"Bitcoin":return`bc1q${e.substring(0,6)}${r}${n.toString(36)}`.substring(0,42);case"Tron":return`T${s(33)}`;case"Solana":return`${e.substring(0,8)}${r}${n.toString(36)}Solana`.substring(0,44);case"Ripple":return`r${e.substring(0,7)}${r}${n.toString(36)}`.substring(0,34);default:return`${t.substring(0,3).toUpperCase()}${e.substring(0,8)}${r}${n.toString(36)}`}}async function EW(t,e,n){const r=n||CW(e,t);console.log(` Salvando endereo ${e}: ${r}`);const i=et(we,"users",t,"walletAddresses",e),s={network:e,address:r,userId:t,createdAt:new Date,updatedAt:new Date};await Rn(i,s),console.log(" Endereo salvo no documento do usurio");const a=et(we,"walletAddressIndex",r.toLowerCase());return await Rn(a,{address:r,userId:t,network:e,updatedAt:new Date}),console.log(` Endereo indexado globalmente: ${r}`),await new Promise(l=>setTimeout(l,300)),s}async function mPe(t,e){try{const n=et(we,"users",t,"walletAddresses",e),r=await Wi(n);return r.exists()?r.data().address:(await EW(t,e)).address}catch(n){return console.error(" Erro ao buscar endereo:",n),null}}async function pPe(t){try{console.log(" Buscando userId para endereo:",t);const e=et(we,"walletAddressIndex",t.toLowerCase()),n=await Wi(e);if(n.exists()){const r=n.data();return console.log(" Endereo encontrado no ndice global:",r.userId),r.userId}return console.warn(" Endereo no encontrado no ndice global:",t),console.warn(" Execute a migrao de endereos em: Perfil  Configuraes  Teste de Endereos"),null}catch(e){return console.error(" Erro ao buscar usurio por endereo:",e),null}}async function gPe(t,e){const n=CW(e,t);return await EW(t,e,n),n}async function yPe(t,e,n){try{console.log(" Validando endereo:",t,"na rede:",e);const r=await pPe(t);if(!r)return console.warn(" Endereo no encontrado no ndice:",t),{isValid:!1,userId:null,userName:null,error:"Endereo no encontrado. Certifique-se de que o destinatrio possui uma conta NexCoin."};if(n&&r===n)return console.warn(" Tentativa de auto-transferncia detectada"),{isValid:!1,userId:null,userName:null,error:"Voc no pode transferir para o seu prprio endereo."};console.log(" Usurio encontrado:",r);const i=et(we,"users",r,"walletAddresses",e),s=await Wi(i);if(!s.exists())return console.warn(` Endereo no pertence  rede ${e}`),{isValid:!1,userId:null,userName:null,error:`Este endereo no pertence  rede ${e}`};const a=s.data();if(a.address.toLowerCase()!==t.toLowerCase())return console.warn(` Endereo no corresponde: esperado ${a.address}, recebido ${t}`),{isValid:!1,userId:null,userName:null,error:`Endereo no corresponde  rede ${e}`};const l=et(we,"users",r),c=await Wi(l),d=c.exists()&&(c.data().name||c.data().email)||"Usurio";return console.log(" Endereo vlido! Destinatrio:",d,"(",r,")"),{isValid:!0,userId:r,userName:d}}catch(r){return console.error(" Erro ao validar endereo:",r),{isValid:!1,userId:null,userName:null,error:"Erro ao validar endereo"}}}async function vPe(t){try{console.log(" Iniciando transferncia de cripto:",t);const{fromUserId:e,toUserId:n,coinId:r,coinSymbol:i,amount:s,fee:a,network:l,toAddress:c}=t;if(!e||!n)throw new Error("Remetente ou destinatrio invlido");if(e===n)throw new Error("No  possvel transferir para si mesmo");if(s<=0)throw new Error("Valor invlido");const d=s+a,f=await kP(we,async x=>{const b=et(we,"users",e,"portfolio",i),_=await x.get(b),S=et(we,"users",n,"portfolio",i),R=await x.get(S);if(!_.exists())throw new Error("Voc no possui saldo desta criptomoeda");const D=_.data().amount||0;if(D<d)throw new Error(`Saldo insuficiente. Necessrio: ${d} ${i}, Disponvel: ${D} ${i}`);const z=D-d;x.update(b,{amount:z,updatedAt:new Date}),console.log(` Debitado ${d} ${i} de ${e}. Novo saldo: ${z}`);let I;return R.exists()?(I=(R.data().amount||0)+s,x.update(S,{amount:I,updatedAt:new Date})):(I=s,x.set(S,{coinId:r,symbol:i,amount:I,name:i,createdAt:new Date,updatedAt:new Date})),console.log(` Creditado ${s} ${i} para ${n}. Novo saldo: ${I}`),{newFromBalance:z,newToBalance:I}}),m=`txn_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,p=et(it(we,"users",e,"transactions"));await Rn(p,{id:p.id,type:"crypto_send",coinId:r,coinSymbol:i,currency:i,amount:-d,amountSent:s,fee:a,feeCurrency:i,network:l,toUserId:n,toAddress:c,status:"completed",transactionHash:t.transactionHash,transactionId:m,createdAt:vt.fromDate(new Date),description:`Enviado ${s} ${i} via ${l}`});const y=et(it(we,"users",n,"transactions"));return await Rn(y,{id:y.id,type:"crypto_receive",coinId:r,coinSymbol:i,currency:i,amount:s,fee:0,feeCurrency:i,network:l,fromUserId:e,fromAddress:t.fromAddress||"NexCoin User",status:"completed",transactionHash:t.transactionHash,transactionId:m,createdAt:vt.fromDate(new Date),description:`Recebido ${s} ${i} via ${l}`}),console.log(" Transferncia concluda com sucesso!"),{success:!0,transactionId:p.id}}catch(e){return console.error(" Erro ao processar transferncia:",e),{success:!1,error:e.message||"Erro ao processar transferncia"}}}function xPe(){const t=Date.now().toString(16),e=Math.random().toString(16).substring(2);return`0x${t}${e}`.substring(0,66)}function SW(){const{user:t}=Vt(),[e,n]=N.useState([]),[r,i]=N.useState(!0);return N.useEffect(()=>{if(!t?.uid){n([]),i(!1);return}console.log(" Iniciando listener de endereos de wallet...");const l=it(we,"users",t.uid,"walletAddresses"),c=ei(l,d=>{const f=[];d.forEach(m=>{const p=m.data();f.push({network:p.network,address:p.address,userId:p.userId,createdAt:p.createdAt?.toDate()||new Date,updatedAt:p.updatedAt?.toDate()||new Date})}),n(f),i(!1),console.log(" Endereos carregados:",f)},d=>{console.error(" Erro ao carregar endereos:",d),i(!1)});return()=>{console.log(" Cancelando listener de endereos"),c()}},[t?.uid]),{addresses:e,isLoading:r,getAddressForNetwork:async l=>{if(!t?.uid)throw new Error("Usurio no autenticado");const c=e.find(f=>f.network===l);return c?c.address:await mPe(t.uid,l)||""},regenerateAddress:async l=>{if(!t?.uid)throw new Error("Usurio no autenticado");const c=await gPe(t.uid,l);return console.log(` Novo endereo gerado para ${l}:`,c),c}}}function bPe({crypto:t,network:e,onBack:n}){const[r,i]=N.useState(""),[s,a]=N.useState(""),[l,c]=N.useState(!1),[d,f]=N.useState(!1),[m,p]=N.useState(!1),[y,x]=N.useState(!1),[b,_]=N.useState(""),[S,R]=N.useState(""),[D,z]=N.useState(!1),[I,P]=N.useState(!1),[C,E]=N.useState(null),{prices:A}=Ni(),{user:j}=Vt(),{getAddressForNetwork:V}=SW();N.useEffect(()=>{const H=setTimeout(async()=>{if(!r||r.length<10){E(null);return}x(!0),E(null);try{const k=await yPe(r,e.id,j?.uid);E(k)}catch(k){console.error("Erro ao validar:",k),E({isValid:!1,userName:null,error:"Erro ao validar endereo"})}finally{x(!1)}},800);return()=>clearTimeout(H)},[r,e.id,j?.uid]);const B=K=>K>=1?K.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8}):K.toFixed(8),F=parseFloat(e.fee.split(" ")[0]),U=parseFloat(s)||0,X=U+F,J=r&&s&&parseFloat(s)>0&&parseFloat(s)<=t.balance&&C?.isValid===!0,O=async()=>{if(!J||!j?.uid||!C?.userId){Me.error("Dados invlidos para transferncia");return}p(!0);try{const K=xPe(),H=await V(e.id),k=await vPe({fromUserId:j.uid,toUserId:C.userId,coinId:t.id,coinSymbol:t.symbol,amount:U,fee:F,network:e.id,toAddress:r,fromAddress:H,status:"completed",transactionHash:K,createdAt:new Date});k.success?(_(K),R(new Date().toLocaleString("pt-BR")),c(!0),Me.success("Transferncia realizada com sucesso!")):Me.error(k.error||"Erro ao processar transferncia")}catch(K){console.error("Erro ao enviar:",K),Me.error(K.message||"Erro ao processar transferncia")}finally{p(!1)}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:n,className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h1",{className:"text-lg",children:["Enviar ",t.symbol]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ht,{symbol:t.symbol,size:"md"})})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Saldo disponvel"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold",children:[B(t.balance)," ",t.symbol]}),o.jsxs("div",{className:"text-xs text-gray-400",children:["$",((A[t.id]?.usd||0)*t.balance).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]}),o.jsxs("div",{className:"flex-1 px-6 space-y-6 overflow-y-auto",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-3",children:"Rede selecionada"}),o.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:o.jsx(ht,{symbol:e.icon,size:"sm"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-sm",children:e.name}),o.jsxs("div",{className:"text-xs text-gray-400",children:["Taxa: ",e.fee]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-3",children:"Endereo da carteira"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",placeholder:"Cole ou escaneie o endereo da carteira",value:r,onChange:K=>i(K.target.value),className:`w-full bg-zinc-900 text-white rounded-xl py-4 pl-4 pr-12 focus:outline-none focus:ring-2 placeholder-gray-500 transition-all ${C?.isValid?"focus:ring-green-500 ring-2 ring-green-500/50":C?.isValid===!1?"focus:ring-red-500 ring-2 ring-red-500/50":"focus:ring-gray-600"}`}),o.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[y&&o.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}),C?.isValid&&o.jsx(Ik,{className:"w-5 h-5 text-green-500"}),C?.isValid===!1&&o.jsx(qr,{className:"w-5 h-5 text-red-500"})]})]}),C?.isValid&&C.userName&&o.jsxs("div",{className:"mt-3 bg-green-500/10 border border-green-500/20 rounded-xl p-3 flex items-start gap-3",children:[o.jsx(Ik,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-green-500 text-sm font-semibold mb-0.5",children:"Destinatrio encontrado"}),o.jsxs("p",{className:"text-green-200/80 text-xs",children:["Enviando para: ",o.jsx("span",{className:"font-semibold",children:C.userName})]})]})]}),C?.isValid===!1&&C.error&&o.jsxs("div",{className:"mt-3 bg-red-500/10 border border-red-500/20 rounded-xl p-3 flex items-start gap-3",children:[o.jsx(pu,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-red-500 text-sm font-semibold mb-0.5",children:"Endereo invlido"}),o.jsx("p",{className:"text-red-200/80 text-xs",children:C.error})]})]}),r&&!C&&!y&&o.jsxs("div",{className:"mt-2 flex items-start gap-2 text-xs text-gray-400",children:[o.jsx(pu,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),o.jsx("p",{children:"Certifique-se de que o endereo est correto. Transaes no podem ser revertidas."})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("label",{className:"text-sm font-semibold",children:"Valor"}),o.jsx("button",{onClick:()=>a(t.balance.toString()),className:"text-xs text-gray-400 hover:text-white transition-colors",children:"Usar mximo"})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("input",{type:"number",placeholder:"0.00",value:s,onChange:K=>a(K.target.value),className:"flex-1 bg-transparent text-2xl font-bold outline-none placeholder-gray-600",step:"0.00000001"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ht,{symbol:t.symbol,size:"sm"}),o.jsx("span",{className:"font-semibold text-lg",children:t.symbol})]})]}),s&&o.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[" $",(parseFloat(s)*(A[t.id]?.usd||0)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),s&&r&&C?.isValid&&o.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 space-y-3",children:[o.jsx("h3",{className:"font-semibold text-sm mb-3",children:"Resumo da transao"}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Quantidade"}),o.jsxs("span",{className:"font-semibold",children:[s," ",t.symbol]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Taxa de rede"}),o.jsxs("span",{className:"font-semibold",children:[F," ",t.symbol]})]}),o.jsx("div",{className:"h-px bg-zinc-800 my-2"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-400",children:"Total"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-bold text-lg",children:[t.symbol==="USDT"?Xr(X):cr(X)," ",t.symbol]}),o.jsxs("div",{className:"text-xs text-gray-400",children:[" ",Xr(X*(A[t.id]?.usd||0))," USDT"]})]})]})]}),o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 flex gap-3",children:[o.jsx(pu,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),o.jsxs("div",{className:"text-sm text-yellow-200/90",children:[o.jsx("p",{className:"font-semibold mb-1",children:"Ateno"}),o.jsx("p",{className:"text-xs text-yellow-200/70",children:"Verifique cuidadosamente o endereo e a rede antes de enviar. Apenas endereos cadastrados na NexCoin so aceitos."})]})]})]}),o.jsxs("div",{className:"px-6 py-4 bg-black",children:[o.jsx("button",{disabled:!J||m,className:`w-full py-4 rounded-xl font-semibold text-lg transition-all ${J&&!m?"bg-white text-black hover:bg-gray-200":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,onClick:O,children:m?o.jsxs("span",{className:"flex items-center justify-center gap-2",children:[o.jsx("div",{className:"w-5 h-5 border-2 border-black/20 border-t-black rounded-full animate-spin"}),"Processando..."]}):"Enviar"}),!C?.isValid&&r&&!y&&o.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:"O endereo precisa estar cadastrado na NexCoin"})]}),o.jsx(Sw,{children:l&&o.jsx(Ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>{c(!1),n()},children:o.jsxs(Ye.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",duration:.5},className:"bg-zinc-900 rounded-3xl p-8 max-w-sm w-full text-center relative overflow-hidden",onClick:K=>K.stopPropagation(),children:[o.jsxs(Ye.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6 relative",children:[o.jsx(Ye.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-16 h-16 bg-green-500/30 rounded-full flex items-center justify-center",children:o.jsx(Ye.svg,{initial:{pathLength:0},animate:{pathLength:1},transition:{delay:.5,duration:.5},className:"w-10 h-10 text-green-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:o.jsx(Ye.path,{d:"M20 6L9 17l-5-5"})})}),o.jsx(Ye.div,{initial:{scale:.8,opacity:.5},animate:{scale:2.5,opacity:0},transition:{duration:1,ease:"easeOut"},className:"absolute inset-0 bg-green-500 rounded-full"})]}),o.jsxs(Ye.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},children:[o.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Enviado com sucesso!"}),o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Sua transao foi processada"}),C?.userName&&o.jsxs("p",{className:"text-green-400 text-sm font-semibold mb-6",children:["Destinatrio: ",C.userName]}),o.jsxs("div",{className:"bg-black/50 rounded-2xl p-4 mb-6 space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Valor"}),o.jsxs("span",{className:"font-semibold text-white",children:[s," ",t.symbol]})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Rede"}),o.jsx("span",{className:"font-semibold text-white",children:e.name})]}),o.jsxs("div",{className:"flex items-center justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Para"}),o.jsxs("span",{className:"font-semibold text-white text-xs",children:[r.slice(0,8),"...",r.slice(-6)]})]})]}),o.jsx("button",{onClick:()=>{c(!1),f(!0)},className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-gray-200 transition-colors mb-3",children:"Ver Comprovante"}),o.jsx("button",{onClick:()=>{c(!1),n()},className:"w-full bg-zinc-800 text-white font-semibold py-3 rounded-xl hover:bg-zinc-700 transition-colors",children:"Fechar"})]})]})})})]})}function wPe({onNavigate:t}){const[e,n]=N.useState(""),[r,i]=N.useState(null),[s,a]=N.useState(null),{prices:l}=Ni(),{portfolio:c}=qs(),d=S=>c.holdings.find(D=>D.coinId===S)?.amount||0,f=[{symbol:"USDT",name:"Tether",balance:d("tether"),id:"tether"},{symbol:"BTC",name:"Bitcoin",balance:d("bitcoin"),id:"bitcoin"},{symbol:"ETH",name:"Ethereum",balance:d("ethereum"),id:"ethereum"},{symbol:"BNB",name:"Binance Coin",balance:d("binancecoin"),id:"binancecoin"},{symbol:"SOL",name:"Solana",balance:d("solana"),id:"solana"},{symbol:"ADA",name:"Cardano",balance:d("cardano"),id:"cardano"},{symbol:"XRP",name:"Ripple",balance:d("ripple"),id:"ripple"},{symbol:"DOT",name:"Polkadot",balance:d("polkadot"),id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",balance:d("dogecoin"),id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",balance:d("avalanche-2"),id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",balance:d("matic-network"),id:"matic-network"},{symbol:"LINK",name:"Chainlink",balance:d("chainlink"),id:"chainlink"},{symbol:"UNI",name:"Uniswap",balance:d("uniswap"),id:"uniswap"},{symbol:"LTC",name:"Litecoin",balance:d("litecoin"),id:"litecoin"},{symbol:"ATOM",name:"Cosmos",balance:d("cosmos"),id:"cosmos"}],m=[{id:"Ethereum",name:"Ethereum (ERC20)",icon:"ETH",fee:"2.5 USDT"},{id:"Tron",name:"Tron (TRC20)",icon:"TRX",fee:"1.0 USDT"},{id:"Polygon",name:"Polygon",icon:"MATIC",fee:"0.5 USDT"},{id:"Solana",name:"Solana",icon:"SOL",fee:"0.3 USDT"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB",fee:"0.8 USDT"}],p=S=>S>=1?S.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8}):S.toFixed(8),y=(S,R)=>(l[S]?.usd||0)*R,x=f.filter(S=>S.symbol.toLowerCase().includes(e.toLowerCase())||S.name.toLowerCase().includes(e.toLowerCase())),b=f.find(S=>S.symbol===r),_=m.find(S=>S.id===s);return r&&b&&s&&_?o.jsx(bPe,{crypto:b,network:_,onBack:()=>{a(null)}}):r&&b?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h1",{className:"text-lg",children:["Enviar ",b.symbol]}),o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ht,{symbol:b.symbol,size:"md"})})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm text-gray-400",children:"Saldo disponvel"}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold",children:[p(b.balance)," ",b.symbol]}),o.jsxs("div",{className:"text-xs text-gray-400",children:["$",y(b.id,b.balance).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]}),o.jsx("div",{className:"flex-1 px-6 overflow-y-auto",children:o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold mb-3",children:"Selecione a rede"}),o.jsx("div",{className:"space-y-2",children:m.map(S=>o.jsxs("button",{onClick:()=>a(S.id),className:"w-full bg-zinc-900 rounded-xl p-4 flex items-center gap-3 transition-all hover:bg-zinc-800",children:[o.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:o.jsx(ht,{symbol:S.icon,size:"sm"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-sm",children:S.name}),o.jsxs("div",{className:"text-xs text-gray-400",children:["Taxa: ",S.fee]})]})]},S.id))})]})})]}):o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-lg",children:"Enviar"})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Xl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Pesquise criptomoedas compatveis",value:e,onChange:S=>n(S.target.value),className:"w-full bg-zinc-900 text-white rounded-full py-3.5 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-gray-700 placeholder-gray-500"})]})}),o.jsxs("div",{className:"flex-1 px-6 overflow-y-auto",children:[o.jsx("div",{className:"space-y-0",children:x.map(S=>{const R=y(S.id,S.balance);return o.jsxs("button",{className:"w-full bg-zinc-900/50 hover:bg-zinc-800/50 transition-colors p-4 flex items-center gap-4 border-b border-zinc-800/50 last:border-b-0",onClick:()=>i(S.symbol),children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx(ht,{symbol:S.symbol,size:"md"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-base",children:S.symbol}),o.jsx("div",{className:"text-sm text-gray-400",children:S.name})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("div",{className:"font-semibold text-base",children:[p(S.balance)," ",S.symbol]}),o.jsxs("div",{className:"text-sm text-gray-400",children:["$",R.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]},S.symbol)})}),x.length===0&&o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-400",children:"Nenhuma criptomoeda encontrada"})})]})]})}async function _Pe(t,e){try{console.log(" ============ VALIDAO DE CHAVE PIX ============"),console.log(" Chave digitada pelo usurio:",t),console.log(" User ID atual:",e);const n=t.includes("@");let r;n?r=t.trim().replace(/\s/g,"").toLowerCase():r=t.trim().replace(/\s/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\+/g,"").toLowerCase(),console.log(" Tipo detectado:",n?"EMAIL":"TELEFONE/CPF/CNPJ"),console.log(" Chave PIX limpa para busca:",r);const i=it(we,"pixKeys");console.log(" Buscando todas as chaves PIX no Firestore...");const s=await Ot(i);console.log(" Total de chaves PIX no sistema:",s.size),console.log(" ============ TODAS AS CHAVES NO SISTEMA ============"),s.docs.forEach((m,p)=>{const y=m.data();console.log(`  [${p+1}] ID: ${m.id}`),console.log(`      keyValue: "${y.keyValue}"`),console.log(`      keyType: ${y.keyType}`),console.log(`      userId: ${y.userId}`)}),console.log(" ====================================================");let a=null;for(const m of s.docs){const p=m.data(),y=p.keyValue||"",x=y.includes("@");let b;if(x?b=y.trim().replace(/\s/g,"").toLowerCase():b=y.trim().replace(/\s/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\+/g,"").toLowerCase(),console.log(" Comparando:"),console.log(`   Digitado (limpo): "${r}"`),console.log(`   Armazenado (original): "${y}"`),console.log(`   Armazenado (limpo): "${b}"`),console.log(`   Match: ${b===r?" SIM":" NO"}`),b===r){a={id:m.id,...p},console.log(" ============ CHAVE ENCONTRADA! ============"),console.log(" Documento ID:",m.id),console.log(" User ID:",p.userId),console.log(" Key Type:",p.keyType),console.log(" Key Value:",p.keyValue),console.log(" ==========================================");break}}if(!a)return console.error(" ============ CHAVE NO ENCONTRADA ============"),console.error(" Chave digitada:",t),console.error(" Chave limpa:",r),console.error(" Total de chaves no sistema:",s.size),console.error(" ============================================="),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Chave PIX no encontrada no sistema NexCoin"};const l=a;if(!l.userId)return console.error(" Chave encontrada mas sem userId!"),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Chave PIX invlida (sem usurio vinculado)"};if(e&&l.userId===e)return console.warn(" Tentativa de auto-transferncia PIX detectada"),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Voc no pode transferir para a sua prpria chave PIX."};const c=et(we,"users",l.userId),d=await Wi(c),f=d.exists()&&(d.data().name||d.data().email)||"Usurio";return console.log(" Chave PIX vlida! Destinatrio:",f,"(",l.userId,")"),{isValid:!0,userId:l.userId,userName:f,pixKeyType:l.keyType||"unknown"}}catch(n){return console.error(" ============ ERRO NA VALIDAO ============"),console.error(" Erro:",n),console.error(" ========================================="),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Erro ao validar chave PIX"}}}async function NPe(t){try{console.log(" Iniciando transferncia PIX:",t);const{fromUserId:e,toUserId:n,currency:r,amount:i,pixKey:s,pixKeyType:a,description:l,transactionId:c}=t;if(!e||!n)throw new Error("Remetente ou destinatrio invlido");if(e===n)throw new Error("No  possvel transferir para si mesmo");if(i<=0)throw new Error("Valor invlido");return await kP(we,async d=>{const f=et(we,"users",e,"fiatBalances",r),m=await d.get(f),p=et(we,"users",n,"fiatBalances",r),y=await d.get(p);let x=0;m.exists()&&(x=m.data().balance||m.data().amount||0),x<i&&(console.warn(` Saldo fiat insuficiente (${x} ${r}). Isso indica que o usurio est usando saldo do portfolio.`),console.warn(" A validao do saldo j foi feita no frontend. Permitindo transferncia."));const b=Math.max(0,x-i);let _=0;y.exists()&&(_=y.data().balance||y.data().amount||0);const S=_+i;m.exists()?d.update(f,{balance:b,updatedAt:new Date}):d.set(f,{currency:r,balance:b,createdAt:new Date,updatedAt:new Date}),console.log(` Debitado ${i} ${r} de ${e}. Novo saldo: ${b}`),y.exists()?d.update(p,{balance:S,updatedAt:new Date}):d.set(p,{currency:r,balance:S,createdAt:new Date,updatedAt:new Date}),console.log(` Creditado ${i} ${r} para ${n}. Novo saldo: ${S}`);const R=et(it(we,"users",e,"transactions"));d.set(R,{id:R.id,type:"pix_send",currency:r,amount:-i,fee:0,feeCurrency:r,pixKey:s,pixKeyType:a,toUserId:n,status:"completed",transactionId:c,createdAt:vt.fromDate(new Date),description:l||`PIX enviado para ${s}`});const D=et(it(we,"users",n,"transactions"));d.set(D,{id:D.id,type:"pix_receive",currency:r,amount:i,fee:0,feeCurrency:r,pixKey:s,pixKeyType:a,fromUserId:e,status:"completed",transactionId:c,createdAt:vt.fromDate(new Date),description:l||`PIX recebido de ${s}`})}),console.log(" Transferncia PIX concluda com sucesso!"),{success:!0,transactionId:c}}catch(e){return console.error(" Erro ao processar transferncia PIX:",e),{success:!1,error:e.message||"Erro ao processar transferncia PIX"}}}function CPe(){const t=Date.now(),e=Math.random().toString(36).substring(2,9).toUpperCase();return`PIX${t}${e}`}function EPe({onNavigate:t,transactionData:e}){const[n,r]=N.useState(null),[i,s]=N.useState("idle"),a=(c,d)=>{const f=document.createElement("textarea");f.value=c,f.style.position="fixed",f.style.left="-999999px",f.style.top="-999999px",document.body.appendChild(f),f.focus(),f.select();try{document.execCommand("copy"),r(d),setTimeout(()=>r(null),2e3)}catch(m){console.error("Erro ao copiar:",m)}document.body.removeChild(f)},l=async()=>{const c=` Comprovante de Transferncia NexCoin

 Valor: ${e.symbol} ${e.amount}
 Moeda: ${e.currency}
 ID: ${e.transactionId}

 Mtodo: ${e.method}
 Destinatrio: ${e.recipientInfo}

 Status: ${e.status}
 Taxa: ${e.symbol} ${e.fee.toFixed(2)}
 Processamento: ${e.processingTime}
 Data: ${e.date}

 NexCoin - Seu banco digital de criptomoedas`;s("sharing");const d=m=>{try{const p=document.createElement("textarea");p.value=m,p.style.position="fixed",p.style.left="-999999px",p.style.top="-999999px",p.style.opacity="0",document.body.appendChild(p),p.focus(),p.select();const y=document.execCommand("copy");return document.body.removeChild(p),y?(console.log(" Comprovante copiado para rea de transferncia"),s("copied"),setTimeout(()=>s("idle"),3e3),!0):!1}catch(p){return console.error(" Erro ao copiar:",p),!1}},f=window.isSecureContext;try{if(f&&navigator.share&&typeof navigator.canShare=="function"&&navigator.canShare({text:c}))try{await navigator.share({title:" Comprovante de Transferncia - NexCoin",text:c}),console.log(" Comprovante compartilhado com sucesso"),s("idle");return}catch(p){if(p.name==="AbortError"){console.log(" Compartilhamento cancelado pelo usurio"),s("idle");return}console.log(" Web Share API no disponvel, usando mtodo alternativo...")}if(f&&navigator.clipboard&&typeof navigator.clipboard.writeText=="function")try{await navigator.clipboard.writeText(c),console.log(" Comprovante copiado para rea de transferncia"),s("copied"),setTimeout(()=>s("idle"),3e3);return}catch{console.log(" Clipboard API no disponvel, usando mtodo compatvel...")}d(c)||(console.error(" No foi possvel copiar o comprovante"),s("idle"),alert("No foi possvel copiar o comprovante. Por favor, tire um screenshot desta tela."))}catch(m){console.error(" Erro inesperado:",m),d(c)||(s("idle"),alert("No foi possvel copiar o comprovante. Por favor, tire um screenshot desta tela."))}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex flex-col items-center mb-6",children:[o.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mb-4 relative",children:o.jsx("div",{className:"w-16 h-16 bg-green-500/30 rounded-full flex items-center justify-center",children:o.jsx(pG,{className:"w-10 h-10 text-green-500"})})}),o.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Transferncia Confirmada!"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Comprovante de transferncia"})]})]}),o.jsxs("div",{className:"flex-1 px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Status"}),o.jsx("div",{className:"bg-green-500/20 px-3 py-1 rounded-full",children:o.jsx("span",{className:"text-xs font-semibold text-green-500",children:e.status})})]}),o.jsx("div",{className:"h-px bg-zinc-800 mb-3"}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-4xl font-bold mb-1",children:[e.symbol," ",e.amount]}),o.jsx("div",{className:"text-sm text-gray-400",children:e.currency})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"ID da transao"}),o.jsx("button",{onClick:()=>a(e.transactionId,"txid"),className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:n==="txid"?o.jsxs(o.Fragment,{children:[o.jsx(wn,{className:"w-3 h-3"})," Copiado"]}):o.jsxs(o.Fragment,{children:[o.jsx(xn,{className:"w-3 h-3"})," Copiar"]})})]}),o.jsx("div",{className:"font-mono text-sm bg-zinc-800 rounded-lg px-3 py-2 break-all",children:e.transactionId})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("h3",{className:"text-xs text-gray-400 font-semibold mb-3",children:"Detalhes da transferncia"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Mtodo"}),o.jsx("span",{className:"font-semibold",children:e.method})]}),o.jsx("div",{className:"h-px bg-zinc-800"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Taxa"}),o.jsxs("span",{className:"font-semibold",children:[e.symbol," ",e.fee.toFixed(2)]})]}),o.jsx("div",{className:"h-px bg-zinc-800"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Processamento"}),o.jsx("span",{className:"font-semibold text-yellow-500",children:e.processingTime})]}),o.jsx("div",{className:"h-px bg-zinc-800"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Data"}),o.jsx("span",{className:"font-semibold",children:e.date})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:"Destinatrio"}),o.jsx("button",{onClick:()=>a(e.recipientInfo,"recipient"),className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:n==="recipient"?o.jsxs(o.Fragment,{children:[o.jsx(wn,{className:"w-3 h-3"})," Copiado"]}):o.jsxs(o.Fragment,{children:[o.jsx(xn,{className:"w-3 h-3"})," Copiar"]})})]}),o.jsx("div",{className:"text-sm text-white break-all",children:e.recipientInfo})]}),o.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 text-sm",children:o.jsxs("p",{className:"text-blue-200/90",children:[o.jsx("span",{className:"font-semibold",children:" Importante:"})," Guarde este comprovante para referncia futura. O processamento pode levar at ",e.processingTime,"."]})})]}),o.jsxs("div",{className:"px-6 pt-4 space-y-3",children:[o.jsx("button",{onClick:l,disabled:i==="sharing",className:`w-full font-semibold py-4 rounded-xl transition-colors flex items-center justify-center gap-2 ${i==="copied"?"bg-green-500 text-white":"bg-zinc-900 text-white hover:bg-zinc-800"} ${i==="sharing"?"opacity-50 cursor-not-allowed":""}`,children:i==="sharing"?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Compartilhando..."]}):i==="copied"?o.jsxs(o.Fragment,{children:[o.jsx(wn,{className:"w-5 h-5"}),"Copiado para rea de transferncia!"]}):o.jsxs(o.Fragment,{children:[o.jsx(d6,{className:"w-5 h-5"}),"Compartilhar comprovante"]})}),o.jsx("button",{onClick:()=>t("home"),className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-gray-200 transition-colors",children:"Voltar para Home"})]})]})}function SPe({onNavigate:t}){const[e,n]=N.useState("BR"),[r,i]=N.useState(null),[s,a]=N.useState(null),[l,c]=N.useState(""),[d,f]=N.useState(!1),[m,p]=N.useState(!1),[y,x]=N.useState(!1),[b,_]=N.useState(null),[S,R]=N.useState(""),{rates:D}=KP(),{portfolio:z}=qs(),{user:I}=Vt(),{getBalance:P}=$g(),{addTransaction:C}=ww(),[E,A]=N.useState([]),[j,V]=N.useState(!0),[B,F]=N.useState(""),[U,X]=N.useState(null),[J,O]=N.useState(null),[K,H]=N.useState({bank:"",bankCode:"",agency:"",account:"",accountType:"Conta Corrente",name:"",document:""}),[k,$]=N.useState({accountNumber:"",routingNumber:"",accountType:"Checking",name:"",address:""}),[G,Z]=N.useState({iban:"",bic:"",name:"",address:""}),[Y,te]=N.useState({accountNumber:"",sortCode:"",name:"",address:""}),ne=[{code:"BR",name:"Brasil",flag:"",currency:"BRL",symbol:"R$"},{code:"US",name:"Estados Unidos",flag:"",currency:"USD",symbol:"$"},{code:"EU",name:"Unio Europeia",flag:"",currency:"EUR",symbol:""},{code:"GB",name:"Reino Unido",flag:"",currency:"GBP",symbol:""}].find(de=>de.code===e),be=z.totalBalanceUSDT,se=de=>de*(D[ne.currency]||1),ve=se(be),fe={BR:[{id:"pix",name:"PIX",icon:as,description:"Transferncia instantnea",processingTime:"Instantneo",minAmount:.01,maxAmount:1/0,fee:0},{id:"bank",name:"Transferncia Bancria",icon:xl,description:"TED ou DOC",processingTime:"1-2 dias teis",minAmount:.01,maxAmount:1/0,fee:0}],US:[{id:"ach",name:"ACH Transfer",icon:xl,description:"Electronic bank transfer",processingTime:"3-5 business days",minAmount:.01,maxAmount:1/0,fee:0},{id:"wire",name:"Wire Transfer",icon:as,description:"Domestic wire",processingTime:"Same day",minAmount:.01,maxAmount:1/0,fee:25}],EU:[{id:"sepa",name:"SEPA Transfer",icon:xl,description:"Single Euro Payments Area",processingTime:"1-2 business days",minAmount:.01,maxAmount:1/0,fee:0},{id:"instant",name:"SEPA Instant",icon:as,description:"Instant SEPA transfer",processingTime:"Instant",minAmount:.01,maxAmount:1/0,fee:2}],GB:[{id:"faster",name:"Faster Payments",icon:as,description:"Instant bank transfer",processingTime:"Instant",minAmount:.01,maxAmount:1/0,fee:0},{id:"bacs",name:"BACS Transfer",icon:xl,description:"Standard bank transfer",processingTime:"3 business days",minAmount:.01,maxAmount:1/0,fee:0}]}[e],Ae=fe.find(de=>de.id===s);N.useEffect(()=>{if(!I?.uid){V(!1);return}const de=it(we,"bankAccounts"),Ke=Dt(de,It("userId","==",I.uid)),ft=ei(Ke,st=>{const at=st.docs.map(kt=>({...kt.data(),id:kt.id,createdAt:kt.data().createdAt?.toDate()||new Date}));if(A(at),V(!1),at.length>0&&!r){const kt=at[0];i(kt);const gr={BR:"BR",US:"US",PT:"EU",ES:"EU",FR:"EU",DE:"EU",IT:"EU",GB:"GB",UK:"GB"}[kt.country]||"BR";n(gr)}},st=>{console.error(" Erro ao carregar contas:",st),V(!1)});return()=>ft()},[I]);const De={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",KRW:"",ZAR:"R",ARS:"$",CLP:"$"},Ze=de=>{switch(de.country){case"BR":return{label:"Pix",icon:""};case"US":return{label:` ${de.accountNumber.slice(-4)}`};case"PT":case"ES":case"FR":case"DE":case"IT":return{label:` ${de.iban?.slice(-4)||de.accountNumber.slice(-4)}`};default:return{label:` ${de.accountNumber.slice(-4)}`}}},ct=de=>{const Ke=De[de]||de,st=P(de).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});return`${Ke} ${st}`},Be=de=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(de),yt=de=>{const Ke=de.replace(/\D/g,"");if(Ke===""){c("");return}let st=parseInt(Ke,10)/100;const at=P(ne.currency);st>at&&(st=at);const kt=st.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});c(kt)},dt=de=>{if(!de)return{isValid:!1,type:null,error:null};const Ke=de.replace(/\s/g,"");return/^\d{11}$/.test(Ke)?{isValid:!0,type:"CPF",error:null}:/^\d{14}$/.test(Ke)?{isValid:!0,type:"CNPJ",error:null}:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(de)?{isValid:!0,type:"E-mail",error:null}:/^(\+55)?(\d{10,11})$/.test(Ke)?{isValid:!0,type:"Telefone",error:null}:/^[a-f0-9]{8}-?[a-f0-9]{4}-?[a-f0-9]{4}-?[a-f0-9]{4}-?[a-f0-9]{12}$/i.test(Ke)?{isValid:!0,type:"Chave Aleatria",error:null}:{isValid:!1,type:null,error:"Tipo de chave PIX no reconhecido. Use CPF, CNPJ, E-mail, Telefone ou Chave Aleatria."}},oe=de=>{let Ke=de.toLowerCase();Ke=Ke.replace(/[\s\-()]/g,""),F(Ke);const ft=dt(Ke);X(ft.type),O(ft.error)},Ee=async()=>{if(!I?.uid){Me.error("Usurio no autenticado");return}const de=parseFloat(l.replace(/\./g,"").replace(",","."));if(console.log(" ============ VALIDAO DE TRANSFERNCIA PIX ============"),console.log(" Valor digitado (formatado):",l),console.log(" Valor convertido (nmero):",de),console.log(" Moeda:",ne.currency),console.log(" Valor mnimo permitido:",Ae?.minAmount),!de||de<(Ae?.minAmount||0)){Me.error(`Valor mnimo: ${ne.symbol} ${Ae?.minAmount}`);return}const Ke=P(ne.currency),ft=se(be);console.log(" ====== DEBUG DE SALDOS ======"),console.log(" Saldo Fiat (Firestore):",Ke),console.log(" Saldo Portfolio (USDT):",be),console.log(" Saldo Portfolio Convertido:",ft),console.log(" Taxa de converso:",D[ne.currency]);const st=Math.max(Ke,ft);if(console.log("  Saldo disponvel TOTAL para transferncia:",st),console.log(" Comparao:",de,">",st,"=",de>st),de>st){console.error(" SALDO INSUFICIENTE!"),console.error(" Tentou transferir:",de),console.error(" Saldo disponvel:",st),console.error(" Diferena:",de-st),Me.error(`Saldo insuficiente. Disponvel: ${ne.symbol} ${Be(st)}`);return}if(console.log(" Validao de saldo OK!"),console.log(" ===================================================="),e==="BR"&&s==="pix"){if(!B){Me.error("Informe a chave PIX");return}const at=dt(B);if(!at.isValid){Me.error(at.error||"Chave PIX invlida");return}}if(e==="BR"&&s==="bank"&&(!K.bank||!K.agency||!K.account||!K.name)){Me.error("Preencha todos os dados bancrios");return}if(e==="US"&&(!k.accountNumber||!k.routingNumber||!k.name)){Me.error("Fill in all bank details");return}if(e==="EU"&&(!G.iban||!G.name)){Me.error("Fill in all bank details");return}if(e==="GB"&&(!Y.accountNumber||!Y.sortCode||!Y.name)){Me.error("Fill in all bank details");return}x(!0);try{if(e==="BR"&&s==="pix"){console.log(" Verificando se chave PIX pertence a um usurio NexCoin...");const Mn=await _Pe(B,I.uid);if(Mn.isValid&&Mn.userId){console.log(" Chave PIX encontrada no sistema NexCoin"),console.log(` Remetente: ${I.uid}`),console.log(` Destinatrio: ${Mn.userId} (${Mn.userName})`);const Ks=CPe(),Wr=await NPe({fromUserId:I.uid,toUserId:Mn.userId,currency:ne.currency,amount:de,pixKey:B,pixKeyType:Mn.pixKeyType||U||"unknown",description:`Transferncia PIX para ${Mn.userName}`,transactionId:Ks,createdAt:new Date});if(!Wr.success)throw new Error(Wr.error||"Erro ao processar transferncia PIX");console.log(" Transferncia PIX entre usurios concluda!"),Me.success(`Transferncia enviada para ${Mn.userName}!`),R(Ks),x(!1),f(!0);return}else{console.warn(" Chave PIX no encontrada no sistema NexCoin"),Me.error(Mn.error||"Chave PIX no encontrada no sistema NexCoin. Apenas transferncias entre usurios NexCoin so suportadas no momento."),x(!1);return}}let at="";e==="BR"&&s==="pix"?at=`Transferncia PIX - ${B}`:e==="BR"&&s==="bank"?at=`Transferncia TED - ${K.name}`:at=`Transferncia via ${Ae?.name}`;const kt=await tu(I.uid,ne.currency,-de,at);if(!kt.success)throw new Error(kt.message||"Erro ao processar transferncia");let Qt="";e==="BR"&&s==="pix"?Qt=`Chave PIX: ${B} (${U})`:e==="BR"&&s==="bank"?Qt=`${K.name} - ${K.bank} Ag: ${K.agency} Conta: ${K.account}`:e==="US"?Qt=`${k.name} - Account: ${k.accountNumber}`:e==="EU"?Qt=`${G.name} - IBAN: ${G.iban}`:e==="GB"&&(Qt=`${Y.name} - Sort Code: ${Y.sortCode} Account: ${Y.accountNumber}`);const gr=`TX${Date.now()}${Math.floor(Math.random()*1e3)}`;R(gr),await C({type:"withdraw_fiat",status:"completed",amount:de,currency:ne.currency,fee:Ae?.fee||0,feeCurrency:ne.currency,description:at,recipientInfo:Qt,transactionHash:gr}),console.log(" Transferncia processada com sucesso"),Me.success("Transferncia realizada com sucesso!"),x(!1),f(!0)}catch(at){console.error(" Erro ao processar transferncia:",at),Me.error(at.message||"Erro ao processar transferncia"),x(!1)}},Xe=()=>s?e==="BR"&&s==="pix"?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg mb-1",children:"Transferir via PIX"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Transferncia instantnea"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:o.jsx(as,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Saldo disponvel"}),o.jsx("div",{className:"text-white",children:o.jsx(_a,{value:Be(P("BRL")),symbol:"R$"})})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Valor a transferir"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-xl font-light text-white",children:ne.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:de=>yt(de.target.value),className:"flex-1 bg-transparent text-xl font-light text-white outline-none placeholder-gray-600"})]}),o.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:["Mn: ",ne.symbol," ",Ae?.minAmount,"  Mx: ",ne.symbol," ",Be(Ae?.maxAmount||0)]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:"Chave PIX do destinatrio"}),o.jsx("input",{type:"text",placeholder:"CPF, E-mail, Telefone ou Chave Aleatria",value:B,onChange:de=>oe(de.target.value),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Informe a chave PIX de quem vai receber a transferncia"}),J&&o.jsx("p",{className:"text-xs text-red-500 mt-1",children:J})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Taxa"}),o.jsxs("span",{className:"text-white",children:[ne.symbol," 0,00"]})]}),o.jsx("div",{className:"h-px bg-zinc-800"}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Tempo"}),o.jsx("span",{className:"text-green-500",children:"Instantneo"})]})]}),o.jsx("button",{onClick:Ee,disabled:y,className:"w-full bg-white text-black py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processando...":"Confirmar Transferncia"})]})]}):e==="BR"&&s==="bank"?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-lg mb-1",children:"Transferncia Bancria"}),o.jsx("p",{className:"text-sm text-gray-400",children:"TED ou DOC"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:o.jsx(xl,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Saldo disponvel"}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:[ne.symbol," ",Be(ve)]})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Valor"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-white",children:ne.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:de=>yt(de.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:"Banco",value:K.bank,onChange:de=>H({...K,bank:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("input",{type:"text",placeholder:"Cdigo",value:K.bankCode,onChange:de=>H({...K,bankCode:de.target.value}),className:"bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Agncia",value:K.agency,onChange:de=>H({...K,agency:de.target.value}),className:"bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),o.jsx("input",{type:"text",placeholder:"Conta",value:K.account,onChange:de=>H({...K,account:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsxs("select",{value:K.accountType,onChange:de=>H({...K,accountType:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none",children:[o.jsx("option",{value:"Conta Corrente",children:"Conta Corrente"}),o.jsx("option",{value:"Conta Poupana",children:"Conta Poupana"})]}),o.jsx("input",{type:"text",placeholder:"Nome completo",value:K.name,onChange:de=>H({...K,name:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"CPF/CNPJ",value:K.document,onChange:de=>H({...K,document:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),o.jsx("button",{onClick:Ee,disabled:y,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processando...":"Confirmar Transferncia"})]})]}):e==="US"&&(s==="ach"||s==="wire")?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-1",children:s==="ach"?"ACH Transfer":"Wire Transfer"}),o.jsx("p",{className:"text-sm text-gray-400",children:s==="ach"?"Electronic bank transfer":"Domestic wire"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:s==="ach"?o.jsx(xl,{className:"w-6 h-6 text-white"}):o.jsx(as,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Available balance"}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:[ne.symbol," ",Be(ve)]})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Amount"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-white",children:ne.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:de=>yt(de.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:"Routing Number",value:k.routingNumber,onChange:de=>$({...k,routingNumber:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Account Number",value:k.accountNumber,onChange:de=>$({...k,accountNumber:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsxs("select",{value:k.accountType,onChange:de=>$({...k,accountType:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none",children:[o.jsx("option",{value:"Checking",children:"Checking"}),o.jsx("option",{value:"Savings",children:"Savings"})]}),o.jsx("input",{type:"text",placeholder:"Account holder name",value:k.name,onChange:de=>$({...k,name:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Address",value:k.address,onChange:de=>$({...k,address:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Fee"}),o.jsxs("span",{className:"font-semibold text-white",children:[ne.symbol," ",Ae?.fee||0]})]})}),o.jsx("button",{onClick:Ee,disabled:y,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processing...":"Confirm Transfer"})]})]}):e==="EU"&&(s==="sepa"||s==="instant")?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-1",children:s==="sepa"?"SEPA Transfer":"SEPA Instant"}),o.jsx("p",{className:"text-sm text-gray-400",children:s==="sepa"?"Single Euro Payments Area":"Instant transfer"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:s==="sepa"?o.jsx(xl,{className:"w-6 h-6 text-white"}):o.jsx(as,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Available balance"}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:[ne.symbol," ",Be(ve)]})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Amount"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-white",children:ne.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:de=>yt(de.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:"IBAN",value:G.iban,onChange:de=>Z({...G,iban:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500 font-mono text-sm"}),o.jsx("input",{type:"text",placeholder:"BIC/SWIFT (optional)",value:G.bic,onChange:de=>Z({...G,bic:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Beneficiary name",value:G.name,onChange:de=>Z({...G,name:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Address",value:G.address,onChange:de=>Z({...G,address:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),o.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Fee"}),o.jsxs("span",{className:"font-semibold text-white",children:[ne.symbol," ",Ae?.fee||0]})]})}),o.jsx("button",{onClick:Ee,disabled:y,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processing...":"Confirm Transfer"})]})]}):e==="GB"&&(s==="faster"||s==="bacs")?o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>a(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-6",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-1",children:s==="faster"?"Faster Payments":"BACS Transfer"}),o.jsx("p",{className:"text-sm text-gray-400",children:s==="faster"?"Instant bank transfer":"Standard bank transfer"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:s==="faster"?o.jsx(as,{className:"w-6 h-6 text-white"}):o.jsx(xl,{className:"w-6 h-6 text-white"})})]})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Available balance"}),o.jsxs("div",{className:"text-2xl font-bold text-white",children:[ne.symbol," ",Be(ve)]})]})}),o.jsxs("div",{className:"px-6 space-y-4",children:[o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Amount"}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("span",{className:"text-2xl font-bold text-white",children:ne.symbol}),o.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:de=>yt(de.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[o.jsx("input",{type:"text",placeholder:"Sort Code (12-34-56)",value:Y.sortCode,onChange:de=>te({...Y,sortCode:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Account Number",value:Y.accountNumber,onChange:de=>te({...Y,accountNumber:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Account holder name",value:Y.name,onChange:de=>te({...Y,name:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),o.jsx("input",{type:"text",placeholder:"Address",value:Y.address,onChange:de=>te({...Y,address:de.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})]}),o.jsx("button",{onClick:Ee,disabled:y,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:y?"Processing...":"Confirm Transfer"})]})]}):null:null;if(d){let de="";e==="BR"&&s==="pix"?de=`Chave PIX: ${B} (${U})`:e==="BR"&&s==="bank"?de=`${K.name} - ${K.bank} Ag: ${K.agency} Conta: ${K.account}`:e==="US"?de=`${k.name} - Account: ${k.accountNumber}`:e==="EU"?de=`${G.name} - IBAN: ${G.iban}`:e==="GB"&&(de=`${Y.name} - Sort Code: ${Y.sortCode} Account: ${Y.accountNumber}`);const Ke={transactionId:S,amount:l,currency:ne.currency,symbol:ne.symbol,method:Ae?.name||"",processingTime:Ae?.processingTime||"",fee:Ae?.fee||0,recipientInfo:de,date:new Date().toLocaleDateString("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),status:"Processando"};return o.jsx(EPe,{onNavigate:t,transactionData:Ke})}return s?Xe():o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-lg mb-2",children:"Enviar Dinheiro"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Escolha seu pas e mtodo de transferncia"})]}),o.jsxs("div",{className:"px-6 mb-6",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-3 font-semibold",children:"Selecione a Conta"}),j?o.jsx("div",{className:"bg-zinc-900/50 rounded-2xl h-32 animate-pulse"}):E.length===0?o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 text-center",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Nenhuma conta encontrada"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Adicione uma conta na pgina Home"})]}):o.jsx("div",{className:"space-y-3",children:E.map(de=>{const Ke=Ze(de),ft=r?.id===de.id;return o.jsxs("button",{onClick:()=>{i(de);const at={BR:"BR",US:"US",PT:"EU",ES:"EU",FR:"EU",DE:"EU",IT:"EU",GB:"GB",UK:"GB"}[de.country]||"BR";n(at)},className:`w-full bg-gradient-to-br from-zinc-800/90 via-zinc-900/95 to-black backdrop-blur-xl rounded-2xl p-4 border transition-all active:scale-[0.98] text-left relative overflow-hidden group ${ft?"ring-2 ring-white border-white/30":"border-zinc-700/60 hover:border-zinc-600"}`,children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] via-transparent to-transparent pointer-events-none"}),o.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[o.jsx("div",{className:"flex items-center gap-3 flex-1",children:o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-lg font-semibold text-white mb-1",children:de.currency}),o.jsxs("div",{className:"flex items-center gap-2",children:[Ke.icon&&o.jsx("span",{className:"text-cyan-400 text-xs",children:Ke.icon}),o.jsx("span",{className:"text-xs text-gray-400",children:Ke.label})]})]})}),o.jsxs("div",{className:"text-right ml-3",children:[o.jsx("div",{className:"text-base font-semibold text-white tabular-nums",children:ct(de.currency)}),(de.iban||de.accountNumber)&&o.jsxs("div",{className:"text-xs text-gray-500 mt-1 font-mono",children:[" ",(de.iban||de.accountNumber).slice(-4)]})]})]})]},de.id)})})]}),o.jsx("div",{className:"px-6 mb-6",children:o.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[o.jsx("div",{className:"text-xs text-gray-400 mb-1",children:"Saldo disponvel para transferncia"}),o.jsx("div",{className:"text-white",children:r?o.jsx(_a,{value:Be(P(r.currency)),symbol:De[r.currency]}):o.jsx(_a,{value:Be(P(ne.currency)),symbol:ne.symbol})}),o.jsx("div",{className:"text-xs text-gray-400 mt-1",children:r?`Conta ${r.currency}`:` ${Be(be)} USDT`})]})}),o.jsxs("div",{className:"flex-1 px-6",children:[o.jsx("label",{className:"block text-xs text-gray-400 mb-3 font-semibold",children:"Mtodos de transferncia"}),o.jsx("div",{className:"space-y-3",children:fe.map(de=>{const Ke=de.icon;return o.jsxs("button",{onClick:()=>a(de.id),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 flex items-center gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center flex-shrink-0",children:o.jsx(Ke,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("div",{className:"font-semibold text-lg mb-1",children:de.name}),o.jsx("div",{className:"text-sm text-gray-400",children:de.description}),o.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[de.processingTime,"  Sem limite de transferncia"]})]}),o.jsx("div",{className:"text-gray-400",children:o.jsx(Nt,{className:"w-5 h-5 rotate-180"})})]},de.id)})})]}),o.jsx("div",{className:"px-6 pt-4",children:o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 text-sm text-yellow-200/90",children:[o.jsx("p",{className:"font-semibold mb-1",children:" Importante"}),o.jsx("p",{className:"text-xs text-yellow-200/70",children:"Certifique-se de inserir os dados bancrios corretos. Transferncias para dados incorretos no podero ser revertidas."})]})})]})}var ef={},MC,CV;function TPe(){return CV||(CV=1,MC=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),MC}var LC={},El={},EV;function sd(){if(EV)return El;EV=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return El.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},El.getSymbolTotalCodewords=function(r){return e[r]},El.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},El.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},El.isKanjiModeEnabled=function(){return typeof t<"u"},El.toSJIS=function(r){return t(r)},El}var VC={},SV;function aj(){return SV||(SV=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(VC)),VC}var FC,TV;function PPe(){if(TV)return FC;TV=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},FC=t,FC}var BC,PV;function APe(){if(PV)return BC;PV=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},BC=t,BC}var zC={},AV;function IPe(){return AV||(AV=1,(function(t){const e=sd().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),a=s===145?26:Math.ceil((s-13)/(2*i-2))*2,l=[s-7];for(let c=1;c<i-1;c++)l[c]=l[c-1]-a;return l.push(6),l.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),a=s.length;for(let l=0;l<a;l++)for(let c=0;c<a;c++)l===0&&c===0||l===0&&c===a-1||l===a-1&&c===0||i.push([s[l],s[c]]);return i}})(zC)),zC}var UC={},IV;function jPe(){if(IV)return UC;IV=1;const t=sd().getSymbolSize,e=7;return UC.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},UC}var $C={},jV;function kPe(){return jV||(jV=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let a=0,l=0,c=0,d=null,f=null;for(let m=0;m<s;m++){l=c=0,d=f=null;for(let p=0;p<s;p++){let y=i.get(m,p);y===d?l++:(l>=5&&(a+=e.N1+(l-5)),d=y,l=1),y=i.get(p,m),y===f?c++:(c>=5&&(a+=e.N1+(c-5)),f=y,c=1)}l>=5&&(a+=e.N1+(l-5)),c>=5&&(a+=e.N1+(c-5))}return a},t.getPenaltyN2=function(i){const s=i.size;let a=0;for(let l=0;l<s-1;l++)for(let c=0;c<s-1;c++){const d=i.get(l,c)+i.get(l,c+1)+i.get(l+1,c)+i.get(l+1,c+1);(d===4||d===0)&&a++}return a*e.N2},t.getPenaltyN3=function(i){const s=i.size;let a=0,l=0,c=0;for(let d=0;d<s;d++){l=c=0;for(let f=0;f<s;f++)l=l<<1&2047|i.get(d,f),f>=10&&(l===1488||l===93)&&a++,c=c<<1&2047|i.get(f,d),f>=10&&(c===1488||c===93)&&a++}return a*e.N3},t.getPenaltyN4=function(i){let s=0;const a=i.data.length;for(let c=0;c<a;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/a/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const a=s.size;for(let l=0;l<a;l++)for(let c=0;c<a;c++)s.isReserved(c,l)||s.xor(c,l,n(i,c,l))},t.getBestMask=function(i,s){const a=Object.keys(t.Patterns).length;let l=0,c=1/0;for(let d=0;d<a;d++){s(d),t.applyMask(d,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(d,i),f<c&&(c=f,l=d)}return l}})($C)),$C}var Bv={},kV;function TW(){if(kV)return Bv;kV=1;const t=aj(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Bv.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},Bv.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},Bv}var qC={},$m={},RV;function RPe(){if(RV)return $m;RV=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),$m.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},$m.exp=function(r){return t[r]},$m.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},$m}var DV;function DPe(){return DV||(DV=1,(function(t){const e=RPe();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let a=0;a<r.length;a++)for(let l=0;l<i.length;l++)s[a+l]^=e.mul(r[a],i[l]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const a=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],a);let l=0;for(;l<s.length&&s[l]===0;)l++;s=s.slice(l)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(qC)),qC}var HC,OV;function OPe(){if(OV)return HC;OV=1;const t=DPe();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),a=this.degree-s.length;if(a>0){const l=new Uint8Array(this.degree);return l.set(s,a),l}return s},HC=e,HC}var WC={},KC={},GC={},MV;function PW(){return MV||(MV=1,GC.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),GC}var ya={},LV;function AW(){if(LV)return ya;LV=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;ya.KANJI=new RegExp(n,"g"),ya.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ya.BYTE=new RegExp(r,"g"),ya.NUMERIC=new RegExp(t,"g"),ya.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ya.testKanji=function(c){return i.test(c)},ya.testNumeric=function(c){return s.test(c)},ya.testAlphanumeric=function(c){return a.test(c)},ya}var VV;function ad(){return VV||(VV=1,(function(t){const e=PW(),n=AW();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,a){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?s.ccBits[0]:a<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,a){if(t.isValid(s))return s;try{return r(s)}catch{return a}}})(KC)),KC}var FV;function MPe(){return FV||(FV=1,(function(t){const e=sd(),n=TW(),r=aj(),i=ad(),s=PW(),a=7973,l=e.getBCHDigit(a);function c(p,y,x){for(let b=1;b<=40;b++)if(y<=t.getCapacity(b,x,p))return b}function d(p,y){return i.getCharCountIndicator(p,y)+4}function f(p,y){let x=0;return p.forEach(function(b){const _=d(b.mode,y);x+=_+b.getBitsLength()}),x}function m(p,y){for(let x=1;x<=40;x++)if(f(p,x)<=t.getCapacity(x,y,i.MIXED))return x}t.from=function(y,x){return s.isValid(y)?parseInt(y,10):x},t.getCapacity=function(y,x,b){if(!s.isValid(y))throw new Error("Invalid QR Code version");typeof b>"u"&&(b=i.BYTE);const _=e.getSymbolTotalCodewords(y),S=n.getTotalCodewordsCount(y,x),R=(_-S)*8;if(b===i.MIXED)return R;const D=R-d(b,y);switch(b){case i.NUMERIC:return Math.floor(D/10*3);case i.ALPHANUMERIC:return Math.floor(D/11*2);case i.KANJI:return Math.floor(D/13);case i.BYTE:default:return Math.floor(D/8)}},t.getBestVersionForData=function(y,x){let b;const _=r.from(x,r.M);if(Array.isArray(y)){if(y.length>1)return m(y,_);if(y.length===0)return 1;b=y[0]}else b=y;return c(b.mode,b.getLength(),_)},t.getEncodedBits=function(y){if(!s.isValid(y)||y<7)throw new Error("Invalid QR Code version");let x=y<<12;for(;e.getBCHDigit(x)-l>=0;)x^=a<<e.getBCHDigit(x)-l;return y<<12|x}})(WC)),WC}var XC={},BV;function LPe(){if(BV)return XC;BV=1;const t=sd(),e=1335,n=21522,r=t.getBCHDigit(e);return XC.getEncodedBits=function(s,a){const l=s.bit<<3|a;let c=l<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(l<<10|c)^n},XC}var YC={},QC,zV;function VPe(){if(zV)return QC;zV=1;const t=ad();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,a;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),a=parseInt(s,10),r.put(a,10);const l=this.data.length-i;l>0&&(s=this.data.substr(i),a=parseInt(s,10),r.put(a,l*3+1))},QC=e,QC}var JC,UV;function FPe(){if(UV)return JC;UV=1;const t=ad(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let a=e.indexOf(this.data[s])*45;a+=e.indexOf(this.data[s+1]),i.put(a,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},JC=n,JC}var ZC,$V;function BPe(){if($V)return ZC;$V=1;const t=ad();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},ZC=e,ZC}var eE,qV;function zPe(){if(qV)return eE;qV=1;const t=ad(),e=sd();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},eE=n,eE}var tE={exports:{}},HV;function UPe(){return HV||(HV=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},a={};a[r]=0;var l=e.PriorityQueue.make();l.push(r,0);for(var c,d,f,m,p,y,x,b,_;!l.empty();){c=l.pop(),d=c.value,m=c.cost,p=n[d]||{};for(f in p)p.hasOwnProperty(f)&&(y=p[f],x=m+y,b=a[f],_=typeof a[f]>"u",(_||b>x)&&(a[f]=x,l.push(f,x),s[f]=d))}if(typeof i<"u"&&typeof a[i]>"u"){var S=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(S)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(tE)),tE.exports}var WV;function $Pe(){return WV||(WV=1,(function(t){const e=ad(),n=VPe(),r=FPe(),i=BPe(),s=zPe(),a=AW(),l=sd(),c=UPe();function d(S){return unescape(encodeURIComponent(S)).length}function f(S,R,D){const z=[];let I;for(;(I=S.exec(D))!==null;)z.push({data:I[0],index:I.index,mode:R,length:I[0].length});return z}function m(S){const R=f(a.NUMERIC,e.NUMERIC,S),D=f(a.ALPHANUMERIC,e.ALPHANUMERIC,S);let z,I;return l.isKanjiModeEnabled()?(z=f(a.BYTE,e.BYTE,S),I=f(a.KANJI,e.KANJI,S)):(z=f(a.BYTE_KANJI,e.BYTE,S),I=[]),R.concat(D,z,I).sort(function(C,E){return C.index-E.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function p(S,R){switch(R){case e.NUMERIC:return n.getBitsLength(S);case e.ALPHANUMERIC:return r.getBitsLength(S);case e.KANJI:return s.getBitsLength(S);case e.BYTE:return i.getBitsLength(S)}}function y(S){return S.reduce(function(R,D){const z=R.length-1>=0?R[R.length-1]:null;return z&&z.mode===D.mode?(R[R.length-1].data+=D.data,R):(R.push(D),R)},[])}function x(S){const R=[];for(let D=0;D<S.length;D++){const z=S[D];switch(z.mode){case e.NUMERIC:R.push([z,{data:z.data,mode:e.ALPHANUMERIC,length:z.length},{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.ALPHANUMERIC:R.push([z,{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.KANJI:R.push([z,{data:z.data,mode:e.BYTE,length:d(z.data)}]);break;case e.BYTE:R.push([{data:z.data,mode:e.BYTE,length:d(z.data)}])}}return R}function b(S,R){const D={},z={start:{}};let I=["start"];for(let P=0;P<S.length;P++){const C=S[P],E=[];for(let A=0;A<C.length;A++){const j=C[A],V=""+P+A;E.push(V),D[V]={node:j,lastCount:0},z[V]={};for(let B=0;B<I.length;B++){const F=I[B];D[F]&&D[F].node.mode===j.mode?(z[F][V]=p(D[F].lastCount+j.length,j.mode)-p(D[F].lastCount,j.mode),D[F].lastCount+=j.length):(D[F]&&(D[F].lastCount=j.length),z[F][V]=p(j.length,j.mode)+4+e.getCharCountIndicator(j.mode,R))}}I=E}for(let P=0;P<I.length;P++)z[I[P]].end=0;return{map:z,table:D}}function _(S,R){let D;const z=e.getBestModeForData(S);if(D=e.from(R,z),D!==e.BYTE&&D.bit<z.bit)throw new Error('"'+S+'" cannot be encoded with mode '+e.toString(D)+`.
 Suggested mode is: `+e.toString(z));switch(D===e.KANJI&&!l.isKanjiModeEnabled()&&(D=e.BYTE),D){case e.NUMERIC:return new n(S);case e.ALPHANUMERIC:return new r(S);case e.KANJI:return new s(S);case e.BYTE:return new i(S)}}t.fromArray=function(R){return R.reduce(function(D,z){return typeof z=="string"?D.push(_(z,null)):z.data&&D.push(_(z.data,z.mode)),D},[])},t.fromString=function(R,D){const z=m(R,l.isKanjiModeEnabled()),I=x(z),P=b(I,D),C=c.find_path(P.map,"start","end"),E=[];for(let A=1;A<C.length-1;A++)E.push(P.table[C[A]].node);return t.fromArray(y(E))},t.rawSplit=function(R){return t.fromArray(m(R,l.isKanjiModeEnabled()))}})(YC)),YC}var KV;function qPe(){if(KV)return LC;KV=1;const t=sd(),e=aj(),n=PPe(),r=APe(),i=IPe(),s=jPe(),a=kPe(),l=TW(),c=OPe(),d=MPe(),f=LPe(),m=ad(),p=$Pe();function y(P,C){const E=P.size,A=s.getPositions(C);for(let j=0;j<A.length;j++){const V=A[j][0],B=A[j][1];for(let F=-1;F<=7;F++)if(!(V+F<=-1||E<=V+F))for(let U=-1;U<=7;U++)B+U<=-1||E<=B+U||(F>=0&&F<=6&&(U===0||U===6)||U>=0&&U<=6&&(F===0||F===6)||F>=2&&F<=4&&U>=2&&U<=4?P.set(V+F,B+U,!0,!0):P.set(V+F,B+U,!1,!0))}}function x(P){const C=P.size;for(let E=8;E<C-8;E++){const A=E%2===0;P.set(E,6,A,!0),P.set(6,E,A,!0)}}function b(P,C){const E=i.getPositions(C);for(let A=0;A<E.length;A++){const j=E[A][0],V=E[A][1];for(let B=-2;B<=2;B++)for(let F=-2;F<=2;F++)B===-2||B===2||F===-2||F===2||B===0&&F===0?P.set(j+B,V+F,!0,!0):P.set(j+B,V+F,!1,!0)}}function _(P,C){const E=P.size,A=d.getEncodedBits(C);let j,V,B;for(let F=0;F<18;F++)j=Math.floor(F/3),V=F%3+E-8-3,B=(A>>F&1)===1,P.set(j,V,B,!0),P.set(V,j,B,!0)}function S(P,C,E){const A=P.size,j=f.getEncodedBits(C,E);let V,B;for(V=0;V<15;V++)B=(j>>V&1)===1,V<6?P.set(V,8,B,!0):V<8?P.set(V+1,8,B,!0):P.set(A-15+V,8,B,!0),V<8?P.set(8,A-V-1,B,!0):V<9?P.set(8,15-V-1+1,B,!0):P.set(8,15-V-1,B,!0);P.set(A-8,8,1,!0)}function R(P,C){const E=P.size;let A=-1,j=E-1,V=7,B=0;for(let F=E-1;F>0;F-=2)for(F===6&&F--;;){for(let U=0;U<2;U++)if(!P.isReserved(j,F-U)){let X=!1;B<C.length&&(X=(C[B]>>>V&1)===1),P.set(j,F-U,X),V--,V===-1&&(B++,V=7)}if(j+=A,j<0||E<=j){j-=A,A=-A;break}}}function D(P,C,E){const A=new n;E.forEach(function(U){A.put(U.mode.bit,4),A.put(U.getLength(),m.getCharCountIndicator(U.mode,P)),U.write(A)});const j=t.getSymbolTotalCodewords(P),V=l.getTotalCodewordsCount(P,C),B=(j-V)*8;for(A.getLengthInBits()+4<=B&&A.put(0,4);A.getLengthInBits()%8!==0;)A.putBit(0);const F=(B-A.getLengthInBits())/8;for(let U=0;U<F;U++)A.put(U%2?17:236,8);return z(A,P,C)}function z(P,C,E){const A=t.getSymbolTotalCodewords(C),j=l.getTotalCodewordsCount(C,E),V=A-j,B=l.getBlocksCount(C,E),F=A%B,U=B-F,X=Math.floor(A/B),J=Math.floor(V/B),O=J+1,K=X-J,H=new c(K);let k=0;const $=new Array(B),G=new Array(B);let Z=0;const Y=new Uint8Array(P.buffer);for(let se=0;se<B;se++){const ve=se<U?J:O;$[se]=Y.slice(k,k+ve),G[se]=H.encode($[se]),k+=ve,Z=Math.max(Z,ve)}const te=new Uint8Array(A);let ie=0,ne,be;for(ne=0;ne<Z;ne++)for(be=0;be<B;be++)ne<$[be].length&&(te[ie++]=$[be][ne]);for(ne=0;ne<K;ne++)for(be=0;be<B;be++)te[ie++]=G[be][ne];return te}function I(P,C,E,A){let j;if(Array.isArray(P))j=p.fromArray(P);else if(typeof P=="string"){let X=C;if(!X){const J=p.rawSplit(P);X=d.getBestVersionForData(J,E)}j=p.fromString(P,X||40)}else throw new Error("Invalid data");const V=d.getBestVersionForData(j,E);if(!V)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=V;else if(C<V)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+V+`.
`);const B=D(C,E,j),F=t.getSymbolSize(C),U=new r(F);return y(U,C),x(U),b(U,C),S(U,E,0),C>=7&&_(U,C),R(U,B),isNaN(A)&&(A=a.getBestMask(U,S.bind(null,U,E))),a.applyMask(A,U),S(U,E,A),{modules:U,version:C,errorCorrectionLevel:E,maskPattern:A,segments:j}}return LC.create=function(C,E){if(typeof C>"u"||C==="")throw new Error("No input text");let A=e.M,j,V;return typeof E<"u"&&(A=e.from(E.errorCorrectionLevel,e.M),j=d.from(E.version),V=a.from(E.maskPattern),E.toSJISFunc&&t.setToSJISFunction(E.toSJISFunc)),I(C,j,A,V)},LC}var nE={},rE={},GV;function IW(){return GV||(GV=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:s,scale:s?4:a,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const a=i.modules.size,l=i.modules.data,c=t.getScale(a,s),d=Math.floor((a+s.margin*2)*c),f=s.margin*c,m=[s.color.light,s.color.dark];for(let p=0;p<d;p++)for(let y=0;y<d;y++){let x=(p*d+y)*4,b=s.color.light;if(p>=f&&y>=f&&p<d-f&&y<d-f){const _=Math.floor((p-f)/c),S=Math.floor((y-f)/c);b=m[l[_*a+S]?1:0]}r[x++]=b.r,r[x++]=b.g,r[x++]=b.b,r[x]=b.a}}})(rE)),rE}var XV;function HPe(){return XV||(XV=1,(function(t){const e=IW();function n(i,s,a){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=a,s.width=a,s.style.height=a+"px",s.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,a,l){let c=l,d=a;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),a||(d=r()),c=e.getOptions(c);const f=e.getImageWidth(s.modules.size,c),m=d.getContext("2d"),p=m.createImageData(f,f);return e.qrToImageData(p.data,s,c),n(m,d,f),m.putImageData(p,0,0),d},t.renderToDataURL=function(s,a,l){let c=l;typeof c>"u"&&(!a||!a.getContext)&&(c=a,a=void 0),c||(c={});const d=t.render(s,a,c),f=c.type||"image/png",m=c.rendererOpts||{};return d.toDataURL(f,m.quality)}})(nE)),nE}var iE={},YV;function WPe(){if(YV)return iE;YV=1;const t=IW();function e(i,s){const a=i.a/255,l=s+'="'+i.hex+'"';return a<1?l+" "+s+'-opacity="'+a.toFixed(2).slice(1)+'"':l}function n(i,s,a){let l=i+s;return typeof a<"u"&&(l+=" "+a),l}function r(i,s,a){let l="",c=0,d=!1,f=0;for(let m=0;m<i.length;m++){const p=Math.floor(m%s),y=Math.floor(m/s);!p&&!d&&(d=!0),i[m]?(f++,m>0&&p>0&&i[m-1]||(l+=d?n("M",p+a,.5+y+a):n("m",c,0),c=0,d=!1),p+1<s&&i[m+1]||(l+=n("h",f),f=0)):c++}return l}return iE.render=function(s,a,l){const c=t.getOptions(a),d=s.modules.size,f=s.modules.data,m=d+c.margin*2,p=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",y="<path "+e(c.color.dark,"stroke")+' d="'+r(f,d,c.margin)+'"/>',x='viewBox="0 0 '+m+" "+m+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+x+' shape-rendering="crispEdges">'+p+y+`</svg>
`;return typeof l=="function"&&l(null,_),_},iE}var QV;function KPe(){if(QV)return ef;QV=1;const t=TPe(),e=qPe(),n=HPe(),r=WPe();function i(s,a,l,c,d){const f=[].slice.call(arguments,1),m=f.length,p=typeof f[m-1]=="function";if(!p&&!t())throw new Error("Callback required as last argument");if(p){if(m<2)throw new Error("Too few arguments provided");m===2?(d=l,l=a,a=c=void 0):m===3&&(a.getContext&&typeof d>"u"?(d=c,c=void 0):(d=c,c=l,l=a,a=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(l=a,a=c=void 0):m===2&&!a.getContext&&(c=l,l=a,a=void 0),new Promise(function(y,x){try{const b=e.create(l,c);y(s(b,a,c))}catch(b){x(b)}})}try{const y=e.create(l,c);d(null,s(y,a,c))}catch(y){d(y)}}return ef.create=e.create,ef.toCanvas=i.bind(null,n.render),ef.toDataURL=i.bind(null,n.renderToDataURL),ef.toString=i.bind(null,function(s,a,l){return r.render(s,l)}),ef}var GPe=KPe();const XPe=_i(GPe),JV=[{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"BNB",name:"Binance Coin",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"},{symbol:"TRX",name:"Tron",id:"tron"}],qm=[{id:"Ethereum",name:"Ethereum (ERC20)",icon:"ETH",shortName:"ETH"},{id:"Tron",name:"Tron (TRC20)",icon:"TRX",shortName:"TRX"},{id:"Polygon",name:"Polygon",icon:"MATIC",shortName:"MATIC"},{id:"Solana",name:"Solana",icon:"SOL",shortName:"SOL"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB",shortName:"BNB"},{id:"Bitcoin",name:"Bitcoin",icon:"BTC",shortName:"BTC"},{id:"Ripple",name:"Ripple",icon:"XRP",shortName:"XRP"}];function YPe({onNavigate:t}){const[e,n]=N.useState(null),[r,i]=N.useState("Tron"),[s,a]=N.useState(""),[l,c]=N.useState(!1),[d,f]=N.useState(!1),[m,p]=N.useState(""),[y,x]=N.useState(""),[b,_]=N.useState(!1),[S,R]=N.useState(!1),D=N.useRef(null),z=N.useRef(null),{getAddressForNetwork:I,regenerateAddress:P,isLoading:C}=SW(),{portfolio:E}=qs(),{prices:A}=Ni();N.useEffect(()=>{const k=$=>{z.current&&!z.current.contains($.target)&&_(!1)};return b&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[b]);const j=k=>E.holdings.find(G=>G.symbol===k)?.amount||0,V=(k,$)=>(A[k]?.usd||0)*$,B=JV.filter(k=>k.symbol.toLowerCase().includes(m.toLowerCase())||k.name.toLowerCase().includes(m.toLowerCase()));N.useEffect(()=>{e&&F()},[r,e]),N.useEffect(()=>{s&&D.current&&XPe.toCanvas(D.current,s,{width:192,margin:2,color:{dark:"#000000",light:"#FFFFFF"}}).catch(k=>{console.error("Erro ao gerar QR Code:",k)})},[s]);const F=async()=>{try{const k=await I(r);a(k),f(!1),console.log(` Endereo carregado para ${r}:`,k)}catch(k){console.error(" Erro ao carregar endereo:",k),Me.error("Erro ao carregar endereo")}},U=async()=>{if(!s){Me.error("Nenhum endereo disponvel");return}if(await _w(s)){f(!0);const $=qm.find(G=>G.id===r);Me.success("Endereo copiado!",{description:`${$?.shortName}  ${s.substring(0,8)}...`}),setTimeout(()=>{f(!1)},3e3)}},X=async()=>{if(r){c(!0);try{console.log(` Regenerando endereo para ${r}...`);const k=await P(r);a(k),f(!1);const $=qm.find(G=>G.id===r);Me.success("Novo endereo gerado!",{description:`${$?.shortName}  ${k.substring(0,8)}...`}),console.log(` Novo endereo gerado para ${r}:`,k)}catch(k){console.error(" Erro ao regenerar endereo:",k),Me.error("Erro ao gerar novo endereo")}finally{c(!1)}}},J=k=>{n(k.symbol),p("")},O=()=>{e?(n(null),a(""),x("")):t("wallet")},K=qm.find(k=>k.id===r),H=JV.find(k=>k.symbol===e);return S?o.jsx("div",{className:"min-h-screen bg-black text-white pb-6",children:o.jsxs("div",{className:"px-6 pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("button",{onClick:()=>R(!1),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Nt,{className:"w-5 h-5 text-white"})}),o.jsx("h1",{className:"text-lg text-white",children:"Ajuda"}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-2xl p-5",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("div",{className:"text-yellow-500 text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-yellow-200 font-semibold mb-2",children:"Ateno"}),o.jsx("p",{className:"text-yellow-200/80 text-sm leading-relaxed",children:"Envie apenas ativos compatveis com a rede selecionada. Enviar ativos de outras redes pode resultar em perda permanente dos seus fundos. Sempre verifique se a rede escolhida  compatvel com a plataforma de origem antes de realizar a transferncia."})]})]})}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5 border border-white/10",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-semibold mb-2",children:"Endereo nico"}),o.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:'Este endereo  exclusivo da sua conta e pode ser usado mltiplas vezes para receber criptomoedas. Use o boto "Novo" para gerar um novo endereo quando necessrio, por exemplo, para organizar diferentes transaes ou aumentar sua privacidade.'})]})]})}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5 border border-white/10",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-semibold mb-2",children:"Segurana"}),o.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:"Cada rede blockchain tem um endereo diferente. Ethereum (ERC20), Tron (TRC20), Polygon, Solana, BNB Smart Chain, Bitcoin e Ripple possuem formatos de endereos incompatveis entre si. Sempre confirme a rede antes de enviar ativos para evitar perdas irreversveis."})]})]})}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5 border border-white/10",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-semibold mb-2",children:"Como funciona"}),o.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:"Compartilhe este endereo ou QR Code com quem vai enviar criptomoedas para voc. Quando a transao for confirmada na blockchain, os depsitos aparecem automaticamente na sua carteira NexCoin. O tempo de confirmao varia de acordo com a rede: pode levar de segundos a alguns minutos."})]})]})}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5 border border-white/10",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"text-2xl",children:""}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-semibold mb-2",children:"Dica importante"}),o.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:"Ao receber sua primeira transao em uma determinada rede, recomendamos fazer um teste com uma pequena quantia primeiro. Depois de confirmar que tudo funcionou corretamente, voc pode realizar transaes maiores com segurana."})]})]})})]})]})}):e?o.jsx("div",{className:"min-h-screen bg-black text-white pb-6",children:o.jsxs("div",{className:"px-6 pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("button",{onClick:O,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Nt,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"text-center",children:[o.jsxs("h1",{className:"text-lg text-white",children:["Receber ",e]}),o.jsx("p",{className:"text-sm text-white/60",children:H?.name})]}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"mb-6",ref:z,children:[o.jsx("label",{className:"block text-white/70 text-sm font-semibold mb-3",children:"Selecione a rede"}),o.jsx("button",{onClick:()=>_(!b),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 p-4 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex items-center gap-3",children:K&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(ht,{symbol:K.icon,size:"sm"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white font-semibold",children:K.name}),o.jsx("div",{className:"text-xs text-gray-400",children:K.shortName})]})]})}),o.jsx("svg",{className:`w-5 h-5 text-white/60 transition-transform ${b?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),b&&o.jsx("div",{className:"mt-2 bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 overflow-hidden shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"max-h-[176px] overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[o.jsx("style",{children:`
                  div::-webkit-scrollbar {
                    display: none;
                  }
                `}),qm.map((k,$)=>o.jsxs("button",{onClick:()=>{i(k.id),_(!1)},className:`w-full p-4 flex items-center justify-between transition-all ${r===k.id?"bg-white/10":"hover:bg-white/5"} ${$!==qm.length-1?"border-b border-white/5":""}`,children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(ht,{symbol:k.icon,size:"sm"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white font-semibold",children:k.name}),o.jsx("div",{className:"text-xs text-gray-400",children:k.shortName})]})]}),r===k.id&&o.jsx("div",{className:"w-2 h-2 rounded-full bg-[#34c759]"})]},k.id))]})})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 mb-6 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsx("div",{className:"bg-white rounded-2xl p-8 mb-6 flex items-center justify-center",children:C?o.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[o.jsx(_G,{className:"w-12 h-12 text-black animate-spin mb-4"}),o.jsx("p",{className:"text-black text-sm font-semibold",children:"Gerando endereo..."})]}):o.jsx("canvas",{ref:D,className:"w-48 h-48"})}),o.jsx("div",{className:"flex items-center justify-center gap-2 mb-4",children:K&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(ht,{symbol:K.icon,size:"sm"})}),o.jsx("span",{className:"text-sm font-semibold text-white/80",children:K.name})]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-white/50 text-xs font-semibold mb-2 text-center",children:"SEU ENDEREO"}),C?o.jsx("div",{className:"flex items-center justify-center py-4",children:o.jsx("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):o.jsx("div",{className:"bg-black/30 rounded-xl p-4 border border-white/10",children:o.jsx("p",{className:"font-mono text-sm break-all text-white text-center leading-relaxed",children:s||"Gerando endereo..."})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsx("button",{className:"bg-white/5 backdrop-blur-md rounded-xl py-4 flex flex-col items-center gap-2 hover:bg-white/10 transition-all border border-white/10 disabled:opacity-50 disabled:cursor-not-allowed",onClick:U,disabled:!s||C,children:d?o.jsxs(o.Fragment,{children:[o.jsx(Xx,{className:"w-5 h-5 text-[#34c759]"}),o.jsx("span",{className:"text-xs text-[#34c759] font-semibold",children:"Copiado!"})]}):o.jsxs(o.Fragment,{children:[o.jsx(xn,{className:"w-5 h-5 text-white"}),o.jsx("span",{className:"text-xs text-white font-semibold",children:"Copiar"})]})}),o.jsxs("button",{className:"bg-white/5 backdrop-blur-md rounded-xl py-4 flex flex-col items-center gap-2 hover:bg-white/10 transition-all border border-white/10 disabled:opacity-50 disabled:cursor-not-allowed",onClick:X,disabled:l||!s||C,children:[o.jsx(bT,{className:`w-5 h-5 text-white ${l?"animate-spin":""}`}),o.jsx("span",{className:"text-xs text-white font-semibold",children:l?"Gerando...":"Novo"})]})]})]}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-3.5 border border-white/10",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx(l6,{className:"w-4 h-4 text-white/60"}),o.jsxs("p",{className:"text-white/70 text-xs text-center",children:["Dvidas sobre transaes? ",o.jsx("span",{onClick:()=>R(!0),className:"text-white font-semibold underline cursor-pointer hover:text-white/90 transition-colors",children:"Ajuda aqui"})]})]})})]})}):o.jsx("div",{className:"min-h-screen bg-black text-white pb-24",children:o.jsxs("div",{className:"px-6 pt-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-8",children:[o.jsx("button",{onClick:O,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Nt,{className:"w-5 h-5 text-white"})}),o.jsx("h1",{className:"text-lg text-white",children:"Receber Cripto"}),o.jsx("div",{className:"w-10"})]}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx(Xl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),o.jsx("input",{type:"text",placeholder:"Buscar criptomoeda...",value:m,onChange:k=>p(k.target.value),className:"w-full bg-white/5 backdrop-blur-md text-white rounded-2xl pl-12 pr-4 py-4 focus:outline-none focus:ring-2 focus:ring-white/20 placeholder-white/40 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]"})]})}),o.jsx("div",{className:"space-y-3",children:B.map(k=>{const $=j(k.symbol),G=V(k.id,$);return o.jsx("button",{onClick:()=>J(k),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 hover:bg-white/10 transition-all border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(ht,{symbol:k.symbol,size:"md"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white font-semibold text-base",children:k.name}),o.jsx("div",{className:"text-sm text-white/50",children:k.symbol})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-white font-semibold",children:$.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8})}),o.jsxs("div",{className:"text-sm text-white/50",children:["$",G.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})},k.symbol)})})]})})}function QPe({onNavigate:t}){const{transactions:e,isLoading:n,formatAmount:r,getCurrencySymbol:i,formatTransactionDescription:s,formatTransactionAmount:a,getTransactionIconType:l}=ww(),[c,d]=N.useState(""),f=N.useMemo(()=>{const y=e.filter(b=>{if(c){const _=c.toLowerCase();if(!s(b).toLowerCase().includes(_))return!1}return!0}),x={};return y.forEach(b=>{const _=b.createdAt,S=new Date,R=new Date(S);R.setDate(R.getDate()-1);let D;_.getDate()===S.getDate()&&_.getMonth()===S.getMonth()&&_.getFullYear()===S.getFullYear()?D="Hoje":_.getDate()===R.getDate()&&_.getMonth()===R.getMonth()&&_.getFullYear()===R.getFullYear()?D="Ontem":D=_.toLocaleDateString("pt-BR",{day:"numeric",month:"long",year:_.getFullYear()!==S.getFullYear()?"numeric":void 0}),x[D]||(x[D]=[]),x[D].push(b)}),x},[e,c,s]),m=y=>y.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),p=y=>{switch(y){case"completed":return"text-green-500";case"pending":case"processing":return"text-yellow-500";case"failed":return"text-red-500";default:return"text-gray-400"}};return o.jsxs("div",{className:"min-h-screen bg-black pb-24",children:[o.jsxs("div",{className:"px-6 pt-4 pb-6",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-12 h-12 rounded-full border border-gray-700 flex items-center justify-center mb-6",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Transaes"}),o.jsx("div",{className:"flex gap-3 mb-6",children:o.jsxs("div",{className:"flex-1 relative",children:[o.jsx(Xl,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),o.jsx("input",{type:"text",placeholder:"Pesquisar",value:c,onChange:y=>d(y.target.value),className:`w-full bg-zinc-900/80 rounded-full pl-10 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-zinc-700 ${c?"pr-10":"pr-4"} py-3`}),c&&o.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-500",onClick:()=>d(""),children:o.jsx(qr,{className:"w-5 h-5"})})]})})]}),n&&o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx(jf,{className:"w-8 h-8 animate-spin text-gray-400"})}),!n&&e.length===0&&o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-900 flex items-center justify-center mx-auto mb-4",children:o.jsx(bp,{className:"w-10 h-10 text-gray-600"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhuma transao"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Suas transaes aparecero aqui"})]}),!n&&e.length>0&&Object.keys(f).length===0&&o.jsxs("div",{className:"px-6 py-12 text-center",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-900 flex items-center justify-center mx-auto mb-4",children:o.jsx(Xl,{className:"w-10 h-10 text-gray-600"})}),o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Nenhum resultado"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Tente ajustar a busca"})]}),!n&&Object.keys(f).length>0&&o.jsx("div",{className:"px-6 space-y-6",children:Object.entries(f).map(([y,x])=>o.jsxs("div",{children:[o.jsx("div",{className:"text-sm font-semibold text-gray-400 mb-3",children:y}),o.jsx("div",{className:"space-y-3",children:x.map(b=>o.jsxs("button",{className:"w-full bg-zinc-900/80 backdrop-blur rounded-2xl p-4 flex items-center justify-between hover:bg-zinc-800/80 transition-colors",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("div",{className:`w-12 h-12 rounded-full bg-white/5 flex items-center justify-center flex-shrink-0 ${l(b)==="entrada"?"text-green-500":l(b)==="saida"?"text-red-500":"text-orange-500"}`,children:[l(b)==="entrada"&&o.jsx(yT,{className:"w-4 h-4"}),l(b)==="saida"&&o.jsx(vT,{className:"w-4 h-4"}),l(b)==="conversao"&&o.jsx(hG,{className:"w-4 h-4"})]}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"font-semibold text-white",children:s(b)}),o.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-1",children:[o.jsx(bp,{className:"w-3.5 h-3.5"}),m(b.createdAt),o.jsx("span",{className:"mx-1",children:""}),o.jsxs("span",{className:p(b.status),children:[b.status==="completed"&&"Concludo",b.status==="pending"&&"Pendente",b.status==="processing"&&"Processando",b.status==="failed"&&"Falhou"]})]})]})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:`font-semibold ${["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(b.type)?"text-green-500":"text-white"}`,children:a(b)}),b.fee>0&&o.jsxs("div",{className:"text-sm text-gray-400",children:["Taxa: ",i(b.feeCurrency)," ",r(b.fee)]})]})]},b.id))})]},y))})]})}function JPe({currentScreen:t,onNavigate:e}){const{t:n}=In(),r=[{id:"home",icon:xG,label:n.bottomNav.home},{id:"wallet",icon:f6,label:n.bottomNav.wallet},{id:"convert",icon:Uv,label:n.bottomNav.convert},{id:"cards",icon:xT,label:"Cartes"},{id:"profile",icon:wT,label:n.bottomNav.profile}];return o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black border-t border-gray-800 z-[9999]",children:o.jsx("div",{className:"flex justify-around items-center py-3 px-4 max-w-md mx-auto relative z-10 pointer-events-auto",style:{transform:"translateZ(0)",willChange:"transform"},children:r.map(i=>{const s=i.icon,a=t===i.id;return o.jsxs("button",{onClick:()=>e(i.id),className:"flex flex-col items-center gap-1 transition-colors",children:[o.jsx(s,{className:`w-6 h-6 ${a?"text-white":"text-gray-500"}`}),o.jsx("span",{className:`text-xs ${a?"text-white":"text-gray-500"}`,children:i.label})]},i.id)})})})}function ZPe({onNavigate:t}){const{t:e}=In(),{phoneNumber:n}=gU(),{signInWithPhoneAndPin:r}=Vt(),[i,s]=N.useState(["","","","","",""]),[a,l]=N.useState(!1),[c,d]=N.useState(!1),[f,m]=N.useState(""),p=N.useRef([]);N.useEffect(()=>{p.current[0]?.focus()},[]);const y=(S,R)=>{if(R&&!/^\d$/.test(R))return;a&&l(!1);const D=[...i];if(D[S]=R,s(D),R&&S<5&&p.current[S+1]?.focus(),S===5&&R){const z=[...D.slice(0,5),R].join("");x(z)}},x=S=>{d(!0),m(""),console.log("[PasswordEntry] Validando PIN:",S),console.log("[PasswordEntry] Telefone:",n),setTimeout(()=>{r(n,S).then(()=>{console.log("[PasswordEntry]  Login bem-sucedido!"),t("home")}).catch(R=>{console.log("[PasswordEntry]  Erro no login:",R.message),l(!0),m(R.message||"Erro ao fazer login"),console.log("[PasswordEntry] Exibindo mensagem de erro:",R.message),setTimeout(()=>{s(["","","","","",""]),p.current[0]?.focus(),l(!1),m("")},1500)}).finally(()=>{d(!1)})},300)},b=(S,R)=>{R.key==="Backspace"&&!i[S]&&S>0&&p.current[S-1]?.focus()},_=S=>{S.preventDefault();const R=S.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);if(R){const D=[...i];R.split("").forEach((P,C)=>{C<6&&(D[C]=P)}),s(D);const z=D.findIndex(P=>!P),I=z===-1?5:z;p.current[I]?.focus()}};return o.jsx("div",{className:"bg-black text-white min-h-screen flex items-start justify-center p-4",children:o.jsxs("div",{className:"w-full max-w-[400px] flex flex-col",children:[o.jsx("header",{className:"pt-3 px-4 pb-1",children:o.jsx("button",{"aria-label":"Voltar",className:"flex items-center justify-center w-7 h-7 -ml-1 rounded-full active:bg-slate-800 transition-colors",onClick:()=>t("login"),children:o.jsx(Nt,{className:"w-4 h-4"})})}),o.jsxs("main",{className:"flex-1 px-4",children:[o.jsx("h1",{className:"text-xl font-bold tracking-tight mb-3",children:e.password}),o.jsxs("div",{className:`flex items-center gap-1 mb-2 ${a?"animate-shake":""}`,children:[o.jsx("div",{className:"flex gap-1",children:[0,1,2].map(S=>o.jsx("div",{className:`w-[36px] h-[44px] rounded-lg flex items-center justify-center transition-all ${a?"bg-red-900/20 shadow-[inset_0_0_0_2px_rgba(239,68,68,0.5)]":"bg-zinc-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]"}`,children:o.jsx("input",{ref:R=>p.current[S]=R,"aria-label":`Dgito ${S+1}`,className:`w-full h-full bg-transparent border-none text-center text-lg font-bold focus:ring-0 focus:outline-none ${a?"text-red-500":"text-white"}`,maxLength:1,type:"password",value:i[S],onChange:R=>y(S,R.target.value),onKeyDown:R=>b(S,R),onPaste:_,inputMode:"numeric",disabled:c})},S))}),o.jsx("div",{className:"text-slate-500 font-bold",children:o.jsx("span",{className:`block w-1 h-0.5 rounded-full ${a?"bg-red-500":"bg-slate-500"}`})}),o.jsx("div",{className:"flex gap-1",children:[3,4,5].map(S=>o.jsx("div",{className:`w-[36px] h-[44px] rounded-lg flex items-center justify-center transition-all ${a?"bg-red-900/20 shadow-[inset_0_0_0_2px_rgba(239,68,68,0.5)]":"bg-zinc-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]"}`,children:o.jsx("input",{ref:R=>p.current[S]=R,"aria-label":`Dgito ${S+1}`,className:`w-full h-full bg-transparent border-none text-center text-lg font-bold focus:ring-0 focus:outline-none ${a?"text-red-500":"text-white"}`,maxLength:1,type:"password",value:i[S],onChange:R=>y(S,R.target.value),onKeyDown:R=>b(S,R),onPaste:_,inputMode:"numeric",disabled:c})},S))})]}),a&&o.jsx("p",{className:"text-red-500 text-[11px] font-medium mb-2 animate-fadeIn",children:f||"Senha incorreta"}),o.jsx("button",{className:"text-blue-500 font-semibold text-[13px] hover:underline transition-all",onClick:()=>{console.log("Forgot password clicked")},children:e.forgotPassword})]})]})})}function eAe({onNavigate:t}){const{portfolio:e,addOrUpdateCrypto:n,removeCrypto:r,isLoading:i}=qs(),{prices:s}=Ni(),[a,l]=N.useState(null),[c,d]=N.useState(""),[f,m]=N.useState(!1),[p,y]=N.useState(null),[x,b]=N.useState(""),_=[{symbol:"BTC",coinId:"bitcoin",name:"Bitcoin"},{symbol:"ETH",coinId:"ethereum",name:"Ethereum"},{symbol:"USDT",coinId:"tether",name:"Tether"},{symbol:"BNB",coinId:"binancecoin",name:"Binance Coin"},{symbol:"SOL",coinId:"solana",name:"Solana"},{symbol:"ADA",coinId:"cardano",name:"Cardano"},{symbol:"XRP",coinId:"ripple",name:"Ripple"},{symbol:"DOT",coinId:"polkadot",name:"Polkadot"},{symbol:"DOGE",coinId:"dogecoin",name:"Dogecoin"},{symbol:"AVAX",coinId:"avalanche-2",name:"Avalanche"},{symbol:"MATIC",coinId:"matic-network",name:"Polygon"},{symbol:"LINK",coinId:"chainlink",name:"Chainlink"},{symbol:"UNI",coinId:"uniswap",name:"Uniswap"},{symbol:"LTC",coinId:"litecoin",name:"Litecoin"},{symbol:"ATOM",coinId:"cosmos",name:"Cosmos"}],S=(I,P)=>{l(I),d(P.toString())},R=async(I,P,C)=>{const E=parseFloat(c);if(isNaN(E)||E<0){alert("Por favor, insira um valor vlido");return}try{await n(I,P,E,C),l(null),d("")}catch(A){console.error("Erro ao atualizar holding:",A),alert("Erro ao atualizar. Tente novamente.")}},D=async I=>{if(confirm(`Tem certeza que deseja remover ${I} do seu portflio?`))try{await r(I)}catch(P){console.error("Erro ao remover holding:",P),alert("Erro ao remover. Tente novamente.")}},z=async()=>{if(!p){alert("Selecione uma criptomoeda");return}const I=parseFloat(x);if(isNaN(I)||I<=0){alert("Por favor, insira um valor vlido");return}try{await n(p.symbol,p.coinId,I,p.name),m(!1),y(null),b("")}catch(P){console.error("Erro ao adicionar holding:",P),alert("Erro ao adicionar. Tente novamente.")}};return o.jsxs("div",{className:"min-h-screen bg-black text-white pb-24",children:[o.jsxs("div",{className:"bg-gradient-to-b from-zinc-900 to-black px-6 pt-12 pb-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsx("h1",{className:"text-xl font-bold",children:"Gerenciar Ativos"}),o.jsx("button",{onClick:()=>m(!0),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center hover:bg-white/10 transition-colors shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Gl,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-4 border border-white/10",children:[o.jsx("p",{className:"text-white/50 text-sm mb-1",children:"Saldo Total"}),o.jsxs("p",{className:"text-2xl font-bold",children:[Xr(e.totalBalanceUSDT)," USDT"]})]})]}),o.jsxs("div",{className:"px-6 pt-6",children:[o.jsx("h2",{className:"text-lg font-bold mb-4",children:"Seus Ativos"}),i?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):e.holdings.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("p",{className:"text-white/50",children:"Nenhum ativo no portflio"}),o.jsx("button",{onClick:()=>m(!0),className:"mt-4 px-6 py-3 bg-blue-600 rounded-xl font-semibold",children:"Adicionar Primeiro Ativo"})]}):o.jsx("div",{className:"space-y-3",children:e.holdings.map(I=>{const P=s[I.coinId]?.usd||0,C=I.amount*P,E=a===I.symbol;return o.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-4 border border-white/10",children:[o.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[o.jsx(ht,{symbol:I.symbol,size:"md"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold",children:I.name||I.symbol}),o.jsx("p",{className:"text-white/50 text-sm",children:I.symbol})]}),o.jsxs("div",{className:"text-right",children:[o.jsxs("p",{className:"font-semibold",children:[cr(I.amount)," ",I.symbol]}),o.jsx("p",{className:"text-white/50 text-sm",children:Xr(C)})]})]}),E?o.jsxs("div",{className:"flex gap-2",children:[o.jsx("input",{type:"number",value:c,onChange:A=>d(A.target.value),placeholder:"Quantidade",className:"flex-1 bg-white/10 rounded-xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-600"}),o.jsx("button",{onClick:()=>R(I.symbol,I.coinId,I.name||I.symbol),className:"w-10 h-10 bg-green-600 rounded-xl flex items-center justify-center",children:o.jsx(u6,{className:"w-5 h-5"})}),o.jsx("button",{onClick:()=>{l(null),d("")},className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center",children:o.jsx(qr,{className:"w-5 h-5"})})]}):o.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[o.jsxs("p",{className:"text-white/50 text-sm",children:["Quantidade: ",o.jsx("span",{className:"text-white font-semibold",children:cr(I.amount)})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>S(I.symbol,I.amount),className:"w-8 h-8 bg-blue-600/20 rounded-lg flex items-center justify-center",children:o.jsx(PG,{className:"w-4 h-4 text-blue-400"})}),o.jsx("button",{onClick:()=>D(I.symbol),className:"w-8 h-8 bg-red-600/20 rounded-lg flex items-center justify-center",children:o.jsx(mo,{className:"w-4 h-4 text-red-400"})})]})]})]},I.symbol)})})]}),o.jsx(Sw,{children:f&&o.jsx(Ye.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-md z-50 flex items-end",children:o.jsxs(Ye.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"w-full bg-zinc-900 rounded-t-3xl p-6 pb-8",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-xl font-bold",children:"Adicionar Ativo"}),o.jsx("button",{onClick:()=>{m(!1),y(null),b("")},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(qr,{className:"w-5 h-5"})})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"text-white/50 text-sm mb-2 block",children:"Criptomoeda"}),o.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:_.map(I=>o.jsxs("button",{onClick:()=>y(I),className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all ${p?.symbol===I.symbol?"bg-white/10 border-2 border-white/30":"bg-white/5 border border-white/10"}`,children:[o.jsx(ht,{symbol:I.symbol,size:"sm"}),o.jsxs("div",{className:"flex-1 text-left",children:[o.jsx("p",{className:"font-semibold",children:I.name}),o.jsx("p",{className:"text-white/50 text-sm",children:I.symbol})]})]},I.symbol))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"text-white/50 text-sm mb-2 block",children:"Quantidade"}),o.jsx("input",{type:"number",value:x,onChange:I=>b(I.target.value),placeholder:"0.00",className:"w-full bg-white/10 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),o.jsx("button",{onClick:z,disabled:!p||!x,className:"w-full bg-white text-black rounded-xl py-4 font-semibold hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_20px_rgba(255,255,255,0.2),0_4px_15px_rgba(0,0,0,0.4)]",children:"Adicionar"})]})]})})})]})}function tAe({onNavigate:t,onSelectAccount:e,onNavigateWithAccount:n}){const{user:r}=Vt(),{getBalance:i}=$g(),[s,a]=N.useState([]),[l,c]=N.useState(!0);N.useEffect(()=>{if(!r?.uid){c(!1);return}console.log(" [SelectFiatAccount] Iniciando listener de contas bancrias para userId:",r.uid);const y=it(we,"bankAccounts"),x=Dt(y,It("userId","==",r.uid)),b=ei(x,_=>{console.log(" [SelectFiatAccount] Contas bancrias recebidas:",_.size);const S=_.docs.map(R=>({...R.data(),id:R.id,createdAt:R.data().createdAt?.toDate()||new Date}));console.log(" [SelectFiatAccount] Total de contas carregadas:",S.length),console.log(" [SelectFiatAccount] Pases das contas:",S.map(R=>`${R.country} (${R.currency})`).join(", ")),a(S),c(!1)},_=>{console.error(" [SelectFiatAccount] Erro no listener de contas bancrias:",_),c(!1)});return()=>{console.log(" [SelectFiatAccount] Desconectando listener de contas bancrias"),b()}},[r]);const d={BRL:{flag:"",name:"Real Brasileiro",color:"#34c759"},USD:{flag:"",name:"Dlar Americano",color:"#007aff"},EUR:{flag:"",name:"Euro",color:"#5856d6"},GBP:{flag:"",name:"Libra Esterlina",color:"#ff9500"},JPY:{flag:"",name:"Iene Japons",color:"#ff2d55"},CAD:{flag:"",name:"Dlar Canadense",color:"#ff3b30"},AUD:{flag:"",name:"Dlar Australiano",color:"#ff9500"},CHF:{flag:"",name:"Franco Suo",color:"#af52de"},CNY:{flag:"",name:"Yuan Chins",color:"#ff3b30"},INR:{flag:"",name:"Rpia Indiana",color:"#ff9500"},MXN:{flag:"",name:"Peso Mexicano",color:"#34c759"},ARS:{flag:"",name:"Peso Argentino",color:"#5ac8fa"}},f={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",ARS:"$"},m=y=>{e&&e(y),n&&n("fiatAccountDetails",y)},p=y=>{const x=f[y]||y,b=i(y);let _;return y==="BRL"?_=b.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):_=b.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),`${x} ${_}`};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-9 h-9 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] mb-4",children:o.jsx(Nt,{className:"w-4 h-4"})}),o.jsx("h1",{className:"text-xl mb-1",children:"Selecionar conta"}),o.jsx("p",{className:"text-white/50 text-xs",children:"Escolha a conta para transacionar"})]}),o.jsxs("div",{className:"flex-1 px-6 pb-24",children:[l?o.jsx("div",{className:"space-y-2.5",children:[1,2,3].map(y=>o.jsx("div",{className:"w-full bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10 animate-pulse",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-11 h-11 rounded-full bg-white/10"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"h-4 bg-white/10 rounded mb-1.5 w-28"}),o.jsx("div",{className:"h-3 bg-white/10 rounded mb-1.5 w-20"}),o.jsx("div",{className:"h-5 bg-white/10 rounded w-24"})]})]})},y))}):o.jsx("div",{className:"space-y-2.5",children:s.length>0?s.map((y,x)=>{const b=d[y.currency]||{name:y.currency};return o.jsx("button",{onClick:()=>m(y),className:"w-full bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10 hover:bg-white/10 transition-all active:scale-[0.98] shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"w-11 h-11 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center overflow-hidden border border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1)] flex-shrink-0",children:o.jsx("img",{src:`https://flagcdn.com/w80/${y.country.toLowerCase()}.png`,alt:y.currency,className:"w-full h-full object-cover"})}),o.jsxs("div",{className:"flex-1 text-left min-w-0",children:[o.jsx("h3",{className:"text-sm font-semibold text-white mb-0.5 truncate",children:b.name}),o.jsx("p",{className:"text-xs text-white/40 mb-1 font-mono",children:y.iban?` ${y.iban.slice(-6)}`:` ${y.accountNumber.slice(-6)}`}),o.jsx("p",{className:"text-base font-bold text-white tabular-nums",children:p(y.currency)})]}),o.jsx(zr,{className:"w-4 h-4 text-white/30 flex-shrink-0"})]})},`${y.currency}-${y.id||x}`)}):o.jsxs("div",{className:"text-center py-10",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center mx-auto mb-3 border border-white/10",children:o.jsx(Gl,{className:"w-8 h-8 text-white/30"})}),o.jsx("h3",{className:"text-base font-bold text-white mb-1",children:"Nenhuma conta encontrada"}),o.jsx("p",{className:"text-xs text-white/50 mb-4",children:"Adicione uma conta fiat para comear"}),o.jsx("button",{onClick:()=>t("accountData"),className:"px-5 py-2.5 bg-white/10 backdrop-blur-md rounded-full text-sm text-white font-semibold border border-white/20 hover:bg-white/20 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:"Adicionar Conta"})]})}),!l&&s.length>0&&o.jsx("button",{onClick:()=>t("accountData"),className:"w-full mt-4 bg-white rounded-xl p-3.5 hover:bg-white/90 transition-all active:scale-[0.98] shadow-[0_4px_20px_rgba(255,255,255,0.15)]",children:o.jsxs("div",{className:"flex items-center justify-center gap-2.5",children:[o.jsx(Gl,{className:"w-5 h-5 text-black"}),o.jsx("span",{className:"text-sm font-semibold text-black",children:"Adicionar Nova Conta"})]})})]})]})}function nAe(){const{user:t}=Vt(),{prices:e,isLoading:n}=Ni(),r=N.useRef(""),i=N.useRef(!1);N.useEffect(()=>{if(!(!t?.uid||n||Object.keys(e).length===0)){if(!i.current){i.current=!0;const a=setTimeout(()=>{s()},2e3);return()=>clearTimeout(a)}s()}},[t?.uid,e,n]);const s=()=>{if(!t?.uid||Object.keys(e).length===0)return;const a=JSON.stringify(Object.entries(e).map(([c,d])=>`${c}:${d.usd}`).sort().join(","));if(a===r.current)return;r.current=a,(async()=>{try{await cie(t.uid,e)}catch(c){console.error(" Erro ao sincronizar valores das wallets:",c)}})()};return null}function oj(){const{user:t}=Vt(),[e,n]=N.useState([]),[r,i]=N.useState(!0);return N.useEffect(()=>{if(!t?.uid){n([]),i(!1);return}console.log(" Iniciando listener de chaves PIX para userId:",t.uid);const l=it(we,"pixKeys"),c=Dt(l,It("userId","==",t.uid)),d=ei(c,f=>{console.log(" Snapshot de chaves PIX recebido - Total:",f.size);const m=[];f.forEach(p=>{const y=p.data();m.push({id:p.id,userId:y.userId,accountId:y.accountId,accountNumber:y.accountNumber,currency:y.currency,country:y.country,keyType:y.keyType,keyValue:y.keyValue,createdAt:y.createdAt?.toDate()||new Date})}),m.sort((p,y)=>y.createdAt.getTime()-p.createdAt.getTime()),n(m),i(!1)},f=>{console.error(" Erro no listener de chaves PIX:",f),i(!1)});return()=>{console.log(" Cancelando listener de chaves PIX"),d()}},[t?.uid]),{pixKeys:e,isLoading:r,addPixKey:async l=>{try{if(!t?.uid)throw new Error("Usurio no autenticado");return(await us(it(we,"pixKeys"),{...l,userId:t.uid,createdAt:new Date})).id}catch(c){throw console.error("Erro ao adicionar chave PIX:",c),c}},deletePixKey:async l=>{try{await sc(et(we,"pixKeys",l))}catch(c){throw console.error("Erro ao remover chave PIX:",c),c}}}}function rAe({account:t,onBack:e}){const{pixKeys:n,isLoading:r}=oj(),{user:i,userData:s}=Vt(),[a,l]=N.useState(!0);N.useEffect(()=>{a&&(async()=>{if(!i?.uid||!s?.email||!s?.phone||!t.id){console.log(" Dados do usurio incompletos para criar chaves PIX"),l(!1);return}if(t.currency!=="BRL"){console.log(" Conta no  BRL, pulando criao de chaves PIX"),l(!1);return}try{console.log(" Verificando chaves PIX para conta:",t.id);const y=it(we,"pixKeys"),x=Dt(y,It("userId","==",i.uid),It("accountId","==",t.id));if(!(await Ot(x)).empty){console.log(" Chaves PIX j existem para esta conta. Nenhuma ao necessria."),l(!1);return}console.log(" Criando chaves PIX automaticamente...");const _=s.email;await us(y,{userId:i.uid,accountId:t.id,accountNumber:t.accountNumber,currency:"BRL",country:"BR",keyType:"email",keyValue:_,createdAt:new Date}),console.log(" Chave PIX (email) criada:",_);const S=xU(s.phone);await us(y,{userId:i.uid,accountId:t.id,accountNumber:t.accountNumber,currency:"BRL",country:"BR",keyType:"phone",keyValue:S,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",S),console.log(" Chaves PIX criadas com sucesso!")}catch(y){console.error(" Erro ao inicializar chaves PIX:",y)}finally{l(!1)}})()},[i?.uid,s?.email,s?.phone,t.id,t.currency,t.accountNumber,a]);const c=n.filter(p=>p.accountId===t.id),d=p=>{switch(p){case"email":return kf;case"phone":return AG;default:return kf}},f=p=>{switch(p){case"email":return"E-mail";case"phone":return"Telefone";default:return p}},m=async(p,y)=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(p);else{const x=document.createElement("textarea");x.value=p,x.style.position="fixed",x.style.left="-999999px",x.style.top="-999999px",document.body.appendChild(x),x.focus(),x.select();const b=document.execCommand("copy");if(document.body.removeChild(x),!b)throw new Error("Falha ao copiar")}Me.success("Chave copiada!")}catch(x){console.error("Erro ao copiar chave:",x),Me.error("Erro ao copiar chave")}};return o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black flex flex-col z-50",children:[o.jsx("div",{className:"flex items-center px-6 pt-6 pb-4",children:o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-zinc-800/50 backdrop-blur-md flex items-center justify-center hover:bg-zinc-700/50 transition-colors",children:o.jsx(Gx,{className:"w-5 h-5 text-white"})})}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Suas chaves Pix"}),o.jsx("p",{className:"text-gray-400 text-base",children:"Suas chaves cadastradas"})]}),o.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 mb-6",children:c.length>0?o.jsx("p",{className:"text-gray-300 text-sm text-center",children:" Suas chaves PIX (email e telefone) foram criadas automaticamente"}):o.jsx("p",{className:"text-gray-300 text-sm text-center",children:"Nenhuma chave PIX encontrada"})}),o.jsx("div",{className:"space-y-3",children:r?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-400",children:"Carregando chaves..."})}):c.length===0?o.jsx("div",{className:"text-center py-8",children:o.jsx("p",{className:"text-gray-400",children:"Nenhuma chave cadastrada"})}):c.map(p=>{const y=d(p.keyType);return o.jsx("div",{className:"bg-zinc-900/80 backdrop-blur-xl rounded-3xl p-5 border border-zinc-800/50",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800/50 flex items-center justify-center flex-shrink-0",children:o.jsx(y,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-white font-semibold mb-1",children:f(p.keyType)}),o.jsx("p",{className:"text-gray-400 text-sm font-mono truncate",children:p.keyValue})]}),o.jsx("button",{onClick:()=>m(p.keyValue,p.id),className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center flex-shrink-0 transition-colors",children:o.jsx(xn,{className:"w-4 h-4 text-white"})})]})},p.id)})})]})]})}function iAe({onNavigate:t}){const{user:e}=Vt();oj();const[n,r]=N.useState("tarifas"),[i,s]=N.useState(!1),[a,l]=N.useState(null),[c,d]=N.useState(!0);N.useEffect(()=>{(async()=>{if(!e?.uid){d(!1);return}try{const x=it(we,"bankAccounts"),b=Dt(x,It("userId","==",e.uid),It("currency","==","BRL")),_=await Ot(b);if(_.empty)console.log(" Conta BRL no encontrada, usando dados padro");else{const S=_.docs[0].data();l(S)}}catch(x){console.error(" Erro ao carregar conta BRL:",x)}finally{d(!1)}})()},[e]);const f=(y,x)=>{_w(y),Me.success("Copiado!",{description:`${x} copiado para a rea de transferncia`,duration:2e3})},m=async()=>{const y=`
Receba BRL
Do Brasil com Pix

Nmero da conta: ${a?.accountNumber||"N/A"}
Agncia: ${a?.branchCode||"0001"}
    `.trim();if(navigator.share)try{await navigator.share({title:"Dados da Conta",text:y})}catch{console.log("Compartilhamento cancelado")}else f(y,"Informaes")},p=()=>{};return c?o.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center",children:o.jsx("div",{className:"text-white",children:"Carregando..."})}):o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black flex flex-col z-50",children:[o.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("home"),className:"w-10 h-10 rounded-full bg-zinc-800/50 backdrop-blur-md flex items-center justify-center hover:bg-zinc-700/50 transition-colors",children:o.jsx(Nt,{className:"w-5 h-5 text-white"})}),o.jsxs("div",{className:"flex-1 text-center",children:[o.jsx("div",{className:"text-white font-semibold",children:"BRL"}),o.jsx("div",{className:"text-xs text-gray-400",children:"Minhas Chaves Pix"})]}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-24",children:[o.jsxs("div",{className:"mb-6 mt-4",children:[o.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Receba BRL"}),o.jsx("p",{className:"text-gray-400 text-sm",children:"Do Brasil com Pix"})]}),o.jsx("button",{onClick:m,className:"w-full mb-6 px-6 py-3 rounded-2xl bg-white/10 hover:bg-white/15 backdrop-blur-md border border-white/20 text-white font-semibold transition-all shadow-lg",children:"Compartilhar"}),o.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur-xl rounded-3xl p-5 mb-6 border border-zinc-800/50",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Nmero da conta"}),o.jsx("p",{className:"text-white font-mono text-xl font-semibold",children:a?.accountNumber||"N/A"})]}),o.jsx("button",{onClick:()=>f(a?.accountNumber||"","Nmero da conta"),className:"ml-3 w-10 h-10 rounded-full bg-zinc-800/50 hover:bg-zinc-700/50 flex items-center justify-center transition-colors flex-shrink-0",children:o.jsx(xn,{className:"w-4 h-4 text-cyan-400"})})]}),o.jsxs("button",{className:"text-sm text-gray-400 hover:text-gray-300 transition-colors",children:["Clique ",o.jsx("span",{className:"underline",children:"aqui"})," para ver os seus dados de conta completos"]})]}),o.jsx("button",{onClick:()=>s(!0),className:"w-full mb-6 px-6 py-4 rounded-2xl bg-zinc-800/50 hover:bg-zinc-700/50 text-white font-semibold transition-all",children:"Gerenciar"}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Informaes resumidas"}),o.jsxs("div",{className:"flex gap-2 mb-4",children:[o.jsx("button",{onClick:()=>r("tarifas"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="tarifas"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Tarifas"}),o.jsx("button",{onClick:()=>r("tempo"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="tempo"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Tempo"}),o.jsx("button",{onClick:()=>r("limites"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="limites"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Limites"})]}),n==="tarifas"&&o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:[o.jsx("p",{className:"text-sm font-semibold text-white mb-1",children:"Quanto custa?"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-white",children:"Do Brasil (domstico)"}),o.jsx("p",{className:"text-cyan-400 font-semibold",children:"Sem tarifas"})]}),o.jsx(zr,{className:"w-5 h-5 text-gray-400"})]})]})}),n==="tempo"&&o.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:o.jsx("p",{className:"text-gray-400 text-sm",children:"Transferncias Pix so instantneas"})}),n==="limites"&&o.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:o.jsx("p",{className:"text-gray-400 text-sm",children:"Sem limite de recebimento"})})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Disponibilidade"}),o.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50 flex items-start gap-3",children:[o.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:o.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})}),o.jsx("p",{className:"text-white text-sm",children:"DDAs (dbitos automticos) no disponveis"})]})]}),o.jsxs("div",{className:"text-center text-gray-400 text-sm mb-4",children:[o.jsx("p",{className:"mb-2",children:"Como podemos melhorar? Os dados no foram aceitos?"}),o.jsx("button",{className:"text-white hover:underline font-semibold",children:"Envie sua sugesto"})]})]}),i&&a&&o.jsx(rAe,{account:a,onBack:()=>s(!1),onSuccess:p})]})}var sAe=Object.defineProperty,Wx=Object.getOwnPropertySymbols,jW=Object.prototype.hasOwnProperty,kW=Object.prototype.propertyIsEnumerable,ZV=(t,e,n)=>e in t?sAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,pT=(t,e)=>{for(var n in e||(e={}))jW.call(e,n)&&ZV(t,n,e[n]);if(Wx)for(var n of Wx(e))kW.call(e,n)&&ZV(t,n,e[n]);return t},gT=(t,e)=>{var n={};for(var r in t)jW.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Wx)for(var r of Wx(t))e.indexOf(r)<0&&kW.call(t,r)&&(n[r]=t[r]);return n};var Wu;(t=>{const e=class _t{constructor(c,d,f,m){if(this.version=c,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],c<_t.MIN_VERSION||c>_t.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=c*4+17;let p=[];for(let x=0;x<this.size;x++)p.push(!1);for(let x=0;x<this.size;x++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const y=this.addEccAndInterleave(f);if(this.drawCodewords(y),m==-1){let x=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const _=this.getPenaltyScore();_<x&&(m=b,x=_),this.applyMask(b)}}i(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(c,d){const f=t.QrSegment.makeSegments(c);return _t.encodeSegments(f,d)}static encodeBinary(c,d){const f=t.QrSegment.makeBytes(c);return _t.encodeSegments([f],d)}static encodeSegments(c,d,f=1,m=40,p=-1,y=!0){if(!(_t.MIN_VERSION<=f&&f<=m&&m<=_t.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let x,b;for(x=f;;x++){const D=_t.getNumDataCodewords(x,d)*8,z=a.getTotalBits(c,x);if(z<=D){b=z;break}if(x>=m)throw new RangeError("Data too long")}for(const D of[_t.Ecc.MEDIUM,_t.Ecc.QUARTILE,_t.Ecc.HIGH])y&&b<=_t.getNumDataCodewords(x,D)*8&&(d=D);let _=[];for(const D of c){n(D.mode.modeBits,4,_),n(D.numChars,D.mode.numCharCountBits(x),_);for(const z of D.getData())_.push(z)}i(_.length==b);const S=_t.getNumDataCodewords(x,d)*8;i(_.length<=S),n(0,Math.min(4,S-_.length),_),n(0,(8-_.length%8)%8,_),i(_.length%8==0);for(let D=236;_.length<S;D^=253)n(D,8,_);let R=[];for(;R.length*8<_.length;)R.push(0);return _.forEach((D,z)=>R[z>>>3]|=D<<7-(z&7)),new _t(x,d,R,p)}getModule(c,d){return 0<=c&&c<this.size&&0<=d&&d<this.size&&this.modules[d][c]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const c=this.getAlignmentPatternPositions(),d=c.length;for(let f=0;f<d;f++)for(let m=0;m<d;m++)f==0&&m==0||f==0&&m==d-1||f==d-1&&m==0||this.drawAlignmentPattern(c[f],c[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(c){const d=this.errorCorrectionLevel.formatBits<<3|c;let f=d;for(let p=0;p<10;p++)f=f<<1^(f>>>9)*1335;const m=(d<<10|f)^21522;i(m>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,r(m,p));this.setFunctionModule(8,7,r(m,6)),this.setFunctionModule(8,8,r(m,7)),this.setFunctionModule(7,8,r(m,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,r(m,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,r(m,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,r(m,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let c=this.version;for(let f=0;f<12;f++)c=c<<1^(c>>>11)*7973;const d=this.version<<12|c;i(d>>>18==0);for(let f=0;f<18;f++){const m=r(d,f),p=this.size-11+f%3,y=Math.floor(f/3);this.setFunctionModule(p,y,m),this.setFunctionModule(y,p,m)}}drawFinderPattern(c,d){for(let f=-4;f<=4;f++)for(let m=-4;m<=4;m++){const p=Math.max(Math.abs(m),Math.abs(f)),y=c+m,x=d+f;0<=y&&y<this.size&&0<=x&&x<this.size&&this.setFunctionModule(y,x,p!=2&&p!=4)}}drawAlignmentPattern(c,d){for(let f=-2;f<=2;f++)for(let m=-2;m<=2;m++)this.setFunctionModule(c+m,d+f,Math.max(Math.abs(m),Math.abs(f))!=1)}setFunctionModule(c,d,f){this.modules[d][c]=f,this.isFunction[d][c]=!0}addEccAndInterleave(c){const d=this.version,f=this.errorCorrectionLevel;if(c.length!=_t.getNumDataCodewords(d,f))throw new RangeError("Invalid argument");const m=_t.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d],p=_t.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d],y=Math.floor(_t.getNumRawDataModules(d)/8),x=m-y%m,b=Math.floor(y/m);let _=[];const S=_t.reedSolomonComputeDivisor(p);for(let D=0,z=0;D<m;D++){let I=c.slice(z,z+b-p+(D<x?0:1));z+=I.length;const P=_t.reedSolomonComputeRemainder(I,S);D<x&&I.push(0),_.push(I.concat(P))}let R=[];for(let D=0;D<_[0].length;D++)_.forEach((z,I)=>{(D!=b-p||I>=x)&&R.push(z[D])});return i(R.length==y),R}drawCodewords(c){if(c.length!=Math.floor(_t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let m=0;m<this.size;m++)for(let p=0;p<2;p++){const y=f-p,b=(f+1&2)==0?this.size-1-m:m;!this.isFunction[b][y]&&d<c.length*8&&(this.modules[b][y]=r(c[d>>>3],7-(d&7)),d++)}}i(d==c.length*8)}applyMask(c){if(c<0||c>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let f=0;f<this.size;f++){let m;switch(c){case 0:m=(f+d)%2==0;break;case 1:m=d%2==0;break;case 2:m=f%3==0;break;case 3:m=(f+d)%3==0;break;case 4:m=(Math.floor(f/3)+Math.floor(d/2))%2==0;break;case 5:m=f*d%2+f*d%3==0;break;case 6:m=(f*d%2+f*d%3)%2==0;break;case 7:m=((f+d)%2+f*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][f]&&m&&(this.modules[d][f]=!this.modules[d][f])}}getPenaltyScore(){let c=0;for(let p=0;p<this.size;p++){let y=!1,x=0,b=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[p][_]==y?(x++,x==5?c+=_t.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,b),y||(c+=this.finderPenaltyCountPatterns(b)*_t.PENALTY_N3),y=this.modules[p][_],x=1);c+=this.finderPenaltyTerminateAndCount(y,x,b)*_t.PENALTY_N3}for(let p=0;p<this.size;p++){let y=!1,x=0,b=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][p]==y?(x++,x==5?c+=_t.PENALTY_N1:x>5&&c++):(this.finderPenaltyAddHistory(x,b),y||(c+=this.finderPenaltyCountPatterns(b)*_t.PENALTY_N3),y=this.modules[_][p],x=1);c+=this.finderPenaltyTerminateAndCount(y,x,b)*_t.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let y=0;y<this.size-1;y++){const x=this.modules[p][y];x==this.modules[p][y+1]&&x==this.modules[p+1][y]&&x==this.modules[p+1][y+1]&&(c+=_t.PENALTY_N2)}let d=0;for(const p of this.modules)d=p.reduce((y,x)=>y+(x?1:0),d);const f=this.size*this.size,m=Math.ceil(Math.abs(d*20-f*10)/f)-1;return i(0<=m&&m<=9),c+=m*_t.PENALTY_N4,i(0<=c&&c<=2568888),c}getAlignmentPatternPositions(){if(this.version==1)return[];{const c=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(c*2-2))*2;let f=[6];for(let m=this.size-7;f.length<c;m-=d)f.splice(1,0,m);return f}}static getNumRawDataModules(c){if(c<_t.MIN_VERSION||c>_t.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*c+128)*c+64;if(c>=2){const f=Math.floor(c/7)+2;d-=(25*f-10)*f-55,c>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(c,d){return Math.floor(_t.getNumRawDataModules(c)/8)-_t.ECC_CODEWORDS_PER_BLOCK[d.ordinal][c]*_t.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][c]}static reedSolomonComputeDivisor(c){if(c<1||c>255)throw new RangeError("Degree out of range");let d=[];for(let m=0;m<c-1;m++)d.push(0);d.push(1);let f=1;for(let m=0;m<c;m++){for(let p=0;p<d.length;p++)d[p]=_t.reedSolomonMultiply(d[p],f),p+1<d.length&&(d[p]^=d[p+1]);f=_t.reedSolomonMultiply(f,2)}return d}static reedSolomonComputeRemainder(c,d){let f=d.map(m=>0);for(const m of c){const p=m^f.shift();f.push(0),d.forEach((y,x)=>f[x]^=_t.reedSolomonMultiply(y,p))}return f}static reedSolomonMultiply(c,d){if(c>>>8||d>>>8)throw new RangeError("Byte out of range");let f=0;for(let m=7;m>=0;m--)f=f<<1^(f>>>7)*285,f^=(d>>>m&1)*c;return i(f>>>8==0),f}finderPenaltyCountPatterns(c){const d=c[1];i(d<=this.size*3);const f=d>0&&c[2]==d&&c[3]==d*3&&c[4]==d&&c[5]==d;return(f&&c[0]>=d*4&&c[6]>=d?1:0)+(f&&c[6]>=d*4&&c[0]>=d?1:0)}finderPenaltyTerminateAndCount(c,d,f){return c&&(this.finderPenaltyAddHistory(d,f),d=0),d+=this.size,this.finderPenaltyAddHistory(d,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(c,d){d[0]==0&&(c+=this.size),d.pop(),d.unshift(c)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(l,c,d){if(c<0||c>31||l>>>c)throw new RangeError("Value out of range");for(let f=c-1;f>=0;f--)d.push(l>>>f&1)}function r(l,c){return(l>>>c&1)!=0}function i(l){if(!l)throw new Error("Assertion error")}const s=class Sn{constructor(c,d,f){if(this.mode=c,this.numChars=d,this.bitData=f,d<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(c){let d=[];for(const f of c)n(f,8,d);return new Sn(Sn.Mode.BYTE,c.length,d)}static makeNumeric(c){if(!Sn.isNumeric(c))throw new RangeError("String contains non-numeric characters");let d=[];for(let f=0;f<c.length;){const m=Math.min(c.length-f,3);n(parseInt(c.substring(f,f+m),10),m*3+1,d),f+=m}return new Sn(Sn.Mode.NUMERIC,c.length,d)}static makeAlphanumeric(c){if(!Sn.isAlphanumeric(c))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],f;for(f=0;f+2<=c.length;f+=2){let m=Sn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f))*45;m+=Sn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f+1)),n(m,11,d)}return f<c.length&&n(Sn.ALPHANUMERIC_CHARSET.indexOf(c.charAt(f)),6,d),new Sn(Sn.Mode.ALPHANUMERIC,c.length,d)}static makeSegments(c){return c==""?[]:Sn.isNumeric(c)?[Sn.makeNumeric(c)]:Sn.isAlphanumeric(c)?[Sn.makeAlphanumeric(c)]:[Sn.makeBytes(Sn.toUtf8ByteArray(c))]}static makeEci(c){let d=[];if(c<0)throw new RangeError("ECI assignment value out of range");if(c<128)n(c,8,d);else if(c<16384)n(2,2,d),n(c,14,d);else if(c<1e6)n(6,3,d),n(c,21,d);else throw new RangeError("ECI assignment value out of range");return new Sn(Sn.Mode.ECI,0,d)}static isNumeric(c){return Sn.NUMERIC_REGEX.test(c)}static isAlphanumeric(c){return Sn.ALPHANUMERIC_REGEX.test(c)}getData(){return this.bitData.slice()}static getTotalBits(c,d){let f=0;for(const m of c){const p=m.mode.numCharCountBits(d);if(m.numChars>=1<<p)return 1/0;f+=4+p+m.bitData.length}return f}static toUtf8ByteArray(c){c=encodeURI(c);let d=[];for(let f=0;f<c.length;f++)c.charAt(f)!="%"?d.push(c.charCodeAt(f)):(d.push(parseInt(c.substring(f+1,f+3),16)),f+=2);return d}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=s;t.QrSegment=s})(Wu||(Wu={}));(t=>{(e=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Wu||(Wu={}));(t=>{(e=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Wu||(Wu={}));var vf=Wu;var aAe={L:vf.QrCode.Ecc.LOW,M:vf.QrCode.Ecc.MEDIUM,Q:vf.QrCode.Ecc.QUARTILE,H:vf.QrCode.Ecc.HIGH},RW=128,DW="L",OW="#FFFFFF",MW="#000000",LW=!1,VW=1,oAe=4,lAe=0,cAe=.1;function FW(t,e=0){const n=[];return t.forEach(function(r,i){let s=null;r.forEach(function(a,l){if(!a&&s!==null){n.push(`M${s+e} ${i+e}h${l-s}v1H${s+e}z`),s=null;return}if(l===r.length-1){if(!a)return;s===null?n.push(`M${l+e},${i+e} h1v1H${l+e}z`):n.push(`M${s+e},${i+e} h${l+1-s}v1H${s+e}z`);return}a&&s===null&&(s=l)})}),n.join("")}function BW(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function uAe(t,e,n,r){if(r==null)return null;const i=t.length+n*2,s=Math.floor(e*cAe),a=i/e,l=(r.width||s)*a,c=(r.height||s)*a,d=r.x==null?t.length/2-l/2:r.x*a,f=r.y==null?t.length/2-c/2:r.y*a,m=r.opacity==null?1:r.opacity;let p=null;if(r.excavate){let x=Math.floor(d),b=Math.floor(f),_=Math.ceil(l+d-x),S=Math.ceil(c+f-b);p={x,y:b,w:_,h:S}}const y=r.crossOrigin;return{x:d,y:f,h:c,w:l,excavation:p,opacity:m,crossOrigin:y}}function dAe(t,e){return e!=null?Math.max(Math.floor(e),0):t?oAe:lAe}function zW({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:s,size:a,boostLevel:l}){let c=Se.useMemo(()=>{const x=(Array.isArray(t)?t:[t]).reduce((b,_)=>(b.push(...vf.QrSegment.makeSegments(_)),b),[]);return vf.QrCode.encodeSegments(x,aAe[e],n,void 0,void 0,l)},[t,e,n,l]);const{cells:d,margin:f,numCells:m,calculatedImageSettings:p}=Se.useMemo(()=>{let y=c.getModules();const x=dAe(r,i),b=y.length+x*2,_=uAe(y,a,x,s);return{cells:y,margin:x,numCells:b,calculatedImageSettings:_}},[c,a,s,r,i]);return{qrcode:c,margin:f,cells:d,numCells:m,calculatedImageSettings:p}}var fAe=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),hAe=Se.forwardRef(function(e,n){const r=e,{value:i,size:s=RW,level:a=DW,bgColor:l=OW,fgColor:c=MW,includeMargin:d=LW,minVersion:f=VW,boostLevel:m,marginSize:p,imageSettings:y}=r,b=gT(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:_}=b,S=gT(b,["style"]),R=y?.src,D=Se.useRef(null),z=Se.useRef(null),I=Se.useCallback(U=>{D.current=U,typeof n=="function"?n(U):n&&(n.current=U)},[n]),[P,C]=Se.useState(!1),{margin:E,cells:A,numCells:j,calculatedImageSettings:V}=zW({value:i,level:a,minVersion:f,boostLevel:m,includeMargin:d,marginSize:p,imageSettings:y,size:s});Se.useEffect(()=>{if(D.current!=null){const U=D.current,X=U.getContext("2d");if(!X)return;let J=A;const O=z.current,K=V!=null&&O!==null&&O.complete&&O.naturalHeight!==0&&O.naturalWidth!==0;K&&V.excavation!=null&&(J=BW(A,V.excavation));const H=window.devicePixelRatio||1;U.height=U.width=s*H;const k=s/j*H;X.scale(k,k),X.fillStyle=l,X.fillRect(0,0,j,j),X.fillStyle=c,fAe?X.fill(new Path2D(FW(J,E))):A.forEach(function($,G){$.forEach(function(Z,Y){Z&&X.fillRect(Y+E,G+E,1,1)})}),V&&(X.globalAlpha=V.opacity),K&&X.drawImage(O,V.x+E,V.y+E,V.w,V.h)}}),Se.useEffect(()=>{C(!1)},[R]);const B=pT({height:s,width:s},_);let F=null;return R!=null&&(F=Se.createElement("img",{src:R,key:R,style:{display:"none"},onLoad:()=>{C(!0)},ref:z,crossOrigin:V?.crossOrigin})),Se.createElement(Se.Fragment,null,Se.createElement("canvas",pT({style:B,height:s,width:s,ref:I,role:"img"},S)),F)});hAe.displayName="QRCodeCanvas";var Kx=Se.forwardRef(function(e,n){const r=e,{value:i,size:s=RW,level:a=DW,bgColor:l=OW,fgColor:c=MW,includeMargin:d=LW,minVersion:f=VW,boostLevel:m,title:p,marginSize:y,imageSettings:x}=r,b=gT(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:_,cells:S,numCells:R,calculatedImageSettings:D}=zW({value:i,level:a,minVersion:f,boostLevel:m,includeMargin:d,marginSize:y,imageSettings:x,size:s});let z=S,I=null;x!=null&&D!=null&&(D.excavation!=null&&(z=BW(S,D.excavation)),I=Se.createElement("image",{href:x.src,height:D.h,width:D.w,x:D.x+_,y:D.y+_,preserveAspectRatio:"none",opacity:D.opacity,crossOrigin:D.crossOrigin}));const P=FW(z,_);return Se.createElement("svg",pT({height:s,width:s,viewBox:`0 0 ${R} ${R}`,ref:n,role:"img"},b),!!p&&Se.createElement("title",null,p),Se.createElement("path",{fill:l,d:`M0,0 h${R}v${R}H0z`,shapeRendering:"crispEdges"}),Se.createElement("path",{fill:c,d:P,shapeRendering:"crispEdges"}),I)});Kx.displayName="QRCodeSVG";function mAe({account:t,onClose:e}){const{user:n}=Vt(),{pixKeys:r}=oj(),[i,s]=N.useState("transfer"),[a,l]=N.useState(null),[c,d]=N.useState(""),[f,m]=N.useState(!1),p=t.country==="BR";t.currency==="BRL"||t.currency==="USD"||t.currency,N.useEffect(()=>{r.length>0&&!c&&d(r[0].id)},[r,c]);const y=r.find(R=>R.id===c),x=(R,D)=>{_w(R),l(D),Me.success("Copiado para rea de transferncia"),setTimeout(()=>l(null),2e3)},_=(()=>{if(!y)return"";const R={pixKey:y.keyValue,merchantName:"NexCoin",merchantCity:"SAO PAULO"};return JSON.stringify(R)})(),S=R=>{switch(R){case"cpf":return"CPF";case"cnpj":return"CNPJ";case"email":return"E-mail";case"phone":return"Telefone";case"random":return"Aleatria";default:return R}};return o.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[o.jsxs("div",{className:"px-6 pt-12 pb-4 flex items-center flex-shrink-0",children:[o.jsx("button",{className:"w-10 h-10 flex items-center justify-start text-white",onClick:e,children:o.jsx(Nt,{className:"w-6 h-6"})}),o.jsx("h1",{className:"flex-1 text-center font-semibold text-lg pr-10",children:"Receber"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto hide-scrollbar px-6 pb-6",children:[o.jsx("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-4 mb-6",children:o.jsx("div",{className:"flex items-center gap-3 mb-2",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-sm font-semibold text-white",children:t.bankName}),o.jsx("p",{className:"text-xs text-gray-400",children:t.accountNumber})]})})}),p&&o.jsxs("div",{className:"mb-6",children:[o.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Mtodo de Recebimento"}),o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:()=>s("transfer"),className:`flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all ${i==="transfer"?"bg-white text-black":"bg-[#0A0A0A] text-gray-400 border border-[#1A1A1A]"}`,children:"Transferncia"}),o.jsx("button",{onClick:()=>s("pix"),className:`flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all ${i==="pix"?"bg-white text-black":"bg-[#0A0A0A] text-gray-400 border border-[#1A1A1A]"}`,children:"PIX"})]})]}),i==="transfer"&&o.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-4 mb-6",children:[o.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:"Dados para Transferncia"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Banco"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-medium",children:t.bankName}),o.jsx("button",{onClick:()=>x(t.bankName,"bank"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a==="bank"?o.jsx(wn,{className:"w-4 h-4 text-green-500"}):o.jsx(xn,{className:"w-4 h-4 text-gray-400"})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Agncia"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-mono",children:t.branchCode}),o.jsx("button",{onClick:()=>x(t.branchCode||"","branch"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a==="branch"?o.jsx(wn,{className:"w-4 h-4 text-green-500"}):o.jsx(xn,{className:"w-4 h-4 text-gray-400"})})]})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Conta"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-mono",children:t.accountNumber}),o.jsx("button",{onClick:()=>x(t.accountNumber,"account"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a==="account"?o.jsx(wn,{className:"w-4 h-4 text-green-500"}):o.jsx(xn,{className:"w-4 h-4 text-gray-400"})})]})]}),t.iban&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"IBAN"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-mono",children:t.iban}),o.jsx("button",{onClick:()=>x(t.iban,"iban"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a==="iban"?o.jsx(wn,{className:"w-4 h-4 text-green-500"}):o.jsx(xn,{className:"w-4 h-4 text-gray-400"})})]})]}),t.swift&&o.jsxs("div",{children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"SWIFT/BIC"}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("p",{className:"text-sm text-white font-mono",children:t.swift}),o.jsx("button",{onClick:()=>x(t.swift,"swift"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a==="swift"?o.jsx(wn,{className:"w-4 h-4 text-green-500"}):o.jsx(xn,{className:"w-4 h-4 text-gray-400"})})]})]})]})]}),p&&i==="pix"&&o.jsx("div",{className:"space-y-4",children:r.length>0?o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Selecione a Chave PIX"}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>m(!f),className:"w-full bg-[#0A0A0A] border border-[#1A1A1A] rounded-xl p-4 flex items-center justify-between text-left",children:[y?o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:S(y.keyType)}),o.jsx("p",{className:"text-sm text-white font-mono",children:y.keyValue})]}):o.jsx("p",{className:"text-sm text-gray-400",children:"Selecione uma chave"}),o.jsx(wo,{className:`w-5 h-5 text-gray-400 transition-transform ${f?"rotate-180":""}`})]}),f&&o.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#0A0A0A] border border-[#1A1A1A] rounded-xl overflow-hidden z-10 max-h-60 overflow-y-auto",children:r.map(R=>o.jsxs("button",{onClick:()=>{d(R.id),m(!1)},className:`w-full p-4 text-left hover:bg-white/5 transition-colors border-b border-[#1A1A1A] last:border-b-0 ${c===R.id?"bg-white/5":""}`,children:[o.jsx("p",{className:"text-xs text-gray-400 mb-1",children:S(R.keyType)}),o.jsx("p",{className:"text-sm text-white font-mono",children:R.keyValue})]},R.id))})]})]}),y&&o.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-6",children:[o.jsx("h3",{className:"text-sm font-semibold text-white mb-4 text-center",children:"QR Code da Chave PIX"}),o.jsx("div",{className:"bg-white rounded-2xl p-6 mb-4 flex items-center justify-center",children:o.jsx(Kx,{value:_,size:200,level:"H",includeMargin:!1,className:"w-full h-auto"})}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-xs text-gray-400",children:"Chave"}),o.jsx("span",{className:"text-sm text-white font-mono truncate ml-4",children:y.keyValue})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-xs text-gray-400",children:"Destinatrio"}),o.jsx("span",{className:"text-sm text-white",children:"NexCoin"})]})]}),o.jsx("button",{onClick:()=>x(_,"pixPayload"),className:"w-full mt-4 bg-white/10 hover:bg-white/15 border border-white/20 rounded-xl py-3 flex items-center justify-center gap-2 transition-colors",children:a==="pixPayload"?o.jsxs(o.Fragment,{children:[o.jsx(wn,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{className:"text-sm font-medium text-green-500",children:"Copiado!"})]}):o.jsxs(o.Fragment,{children:[o.jsx(xn,{className:"w-4 h-4 text-white"}),o.jsx("span",{className:"text-sm font-medium text-white",children:"Copiar Cdigo PIX"})]})})]})]}):o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 backdrop-blur-sm",children:o.jsxs("p",{className:"text-xs text-white/70",children:[" ",o.jsx("strong",{children:"Nenhuma chave PIX cadastrada."})," Cadastre uma chave PIX para receber por este mtodo."]})})}),o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mt-6 backdrop-blur-sm",children:o.jsxs("p",{className:"text-xs text-white/60",children:["Utilize os dados acima no seu banco habitual para realizar a transferncia ",p?"ou PIX":"",". O saldo ser creditado automaticamente assim que a transferncia for processada pela nossa rede."]})})]})]})}function e6({account:t,onClose:e,onNavigateToConvert:n,onNavigateToWithdraw:r}){const[i,s]=N.useState("transactions"),[a,l]=N.useState(!1),[c,d]=N.useState(!1),{getBalance:f}=$g(),{transactions:m,isLoading:p,formatTransactionDescription:y,getTransactionIconType:x}=ww(),b=N.useMemo(()=>m.filter(z=>z.currency===t.currency||z.fromCurrency===t.currency||z.toCurrency===t.currency).slice(0,10),[m,t.currency]),_=z=>{const I=f(z);return z==="BRL"?`${I.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})} ${z}`:`${I.toFixed(2).replace(".",",")} ${z}`},S=z=>{let I=0,P=t.currency;z.type==="convert"?z.fromCurrency===t.currency?(I=-z.fromAmount,P=z.fromCurrency):z.toCurrency===t.currency&&(I=z.toAmount,P=z.toCurrency):z.type==="withdraw_fiat"||z.type==="send_crypto"||z.type==="crypto_send"||z.type==="pix_send"?(I=-Math.abs(z.amount),P=z.currency):(I=Math.abs(z.amount),P=z.currency);const C=I>=0?"+":"-",E=Math.abs(I);let A;return P==="BRL"?A=E.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):A=E.toFixed(2).replace(".",","),{formatted:`${C} ${A} ${P}`,amount:I}},R=z=>{const I=z.getDate(),P=z.toLocaleDateString("pt-BR",{month:"short"});return`${I} de ${P.charAt(0).toUpperCase()+P.slice(1)}`},D=z=>{switch(z){case"saida":return o.jsx(oE,{className:"w-5 h-5 text-white"});case"entrada":return o.jsx(aE,{className:"w-5 h-5 text-white"});case"conversao":return o.jsx(Uv,{className:"w-5 h-5 text-white"})}};return o.jsx(o.Fragment,{children:c?o.jsx(mAe,{account:t,onClose:()=>d(!1)}):a?o.jsx(iAe,{onNavigate:z=>{z==="home"&&(l(!1),e())}}):o.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black z-50 overflow-y-auto",children:[o.jsx("div",{className:"flex items-center justify-between p-4 relative z-10",children:o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center backdrop-blur-md border border-white/10 hover:bg-white/15 transition-all",children:o.jsx(qr,{className:"w-5 h-5 text-white"})})}),o.jsxs("div",{className:"flex flex-col items-center mt-8 px-4 relative z-10",children:[o.jsx("div",{className:"text-white/60 text-sm font-semibold mb-2 tracking-widest uppercase",children:t.currency}),o.jsx("div",{className:"text-xl font-light text-white mb-8 tabular-nums",children:_(t.currency)}),t.currency==="BRL"&&o.jsx("button",{onClick:()=>l(!0),className:"mb-8 px-6 py-2.5 rounded-full bg-white/10 hover:bg-white/15 backdrop-blur-md border border-white/20 transition-all flex items-center gap-2 text-white font-semibold text-sm shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:"Chaves Pix"}),o.jsxs("div",{className:"flex items-center gap-8 mb-10",children:[o.jsxs("button",{onClick:()=>d(!0),className:"flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:o.jsx(aE,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-xs text-white/70 font-light",children:"Receber"})]}),o.jsxs("button",{onClick:()=>{n&&n()},className:"flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:o.jsx(Uv,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-xs text-white/70 font-light",children:"Converter"})]}),o.jsxs("button",{onClick:()=>{r&&r()},className:"flex flex-col items-center gap-2 group",children:[o.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:o.jsx(oE,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-xs text-white/70 font-light",children:"Enviar"})]})]})]}),o.jsx("div",{className:"px-4 mb-6",children:o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-full p-1 flex border border-white/10",children:[o.jsx("button",{onClick:()=>s("transactions"),className:`flex-1 py-2 rounded-full text-sm font-semibold transition-all ${i==="transactions"?"bg-white/20 backdrop-blur-md text-white shadow-[0_0_20px_rgba(255,255,255,0.05)]":"text-white/50 hover:text-white/70"}`,children:"Transaes"}),o.jsx("button",{onClick:()=>s("options"),className:`flex-1 py-2 rounded-full text-sm font-semibold transition-all ${i==="options"?"bg-white/20 backdrop-blur-md text-white shadow-[0_0_20px_rgba(255,255,255,0.05)]":"text-white/50 hover:text-white/70"}`,children:"Opes"})]})}),o.jsx("div",{className:"px-4 pb-8",children:i==="transactions"?o.jsx("div",{className:"space-y-3",children:p?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"inline-block w-8 h-8 border-4 border-white/20 border-t-white rounded-full animate-spin"}),o.jsx("p",{className:"text-white/50 mt-4 text-sm",children:"Carregando transaes..."})]}):b.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto mb-4 flex items-center justify-center",children:o.jsx(Uv,{className:"w-8 h-8 text-white/30"})}),o.jsx("p",{className:"text-white/50 text-sm",children:"Nenhuma transao encontrada"}),o.jsx("p",{className:"text-white/30 text-xs mt-2",children:"Suas transaes aparecero aqui"})]}):o.jsx(o.Fragment,{children:b.map(z=>{const{formatted:I,amount:P}=S(z),C=x(z);return o.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)] hover:bg-white/10 transition-all",children:o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0",children:D(C)}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-white font-semibold text-sm truncate",children:y(z)}),o.jsxs("div",{className:"text-white/50 text-xs",children:[z.recipientInfo||z.description||"Transao","  ",R(z.createdAt)]})]}),o.jsx("div",{className:"flex flex-col items-end",children:o.jsx("div",{className:`font-semibold text-sm tabular-nums ${P>=0?"text-[#34c759]":"text-white"}`,children:I})})]})},z.id)})})}):o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:[o.jsx("h3",{className:"text-white font-bold text-sm mb-3",children:"Dados da Conta"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:"Banco"}),o.jsx("div",{className:"text-white text-sm font-semibold",children:t.bankName})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:"Nmero da Conta"}),o.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.accountNumber})]}),t.routingNumber&&o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:"Cdigo do Banco"}),o.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.routingNumber})]}),t.iban&&o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:"IBAN"}),o.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.iban})]}),t.swift&&o.jsxs("div",{children:[o.jsx("div",{className:"text-white/50 text-xs mb-1",children:"SWIFT"}),o.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.swift})]})]})]}),o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl overflow-hidden border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:[o.jsxs("button",{className:"w-full p-4 flex items-center justify-between hover:bg-white/10 transition-all border-b border-white/5",children:[o.jsx("span",{className:"text-white text-sm font-semibold",children:"Configuraes da Conta"}),o.jsx(zr,{className:"w-4 h-4 text-white/50"})]}),o.jsxs("button",{className:"w-full p-4 flex items-center justify-between hover:bg-white/10 transition-all",children:[o.jsx("span",{className:"text-[#ff3b30] text-sm font-semibold",children:"Remover Conta"}),o.jsx(zr,{className:"w-4 h-4 text-[#ff3b30]/50"})]})]})]})})]})})}const t6=[{id:"virtual-standard",name:"Virtual Standard",type:"virtual",description:"Carto virtual para compras online. Gratuito.",features:["Compras online ilimitadas","Disponvel imediatamente","Nmero nico por compra","Sem anuidade"],monthlyFee:0,currency:"BRL",color:"black",network:"Visa"},{id:"physical-standard",name:"Physical Black",type:"physical",description:"Carto fsico com chip e NFC para uso no dia a dia.",features:["Chip + NFC contactless","Saques em caixas eletrnicos","Compras em lojas fsicas","Entrega em at 10 dias teis","Sem anuidade no 1 ano"],monthlyFee:0,currency:"BRL",color:"black",network:"Mastercard"},{id:"physical-gold",name:"Physical Gold",type:"physical",description:"Carto Gold com benefcios exclusivos e maior limite.",features:["Tudo do Physical Black","Limite maior","Seguro viagem includo","Acesso a salas VIP nos aeroportos","Concierge 24h"],monthlyFee:39.9,currency:"BRL",color:"gold",network:"Visa"},{id:"physical-platinum",name:"Platinum",type:"physical",description:"O topo da linha  benefcios premium globais.",features:["Tudo do Gold","Limite ilimitado","Cashback de 1.5%","Priority Pass (acesso a 1400 salas VIP)","Seguro completo para compras"],monthlyFee:149.9,currency:"BRL",color:"platinum",network:"Mastercard"}];function pAe(){return Math.floor(1e3+Math.random()*9e3).toString()}function gAe(){const t=new Date;return{month:t.getMonth()+1,year:t.getFullYear()+4}}function yAe(){const{user:t,userData:e}=Vt(),[n,r]=N.useState([]),[i,s]=N.useState(!0);return N.useEffect(()=>{if(!t?.uid){s(!1);return}const d=Dt(it(we,"cards"),It("userId","==",t.uid));return ei(d,m=>{const p=m.docs.map(y=>{const x=y.data();return{id:y.id,...x,createdAt:x.createdAt?.toDate?.()??new Date}});r(p.sort((y,x)=>x.createdAt.getTime()-y.createdAt.getTime())),s(!1)})},[t?.uid]),{cards:n,loading:i,requestCard:async d=>{if(!t?.uid||!e)throw new Error("Usurio no autenticado");const f=gAe(),m={userId:t.uid,planId:d.id,type:d.type,status:d.type==="virtual"?"active":"pending",lastFour:pAe(),cardHolder:(e.name||e.displayName||"CARD HOLDER").toUpperCase(),expiryMonth:f.month,expiryYear:f.year,network:d.network,plan:d,isBlocked:!1,createdAt:$i()};await us(it(we,"cards"),m)},toggleBlock:async(d,f)=>{await wi(et(we,"cards",d),{isBlocked:f,status:f?"blocked":"active"})},cancelCard:async d=>{await wi(et(we,"cards",d),{status:"cancelled"})}}}const n6={black:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 50%, #111 100%)",gold:"linear-gradient(135deg, #b8860b 0%, #daa520 40%, #b8860b 100%)",platinum:"linear-gradient(135deg, #71797e 0%, #a9a9a9 40%, #71797e 100%)",blue:"linear-gradient(135deg, #1a237e 0%, #283593 50%, #1565c0 100%)"};function UW({card:t,small:e=!1}){const{t:n}=In(),r=t.isBlocked||t.status==="blocked",i=t.status==="pending",s=n6[t.plan.color]??n6.black,a=e?"w-full aspect-[1.586/1] max-w-[240px]":"w-full aspect-[1.586/1]";return o.jsxs("div",{className:`${a} rounded-2xl p-5 relative overflow-hidden flex flex-col justify-between select-none shadow-2xl transition-transform active:scale-[0.98]`,style:{background:s,boxShadow:"0 20px 40px rgba(0,0,0,0.6), inset 0 1px 1px rgba(255,255,255,0.1)"},children:[(r||i)&&o.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-[2px] rounded-2xl flex items-center justify-center z-10",children:o.jsxs("div",{className:"flex flex-col items-center gap-2",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center border border-white/20",children:i?o.jsx(jf,{className:"w-6 h-6 text-white animate-spin"}):o.jsx(Ea,{className:"w-6 h-6 text-white"})}),o.jsx("span",{className:"text-white text-xs font-bold uppercase tracking-widest",children:i?n.cards.processingLabel:n.cards.blockedLabel})]})}),o.jsx("div",{className:"absolute -right-10 -top-10 w-40 h-40 rounded-full bg-white/5 blur-3xl pointer-events-none"}),o.jsx("div",{className:"absolute -left-10 -bottom-10 w-40 h-40 rounded-full bg-white/5 blur-3xl pointer-events-none"}),o.jsxs("div",{className:"flex items-center justify-between relative z-[1]",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-white/40 text-[10px] uppercase font-bold tracking-[2px]",children:"NexCoin"}),o.jsx("span",{className:"text-white font-bold text-base",children:t.plan.name})]}),t.type==="physical"?o.jsx(RG,{className:"w-5 h-5 text-white/40 rotate-90"}):o.jsx("div",{className:"px-2 py-0.5 rounded-md border border-white/20 bg-white/5 backdrop-blur-md",children:o.jsx("span",{className:"text-[9px] text-white/60 font-bold uppercase",children:n.cards.virtual})})]}),o.jsx("div",{className:"flex items-center justify-between relative z-[1]",children:t.type==="physical"?o.jsxs("div",{className:"w-11 h-8 rounded-md relative overflow-hidden group shadow-md",style:{background:"linear-gradient(135deg, #ffd700, #b8860b)"},children:[o.jsx("div",{className:"absolute inset-0 opacity-30 bg-[repeating-linear-gradient(90deg,transparent,transparent_2px,#000_2px,#000_4px)]"}),o.jsx("div",{className:"absolute inset-0 opacity-30 bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,#000_2px,#000_4px)]"})]}):o.jsx(Co,{className:"w-8 h-8 text-white/20"})}),o.jsxs("div",{className:"flex items-end justify-between relative z-[1]",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"text-white text-lg font-mono tracking-[3px] mb-1",children:["   ",t.lastFour]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-[7px] text-white/40 uppercase font-black",children:"Validade"}),o.jsxs("span",{className:"text-white text-[10px] font-mono",children:[String(t.expiryMonth).padStart(2,"0"),"/",String(t.expiryYear).slice(-2)]})]}),o.jsxs("div",{className:"flex flex-col",children:[o.jsx("span",{className:"text-[7px] text-white/40 uppercase font-black",children:"Titular"}),o.jsx("span",{className:"text-white text-[10px] font-mono truncate max-w-[120px]",children:t.cardHolder})]})]})]}),o.jsx("div",{className:"flex-shrink-0",children:t.network==="Visa"?o.jsxs("div",{className:"text-white flex flex-col items-center leading-none",children:[o.jsx("span",{className:"text-xl font-black italic tracking-tighter",style:{fontFamily:"serif"},children:"VISA"}),o.jsx("span",{className:"text-[7px] font-bold uppercase opacity-60",children:"Platinum"})]}):o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-7 h-7 rounded-full bg-[#eb001b]/90 border border-white/10"}),o.jsx("div",{className:"w-7 h-7 rounded-full bg-[#f79e1b]/90 border border-white/10 -ml-3"})]})})]})]})}function r6({plan:t,onSelect:e}){const{t:n}=In(),r={black:"from-neutral-800 to-neutral-900",gold:"from-yellow-700 to-yellow-900",platinum:"from-slate-500 to-slate-700",blue:"from-blue-700 to-blue-900"};return o.jsxs("button",{onClick:()=>e(t),className:"w-full text-left rounded-2xl overflow-hidden border border-white/10 bg-white/5 hover:border-white/20 active:scale-[0.98] transition-all group",children:[o.jsxs("div",{className:`bg-gradient-to-r ${r[t.color]} px-5 py-3 flex items-center justify-between`,children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-[9px] font-black text-white/50 uppercase tracking-widest",children:t.type==="virtual"?"Virtual":"Fsico"}),o.jsx("h4",{className:"text-white font-bold text-base leading-none",children:t.name})]}),o.jsx("div",{className:"bg-black/20 px-2 py-1 rounded-lg backdrop-blur-sm",children:t.monthlyFee===0?o.jsx("span",{className:"text-green-400 font-bold text-xs",children:n.cards.free}):o.jsxs("span",{className:"text-white font-bold text-xs",children:["R$ ",t.monthlyFee]})})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("p",{className:"text-white/60 text-xs mb-3 font-light leading-relaxed",children:t.description}),o.jsx("div",{className:"flex flex-wrap gap-2",children:t.features.slice(0,3).map((i,s)=>o.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 rounded-lg bg-white/5 border border-white/10",children:[o.jsx(wn,{className:"w-3 h-3 text-green-500"}),o.jsx("span",{className:"text-[10px] text-white/70",children:i})]},s))}),o.jsxs("div",{className:"mt-4 flex items-center justify-between pt-3 border-t border-white/5",children:[o.jsx("div",{className:"flex items-center gap-2",children:o.jsx("span",{className:"text-[10px] text-white/30 uppercase font-bold tracking-widest",children:t.network})}),o.jsxs("div",{className:"flex items-center gap-1 text-white font-semibold text-xs",children:[n.cards.orderNow," ",o.jsx(zr,{className:"w-3.5 h-3.5"})]})]})]})]})}function vAe({plan:t,onConfirm:e,onCancel:n,loading:r}){const{t:i}=In();return o.jsxs("div",{className:"fixed inset-0 z-[60] flex items-end justify-center px-4",children:[o.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:n}),o.jsxs("div",{className:"relative w-full max-w-md bg-[#0D0D0D] rounded-t-[40px] p-8 pb-12 border-t border-white/20 shadow-[0_-20px_50px_rgba(0,0,0,0.5)]",children:[o.jsx("div",{className:"w-12 h-1.5 bg-white/10 rounded-full mx-auto mb-8"}),o.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/5 flex items-center justify-center border border-white/10",children:o.jsx(xT,{className:"w-6 h-6 text-white"})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-white font-bold text-xl",children:i.cards.confirmOrder}),o.jsx("p",{className:"text-white/40 text-sm",children:i.cards.validatingRequest})]})]}),o.jsxs("div",{className:"bg-white/5 rounded-3xl p-5 mb-8 space-y-4 border border-white/10",children:[o.jsxs("div",{className:"flex justify-between items-center group",children:[o.jsx("span",{className:"text-white/40 text-sm",children:i.cards.selectedPlan}),o.jsx("span",{className:"text-white font-bold",children:t.name})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-white/40 text-sm",children:i.cards.category}),o.jsxs("span",{className:"text-white font-medium flex items-center gap-2",children:[o.jsx("div",{className:`w-2 h-2 rounded-full ${t.type==="virtual"?"bg-cyan-400":"bg-purple-400"}`}),t.type==="virtual"?i.cards.virtual:i.cards.physical]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-white/40 text-sm",children:i.cards.monthlyFee}),o.jsx("span",{className:t.monthlyFee===0?"text-green-400 font-black":"text-white font-bold",children:t.monthlyFee===0?i.cards.exempt:`R$ ${t.monthlyFee.toFixed(2).replace(".",",")}`})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("button",{onClick:e,disabled:r,className:"w-full py-5 rounded-2xl bg-white text-black font-black text-base shadow-[0_0_20px_rgba(255,255,255,0.2)] active:scale-[0.98] transition-all disabled:opacity-50 flex items-center justify-center gap-3",children:[r?o.jsx(jf,{className:"w-5 h-5 animate-spin"}):o.jsx(Co,{className:"w-5 h-5"}),r?"Processando pedido...":i.cards.confirmAndOrder]}),o.jsx("button",{onClick:n,className:"w-full py-2 text-white/30 text-sm font-bold uppercase tracking-widest",children:i.cards.cancel})]})]})]})}function xAe({card:t,onClose:e,onToggleBlock:n,onCancel:r}){const{t:i}=In(),[s,a]=N.useState(!1),[l,c]=N.useState(!1),d=async()=>{a(!0);try{await n(t.id,!t.isBlocked),Me.success(t.isBlocked?i.cards.successVirtual:i.cards.blockedLabel)}finally{a(!1)}},f=async()=>{await r(t.id),Me.success("Carto cancelado"),e()},m={active:"Ativo",blocked:"Bloqueado",cancelled:"Cancelado",pending:"Processando"},p={active:"bg-green-500/10 text-green-400 border-green-500/20",blocked:"bg-red-500/10 text-red-400 border-red-500/20",cancelled:"bg-white/5 text-white/30 border-white/10",pending:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20"};return o.jsxs("div",{className:"fixed inset-0 bg-black z-[100] flex flex-col",children:[o.jsxs("div",{className:"px-5 pt-12 pb-4 flex items-center justify-between border-b border-white/5 bg-[#050505]",children:[o.jsx("button",{onClick:e,className:"w-10 h-10 rounded-xl bg-white/5 flex items-center justify-center border border-white/10",children:o.jsx(zr,{className:"w-6 h-6 text-white rotate-180"})}),o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("span",{className:"text-white font-bold text-sm",children:t.plan.name}),o.jsx("span",{className:`text-[9px] font-black uppercase px-2 py-0.5 rounded-full border mt-1 ${p[t.status]}`,children:m[t.status]})]}),o.jsx("div",{className:"w-10"})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-5 space-y-8",children:[o.jsx("div",{className:"mt-4",children:o.jsx(UW,{card:t})}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2 px-1",children:[o.jsx(bG,{className:"w-4 h-4 text-white/30"}),o.jsx("span",{className:"text-white/30 text-xs font-bold uppercase tracking-widest",children:i.cards.information})]}),o.jsxs("div",{className:"bg-[#0D0D0D] rounded-3xl p-6 space-y-5 border border-white/10",children:[o.jsxs("div",{className:"flex justify-between items-center group",children:[o.jsx("span",{className:"text-white/40 text-xs uppercase font-bold tracking-wider",children:i.cards.cardNumber}),o.jsxs("span",{className:"text-white font-mono text-sm tracking-widest",children:["   ",t.lastFour]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-white/40 text-xs uppercase font-bold tracking-wider",children:i.cards.expiry}),o.jsxs("span",{className:"text-white font-mono text-sm",children:[String(t.expiryMonth).padStart(2,"0"),"/",String(t.expiryYear).slice(-2)]})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-white/40 text-xs uppercase font-bold tracking-wider",children:i.cards.modality}),o.jsx("span",{className:"text-white font-bold text-sm tracking-wide",children:t.type==="virtual"?i.cards.virtual:i.cards.physical})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-white/40 text-xs uppercase font-bold tracking-wider",children:"Bandeira"}),o.jsx("span",{className:"text-white font-bold text-sm",children:t.network})]})]})]}),t.status!=="cancelled"&&o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:d,disabled:s||t.status==="pending",className:`w-full flex items-center justify-between p-5 rounded-3xl border transition-all active:scale-[0.98] ${t.isBlocked?"bg-green-500/5 border-green-500/20":"bg-white/5 border-white/10"}`,children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:`w-10 h-10 rounded-2xl flex items-center justify-center ${t.isBlocked?"bg-green-500/20":"bg-yellow-500/20"}`,children:t.isBlocked?o.jsx(NG,{className:"w-5 h-5 text-green-400"}):o.jsx(Ea,{className:"w-5 h-5 text-yellow-400"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("span",{className:"text-white font-bold text-sm block",children:t.isBlocked?i.cards.unblock:i.cards.blockTemporarily}),o.jsx("span",{className:"text-white/30 text-[10px] font-medium",children:i.cards.blockDesc})]})]}),o.jsx(zr,{className:"w-5 h-5 text-white/20"})]}),o.jsxs("button",{onClick:()=>c(!0),className:"w-full flex items-center justify-between p-5 rounded-3xl bg-red-500/5 border border-red-500/20 transition-all active:scale-[0.98]",children:[o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"w-10 h-10 rounded-2xl bg-red-500/20 flex items-center justify-center",children:o.jsx(Sk,{className:"w-5 h-5 text-red-500"})}),o.jsxs("div",{className:"text-left",children:[o.jsx("span",{className:"text-red-500 font-bold text-sm block",children:i.cards.cancelAndExcl}),o.jsx("span",{className:"text-red-500/40 text-[10px] font-medium",children:i.cards.irreversible})]})]}),o.jsx(zr,{className:"w-5 h-5 text-red-500/20"})]})]})]}),l&&o.jsxs("div",{className:"fixed inset-0 z-[110] flex items-center justify-center px-6",children:[o.jsx("div",{className:"absolute inset-0 bg-black/95 backdrop-blur-md",onClick:()=>c(!1)}),o.jsxs("div",{className:"relative w-full max-w-sm bg-[#0D0D0D] rounded-[40px] p-8 border border-white/10 text-center",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-6",children:o.jsx(Sk,{className:"w-8 h-8 text-red-500"})}),o.jsx("h2",{className:"text-white font-black text-xl mb-3",children:i.cards.confirmCancel}),o.jsx("p",{className:"text-white/40 text-sm mb-8 leading-relaxed",children:i.cards.cancelWarning}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:f,className:"w-full py-4 rounded-2xl bg-red-500 text-white font-black text-sm uppercase tracking-widest active:scale-[0.98] transition-all",children:i.cards.confirmCancel}),o.jsx("button",{onClick:()=>c(!1),className:"w-full py-3 text-white/30 text-xs font-bold uppercase tracking-widest",children:i.cards.back})]})]})]})]})}function bAe({onNavigate:t}){const{t:e}=In(),{cards:n,loading:r,requestCard:i,toggleBlock:s,cancelCard:a}=yAe(),[l,c]=N.useState(!1),[d,f]=N.useState(null),[m,p]=N.useState(!1),[y,x]=N.useState(null),b=n.filter(R=>R.status==="active"||R.status==="blocked"||R.status==="pending"),_=R=>{f(R)},S=async()=>{if(d){p(!0);try{await i(d),f(null),c(!1),Me.success(d.type==="virtual"?e.cards.successVirtual:e.cards.successPhysical)}catch{Me.error(e.cards.errorRequest)}finally{p(!1)}}};return o.jsxs("div",{className:"fixed inset-0 bg-black flex flex-col pb-28",children:[o.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-cyan-500/10 blur-[120px] pointer-events-none"}),o.jsx("div",{className:"absolute bottom-40 left-0 w-64 h-64 bg-purple-500/10 blur-[120px] pointer-events-none"}),o.jsxs("div",{className:"px-6 pt-12 pb-6 flex items-center justify-between relative z-10",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-white font-black text-2xl tracking-tight",children:e.cards.title}),o.jsx("p",{className:"text-white/40 text-xs font-medium",children:e.cards.subtitle})]}),b.length>0&&o.jsx("button",{onClick:()=>c(!0),className:"w-10 h-10 rounded-xl bg-white/5 border border-white/10 flex items-center justify-center active:scale-95 transition-all",children:o.jsx(Gl,{className:"w-6 h-6 text-white"})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-6 relative z-10 hide-scrollbar",children:r?o.jsxs("div",{className:"flex flex-col items-center justify-center py-32 gap-4",children:[o.jsx("div",{className:"w-12 h-12 rounded-2xl border-2 border-white/10 border-t-white animate-spin"}),o.jsx("span",{className:"text-white/20 text-xs font-black uppercase tracking-widest",children:"Sincronizando..."})]}):b.length===0?o.jsxs("div",{className:"space-y-8 py-4",children:[o.jsxs("div",{className:"text-center space-y-2 mb-4",children:[o.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 flex items-center justify-center mx-auto mb-4 border border-white/10",children:o.jsx(xT,{className:"w-8 h-8 text-white/20"})}),o.jsx("h2",{className:"text-white font-bold text-xl",children:e.cards.noActiveCards}),o.jsx("p",{className:"text-white/40 text-sm max-w-[240px] mx-auto",children:e.cards.choosePlan})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx("div",{className:"h-px bg-white/10 flex-1"}),o.jsx("span",{className:"text-[10px] text-white/30 font-black uppercase tracking-[3px]",children:"Planos Disponveis"}),o.jsx("div",{className:"h-px bg-white/10 flex-1"})]}),t6.map(R=>o.jsx(r6,{plan:R,onSelect:_},R.id))]})]}):o.jsxs("div",{className:"space-y-6 py-4",children:[b.map(R=>o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>x(R),className:"w-full text-left",children:o.jsx(UW,{card:R})}),o.jsxs("div",{className:"flex items-center justify-between px-2",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${R.status==="active"?"bg-green-400":"bg-red-400"}`}),o.jsx("span",{className:"text-white/40 text-[10px] font-bold uppercase tracking-widest",children:R.plan.name})]}),o.jsx("button",{onClick:()=>x(R),className:"text-white/30 text-[10px] font-black uppercase tracking-widest hover:text-white transition-colors",children:"Gerenciar"})]})]},R.id)),o.jsxs("button",{onClick:()=>c(!0),className:"w-full py-6 rounded-3xl border-2 border-dashed border-white/10 hover:border-white/20 hover:bg-white/5 transition-all flex flex-col items-center justify-center gap-2 group mt-8",children:[o.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center border border-white/10 group-hover:scale-110 transition-transform",children:o.jsx(Gl,{className:"w-6 h-6 text-white/40 group-hover:text-white"})}),o.jsx("span",{className:"text-white/30 text-xs font-black uppercase tracking-widest group-hover:text-white/60",children:e.cards.requestNew})]})]})}),l&&o.jsxs("div",{className:"fixed inset-0 z-[120] bg-black overflow-y-auto pb-20",children:[o.jsxs("div",{className:"px-6 pt-12 pb-4 flex items-center justify-between sticky top-0 bg-black/90 backdrop-blur-md z-10",children:[o.jsx("h2",{className:"text-white font-black text-xl",children:"Solicitar Carto"}),o.jsx("button",{onClick:()=>c(!1),className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:o.jsx(qr,{className:"w-5 h-5 text-white"})})]}),o.jsx("div",{className:"p-6 space-y-4",children:t6.map(R=>o.jsx(r6,{plan:R,onSelect:_},R.id))})]}),d&&o.jsx(vAe,{plan:d,onConfirm:S,onCancel:()=>f(null),loading:m}),y&&o.jsx(xAe,{card:y,onClose:()=>x(null),onToggleBlock:s,onCancel:a})]})}function wAe(){const{userData:t,logout:e}=Vt(),n=async()=>{try{await e()}catch(r){console.error("Erro ao fazer logout:",r)}};return o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full",children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-8 text-center",children:[o.jsx("div",{className:"mb-6 flex justify-center",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 bg-yellow-500/20 rounded-full blur-xl animate-pulse"}),o.jsx("div",{className:"relative bg-gradient-to-br from-yellow-500 to-orange-500 rounded-full p-4",children:o.jsx(bp,{className:"w-12 h-12 text-white"})})]})}),o.jsx("h1",{className:"text-2xl font-bold mb-3",children:"Conta em Anlise"}),o.jsxs("p",{className:"text-gray-400 mb-8 leading-relaxed",children:["Ol ",t?.name?.split(" ")[0]||"usurio","! Sua solicitao de acesso ao ",o.jsx("span",{className:"text-white font-semibold",children:"NexCoin"})," est sendo analisada pela nossa equipe de segurana."]}),o.jsxs("div",{className:"space-y-4 mb-8 text-left",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-1",children:o.jsx(Xx,{className:"w-5 h-5 text-green-500"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-medium",children:"Cadastro Realizado"}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Suas informaes foram recebidas com sucesso"})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-1",children:o.jsx("div",{className:"w-5 h-5 border-2 border-yellow-500 border-t-transparent rounded-full animate-spin"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-white font-medium",children:"Anlise de Segurana"}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Verificando seus dados e validando identidade"})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx("div",{className:"mt-1",children:o.jsx("div",{className:"w-5 h-5 border-2 border-white/20 rounded-full"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"text-gray-400 font-medium",children:"Aprovao Final"}),o.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Voc receber uma notificao quando for aprovado"})]})]})]}),o.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6",children:o.jsxs("div",{className:"flex items-start gap-3 text-left",children:[o.jsx(kf,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),o.jsxs("div",{children:[o.jsxs("p",{className:"text-sm text-gray-300",children:[o.jsx("span",{className:"font-semibold text-white",children:"Tempo estimado:"})," 24 a 48 horas"]}),o.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Voc receber um e-mail em ",o.jsx("span",{className:"text-white",children:t?.email})," assim que sua conta for aprovada."]})]})]})}),o.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400 mb-6",children:[o.jsx(Co,{className:"w-4 h-4 text-green-500"}),o.jsx("span",{children:"Protegido por verificao em duas etapas"})]}),o.jsx("button",{onClick:n,className:"w-full py-3 px-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-white font-medium transition-all",children:"Sair da Conta"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsxs("p",{className:"text-sm text-gray-400",children:["Precisa de ajuda?"," ",o.jsx("a",{href:"mailto:Suporte.NexCoin@gmail.com",className:"text-white hover:underline",children:"Entre em contato"})]})})]})})}async function _Ae(t){try{console.log(" ============ INICIANDO EXCLUSO DE CONTA ============"),console.log(" User ID:",t),console.log(" [1/6] Deletando subcolees do usurio...");const e=["portfolio","assets","transactions","conversions","fiatBalances","fiatTransactions","wallets","walletAddresses","receiveAddresses","auditLogs","preferences"];for(const n of e)try{const r=it(we,"users",t,n),i=await Ot(r);if(console.log(`   Deletando ${i.size} documentos de ${n}...`),i.size>0){const s=[];let a=ou(we),l=0;const c=500;i.docs.forEach(d=>{a.delete(d.ref),l++,l===c&&(s.push(a),a=ou(we),l=0)}),l>0&&s.push(a);for(const d of s)await d.commit();console.log(`   ${i.size} documentos deletados de ${n}`)}else console.log(`   Nenhum documento encontrado em ${n}`)}catch(r){console.log(`   Erro ao deletar ${n} (continuando):`,r.message)}console.log(" [2/6] Deletando documento principal do usurio...");try{const n=et(we,"users",t);await sc(n),console.log("   Documento principal deletado")}catch{console.log("   Documento principal no encontrado ou j foi deletado (continuando)")}console.log(" [3/6] Deletando contas bancrias...");try{const n=it(we,"bankAccounts"),r=Dt(n,It("userId","==",t)),i=await Ot(r);if(console.log(`   Deletando ${i.size} contas bancrias...`),i.size>0){const s=ou(we);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} contas bancrias deletadas`)}else console.log("   Nenhuma conta bancria encontrada")}catch(n){console.log("   Erro ao deletar contas bancrias (continuando):",n.message)}console.log(" [4/6] Deletando chaves PIX...");try{const n=it(we,"pixKeys"),r=Dt(n,It("userId","==",t)),i=await Ot(r);if(console.log(`   Deletando ${i.size} chaves PIX...`),i.size>0){const s=ou(we);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} chaves PIX deletadas`)}else console.log("   Nenhuma chave PIX encontrada")}catch(n){console.log("   Erro ao deletar chaves PIX (continuando):",n.message)}console.log(" [5/6] Deletando ndice de endereos de carteira...");try{const n=it(we,"walletAddressIndex"),r=Dt(n,It("userId","==",t)),i=await Ot(r);if(i.size>0){console.log(`   Deletando ${i.size} endereos do ndice...`);const s=ou(we);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} endereos deletados do ndice`)}else console.log("   Nenhum endereo no ndice encontrado")}catch(n){console.log("   Erro ao deletar ndice de endereos (continuando):",n.message)}if(console.log(" [6/6] Deletando usurio do Firebase Auth..."),!bn.currentUser)throw new Error("Usurio no est autenticado");if(bn.currentUser.uid!==t)throw new Error("Erro de segurana: UID no corresponde ao usurio autenticado");return await mne(bn.currentUser),console.log("   Usurio deletado do Firebase Auth"),console.log(" ============ CONTA EXCLUDA COM SUCESSO ============"),{success:!0}}catch(e){console.error(" ============ ERRO NA EXCLUSO DE CONTA ============"),console.error(" Erro:",e),console.error(" Mensagem:",e.message),console.error(" ================================================");let n="Erro ao excluir conta. Tente novamente.";return e.code==="auth/requires-recent-login"?n="Por segurana, faa login novamente antes de excluir sua conta.":e.code==="permission-denied"?n="Voc no tem permisso para excluir esta conta.":e.message&&(n=e.message),{success:!1,error:n}}}async function NAe(t){try{const e={assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0};try{const n=await Ot(it(we,"users",t,"assets"));e.assets=n.size}catch{}try{const n=await Ot(it(we,"users",t,"transactions"));e.transactions=n.size}catch{}try{const n=await Ot(it(we,"users",t,"conversions"));e.conversions=n.size}catch{}try{const n=await Ot(it(we,"users",t,"fiatBalances"));e.fiatBalances=n.size}catch{}try{const n=Dt(it(we,"bankAccounts"),It("userId","==",t)),r=await Ot(n);e.bankAccounts=r.size}catch{}try{const n=Dt(it(we,"pixKeys"),It("userId","==",t)),r=await Ot(n);e.pixKeys=r.size}catch{}return e.total=e.assets+e.transactions+e.conversions+e.fiatBalances+e.bankAccounts+e.pixKeys,console.log(" Contagem de dados do usurio:",e),e}catch(e){return console.error(" Erro geral ao contar dados do usurio:",e),{assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0}}}function CAe({onNavigate:t}){const{user:e,logout:n,verifyPin:r,userData:i}=Vt(),[s,a]=N.useState("warning"),[l,c]=N.useState(""),[d,f]=N.useState(""),[m,p]=N.useState(""),[y,x]=N.useState(!1),[b,_]=N.useState("password"),[S,R]=N.useState({assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0}),[D,z]=N.useState(!0);N.useEffect(()=>{e?.uid&&(P(),I())},[e?.uid]);const I=()=>{if(!bn.currentUser)return;const E=bn.currentUser.providerData;if(console.log(" Provedor de autenticao completo:",JSON.stringify(E,null,2)),console.log(" Email do usurio:",bn.currentUser.email),console.log(" Email verificado:",bn.currentUser.emailVerified),console.log(" Metadata:",bn.currentUser.metadata),E.length>0){const A=E[0].providerId;console.log(" Provider ID detectado:",A),A==="password"?(_("password"),console.log(" Usurio usa email/senha")):A==="google.com"?(_("google"),console.log(" Usurio usa login do Google - NO PRECISA DE SENHA")):(_("other"),console.log(" Usurio usa outro mtodo:",A))}else console.log(" Nenhum provedor encontrado!")},P=async()=>{if(e?.uid){z(!0);try{const E=await NAe(e.uid);R(E)}catch(E){console.error(" Erro ao carregar contagem:",E)}finally{z(!1)}}},C=async()=>{if(!e?.uid){Me.error("Usurio no autenticado");return}if(!bn.currentUser){Me.error("Erro: usurio no encontrado");return}const E=i&&i.accountPin;if(E){if(!d||d.length!==6){Me.error("Digite seu PIN de 6 dgitos");return}if(l!=="EXCLUIR"){Me.error('Digite "EXCLUIR" para confirmar a excluso');return}}else if(l!=="EXCLUIR"){Me.error('Digite "EXCLUIR" para confirmar a excluso');return}a("deleting"),x(!0);try{if(E){if(console.log(" Validando PIN..."),!await r(d)){console.error(" PIN incorreto"),p("PIN incorreto. Tente novamente."),Me.error("PIN incorreto. Verifique e tente novamente."),a("pin"),x(!1);return}console.log(" PIN validado com sucesso!")}else console.log(" Usurio sem dados no Firestore. Pulando validao de PIN.");console.log(" Iniciando excluso da conta...");const A=await _Ae(e.uid);if(!A.success)throw new Error(A.error||"Erro ao excluir conta");console.log(" Conta excluda com sucesso!"),a("done"),setTimeout(()=>{n()},3e3)}catch(A){console.error(" Erro ao excluir conta:",A),console.error(" Cdigo:",A.code),console.error(" Mensagem:",A.message);let j="Erro ao excluir conta. Tente novamente.";A.code==="auth/requires-recent-login"?j="Por segurana, faa logout e login novamente antes de excluir sua conta.":A.code==="auth/network-request-failed"?j="Erro de conexo. Verifique sua internet e tente novamente.":A.message&&(j=A.message),Me.error(j),a(E?"pin":"confirm"),x(!1)}};return s==="done"?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:o.jsxs(Ye.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-6",children:o.jsx(Ye.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},children:o.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),o.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Conta Excluda"}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Sua conta e todos os dados foram removidos permanentemente."}),o.jsx("p",{className:"text-sm text-gray-500",children:"Redirecionando..."})]})}):s==="deleting"?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:o.jsxs(Ye.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[o.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-6",children:o.jsx(jf,{className:"w-10 h-10 text-red-500 animate-spin"})}),o.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Excluindo Conta..."}),o.jsx("p",{className:"text-gray-400 mb-6",children:"Removendo todos os seus dados do sistema."}),o.jsx("p",{className:"text-sm text-gray-500",children:"Isso pode levar alguns segundos."})]})}):o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center hover:bg-white/10 transition-colors mb-6",children:o.jsx(Nt,{className:"w-5 h-5"})}),o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Excluir Conta"}),o.jsx("p",{className:"text-sm text-gray-400",children:"Ao permanente e irreversvel"})]}),o.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:o.jsx(lE,{className:"w-6 h-6 text-red-500"})})]})]}),o.jsxs("div",{className:"flex-1 px-6 space-y-4",children:[s==="warning"&&o.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-4",children:[o.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[o.jsx(mo,{className:"w-5 h-5 text-red-500"}),"Dados que sero excludos"]}),D?o.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(E=>o.jsx("div",{className:"h-8 bg-white/5 rounded-lg animate-pulse"},E))}):o.jsxs("div",{className:"space-y-3",children:[S.assets>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Ativos de criptomoedas"}),o.jsx("span",{className:"font-semibold text-white",children:S.assets})]}),S.transactions>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Transaes"}),o.jsx("span",{className:"font-semibold text-white",children:S.transactions})]}),S.conversions>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Converses"}),o.jsx("span",{className:"font-semibold text-white",children:S.conversions})]}),S.fiatBalances>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Saldos fiat"}),o.jsx("span",{className:"font-semibold text-white",children:S.fiatBalances})]}),S.bankAccounts>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Contas bancrias"}),o.jsx("span",{className:"font-semibold text-white",children:S.bankAccounts})]}),S.pixKeys>0&&o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{className:"text-gray-400",children:"Chaves PIX"}),o.jsx("span",{className:"font-semibold text-white",children:S.pixKeys})]}),S.total===0&&o.jsx("div",{className:"text-center text-gray-500 py-4",children:"Nenhum dado encontrado"}),S.total>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"h-px bg-white/10 my-3"}),o.jsxs("div",{className:"flex justify-between text-base",children:[o.jsx("span",{className:"font-bold text-white",children:"Total"}),o.jsxs("span",{className:"font-bold text-red-500",children:[S.total," itens"]})]})]})]})]}),o.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-red-500 mb-3 flex items-center gap-2",children:[o.jsx(lE,{className:"w-5 h-5"})," Ateno"]}),o.jsxs("ul",{className:"space-y-2 text-sm text-red-200/90",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:["Todos os seus ativos e saldos sero ",o.jsx("strong",{children:"permanentemente excludos"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:["Seu histrico de transaes ser ",o.jsx("strong",{children:"apagado completamente"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:["Suas chaves PIX e contas bancrias sero ",o.jsx("strong",{children:"removidas"})]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:[o.jsx("strong",{children:"No ser possvel recuperar"})," nenhum dado aps a excluso"]})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-red-500 mt-0.5",children:""}),o.jsxs("span",{children:["Sua conta NexCoin ser ",o.jsx("strong",{children:"encerrada definitivamente"})]})]})]})]}),o.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-2xl p-6 mb-6",children:[o.jsx("h3",{className:"text-lg font-bold text-yellow-500 mb-3",children:" Recomendao"}),o.jsx("p",{className:"text-sm text-yellow-200/90",children:"Antes de excluir sua conta, certifique-se de ter sacado todos os seus saldos e transferido seus ativos."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:()=>a("confirm"),className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors flex items-center justify-center gap-2",children:[o.jsx(mo,{className:"w-5 h-5"}),"Continuar com Excluso"]}),o.jsx("button",{onClick:()=>t("profile"),className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors",children:"Cancelar"})]})]}),s==="confirm"&&o.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-6",children:[o.jsx("h2",{className:"text-lg font-bold mb-3",children:"Confirmao de Excluso"}),o.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Para confirmar que voc entende que esta ao  irreversvel, digite ",o.jsx("strong",{className:"text-red-500",children:"EXCLUIR"})," no campo abaixo."]}),o.jsx("input",{type:"text",placeholder:"Digite EXCLUIR",value:l,onChange:E=>c(E.target.value.toUpperCase()),className:"w-full bg-white/5 border border-white/10 text-white rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-red-500 placeholder-gray-500 text-center font-bold text-lg",autoFocus:!0}),l&&l!=="EXCLUIR"&&o.jsx("p",{className:"text-xs text-red-500 mt-2 text-center",children:'O texto no corresponde. Digite exatamente "EXCLUIR"'})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>{i&&i.accountPin?a("pin"):C()},disabled:l!=="EXCLUIR",className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar"}),o.jsx("button",{onClick:()=>a("warning"),className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors",children:"Voltar"})]})]}),s==="pin"&&o.jsxs(Ye.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[o.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-6",children:[o.jsxs("h2",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[o.jsx(Ea,{className:"w-5 h-5"}),"Digite seu PIN"]}),o.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Por segurana, digite seu PIN para confirmar a excluso da conta."}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"password",placeholder:"Seu PIN",value:d,onChange:E=>f(E.target.value),className:"w-full bg-white/5 border border-white/10 text-white rounded-xl px-4 py-3 pr-12 outline-none focus:ring-2 focus:ring-red-500 placeholder-gray-500",autoFocus:!0}),o.jsx("button",{type:"button",onClick:()=>f(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:o.jsx(mo,{className:"w-5 h-5"})})]}),m&&o.jsx("p",{className:"text-xs text-red-500 mt-2 text-center",children:m})]}),o.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 mb-6",children:o.jsxs("p",{className:"text-sm text-red-200/90 text-center",children:[o.jsx("strong",{children:"ltima confirmao:"}),' Ao clicar em "Excluir Minha Conta", todos os seus dados sero ',o.jsx("strong",{children:"permanentemente removidos"})," do NexCoin."]})}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:C,disabled:!d||y,className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y?o.jsxs(o.Fragment,{children:[o.jsx(jf,{className:"w-5 h-5 animate-spin"}),"Excluindo..."]}):o.jsxs(o.Fragment,{children:[o.jsx(mo,{className:"w-5 h-5"}),"Excluir Minha Conta Permanentemente"]})}),o.jsx("button",{onClick:()=>a("confirm"),disabled:y,className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50",children:"Voltar"})]})]})]})]})}function EAe({onNavigate:t}){const{language:e,setLanguage:n,t:r}=In(),i=[{code:"pt",name:r.portuguese,nativeName:"Portugus (Brasil)",flag:""},{code:"en",name:r.english,nativeName:"English (US)",flag:""},{code:"es",name:r.spanish,nativeName:"Espaol",flag:""}],s=async a=>{await n(a),Me.success(r.languageUpdated)};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[o.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[o.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsx(Nt,{className:"w-5 h-5 font-light"})}),o.jsx("h1",{className:"text-xl",children:r.languageSettings})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[o.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 mb-6 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(wp,{className:"w-5 h-5 text-green-500 mt-0.5"}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"mb-1",children:r.selectLanguage}),o.jsx("p",{className:"text-sm text-gray-400",children:"O idioma ser aplicado em todo o aplicativo"})]})]})}),o.jsx("div",{className:"space-y-3",children:i.map(a=>o.jsx("button",{onClick:()=>s(a.code),className:`w-full p-4 rounded-2xl border transition-all active:scale-95 ${e===a.code?"bg-green-500/20 border-green-500/30":"bg-white/5 backdrop-blur-md border-white/10"} shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]`,children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("span",{className:"text-3xl",children:a.flag}),o.jsxs("div",{className:"text-left",children:[o.jsx("div",{className:"text-white mb-0.5",children:a.nativeName}),o.jsx("div",{className:"text-xs text-gray-400",children:a.name})]})]}),e===a.code&&o.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:o.jsx(wn,{className:"w-4 h-4 text-white"})})]})},a.code))}),o.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[o.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm",children:[o.jsx(wp,{className:"w-4 h-4 text-green-500"}),"Idiomas disponveis"]}),o.jsxs("ul",{className:"space-y-2 text-xs text-gray-400",children:[o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:"Portugus - Idioma padro para Brasil"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:"English - Default language for international users"})]}),o.jsxs("li",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-green-500 mt-0.5",children:""}),o.jsx("span",{children:"Espaol - Idioma predeterminado para usuarios hispanohablantes"})]})]})]})]})]})}class SAe extends Se.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary capturou erro:",e,n)}render(){return this.state.hasError?o.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:o.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 p-6 max-w-md",children:[o.jsx("h2",{className:"text-xl mb-4",children:"Algo deu errado"}),o.jsx("p",{className:"text-white/60 text-sm mb-4",children:this.state.error?.message||"Erro desconhecido"}),o.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-white/10 hover:bg-white/20 text-white py-3 px-4 rounded-xl transition-all",children:"Recarregar pgina"})]})}):this.props.children}}function TAe(){return o.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center z-50",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"relative inline-block",children:o.jsx("img",{src:"/assets/logos/logo_white.png",alt:"NexCoin Logo",className:"w-32 h-32 object-contain animate-pulse"})}),o.jsx("div",{className:"mt-8",children:o.jsx("div",{className:"w-8 h-8 border-4 border-t-[#00d4ff] border-r-transparent border-b-[#7b2ff7] border-l-transparent rounded-full animate-spin"})})]})})}function PAe({onRetry:t}){const{t:e}=In();return o.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black flex flex-col items-center justify-center p-6 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mb-6",children:o.jsx(EG,{className:"w-10 h-10 text-red-500"})}),o.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:e.permissions.locationTitle}),o.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed",children:e.permissions.locationDesc}),o.jsxs("button",{onClick:t,className:"w-full max-w-xs bg-white text-black font-bold py-4 rounded-full flex items-center justify-center gap-2 active:scale-[0.98] transition-all",children:[o.jsx(bT,{className:"w-5 h-5"}),e.permissions.retry]}),o.jsx("p",{className:"mt-8 text-xs text-gray-500",children:e.permissions.securityNotice})]})}function AAe({onRetry:t}){const{t:e}=In();return o.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black flex flex-col items-center justify-center p-6 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-blue-500/10 rounded-full flex items-center justify-center mb-6",children:o.jsx(mG,{className:"w-10 h-10 text-blue-500"})}),o.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:e.permissions.cameraTitle}),o.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed",children:e.permissions.cameraDesc}),o.jsxs("button",{onClick:t,className:"w-full max-w-xs bg-white text-black font-bold py-4 rounded-full flex items-center justify-center gap-2 active:scale-[0.98] transition-all",children:[o.jsx(bT,{className:"w-5 h-5"}),e.permissions.retry]}),o.jsx("p",{className:"mt-8 text-xs text-gray-500",children:e.permissions.securityNotice})]})}const Sl=Nh("PushNotifications",{});var i6;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(i6||(i6={}));const s6=Nh("LocalNotifications",{web:()=>GP(()=>import("./web-CrqoYcZ4.js"),[],import.meta.url).then(t=>new t.LocalNotificationsWeb)}),IAe=N.createContext(void 0);function jAe({children:t}){const{userData:e,isAuthenticated:n}=Vt(),{t:r}=In(),[i,s]=N.useState(null),[a,l]=N.useState(!1),c=N.useCallback(async()=>{try{console.log(" [Notifications] Iniciando registro de Push...");const f=await Sl.checkPermissions();return f.receive==="prompt"&&(await Sl.requestPermissions()).receive!=="granted"?(console.warn(" [Notifications] Permisso de Push negada"),!1):f.receive!=="granted"&&(await Sl.requestPermissions()).receive!=="granted"?!1:(await Sl.register(),Sl.addListener("registration",m=>{if(console.log(" [Notifications] Token de Push recebido:",m.value),s(m.value),e?.uid){const p=et(we,"users",e.uid);wi(p,{pushToken:m.value}).catch(y=>{console.error(" Erro ao salvar pushToken:",y)})}}),Sl.addListener("registrationError",m=>{console.error(" [Notifications] Erro no registro de Push:",m)}),Sl.addListener("pushNotificationReceived",m=>{console.log(" [Notifications] Push recebido (Foreground):",m)}),Sl.addListener("pushNotificationActionPerformed",m=>{console.log(" [Notifications] Ao de Push executada:",m)}),!0)}catch(f){return console.error(" [Notifications] Erro ao configurar Push:",f),!1}},[e?.uid]),d=async(f,m,p)=>{try{await s6.schedule({notifications:[{title:f,body:m,id:Math.floor(Math.random()*1e4),schedule:{at:new Date(Date.now()+100)},extra:p,sound:"default"}]})}catch(y){console.error(" [Notifications] Erro ao enviar Local Notification:",y)}};return N.useEffect(()=>{if(!n||!e?.uid)return;console.log(" [Notifications] Iniciando monitor de transaes para notificaes...");const f=it(we,"users",e.uid,"transactions"),m=Dt(f,It("status","==","completed"),vg("createdAt","desc"),Rl(5)),p=ei(m,y=>{y.docChanges().forEach(x=>{if(x.type==="added"){const b=x.doc.data(),_=x.doc.id,S=`nNexCoin_notified_txs_${e.uid}`,R=JSON.parse(localStorage.getItem(S)||"[]");if(R.includes(_))return;const D=b.createdAt?.toDate?b.createdAt.toDate():new Date(b.createdAt);if(Math.abs(new Date().getTime()-D.getTime())/(1e3*60*60)<24&&(console.log(" [Notifications] Nova transao detectada (ou no vista):",b),["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(b.type))){const E=b.type.includes("pix")?"PIX Recebido":"Cripto Recebida",A=`Voc recebeu ${b.amount} ${b.currency}!`;d(E,A,{txId:_});const j=[...R,_];j.length>50&&j.shift(),localStorage.setItem(S,JSON.stringify(j))}}})});return()=>p()},[n,e?.uid]),N.useEffect(()=>{n&&!a&&(l(!0),s6.requestPermissions())},[n,a,c]),o.jsx(IAe.Provider,{value:{pushToken:i,requestPermissions:c,sendLocalNotification:d},children:t})}const sE="NexCoin_permissions_requested";function kAe(){const{isAuthenticated:t,isPinVerified:e,userData:n}=Vt(),r=N.useRef(!1);N.useEffect(()=>{if(!t||!e||!n)return;if(r.current){console.log(" usePermissionsRequest: J solicitado nesta sesso (Ref)");return}if(localStorage.getItem(`${sE}_${n.uid}`)==="true"){console.log(" usePermissionsRequest: J solicitado neste dispositivo (LocalStorage)"),r.current=!0;return}if(n.permissionsRequested){console.log(" usePermissionsRequest: J solicitado anteriormente (Firestore)"),localStorage.setItem(`${sE}_${n.uid}`,"true"),r.current=!0;return}console.log(" usePermissionsRequest: Iniciando solicitao de permisses em 2 segundos..."),r.current=!0;const s=setTimeout(()=>{a()},2e3);return()=>clearTimeout(s);async function a(){console.log(" === INICIANDO SOLICITAO DE PERMISSES NATIVAS ===");const l=Pa.isNativePlatform(),c=n?.uid,d={location:"not_requested",camera:"not_requested"};c&&localStorage.setItem(`${sE}_${c}`,"true");try{try{if(l)if((await lf.checkPermissions()).location!=="granted"){console.log(" Solicitando permisso de LOCALIZAO (Plugin)");const m=await lf.requestPermissions();d.location=m.location}else d.location="granted";else await new Promise(f=>{navigator.geolocation.getCurrentPosition(()=>{d.location="granted",f()},()=>{d.location="denied",f()},{timeout:5e3})})}catch(f){console.error(" Erro ao solicitar localizao:",f),d.location="error"}await new Promise(f=>setTimeout(f,800));try{if(l)if((await WE.checkPermissions()).camera!=="granted"){console.log(" Solicitando permisso de CMERA (Plugin)");const m=await WE.requestPermissions();d.camera=m.camera}else d.camera="granted";else try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(m=>m.stop()),d.camera="granted"}catch{d.camera="denied"}}catch(f){console.error(" Erro ao solicitar cmera:",f),d.camera="error"}if(console.log(" Salvando estado de solicitao no Firestore:",d),c)try{const f=et(we,"users",c);await wi(f,{permissionsRequested:!0,locationPermission:d.location,cameraPermission:d.camera,permissionsRequestedAt:new Date().toISOString()}),console.log(" Estado salvo no Firestore")}catch(f){console.error(" Erro ao salvar estado no Firestore:",f)}}catch(f){console.error(" Erro geral ao solicitar permisses:",f)}}},[t,e,n])}function RAe(){const{t}=In(),e="https://play.google.com/store/apps/details?id=com.ethertron.app",n="https://apps.apple.com/app/ethertron/id6470000000",r={initial:{opacity:0},animate:{opacity:1,transition:{staggerChildren:.15}}},i={initial:{opacity:0,y:30},animate:{opacity:1,y:0}};return o.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center px-6 py-12 relative overflow-hidden",children:[o.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-[500px] bg-blue-600/10 blur-[120px] rounded-full"}),o.jsx("div",{className:"absolute bottom-0 right-0 w-64 h-64 bg-indigo-600/10 blur-[100px] rounded-full"}),o.jsxs(Ye.div,{variants:r,initial:"initial",animate:"animate",className:"max-w-5xl w-full text-center relative z-10",children:[o.jsx(Ye.div,{variants:i,className:"mb-4"}),o.jsxs(Ye.div,{variants:i,className:"mb-12",children:[o.jsxs("h2",{className:"text-3xl lg:text-5xl font-black mb-6 tracking-tight leading-tight",children:[t.downloadApp.successSubtitle.split(",")[0],o.jsx("span",{className:"text-blue-500",children:"."})]}),o.jsx("p",{className:"text-gray-400 text-lg max-w-2xl mx-auto leading-relaxed",children:t.downloadApp.successSubtitle.split(",").slice(1).join(",")})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-8 lg:gap-10 mt-12",children:[o.jsxs(Ye.div,{variants:i,className:"group flex flex-col items-center relative transition-all duration-500",children:[o.jsx("div",{className:"pt-8"}),o.jsx("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:t.downloadApp.android}),o.jsx("div",{className:"bg-white p-2 rounded-3xl mb-8 shadow-2xl relative group-hover:scale-[1.02] transition-transform duration-500",children:o.jsx(Kx,{value:e,size:200,level:"H",includeMargin:!1,imageSettings:{src:"https://upload.wikimedia.org/wikipedia/commons/d/d7/Android_robot.svg",x:void 0,y:void 0,height:40,width:40,excavate:!0}})}),o.jsx("p",{className:"text-sm text-gray-500 mb-8 max-w-[180px]",children:t.downloadApp.androidHint})]}),o.jsxs(Ye.div,{variants:i,className:"group flex flex-col items-center relative transition-all duration-500",children:[o.jsx("div",{className:"pt-8"}),o.jsx("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:t.downloadApp.ios}),o.jsx("div",{className:"bg-white p-2 rounded-3xl mb-8 shadow-2xl relative group-hover:scale-[1.02] transition-transform duration-500",children:o.jsx(Kx,{value:n,size:200,level:"H",includeMargin:!1,imageSettings:{src:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Apple_logo_black.svg",x:void 0,y:void 0,height:40,width:40,excavate:!0}})}),o.jsx("p",{className:"text-sm text-gray-500 mb-8 max-w-[180px]",children:t.downloadApp.iosHint})]})]}),o.jsxs(Ye.div,{variants:i,className:"mt-20 pt-10 border-t border-white/5 flex flex-col md:flex-row items-center justify-between gap-6 text-gray-500 text-sm",children:[o.jsx("p",{children:t.downloadApp.rightsReserved}),o.jsxs("div",{className:"flex gap-8",children:[o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:t.landingPage.footerPrivacy}),o.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:t.landingPage.footerTerms})]})]})]})]})}const DAe=console.error;console.error=(...t)=>{typeof t[0]=="string"&&(t[0].includes("WebChannelConnection")||t[0].includes("RPC")||t[0].includes("transport errored"))||DAe.apply(console,t)};function OAe(){const{isAuthenticated:t,isPinVerified:e,userData:n,loading:r}=Vt(),{hasPermission:i,hasCameraPermission:s,isLoading:a,getCurrentLocation:l,checkCameraPermission:c}=PU(),[d,f]=N.useState("welcome"),[m]=N.useState(Pa.getPlatform()==="web"),[p,y]=N.useState(!1),[x,b]=N.useState("fade"),[_,S]=N.useState(null),[R,D]=N.useState(null),[z,I]=N.useState(!1);kAe(),N.useEffect(()=>{if(!r){if(!z){t&&e?(console.log(" Inicializao: Usurio autenticado"),f(m?"downloadApp":"home")):(console.log(" Inicializao: Usurio no autenticado, ficando em welcome"),f("welcome")),I(!0);return}if(t){if(t&&!e)["login","signup"].includes(d)&&(console.log(" Redirecionando para pinVerify (vindo de login/signup)"),f("pinVerify"));else if(t&&e){if(m&&["welcome","login","signup","pinVerify","pinSetup"].includes(d)){console.log(" Web: Cadastro finalizado, indo para tela de download"),f("downloadApp");return}["welcome","login","signup","pinSetup","pinVerify"].includes(d)&&(console.log(" Redirecionando para home"),f("home"))}}else return}},[t,e,r,z]);const P=j=>({welcome:"fade",login:"slide",signup:"slideup",pinSetup:"slideup",pinVerify:"slideup",country:"scale",countrySelection:"scale",completeProfile:"slideup",home:"fade",wallet:"slide",convert:"scale",crypto:"slideup",profile:"slide",personalInfo:"slide",accountData:"slide",security:"scale",changePassword:"slideup",notifications:"slideup",pushSettings:"slideup",helpCenter:"slideup",termsAndConditions:"slideup",privacyPolicy:"slideup",termsMenu:"slideup",deposit:"slideup",withdraw:"slide",withdrawFiat:"slide",receive:"fade",transactions:"scale",passwordEntry:"slideup",manageHoldings:"slideup",fiatAccountDetails:"slideup",selectFiatAccount:"slideup",deleteAccount:"slideup",languageSettings:"slideup",cards:"slideup",downloadApp:"fade"})[j]||"slide",C=j=>{let V=j;m&&(j==="home"||j==="wallet"||j==="convert"||j==="crypto")&&(console.log(" Web: Redirecionando de",j,"para downloadApp"),V="downloadApp"),console.log(" handleNavigate chamado para:",V),y(!0),setTimeout(()=>{console.log(" Mudando tela para:",V),f(V),b(P(V)),y(!1)},300)},E=(j,V)=>{S(V),C(j)},A=()=>{switch(d){case"welcome":return o.jsx(Ek,{onNavigate:C});case"login":return o.jsx(yie,{onNavigate:C});case"signup":return o.jsx(bie,{onNavigate:C});case"pinSetup":return o.jsx(wie,{onNavigate:C});case"country":return o.jsx(FD,{onNavigate:C});case"countrySelection":return o.jsx(FD,{onNavigate:C});case"home":return o.jsx(UL,{onNavigate:C,onNavigateWithAccount:E});case"wallet":return o.jsx(h1e,{onNavigate:C});case"convert":return o.jsx(N1e,{onNavigate:C,onNavigateWithAccount:E});case"crypto":return o.jsx(C1e,{onNavigate:C});case"profile":return o.jsx(E1e,{onNavigate:C});case"personalInfo":return o.jsx(S1e,{onNavigate:C});case"accountData":return o.jsx(CSe,{onNavigate:C});case"security":return o.jsx(ESe,{onNavigate:C});case"changePassword":return o.jsx(SSe,{onNavigate:C});case"notifications":return o.jsx(XTe,{onNavigate:C});case"pushSettings":return o.jsx(YTe,{onNavigate:C});case"helpCenter":return o.jsx(QTe,{onNavigate:C});case"termsAndConditions":return o.jsx(JTe,{onNavigate:C});case"privacyPolicy":return o.jsx(ZTe,{onNavigate:C});case"termsMenu":return o.jsx(ePe,{onNavigate:C});case"deposit":return o.jsx(hPe,{onNavigate:C});case"withdraw":return o.jsx(wPe,{onNavigate:C});case"withdrawFiat":return o.jsx(SPe,{onNavigate:C,onBack:()=>C("home")});case"receive":return o.jsx(YPe,{onNavigate:C});case"transactions":return o.jsx(QPe,{onNavigate:C});case"passwordEntry":return o.jsx(ZPe,{onNavigate:C});case"manageHoldings":return o.jsx(eAe,{onNavigate:C});case"fiatAccountDetails":return _?o.jsx(e6,{account:_,onClose:()=>C("home"),onNavigateToConvert:()=>C("convert"),onNavigateToWithdraw:()=>E("withdrawFiat",_)}):o.jsx(UL,{onNavigate:C,onNavigateWithAccount:E});case"selectFiatAccount":return o.jsx(tAe,{onNavigate:C,onNavigateWithAccount:E});case"deleteAccount":return o.jsx(CAe,{onNavigate:C});case"languageSettings":return o.jsx(EAe,{onNavigate:C});case"cards":return o.jsx(bAe,{onNavigate:C});case"downloadApp":return o.jsx(RAe,{});default:return o.jsx(Ek,{onNavigate:C})}};return r||!z?o.jsx(TAe,{}):t&&n?.trackLocationEnabled===!0&&!i&&!a&&!["welcome","login","signup"].includes(d)?o.jsx(PAe,{onRetry:()=>l()}):t&&n?.requireCameraPermission===!0&&!s&&!a&&!["welcome","login","signup","pinSetup","pinVerify"].includes(d)?o.jsx(AAe,{onRetry:()=>c()}):m&&!t&&(d==="welcome"||d==="login")?o.jsx(tPe,{onNavigate:C}):o.jsxs("div",{className:`min-h-screen bg-black text-white w-full ${m?"":"max-w-[430px] mx-auto"} relative`,children:[t&&n&&n.aprovado==="no"?o.jsx(wAe,{}):o.jsxs(o.Fragment,{children:[d==="fiatAccountDetails"&&_?o.jsx(e6,{account:_,onClose:()=>C("home"),onNavigateToConvert:()=>C("convert"),onNavigateToWithdraw:()=>E("withdrawFiat",_)}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:p?`page-${x}-exit`:`page-${x}-enter`,children:A()}),["home","wallet","convert","crypto","cards","profile"].includes(d)&&o.jsx(JPe,{onNavigate:C,currentScreen:d})]}),o.jsx(nAe,{})]}),o.jsx(fse,{position:"top-center",theme:"dark",toastOptions:{style:{background:"#18181b",border:"1px solid rgba(255, 255, 255, 0.1)",color:"#fff"}}})]})}function MAe(){return o.jsx(SAe,{children:o.jsx(iie,{children:o.jsx(vie,{children:o.jsx(sie,{children:o.jsx(gie,{children:o.jsx(_ie,{children:o.jsx(Cie,{children:o.jsx(Nie,{children:o.jsx(Vie,{children:o.jsx(jAe,{children:o.jsx(OAe,{})})})})})})})})})})})}aG.createRoot(document.getElementById("root")).render(o.jsx(Se.StrictMode,{children:o.jsx(MAe,{})}));export{XP as W};

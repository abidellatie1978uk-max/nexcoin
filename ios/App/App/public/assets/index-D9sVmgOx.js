function YW(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ei(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function QW(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var r1={exports:{}},Lh={},i1={exports:{}},mt={};var t2;function JW(){if(t2)return mt;t2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function p(U){return U===null||typeof U!="object"?null:(U=m&&U[m]||U["@@iterator"],typeof U=="function"?U:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,w={};function _(U,H,Q){this.props=U,this.context=H,this.refs=w,this.updater=Q||y}_.prototype.isReactComponent={},_.prototype.setState=function(U,H){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,H,"setState")},_.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function T(){}T.prototype=_.prototype;function L(U,H,Q){this.props=U,this.context=H,this.refs=w,this.updater=Q||y}var O=L.prototype=new T;O.constructor=L,v(O,_.prototype),O.isPureReactComponent=!0;var z=Array.isArray,j=Object.prototype.hasOwnProperty,P={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(U,H,Q){var Z,te={},ae=null,re=null;if(H!=null)for(Z in H.ref!==void 0&&(re=H.ref),H.key!==void 0&&(ae=""+H.key),H)j.call(H,Z)&&!C.hasOwnProperty(Z)&&(te[Z]=H[Z]);var xe=arguments.length-2;if(xe===1)te.children=Q;else if(1<xe){for(var se=Array(xe),he=0;he<xe;he++)se[he]=arguments[he+2];te.children=se}if(U&&U.defaultProps)for(Z in xe=U.defaultProps,xe)te[Z]===void 0&&(te[Z]=xe[Z]);return{$$typeof:t,type:U,key:ae,ref:re,props:te,_owner:P.current}}function k(U,H){return{$$typeof:t,type:U.type,key:H,ref:U.ref,props:U.props,_owner:U._owner}}function A(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function D(U){var H={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Q){return H[Q]})}var M=/\/+/g;function I(U,H){return typeof U=="object"&&U!==null&&U.key!=null?D(""+U.key):H.toString(36)}function K(U,H,Q,Z,te){var ae=typeof U;(ae==="undefined"||ae==="boolean")&&(U=null);var re=!1;if(U===null)re=!0;else switch(ae){case"string":case"number":re=!0;break;case"object":switch(U.$$typeof){case t:case e:re=!0}}if(re)return re=U,te=te(re),U=Z===""?"."+I(re,0):Z,z(te)?(Q="",U!=null&&(Q=U.replace(M,"$&/")+"/"),K(te,H,Q,"",function(he){return he})):te!=null&&(A(te)&&(te=k(te,Q+(!te.key||re&&re.key===te.key?"":(""+te.key).replace(M,"$&/")+"/")+U)),H.push(te)),1;if(re=0,Z=Z===""?".":Z+":",z(U))for(var xe=0;xe<U.length;xe++){ae=U[xe];var se=Z+I(ae,xe);re+=K(ae,H,Q,se,te)}else if(se=p(U),typeof se=="function")for(U=se.call(U),xe=0;!(ae=U.next()).done;)ae=ae.value,se=Z+I(ae,xe++),re+=K(ae,H,Q,se,te);else if(ae==="object")throw H=String(U),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return re}function Y(U,H,Q){if(U==null)return U;var Z=[],te=0;return K(U,Z,"","",function(ae){return H.call(Q,ae,te++)}),Z}function J(U){if(U._status===-1){var H=U._result;H=H(),H.then(function(Q){(U._status===0||U._status===-1)&&(U._status=1,U._result=Q)},function(Q){(U._status===0||U._status===-1)&&(U._status=2,U._result=Q)}),U._status===-1&&(U._status=0,U._result=H)}if(U._status===1)return U._result.default;throw U._result}var F={current:null},G={transition:null},q={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:G,ReactCurrentOwner:P};function R(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:Y,forEach:function(U,H,Q){Y(U,function(){H.apply(this,arguments)},Q)},count:function(U){var H=0;return Y(U,function(){H++}),H},toArray:function(U){return Y(U,function(H){return H})||[]},only:function(U){if(!A(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},mt.Component=_,mt.Fragment=n,mt.Profiler=i,mt.PureComponent=L,mt.StrictMode=r,mt.Suspense=l,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,mt.act=R,mt.cloneElement=function(U,H,Q){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Z=v({},U.props),te=U.key,ae=U.ref,re=U._owner;if(H!=null){if(H.ref!==void 0&&(ae=H.ref,re=P.current),H.key!==void 0&&(te=""+H.key),U.type&&U.type.defaultProps)var xe=U.type.defaultProps;for(se in H)j.call(H,se)&&!C.hasOwnProperty(se)&&(Z[se]=H[se]===void 0&&xe!==void 0?xe[se]:H[se])}var se=arguments.length-2;if(se===1)Z.children=Q;else if(1<se){xe=Array(se);for(var he=0;he<se;he++)xe[he]=arguments[he+2];Z.children=xe}return{$$typeof:t,type:U.type,key:te,ref:ae,props:Z,_owner:re}},mt.createContext=function(U){return U={$$typeof:a,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:s,_context:U},U.Consumer=U},mt.createElement=S,mt.createFactory=function(U){var H=S.bind(null,U);return H.type=U,H},mt.createRef=function(){return{current:null}},mt.forwardRef=function(U){return{$$typeof:o,render:U}},mt.isValidElement=A,mt.lazy=function(U){return{$$typeof:f,_payload:{_status:-1,_result:U},_init:J}},mt.memo=function(U,H){return{$$typeof:d,type:U,compare:H===void 0?null:H}},mt.startTransition=function(U){var H=G.transition;G.transition={};try{U()}finally{G.transition=H}},mt.unstable_act=R,mt.useCallback=function(U,H){return F.current.useCallback(U,H)},mt.useContext=function(U){return F.current.useContext(U)},mt.useDebugValue=function(){},mt.useDeferredValue=function(U){return F.current.useDeferredValue(U)},mt.useEffect=function(U,H){return F.current.useEffect(U,H)},mt.useId=function(){return F.current.useId()},mt.useImperativeHandle=function(U,H,Q){return F.current.useImperativeHandle(U,H,Q)},mt.useInsertionEffect=function(U,H){return F.current.useInsertionEffect(U,H)},mt.useLayoutEffect=function(U,H){return F.current.useLayoutEffect(U,H)},mt.useMemo=function(U,H){return F.current.useMemo(U,H)},mt.useReducer=function(U,H,Q){return F.current.useReducer(U,H,Q)},mt.useRef=function(U){return F.current.useRef(U)},mt.useState=function(U){return F.current.useState(U)},mt.useSyncExternalStore=function(U,H,Q){return F.current.useSyncExternalStore(U,H,Q)},mt.useTransition=function(){return F.current.useTransition()},mt.version="18.3.1",mt}var n2;function ni(){return n2||(n2=1,i1.exports=JW()),i1.exports}var r2;function ZW(){if(r2)return Lh;r2=1;var t=ni(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,d){var f,m={},p=null,y=null;d!==void 0&&(p=""+d),l.key!==void 0&&(p=""+l.key),l.ref!==void 0&&(y=l.ref);for(f in l)r.call(l,f)&&!s.hasOwnProperty(f)&&(m[f]=l[f]);if(o&&o.defaultProps)for(f in l=o.defaultProps,l)m[f]===void 0&&(m[f]=l[f]);return{$$typeof:e,type:o,key:p,ref:y,props:m,_owner:i.current}}return Lh.Fragment=n,Lh.jsx=a,Lh.jsxs=a,Lh}var i2;function eH(){return i2||(i2=1,r1.exports=ZW()),r1.exports}var c=eH(),E=ni();const Se=Ei(E),tH=YW({__proto__:null,default:Se},[E]);var vy={},s1={exports:{}},pi={},a1={exports:{}},o1={};var s2;function nH(){return s2||(s2=1,(function(t){function e(G,q){var R=G.length;G.push(q);e:for(;0<R;){var U=R-1>>>1,H=G[U];if(0<i(H,q))G[U]=q,G[R]=H,R=U;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var q=G[0],R=G.pop();if(R!==q){G[0]=R;e:for(var U=0,H=G.length,Q=H>>>1;U<Q;){var Z=2*(U+1)-1,te=G[Z],ae=Z+1,re=G[ae];if(0>i(te,R))ae<H&&0>i(re,te)?(G[U]=re,G[ae]=R,U=ae):(G[U]=te,G[Z]=R,U=Z);else if(ae<H&&0>i(re,R))G[U]=re,G[ae]=R,U=ae;else break e}}return q}function i(G,q){var R=G.sortIndex-q.sortIndex;return R!==0?R:G.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],d=[],f=1,m=null,p=3,y=!1,v=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(G){for(var q=n(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=G)r(d),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(d)}}function z(G){if(w=!1,O(G),!v)if(n(l)!==null)v=!0,J(j);else{var q=n(d);q!==null&&F(z,q.startTime-G)}}function j(G,q){v=!1,w&&(w=!1,T(S),S=-1),y=!0;var R=p;try{for(O(q),m=n(l);m!==null&&(!(m.expirationTime>q)||G&&!D());){var U=m.callback;if(typeof U=="function"){m.callback=null,p=m.priorityLevel;var H=U(m.expirationTime<=q);q=t.unstable_now(),typeof H=="function"?m.callback=H:m===n(l)&&r(l),O(q)}else r(l);m=n(l)}if(m!==null)var Q=!0;else{var Z=n(d);Z!==null&&F(z,Z.startTime-q),Q=!1}return Q}finally{m=null,p=R,y=!1}}var P=!1,C=null,S=-1,k=5,A=-1;function D(){return!(t.unstable_now()-A<k)}function M(){if(C!==null){var G=t.unstable_now();A=G;var q=!0;try{q=C(!0,G)}finally{q?I():(P=!1,C=null)}}else P=!1}var I;if(typeof L=="function")I=function(){L(M)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Y=K.port2;K.port1.onmessage=M,I=function(){Y.postMessage(null)}}else I=function(){_(M,0)};function J(G){C=G,P||(P=!0,I())}function F(G,q){S=_(function(){G(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,J(j))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var R=p;p=q;try{return G()}finally{p=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,q){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var R=p;p=G;try{return q()}finally{p=R}},t.unstable_scheduleCallback=function(G,q,R){var U=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?U+R:U):R=U,G){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=R+H,G={id:f++,callback:q,priorityLevel:G,startTime:R,expirationTime:H,sortIndex:-1},R>U?(G.sortIndex=R,e(d,G),n(l)===null&&G===n(d)&&(w?(T(S),S=-1):w=!0,F(z,R-U))):(G.sortIndex=H,e(l,G),v||y||(v=!0,J(j))),G},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(G){var q=p;return function(){var R=p;p=q;try{return G.apply(this,arguments)}finally{p=R}}}})(o1)),o1}var a2;function rH(){return a2||(a2=1,a1.exports=nH()),a1.exports}var o2;function iH(){if(o2)return pi;o2=1;var t=ni(),e=rH();function n(u){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,h){a(u,h),a(u+"Capture",h)}function a(u,h){for(i[u]=h,u=0;u<h.length;u++)r.add(h[u])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function p(u){return l.call(m,u)?!0:l.call(f,u)?!1:d.test(u)?m[u]=!0:(f[u]=!0,!1)}function y(u,h,g,b){if(g!==null&&g.type===0)return!1;switch(typeof h){case"function":case"symbol":return!0;case"boolean":return b?!1:g!==null?!g.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function v(u,h,g,b){if(h===null||typeof h>"u"||y(u,h,g,b))return!0;if(b)return!1;if(g!==null)switch(g.type){case 3:return!h;case 4:return h===!1;case 5:return isNaN(h);case 6:return isNaN(h)||1>h}return!1}function w(u,h,g,b,N,B,W){this.acceptsBooleans=h===2||h===3||h===4,this.attributeName=b,this.attributeNamespace=N,this.mustUseProperty=g,this.propertyName=u,this.type=h,this.sanitizeURL=B,this.removeEmptyString=W}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){_[u]=new w(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var h=u[0];_[h]=new w(h,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){_[u]=new w(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){_[u]=new w(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){_[u]=new w(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){_[u]=new w(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){_[u]=new w(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){_[u]=new w(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){_[u]=new w(u,5,!1,u.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function L(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var h=u.replace(T,L);_[h]=new w(h,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var h=u.replace(T,L);_[h]=new w(h,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var h=u.replace(T,L);_[h]=new w(h,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){_[u]=new w(u,1,!1,u.toLowerCase(),null,!1,!1)}),_.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){_[u]=new w(u,1,!1,u.toLowerCase(),null,!0,!0)});function O(u,h,g,b){var N=_.hasOwnProperty(h)?_[h]:null;(N!==null?N.type!==0:b||!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(v(h,g,N,b)&&(g=null),b||N===null?p(h)&&(g===null?u.removeAttribute(h):u.setAttribute(h,""+g)):N.mustUseProperty?u[N.propertyName]=g===null?N.type===3?!1:"":g:(h=N.attributeName,b=N.attributeNamespace,g===null?u.removeAttribute(h):(N=N.type,g=N===3||N===4&&g===!0?"":""+g,b?u.setAttributeNS(b,h,g):u.setAttribute(h,g))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),P=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),F=Symbol.for("react.offscreen"),G=Symbol.iterator;function q(u){return u===null||typeof u!="object"?null:(u=G&&u[G]||u["@@iterator"],typeof u=="function"?u:null)}var R=Object.assign,U;function H(u){if(U===void 0)try{throw Error()}catch(g){var h=g.stack.trim().match(/\n( *(at )?)/);U=h&&h[1]||""}return`
`+U+u}var Q=!1;function Z(u,h){if(!u||Q)return"";Q=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(pe){var b=pe}Reflect.construct(u,[],h)}else{try{h.call()}catch(pe){b=pe}u.call(h.prototype)}else{try{throw Error()}catch(pe){b=pe}u()}}catch(pe){if(pe&&b&&typeof pe.stack=="string"){for(var N=pe.stack.split(`
`),B=b.stack.split(`
`),W=N.length-1,ee=B.length-1;1<=W&&0<=ee&&N[W]!==B[ee];)ee--;for(;1<=W&&0<=ee;W--,ee--)if(N[W]!==B[ee]){if(W!==1||ee!==1)do if(W--,ee--,0>ee||N[W]!==B[ee]){var ne=`
`+N[W].replace(" at new "," at ");return u.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",u.displayName)),ne}while(1<=W&&0<=ee);break}}}finally{Q=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?H(u):""}function te(u){switch(u.tag){case 5:return H(u.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return u=Z(u.type,!1),u;case 11:return u=Z(u.type.render,!1),u;case 1:return u=Z(u.type,!0),u;default:return""}}function ae(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case C:return"Fragment";case P:return"Portal";case k:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case K:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case D:return(u.displayName||"Context")+".Consumer";case A:return(u._context.displayName||"Context")+".Provider";case M:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case Y:return h=u.displayName||null,h!==null?h:ae(u.type)||"Memo";case J:h=u._payload,u=u._init;try{return ae(u(h))}catch{}}return null}function re(u){var h=u.type;switch(u.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=h.render,u=u.displayName||u.name||"",h.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(h);case 8:return h===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function xe(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function se(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function he(u){var h=se(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,h),b=""+u[h];if(!u.hasOwnProperty(h)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var N=g.get,B=g.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return N.call(this)},set:function(W){b=""+W,B.call(this,W)}}),Object.defineProperty(u,h,{enumerable:g.enumerable}),{getValue:function(){return b},setValue:function(W){b=""+W},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function Te(u){u._valueTracker||(u._valueTracker=he(u))}function me(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var g=h.getValue(),b="";return u&&(b=se(u)?u.checked?"true":"false":u.value),u=b,u!==g?(h.setValue(u),!0):!1}function De(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Ie(u,h){var g=h.checked;return R({},h,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??u._wrapperState.initialChecked})}function Ye(u,h){var g=h.defaultValue==null?"":h.defaultValue,b=h.checked!=null?h.checked:h.defaultChecked;g=xe(h.value!=null?h.value:g),u._wrapperState={initialChecked:b,initialValue:g,controlled:h.type==="checkbox"||h.type==="radio"?h.checked!=null:h.value!=null}}function Je(u,h){h=h.checked,h!=null&&O(u,"checked",h,!1)}function Qe(u,h){Je(u,h);var g=xe(h.value),b=h.type;if(g!=null)b==="number"?(g===0&&u.value===""||u.value!=g)&&(u.value=""+g):u.value!==""+g&&(u.value=""+g);else if(b==="submit"||b==="reset"){u.removeAttribute("value");return}h.hasOwnProperty("value")?Vt(u,h.type,g):h.hasOwnProperty("defaultValue")&&Vt(u,h.type,xe(h.defaultValue)),h.checked==null&&h.defaultChecked!=null&&(u.defaultChecked=!!h.defaultChecked)}function bt(u,h,g){if(h.hasOwnProperty("value")||h.hasOwnProperty("defaultValue")){var b=h.type;if(!(b!=="submit"&&b!=="reset"||h.value!==void 0&&h.value!==null))return;h=""+u._wrapperState.initialValue,g||h===u.value||(u.value=h),u.defaultValue=h}g=u.name,g!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,g!==""&&(u.name=g)}function Vt(u,h,g){(h!=="number"||De(u.ownerDocument)!==u)&&(g==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+g&&(u.defaultValue=""+g))}var ut=Array.isArray;function oe(u,h,g,b){if(u=u.options,h){h={};for(var N=0;N<g.length;N++)h["$"+g[N]]=!0;for(g=0;g<u.length;g++)N=h.hasOwnProperty("$"+u[g].value),u[g].selected!==N&&(u[g].selected=N),N&&b&&(u[g].defaultSelected=!0)}else{for(g=""+xe(g),h=null,N=0;N<u.length;N++){if(u[N].value===g){u[N].selected=!0,b&&(u[N].defaultSelected=!0);return}h!==null||u[N].disabled||(h=u[N])}h!==null&&(h.selected=!0)}}function je(u,h){if(h.dangerouslySetInnerHTML!=null)throw Error(n(91));return R({},h,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function qe(u,h){var g=h.value;if(g==null){if(g=h.children,h=h.defaultValue,g!=null){if(h!=null)throw Error(n(92));if(ut(g)){if(1<g.length)throw Error(n(93));g=g[0]}h=g}h==null&&(h=""),g=h}u._wrapperState={initialValue:xe(g)}}function dt(u,h){var g=xe(h.value),b=xe(h.defaultValue);g!=null&&(g=""+g,g!==u.value&&(u.value=g),h.defaultValue==null&&u.defaultValue!==g&&(u.defaultValue=g)),b!=null&&(u.defaultValue=""+b)}function ht(u){var h=u.textContent;h===u._wrapperState.initialValue&&h!==""&&h!==null&&(u.value=h)}function le(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oe(u,h){return u==null||u==="http://www.w3.org/1999/xhtml"?le(h):u==="http://www.w3.org/2000/svg"&&h==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var wt,Bt=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(h,g,b,N){MSApp.execUnsafeLocalFunction(function(){return u(h,g,b,N)})}:u})(function(u,h){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=h;else{for(wt=wt||document.createElement("div"),wt.innerHTML="<svg>"+h.valueOf().toString()+"</svg>",h=wt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;h.firstChild;)u.appendChild(h.firstChild)}});function lt(u,h){if(h){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=h;return}}u.textContent=h}var Tn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$n=["Webkit","ms","Moz","O"];Object.keys(Tn).forEach(function(u){$n.forEach(function(h){h=h+u.charAt(0).toUpperCase()+u.substring(1),Tn[h]=Tn[u]})});function ii(u,h,g){return h==null||typeof h=="boolean"||h===""?"":g||typeof h!="number"||h===0||Tn.hasOwnProperty(u)&&Tn[u]?(""+h).trim():h+"px"}function Cn(u,h){u=u.style;for(var g in h)if(h.hasOwnProperty(g)){var b=g.indexOf("--")===0,N=ii(g,h[g],b);g==="float"&&(g="cssFloat"),b?u.setProperty(g,N):u[g]=N}}var ps=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ur(u,h){if(h){if(ps[u]&&(h.children!=null||h.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(h.dangerouslySetInnerHTML!=null){if(h.children!=null)throw Error(n(60));if(typeof h.dangerouslySetInnerHTML!="object"||!("__html"in h.dangerouslySetInnerHTML))throw Error(n(61))}if(h.style!=null&&typeof h.style!="object")throw Error(n(62))}}function ac(u,h){if(u.indexOf("-")===-1)return typeof h.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ra=null;function Da(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Oa=null,si=null,ai=null;function $r(u){if(u=_h(u)){if(typeof Oa!="function")throw Error(n(280));var h=u.stateNode;h&&(h=kg(h),Oa(u.stateNode,u.type,h))}}function Ui(u){si?ai?ai.push(u):ai=[u]:si=u}function it(){if(si){var u=si,h=ai;if(ai=si=null,$r(u),h)for(u=0;u<h.length;u++)$r(h[u])}}function _t(u,h){return u(h)}function zt(){}var Rn=!1;function gr(u,h,g){if(Rn)return u(h,g);Rn=!0;try{return _t(u,h,g)}finally{Rn=!1,(si!==null||ai!==null)&&(zt(),it())}}function Ut(u,h){var g=u.stateNode;if(g===null)return null;var b=kg(g);if(b===null)return null;g=b[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(u=u.type,b=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!b;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(n(231,h,typeof g));return g}var oi=!1;if(o)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){oi=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{oi=!1}function Ir(u,h,g,b,N,B,W,ee,ne){var pe=Array.prototype.slice.call(arguments,3);try{h.apply(g,pe)}catch(Ce){this.onError(Ce)}}var oc=!1,Bu=null,gs=!1,nh=null,jb={onError:function(u){oc=!0,Bu=u}};function zu(u,h,g,b,N,B,W,ee,ne){oc=!1,Bu=null,Ir.apply(jb,arguments)}function rg(u,h,g,b,N,B,W,ee,ne){if(zu.apply(this,arguments),oc){if(oc){var pe=Bu;oc=!1,Bu=null}else throw Error(n(198));gs||(gs=!0,nh=pe)}}function ys(u){var h=u,g=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(g=h.return),u=h.return;while(u)}return h.tag===3?g:null}function lc(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function vs(u){if(ys(u)!==u)throw Error(n(188))}function ig(u){var h=u.alternate;if(!h){if(h=ys(u),h===null)throw Error(n(188));return h!==u?null:u}for(var g=u,b=h;;){var N=g.return;if(N===null)break;var B=N.alternate;if(B===null){if(b=N.return,b!==null){g=b;continue}break}if(N.child===B.child){for(B=N.child;B;){if(B===g)return vs(N),u;if(B===b)return vs(N),h;B=B.sibling}throw Error(n(188))}if(g.return!==b.return)g=N,b=B;else{for(var W=!1,ee=N.child;ee;){if(ee===g){W=!0,g=N,b=B;break}if(ee===b){W=!0,b=N,g=B;break}ee=ee.sibling}if(!W){for(ee=B.child;ee;){if(ee===g){W=!0,g=B,b=N;break}if(ee===b){W=!0,b=B,g=N;break}ee=ee.sibling}if(!W)throw Error(n(189))}}if(g.alternate!==b)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?u:h}function rh(u){return u=ig(u),u!==null?Uu(u):null}function Uu(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var h=Uu(u);if(h!==null)return h;u=u.sibling}return null}var $u=e.unstable_scheduleCallback,ih=e.unstable_cancelCallback,sg=e.unstable_shouldYield,kb=e.unstable_requestPaint,Jt=e.unstable_now,ag=e.unstable_getCurrentPriorityLevel,cc=e.unstable_ImmediatePriority,Mo=e.unstable_UserBlockingPriority,$i=e.unstable_NormalPriority,sh=e.unstable_LowPriority,og=e.unstable_IdlePriority,uc=null,Ai=null;function lg(u){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(uc,u,void 0,(u.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:ug,ah=Math.log,cg=Math.LN2;function ug(u){return u>>>=0,u===0?32:31-(ah(u)/cg|0)|0}var qu=64,Wu=4194304;function Lo(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function dc(u,h){var g=u.pendingLanes;if(g===0)return 0;var b=0,N=u.suspendedLanes,B=u.pingedLanes,W=g&268435455;if(W!==0){var ee=W&~N;ee!==0?b=Lo(ee):(B&=W,B!==0&&(b=Lo(B)))}else W=g&~N,W!==0?b=Lo(W):B!==0&&(b=Lo(B));if(b===0)return 0;if(h!==0&&h!==b&&(h&N)===0&&(N=b&-b,B=h&-h,N>=B||N===16&&(B&4194240)!==0))return h;if((b&4)!==0&&(b|=g&16),h=u.entangledLanes,h!==0)for(u=u.entanglements,h&=b;0<h;)g=31-qr(h),N=1<<g,b|=u[g],h&=~N;return b}function Rb(u,h){switch(u){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ma(u,h){for(var g=u.suspendedLanes,b=u.pingedLanes,N=u.expirationTimes,B=u.pendingLanes;0<B;){var W=31-qr(B),ee=1<<W,ne=N[W];ne===-1?((ee&g)===0||(ee&b)!==0)&&(N[W]=Rb(ee,h)):ne<=h&&(u.expiredLanes|=ee),B&=~ee}}function Ni(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function fc(){var u=qu;return qu<<=1,(qu&4194240)===0&&(qu=64),u}function Vo(u){for(var h=[],g=0;31>g;g++)h.push(u);return h}function Fo(u,h,g){u.pendingLanes|=h,h!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,h=31-qr(h),u[h]=g}function Xt(u,h){var g=u.pendingLanes&~h;u.pendingLanes=h,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=h,u.mutableReadLanes&=h,u.entangledLanes&=h,h=u.entanglements;var b=u.eventTimes;for(u=u.expirationTimes;0<g;){var N=31-qr(g),B=1<<N;h[N]=0,b[N]=-1,u[N]=-1,g&=~B}}function Bo(u,h){var g=u.entangledLanes|=h;for(u=u.entanglements;g;){var b=31-qr(g),N=1<<b;N&h|u[b]&h&&(u[b]|=h),g&=~N}}var St=0;function zo(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var dg,Hu,fg,hg,mg,oh=!1,Ys=[],yr=null,xs=null,bs=null,Uo=new Map,qi=new Map,Qs=[],Db="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pg(u,h){switch(u){case"focusin":case"focusout":yr=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Uo.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":qi.delete(h.pointerId)}}function li(u,h,g,b,N,B){return u===null||u.nativeEvent!==B?(u={blockedOn:h,domEventName:g,eventSystemFlags:b,nativeEvent:B,targetContainers:[N]},h!==null&&(h=_h(h),h!==null&&Hu(h)),u):(u.eventSystemFlags|=b,h=u.targetContainers,N!==null&&h.indexOf(N)===-1&&h.push(N),u)}function Ob(u,h,g,b,N){switch(h){case"focusin":return yr=li(yr,u,h,g,b,N),!0;case"dragenter":return xs=li(xs,u,h,g,b,N),!0;case"mouseover":return bs=li(bs,u,h,g,b,N),!0;case"pointerover":var B=N.pointerId;return Uo.set(B,li(Uo.get(B)||null,u,h,g,b,N)),!0;case"gotpointercapture":return B=N.pointerId,qi.set(B,li(qi.get(B)||null,u,h,g,b,N)),!0}return!1}function gg(u){var h=yc(u.target);if(h!==null){var g=ys(h);if(g!==null){if(h=g.tag,h===13){if(h=lc(g),h!==null){u.blockedOn=h,mg(u.priority,function(){fg(g)});return}}else if(h===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function La(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var g=Ku(u.domEventName,u.eventSystemFlags,h[0],u.nativeEvent);if(g===null){g=u.nativeEvent;var b=new g.constructor(g.type,g);Ra=b,g.target.dispatchEvent(b),Ra=null}else return h=_h(g),h!==null&&Hu(h),u.blockedOn=g,!1;h.shift()}return!0}function hc(u,h,g){La(u)&&g.delete(h)}function yg(){oh=!1,yr!==null&&La(yr)&&(yr=null),xs!==null&&La(xs)&&(xs=null),bs!==null&&La(bs)&&(bs=null),Uo.forEach(hc),qi.forEach(hc)}function ws(u,h){u.blockedOn===h&&(u.blockedOn=null,oh||(oh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yg)))}function _s(u){function h(N){return ws(N,u)}if(0<Ys.length){ws(Ys[0],u);for(var g=1;g<Ys.length;g++){var b=Ys[g];b.blockedOn===u&&(b.blockedOn=null)}}for(yr!==null&&ws(yr,u),xs!==null&&ws(xs,u),bs!==null&&ws(bs,u),Uo.forEach(h),qi.forEach(h),g=0;g<Qs.length;g++)b=Qs[g],b.blockedOn===u&&(b.blockedOn=null);for(;0<Qs.length&&(g=Qs[0],g.blockedOn===null);)gg(g),g.blockedOn===null&&Qs.shift()}var Va=z.ReactCurrentBatchConfig,$o=!0;function un(u,h,g,b){var N=St,B=Va.transition;Va.transition=null;try{St=1,lh(u,h,g,b)}finally{St=N,Va.transition=B}}function Mb(u,h,g,b){var N=St,B=Va.transition;Va.transition=null;try{St=4,lh(u,h,g,b)}finally{St=N,Va.transition=B}}function lh(u,h,g,b){if($o){var N=Ku(u,h,g,b);if(N===null)Kb(u,h,b,mc,g),pg(u,b);else if(Ob(N,u,h,g,b))b.stopPropagation();else if(pg(u,b),h&4&&-1<Db.indexOf(u)){for(;N!==null;){var B=_h(N);if(B!==null&&dg(B),B=Ku(u,h,g,b),B===null&&Kb(u,h,b,mc,g),B===N)break;N=B}N!==null&&b.stopPropagation()}else Kb(u,h,b,null,g)}}var mc=null;function Ku(u,h,g,b){if(mc=null,u=Da(b),u=yc(u),u!==null)if(h=ys(u),h===null)u=null;else if(g=h.tag,g===13){if(u=lc(h),u!==null)return u;u=null}else if(g===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null);return mc=u,null}function ch(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ag()){case cc:return 1;case Mo:return 4;case $i:case sh:return 16;case og:return 536870912;default:return 16}default:return 16}}var Ii=null,Gu=null,ci=null;function uh(){if(ci)return ci;var u,h=Gu,g=h.length,b,N="value"in Ii?Ii.value:Ii.textContent,B=N.length;for(u=0;u<g&&h[u]===N[u];u++);var W=g-u;for(b=1;b<=W&&h[g-b]===N[B-b];b++);return ci=N.slice(u,1<b?1-b:void 0)}function Xu(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Js(){return!0}function dh(){return!1}function vr(u){function h(g,b,N,B,W){this._reactName=g,this._targetInst=N,this.type=b,this.nativeEvent=B,this.target=W,this.currentTarget=null;for(var ee in u)u.hasOwnProperty(ee)&&(g=u[ee],this[ee]=g?g(B):B[ee]);return this.isDefaultPrevented=(B.defaultPrevented!=null?B.defaultPrevented:B.returnValue===!1)?Js:dh,this.isPropagationStopped=dh,this}return R(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=Js)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=Js)},persist:function(){},isPersistent:Js}),h}var Es={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yu=vr(Es),Zs=R({},Es,{view:0,detail:0}),Lb=vr(Zs),Qu,Fa,qo,pc=R({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==qo&&(qo&&u.type==="mousemove"?(Qu=u.screenX-qo.screenX,Fa=u.screenY-qo.screenY):Fa=Qu=0,qo=u),Qu)},movementY:function(u){return"movementY"in u?u.movementY:Fa}}),Ju=vr(pc),fh=R({},pc,{dataTransfer:0}),vg=vr(fh),Zu=R({},Zs,{relatedTarget:0}),ed=vr(Zu),xg=R({},Es,{animationName:0,elapsedTime:0,pseudoElement:0}),Ba=vr(xg),bg=R({},Es,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),wg=vr(bg),_g=R({},Es,{data:0}),hh=vr(_g),td={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tg(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=Eg[u])?!!h[u]:!1}function ea(){return Tg}var x=R({},Zs,{key:function(u){if(u.key){var h=td[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=Xu(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Wr[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(u){return u.type==="keypress"?Xu(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Xu(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),V=vr(x),$=R({},pc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X=vr($),ue=R({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),ve=vr(ue),Ne=R({},Es,{propertyName:0,elapsedTime:0,pseudoElement:0}),qt=vr(Ne),qn=R({},pc,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),At=vr(qn),tr=[9,13,27,32],Ln=o&&"CompositionEvent"in window,Wi=null;o&&"documentMode"in document&&(Wi=document.documentMode);var ji=o&&"TextEvent"in window&&!Wi,gc=o&&(!Ln||Wi&&8<Wi&&11>=Wi),nd=" ",XN=!1;function YN(u,h){switch(u){case"keyup":return tr.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QN(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var rd=!1;function K7(u,h){switch(u){case"compositionend":return QN(h);case"keypress":return h.which!==32?null:(XN=!0,nd);case"textInput":return u=h.data,u===nd&&XN?null:u;default:return null}}function G7(u,h){if(rd)return u==="compositionend"||!Ln&&YN(u,h)?(u=uh(),ci=Gu=Ii=null,rd=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return gc&&h.locale!=="ko"?null:h.data;default:return null}}var X7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JN(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!X7[u.type]:h==="textarea"}function ZN(u,h,g,b){Ui(b),h=Ng(h,"onChange"),0<h.length&&(g=new Yu("onChange","change",null,g,b),u.push({event:g,listeners:h}))}var mh=null,ph=null;function Y7(u){yI(u,0)}function Cg(u){var h=ld(u);if(me(h))return u}function Q7(u,h){if(u==="change")return h}var eI=!1;if(o){var Vb;if(o){var Fb="oninput"in document;if(!Fb){var tI=document.createElement("div");tI.setAttribute("oninput","return;"),Fb=typeof tI.oninput=="function"}Vb=Fb}else Vb=!1;eI=Vb&&(!document.documentMode||9<document.documentMode)}function nI(){mh&&(mh.detachEvent("onpropertychange",rI),ph=mh=null)}function rI(u){if(u.propertyName==="value"&&Cg(ph)){var h=[];ZN(h,ph,u,Da(u)),gr(Y7,h)}}function J7(u,h,g){u==="focusin"?(nI(),mh=h,ph=g,mh.attachEvent("onpropertychange",rI)):u==="focusout"&&nI()}function Z7(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Cg(ph)}function eW(u,h){if(u==="click")return Cg(h)}function tW(u,h){if(u==="input"||u==="change")return Cg(h)}function nW(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var Ts=typeof Object.is=="function"?Object.is:nW;function gh(u,h){if(Ts(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var g=Object.keys(u),b=Object.keys(h);if(g.length!==b.length)return!1;for(b=0;b<g.length;b++){var N=g[b];if(!l.call(h,N)||!Ts(u[N],h[N]))return!1}return!0}function iI(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function sI(u,h){var g=iI(u);u=0;for(var b;g;){if(g.nodeType===3){if(b=u+g.textContent.length,u<=h&&b>=h)return{node:g,offset:h-u};u=b}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=iI(g)}}function aI(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?aI(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function oI(){for(var u=window,h=De();h instanceof u.HTMLIFrameElement;){try{var g=typeof h.contentWindow.location.href=="string"}catch{g=!1}if(g)u=h.contentWindow;else break;h=De(u.document)}return h}function Bb(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}function rW(u){var h=oI(),g=u.focusedElem,b=u.selectionRange;if(h!==g&&g&&g.ownerDocument&&aI(g.ownerDocument.documentElement,g)){if(b!==null&&Bb(g)){if(h=b.start,u=b.end,u===void 0&&(u=h),"selectionStart"in g)g.selectionStart=h,g.selectionEnd=Math.min(u,g.value.length);else if(u=(h=g.ownerDocument||document)&&h.defaultView||window,u.getSelection){u=u.getSelection();var N=g.textContent.length,B=Math.min(b.start,N);b=b.end===void 0?B:Math.min(b.end,N),!u.extend&&B>b&&(N=b,b=B,B=N),N=sI(g,B);var W=sI(g,b);N&&W&&(u.rangeCount!==1||u.anchorNode!==N.node||u.anchorOffset!==N.offset||u.focusNode!==W.node||u.focusOffset!==W.offset)&&(h=h.createRange(),h.setStart(N.node,N.offset),u.removeAllRanges(),B>b?(u.addRange(h),u.extend(W.node,W.offset)):(h.setEnd(W.node,W.offset),u.addRange(h)))}}for(h=[],u=g;u=u.parentNode;)u.nodeType===1&&h.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<h.length;g++)u=h[g],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var iW=o&&"documentMode"in document&&11>=document.documentMode,id=null,zb=null,yh=null,Ub=!1;function lI(u,h,g){var b=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;Ub||id==null||id!==De(b)||(b=id,"selectionStart"in b&&Bb(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),yh&&gh(yh,b)||(yh=b,b=Ng(zb,"onSelect"),0<b.length&&(h=new Yu("onSelect","select",null,h,g),u.push({event:h,listeners:b}),h.target=id)))}function Sg(u,h){var g={};return g[u.toLowerCase()]=h.toLowerCase(),g["Webkit"+u]="webkit"+h,g["Moz"+u]="moz"+h,g}var sd={animationend:Sg("Animation","AnimationEnd"),animationiteration:Sg("Animation","AnimationIteration"),animationstart:Sg("Animation","AnimationStart"),transitionend:Sg("Transition","TransitionEnd")},$b={},cI={};o&&(cI=document.createElement("div").style,"AnimationEvent"in window||(delete sd.animationend.animation,delete sd.animationiteration.animation,delete sd.animationstart.animation),"TransitionEvent"in window||delete sd.transitionend.transition);function Pg(u){if($b[u])return $b[u];if(!sd[u])return u;var h=sd[u],g;for(g in h)if(h.hasOwnProperty(g)&&g in cI)return $b[u]=h[g];return u}var uI=Pg("animationend"),dI=Pg("animationiteration"),fI=Pg("animationstart"),hI=Pg("transitionend"),mI=new Map,pI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wo(u,h){mI.set(u,h),s(h,[u])}for(var qb=0;qb<pI.length;qb++){var Wb=pI[qb],sW=Wb.toLowerCase(),aW=Wb[0].toUpperCase()+Wb.slice(1);Wo(sW,"on"+aW)}Wo(uI,"onAnimationEnd"),Wo(dI,"onAnimationIteration"),Wo(fI,"onAnimationStart"),Wo("dblclick","onDoubleClick"),Wo("focusin","onFocus"),Wo("focusout","onBlur"),Wo(hI,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oW=new Set("cancel close invalid load scroll toggle".split(" ").concat(vh));function gI(u,h,g){var b=u.type||"unknown-event";u.currentTarget=g,rg(b,h,void 0,u),u.currentTarget=null}function yI(u,h){h=(h&4)!==0;for(var g=0;g<u.length;g++){var b=u[g],N=b.event;b=b.listeners;e:{var B=void 0;if(h)for(var W=b.length-1;0<=W;W--){var ee=b[W],ne=ee.instance,pe=ee.currentTarget;if(ee=ee.listener,ne!==B&&N.isPropagationStopped())break e;gI(N,ee,pe),B=ne}else for(W=0;W<b.length;W++){if(ee=b[W],ne=ee.instance,pe=ee.currentTarget,ee=ee.listener,ne!==B&&N.isPropagationStopped())break e;gI(N,ee,pe),B=ne}}}if(gs)throw u=nh,gs=!1,nh=null,u}function sn(u,h){var g=h[Zb];g===void 0&&(g=h[Zb]=new Set);var b=u+"__bubble";g.has(b)||(vI(h,u,2,!1),g.add(b))}function Hb(u,h,g){var b=0;h&&(b|=4),vI(g,u,b,h)}var Ag="_reactListening"+Math.random().toString(36).slice(2);function xh(u){if(!u[Ag]){u[Ag]=!0,r.forEach(function(g){g!=="selectionchange"&&(oW.has(g)||Hb(g,!1,u),Hb(g,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[Ag]||(h[Ag]=!0,Hb("selectionchange",!1,h))}}function vI(u,h,g,b){switch(ch(h)){case 1:var N=un;break;case 4:N=Mb;break;default:N=lh}g=N.bind(null,h,g,u),N=void 0,!oi||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(N=!0),b?N!==void 0?u.addEventListener(h,g,{capture:!0,passive:N}):u.addEventListener(h,g,!0):N!==void 0?u.addEventListener(h,g,{passive:N}):u.addEventListener(h,g,!1)}function Kb(u,h,g,b,N){var B=b;if((h&1)===0&&(h&2)===0&&b!==null)e:for(;;){if(b===null)return;var W=b.tag;if(W===3||W===4){var ee=b.stateNode.containerInfo;if(ee===N||ee.nodeType===8&&ee.parentNode===N)break;if(W===4)for(W=b.return;W!==null;){var ne=W.tag;if((ne===3||ne===4)&&(ne=W.stateNode.containerInfo,ne===N||ne.nodeType===8&&ne.parentNode===N))return;W=W.return}for(;ee!==null;){if(W=yc(ee),W===null)return;if(ne=W.tag,ne===5||ne===6){b=B=W;continue e}ee=ee.parentNode}}b=b.return}gr(function(){var pe=B,Ce=Da(g),Pe=[];e:{var Ee=mI.get(u);if(Ee!==void 0){var Le=Yu,ze=u;switch(u){case"keypress":if(Xu(g)===0)break e;case"keydown":case"keyup":Le=V;break;case"focusin":ze="focus",Le=ed;break;case"focusout":ze="blur",Le=ed;break;case"beforeblur":case"afterblur":Le=ed;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=Ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=vg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=ve;break;case uI:case dI:case fI:Le=Ba;break;case hI:Le=qt;break;case"scroll":Le=Lb;break;case"wheel":Le=At;break;case"copy":case"cut":case"paste":Le=wg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=X}var We=(h&4)!==0,Dn=!We&&u==="scroll",de=We?Ee!==null?Ee+"Capture":null:Ee;We=[];for(var ie=pe,fe;ie!==null;){fe=ie;var Ae=fe.stateNode;if(fe.tag===5&&Ae!==null&&(fe=Ae,de!==null&&(Ae=Ut(ie,de),Ae!=null&&We.push(bh(ie,Ae,fe)))),Dn)break;ie=ie.return}0<We.length&&(Ee=new Le(Ee,ze,null,g,Ce),Pe.push({event:Ee,listeners:We}))}}if((h&7)===0){e:{if(Ee=u==="mouseover"||u==="pointerover",Le=u==="mouseout"||u==="pointerout",Ee&&g!==Ra&&(ze=g.relatedTarget||g.fromElement)&&(yc(ze)||ze[za]))break e;if((Le||Ee)&&(Ee=Ce.window===Ce?Ce:(Ee=Ce.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Le?(ze=g.relatedTarget||g.toElement,Le=pe,ze=ze?yc(ze):null,ze!==null&&(Dn=ys(ze),ze!==Dn||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Le=null,ze=pe),Le!==ze)){if(We=Ju,Ae="onMouseLeave",de="onMouseEnter",ie="mouse",(u==="pointerout"||u==="pointerover")&&(We=X,Ae="onPointerLeave",de="onPointerEnter",ie="pointer"),Dn=Le==null?Ee:ld(Le),fe=ze==null?Ee:ld(ze),Ee=new We(Ae,ie+"leave",Le,g,Ce),Ee.target=Dn,Ee.relatedTarget=fe,Ae=null,yc(Ce)===pe&&(We=new We(de,ie+"enter",ze,g,Ce),We.target=fe,We.relatedTarget=Dn,Ae=We),Dn=Ae,Le&&ze)t:{for(We=Le,de=ze,ie=0,fe=We;fe;fe=ad(fe))ie++;for(fe=0,Ae=de;Ae;Ae=ad(Ae))fe++;for(;0<ie-fe;)We=ad(We),ie--;for(;0<fe-ie;)de=ad(de),fe--;for(;ie--;){if(We===de||de!==null&&We===de.alternate)break t;We=ad(We),de=ad(de)}We=null}else We=null;Le!==null&&xI(Pe,Ee,Le,We,!1),ze!==null&&Dn!==null&&xI(Pe,Dn,ze,We,!0)}}e:{if(Ee=pe?ld(pe):window,Le=Ee.nodeName&&Ee.nodeName.toLowerCase(),Le==="select"||Le==="input"&&Ee.type==="file")var Ke=Q7;else if(JN(Ee))if(eI)Ke=tW;else{Ke=Z7;var et=J7}else(Le=Ee.nodeName)&&Le.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&(Ke=eW);if(Ke&&(Ke=Ke(u,pe))){ZN(Pe,Ke,g,Ce);break e}et&&et(u,Ee,pe),u==="focusout"&&(et=Ee._wrapperState)&&et.controlled&&Ee.type==="number"&&Vt(Ee,"number",Ee.value)}switch(et=pe?ld(pe):window,u){case"focusin":(JN(et)||et.contentEditable==="true")&&(id=et,zb=pe,yh=null);break;case"focusout":yh=zb=id=null;break;case"mousedown":Ub=!0;break;case"contextmenu":case"mouseup":case"dragend":Ub=!1,lI(Pe,g,Ce);break;case"selectionchange":if(iW)break;case"keydown":case"keyup":lI(Pe,g,Ce)}var tt;if(Ln)e:{switch(u){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else rd?YN(u,g)&&(at="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(at="onCompositionStart");at&&(gc&&g.locale!=="ko"&&(rd||at!=="onCompositionStart"?at==="onCompositionEnd"&&rd&&(tt=uh()):(Ii=Ce,Gu="value"in Ii?Ii.value:Ii.textContent,rd=!0)),et=Ng(pe,at),0<et.length&&(at=new hh(at,u,null,g,Ce),Pe.push({event:at,listeners:et}),tt?at.data=tt:(tt=QN(g),tt!==null&&(at.data=tt)))),(tt=ji?K7(u,g):G7(u,g))&&(pe=Ng(pe,"onBeforeInput"),0<pe.length&&(Ce=new hh("onBeforeInput","beforeinput",null,g,Ce),Pe.push({event:Ce,listeners:pe}),Ce.data=tt))}yI(Pe,h)})}function bh(u,h,g){return{instance:u,listener:h,currentTarget:g}}function Ng(u,h){for(var g=h+"Capture",b=[];u!==null;){var N=u,B=N.stateNode;N.tag===5&&B!==null&&(N=B,B=Ut(u,g),B!=null&&b.unshift(bh(u,B,N)),B=Ut(u,h),B!=null&&b.push(bh(u,B,N))),u=u.return}return b}function ad(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function xI(u,h,g,b,N){for(var B=h._reactName,W=[];g!==null&&g!==b;){var ee=g,ne=ee.alternate,pe=ee.stateNode;if(ne!==null&&ne===b)break;ee.tag===5&&pe!==null&&(ee=pe,N?(ne=Ut(g,B),ne!=null&&W.unshift(bh(g,ne,ee))):N||(ne=Ut(g,B),ne!=null&&W.push(bh(g,ne,ee)))),g=g.return}W.length!==0&&u.push({event:h,listeners:W})}var lW=/\r\n?/g,cW=/\u0000|\uFFFD/g;function bI(u){return(typeof u=="string"?u:""+u).replace(lW,`
`).replace(cW,"")}function Ig(u,h,g){if(h=bI(h),bI(u)!==h&&g)throw Error(n(425))}function jg(){}var Gb=null,Xb=null;function Yb(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Qb=typeof setTimeout=="function"?setTimeout:void 0,uW=typeof clearTimeout=="function"?clearTimeout:void 0,wI=typeof Promise=="function"?Promise:void 0,dW=typeof queueMicrotask=="function"?queueMicrotask:typeof wI<"u"?function(u){return wI.resolve(null).then(u).catch(fW)}:Qb;function fW(u){setTimeout(function(){throw u})}function Jb(u,h){var g=h,b=0;do{var N=g.nextSibling;if(u.removeChild(g),N&&N.nodeType===8)if(g=N.data,g==="/$"){if(b===0){u.removeChild(N),_s(h);return}b--}else g!=="$"&&g!=="$?"&&g!=="$!"||b++;g=N}while(g);_s(h)}function Ho(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?")break;if(h==="/$")return null}}return u}function _I(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(h===0)return u;h--}else g==="/$"&&h++}u=u.previousSibling}return null}var od=Math.random().toString(36).slice(2),ta="__reactFiber$"+od,wh="__reactProps$"+od,za="__reactContainer$"+od,Zb="__reactEvents$"+od,hW="__reactListeners$"+od,mW="__reactHandles$"+od;function yc(u){var h=u[ta];if(h)return h;for(var g=u.parentNode;g;){if(h=g[za]||g[ta]){if(g=h.alternate,h.child!==null||g!==null&&g.child!==null)for(u=_I(u);u!==null;){if(g=u[ta])return g;u=_I(u)}return h}u=g,g=u.parentNode}return null}function _h(u){return u=u[ta]||u[za],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function ld(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function kg(u){return u[wh]||null}var ew=[],cd=-1;function Ko(u){return{current:u}}function an(u){0>cd||(u.current=ew[cd],ew[cd]=null,cd--)}function Zt(u,h){cd++,ew[cd]=u.current,u.current=h}var Go={},jr=Ko(Go),ui=Ko(!1),vc=Go;function ud(u,h){var g=u.type.contextTypes;if(!g)return Go;var b=u.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===h)return b.__reactInternalMemoizedMaskedChildContext;var N={},B;for(B in g)N[B]=h[B];return b&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=h,u.__reactInternalMemoizedMaskedChildContext=N),N}function di(u){return u=u.childContextTypes,u!=null}function Rg(){an(ui),an(jr)}function EI(u,h,g){if(jr.current!==Go)throw Error(n(168));Zt(jr,h),Zt(ui,g)}function TI(u,h,g){var b=u.stateNode;if(h=h.childContextTypes,typeof b.getChildContext!="function")return g;b=b.getChildContext();for(var N in b)if(!(N in h))throw Error(n(108,re(u)||"Unknown",N));return R({},g,b)}function Dg(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Go,vc=jr.current,Zt(jr,u),Zt(ui,ui.current),!0}function CI(u,h,g){var b=u.stateNode;if(!b)throw Error(n(169));g?(u=TI(u,h,vc),b.__reactInternalMemoizedMergedChildContext=u,an(ui),an(jr),Zt(jr,u)):an(ui),Zt(ui,g)}var Ua=null,Og=!1,tw=!1;function SI(u){Ua===null?Ua=[u]:Ua.push(u)}function pW(u){Og=!0,SI(u)}function Xo(){if(!tw&&Ua!==null){tw=!0;var u=0,h=St;try{var g=Ua;for(St=1;u<g.length;u++){var b=g[u];do b=b(!0);while(b!==null)}Ua=null,Og=!1}catch(N){throw Ua!==null&&(Ua=Ua.slice(u+1)),$u(cc,Xo),N}finally{St=h,tw=!1}}return null}var dd=[],fd=0,Mg=null,Lg=0,Hi=[],Ki=0,xc=null,$a=1,qa="";function bc(u,h){dd[fd++]=Lg,dd[fd++]=Mg,Mg=u,Lg=h}function PI(u,h,g){Hi[Ki++]=$a,Hi[Ki++]=qa,Hi[Ki++]=xc,xc=u;var b=$a;u=qa;var N=32-qr(b)-1;b&=~(1<<N),g+=1;var B=32-qr(h)+N;if(30<B){var W=N-N%5;B=(b&(1<<W)-1).toString(32),b>>=W,N-=W,$a=1<<32-qr(h)+N|g<<N|b,qa=B+u}else $a=1<<B|g<<N|b,qa=u}function nw(u){u.return!==null&&(bc(u,1),PI(u,1,0))}function rw(u){for(;u===Mg;)Mg=dd[--fd],dd[fd]=null,Lg=dd[--fd],dd[fd]=null;for(;u===xc;)xc=Hi[--Ki],Hi[Ki]=null,qa=Hi[--Ki],Hi[Ki]=null,$a=Hi[--Ki],Hi[Ki]=null}var ki=null,Ri=null,dn=!1,Cs=null;function AI(u,h){var g=Qi(5,null,null,0);g.elementType="DELETED",g.stateNode=h,g.return=u,h=u.deletions,h===null?(u.deletions=[g],u.flags|=16):h.push(g)}function NI(u,h){switch(u.tag){case 5:var g=u.type;return h=h.nodeType!==1||g.toLowerCase()!==h.nodeName.toLowerCase()?null:h,h!==null?(u.stateNode=h,ki=u,Ri=Ho(h.firstChild),!0):!1;case 6:return h=u.pendingProps===""||h.nodeType!==3?null:h,h!==null?(u.stateNode=h,ki=u,Ri=null,!0):!1;case 13:return h=h.nodeType!==8?null:h,h!==null?(g=xc!==null?{id:$a,overflow:qa}:null,u.memoizedState={dehydrated:h,treeContext:g,retryLane:1073741824},g=Qi(18,null,null,0),g.stateNode=h,g.return=u,u.child=g,ki=u,Ri=null,!0):!1;default:return!1}}function iw(u){return(u.mode&1)!==0&&(u.flags&128)===0}function sw(u){if(dn){var h=Ri;if(h){var g=h;if(!NI(u,h)){if(iw(u))throw Error(n(418));h=Ho(g.nextSibling);var b=ki;h&&NI(u,h)?AI(b,g):(u.flags=u.flags&-4097|2,dn=!1,ki=u)}}else{if(iw(u))throw Error(n(418));u.flags=u.flags&-4097|2,dn=!1,ki=u}}}function II(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;ki=u}function Vg(u){if(u!==ki)return!1;if(!dn)return II(u),dn=!0,!1;var h;if((h=u.tag!==3)&&!(h=u.tag!==5)&&(h=u.type,h=h!=="head"&&h!=="body"&&!Yb(u.type,u.memoizedProps)),h&&(h=Ri)){if(iw(u))throw jI(),Error(n(418));for(;h;)AI(u,h),h=Ho(h.nextSibling)}if(II(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,h=0;u;){if(u.nodeType===8){var g=u.data;if(g==="/$"){if(h===0){Ri=Ho(u.nextSibling);break e}h--}else g!=="$"&&g!=="$!"&&g!=="$?"||h++}u=u.nextSibling}Ri=null}}else Ri=ki?Ho(u.stateNode.nextSibling):null;return!0}function jI(){for(var u=Ri;u;)u=Ho(u.nextSibling)}function hd(){Ri=ki=null,dn=!1}function aw(u){Cs===null?Cs=[u]:Cs.push(u)}var gW=z.ReactCurrentBatchConfig;function Eh(u,h,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var b=g.stateNode}if(!b)throw Error(n(147,u));var N=b,B=""+u;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===B?h.ref:(h=function(W){var ee=N.refs;W===null?delete ee[B]:ee[B]=W},h._stringRef=B,h)}if(typeof u!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,u))}return u}function Fg(u,h){throw u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u))}function kI(u){var h=u._init;return h(u._payload)}function RI(u){function h(de,ie){if(u){var fe=de.deletions;fe===null?(de.deletions=[ie],de.flags|=16):fe.push(ie)}}function g(de,ie){if(!u)return null;for(;ie!==null;)h(de,ie),ie=ie.sibling;return null}function b(de,ie){for(de=new Map;ie!==null;)ie.key!==null?de.set(ie.key,ie):de.set(ie.index,ie),ie=ie.sibling;return de}function N(de,ie){return de=rl(de,ie),de.index=0,de.sibling=null,de}function B(de,ie,fe){return de.index=fe,u?(fe=de.alternate,fe!==null?(fe=fe.index,fe<ie?(de.flags|=2,ie):fe):(de.flags|=2,ie)):(de.flags|=1048576,ie)}function W(de){return u&&de.alternate===null&&(de.flags|=2),de}function ee(de,ie,fe,Ae){return ie===null||ie.tag!==6?(ie=Qw(fe,de.mode,Ae),ie.return=de,ie):(ie=N(ie,fe),ie.return=de,ie)}function ne(de,ie,fe,Ae){var Ke=fe.type;return Ke===C?Ce(de,ie,fe.props.children,Ae,fe.key):ie!==null&&(ie.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===J&&kI(Ke)===ie.type)?(Ae=N(ie,fe.props),Ae.ref=Eh(de,ie,fe),Ae.return=de,Ae):(Ae=cy(fe.type,fe.key,fe.props,null,de.mode,Ae),Ae.ref=Eh(de,ie,fe),Ae.return=de,Ae)}function pe(de,ie,fe,Ae){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==fe.containerInfo||ie.stateNode.implementation!==fe.implementation?(ie=Jw(fe,de.mode,Ae),ie.return=de,ie):(ie=N(ie,fe.children||[]),ie.return=de,ie)}function Ce(de,ie,fe,Ae,Ke){return ie===null||ie.tag!==7?(ie=Ac(fe,de.mode,Ae,Ke),ie.return=de,ie):(ie=N(ie,fe),ie.return=de,ie)}function Pe(de,ie,fe){if(typeof ie=="string"&&ie!==""||typeof ie=="number")return ie=Qw(""+ie,de.mode,fe),ie.return=de,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case j:return fe=cy(ie.type,ie.key,ie.props,null,de.mode,fe),fe.ref=Eh(de,null,ie),fe.return=de,fe;case P:return ie=Jw(ie,de.mode,fe),ie.return=de,ie;case J:var Ae=ie._init;return Pe(de,Ae(ie._payload),fe)}if(ut(ie)||q(ie))return ie=Ac(ie,de.mode,fe,null),ie.return=de,ie;Fg(de,ie)}return null}function Ee(de,ie,fe,Ae){var Ke=ie!==null?ie.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return Ke!==null?null:ee(de,ie,""+fe,Ae);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case j:return fe.key===Ke?ne(de,ie,fe,Ae):null;case P:return fe.key===Ke?pe(de,ie,fe,Ae):null;case J:return Ke=fe._init,Ee(de,ie,Ke(fe._payload),Ae)}if(ut(fe)||q(fe))return Ke!==null?null:Ce(de,ie,fe,Ae,null);Fg(de,fe)}return null}function Le(de,ie,fe,Ae,Ke){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return de=de.get(fe)||null,ee(ie,de,""+Ae,Ke);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case j:return de=de.get(Ae.key===null?fe:Ae.key)||null,ne(ie,de,Ae,Ke);case P:return de=de.get(Ae.key===null?fe:Ae.key)||null,pe(ie,de,Ae,Ke);case J:var et=Ae._init;return Le(de,ie,fe,et(Ae._payload),Ke)}if(ut(Ae)||q(Ae))return de=de.get(fe)||null,Ce(ie,de,Ae,Ke,null);Fg(ie,Ae)}return null}function ze(de,ie,fe,Ae){for(var Ke=null,et=null,tt=ie,at=ie=0,ir=null;tt!==null&&at<fe.length;at++){tt.index>at?(ir=tt,tt=null):ir=tt.sibling;var Ot=Ee(de,tt,fe[at],Ae);if(Ot===null){tt===null&&(tt=ir);break}u&&tt&&Ot.alternate===null&&h(de,tt),ie=B(Ot,ie,at),et===null?Ke=Ot:et.sibling=Ot,et=Ot,tt=ir}if(at===fe.length)return g(de,tt),dn&&bc(de,at),Ke;if(tt===null){for(;at<fe.length;at++)tt=Pe(de,fe[at],Ae),tt!==null&&(ie=B(tt,ie,at),et===null?Ke=tt:et.sibling=tt,et=tt);return dn&&bc(de,at),Ke}for(tt=b(de,tt);at<fe.length;at++)ir=Le(tt,de,at,fe[at],Ae),ir!==null&&(u&&ir.alternate!==null&&tt.delete(ir.key===null?at:ir.key),ie=B(ir,ie,at),et===null?Ke=ir:et.sibling=ir,et=ir);return u&&tt.forEach(function(il){return h(de,il)}),dn&&bc(de,at),Ke}function We(de,ie,fe,Ae){var Ke=q(fe);if(typeof Ke!="function")throw Error(n(150));if(fe=Ke.call(fe),fe==null)throw Error(n(151));for(var et=Ke=null,tt=ie,at=ie=0,ir=null,Ot=fe.next();tt!==null&&!Ot.done;at++,Ot=fe.next()){tt.index>at?(ir=tt,tt=null):ir=tt.sibling;var il=Ee(de,tt,Ot.value,Ae);if(il===null){tt===null&&(tt=ir);break}u&&tt&&il.alternate===null&&h(de,tt),ie=B(il,ie,at),et===null?Ke=il:et.sibling=il,et=il,tt=ir}if(Ot.done)return g(de,tt),dn&&bc(de,at),Ke;if(tt===null){for(;!Ot.done;at++,Ot=fe.next())Ot=Pe(de,Ot.value,Ae),Ot!==null&&(ie=B(Ot,ie,at),et===null?Ke=Ot:et.sibling=Ot,et=Ot);return dn&&bc(de,at),Ke}for(tt=b(de,tt);!Ot.done;at++,Ot=fe.next())Ot=Le(tt,de,at,Ot.value,Ae),Ot!==null&&(u&&Ot.alternate!==null&&tt.delete(Ot.key===null?at:Ot.key),ie=B(Ot,ie,at),et===null?Ke=Ot:et.sibling=Ot,et=Ot);return u&&tt.forEach(function(XW){return h(de,XW)}),dn&&bc(de,at),Ke}function Dn(de,ie,fe,Ae){if(typeof fe=="object"&&fe!==null&&fe.type===C&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case j:e:{for(var Ke=fe.key,et=ie;et!==null;){if(et.key===Ke){if(Ke=fe.type,Ke===C){if(et.tag===7){g(de,et.sibling),ie=N(et,fe.props.children),ie.return=de,de=ie;break e}}else if(et.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===J&&kI(Ke)===et.type){g(de,et.sibling),ie=N(et,fe.props),ie.ref=Eh(de,et,fe),ie.return=de,de=ie;break e}g(de,et);break}else h(de,et);et=et.sibling}fe.type===C?(ie=Ac(fe.props.children,de.mode,Ae,fe.key),ie.return=de,de=ie):(Ae=cy(fe.type,fe.key,fe.props,null,de.mode,Ae),Ae.ref=Eh(de,ie,fe),Ae.return=de,de=Ae)}return W(de);case P:e:{for(et=fe.key;ie!==null;){if(ie.key===et)if(ie.tag===4&&ie.stateNode.containerInfo===fe.containerInfo&&ie.stateNode.implementation===fe.implementation){g(de,ie.sibling),ie=N(ie,fe.children||[]),ie.return=de,de=ie;break e}else{g(de,ie);break}else h(de,ie);ie=ie.sibling}ie=Jw(fe,de.mode,Ae),ie.return=de,de=ie}return W(de);case J:return et=fe._init,Dn(de,ie,et(fe._payload),Ae)}if(ut(fe))return ze(de,ie,fe,Ae);if(q(fe))return We(de,ie,fe,Ae);Fg(de,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,ie!==null&&ie.tag===6?(g(de,ie.sibling),ie=N(ie,fe),ie.return=de,de=ie):(g(de,ie),ie=Qw(fe,de.mode,Ae),ie.return=de,de=ie),W(de)):g(de,ie)}return Dn}var md=RI(!0),DI=RI(!1),Bg=Ko(null),zg=null,pd=null,ow=null;function lw(){ow=pd=zg=null}function cw(u){var h=Bg.current;an(Bg),u._currentValue=h}function uw(u,h,g){for(;u!==null;){var b=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,b!==null&&(b.childLanes|=h)):b!==null&&(b.childLanes&h)!==h&&(b.childLanes|=h),u===g)break;u=u.return}}function gd(u,h){zg=u,ow=pd=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&h)!==0&&(fi=!0),u.firstContext=null)}function Gi(u){var h=u._currentValue;if(ow!==u)if(u={context:u,memoizedValue:h,next:null},pd===null){if(zg===null)throw Error(n(308));pd=u,zg.dependencies={lanes:0,firstContext:u}}else pd=pd.next=u;return h}var wc=null;function dw(u){wc===null?wc=[u]:wc.push(u)}function OI(u,h,g,b){var N=h.interleaved;return N===null?(g.next=g,dw(h)):(g.next=N.next,N.next=g),h.interleaved=g,Wa(u,b)}function Wa(u,h){u.lanes|=h;var g=u.alternate;for(g!==null&&(g.lanes|=h),g=u,u=u.return;u!==null;)u.childLanes|=h,g=u.alternate,g!==null&&(g.childLanes|=h),g=u,u=u.return;return g.tag===3?g.stateNode:null}var Yo=!1;function fw(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MI(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Ha(u,h){return{eventTime:u,lane:h,tag:0,payload:null,callback:null,next:null}}function Qo(u,h,g){var b=u.updateQueue;if(b===null)return null;if(b=b.shared,(Rt&2)!==0){var N=b.pending;return N===null?h.next=h:(h.next=N.next,N.next=h),b.pending=h,Wa(u,g)}return N=b.interleaved,N===null?(h.next=h,dw(b)):(h.next=N.next,N.next=h),b.interleaved=h,Wa(u,g)}function Ug(u,h,g){if(h=h.updateQueue,h!==null&&(h=h.shared,(g&4194240)!==0)){var b=h.lanes;b&=u.pendingLanes,g|=b,h.lanes=g,Bo(u,g)}}function LI(u,h){var g=u.updateQueue,b=u.alternate;if(b!==null&&(b=b.updateQueue,g===b)){var N=null,B=null;if(g=g.firstBaseUpdate,g!==null){do{var W={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};B===null?N=B=W:B=B.next=W,g=g.next}while(g!==null);B===null?N=B=h:B=B.next=h}else N=B=h;g={baseState:b.baseState,firstBaseUpdate:N,lastBaseUpdate:B,shared:b.shared,effects:b.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=h:u.next=h,g.lastBaseUpdate=h}function $g(u,h,g,b){var N=u.updateQueue;Yo=!1;var B=N.firstBaseUpdate,W=N.lastBaseUpdate,ee=N.shared.pending;if(ee!==null){N.shared.pending=null;var ne=ee,pe=ne.next;ne.next=null,W===null?B=pe:W.next=pe,W=ne;var Ce=u.alternate;Ce!==null&&(Ce=Ce.updateQueue,ee=Ce.lastBaseUpdate,ee!==W&&(ee===null?Ce.firstBaseUpdate=pe:ee.next=pe,Ce.lastBaseUpdate=ne))}if(B!==null){var Pe=N.baseState;W=0,Ce=pe=ne=null,ee=B;do{var Ee=ee.lane,Le=ee.eventTime;if((b&Ee)===Ee){Ce!==null&&(Ce=Ce.next={eventTime:Le,lane:0,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null});e:{var ze=u,We=ee;switch(Ee=h,Le=g,We.tag){case 1:if(ze=We.payload,typeof ze=="function"){Pe=ze.call(Le,Pe,Ee);break e}Pe=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=We.payload,Ee=typeof ze=="function"?ze.call(Le,Pe,Ee):ze,Ee==null)break e;Pe=R({},Pe,Ee);break e;case 2:Yo=!0}}ee.callback!==null&&ee.lane!==0&&(u.flags|=64,Ee=N.effects,Ee===null?N.effects=[ee]:Ee.push(ee))}else Le={eventTime:Le,lane:Ee,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Ce===null?(pe=Ce=Le,ne=Pe):Ce=Ce.next=Le,W|=Ee;if(ee=ee.next,ee===null){if(ee=N.shared.pending,ee===null)break;Ee=ee,ee=Ee.next,Ee.next=null,N.lastBaseUpdate=Ee,N.shared.pending=null}}while(!0);if(Ce===null&&(ne=Pe),N.baseState=ne,N.firstBaseUpdate=pe,N.lastBaseUpdate=Ce,h=N.shared.interleaved,h!==null){N=h;do W|=N.lane,N=N.next;while(N!==h)}else B===null&&(N.shared.lanes=0);Tc|=W,u.lanes=W,u.memoizedState=Pe}}function VI(u,h,g){if(u=h.effects,h.effects=null,u!==null)for(h=0;h<u.length;h++){var b=u[h],N=b.callback;if(N!==null){if(b.callback=null,b=g,typeof N!="function")throw Error(n(191,N));N.call(b)}}}var Th={},na=Ko(Th),Ch=Ko(Th),Sh=Ko(Th);function _c(u){if(u===Th)throw Error(n(174));return u}function hw(u,h){switch(Zt(Sh,h),Zt(Ch,u),Zt(na,Th),u=h.nodeType,u){case 9:case 11:h=(h=h.documentElement)?h.namespaceURI:Oe(null,"");break;default:u=u===8?h.parentNode:h,h=u.namespaceURI||null,u=u.tagName,h=Oe(h,u)}an(na),Zt(na,h)}function yd(){an(na),an(Ch),an(Sh)}function FI(u){_c(Sh.current);var h=_c(na.current),g=Oe(h,u.type);h!==g&&(Zt(Ch,u),Zt(na,g))}function mw(u){Ch.current===u&&(an(na),an(Ch))}var vn=Ko(0);function qg(u){for(var h=u;h!==null;){if(h.tag===13){var g=h.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var pw=[];function gw(){for(var u=0;u<pw.length;u++)pw[u]._workInProgressVersionPrimary=null;pw.length=0}var Wg=z.ReactCurrentDispatcher,yw=z.ReactCurrentBatchConfig,Ec=0,xn=null,Wn=null,nr=null,Hg=!1,Ph=!1,Ah=0,yW=0;function kr(){throw Error(n(321))}function vw(u,h){if(h===null)return!1;for(var g=0;g<h.length&&g<u.length;g++)if(!Ts(u[g],h[g]))return!1;return!0}function xw(u,h,g,b,N,B){if(Ec=B,xn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Wg.current=u===null||u.memoizedState===null?wW:_W,u=g(b,N),Ph){B=0;do{if(Ph=!1,Ah=0,25<=B)throw Error(n(301));B+=1,nr=Wn=null,h.updateQueue=null,Wg.current=EW,u=g(b,N)}while(Ph)}if(Wg.current=Xg,h=Wn!==null&&Wn.next!==null,Ec=0,nr=Wn=xn=null,Hg=!1,h)throw Error(n(300));return u}function bw(){var u=Ah!==0;return Ah=0,u}function ra(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?xn.memoizedState=nr=u:nr=nr.next=u,nr}function Xi(){if(Wn===null){var u=xn.alternate;u=u!==null?u.memoizedState:null}else u=Wn.next;var h=nr===null?xn.memoizedState:nr.next;if(h!==null)nr=h,Wn=u;else{if(u===null)throw Error(n(310));Wn=u,u={memoizedState:Wn.memoizedState,baseState:Wn.baseState,baseQueue:Wn.baseQueue,queue:Wn.queue,next:null},nr===null?xn.memoizedState=nr=u:nr=nr.next=u}return nr}function Nh(u,h){return typeof h=="function"?h(u):h}function ww(u){var h=Xi(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var b=Wn,N=b.baseQueue,B=g.pending;if(B!==null){if(N!==null){var W=N.next;N.next=B.next,B.next=W}b.baseQueue=N=B,g.pending=null}if(N!==null){B=N.next,b=b.baseState;var ee=W=null,ne=null,pe=B;do{var Ce=pe.lane;if((Ec&Ce)===Ce)ne!==null&&(ne=ne.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),b=pe.hasEagerState?pe.eagerState:u(b,pe.action);else{var Pe={lane:Ce,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};ne===null?(ee=ne=Pe,W=b):ne=ne.next=Pe,xn.lanes|=Ce,Tc|=Ce}pe=pe.next}while(pe!==null&&pe!==B);ne===null?W=b:ne.next=ee,Ts(b,h.memoizedState)||(fi=!0),h.memoizedState=b,h.baseState=W,h.baseQueue=ne,g.lastRenderedState=b}if(u=g.interleaved,u!==null){N=u;do B=N.lane,xn.lanes|=B,Tc|=B,N=N.next;while(N!==u)}else N===null&&(g.lanes=0);return[h.memoizedState,g.dispatch]}function _w(u){var h=Xi(),g=h.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var b=g.dispatch,N=g.pending,B=h.memoizedState;if(N!==null){g.pending=null;var W=N=N.next;do B=u(B,W.action),W=W.next;while(W!==N);Ts(B,h.memoizedState)||(fi=!0),h.memoizedState=B,h.baseQueue===null&&(h.baseState=B),g.lastRenderedState=B}return[B,b]}function BI(){}function zI(u,h){var g=xn,b=Xi(),N=h(),B=!Ts(b.memoizedState,N);if(B&&(b.memoizedState=N,fi=!0),b=b.queue,Ew(qI.bind(null,g,b,u),[u]),b.getSnapshot!==h||B||nr!==null&&nr.memoizedState.tag&1){if(g.flags|=2048,Ih(9,$I.bind(null,g,b,N,h),void 0,null),rr===null)throw Error(n(349));(Ec&30)!==0||UI(g,h,N)}return N}function UI(u,h,g){u.flags|=16384,u={getSnapshot:h,value:g},h=xn.updateQueue,h===null?(h={lastEffect:null,stores:null},xn.updateQueue=h,h.stores=[u]):(g=h.stores,g===null?h.stores=[u]:g.push(u))}function $I(u,h,g,b){h.value=g,h.getSnapshot=b,WI(h)&&HI(u)}function qI(u,h,g){return g(function(){WI(h)&&HI(u)})}function WI(u){var h=u.getSnapshot;u=u.value;try{var g=h();return!Ts(u,g)}catch{return!0}}function HI(u){var h=Wa(u,1);h!==null&&Ns(h,u,1,-1)}function KI(u){var h=ra();return typeof u=="function"&&(u=u()),h.memoizedState=h.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nh,lastRenderedState:u},h.queue=u,u=u.dispatch=bW.bind(null,xn,u),[h.memoizedState,u]}function Ih(u,h,g,b){return u={tag:u,create:h,destroy:g,deps:b,next:null},h=xn.updateQueue,h===null?(h={lastEffect:null,stores:null},xn.updateQueue=h,h.lastEffect=u.next=u):(g=h.lastEffect,g===null?h.lastEffect=u.next=u:(b=g.next,g.next=u,u.next=b,h.lastEffect=u)),u}function GI(){return Xi().memoizedState}function Kg(u,h,g,b){var N=ra();xn.flags|=u,N.memoizedState=Ih(1|h,g,void 0,b===void 0?null:b)}function Gg(u,h,g,b){var N=Xi();b=b===void 0?null:b;var B=void 0;if(Wn!==null){var W=Wn.memoizedState;if(B=W.destroy,b!==null&&vw(b,W.deps)){N.memoizedState=Ih(h,g,B,b);return}}xn.flags|=u,N.memoizedState=Ih(1|h,g,B,b)}function XI(u,h){return Kg(8390656,8,u,h)}function Ew(u,h){return Gg(2048,8,u,h)}function YI(u,h){return Gg(4,2,u,h)}function QI(u,h){return Gg(4,4,u,h)}function JI(u,h){if(typeof h=="function")return u=u(),h(u),function(){h(null)};if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function ZI(u,h,g){return g=g!=null?g.concat([u]):null,Gg(4,4,JI.bind(null,h,u),g)}function Tw(){}function ej(u,h){var g=Xi();h=h===void 0?null:h;var b=g.memoizedState;return b!==null&&h!==null&&vw(h,b[1])?b[0]:(g.memoizedState=[u,h],u)}function tj(u,h){var g=Xi();h=h===void 0?null:h;var b=g.memoizedState;return b!==null&&h!==null&&vw(h,b[1])?b[0]:(u=u(),g.memoizedState=[u,h],u)}function nj(u,h,g){return(Ec&21)===0?(u.baseState&&(u.baseState=!1,fi=!0),u.memoizedState=g):(Ts(g,h)||(g=fc(),xn.lanes|=g,Tc|=g,u.baseState=!0),h)}function vW(u,h){var g=St;St=g!==0&&4>g?g:4,u(!0);var b=yw.transition;yw.transition={};try{u(!1),h()}finally{St=g,yw.transition=b}}function rj(){return Xi().memoizedState}function xW(u,h,g){var b=tl(u);if(g={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null},ij(u))sj(h,g);else if(g=OI(u,h,g,b),g!==null){var N=Kr();Ns(g,u,b,N),aj(g,h,b)}}function bW(u,h,g){var b=tl(u),N={lane:b,action:g,hasEagerState:!1,eagerState:null,next:null};if(ij(u))sj(h,N);else{var B=u.alternate;if(u.lanes===0&&(B===null||B.lanes===0)&&(B=h.lastRenderedReducer,B!==null))try{var W=h.lastRenderedState,ee=B(W,g);if(N.hasEagerState=!0,N.eagerState=ee,Ts(ee,W)){var ne=h.interleaved;ne===null?(N.next=N,dw(h)):(N.next=ne.next,ne.next=N),h.interleaved=N;return}}catch{}g=OI(u,h,N,b),g!==null&&(N=Kr(),Ns(g,u,b,N),aj(g,h,b))}}function ij(u){var h=u.alternate;return u===xn||h!==null&&h===xn}function sj(u,h){Ph=Hg=!0;var g=u.pending;g===null?h.next=h:(h.next=g.next,g.next=h),u.pending=h}function aj(u,h,g){if((g&4194240)!==0){var b=h.lanes;b&=u.pendingLanes,g|=b,h.lanes=g,Bo(u,g)}}var Xg={readContext:Gi,useCallback:kr,useContext:kr,useEffect:kr,useImperativeHandle:kr,useInsertionEffect:kr,useLayoutEffect:kr,useMemo:kr,useReducer:kr,useRef:kr,useState:kr,useDebugValue:kr,useDeferredValue:kr,useTransition:kr,useMutableSource:kr,useSyncExternalStore:kr,useId:kr,unstable_isNewReconciler:!1},wW={readContext:Gi,useCallback:function(u,h){return ra().memoizedState=[u,h===void 0?null:h],u},useContext:Gi,useEffect:XI,useImperativeHandle:function(u,h,g){return g=g!=null?g.concat([u]):null,Kg(4194308,4,JI.bind(null,h,u),g)},useLayoutEffect:function(u,h){return Kg(4194308,4,u,h)},useInsertionEffect:function(u,h){return Kg(4,2,u,h)},useMemo:function(u,h){var g=ra();return h=h===void 0?null:h,u=u(),g.memoizedState=[u,h],u},useReducer:function(u,h,g){var b=ra();return h=g!==void 0?g(h):h,b.memoizedState=b.baseState=h,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:h},b.queue=u,u=u.dispatch=xW.bind(null,xn,u),[b.memoizedState,u]},useRef:function(u){var h=ra();return u={current:u},h.memoizedState=u},useState:KI,useDebugValue:Tw,useDeferredValue:function(u){return ra().memoizedState=u},useTransition:function(){var u=KI(!1),h=u[0];return u=vW.bind(null,u[1]),ra().memoizedState=u,[h,u]},useMutableSource:function(){},useSyncExternalStore:function(u,h,g){var b=xn,N=ra();if(dn){if(g===void 0)throw Error(n(407));g=g()}else{if(g=h(),rr===null)throw Error(n(349));(Ec&30)!==0||UI(b,h,g)}N.memoizedState=g;var B={value:g,getSnapshot:h};return N.queue=B,XI(qI.bind(null,b,B,u),[u]),b.flags|=2048,Ih(9,$I.bind(null,b,B,g,h),void 0,null),g},useId:function(){var u=ra(),h=rr.identifierPrefix;if(dn){var g=qa,b=$a;g=(b&~(1<<32-qr(b)-1)).toString(32)+g,h=":"+h+"R"+g,g=Ah++,0<g&&(h+="H"+g.toString(32)),h+=":"}else g=yW++,h=":"+h+"r"+g.toString(32)+":";return u.memoizedState=h},unstable_isNewReconciler:!1},_W={readContext:Gi,useCallback:ej,useContext:Gi,useEffect:Ew,useImperativeHandle:ZI,useInsertionEffect:YI,useLayoutEffect:QI,useMemo:tj,useReducer:ww,useRef:GI,useState:function(){return ww(Nh)},useDebugValue:Tw,useDeferredValue:function(u){var h=Xi();return nj(h,Wn.memoizedState,u)},useTransition:function(){var u=ww(Nh)[0],h=Xi().memoizedState;return[u,h]},useMutableSource:BI,useSyncExternalStore:zI,useId:rj,unstable_isNewReconciler:!1},EW={readContext:Gi,useCallback:ej,useContext:Gi,useEffect:Ew,useImperativeHandle:ZI,useInsertionEffect:YI,useLayoutEffect:QI,useMemo:tj,useReducer:_w,useRef:GI,useState:function(){return _w(Nh)},useDebugValue:Tw,useDeferredValue:function(u){var h=Xi();return Wn===null?h.memoizedState=u:nj(h,Wn.memoizedState,u)},useTransition:function(){var u=_w(Nh)[0],h=Xi().memoizedState;return[u,h]},useMutableSource:BI,useSyncExternalStore:zI,useId:rj,unstable_isNewReconciler:!1};function Ss(u,h){if(u&&u.defaultProps){h=R({},h),u=u.defaultProps;for(var g in u)h[g]===void 0&&(h[g]=u[g]);return h}return h}function Cw(u,h,g,b){h=u.memoizedState,g=g(b,h),g=g==null?h:R({},h,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var Yg={isMounted:function(u){return(u=u._reactInternals)?ys(u)===u:!1},enqueueSetState:function(u,h,g){u=u._reactInternals;var b=Kr(),N=tl(u),B=Ha(b,N);B.payload=h,g!=null&&(B.callback=g),h=Qo(u,B,N),h!==null&&(Ns(h,u,N,b),Ug(h,u,N))},enqueueReplaceState:function(u,h,g){u=u._reactInternals;var b=Kr(),N=tl(u),B=Ha(b,N);B.tag=1,B.payload=h,g!=null&&(B.callback=g),h=Qo(u,B,N),h!==null&&(Ns(h,u,N,b),Ug(h,u,N))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var g=Kr(),b=tl(u),N=Ha(g,b);N.tag=2,h!=null&&(N.callback=h),h=Qo(u,N,b),h!==null&&(Ns(h,u,b,g),Ug(h,u,b))}};function oj(u,h,g,b,N,B,W){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(b,B,W):h.prototype&&h.prototype.isPureReactComponent?!gh(g,b)||!gh(N,B):!0}function lj(u,h,g){var b=!1,N=Go,B=h.contextType;return typeof B=="object"&&B!==null?B=Gi(B):(N=di(h)?vc:jr.current,b=h.contextTypes,B=(b=b!=null)?ud(u,N):Go),h=new h(g,B),u.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Yg,u.stateNode=h,h._reactInternals=u,b&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=N,u.__reactInternalMemoizedMaskedChildContext=B),h}function cj(u,h,g,b){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(g,b),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(g,b),h.state!==u&&Yg.enqueueReplaceState(h,h.state,null)}function Sw(u,h,g,b){var N=u.stateNode;N.props=g,N.state=u.memoizedState,N.refs={},fw(u);var B=h.contextType;typeof B=="object"&&B!==null?N.context=Gi(B):(B=di(h)?vc:jr.current,N.context=ud(u,B)),N.state=u.memoizedState,B=h.getDerivedStateFromProps,typeof B=="function"&&(Cw(u,h,B,g),N.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(h=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),h!==N.state&&Yg.enqueueReplaceState(N,N.state,null),$g(u,g,N,b),N.state=u.memoizedState),typeof N.componentDidMount=="function"&&(u.flags|=4194308)}function vd(u,h){try{var g="",b=h;do g+=te(b),b=b.return;while(b);var N=g}catch(B){N=`
Error generating stack: `+B.message+`
`+B.stack}return{value:u,source:h,stack:N,digest:null}}function Pw(u,h,g){return{value:u,source:null,stack:g??null,digest:h??null}}function Aw(u,h){try{console.error(h.value)}catch(g){setTimeout(function(){throw g})}}var TW=typeof WeakMap=="function"?WeakMap:Map;function uj(u,h,g){g=Ha(-1,g),g.tag=3,g.payload={element:null};var b=h.value;return g.callback=function(){ry||(ry=!0,$w=b),Aw(u,h)},g}function dj(u,h,g){g=Ha(-1,g),g.tag=3;var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var N=h.value;g.payload=function(){return b(N)},g.callback=function(){Aw(u,h)}}var B=u.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(g.callback=function(){Aw(u,h),typeof b!="function"&&(Zo===null?Zo=new Set([this]):Zo.add(this));var W=h.stack;this.componentDidCatch(h.value,{componentStack:W!==null?W:""})}),g}function fj(u,h,g){var b=u.pingCache;if(b===null){b=u.pingCache=new TW;var N=new Set;b.set(h,N)}else N=b.get(h),N===void 0&&(N=new Set,b.set(h,N));N.has(g)||(N.add(g),u=VW.bind(null,u,h,g),h.then(u,u))}function hj(u){do{var h;if((h=u.tag===13)&&(h=u.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return u;u=u.return}while(u!==null);return null}function mj(u,h,g,b,N){return(u.mode&1)===0?(u===h?u.flags|=65536:(u.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(h=Ha(-1,1),h.tag=2,Qo(g,h,1))),g.lanes|=1),u):(u.flags|=65536,u.lanes=N,u)}var CW=z.ReactCurrentOwner,fi=!1;function Hr(u,h,g,b){h.child=u===null?DI(h,null,g,b):md(h,u.child,g,b)}function pj(u,h,g,b,N){g=g.render;var B=h.ref;return gd(h,N),b=xw(u,h,g,b,B,N),g=bw(),u!==null&&!fi?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~N,Ka(u,h,N)):(dn&&g&&nw(h),h.flags|=1,Hr(u,h,b,N),h.child)}function gj(u,h,g,b,N){if(u===null){var B=g.type;return typeof B=="function"&&!Yw(B)&&B.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(h.tag=15,h.type=B,yj(u,h,B,b,N)):(u=cy(g.type,null,b,h,h.mode,N),u.ref=h.ref,u.return=h,h.child=u)}if(B=u.child,(u.lanes&N)===0){var W=B.memoizedProps;if(g=g.compare,g=g!==null?g:gh,g(W,b)&&u.ref===h.ref)return Ka(u,h,N)}return h.flags|=1,u=rl(B,b),u.ref=h.ref,u.return=h,h.child=u}function yj(u,h,g,b,N){if(u!==null){var B=u.memoizedProps;if(gh(B,b)&&u.ref===h.ref)if(fi=!1,h.pendingProps=b=B,(u.lanes&N)!==0)(u.flags&131072)!==0&&(fi=!0);else return h.lanes=u.lanes,Ka(u,h,N)}return Nw(u,h,g,b,N)}function vj(u,h,g){var b=h.pendingProps,N=b.children,B=u!==null?u.memoizedState:null;if(b.mode==="hidden")if((h.mode&1)===0)h.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zt(bd,Di),Di|=g;else{if((g&1073741824)===0)return u=B!==null?B.baseLanes|g:g,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:u,cachePool:null,transitions:null},h.updateQueue=null,Zt(bd,Di),Di|=u,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=B!==null?B.baseLanes:g,Zt(bd,Di),Di|=b}else B!==null?(b=B.baseLanes|g,h.memoizedState=null):b=g,Zt(bd,Di),Di|=b;return Hr(u,h,N,g),h.child}function xj(u,h){var g=h.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(h.flags|=512,h.flags|=2097152)}function Nw(u,h,g,b,N){var B=di(g)?vc:jr.current;return B=ud(h,B),gd(h,N),g=xw(u,h,g,b,B,N),b=bw(),u!==null&&!fi?(h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~N,Ka(u,h,N)):(dn&&b&&nw(h),h.flags|=1,Hr(u,h,g,N),h.child)}function bj(u,h,g,b,N){if(di(g)){var B=!0;Dg(h)}else B=!1;if(gd(h,N),h.stateNode===null)Jg(u,h),lj(h,g,b),Sw(h,g,b,N),b=!0;else if(u===null){var W=h.stateNode,ee=h.memoizedProps;W.props=ee;var ne=W.context,pe=g.contextType;typeof pe=="object"&&pe!==null?pe=Gi(pe):(pe=di(g)?vc:jr.current,pe=ud(h,pe));var Ce=g.getDerivedStateFromProps,Pe=typeof Ce=="function"||typeof W.getSnapshotBeforeUpdate=="function";Pe||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ee!==b||ne!==pe)&&cj(h,W,b,pe),Yo=!1;var Ee=h.memoizedState;W.state=Ee,$g(h,b,W,N),ne=h.memoizedState,ee!==b||Ee!==ne||ui.current||Yo?(typeof Ce=="function"&&(Cw(h,g,Ce,b),ne=h.memoizedState),(ee=Yo||oj(h,g,ee,b,Ee,ne,pe))?(Pe||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(h.flags|=4194308)):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=b,h.memoizedState=ne),W.props=b,W.state=ne,W.context=pe,b=ee):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),b=!1)}else{W=h.stateNode,MI(u,h),ee=h.memoizedProps,pe=h.type===h.elementType?ee:Ss(h.type,ee),W.props=pe,Pe=h.pendingProps,Ee=W.context,ne=g.contextType,typeof ne=="object"&&ne!==null?ne=Gi(ne):(ne=di(g)?vc:jr.current,ne=ud(h,ne));var Le=g.getDerivedStateFromProps;(Ce=typeof Le=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(ee!==Pe||Ee!==ne)&&cj(h,W,b,ne),Yo=!1,Ee=h.memoizedState,W.state=Ee,$g(h,b,W,N);var ze=h.memoizedState;ee!==Pe||Ee!==ze||ui.current||Yo?(typeof Le=="function"&&(Cw(h,g,Le,b),ze=h.memoizedState),(pe=Yo||oj(h,g,pe,b,Ee,ze,ne)||!1)?(Ce||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(b,ze,ne),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(b,ze,ne)),typeof W.componentDidUpdate=="function"&&(h.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof W.componentDidUpdate!="function"||ee===u.memoizedProps&&Ee===u.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&Ee===u.memoizedState||(h.flags|=1024),h.memoizedProps=b,h.memoizedState=ze),W.props=b,W.state=ze,W.context=ne,b=pe):(typeof W.componentDidUpdate!="function"||ee===u.memoizedProps&&Ee===u.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||ee===u.memoizedProps&&Ee===u.memoizedState||(h.flags|=1024),b=!1)}return Iw(u,h,g,b,B,N)}function Iw(u,h,g,b,N,B){xj(u,h);var W=(h.flags&128)!==0;if(!b&&!W)return N&&CI(h,g,!1),Ka(u,h,B);b=h.stateNode,CW.current=h;var ee=W&&typeof g.getDerivedStateFromError!="function"?null:b.render();return h.flags|=1,u!==null&&W?(h.child=md(h,u.child,null,B),h.child=md(h,null,ee,B)):Hr(u,h,ee,B),h.memoizedState=b.state,N&&CI(h,g,!0),h.child}function wj(u){var h=u.stateNode;h.pendingContext?EI(u,h.pendingContext,h.pendingContext!==h.context):h.context&&EI(u,h.context,!1),hw(u,h.containerInfo)}function _j(u,h,g,b,N){return hd(),aw(N),h.flags|=256,Hr(u,h,g,b),h.child}var jw={dehydrated:null,treeContext:null,retryLane:0};function kw(u){return{baseLanes:u,cachePool:null,transitions:null}}function Ej(u,h,g){var b=h.pendingProps,N=vn.current,B=!1,W=(h.flags&128)!==0,ee;if((ee=W)||(ee=u!==null&&u.memoizedState===null?!1:(N&2)!==0),ee?(B=!0,h.flags&=-129):(u===null||u.memoizedState!==null)&&(N|=1),Zt(vn,N&1),u===null)return sw(h),u=h.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((h.mode&1)===0?h.lanes=1:u.data==="$!"?h.lanes=8:h.lanes=1073741824,null):(W=b.children,u=b.fallback,B?(b=h.mode,B=h.child,W={mode:"hidden",children:W},(b&1)===0&&B!==null?(B.childLanes=0,B.pendingProps=W):B=uy(W,b,0,null),u=Ac(u,b,g,null),B.return=h,u.return=h,B.sibling=u,h.child=B,h.child.memoizedState=kw(g),h.memoizedState=jw,u):Rw(h,W));if(N=u.memoizedState,N!==null&&(ee=N.dehydrated,ee!==null))return SW(u,h,W,b,ee,N,g);if(B){B=b.fallback,W=h.mode,N=u.child,ee=N.sibling;var ne={mode:"hidden",children:b.children};return(W&1)===0&&h.child!==N?(b=h.child,b.childLanes=0,b.pendingProps=ne,h.deletions=null):(b=rl(N,ne),b.subtreeFlags=N.subtreeFlags&14680064),ee!==null?B=rl(ee,B):(B=Ac(B,W,g,null),B.flags|=2),B.return=h,b.return=h,b.sibling=B,h.child=b,b=B,B=h.child,W=u.child.memoizedState,W=W===null?kw(g):{baseLanes:W.baseLanes|g,cachePool:null,transitions:W.transitions},B.memoizedState=W,B.childLanes=u.childLanes&~g,h.memoizedState=jw,b}return B=u.child,u=B.sibling,b=rl(B,{mode:"visible",children:b.children}),(h.mode&1)===0&&(b.lanes=g),b.return=h,b.sibling=null,u!==null&&(g=h.deletions,g===null?(h.deletions=[u],h.flags|=16):g.push(u)),h.child=b,h.memoizedState=null,b}function Rw(u,h){return h=uy({mode:"visible",children:h},u.mode,0,null),h.return=u,u.child=h}function Qg(u,h,g,b){return b!==null&&aw(b),md(h,u.child,null,g),u=Rw(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function SW(u,h,g,b,N,B,W){if(g)return h.flags&256?(h.flags&=-257,b=Pw(Error(n(422))),Qg(u,h,W,b)):h.memoizedState!==null?(h.child=u.child,h.flags|=128,null):(B=b.fallback,N=h.mode,b=uy({mode:"visible",children:b.children},N,0,null),B=Ac(B,N,W,null),B.flags|=2,b.return=h,B.return=h,b.sibling=B,h.child=b,(h.mode&1)!==0&&md(h,u.child,null,W),h.child.memoizedState=kw(W),h.memoizedState=jw,B);if((h.mode&1)===0)return Qg(u,h,W,null);if(N.data==="$!"){if(b=N.nextSibling&&N.nextSibling.dataset,b)var ee=b.dgst;return b=ee,B=Error(n(419)),b=Pw(B,b,void 0),Qg(u,h,W,b)}if(ee=(W&u.childLanes)!==0,fi||ee){if(b=rr,b!==null){switch(W&-W){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}N=(N&(b.suspendedLanes|W))!==0?0:N,N!==0&&N!==B.retryLane&&(B.retryLane=N,Wa(u,N),Ns(b,u,N,-1))}return Xw(),b=Pw(Error(n(421))),Qg(u,h,W,b)}return N.data==="$?"?(h.flags|=128,h.child=u.child,h=FW.bind(null,u),N._reactRetry=h,null):(u=B.treeContext,Ri=Ho(N.nextSibling),ki=h,dn=!0,Cs=null,u!==null&&(Hi[Ki++]=$a,Hi[Ki++]=qa,Hi[Ki++]=xc,$a=u.id,qa=u.overflow,xc=h),h=Rw(h,b.children),h.flags|=4096,h)}function Tj(u,h,g){u.lanes|=h;var b=u.alternate;b!==null&&(b.lanes|=h),uw(u.return,h,g)}function Dw(u,h,g,b,N){var B=u.memoizedState;B===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:b,tail:g,tailMode:N}:(B.isBackwards=h,B.rendering=null,B.renderingStartTime=0,B.last=b,B.tail=g,B.tailMode=N)}function Cj(u,h,g){var b=h.pendingProps,N=b.revealOrder,B=b.tail;if(Hr(u,h,b.children,g),b=vn.current,(b&2)!==0)b=b&1|2,h.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Tj(u,g,h);else if(u.tag===19)Tj(u,g,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}b&=1}if(Zt(vn,b),(h.mode&1)===0)h.memoizedState=null;else switch(N){case"forwards":for(g=h.child,N=null;g!==null;)u=g.alternate,u!==null&&qg(u)===null&&(N=g),g=g.sibling;g=N,g===null?(N=h.child,h.child=null):(N=g.sibling,g.sibling=null),Dw(h,!1,N,g,B);break;case"backwards":for(g=null,N=h.child,h.child=null;N!==null;){if(u=N.alternate,u!==null&&qg(u)===null){h.child=N;break}u=N.sibling,N.sibling=g,g=N,N=u}Dw(h,!0,g,null,B);break;case"together":Dw(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Jg(u,h){(h.mode&1)===0&&u!==null&&(u.alternate=null,h.alternate=null,h.flags|=2)}function Ka(u,h,g){if(u!==null&&(h.dependencies=u.dependencies),Tc|=h.lanes,(g&h.childLanes)===0)return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,g=rl(u,u.pendingProps),h.child=g,g.return=h;u.sibling!==null;)u=u.sibling,g=g.sibling=rl(u,u.pendingProps),g.return=h;g.sibling=null}return h.child}function PW(u,h,g){switch(h.tag){case 3:wj(h),hd();break;case 5:FI(h);break;case 1:di(h.type)&&Dg(h);break;case 4:hw(h,h.stateNode.containerInfo);break;case 10:var b=h.type._context,N=h.memoizedProps.value;Zt(Bg,b._currentValue),b._currentValue=N;break;case 13:if(b=h.memoizedState,b!==null)return b.dehydrated!==null?(Zt(vn,vn.current&1),h.flags|=128,null):(g&h.child.childLanes)!==0?Ej(u,h,g):(Zt(vn,vn.current&1),u=Ka(u,h,g),u!==null?u.sibling:null);Zt(vn,vn.current&1);break;case 19:if(b=(g&h.childLanes)!==0,(u.flags&128)!==0){if(b)return Cj(u,h,g);h.flags|=128}if(N=h.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),Zt(vn,vn.current),b)break;return null;case 22:case 23:return h.lanes=0,vj(u,h,g)}return Ka(u,h,g)}var Sj,Ow,Pj,Aj;Sj=function(u,h){for(var g=h.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===h)break;for(;g.sibling===null;){if(g.return===null||g.return===h)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Ow=function(){},Pj=function(u,h,g,b){var N=u.memoizedProps;if(N!==b){u=h.stateNode,_c(na.current);var B=null;switch(g){case"input":N=Ie(u,N),b=Ie(u,b),B=[];break;case"select":N=R({},N,{value:void 0}),b=R({},b,{value:void 0}),B=[];break;case"textarea":N=je(u,N),b=je(u,b),B=[];break;default:typeof N.onClick!="function"&&typeof b.onClick=="function"&&(u.onclick=jg)}Ur(g,b);var W;g=null;for(pe in N)if(!b.hasOwnProperty(pe)&&N.hasOwnProperty(pe)&&N[pe]!=null)if(pe==="style"){var ee=N[pe];for(W in ee)ee.hasOwnProperty(W)&&(g||(g={}),g[W]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(i.hasOwnProperty(pe)?B||(B=[]):(B=B||[]).push(pe,null));for(pe in b){var ne=b[pe];if(ee=N?.[pe],b.hasOwnProperty(pe)&&ne!==ee&&(ne!=null||ee!=null))if(pe==="style")if(ee){for(W in ee)!ee.hasOwnProperty(W)||ne&&ne.hasOwnProperty(W)||(g||(g={}),g[W]="");for(W in ne)ne.hasOwnProperty(W)&&ee[W]!==ne[W]&&(g||(g={}),g[W]=ne[W])}else g||(B||(B=[]),B.push(pe,g)),g=ne;else pe==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ee=ee?ee.__html:void 0,ne!=null&&ee!==ne&&(B=B||[]).push(pe,ne)):pe==="children"?typeof ne!="string"&&typeof ne!="number"||(B=B||[]).push(pe,""+ne):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(i.hasOwnProperty(pe)?(ne!=null&&pe==="onScroll"&&sn("scroll",u),B||ee===ne||(B=[])):(B=B||[]).push(pe,ne))}g&&(B=B||[]).push("style",g);var pe=B;(h.updateQueue=pe)&&(h.flags|=4)}},Aj=function(u,h,g,b){g!==b&&(h.flags|=4)};function jh(u,h){if(!dn)switch(u.tailMode){case"hidden":h=u.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var b=null;g!==null;)g.alternate!==null&&(b=g),g=g.sibling;b===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:b.sibling=null}}function Rr(u){var h=u.alternate!==null&&u.alternate.child===u.child,g=0,b=0;if(h)for(var N=u.child;N!==null;)g|=N.lanes|N.childLanes,b|=N.subtreeFlags&14680064,b|=N.flags&14680064,N.return=u,N=N.sibling;else for(N=u.child;N!==null;)g|=N.lanes|N.childLanes,b|=N.subtreeFlags,b|=N.flags,N.return=u,N=N.sibling;return u.subtreeFlags|=b,u.childLanes=g,h}function AW(u,h,g){var b=h.pendingProps;switch(rw(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(h),null;case 1:return di(h.type)&&Rg(),Rr(h),null;case 3:return b=h.stateNode,yd(),an(ui),an(jr),gw(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(u===null||u.child===null)&&(Vg(h)?h.flags|=4:u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Cs!==null&&(Hw(Cs),Cs=null))),Ow(u,h),Rr(h),null;case 5:mw(h);var N=_c(Sh.current);if(g=h.type,u!==null&&h.stateNode!=null)Pj(u,h,g,b,N),u.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!b){if(h.stateNode===null)throw Error(n(166));return Rr(h),null}if(u=_c(na.current),Vg(h)){b=h.stateNode,g=h.type;var B=h.memoizedProps;switch(b[ta]=h,b[wh]=B,u=(h.mode&1)!==0,g){case"dialog":sn("cancel",b),sn("close",b);break;case"iframe":case"object":case"embed":sn("load",b);break;case"video":case"audio":for(N=0;N<vh.length;N++)sn(vh[N],b);break;case"source":sn("error",b);break;case"img":case"image":case"link":sn("error",b),sn("load",b);break;case"details":sn("toggle",b);break;case"input":Ye(b,B),sn("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!B.multiple},sn("invalid",b);break;case"textarea":qe(b,B),sn("invalid",b)}Ur(g,B),N=null;for(var W in B)if(B.hasOwnProperty(W)){var ee=B[W];W==="children"?typeof ee=="string"?b.textContent!==ee&&(B.suppressHydrationWarning!==!0&&Ig(b.textContent,ee,u),N=["children",ee]):typeof ee=="number"&&b.textContent!==""+ee&&(B.suppressHydrationWarning!==!0&&Ig(b.textContent,ee,u),N=["children",""+ee]):i.hasOwnProperty(W)&&ee!=null&&W==="onScroll"&&sn("scroll",b)}switch(g){case"input":Te(b),bt(b,B,!0);break;case"textarea":Te(b),ht(b);break;case"select":case"option":break;default:typeof B.onClick=="function"&&(b.onclick=jg)}b=N,h.updateQueue=b,b!==null&&(h.flags|=4)}else{W=N.nodeType===9?N:N.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=le(g)),u==="http://www.w3.org/1999/xhtml"?g==="script"?(u=W.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof b.is=="string"?u=W.createElement(g,{is:b.is}):(u=W.createElement(g),g==="select"&&(W=u,b.multiple?W.multiple=!0:b.size&&(W.size=b.size))):u=W.createElementNS(u,g),u[ta]=h,u[wh]=b,Sj(u,h,!1,!1),h.stateNode=u;e:{switch(W=ac(g,b),g){case"dialog":sn("cancel",u),sn("close",u),N=b;break;case"iframe":case"object":case"embed":sn("load",u),N=b;break;case"video":case"audio":for(N=0;N<vh.length;N++)sn(vh[N],u);N=b;break;case"source":sn("error",u),N=b;break;case"img":case"image":case"link":sn("error",u),sn("load",u),N=b;break;case"details":sn("toggle",u),N=b;break;case"input":Ye(u,b),N=Ie(u,b),sn("invalid",u);break;case"option":N=b;break;case"select":u._wrapperState={wasMultiple:!!b.multiple},N=R({},b,{value:void 0}),sn("invalid",u);break;case"textarea":qe(u,b),N=je(u,b),sn("invalid",u);break;default:N=b}Ur(g,N),ee=N;for(B in ee)if(ee.hasOwnProperty(B)){var ne=ee[B];B==="style"?Cn(u,ne):B==="dangerouslySetInnerHTML"?(ne=ne?ne.__html:void 0,ne!=null&&Bt(u,ne)):B==="children"?typeof ne=="string"?(g!=="textarea"||ne!=="")&&lt(u,ne):typeof ne=="number"&&lt(u,""+ne):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(i.hasOwnProperty(B)?ne!=null&&B==="onScroll"&&sn("scroll",u):ne!=null&&O(u,B,ne,W))}switch(g){case"input":Te(u),bt(u,b,!1);break;case"textarea":Te(u),ht(u);break;case"option":b.value!=null&&u.setAttribute("value",""+xe(b.value));break;case"select":u.multiple=!!b.multiple,B=b.value,B!=null?oe(u,!!b.multiple,B,!1):b.defaultValue!=null&&oe(u,!!b.multiple,b.defaultValue,!0);break;default:typeof N.onClick=="function"&&(u.onclick=jg)}switch(g){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(h.flags|=4)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Rr(h),null;case 6:if(u&&h.stateNode!=null)Aj(u,h,u.memoizedProps,b);else{if(typeof b!="string"&&h.stateNode===null)throw Error(n(166));if(g=_c(Sh.current),_c(na.current),Vg(h)){if(b=h.stateNode,g=h.memoizedProps,b[ta]=h,(B=b.nodeValue!==g)&&(u=ki,u!==null))switch(u.tag){case 3:Ig(b.nodeValue,g,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&Ig(b.nodeValue,g,(u.mode&1)!==0)}B&&(h.flags|=4)}else b=(g.nodeType===9?g:g.ownerDocument).createTextNode(b),b[ta]=h,h.stateNode=b}return Rr(h),null;case 13:if(an(vn),b=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(dn&&Ri!==null&&(h.mode&1)!==0&&(h.flags&128)===0)jI(),hd(),h.flags|=98560,B=!1;else if(B=Vg(h),b!==null&&b.dehydrated!==null){if(u===null){if(!B)throw Error(n(318));if(B=h.memoizedState,B=B!==null?B.dehydrated:null,!B)throw Error(n(317));B[ta]=h}else hd(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Rr(h),B=!1}else Cs!==null&&(Hw(Cs),Cs=null),B=!0;if(!B)return h.flags&65536?h:null}return(h.flags&128)!==0?(h.lanes=g,h):(b=b!==null,b!==(u!==null&&u.memoizedState!==null)&&b&&(h.child.flags|=8192,(h.mode&1)!==0&&(u===null||(vn.current&1)!==0?Hn===0&&(Hn=3):Xw())),h.updateQueue!==null&&(h.flags|=4),Rr(h),null);case 4:return yd(),Ow(u,h),u===null&&xh(h.stateNode.containerInfo),Rr(h),null;case 10:return cw(h.type._context),Rr(h),null;case 17:return di(h.type)&&Rg(),Rr(h),null;case 19:if(an(vn),B=h.memoizedState,B===null)return Rr(h),null;if(b=(h.flags&128)!==0,W=B.rendering,W===null)if(b)jh(B,!1);else{if(Hn!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if(W=qg(u),W!==null){for(h.flags|=128,jh(B,!1),b=W.updateQueue,b!==null&&(h.updateQueue=b,h.flags|=4),h.subtreeFlags=0,b=g,g=h.child;g!==null;)B=g,u=b,B.flags&=14680066,W=B.alternate,W===null?(B.childLanes=0,B.lanes=u,B.child=null,B.subtreeFlags=0,B.memoizedProps=null,B.memoizedState=null,B.updateQueue=null,B.dependencies=null,B.stateNode=null):(B.childLanes=W.childLanes,B.lanes=W.lanes,B.child=W.child,B.subtreeFlags=0,B.deletions=null,B.memoizedProps=W.memoizedProps,B.memoizedState=W.memoizedState,B.updateQueue=W.updateQueue,B.type=W.type,u=W.dependencies,B.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),g=g.sibling;return Zt(vn,vn.current&1|2),h.child}u=u.sibling}B.tail!==null&&Jt()>wd&&(h.flags|=128,b=!0,jh(B,!1),h.lanes=4194304)}else{if(!b)if(u=qg(W),u!==null){if(h.flags|=128,b=!0,g=u.updateQueue,g!==null&&(h.updateQueue=g,h.flags|=4),jh(B,!0),B.tail===null&&B.tailMode==="hidden"&&!W.alternate&&!dn)return Rr(h),null}else 2*Jt()-B.renderingStartTime>wd&&g!==1073741824&&(h.flags|=128,b=!0,jh(B,!1),h.lanes=4194304);B.isBackwards?(W.sibling=h.child,h.child=W):(g=B.last,g!==null?g.sibling=W:h.child=W,B.last=W)}return B.tail!==null?(h=B.tail,B.rendering=h,B.tail=h.sibling,B.renderingStartTime=Jt(),h.sibling=null,g=vn.current,Zt(vn,b?g&1|2:g&1),h):(Rr(h),null);case 22:case 23:return Gw(),b=h.memoizedState!==null,u!==null&&u.memoizedState!==null!==b&&(h.flags|=8192),b&&(h.mode&1)!==0?(Di&1073741824)!==0&&(Rr(h),h.subtreeFlags&6&&(h.flags|=8192)):Rr(h),null;case 24:return null;case 25:return null}throw Error(n(156,h.tag))}function NW(u,h){switch(rw(h),h.tag){case 1:return di(h.type)&&Rg(),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return yd(),an(ui),an(jr),gw(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 5:return mw(h),null;case 13:if(an(vn),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));hd()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return an(vn),null;case 4:return yd(),null;case 10:return cw(h.type._context),null;case 22:case 23:return Gw(),null;case 24:return null;default:return null}}var Zg=!1,Dr=!1,IW=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function xd(u,h){var g=u.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(b){Sn(u,h,b)}else g.current=null}function Mw(u,h,g){try{g()}catch(b){Sn(u,h,b)}}var Nj=!1;function jW(u,h){if(Gb=$o,u=oI(),Bb(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var b=g.getSelection&&g.getSelection();if(b&&b.rangeCount!==0){g=b.anchorNode;var N=b.anchorOffset,B=b.focusNode;b=b.focusOffset;try{g.nodeType,B.nodeType}catch{g=null;break e}var W=0,ee=-1,ne=-1,pe=0,Ce=0,Pe=u,Ee=null;t:for(;;){for(var Le;Pe!==g||N!==0&&Pe.nodeType!==3||(ee=W+N),Pe!==B||b!==0&&Pe.nodeType!==3||(ne=W+b),Pe.nodeType===3&&(W+=Pe.nodeValue.length),(Le=Pe.firstChild)!==null;)Ee=Pe,Pe=Le;for(;;){if(Pe===u)break t;if(Ee===g&&++pe===N&&(ee=W),Ee===B&&++Ce===b&&(ne=W),(Le=Pe.nextSibling)!==null)break;Pe=Ee,Ee=Pe.parentNode}Pe=Le}g=ee===-1||ne===-1?null:{start:ee,end:ne}}else g=null}g=g||{start:0,end:0}}else g=null;for(Xb={focusedElem:u,selectionRange:g},$o=!1,Fe=h;Fe!==null;)if(h=Fe,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Fe=u;else for(;Fe!==null;){h=Fe;try{var ze=h.alternate;if((h.flags&1024)!==0)switch(h.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var We=ze.memoizedProps,Dn=ze.memoizedState,de=h.stateNode,ie=de.getSnapshotBeforeUpdate(h.elementType===h.type?We:Ss(h.type,We),Dn);de.__reactInternalSnapshotBeforeUpdate=ie}break;case 3:var fe=h.stateNode.containerInfo;fe.nodeType===1?fe.textContent="":fe.nodeType===9&&fe.documentElement&&fe.removeChild(fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ae){Sn(h,h.return,Ae)}if(u=h.sibling,u!==null){u.return=h.return,Fe=u;break}Fe=h.return}return ze=Nj,Nj=!1,ze}function kh(u,h,g){var b=h.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var N=b=b.next;do{if((N.tag&u)===u){var B=N.destroy;N.destroy=void 0,B!==void 0&&Mw(h,g,B)}N=N.next}while(N!==b)}}function ey(u,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&u)===u){var b=g.create;g.destroy=b()}g=g.next}while(g!==h)}}function Lw(u){var h=u.ref;if(h!==null){var g=u.stateNode;u.tag,u=g,typeof h=="function"?h(u):h.current=u}}function Ij(u){var h=u.alternate;h!==null&&(u.alternate=null,Ij(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&(delete h[ta],delete h[wh],delete h[Zb],delete h[hW],delete h[mW])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function jj(u){return u.tag===5||u.tag===3||u.tag===4}function kj(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||jj(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function Vw(u,h,g){var b=u.tag;if(b===5||b===6)u=u.stateNode,h?g.nodeType===8?g.parentNode.insertBefore(u,h):g.insertBefore(u,h):(g.nodeType===8?(h=g.parentNode,h.insertBefore(u,g)):(h=g,h.appendChild(u)),g=g._reactRootContainer,g!=null||h.onclick!==null||(h.onclick=jg));else if(b!==4&&(u=u.child,u!==null))for(Vw(u,h,g),u=u.sibling;u!==null;)Vw(u,h,g),u=u.sibling}function Fw(u,h,g){var b=u.tag;if(b===5||b===6)u=u.stateNode,h?g.insertBefore(u,h):g.appendChild(u);else if(b!==4&&(u=u.child,u!==null))for(Fw(u,h,g),u=u.sibling;u!==null;)Fw(u,h,g),u=u.sibling}var xr=null,Ps=!1;function Jo(u,h,g){for(g=g.child;g!==null;)Rj(u,h,g),g=g.sibling}function Rj(u,h,g){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(uc,g)}catch{}switch(g.tag){case 5:Dr||xd(g,h);case 6:var b=xr,N=Ps;xr=null,Jo(u,h,g),xr=b,Ps=N,xr!==null&&(Ps?(u=xr,g=g.stateNode,u.nodeType===8?u.parentNode.removeChild(g):u.removeChild(g)):xr.removeChild(g.stateNode));break;case 18:xr!==null&&(Ps?(u=xr,g=g.stateNode,u.nodeType===8?Jb(u.parentNode,g):u.nodeType===1&&Jb(u,g),_s(u)):Jb(xr,g.stateNode));break;case 4:b=xr,N=Ps,xr=g.stateNode.containerInfo,Ps=!0,Jo(u,h,g),xr=b,Ps=N;break;case 0:case 11:case 14:case 15:if(!Dr&&(b=g.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){N=b=b.next;do{var B=N,W=B.destroy;B=B.tag,W!==void 0&&((B&2)!==0||(B&4)!==0)&&Mw(g,h,W),N=N.next}while(N!==b)}Jo(u,h,g);break;case 1:if(!Dr&&(xd(g,h),b=g.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=g.memoizedProps,b.state=g.memoizedState,b.componentWillUnmount()}catch(ee){Sn(g,h,ee)}Jo(u,h,g);break;case 21:Jo(u,h,g);break;case 22:g.mode&1?(Dr=(b=Dr)||g.memoizedState!==null,Jo(u,h,g),Dr=b):Jo(u,h,g);break;default:Jo(u,h,g)}}function Dj(u){var h=u.updateQueue;if(h!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new IW),h.forEach(function(b){var N=BW.bind(null,u,b);g.has(b)||(g.add(b),b.then(N,N))})}}function As(u,h){var g=h.deletions;if(g!==null)for(var b=0;b<g.length;b++){var N=g[b];try{var B=u,W=h,ee=W;e:for(;ee!==null;){switch(ee.tag){case 5:xr=ee.stateNode,Ps=!1;break e;case 3:xr=ee.stateNode.containerInfo,Ps=!0;break e;case 4:xr=ee.stateNode.containerInfo,Ps=!0;break e}ee=ee.return}if(xr===null)throw Error(n(160));Rj(B,W,N),xr=null,Ps=!1;var ne=N.alternate;ne!==null&&(ne.return=null),N.return=null}catch(pe){Sn(N,h,pe)}}if(h.subtreeFlags&12854)for(h=h.child;h!==null;)Oj(h,u),h=h.sibling}function Oj(u,h){var g=u.alternate,b=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(As(h,u),ia(u),b&4){try{kh(3,u,u.return),ey(3,u)}catch(We){Sn(u,u.return,We)}try{kh(5,u,u.return)}catch(We){Sn(u,u.return,We)}}break;case 1:As(h,u),ia(u),b&512&&g!==null&&xd(g,g.return);break;case 5:if(As(h,u),ia(u),b&512&&g!==null&&xd(g,g.return),u.flags&32){var N=u.stateNode;try{lt(N,"")}catch(We){Sn(u,u.return,We)}}if(b&4&&(N=u.stateNode,N!=null)){var B=u.memoizedProps,W=g!==null?g.memoizedProps:B,ee=u.type,ne=u.updateQueue;if(u.updateQueue=null,ne!==null)try{ee==="input"&&B.type==="radio"&&B.name!=null&&Je(N,B),ac(ee,W);var pe=ac(ee,B);for(W=0;W<ne.length;W+=2){var Ce=ne[W],Pe=ne[W+1];Ce==="style"?Cn(N,Pe):Ce==="dangerouslySetInnerHTML"?Bt(N,Pe):Ce==="children"?lt(N,Pe):O(N,Ce,Pe,pe)}switch(ee){case"input":Qe(N,B);break;case"textarea":dt(N,B);break;case"select":var Ee=N._wrapperState.wasMultiple;N._wrapperState.wasMultiple=!!B.multiple;var Le=B.value;Le!=null?oe(N,!!B.multiple,Le,!1):Ee!==!!B.multiple&&(B.defaultValue!=null?oe(N,!!B.multiple,B.defaultValue,!0):oe(N,!!B.multiple,B.multiple?[]:"",!1))}N[wh]=B}catch(We){Sn(u,u.return,We)}}break;case 6:if(As(h,u),ia(u),b&4){if(u.stateNode===null)throw Error(n(162));N=u.stateNode,B=u.memoizedProps;try{N.nodeValue=B}catch(We){Sn(u,u.return,We)}}break;case 3:if(As(h,u),ia(u),b&4&&g!==null&&g.memoizedState.isDehydrated)try{_s(h.containerInfo)}catch(We){Sn(u,u.return,We)}break;case 4:As(h,u),ia(u);break;case 13:As(h,u),ia(u),N=u.child,N.flags&8192&&(B=N.memoizedState!==null,N.stateNode.isHidden=B,!B||N.alternate!==null&&N.alternate.memoizedState!==null||(Uw=Jt())),b&4&&Dj(u);break;case 22:if(Ce=g!==null&&g.memoizedState!==null,u.mode&1?(Dr=(pe=Dr)||Ce,As(h,u),Dr=pe):As(h,u),ia(u),b&8192){if(pe=u.memoizedState!==null,(u.stateNode.isHidden=pe)&&!Ce&&(u.mode&1)!==0)for(Fe=u,Ce=u.child;Ce!==null;){for(Pe=Fe=Ce;Fe!==null;){switch(Ee=Fe,Le=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:kh(4,Ee,Ee.return);break;case 1:xd(Ee,Ee.return);var ze=Ee.stateNode;if(typeof ze.componentWillUnmount=="function"){b=Ee,g=Ee.return;try{h=b,ze.props=h.memoizedProps,ze.state=h.memoizedState,ze.componentWillUnmount()}catch(We){Sn(b,g,We)}}break;case 5:xd(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){Vj(Pe);continue}}Le!==null?(Le.return=Ee,Fe=Le):Vj(Pe)}Ce=Ce.sibling}e:for(Ce=null,Pe=u;;){if(Pe.tag===5){if(Ce===null){Ce=Pe;try{N=Pe.stateNode,pe?(B=N.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none"):(ee=Pe.stateNode,ne=Pe.memoizedProps.style,W=ne!=null&&ne.hasOwnProperty("display")?ne.display:null,ee.style.display=ii("display",W))}catch(We){Sn(u,u.return,We)}}}else if(Pe.tag===6){if(Ce===null)try{Pe.stateNode.nodeValue=pe?"":Pe.memoizedProps}catch(We){Sn(u,u.return,We)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===u)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===u)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===u)break e;Ce===Pe&&(Ce=null),Pe=Pe.return}Ce===Pe&&(Ce=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:As(h,u),ia(u),b&4&&Dj(u);break;case 21:break;default:As(h,u),ia(u)}}function ia(u){var h=u.flags;if(h&2){try{e:{for(var g=u.return;g!==null;){if(jj(g)){var b=g;break e}g=g.return}throw Error(n(160))}switch(b.tag){case 5:var N=b.stateNode;b.flags&32&&(lt(N,""),b.flags&=-33);var B=kj(u);Fw(u,B,N);break;case 3:case 4:var W=b.stateNode.containerInfo,ee=kj(u);Vw(u,ee,W);break;default:throw Error(n(161))}}catch(ne){Sn(u,u.return,ne)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function kW(u,h,g){Fe=u,Mj(u)}function Mj(u,h,g){for(var b=(u.mode&1)!==0;Fe!==null;){var N=Fe,B=N.child;if(N.tag===22&&b){var W=N.memoizedState!==null||Zg;if(!W){var ee=N.alternate,ne=ee!==null&&ee.memoizedState!==null||Dr;ee=Zg;var pe=Dr;if(Zg=W,(Dr=ne)&&!pe)for(Fe=N;Fe!==null;)W=Fe,ne=W.child,W.tag===22&&W.memoizedState!==null?Fj(N):ne!==null?(ne.return=W,Fe=ne):Fj(N);for(;B!==null;)Fe=B,Mj(B),B=B.sibling;Fe=N,Zg=ee,Dr=pe}Lj(u)}else(N.subtreeFlags&8772)!==0&&B!==null?(B.return=N,Fe=B):Lj(u)}}function Lj(u){for(;Fe!==null;){var h=Fe;if((h.flags&8772)!==0){var g=h.alternate;try{if((h.flags&8772)!==0)switch(h.tag){case 0:case 11:case 15:Dr||ey(5,h);break;case 1:var b=h.stateNode;if(h.flags&4&&!Dr)if(g===null)b.componentDidMount();else{var N=h.elementType===h.type?g.memoizedProps:Ss(h.type,g.memoizedProps);b.componentDidUpdate(N,g.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var B=h.updateQueue;B!==null&&VI(h,B,b);break;case 3:var W=h.updateQueue;if(W!==null){if(g=null,h.child!==null)switch(h.child.tag){case 5:g=h.child.stateNode;break;case 1:g=h.child.stateNode}VI(h,W,g)}break;case 5:var ee=h.stateNode;if(g===null&&h.flags&4){g=ee;var ne=h.memoizedProps;switch(h.type){case"button":case"input":case"select":case"textarea":ne.autoFocus&&g.focus();break;case"img":ne.src&&(g.src=ne.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(h.memoizedState===null){var pe=h.alternate;if(pe!==null){var Ce=pe.memoizedState;if(Ce!==null){var Pe=Ce.dehydrated;Pe!==null&&_s(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dr||h.flags&512&&Lw(h)}catch(Ee){Sn(h,h.return,Ee)}}if(h===u){Fe=null;break}if(g=h.sibling,g!==null){g.return=h.return,Fe=g;break}Fe=h.return}}function Vj(u){for(;Fe!==null;){var h=Fe;if(h===u){Fe=null;break}var g=h.sibling;if(g!==null){g.return=h.return,Fe=g;break}Fe=h.return}}function Fj(u){for(;Fe!==null;){var h=Fe;try{switch(h.tag){case 0:case 11:case 15:var g=h.return;try{ey(4,h)}catch(ne){Sn(h,g,ne)}break;case 1:var b=h.stateNode;if(typeof b.componentDidMount=="function"){var N=h.return;try{b.componentDidMount()}catch(ne){Sn(h,N,ne)}}var B=h.return;try{Lw(h)}catch(ne){Sn(h,B,ne)}break;case 5:var W=h.return;try{Lw(h)}catch(ne){Sn(h,W,ne)}}}catch(ne){Sn(h,h.return,ne)}if(h===u){Fe=null;break}var ee=h.sibling;if(ee!==null){ee.return=h.return,Fe=ee;break}Fe=h.return}}var RW=Math.ceil,ty=z.ReactCurrentDispatcher,Bw=z.ReactCurrentOwner,Yi=z.ReactCurrentBatchConfig,Rt=0,rr=null,Vn=null,br=0,Di=0,bd=Ko(0),Hn=0,Rh=null,Tc=0,ny=0,zw=0,Dh=null,hi=null,Uw=0,wd=1/0,Ga=null,ry=!1,$w=null,Zo=null,iy=!1,el=null,sy=0,Oh=0,qw=null,ay=-1,oy=0;function Kr(){return(Rt&6)!==0?Jt():ay!==-1?ay:ay=Jt()}function tl(u){return(u.mode&1)===0?1:(Rt&2)!==0&&br!==0?br&-br:gW.transition!==null?(oy===0&&(oy=fc()),oy):(u=St,u!==0||(u=window.event,u=u===void 0?16:ch(u.type)),u)}function Ns(u,h,g,b){if(50<Oh)throw Oh=0,qw=null,Error(n(185));Fo(u,g,b),((Rt&2)===0||u!==rr)&&(u===rr&&((Rt&2)===0&&(ny|=g),Hn===4&&nl(u,br)),mi(u,b),g===1&&Rt===0&&(h.mode&1)===0&&(wd=Jt()+500,Og&&Xo()))}function mi(u,h){var g=u.callbackNode;Ma(u,h);var b=dc(u,u===rr?br:0);if(b===0)g!==null&&ih(g),u.callbackNode=null,u.callbackPriority=0;else if(h=b&-b,u.callbackPriority!==h){if(g!=null&&ih(g),h===1)u.tag===0?pW(zj.bind(null,u)):SI(zj.bind(null,u)),dW(function(){(Rt&6)===0&&Xo()}),g=null;else{switch(zo(b)){case 1:g=cc;break;case 4:g=Mo;break;case 16:g=$i;break;case 536870912:g=og;break;default:g=$i}g=Xj(g,Bj.bind(null,u))}u.callbackPriority=h,u.callbackNode=g}}function Bj(u,h){if(ay=-1,oy=0,(Rt&6)!==0)throw Error(n(327));var g=u.callbackNode;if(_d()&&u.callbackNode!==g)return null;var b=dc(u,u===rr?br:0);if(b===0)return null;if((b&30)!==0||(b&u.expiredLanes)!==0||h)h=ly(u,b);else{h=b;var N=Rt;Rt|=2;var B=$j();(rr!==u||br!==h)&&(Ga=null,wd=Jt()+500,Sc(u,h));do try{MW();break}catch(ee){Uj(u,ee)}while(!0);lw(),ty.current=B,Rt=N,Vn!==null?h=0:(rr=null,br=0,h=Hn)}if(h!==0){if(h===2&&(N=Ni(u),N!==0&&(b=N,h=Ww(u,N))),h===1)throw g=Rh,Sc(u,0),nl(u,b),mi(u,Jt()),g;if(h===6)nl(u,b);else{if(N=u.current.alternate,(b&30)===0&&!DW(N)&&(h=ly(u,b),h===2&&(B=Ni(u),B!==0&&(b=B,h=Ww(u,B))),h===1))throw g=Rh,Sc(u,0),nl(u,b),mi(u,Jt()),g;switch(u.finishedWork=N,u.finishedLanes=b,h){case 0:case 1:throw Error(n(345));case 2:Pc(u,hi,Ga);break;case 3:if(nl(u,b),(b&130023424)===b&&(h=Uw+500-Jt(),10<h)){if(dc(u,0)!==0)break;if(N=u.suspendedLanes,(N&b)!==b){Kr(),u.pingedLanes|=u.suspendedLanes&N;break}u.timeoutHandle=Qb(Pc.bind(null,u,hi,Ga),h);break}Pc(u,hi,Ga);break;case 4:if(nl(u,b),(b&4194240)===b)break;for(h=u.eventTimes,N=-1;0<b;){var W=31-qr(b);B=1<<W,W=h[W],W>N&&(N=W),b&=~B}if(b=N,b=Jt()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*RW(b/1960))-b,10<b){u.timeoutHandle=Qb(Pc.bind(null,u,hi,Ga),b);break}Pc(u,hi,Ga);break;case 5:Pc(u,hi,Ga);break;default:throw Error(n(329))}}}return mi(u,Jt()),u.callbackNode===g?Bj.bind(null,u):null}function Ww(u,h){var g=Dh;return u.current.memoizedState.isDehydrated&&(Sc(u,h).flags|=256),u=ly(u,h),u!==2&&(h=hi,hi=g,h!==null&&Hw(h)),u}function Hw(u){hi===null?hi=u:hi.push.apply(hi,u)}function DW(u){for(var h=u;;){if(h.flags&16384){var g=h.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var b=0;b<g.length;b++){var N=g[b],B=N.getSnapshot;N=N.value;try{if(!Ts(B(),N))return!1}catch{return!1}}}if(g=h.child,h.subtreeFlags&16384&&g!==null)g.return=h,h=g;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function nl(u,h){for(h&=~zw,h&=~ny,u.suspendedLanes|=h,u.pingedLanes&=~h,u=u.expirationTimes;0<h;){var g=31-qr(h),b=1<<g;u[g]=-1,h&=~b}}function zj(u){if((Rt&6)!==0)throw Error(n(327));_d();var h=dc(u,0);if((h&1)===0)return mi(u,Jt()),null;var g=ly(u,h);if(u.tag!==0&&g===2){var b=Ni(u);b!==0&&(h=b,g=Ww(u,b))}if(g===1)throw g=Rh,Sc(u,0),nl(u,h),mi(u,Jt()),g;if(g===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=h,Pc(u,hi,Ga),mi(u,Jt()),null}function Kw(u,h){var g=Rt;Rt|=1;try{return u(h)}finally{Rt=g,Rt===0&&(wd=Jt()+500,Og&&Xo())}}function Cc(u){el!==null&&el.tag===0&&(Rt&6)===0&&_d();var h=Rt;Rt|=1;var g=Yi.transition,b=St;try{if(Yi.transition=null,St=1,u)return u()}finally{St=b,Yi.transition=g,Rt=h,(Rt&6)===0&&Xo()}}function Gw(){Di=bd.current,an(bd)}function Sc(u,h){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==-1&&(u.timeoutHandle=-1,uW(g)),Vn!==null)for(g=Vn.return;g!==null;){var b=g;switch(rw(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&Rg();break;case 3:yd(),an(ui),an(jr),gw();break;case 5:mw(b);break;case 4:yd();break;case 13:an(vn);break;case 19:an(vn);break;case 10:cw(b.type._context);break;case 22:case 23:Gw()}g=g.return}if(rr=u,Vn=u=rl(u.current,null),br=Di=h,Hn=0,Rh=null,zw=ny=Tc=0,hi=Dh=null,wc!==null){for(h=0;h<wc.length;h++)if(g=wc[h],b=g.interleaved,b!==null){g.interleaved=null;var N=b.next,B=g.pending;if(B!==null){var W=B.next;B.next=N,b.next=W}g.pending=b}wc=null}return u}function Uj(u,h){do{var g=Vn;try{if(lw(),Wg.current=Xg,Hg){for(var b=xn.memoizedState;b!==null;){var N=b.queue;N!==null&&(N.pending=null),b=b.next}Hg=!1}if(Ec=0,nr=Wn=xn=null,Ph=!1,Ah=0,Bw.current=null,g===null||g.return===null){Hn=1,Rh=h,Vn=null;break}e:{var B=u,W=g.return,ee=g,ne=h;if(h=br,ee.flags|=32768,ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var pe=ne,Ce=ee,Pe=Ce.tag;if((Ce.mode&1)===0&&(Pe===0||Pe===11||Pe===15)){var Ee=Ce.alternate;Ee?(Ce.updateQueue=Ee.updateQueue,Ce.memoizedState=Ee.memoizedState,Ce.lanes=Ee.lanes):(Ce.updateQueue=null,Ce.memoizedState=null)}var Le=hj(W);if(Le!==null){Le.flags&=-257,mj(Le,W,ee,B,h),Le.mode&1&&fj(B,pe,h),h=Le,ne=pe;var ze=h.updateQueue;if(ze===null){var We=new Set;We.add(ne),h.updateQueue=We}else ze.add(ne);break e}else{if((h&1)===0){fj(B,pe,h),Xw();break e}ne=Error(n(426))}}else if(dn&&ee.mode&1){var Dn=hj(W);if(Dn!==null){(Dn.flags&65536)===0&&(Dn.flags|=256),mj(Dn,W,ee,B,h),aw(vd(ne,ee));break e}}B=ne=vd(ne,ee),Hn!==4&&(Hn=2),Dh===null?Dh=[B]:Dh.push(B),B=W;do{switch(B.tag){case 3:B.flags|=65536,h&=-h,B.lanes|=h;var de=uj(B,ne,h);LI(B,de);break e;case 1:ee=ne;var ie=B.type,fe=B.stateNode;if((B.flags&128)===0&&(typeof ie.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(Zo===null||!Zo.has(fe)))){B.flags|=65536,h&=-h,B.lanes|=h;var Ae=dj(B,ee,h);LI(B,Ae);break e}}B=B.return}while(B!==null)}Wj(g)}catch(Ke){h=Ke,Vn===g&&g!==null&&(Vn=g=g.return);continue}break}while(!0)}function $j(){var u=ty.current;return ty.current=Xg,u===null?Xg:u}function Xw(){(Hn===0||Hn===3||Hn===2)&&(Hn=4),rr===null||(Tc&268435455)===0&&(ny&268435455)===0||nl(rr,br)}function ly(u,h){var g=Rt;Rt|=2;var b=$j();(rr!==u||br!==h)&&(Ga=null,Sc(u,h));do try{OW();break}catch(N){Uj(u,N)}while(!0);if(lw(),Rt=g,ty.current=b,Vn!==null)throw Error(n(261));return rr=null,br=0,Hn}function OW(){for(;Vn!==null;)qj(Vn)}function MW(){for(;Vn!==null&&!sg();)qj(Vn)}function qj(u){var h=Gj(u.alternate,u,Di);u.memoizedProps=u.pendingProps,h===null?Wj(u):Vn=h,Bw.current=null}function Wj(u){var h=u;do{var g=h.alternate;if(u=h.return,(h.flags&32768)===0){if(g=AW(g,h,Di),g!==null){Vn=g;return}}else{if(g=NW(g,h),g!==null){g.flags&=32767,Vn=g;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Hn=6,Vn=null;return}}if(h=h.sibling,h!==null){Vn=h;return}Vn=h=u}while(h!==null);Hn===0&&(Hn=5)}function Pc(u,h,g){var b=St,N=Yi.transition;try{Yi.transition=null,St=1,LW(u,h,g,b)}finally{Yi.transition=N,St=b}return null}function LW(u,h,g,b){do _d();while(el!==null);if((Rt&6)!==0)throw Error(n(327));g=u.finishedWork;var N=u.finishedLanes;if(g===null)return null;if(u.finishedWork=null,u.finishedLanes=0,g===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var B=g.lanes|g.childLanes;if(Xt(u,B),u===rr&&(Vn=rr=null,br=0),(g.subtreeFlags&2064)===0&&(g.flags&2064)===0||iy||(iy=!0,Xj($i,function(){return _d(),null})),B=(g.flags&15990)!==0,(g.subtreeFlags&15990)!==0||B){B=Yi.transition,Yi.transition=null;var W=St;St=1;var ee=Rt;Rt|=4,Bw.current=null,jW(u,g),Oj(g,u),rW(Xb),$o=!!Gb,Xb=Gb=null,u.current=g,kW(g),kb(),Rt=ee,St=W,Yi.transition=B}else u.current=g;if(iy&&(iy=!1,el=u,sy=N),B=u.pendingLanes,B===0&&(Zo=null),lg(g.stateNode),mi(u,Jt()),h!==null)for(b=u.onRecoverableError,g=0;g<h.length;g++)N=h[g],b(N.value,{componentStack:N.stack,digest:N.digest});if(ry)throw ry=!1,u=$w,$w=null,u;return(sy&1)!==0&&u.tag!==0&&_d(),B=u.pendingLanes,(B&1)!==0?u===qw?Oh++:(Oh=0,qw=u):Oh=0,Xo(),null}function _d(){if(el!==null){var u=zo(sy),h=Yi.transition,g=St;try{if(Yi.transition=null,St=16>u?16:u,el===null)var b=!1;else{if(u=el,el=null,sy=0,(Rt&6)!==0)throw Error(n(331));var N=Rt;for(Rt|=4,Fe=u.current;Fe!==null;){var B=Fe,W=B.child;if((Fe.flags&16)!==0){var ee=B.deletions;if(ee!==null){for(var ne=0;ne<ee.length;ne++){var pe=ee[ne];for(Fe=pe;Fe!==null;){var Ce=Fe;switch(Ce.tag){case 0:case 11:case 15:kh(8,Ce,B)}var Pe=Ce.child;if(Pe!==null)Pe.return=Ce,Fe=Pe;else for(;Fe!==null;){Ce=Fe;var Ee=Ce.sibling,Le=Ce.return;if(Ij(Ce),Ce===pe){Fe=null;break}if(Ee!==null){Ee.return=Le,Fe=Ee;break}Fe=Le}}}var ze=B.alternate;if(ze!==null){var We=ze.child;if(We!==null){ze.child=null;do{var Dn=We.sibling;We.sibling=null,We=Dn}while(We!==null)}}Fe=B}}if((B.subtreeFlags&2064)!==0&&W!==null)W.return=B,Fe=W;else e:for(;Fe!==null;){if(B=Fe,(B.flags&2048)!==0)switch(B.tag){case 0:case 11:case 15:kh(9,B,B.return)}var de=B.sibling;if(de!==null){de.return=B.return,Fe=de;break e}Fe=B.return}}var ie=u.current;for(Fe=ie;Fe!==null;){W=Fe;var fe=W.child;if((W.subtreeFlags&2064)!==0&&fe!==null)fe.return=W,Fe=fe;else e:for(W=ie;Fe!==null;){if(ee=Fe,(ee.flags&2048)!==0)try{switch(ee.tag){case 0:case 11:case 15:ey(9,ee)}}catch(Ke){Sn(ee,ee.return,Ke)}if(ee===W){Fe=null;break e}var Ae=ee.sibling;if(Ae!==null){Ae.return=ee.return,Fe=Ae;break e}Fe=ee.return}}if(Rt=N,Xo(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(uc,u)}catch{}b=!0}return b}finally{St=g,Yi.transition=h}}return!1}function Hj(u,h,g){h=vd(g,h),h=uj(u,h,1),u=Qo(u,h,1),h=Kr(),u!==null&&(Fo(u,1,h),mi(u,h))}function Sn(u,h,g){if(u.tag===3)Hj(u,u,g);else for(;h!==null;){if(h.tag===3){Hj(h,u,g);break}else if(h.tag===1){var b=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Zo===null||!Zo.has(b))){u=vd(g,u),u=dj(h,u,1),h=Qo(h,u,1),u=Kr(),h!==null&&(Fo(h,1,u),mi(h,u));break}}h=h.return}}function VW(u,h,g){var b=u.pingCache;b!==null&&b.delete(h),h=Kr(),u.pingedLanes|=u.suspendedLanes&g,rr===u&&(br&g)===g&&(Hn===4||Hn===3&&(br&130023424)===br&&500>Jt()-Uw?Sc(u,0):zw|=g),mi(u,h)}function Kj(u,h){h===0&&((u.mode&1)===0?h=1:(h=Wu,Wu<<=1,(Wu&130023424)===0&&(Wu=4194304)));var g=Kr();u=Wa(u,h),u!==null&&(Fo(u,h,g),mi(u,g))}function FW(u){var h=u.memoizedState,g=0;h!==null&&(g=h.retryLane),Kj(u,g)}function BW(u,h){var g=0;switch(u.tag){case 13:var b=u.stateNode,N=u.memoizedState;N!==null&&(g=N.retryLane);break;case 19:b=u.stateNode;break;default:throw Error(n(314))}b!==null&&b.delete(h),Kj(u,g)}var Gj;Gj=function(u,h,g){if(u!==null)if(u.memoizedProps!==h.pendingProps||ui.current)fi=!0;else{if((u.lanes&g)===0&&(h.flags&128)===0)return fi=!1,PW(u,h,g);fi=(u.flags&131072)!==0}else fi=!1,dn&&(h.flags&1048576)!==0&&PI(h,Lg,h.index);switch(h.lanes=0,h.tag){case 2:var b=h.type;Jg(u,h),u=h.pendingProps;var N=ud(h,jr.current);gd(h,g),N=xw(null,h,b,u,N,g);var B=bw();return h.flags|=1,typeof N=="object"&&N!==null&&typeof N.render=="function"&&N.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,di(b)?(B=!0,Dg(h)):B=!1,h.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,fw(h),N.updater=Yg,h.stateNode=N,N._reactInternals=h,Sw(h,b,u,g),h=Iw(null,h,b,!0,B,g)):(h.tag=0,dn&&B&&nw(h),Hr(null,h,N,g),h=h.child),h;case 16:b=h.elementType;e:{switch(Jg(u,h),u=h.pendingProps,N=b._init,b=N(b._payload),h.type=b,N=h.tag=UW(b),u=Ss(b,u),N){case 0:h=Nw(null,h,b,u,g);break e;case 1:h=bj(null,h,b,u,g);break e;case 11:h=pj(null,h,b,u,g);break e;case 14:h=gj(null,h,b,Ss(b.type,u),g);break e}throw Error(n(306,b,""))}return h;case 0:return b=h.type,N=h.pendingProps,N=h.elementType===b?N:Ss(b,N),Nw(u,h,b,N,g);case 1:return b=h.type,N=h.pendingProps,N=h.elementType===b?N:Ss(b,N),bj(u,h,b,N,g);case 3:e:{if(wj(h),u===null)throw Error(n(387));b=h.pendingProps,B=h.memoizedState,N=B.element,MI(u,h),$g(h,b,null,g);var W=h.memoizedState;if(b=W.element,B.isDehydrated)if(B={element:b,isDehydrated:!1,cache:W.cache,pendingSuspenseBoundaries:W.pendingSuspenseBoundaries,transitions:W.transitions},h.updateQueue.baseState=B,h.memoizedState=B,h.flags&256){N=vd(Error(n(423)),h),h=_j(u,h,b,g,N);break e}else if(b!==N){N=vd(Error(n(424)),h),h=_j(u,h,b,g,N);break e}else for(Ri=Ho(h.stateNode.containerInfo.firstChild),ki=h,dn=!0,Cs=null,g=DI(h,null,b,g),h.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(hd(),b===N){h=Ka(u,h,g);break e}Hr(u,h,b,g)}h=h.child}return h;case 5:return FI(h),u===null&&sw(h),b=h.type,N=h.pendingProps,B=u!==null?u.memoizedProps:null,W=N.children,Yb(b,N)?W=null:B!==null&&Yb(b,B)&&(h.flags|=32),xj(u,h),Hr(u,h,W,g),h.child;case 6:return u===null&&sw(h),null;case 13:return Ej(u,h,g);case 4:return hw(h,h.stateNode.containerInfo),b=h.pendingProps,u===null?h.child=md(h,null,b,g):Hr(u,h,b,g),h.child;case 11:return b=h.type,N=h.pendingProps,N=h.elementType===b?N:Ss(b,N),pj(u,h,b,N,g);case 7:return Hr(u,h,h.pendingProps,g),h.child;case 8:return Hr(u,h,h.pendingProps.children,g),h.child;case 12:return Hr(u,h,h.pendingProps.children,g),h.child;case 10:e:{if(b=h.type._context,N=h.pendingProps,B=h.memoizedProps,W=N.value,Zt(Bg,b._currentValue),b._currentValue=W,B!==null)if(Ts(B.value,W)){if(B.children===N.children&&!ui.current){h=Ka(u,h,g);break e}}else for(B=h.child,B!==null&&(B.return=h);B!==null;){var ee=B.dependencies;if(ee!==null){W=B.child;for(var ne=ee.firstContext;ne!==null;){if(ne.context===b){if(B.tag===1){ne=Ha(-1,g&-g),ne.tag=2;var pe=B.updateQueue;if(pe!==null){pe=pe.shared;var Ce=pe.pending;Ce===null?ne.next=ne:(ne.next=Ce.next,Ce.next=ne),pe.pending=ne}}B.lanes|=g,ne=B.alternate,ne!==null&&(ne.lanes|=g),uw(B.return,g,h),ee.lanes|=g;break}ne=ne.next}}else if(B.tag===10)W=B.type===h.type?null:B.child;else if(B.tag===18){if(W=B.return,W===null)throw Error(n(341));W.lanes|=g,ee=W.alternate,ee!==null&&(ee.lanes|=g),uw(W,g,h),W=B.sibling}else W=B.child;if(W!==null)W.return=B;else for(W=B;W!==null;){if(W===h){W=null;break}if(B=W.sibling,B!==null){B.return=W.return,W=B;break}W=W.return}B=W}Hr(u,h,N.children,g),h=h.child}return h;case 9:return N=h.type,b=h.pendingProps.children,gd(h,g),N=Gi(N),b=b(N),h.flags|=1,Hr(u,h,b,g),h.child;case 14:return b=h.type,N=Ss(b,h.pendingProps),N=Ss(b.type,N),gj(u,h,b,N,g);case 15:return yj(u,h,h.type,h.pendingProps,g);case 17:return b=h.type,N=h.pendingProps,N=h.elementType===b?N:Ss(b,N),Jg(u,h),h.tag=1,di(b)?(u=!0,Dg(h)):u=!1,gd(h,g),lj(h,b,N),Sw(h,b,N,g),Iw(null,h,b,!0,u,g);case 19:return Cj(u,h,g);case 22:return vj(u,h,g)}throw Error(n(156,h.tag))};function Xj(u,h){return $u(u,h)}function zW(u,h,g,b){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qi(u,h,g,b){return new zW(u,h,g,b)}function Yw(u){return u=u.prototype,!(!u||!u.isReactComponent)}function UW(u){if(typeof u=="function")return Yw(u)?1:0;if(u!=null){if(u=u.$$typeof,u===M)return 11;if(u===Y)return 14}return 2}function rl(u,h){var g=u.alternate;return g===null?(g=Qi(u.tag,h,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=h,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&14680064,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,h=u.dependencies,g.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function cy(u,h,g,b,N,B){var W=2;if(b=u,typeof u=="function")Yw(u)&&(W=1);else if(typeof u=="string")W=5;else e:switch(u){case C:return Ac(g.children,N,B,h);case S:W=8,N|=8;break;case k:return u=Qi(12,g,h,N|2),u.elementType=k,u.lanes=B,u;case I:return u=Qi(13,g,h,N),u.elementType=I,u.lanes=B,u;case K:return u=Qi(19,g,h,N),u.elementType=K,u.lanes=B,u;case F:return uy(g,N,B,h);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case A:W=10;break e;case D:W=9;break e;case M:W=11;break e;case Y:W=14;break e;case J:W=16,b=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return h=Qi(W,g,h,N),h.elementType=u,h.type=b,h.lanes=B,h}function Ac(u,h,g,b){return u=Qi(7,u,b,h),u.lanes=g,u}function uy(u,h,g,b){return u=Qi(22,u,b,h),u.elementType=F,u.lanes=g,u.stateNode={isHidden:!1},u}function Qw(u,h,g){return u=Qi(6,u,null,h),u.lanes=g,u}function Jw(u,h,g){return h=Qi(4,u.children!==null?u.children:[],u.key,h),h.lanes=g,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}function $W(u,h,g,b,N){this.tag=h,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vo(0),this.expirationTimes=Vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vo(0),this.identifierPrefix=b,this.onRecoverableError=N,this.mutableSourceEagerHydrationData=null}function Zw(u,h,g,b,N,B,W,ee,ne){return u=new $W(u,h,g,ee,ne),h===1?(h=1,B===!0&&(h|=8)):h=0,B=Qi(3,null,null,h),u.current=B,B.stateNode=u,B.memoizedState={element:b,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},fw(B),u}function qW(u,h,g){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:b==null?null:""+b,children:u,containerInfo:h,implementation:g}}function Yj(u){if(!u)return Go;u=u._reactInternals;e:{if(ys(u)!==u||u.tag!==1)throw Error(n(170));var h=u;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(di(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(n(171))}if(u.tag===1){var g=u.type;if(di(g))return TI(u,g,h)}return h}function Qj(u,h,g,b,N,B,W,ee,ne){return u=Zw(g,b,!0,u,N,B,W,ee,ne),u.context=Yj(null),g=u.current,b=Kr(),N=tl(g),B=Ha(b,N),B.callback=h??null,Qo(g,B,N),u.current.lanes=N,Fo(u,N,b),mi(u,b),u}function dy(u,h,g,b){var N=h.current,B=Kr(),W=tl(N);return g=Yj(g),h.context===null?h.context=g:h.pendingContext=g,h=Ha(B,W),h.payload={element:u},b=b===void 0?null:b,b!==null&&(h.callback=b),u=Qo(N,h,W),u!==null&&(Ns(u,N,W,B),Ug(u,N,W)),W}function fy(u){return u=u.current,u.child?(u.child.tag===5,u.child.stateNode):null}function Jj(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<h?g:h}}function e1(u,h){Jj(u,h),(u=u.alternate)&&Jj(u,h)}function WW(){return null}var Zj=typeof reportError=="function"?reportError:function(u){console.error(u)};function t1(u){this._internalRoot=u}hy.prototype.render=t1.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));dy(u,h,null,null)},hy.prototype.unmount=t1.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;Cc(function(){dy(null,u,null,null)}),h[za]=null}};function hy(u){this._internalRoot=u}hy.prototype.unstable_scheduleHydration=function(u){if(u){var h=hg();u={blockedOn:null,target:u,priority:h};for(var g=0;g<Qs.length&&h!==0&&h<Qs[g].priority;g++);Qs.splice(g,0,u),g===0&&gg(u)}};function n1(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function my(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function e2(){}function HW(u,h,g,b,N){if(N){if(typeof b=="function"){var B=b;b=function(){var pe=fy(W);B.call(pe)}}var W=Qj(h,b,u,0,null,!1,!1,"",e2);return u._reactRootContainer=W,u[za]=W.current,xh(u.nodeType===8?u.parentNode:u),Cc(),W}for(;N=u.lastChild;)u.removeChild(N);if(typeof b=="function"){var ee=b;b=function(){var pe=fy(ne);ee.call(pe)}}var ne=Zw(u,0,!1,null,null,!1,!1,"",e2);return u._reactRootContainer=ne,u[za]=ne.current,xh(u.nodeType===8?u.parentNode:u),Cc(function(){dy(h,ne,g,b)}),ne}function py(u,h,g,b,N){var B=g._reactRootContainer;if(B){var W=B;if(typeof N=="function"){var ee=N;N=function(){var ne=fy(W);ee.call(ne)}}dy(h,W,u,N)}else W=HW(g,h,u,N,b);return fy(W)}dg=function(u){switch(u.tag){case 3:var h=u.stateNode;if(h.current.memoizedState.isDehydrated){var g=Lo(h.pendingLanes);g!==0&&(Bo(h,g|1),mi(h,Jt()),(Rt&6)===0&&(wd=Jt()+500,Xo()))}break;case 13:Cc(function(){var b=Wa(u,1);if(b!==null){var N=Kr();Ns(b,u,1,N)}}),e1(u,1)}},Hu=function(u){if(u.tag===13){var h=Wa(u,134217728);if(h!==null){var g=Kr();Ns(h,u,134217728,g)}e1(u,134217728)}},fg=function(u){if(u.tag===13){var h=tl(u),g=Wa(u,h);if(g!==null){var b=Kr();Ns(g,u,h,b)}e1(u,h)}},hg=function(){return St},mg=function(u,h){var g=St;try{return St=u,h()}finally{St=g}},Oa=function(u,h,g){switch(h){case"input":if(Qe(u,g),h=g.name,g.type==="radio"&&h!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+h)+'][type="radio"]'),h=0;h<g.length;h++){var b=g[h];if(b!==u&&b.form===u.form){var N=kg(b);if(!N)throw Error(n(90));me(b),Qe(b,N)}}}break;case"textarea":dt(u,g);break;case"select":h=g.value,h!=null&&oe(u,!!g.multiple,h,!1)}},_t=Kw,zt=Cc;var KW={usingClientEntryPoint:!1,Events:[_h,ld,kg,Ui,it,Kw]},Mh={findFiberByHostInstance:yc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GW={bundleType:Mh.bundleType,version:Mh.version,rendererPackageName:Mh.rendererPackageName,rendererConfig:Mh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=rh(u),u===null?null:u.stateNode},findFiberByHostInstance:Mh.findFiberByHostInstance||WW,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gy.isDisabled&&gy.supportsFiber)try{uc=gy.inject(GW),Ai=gy}catch{}}return pi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KW,pi.createPortal=function(u,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n1(h))throw Error(n(200));return qW(u,h,null,g)},pi.createRoot=function(u,h){if(!n1(u))throw Error(n(299));var g=!1,b="",N=Zj;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(b=h.identifierPrefix),h.onRecoverableError!==void 0&&(N=h.onRecoverableError)),h=Zw(u,1,!1,null,null,g,!1,b,N),u[za]=h.current,xh(u.nodeType===8?u.parentNode:u),new t1(h)},pi.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=rh(h),u=u===null?null:u.stateNode,u},pi.flushSync=function(u){return Cc(u)},pi.hydrate=function(u,h,g){if(!my(h))throw Error(n(200));return py(null,u,h,!0,g)},pi.hydrateRoot=function(u,h,g){if(!n1(u))throw Error(n(405));var b=g!=null&&g.hydratedSources||null,N=!1,B="",W=Zj;if(g!=null&&(g.unstable_strictMode===!0&&(N=!0),g.identifierPrefix!==void 0&&(B=g.identifierPrefix),g.onRecoverableError!==void 0&&(W=g.onRecoverableError)),h=Qj(h,null,u,1,g??null,N,!1,B,W),u[za]=h.current,xh(u),b)for(u=0;u<b.length;u++)g=b[u],N=g._getVersion,N=N(g._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[g,N]:h.mutableSourceEagerHydrationData.push(g,N);return new hy(h)},pi.render=function(u,h,g){if(!my(h))throw Error(n(200));return py(null,u,h,!1,g)},pi.unmountComponentAtNode=function(u){if(!my(u))throw Error(n(40));return u._reactRootContainer?(Cc(function(){py(null,null,u,!1,function(){u._reactRootContainer=null,u[za]=null})}),!0):!1},pi.unstable_batchedUpdates=Kw,pi.unstable_renderSubtreeIntoContainer=function(u,h,g,b){if(!my(g))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return py(u,h,g,!1,b)},pi.version="18.3.1-next-f1338f8080-20240426",pi}var l2;function jV(){if(l2)return s1.exports;l2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),s1.exports=iH(),s1.exports}var c2;function sH(){if(c2)return vy;c2=1;var t=jV();return vy.createRoot=t.createRoot,vy.hydrateRoot=t.hydrateRoot,vy}var aH=sH();const oH=Ei(aH);var u2={};const kV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},RV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,d=l?t[i+2]:0,f=s>>2,m=(s&3)<<4|o>>4;let p=(o&15)<<2|d>>6,y=d&63;l||(y=64,a||(p=64)),r.push(n[f],n[m],n[p],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||d==null||m==null)throw new cH;const p=s<<2|o>>4;if(r.push(p),d!==64){const y=o<<4&240|d>>2;if(r.push(y),m!==64){const v=d<<6&192|m;r.push(v)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uH=function(t){const e=kV(t);return RV.encodeByteArray(e,!0)},Av=function(t){return uH(t).replace(/\./g,"")},DV=function(t){try{return RV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function dH(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const fH=()=>dH().__FIREBASE_DEFAULTS__,hH=()=>{if(typeof process>"u"||typeof u2>"u")return;const t=u2.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},mH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DV(t[1]);return e&&JSON.parse(e)},nx=()=>{try{return fH()||hH()||mH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OV=t=>{var e,n;return(n=(e=nx())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dS=t=>{const e=OV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},MV=()=>{var t;return(t=nx())===null||t===void 0?void 0:t.config},LV=t=>{var e;return(e=nx())===null||e===void 0?void 0:e[`_${t}`]};class pH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}function VV(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Av(JSON.stringify(n)),Av(JSON.stringify(a)),""].join(".")}function Qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qn())}function yH(){var t;const e=(t=nx())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xH(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bH(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wH(){const t=Qn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FV(){return!yH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BV(){try{return typeof indexedDB=="object"}catch{return!1}}function _H(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}const EH="FirebaseError";class Ia extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EH,Object.setPrototypeOf(this,Ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dp.prototype.create)}}class dp{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?TH(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Ia(i,o,r)}}function TH(t,e){return t.replace(CH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const CH=/\{\$([^}]+)}/g;function SH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(d2(s)&&d2(a)){if(!Dl(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function d2(t){return t!==null&&typeof t=="object"}function fp(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function im(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function sm(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PH(t,e){const n=new AH(t,e);return n.subscribe.bind(n)}class AH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");NH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=l1),i.error===void 0&&(i.error=l1),i.complete===void 0&&(i.complete=l1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NH(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function l1(){}function kt(t){return t&&t._delegate?t._delegate:t}class oo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Rc="[DEFAULT]";let IH=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new pH;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kH(e))try{this.getOrInitializeService({instanceIdentifier:Rc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Rc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rc){return this.instances.has(e)}getOptions(e=Rc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rc){return this.component?this.component.multipleInstances?e:Rc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function jH(t){return t===Rc?void 0:t}function kH(t){return t.instantiationMode==="EAGER"}class RH{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Et;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Et||(Et={}));const DH={debug:Et.DEBUG,verbose:Et.VERBOSE,info:Et.INFO,warn:Et.WARN,error:Et.ERROR,silent:Et.SILENT},OH=Et.INFO,MH={[Et.DEBUG]:"log",[Et.VERBOSE]:"log",[Et.INFO]:"info",[Et.WARN]:"warn",[Et.ERROR]:"error"},LH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=MH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class fS{constructor(e){this.name=e,this._logLevel=OH,this._logHandler=LH,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Et))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Et.DEBUG,...e),this._logHandler(this,Et.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Et.VERBOSE,...e),this._logHandler(this,Et.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Et.INFO,...e),this._logHandler(this,Et.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Et.WARN,...e),this._logHandler(this,Et.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Et.ERROR,...e),this._logHandler(this,Et.ERROR,...e)}}const VH=(t,e)=>e.some(n=>t instanceof n);let f2,h2;function FH(){return f2||(f2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BH(){return h2||(h2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zV=new WeakMap,lT=new WeakMap,UV=new WeakMap,c1=new WeakMap,hS=new WeakMap;function zH(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(Al(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&zV.set(n,t)}).catch(()=>{}),hS.set(e,t),e}function UH(t){if(lT.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});lT.set(t,e)}let cT={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return lT.get(t);if(e==="objectStoreNames")return t.objectStoreNames||UV.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Al(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $H(t){cT=t(cT)}function qH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(u1(this),e,...n);return UV.set(r,e.sort?e.sort():[e]),Al(r)}:BH().includes(t)?function(...e){return t.apply(u1(this),e),Al(zV.get(this))}:function(...e){return Al(t.apply(u1(this),e))}}function WH(t){return typeof t=="function"?qH(t):(t instanceof IDBTransaction&&UH(t),VH(t,FH())?new Proxy(t,cT):t)}function Al(t){if(t instanceof IDBRequest)return zH(t);if(c1.has(t))return c1.get(t);const e=WH(t);return e!==t&&(c1.set(t,e),hS.set(e,t)),e}const u1=t=>hS.get(t);function HH(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Al(a);return r&&a.addEventListener("upgradeneeded",l=>{r(Al(a.result),l.oldVersion,l.newVersion,Al(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}const KH=["get","getKey","getAll","getAllKeys","count"],GH=["put","add","delete","clear"],d1=new Map;function m2(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(d1.get(e))return d1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=GH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KH.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(o.shift())),(await Promise.all([d[n](...o),i&&l.done]))[0]};return d1.set(e,s),s}$H(t=>({...t,get:(e,n,r)=>m2(e,n)||t.get(e,n,r),has:(e,n)=>!!m2(e,n)||t.has(e,n)}));class XH{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YH(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function YH(t){const e=t.getComponent();return e?.type==="VERSION"}const uT="@firebase/app",p2="0.10.13";const lo=new fS("@firebase/app"),QH="@firebase/app-compat",JH="@firebase/analytics-compat",ZH="@firebase/analytics",eK="@firebase/app-check-compat",tK="@firebase/app-check",nK="@firebase/auth",rK="@firebase/auth-compat",iK="@firebase/database",sK="@firebase/data-connect",aK="@firebase/database-compat",oK="@firebase/functions",lK="@firebase/functions-compat",cK="@firebase/installations",uK="@firebase/installations-compat",dK="@firebase/messaging",fK="@firebase/messaging-compat",hK="@firebase/performance",mK="@firebase/performance-compat",pK="@firebase/remote-config",gK="@firebase/remote-config-compat",yK="@firebase/storage",vK="@firebase/storage-compat",xK="@firebase/firestore",bK="@firebase/vertexai-preview",wK="@firebase/firestore-compat",_K="firebase",EK="10.14.1";const Nv="[DEFAULT]",TK={[uT]:"fire-core",[QH]:"fire-core-compat",[ZH]:"fire-analytics",[JH]:"fire-analytics-compat",[tK]:"fire-app-check",[eK]:"fire-app-check-compat",[nK]:"fire-auth",[rK]:"fire-auth-compat",[iK]:"fire-rtdb",[sK]:"fire-data-connect",[aK]:"fire-rtdb-compat",[oK]:"fire-fn",[lK]:"fire-fn-compat",[cK]:"fire-iid",[uK]:"fire-iid-compat",[dK]:"fire-fcm",[fK]:"fire-fcm-compat",[hK]:"fire-perf",[mK]:"fire-perf-compat",[pK]:"fire-rc",[gK]:"fire-rc-compat",[yK]:"fire-gcs",[vK]:"fire-gcs-compat",[xK]:"fire-fst",[wK]:"fire-fst-compat",[bK]:"fire-vertex","fire-js":"fire-js",[_K]:"fire-js-all"};const Am=new Map,CK=new Map,dT=new Map;function g2(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ol(t){const e=t.name;if(dT.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;dT.set(e,t);for(const n of Am.values())g2(n,t);for(const n of CK.values())g2(n,t);return!0}function Au(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function SK(t,e,n=Nv){Au(t,e).clearInstance(n)}function Ls(t){return t.settings!==void 0}const PK={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Nl=new dp("app","Firebase",PK);class AK{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new oo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Nl.create("app-deleted",{appName:this._name})}}const Nu=EK;function $V(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Nv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Nl.create("bad-app-name",{appName:String(i)});if(n||(n=MV()),!n)throw Nl.create("no-options");const s=Am.get(i);if(s){if(Dl(n,s.options)&&Dl(r,s.config))return s;throw Nl.create("duplicate-app",{appName:i})}const a=new RH(i);for(const l of dT.values())a.addComponent(l);const o=new AK(n,r,a);return Am.set(i,o),o}function rx(t=Nv){const e=Am.get(t);if(!e&&t===Nv&&MV())return $V();if(!e)throw Nl.create("no-app",{appName:t});return e}function y2(){return Array.from(Am.values())}function ss(t,e,n){var r;let i=(r=TK[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lo.warn(o.join(" "));return}Ol(new oo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const NK="firebase-heartbeat-database",IK=1,Nm="firebase-heartbeat-store";let f1=null;function qV(){return f1||(f1=HH(NK,IK,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Nm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Nl.create("idb-open",{originalErrorMessage:t.message})})),f1}async function jK(t){try{const n=(await qV()).transaction(Nm),r=await n.objectStore(Nm).get(WV(t));return await n.done,r}catch(e){if(e instanceof Ia)lo.warn(e.message);else{const n=Nl.create("idb-get",{originalErrorMessage:e?.message});lo.warn(n.message)}}}async function v2(t,e){try{const r=(await qV()).transaction(Nm,"readwrite");await r.objectStore(Nm).put(e,WV(t)),await r.done}catch(n){if(n instanceof Ia)lo.warn(n.message);else{const r=Nl.create("idb-set",{originalErrorMessage:n?.message});lo.warn(r.message)}}}function WV(t){return`${t.name}!${t.options.appId}`}const kK=1024,RK=720*60*60*1e3;class DK{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new MK(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=x2();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=RK}),this._storage.overwrite(this._heartbeatsCache))}catch(r){lo.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=x2(),{heartbeatsToSend:r,unsentEntries:i}=OK(this._heartbeatsCache.heartbeats),s=Av(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return lo.warn(n),""}}}function x2(){return new Date().toISOString().substring(0,10)}function OK(t,e=kK){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),b2(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),b2(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class MK{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BV()?_H().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jK(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return v2(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function b2(t){return Av(JSON.stringify({version:2,heartbeats:t})).length}function LK(t){Ol(new oo("platform-logger",e=>new XH(e),"PRIVATE")),Ol(new oo("heartbeat",e=>new DK(e),"PRIVATE")),ss(uT,p2,t),ss(uT,p2,"esm2017"),ss("fire-js","")}LK("");var w2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Jc,HV;(function(){var t;function e(C,S){function k(){}k.prototype=S.prototype,C.D=S.prototype,C.prototype=new k,C.prototype.constructor=C,C.C=function(A,D,M){for(var I=Array(arguments.length-2),K=2;K<arguments.length;K++)I[K-2]=arguments[K];return S.prototype[D].apply(A,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,S,k){k||(k=0);var A=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)A[D]=S.charCodeAt(k++)|S.charCodeAt(k++)<<8|S.charCodeAt(k++)<<16|S.charCodeAt(k++)<<24;else for(D=0;16>D;++D)A[D]=S[k++]|S[k++]<<8|S[k++]<<16|S[k++]<<24;S=C.g[0],k=C.g[1],D=C.g[2];var M=C.g[3],I=S+(M^k&(D^M))+A[0]+3614090360&4294967295;S=k+(I<<7&4294967295|I>>>25),I=M+(D^S&(k^D))+A[1]+3905402710&4294967295,M=S+(I<<12&4294967295|I>>>20),I=D+(k^M&(S^k))+A[2]+606105819&4294967295,D=M+(I<<17&4294967295|I>>>15),I=k+(S^D&(M^S))+A[3]+3250441966&4294967295,k=D+(I<<22&4294967295|I>>>10),I=S+(M^k&(D^M))+A[4]+4118548399&4294967295,S=k+(I<<7&4294967295|I>>>25),I=M+(D^S&(k^D))+A[5]+1200080426&4294967295,M=S+(I<<12&4294967295|I>>>20),I=D+(k^M&(S^k))+A[6]+2821735955&4294967295,D=M+(I<<17&4294967295|I>>>15),I=k+(S^D&(M^S))+A[7]+4249261313&4294967295,k=D+(I<<22&4294967295|I>>>10),I=S+(M^k&(D^M))+A[8]+1770035416&4294967295,S=k+(I<<7&4294967295|I>>>25),I=M+(D^S&(k^D))+A[9]+2336552879&4294967295,M=S+(I<<12&4294967295|I>>>20),I=D+(k^M&(S^k))+A[10]+4294925233&4294967295,D=M+(I<<17&4294967295|I>>>15),I=k+(S^D&(M^S))+A[11]+2304563134&4294967295,k=D+(I<<22&4294967295|I>>>10),I=S+(M^k&(D^M))+A[12]+1804603682&4294967295,S=k+(I<<7&4294967295|I>>>25),I=M+(D^S&(k^D))+A[13]+4254626195&4294967295,M=S+(I<<12&4294967295|I>>>20),I=D+(k^M&(S^k))+A[14]+2792965006&4294967295,D=M+(I<<17&4294967295|I>>>15),I=k+(S^D&(M^S))+A[15]+1236535329&4294967295,k=D+(I<<22&4294967295|I>>>10),I=S+(D^M&(k^D))+A[1]+4129170786&4294967295,S=k+(I<<5&4294967295|I>>>27),I=M+(k^D&(S^k))+A[6]+3225465664&4294967295,M=S+(I<<9&4294967295|I>>>23),I=D+(S^k&(M^S))+A[11]+643717713&4294967295,D=M+(I<<14&4294967295|I>>>18),I=k+(M^S&(D^M))+A[0]+3921069994&4294967295,k=D+(I<<20&4294967295|I>>>12),I=S+(D^M&(k^D))+A[5]+3593408605&4294967295,S=k+(I<<5&4294967295|I>>>27),I=M+(k^D&(S^k))+A[10]+38016083&4294967295,M=S+(I<<9&4294967295|I>>>23),I=D+(S^k&(M^S))+A[15]+3634488961&4294967295,D=M+(I<<14&4294967295|I>>>18),I=k+(M^S&(D^M))+A[4]+3889429448&4294967295,k=D+(I<<20&4294967295|I>>>12),I=S+(D^M&(k^D))+A[9]+568446438&4294967295,S=k+(I<<5&4294967295|I>>>27),I=M+(k^D&(S^k))+A[14]+3275163606&4294967295,M=S+(I<<9&4294967295|I>>>23),I=D+(S^k&(M^S))+A[3]+4107603335&4294967295,D=M+(I<<14&4294967295|I>>>18),I=k+(M^S&(D^M))+A[8]+1163531501&4294967295,k=D+(I<<20&4294967295|I>>>12),I=S+(D^M&(k^D))+A[13]+2850285829&4294967295,S=k+(I<<5&4294967295|I>>>27),I=M+(k^D&(S^k))+A[2]+4243563512&4294967295,M=S+(I<<9&4294967295|I>>>23),I=D+(S^k&(M^S))+A[7]+1735328473&4294967295,D=M+(I<<14&4294967295|I>>>18),I=k+(M^S&(D^M))+A[12]+2368359562&4294967295,k=D+(I<<20&4294967295|I>>>12),I=S+(k^D^M)+A[5]+4294588738&4294967295,S=k+(I<<4&4294967295|I>>>28),I=M+(S^k^D)+A[8]+2272392833&4294967295,M=S+(I<<11&4294967295|I>>>21),I=D+(M^S^k)+A[11]+1839030562&4294967295,D=M+(I<<16&4294967295|I>>>16),I=k+(D^M^S)+A[14]+4259657740&4294967295,k=D+(I<<23&4294967295|I>>>9),I=S+(k^D^M)+A[1]+2763975236&4294967295,S=k+(I<<4&4294967295|I>>>28),I=M+(S^k^D)+A[4]+1272893353&4294967295,M=S+(I<<11&4294967295|I>>>21),I=D+(M^S^k)+A[7]+4139469664&4294967295,D=M+(I<<16&4294967295|I>>>16),I=k+(D^M^S)+A[10]+3200236656&4294967295,k=D+(I<<23&4294967295|I>>>9),I=S+(k^D^M)+A[13]+681279174&4294967295,S=k+(I<<4&4294967295|I>>>28),I=M+(S^k^D)+A[0]+3936430074&4294967295,M=S+(I<<11&4294967295|I>>>21),I=D+(M^S^k)+A[3]+3572445317&4294967295,D=M+(I<<16&4294967295|I>>>16),I=k+(D^M^S)+A[6]+76029189&4294967295,k=D+(I<<23&4294967295|I>>>9),I=S+(k^D^M)+A[9]+3654602809&4294967295,S=k+(I<<4&4294967295|I>>>28),I=M+(S^k^D)+A[12]+3873151461&4294967295,M=S+(I<<11&4294967295|I>>>21),I=D+(M^S^k)+A[15]+530742520&4294967295,D=M+(I<<16&4294967295|I>>>16),I=k+(D^M^S)+A[2]+3299628645&4294967295,k=D+(I<<23&4294967295|I>>>9),I=S+(D^(k|~M))+A[0]+4096336452&4294967295,S=k+(I<<6&4294967295|I>>>26),I=M+(k^(S|~D))+A[7]+1126891415&4294967295,M=S+(I<<10&4294967295|I>>>22),I=D+(S^(M|~k))+A[14]+2878612391&4294967295,D=M+(I<<15&4294967295|I>>>17),I=k+(M^(D|~S))+A[5]+4237533241&4294967295,k=D+(I<<21&4294967295|I>>>11),I=S+(D^(k|~M))+A[12]+1700485571&4294967295,S=k+(I<<6&4294967295|I>>>26),I=M+(k^(S|~D))+A[3]+2399980690&4294967295,M=S+(I<<10&4294967295|I>>>22),I=D+(S^(M|~k))+A[10]+4293915773&4294967295,D=M+(I<<15&4294967295|I>>>17),I=k+(M^(D|~S))+A[1]+2240044497&4294967295,k=D+(I<<21&4294967295|I>>>11),I=S+(D^(k|~M))+A[8]+1873313359&4294967295,S=k+(I<<6&4294967295|I>>>26),I=M+(k^(S|~D))+A[15]+4264355552&4294967295,M=S+(I<<10&4294967295|I>>>22),I=D+(S^(M|~k))+A[6]+2734768916&4294967295,D=M+(I<<15&4294967295|I>>>17),I=k+(M^(D|~S))+A[13]+1309151649&4294967295,k=D+(I<<21&4294967295|I>>>11),I=S+(D^(k|~M))+A[4]+4149444226&4294967295,S=k+(I<<6&4294967295|I>>>26),I=M+(k^(S|~D))+A[11]+3174756917&4294967295,M=S+(I<<10&4294967295|I>>>22),I=D+(S^(M|~k))+A[2]+718787259&4294967295,D=M+(I<<15&4294967295|I>>>17),I=k+(M^(D|~S))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var k=S-this.blockSize,A=this.B,D=this.h,M=0;M<S;){if(D==0)for(;M<=k;)i(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<S;)if(A[D++]=C.charCodeAt(M++),D==this.blockSize){i(this,A),D=0;break}}else for(;M<S;)if(A[D++]=C[M++],D==this.blockSize){i(this,A),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var k=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=k&255,k/=256;for(this.u(C),C=Array(16),S=k=0;4>S;++S)for(var A=0;32>A;A+=8)C[k++]=this.g[S]>>>A&255;return C};function s(C,S){var k=o;return Object.prototype.hasOwnProperty.call(k,C)?k[C]:k[C]=S(C)}function a(C,S){this.h=S;for(var k=[],A=!0,D=C.length-1;0<=D;D--){var M=C[D]|0;A&&M==S||(k[D]=M,A=!1)}this.g=k}var o={};function l(C){return-128<=C&&128>C?s(C,function(S){return new a([S|0],0>S?-1:0)}):new a([C|0],0>C?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return m;if(0>C)return _(d(-C));for(var S=[],k=1,A=0;C>=k;A++)S[A]=C/k|0,k*=4294967296;return new a(S,0)}function f(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return _(f(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=d(Math.pow(S,8)),A=m,D=0;D<C.length;D+=8){var M=Math.min(8,C.length-D),I=parseInt(C.substring(D,D+M),S);8>M?(M=d(Math.pow(S,M)),A=A.j(M).add(d(I))):(A=A.j(k),A=A.add(d(I)))}return A}var m=l(0),p=l(1),y=l(16777216);t=a.prototype,t.m=function(){if(w(this))return-_(this).m();for(var C=0,S=1,k=0;k<this.g.length;k++){var A=this.i(k);C+=(0<=A?A:4294967296+A)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(v(this))return"0";if(w(this))return"-"+_(this).toString(C);for(var S=d(Math.pow(C,6)),k=this,A="";;){var D=z(k,S).g;k=T(k,D.j(S));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(C);if(k=D,v(k))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function v(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=T(this,C),w(C)?-1:v(C)?0:1};function _(C){for(var S=C.g.length,k=[],A=0;A<S;A++)k[A]=~C.g[A];return new a(k,~C.h).add(p)}t.abs=function(){return w(this)?_(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),k=[],A=0,D=0;D<=S;D++){var M=A+(this.i(D)&65535)+(C.i(D)&65535),I=(M>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);A=I>>>16,M&=65535,I&=65535,k[D]=I<<16|M}return new a(k,k[k.length-1]&-2147483648?-1:0)};function T(C,S){return C.add(_(S))}t.j=function(C){if(v(this)||v(C))return m;if(w(this))return w(C)?_(this).j(_(C)):_(_(this).j(C));if(w(C))return _(this.j(_(C)));if(0>this.l(y)&&0>C.l(y))return d(this.m()*C.m());for(var S=this.g.length+C.g.length,k=[],A=0;A<2*S;A++)k[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<C.g.length;D++){var M=this.i(A)>>>16,I=this.i(A)&65535,K=C.i(D)>>>16,Y=C.i(D)&65535;k[2*A+2*D]+=I*Y,L(k,2*A+2*D),k[2*A+2*D+1]+=M*Y,L(k,2*A+2*D+1),k[2*A+2*D+1]+=I*K,L(k,2*A+2*D+1),k[2*A+2*D+2]+=M*K,L(k,2*A+2*D+2)}for(A=0;A<S;A++)k[A]=k[2*A+1]<<16|k[2*A];for(A=S;A<2*S;A++)k[A]=0;return new a(k,0)};function L(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function O(C,S){this.g=C,this.h=S}function z(C,S){if(v(S))throw Error("division by zero");if(v(C))return new O(m,m);if(w(C))return S=z(_(C),S),new O(_(S.g),_(S.h));if(w(S))return S=z(C,_(S)),new O(_(S.g),S.h);if(30<C.g.length){if(w(C)||w(S))throw Error("slowDivide_ only works with positive integers.");for(var k=p,A=S;0>=A.l(C);)k=j(k),A=j(A);var D=P(k,1),M=P(A,1);for(A=P(A,2),k=P(k,2);!v(A);){var I=M.add(A);0>=I.l(C)&&(D=D.add(k),M=I),A=P(A,1),k=P(k,1)}return S=T(C,D.j(S)),new O(D,S)}for(D=m;0<=C.l(S);){for(k=Math.max(1,Math.floor(C.m()/S.m())),A=Math.ceil(Math.log(k)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),M=d(k),I=M.j(S);w(I)||0<I.l(C);)k-=A,M=d(k),I=M.j(S);v(M)&&(M=p),D=D.add(M),C=T(C,I)}return new O(D,C)}t.A=function(C){return z(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),k=[],A=0;A<S;A++)k[A]=this.i(A)&C.i(A);return new a(k,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),k=[],A=0;A<S;A++)k[A]=this.i(A)|C.i(A);return new a(k,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),k=[],A=0;A<S;A++)k[A]=this.i(A)^C.i(A);return new a(k,this.h^C.h)};function j(C){for(var S=C.g.length+1,k=[],A=0;A<S;A++)k[A]=C.i(A)<<1|C.i(A-1)>>>31;return new a(k,C.h)}function P(C,S){var k=S>>5;S%=32;for(var A=C.g.length-k,D=[],M=0;M<A;M++)D[M]=0<S?C.i(M+k)>>>S|C.i(M+k+1)<<32-S:C.i(M+k);return new a(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,HV=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=f,Jc=a}).apply(typeof w2<"u"?w2:typeof self<"u"?self:typeof window<"u"?window:{});var xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var KV,am,GV,Zy,fT,XV,YV,QV;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(x,V,$){return x==Array.prototype||x==Object.prototype||(x[V]=$.value),x};function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof xy=="object"&&xy];for(var V=0;V<x.length;++V){var $=x[V];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var r=n(this);function i(x,V){if(V)e:{var $=r;x=x.split(".");for(var X=0;X<x.length-1;X++){var ue=x[X];if(!(ue in $))break e;$=$[ue]}x=x[x.length-1],X=$[x],V=V(X),V!=X&&V!=null&&e($,x,{configurable:!0,writable:!0,value:V})}}function s(x,V){x instanceof String&&(x+="");var $=0,X=!1,ue={next:function(){if(!X&&$<x.length){var ve=$++;return{value:V(ve,x[ve]),done:!1}}return X=!0,{done:!0,value:void 0}}};return ue[Symbol.iterator]=function(){return ue},ue}i("Array.prototype.values",function(x){return x||function(){return s(this,function(V,$){return $})}});var a=a||{},o=this||self;function l(x){var V=typeof x;return V=V!="object"?V:x?Array.isArray(x)?"array":V:"null",V=="array"||V=="object"&&typeof x.length=="number"}function d(x){var V=typeof x;return V=="object"&&x!=null||V=="function"}function f(x,V,$){return x.call.apply(x.bind,arguments)}function m(x,V,$){if(!x)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var ue=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(ue,X),x.apply(V,ue)}}return function(){return x.apply(V,arguments)}}function p(x,V,$){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,p.apply(null,arguments)}function y(x,V){var $=Array.prototype.slice.call(arguments,1);return function(){var X=$.slice();return X.push.apply(X,arguments),x.apply(this,X)}}function v(x,V){function $(){}$.prototype=V.prototype,x.aa=V.prototype,x.prototype=new $,x.prototype.constructor=x,x.Qb=function(X,ue,ve){for(var Ne=Array(arguments.length-2),qt=2;qt<arguments.length;qt++)Ne[qt-2]=arguments[qt];return V.prototype[ue].apply(X,Ne)}}function w(x){const V=x.length;if(0<V){const $=Array(V);for(let X=0;X<V;X++)$[X]=x[X];return $}return[]}function _(x,V){for(let $=1;$<arguments.length;$++){const X=arguments[$];if(l(X)){const ue=x.length||0,ve=X.length||0;x.length=ue+ve;for(let Ne=0;Ne<ve;Ne++)x[ue+Ne]=X[Ne]}else x.push(X)}}class T{constructor(V,$){this.i=V,this.j=$,this.h=0,this.g=null}get(){let V;return 0<this.h?(this.h--,V=this.g,this.g=V.next,V.next=null):V=this.i(),V}}function L(x){return/^[\s\xa0]*$/.test(x)}function O(){var x=o.navigator;return x&&(x=x.userAgent)?x:""}function z(x){return z[" "](x),x}z[" "]=function(){};var j=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function P(x,V,$){for(const X in x)V.call($,x[X],X,x)}function C(x,V){for(const $ in x)V.call(void 0,x[$],$,x)}function S(x){const V={};for(const $ in x)V[$]=x[$];return V}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(x,V){let $,X;for(let ue=1;ue<arguments.length;ue++){X=arguments[ue];for($ in X)x[$]=X[$];for(let ve=0;ve<k.length;ve++)$=k[ve],Object.prototype.hasOwnProperty.call(X,$)&&(x[$]=X[$])}}function D(x){var V=1;x=x.split(":");const $=[];for(;0<V&&x.length;)$.push(x.shift()),V--;return x.length&&$.push(x.join(":")),$}function M(x){o.setTimeout(()=>{throw x},0)}function I(){var x=q;let V=null;return x.g&&(V=x.g,x.g=x.g.next,x.g||(x.h=null),V.next=null),V}class K{constructor(){this.h=this.g=null}add(V,$){const X=Y.get();X.set(V,$),this.h?this.h.next=X:this.g=X,this.h=X}}var Y=new T(()=>new J,x=>x.reset());class J{constructor(){this.next=this.g=this.h=null}set(V,$){this.h=V,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let F,G=!1,q=new K,R=()=>{const x=o.Promise.resolve(void 0);F=()=>{x.then(U)}};var U=()=>{for(var x;x=I();){try{x.h.call(x.g)}catch($){M($)}var V=Y;V.j(x),100>V.h&&(V.h++,x.next=V.g,V.g=x)}G=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(x,V){this.type=x,this.g=this.target=V,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var Z=(function(){if(!o.addEventListener||!Object.defineProperty)return!1;var x=!1,V=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const $=()=>{};o.addEventListener("test",$,V),o.removeEventListener("test",$,V)}catch{}return x})();function te(x,V){if(Q.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x){var $=this.type=x.type,X=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;if(this.target=x.target||x.srcElement,this.g=V,V=x.relatedTarget){if(j){e:{try{z(V.nodeName);var ue=!0;break e}catch{}ue=!1}ue||(V=null)}}else $=="mouseover"?V=x.fromElement:$=="mouseout"&&(V=x.toElement);this.relatedTarget=V,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=typeof x.pointerType=="string"?x.pointerType:ae[x.pointerType]||"",this.state=x.state,this.i=x,x.defaultPrevented&&te.aa.h.call(this)}}v(te,Q);var ae={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var re="closure_listenable_"+(1e6*Math.random()|0),xe=0;function se(x,V,$,X,ue){this.listener=x,this.proxy=null,this.src=V,this.type=$,this.capture=!!X,this.ha=ue,this.key=++xe,this.da=this.fa=!1}function he(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function Te(x){this.src=x,this.g={},this.h=0}Te.prototype.add=function(x,V,$,X,ue){var ve=x.toString();x=this.g[ve],x||(x=this.g[ve]=[],this.h++);var Ne=De(x,V,X,ue);return-1<Ne?(V=x[Ne],$||(V.fa=!1)):(V=new se(V,this.src,ve,!!X,ue),V.fa=$,x.push(V)),V};function me(x,V){var $=V.type;if($ in x.g){var X=x.g[$],ue=Array.prototype.indexOf.call(X,V,void 0),ve;(ve=0<=ue)&&Array.prototype.splice.call(X,ue,1),ve&&(he(V),x.g[$].length==0&&(delete x.g[$],x.h--))}}function De(x,V,$,X){for(var ue=0;ue<x.length;++ue){var ve=x[ue];if(!ve.da&&ve.listener==V&&ve.capture==!!$&&ve.ha==X)return ue}return-1}var Ie="closure_lm_"+(1e6*Math.random()|0),Ye={};function Je(x,V,$,X,ue){if(Array.isArray(V)){for(var ve=0;ve<V.length;ve++)Je(x,V[ve],$,X,ue);return null}return $=ht($),x&&x[re]?x.K(V,$,d(X)?!!X.capture:!1,ue):Qe(x,V,$,!1,X,ue)}function Qe(x,V,$,X,ue,ve){if(!V)throw Error("Invalid event type");var Ne=d(ue)?!!ue.capture:!!ue,qt=qe(x);if(qt||(x[Ie]=qt=new Te(x)),$=qt.add(V,$,X,Ne,ve),$.proxy)return $;if(X=bt(),$.proxy=X,X.src=x,X.listener=$,x.addEventListener)Z||(ue=Ne),ue===void 0&&(ue=!1),x.addEventListener(V.toString(),X,ue);else if(x.attachEvent)x.attachEvent(oe(V.toString()),X);else if(x.addListener&&x.removeListener)x.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return $}function bt(){function x($){return V.call(x.src,x.listener,$)}const V=je;return x}function Vt(x,V,$,X,ue){if(Array.isArray(V))for(var ve=0;ve<V.length;ve++)Vt(x,V[ve],$,X,ue);else X=d(X)?!!X.capture:!!X,$=ht($),x&&x[re]?(x=x.i,V=String(V).toString(),V in x.g&&(ve=x.g[V],$=De(ve,$,X,ue),-1<$&&(he(ve[$]),Array.prototype.splice.call(ve,$,1),ve.length==0&&(delete x.g[V],x.h--)))):x&&(x=qe(x))&&(V=x.g[V.toString()],x=-1,V&&(x=De(V,$,X,ue)),($=-1<x?V[x]:null)&&ut($))}function ut(x){if(typeof x!="number"&&x&&!x.da){var V=x.src;if(V&&V[re])me(V.i,x);else{var $=x.type,X=x.proxy;V.removeEventListener?V.removeEventListener($,X,x.capture):V.detachEvent?V.detachEvent(oe($),X):V.addListener&&V.removeListener&&V.removeListener(X),($=qe(V))?(me($,x),$.h==0&&($.src=null,V[Ie]=null)):he(x)}}}function oe(x){return x in Ye?Ye[x]:Ye[x]="on"+x}function je(x,V){if(x.da)x=!0;else{V=new te(V,this);var $=x.listener,X=x.ha||x.src;x.fa&&ut(x),x=$.call(X,V)}return x}function qe(x){return x=x[Ie],x instanceof Te?x:null}var dt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ht(x){return typeof x=="function"?x:(x[dt]||(x[dt]=function(V){return x.handleEvent(V)}),x[dt])}function le(){H.call(this),this.i=new Te(this),this.M=this,this.F=null}v(le,H),le.prototype[re]=!0,le.prototype.removeEventListener=function(x,V,$,X){Vt(this,x,V,$,X)};function Oe(x,V){var $,X=x.F;if(X)for($=[];X;X=X.F)$.push(X);if(x=x.M,X=V.type||V,typeof V=="string")V=new Q(V,x);else if(V instanceof Q)V.target=V.target||x;else{var ue=V;V=new Q(X,x),A(V,ue)}if(ue=!0,$)for(var ve=$.length-1;0<=ve;ve--){var Ne=V.g=$[ve];ue=wt(Ne,X,!0,V)&&ue}if(Ne=V.g=x,ue=wt(Ne,X,!0,V)&&ue,ue=wt(Ne,X,!1,V)&&ue,$)for(ve=0;ve<$.length;ve++)Ne=V.g=$[ve],ue=wt(Ne,X,!1,V)&&ue}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var x=this.i,V;for(V in x.g){for(var $=x.g[V],X=0;X<$.length;X++)he($[X]);delete x.g[V],x.h--}}this.F=null},le.prototype.K=function(x,V,$,X){return this.i.add(String(x),V,!1,$,X)},le.prototype.L=function(x,V,$,X){return this.i.add(String(x),V,!0,$,X)};function wt(x,V,$,X){if(V=x.i.g[String(V)],!V)return!0;V=V.concat();for(var ue=!0,ve=0;ve<V.length;++ve){var Ne=V[ve];if(Ne&&!Ne.da&&Ne.capture==$){var qt=Ne.listener,qn=Ne.ha||Ne.src;Ne.fa&&me(x.i,Ne),ue=qt.call(qn,X)!==!1&&ue}}return ue&&!X.defaultPrevented}function Bt(x,V,$){if(typeof x=="function")$&&(x=p(x,$));else if(x&&typeof x.handleEvent=="function")x=p(x.handleEvent,x);else throw Error("Invalid listener argument");return 2147483647<Number(V)?-1:o.setTimeout(x,V||0)}function lt(x){x.g=Bt(()=>{x.g=null,x.i&&(x.i=!1,lt(x))},x.l);const V=x.h;x.h=null,x.m.apply(null,V)}class Tn extends H{constructor(V,$){super(),this.m=V,this.l=$,this.h=null,this.i=!1,this.g=null}j(V){this.h=arguments,this.g?this.i=!0:lt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $n(x){H.call(this),this.h=x,this.g={}}v($n,H);var ii=[];function Cn(x){P(x.g,function(V,$){this.g.hasOwnProperty($)&&ut(V)},x),x.g={}}$n.prototype.N=function(){$n.aa.N.call(this),Cn(this)},$n.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ps=o.JSON.stringify,Ur=o.JSON.parse,ac=class{stringify(x){return o.JSON.stringify(x,void 0)}parse(x){return o.JSON.parse(x,void 0)}};function Ra(){}Ra.prototype.h=null;function Da(x){return x.h||(x.h=x.i())}function Oa(){}var si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ai(){Q.call(this,"d")}v(ai,Q);function $r(){Q.call(this,"c")}v($r,Q);var Ui={},it=null;function _t(){return it=it||new le}Ui.La="serverreachability";function zt(x){Q.call(this,Ui.La,x)}v(zt,Q);function Rn(x){const V=_t();Oe(V,new zt(V))}Ui.STAT_EVENT="statevent";function gr(x,V){Q.call(this,Ui.STAT_EVENT,x),this.stat=V}v(gr,Q);function Ut(x){const V=_t();Oe(V,new gr(V,x))}Ui.Ma="timingevent";function oi(x,V){Q.call(this,Ui.Ma,x),this.size=V}v(oi,Q);function yn(x,V){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){x()},V)}function Ir(){this.g=!0}Ir.prototype.xa=function(){this.g=!1};function oc(x,V,$,X,ue,ve){x.info(function(){if(x.g)if(ve)for(var Ne="",qt=ve.split("&"),qn=0;qn<qt.length;qn++){var At=qt[qn].split("=");if(1<At.length){var tr=At[0];At=At[1];var Ln=tr.split("_");Ne=2<=Ln.length&&Ln[1]=="type"?Ne+(tr+"="+At+"&"):Ne+(tr+"=redacted&")}}else Ne=null;else Ne=ve;return"XMLHTTP REQ ("+X+") [attempt "+ue+"]: "+V+`
`+$+`
`+Ne})}function Bu(x,V,$,X,ue,ve,Ne){x.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+ue+"]: "+V+`
`+$+`
`+ve+" "+Ne})}function gs(x,V,$,X){x.info(function(){return"XMLHTTP TEXT ("+V+"): "+jb(x,$)+(X?" "+X:"")})}function nh(x,V){x.info(function(){return"TIMEOUT: "+V})}Ir.prototype.info=function(){};function jb(x,V){if(!x.g)return V;if(!V)return null;try{var $=JSON.parse(V);if($){for(x=0;x<$.length;x++)if(Array.isArray($[x])){var X=$[x];if(!(2>X.length)){var ue=X[1];if(Array.isArray(ue)&&!(1>ue.length)){var ve=ue[0];if(ve!="noop"&&ve!="stop"&&ve!="close")for(var Ne=1;Ne<ue.length;Ne++)ue[Ne]=""}}}}return ps($)}catch{return V}}var zu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ys;function lc(){}v(lc,Ra),lc.prototype.g=function(){return new XMLHttpRequest},lc.prototype.i=function(){return{}},ys=new lc;function vs(x,V,$,X){this.j=x,this.i=V,this.l=$,this.R=X||1,this.U=new $n(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ig}function ig(){this.i=null,this.g="",this.h=!1}var rh={},Uu={};function $u(x,V,$){x.L=1,x.v=Bo(Ni(V)),x.m=$,x.P=!0,ih(x,null)}function ih(x,V){x.F=Date.now(),Jt(x),x.A=Ni(x.v);var $=x.A,X=x.R;Array.isArray(X)||(X=[String(X)]),Uo($.i,"t",X),x.C=0,$=x.j.J,x.h=new ig,x.g=_g(x.j,$?V:null,!x.m),0<x.O&&(x.M=new Tn(p(x.Y,x,x.g),x.O)),V=x.U,$=x.g,X=x.ca;var ue="readystatechange";Array.isArray(ue)||(ue&&(ii[0]=ue.toString()),ue=ii);for(var ve=0;ve<ue.length;ve++){var Ne=Je($,ue[ve],X||V.handleEvent,!1,V.h||V);if(!Ne)break;V.g[Ne.key]=Ne}V=x.H?S(x.H):{},x.m?(x.u||(x.u="POST"),V["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.A,x.u,x.m,V)):(x.u="GET",x.g.ea(x.A,x.u,null,V)),Rn(),oc(x.i,x.u,x.A,x.l,x.R,x.m)}vs.prototype.ca=function(x){x=x.target;const V=this.M;V&&ci(x)==3?V.j():this.Y(x)},vs.prototype.Y=function(x){try{if(x==this.g)e:{const Ln=ci(this.g);var V=this.g.Ba();const Wi=this.g.Z();if(!(3>Ln)&&(Ln!=3||this.g&&(this.h.h||this.g.oa()||uh(this.g)))){this.J||Ln!=4||V==7||(V==8||0>=Wi?Rn(3):Rn(2)),cc(this);var $=this.g.Z();this.X=$;t:if(sg(this)){var X=uh(this.g);x="";var ue=X.length,ve=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$i(this),Mo(this);var Ne="";break t}this.h.i=new o.TextDecoder}for(V=0;V<ue;V++)this.h.h=!0,x+=this.h.i.decode(X[V],{stream:!(ve&&V==ue-1)});X.length=0,this.h.g+=x,this.C=0,Ne=this.h.g}else Ne=this.g.oa();if(this.o=$==200,Bu(this.i,this.u,this.A,this.l,this.R,Ln,$),this.o){if(this.T&&!this.K){t:{if(this.g){var qt,qn=this.g;if((qt=qn.g?qn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(qt)){var At=qt;break t}}At=null}if($=At)gs(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sh(this,$);else{this.o=!1,this.s=3,Ut(12),$i(this),Mo(this);break e}}if(this.P){$=!0;let ji;for(;!this.J&&this.C<Ne.length;)if(ji=kb(this,Ne),ji==Uu){Ln==4&&(this.s=4,Ut(14),$=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(ji==rh){this.s=4,Ut(15),gs(this.i,this.l,Ne,"[Invalid Chunk]"),$=!1;break}else gs(this.i,this.l,ji,null),sh(this,ji);if(sg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ln!=4||Ne.length!=0||this.h.h||(this.s=1,Ut(16),$=!1),this.o=this.o&&$,!$)gs(this.i,this.l,Ne,"[Invalid Chunked Response]"),$i(this),Mo(this);else if(0<Ne.length&&!this.W){this.W=!0;var tr=this.j;tr.g==this&&tr.ba&&!tr.M&&(tr.j.info("Great, no buffering proxy detected. Bytes received: "+Ne.length),fh(tr),tr.M=!0,Ut(11))}}else gs(this.i,this.l,Ne,null),sh(this,Ne);Ln==4&&$i(this),this.o&&!this.J&&(Ln==4?ed(this.j,this):(this.o=!1,Jt(this)))}else Xu(this.g),$==400&&0<Ne.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),$i(this),Mo(this)}}}catch{}};function sg(x){return x.g?x.u=="GET"&&x.L!=2&&x.j.Ca:!1}function kb(x,V){var $=x.C,X=V.indexOf(`
`,$);return X==-1?Uu:($=Number(V.substring($,X)),isNaN($)?rh:(X+=1,X+$>V.length?Uu:(V=V.slice(X,X+$),x.C=X+$,V)))}vs.prototype.cancel=function(){this.J=!0,$i(this)};function Jt(x){x.S=Date.now()+x.I,ag(x,x.I)}function ag(x,V){if(x.B!=null)throw Error("WatchDog timer not null");x.B=yn(p(x.ba,x),V)}function cc(x){x.B&&(o.clearTimeout(x.B),x.B=null)}vs.prototype.ba=function(){this.B=null;const x=Date.now();0<=x-this.S?(nh(this.i,this.A),this.L!=2&&(Rn(),Ut(17)),$i(this),this.s=2,Mo(this)):ag(this,this.S-x)};function Mo(x){x.j.G==0||x.J||ed(x.j,x)}function $i(x){cc(x);var V=x.M;V&&typeof V.ma=="function"&&V.ma(),x.M=null,Cn(x.U),x.g&&(V=x.g,x.g=null,V.abort(),V.ma())}function sh(x,V){try{var $=x.j;if($.G!=0&&($.g==x||qr($.h,x))){if(!x.K&&qr($.h,x)&&$.G==3){try{var X=$.Da.g.parse(V)}catch{X=null}if(Array.isArray(X)&&X.length==3){var ue=X;if(ue[0]==0){e:if(!$.u){if($.g)if($.g.F+3e3<x.F)Zu($),Es($);else break e;Ju($),Ut(18)}}else $.za=ue[1],0<$.za-$.T&&37500>ue[2]&&$.F&&$.v==0&&!$.C&&($.C=yn(p($.Za,$),6e3));if(1>=lg($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else Ba($,11)}else if((x.K||$.g==x)&&Zu($),!L(V))for(ue=$.Da.g.parse(V),V=0;V<ue.length;V++){let At=ue[V];if($.T=At[0],At=At[1],$.G==2)if(At[0]=="c"){$.K=At[1],$.ia=At[2];const tr=At[3];tr!=null&&($.la=tr,$.j.info("VER="+$.la));const Ln=At[4];Ln!=null&&($.Aa=Ln,$.j.info("SVER="+$.Aa));const Wi=At[5];Wi!=null&&typeof Wi=="number"&&0<Wi&&(X=1.5*Wi,$.L=X,$.j.info("backChannelRequestTimeoutMs_="+X)),X=$;const ji=x.g;if(ji){const gc=ji.g?ji.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gc){var ve=X.h;ve.g||gc.indexOf("spdy")==-1&&gc.indexOf("quic")==-1&&gc.indexOf("h2")==-1||(ve.j=ve.l,ve.g=new Set,ve.h&&(ah(ve,ve.h),ve.h=null))}if(X.D){const nd=ji.g?ji.g.getResponseHeader("X-HTTP-Session-Id"):null;nd&&(X.ya=nd,Xt(X.I,X.D,nd))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-x.F,$.j.info("Handshake RTT: "+$.R+"ms")),X=$;var Ne=x;if(X.qa=wg(X,X.J?X.ia:null,X.W),Ne.K){cg(X.h,Ne);var qt=Ne,qn=X.L;qn&&(qt.I=qn),qt.B&&(cc(qt),Jt(qt)),X.g=Ne}else pc(X);0<$.i.length&&Zs($)}else At[0]!="stop"&&At[0]!="close"||Ba($,7);else $.G==3&&(At[0]=="stop"||At[0]=="close"?At[0]=="stop"?Ba($,7):vr($):At[0]!="noop"&&$.l&&$.l.ta(At),$.v=0)}}Rn(4)}catch{}}var og=class{constructor(x,V){this.g=x,this.map=V}};function uc(x){this.l=x||10,o.PerformanceNavigationTiming?(x=o.performance.getEntriesByType("navigation"),x=0<x.length&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ai(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function lg(x){return x.h?1:x.g?x.g.size:0}function qr(x,V){return x.h?x.h==V:x.g?x.g.has(V):!1}function ah(x,V){x.g?x.g.add(V):x.h=V}function cg(x,V){x.h&&x.h==V?x.h=null:x.g&&x.g.has(V)&&x.g.delete(V)}uc.prototype.cancel=function(){if(this.i=ug(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function ug(x){if(x.h!=null)return x.i.concat(x.h.D);if(x.g!=null&&x.g.size!==0){let V=x.i;for(const $ of x.g.values())V=V.concat($.D);return V}return w(x.i)}function qu(x){if(x.V&&typeof x.V=="function")return x.V();if(typeof Map<"u"&&x instanceof Map||typeof Set<"u"&&x instanceof Set)return Array.from(x.values());if(typeof x=="string")return x.split("");if(l(x)){for(var V=[],$=x.length,X=0;X<$;X++)V.push(x[X]);return V}V=[],$=0;for(X in x)V[$++]=x[X];return V}function Wu(x){if(x.na&&typeof x.na=="function")return x.na();if(!x.V||typeof x.V!="function"){if(typeof Map<"u"&&x instanceof Map)return Array.from(x.keys());if(!(typeof Set<"u"&&x instanceof Set)){if(l(x)||typeof x=="string"){var V=[];x=x.length;for(var $=0;$<x;$++)V.push($);return V}V=[],$=0;for(const X in x)V[$++]=X;return V}}}function Lo(x,V){if(x.forEach&&typeof x.forEach=="function")x.forEach(V,void 0);else if(l(x)||typeof x=="string")Array.prototype.forEach.call(x,V,void 0);else for(var $=Wu(x),X=qu(x),ue=X.length,ve=0;ve<ue;ve++)V.call(void 0,X[ve],$&&$[ve],x)}var dc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rb(x,V){if(x){x=x.split("&");for(var $=0;$<x.length;$++){var X=x[$].indexOf("="),ue=null;if(0<=X){var ve=x[$].substring(0,X);ue=x[$].substring(X+1)}else ve=x[$];V(ve,ue?decodeURIComponent(ue.replace(/\+/g," ")):"")}}}function Ma(x){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,x instanceof Ma){this.h=x.h,fc(this,x.j),this.o=x.o,this.g=x.g,Vo(this,x.s),this.l=x.l;var V=x.i,$=new Ys;$.i=V.i,V.g&&($.g=new Map(V.g),$.h=V.h),Fo(this,$),this.m=x.m}else x&&(V=String(x).match(dc))?(this.h=!1,fc(this,V[1]||"",!0),this.o=St(V[2]||""),this.g=St(V[3]||"",!0),Vo(this,V[4]),this.l=St(V[5]||"",!0),Fo(this,V[6]||"",!0),this.m=St(V[7]||"")):(this.h=!1,this.i=new Ys(null,this.h))}Ma.prototype.toString=function(){var x=[],V=this.j;V&&x.push(zo(V,Hu,!0),":");var $=this.g;return($||V=="file")&&(x.push("//"),(V=this.o)&&x.push(zo(V,Hu,!0),"@"),x.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$=this.s,$!=null&&x.push(":",String($))),($=this.l)&&(this.g&&$.charAt(0)!="/"&&x.push("/"),x.push(zo($,$.charAt(0)=="/"?hg:fg,!0))),($=this.i.toString())&&x.push("?",$),($=this.m)&&x.push("#",zo($,oh)),x.join("")};function Ni(x){return new Ma(x)}function fc(x,V,$){x.j=$?St(V,!0):V,x.j&&(x.j=x.j.replace(/:$/,""))}function Vo(x,V){if(V){if(V=Number(V),isNaN(V)||0>V)throw Error("Bad port number "+V);x.s=V}else x.s=null}function Fo(x,V,$){V instanceof Ys?(x.i=V,Qs(x.i,x.h)):($||(V=zo(V,mg)),x.i=new Ys(V,x.h))}function Xt(x,V,$){x.i.set(V,$)}function Bo(x){return Xt(x,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),x}function St(x,V){return x?V?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function zo(x,V,$){return typeof x=="string"?(x=encodeURI(x).replace(V,dg),$&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function dg(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var Hu=/[#\/\?@]/g,fg=/[#\?:]/g,hg=/[#\?]/g,mg=/[#\?@]/g,oh=/#/g;function Ys(x,V){this.h=this.g=null,this.i=x||null,this.j=!!V}function yr(x){x.g||(x.g=new Map,x.h=0,x.i&&Rb(x.i,function(V,$){x.add(decodeURIComponent(V.replace(/\+/g," ")),$)}))}t=Ys.prototype,t.add=function(x,V){yr(this),this.i=null,x=qi(this,x);var $=this.g.get(x);return $||this.g.set(x,$=[]),$.push(V),this.h+=1,this};function xs(x,V){yr(x),V=qi(x,V),x.g.has(V)&&(x.i=null,x.h-=x.g.get(V).length,x.g.delete(V))}function bs(x,V){return yr(x),V=qi(x,V),x.g.has(V)}t.forEach=function(x,V){yr(this),this.g.forEach(function($,X){$.forEach(function(ue){x.call(V,ue,X,this)},this)},this)},t.na=function(){yr(this);const x=Array.from(this.g.values()),V=Array.from(this.g.keys()),$=[];for(let X=0;X<V.length;X++){const ue=x[X];for(let ve=0;ve<ue.length;ve++)$.push(V[X])}return $},t.V=function(x){yr(this);let V=[];if(typeof x=="string")bs(this,x)&&(V=V.concat(this.g.get(qi(this,x))));else{x=Array.from(this.g.values());for(let $=0;$<x.length;$++)V=V.concat(x[$])}return V},t.set=function(x,V){return yr(this),this.i=null,x=qi(this,x),bs(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[V]),this.h+=1,this},t.get=function(x,V){return x?(x=this.V(x),0<x.length?String(x[0]):V):V};function Uo(x,V,$){xs(x,V),0<$.length&&(x.i=null,x.g.set(qi(x,V),w($)),x.h+=$.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],V=Array.from(this.g.keys());for(var $=0;$<V.length;$++){var X=V[$];const ve=encodeURIComponent(String(X)),Ne=this.V(X);for(X=0;X<Ne.length;X++){var ue=ve;Ne[X]!==""&&(ue+="="+encodeURIComponent(String(Ne[X]))),x.push(ue)}}return this.i=x.join("&")};function qi(x,V){return V=String(V),x.j&&(V=V.toLowerCase()),V}function Qs(x,V){V&&!x.j&&(yr(x),x.i=null,x.g.forEach(function($,X){var ue=X.toLowerCase();X!=ue&&(xs(this,X),Uo(this,ue,$))},x)),x.j=V}function Db(x,V){const $=new Ir;if(o.Image){const X=new Image;X.onload=y(li,$,"TestLoadImage: loaded",!0,V,X),X.onerror=y(li,$,"TestLoadImage: error",!1,V,X),X.onabort=y(li,$,"TestLoadImage: abort",!1,V,X),X.ontimeout=y(li,$,"TestLoadImage: timeout",!1,V,X),o.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=x}else V(!1)}function pg(x,V){const $=new Ir,X=new AbortController,ue=setTimeout(()=>{X.abort(),li($,"TestPingServer: timeout",!1,V)},1e4);fetch(x,{signal:X.signal}).then(ve=>{clearTimeout(ue),ve.ok?li($,"TestPingServer: ok",!0,V):li($,"TestPingServer: server error",!1,V)}).catch(()=>{clearTimeout(ue),li($,"TestPingServer: error",!1,V)})}function li(x,V,$,X,ue){try{ue&&(ue.onload=null,ue.onerror=null,ue.onabort=null,ue.ontimeout=null),X($)}catch{}}function Ob(){this.g=new ac}function gg(x,V,$){const X=$||"";try{Lo(x,function(ue,ve){let Ne=ue;d(ue)&&(Ne=ps(ue)),V.push(X+ve+"="+encodeURIComponent(Ne))})}catch(ue){throw V.push(X+"type="+encodeURIComponent("_badmap")),ue}}function La(x){this.l=x.Ub||null,this.j=x.eb||!1}v(La,Ra),La.prototype.g=function(){return new hc(this.l,this.j)},La.prototype.i=(function(x){return function(){return x}})({});function hc(x,V){le.call(this),this.D=x,this.o=V,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(hc,le),t=hc.prototype,t.open=function(x,V){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=x,this.A=V,this.readyState=1,_s(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const V={headers:this.u,method:this.B,credentials:this.m,cache:void 0};x&&(V.body=x),(this.D||o).fetch(new Request(this.A,V)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ws(this)),this.readyState=0},t.Sa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yg(this)}else x.text().then(this.Ra.bind(this),this.ga.bind(this))};function yg(x){x.j.read().then(x.Pa.bind(x)).catch(x.ga.bind(x))}t.Pa=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var V=x.value?x.value:new Uint8Array(0);(V=this.v.decode(V,{stream:!x.done}))&&(this.response=this.responseText+=V)}x.done?ws(this):_s(this),this.readyState==3&&yg(this)}},t.Ra=function(x){this.g&&(this.response=this.responseText=x,ws(this))},t.Qa=function(x){this.g&&(this.response=x,ws(this))},t.ga=function(){this.g&&ws(this)};function ws(x){x.readyState=4,x.l=null,x.j=null,x.v=null,_s(x)}t.setRequestHeader=function(x,V){this.u.append(x,V)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],V=this.h.entries();for(var $=V.next();!$.done;)$=$.value,x.push($[0]+": "+$[1]),$=V.next();return x.join(`\r
`)};function _s(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(hc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function Va(x){let V="";return P(x,function($,X){V+=X,V+=":",V+=$,V+=`\r
`}),V}function $o(x,V,$){e:{for(X in $){var X=!1;break e}X=!0}X||($=Va($),typeof x=="string"?$!=null&&encodeURIComponent(String($)):Xt(x,V,$))}function un(x){le.call(this),this.headers=new Map,this.o=x||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(un,le);var Mb=/^https?$/i,lh=["POST","PUT"];t=un.prototype,t.Ha=function(x){this.J=x},t.ea=function(x,V,$,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);V=V?V.toUpperCase():"GET",this.D=x,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ys.g(),this.v=this.o?Da(this.o):Da(ys),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(V,String(x),!0),this.B=!1}catch(ve){mc(this,ve);return}if(x=$||"",$=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var ue in X)$.set(ue,X[ue]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const ve of X.keys())$.set(ve,X.get(ve));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from($.keys()).find(ve=>ve.toLowerCase()=="content-type"),ue=o.FormData&&x instanceof o.FormData,!(0<=Array.prototype.indexOf.call(lh,V,void 0))||X||ue||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ve,Ne]of $)this.g.setRequestHeader(ve,Ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Gu(this),this.u=!0,this.g.send(x),this.u=!1}catch(ve){mc(this,ve)}};function mc(x,V){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=V,x.m=5,Ku(x),Ii(x)}function Ku(x){x.A||(x.A=!0,Oe(x,"complete"),Oe(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=x||7,Oe(this,"complete"),Oe(this,"abort"),Ii(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ii(this,!0)),un.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ch(this):this.bb())},t.bb=function(){ch(this)};function ch(x){if(x.h&&typeof a<"u"&&(!x.v[1]||ci(x)!=4||x.Z()!=2)){if(x.u&&ci(x)==4)Bt(x.Ea,0,x);else if(Oe(x,"readystatechange"),ci(x)==4){x.h=!1;try{const Ne=x.Z();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var V=!0;break e;default:V=!1}var $;if(!($=V)){var X;if(X=Ne===0){var ue=String(x.D).match(dc)[1]||null;!ue&&o.self&&o.self.location&&(ue=o.self.location.protocol.slice(0,-1)),X=!Mb.test(ue?ue.toLowerCase():"")}$=X}if($)Oe(x,"complete"),Oe(x,"success");else{x.m=6;try{var ve=2<ci(x)?x.g.statusText:""}catch{ve=""}x.l=ve+" ["+x.Z()+"]",Ku(x)}}finally{Ii(x)}}}}function Ii(x,V){if(x.g){Gu(x);const $=x.g,X=x.v[0]?()=>{}:null;x.g=null,x.v=null,V||Oe(x,"ready");try{$.onreadystatechange=X}catch{}}}function Gu(x){x.I&&(o.clearTimeout(x.I),x.I=null)}t.isActive=function(){return!!this.g};function ci(x){return x.g?x.g.readyState:0}t.Z=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(x){if(this.g){var V=this.g.responseText;return x&&V.indexOf(x)==0&&(V=V.substring(x.length)),Ur(V)}};function uh(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.H){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function Xu(x){const V={};x=(x.g&&2<=ci(x)&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<x.length;X++){if(L(x[X]))continue;var $=D(x[X]);const ue=$[0];if($=$[1],typeof $!="string")continue;$=$.trim();const ve=V[ue]||[];V[ue]=ve,ve.push($)}C(V,function(X){return X.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Js(x,V,$){return $&&$.internalChannelParams&&$.internalChannelParams[x]||V}function dh(x){this.Aa=0,this.i=[],this.j=new Ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Js("failFast",!1,x),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Js("baseRetryDelayMs",5e3,x),this.cb=Js("retryDelaySeedMs",1e4,x),this.Wa=Js("forwardChannelMaxRetries",2,x),this.wa=Js("forwardChannelRequestTimeoutMs",2e4,x),this.pa=x&&x.xmlHttpFactory||void 0,this.Xa=x&&x.Tb||void 0,this.Ca=x&&x.useFetchStreams||!1,this.L=void 0,this.J=x&&x.supportsCrossDomainXhr||!1,this.K="",this.h=new uc(x&&x.concurrentRequestLimit),this.Da=new Ob,this.P=x&&x.fastHandshake||!1,this.O=x&&x.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=x&&x.Rb||!1,x&&x.xa&&this.j.xa(),x&&x.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&x&&x.detectBufferingProxy||!1,this.ja=void 0,x&&x.longPollingTimeout&&0<x.longPollingTimeout&&(this.ja=x.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=dh.prototype,t.la=8,t.G=1,t.connect=function(x,V,$,X){Ut(0),this.W=x,this.H=V||{},$&&X!==void 0&&(this.H.OSID=$,this.H.OAID=X),this.F=this.X,this.I=wg(this,null,this.W),Zs(this)};function vr(x){if(Yu(x),x.G==3){var V=x.U++,$=Ni(x.I);if(Xt($,"SID",x.K),Xt($,"RID",V),Xt($,"TYPE","terminate"),Fa(x,$),V=new vs(x,x.j,V),V.L=2,V.v=Bo(Ni($)),$=!1,o.navigator&&o.navigator.sendBeacon)try{$=o.navigator.sendBeacon(V.v.toString(),"")}catch{}!$&&o.Image&&(new Image().src=V.v,$=!0),$||(V.g=_g(V.j,null),V.g.ea(V.v)),V.F=Date.now(),Jt(V)}bg(x)}function Es(x){x.g&&(fh(x),x.g.cancel(),x.g=null)}function Yu(x){Es(x),x.u&&(o.clearTimeout(x.u),x.u=null),Zu(x),x.h.cancel(),x.s&&(typeof x.s=="number"&&o.clearTimeout(x.s),x.s=null)}function Zs(x){if(!Ai(x.h)&&!x.s){x.s=!0;var V=x.Ga;F||R(),G||(F(),G=!0),q.add(V,x),x.B=0}}function Lb(x,V){return lg(x.h)>=x.h.j-(x.s?1:0)?!1:x.s?(x.i=V.D.concat(x.i),!0):x.G==1||x.G==2||x.B>=(x.Va?0:x.Wa)?!1:(x.s=yn(p(x.Ga,x,V),xg(x,x.B)),x.B++,!0)}t.Ga=function(x){if(this.s)if(this.s=null,this.G==1){if(!x){this.U=Math.floor(1e5*Math.random()),x=this.U++;const ue=new vs(this,this.j,x);let ve=this.o;if(this.S&&(ve?(ve=S(ve),A(ve,this.S)):ve=this.S),this.m!==null||this.O||(ue.H=ve,ve=null),this.P)e:{for(var V=0,$=0;$<this.i.length;$++){t:{var X=this.i[$];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(V+=X,4096<V){V=$;break e}if(V===4096||$===this.i.length-1){V=$+1;break e}}V=1e3}else V=1e3;V=qo(this,ue,V),$=Ni(this.I),Xt($,"RID",x),Xt($,"CVER",22),this.D&&Xt($,"X-HTTP-Session-Id",this.D),Fa(this,$),ve&&(this.O?V="headers="+encodeURIComponent(String(Va(ve)))+"&"+V:this.m&&$o($,this.m,ve)),ah(this.h,ue),this.Ua&&Xt($,"TYPE","init"),this.P?(Xt($,"$req",V),Xt($,"SID","null"),ue.T=!0,$u(ue,$,null)):$u(ue,$,V),this.G=2}}else this.G==3&&(x?Qu(this,x):this.i.length==0||Ai(this.h)||Qu(this))};function Qu(x,V){var $;V?$=V.l:$=x.U++;const X=Ni(x.I);Xt(X,"SID",x.K),Xt(X,"RID",$),Xt(X,"AID",x.T),Fa(x,X),x.m&&x.o&&$o(X,x.m,x.o),$=new vs(x,x.j,$,x.B+1),x.m===null&&($.H=x.o),V&&(x.i=V.D.concat(x.i)),V=qo(x,$,1e3),$.I=Math.round(.5*x.wa)+Math.round(.5*x.wa*Math.random()),ah(x.h,$),$u($,X,V)}function Fa(x,V){x.H&&P(x.H,function($,X){Xt(V,X,$)}),x.l&&Lo({},function($,X){Xt(V,X,$)})}function qo(x,V,$){$=Math.min(x.i.length,$);var X=x.l?p(x.l.Na,x.l,x):null;e:{var ue=x.i;let ve=-1;for(;;){const Ne=["count="+$];ve==-1?0<$?(ve=ue[0].g,Ne.push("ofs="+ve)):ve=0:Ne.push("ofs="+ve);let qt=!0;for(let qn=0;qn<$;qn++){let At=ue[qn].g;const tr=ue[qn].map;if(At-=ve,0>At)ve=Math.max(0,ue[qn].g-100),qt=!1;else try{gg(tr,Ne,"req"+At+"_")}catch{X&&X(tr)}}if(qt){X=Ne.join("&");break e}}}return x=x.i.splice(0,$),V.D=x,X}function pc(x){if(!x.g&&!x.u){x.Y=1;var V=x.Fa;F||R(),G||(F(),G=!0),q.add(V,x),x.v=0}}function Ju(x){return x.g||x.u||3<=x.v?!1:(x.Y++,x.u=yn(p(x.Fa,x),xg(x,x.v)),x.v++,!0)}t.Fa=function(){if(this.u=null,vg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var x=2*this.R;this.j.info("BP detection timer enabled: "+x),this.A=yn(p(this.ab,this),x)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Es(this),vg(this))};function fh(x){x.A!=null&&(o.clearTimeout(x.A),x.A=null)}function vg(x){x.g=new vs(x,x.j,"rpc",x.Y),x.m===null&&(x.g.H=x.o),x.g.O=0;var V=Ni(x.qa);Xt(V,"RID","rpc"),Xt(V,"SID",x.K),Xt(V,"AID",x.T),Xt(V,"CI",x.F?"0":"1"),!x.F&&x.ja&&Xt(V,"TO",x.ja),Xt(V,"TYPE","xmlhttp"),Fa(x,V),x.m&&x.o&&$o(V,x.m,x.o),x.L&&(x.g.I=x.L);var $=x.g;x=x.ia,$.L=1,$.v=Bo(Ni(V)),$.m=null,$.P=!0,ih($,x)}t.Za=function(){this.C!=null&&(this.C=null,Es(this),Ju(this),Ut(19))};function Zu(x){x.C!=null&&(o.clearTimeout(x.C),x.C=null)}function ed(x,V){var $=null;if(x.g==V){Zu(x),fh(x),x.g=null;var X=2}else if(qr(x.h,V))$=V.D,cg(x.h,V),X=1;else return;if(x.G!=0){if(V.o)if(X==1){$=V.m?V.m.length:0,V=Date.now()-V.F;var ue=x.B;X=_t(),Oe(X,new oi(X,$)),Zs(x)}else pc(x);else if(ue=V.s,ue==3||ue==0&&0<V.X||!(X==1&&Lb(x,V)||X==2&&Ju(x)))switch($&&0<$.length&&(V=x.h,V.i=V.i.concat($)),ue){case 1:Ba(x,5);break;case 4:Ba(x,10);break;case 3:Ba(x,6);break;default:Ba(x,2)}}}function xg(x,V){let $=x.Ta+Math.floor(Math.random()*x.cb);return x.isActive()||($*=2),$*V}function Ba(x,V){if(x.j.info("Error code "+V),V==2){var $=p(x.fb,x),X=x.Xa;const ue=!X;X=new Ma(X||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||fc(X,"https"),Bo(X),ue?Db(X.toString(),$):pg(X.toString(),$)}else Ut(2);x.G=0,x.l&&x.l.sa(V),bg(x),Yu(x)}t.fb=function(x){x?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function bg(x){if(x.G=0,x.ka=[],x.l){const V=ug(x.h);(V.length!=0||x.i.length!=0)&&(_(x.ka,V),_(x.ka,x.i),x.h.i.length=0,w(x.i),x.i.length=0),x.l.ra()}}function wg(x,V,$){var X=$ instanceof Ma?Ni($):new Ma($);if(X.g!="")V&&(X.g=V+"."+X.g),Vo(X,X.s);else{var ue=o.location;X=ue.protocol,V=V?V+"."+ue.hostname:ue.hostname,ue=+ue.port;var ve=new Ma(null);X&&fc(ve,X),V&&(ve.g=V),ue&&Vo(ve,ue),$&&(ve.l=$),X=ve}return $=x.D,V=x.ya,$&&V&&Xt(X,$,V),Xt(X,"VER",x.la),Fa(x,X),X}function _g(x,V,$){if(V&&!x.J)throw Error("Can't create secondary domain capable XhrIo object.");return V=x.Ca&&!x.pa?new un(new La({eb:$})):new un(x.pa),V.Ha(x.J),V}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hh(){}t=hh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function td(){}td.prototype.g=function(x,V){return new Wr(x,V)};function Wr(x,V){le.call(this),this.g=new dh(V),this.l=x,this.h=V&&V.messageUrlParams||null,x=V&&V.messageHeaders||null,V&&V.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=V&&V.initMessageHeaders||null,V&&V.messageContentType&&(x?x["X-WebChannel-Content-Type"]=V.messageContentType:x={"X-WebChannel-Content-Type":V.messageContentType}),V&&V.va&&(x?x["X-WebChannel-Client-Profile"]=V.va:x={"X-WebChannel-Client-Profile":V.va}),this.g.S=x,(x=V&&V.Sb)&&!L(x)&&(this.g.m=x),this.v=V&&V.supportsCrossDomainXhr||!1,this.u=V&&V.sendRawJson||!1,(V=V&&V.httpSessionIdParam)&&!L(V)&&(this.g.D=V,x=this.h,x!==null&&V in x&&(x=this.h,V in x&&delete x[V])),this.j=new ea(this)}v(Wr,le),Wr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wr.prototype.close=function(){vr(this.g)},Wr.prototype.o=function(x){var V=this.g;if(typeof x=="string"){var $={};$.__data__=x,x=$}else this.u&&($={},$.__data__=ps(x),x=$);V.i.push(new og(V.Ya++,x)),V.G==3&&Zs(V)},Wr.prototype.N=function(){this.g.l=null,delete this.j,vr(this.g),delete this.g,Wr.aa.N.call(this)};function Eg(x){ai.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var V=x.__sm__;if(V){e:{for(const $ in V){x=$;break e}x=void 0}(this.i=x)&&(x=this.i,V=V!==null&&x in V?V[x]:void 0),this.data=V}else this.data=x}v(Eg,ai);function Tg(){$r.call(this),this.status=1}v(Tg,$r);function ea(x){this.g=x}v(ea,hh),ea.prototype.ua=function(){Oe(this.g,"a")},ea.prototype.ta=function(x){Oe(this.g,new Eg(x))},ea.prototype.sa=function(x){Oe(this.g,new Tg)},ea.prototype.ra=function(){Oe(this.g,"b")},td.prototype.createWebChannel=td.prototype.g,Wr.prototype.send=Wr.prototype.o,Wr.prototype.open=Wr.prototype.m,Wr.prototype.close=Wr.prototype.close,QV=function(){return new td},YV=function(){return _t()},XV=Ui,fT={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zu.NO_ERROR=0,zu.TIMEOUT=8,zu.HTTP_ERROR=6,Zy=zu,rg.COMPLETE="complete",GV=rg,Oa.EventType=si,si.OPEN="a",si.CLOSE="b",si.ERROR="c",si.MESSAGE="d",le.prototype.listen=le.prototype.K,am=Oa,un.prototype.listenOnce=un.prototype.L,un.prototype.getLastError=un.prototype.Ka,un.prototype.getLastErrorCode=un.prototype.Ba,un.prototype.getStatus=un.prototype.Z,un.prototype.getResponseJson=un.prototype.Oa,un.prototype.getResponseText=un.prototype.oa,un.prototype.send=un.prototype.ea,un.prototype.setWithCredentials=un.prototype.Ha,KV=un}).apply(typeof xy<"u"?xy:typeof self<"u"?self:typeof window<"u"?window:{});const _2="@firebase/firestore";let lr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");let kf="10.14.0";const Ml=new fS("@firebase/firestore");function Dd(){return Ml.logLevel}function VK(t){Ml.setLogLevel(t)}function _e(t,...e){if(Ml.logLevel<=Et.DEBUG){const n=e.map(mS);Ml.debug(`Firestore (${kf}): ${t}`,...n)}}function On(t,...e){if(Ml.logLevel<=Et.ERROR){const n=e.map(mS);Ml.error(`Firestore (${kf}): ${t}`,...n)}}function Vi(t,...e){if(Ml.logLevel<=Et.WARN){const n=e.map(mS);Ml.warn(`Firestore (${kf}): ${t}`,...n)}}function mS(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Ve(t="Unexpected state"){const e=`FIRESTORE (${kf}) INTERNAL ASSERTION FAILED: `+t;throw On(e),new Error(e)}function $e(t,e){t||Ve()}function FK(t,e){t||Ve()}function ke(t,e){return t}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Ia{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ur{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class JV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(lr.UNAUTHENTICATED)))}shutdown(){}}class BK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zK{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ur,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ur)}}),0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new JV(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new lr(e)}}class UK{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $K{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new UK(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(lr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class e3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qK{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){$e(this.o===void 0);const r=s=>{s.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,_e("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>r(s)))};const i=s=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string"),this.R=n.token,new e3(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}class WK{getToken(){return Promise.resolve(new e3(""))}invalidateToken(){}start(e,n){}shutdown(){}}function HK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class pS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=HK(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ot(t,e){return t<e?-1:t>e?1:0}function sf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function t3(t){return t+"\0"}class jt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new we(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new jt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ot(this.nanoseconds,e.nanoseconds):ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Xe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new jt(0,0))}static max(){return new Xe(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Im{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ve(),r===void 0?r=e.length-n:r>e.length-n&&Ve(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Im.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Im?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),a=n.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Tt extends Im{construct(e,n,r){return new Tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Tt(n)}static emptyPath(){return new Tt([])}}const KK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cn extends Im{construct(e,n,r){return new cn(e,n,r)}static isValidIdentifier(e){return KK.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new cn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new we(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new we(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new we(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new we(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cn(n)}static emptyPath(){return new cn([])}}class Re{constructor(e){this.path=e}static fromPath(e){return new Re(Tt.fromString(e))}static fromName(e){return new Re(Tt.fromString(e).popFirst(5))}static empty(){return new Re(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new Tt(e.slice()))}}class af{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function hT(t){return t.fields.find((e=>e.kind===2))}function Dc(t){return t.fields.filter((e=>e.kind!==2))}function GK(t,e){let n=ot(t.collectionGroup,e.collectionGroup);if(n!==0)return n;for(let r=0;r<Math.min(t.fields.length,e.fields.length);++r)if(n=XK(t.fields[r],e.fields[r]),n!==0)return n;return ot(t.fields.length,e.fields.length)}af.UNKNOWN_ID=-1;class Zc{constructor(e,n){this.fieldPath=e,this.kind=n}}function XK(t,e){const n=cn.comparator(t.fieldPath,e.fieldPath);return n!==0?n:ot(t.kind,e.kind)}class of{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new of(0,Fi.min())}}function n3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new jt(n+1,0):new jt(n,r));return new Fi(i,Re.empty(),e)}function r3(t){return new Fi(t.readTime,t.key,-1)}class Fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fi(Xe.min(),Re.empty(),-1)}static max(){return new Fi(Xe.max(),Re.empty(),-1)}}function gS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Re.comparator(t.documentKey,e.documentKey),n!==0?n:ot(t.largestBatchId,e.largestBatchId))}const i3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Yl(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==i3)throw t;_e("LocalStore","Unexpectedly lost primary lease")}class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce(((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ce.reject(n)}static resolve(e){return new ce(((n,r)=>{n(e)}))}static reject(e){return new ce(((n,r)=>{r(e)}))}static waitFor(e){return new ce(((n,r)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&n()}),(l=>r(l)))})),a=!0,s===i&&n()}))}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next((i=>i?ce.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,s)=>{r.push(n.call(this,i,s))})),this.waitFor(r)}static mapArray(e,n){return new ce(((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const d=l;n(e[d]).next((f=>{a[d]=f,++o,o===s&&r(a)}),(f=>i(f)))}}))}static doWhile(e,n){return new ce(((r,i)=>{const s=()=>{e()===!0?n().next((()=>{s()}),i):r()};s()}))}}class ix{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new ur,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new mm(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=yS(r.target.error);this.V.reject(new mm(e,i))}}static open(e,n,r,i){try{return new ix(n,e.transaction(i,r))}catch(s){throw new mm(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(_e("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new QK(n)}}class xa{constructor(e,n,r){this.name=e,this.version=n,this.p=r,xa.S(Qn())===12.2&&On("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return _e("SimpleDb","Removing database:",e),Bc(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!BV())return!1;if(xa.v())return!0;const e=Qn(),n=xa.S(e),r=0<n&&n<10,i=a3(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(_e("SimpleDb","Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const a=s.target.result;n(a)},i.onblocked=()=>{r(new mm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const a=s.target.error;a.name==="VersionError"?r(new we(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new we(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new mm(e,a))},i.onupgradeneeded=s=>{_e("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const a=s.target.result;this.p.O(a,i.transaction,s.oldVersion,this.version).next((()=>{_e("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const o=ix.open(this.db,e,s?"readonly":"readwrite",r),l=i(o).next((d=>(o.g(),d))).catch((d=>(o.abort(d),ce.reject(d)))).toPromise();return l.catch((()=>{})),await o.m,l}catch(o){const l=o,d=l.name!=="FirebaseError"&&a<3;if(_e("SimpleDb","Transaction failed with error:",l.message,"Retrying:",d),this.close(),!d)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function a3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class YK{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return Bc(this.B.delete())}}class mm extends we{constructor(e,n){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ql(t){return t.name==="IndexedDbTransactionError"}class QK{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(_e("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(_e("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Bc(r)}add(e){return _e("SimpleDb","ADD",this.store.name,e,e),Bc(this.store.add(e))}get(e){return Bc(this.store.get(e)).next((n=>(n===void 0&&(n=null),_e("SimpleDb","GET",this.store.name,e,n),n)))}delete(e){return _e("SimpleDb","DELETE",this.store.name,e),Bc(this.store.delete(e))}count(){return _e("SimpleDb","COUNT",this.store.name),Bc(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new ce(((a,o)=>{s.onerror=l=>{o(l.target.error)},s.onsuccess=l=>{a(l.target.result)}}))}{const s=this.cursor(r),a=[];return this.W(s,((o,l)=>{a.push(l)})).next((()=>a))}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new ce(((i,s)=>{r.onerror=a=>{s(a.target.error)},r.onsuccess=a=>{i(a.target.result)}}))}j(e,n){_e("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,((s,a,o)=>o.delete()))}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new ce(((r,i)=>{n.onerror=s=>{const a=yS(s.target.error);i(a)},n.onsuccess=s=>{const a=s.target.result;a?e(a.primaryKey,a.value).next((o=>{o?a.continue():r()})):r()}}))}W(e,n){const r=[];return new ce(((i,s)=>{e.onerror=a=>{s(a.target.error)},e.onsuccess=a=>{const o=a.target.result;if(!o)return void i();const l=new YK(o),d=n(o.primaryKey,o.value,l);if(d instanceof ce){const f=d.catch((m=>(l.done(),ce.reject(m))));r.push(f)}l.isDone?i():l.K===null?o.continue():o.continue(l.K)}})).next((()=>ce.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Bc(t){return new ce(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=yS(r.target.error);n(i)}}))}let E2=!1;function yS(t){const e=xa.S(Qn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new we("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return E2||(E2=!0,setTimeout((()=>{throw r}),0)),r}}return t}class JK{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){_e("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{_e("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Ql(n)?_e("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Yl(n)}await this.X(6e4)}))}}class ZK{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.te(n,e)))}te(e,n){const r=new Set;let i=n,s=!0;return ce.doWhile((()=>s===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((a=>{if(a!==null&&!r.has(a))return _e("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next((o=>{i-=o,r.add(a)}));s=!1})))).next((()=>n-i))}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((s=>{const a=s.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next((()=>this.re(i,s))).next((o=>(_e("IndexBackfiller",`Updating offset: ${o}`),this.localStore.indexManager.updateCollectionGroup(e,n,o)))).next((()=>a.size))}))))}re(e,n){let r=e;return n.changes.forEach(((i,s)=>{const a=r3(s);gS(a,r)>0&&(r=a)})),new Fi(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}class yi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yi.oe=-1;function hp(t){return t==null}function jm(t){return t===0&&1/t==-1/0}function o3(t){return typeof t=="number"&&Number.isInteger(t)&&!jm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Fr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=T2(e)),e=eG(t.get(n),e);return T2(e)}function eG(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function T2(t){return t+""}function ma(t){const e=t.length;if($e(e>=2),e===2)return $e(t.charAt(0)===""&&t.charAt(1)===""),Tt.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const a=t.indexOf("",s);switch((a<0||a>n)&&Ve(),t.charAt(a+1)){case"":const o=t.substring(s,a);let l;i.length===0?l=o:(i+=o,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,a),i+="\0";break;case"":i+=t.substring(s,a+1);break;default:Ve()}s=a+2}return new Tt(r)}const C2=["userId","batchId"];function ev(t,e){return[t,Fr(e)]}function l3(t,e,n){return[t,Fr(e),n]}const tG={},nG=["prefixPath","collectionGroup","readTime","documentId"],rG=["prefixPath","collectionGroup","documentId"],iG=["collectionGroup","readTime","prefixPath","documentId"],sG=["canonicalId","targetId"],aG=["targetId","path"],oG=["path","targetId"],lG=["collectionId","parent"],cG=["indexId","uid"],uG=["uid","sequenceNumber"],dG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fG=["indexId","uid","orderedDocumentKey"],hG=["userId","collectionPath","documentId"],mG=["userId","collectionPath","largestBatchId"],pG=["userId","collectionGroup","largestBatchId"],c3=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],gG=[...c3,"documentOverlays"],u3=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],d3=u3,vS=[...d3,"indexConfiguration","indexState","indexEntries"],yG=vS,vG=[...vS,"globals"];class mT extends s3{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Jn(t,e){const n=ke(t);return xa.F(n._e,e)}function S2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Jl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function f3(t,e){const n=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.push(e(t[r],r,t));return n}function h3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class nn{constructor(e,n){this.comparator=e,this.root=n||Tr.EMPTY}insert(e,n){return new nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tr.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new by(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new by(this.root,e,this.comparator,!1)}getReverseIterator(){return new by(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new by(this.root,e,this.comparator,!0)}}class by{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Tr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Tr.RED,this.left=i??Tr.EMPTY,this.right=s??Tr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Tr(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Tr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Tr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}Tr.EMPTY=null,Tr.RED=!0,Tr.BLACK=!1;Tr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Tr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Kt{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P2(this.data.getIterator())}getIteratorFrom(e){return new P2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class P2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ed(t){return t.hasNext()?t.getNext():void 0}class vi{constructor(e){this.fields=e,e.sort(cn.comparator)}static empty(){return new vi([])}unionWith(e){let n=new Kt(cn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return sf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}class m3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}function xG(){return typeof atob<"u"}class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new m3("Invalid base64 string: "+s):s}})(e);return new En(n)}static fromUint8Array(e){const n=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const bG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function co(t){if($e(!!t),typeof t=="string"){let e=0;const n=bG.exec(t);if($e(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:hn(t.seconds),nanos:hn(t.nanos)}}function hn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function uo(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}function sx(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ax(t){const e=t.mapValue.fields.__previous_value__;return sx(e)?ax(e):e}function km(t){const e=co(t.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}class wG{constructor(e,n,r,i,s,a,o,l,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=d}}class Ll{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ll&&e.projectId===this.projectId&&e.database===this.database}}const El={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},tv={nullValue:"NULL_VALUE"};function Vl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sx(t)?4:p3(t)?9007199254740991:ox(t)?10:11:Ve()}function Ta(t,e){if(t===e)return!0;const n=Vl(t);if(n!==Vl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return km(t).isEqual(km(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=co(i.timestampValue),o=co(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return uo(i.bytesValue).isEqual(uo(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return hn(i.geoPointValue.latitude)===hn(s.geoPointValue.latitude)&&hn(i.geoPointValue.longitude)===hn(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return hn(i.integerValue)===hn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=hn(i.doubleValue),o=hn(s.doubleValue);return a===o?jm(a)===jm(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return sf(t.arrayValue.values||[],e.arrayValue.values||[],Ta);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(S2(a)!==S2(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Ta(a[l],o[l])))return!1;return!0})(t,e);default:return Ve()}}function Rm(t,e){return(t.values||[]).find((n=>Ta(n,e)))!==void 0}function Fl(t,e){if(t===e)return 0;const n=Vl(t),r=Vl(e);if(n!==r)return ot(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ot(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=hn(s.integerValue||s.doubleValue),l=hn(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return A2(t.timestampValue,e.timestampValue);case 4:return A2(km(t),km(e));case 5:return ot(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=uo(s),l=uo(a);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let d=0;d<o.length&&d<l.length;d++){const f=ot(o[d],l[d]);if(f!==0)return f}return ot(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=ot(hn(s.latitude),hn(a.latitude));return o!==0?o:ot(hn(s.longitude),hn(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return N2(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var o,l,d,f;const m=s.fields||{},p=a.fields||{},y=(o=m.value)===null||o===void 0?void 0:o.arrayValue,v=(l=p.value)===null||l===void 0?void 0:l.arrayValue,w=ot(((d=y?.values)===null||d===void 0?void 0:d.length)||0,((f=v?.values)===null||f===void 0?void 0:f.length)||0);return w!==0?w:N2(y,v)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===El.mapValue&&a===El.mapValue)return 0;if(s===El.mapValue)return 1;if(a===El.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),d=a.fields||{},f=Object.keys(d);l.sort(),f.sort();for(let m=0;m<l.length&&m<f.length;++m){const p=ot(l[m],f[m]);if(p!==0)return p;const y=Fl(o[l[m]],d[f[m]]);if(y!==0)return y}return ot(l.length,f.length)})(t.mapValue,e.mapValue);default:throw Ve()}}function A2(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ot(t,e);const n=co(t),r=co(e),i=ot(n.seconds,r.seconds);return i!==0?i:ot(n.nanos,r.nanos)}function N2(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Fl(n[i],r[i]);if(s)return s}return ot(n.length,r.length)}function lf(t){return pT(t)}function pT(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=co(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return uo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Re.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=pT(s);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${pT(n.fields[a])}`;return i+"}"})(t.mapValue):Ve()}function nv(t){switch(Vl(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ax(t);return e?16+nv(e):16;case 5:return 2*t.stringValue.length;case 6:return uo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,s)=>i+nv(s)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Jl(r.fields,((s,a)=>{i+=s.length+nv(a)})),i})(t.mapValue);default:throw Ve()}}function ou(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function gT(t){return!!t&&"integerValue"in t}function Dm(t){return!!t&&"arrayValue"in t}function I2(t){return!!t&&"nullValue"in t}function j2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rv(t){return!!t&&"mapValue"in t}function ox(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function pm(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Jl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=pm(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pm(t.arrayValue.values[n]);return e}return Object.assign({},t)}function p3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const g3={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function _G(t){return"nullValue"in t?tv:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?ou(Ll.empty(),Re.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?ox(t)?g3:{mapValue:{}}:Ve()}function EG(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?ou(Ll.empty(),Re.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?g3:"mapValue"in t?ox(t)?{mapValue:{}}:El:Ve()}function k2(t,e){const n=Fl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function R2(t,e){const n=Fl(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class Cr{constructor(e){this.value=e}static empty(){return new Cr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rv(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pm(n)}setAll(e){let n=cn.emptyPath(),r={},i=[];e.forEach(((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=pm(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rv(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ta(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rv(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Jl(n,((i,s)=>e[i]=s));for(const i of r)delete e[i]}clone(){return new Cr(pm(this.value))}}function y3(t){const e=[];return Jl(t.fields,((n,r)=>{const i=new cn([n]);if(rv(r)){const s=y3(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new vi(e)}class ln{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new ln(e,0,Xe.min(),Xe.min(),Xe.min(),Cr.empty(),0)}static newFoundDocument(e,n,r,i){return new ln(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new ln(e,2,n,Xe.min(),Xe.min(),Cr.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,Xe.min(),Xe.min(),Cr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bl{constructor(e,n){this.position=e,this.inclusive=n}}function D2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=Re.comparator(Re.fromName(a.referenceValue),n.key):r=Fl(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function O2(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ta(t.position[n],e.position[n]))return!1;return!0}class Om{constructor(e,n="asc"){this.field=e,this.dir=n}}function TG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class v3{}class Ct extends v3{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CG(e,n,r):n==="array-contains"?new AG(e,r):n==="in"?new T3(e,r):n==="not-in"?new NG(e,r):n==="array-contains-any"?new IG(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SG(e,r):new PG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fl(n,this.value)):n!==null&&Vl(this.value)===Vl(n)&&this.matchesComparison(Fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ht extends v3{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ht(e,n)}matches(e){return cf(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function cf(t){return t.op==="and"}function yT(t){return t.op==="or"}function xS(t){return x3(t)&&cf(t)}function x3(t){for(const e of t.filters)if(e instanceof Ht)return!1;return!0}function vT(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+lf(t.value);if(xS(t))return t.filters.map((e=>vT(e))).join(",");{const e=t.filters.map((n=>vT(n))).join(",");return`${t.op}(${e})`}}function b3(t,e){return t instanceof Ct?(function(r,i){return i instanceof Ct&&r.op===i.op&&r.field.isEqual(i.field)&&Ta(r.value,i.value)})(t,e):t instanceof Ht?(function(r,i){return i instanceof Ht&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((s,a,o)=>s&&b3(a,i.filters[o])),!0):!1})(t,e):void Ve()}function w3(t,e){const n=t.filters.concat(e);return Ht.create(n,t.op)}function _3(t){return t instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${lf(n.value)}`})(t):t instanceof Ht?(function(n){return n.op.toString()+" {"+n.getFilters().map(_3).join(" ,")+"}"})(t):"Filter"}class CG extends Ct{constructor(e,n,r){super(e,n,r),this.key=Re.fromName(r.referenceValue)}matches(e){const n=Re.comparator(e.key,this.key);return this.matchesComparison(n)}}class SG extends Ct{constructor(e,n){super(e,"in",n),this.keys=E3("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class PG extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=E3("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function E3(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>Re.fromName(r.referenceValue)))}class AG extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dm(n)&&Rm(n.arrayValue,this.value)}}class T3 extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rm(this.value.arrayValue,n)}}class NG extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rm(this.value.arrayValue,n)}}class IG extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Rm(this.value.arrayValue,r)))}}class jG{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function xT(t,e=null,n=[],r=[],i=null,s=null,a=null){return new jG(t,e,n,r,i,s,a)}function lu(t){const e=ke(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>vT(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(s){return s.field.canonicalString()+s.dir})(r))).join(","),hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>lf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>lf(r))).join(",")),e.ue=n}return e.ue}function mp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!b3(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!O2(t.startAt,e.startAt)&&O2(t.endAt,e.endAt)}function Iv(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function jv(t,e){return t.filters.filter((n=>n instanceof Ct&&n.field.isEqual(e)))}function M2(t,e,n){let r=tv,i=!0;for(const s of jv(t,e)){let a=tv,o=!0;switch(s.op){case"<":case"<=":a=_G(s.value);break;case"==":case"in":case">=":a=s.value;break;case">":a=s.value,o=!1;break;case"!=":case"not-in":a=tv}k2({value:r,inclusive:i},{value:a,inclusive:o})<0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];k2({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function L2(t,e,n){let r=El,i=!0;for(const s of jv(t,e)){let a=El,o=!0;switch(s.op){case">=":case">":a=EG(s.value),o=!1;break;case"==":case"in":case"<=":a=s.value;break;case"<":a=s.value,o=!1;break;case"!=":case"not-in":a=El}R2({value:r,inclusive:i},{value:a,inclusive:o})>0&&(r=a,i=o)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const a=n.position[s];R2({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}class _o{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function C3(t,e,n,r,i,s,a,o){return new _o(t,e,n,r,i,s,a,o)}function Rf(t){return new _o(t)}function V2(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bS(t){return t.collectionGroup!==null}function Xd(t){const e=ke(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Kt(cn.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((d=>{d.isInequality()&&(o=o.add(d.field))}))})),o})(e).forEach((s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Om(s,r))})),n.has(cn.keyField().canonicalString())||e.ce.push(new Om(cn.keyField(),r))}return e.ce}function Br(t){const e=ke(t);return e.le||(e.le=P3(e,Xd(t))),e.le}function S3(t){const e=ke(t);return e.he||(e.he=P3(e,t.explicitOrderBy)),e.he}function P3(t,e){if(t.limitType==="F")return xT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new Om(i.field,s)}));const n=t.endAt?new Bl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bl(t.startAt.position,t.startAt.inclusive):null;return xT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bT(t,e){const n=t.filters.concat([e]);return new _o(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kv(t,e,n){return new _o(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pp(t,e){return mp(Br(t),Br(e))&&t.limitType===e.limitType}function A3(t){return`${lu(Br(t))}|lt:${t.limitType}`}function Od(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>_3(i))).join(", ")}]`),hp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>lf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>lf(i))).join(",")),`Target(${r})`})(Br(t))}; limitType=${t.limitType})`}function gp(t,e){return e.isFoundDocument()&&(function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Re.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)})(t,e)&&(function(r,i){for(const s of Xd(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(a,o,l){const d=D2(a,o,l);return a.inclusive?d<=0:d<0})(r.startAt,Xd(r),i)||r.endAt&&!(function(a,o,l){const d=D2(a,o,l);return a.inclusive?d>=0:d>0})(r.endAt,Xd(r),i))})(t,e)}function N3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function I3(t){return(e,n)=>{let r=!1;for(const i of Xd(t)){const s=kG(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function kG(t,e,n){const r=t.field.isKeyField()?Re.comparator(e.key,n.key):(function(s,a,o){const l=a.data.field(s),d=o.data.field(s);return l!==null&&d!==null?Fl(l,d):Ve()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ve()}}class Eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Jl(this.inner,((n,r)=>{for(const[i,s]of r)e(i,s)}))}isEmpty(){return h3(this.inner)}size(){return this.innerSize}}const RG=new nn(Re.comparator);function xi(){return RG}const j3=new nn(Re.comparator);function om(...t){let e=j3;for(const n of t)e=e.insert(n.key,n);return e}function k3(t){let e=j3;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function pa(){return gm()}function R3(){return gm()}function gm(){return new Eo((t=>t.toString()),((t,e)=>t.isEqual(e)))}const DG=new nn(Re.comparator),OG=new Kt(Re.comparator);function ft(...t){let e=OG;for(const n of t)e=e.add(n);return e}const MG=new Kt(ot);function wS(){return MG}function _S(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jm(e)?"-0":e}}function D3(t){return{integerValue:""+t}}function O3(t,e){return o3(e)?D3(e):_S(t,e)}class lx{constructor(){this._=void 0}}function LG(t,e,n){return t instanceof uf?(function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sx(s)&&(s=ax(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}})(n,e):t instanceof cu?L3(t,e):t instanceof uu?V3(t,e):(function(i,s){const a=M3(i,s),o=F2(a)+F2(i.Pe);return gT(a)&&gT(i.Pe)?D3(o):_S(i.serializer,o)})(t,e)}function VG(t,e,n){return t instanceof cu?L3(t,e):t instanceof uu?V3(t,e):n}function M3(t,e){return t instanceof df?(function(r){return gT(r)||(function(s){return!!s&&"doubleValue"in s})(r)})(e)?e:{integerValue:0}:null}class uf extends lx{}class cu extends lx{constructor(e){super(),this.elements=e}}function L3(t,e){const n=F3(e);for(const r of t.elements)n.some((i=>Ta(i,r)))||n.push(r);return{arrayValue:{values:n}}}class uu extends lx{constructor(e){super(),this.elements=e}}function V3(t,e){let n=F3(e);for(const r of t.elements)n=n.filter((i=>!Ta(i,r)));return{arrayValue:{values:n}}}class df extends lx{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function F2(t){return hn(t.integerValue||t.doubleValue)}function F3(t){return Dm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class yp{constructor(e,n){this.field=e,this.transform=n}}function FG(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof cu&&i instanceof cu||r instanceof uu&&i instanceof uu?sf(r.elements,i.elements,Ta):r instanceof df&&i instanceof df?Ta(r.Pe,i.Pe):r instanceof uf&&i instanceof uf})(t.transform,e.transform)}class BG{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iv(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class cx{}function B3(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Of(t.key,mn.none()):new Df(t.key,t.data,mn.none());{const n=t.data,r=Cr.empty();let i=new Kt(cn.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new To(t.key,r,new vi(i.toArray()),mn.none())}}function zG(t,e,n){t instanceof Df?(function(i,s,a){const o=i.value.clone(),l=z2(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,n):t instanceof To?(function(i,s,a){if(!iv(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=z2(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(z3(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,n):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,n)}function ym(t,e,n,r){return t instanceof Df?(function(s,a,o,l){if(!iv(s.precondition,a))return o;const d=s.value.clone(),f=U2(s.fieldTransforms,l,a);return d.setAll(f),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof To?(function(s,a,o,l){if(!iv(s.precondition,a))return o;const d=U2(s.fieldTransforms,l,a),f=a.data;return f.setAll(z3(s)),f.setAll(d),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(s,a,o){return iv(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,n)}function UG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=M3(r.transform,i||null);s!=null&&(n===null&&(n=Cr.empty()),n.set(r.field,s))}return n||null}function B2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sf(r,i,((s,a)=>FG(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Df extends cx{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class To extends cx{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function z3(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function z2(t,e,n){const r=new Map;$e(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,VG(a,o,n[i]))}return r}function U2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,LG(s,a,e))}return r}class Of extends cx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ES extends cx{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class TS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zG(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ym(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ym(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=R3();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=B3(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ft())}isEqual(e){return this.batchId===e.batchId&&sf(this.mutations,e.mutations,((n,r)=>B2(n,r)))&&sf(this.baseMutations,e.baseMutations,((n,r)=>B2(n,r)))}}class CS{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$e(e.mutations.length===r.length);let i=(function(){return DG})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new CS(e,n,r,i)}}class SS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class U3{constructor(e,n,r){this.alias=e,this.aggregateType=n,this.fieldPath=r}}class $G{constructor(e,n){this.count=e,this.unchangedNames=n}}var Fn,Nt;function $3(t){switch(t){default:return Ve();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function q3(t){if(t===void 0)return On("GRPC error has no .code"),ge.UNKNOWN;switch(t){case Fn.OK:return ge.OK;case Fn.CANCELLED:return ge.CANCELLED;case Fn.UNKNOWN:return ge.UNKNOWN;case Fn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Fn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Fn.INTERNAL:return ge.INTERNAL;case Fn.UNAVAILABLE:return ge.UNAVAILABLE;case Fn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Fn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Fn.NOT_FOUND:return ge.NOT_FOUND;case Fn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Fn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Fn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Fn.ABORTED:return ge.ABORTED;case Fn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Fn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Fn.DATA_LOSS:return ge.DATA_LOSS;default:return Ve()}}(Nt=Fn||(Fn={}))[Nt.OK=0]="OK",Nt[Nt.CANCELLED=1]="CANCELLED",Nt[Nt.UNKNOWN=2]="UNKNOWN",Nt[Nt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Nt[Nt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Nt[Nt.NOT_FOUND=5]="NOT_FOUND",Nt[Nt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Nt[Nt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Nt[Nt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Nt[Nt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Nt[Nt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Nt[Nt.ABORTED=10]="ABORTED",Nt[Nt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Nt[Nt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Nt[Nt.INTERNAL=13]="INTERNAL",Nt[Nt.UNAVAILABLE=14]="UNAVAILABLE",Nt[Nt.DATA_LOSS=15]="DATA_LOSS";let Rv=null;function W3(){return new TextEncoder}const qG=new Jc([4294967295,4294967295],0);function $2(t){const e=W3().encode(t),n=new HV;return n.update(e),new Uint8Array(n.digest())}function q2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jc([n,r],0),new Jc([i,s],0)]}class PS{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new lm(`Invalid padding: ${n}`);if(r<0)throw new lm(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new lm(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new lm(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Jc.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Jc.fromNumber(r)));return i.compare(qG)===1&&(i=new Jc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=$2(e),[r,i]=q2(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new PS(s,i,n);return r.forEach((o=>a.insert(o))),a}insert(e){if(this.Ie===0)return;const n=$2(e),[r,i]=q2(n);for(let s=0;s<this.hashCount;s++){const a=this.Ee(r,i,s);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class lm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class vp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,xp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new vp(Xe.min(),i,new nn(ot),xi(),ft())}}class xp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new xp(r,n,ft(),ft(),ft())}}class sv{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class H3{constructor(e,n){this.targetId=e,this.me=n}}class K3{constructor(e,n,r=En.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class W2{constructor(){this.fe=0,this.ge=K2(),this.pe=En.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ft(),n=ft(),r=ft();return this.ge.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ve()}})),new xp(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=K2()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,$e(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class WG{constructor(e){this.Le=e,this.Be=new Map,this.ke=xi(),this.qe=H2(),this.Qe=new nn(ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ve()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(Iv(s))if(r===0){const a=new Re(s.path);this.Ue(n,a,ln.newNoDocument(a,Xe.min()))}else $e(r===1);else{const a=this.Ye(n);if(a!==r){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}Rv?.et((function(f,m,p,y,v){var w,_,T,L,O,z;const j={localCacheCount:f,existenceFilterCount:m.count,databaseId:p.database,projectId:p.projectId},P=m.unchangedNames;return P&&(j.bloomFilter={applied:v===0,hashCount:(w=P?.hashCount)!==null&&w!==void 0?w:0,bitmapLength:(L=(T=(_=P?.bits)===null||_===void 0?void 0:_.bitmap)===null||T===void 0?void 0:T.length)!==null&&L!==void 0?L:0,padding:(z=(O=P?.bits)===null||O===void 0?void 0:O.padding)!==null&&z!==void 0?z:0,mightContain:C=>{var S;return(S=y?.mightContain(C))!==null&&S!==void 0&&S}}),j})(a,e.me,this.Le.tt(),o,l))}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=uo(r).toUint8Array()}catch(l){if(l instanceof m3)return Vi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new PS(a,i,s)}catch(l){return Vi(l instanceof lm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(n,s,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((s,a)=>{const o=this.Je(a);if(o){if(s.current&&Iv(o.target)){const l=new Re(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,ln.newNoDocument(l,e))}s.be&&(n.set(a,s.ve()),s.Ce())}}));let r=ft();this.qe.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(r=r.add(s))})),this.ke.forEach(((s,a)=>a.setReadTime(e)));const i=new vp(e,n,this.Qe,this.ke,r);return this.ke=xi(),this.qe=H2(),this.Qe=new nn(ot),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new W2,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Kt(ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||_e("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new W2),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function H2(){return new nn(Re.comparator)}function K2(){return new nn(Re.comparator)}const HG={asc:"ASCENDING",desc:"DESCENDING"},KG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GG={and:"AND",or:"OR"};class XG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wT(t,e){return t.useProto3Json||hp(e)?e:{value:e}}function ff(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function G3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YG(t,e){return ff(t,e.toTimestamp())}function Mn(t){return $e(!!t),Xe.fromTimestamp((function(n){const r=co(n);return new jt(r.seconds,r.nanos)})(t))}function AS(t,e){return _T(t,e).canonicalString()}function _T(t,e){const n=(function(i){return new Tt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function X3(t){const e=Tt.fromString(t);return $e(sF(e)),e}function Mm(t,e){return AS(t.databaseId,e.path)}function ba(t,e){const n=X3(e);if(n.get(1)!==t.databaseId.projectId)throw new we(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Re(J3(n))}function Y3(t,e){return AS(t.databaseId,e)}function Q3(t){const e=X3(t);return e.length===4?Tt.emptyPath():J3(e)}function ET(t){return new Tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function J3(t){return $e(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function G2(t,e,n){return{name:Mm(t,e),fields:n.value.mapValue.fields}}function Z3(t,e,n){const r=ba(t,e.name),i=Mn(e.updateTime),s=e.createTime?Mn(e.createTime):Xe.min(),a=new Cr({mapValue:{fields:e.fields}}),o=ln.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function QG(t,e){return"found"in e?(function(r,i){$e(!!i.found),i.found.name,i.found.updateTime;const s=ba(r,i.found.name),a=Mn(i.found.updateTime),o=i.found.createTime?Mn(i.found.createTime):Xe.min(),l=new Cr({mapValue:{fields:i.found.fields}});return ln.newFoundDocument(s,a,o,l)})(t,e):"missing"in e?(function(r,i){$e(!!i.missing),$e(!!i.readTime);const s=ba(r,i.missing),a=Mn(i.readTime);return ln.newNoDocument(s,a)})(t,e):Ve()}function JG(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ve()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(d,f){return d.useProto3Json?($e(f===void 0||typeof f=="string"),En.fromBase64String(f||"")):($e(f===void 0||f instanceof Buffer||f instanceof Uint8Array),En.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(d){const f=d.code===void 0?ge.UNKNOWN:q3(d.code);return new we(f,d.message||"")})(a);n=new K3(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ba(t,r.document.name),s=Mn(r.document.updateTime),a=r.document.createTime?Mn(r.document.createTime):Xe.min(),o=new Cr({mapValue:{fields:r.document.fields}}),l=ln.newFoundDocument(i,s,a,o),d=r.targetIds||[],f=r.removedTargetIds||[];n=new sv(d,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ba(t,r.document),s=r.readTime?Mn(r.readTime):Xe.min(),a=ln.newNoDocument(i,s),o=r.removedTargetIds||[];n=new sv([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ba(t,r.document),s=r.removedTargetIds||[];n=new sv([],s,i,null)}else{if(!("filter"in e))return Ve();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new $G(i,s),o=r.targetId;n=new H3(o,a)}}return n}function Lm(t,e){let n;if(e instanceof Df)n={update:G2(t,e.key,e.value)};else if(e instanceof Of)n={delete:Mm(t,e.key)};else if(e instanceof To)n={update:G2(t,e.key,e.data),updateMask:iX(e.fieldMask)};else{if(!(e instanceof ES))return Ve();n={verify:Mm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(s,a){const o=a.transform;if(o instanceof uf)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof cu)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof uu)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof df)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw Ve()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:YG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ve()})(t,e.precondition)),n}function TT(t,e){const n=e.currentDocument?(function(s){return s.updateTime!==void 0?mn.updateTime(Mn(s.updateTime)):s.exists!==void 0?mn.exists(s.exists):mn.none()})(e.currentDocument):mn.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(a,o){let l=null;if("setToServerValue"in o)$e(o.setToServerValue==="REQUEST_TIME"),l=new uf;else if("appendMissingElements"in o){const f=o.appendMissingElements.values||[];l=new cu(f)}else if("removeAllFromArray"in o){const f=o.removeAllFromArray.values||[];l=new uu(f)}else"increment"in o?l=new df(a,o.increment):Ve();const d=cn.fromServerFormat(o.fieldPath);return new yp(d,l)})(t,i))):[];if(e.update){e.update.name;const i=ba(t,e.update.name),s=new Cr({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=(function(l){const d=l.fieldPaths||[];return new vi(d.map((f=>cn.fromServerFormat(f))))})(e.updateMask);return new To(i,s,a,n,r)}return new Df(i,s,n,r)}if(e.delete){const i=ba(t,e.delete);return new Of(i,n)}if(e.verify){const i=ba(t,e.verify);return new ES(i,n)}return Ve()}function ZG(t,e){return t&&t.length>0?($e(e!==void 0),t.map((n=>(function(i,s){let a=i.updateTime?Mn(i.updateTime):Mn(s);return a.isEqual(Xe.min())&&(a=Mn(s)),new BG(a,i.transformResults||[])})(n,e)))):[]}function eF(t,e){return{documents:[Y3(t,e.path)]}}function ux(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Y3(t,i);const s=(function(d){if(d.length!==0)return iF(Ht.create(d,"and"))})(e.filters);s&&(n.structuredQuery.where=s);const a=(function(d){if(d.length!==0)return d.map((f=>(function(p){return{field:gl(p.field),direction:tX(p.dir)}})(f)))})(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=wT(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{_t:n,parent:i}}function tF(t,e,n,r){const{_t:i,parent:s}=ux(t,e),a={},o=[];let l=0;return n.forEach((d=>{const f=r?d.alias:"aggregate_"+l++;a[f]=d.alias,d.aggregateType==="count"?o.push({alias:f,count:{}}):d.aggregateType==="avg"?o.push({alias:f,avg:{field:gl(d.fieldPath)}}):d.aggregateType==="sum"&&o.push({alias:f,sum:{field:gl(d.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:i.structuredQuery},parent:i.parent},ut:a,parent:s}}function nF(t){let e=Q3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$e(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];n.where&&(s=(function(m){const p=rF(m);return p instanceof Ht&&xS(p)?p.getFilters():[p]})(n.where));let a=[];n.orderBy&&(a=(function(m){return m.map((p=>(function(v){return new Om(Md(v.field),(function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(v.direction))})(p)))})(n.orderBy));let o=null;n.limit&&(o=(function(m){let p;return p=typeof m=="object"?m.value:m,hp(p)?null:p})(n.limit));let l=null;n.startAt&&(l=(function(m){const p=!!m.before,y=m.values||[];return new Bl(y,p)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const p=!m.before,y=m.values||[];return new Bl(y,p)})(n.endAt)),C3(e,i,a,s,o,"F",l,d)}function eX(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rF(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Md(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Md(n.unaryFilter.field);return Ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Md(n.unaryFilter.field);return Ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Md(n.unaryFilter.field);return Ct.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}})(t):t.fieldFilter!==void 0?(function(n){return Ct.create(Md(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Ht.create(n.compositeFilter.filters.map((r=>rF(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ve()}})(n.compositeFilter.op))})(t):Ve()}function tX(t){return HG[t]}function nX(t){return KG[t]}function rX(t){return GG[t]}function gl(t){return{fieldPath:t.canonicalString()}}function Md(t){return cn.fromServerFormat(t.fieldPath)}function iF(t){return t instanceof Ct?(function(n){if(n.op==="=="){if(j2(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NAN"}};if(I2(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j2(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NAN"}};if(I2(n.value))return{unaryFilter:{field:gl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(n.field),op:nX(n.op),value:n.value}}})(t):t instanceof Ht?(function(n){const r=n.getFilters().map((i=>iF(i)));return r.length===1?r[0]:{compositeFilter:{op:rX(n.op),filters:r}}})(t):Ve()}function iX(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function sF(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}class Ja{constructor(e,n,r,i,s=Xe.min(),a=Xe.min(),o=En.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Ja(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ja(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aF{constructor(e){this.ct=e}}function sX(t,e){let n;if(e.document)n=Z3(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Re.fromSegments(e.noDocument.path),i=fu(e.noDocument.readTime);n=ln.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ve();{const r=Re.fromSegments(e.unknownDocument.path),i=fu(e.unknownDocument.version);n=ln.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const s=new jt(i[0],i[1]);return Xe.fromTimestamp(s)})(e.readTime)),n}function X2(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Dv(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(s,a){return{name:Mm(s,a.key),fields:a.data.value.mapValue.fields,updateTime:ff(s,a.version.toTimestamp()),createTime:ff(s,a.createTime.toTimestamp())}})(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:du(e.version)};else{if(!e.isUnknownDocument())return Ve();r.unknownDocument={path:n.path.toArray(),version:du(e.version)}}return r}function Dv(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function du(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function fu(t){const e=new jt(t.seconds,t.nanoseconds);return Xe.fromTimestamp(e)}function zc(t,e){const n=(e.baseMutations||[]).map((s=>TT(t.ct,s)));for(let s=0;s<e.mutations.length-1;++s){const a=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const o=e.mutations[s+1];a.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map((s=>TT(t.ct,s))),i=jt.fromMillis(e.localWriteTimeMs);return new TS(e.batchId,i,n,r)}function cm(t){const e=fu(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?fu(t.lastLimboFreeSnapshotVersion):Xe.min();let r;return r=(function(s){return s.documents!==void 0})(t.query)?(function(s){return $e(s.documents.length===1),Br(Rf(Q3(s.documents[0])))})(t.query):(function(s){return Br(nF(s))})(t.query),new Ja(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,En.fromBase64String(t.resumeToken))}function oF(t,e){const n=du(e.snapshotVersion),r=du(e.lastLimboFreeSnapshotVersion);let i;i=Iv(e.target)?eF(t.ct,e.target):ux(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:lu(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function NS(t){const e=nF({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kv(e,e.limit,"L"):e}function h1(t,e){return new SS(e.largestBatchId,TT(t.ct,e.overlayMutation))}function Y2(t,e){const n=e.path.lastSegment();return[t,Fr(e.path.popLast()),n]}function Q2(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:du(r.readTime),documentKey:Fr(r.documentKey.path),largestBatchId:r.largestBatchId}}class aX{getBundleMetadata(e,n){return J2(e).get(n).next((r=>{if(r)return(function(s){return{id:s.bundleId,createTime:fu(s.createTime),version:s.version}})(r)}))}saveBundleMetadata(e,n){return J2(e).put((function(i){return{bundleId:i.id,createTime:du(Mn(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return Z2(e).get(n).next((r=>{if(r)return(function(s){return{name:s.name,query:NS(s.bundledQuery),readTime:fu(s.readTime)}})(r)}))}saveNamedQuery(e,n){return Z2(e).put((function(i){return{name:i.name,readTime:du(Mn(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function J2(t){return Jn(t,"bundles")}function Z2(t){return Jn(t,"namedQueries")}class dx{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new dx(e,r)}getOverlay(e,n){return Vh(e).get(Y2(this.userId,n)).next((r=>r?h1(this.serializer,r):null))}getOverlays(e,n){const r=pa();return ce.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((s,a)=>{const o=new SS(n,a);i.push(this.ht(e,o))})),ce.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((a=>i.add(Fr(a.getCollectionPath()))));const s=[];return i.forEach((a=>{const o=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);s.push(Vh(e).j("collectionPathOverlayIndex",o))})),ce.waitFor(s)}getOverlaysForCollection(e,n,r){const i=pa(),s=Fr(n),a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Vh(e).U("collectionPathOverlayIndex",a).next((o=>{for(const l of o){const d=h1(this.serializer,l);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const s=pa();let a;const o=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Vh(e).J({index:"collectionGroupOverlayIndex",range:o},((l,d,f)=>{const m=h1(this.serializer,d);s.size()<i||m.largestBatchId===a?(s.set(m.getKey(),m),a=m.largestBatchId):f.done()})).next((()=>s))}ht(e,n){return Vh(e).put((function(i,s,a){const[o,l,d]=Y2(s,a.mutation.key);return{userId:s,collectionPath:l,documentId:d,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Lm(i.ct,a.mutation)}})(this.serializer,this.userId,n))}}function Vh(t){return Jn(t,"documentOverlays")}class oX{Pt(e){return Jn(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next((n=>{const r=n?.value;return r?En.fromUint8Array(r):En.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}class Uc{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(hn(e.integerValue));else if("doubleValue"in e){const r=hn(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),jm(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=co(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(uo(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?p3(e)?this.dt(n,Number.MAX_SAFE_INTEGER):ox(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Ve()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const s=e.fields||{};this.dt(n,53);const a="value",o=((i=(r=s[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(hn(o)),this.Vt(a,n),this.Tt(s[a],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Re.fromName(e).path.forEach((r=>{this.dt(n,60),this.Dt(r,n)}))}dt(e,n){e.At(n)}ft(e){e.At(2)}}Uc.vt=new Uc;function lX(t){if(t===0)return 8;let e=0;return t>>4==0&&(e+=4,t<<=4),t>>6==0&&(e+=2,t<<=2),t>>7==0&&(e+=1),e}function ek(t){const e=64-(function(r){let i=0;for(let s=0;s<8;++s){const a=lX(255&r[s]);if(i+=a,a!==8)break}return i})(t);return Math.ceil(e/8)}class cX{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=ek(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=ek(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=(function(s){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,s,!1),new Uint8Array(a.buffer)})(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class uX{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class dX{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Fh{constructor(){this.jt=new cX,this.Ht=new uX(this.jt),this.Jt=new dX(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class $c{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new $c(this.indexId,this.documentKey,this.arrayValue,r)}}function sl(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=tk(t.arrayValue,e.arrayValue),n!==0?n:(n=tk(t.directionalValue,e.directionalValue),n!==0?n:Re.comparator(t.documentKey,e.documentKey)))}function tk(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}class nk{constructor(e){this.Xt=new Kt(((n,r)=>cn.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if($e(e.collectionGroup===this.collectionId),this.nn)return!1;const n=hT(e);if(n!==void 0&&!this.sn(n))return!1;const r=Dc(e);let i=new Set,s=0,a=0;for(;s<r.length&&this.sn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Xt.size>0){const o=this.Xt.getIterator().getNext();if(!i.has(o.field.canonicalString())){const l=r[s];if(!this.on(o,l)||!this._n(this.en[a++],l))return!1}++s}for(;s<r.length;++s){const o=r[s];if(a>=this.en.length||!this._n(this.en[a++],o))return!1}return!0}an(){if(this.nn)return null;let e=new Kt(cn.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Zc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Zc(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Zc(r.field,r.dir==="asc"?0:1)));return new af(af.UNKNOWN_ID,this.collectionId,n,of.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}function lF(t){var e,n;if($e(t instanceof Ct||t instanceof Ht),t instanceof Ct){if(t instanceof T3){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map((s=>Ct.create(t.field,"==",s))))||[];return Ht.create(i,"or")}return t}const r=t.filters.map((i=>lF(i)));return Ht.create(r,t.op)}function fX(t){if(t.getFilters().length===0)return[];const e=PT(lF(t));return $e(cF(e)),CT(e)||ST(e)?[e]:e.getFilters()}function CT(t){return t instanceof Ct}function ST(t){return t instanceof Ht&&xS(t)}function cF(t){return CT(t)||ST(t)||(function(n){if(n instanceof Ht&&yT(n)){for(const r of n.getFilters())if(!CT(r)&&!ST(r))return!1;return!0}return!1})(t)}function PT(t){if($e(t instanceof Ct||t instanceof Ht),t instanceof Ct)return t;if(t.filters.length===1)return PT(t.filters[0]);const e=t.filters.map((r=>PT(r)));let n=Ht.create(e,t.op);return n=Ov(n),cF(n)?n:($e(n instanceof Ht),$e(cf(n)),$e(n.filters.length>1),n.filters.reduce(((r,i)=>IS(r,i))))}function IS(t,e){let n;return $e(t instanceof Ct||t instanceof Ht),$e(e instanceof Ct||e instanceof Ht),n=t instanceof Ct?e instanceof Ct?(function(i,s){return Ht.create([i,s],"and")})(t,e):rk(t,e):e instanceof Ct?rk(e,t):(function(i,s){if($e(i.filters.length>0&&s.filters.length>0),cf(i)&&cf(s))return w3(i,s.getFilters());const a=yT(i)?i:s,o=yT(i)?s:i,l=a.filters.map((d=>IS(d,o)));return Ht.create(l,"or")})(t,e),Ov(n)}function rk(t,e){if(cf(e))return w3(e,t.getFilters());{const n=e.filters.map((r=>IS(t,r)));return Ht.create(n,"or")}}function Ov(t){if($e(t instanceof Ct||t instanceof Ht),t instanceof Ct)return t;const e=t.getFilters();if(e.length===1)return Ov(e[0]);if(x3(t))return t;const n=e.map((i=>Ov(i))),r=[];return n.forEach((i=>{i instanceof Ct?r.push(i):i instanceof Ht&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:Ht.create(r,t.op)}class hX{constructor(){this.un=new jS}addToCollectionParentIndex(e,n){return this.un.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Fi.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class jS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kt(Tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(Tt.comparator)).toArray()}}const wy=new Uint8Array(0);class mX{constructor(e,n){this.databaseId=n,this.cn=new jS,this.ln=new Eo((r=>lu(r)),((r,i)=>mp(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.cn.add(n)}));const s={collectionId:r,parent:Fr(i)};return ik(e).put(s)}return ce.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[t3(n),""],!1,!0);return ik(e).U(i).next((s=>{for(const a of s){if(a.collectionId!==n)break;r.push(ma(a.parent))}return r}))}addFieldIndex(e,n){const r=Bh(e),i=(function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map((l=>[l.fieldPath.canonicalString(),l.kind]))}})(n);delete i.indexId;const s=r.add(i);if(n.indexState){const a=Cd(e);return s.next((o=>{a.put(Q2(o,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return s.next()}deleteFieldIndex(e,n){const r=Bh(e),i=Cd(e),s=Td(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=Bh(e),r=Td(e),i=Cd(e);return n.j().next((()=>r.j())).next((()=>i.j()))}createTargetIndexes(e,n){return ce.forEach(this.hn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const s=new nk(r).an();if(s!=null)return this.addFieldIndex(e,s)}}))))}getDocumentsMatchingTarget(e,n){const r=Td(e);let i=!0;const s=new Map;return ce.forEach(this.hn(n),(a=>this.Pn(e,a).next((o=>{i&&(i=!!o),s.set(a,o)})))).next((()=>{if(i){let a=ft();const o=[];return ce.forEach(s,((l,d)=>{_e("IndexedDbIndexManager",`Using index ${(function(O){return`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map((z=>`${z.fieldPath}:${z.kind}`)).join(",")}`})(l)} to execute ${lu(n)}`);const f=(function(O,z){const j=hT(z);if(j===void 0)return null;for(const P of jv(O,j.fieldPath))switch(P.op){case"array-contains-any":return P.value.arrayValue.values||[];case"array-contains":return[P.value]}return null})(d,l),m=(function(O,z){const j=new Map;for(const P of Dc(z))for(const C of jv(O,P.fieldPath))switch(C.op){case"==":case"in":j.set(P.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return j.set(P.fieldPath.canonicalString(),C.value),Array.from(j.values())}return null})(d,l),p=(function(O,z){const j=[];let P=!0;for(const C of Dc(z)){const S=C.kind===0?M2(O,C.fieldPath,O.startAt):L2(O,C.fieldPath,O.startAt);j.push(S.value),P&&(P=S.inclusive)}return new Bl(j,P)})(d,l),y=(function(O,z){const j=[];let P=!0;for(const C of Dc(z)){const S=C.kind===0?L2(O,C.fieldPath,O.endAt):M2(O,C.fieldPath,O.endAt);j.push(S.value),P&&(P=S.inclusive)}return new Bl(j,P)})(d,l),v=this.In(l,d,p),w=this.In(l,d,y),_=this.Tn(l,d,m),T=this.En(l.indexId,f,v,p.inclusive,w,y.inclusive,_);return ce.forEach(T,(L=>r.G(L,n.limit).next((O=>{O.forEach((z=>{const j=Re.fromSegments(z.documentKey);a.has(j)||(a=a.add(j),o.push(j))}))}))))})).next((()=>o))}return ce.resolve(null)}))}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=fX(Ht.create(e.filters,"and")).map((r=>xT(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.ln.set(e,n),n)}En(e,n,r,i,s,a,o){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),d=l/(n!=null?n.length:1),f=[];for(let m=0;m<l;++m){const p=n?this.dn(n[m/d]):wy,y=this.An(e,p,r[m%d],i),v=this.Rn(e,p,s[m%d],a),w=o.map((_=>this.An(e,p,_,!0)));f.push(...this.createRange(y,v,w))}return f}An(e,n,r,i){const s=new $c(e,Re.empty(),n,r);return i?s:s.Zt()}Rn(e,n,r,i){const s=new $c(e,Re.empty(),n,r);return i?s.Zt():s}Pn(e,n){const r=new nk(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((s=>{let a=null;for(const o of s)r.rn(o)&&(!a||o.fields.length>a.fields.length)&&(a=o);return a}))}getIndexType(e,n){let r=2;const i=this.hn(n);return ce.forEach(i,(s=>this.Pn(e,s).next((a=>{a?r!==0&&a.fields.length<(function(l){let d=new Kt(cn.comparator),f=!1;for(const m of l.filters)for(const p of m.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?f=!0:d=d.add(p.field));for(const m of l.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(f?1:0)})(s)&&(r=1):r=0})))).next((()=>(function(a){return a.limit!==null})(n)&&i.length>1&&r===2?1:r))}Vn(e,n){const r=new Fh;for(const i of Dc(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const a=r.Yt(i.kind);Uc.vt.It(s,a)}return r.zt()}dn(e){const n=new Fh;return Uc.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Fh;return Uc.vt.It(ou(this.databaseId,n),r.Yt((function(s){const a=Dc(s);return a.length===0?0:a[a.length-1].kind})(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Fh);let s=0;for(const a of Dc(e)){const o=r[s++];for(const l of i)if(this.fn(n,a.fieldPath)&&Dm(o))i=this.gn(i,a,o);else{const d=l.Yt(a.kind);Uc.vt.It(o,d)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],s=[];for(const a of r.arrayValue.values||[])for(const o of i){const l=new Fh;l.seed(o.zt()),Uc.vt.It(a,l.Yt(n.kind)),s.push(l)}return s}fn(e,n){return!!e.filters.find((r=>r instanceof Ct&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=Bh(e),i=Cd(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next((s=>{const a=[];return ce.forEach(s,(o=>i.get([o.indexId,this.uid]).next((l=>{a.push((function(f,m){const p=m?new of(m.sequenceNumber,new Fi(fu(m.readTime),new Re(ma(m.documentKey)),m.largestBatchId)):of.empty(),y=f.fields.map((([v,w])=>new Zc(cn.fromServerFormat(v),w)));return new af(f.indexId,f.collectionGroup,y,p)})(o,l))})))).next((()=>a))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ot(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=Bh(e),s=Cd(e);return this.yn(e).next((a=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next((o=>ce.forEach(o,(l=>s.put(Q2(l.indexId,this.uid,a,r))))))))}updateIndexEntries(e,n){const r=new Map;return ce.forEach(n,((i,s)=>{const a=r.get(i.collectionGroup);return(a?ce.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next((o=>(r.set(i.collectionGroup,o),ce.forEach(o,(l=>this.wn(e,i,l).next((d=>{const f=this.Sn(s,l);return d.isEqual(f)?ce.resolve():this.bn(e,s,l,d,f)})))))))}))}Dn(e,n,r,i){return Td(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return Td(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=Td(e);let s=new Kt(sl);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},((a,o)=>{s=s.add(new $c(r.indexId,n,o.arrayValue,o.directionalValue))})).next((()=>s))}Sn(e,n){let r=new Kt(sl);const i=this.Vn(n,e);if(i==null)return r;const s=hT(n);if(s!=null){const a=e.data.field(s.fieldPath);if(Dm(a))for(const o of a.arrayValue.values||[])r=r.add(new $c(n.indexId,e.key,this.dn(o),i))}else r=r.add(new $c(n.indexId,e.key,wy,i));return r}bn(e,n,r,i,s){_e("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return(function(l,d,f,m,p){const y=l.getIterator(),v=d.getIterator();let w=Ed(y),_=Ed(v);for(;w||_;){let T=!1,L=!1;if(w&&_){const O=f(w,_);O<0?L=!0:O>0&&(T=!0)}else w!=null?L=!0:T=!0;T?(m(_),_=Ed(v)):L?(p(w),w=Ed(y)):(w=Ed(y),_=Ed(v))}})(i,s,sl,(o=>{a.push(this.Dn(e,n,r,o))}),(o=>{a.push(this.vn(e,n,r,o))})),ce.waitFor(a)}yn(e){let n=1;return Cd(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,s)=>{s.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((a,o)=>sl(a,o))).filter(((a,o,l)=>!o||sl(a,l[o-1])!==0));const i=[];i.push(e);for(const a of r){const o=sl(a,e),l=sl(a,n);if(o===0)i[0]=e.Zt();else if(o>0&&l<0)i.push(a),i.push(a.Zt());else if(l>0)break}i.push(n);const s=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const o=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,wy,[]],l=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,wy,[]];s.push(IDBKeyRange.bound(o,l))}return s}Cn(e,n){return sl(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(sk)}getMinOffset(e,n){return ce.mapArray(this.hn(n),(r=>this.Pn(e,r).next((i=>i||Ve())))).next(sk)}}function ik(t){return Jn(t,"collectionParents")}function Td(t){return Jn(t,"indexEntries")}function Bh(t){return Jn(t,"indexConfiguration")}function Cd(t){return Jn(t,"indexState")}function sk(t){$e(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;gS(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Fi(e.readTime,e.documentKey,n)}const ak={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Lr{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Lr(e,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function uF(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.J({range:a},((f,m,p)=>(o++,p.delete())));s.push(l.next((()=>{$e(o===1)})));const d=[];for(const f of n.mutations){const m=l3(e,f.key.path,n.batchId);s.push(i.delete(m)),d.push(f.key)}return ce.waitFor(s).next((()=>d))}function Mv(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ve();e=t.noDocument}return JSON.stringify(e).length}Lr.DEFAULT_COLLECTION_PERCENTILE=10,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lr.DEFAULT=new Lr(41943040,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lr.DISABLED=new Lr(-1,0,0);class fx{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){$e(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new fx(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return al(e).J({index:"userMutationsIndex",range:r},((i,s,a)=>{n=!1,a.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const s=Ld(e),a=al(e);return a.add({}).next((o=>{$e(typeof o=="number");const l=new TS(o,n,r,i),d=(function(y,v,w){const _=w.baseMutations.map((L=>Lm(y.ct,L))),T=w.mutations.map((L=>Lm(y.ct,L)));return{userId:v,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:_,mutations:T}})(this.serializer,this.userId,l),f=[];let m=new Kt(((p,y)=>ot(p.canonicalString(),y.canonicalString())));for(const p of i){const y=l3(this.userId,p.key.path,o);m=m.add(p.key.path.popLast()),f.push(a.put(d)),f.push(s.put(y,tG))}return m.forEach((p=>{f.push(this.indexManager.addToCollectionParentIndex(e,p))})),e.addOnCommittedListener((()=>{this.Fn[o]=l.keys()})),ce.waitFor(f).next((()=>l))}))}lookupMutationBatch(e,n){return al(e).get(n).next((r=>r?($e(r.userId===this.userId),zc(this.serializer,r)):null))}Mn(e,n){return this.Fn[n]?ce.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return al(e).J({index:"userMutationsIndex",range:i},((a,o,l)=>{o.userId===this.userId&&($e(o.batchId>=r),s=zc(this.serializer,o)),l.done()})).next((()=>s))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return al(e).J({index:"userMutationsIndex",range:n,reverse:!0},((i,s,a)=>{r=s.batchId,a.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return al(e).U("userMutationsIndex",n).next((r=>r.map((i=>zc(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=ev(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ld(e).J({range:i},((a,o,l)=>{const[d,f,m]=a,p=ma(f);if(d===this.userId&&n.path.isEqual(p))return al(e).get(m).next((y=>{if(!y)throw Ve();$e(y.userId===this.userId),s.push(zc(this.serializer,y))}));l.done()})).next((()=>s))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(ot);const i=[];return n.forEach((s=>{const a=ev(this.userId,s.path),o=IDBKeyRange.lowerBound(a),l=Ld(e).J({range:o},((d,f,m)=>{const[p,y,v]=d,w=ma(y);p===this.userId&&s.path.isEqual(w)?r=r.add(v):m.done()}));i.push(l)})),ce.waitFor(i).next((()=>this.xn(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=ev(this.userId,r),a=IDBKeyRange.lowerBound(s);let o=new Kt(ot);return Ld(e).J({range:a},((l,d,f)=>{const[m,p,y]=l,v=ma(p);m===this.userId&&r.isPrefixOf(v)?v.length===i&&(o=o.add(y)):f.done()})).next((()=>this.xn(e,o)))}xn(e,n){const r=[],i=[];return n.forEach((s=>{i.push(al(e).get(s).next((a=>{if(a===null)throw Ve();$e(a.userId===this.userId),r.push(zc(this.serializer,a))})))})),ce.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return uF(e._e,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.On(n.batchId)})),ce.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return ce.resolve();const r=IDBKeyRange.lowerBound((function(a){return[a]})(this.userId)),i=[];return Ld(e).J({range:r},((s,a,o)=>{if(s[0]===this.userId){const l=ma(s[1]);i.push(l)}else o.done()})).next((()=>{$e(i.length===0)}))}))}containsKey(e,n){return dF(e,this.userId,n)}Nn(e){return fF(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function dF(t,e,n){const r=ev(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return Ld(t).J({range:s,H:!0},((o,l,d)=>{const[f,m,p]=o;f===e&&m===i&&(a=!0),d.done()})).next((()=>a))}function al(t){return Jn(t,"mutations")}function Ld(t){return Jn(t,"documentMutations")}function fF(t){return Jn(t,"mutationQueues")}class hu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new hu(0)}static kn(){return new hu(-1)}}class pX{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next((n=>{const r=new hu(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.qn(e).next((n=>Xe.fromTimestamp(new jt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.qn(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.qn(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i))))}addTargetData(e,n){return this.Kn(e,n).next((()=>this.qn(e).next((r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>Sd(e).delete(n.targetId))).next((()=>this.qn(e))).next((r=>($e(r.targetCount>0),r.targetCount-=1,this.Qn(e,r))))}removeTargets(e,n,r){let i=0;const s=[];return Sd(e).J(((a,o)=>{const l=cm(o);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))})).next((()=>ce.waitFor(s))).next((()=>i))}forEachTarget(e,n){return Sd(e).J(((r,i)=>{const s=cm(i);n(s)}))}qn(e){return ok(e).get("targetGlobalKey").next((n=>($e(n!==null),n)))}Qn(e,n){return ok(e).put("targetGlobalKey",n)}Kn(e,n){return Sd(e).put(oF(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next((n=>n.targetCount))}getTargetData(e,n){const r=lu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Sd(e).J({range:i,index:"queryTargetsIndex"},((a,o,l)=>{const d=cm(o);mp(n,d.target)&&(s=d,l.done())})).next((()=>s))}addMatchingKeys(e,n,r){const i=[],s=yl(e);return n.forEach((a=>{const o=Fr(a.path);i.push(s.put({targetId:r,path:o})),i.push(this.referenceDelegate.addReference(e,r,a))})),ce.waitFor(i)}removeMatchingKeys(e,n,r){const i=yl(e);return ce.forEach(n,(s=>{const a=Fr(s.path);return ce.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,s)])}))}removeMatchingKeysForTargetId(e,n){const r=yl(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=yl(e);let s=ft();return i.J({range:r,H:!0},((a,o,l)=>{const d=ma(a[1]),f=new Re(d);s=s.add(f)})).next((()=>s))}containsKey(e,n){const r=Fr(n.path),i=IDBKeyRange.bound([r],[t3(r)],!1,!0);let s=0;return yl(e).J({index:"documentTargetsIndex",H:!0,range:i},(([a,o],l,d)=>{a!==0&&(s++,d.done())})).next((()=>s>0))}ot(e,n){return Sd(e).get(n).next((r=>r?cm(r):null))}}function Sd(t){return Jn(t,"targets")}function ok(t){return Jn(t,"targetGlobal")}function yl(t){return Jn(t,"targetDocuments")}function lk([t,e],[n,r]){const i=ot(t,n);return i===0?ot(e,r):i}class gX{constructor(e){this.Un=e,this.buffer=new Kt(lk),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();lk(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hF{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){_e("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ql(n)?_e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Yl(n)}await this.Hn(3e5)}))}}class yX{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ce.resolve(yi.oe);const r=new gX(n);return this.Jn.forEachTarget(e,(i=>r.zn(i.sequenceNumber))).next((()=>this.Jn.Zn(e,(i=>r.zn(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(_e("LruGarbageCollector","Garbage collection skipped; disabled"),ce.resolve(ak)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(_e("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ak):this.Xn(e,n)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,s,a,o,l,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(_e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,o=Date.now(),this.removeTargets(e,r,n)))).next((m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),Dd()<=Et.DEBUG&&_e("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${m} documents in `+(d-l)+`ms
Total Duration: ${d-f}ms`),ce.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function mF(t,e){return new yX(t,e)}class vX{constructor(e,n){this.db=e,this.garbageCollector=mF(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}er(e){let n=0;return this.Zn(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,((r,i)=>n(i)))}addReference(e,n,r){return _y(e,r)}removeReference(e,n,r){return _y(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return _y(e,n)}nr(e,n){return(function(i,s){let a=!1;return fF(i).Y((o=>dF(i,o,s).next((l=>(l&&(a=!0),ce.resolve(!l)))))).next((()=>a))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.tr(e,((a,o)=>{if(o<=n){const l=this.nr(e,a).next((d=>{if(!d)return s++,r.getEntry(e,a).next((()=>(r.removeEntry(a,Xe.min()),yl(e).delete((function(m){return[0,Fr(m.path)]})(a)))))}));i.push(l)}})).next((()=>ce.waitFor(i))).next((()=>r.apply(e))).next((()=>s))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return _y(e,n)}tr(e,n){const r=yl(e);let i,s=yi.oe;return r.J({index:"documentTargetsIndex"},(([a,o],{path:l,sequenceNumber:d})=>{a===0?(s!==yi.oe&&n(new Re(ma(i)),s),s=d,i=l):s=yi.oe})).next((()=>{s!==yi.oe&&n(new Re(ma(i)),s)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function _y(t,e){return yl(t).put((function(r,i){return{targetId:0,path:Fr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}class pF{constructor(){this.changes=new Eo((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xX{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Nc(e).put(r)}removeEntry(e,n,r){return Nc(e).delete((function(s,a){const o=s.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],Dv(a),o[o.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.rr(e,r))))}getEntry(e,n){let r=ln.newInvalidDocument(n);return Nc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zh(n))},((i,s)=>{r=this.ir(n,s)})).next((()=>r))}sr(e,n){let r={size:0,document:ln.newInvalidDocument(n)};return Nc(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(zh(n))},((i,s)=>{r={document:this.ir(n,s),size:Mv(s)}})).next((()=>r))}getEntries(e,n){let r=xi();return this._r(e,n,((i,s)=>{const a=this.ir(i,s);r=r.insert(i,a)})).next((()=>r))}ar(e,n){let r=xi(),i=new nn(Re.comparator);return this._r(e,n,((s,a)=>{const o=this.ir(s,a);r=r.insert(s,o),i=i.insert(s,Mv(a))})).next((()=>({documents:r,ur:i})))}_r(e,n,r){if(n.isEmpty())return ce.resolve();let i=new Kt(dk);n.forEach((l=>i=i.add(l)));const s=IDBKeyRange.bound(zh(i.first()),zh(i.last())),a=i.getIterator();let o=a.getNext();return Nc(e).J({index:"documentKeyIndex",range:s},((l,d,f)=>{const m=Re.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;o&&dk(o,m)<0;)r(o,null),o=a.getNext();o&&o.isEqual(m)&&(r(o,d),o=a.hasNext()?a.getNext():null),o?f.$(zh(o)):f.done()})).next((()=>{for(;o;)r(o,null),o=a.hasNext()?a.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,s){const a=n.path,o=[a.popLast().toArray(),a.lastSegment(),Dv(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nc(e).U(IDBKeyRange.bound(o,l,!0)).next((d=>{s?.incrementDocumentReadCount(d.length);let f=xi();for(const m of d){const p=this.ir(Re.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);p.isFoundDocument()&&(gp(n,p)||i.has(p.key))&&(f=f.insert(p.key,p))}return f}))}getAllFromCollectionGroup(e,n,r,i){let s=xi();const a=uk(n,r),o=uk(n,Fi.max());return Nc(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,o,!0)},((l,d,f)=>{const m=this.ir(Re.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);s=s.insert(m.key,m),s.size===i&&f.done()})).next((()=>s))}newChangeBuffer(e){return new bX(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return ck(e).get("remoteDocumentGlobalKey").next((n=>($e(!!n),n)))}rr(e,n){return ck(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=sX(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Xe.min())))return r}return ln.newInvalidDocument(e)}}function gF(t){return new xX(t)}class bX extends pF{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Eo((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new Kt(((s,a)=>ot(s.canonicalString(),a.canonicalString())));return this.changes.forEach(((s,a)=>{const o=this.lr.get(s);if(n.push(this.cr.removeEntry(e,s,o.readTime)),a.isValidDocument()){const l=X2(this.cr.serializer,a);i=i.add(s.path.popLast());const d=Mv(l);r+=d-o.size,n.push(this.cr.addEntry(e,s,l))}else if(r-=o.size,this.trackRemovals){const l=X2(this.cr.serializer,a.convertToNoDocument(Xe.min()));n.push(this.cr.addEntry(e,s,l))}})),i.forEach((s=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,s))})),n.push(this.cr.updateMetadata(e,r)),ce.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next((r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.cr.ar(e,n).next((({documents:r,ur:i})=>(i.forEach(((s,a)=>{this.lr.set(s,{size:a,readTime:r.get(s).readTime})})),r)))}}function ck(t){return Jn(t,"remoteDocumentGlobal")}function Nc(t){return Jn(t,"remoteDocumentsV14")}function zh(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function uk(t,e){const n=e.documentKey.path.toArray();return[t,Dv(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function dk(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ot(n[s],r[s]),i)return i;return i=ot(n.length,r.length),i||(i=ot(n[n.length-2],r[r.length-2]),i||ot(n[n.length-1],r[r.length-1]))}class wX{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class yF{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&ym(r.mutation,i,vi.empty(),jt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ft()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ft()){const i=pa();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((s=>{let a=om();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,n){const r=pa();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ft())))}populateOverlays(e,n,r){const i=[];return r.forEach((s=>{n.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{n.set(a,o)}))}))}computeViews(e,n,r,i){let s=xi();const a=gm(),o=(function(){return gm()})();return n.forEach(((l,d)=>{const f=r.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof To)?s=s.insert(d.key,d):f!==void 0?(a.set(d.key,f.mutation.getFieldMask()),ym(f.mutation,d,f.mutation.getFieldMask(),jt.now())):a.set(d.key,vi.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((d,f)=>a.set(d,f))),n.forEach(((d,f)=>{var m;return o.set(d,new wX(f,(m=a.get(d))!==null&&m!==void 0?m:null))})),o)))}recalculateAndSaveOverlays(e,n){const r=gm();let i=new nn(((a,o)=>a-o)),s=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((a=>{for(const o of a)o.keys().forEach((l=>{const d=n.get(l);if(d===null)return;let f=r.get(l)||vi.empty();f=o.applyToLocalView(d,f),r.set(l,f);const m=(i.get(o.batchId)||ft()).add(l);i=i.insert(o.batchId,m)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),d=l.key,f=l.value,m=R3();f.forEach((p=>{if(!s.has(p)){const y=B3(n.get(p),r.get(p));y!==null&&m.set(p,y),s=s.add(p)}})),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return ce.waitFor(a)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(a){return Re.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):ce.resolve(pa());let o=-1,l=s;return a.next((d=>ce.forEach(d,((f,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),s.get(f)?ce.resolve():this.remoteDocumentCache.getEntry(e,f).next((p=>{l=l.insert(f,p)}))))).next((()=>this.populateOverlays(e,d,s))).next((()=>this.computeViews(e,l,d,ft()))).next((f=>({batchId:o,changes:k3(f)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Re(n)).next((r=>{let i=om();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=om();return this.indexManager.getCollectionParents(e,s).next((o=>ce.forEach(o,(l=>{const d=(function(m,p){return new _o(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((f=>{f.forEach(((m,p)=>{a=a.insert(m,p)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i)))).next((a=>{s.forEach(((l,d)=>{const f=d.getKey();a.get(f)===null&&(a=a.insert(f,ln.newInvalidDocument(f)))}));let o=om();return a.forEach(((l,d)=>{const f=s.get(l);f!==void 0&&ym(f.mutation,d,vi.empty(),jt.now()),gp(n,d)&&(o=o.insert(l,d))})),o}))}}class _X{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Mn(i.createTime)}})(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(i){return{name:i.name,query:NS(i.bundledQuery),readTime:Mn(i.readTime)}})(n)),ce.resolve()}}class EX{constructor(){this.overlays=new nn(Re.comparator),this.Ir=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=pa();return ce.forEach(n,(i=>this.getOverlay(e,i).next((s=>{s!==null&&r.set(i,s)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,s)=>{this.ht(e,n,s)})),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.Ir.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=pa(),s=n.length+1,a=new Re(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nn(((d,f)=>d-f));const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let f=s.get(d.largestBatchId);f===null&&(f=pa(),s=s.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const o=pa(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((d,f)=>o.set(d,f))),!(o.size()>=i)););return ce.resolve(o)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new SS(n,r));let s=this.Ir.get(n);s===void 0&&(s=ft(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}class TX{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}class kS{constructor(){this.Tr=new Kt(ar.Er),this.dr=new Kt(ar.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ar(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Vr(new ar(e,n))}mr(e,n){e.forEach((r=>this.removeReference(r,n)))}gr(e){const n=new Re(new Tt([])),r=new ar(n,e),i=new ar(n,e+1),s=[];return this.dr.forEachInRange([r,i],(a=>{this.Vr(a),s.push(a.key)})),s}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Re(new Tt([])),r=new ar(n,e),i=new ar(n,e+1);let s=ft();return this.dr.forEachInRange([r,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const n=new ar(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ar{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Re.comparator(e.key,n.key)||ot(e.wr,n.wr)}static Ar(e,n){return ot(e.wr,n.wr)||Re.comparator(e.key,n.key)}}class CX{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Kt(ar.Er)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new TS(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new ar(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ce.resolve(a)}lookupMutationBatch(e,n){return ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return ce.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ar(n,0),i=new ar(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],(a=>{const o=this.Dr(a.wr);s.push(o)})),ce.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(ot);return n.forEach((i=>{const s=new ar(i,0),a=new ar(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],(o=>{r=r.add(o.wr)}))})),ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Re.isDocumentKey(s)||(s=s.child(""));const a=new ar(new Re(s),0);let o=new Kt(ot);return this.br.forEachWhile((l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(o=o.add(l.wr)),!0)}),a),ce.resolve(this.Cr(o))}Cr(e){const n=[];return e.forEach((r=>{const i=this.Dr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){$e(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ce.forEach(n.mutations,(i=>{const s=new ar(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.br=r}))}On(e){}containsKey(e,n){const r=new ar(n,0),i=this.br.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class SX{constructor(e){this.Mr=e,this.docs=(function(){return new nn(Re.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=xi();return n.forEach((i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ln.newInvalidDocument(i))})),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=xi();const a=n.path,o=new Re(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:d,value:{document:f}}=l.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||gS(r3(f),r)<=0||(i.has(f.key)||gp(n,f))&&(s=s.insert(f.key,f.mutableCopy()))}return ce.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ve()}Or(e,n){return ce.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new PX(this)}getSize(e){return ce.resolve(this.size)}}class PX extends pF{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)})),ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class AX{constructor(e){this.persistence=e,this.Nr=new Eo((n=>lu(n)),mp),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kS,this.targetCount=0,this.kr=hu.Bn()}forEachTarget(e,n){return this.Nr.forEach(((r,i)=>n(i))),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new hu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Kn(n),ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach(((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),ce.waitFor(s).next((()=>i))}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),ce.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.Br.containsKey(n))}}class RS{constructor(e,n){this.qr={},this.overlays={},this.Qr=new yi(0),this.Kr=!1,this.Kr=!0,this.$r=new TX,this.referenceDelegate=e(this),this.Ur=new AX(this),this.indexManager=new hX,this.remoteDocumentCache=(function(i){return new SX(i)})((r=>this.referenceDelegate.Wr(r))),this.serializer=new aF(n),this.Gr=new _X(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EX,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new CX(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){_e("MemoryPersistence","Starting transaction:",e);const i=new NX(this.Qr.next());return this.referenceDelegate.zr(),r(i).next((s=>this.referenceDelegate.jr(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Hr(e,n){return ce.or(Object.values(this.qr).map((r=>()=>r.containsKey(e,n))))}}class NX extends s3{constructor(e){super(),this.currentSequenceNumber=e}}class hx{constructor(e){this.persistence=e,this.Jr=new kS,this.Yr=null}static Zr(e){return new hx(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((i=>this.Xr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((s=>this.Xr.add(s.toString())))})).next((()=>r.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Xr,(r=>{const i=Re.fromPath(r);return this.ei(e,i).next((s=>{s||n.removeEntry(i,Xe.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return ce.or([()=>ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Lv{constructor(e,n){this.persistence=e,this.ti=new Eo((r=>Fr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=mF(this,n)}static Zr(e,n){return new Lv(e,n)}zr(){}jr(e){return ce.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}er(e){let n=0;return this.Zn(e,(r=>{n++})).next((()=>n))}Zn(e,n){return ce.forEach(this.ti,((r,i)=>this.nr(e,r,i).next((s=>s?ce.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Or(e,(a=>this.nr(e,a,n).next((o=>{o||(r++,s.removeEntry(a,Xe.min()))})))).next((()=>s.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),ce.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),ce.resolve()}removeReference(e,n,r){return this.ti.set(r,e.currentSequenceNumber),ce.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),ce.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nv(e.data.value)),n}nr(e,n,r){return ce.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ti.get(n);return ce.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class IX{constructor(e){this.serializer=e}O(e,n,r,i){const s=new ix("createOrUpgrade",n);r<1&&i>=1&&((function(l){l.createObjectStore("owner")})(e),(function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",C2,{unique:!0}),l.createObjectStore("documentMutations")})(e),fk(e),(function(l){l.createObjectStore("remoteDocuments")})(e));let a=ce.resolve();return r<3&&i>=3&&(r!==0&&((function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")})(e),fk(e)),a=a.next((()=>(function(l){const d=l.store("targetGlobal"),f={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Xe.min().toTimestamp(),targetCount:0};return d.put("targetGlobalKey",f)})(s)))),r<4&&i>=4&&(r!==0&&(a=a.next((()=>(function(l,d){return d.store("mutations").U().next((f=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",C2,{unique:!0});const m=d.store("mutations"),p=f.map((y=>m.put(y)));return ce.waitFor(p)}))})(e,s)))),a=a.next((()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)}))),r<5&&i>=5&&(a=a.next((()=>this.ni(s)))),r<6&&i>=6&&(a=a.next((()=>((function(l){l.createObjectStore("remoteDocumentGlobal")})(e),this.ri(s))))),r<7&&i>=7&&(a=a.next((()=>this.ii(s)))),r<8&&i>=8&&(a=a.next((()=>this.si(e,s)))),r<9&&i>=9&&(a=a.next((()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(a=a.next((()=>this.oi(s)))),r<11&&i>=11&&(a=a.next((()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),(function(l){l.createObjectStore("namedQueries",{keyPath:"name"})})(e)}))),r<12&&i>=12&&(a=a.next((()=>{(function(l){const d=l.createObjectStore("documentOverlays",{keyPath:hG});d.createIndex("collectionPathOverlayIndex",mG,{unique:!1}),d.createIndex("collectionGroupOverlayIndex",pG,{unique:!1})})(e)}))),r<13&&i>=13&&(a=a.next((()=>(function(l){const d=l.createObjectStore("remoteDocumentsV14",{keyPath:nG});d.createIndex("documentKeyIndex",rG),d.createIndex("collectionGroupIndex",iG)})(e))).next((()=>this._i(e,s))).next((()=>e.deleteObjectStore("remoteDocuments")))),r<14&&i>=14&&(a=a.next((()=>this.ai(e,s)))),r<15&&i>=15&&(a=a.next((()=>(function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:cG}).createIndex("sequenceNumberIndex",uG,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:dG}).createIndex("documentKeyIndex",fG,{unique:!1})})(e)))),r<16&&i>=16&&(a=a.next((()=>{n.objectStore("indexState").clear()})).next((()=>{n.objectStore("indexEntries").clear()}))),r<17&&i>=17&&(a=a.next((()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)}))),a}ri(e){let n=0;return e.store("remoteDocuments").J(((r,i)=>{n+=Mv(i)})).next((()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)}))}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next((i=>ce.forEach(i,(s=>{const a=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",a).next((o=>ce.forEach(o,(l=>{$e(l.userId===s.userId);const d=zc(this.serializer,l);return uF(e,s.userId,d).next((()=>{}))}))))}))))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((i=>{const s=[];return r.J(((a,o)=>{const l=new Tt(a),d=(function(m){return[0,Fr(m)]})(l);s.push(n.get(d).next((f=>f?ce.resolve():(m=>n.put({targetId:0,path:Fr(m),sequenceNumber:i.highestListenSequenceNumber}))(l))))})).next((()=>ce.waitFor(s)))}))}si(e,n){e.createObjectStore("collectionParents",{keyPath:lG});const r=n.store("collectionParents"),i=new jS,s=a=>{if(i.add(a)){const o=a.lastSegment(),l=a.popLast();return r.put({collectionId:o,parent:Fr(l)})}};return n.store("remoteDocuments").J({H:!0},((a,o)=>{const l=new Tt(a);return s(l.popLast())})).next((()=>n.store("documentMutations").J({H:!0},(([a,o,l],d)=>{const f=ma(o);return s(f.popLast())}))))}oi(e){const n=e.store("targets");return n.J(((r,i)=>{const s=cm(i),a=oF(this.serializer,s);return n.put(a)}))}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J(((s,a)=>{const o=n.store("remoteDocumentsV14"),l=(function(m){return m.document?new Re(Tt.fromString(m.document.name).popFirst(5)):m.noDocument?Re.fromSegments(m.noDocument.path):m.unknownDocument?Re.fromSegments(m.unknownDocument.path):Ve()})(a).path.toArray(),d={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(o.put(d))})).next((()=>ce.waitFor(i)))}ai(e,n){const r=n.store("mutations"),i=gF(this.serializer),s=new RS(hx.Zr,this.serializer.ct);return r.U().next((a=>{const o=new Map;return a.forEach((l=>{var d;let f=(d=o.get(l.userId))!==null&&d!==void 0?d:ft();zc(this.serializer,l).keys().forEach((m=>f=f.add(m))),o.set(l.userId,f)})),ce.forEach(o,((l,d)=>{const f=new lr(d),m=dx.lt(this.serializer,f),p=s.getIndexManager(f),y=fx.lt(f,this.serializer,p,s.referenceDelegate);return new yF(i,y,m,p).recalculateAndSaveOverlaysForDocumentKeys(new mT(n,yi.oe),l).next()}))}))}}function fk(t){t.createObjectStore("targetDocuments",{keyPath:aG}).createIndex("documentTargetsIndex",oG,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",sG,{unique:!0}),t.createObjectStore("targetGlobal")}const m1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class DS{constructor(e,n,r,i,s,a,o,l,d,f,m=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=s,this.window=a,this.document=o,this.ci=d,this.li=f,this.hi=m,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=p=>Promise.resolve(),!DS.D())throw new we(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vX(this,i),this.Ai=n+"main",this.serializer=new aF(l),this.Ri=new xa(this.Ai,this.hi,new IX(this.serializer)),this.$r=new oX,this.Ur=new pX(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gF(this.serializer),this.Gr=new aX,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,f===!1&&On("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new we(ge.FAILED_PRECONDITION,m1);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Ur.getHighestSequenceNumber(e)))})).then((e=>{this.Qr=new yi(e,this.ci)})).then((()=>{this.Kr=!0})).catch((e=>(this.Ri&&this.Ri.close(),Promise.reject(e))))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget((async()=>{this.started&&await this.mi()})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ey(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.wi(e).next((n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))))}))})).next((()=>this.Si(e))).next((n=>this.isPrimary&&!n?this.bi(e).next((()=>!1)):!!n&&this.Di(e).next((()=>!0)))))).catch((e=>{if(Ql(e))return _e("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.ui.enqueueRetryable((()=>this.di(e))),this.isPrimary=e}))}wi(e){return Uh(e).get("owner").next((n=>ce.resolve(this.vi(n))))}Ci(e){return Ey(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Jn(n,"clientMetadata");return r.U().next((i=>{const s=this.xi(i,18e5),a=i.filter((o=>s.indexOf(o)===-1));return ce.forEach(a,(o=>r.delete(o.clientId))).next((()=>a))}))})).catch((()=>[]));if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.mi().then((()=>this.Fi())).then((()=>this.pi()))))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?ce.resolve(!0):Uh(e).get("owner").next((n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new we(ge.FAILED_PRECONDITION,m1);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ey(e).U().next((r=>this.xi(r,5e3).find((i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,o=this.networkEnabled===i.networkEnabled;if(s||a&&o)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&_e("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const n=new mT(e,yi.oe);return this.bi(n).next((()=>this.Ci(n)))})),this.Ri.close(),this.qi()}xi(e,n){return e.filter((r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId)))}Qi(){return this.runTransaction("getActiveClients","readonly",(e=>Ey(e).U().next((n=>this.xi(n,18e5).map((r=>r.clientId))))))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return fx.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mX(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return dx.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){_e("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=(function(l){return l===17?vG:l===16?yG:l===15?vS:l===14?d3:l===13?u3:l===12?gG:l===11?c3:void Ve()})(this.hi);let a;return this.Ri.runTransaction(e,i,s,(o=>(a=new mT(o,this.Qr?this.Qr.next():yi.oe),n==="readwrite-primary"?this.wi(a).next((l=>!!l||this.Si(a))).next((l=>{if(!l)throw On(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable((()=>this.di(!1))),new we(ge.FAILED_PRECONDITION,i3);return r(a)})).next((l=>this.Di(a).next((()=>l)))):this.Ki(a).next((()=>r(a)))))).then((o=>(a.raiseOnCommittedEvent(),o)))}Ki(e){return Uh(e).get("owner").next((n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new we(ge.FAILED_PRECONDITION,m1)}))}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Uh(e).put("owner",n)}static D(){return xa.D()}bi(e){const n=Uh(e);return n.get("owner").next((r=>this.vi(r)?(_e("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ce.resolve()))}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(On(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.mi())))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;FV()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return _e("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return On("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){On("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Uh(t){return Jn(t,"owner")}function Ey(t){return Jn(t,"clientMetadata")}function OS(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class MS{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ft(),i=ft();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new MS(e,n.fromCache,r,i)}}class jX{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class vF{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return FV()?8:a3(Qn())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.Zi(e,n,i,r).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new jX;return this.Xi(e,n,a).next((o=>{if(s.result=o,this.zi)return this.es(e,n,a,o.size)}))})).next((()=>s.result))}es(e,n,r,i){return r.documentReadCount<this.ji?(Dd()<=Et.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",Od(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ce.resolve()):(Dd()<=Et.DEBUG&&_e("QueryEngine","Query:",Od(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Dd()<=Et.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",Od(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Br(n))):ce.resolve())}Yi(e,n){if(V2(n))return ce.resolve(null);let r=Br(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=kv(n,null,"F"),r=Br(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((s=>{const a=ft(...s);return this.Ji.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,r).next((l=>{const d=this.ts(n,o);return this.ns(n,d,a,l.readTime)?this.Yi(e,kv(n,null,"F")):this.rs(e,d,n,l)}))))})))))}Zi(e,n,r,i){return V2(n)||i.isEqual(Xe.min())?ce.resolve(null):this.Ji.getDocuments(e,r).next((s=>{const a=this.ts(n,s);return this.ns(n,a,r,i)?ce.resolve(null):(Dd()<=Et.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Od(n)),this.rs(e,a,n,n3(i,-1)).next((o=>o)))}))}ts(e,n){let r=new Kt(I3(e));return n.forEach(((i,s)=>{gp(e,s)&&(r=r.add(s))})),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Dd()<=Et.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",Od(n)),this.Ji.getDocumentsMatchingQuery(e,n,Fi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next((s=>(n.forEach((a=>{s=s.insert(a.key,a)})),s)))}}class kX{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new nn(ot),this._s=new Eo((s=>lu(s)),mp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function xF(t,e,n,r){return new kX(t,e,n,r)}async function bF(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r)))).next((s=>{const a=[],o=[];let l=ft();for(const d of i){a.push(d.batchId);for(const f of d.mutations)l=l.add(f.key)}for(const d of s){o.push(d.batchId);for(const f of d.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next((d=>({hs:d,removedBatchIds:a,addedBatchIds:o})))}))}))}function RX(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return(function(o,l,d,f){const m=d.batch,p=m.keys();let y=ce.resolve();return p.forEach((v=>{y=y.next((()=>f.getEntry(l,v))).next((w=>{const _=d.docVersions.get(v);$e(_!==null),w.version.compareTo(_)<0&&(m.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),f.addEntry(w)))}))})),y.next((()=>o.mutationQueue.removeMutationBatch(l,m)))})(n,r,e,s).next((()=>s.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(o){let l=ft();for(let d=0;d<o.mutationResults.length;++d)o.mutationResults[d].transformResults.length>0&&(l=l.add(o.batch.mutations[d].key));return l})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function wF(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function DX(t,e){const n=ke(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const o=[];e.targetChanges.forEach(((f,m)=>{const p=i.get(m);if(!p)return;o.push(n.Ur.removeMatchingKeys(s,f.removedDocuments,m).next((()=>n.Ur.addMatchingKeys(s,f.addedDocuments,m))));let y=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(En.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):f.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(f.resumeToken,r)),i=i.insert(m,y),(function(w,_,T){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(p,y,f)&&o.push(n.Ur.updateTargetData(s,y))}));let l=xi(),d=ft();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,f))})),o.push(_F(s,a,e.documentUpdates).next((f=>{l=f.Ps,d=f.Is}))),!r.isEqual(Xe.min())){const f=n.Ur.getLastRemoteSnapshotVersion(s).next((m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r)));o.push(f)}return ce.waitFor(o).next((()=>a.apply(s))).next((()=>n.localDocuments.getLocalViewOfDocuments(s,l,d))).next((()=>l))})).then((s=>(n.os=i,s)))}function _F(t,e,n){let r=ft(),i=ft();return n.forEach((s=>r=r.add(s))),e.getEntries(t,r).next((s=>{let a=xi();return n.forEach(((o,l)=>{const d=s.get(o);l.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Xe.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):_e("LocalStore","Ignoring outdated watch update for ",o,". Current version:",d.version," Watch version:",l.version)})),{Ps:a,Is:i}}))}function OX(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hf(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Ur.getTargetData(r,e).next((s=>s?(i=s,ce.resolve(i)):n.Ur.allocateTargetId(r).next((a=>(i=new Ja(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r}))}async function mf(t,e,n){const r=ke(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(a=>r.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Ql(a))throw a;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Vv(t,e,n){const r=ke(t);let i=Xe.min(),s=ft();return r.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,d,f){const m=ke(l),p=m._s.get(f);return p!==void 0?ce.resolve(m.os.get(p)):m.Ur.getTargetData(d,f)})(r,a,Br(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:Xe.min(),n?s:ft()))).next((o=>(CF(r,N3(e),o),{documents:o,Ts:s})))))}function EF(t,e){const n=ke(t),r=ke(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(s=>r.ot(s,e).next((a=>a?a.target:null))))}function TF(t,e){const n=ke(t),r=n.us.get(e)||Xe.min();return n.persistence.runTransaction("Get new document changes","readonly",(i=>n.cs.getAllFromCollectionGroup(i,e,n3(r,-1),Number.MAX_SAFE_INTEGER))).then((i=>(CF(n,e,i),i)))}function CF(t,e,n){let r=t.us.get(e)||Xe.min();n.forEach(((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)})),t.us.set(e,r)}async function MX(t,e,n,r){const i=ke(t);let s=ft(),a=xi();for(const d of n){const f=e.Es(d.metadata.name);d.document&&(s=s.add(f));const m=e.ds(d);m.setReadTime(e.As(d.metadata.readTime)),a=a.insert(f,m)}const o=i.cs.newChangeBuffer({trackRemovals:!0}),l=await hf(i,(function(f){return Br(Rf(Tt.fromString(`__bundle__/docs/${f}`)))})(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(d=>_F(d,o,a).next((f=>(o.apply(d),f))).next((f=>i.Ur.removeMatchingKeysForTargetId(d,l.targetId).next((()=>i.Ur.addMatchingKeys(d,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(d,f.Ps,f.Is))).next((()=>f.Ps))))))}async function LX(t,e,n=ft()){const r=await hf(t,Br(NS(e.bundledQuery))),i=ke(t);return i.persistence.runTransaction("Save named query","readwrite",(s=>{const a=Mn(e.readTime);if(r.snapshotVersion.compareTo(a)>=0)return i.Gr.saveNamedQuery(s,e);const o=r.withResumeToken(En.EMPTY_BYTE_STRING,a);return i.os=i.os.insert(o.targetId,o),i.Ur.updateTargetData(s,o).next((()=>i.Ur.removeMatchingKeysForTargetId(s,r.targetId))).next((()=>i.Ur.addMatchingKeys(s,n,r.targetId))).next((()=>i.Gr.saveNamedQuery(s,e)))}))}function hk(t,e){return`firestore_clients_${t}_${e}`}function mk(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function p1(t,e){return`firestore_targets_${t}_${e}`}class Fv{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){const i=JSON.parse(r);let s,a=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return a&&i.error&&(a=typeof i.error.message=="string"&&typeof i.error.code=="string",a&&(s=new we(i.error.code,i.error.message))),a?new Fv(e,n,i.state,s):(On("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vm{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new we(r.error.code,r.error.message))),s?new vm(e,r.state,i):(On("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Bv{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=wS();for(let a=0;i&&a<r.activeTargetIds.length;++a)i=o3(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return i?new Bv(e,s):(On("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class LS{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new LS(n.clientId,n.onlineState):(On("SharedClientState",`Failed to parse online state: ${e}`),null)}}class AT{constructor(){this.activeTargetIds=wS()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class g1{constructor(e,n,r,i,s){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new nn(ot),this.started=!1,this.bs=[];const a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Ds=hk(this.persistenceKey,this.ps),this.vs=(function(l){return`firestore_sequence_number_${l}`})(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new AT),this.Cs=new RegExp(`^firestore_clients_${a}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${a}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${a}_(\\d+)$`),this.xs=(function(l){return`firestore_online_state_${l}`})(this.persistenceKey),this.Os=(function(l){return`firestore_bundle_loaded_v2_${l}`})(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(hk(this.persistenceKey,r));if(i){const s=Bv.Rs(r,i);s&&(this.Ss=this.Ss.insert(s.clientId,s))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach(((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)})),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(p1(this.persistenceKey,e));if(i){const s=vm.Rs(e,i);s&&(r=s.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(p1(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach((i=>{this.Qs(i)})),this.currentUser=e,r.forEach((i=>{this.addPendingMutation(i)}))}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return _e("SharedClientState","READ",e,n),n}setItem(e,n){_e("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){_e("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(_e("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void On("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=(function(s){let a=yi.oe;if(s!=null)try{const o=JSON.parse(s);$e(typeof o=="number"),a=o}catch(o){On("SharedClientState","Failed to read sequence number from WebStorage",o)}return a})(n.newValue);r!==yi.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map((i=>this.syncEngine.eo(i))))}}}else this.bs.push(n)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const i=new Fv(this.currentUser,e,n,r),s=mk(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Vs())}Qs(e){const n=mk(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const i=p1(this.persistenceKey,e),s=new vm(e,n,r);this.setItem(i,s.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return Bv.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Fv.Rs(new lr(s),i,n)}Ys(e,n){const r=this.Ms.exec(e),i=Number(r[1]);return vm.Rs(i,n)}Ls(e){return LS.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);_e("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),s=this.ks(r),a=[],o=[];return s.forEach((l=>{i.has(l)||a.push(l)})),i.forEach((l=>{s.has(l)||o.push(l)})),this.syncEngine.io(a,o).then((()=>{this.Ss=r}))}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=wS();return e.forEach(((r,i)=>{n=n.unionWith(i.activeTargetIds)})),n}}class SF{constructor(){this.so=new AT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new AT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class VX{_o(e){}shutdown(){}}class pk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ty=null;function y1(){return Ty===null?Ty=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ty++,"0x"+Ty.toString(16)}const FX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BX{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Or="WebChannelConnection";class zX extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,a){const o=y1(),l=this.xo(n,r.toUriEncodedString());_e("RestConnection",`Sending RPC '${n}' ${o}:`,l,i);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,a),this.No(n,l,d,i).then((f=>(_e("RestConnection",`Received RPC '${n}' ${o}: `,f),f)),(f=>{throw Vi("RestConnection",`RPC '${n}' ${o} failed with error: `,f,"url: ",l,"request:",i),f}))}Lo(n,r,i,s,a,o){return this.Mo(n,r,i,s,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+kf})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((s,a)=>n[a]=s)),i&&i.headers.forEach(((s,a)=>n[a]=s))}xo(n,r){const i=FX[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=y1();return new Promise(((a,o)=>{const l=new KV;l.setWithCredentials(!0),l.listenOnce(GV.COMPLETE,(()=>{try{switch(l.getLastErrorCode()){case Zy.NO_ERROR:const f=l.getResponseJson();_e(Or,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(f)),a(f);break;case Zy.TIMEOUT:_e(Or,`RPC '${e}' ${s} timed out`),o(new we(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Zy.HTTP_ERROR:const m=l.getStatus();if(_e(Or,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p?.error;if(y&&y.status&&y.message){const v=(function(_){const T=_.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(T)>=0?T:ge.UNKNOWN})(y.status);o(new we(v,y.message))}else o(new we(ge.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new we(ge.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{_e(Or,`RPC '${e}' ${s} completed.`)}}));const d=JSON.stringify(i);_e(Or,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",d,r,15)}))}Bo(e,n,r){const i=y1(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=QV(),o=YV(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=s.join("");_e(Or,`Creating RPC '${e}' stream ${i}: ${f}`,l);const m=a.createWebChannel(f,l);let p=!1,y=!1;const v=new BX({Io:_=>{y?_e(Or,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(p||(_e(Or,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),_e(Or,`RPC '${e}' stream ${i} sending:`,_),m.send(_))},To:()=>m.close()}),w=(_,T,L)=>{_.listen(T,(O=>{try{L(O)}catch(z){setTimeout((()=>{throw z}),0)}}))};return w(m,am.EventType.OPEN,(()=>{y||(_e(Or,`RPC '${e}' stream ${i} transport opened.`),v.yo())})),w(m,am.EventType.CLOSE,(()=>{y||(y=!0,_e(Or,`RPC '${e}' stream ${i} transport closed`),v.So())})),w(m,am.EventType.ERROR,(_=>{y||(y=!0,Vi(Or,`RPC '${e}' stream ${i} transport errored:`,_),v.So(new we(ge.UNAVAILABLE,"The operation could not be completed")))})),w(m,am.EventType.MESSAGE,(_=>{var T;if(!y){const L=_.data[0];$e(!!L);const O=L,z=O.error||((T=O[0])===null||T===void 0?void 0:T.error);if(z){_e(Or,`RPC '${e}' stream ${i} received error:`,z);const j=z.status;let P=(function(k){const A=Fn[k];if(A!==void 0)return q3(A)})(j),C=z.message;P===void 0&&(P=ge.INTERNAL,C="Unknown error status: "+j+" with message "+z.message),y=!0,v.So(new we(P,C)),m.close()}else _e(Or,`RPC '${e}' stream ${i} received:`,L),v.bo(L)}})),w(o,XV.STAT_EVENT,(_=>{_.stat===fT.PROXY?_e(Or,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===fT.NOPROXY&&_e(Or,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{v.wo()}),0),v}}function PF(){return typeof window<"u"?window:null}function av(){return typeof document<"u"?document:null}function bp(t){return new XG(t,!0)}class VS{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&_e("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class AF{constructor(e,n,r,i,s,a,o,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new VS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(On(n.toString()),On("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Yo===n&&this.P_(r,i)}),(r=>{e((()=>{const i=new we(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)}))}))}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{r((()=>this.listener.Eo()))})),this.stream.Ro((()=>{r((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((i=>{r((()=>this.I_(i)))})),this.stream.onMessage((i=>{r((()=>++this.e_==1?this.E_(i):this.onNext(i)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UX extends AF{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=JG(this.serializer,e),r=(function(s){if(!("targetChange"in s))return Xe.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Xe.min():a.readTime?Mn(a.readTime):Xe.min()})(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=ET(this.serializer),n.addTarget=(function(s,a){let o;const l=a.target;if(o=Iv(l)?{documents:eF(s,l)}:{query:ux(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=G3(s,a.resumeToken);const d=wT(s,a.expectedCount);d!==null&&(o.expectedCount=d)}else if(a.snapshotVersion.compareTo(Xe.min())>0){o.readTime=ff(s,a.snapshotVersion.toTimestamp());const d=wT(s,a.expectedCount);d!==null&&(o.expectedCount=d)}return o})(this.serializer,e);const r=eX(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=ET(this.serializer),n.removeTarget=e,this.a_(n)}}class $X extends AF{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=ZG(e.writeResults,e.commitTime),r=Mn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=ET(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>Lm(this.serializer,r)))};this.a_(n)}}class qX extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new we(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Mo(e,_T(n,r),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new we(ge.UNKNOWN,s.toString())}))}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Lo(e,_T(n,r),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(ge.UNKNOWN,a.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class WX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(On(n),this.D_=!1):_e("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class HX{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o((a=>{r.enqueueAndForget((async()=>{Zl(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await(async function(l){const d=ke(l);d.L_.add(4),await Mf(d),d.q_.set("Unknown"),d.L_.delete(4),await wp(d)})(this))}))})),this.q_=new WX(r,i)}}async function wp(t){if(Zl(t))for(const e of t.B_)await e(!0)}async function Mf(t){for(const e of t.B_)await e(!1)}function mx(t,e){const n=ke(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),zS(n)?BS(n):Vf(n).r_()&&FS(n,e))}function pf(t,e){const n=ke(t),r=Vf(n);n.N_.delete(e),r.r_()&&NF(n,e),n.N_.size===0&&(r.r_()?r.o_():Zl(n)&&n.q_.set("Unknown"))}function FS(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vf(t).A_(e)}function NF(t,e){t.Q_.xe(e),Vf(t).R_(e)}function BS(t){t.Q_=new WG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Vf(t).start(),t.q_.v_()}function zS(t){return Zl(t)&&!Vf(t).n_()&&t.N_.size>0}function Zl(t){return ke(t).L_.size===0}function IF(t){t.Q_=void 0}async function KX(t){t.q_.set("Online")}async function GX(t){t.N_.forEach(((e,n)=>{FS(t,e)}))}async function XX(t,e){IF(t),zS(t)?(t.q_.M_(e),BS(t)):t.q_.set("Unknown")}async function YX(t,e,n){if(t.q_.set("Online"),e instanceof K3&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))})(t,e)}catch(r){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zv(t,r)}else if(e instanceof sv?t.Q_.Ke(e):e instanceof H3?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Xe.min()))try{const r=await wF(t.localStore);n.compareTo(r)>=0&&await(function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach(((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.N_.get(d);f&&s.N_.set(d,f.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,d)=>{const f=s.N_.get(l);if(!f)return;s.N_.set(l,f.withResumeToken(En.EMPTY_BYTE_STRING,f.snapshotVersion)),NF(s,l);const m=new Ja(f.target,l,d,f.sequenceNumber);FS(s,m)})),s.remoteSyncer.applyRemoteEvent(o)})(t,n)}catch(r){_e("RemoteStore","Failed to raise snapshot:",r),await zv(t,r)}}async function zv(t,e,n){if(!Ql(e))throw e;t.L_.add(1),await Mf(t),t.q_.set("Offline"),n||(n=()=>wF(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{_e("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await wp(t)}))}function jF(t,e){return e().catch((n=>zv(t,n,e)))}async function Lf(t){const e=ke(t),n=zl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;QX(e);)try{const i=await OX(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,JX(e,i)}catch(i){await zv(e,i)}kF(e)&&RF(e)}function QX(t){return Zl(t)&&t.O_.length<10}function JX(t,e){t.O_.push(e);const n=zl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function kF(t){return Zl(t)&&!zl(t).n_()&&t.O_.length>0}function RF(t){zl(t).start()}async function ZX(t){zl(t).p_()}async function eY(t){const e=zl(t);for(const n of t.O_)e.m_(n.mutations)}async function tY(t,e,n){const r=t.O_.shift(),i=CS.from(r,e,n);await jF(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Lf(t)}async function nY(t,e){e&&zl(t).V_&&await(async function(r,i){if((function(a){return $3(a)&&a!==ge.ABORTED})(i.code)){const s=r.O_.shift();zl(r).s_(),await jF(r,(()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i))),await Lf(r)}})(t,e),kF(t)&&RF(t)}async function gk(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const r=Zl(n);n.L_.add(3),await Mf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await wp(n)}async function NT(t,e){const n=ke(t);e?(n.L_.delete(2),await wp(n)):e||(n.L_.add(2),await Mf(n),n.q_.set("Unknown"))}function Vf(t){return t.K_||(t.K_=(function(n,r,i){const s=ke(n);return s.w_(),new UX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:KX.bind(null,t),Ro:GX.bind(null,t),mo:XX.bind(null,t),d_:YX.bind(null,t)}),t.B_.push((async e=>{e?(t.K_.s_(),zS(t)?BS(t):t.q_.set("Unknown")):(await t.K_.stop(),IF(t))}))),t.K_}function zl(t){return t.U_||(t.U_=(function(n,r,i){const s=ke(n);return s.w_(),new $X(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ZX.bind(null,t),mo:nY.bind(null,t),f_:eY.bind(null,t),g_:tY.bind(null,t)}),t.B_.push((async e=>{e?(t.U_.s_(),await Lf(t)):(await t.U_.stop(),t.O_.length>0&&(_e("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}class US{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new US(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new we(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ff(t,e){if(On("AsyncQueue",`${e}: ${t}`),Ql(t))return new we(ge.UNAVAILABLE,`${e}: ${t}`);throw t}class Yd{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Re.comparator(n.key,r.key):(n,r)=>Re.comparator(n.key,r.key),this.keyedMap=om(),this.sortedSet=new nn(this.comparator)}static emptySet(e){return new Yd(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yd)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Yd;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class yk{constructor(){this.W_=new nn(Re.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class gf{constructor(e,n,r,i,s,a,o,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach((o=>{a.push({type:0,doc:o})})),new gf(e,n,Yd.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class rY{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class iY{constructor(){this.queries=vk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ke(n),s=i.queries;i.queries=vk(),s.forEach(((a,o)=>{for(const l of o.j_)l.onError(r)}))})(this,new we(ge.ABORTED,"Firestore shutting down"))}}function vk(){return new Eo((t=>A3(t)),pp)}async function $S(t,e){const n=ke(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new rY,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=Ff(a,`Initialization of query '${Od(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&WS(n)}async function qS(t,e){const n=ke(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function sY(t,e){const n=ke(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(r=!0);a.z_=i}}r&&WS(n)}function aY(t,e,n){const r=ke(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function WS(t){t.Y_.forEach((e=>{e.next()}))}var IT,xk;(xk=IT||(IT={})).ea="default",xk.Cache="cache";class HS{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==IT.Cache}}class oY{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}}class bk{constructor(e){this.serializer=e}Es(e){return ba(this.serializer,e)}ds(e){return e.metadata.exists?Z3(this.serializer,e.document,!1):ln.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Mn(e)}}class lY{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=DF(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;const r=Tt.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){const n=new Map,r=new bk(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Es(i.metadata.name);for(const a of i.metadata.queries){const o=(n.get(a)||ft()).add(s);n.set(a,o)}}return n}async complete(){const e=await MX(this.localStore,new bk(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(const r of this.queries)await LX(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function DF(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class OF{constructor(e){this.key=e}}class MF{constructor(e){this.key=e}}class LF{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ft(),this.mutatedKeys=ft(),this.Aa=I3(e),this.Ra=new Yd(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new yk,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,m)=>{const p=i.get(f),y=gp(this.query,m)?m:null,v=!!p&&this.mutatedKeys.has(p.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;p&&y?p.data.isEqual(y.data)?v!==w&&(r.track({type:3,doc:y}),_=!0):this.ga(p,y)||(r.track({type:2,doc:y}),_=!0,(l&&this.Aa(y,l)>0||d&&this.Aa(y,d)<0)&&(o=!0)):!p&&y?(r.track({type:0,doc:y}),_=!0):p&&!y&&(r.track({type:1,doc:p}),_=!0,(l||d)&&(o=!0)),_&&(y?(a=a.add(y),s=w?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),r.track({type:1,doc:f})}return{Ra:a,fa:r,ns:o,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort(((f,m)=>(function(y,v){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return w(y)-w(v)})(f.type,m.type)||this.Aa(f.doc,m.doc))),this.pa(r),i=i!=null&&i;const o=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,d=l!==this.Ea;return this.Ea=l,a.length!==0||d?{snapshot:new gf(this.query,e.Ra,s,a,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ft(),this.Ra.forEach((r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))}));const n=[];return e.forEach((r=>{this.da.has(r)||n.push(new MF(r))})),this.da.forEach((r=>{e.has(r)||n.push(new OF(r))})),n}ba(e){this.Ta=e.Ts,this.da=ft();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return gf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class cY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class uY{constructor(e){this.key=e,this.va=!1}}class dY{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Eo((o=>A3(o)),pp),this.Ma=new Map,this.xa=new Set,this.Oa=new nn(Re.comparator),this.Na=new Map,this.La=new kS,this.Ba={},this.ka=new Map,this.qa=hu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function fY(t,e,n=!0){const r=px(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await VF(r,e,n,!0),i}async function hY(t,e){const n=px(t);await VF(n,e,!0,!1)}async function VF(t,e,n,r){const i=await hf(t.localStore,Br(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await KS(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&mx(t.remoteStore,i),o}async function KS(t,e,n,r,i){t.Ka=(m,p,y)=>(async function(w,_,T,L){let O=_.view.ma(T);O.ns&&(O=await Vv(w.localStore,_.query,!1).then((({documents:C})=>_.view.ma(C,O))));const z=L&&L.targetChanges.get(_.targetId),j=L&&L.targetMismatches.get(_.targetId)!=null,P=_.view.applyChanges(O,w.isPrimaryClient,z,j);return jT(w,_.targetId,P.wa),P.snapshot})(t,m,p,y);const s=await Vv(t.localStore,e,!0),a=new LF(e,s.Ts),o=a.ma(s.documents),l=xp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=a.applyChanges(o,t.isPrimaryClient,l);jT(t,n,d.wa);const f=new cY(e,n,a);return t.Fa.set(e,f),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot}async function mY(t,e,n){const r=ke(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((a=>!pp(a,e)))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await mf(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&pf(r.remoteStore,i.targetId),yf(r,i.targetId)})).catch(Yl)):(yf(r,i.targetId),await mf(r.localStore,i.targetId,!0))}async function pY(t,e){const n=ke(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),pf(n.remoteStore,r.targetId))}async function gY(t,e,n){const r=QS(t);try{const i=await(function(a,o){const l=ke(a),d=jt.now(),f=o.reduce(((y,v)=>y.add(v.key)),ft());let m,p;return l.persistence.runTransaction("Locally write mutations","readwrite",(y=>{let v=xi(),w=ft();return l.cs.getEntries(y,f).next((_=>{v=_,v.forEach(((T,L)=>{L.isValidDocument()||(w=w.add(T))}))})).next((()=>l.localDocuments.getOverlayedDocuments(y,v))).next((_=>{m=_;const T=[];for(const L of o){const O=UG(L,m.get(L.key).overlayedDocument);O!=null&&T.push(new To(L.key,O,y3(O.value.mapValue),mn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,d,T,o)})).next((_=>{p=_;const T=_.applyToLocalDocumentSet(m,w);return l.documentOverlayCache.saveOverlays(y,_.batchId,T)}))})).then((()=>({batchId:p.batchId,changes:k3(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(a,o,l){let d=a.Ba[a.currentUser.toKey()];d||(d=new nn(ot)),d=d.insert(o,l),a.Ba[a.currentUser.toKey()]=d})(r,i.batchId,n),await Co(r,i.changes),await Lf(r.remoteStore)}catch(i){const s=Ff(i,"Failed to persist write");n.reject(s)}}async function FF(t,e){const n=ke(t);try{const r=await DX(n.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=n.Na.get(s);a&&($e(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?$e(a.va):i.removedDocuments.size>0&&($e(a.va),a.va=!1))})),await Co(n,r,e)}catch(r){await Yl(r)}}function wk(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach(((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const l=ke(a);l.onlineState=o;let d=!1;l.queries.forEach(((f,m)=>{for(const p of m.j_)p.Z_(o)&&(d=!0)})),d&&WS(l)})(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yY(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let a=new nn(Re.comparator);a=a.insert(s,ln.newNoDocument(s,Xe.min()));const o=ft().add(s),l=new vp(Xe.min(),new Map,new nn(ot),a,o);await FF(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),YS(r)}else await mf(r.localStore,e,!1).then((()=>yf(r,e,n))).catch(Yl)}async function vY(t,e){const n=ke(t),r=e.batch.batchId;try{const i=await RX(n.localStore,e);XS(n,r,null),GS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Co(n,i)}catch(i){await Yl(i)}}async function xY(t,e,n){const r=ke(t);try{const i=await(function(a,o){const l=ke(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return l.mutationQueue.lookupMutationBatch(d,o).next((m=>($e(m!==null),f=m.keys(),l.mutationQueue.removeMutationBatch(d,m)))).next((()=>l.mutationQueue.performConsistencyCheck(d))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(d,f,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>l.localDocuments.getDocuments(d,f)))}))})(r.localStore,e);XS(r,e,n),GS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Co(r,i)}catch(i){await Yl(i)}}async function bY(t,e){const n=ke(t);Zl(n.remoteStore)||_e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await(function(a){const o=ke(a);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(l=>o.mutationQueue.getHighestUnacknowledgedBatchId(l)))})(n.localStore);if(r===-1)return void e.resolve();const i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){const i=Ff(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function GS(t,e){(t.ka.get(e)||[]).forEach((n=>{n.resolve()})),t.ka.delete(e)}function XS(t,e,n){const r=ke(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function yf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach((r=>{t.La.containsKey(r)||BF(t,r)}))}function BF(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(pf(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),YS(t))}function jT(t,e,n){for(const r of n)r instanceof OF?(t.La.addReference(r.key,e),wY(t,r)):r instanceof MF?(_e("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||BF(t,r.key)):Ve()}function wY(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(_e("SyncEngine","New document in limbo: "+n),t.xa.add(r),YS(t))}function YS(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new Re(Tt.fromString(e)),r=t.qa.next();t.Na.set(r,new uY(n)),t.Oa=t.Oa.insert(n,r),mx(t.remoteStore,new Ja(Br(Rf(n.path)),r,"TargetPurposeLimboResolution",yi.oe))}}async function Co(t,e,n){const r=ke(t),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((o,l)=>{a.push(r.Ka(l,e,n).then((d=>{var f;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(f=n?.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(d){i.push(d);const m=MS.Wi(l.targetId,d);s.push(m)}})))})),await Promise.all(a),r.Ca.d_(i),await(async function(l,d){const f=ke(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>ce.forEach(d,(p=>ce.forEach(p.$i,(y=>f.persistence.referenceDelegate.addReference(m,p.targetId,y))).next((()=>ce.forEach(p.Ui,(y=>f.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))))))}catch(m){if(!Ql(m))throw m;_e("LocalStore","Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const y=f.os.get(p),v=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(v);f.os=f.os.insert(p,w)}}})(r.localStore,s))}async function _Y(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const r=await bF(n.localStore,e);n.currentUser=e,(function(s,a){s.ka.forEach((o=>{o.forEach((l=>{l.reject(new we(ge.CANCELLED,a))}))})),s.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Co(n,r.hs)}}function EY(t,e){const n=ke(t),r=n.Na.get(e);if(r&&r.va)return ft().add(r.key);{let i=ft();const s=n.Ma.get(e);if(!s)return i;for(const a of s){const o=n.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}async function TY(t,e){const n=ke(t),r=await Vv(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&jT(n,e.targetId,i.wa),i}async function CY(t,e){const n=ke(t);return TF(n.localStore,e).then((r=>Co(n,r)))}async function SY(t,e,n,r){const i=ke(t),s=await(function(o,l){const d=ke(o),f=ke(d.mutationQueue);return d.persistence.runTransaction("Lookup mutation documents","readonly",(m=>f.Mn(m,l).next((p=>p?d.localDocuments.getDocuments(m,p):ce.resolve(null)))))})(i.localStore,e);s!==null?(n==="pending"?await Lf(i.remoteStore):n==="acknowledged"||n==="rejected"?(XS(i,e,r||null),GS(i,e),(function(o,l){ke(ke(o).mutationQueue).On(l)})(i.localStore,e)):Ve(),await Co(i,s)):_e("SyncEngine","Cannot apply mutation batch with id: "+e)}async function PY(t,e){const n=ke(t);if(px(n),QS(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await _k(n,r.toArray());n.Qa=!0,await NT(n.remoteStore,!0);for(const s of i)mx(n.remoteStore,s)}else if(e===!1&&n.Qa!==!1){const r=[];let i=Promise.resolve();n.Ma.forEach(((s,a)=>{n.sharedClientState.isLocalQueryTarget(a)?r.push(a):i=i.then((()=>(yf(n,a),mf(n.localStore,a,!0)))),pf(n.remoteStore,a)})),await i,await _k(n,r),(function(a){const o=ke(a);o.Na.forEach(((l,d)=>{pf(o.remoteStore,d)})),o.La.pr(),o.Na=new Map,o.Oa=new nn(Re.comparator)})(n),n.Qa=!1,await NT(n.remoteStore,!1)}}async function _k(t,e,n){const r=ke(t),i=[],s=[];for(const a of e){let o;const l=r.Ma.get(a);if(l&&l.length!==0){o=await hf(r.localStore,Br(l[0]));for(const d of l){const f=r.Fa.get(d),m=await TY(r,f);m.snapshot&&s.push(m.snapshot)}}else{const d=await EF(r.localStore,a);o=await hf(r.localStore,d),await KS(r,zF(d),a,!1,o.resumeToken)}i.push(o)}return r.Ca.d_(s),i}function zF(t){return C3(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function AY(t){return(function(n){return ke(ke(n).persistence).Qi()})(ke(t).localStore)}async function NY(t,e,n,r){const i=ke(t);if(i.Qa)return void _e("SyncEngine","Ignoring unexpected query state notification.");const s=i.Ma.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const a=await TF(i.localStore,N3(s[0])),o=vp.createSynthesizedRemoteEventForCurrentChange(e,n==="current",En.EMPTY_BYTE_STRING);await Co(i,a,o);break}case"rejected":await mf(i.localStore,e,!0),yf(i,e,r);break;default:Ve()}}async function IY(t,e,n){const r=px(t);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){_e("SyncEngine","Adding an already active target "+i);continue}const s=await EF(r.localStore,i),a=await hf(r.localStore,s);await KS(r,zF(s),a.targetId,!1,a.resumeToken),mx(r.remoteStore,a)}for(const i of n)r.Ma.has(i)&&await mf(r.localStore,i,!1).then((()=>{pf(r.remoteStore,i),yf(r,i)})).catch(Yl)}}function px(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yY.bind(null,e),e.Ca.d_=sY.bind(null,e.eventManager),e.Ca.$a=aY.bind(null,e.eventManager),e}function QS(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=xY.bind(null,e),e}function jY(t,e,n){const r=ke(t);(async function(s,a,o){try{const l=await a.getMetadata();if(await(function(y,v){const w=ke(y),_=Mn(v.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",(T=>w.Gr.getBundleMetadata(T,v.id))).then((T=>!!T&&T.createTime.compareTo(_)>=0))})(s.localStore,l))return await a.close(),o._completeWith((function(y){return{taskState:"Success",documentsLoaded:y.totalDocuments,bytesLoaded:y.totalBytes,totalDocuments:y.totalDocuments,totalBytes:y.totalBytes}})(l)),Promise.resolve(new Set);o._updateProgress(DF(l));const d=new lY(l,s.localStore,a.serializer);let f=await a.Ua();for(;f;){const p=await d.la(f);p&&o._updateProgress(p),f=await a.Ua()}const m=await d.complete();return await Co(s,m.Ia,void 0),await(function(y,v){const w=ke(y);return w.persistence.runTransaction("Save bundle","readwrite",(_=>w.Gr.saveBundleMetadata(_,v)))})(s.localStore,l),o._completeWith(m.progress),Promise.resolve(m.Pa)}catch(l){return Vi("SyncEngine",`Loading bundle failed with ${l}`),o._failWith(l),Promise.resolve(new Set)}})(r,e,n).then((i=>{r.sharedClientState.notifyBundleLoaded(i)}))}class Ul{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bp(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return xF(this.persistence,new vF,e.initialUser,this.serializer)}Ga(e){return new RS(hx.Zr,this.serializer)}Wa(e){return new SF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ul.provider={build:()=>new Ul};class kY extends Ul{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){$e(this.persistence.referenceDelegate instanceof Lv);const r=this.persistence.referenceDelegate.garbageCollector;return new hF(r,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?Lr.withCacheSize(this.cacheSizeBytes):Lr.DEFAULT;return new RS((r=>Lv.Zr(r,n)),this.serializer)}}class JS extends Ul{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await QS(this.Ja.syncEngine),await Lf(this.Ja.remoteStore),await this.persistence.yi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}za(e){return xF(this.persistence,new vF,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new hF(r,e.asyncQueue,n)}Ha(e,n){const r=new ZK(n,this.persistence);return new JK(e.asyncQueue,r)}Ga(e){const n=OS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Lr.withCacheSize(this.cacheSizeBytes):Lr.DEFAULT;return new DS(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,PF(),av(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new SF}}class UF extends JS{constructor(e,n){super(e,n,!1),this.Ja=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ja.syncEngine;this.sharedClientState instanceof g1&&(this.sharedClientState.syncEngine={no:SY.bind(null,n),ro:NY.bind(null,n),io:IY.bind(null,n),Qi:AY.bind(null,n),eo:CY.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi((async r=>{await PY(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())}))}Wa(e){const n=PF();if(!g1.D(n))throw new we(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=OS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new g1(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class $l{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_Y.bind(null,this.syncEngine),await NT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new iY})()}createDatastore(e){const n=bp(e.databaseInfo.databaseId),r=(function(s){return new zX(s)})(e.databaseInfo);return(function(s,a,o,l){return new qX(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,s,a,o){return new HX(r,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(n=>wk(this.syncEngine,n,0)),(function(){return pk.D()?new pk:new VX})())}createSyncEngine(e,n){return(function(i,s,a,o,l,d,f){const m=new dY(i,s,a,o,l,d);return f&&(m.Qa=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const s=ke(i);_e("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Mf(s),s.k_.shutdown(),s.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$l.provider={build:()=>new $l};function Ek(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class gx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):On("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class RY{constructor(e,n){this.Xa=e,this.serializer=n,this.metadata=new ur,this.buffer=new Uint8Array,this.eu=(function(){return new TextDecoder("utf-8")})(),this.tu().then((r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r?.aa)}`))}),(r=>this.metadata.reject(r)))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const n=this.eu.decode(e),r=Number(n);isNaN(r)&&this.ru(`length string (${n}) is not valid number`);const i=await this.iu(r);return new oY(JSON.parse(i),e.length+r)}su(){return this.buffer.findIndex((e=>e===123))}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const n=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}class DY{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new we(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await(async function(i,s){const a=ke(i),o={documents:s.map((m=>Mm(a.serializer,m)))},l=await a.Lo("BatchGetDocuments",a.serializer.databaseId,Tt.emptyPath(),o,s.length),d=new Map;l.forEach((m=>{const p=QG(a.serializer,m);d.set(p.key.toString(),p)}));const f=[];return s.forEach((m=>{const p=d.get(m.toString());$e(!!p),f.push(p)})),f})(this.datastore,e);return n.forEach((r=>this.recordVersion(r))),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Of(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((n=>{e.delete(n.key.toString())})),e.forEach(((n,r)=>{const i=Re.fromPath(r);this.mutations.push(new ES(i,this.precondition(i)))})),await(async function(r,i){const s=ke(r),a={writes:i.map((o=>Lm(s.serializer,o)))};await s.Mo("Commit",s.serializer.databaseId,Tt.emptyPath(),a)})(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Ve();n=Xe.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new we(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Xe.min())?mn.exists(!1):mn.updateTime(n):mn.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Xe.min()))throw new we(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mn.updateTime(n)}return mn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class OY{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this._u=r.maxAttempts,this.t_=new VS(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go((async()=>{const e=new DY(this.datastore),n=this.cu(e);n&&n.then((r=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(r)})).catch((i=>{this.lu(i)}))))})).catch((r=>{this.lu(r)}))}))}cu(e){try{const n=this.updateFunction(e);return!hp(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget((()=>(this.uu(),Promise.resolve())))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!$3(n)}return!1}}class MY{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=lr.UNAUTHENTICATED,this.clientId=pS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,(async a=>{_e("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(_e("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ff(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function v1(t,e){t.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await bF(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Tk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZS(t);_e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>gk(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>gk(e.remoteStore,i))),t._onlineComponents=e}async function ZS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await v1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ge.FAILED_PRECONDITION||i.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Vi("Error using user provided cache. Falling back to memory cache: "+n),await v1(t,new Ul)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await v1(t,new Ul);return t._offlineComponents}async function yx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await Tk(t,t._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await Tk(t,new $l))),t._onlineComponents}function $F(t){return ZS(t).then((e=>e.persistence))}function Bf(t){return ZS(t).then((e=>e.localStore))}function qF(t){return yx(t).then((e=>e.remoteStore))}function eP(t){return yx(t).then((e=>e.syncEngine))}function WF(t){return yx(t).then((e=>e.datastore))}async function vf(t){const e=await yx(t),n=e.eventManager;return n.onListen=fY.bind(null,e.syncEngine),n.onUnlisten=mY.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hY.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=pY.bind(null,e.syncEngine),n}function LY(t){return t.asyncQueue.enqueue((async()=>{const e=await $F(t),n=await qF(t);return e.setNetworkEnabled(!0),(function(i){const s=ke(i);return s.L_.delete(0),wp(s)})(n)}))}function VY(t){return t.asyncQueue.enqueue((async()=>{const e=await $F(t),n=await qF(t);return e.setNetworkEnabled(!1),(async function(i){const s=ke(i);s.L_.add(0),await Mf(s),s.q_.set("Offline")})(n)}))}function FY(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await(function(d,f){const m=ke(d);return m.persistence.runTransaction("read document","readonly",(p=>m.localDocuments.getDocument(p,f)))})(i,s);o.isFoundDocument()?a.resolve(o):o.isNoDocument()?a.resolve(null):a.reject(new we(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){const l=Ff(o,`Failed to get document '${s} from cache`);a.reject(l)}})(await Bf(t),e,n))),n.promise}function HF(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,d){const f=new gx({next:p=>{f.Za(),a.enqueueAndForget((()=>qS(s,m)));const y=p.docs.has(o);!y&&p.fromCache?d.reject(new we(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?d.reject(new we(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new HS(Rf(o.path),f,{includeMetadataChanges:!0,_a:!0});return $S(s,m)})(await vf(t),t.asyncQueue,e,n,r))),r.promise}function BY(t,e){const n=new ur;return t.asyncQueue.enqueueAndForget((async()=>(async function(i,s,a){try{const o=await Vv(i,s,!0),l=new LF(s,o.Ts),d=l.ma(o.documents),f=l.applyChanges(d,!1);a.resolve(f.snapshot)}catch(o){const l=Ff(o,`Failed to execute query '${s} against cache`);a.reject(l)}})(await Bf(t),e,n))),n.promise}function KF(t,e,n={}){const r=new ur;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,d){const f=new gx({next:p=>{f.Za(),a.enqueueAndForget((()=>qS(s,m))),p.fromCache&&l.source==="server"?d.reject(new we(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new HS(o,f,{includeMetadataChanges:!0,_a:!0});return $S(s,m)})(await vf(t),t.asyncQueue,e,n,r))),r.promise}function zY(t,e,n){const r=new ur;return t.asyncQueue.enqueueAndForget((async()=>{try{const i=await WF(t);r.resolve((async function(a,o,l){var d;const f=ke(a),{request:m,ut:p,parent:y}=tF(f.serializer,S3(o),l);f.connection.Fo||delete m.parent;const v=(await f.Lo("RunAggregationQuery",f.serializer.databaseId,y,m,1)).filter((_=>!!_.result));$e(v.length===1);const w=(d=v[0].result)===null||d===void 0?void 0:d.aggregateFields;return Object.keys(w).reduce(((_,T)=>(_[p[T]]=w[T],_)),{})})(i,e,n))}catch(i){r.reject(i)}})),r.promise}function UY(t,e){const n=new gx(e);return t.asyncQueue.enqueueAndForget((async()=>(function(i,s){ke(i).Y_.add(s),s.next()})(await vf(t),n))),()=>{n.Za(),t.asyncQueue.enqueueAndForget((async()=>(function(i,s){ke(i).Y_.delete(s)})(await vf(t),n)))}}function $Y(t,e,n,r){const i=(function(a,o){let l;return l=typeof a=="string"?W3().encode(a):a,(function(f,m){return new RY(f,m)})((function(f,m){if(f instanceof Uint8Array)return Ek(f,m);if(f instanceof ArrayBuffer)return Ek(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")})(l),o)})(n,bp(e));t.asyncQueue.enqueueAndForget((async()=>{jY(await eP(t),i,r)}))}function qY(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){const s=ke(r);return s.persistence.runTransaction("Get named query","readonly",(a=>s.Gr.getNamedQuery(a,i)))})(await Bf(t),e)))}function WY(t,e){return t.asyncQueue.enqueue((async()=>(async function(r,i){const s=ke(r),a=s.indexManager,o=[];return s.persistence.runTransaction("Configure indexes","readwrite",(l=>a.getFieldIndexes(l).next((d=>(function(m,p,y,v,w){m=[...m],p=[...p],m.sort(y),p.sort(y);const _=m.length,T=p.length;let L=0,O=0;for(;L<T&&O<_;){const z=y(m[O],p[L]);z<0?w(m[O++]):z>0?v(p[L++]):(L++,O++)}for(;L<T;)v(p[L++]);for(;O<_;)w(m[O++])})(d,i,GK,(f=>{o.push(a.addFieldIndex(l,f))}),(f=>{o.push(a.deleteFieldIndex(l,f))})))).next((()=>ce.waitFor(o)))))})(await Bf(t),e)))}function HY(t,e){return t.asyncQueue.enqueue((async()=>(function(r,i){ke(r).ss.zi=i})(await Bf(t),e)))}function KY(t){return t.asyncQueue.enqueue((async()=>(function(n){const r=ke(n),i=r.indexManager;return r.persistence.runTransaction("Delete All Indexes","readwrite",(s=>i.deleteAllFieldIndexes(s)))})(await Bf(t))))}function GF(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const Ck=new Map;function tP(t,e,n){if(!n)throw new we(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XF(t,e,n,r){if(e===!0&&r===!0)throw new we(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Sk(t){if(!Re.isDocumentKey(t))throw new we(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Pk(t){if(Re.isDocumentKey(t))throw new we(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function pt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vx(t);throw new we(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function YF(t,e){if(e<=0)throw new we(ge.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class Ak{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new we(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GF((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new we(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new we(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new we(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _p{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ak({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new we(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new we(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ak(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ZV;switch(r.type){case"firstParty":return new $K(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new we(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Ck.get(n);r&&(_e("ComponentProvider","Removing Datastore"),Ck.delete(n),r.terminate())})(this),Promise.resolve()}}function QF(t,e,n,r={}){var i;const s=(t=pt(t,_p))._getSettings(),a=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&Vi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let o,l;if(typeof r.mockUserToken=="string")o=r.mockUserToken,l=lr.MOCK_USER;else{o=VV(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new we(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new lr(d)}t._authCredentials=new BK(new JV(o,l))}}class dr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new dr(this.firestore,e,this._query)}}class kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class Bs extends dr{constructor(e,n,r){super(e,n,Rf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new Re(e))}withConverter(e){return new Bs(this.firestore,e,this._path)}}function nt(t,e,...n){if(t=kt(t),tP("collection","path",e),t instanceof _p){const r=Tt.fromString(e,...n);return Pk(r),new Bs(t,null,r)}{if(!(t instanceof kn||t instanceof Bs))throw new we(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return Pk(r),new Bs(t.firestore,null,r)}}function GY(t,e){if(t=pt(t,_p),tP("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new we(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new dr(t,null,(function(r){return new _o(Tt.emptyPath(),r)})(e))}function rt(t,e,...n){if(t=kt(t),arguments.length===1&&(e=pS.newId()),tP("doc","path",e),t instanceof _p){const r=Tt.fromString(e,...n);return Sk(r),new kn(t,null,new Re(r))}{if(!(t instanceof kn||t instanceof Bs))throw new we(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Tt.fromString(e,...n));return Sk(r),new kn(t.firestore,t instanceof Bs?t.converter:null,new Re(r))}}function XY(t,e){return t=kt(t),e=kt(e),(t instanceof kn||t instanceof Bs)&&(e instanceof kn||e instanceof Bs)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function nP(t,e){return t=kt(t),e=kt(e),t instanceof dr&&e instanceof dr&&t.firestore===e.firestore&&pp(t._query,e._query)&&t.converter===e.converter}class Nk{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new VS(this,"async_queue_retry"),this.Vu=()=>{const r=av();r&&_e("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=av();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=av();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new ur;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ql(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((r=>{this.Eu=r,this.du=!1;const i=(function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o})(r);throw On("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.du=!1,r))))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=US.createAndSchedule(this,e,n,r,(s=>this.yu(s)));return this.Tu.push(i),i}fu(){this.Eu&&Ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function kT(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class JF{constructor(){this._progressObserver={},this._taskCompletionResolver=new ur,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const ZF=-1;class Gt extends _p{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Nk,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nk(e),this._firestoreClient=void 0,await e}}}function eB(t,e,n){n||(n="(default)");const r=Au(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Dl(s,e))return i;throw new we(ge.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new we(ge.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new we(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function tB(t,e){const n=typeof t=="object"?t:rx(),r=typeof t=="string"?t:e||"(default)",i=Au(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dS("firestore");s&&QF(i,...s)}return i}function gn(t){if(t._terminated)throw new we(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nB(t),t._firestoreClient}function nB(t){var e,n,r;const i=t._freezeSettings(),s=(function(o,l,d,f){return new wG(o,l,d,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,GF(f.experimentalLongPollingOptions),f.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new MY(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&(function(o){const l=o?._online.build();return{_offline:o?._offline.build(l),_online:l}})(t._componentsProvider))}function YY(t,e){Vi("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return rB(t,$l.provider,{build:r=>new JS(r,n.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}async function QY(t){Vi("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();rB(t,$l.provider,{build:n=>new UF(n,e.cacheSizeBytes)})}function rB(t,e,n){if((t=pt(t,Gt))._firestoreClient||t._terminated)throw new we(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new we(ge.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},nB(t)}function JY(t){if(t._initialized&&!t._terminated)throw new we(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ur;return t._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await(async function(r){if(!xa.D())return Promise.resolve();const i=r+"main";await xa.delete(i)})(OS(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}})),e.promise}function ZY(t){return(function(n){const r=new ur;return n.asyncQueue.enqueueAndForget((async()=>bY(await eP(n),r))),r.promise})(gn(t=pt(t,Gt)))}function eQ(t){return LY(gn(t=pt(t,Gt)))}function tQ(t){return VY(gn(t=pt(t,Gt)))}function nQ(t){return SK(t.app,"firestore",t._databaseId.database),t._delete()}function rQ(t,e){const n=gn(t=pt(t,Gt)),r=new JF;return $Y(n,t._databaseId,e,r),r}function iQ(t,e){return qY(gn(t=pt(t,Gt)),e).then((n=>n?new dr(t,null,n.query):null))}class xf{constructor(e="count",n){this._internalFieldPath=n,this.type="AggregateField",this.aggregateType=e}}class iB{constructor(e,n,r){this._userDataWriter=n,this._data=r,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ql(En.fromBase64String(e))}catch(n){throw new we(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ql(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ec{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new we(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function sQ(){return new ec("__name__")}class tc{constructor(e){this._methodName=e}}class xx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ot(this._lat,e._lat)||ot(this._long,e._long)}}class Ep{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0})(this._values,e._values)}}const aQ=/^__.*__$/;class oQ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,n,this.fieldTransforms):new Df(e,this.data,n,this.fieldTransforms)}}class sB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new To(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class bx{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new bx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Uv(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(aB(this.Cu)&&aQ.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class lQ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bp(e)}Qu(e,n,r,i=!1){return new bx({Cu:e,methodName:n,qu:r,path:cn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iu(t){const e=t._freezeSettings(),n=bp(t._databaseId);return new lQ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wx(t,e,n,r,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);cP("Data must be an object, but it was:",a,r);const o=cB(r,a);let l,d;if(s.merge)l=new vi(a.fieldMask),d=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const m of s.mergeFields){const p=Vm(e,m,n);if(!a.contains(p))throw new we(ge.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);dB(f,p)||f.push(p)}l=new vi(f),d=a.fieldTransforms.filter((m=>l.covers(m.field)))}else l=null,d=a.fieldTransforms;return new oQ(new Cr(o),l,d)}class Tp extends tc{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Tp}}function oB(t,e,n){return new bx({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class rP extends tc{_toFieldTransform(e){return new yp(e.path,new uf)}isEqual(e){return e instanceof rP}}class iP extends tc{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=oB(this,e,!0),r=this.Ku.map((s=>ju(s,n))),i=new cu(r);return new yp(e.path,i)}isEqual(e){return e instanceof iP&&Dl(this.Ku,e.Ku)}}class sP extends tc{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=oB(this,e,!0),r=this.Ku.map((s=>ju(s,n))),i=new uu(r);return new yp(e.path,i)}isEqual(e){return e instanceof sP&&Dl(this.Ku,e.Ku)}}class aP extends tc{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new df(e.serializer,O3(e.serializer,this.$u));return new yp(e.path,n)}isEqual(e){return e instanceof aP&&this.$u===e.$u}}function oP(t,e,n,r){const i=t.Qu(1,e,n);cP("Data must be an object, but it was:",i,r);const s=[],a=Cr.empty();Jl(r,((l,d)=>{const f=_x(e,l,n);d=kt(d);const m=i.Nu(f);if(d instanceof Tp)s.push(f);else{const p=ju(d,m);p!=null&&(s.push(f),a.set(f,p))}}));const o=new vi(s);return new sB(a,o,i.fieldTransforms)}function lP(t,e,n,r,i,s){const a=t.Qu(1,e,n),o=[Vm(e,r,n)],l=[i];if(s.length%2!=0)throw new we(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)o.push(Vm(e,s[p])),l.push(s[p+1]);const d=[],f=Cr.empty();for(let p=o.length-1;p>=0;--p)if(!dB(d,o[p])){const y=o[p];let v=l[p];v=kt(v);const w=a.Nu(y);if(v instanceof Tp)d.push(y);else{const _=ju(v,w);_!=null&&(d.push(y),f.set(y,_))}}const m=new vi(d);return new sB(f,m,a.fieldTransforms)}function lB(t,e,n,r=!1){return ju(n,t.Qu(r?4:3,e))}function ju(t,e){if(uB(t=kt(t)))return cP("Unsupported field value:",e,t),cB(t,e);if(t instanceof tc)return(function(r,i){if(!aB(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(r,i){const s=[];let a=0;for(const o of r){let l=ju(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(t,e)}return(function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return O3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=jt.fromDate(r);return{timestampValue:ff(i.serializer,s)}}if(r instanceof jt){const s=new jt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ff(i.serializer,s)}}if(r instanceof xx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ql)return{bytesValue:G3(i.serializer,r._byteString)};if(r instanceof kn){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:AS(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ep)return(function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map((l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return _S(o.serializer,l)}))}}}}}})(r,i);throw i.Bu(`Unsupported field value: ${vx(r)}`)})(t,e)}function cB(t,e){const n={};return h3(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jl(t,((r,i)=>{const s=ju(i,e.Mu(r));s!=null&&(n[r]=s)})),{mapValue:{fields:n}}}function uB(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof jt||t instanceof xx||t instanceof ql||t instanceof kn||t instanceof tc||t instanceof Ep)}function cP(t,e,n){if(!uB(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=vx(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Vm(t,e,n){if((e=kt(e))instanceof ec)return e._internalPath;if(typeof e=="string")return _x(t,e);throw Uv("Field path arguments must be of type string or ",t,!1,void 0,n)}const cQ=new RegExp("[~\\*/\\[\\]]");function _x(t,e,n){if(e.search(cQ)>=0)throw Uv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ec(...e.split("."))._internalPath}catch{throw Uv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Uv(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new we(ge.INVALID_ARGUMENT,o+t+l)}function dB(t,e){return t.some((n=>n.isEqual(e)))}class Fm{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ex("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uQ extends Fm{data(){return super.data()}}function Ex(t,e){return typeof e=="string"?_x(t,e):e instanceof ec?e._internalPath:e._delegate._internalPath}function fB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new we(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uP{}class zf extends uP{}function It(t,e,...n){let r=[];e instanceof uP&&r.push(e),r=r.concat(n),(function(s){const a=s.filter((l=>l instanceof ku)).length,o=s.filter((l=>l instanceof Uf)).length;if(a>1||a>0&&o>0)throw new we(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Uf extends zf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Uf(e,n,r)}_apply(e){const n=this._parse(e);return mB(e._query,n),new dr(e.firestore,e.converter,bT(e._query,n))}_parse(e){const n=Iu(e.firestore);return(function(s,a,o,l,d,f,m){let p;if(d.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new we(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){jk(m,f);const y=[];for(const v of m)y.push(Ik(l,s,v));p={arrayValue:{values:y}}}else p=Ik(l,s,m)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||jk(m,f),p=lB(o,a,m,f==="in"||f==="not-in");return Ct.create(d,f,p)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yt(t,e,n){const r=e,i=Ex("where",t);return Uf._create(i,r,n)}class ku extends uP{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ku(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:Ht.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)mB(a,l),a=bT(a,l)})(e._query,n),new dr(e.firestore,e.converter,bT(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function dQ(...t){return t.forEach((e=>pB("or",e))),ku._create("or",t)}function fQ(...t){return t.forEach((e=>pB("and",e))),ku._create("and",t)}class Tx extends zf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tx(e,n)}_apply(e){const n=(function(i,s,a){if(i.startAt!==null)throw new we(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new we(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Om(s,a)})(e._query,this._field,this._direction);return new dr(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new _o(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Cp(t,e="asc"){const n=e,r=Ex("orderBy",t);return Tx._create(r,n)}class Sp extends zf{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Sp(e,n,r)}_apply(e){return new dr(e.firestore,e.converter,kv(e._query,this._limit,this._limitType))}}function da(t){return YF("limit",t),Sp._create("limit",t,"F")}function hQ(t){return YF("limitToLast",t),Sp._create("limitToLast",t,"L")}class Pp extends zf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Pp(e,n,r)}_apply(e){const n=hB(e,this.type,this._docOrFields,this._inclusive);return new dr(e.firestore,e.converter,(function(i,s){return new _o(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,n))}}function mQ(...t){return Pp._create("startAt",t,!0)}function pQ(...t){return Pp._create("startAfter",t,!1)}class Ap extends zf{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ap(e,n,r)}_apply(e){const n=hB(e,this.type,this._docOrFields,this._inclusive);return new dr(e.firestore,e.converter,(function(i,s){return new _o(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)})(e._query,n))}}function gQ(...t){return Ap._create("endBefore",t,!1)}function yQ(...t){return Ap._create("endAt",t,!0)}function hB(t,e,n,r){if(n[0]=kt(n[0]),n[0]instanceof Fm)return(function(s,a,o,l,d){if(!l)throw new we(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const f=[];for(const m of Xd(s))if(m.field.isKeyField())f.push(ou(a,l.key));else{const p=l.data.field(m.field);if(sx(p))throw new we(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const y=m.field.canonicalString();throw new we(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}f.push(p)}return new Bl(f,d)})(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Iu(t.firestore);return(function(a,o,l,d,f,m){const p=a.explicitOrderBy;if(f.length>p.length)throw new we(ge.INVALID_ARGUMENT,`Too many arguments provided to ${d}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let v=0;v<f.length;v++){const w=f[v];if(p[v].field.isKeyField()){if(typeof w!="string")throw new we(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${d}(), but got a ${typeof w}`);if(!bS(a)&&w.indexOf("/")!==-1)throw new we(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${d}() must be a plain document ID, but '${w}' contains a slash.`);const _=a.path.child(Tt.fromString(w));if(!Re.isDocumentKey(_))throw new we(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${d}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);const T=new Re(_);y.push(ou(o,T))}else{const _=lB(l,d,w);y.push(_)}}return new Bl(y,m)})(t._query,t.firestore._databaseId,i,e,n,r)}}function Ik(t,e,n){if(typeof(n=kt(n))=="string"){if(n==="")throw new we(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bS(e)&&n.indexOf("/")!==-1)throw new we(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Tt.fromString(n));if(!Re.isDocumentKey(r))throw new we(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ou(t,new Re(r))}if(n instanceof kn)return ou(t,n._key);throw new we(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vx(n)}.`)}function jk(t,e){if(!Array.isArray(t)||t.length===0)throw new we(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function mB(t,e){const n=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new we(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new we(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function pB(t,e){if(!(e instanceof Uf||e instanceof ku))throw new we(ge.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class dP{convertValue(e,n="none"){switch(Vl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return hn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(uo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Jl(e,((i,s)=>{r[i]=this.convertValue(s,n)})),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map((a=>hn(a.doubleValue)));return new Ep(s)}convertGeoPoint(e){return new xx(hn(e.latitude),hn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ax(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(km(e));default:return null}}convertTimestamp(e){const n=co(e);return new jt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Tt.fromString(e);$e(sF(r));const i=new Ll(r.get(1),r.get(3)),s=new Re(r.popFirst(5));return i.isEqual(n)||On(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function Cx(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class vQ extends dP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function xQ(t){return new xf("sum",Vm("sum",t))}function bQ(t){return new xf("avg",Vm("average",t))}function gB(){return new xf("count")}function wQ(t,e){var n,r;return t instanceof xf&&e instanceof xf&&t.aggregateType===e.aggregateType&&((n=t._internalFieldPath)===null||n===void 0?void 0:n.canonicalString())===((r=e._internalFieldPath)===null||r===void 0?void 0:r.canonicalString())}function _Q(t,e){return nP(t.query,e.query)&&Dl(t.data(),e.data())}class Tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mu extends Fm{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ex("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class xm extends mu{data(e={}){return super.data(e)}}class pu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Tl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new xm(this._firestore,this._userDataWriter,r.key,r,new Tl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const l=new xm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Tl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new xm(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Tl(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return o.type!==0&&(d=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:EQ(o.type),doc:l,oldIndex:d,newIndex:f}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function EQ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}function TQ(t,e){return t instanceof mu&&e instanceof mu?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof pu&&e instanceof pu&&t._firestore===e._firestore&&nP(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Bi(t){t=pt(t,kn);const e=pt(t.firestore,Gt);return HF(gn(e),t._key).then((n=>fP(e,t,n)))}class nc extends dP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function CQ(t){t=pt(t,kn);const e=pt(t.firestore,Gt),n=gn(e),r=new nc(e);return FY(n,t._key).then((i=>new mu(e,r,t._key,i,new Tl(i!==null&&i.hasLocalMutations,!0),t.converter)))}function SQ(t){t=pt(t,kn);const e=pt(t.firestore,Gt);return HF(gn(e),t._key,{source:"server"}).then((n=>fP(e,t,n)))}function Pt(t){t=pt(t,dr);const e=pt(t.firestore,Gt),n=gn(e),r=new nc(e);return fB(t._query),KF(n,t._query).then((i=>new pu(e,r,t,i)))}function PQ(t){t=pt(t,dr);const e=pt(t.firestore,Gt),n=gn(e),r=new nc(e);return BY(n,t._query).then((i=>new pu(e,r,t,i)))}function AQ(t){t=pt(t,dr);const e=pt(t.firestore,Gt),n=gn(e),r=new nc(e);return KF(n,t._query,{source:"server"}).then((i=>new pu(e,r,t,i)))}function cr(t,e,n){t=pt(t,kn);const r=pt(t.firestore,Gt),i=Cx(t.converter,e,n);return $f(r,[wx(Iu(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,mn.none())])}function bi(t,e,n,...r){t=pt(t,kn);const i=pt(t.firestore,Gt),s=Iu(i);let a;return a=typeof(e=kt(e))=="string"||e instanceof ec?lP(s,"updateDoc",t._key,e,n,r):oP(s,"updateDoc",t._key,e),$f(i,[a.toMutation(t._key,mn.exists(!0))])}function fo(t){return $f(pt(t.firestore,Gt),[new Of(t._key,mn.none())])}function _i(t,e){const n=pt(t.firestore,Gt),r=rt(t),i=Cx(t.converter,e);return $f(n,[wx(Iu(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,mn.exists(!1))]).then((()=>r))}function hs(t,...e){var n,r,i;t=kt(t);let s={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||kT(e[a])||(s=e[a],a++);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(kT(e[a])){const m=e[a];e[a]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[a+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[a+2]=(i=m.complete)===null||i===void 0?void 0:i.bind(m)}let l,d,f;if(t instanceof kn)d=pt(t.firestore,Gt),f=Rf(t._key.path),l={next:m=>{e[a]&&e[a](fP(d,t,m))},error:e[a+1],complete:e[a+2]};else{const m=pt(t,dr);d=pt(m.firestore,Gt),f=m._query;const p=new nc(d);l={next:y=>{e[a]&&e[a](new pu(d,p,m,y))},error:e[a+1],complete:e[a+2]},fB(t._query)}return(function(p,y,v,w){const _=new gx(w),T=new HS(y,_,v);return p.asyncQueue.enqueueAndForget((async()=>$S(await vf(p),T))),()=>{_.Za(),p.asyncQueue.enqueueAndForget((async()=>qS(await vf(p),T)))}})(gn(d),f,o,l)}function NQ(t,e){return UY(gn(t=pt(t,Gt)),kT(e)?e:{next:e})}function $f(t,e){return(function(r,i){const s=new ur;return r.asyncQueue.enqueueAndForget((async()=>gY(await eP(r),i,s))),s.promise})(gn(t),e)}function fP(t,e,n){const r=n.docs.get(e._key),i=new nc(t);return new mu(t,i,e._key,r,new Tl(n.hasPendingWrites,n.fromCache),e.converter)}function IQ(t){return yB(t,{count:gB()})}function yB(t,e){const n=pt(t.firestore,Gt),r=gn(n),i=f3(e,((s,a)=>new U3(a,s.aggregateType,s._internalFieldPath)));return zY(r,t._query,i).then((s=>(function(o,l,d){const f=new nc(o);return new iB(l,f,d)})(n,t,s)))}class jQ{constructor(e){this.kind="memory",this._onlineComponentProvider=$l.provider,e?.garbageCollector?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=Ul.provider}toJSON(){return{kind:this.kind}}}class kQ{constructor(e){let n;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),n=e.tabManager):(n=xB(void 0),n._initialize(e)),this._onlineComponentProvider=n._onlineComponentProvider,this._offlineComponentProvider=n._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class RQ{constructor(){this.kind="memoryEager",this._offlineComponentProvider=Ul.provider}toJSON(){return{kind:this.kind}}}class DQ{constructor(e){this.kind="memoryLru",this._offlineComponentProvider={build:()=>new kY(e)}}toJSON(){return{kind:this.kind}}}function OQ(){return new RQ}function MQ(t){return new DQ(t?.cacheSizeBytes)}function LQ(t){return new jQ(t)}function vB(t){return new kQ(t)}class VQ{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=$l.provider,this._offlineComponentProvider={build:n=>new JS(n,e?.cacheSizeBytes,this.forceOwnership)}}}class FQ{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=$l.provider,this._offlineComponentProvider={build:n=>new UF(n,e?.cacheSizeBytes)}}}function xB(t){return new VQ(t?.forceOwnership)}function bB(){return new FQ}const BQ={maxAttempts:5};class wB{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Iu(e)}set(e,n,r){this._verifyNotCommitted();const i=vl(e,this._firestore),s=Cx(i.converter,n,r),a=wx(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(a.toMutation(i._key,mn.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=vl(e,this._firestore);let a;return a=typeof(n=kt(n))=="string"||n instanceof ec?lP(this._dataReader,"WriteBatch.update",s._key,n,r,i):oP(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(a.toMutation(s._key,mn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=vl(e,this._firestore);return this._mutations=this._mutations.concat(new Of(n._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new we(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vl(t,e){if((t=kt(t)).firestore!==e)throw new we(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class _B extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Iu(n)}get(n){const r=vl(n,this._firestore),i=new vQ(this._firestore);return this._transaction.lookup([r._key]).then((s=>{if(!s||s.length!==1)return Ve();const a=s[0];if(a.isFoundDocument())return new Fm(this._firestore,i,a.key,a,r.converter);if(a.isNoDocument())return new Fm(this._firestore,i,r._key,null,r.converter);throw Ve()}))}set(n,r,i){const s=vl(n,this._firestore),a=Cx(s.converter,r,i),o=wx(this._dataReader,"Transaction.set",s._key,a,s.converter!==null,i);return this._transaction.set(s._key,o),this}update(n,r,i,...s){const a=vl(n,this._firestore);let o;return o=typeof(r=kt(r))=="string"||r instanceof ec?lP(this._dataReader,"Transaction.update",a._key,r,i,s):oP(this._dataReader,"Transaction.update",a._key,r),this._transaction.update(a._key,o),this}delete(n){const r=vl(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=vl(e,this._firestore),r=new nc(this._firestore);return super.get(e).then((i=>new mu(this._firestore,r,n._key,i._document,new Tl(!1,!1),n.converter)))}}function hP(t,e,n){t=pt(t,Gt);const r=Object.assign(Object.assign({},BQ),n);return(function(s){if(s.maxAttempts<1)throw new we(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(s,a,o){const l=new ur;return s.asyncQueue.enqueueAndForget((async()=>{const d=await WF(s);new OY(s.asyncQueue,d,o,a,l).au()})),l.promise})(gn(t),(i=>e(new _B(t,i))),r)}function zQ(){return new Tp("deleteField")}function as(){return new rP("serverTimestamp")}function UQ(...t){return new iP("arrayUnion",t)}function $Q(...t){return new sP("arrayRemove",t)}function qQ(t){return new aP("increment",t)}function WQ(t){return new Ep(t)}function qc(t){return gn(t=pt(t,Gt)),new wB(t,(e=>$f(t,e)))}function HQ(t,e){const n=gn(t=pt(t,Gt));if(!n._uninitializedComponentsProvider||n._uninitializedComponentsProvider._offline.kind==="memory")return Vi("Cannot enable indexes when persistence is disabled"),Promise.resolve();const r=(function(s){const a=typeof s=="string"?(function(d){try{return JSON.parse(d)}catch(f){throw new we(ge.INVALID_ARGUMENT,"Failed to parse JSON: "+f?.message)}})(s):s,o=[];if(Array.isArray(a.indexes))for(const l of a.indexes){const d=kk(l,"collectionGroup"),f=[];if(Array.isArray(l.fields))for(const m of l.fields){const p=_x("setIndexConfiguration",kk(m,"fieldPath"));m.arrayConfig==="CONTAINS"?f.push(new Zc(p,2)):m.order==="ASCENDING"?f.push(new Zc(p,0)):m.order==="DESCENDING"&&f.push(new Zc(p,1))}o.push(new af(af.UNKNOWN_ID,d,f,of.empty()))}return o})(e);return WY(n,r)}function kk(t,e){if(typeof t[e]!="string")throw new we(ge.INVALID_ARGUMENT,"Missing string value for: "+e);return t[e]}class EB{constructor(e){this._firestore=e,this.type="PersistentCacheIndexManager"}}function KQ(t){var e;t=pt(t,Gt);const n=Rk.get(t);if(n)return n;if(((e=gn(t)._uninitializedComponentsProvider)===null||e===void 0?void 0:e._offline.kind)!=="persistent")return null;const r=new EB(t);return Rk.set(t,r),r}function GQ(t){TB(t,!0)}function XQ(t){TB(t,!1)}function YQ(t){KY(gn(t._firestore)).then((e=>_e("deleting all persistent cache indexes succeeded"))).catch((e=>Vi("deleting all persistent cache indexes failed",e)))}function TB(t,e){HY(gn(t._firestore),e).then((n=>_e(`setting persistent cache index auto creation isEnabled=${e} succeeded`))).catch((n=>Vi(`setting persistent cache index auto creation isEnabled=${e} failed`,n)))}const Rk=new WeakMap;function QQ(t){var e;const n=(e=gn(pt(t.firestore,Gt))._onlineComponents)===null||e===void 0?void 0:e.datastore.serializer;return n===void 0?null:ux(n,Br(t._query))._t}function JQ(t,e){var n;const r=f3(e,((s,a)=>new U3(a,s.aggregateType,s._internalFieldPath))),i=(n=gn(pt(t.firestore,Gt))._onlineComponents)===null||n===void 0?void 0:n.datastore.serializer;return i===void 0?null:tF(i,S3(t._query),r,!0).request}class ZQ{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return mP.instance.onExistenceFilterMismatch(e)}}class mP{constructor(){this.Uu=new Map}static get instance(){return Cy||(Cy=new mP,(function(n){if(Rv)throw new Error("a TestingHooksSpi instance is already set");Rv=n})(Cy)),Cy}et(e){this.Uu.forEach((n=>n(e)))}onExistenceFilterMismatch(e){const n=Symbol(),r=this.Uu;return r.set(n,e),()=>r.delete(n)}}let Cy=null;(function(e,n=!0){(function(i){kf=i})(Nu),Ol(new oo("firestore",((r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new Gt(new zK(r.getProvider("auth-internal")),new qK(r.getProvider("app-check-internal")),(function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new we(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(d.options.projectId,f)})(a,i),a);return s=Object.assign({useFetchStreams:n},s),o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),ss(_2,"4.7.3",e),ss(_2,"4.7.3","esm2017")})();const eJ=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:dP,AggregateField:xf,AggregateQuerySnapshot:iB,Bytes:ql,CACHE_SIZE_UNLIMITED:ZF,CollectionReference:Bs,DocumentReference:kn,DocumentSnapshot:mu,FieldPath:ec,FieldValue:tc,Firestore:Gt,FirestoreError:we,GeoPoint:xx,LoadBundleTask:JF,PersistentCacheIndexManager:EB,Query:dr,QueryCompositeFilterConstraint:ku,QueryConstraint:zf,QueryDocumentSnapshot:xm,QueryEndAtConstraint:Ap,QueryFieldFilterConstraint:Uf,QueryLimitConstraint:Sp,QueryOrderByConstraint:Tx,QuerySnapshot:pu,QueryStartAtConstraint:Pp,SnapshotMetadata:Tl,Timestamp:jt,Transaction:_B,VectorValue:Ep,WriteBatch:wB,_AutoId:pS,_ByteString:En,_DatabaseId:Ll,_DocumentKey:Re,_EmptyAppCheckTokenProvider:WK,_EmptyAuthCredentialsProvider:ZV,_FieldPath:cn,_TestingHooks:ZQ,_cast:pt,_debugAssert:FK,_internalAggregationQueryToProtoRunAggregationQueryRequest:JQ,_internalQueryToProtoQueryTarget:QQ,_isBase64Available:xG,_logWarn:Vi,_validateIsNotUsedTogether:XF,addDoc:_i,aggregateFieldEqual:wQ,aggregateQuerySnapshotEqual:_Q,and:fQ,arrayRemove:$Q,arrayUnion:UQ,average:bQ,clearIndexedDbPersistence:JY,collection:nt,collectionGroup:GY,connectFirestoreEmulator:QF,count:gB,deleteAllPersistentCacheIndexes:YQ,deleteDoc:fo,deleteField:zQ,disableNetwork:tQ,disablePersistentCacheIndexAutoCreation:XQ,doc:rt,documentId:sQ,enableIndexedDbPersistence:YY,enableMultiTabIndexedDbPersistence:QY,enableNetwork:eQ,enablePersistentCacheIndexAutoCreation:GQ,endAt:yQ,endBefore:gQ,ensureFirestoreConfigured:gn,executeWrite:$f,getAggregateFromServer:yB,getCountFromServer:IQ,getDoc:Bi,getDocFromCache:CQ,getDocFromServer:SQ,getDocs:Pt,getDocsFromCache:PQ,getDocsFromServer:AQ,getFirestore:tB,getPersistentCacheIndexManager:KQ,increment:qQ,initializeFirestore:eB,limit:da,limitToLast:hQ,loadBundle:rQ,memoryEagerGarbageCollector:OQ,memoryLocalCache:LQ,memoryLruGarbageCollector:MQ,namedQuery:iQ,onSnapshot:hs,onSnapshotsInSync:NQ,or:dQ,orderBy:Cp,persistentLocalCache:vB,persistentMultipleTabManager:bB,persistentSingleTabManager:xB,query:It,queryEqual:nP,refEqual:XY,runTransaction:hP,serverTimestamp:as,setDoc:cr,setIndexConfiguration:HQ,setLogLevel:VK,snapshotEqual:TQ,startAfter:pQ,startAt:mQ,sum:xQ,terminate:nQ,updateDoc:bi,vector:WQ,waitForPendingWrites:ZY,where:yt,writeBatch:qc},Symbol.toStringTag,{value:"Module"}));var tJ="firebase",nJ="10.14.1";ss(tJ,nJ,"app");function pP(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rJ=CB,SB=new dp("auth","Firebase",CB());const $v=new fS("@firebase/auth");function iJ(t,...e){$v.logLevel<=Et.WARN&&$v.warn(`Auth (${Nu}): ${t}`,...e)}function ov(t,...e){$v.logLevel<=Et.ERROR&&$v.error(`Auth (${Nu}): ${t}`,...e)}function cs(t,...e){throw yP(t,...e)}function zs(t,...e){return yP(t,...e)}function gP(t,e,n){const r=Object.assign(Object.assign({},rJ()),{[e]:n});return new dp("auth","Firebase",r).create(e,{appName:t.name})}function io(t){return gP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sJ(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&cs(t,"argument-error"),gP(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yP(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return SB.create(t,...e)}function st(t,e,...n){if(!t)throw yP(e,...n)}function Za(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ov(e),new Error(e)}function ho(t,e){t||Za(e)}function RT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aJ(){return Dk()==="http:"||Dk()==="https:"}function Dk(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function oJ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aJ()||xH()||"connection"in navigator)?navigator.onLine:!0}function lJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Np{constructor(e,n){this.shortDelay=e,this.longDelay=n,ho(n>e,"Short delay should be less than long delay!"),this.isMobile=gH()||bH()}get(){return oJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vP(t,e){ho(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class PB{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const uJ=new Np(3e4,6e4);function So(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ja(t,e,n,r,i={}){return AB(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=fp(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:l},s);return vH()||(d.referrerPolicy="no-referrer"),PB.fetch()(NB(t,t.config.apiHost,n,o),d)})}async function AB(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cJ),e);try{const i=new fJ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw Sy(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,d]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sy(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw Sy(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw Sy(t,"user-disabled",a);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw gP(t,f,d);cs(t,f)}}catch(i){if(i instanceof Ia)throw i;cs(t,"network-request-failed",{message:String(i)})}}async function Ip(t,e,n,r,i={}){const s=await ja(t,e,n,r,i);return"mfaPendingCredential"in s&&cs(t,"multi-factor-auth-required",{_serverResponse:s}),s}function NB(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?vP(t.config,i):`${t.config.apiScheme}://${i}`}function dJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(zs(this.auth,"network-request-failed")),uJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=zs(t,e,r);return i.customData._tokenResponse=n,i}function Ok(t){return t!==void 0&&t.enterprise!==void 0}class hJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function mJ(t,e){return ja(t,"GET","/v2/recaptchaConfig",So(t,e))}async function pJ(t,e){return ja(t,"POST","/v1/accounts:delete",e)}async function IB(t,e){return ja(t,"POST","/v1/accounts:lookup",e)}function bm(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gJ(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=xP(r);st(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s?.sign_in_provider;return{claims:i,token:r,authTime:bm(x1(i.auth_time)),issuedAtTime:bm(x1(i.iat)),expirationTime:bm(x1(i.exp)),signInProvider:a||null,signInSecondFactor:s?.sign_in_second_factor||null}}function x1(t){return Number(t)*1e3}function xP(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ov("JWT malformed, contained fewer than 3 sections"),null;try{const i=DV(n);return i?JSON.parse(i):(ov("Failed to decode base64 JWT payload"),null)}catch(i){return ov("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Mk(t){const e=xP(t);return st(e,"internal-error"),st(typeof e.exp<"u","internal-error"),st(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function bf(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ia&&yJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class vJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class DT{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bm(this.lastLoginAt),this.creationTime=bm(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function qv(t){var e;const n=t.auth,r=await t.getIdToken(),i=await bf(t,IB(n,{idToken:r}));st(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const a=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?jB(s.providerUserInfo):[],o=bJ(t.providerData,a),l=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!o?.length,f=l?d:!1,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new DT(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function xJ(t){const e=kt(t);await qv(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function jB(t){return t.map(e=>{var{providerId:n}=e,r=pP(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function wJ(t,e){const n=await AB(t,{},async()=>{const r=fp({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=NB(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",PB.fetch()(a,{method:"POST",headers:o,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _J(t,e){return ja(t,"POST","/v2/accounts:revokeToken",So(t,e))}class Qd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){st(e.idToken,"internal-error"),st(typeof e.idToken<"u","internal-error"),st(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){st(e.length!==0,"internal-error");const n=Mk(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(st(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await wJ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new Qd;return r&&(st(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(st(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(st(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qd,this.toJSON())}_performRefresh(){return Za("not implemented")}}function ol(t,e){st(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class eo{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=pP(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new DT(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bf(this,this.stsTokenManager.getToken(this.auth,e));return st(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gJ(this,e)}reload(){return xJ(this)}_assign(e){this!==e&&(st(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new eo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){st(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await qv(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ls(this.auth.app))return Promise.reject(io(this.auth));const e=await this.getIdToken();return await bf(this,pJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,a,o,l,d,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,p=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,v=(a=n.photoURL)!==null&&a!==void 0?a:void 0,w=(o=n.tenantId)!==null&&o!==void 0?o:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(d=n.createdAt)!==null&&d!==void 0?d:void 0,L=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:O,emailVerified:z,isAnonymous:j,providerData:P,stsTokenManager:C}=n;st(O&&C,e,"internal-error");const S=Qd.fromJSON(this.name,C);st(typeof O=="string",e,"internal-error"),ol(m,e.name),ol(p,e.name),st(typeof z=="boolean",e,"internal-error"),st(typeof j=="boolean",e,"internal-error"),ol(y,e.name),ol(v,e.name),ol(w,e.name),ol(_,e.name),ol(T,e.name),ol(L,e.name);const k=new eo({uid:O,auth:e,email:p,emailVerified:z,displayName:m,isAnonymous:j,photoURL:v,phoneNumber:y,tenantId:w,stsTokenManager:S,createdAt:T,lastLoginAt:L});return P&&Array.isArray(P)&&(k.providerData=P.map(A=>Object.assign({},A))),_&&(k._redirectEventId=_),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Qd;i.updateFromServerResponse(n);const s=new eo({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await qv(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];st(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?jB(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!s?.length,o=new Qd;o.updateFromIdToken(r);const l=new eo({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new DT(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,d),l}}const Lk=new Map;function to(t){ho(t instanceof Function,"Expected a class definition");let e=Lk.get(t);return e?(ho(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Lk.set(t,e),e)}class kB{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}kB.type="NONE";const Vk=kB;function lv(t,e,n){return`firebase:${t}:${e}:${n}`}class Jd{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lv(this.userKey,i.apiKey,s),this.fullPersistenceKey=lv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?eo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Jd(to(Vk),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=i[0]||to(Vk);const a=lv(r,e.config.apiKey,e.name);let o=null;for(const d of n)try{const f=await d._get(a);if(f){const m=eo._fromJSON(e,f);d!==s&&(o=m),s=d;break}}catch{}const l=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Jd(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new Jd(s,e,r))}}function Fk(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(MB(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RB(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VB(e))return"Blackberry";if(FB(e))return"Webos";if(DB(e))return"Safari";if((e.includes("chrome/")||OB(e))&&!e.includes("edge/"))return"Chrome";if(LB(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function RB(t=Qn()){return/firefox\//i.test(t)}function DB(t=Qn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OB(t=Qn()){return/crios\//i.test(t)}function MB(t=Qn()){return/iemobile/i.test(t)}function LB(t=Qn()){return/android/i.test(t)}function VB(t=Qn()){return/blackberry/i.test(t)}function FB(t=Qn()){return/webos/i.test(t)}function bP(t=Qn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EJ(t=Qn()){var e;return bP(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TJ(){return wH()&&document.documentMode===10}function BB(t=Qn()){return bP(t)||LB(t)||FB(t)||VB(t)||/windows phone/i.test(t)||MB(t)}function zB(t,e=[]){let n;switch(t){case"Browser":n=Fk(Qn());break;case"Worker":n=`${Fk(Qn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Nu}/${r}`}class CJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function SJ(t,e={}){return ja(t,"GET","/v2/passwordPolicy",So(t,e))}const PJ=6;class AJ{constructor(e){var n,r,i,s;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:PJ,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,a,o;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(o=l.containsNonAlphanumericCharacter)!==null&&o!==void 0?o:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class NJ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bk(this),this.idTokenSubscription=new Bk(this),this.beforeStateQueue=new CJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=SB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=to(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Jd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await IB(this,{idToken:e}),r=await eo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ls(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,o=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return st(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await qv(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ls(this.app))return Promise.reject(io(this));const n=e?kt(e):null;return n&&st(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&st(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ls(this.app)?Promise.reject(io(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ls(this.app)?Promise.reject(io(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(to(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await SJ(this),n=new AJ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new dp("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _J(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&to(e)||this._popupRedirectResolver;st(n,this,"argument-error"),this.redirectPersistenceManager=await Jd.create(this,[to(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(st(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return st(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zB(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&iJ(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Po(t){return kt(t)}class Bk{constructor(e){this.auth=e,this.observer=null,this.addObserver=PH(n=>this.observer=n)}get next(){return st(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IJ(t){Sx=t}function UB(t){return Sx.loadJS(t)}function jJ(){return Sx.recaptchaEnterpriseScript}function kJ(){return Sx.gapiScript}function RJ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const DJ="recaptcha-enterprise",OJ="NO_RECAPTCHA";class MJ{constructor(e){this.type=DJ,this.auth=Po(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{mJ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const d=new hJ(l);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;Ok(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(OJ)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,a)=>{r(this.auth).then(o=>{if(!n&&Ok(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jJ();l.length!==0&&(l+=o),UB(l).then(()=>{i(o,s,a)}).catch(d=>{a(d)})}}).catch(o=>{a(o)})})}}async function zk(t,e,n,r=!1){const i=new MJ(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Wv(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await zk(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await zk(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(s)})}function LJ(t,e){const n=Au(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Dl(s,e??{}))return i;cs(i,"already-initialized")}return n.initialize({options:e})}function VJ(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(to);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function FJ(t,e,n){const r=Po(t);st(r._canInitEmulator,r,"emulator-config-failed"),st(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=$B(e),{host:a,port:o}=BJ(e),l=o===null?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),zJ()}function $B(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BJ(t){const e=$B(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Uk(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:Uk(a)}}}function Uk(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zJ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class wP{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Za("not implemented")}_getIdTokenResponse(e){return Za("not implemented")}_linkToIdToken(e,n){return Za("not implemented")}_getReauthenticationResolver(e){return Za("not implemented")}}async function UJ(t,e){return ja(t,"POST","/v1/accounts:update",e)}async function $J(t,e){return ja(t,"POST","/v1/accounts:signUp",e)}async function qJ(t,e){return Ip(t,"POST","/v1/accounts:signInWithPassword",So(t,e))}async function WJ(t,e){return ja(t,"POST","/v1/accounts:sendOobCode",So(t,e))}async function HJ(t,e){return WJ(t,e)}async function KJ(t,e){return Ip(t,"POST","/v1/accounts:signInWithEmailLink",So(t,e))}async function GJ(t,e){return Ip(t,"POST","/v1/accounts:signInWithEmailLink",So(t,e))}class Bm extends wP{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wv(e,n,"signInWithPassword",qJ);case"emailLink":return KJ(e,{email:this._email,oobCode:this._password});default:cs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wv(e,r,"signUpPassword",$J);case"emailLink":return GJ(e,{idToken:n,email:this._email,oobCode:this._password});default:cs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Zd(t,e){return Ip(t,"POST","/v1/accounts:signInWithIdp",So(t,e))}const XJ="http://localhost";class gu extends wP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=pP(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new gu(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Zd(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Zd(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Zd(e,n)}buildRequest(){const e={requestUri:XJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fp(n)}return e}}function YJ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QJ(t){const e=im(sm(t)).link,n=e?im(sm(e)).deep_link_id:null,r=im(sm(t)).deep_link_id;return(r?im(sm(r)).link:null)||r||n||e||t}class _P{constructor(e){var n,r,i,s,a,o;const l=im(sm(e)),d=(n=l.apiKey)!==null&&n!==void 0?n:null,f=(r=l.oobCode)!==null&&r!==void 0?r:null,m=YJ((i=l.mode)!==null&&i!==void 0?i:null);st(d&&f&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=f,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(o=l.tenantId)!==null&&o!==void 0?o:null}static parseLink(e){const n=QJ(e);try{return new _P(n)}catch{return null}}}class Ru{constructor(){this.providerId=Ru.PROVIDER_ID}static credential(e,n){return Bm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=_P.parseLink(n);return st(r,"argument-error"),Bm._fromEmailAndCode(e,r.code,r.tenantId)}}Ru.PROVIDER_ID="password";Ru.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ru.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class EP{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class jp extends EP{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class xl extends jp{constructor(){super("facebook.com")}static credential(e){return gu._fromParams({providerId:xl.PROVIDER_ID,signInMethod:xl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xl.credentialFromTaggedObject(e)}static credentialFromError(e){return xl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xl.credential(e.oauthAccessToken)}catch{return null}}}xl.FACEBOOK_SIGN_IN_METHOD="facebook.com";xl.PROVIDER_ID="facebook.com";class Ya extends jp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gu._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ya.credential(n,r)}catch{return null}}}Ya.GOOGLE_SIGN_IN_METHOD="google.com";Ya.PROVIDER_ID="google.com";class bl extends jp{constructor(){super("github.com")}static credential(e){return gu._fromParams({providerId:bl.PROVIDER_ID,signInMethod:bl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bl.credentialFromTaggedObject(e)}static credentialFromError(e){return bl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bl.credential(e.oauthAccessToken)}catch{return null}}}bl.GITHUB_SIGN_IN_METHOD="github.com";bl.PROVIDER_ID="github.com";class wl extends jp{constructor(){super("twitter.com")}static credential(e,n){return gu._fromParams({providerId:wl.PROVIDER_ID,signInMethod:wl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return wl.credentialFromTaggedObject(e)}static credentialFromError(e){return wl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return wl.credential(n,r)}catch{return null}}}wl.TWITTER_SIGN_IN_METHOD="twitter.com";wl.PROVIDER_ID="twitter.com";async function JJ(t,e){return Ip(t,"POST","/v1/accounts:signUp",So(t,e))}class yu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await eo._fromIdTokenResponse(e,r,i),a=$k(r);return new yu({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$k(r);return new yu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $k(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class Hv extends Ia{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Hv.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Hv(e,n,r,i)}}function qB(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Hv._fromErrorAndOperation(t,s,e,r):s})}async function ZJ(t,e,n=!1){const r=await bf(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yu._forOperation(t,"link",r)}async function WB(t,e,n=!1){const{auth:r}=t;if(Ls(r.app))return Promise.reject(io(r));const i="reauthenticate";try{const s=await bf(t,qB(r,i,e,t),n);st(s.idToken,r,"internal-error");const a=xP(s.idToken);st(a,r,"internal-error");const{sub:o}=a;return st(t.uid===o,r,"user-mismatch"),yu._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&cs(r,"user-mismatch"),s}}async function HB(t,e,n=!1){if(Ls(t.app))return Promise.reject(io(t));const r="signIn",i=await qB(t,r,e),s=await yu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function eZ(t,e){return HB(Po(t),e)}async function tZ(t,e){return WB(kt(t),e)}async function KB(t){const e=Po(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function nZ(t,e,n){const r=Po(t);await Wv(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",HJ)}async function rZ(t,e,n){if(Ls(t.app))return Promise.reject(io(t));const r=Po(t),a=await Wv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JJ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&KB(t),l}),o=await yu._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}function qk(t,e,n){return Ls(t.app)?Promise.reject(io(t)):eZ(kt(t),Ru.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&KB(t),r})}function GB(t,e){return iZ(kt(t),null,e)}async function iZ(t,e,n){const{auth:r}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(s.password=n);const a=await bf(t,UJ(r,s));await t._updateTokensIfNecessary(a,!0)}function sZ(t,e){return kt(t).setPersistence(e)}function aZ(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function oZ(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function lZ(t,e,n,r){return kt(t).onAuthStateChanged(e,n,r)}function cZ(t){return kt(t).signOut()}async function uZ(t){return kt(t).delete()}const Kv="__sak";class XB{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kv,"1"),this.storage.removeItem(Kv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dZ=1e3,fZ=10;class YB extends XB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BB(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);TJ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YB.type="LOCAL";const QB=YB;class JB extends XB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}JB.type="SESSION";const ZB=JB;function hZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Px{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Px(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async d=>d(n.origin,s)),l=await hZ(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Px.receivers=[];function TP(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}class mZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const d=TP("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(p.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function wa(){return window}function pZ(t){wa().location.href=t}function ez(){return typeof wa().WorkerGlobalScope<"u"&&typeof wa().importScripts=="function"}async function gZ(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yZ(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vZ(){return ez()?self:null}const tz="firebaseLocalStorageDb",xZ=1,Gv="firebaseLocalStorage",nz="fbase_key";class kp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ax(t,e){return t.transaction([Gv],e?"readwrite":"readonly").objectStore(Gv)}function bZ(){const t=indexedDB.deleteDatabase(tz);return new kp(t).toPromise()}function OT(){const t=indexedDB.open(tz,xZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gv,{keyPath:nz})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gv)?e(r):(r.close(),await bZ(),e(await OT()))})})}async function Wk(t,e,n){const r=Ax(t,!0).put({[nz]:e,value:n});return new kp(r).toPromise()}async function wZ(t,e){const n=Ax(t,!1).get(e),r=await new kp(n).toPromise();return r===void 0?null:r.value}function Hk(t,e){const n=Ax(t,!0).delete(e);return new kp(n).toPromise()}const _Z=800,EZ=3;class rz{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await OT(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ez()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Px._getInstance(vZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await gZ(),!this.activeServiceWorker)return;this.sender=new mZ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await OT();return await Wk(e,Kv,"1"),await Hk(e,Kv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Wk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ax(i,!1).getAll();return new kp(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_Z)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rz.type="LOCAL";const TZ=rz;new Np(3e4,6e4);function iz(t,e){return e?to(e):(st(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class CP extends wP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zd(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Zd(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Zd(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function CZ(t){return HB(t.auth,new CP(t),t.bypassAuthState)}function SZ(t){const{auth:e,user:n}=t;return st(n,e,"internal-error"),WB(n,new CP(t),t.bypassAuthState)}async function PZ(t){const{auth:e,user:n}=t;return st(n,e,"internal-error"),ZJ(n,new CP(t),t.bypassAuthState)}class sz{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return CZ;case"linkViaPopup":case"linkViaRedirect":return PZ;case"reauthViaPopup":case"reauthViaRedirect":return SZ;default:cs(this.auth,"internal-error")}}resolve(e){ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ho(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const AZ=new Np(2e3,1e4);async function NZ(t,e,n){if(Ls(t.app))return Promise.reject(zs(t,"operation-not-supported-in-this-environment"));const r=Po(t);sJ(t,e,EP);const i=iz(r,n);return new Wc(r,"signInViaPopup",e,i).executeNotNull()}class Wc extends sz{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Wc.currentPopupAction&&Wc.currentPopupAction.cancel(),Wc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return st(e,this.auth,"internal-error"),e}async onExecution(){ho(this.filter.length===1,"Popup operations only handle one event");const e=TP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(zs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(zs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(zs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AZ.get())};e()}}Wc.currentPopupAction=null;const IZ="pendingRedirect",cv=new Map;class jZ extends sz{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=cv.get(this.auth._key());if(!e){try{const r=await kZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}cv.set(this.auth._key(),e)}return this.bypassAuthState||cv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kZ(t,e){const n=OZ(e),r=DZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function RZ(t,e){cv.set(t._key(),e)}function DZ(t){return to(t._redirectPersistence)}function OZ(t){return lv(IZ,t.config.apiKey,t.name)}async function MZ(t,e,n=!1){if(Ls(t.app))return Promise.reject(io(t));const r=Po(t),i=iz(r,e),a=await new jZ(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}const LZ=600*1e3;class VZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!az(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(zs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=LZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kk(e))}saveEventToCache(e){this.cachedEventUids.add(Kk(e)),this.lastProcessedEventTime=Date.now()}}function Kk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function az({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function FZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return az(t);default:return!1}}async function BZ(t,e={}){return ja(t,"GET","/v1/projects",e)}const zZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UZ=/^https?/;async function $Z(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BZ(t);for(const n of e)try{if(qZ(n))return}catch{}cs(t,"unauthorized-domain")}function qZ(t){const e=RT(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!UZ.test(n))return!1;if(zZ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const WZ=new Np(3e4,6e4);function Gk(){const t=wa().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function HZ(t){return new Promise((e,n)=>{var r,i,s;function a(){Gk(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Gk(),n(zs(t,"network-request-failed"))},timeout:WZ.get()})}if(!((i=(r=wa().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=wa().gapi)===null||s===void 0)&&s.load)a();else{const o=RJ("iframefcb");return wa()[o]=()=>{gapi.load?a():n(zs(t,"network-request-failed"))},UB(`${kJ()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw uv=null,e})}let uv=null;function KZ(t){return uv=uv||HZ(t),uv}const GZ=new Np(5e3,15e3),XZ="__/auth/iframe",YZ="emulator/auth/iframe",QZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZZ(t){const e=t.config;st(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?vP(e,YZ):`https://${t.config.authDomain}/${XZ}`,r={apiKey:e.apiKey,appName:t.name,v:Nu},i=JZ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${fp(r).slice(1)}`}async function eee(t){const e=await KZ(t),n=wa().gapi;return st(n,t,"internal-error"),e.open({where:document.body,url:ZZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QZ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=zs(t,"network-request-failed"),o=wa().setTimeout(()=>{s(a)},GZ.get());function l(){wa().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}const tee={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nee=500,ree=600,iee="_blank",see="http://localhost";class Xk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aee(t,e,n,r=nee,i=ree){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},tee),{width:r.toString(),height:i.toString(),top:s,left:a}),d=Qn().toLowerCase();n&&(o=OB(d)?iee:n),RB(d)&&(e=e||see,l.scrollbars="yes");const f=Object.entries(l).reduce((p,[y,v])=>`${p}${y}=${v},`,"");if(EJ(d)&&o!=="_self")return oee(e||"",o),new Xk(null);const m=window.open(e||"",o,f);st(m,t,"popup-blocked");try{m.focus()}catch{}return new Xk(m)}function oee(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}const lee="__/auth/handler",cee="emulator/auth/handler",uee=encodeURIComponent("fac");async function Yk(t,e,n,r,i,s){st(t.config.authDomain,t,"auth-domain-config-required"),st(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Nu,eventId:i};if(e instanceof EP){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",SH(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))a[f]=m}if(e instanceof jp){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const l=await t._getAppCheckToken(),d=l?`#${uee}=${encodeURIComponent(l)}`:"";return`${dee(t)}?${fp(o).slice(1)}${d}`}function dee({config:t}){return t.emulator?vP(t,cee):`https://${t.authDomain}/${lee}`}const b1="webStorageSupport";class fee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZB,this._completeRedirectFn=MZ,this._overrideRedirectResult=RZ}async _openPopup(e,n,r,i){var s;ho((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await Yk(e,n,r,RT(),i);return aee(e,a,TP())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Yk(e,n,r,RT(),i);return pZ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ho(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await eee(e),r=new VZ(e);return n.register("authEvent",i=>(st(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(b1,{type:b1},i=>{var s;const a=(s=i?.[0])===null||s===void 0?void 0:s[b1];a!==void 0&&n(!!a),cs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$Z(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BB()||DB()||bP()}}const hee=fee;var Qk="@firebase/auth",Jk="1.7.9";class mee{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){st(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gee(t){Ol(new oo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;st(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zB(t)},d=new NJ(r,i,s,l);return VJ(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ol(new oo("auth-internal",e=>{const n=Po(e.getProvider("auth").getImmediate());return(r=>new mee(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(Qk,Jk,pee(t)),ss(Qk,Jk,"esm2017")}const yee=300,vee=LV("authIdTokenMaxAge")||yee;let Zk=null;const xee=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vee)return;const i=n?.token;Zk!==i&&(Zk=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function bee(t=rx()){const e=Au(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LJ(t,{popupRedirectResolver:hee,persistence:[TZ,QB,ZB]}),r=LV("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=xee(s.toString());oZ(n,a,()=>a(n.currentUser)),aZ(n,o=>a(o))}}const i=OV("auth");return i&&FJ(n,`http://${i}`),n}function wee(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}IJ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=zs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",wee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gee("Browser");const oz="firebasestorage.googleapis.com",_ee="storageBucket",Eee=120*1e3,Tee=600*1e3;class ka extends Ia{constructor(e,n,r=0){super(w1(e),`Firebase Storage: ${n} (${w1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ka.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return w1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ca;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ca||(Ca={}));function w1(t){return"storage/"+t}function Cee(){const t="An unknown error occurred, please check the error payload for server response.";return new ka(Ca.UNKNOWN,t)}function See(){return new ka(Ca.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Pee(){return new ka(Ca.CANCELED,"User canceled the upload/download.")}function Aee(t){return new ka(Ca.INVALID_URL,"Invalid URL '"+t+"'.")}function Nee(t){return new ka(Ca.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eR(t){return new ka(Ca.INVALID_ARGUMENT,t)}function lz(){return new ka(Ca.APP_DELETED,"The Firebase app was deleted.")}function Iee(t){return new ka(Ca.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}class Vs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Vs.makeFromUrl(e,n)}catch{return new Vs(e,"")}if(r.path==="")return r;throw Nee(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(z){z.path.charAt(z.path.length-1)==="/"&&(z.path_=z.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function d(z){z.path_=decodeURIComponent(z.path)}const f="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${f}/b/${i}/o${p}`,"i"),v={bucket:1,path:3},w=n===oz?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",T=new RegExp(`^https?://${w}/${i}/${_}`,"i"),O=[{regex:o,indices:l,postModify:s},{regex:y,indices:v,postModify:d},{regex:T,indices:{bucket:1,path:2},postModify:d}];for(let z=0;z<O.length;z++){const j=O[z],P=j.regex.exec(e);if(P){const C=P[j.indices.bucket];let S=P[j.indices.path];S||(S=""),r=new Vs(C,S),j.postModify(r);break}}if(r==null)throw Aee(e);return r}}class jee{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function kee(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let d=!1;function f(..._){d||(d=!0,e.apply(null,_))}function m(_){i=setTimeout(()=>{i=null,t(y,l())},_)}function p(){s&&clearTimeout(s)}function y(_,...T){if(d){p();return}if(_){p(),f.call(null,_,...T);return}if(l()||a){p(),f.call(null,_,...T);return}r<64&&(r*=2);let O;o===1?(o=2,O=0):O=(r+Math.random())*1e3,m(O)}let v=!1;function w(_){v||(v=!0,p(),!d&&(i!==null?(_||(o=2),clearTimeout(i),m(0)):_||(o=1)))}return m(0),s=setTimeout(()=>{a=!0,w(!0)},n),w}function Ree(t){t(!1)}function Dee(t){return t!==void 0}function tR(t,e,n,r){if(r<e)throw eR(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw eR(`Invalid value for '${t}'. Expected ${n} or less.`)}function Oee(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Xv;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Xv||(Xv={}));function Mee(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}class Lee{constructor(e,n,r,i,s,a,o,l,d,f,m,p=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=f,this.connectionFactory_=m,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,v)=>{this.resolve_=y,this.reject_=v,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Py(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,d=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===Xv.NO_ERROR,l=s.getStatus();if(!o||Mee(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===Xv.ABORT;r(!1,new Py(!1,null,f));return}const d=this.successCodes_.indexOf(l)!==-1;r(!0,new Py(d,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());Dee(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=Cee();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?lz():Pee();a(l)}else{const l=See();a(l)}};this.canceled_?n(!1,new Py(!1,null,!0)):this.backoffId_=kee(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Ree(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Py{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Vee(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Fee(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Bee(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zee(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Uee(t,e,n,r,i,s,a=!0){const o=Oee(t.urlParams),l=t.url+o,d=Object.assign({},t.headers);return Bee(d,e),Vee(d,n),Fee(d,s),zee(d,r),new Lee(l,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a)}function $ee(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function qee(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class Yv{constructor(e,n){this._service=e,n instanceof Vs?this._location=n:this._location=Vs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yv(e,n)}get root(){const e=new Vs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return qee(this._location.path)}get storage(){return this._service}get parent(){const e=$ee(this._location.path);if(e===null)return null;const n=new Vs(this._location.bucket,e);return new Yv(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Iee(e)}}function nR(t,e){const n=e?.[_ee];return n==null?null:Vs.makeFromBucketSpec(n,t)}function Wee(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:VV(i,t.app.options.projectId))}class Hee{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=oz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Eee,this._maxUploadRetryTime=Tee,this._requests=new Set,i!=null?this._bucket=Vs.makeFromBucketSpec(i,this._host):this._bucket=nR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vs.makeFromBucketSpec(this._url,e):this._bucket=nR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yv(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new jee(lz());{const a=Uee(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const rR="@firebase/storage",iR="0.13.2";const cz="storage";function Kee(t=rx(),e){t=kt(t);const r=Au(t,cz).getImmediate({identifier:e}),i=dS("storage");return i&&Gee(r,...i),r}function Gee(t,e,n,r={}){Wee(t,e,n,r)}function Xee(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Hee(n,r,i,e,Nu)}function Yee(){Ol(new oo(cz,Xee,"PUBLIC").setMultipleInstances(!0)),ss(rR,iR,""),ss(rR,iR,"esm2017")}Yee();const uz="functions";class Qee{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const n=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(e){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(e);return{authToken:n,messagingToken:r,appCheckToken:i}}}const MT="us-central1";class Jee{constructor(e,n,r,i,s=MT,a){this.app=e,this.fetchImpl=a,this.emulatorOrigin=null,this.contextProvider=new Qee(n,r,i),this.cancelAllRequests=new Promise(o=>{this.deleteService=()=>Promise.resolve(o())});try{const o=new URL(s);this.customDomain=o.origin+(o.pathname==="/"?"":o.pathname),this.region=MT}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}function Zee(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}const sR="@firebase/functions",aR="0.11.8";const ete="auth-internal",tte="app-check-internal",nte="messaging-internal";function rte(t,e){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),a=r.getProvider(ete),o=r.getProvider(nte),l=r.getProvider(tte);return new Jee(s,a,o,l,i,t)};Ol(new oo(uz,n,"PUBLIC").setMultipleInstances(!0)),ss(sR,aR,e),ss(sR,aR,"esm2017")}function ite(t=rx(),e=MT){const r=Au(kt(t),uz).getImmediate({identifier:e}),i=dS("functions");return i&&ste(r,...i),r}function ste(t,e,n){Zee(kt(t),e,n)}rte(fetch.bind(self));const ate={apiKey:"AIzaSyBv8ljlrTY9LsoPUZPQpw1YaX2W6D5_O54",authDomain:"nexcoin-1f42f.firebaseapp.com",projectId:"nexcoin-1f42f",storageBucket:"nexcoin-1f42f.firebasestorage.app",messagingSenderId:"575773698878",appId:"1:575773698878:web:29261adabbe23c039f1a6f"},zm=y2().length===0?$V(ate):y2()[0],wn=bee(zm);sZ(wn,QB).then(()=>{console.log(" Persistncia do Firebase Auth configurada com sucesso")}).catch(t=>{console.error(" Erro ao configurar persistncia:",t)});let be;try{be=tB(zm)}catch{be=eB(zm,{localCache:vB({tabManager:bB(),cacheSizeBytes:ZF})})}const ote=console.error;console.error=(...t)=>{typeof t[0]=="string"&&(t[0].includes("WebChannelConnection")||t[0].includes("@firebase/firestore"))||ote(...t)};Kee(zm);ite(zm);const LT={pt:{countries:{BR:"Brasil",US:"Estados Unidos",PT:"Portugal",ES:"Espanha",FR:"Frana",DE:"Alemanha",IT:"Itlia",GB:"Reino Unido",NL:"Holanda",BE:"Blgica",CH:"Sua",AT:"ustria",CA:"Canad",AU:"Austrlia",MX:"Mxico",AR:"Argentina",CL:"Chile",CO:"Colmbia"},fiatAccounts:{title:"Contas",subtitle:"Gerencie suas contas bancrias",accounts:"Contas",manageBankAccounts:"Gerencie suas contas bancrias",accountData:"Dados da conta",accountSettings:"Configuraes da Conta",selectAccount:"Selecionar conta",chooseAccountToTransact:"Escolha a conta para transacionar",addNewAccount:"Adicionar Nova Conta",addAccount:"Adicionar Conta",noAccountsFound:"Nenhuma conta encontrada",addFiatAccount:"Adicione uma conta fiat para comear",add:"Adicionar",addButton:"Adicionar",creating:"Criando...",removeAccount:"Remover Conta",closeAccount:"Encerrar conta",deleteAccount:"Deletar Conta",openingAccount:"Abrindo Conta",configuringAccount:"Configurando sua conta de {country}",validating:"Validando dados",generating:"Gerando nmero da conta",security:"Configurando segurana",finalizing:"Finalizando abertura",completedSteps:"{completed} de {total} etapas concludas",accountExists:"Conta j existe",accountExistsDesc:"Voc j possui uma conta bancria de {country}. No  possvel criar mais de uma conta por pas.",accountCreated:"Conta criada",accountCreatedDesc:"Conta bancria de {country} criada com sucesso!",pixKeysCreated:"Chaves PIX criadas!",pixKeysCreatedDesc:"Suas chaves PIX (email e telefone) foram configuradas automaticamente.",errorCreatingAccount:"Erro ao criar conta",errorCreatingAccountDesc:"No foi possvel criar a conta bancria. Tente novamente.",error:"Erro",accountIdNotFound:"ID da conta no encontrado.",closeAccountConfirm:`Tem certeza que deseja encerrar esta conta?

Esta ao no pode ser desfeita e voc perder todos os dados desta conta bancria.`,accountClosed:"Conta encerrada",accountClosedDesc:"A conta bancria foi encerrada com sucesso.",errorClosingAccount:"Erro ao encerrar conta",errorClosingAccountDesc:"No foi possvel encerrar a conta. Tente novamente.",permissionError:"Erro de permisso",permissionErrorDesc:"Verifique se as regras do Firestore foram configuradas corretamente.",firestoreRulesWarning:" Regras do Firestore no configuradas",firestoreRulesDesc:"Voc precisa atualizar as regras do Firestore. Consulte o guia para instrues detalhadas.",institution:"Instituio",bank:"Banco",accountType:"Tipo de Conta",accountNumber:"Nmero da conta",bankCode:"Cdigo do Banco",institutionCode:"Cdigo da Instituio",iban:"IBAN",swiftBic:"SWIFT/BIC",sortCode:"Sort Code",branchCode:"Branch Code",agency:"Agncia",routingNumber:"Routing Number",bsb:"BSB",shareData:"Compartilhar dados",domesticOnly:"Apenas para transferncias domsticas",internationalOnly:"Apenas para transferncias internacionais",transferTimeTip:"Normalmente as transferncias levam de trs a cinco dias teis para aparecer na sua conta",feeTip:"O banco do remetente ou intermedirio poder cobrar por pagamentos internacionais",swiftOnlyTip:"Aceitamos somente transferncias SWIFT",noFeeTip:"No cobraremos nenhuma taxa de transferncia para esta conta.",pixTip:"Voc pode usar os dados da sua conta ou chave Pix para receber transferncias 24 horas, sem complicaes.",addFunds:"Adicionar Fundos",depositMethod:"Mtodo de Depsito",depositAmount:"Valor do Depsito",transferDetails:"Dados para Transferncia",selectPixKey:"Selecione a Chave PIX",selectKey:"Selecione uma chave",pixKeys:"Chaves Pix",pixQrCode:"QR Code PIX",copyPixCode:"Copiar Cdigo PIX",codeCopied:"Cdigo Copiado!",depositHint:"Dica: Insira o valor do depsito acima para gerar o QR Code PIX.",noPixKeys:"Nenhuma chave PIX cadastrada. Cadastre uma chave PIX para usar este mtodo.",simulationWarning:'Simulao: Em produo, o sistema aguardaria confirmao da transferncia bancria. Aqui, o saldo ser adicionado instantaneamente ao clicar em "Confirmar Depsito".',confirmDeposit:"Confirmar Depsito",depositVia:"Depsito via",depositSuccess:"Depsito realizado com sucesso!",depositError:"Erro ao processar depsito",recipient:"Destinatrio",yourPixKeys:"Suas chaves Pix",registeredKeys:"Suas chaves cadastradas",keysAutoCreated:" Suas chaves PIX (email e telefone) foram criadas automaticamente",noKeysFound:"Nenhuma chave PIX encontrada",errorCopying:"Erro ao copiar chave"},welcome:"Bem-vindo",createAccount:"Criar Conta",login:"Entrar",signUp:"Cadastro",termsAgreement:"Ao se cadastrar, voc concorda com nossos Termos de Servio e Poltica de Privacidade.",futureOfFinance:"Future of Finance",dontHaveAccount:"No tem uma conta?",alreadyHaveAccount:"J tem uma conta?",email:"E-mail",phone:"Telefone",fullName:"Nome completo",password:"Senha",confirmPassword:"Confirmar senha",forgotPassword:"Esqueceu a senha?",continue:"Continuar",portuguese:"Portugus",english:"Ingls",spanish:"Espanhol",register:"Cadastrar",invalidName:"Nome invlido",invalidEmail:"E-mail invlido",invalidPhone:"Telefone invlido",phoneNotFound:"Telefone no encontrado",passwordRequirement:"A senha deve ter pelo menos 8 caracteres, 1 maiscula e 1 caractere especial",passwordsDontMatch:"As senhas no coincidem",privacyPolicy:"Poltica de Privacidade",or:"ou",incorrectPassword:"Senha incorreta",loginError:"Erro ao fazer login",home:"Incio",wallet:"Carteira",convert:"Converter",crypto:"Cripto",profile:"Perfil",totalBalance:"Saldo total",hideBalance:"Ocultar saldo",showBalance:"Exibir saldo",recentTransactions:"Transaes recentes",deposit:"Depositar",withdraw:"Sacar",transfer:"Transferir",noTransactions:"Nenhuma transao ainda",quickActions:"Aes rpidas",viewAll:"Ver tudo",statement:"Extrato",viewAllTransactions:"Ver todas as transaes",market:"Mercado",myAccounts:"Minhas Contas",myCryptos:"Minhas Criptomoedas",trade:"Negociar",activity:"Atividade",myWallet:"Minha Carteira",assets:"Ativos",search:"Pesquisar",totalAssets:"Total em ativos",cryptoAssets:"Ativos em Cripto",fiatBalance:"Saldo em Fiat",manageHoldings:"Gerenciar ativos",send:"Enviar",loadingAssets:"Carregando ativos...",noAssetsInPortfolio:"Nenhum ativo no portflio",startAddingCryptos:"Comece adicionando criptomoedas na aba",goToCrypto:"Ir para Cripto",cryptocurrencies:"Criptomoedas",removeAsset:"Remover ativo",addBalance:"Adicionar Saldo",enterValidValue:"Digite um valor vlido",balanceAddedSuccess:"Saldo adicionado com sucesso!",errorAddingBalance:"Erro ao adicionar saldo",add:"Adicionar",confirmDeletion:"Confirmar Excluso",areYouSureDelete:"Tem certeza que deseja remover permanentemente",fromYourPortfolio:"do seu portflio?",currentBalance:"Saldo atual",valueToAdd:"Valor a adicionar",newBalance:"Novo saldo",adding:"Adicionando...",addCryptosToPortfolio:"Adicione criptomoedas ao seu portflio",toAddMoreCryptos:"Para adicionar mais criptomoedas, v na aba",selectAssetToDelete:"Selecione um ativo para excluir",assetRemovedSuccess:"Ativo removido com sucesso!",errorRemovingAsset:"Erro ao remover ativo",removing:"Removendo...",remove:"Remover",cashAndStablecoins:"Dinheiro e Stablecoins",cancel:"Cancelar",brazilianReal:"Real Brasileiro (PIX)",usDollar:"Dlar Americano",euro:"Euro",sterling:"Libra Esterlina",stablecoin:"Stablecoin",japaneseYen:"Iene Japons",canadianDollar:"Dlar Canadense",australianDollar:"Dlar Australiano",swissFranc:"Franco Suo",chineseYuan:"Yuan Chins",indianRupee:"Rpia Indiana",mexicanPeso:"Peso Mexicano",argentinePeso:"Peso Argentino",convertCrypto:"Converter Cripto",from:"De",to:"Para",amount:"Valor",youGet:"Voc recebe",exchangeRate:"Taxa de cmbio",convertNow:"Converter agora",selectCrypto:"Selecionar cripto",cryptoMarket:"Mercado Cripto",topGainers:"Maiores altas",topLosers:"Maiores quedas",marketCap:"Cap. de mercado",volume24h:"Volume 24h",price:"Preo",change24h:"Variao 24h",myProfile:"Meu Perfil",settings:"Configuraes",security:"Segurana",notifications:"Notificaes",language:"Idioma",support:"Suporte",about:"Sobre",logout:"Sair",account:"Conta",personalInfo:"Informaes pessoais",accountData:"Dados da conta",helpCenter:"Central de ajuda",termsAndPrivacy:"Termos e privacidade",dangerZone:"Zona de Perigo",deleteAccount:"Excluir conta",help:"Ajuda",privacy:"Privacidade",aboutUs:"Sobre ns",receiveCrypto:{title:"Receber",searchPlaceholder:"Buscar criptomoeda...",receiveCryptoTitle:"Receber {crypto}",selectNetwork:"Selecione a rede",yourAddress:"SEU ENDEREO",copy:"Copiar",new:"Novo",generating:"Gerando...",copied:"Copiado!",generatingAddress:"Gerando endereo...",helpTitle:"Ajuda",attention:"Ateno",attentionDesc:"Envie apenas ativos compatveis com a rede selecionada. Enviar ativos de outras redes pode resultar em perda permanente dos seus fundos.",uniqueAddress:"Endereo nico",uniqueAddressDesc:"Este endereo  exclusivo da sua conta e pode ser usado mltiplas vezes.",security:"Segurana",securityDesc:"Sempre confirme a rede antes de enviar ativos para evitar perdas irreversveis.",howItWorks:"Como funciona",howItWorksDesc:"Compartilhe este endereo ou QR Code com quem vai enviar criptomoedas para voc.",importantTip:"Dica importante",importantTipDesc:"Recomendamos fazer um teste com uma pequena quantia primeiro.",transactionQuestions:"Dvidas sobre transaes?",helpHere:"Ajuda aqui"},securitySettings:"Configuraes de Segurana",changePassword:"Alterar senha",twoFactor:"Autenticao de dois fatores",biometric:"Biometria",currentPassword:"Senha atual",newPassword:"Nova senha",confirmNewPassword:"Confirmar nova senha",updatePassword:"Atualizar senha",authentication:"Autenticao",lastChanged:"ltima alterao h 3 meses",addExtraLayer:"Adicione uma camada extra de segurana",securityNotifications:"Notificaes de segurana",emailAlerts:"Alertas por e-mail",receiveSuspiciousActivity:"Receba notificaes de atividades suspeitas",recentActivity:"Atividades recentes",viewDevicesAccess:"Veja dispositivos e acessos recentes",connectedDevices:"Dispositivos conectados",activeDevices:"3 dispositivos ativos",activeSessions:"Sesses ativas",manageSessions:"Gerencie suas sesses",yourAccountProtected:"Sua conta est protegida",keepInfoSecure:"Continue mantendo suas informaes seguras",securityTips:"Dicas de segurana",useStrongPassword:"Use uma senha forte e nica",enableTwoFactor:"Ative a autenticao de dois fatores",neverShareCredentials:"Nunca compartilhe suas credenciais",notificationSettings:"Configuraes de Notificaes",pushNotifications:"Notificaes push",emailNotifications:"Notificaes por e-mail",transactionAlerts:"Alertas de transao",priceAlerts:"Alertas de preo",newsUpdates:"Atualizaes de notcias",notificationsTitle:"Notificaes",unreadMessages:"{count} no lida{plural}",markAll:"Marcar todas",filterAll:"Todas",filterTransactions:"Transaes",filterSecurity:"Segurana",filterUpdates:"Atualizaes",loadingNotifications:"Aguarde enquanto carregamos suas notificaes",noNotificationsTitle:"Nenhuma notificao",noNotificationsDesc:"Voc no tem notificaes nesta categoria",pushSettingsButton:"Configuraes de notificaes push",helpCenterPage:{title:"Central de Ajuda",howCanWeHelp:"Como podemos ajudar?",chooseOption:"Escolha a melhor forma de entrar em contato com nossa equipe de suporte",sendEmail:"Enviar e-mail",sendEmailDesc:"Envie sua dvida por e-mail e receba resposta em at 24 horas",liveChat:"Chat ao vivo",liveChatDesc:"Converse com um agente em tempo real",availableNow:"Disponvel agora",faq:"Perguntas frequentes",subject:"Assunto",enterSubject:"Digite o assunto",message:"Mensagem",enterMessage:"Descreva sua dvida ou problema",send:"Enviar",cancel:"Cancelar",emailSent:"E-mail enviado com sucesso! Nossa equipe responder em breve.",waitingSupport:"Aguardando atendimento",youAreInQueue:"Voc est na fila. Em breve um agente estar disponvel.",peopleAhead:"pessoas  sua frente",connectedWithAgent:"Voc foi conectado com um agente",agentGreeting:"Ol! Sou o agente Carlos. Como posso ajud-lo hoje?",agentResponse:"Entendi sua questo. Vou verificar isso para voc.",agentName:"Agente Carlos",online:"Online",typeMessage:"Digite sua mensagem...",faqs:{deposit:{q:"Como fazer um depsito?",a:'Para fazer um depsito, v at a aba "Carteira", selecione a criptomoeda desejada e clique em "Depositar". Voc receber um endereo nico para enviar seus fundos. Certifique-se de usar a rede correta para evitar perda de fundos.'},withdraw:{q:"Como sacar criptomoedas?",a:'Na aba "Carteira", selecione a moeda que deseja sacar e clique em "Sacar". Insira o endereo de destino, escolha a rede blockchain e o valor. Confirme a transao com seu cdigo de segurana. O processamento pode levar de alguns minutos a horas dependendo da rede.'},fees:{q:"Taxas de transao",a:"As taxas variam de acordo com a criptomoeda e a rede blockchain utilizada. Depsitos so gratuitos. Para saques, as taxas so dinmicas e baseadas no congestionamento da rede. Voc sempre ver a taxa exata antes de confirmar qualquer transao."},security:{q:"Segurana da conta",a:"Sua segurana  nossa prioridade. Recomendamos ativar a autenticao de dois fatores (2FA), usar senha forte e nica, e nunca compartilhar suas credenciais. Todas as transaes exigem confirmao adicional e seus fundos so protegidos com criptografia de nvel bancrio."}}},termsMenuPage:{title:"Termos e Privacidade",termsOfUse:"Termos de Uso",termsDesc:"Leia os termos e condies de uso do NexCoin",privacyPolicy:"Poltica de Privacidade",privacyDesc:"Saiba como protegemos e usamos seus dados",lastUpdate:"ltima atualizao: 26 de janeiro de 2026"},termsAndConditionsPage:{title:"Termos de Uso",lastUpdate:"ltima atualizao: 26 de janeiro de 2026",sections:{1:{title:"1. Aceitao dos Termos",content:"Ao acessar e usar o NexCoin, voc concorda em cumprir estes Termos de Uso. Se voc no concordar com qualquer parte destes termos, no dever usar nossos servios."},2:{title:"2. Elegibilidade",content:"Voc deve ter pelo menos 18 anos de idade para usar o NexCoin. Ao criar uma conta, voc declara e garante que tem capacidade legal para celebrar este contrato."},3:{title:"3. Conta e Segurana",content:[" Voc  responsvel por manter a confidencialidade de suas credenciais de login"," Voc deve notificar imediatamente sobre qualquer uso no autorizado de sua conta"," O NexCoin no ser responsvel por perdas decorrentes do uso no autorizado de sua conta"]},4:{title:"4. Segurana e Permisses Obrigatrias",content:"Para garantir a segurana das suas transaes e prevenir fraudes, o uso do GPS (geolocalizao) e da CMERA  OBRIGATRIO na plataforma NexCoin.",items:[" O acesso aos servios ser bloqueado caso as permisses de localizao ou cmera sejam negadas ou desativadas"," A cmera  utilizada exclusivamente para verificao de identidade (KYC), prova de vida e autenticao de segurana"," O GPS  utilizado para monitoramento de segurana constante, incluindo rastreamento em segundo plano para preveno contra acessos no autorizados e proteo de ativos"," O uso de notificaes  recomendado para o monitoramento em tempo real de todas as movimentaes financeiras da sua conta"]},5:{title:"5. Uso da Plataforma",items:["Uso Permitido: O NexCoin  uma plataforma para negociao de criptomoedas. Voc concorda em usar a plataforma apenas para fins legais.","Uso Proibido:  proibido usar a plataforma para lavagem de dinheiro, financiamento de terrorismo, fraude ou qualquer atividade ilegal."]},6:{title:"6. Transaes e Taxas",content:"Todas as transaes realizadas atravs do NexCoin esto sujeitas a taxas de rede. As taxas so claramente exibidas antes da confirmao de qualquer transao. Uma vez confirmada, a transao  irreversvel."},7:{title:"7. Riscos de Criptomoedas",content:"Voc reconhece que o mercado de criptomoedas  voltil e que o valor dos seus ativos pode flutuar significativamente. O NexCoin no garante lucros e voc  responsvel por suas decises de investimento."},8:{title:"8. Limitao de Responsabilidade",content:"O NexCoin no ser responsvel por perdas diretas, indiretas, incidentais ou consequenciais resultantes do uso ou incapacidade de usar nossos servios, incluindo perda de fundos, dados ou lucros."},9:{title:"9. Suspenso e Encerramento",content:"Reservamo-nos o direito de suspender ou encerrar sua conta a qualquer momento, sem aviso prvio, se acreditarmos que voc violou estes termos ou se envolveu em atividades fraudulentas."},10:{title:"10. Modificaes dos Termos",content:"Podemos modificar estes termos a qualquer momento. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. O uso continuado da plataforma aps as modificaes constitui aceitao dos novos termos."},11:{title:"11. Lei Aplicvel",content:"Estes termos so regidos pelas leis aplicveis em sua jurisdio. Qualquer disputa ser resolvida nos tribunais competentes."},12:{title:"12. Contato",content:"Se voc tiver dvidas sobre estes Termos de Uso, entre em contato conosco atravs da Central de Ajuda."}},agreement:"Ao usar o NexCoin, voc concorda com estes Termos de Uso"},privacyPolicyPage:{title:"Poltica de Privacidade",lastUpdate:"ltima atualizao: 26 de janeiro de 2026",sections:{1:{title:"1. Introduo",content:"O NexCoin valoriza sua privacidade. Esta Poltica de Privacidade descreve como coletamos, usamos, armazenamos e protegemos suas informaes pessoais quando voc usa nossos servios."},2:{title:"2. Informaes que Coletamos",items:[{title:"2.1 Informaes de Cadastro:",content:" Nome completo, e-mail, nmero de telefone, pas de residncia"},{title:"2.2 Informaes de Transao:",content:" Histrico de transaes, endereos de carteiras, valores negociados"},{title:"2.3 Informaes Tcnicas:",content:" Endereo IP, tipo de dispositivo, sistema operacional, logs de acesso"},{title:"2.4 Informaes de Geolocalizao (GPS):",content:" Localizao precisa do dispositivo, utilizada obrigatoriamente para fins de segurana, preveno de fraudes e conformidade regulatria."},{title:"2.5 Informaes de Verificao:",content:" Documentos de identificao e dados biomtricos para conformidade KYC (Know Your Customer)"},{title:"2.6 Informaes de Cmera:",content:" Acesso  cmera do dispositivo, utilizado obrigatoriamente para captura de documentos e reconhecimento facial (KYC) para fins de segurana e preveno de fraudes."},{title:"2.7 Notificaes e Alertas:",content:" Coleta de tokens de dispositivo para envio de notificaes push sobre depsitos recebidos, segurana da conta e alertas importantes do sistema."}]},3:{title:"3. Como Usamos suas Informaes",content:[" Fornecer e melhorar nossos servios de negociao de criptomoedas"," Processar transaes e garantir a segurana da sua conta"," Cumprir requisitos legais e regulatrios (AML/KYC)"," Comunicar sobre atualizaes, manutenes e questes de segurana"," Prevenir fraudes e atividades suspeitas atravs do monitoramento de localizao e padres de acesso"," Personalizar sua experincia no aplicativo"]},4:{title:"4. Compartilhamento de Informaes",intro:"No vendemos suas informaes pessoais. Podemos compartilhar seus dados apenas nas seguintes situaes:",content:[" Com provedores de servios terceirizados essenciais para operao da plataforma"," Quando exigido por lei, ordem judicial ou autoridades regulatrias"," Para proteger nossos direitos legais e prevenir fraudes"," Com seu consentimento explcito"]},5:{title:"5. Segurana dos Dados",intro:"Implementamos medidas de segurana robustas para proteger suas informaes:",content:[" Criptografia de ponta a ponta para dados sensveis"," Autenticao de dois fatores (2FA)"," Armazenamento seguro em servidores com certificao de segurana"," Monitoramento contnuo contra acessos no autorizados"," Auditorias de segurana regulares"]},6:{title:"6. Reteno de Dados",content:"Mantemos suas informaes pessoais pelo tempo necessrio para fornecer nossos servios e cumprir obrigaes legais. Dados de transaes so mantidos conforme exigido por regulamentaes financeiras."},7:{title:"7. Seus Direitos",intro:"Voc tem os seguintes direitos em relao s suas informaes pessoais:",content:[" Acessar e revisar suas informaes pessoais"," Solicitar correo de dados incorretos"," Solicitar excluso de dados (sujeito a obrigaes legais)"," Optar por no receber comunicaes de marketing"," Portabilidade de dados"]},8:{title:"8. Cookies e Rastreamento",content:"Usamos cookies e tecnologias similares para melhorar sua experincia, analisar o uso da plataforma e personalizar contedo. Voc pode gerenciar suas preferncias de cookies nas configuraes do aplicativo."},9:{title:"9. Transferncias Internacionais",content:"Seus dados podem ser transferidos e processados em pases diferentes do seu pas de residncia. Garantimos que todas as transferncias cumpram as leis de proteo de dados aplicveis."},10:{title:"10. Menores de Idade",content:"Nossos servios no so destinados a menores de 18 anos. No coletamos intencionalmente informaes de menores. Se voc acredita que coletamos dados de um menor, entre em contato conosco imediatamente."},11:{title:"11. Alteraes na Poltica",content:"Podemos atualizar esta Poltica de Privacidade periodicamente. Notificaremos voc sobre mudanas significativas atravs do aplicativo ou e-mail. Recomendamos revisar esta poltica regularmente."},12:{title:"12. Contato",content:"Se voc tiver dvidas sobre esta Poltica de Privacidade ou sobre como tratamos seus dados, entre em contato atravs da Central de Ajuda ou envie um e-mail para privacy@nexcoin.com."}},agreement:"Ao usar o NexCoin, voc concorda com esta Poltica de Privacidade"},languageSettings:"Configuraes de Idioma",selectLanguage:"Selecione seu idioma",languageUpdated:"Idioma atualizado com sucesso!",selectYourLanguage:"Selecione seu idioma",languageDescription:"Escolha o idioma de sua preferncia para o aplicativo",sent:"Enviado",received:"Recebido",pending:"Pendente",completed:"Concludo",failed:"Falhou",transactions:"Transaes",allTransactions:"Todas as transaes",transactionsPage:{title:"Transaes",search:"Pesquisar",today:"Hoje",yesterday:"Ontem",noTransactions:"Nenhuma transao",noTransactionsDesc:"Suas transaes aparecero aqui",noResults:"Nenhum resultado",noResultsDesc:"Tente ajustar a busca",fee:"Taxa",types:{sendCrypto:"Envio de",receiveCrypto:"Recebimento de",sent:"Enviado",received:"Recebido",pixSent:"PIX enviado",pixReceived:"PIX recebido",conversion:"Converso",deposit:"Depsito",withdrawal:"Transferncia",buy:"Compra de",sell:"Venda de"},status:{completed:"Concludo",pending:"Pendente",processing:"Processando",failed:"Falhou"}},statsPage:{title:"Estatsticas",portfolioAnalysis:"Anlise do Portflio",totalBalance:"Saldo Total",totalAssets:"Total de Ativos",largestAsset:"Maior Ativo",assetDistribution:"Distribuio de Ativos",ofPortfolio:"do portflio",portfolioHistory:"Histrico do Portflio",lastUpdates:"ltimas {count} atualizaes",updatesEvery5Min:"Atualiza a cada 5min"},copied:"Copiado!",copiedToClipboard:"Copiado para rea de transferncia",enterValidAmount:"Insira um valor vlido",transferMethod:"Transferncia",confirm:"Confirmar",save:"Salvar",edit:"Editar",back:"Voltar",next:"Prximo",done:"Concludo",loading:"Carregando...",error:"Erro",success:"Sucesso",close:"Fechar",options:"Opes",welcomeBack:"Bem-vindo de volta",goodMorning:"Bom dia",goodAfternoon:"Boa tarde",goodEvening:"Boa noite",depositFunds:"Depositar fundos",withdrawFunds:"Sacar fundos",selectAmount:"Selecionar valor",enterAmount:"Inserir valor",minimum:"Mnimo",maximum:"Mximo",available:"Disponvel",receive:"Receber",name:"Nome",country:"Pas",dateOfBirth:"Data de nascimento",address:"Endereo",personalAccount:"Conta pessoal",idDocument:"Documento de identificao (CPF/RG/Passaporte)",enterIdDocument:"Digite seu CPF, RG ou Passaporte",residentialAddress:"Endereo residencial",addressPlaceholder:"Rua, nmero, complemento",city:"Cidade",state:"Estado",zipCode:"CEP",phoneNumber:"Nmero de celular",emailLabel:"E-mail",taxResidence:"Domiclio fiscal",patrimony:"Patrimnio",reportedPatrimony:"Patrimnio informado (opcional)",patrimonyPlaceholder:"Ex: R$ 500.000,00",notInformed:"NO INFORMADO",portfolioValue:"Valor do portflio",dailyChange:"Variao diria",profit:"Lucro",loss:"Perda",myCards:"Meus cartes",addCard:"Adicionar carto",manageCards:"Gerenciar cartes",bottomNav:{home:"Incio",wallet:"Carteira",convert:"Converter",crypto:"Cripto",profile:"Perfil"},cryptoPage:{all:"Todos",favorites:"Favoritos",searchCrypto:"Pesquisar criptomoeda...",addBalance:"Adicionar Saldo",enterAmount:"Digite o valor",add:"Adicionar",balance:"Saldo",noFavorites:"Nenhum favorito ainda",addFavoritesTip:"Toque na estrela para adicionar favoritos",topGainersToday:"Maiores Altas Hoje",cryptoAddedSuccess:"Cripto adicionada com sucesso!",errorAddingCrypto:"Erro ao adicionar cripto",invalidAmount:"Valor invlido",addToPortfolio:"Adicionar ao Portflio",trendingUp:"Cripto em Alta",realTime:"Tempo Real",price:"Preo",change24h:"24h",hideList:"Ocultar Lista",seeAllCryptos:"Ver Todas as Criptomoedas",activeAvailable:"ativo disponvel",activesAvailable:"ativos disponveis",hide:"Ocultar",expand:"Expandir",holdToAddBalance:"Segure 5s para adicionar saldo",marketCap:"Market Cap",allCryptosActive:"Todas as criptos esto ativas!",allCryptosAdded:"Voc j adicionou todas as criptomoedas disponveis ao seu portflio.",viewPortfolio:"Ver Portflio",currentBalance:"Saldo atual",amountToAdd:"Quantidade a adicionar",newBalance:"Novo saldo",cancel:"Cancelar",adding:"Adicionando...",confirmAddPortfolio:"Deseja adicionar esta cripto ao seu portflio?",addNow:"Adicionar Agora"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Cripto  Cripto",cryptoToFiat:"Cripto  Moeda",fiatToFiat:"Moeda  Moeda",convertAll:"Converter tudo",exchangeRate:"Cotao",balance:"Saldo",conversionFee:"Taxa de converso (0.5%)",processing:"Processamento",confirmExchange:"Confirmar Exchange",converting:"Convertendo...",conversionHistory:"Histrico de Converses",insufficientBalance:"Saldo insuficiente",insufficientBalanceWithFee:"Saldo insuficiente (inclui taxa 0,5%)",noBalance:"Sem saldo em",conversionCompleted:"Converso Realizada!",anotherConversion:"Deseja fazer outra converso?",yesAnother:"Sim, fazer outra",noGoHome:"No, voltar para Home",conversionSuccess:"Converso realizada com sucesso!",conversionError:"Erro ao processar converso",deleteConversion:" Deseja excluir esta converso?",conversionDeleted:" Converso excluda com sucesso!",errorDeletingConversion:"Erro ao excluir converso",noConversions:"Nenhuma converso realizada ainda",loadingHistory:"Carregando histrico...",needTwoAccounts:"Voc precisa ter contas em pelo menos 2 pases diferentes para fazer converses entre moedas.",needBankAccount:"Voc precisa abrir uma conta bancria para converter cripto em moeda fiat.",seeHistory:"Ver Histrico",hideHistory:"Ocultar Histrico",seconds:"segundos",clickToDelete:"Clique 2x para excluir"},withdrawTransfer:{sendMoney:"Enviar Dinheiro",chooseCountryAndMethod:"Escolha seu pas e mtodo de transferncia",selectAccount:"Selecione a Conta",availableForTransfer:"Saldo disponvel para transferncia",transferMethods:"Mtodos de transferncia",instantTransfer:"Transferncia instantnea",instantNoLimit:"Instantneo  Sem limite de transferncia",bankTransfer:"Transferncia Bancria",tedOrDoc:"TED ou DOC",businessDaysNoLimit:"1-2 dias teis  Sem limite de transferncia",important:"Importante",verifyBankData:"Certifique-se de inserir os dados bancrios corretos. Transferncias para dados incorretos no podero ser revertidas.",transferViaPix:"Transferir via PIX",availableBalance:"Saldo disponvel",amountToTransfer:"Valor a transferir",pixKeyRecipient:"Chave PIX do destinatrio",pixKeyPlaceholder:"CPF, E-mail, Telefone ou Chave Aleatria",informPixKey:"Informe a chave PIX de quem vai receber a transferncia",fee:"Taxa",time:"Tempo",instant:"Instantneo",confirmTransfer:"Confirmar Transferncia",pix:"PIX",businessDays:"1-2 dias teis",pixKeyInvalidType:"Tipo de chave PIX no reconhecido. Use CPF, CNPJ, E-mail, Telefone ou Chave Aleatria.",userNotAuthenticated:"Usurio no autenticado",minAmount:"Valor mnimo",insufficientBalance:"Saldo insuficiente. Disponvel",informPixKeyError:"Informe a chave PIX",pixKeyInvalid:"Chave PIX invlida",fillBankDetails:"Preencha todos os dados bancrios",pixTransferTo:"Transferncia PIX para",errorProcessingPix:"Erro ao processar transferncia PIX",transferSentTo:"Transferncia enviada para",pixKeyNotFound:"Chave PIX no encontrada no sistema NexCoin. Apenas transferncias entre usurios NexCoin so suportadas no momento.",pixTransfer:"Transferncia PIX",tedTransfer:"Transferncia TED",transferVia:"Transferncia via",errorProcessingTransfer:"Erro ao processar transferncia",pixKey:"Chave PIX",transferSuccess:"Transferncia realizada com sucesso!",min:"Mn",max:"Mx",processing:"Processando...",amount:"Valor",bank:"Banco",code:"Cdigo",agency:"Agncia",account:"Conta",checkingAccount:"Conta Corrente",savingsAccount:"Conta Poupana",fullName:"Nome completo",cpfCnpj:"CPF/CNPJ",checking:"Corrente",savings:"Poupana",accountHolderName:"Nome do titular",address:"Endereo",beneficiaryName:"Nome do beneficirio",processingStatus:"Processando",addAccountHome:"Adicione uma conta na pgina Home",noTransferLimit:"Sem limite de transferncia",achTransfer:"Transferncia ACH",electronicBankTransfer:"Transferncia bancria eletrnica",wireTransfer:"Transferncia Wire",domesticWire:"Wire domstico",sepaTransfer:"Transferncia SEPA",singleEuroPaymentsArea:"rea nica de Pagamentos em Euro",sepaInstant:"SEPA Instantneo",instantSepaTransfer:"Transferncia SEPA instantnea",fasterPayments:"Pagamentos Rpidos",instantBankTransfer:"Transferncia bancria instantnea",bacsTransfer:"Transferncia BACS",standardBankTransfer:"Transferncia bancria padro",bankDetails:"Dados da Conta",removeAccount:"Remover Conta"},withdrawCrypto:{title:"Enviar",searchPlaceholder:"Pesquise criptomoedas compatveis",availableBalance:"Saldo disponvel",selectNetwork:"Selecione a rede",fee:"Taxa",noCryptosFound:"Nenhuma criptomoeda encontrada",sendCrypto:"Enviar"},withdrawAddress:{title:"Enviar",selectedNetwork:"Rede selecionada",walletAddress:"Endereo da carteira",addressPlaceholder:"Cole ou escaneie o endereo da carteira",recipientFound:"Destinatrio encontrado",sendingTo:"Enviando para",invalidAddress:"Endereo invlido",addressWarning:"Certifique-se de que o endereo est correto. Transaes no podem ser revertidas.",amount:"Valor",useMax:"Usar mximo",summary:"Resumo da transao",quantity:"Quantidade",networkFee:"Taxa de rede",total:"Total",attention:"Ateno",attentionWarning:"Verifique cuidadosamente o endereo e a rede antes de enviar. Apenas endereos cadastrados na NexCoin so aceitos.",mustBeRegistered:"O endereo precisa estar cadastrado na NexCoin",sentSuccess:"Enviado com sucesso!",transactionProcessed:"Sua transao foi processada",recipient:"Destinatrio",viewReceipt:"Ver Comprovante",processing:"Processando...",transferSuccess:"Transferncia realizada com sucesso!",availableBalance:"Saldo disponvel",fee:"Taxa"},withdrawReceipt:{title:"Transferncia Confirmada!",subtitle:"Comprovante de transferncia",transactionId:"ID da transao",details:"Detalhes da transferncia",method:"Mtodo",fee:"Taxa",processing:"Processamento",date:"Data",recipient:"Destinatrio",important:"Importante",importantNotice:"Guarde este comprovante para referncia futura. O processamento pode levar at",shareReceipt:"Compartilhar comprovante",backToHome:"Voltar para Home",copied:"Copiado",sharing:"Compartilhando...",copiedToClipboard:"Copiado para rea de transferncia!",shareTextHeader:" Comprovante de Transferncia NexCoin",shareTextFooter:" NexCoin - Seu banco digital de criptomoedas",amount:"Valor",currency:"Moeda",status:"Status",copy:"Copiar",to:"Para"},paymentScreen:{title:"Taxa de Anlise",description:"Para prosseguir com a anlise da sua conta,  necessrio realizar uma doao simblica de validao.",totalToPay:"Total a pagar",payButton:"Pagar 5.00",processing:"Processando...",securePayment:"Pagamento seguro processado pela Stripe. Seus dados so criptografados.",secureBadge:"Pagamento 100% seguro e criptografado",configError:"Erro de Configurao",technicalNote:"Nota Tcnica: Se voc ver erro de CORS/Network,  porque a Stripe bloqueia o uso da chave secreta no navegador. Voc precisa configurar um backend ou Cloud Function.",tryAgain:"Tentar Novamente",success:"Pagamento realizado com sucesso!",updateError:"Pagamento confirmado, mas houve um erro ao atualizar seu perfil. Contate o suporte.",initiating:"Iniciando pagamento seguro...",pleaseWait:"Por favor, aguarde um momento."},pendingApproval:{title:"Conta em Anlise",greeting:"Ol {name}!",description:"Sua solicitao de acesso ao NexCoin est sendo analisada pela nossa equipe de segurana.",step1Title:"Cadastro Realizado",step1Desc:"Suas informaes foram recebidas com sucesso",step2Title:"Anlise de Segurana",step2Desc:"Verificando seus dados e validando identidade",step3Title:"Aprovao Final",step3Desc:"Voc receber uma notificao quando for aprovado",estimatedTime:"Tempo estimado:",timeValue:"24 a 48 horas",emailNotice:"Voc receber um e-mail em {email} assim que sua conta for aprovada.",securityBadge:"Protegido por verificao em duas etapas",logoutButton:"Sair da Conta",needHelp:"Precisa de ajuda?",contactUs:"Entre em contato"},pushSettingsPage:{title:"Notificaes push",keepInformed:"Mantenha-se informado",keepInformedDesc:"Personalize suas notificaes para receber apenas as informaes mais importantes",sections:{general:"Geral",transactions:"Transaes",security:"Segurana",market:"Mercado"},items:{enablePush:"Ativar notificaes push",enablePushDesc:"Receber todas as notificaes no dispositivo",allTransactions:"Todas as transaes",allTransactionsDesc:"Notificaes de todas as movimentaes",deposits:"Depsitos",depositsDesc:"Quando voc receber fundos",withdrawals:"Saques",withdrawalsDesc:"Quando processar uma retirada",securityAlerts:"Alertas de segurana",securityAlertsDesc:"Todas as notificaes de segurana",newDevices:"Novos dispositivos",newDevicesDesc:"Login em um novo dispositivo",suspiciousActivity:"Atividades suspeitas",suspiciousActivityDesc:"Tentativas de acesso no autorizadas",priceAlerts:"Alertas de preo",priceAlertsDesc:"Quando seus ativos atingirem metas",marketNews:"Notcias do mercado",marketNewsDesc:"Atualizaes importantes do mercado"},tipTitle:"Dica:",tipContent:"Algumas notificaes de segurana no podem ser desativadas para manter sua conta protegida."}},en:{countries:{BR:"Brazil",US:"United States",PT:"Portugal",ES:"Spain",FR:"France",DE:"Germany",IT:"Italy",GB:"United Kingdom",NL:"Netherlands",BE:"Belgium",CH:"Switzerland",AT:"Austria",CA:"Canada",AU:"Australia",MX:"Mexico",AR:"Argentina",CL:"Chile",CO:"Colombia"},fiatAccounts:{title:"Accounts",subtitle:"Manage your bank accounts",accounts:"Accounts",manageBankAccounts:"Manage your bank accounts",accountData:"Account details",accountSettings:"Account Settings",selectAccount:"Select account",chooseAccountToTransact:"Choose the account to transact",addNewAccount:"Add New Account",addAccount:"Add Account",noAccountsFound:"No accounts found",addFiatAccount:"Add a fiat account to get started",add:"Add",addButton:"Add",creating:"Creating...",removeAccount:"Remove Account",closeAccount:"Close account",deleteAccount:"Delete Account",openingAccount:"Opening Account",configuringAccount:"Configuring your {country} account",validating:"Validating data",generating:"Generating account number",security:"Setting up security",finalizing:"Finalizing account opening",completedSteps:"{completed} of {total} steps completed",accountExists:"Account already exists",accountExistsDesc:"You already have a {country} bank account. It is not possible to create more than one account per country.",accountCreated:"Account created",accountCreatedDesc:"{country} bank account created successfully!",pixKeysCreated:"PIX Keys created!",pixKeysCreatedDesc:"Your PIX keys (email and phone) have been automatically configured.",errorCreatingAccount:"Error creating account",errorCreatingAccountDesc:"Could not create the bank account. Please try again.",error:"Error",accountIdNotFound:"Account ID not found.",closeAccountConfirm:`Are you sure you want to close this account?

This action cannot be undone and you will lose all data associated with this bank account.`,accountClosed:"Account closed",accountClosedDesc:"The bank account has been successfully closed.",errorClosingAccount:"Error closing account",errorClosingAccountDesc:"Could not close the account. Please try again.",permissionError:"Permission error",permissionErrorDesc:"Check if Firestore rules are correctly configured.",firestoreRulesWarning:" Firestore rules not configured",firestoreRulesDesc:"You need to update Firestore rules. Consult the guide for detailed instructions.",institution:"Institution",bank:"Bank",accountType:"Account Type",accountNumber:"Account number",bankCode:"Bank Code",institutionCode:"Institution Code",iban:"IBAN",swiftBic:"SWIFT/BIC",sortCode:"Sort Code",branchCode:"Branch Code",agency:"Agency",routingNumber:"Routing Number",bsb:"BSB",shareData:"Share details",domesticOnly:"For domestic transfers only",internationalOnly:"For international transfers only",transferTimeTip:"Transfers usually take three to five business days to appear in your account",feeTip:"The sender's bank or intermediary may charge for international payments",swiftOnlyTip:"We only accept SWIFT transfers",noFeeTip:"We will not charge any transfer fee for this account.",pixTip:"You can use your account details or Pix key to receive transfers 24 hours a day, hassle-free.",addFunds:"Add Funds",depositMethod:"Deposit Method",depositAmount:"Deposit Amount",transferDetails:"Transfer Details",selectPixKey:"Select PIX Key",selectKey:"Select a key",pixKeys:"PIX Keys",pixQrCode:"PIX QR Code",copyPixCode:"Copy PIX Code",codeCopied:"Code Copied!",depositHint:"Hint: Enter development deposit amount above to generate PIX QR Code.",noPixKeys:"No PIX keys registered. Register a PIX key to use this method.",simulationWarning:'Simulation: In production, the system would wait for bank transfer confirmation. Here, balance will be added instantly when clicking "Confirm Deposit".',confirmDeposit:"Confirm Deposit",depositVia:"Deposit via",depositSuccess:"Deposit successfully completed!",depositError:"Error processing deposit",recipient:"Recipient",yourPixKeys:"Your PIX keys",registeredKeys:"Your registered keys",keysAutoCreated:" Your PIX keys (email and phone) were automatically created",noKeysFound:"No PIX keys found",errorCopying:"Error copying key"},welcome:"Welcome",createAccount:"Create Account",login:"Login",signUp:"Sign Up",termsAgreement:"By signing up, you agree to our Terms of Service and Privacy Policy.",futureOfFinance:"Future of Finance",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",email:"Email",phone:"Phone",fullName:"Full name",password:"Password",confirmPassword:"Confirm password",forgotPassword:"Forgot password?",continue:"Continue",portuguese:"Portuguese",english:"English",spanish:"Spanish",register:"Register",invalidName:"Invalid name",invalidEmail:"Invalid email",invalidPhone:"Invalid phone",phoneNotFound:"Phone not found",passwordRequirement:"Password must have at least 8 characters, 1 uppercase and 1 special character",passwordsDontMatch:"Passwords do not match",privacyPolicy:"Privacy Policy",or:"or",incorrectPassword:"Incorrect password",loginError:"Error signing in",home:"Home",wallet:"Wallet",convert:"Convert",crypto:"Crypto",profile:"Profile",totalBalance:"Total Balance",hideBalance:"Hide Balance",showBalance:"Show Balance",recentTransactions:"Recent Transactions",deposit:"Deposit",withdraw:"Withdraw",transfer:"Transfer",noTransactions:"No transactions yet",quickActions:"Quick Actions",viewAll:"View All",statement:"Statement",viewAllTransactions:"View All Transactions",market:"Market",myAccounts:"My Accounts",myCryptos:"My Cryptos",trade:"Trade",activity:"Activity",myWallet:"My Wallet",assets:"Assets",search:"Search",totalAssets:"Total Assets",cryptoAssets:"Crypto Assets",fiatBalance:"Fiat Balance",manageHoldings:"Manage Holdings",send:"Send",loadingAssets:"Loading assets...",noAssetsInPortfolio:"No assets in portfolio",startAddingCryptos:"Start adding cryptocurrencies in the",goToCrypto:"Go to Crypto",cryptocurrencies:"Cryptocurrencies",clickToAddBalance:"Double-click to add balance",removeAsset:"Remove Asset",addBalance:"Add Balance",enterValidValue:"Enter a valid value",balanceAddedSuccess:"Balance added successfully!",errorAddingBalance:"Error adding balance",add:"Add",confirmDeletion:"Confirm Deletion",areYouSureDelete:"Are you sure you want to permanently remove",fromYourPortfolio:"from your portfolio?",currentBalance:"Current balance",valueToAdd:"Value to add",newBalance:"New balance",adding:"Adding...",addCryptosToPortfolio:"Add cryptocurrencies to your portfolio",toAddMoreCryptos:"To add more cryptocurrencies, go to the",andClickCrypto:"tab and double-click on the desired coin",inCryptoTab:"In the Crypto tab, double-click on any coin to add",selectAssetToDelete:"Select an asset to delete",assetRemovedSuccess:"Asset removed successfully!",errorRemovingAsset:"Error removing asset",removing:"Removing...",remove:"Remove",cashAndStablecoins:"Cash and Stablecoins",cancel:"Cancel",brazilianReal:"Brazilian Real (PIX)",usDollar:"US Dollar",euro:"Euro",sterling:"Pound Sterling",stablecoin:"Stablecoin",japaneseYen:"Japanese Yen",canadianDollar:"Canadian Dollar",australianDollar:"Australian Dollar",swissFranc:"Swiss Franc",chineseYuan:"Chinese Yuan",indianRupee:"Indian Rupee",mexicanPeso:"Mexican Peso",argentinePeso:"Argentine Peso",convertCrypto:"Convert Crypto",from:"From",to:"To",amount:"Amount",youGet:"You get",exchangeRate:"Exchange Rate",convertNow:"Convert now",selectCrypto:"Select crypto",cryptoMarket:"Crypto Market",topGainers:"Top Gainers",topLosers:"Top Losers",marketCap:"Market Cap",volume24h:"24h Volume",price:"Price",change24h:"24h Change",myProfile:"My Profile",settings:"Settings",security:"Security",notifications:"Notifications",language:"Language",support:"Support",about:"About",logout:"Logout",account:"Account",personalInfo:"Personal Information",accountData:"Account Data",helpCenter:"Help Center",termsAndPrivacy:"Terms & Privacy",dangerZone:"Danger Zone",deleteAccount:"Delete Account",help:"Help",privacy:"Privacy",aboutUs:"About Us",receiveCrypto:{title:"Receive",searchPlaceholder:"Search cryptocurrency...",receiveCryptoTitle:"Receive {crypto}",selectNetwork:"Select network",yourAddress:"YOUR ADDRESS",copy:"Copy",new:"New",generating:"Generating...",copied:"Copied!",generatingAddress:"Generating address...",helpTitle:"Help",attention:"Attention",attentionDesc:"Only send assets compatible with the selected network. Sending assets from other networks may result in permanent loss of funds.",uniqueAddress:"Unique address",uniqueAddressDesc:"This address is exclusive to your account and can be used multiple times.",security:"Security",securityDesc:"Always confirm the network before sending assets to avoid irreversible losses.",howItWorks:"How it works",howItWorksDesc:"Share this address or QR Code with anyone sending you cryptocurrencies.",importantTip:"Important tip",importantTipDesc:"We recommend testing with a small amount first.",transactionQuestions:"Questions about transactions?",helpHere:"Help here"},securitySettings:"Security Settings",changePassword:"Change Password",twoFactor:"Two-Factor Authentication",biometric:"Biometric",currentPassword:"Current Password",newPassword:"New Password",confirmNewPassword:"Confirm New Password",updatePassword:"Update Password",authentication:"Authentication",lastChanged:"Last changed 3 months ago",addExtraLayer:"Add an extra layer of security",securityNotifications:"Security Notifications",emailAlerts:"Email Alerts",receiveSuspiciousActivity:"Receive notifications of suspicious activities",recentActivity:"Recent Activity",viewDevicesAccess:"View devices and recent access",connectedDevices:"Connected Devices",activeDevices:"3 active devices",activeSessions:"Active Sessions",manageSessions:"Manage your sessions",yourAccountProtected:"Your account is protected",keepInfoSecure:"Keep your information secure",securityTips:"Security Tips",useStrongPassword:"Use a strong and unique password",enableTwoFactor:"Enable two-factor authentication",neverShareCredentials:"Never share your credentials",notificationSettings:"Notification Settings",pushNotifications:"Push Notifications",emailNotifications:"Email Notifications",transactionAlerts:"Transaction Alerts",priceAlerts:"Price Alerts",newsUpdates:"News Updates",notificationsTitle:"Notifications",unreadMessages:"{count} unread",markAll:"Mark all",filterAll:"All",filterTransactions:"Transactions",filterSecurity:"Security",filterUpdates:"Updates",loadingNotifications:"Wait while we load your notifications",noNotificationsTitle:"No notifications",noNotificationsDesc:"You have no notifications in this category",pushSettingsButton:"Push notification settings",helpCenterPage:{title:"Help Center",howCanWeHelp:"How can we help?",chooseOption:"Choose the best way to contact our support team",sendEmail:"Send Email",sendEmailDesc:"Send your question via email and get a response within 24 hours",liveChat:"Live Chat",liveChatDesc:"Chat with an agent in real-time",availableNow:"Available now",faq:"Frequently Asked Questions",subject:"Subject",enterSubject:"Enter subject",message:"Message",enterMessage:"Describe your question or issue",send:"Send",cancel:"Cancel",emailSent:"Email sent successfully! Our team will respond shortly.",waitingSupport:"Waiting for support",youAreInQueue:"You are in the queue. An agent will be available shortly.",peopleAhead:"people ahead of you",connectedWithAgent:"You are connected with an agent",agentGreeting:"Hello! I am agent Carlos. How can I help you today?",agentResponse:"I understand your question. I will check that for you.",agentName:"Agent Carlos",online:"Online",typeMessage:"Type your message...",faqs:{deposit:{q:"How to make a deposit?",a:'To make a deposit, go to the "Wallet" tab, select the desired cryptocurrency and click "Deposit". You will receive a unique address to send your funds. Make sure to use the correct network to avoid loss of funds.'},withdraw:{q:"How to withdraw cryptocurrencies?",a:'In the "Wallet" tab, select the coin you want to withdraw and click "Withdraw". Enter the destination address, choose the blockchain network and amount. Confirm the transaction with your security code. Processing may take from a few minutes to hours depending on the network.'},fees:{q:"Transaction fees",a:"Fees vary according to the cryptocurrency and blockchain network used. Deposits are free. For withdrawals, fees are dynamic based on network congestion. You will always see the exact fee before confirming any transaction."},security:{q:"Account security",a:"Your security is our priority. We recommend enabling two-factor authentication (2FA), using a strong and unique password, and never sharing your credentials. All transactions require additional confirmation and your funds are protected with bank-grade encryption."}}},termsMenuPage:{title:"Terms & Privacy",termsOfUse:"Terms of Use",termsDesc:"Read NexCoin terms and conditions of use",privacyPolicy:"Privacy Policy",privacyDesc:"Learn how we protect and use your data",lastUpdate:"Last updated: January 26, 2026"},termsAndConditionsPage:{title:"Terms of Use",lastUpdate:"Last updated: January 26, 2026",sections:{1:{title:"1. Acceptance of Terms",content:"By accessing and using NexCoin, you agree to comply with these Terms of Use. If you do not agree with any part of these terms, you should not use our services."},2:{title:"2. Eligibility",content:"You must be at least 18 years old to use NexCoin. By creating an account, you represent and warrant that you have the legal capacity to enter into this agreement."},3:{title:"3. Account and Security",content:[" You are responsible for maintaining the confidentiality of your login credentials"," You must immediately notify us of any unauthorized use of your account"," NexCoin will not be liable for losses arising from unauthorized use of your account"]},4:{title:"4. Security and Mandatory Permissions",content:"To ensure the security of your transactions and prevent fraud, the use of GPS (geolocation) and CAMERA is MANDATORY on the NexCoin platform.",items:[" Access to services will be blocked if location or camera permissions are denied or disabled"," The camera is used exclusively for identity verification (KYC), proof of life, and security authentication"," GPS is used for constant security monitoring, including background tracking to prevent unauthorized access and protect assets"," The use of notifications is recommended for real-time monitoring of all financial movements in your account"]},5:{title:"5. Platform Use",items:["Permitted Use: NexCoin is a platform for cryptocurrency trading. You agree to use the platform only for legal purposes.","Prohibited Use: It is forbidden to use the platform for money laundering, terrorist financing, fraud, or any illegal activity."]},6:{title:"6. Transactions and Fees",content:"All transactions made through NexCoin are subject to network fees. Fees are clearly displayed before confirming any transaction. Once confirmed, the transaction is irreversible."},7:{title:"7. Cryptocurrency Risks",content:"You acknowledge that the cryptocurrency market is volatile and that the value of your assets may fluctuate significantly. NexCoin does not guarantee profits and you are responsible for your investment decisions."},8:{title:"8. Limitation of Liability",content:"NexCoin will not be liable for direct, indirect, incidental, or consequential losses resulting from the use or inability to use our services, including loss of funds, data, or profits."},9:{title:"9. Suspension and Termination",content:"We reserve the right to suspend or terminate your account at any time, without prior notice, if we believe you have violated these terms or engaged in fraudulent activities."},10:{title:"10. Terms Modifications",content:"We may modify these terms at any time. We will notify you of significant changes through the app or email. Continued use of the platform after modifications constitutes acceptance of the new terms."},11:{title:"11. Applicable Law",content:"These terms are governed by the laws applicable in your jurisdiction. Any dispute will be resolved in competent courts."},12:{title:"12. Contact",content:"If you have questions about these Terms of Use, contact us through the Help Center."}},agreement:"By using NexCoin, you agree to these Terms of Use"},privacyPolicyPage:{title:"Privacy Policy",lastUpdate:"Last updated: January 26, 2026",sections:{1:{title:"1. Introduction",content:"NexCoin values your privacy. This Privacy Policy describes how we collect, use, store, and protect your personal information when you use our services."},2:{title:"2. Information We Collect",items:[{title:"2.1 Registration Information:",content:" Full name, email, phone number, country of residence"},{title:"2.2 Transaction Information:",content:" Transaction history, wallet addresses, traded amounts"},{title:"2.3 Technical Information:",content:" IP address, device type, operating system, access logs"},{title:"2.4 Geolocation Information (GPS):",content:" Precise device location, mandatorily used for security purposes, fraud prevention, and regulatory compliance."},{title:"2.5 Verification Information:",content:" Identification documents and biometric data for KYC (Know Your Customer) compliance"},{title:"2.6 Camera Information:",content:" Access to device camera, mandatorily used for document capture and facial recognition (KYC) for security and fraud prevention purposes."},{title:"2.7 Notifications and Alerts:",content:" Collection of device tokens for sending push notifications about received deposits, account security, and important system alerts."}]},3:{title:"3. How We Use Your Information",content:[" Provide and improve our cryptocurrency trading services"," Process transactions and ensure your account security"," Comply with legal and regulatory requirements (AML/KYC)"," Communicate about updates, maintenance, and security issues"," Prevent fraud and suspicious activities through location monitoring and access patterns"," Personalize your app experience"]},4:{title:"4. Information Sharing",intro:"We do not sell your personal information. We may share your data only in the following situations:",content:[" With third-party service providers essential for platform operation"," When required by law, court order, or regulatory authorities"," To protect our legal rights and prevent fraud"," With your explicit consent"]},5:{title:"5. Data Security",intro:"We implement robust security measures to protect your information:",content:[" End-to-end encryption for sensitive data"," Two-factor authentication (2FA)"," Secure storage on servers with security certification"," Continuous monitoring against unauthorized access"," Regular security audits"]},6:{title:"6. Data Retention",content:"We retain your personal information for as long as necessary to provide our services and comply with legal obligations. Transaction data is kept as required by financial regulations."},7:{title:"7. Your Rights",intro:"You have the following rights regarding your personal information:",content:[" Access and review your personal information"," Request correction of incorrect data"," Request deletion of data (subject to legal obligations)"," Opt-out of marketing communications"," Data portability"]},8:{title:"8. Cookies and Tracking",content:"We use cookies and similar technologies to improve your experience, analyze platform usage, and personalize content. You can manage your cookie preferences in the app settings."},9:{title:"9. International Transfers",content:"Your data may be transferred and processed in countries different from your country of residence. We ensure all transfers comply with applicable data protection laws."},10:{title:"10. Minors",content:"Our services are not intended for minors under 18. We do not knowingly collect information from minors. If you believe we have collected data from a minor, contact us immediately."},11:{title:"11. Policy Changes",content:"We may update this Privacy Policy periodically. We will notify you of significant changes through the app or email. We recommend reviewing this policy regularly."},12:{title:"12. Contact",content:"If you have questions about this Privacy Policy or how we treat your data, contact us through the Help Center or send an email to privacy@nexcoin.com."}},agreement:"By using NexCoin, you agree to this Privacy Policy"},languageSettings:"Language Settings",selectLanguage:"Select your language",languageUpdated:"Language updated successfully!",selectYourLanguage:"Select your language",languageDescription:"Choose your preferred language for the app",sent:"Sent",received:"Received",pending:"Pending",completed:"Completed",failed:"Failed",transactions:"Transactions",allTransactions:"All Transactions",transactionsPage:{title:"Transactions",search:"Search",today:"Today",yesterday:"Yesterday",noTransactions:"No transactions",noTransactionsDesc:"Your transactions will appear here",noResults:"No results",noResultsDesc:"Try adjusting your search",fee:"Fee",types:{sendCrypto:"Sent",receiveCrypto:"Received",sent:"Sent",received:"Received",pixSent:"PIX sent",pixReceived:"PIX received",conversion:"Conversion",deposit:"Deposit",withdrawal:"Transfer",buy:"Buy",sell:"Sell"},status:{completed:"Completed",pending:"Pending",processing:"Processing",failed:"Failed"}},statsPage:{title:"Statistics",portfolioAnalysis:"Portfolio Analysis",totalBalance:"Total Balance",totalAssets:"Total Assets",largestAsset:"Largest Asset",assetDistribution:"Asset Distribution",ofPortfolio:"of portfolio",portfolioHistory:"Portfolio History",lastUpdates:"Last {count} updates",updatesEvery5Min:"Updates every 5min"},copied:"Copied!",copiedToClipboard:"Copied to clipboard",enterValidAmount:"Enter a valid amount",transferMethod:"Transfer",confirm:"Confirm",save:"Save",edit:"Edit",back:"Back",next:"Next",done:"Done",loading:"Loading...",error:"Error",success:"Success",close:"Close",options:"Options",welcomeBack:"Welcome back",goodMorning:"Good morning",goodAfternoon:"Good afternoon",goodEvening:"Good evening",depositFunds:"Deposit Funds",withdrawFunds:"Withdraw Funds",selectAmount:"Select Amount",enterAmount:"Enter Amount",minimum:"Minimum",maximum:"Maximum",available:"Available",receive:"Receive",name:"Name",country:"Country",dateOfBirth:"Date of Birth",address:"Address",personalAccount:"Personal Account",idDocument:"Identification Document",enterIdDocument:"Enter your ID document",residentialAddress:"Residential Address",addressPlaceholder:"Street, number, apartment",city:"City",state:"State",zipCode:"Zip Code",phoneNumber:"Phone Number",emailLabel:"Email",taxResidence:"Tax Residence",patrimony:"Net Worth",reportedPatrimony:"Reported Net Worth (optional)",patrimonyPlaceholder:"Ex: $ 500,000.00",notInformed:"NOT INFORMED",portfolioValue:"Portfolio Value",dailyChange:"Daily Change",profit:"Profit",loss:"Loss",myCards:"My Cards",addCard:"Add Card",manageCards:"Manage Cards",bottomNav:{home:"Home",wallet:"Wallet",convert:"Convert",crypto:"Crypto",profile:"Profile"},cryptoPage:{all:"All",favorites:"Favorites",searchCrypto:"Search cryptocurrency...",addBalance:"Add Balance",enterAmount:"Enter amount",add:"Add",balance:"Balance",noFavorites:"No favorites yet",addFavoritesTip:"Tap the star to add favorites",topGainersToday:"Top Gainers Today",cryptoAddedSuccess:"Crypto added successfully!",errorAddingCrypto:"Error adding crypto",invalidAmount:"Invalid amount",addToPortfolio:"Add to Portfolio",trendingUp:"Trending Cryptos",realTime:"Real Time",price:"Price",change24h:"24h",hideList:"Hide List",seeAllCryptos:"See All Cryptocurrencies",activeAvailable:"asset available",activesAvailable:"assets available",hide:"Hide",expand:"Expand",holdToAddBalance:"Hold 5s to add balance",marketCap:"Market Cap",allCryptosActive:"All cryptos are active!",allCryptosAdded:"You have added all available cryptocurrencies to your portfolio.",viewPortfolio:"View Portfolio",currentBalance:"Current Balance",amountToAdd:"Amount to add",newBalance:"New Balance",cancel:"Cancel",adding:"Adding...",confirmAddPortfolio:"Do you want to add this crypto to your portfolio?",addNow:"Add Now"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Crypto  Crypto",cryptoToFiat:"Crypto  Fiat",fiatToFiat:"Fiat  Fiat",convertAll:"Convert all",exchangeRate:"Exchange Rate",balance:"Balance",conversionFee:"Conversion fee (0.5%)",processing:"Processing",confirmExchange:"Confirm Exchange",converting:"Converting...",conversionHistory:"Conversion History",insufficientBalance:"Insufficient balance",insufficientBalanceWithFee:"Insufficient balance (includes 0.5% fee)",noBalance:"No balance in",conversionCompleted:"Conversion Completed!",anotherConversion:"Do you want to make another conversion?",yesAnother:"Yes, make another",noGoHome:"No, go to Home",conversionSuccess:"Conversion completed successfully!",conversionError:"Error processing conversion",deleteConversion:" Do you want to delete this conversion?",conversionDeleted:" Conversion deleted successfully!",errorDeletingConversion:"Error deleting conversion",noConversions:"No conversions made yet",loadingHistory:"Loading history...",needTwoAccounts:"You need accounts in at least 2 different countries to make currency conversions.",needBankAccount:"You need to open a bank account to convert crypto to fiat currency.",seeHistory:"See History",hideHistory:"Hide History",seconds:"seconds",clickToDelete:"Double-click to delete"},withdrawTransfer:{sendMoney:"Send Money",chooseCountryAndMethod:"Choose your country and transfer method",selectAccount:"Select Account",availableForTransfer:"Available balance for transfer",transferMethods:"Transfer methods",instantTransfer:"Instant transfer",instantNoLimit:"Instant  No transfer limit",bankTransfer:"Bank Transfer",tedOrDoc:"TED or DOC",businessDaysNoLimit:"1-2 business days  No transfer limit",important:"Important",verifyBankData:"Make sure to enter the correct bank details. Transfers to incorrect data cannot be reversed.",transferViaPix:"Transfer via PIX",availableBalance:"Available balance",amountToTransfer:"Amount to transfer",pixKeyRecipient:"Recipient PIX key",pixKeyPlaceholder:"CPF, Email, Phone or Random Key",informPixKey:"Enter the PIX key of who will receive the transfer",fee:"Fee",time:"Time",instant:"Instant",confirmTransfer:"Confirm Transfer",pix:"PIX",businessDays:"1-2 business days",pixKeyInvalidType:"PIX key type not recognized. Use CPF, CNPJ, Email, Phone or Random Key.",userNotAuthenticated:"User not authenticated",minAmount:"Minimum amount",insufficientBalance:"Insufficient balance. Available",informPixKeyError:"Enter PIX key",pixKeyInvalid:"Invalid PIX key",fillBankDetails:"Fill in all bank details",pixTransferTo:"PIX transfer to",errorProcessingPix:"Error processing PIX transfer",transferSentTo:"Transfer sent to",pixKeyNotFound:"PIX key not found in NexCoin system. Only transfers between NexCoin users are supported at the moment.",pixTransfer:"PIX Transfer",tedTransfer:"TED Transfer",transferVia:"Transfer via",errorProcessingTransfer:"Error processing transfer",pixKey:"PIX Key",transferSuccess:"Transfer successful!",min:"Min",max:"Max",processing:"Processing...",amount:"Amount",bank:"Bank",code:"Code",agency:"Agency",account:"Account",checkingAccount:"Checking Account",savingsAccount:"Savings Account",fullName:"Full Name",cpfCnpj:"CPF/CNPJ",checking:"Checking",savings:"Savings",accountHolderName:"Holder Name",address:"Address",beneficiaryName:"Beneficiary Name",processingStatus:"Processing",addAccountHome:"Add an account on Home page",noTransferLimit:"No transfer limit",achTransfer:"ACH Transfer",electronicBankTransfer:"Electronic bank transfer",wireTransfer:"Wire Transfer",domesticWire:"Domestic wire",sepaTransfer:"SEPA Transfer",singleEuroPaymentsArea:"Single Euro Payments Area",sepaInstant:"SEPA Instant",instantSepaTransfer:"Instant SEPA transfer",fasterPayments:"Faster Payments",instantBankTransfer:"Instant bank transfer",bacsTransfer:"BACS Transfer",standardBankTransfer:"Standard bank transfer",bankDetails:"Account Details",removeAccount:"Remove Account"},withdrawCrypto:{title:"Send",searchPlaceholder:"Search compatible cryptocurrencies",availableBalance:"Available balance",selectNetwork:"Select network",fee:"Fee",noCryptosFound:"No cryptocurrencies found",sendCrypto:"Send"},withdrawAddress:{title:"Send",selectedNetwork:"Selected network",walletAddress:"Wallet address",addressPlaceholder:"Paste or scan the wallet address",recipientFound:"Recipient found",sendingTo:"Sending to",invalidAddress:"Invalid address",addressWarning:"Make sure the address is correct. Transactions cannot be reversed.",amount:"Amount",useMax:"Use max",summary:"Transaction summary",quantity:"Quantity",networkFee:"Network fee",total:"Total",attention:"Attention",attentionWarning:"Carefully check the address and network before sending. Only addresses registered in NexCoin are accepted.",mustBeRegistered:"The address must be registered in NexCoin",sentSuccess:"Sent successfully!",transactionProcessed:"Your transaction has been processed",recipient:"Recipient",viewReceipt:"View Receipt",processing:"Processing...",transferSuccess:"Transfer completed successfully!",availableBalance:"Available balance",fee:"Fee"},withdrawReceipt:{title:"Transfer Confirmed!",subtitle:"Transfer receipt",transactionId:"Transaction ID",details:"Transfer details",method:"Method",fee:"Fee",processing:"Processing",date:"Date",recipient:"Recipient",important:"Important",importantNotice:"Keep this receipt for future reference. Processing may take up to",shareReceipt:"Share receipt",backToHome:"Back to Home",copied:"Copied",sharing:"Sharing...",copiedToClipboard:"Copied to clipboard!",shareTextHeader:" NexCoin Transfer Receipt",shareTextFooter:" NexCoin - Your digital crypto bank",amount:"Amount",currency:"Currency",status:"Status",copy:"Copy",to:"To"},paymentScreen:{title:"Analysis Fee",description:"To proceed with your account analysis, a symbolic validation donation is required.",totalToPay:"Total to pay",payButton:"Pay 5.00",processing:"Processing...",securePayment:"Secure payment processed by Stripe. Your data is encrypted.",secureBadge:"100% Secure and Encrypted Payment",configError:"Configuration Error",technicalNote:"Technical Note: If you see CORS/Network error, it is because Stripe blocks secret key usage in browser. You need to configure a backend or Cloud Function.",tryAgain:"Try Again",success:"Payment successful!",updateError:"Payment confirmed, but there was an error updating your profile. Contact support.",initiating:"Initiating secure payment...",pleaseWait:"Please wait a moment."},pendingApproval:{title:"Account Under Review",greeting:"Hello {name}!",description:"Your request to access NexCoin is being reviewed by our security team.",step1Title:"Registration Completed",step1Desc:"Your information was received successfully",step2Title:"Security Analysis",step2Desc:"Verifying your data and validating identity",step3Title:"Final Approval",step3Desc:"You will receive a notification when approved",estimatedTime:"Estimated time:",timeValue:"24 to 48 hours",emailNotice:"You will receive an email at {email} as soon as your account is approved.",securityBadge:"Protected by two-step verification",logoutButton:"Log Out",needHelp:"Need help?",contactUs:"Contact us"},pushSettingsPage:{title:"Push Notifications",keepInformed:"Stay informed",keepInformedDesc:"Customize your notifications to receive only the most important information",sections:{general:"General",transactions:"Transactions",security:"Security",market:"Market"},items:{enablePush:"Enable push notifications",enablePushDesc:"Receive all notifications on your device",allTransactions:"All transactions",allTransactionsDesc:"Notifications for all movements",deposits:"Deposits",depositsDesc:"When you receive funds",withdrawals:"Withdrawals",withdrawalsDesc:"When a withdrawal is processed",securityAlerts:"Security alerts",securityAlertsDesc:"All security notifications",newDevices:"New devices",newDevicesDesc:"Login on a new device",suspiciousActivity:"Suspicious activities",suspiciousActivityDesc:"Unauthorized access attempts",priceAlerts:"Price alerts",priceAlertsDesc:"When your assets reach targets",marketNews:"Market news",marketNewsDesc:"Important market updates"},tipTitle:"Tip:",tipContent:"Some security notifications cannot be disabled to keep your account protected."}},es:{countries:{BR:"Brasil",US:"Estados Unidos",PT:"Portugal",ES:"Espaa",FR:"Francia",DE:"Alemania",IT:"Italia",GB:"Reino Unido",NL:"Pases Bajos",BE:"Blgica",CH:"Suiza",AT:"Austria",CA:"Canad",AU:"Australia",MX:"Mxico",AR:"Argentina",CL:"Chile",CO:"Colombia"},fiatAccounts:{title:"Cuentas",subtitle:"Gestiona tus cuentas bancarias",accounts:"Cuentas",manageBankAccounts:"Gestiona tus cuentas bancarias",accountData:"Datos de la cuenta",accountSettings:"Configuracin de la Cuenta",selectAccount:"Seleccionar cuenta",chooseAccountToTransact:"Elige la cuenta para transaccionar",addNewAccount:"Aadir Nueva Cuenta",addAccount:"Aadir Cuenta",noAccountsFound:"No se encontraron cuentas",addFiatAccount:"Aade una cuenta fiat para comenzar",add:"Aadir",addButton:"Aadir",creating:"Creando...",removeAccount:"Eliminar Cuenta",closeAccount:"Cerrar cuenta",deleteAccount:"Eliminar Cuenta",openingAccount:"Abriendo Cuenta",configuringAccount:"Configurando tu cuenta de {country}",validating:"Validando datos",generating:"Generando nmero de cuenta",security:"Configurando seguridad",finalizing:"Finalizando apertura",completedSteps:"{completed} de {total} etapas completadas",accountExists:"La cuenta ya existe",accountExistsDesc:"Ya tienes una cuenta bancaria de {country}. No es posible crear ms de una cuenta por pas.",accountCreated:"Cuenta creada",accountCreatedDesc:"Cuenta bancaria de {country} creada con xito!",pixKeysCreated:"Claves PIX creadas!",pixKeysCreatedDesc:"Tus claves PIX (email y telfono) se han configurado automticamente.",errorCreatingAccount:"Error al crear la cuenta",errorCreatingAccountDesc:"No se pudo crear la cuenta bancria. Intntalo de nuevo.",error:"Error",accountIdNotFound:"ID de cuenta no encontrado.",closeAccountConfirm:`Ests seguro de que deseas cerrar esta cuenta?

Esta accin no se puede deshacer y perders todos los datos asociados a esta cuenta bancaria.`,accountClosed:"Cuenta cerrada",accountClosedDesc:"La cuenta bancria se ha cerrado con xito.",errorClosingAccount:"Error al cerrar la cuenta",errorClosingAccountDesc:"No se pudo cerrar la cuenta. Intntalo de nuevo.",permissionError:"Error de permiso",permissionErrorDesc:"Verifica si las reglas de Firestore estn configuradas correctamente.",firestoreRulesWarning:" Reglas de Firestore no configuradas",firestoreRulesDesc:"Necesitas actualizar las reglas de Firestore. Consulta la gua para obtener instrucciones detalladas.",institution:"Institucin",bank:"Banco",accountType:"Tipo de Cuenta",accountNumber:"Nmero de cuenta",bankCode:"Cdigo del Banco",institutionCode:"Cdigo de Institucin",iban:"IBAN",swiftBic:"SWIFT/BIC",sortCode:"Sort Code",branchCode:"Cdigo de sucursal",agency:"Agencia",routingNumber:"Nmero de ruta",bsb:"BSB",shareData:"Compartir datos",domesticOnly:"Solo para transferencias nacionales",internationalOnly:"Solo para transferencias internacionales",transferTimeTip:"Normalmente, las transferencias tardan de tres a cinco das hbiles en aparecer en tu cuenta",feeTip:"El banco del remitente o el intermediario pueden cobrar por pagos internacionales",swiftOnlyTip:"Solo aceptamos transferencias SWIFT",noFeeTip:"No cobraremos ninguna tarifa de transferencia por esta cuenta.",pixTip:"Puedes usar los datos de tu cuenta o clave Pix para recibir transferencias las 24 horas, sin complicaciones.",addFunds:"Aadir Fondos",depositMethod:"Mtodo de Depsito",depositAmount:"Monto del Depsito",transferDetails:"Datos para Transferencia",selectPixKey:"Seleccione la Clave PIX",selectKey:"Seleccione una clave",pixKeys:"Claves Pix",pixQrCode:"Cdigo QR PIX",copyPixCode:"Copiar Cdigo PIX",codeCopied:"Cdigo Copiado!",depositHint:"Consejo: Ingrese el monto del depsito arriba para generar el Cdigo QR PIX.",noPixKeys:"Ninguna clave PIX registrada. Registre una clave PIX para usar este mtodo.",simulationWarning:'Simulacin: En produccin, el sistema esperara la confirmacin de la transferencia bancaria. Aqu, el saldo se agregar instantneamente al hacer clic en "Confirmar Depsito".',confirmDeposit:"Confirmar Depsito",depositVia:"Depsito va",depositSuccess:"Depsito realizado con xito!",depositError:"Error al procesar el depsito",recipient:"Destinatario",yourPixKeys:"Tus claves PIX",registeredKeys:"Tus claves registradas",keysAutoCreated:" Tus claves PIX (email y telfono) se crearon automticamente",noKeysFound:"No se encontraron claves PIX",errorCopying:"Error al copiar clave"},welcome:"Bienvenido",createAccount:"Crear Cuenta",login:"Iniciar Sesin",signUp:"Registro",termsAgreement:"Al registrarte, aceptas nuestros Trminos de Servicio y Poltica de Privacidad.",futureOfFinance:"Future of Finance",dontHaveAccount:"No tienes una cuenta?",alreadyHaveAccount:"Ya tienes una cuenta?",email:"Email",phone:"Telfono",fullName:"Nombre completo",password:"Contrasea",confirmPassword:"Confirmar contrasea",forgotPassword:"Olvidaste tu contrasea?",continue:"Continuar",portuguese:"Portugus",english:"Ingls",spanish:"Espaol",register:"Registrarse",invalidName:"Nombre invlido",invalidEmail:"Correo electrnico invlido",invalidPhone:"Telfono invlido",phoneNotFound:"Telfono no encontrado",passwordRequirement:"La contrasea debe tener al menos 8 caracteres, 1 mayscula y 1 carcter especial",passwordsDontMatch:"Las contraseas no coinciden",privacyPolicy:"Poltica de Privacidad",or:"o",incorrectPassword:"Contrasea incorrecta",loginError:"Error al iniciar sesin",home:"Inicio",wallet:"Billetera",convert:"Convertir",crypto:"Cripto",profile:"Perfil",totalBalance:"Saldo Total",hideBalance:"Ocultar Saldo",showBalance:"Mostrar Saldo",recentTransactions:"Transacciones Recientes",deposit:"Depositar",withdraw:"Retirar",transfer:"Transferir",noTransactions:"No hay transacciones an",quickActions:"Acciones Rpidas",viewAll:"Ver Todo",statement:"Estado de Cuenta",viewAllTransactions:"Ver Todas las Transacciones",market:"Mercado",myAccounts:"Mis Cuentas",myCryptos:"Mis Criptos",trade:"Negociar",activity:"Actividad",myWallet:"Mi Billetera",assets:"Activos",search:"Buscar",totalAssets:"Total en Activos",cryptoAssets:"Activos en Cripto",fiatBalance:"Saldo en Fiat",manageHoldings:"Gestionar Activos",send:"Enviar",loadingAssets:"Cargando activos...",noAssetsInPortfolio:"No hay activos en el portafolio",startAddingCryptos:"Comienza agregando criptomonedas en la pestaa",goToCrypto:"Ir a Cripto",cryptocurrencies:"Criptomonedas",clickToAddBalance:"Haz doble clic para agregar saldo",removeAsset:"Eliminar Activo",addBalance:"Agregar Saldo",enterValidValue:"Ingresa un valor vlido",balanceAddedSuccess:"Saldo agregado con xito!",errorAddingBalance:"Error al agregar saldo",add:"Agregar",confirmDeletion:"Confirmar Eliminacin",areYouSureDelete:"Ests seguro de que deseas eliminar permanentemente",fromYourPortfolio:"de tu portafolio?",currentBalance:"Saldo actual",valueToAdd:"Valor a agregar",newBalance:"Nuevo saldo",adding:"Agregando...",addCryptosToPortfolio:"Agrega criptomonedas a tu portafolio",toAddMoreCryptos:"Para agregar ms criptomonedas, ve a la",andClickCrypto:"pestaa y haz doble clic en la moneda deseada",inCryptoTab:"En la pestaa Cripto, haz doble clic en cualquier moneda para agregar",selectAssetToDelete:"Selecciona un activo para eliminar",assetRemovedSuccess:"Activo eliminado con xito!",errorRemovingAsset:"Error al eliminar activo",removing:"Eliminando...",remove:"Eliminar",cashAndStablecoins:"Efectivo y Stablecoins",cancel:"Cancelar",brazilianReal:"Real Brasileo (PIX)",usDollar:"Dlar Estadounidense",euro:"Euro",sterling:"Libra Esterlina",stablecoin:"Stablecoin",japaneseYen:"Yen Japons",canadianDollar:"Dlar Canadiense",australianDollar:"Dlar Australiano",swissFranc:"Franco Suizo",chineseYuan:"Yuan Chino",indianRupee:"Rupia India",mexicanPeso:"Peso Mexicano",argentinePeso:"Peso Argentino",convertCrypto:"Convertir Cripto",from:"De",to:"A",amount:"Cantidad",youGet:"Recibes",exchangeRate:"Tasa de Cambio",convertNow:"Convertir ahora",selectCrypto:"Seleccionar cripto",cryptoMarket:"Mercado Cripto",topGainers:"Mayores Subidas",topLosers:"Mayores Cadas",marketCap:"Cap. de Mercado",volume24h:"Volumen 24h",price:"Precio",change24h:"Cambio 24h",myProfile:"Mi Perfil",settings:"Configuracin",security:"Seguridad",notifications:"Notificaciones",language:"Idioma",support:"Soporte",about:"Acerca de",logout:"Salir",account:"Cuenta",personalInfo:"Informacin Personal",accountData:"Datos de la Cuenta",helpCenter:"Centro de Ayuda",termsAndPrivacy:"Trminos y Privacidad",dangerZone:"Zona de Peligro",deleteAccount:"Eliminar Cuenta",help:"Ayuda",privacy:"Privacidad",aboutUs:"Acerca de Nosotros",receiveCrypto:{title:"Recibir",searchPlaceholder:"Buscar criptomoneda...",receiveCryptoTitle:"Recibir {crypto}",selectNetwork:"Seleccione la red",yourAddress:"SU DIRECCIN",copy:"Copiar",new:"Nuevo",generating:"Generando...",copied:"Copiado!",generatingAddress:"Generando direccin...",helpTitle:"Ayuda",attention:"Atencin",attentionDesc:"Enve solo activos compatibles con la red seleccionada. El envo de activos de otras redes puede resultar en la prdida permanente de sus fondos.",uniqueAddress:"Direccin nica",uniqueAddressDesc:"Esta direccin es exclusiva para su cuenta y puede usarse varias veces.",security:"Seguridad",securityDesc:"Siempre confirme la red antes de enviar activos para evitar prdidas irreversibles.",howItWorks:"Cmo funciona",howItWorksDesc:"Comparta esta direccin o cdigo QR con quien le enve criptomonedas.",importantTip:"Consejo importante",importantTipDesc:"Recomendamos hacer una prueba con una cantidad pequea primero.",transactionQuestions:"Dudas sobre transacciones?",helpHere:"Ayuda aqu"},securitySettings:"Configuracin de Seguridad",changePassword:"Cambiar Contrasea",twoFactor:"Autenticacin de Dos Factores",biometric:"Biometra",currentPassword:"Contrasea Actual",newPassword:"Nueva Contrasea",confirmNewPassword:"Confirmar Nueva Contrasea",updatePassword:"Actualizar Contrasea",authentication:"Autenticacin",lastChanged:"ltimo cambio hace 3 meses",addExtraLayer:"Agrega una capa extra de seguridad",securityNotifications:"Notificaciones de Seguridad",emailAlerts:"Alertas por Correo",receiveSuspiciousActivity:"Recibe notificaciones de actividades sospechosas",recentActivity:"Actividad Reciente",viewDevicesAccess:"Ver dispositivos y accesos recientes",connectedDevices:"Dispositivos Conectados",activeDevices:"3 dispositivos activos",activeSessions:"Sesiones Activas",manageSessions:"Gestiona tus sesiones",yourAccountProtected:"Tu cuenta est protegida",keepInfoSecure:"Mantn tu informacin segura",securityTips:"Consejos de Seguridad",useStrongPassword:"Usa una contrasea fuerte y nica",enableTwoFactor:"Activa la autenticacin de dos factores",neverShareCredentials:"Nunca compartas tus credenciales",notificationSettings:"Configuracin de Notificaciones",pushNotifications:"Notificaciones Push",emailNotifications:"Notificaciones por Correo",transactionAlerts:"Alertas de Transaccin",priceAlerts:"Alertas de Precio",newsUpdates:"Actualizaciones de Noticias",notificationsTitle:"Notificaciones",unreadMessages:"{count} no leda{plural}",markAll:"Marcar todas",filterAll:"Todas",filterTransactions:"Transacciones",filterSecurity:"Seguridad",filterUpdates:"Actualizaciones",loadingNotifications:"Espere mientras cargamos sus notificaciones",noNotificationsTitle:"Sin notificaciones",noNotificationsDesc:"No tiene notificaciones en esta categora",pushSettingsButton:"Configuracin de notificaciones push",helpCenterPage:{title:"Centro de Ayuda",howCanWeHelp:"Cmo podemos ayudar?",chooseOption:"Elija la mejor forma de contactar a nuestro equipo de soporte",sendEmail:"Enviar correo",sendEmailDesc:"Enve su duda por correo y reciba respuesta en hasta 24 horas",liveChat:"Chat en vivo",liveChatDesc:"Hable con un agente en tiempo real",availableNow:"Disponible ahora",faq:"Preguntas frecuentes",subject:"Asunto",enterSubject:"Ingrese el asunto",message:"Mensaje",enterMessage:"Describa su duda o problema",send:"Enviar",cancel:"Cancelar",emailSent:"Correo enviado con xito! Nuestro equipo responder pronto.",waitingSupport:"Esperando atencin",youAreInQueue:"Ests en la fila. Pronto un agente estar disponible.",peopleAhead:"personas delante de ti",connectedWithAgent:"Has sido conectado con un agente",agentGreeting:"Hola! Soy el agente Carlos. Cmo puedo ayudarte hoy?",agentResponse:"Entiendo tu pregunta. Voy a verificar eso por ti.",agentName:"Agente Carlos",online:"En lnea",typeMessage:"Escribe tu mensaje...",faqs:{deposit:{q:"Cmo hacer un depsito?",a:'Para hacer un depsito, ve a la pestaa "Billetera", selecciona la criptomoneda deseada y haz clic en "Depositar". Recibirs una direccin nica para enviar tus fondos. Asegrate de usar la red correcta para evitar prdida de fondos.'},withdraw:{q:"Cmo retirar criptomonedas?",a:'En la pestaa "Billetera", selecciona la moneda que deseas retirar y haz clic en "Retirar". Ingresa la direccin de destino, elige la red blockchain y el monto. Confirma la transaccin con tu cdigo de seguridad. El procesamiento puede tardar de unos minutos a horas dependiendo de la red.'},fees:{q:"Tasas de transaccin",a:"Las tasas varan segn la criptomoneda y la red blockchain utilizada. Los depsitos son gratuitos. Para retiros, las tasas son dinmicas y basadas en la congestin de la red. Siempre vers la tasa exacta antes de confirmar cualquier transaccin."},security:{q:"Seguridad de la cuenta",a:"Tu seguridad es nuestra prioridad. Recomendamos activar la autenticacin de dos factores (2FA), usar contrasea fuerte y nica, y nunca compartir tus credenciales. Todas las transacciones requieren confirmacin adicional y tus fondos estn protegidos con cifrado de nivel bancario."}}},termsMenuPage:{title:"Trminos y Privacidad",termsOfUse:"Trminos de Uso",termsDesc:"Lee los trminos y condiciones de uso de NexCoin",privacyPolicy:"Poltica de Privacidad",privacyDesc:"Sepa cmo protegemos y usamos sus datos",lastUpdate:"ltima actualizacin: 26 de enero de 2026"},termsAndConditionsPage:{title:"Trminos de Uso",lastUpdate:"ltima actualizacin: 26 de enero de 2026",sections:{1:{title:"1. Aceptacin de los Trminos",content:"Al acceder y usar NexCoin, aceptas cumplir con estos Trminos de Uso. Si no ests de acuerdo con cualquier parte de estos trminos, no deberas usar nuestros servicios."},2:{title:"2. Elegibilidad",content:"Debes tener al menos 18 aos para usar NexCoin. Al crear una cuenta, declaras y garantizas que tienes capacidad legal para celebrar este contrato."},3:{title:"3. Cuenta y Seguridad",content:[" Eres responsable de mantener la confidencialidad de tus credenciales de inicio de sesin"," Debes notificar inmediatamente sobre cualquier uso no autorizado de tu cuenta"," NexCoin no ser responsable por prdidas derivadas del uso no autorizado de tu cuenta"]},4:{title:"4. Seguridad y Permisos Obligatorios",content:"Para garantizar la seguridad de tus transacciones y prevenir fraudes, el uso de GPS (geolocalizacin) y CMARA es OBLIGATORIO en la plataforma NexCoin.",items:[" El acceso a los servicios ser bloqueado si se deniegan o desactivan los permisos de ubicacin o cmara"," La cmara se utiliza exclusivamente para verificacin de identidad (KYC), prueba de vida y autenticacin de seguridad"," El GPS se utiliza para monitoreo de seguridad constante, incluyendo seguimiento en segundo plano para prevencin contra accesos no autorizados y proteccin de activos"," El uso de notificaciones se recomienda para el monitoreo en tiempo real de todos los movimientos financieros de tu cuenta"]},5:{title:"5. Uso de la Plataforma",items:["Uso Permitido: NexCoin es una plataforma para comercio de criptomonedas. Aceptas usar la plataforma solo para fines legales.","Uso Prohibido: Est prohibido usar la plataforma para lavado de dinero, financiamiento del terrorismo, fraude o cualquier actividad ilegal."]},6:{title:"6. Transacciones y Tasas",content:"Todas las transacciones realizadas a travs de NexCoin estn sujetas a tasas de red. Las tasas se muestran claramente antes de la confirmacin de cualquier transaccin. Una vez confirmada, la transaccin es irreversible."},7:{title:"7. Riesgos de Criptomonedas",content:"Reconoces que el mercado de criptomonedas es voltil y que el valor de tus activos puede fluctuar significativamente. NexCoin no garantiza ganancias y eres responsable de tus decisiones de inversin."},8:{title:"8. Limitacin de Responsabilidad",content:"NexCoin no ser responsable por prdidas directas, indirectas, incidentales o consecuentes resultantes del uso o incapacidad de usar nuestros servicios, incluyendo prdida de fondos, datos o ganancias."},9:{title:"9. Suspensin y Terminacin",content:"Nos reservamos el derecho de suspender o terminar tu cuenta en cualquier momento, sin previo aviso, si creemos que has violado estos trminos o te has involucrado en actividades fraudulentas."},10:{title:"10. Modificaciones de los Trminos",content:"Podemos modificar estos trminos en cualquier momento. Te notificaremos sobre cambios significativos a travs de la aplicacin o correo electrnico. El uso continuado de la plataforma despus de las modificaciones constituye aceptacin de los nuevos trminos."},11:{title:"11. Ley Aplicable",content:"Estos trminos se rigen por las leyes aplicables en tu jurisdiccin. Cualquier disputa ser resuelta en los tribunales competentes."},12:{title:"12. Contacto",content:"Si tienes dudas sobre estos Trminos de Uso, contctanos a travs del Centro de Ayuda."}},agreement:"Al usar NexCoin, aceptas estos Trminos de Uso"},privacyPolicyPage:{title:"Poltica de Privacidad",lastUpdate:"ltima actualizacin: 26 de enero de 2026",sections:{1:{title:"1. Introduccin",content:"NexCoin valora tu privacidad. Esta Poltica de Privacidad describe cmo recopilamos, usamos, almacenamos y protegemos tu informacin personal cuando usas nuestros servicios."},2:{title:"2. Informacin que Recopilamos",items:[{title:"2.1 Informacin de Registro:",content:" Nombre completo, correo electrnico, nmero de telfono, pas de residencia"},{title:"2.2 Informacin de Transaccin:",content:" Historial de transacciones, direcciones de billeteras, montos negociados"},{title:"2.3 Informacin Tcnica:",content:" Direccin IP, tipo de dispositivo, sistema operativo, registros de acceso"},{title:"2.4 Informacin de Geolocalizacin (GPS):",content:" Ubicacin precisa del dispositivo, utilizada obligatoriamente para fines de seguridad, prevencin de fraudes y cumplimiento normativo."},{title:"2.5 Informacin de Verificacin:",content:" Documentos de identificacin y datos biomtricos para cumplimiento KYC (Conozca a su Cliente)"},{title:"2.6 Informacin de Cmara:",content:" Acceso a la cmara del dispositivo, utilizado obligatoriamente para captura de documentos y reconocimiento facial (KYC) para fines de seguridad y prevencin de fraudes."},{title:"2.7 Notificaciones y Alertas:",content:" Recopilacin de tokens de dispositivo para envo de notificaciones push sobre depsitos recibidos, seguridad de la cuenta y alertas importantes del sistema."}]},3:{title:"3. Cmo Usamos tu Informacin",content:[" Proporcionar y mejorar nuestros servicios de comercio de criptomonedas"," Procesar transacciones y garantizar la seguridad de tu cuenta"," Cumplir requisitos legales y regulatorios (AML/KYC)"," Comunicar sobre actualizaciones, mantenimientos y cuestiones de seguridad"," Prevenir fraudes y actividades sospechosas a travs del monitoreo de ubicacin y patrones de acceso"," Personalizar tu experiencia en la aplicacin"]},4:{title:"4. Compartir Informacin",intro:"No vendemos tu informacin personal. Podemos compartir tus datos solo en las siguientes situaciones:",content:[" Con proveedores de servicios externos esenciales para la operacin de la plataforma"," Cuando sea requerido por ley, orden judicial o autoridades reguladoras"," Para proteger nuestros derechos legales y prevenir fraudes"," Con tu consentimiento explcito"]},5:{title:"5. Seguridad de los Datos",intro:"Implementamos medidas de seguridad robustas para proteger tu informacin:",content:[" Cifrado de extremo a extremo para datos sensibles"," Autenticacin de dos factores (2FA)"," Almacenamiento seguro en servidores con certificacin de seguridad"," Monitoreo continuo contra accesos no autorizados"," Auditoras de seguridad regulares"]},6:{title:"6. Retencin de Datos",content:"Mantenemos tu informacin personal por el tiempo necesario para proporcionar nuestros servicios y cumplir obligaciones legales. Los datos de transacciones se mantienen segn lo requerido por regulaciones financieras."},7:{title:"7. Tus Derechos",intro:"Tienes los siguientes derechos en relacin con tu informacin personal:",content:[" Acceder y revisar tu informacin personal"," Solicitar correccin de datos incorrectos"," Solicitar eliminacin de datos (sujeto a obligaciones legales)"," Optar por no recibir comunicaciones de marketing"," Portabilidad de datos"]},8:{title:"8. Cookies y Rastreo",content:"Usamos cookies y tecnologas similares para mejorar tu experiencia, analizar el uso de la plataforma y personalizar contenido. Puedes gestionar tus preferencias de cookies en la configuracin de la aplicacin."},9:{title:"9. Transferencias Internacionales",content:"Tus datos pueden ser transferidos y procesados en pases diferentes de tu pas de residencia. Garantizamos que todas las transferencias cumplan con las leyes de proteccin de datos aplicables."},10:{title:"10. Menores de Edad",content:"Nuestros servicios no estn destinados a menores de 18 aos. No recopilamos intencionalmente informacin de menores. Si crees que hemos recopilado datos de un menor, contctanos inmediatamente."},11:{title:"11. Cambios en la Poltica",content:"Podemos actualizar esta Poltica de Privacidad peridicamente. Te notificaremos sobre cambios significativos a travs de la aplicacin o correo electrnico. Recomendamos revisar esta poltica regularmente."},12:{title:"12. Contacto",content:"Si tienes dudas sobre esta Poltica de Privacidad o sobre cmo tratamos tus datos, contctanos a travs del Centro de Ayuda o enva un correo a privacy@nexcoin.com."}},agreement:"Al usar NexCoin, aceptas esta Poltica de Privacidad"},languageSettings:"Configuracin de Idioma",selectLanguage:"Selecciona tu idioma",languageUpdated:"Idioma actualizado con xito!",selectYourLanguage:"Selecciona tu idioma",languageDescription:"Elige tu idioma preferido para la aplicacin",sent:"Enviado",received:"Recibido",pending:"Pendiente",completed:"Completado",failed:"Fallido",transactions:"Transacciones",allTransactions:"Todas las Transacciones",transactionsPage:{title:"Transacciones",search:"Buscar",today:"Hoy",yesterday:"Ayer",noTransactions:"Sin transacciones",noTransactionsDesc:"Tus transacciones aparecern aqu",noResults:"Sin resultados",noResultsDesc:"Intenta ajustar la bsqueda",fee:"Comisin",types:{sendCrypto:"Envo de",receiveCrypto:"Recepcin de",sent:"Enviado",received:"Recibido",pixSent:"PIX enviado",pixReceived:"PIX recibido",conversion:"Conversin",deposit:"Depsito",withdrawal:"Transferencia",buy:"Compra de",sell:"Venta de"},status:{completed:"Completado",pending:"Pendiente",processing:"Procesando",failed:"Fallido"}},statsPage:{title:"Estadsticas",portfolioAnalysis:"Anlisis del Portafolio",totalBalance:"Saldo Total",totalAssets:"Total de Activos",largestAsset:"Mayor Activo",assetDistribution:"Distribucin de Activos",ofPortfolio:"del portafolio",portfolioHistory:"Historial del Portafolio",lastUpdates:"ltimas {count} actualizaciones",updatesEvery5Min:"Actualiza cada 5min"},copied:"Copiado!",copiedToClipboard:"Copiado al portapapeles",enterValidAmount:"Ingrese un monto vlido",transferMethod:"Transferencia",confirm:"Confirmar",save:"Guardar",edit:"Editar",back:"Volver",next:"Siguiente",done:"Hecho",loading:"Cargando...",error:"Error",success:"xito",close:"Cerrar",options:"Opciones",welcomeBack:"Bienvenido de nuevo",goodMorning:"Buenos das",goodAfternoon:"Buenas tardes",goodEvening:"Buenas noches",depositFunds:"Depositar Fondos",withdrawFunds:"Retirar Fondos",selectAmount:"Seleccionar Cantidad",enterAmount:"Ingresar Cantidad",minimum:"Mnimo",maximum:"Mximo",available:"Disponible",receive:"Recibir",name:"Nombre",country:"Pas",dateOfBirth:"Fecha de Nacimiento",address:"Direccin",personalAccount:"Cuenta Personal",idDocument:"Documento de Identificacin",enterIdDocument:"Ingrese su documento de identidad",residentialAddress:"Direccin Residencial",addressPlaceholder:"Calle, nmero, apartamento",city:"Ciudad",state:"Estado",zipCode:"Cdigo Postal",phoneNumber:"Nmero de Telfono",emailLabel:"Correo Electrnico",taxResidence:"Domicilio Fiscal",patrimony:"Patrimonio",reportedPatrimony:"Patrimonio Informado (opcional)",patrimonyPlaceholder:"Ej: $ 500.000,00",notInformed:"NO INFORMADO",portfolioValue:"Valor del Portafolio",dailyChange:"Cambio Diario",profit:"Ganancia",loss:"Prdida",myCards:"Mis Tarjetas",addCard:"Agregar Tarjeta",manageCards:"Gestionar Tarjetas",bottomNav:{home:"Inicio",wallet:"Billetera",convert:"Convertir",crypto:"Cripto",profile:"Perfil"},cryptoPage:{all:"Todos",favorites:"Favoritos",searchCrypto:"Buscar criptomoneda...",addBalance:"Agregar Saldo",enterAmount:"Ingresar cantidad",add:"Agregar",balance:"Saldo",noFavorites:"An no hay favoritos",addFavoritesTip:"Toca la estrella para agregar favoritos",topGainersToday:"Mayores Subidas Hoy",cryptoAddedSuccess:"Cripto agregada con xito!",errorAddingCrypto:"Error al agregar cripto",invalidAmount:"Cantidad invlida",addToPortfolio:"Aadir al Portafolio",trendingUp:"Cripto en Alza",realTime:"Tiempo Real",price:"Precio",change24h:"24h",hideList:"Ocultar Lista",seeAllCryptos:"Ver Todas las Criptomonedas",activeAvailable:"activo disponible",activesAvailable:"activos disponibles",hide:"Ocultar",expand:"Expandir",holdToAddBalance:"Mantn presionado 5s para aadir saldo",marketCap:"Cap. de Mercado",allCryptosActive:"Todas las criptos estn activas!",allCryptosAdded:"Ya has aadido todas las criptomonedas disponibles a tu cartera.",viewPortfolio:"Ver Portafolio",currentBalance:"Saldo actual",amountToAdd:"Cantidad a aadir",newBalance:"Nuevo saldo",cancel:"Cancelar",adding:"Aadiendo...",confirmAddPortfolio:"Deseas aadir esta cripto a tu cartera?",addNow:"Aadir Ahora"},convertPage:{exchange:"Exchange",cryptoToCrypto:"Cripto  Cripto",cryptoToFiat:"Cripto  Fiat",fiatToFiat:"Fiat  Fiat",convertAll:"Convertir todo",exchangeRate:"Tasa de Cambio",balance:"Saldo",conversionFee:"Tarifa de conversin (0.5%)",processing:"Procesamiento",confirmExchange:"Confirmar Exchange",converting:"Convirtiendo...",conversionHistory:"Historial de Conversiones",insufficientBalance:"Saldo insuficiente",insufficientBalanceWithFee:"Saldo insuficiente (incluye tarifa 0,5%)",noBalance:"Sin saldo en",conversionCompleted:"Conversin Completada!",anotherConversion:"Deseas hacer otra conversin?",yesAnother:"S, hacer otra",noGoHome:"No, volver al Inicio",conversionSuccess:"Conversin realizada con xito!",conversionError:"Error al procesar conversin",deleteConversion:" Deseas eliminar esta conversin?",conversionDeleted:" Conversin eliminada con xito!",errorDeletingConversion:"Error al eliminar conversin",noConversions:"An no se han realizado conversiones",loadingHistory:"Cargando historial...",needTwoAccounts:"Necesitas cuentas en al menos 2 pases diferentes para hacer conversiones de moneda.",needBankAccount:"Necesitas abrir una cuenta bancaria para convertir cripto en moneda fiat.",seconds:"segundos",clickToDelete:"Haz doble clic para eliminar",seeHistory:"Ver Historial",hideHistory:"Ocultar Historial"},withdrawTransfer:{sendMoney:"Enviar Dinero",chooseCountryAndMethod:"Elige tu pas y mtodo de transferencia",selectAccount:"Seleccionar Cuenta",availableForTransfer:"Saldo disponible para transferencia",transferMethods:"Mtodos de transferencia",instantTransfer:"Transferencia instantnea",instantNoLimit:"Instantneo  Sin lmite de transferencia",bankTransfer:"Transferencia Bancaria",tedOrDoc:"TED o DOC",businessDaysNoLimit:"1-2 das hbiles  Sin lmite de transferencia",important:"Importante",verifyBankData:"Asegrate de ingresar los datos bancarios correctos. Las transferencias a datos incorrectos no se pueden revertir.",transferViaPix:"Transferir va PIX",availableBalance:"Saldo disponible",amountToTransfer:"Cantidad a transferir",pixKeyRecipient:"Clave PIX del destinatario",pixKeyPlaceholder:"CPF, Email, Telfono o Clave Aleatoria",informPixKey:"Ingresa la clave PIX de quien recibir la transferencia",fee:"Comisin",time:"Tiempo",instant:"Instantneo",confirmTransfer:"Confirmar Transferencia",pix:"PIX",businessDays:"1-2 das hbiles",pixKeyInvalidType:"Tipo de clave PIX no reconocido. Use CPF, CNPJ, Email, Telfono o Clave Aleatoria.",userNotAuthenticated:"Usuario no autenticado",minAmount:"Monto mnimo",insufficientBalance:"Saldo insuficiente. Disponible",informPixKeyError:"Informe la clave PIX",pixKeyInvalid:"Clave PIX invlida",fillBankDetails:"Complete todos los datos bancarios",pixTransferTo:"Transferencia PIX para",errorProcessingPix:"Error al procesar transferencia PIX",transferSentTo:"Transferencia enviada a",pixKeyNotFound:"Clave PIX no encontrada en el sistema NexCoin. Solo se soportan transferencias entre usuarios NexCoin por el momento.",pixTransfer:"Transferencia PIX",tedTransfer:"Transferencia TED",transferVia:"Transferencia va",errorProcessingTransfer:"Error al procesar transferencia",pixKey:"Clave PIX",transferSuccess:"Transferencia realizada con xito!",min:"Mn",max:"Mx",processing:"Procesando...",amount:"Monto",bank:"Banco",code:"Cdigo",agency:"Agencia",account:"Cuenta",checkingAccount:"Cuenta Corriente",savingsAccount:"Cuenta de Ahorros",fullName:"Nombre completo",cpfCnpj:"CPF/CNPJ",checking:"Corriente",savings:"Ahorros",accountHolderName:"Nombre del titular",address:"Direccin",beneficiaryName:"Nombre del beneficiario",processingStatus:"Procesando",addAccountHome:"Agregue una cuenta en la pgina de Inicio",noTransferLimit:"Sin lmite de transferencia",achTransfer:"Transferencia ACH",electronicBankTransfer:"Transferencia bancaria electrnica",wireTransfer:"Transferencia Wire",domesticWire:"Wire domstico",sepaTransfer:"Transferencia SEPA",singleEuroPaymentsArea:"Zona nica de Pagos en Euros",sepaInstant:"SEPA Instantneo",instantSepaTransfer:"Transferencia SEPA instantnea",fasterPayments:"Pagos Rpidos",instantBankTransfer:"Transferencia bancaria instantnea",bacsTransfer:"Transferencia BACS",standardBankTransfer:"Transferencia bancaria estndar",bankDetails:"Detalles de la Cuenta",removeAccount:"Eliminar Cuenta"},withdrawCrypto:{title:"Enviar",searchPlaceholder:"Buscar criptomonedas compatibles",availableBalance:"Saldo disponible",selectNetwork:"Seleccione la red",fee:"Comisin",noCryptosFound:"No se encontraron criptomonedas",sendCrypto:"Enviar"},withdrawAddress:{title:"Enviar",selectedNetwork:"Rede seleccionada",walletAddress:"Direccin de la billetera",addressPlaceholder:"Pega o escanea la direccin de la billetera",recipientFound:"Destinatario encontrado",sendingTo:"Enviando a",invalidAddress:"Direccin invlida",addressWarning:"Asegrate de que la direccin sea correcta. Las transacciones no se pueden revertir.",amount:"Cantidad",useMax:"Usar mximo",summary:"Resumen de la transaccin",quantity:"Cantidad",networkFee:"Comisin de red",total:"Total",attention:"Atencin",attentionWarning:"Verifique cuidadosamente la direccin y la red antes de enviar. Solo se aceptan direcciones registradas en NexCoin.",mustBeRegistered:"La direccin debe estar registrada en NexCoin",sentSuccess:"Enviado con xito!",transactionProcessed:"Su transaccin ha sido procesada",recipient:"Destinatario",viewReceipt:"Ver Comprobante",processing:"Procesando...",transferSuccess:"Transferencia realizada con xito!",availableBalance:"Saldo disponible",fee:"Comisin"},withdrawReceipt:{title:"Transferencia Confirmada!",subtitle:"Comprobante de transferencia",transactionId:"ID de la transaccin",details:"Detalles de la transferencia",method:"Mtodo",fee:"Comisin",processing:"Procesamiento",date:"Fecha",recipient:"Destinatario",important:"Importante",importantNotice:"Guarde este comprobante para referencia futura. El procesamiento puede tardar hasta",shareReceipt:"Compartir comprobante",backToHome:"Volver al Inicio",copied:"Copiado",sharing:"Compartiendo...",copiedToClipboard:"Copiado al portapapeles!",shareTextHeader:" Comprobante de Transferencia NexCoin",shareTextFooter:" NexCoin - Su banco digital de criptomonedas",amount:"Monto",currency:"Moneda",status:"Estado",copy:"Copiar",to:"Para"},paymentScreen:{title:"Tarifa de Anlisis",description:"Para continuar con el anlisis de su cuenta, es necesario realizar una donacin simblica de validacin.",totalToPay:"Total a pagar",payButton:"Pagar 5.00",processing:"Procesando...",securePayment:"Pago seguro procesado por Stripe. Sus datos estn encriptados.",secureBadge:"Pago 100% seguro y encriptado",configError:"Error de Configuracin",technicalNote:"Nota Tcnica: Si ve error de CORS/Network, es porque Stripe bloquea el uso de la clave secreta en el navegador. Necesita configurar un backend o Cloud Function.",tryAgain:"Intentar de Nuevo",success:"Pago exitoso!",updateError:"Pago confirmado, pero hubo un error al actualizar su perfil. Contacte al soporte.",initiating:"Iniciando pago seguro...",pleaseWait:"Por favor espere un momento."},pendingApproval:{title:"Cuenta en Anlisis",greeting:"Hola {name}!",description:"Su solicitud de acceso a NexCoin est siendo analizada por nuestro equipo de seguridad.",step1Title:"Registro Realizado",step1Desc:"Su informacin fue recibida con xito",step2Title:"Anlisis de Seguridad",step2Desc:"Verificando sus datos y validando identidad",step3Title:"Aprobacin Final",step3Desc:"Recibir una notificacin cuando sea aprobado",estimatedTime:"Tiempo estimado:",timeValue:"24 a 48 horas",emailNotice:"Recibir un correo electrnico en {email} tan pronto como su cuenta sea aprobada.",securityBadge:"Protegido por verificacin en dos pasos",logoutButton:"Cerrar Sesin",needHelp:"Necesita ayuda?",contactUs:"Contctenos"},pushSettingsPage:{title:"Notificaciones push",keepInformed:"Mantente informado",keepInformedDesc:"Personaliza tus notificaciones para recibir solo la informacin ms importante",sections:{general:"General",transactions:"Transacciones",security:"Seguridad",market:"Mercado"},items:{enablePush:"Activar notificaciones push",enablePushDesc:"Recibir todas las notificaciones en el dispositivo",allTransactions:"Todas las transacciones",allTransactionsDesc:"Notificaciones de todos los movimientos",deposits:"Depsitos",depositsDesc:"Cuando recibas fondos",withdrawals:"Retiros",withdrawalsDesc:"Cuando se procese un retiro",securityAlerts:"Alertas de seguridad",securityAlertsDesc:"Todas las notificaciones de seguridad",newDevices:"Nuevos dispositivos",newDevicesDesc:"Inicio de sesin en un nuevo dispositivo",suspiciousActivity:"Actividades sospechosas",suspiciousActivityDesc:"Intentos de acceso no autorizados",priceAlerts:"Alertas de precio",priceAlertsDesc:"Cuando tus activos alcancen metas",marketNews:"Noticias del mercado",marketNewsDesc:"Actualizaciones importantes del mercado"},tipTitle:"Consejo:",tipContent:"Algunas notificaciones de seguridad no se pueden desactivar para mantener tu cuenta protegida."}}},fl=()=>{try{const t=navigator.language.toLowerCase();return t.startsWith("pt")?"pt":t.startsWith("es")?"es":"en"}catch(t){return console.error("Erro ao detectar idioma do navegador:",t),"pt"}},oR=fl(),lte={language:oR,setLanguage:async()=>{},t:LT[oR]},dz=E.createContext(lte);function cte({children:t}){const[e,n]=E.useState(fl());E.useEffect(()=>{try{const s=wn.onAuthStateChanged(a=>{if(a&&a.uid){const o=rt(be,"users",a.uid),l=hs(o,d=>{try{if(d.exists()){const f=d.data();f?.language&&["pt","en","es"].includes(f.language)?n(f.language):n(fl())}else n(fl())}catch(f){console.error("Erro ao processar dados do usurio:",f),n(fl())}},d=>{d.code!=="permission-denied"&&console.error("Erro ao escutar idioma do usurio:",d),n(fl())});return()=>l()}else n(fl())});return()=>s()}catch(s){console.error("Erro ao configurar listener de autenticao:",s),n(fl())}},[]);const i={language:e,setLanguage:async s=>{try{if(!["pt","en","es"].includes(s)){console.error("Idioma invlido:",s);return}n(s);const a=wn.currentUser;if(a)try{const o=rt(be,"users",a.uid);await bi(o,{language:s}),console.log(" Idioma salvo no Firestore:",s)}catch(o){console.error("Erro ao salvar idioma no Firestore:",o)}}catch(a){console.error("Erro ao definir idioma:",a)}},t:LT[e]||LT.pt};return c.jsx(dz.Provider,{value:i,children:t})}function xt(){return E.useContext(dz)}function lR({onNavigate:t}){const{t:e,language:n,setLanguage:r}=xt(),i=()=>{console.log(" Boto de Login clicado no Welcome"),t("login")},s=()=>{console.log(" Boto de Criar Conta clicado no Welcome"),t("signup")},[a,o]=E.useState(!1),l=E.useRef(null);return E.useEffect(()=>{l.current&&l.current.play().then(()=>{o(!0)}).catch(d=>{console.error("Autoplay failed:",d)})},[]),c.jsxs("div",{className:"bg-black text-white overflow-hidden relative w-full h-screen",children:[c.jsx("div",{className:"fixed top-0 left-0 w-full h-full z-0 pointer-events-none bg-black",style:{}}),c.jsx("div",{className:`fixed top-0 left-0 w-full h-full z-0 overflow-hidden transition-opacity duration-1000 ${a?"opacity-100":"opacity-0"}`,children:c.jsx("video",{ref:l,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,"webkit-playsinline":"true",preload:"auto",controls:!1,onPlay:()=>o(!0),className:"w-full h-full object-cover",style:{filter:"brightness(0.6) contrast(1.1)"},children:c.jsx("source",{src:"/assets/videos/entrada.mp4",type:"video/mp4"})})}),c.jsx("div",{className:"fixed top-0 left-0 w-full h-full z-10 pointer-events-none opacity-0 animate-fadeIn",style:{background:"linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0) 40%, rgba(0,0,0,0.8) 100%)",animationDelay:"0.2s"}}),c.jsxs("main",{className:"relative z-20 h-screen flex flex-col justify-between px-6 pb-12 pt-20",children:[c.jsxs("div",{className:"flex flex-col items-center text-center pt-[env(safe-area-inset-top)] opacity-0 animate-scaleIn",style:{animationDelay:"0.4s"},children:[c.jsxs("div",{className:"relative inline-block",children:[c.jsx("div",{className:"absolute inset-0 blur-3xl opacity-60",style:{background:"radial-gradient(circle, rgba(0, 212, 255, 0.4) 0%, rgba(123, 47, 247, 0.3) 50%, transparent 70%)"}}),c.jsx("h1",{className:"text-3xl font-bold italic relative nexcoin-logo-text",children:"NexCoin"}),c.jsx("div",{className:"h-[2px] w-24 mx-auto mt-3 rounded-full",style:{background:"linear-gradient(90deg, transparent, #00d4ff, #7b2ff7, transparent)",boxShadow:"0 0 10px rgba(0, 212, 255, 0.8)"}})]}),c.jsx("p",{className:"mt-4 text-white/70 font-medium tracking-wide uppercase text-[10px]",children:e.futureOfFinance})]}),c.jsx("div",{className:"flex-grow"}),c.jsxs("div",{className:"w-full max-w-sm mx-auto flex flex-col gap-3 items-center pb-[env(safe-area-inset-bottom)]",children:[c.jsx("button",{onClick:s,className:"w-full bg-white text-black font-bold py-3.5 px-6 rounded-full shadow-lg active:scale-[0.98] transition-all duration-200 text-base opacity-0 animate-slideUp",style:{animationDelay:"0.6s"},children:e.createAccount}),c.jsx("button",{onClick:i,className:"w-full py-3 text-white font-semibold active:opacity-60 transition-opacity duration-200 text-base bg-white/10 rounded-full opacity-0 animate-slideUp",style:{animationDelay:"0.8s"},children:e.login}),c.jsx("div",{className:"mt-4 flex justify-center opacity-0 animate-fadeIn",style:{animationDelay:"1.2s"},children:c.jsx("div",{className:"flex bg-white/5 backdrop-blur-sm rounded-full p-1 border border-white/10",children:[{code:"pt",label:"BR",flag:""},{code:"en",label:"EN",flag:""},{code:"es",label:"ES",flag:""}].map(d=>c.jsxs("button",{onClick:()=>r(d.code),className:`px-3 py-1.5 rounded-full text-[10px] font-bold transition-all flex items-center gap-1.5 ${n===d.code?"bg-white text-black":"text-white/60 hover:text-white"}`,children:[c.jsx("span",{children:d.flag}),d.label]},d.code))})})]})]})]})}const ute=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fz=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");var dte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const fte=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>E.createElement("svg",{ref:l,...dte,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fz("lucide",i),...o},[...a.map(([d,f])=>E.createElement(d,f)),...Array.isArray(s)?s:[s]]));const He=(t,e)=>{const n=E.forwardRef(({className:r,...i},s)=>E.createElement(fte,{ref:s,iconNode:e,className:fz(`lucide-${ute(t)}`,r),...i}));return n.displayName=`${t}`,n};const dv=He("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);const hz=He("ArrowDownLeft",[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]]);const hte=He("ArrowDownUp",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]]);const SP=He("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);const fv=He("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);const vt=He("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);const mte=He("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);const VT=He("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);const PP=He("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);const wm=He("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);const ll=He("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);const pte=He("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);const jn=He("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);const Il=He("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);const AP=He("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);const mo=He("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);const jl=He("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);const gte=He("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);const Nx=He("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);const mz=He("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const Um=He("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);const cR=He("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);const bn=He("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);const yte=He("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);const vte=He("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);const pz=He("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const ef=He("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);const eu=He("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const gz=He("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);const uR=He("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);const FT=He("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);const xte=He("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);const bte=He("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);const Qv=He("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);const wte=He("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);const Cl=He("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);const _te=He("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);const wf=He("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);const Ete=He("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);const Tte=He("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);const Cte=He("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);const Ste=He("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);const dR=He("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);const vu=He("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const Pte=He("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);const NP=He("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);const yz=He("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);const Wl=He("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);const Ate=He("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);const Nte=He("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);const IP=He("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);const _f=He("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);const ts=He("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);const fR=He("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);const Hc=He("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);const xu=He("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);const os=He("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);const BT=He("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);const hR=He("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);const jP=He("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);const vz=He("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);const qs=He("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xz=E.createContext({phoneNumber:"",setPhoneNumber:()=>{}});function bz(){return E.useContext(xz)}function Ite({children:t}){const[e,n]=E.useState(""),r={phoneNumber:e,setPhoneNumber:n};return c.jsx(xz.Provider,{value:r,children:t})}async function wz(t,e,n,r,i,s){try{if(console.log(" Salvando ativo no portfolio:",{userId:t,symbol:e,coinId:n,amount:r,name:i,valueUsd:s}),!t){console.warn(" userId vazio, cancelando salvamento");return}const a=rt(be,"users",t,"portfolio",e);await cr(a,{symbol:e,coinId:n,amount:r,name:i||e,valueUsd:s||0,updatedAt:new Date},{merge:!0}),console.log(" Ativo salvo no portfolio com sucesso!")}catch(a){throw console.error(" Erro ao salvar ativo no portfolio:",a),a instanceof Error&&(console.error(" Mensagem:",a.message),console.error(" Stack:",a.stack)),a}}async function jte(t,e){try{console.log(" Removendo ativo do portfolio:",e);const n=rt(be,"users",t,"portfolio",e);await fo(n),console.log(" Ativo removido do portfolio com sucesso!")}catch(n){throw console.error(" Erro ao remover ativo do portfolio:",n),n}}async function kte(t,e,n,r,i,s){for(let l=1;l<=3;l++)try{console.log(` Atualizando saldo (tentativa ${l}/3):`,{symbol:e,deltaAmount:r});const d=rt(be,"users",t,"portfolio",e),f=await Bi(d);if(f.exists()){const p=(f.data().amount||0)+r;if(p<=0)await fo(d),console.log(" Ativo removido (saldo zerado)");else{const y=s?p*s:0;await bi(d,{amount:p,valueUsd:y,updatedAt:new Date}),console.log(" Saldo atualizado:",p,"valueUsd:",y)}}else if(r>0){const m=s?r*s:0;await wz(t,e,n,r,i,m),console.log(" Novo ativo criado com saldo:",r)}return}catch(d){if(console.error(` Erro ao atualizar saldo (tentativa ${l}/3):`,d),l===3)throw d;await new Promise(f=>setTimeout(f,500*l))}}async function Rte(t){console.log(" initializeUserPortfolio no  necessrio com a nova estrutura de coleo")}async function Dte(t,e){try{if(!t){console.warn(" userId vazio, cancelando sincronizao");return}if(!e||Object.keys(e).length===0){console.warn(" Preos vazios, cancelando sincronizao");return}console.log(" Sincronizando valores do portfolio com preos atuais...");const n=nt(be,"users",t,"portfolio"),r=await Pt(n);if(r.empty){console.log(" Nenhum ativo encontrado para sincronizar");return}const i=r.docs.map(async s=>{try{const a=s.data(),{coinId:o,amount:l,symbol:d}=a;if(!o||l===void 0){console.warn(` Dados invlidos para ativo ${s.id}:`,{symbol:a.symbol||"N/A",coinId:o||"AUSENTE",amount:l!==void 0?l:"AUSENTE"}),console.warn(" Este documento ser removido no prximo login");return}const f=e[o];if(!f||!f.usd){console.warn(` Preo no encontrado para ${o} (${d||s.id})`);return}const m=l*f.usd,p=rt(be,"users",t,"portfolio",s.id);await bi(p,{valueUsd:m,updatedAt:new Date}),console.log(` Ativo ${s.id} atualizado: ${l} x $${f.usd.toFixed(2)} = $${m.toFixed(2)}`)}catch(a){console.error(` Erro ao atualizar ativo ${s.id}:`,a)}});await Promise.all(i),console.log(" Sincronizao de valores concluda!")}catch(n){console.error(" Erro ao sincronizar valores do portfolio:",n)}}async function Ote(t){try{console.log(" Iniciando migrao de wallets para portfolio..."),console.log(" userId:",t);const e=nt(be,"users",t,"wallets"),n=await Pt(e);if(n.empty){console.log(" Nenhuma wallet encontrada para migrar");return}console.log(` Total de wallets encontradas: ${n.size}`);let r=0,i=0;for(const s of n.docs)try{const a=s.data();if(console.log(` Verificando wallet: ${s.id}`,a),!a.symbol||!a.coinId||a.amount===void 0){console.warn(` Wallet ${s.id} possui dados invlidos, pulando...`,{symbol:a.symbol,coinId:a.coinId,amount:a.amount}),i++;continue}const o=rt(be,"users",t,"portfolio",s.id);await cr(o,{symbol:a.symbol,coinId:a.coinId,amount:a.amount,name:a.name||a.symbol,valueUsd:a.valueUsd||0,createdAt:a.createdAt||new Date,updatedAt:new Date},{merge:!1}),console.log(` Wallet ${s.id} migrada para portfolio`),r++}catch(a){console.error(` Erro ao migrar wallet ${s.id}:`,a),i++}console.log(" Migrao concluda!"),console.log(` Resumo: ${r} migradas, ${i} erros`)}catch(e){throw console.error(" Erro na migrao:",e),e}}async function Mte(t){try{const e=nt(be,"users",t,"wallets"),n=await Pt(e),r=!n.empty;return r&&console.log(` Usurio ${t} possui ${n.size} wallets que precisam ser migradas`),r}catch(e){return console.error(" Erro ao verificar necessidade de migrao:",e),!1}}async function Lte(t){try{await Mte(t)?(console.log(" Migrao automtica necessria..."),await Ote(t),console.log(" Migrao automtica concluda!")):console.log(" Nenhuma migrao necessria"),await Vte(t)}catch(e){console.error(" Erro na migrao automtica:",e)}}async function Vte(t){try{console.log(" Verificando documentos invlidos no portfolio...");const e=nt(be,"users",t,"portfolio"),n=await Pt(e);if(n.empty){console.log(" Portfolio vazio, nada a limpar");return}let r=0,i=0;for(const s of n.docs){const a=s.data();if(s.id==="holdings"&&Array.isArray(a.holdings)){console.log(' Encontrado documento "holdings" com estrutura antiga (array)'),console.log(" Migrando",a.holdings.length,"holdings para documentos separados...");try{for(const o of a.holdings)if(o.symbol&&o.coinId&&o.amount!==void 0){const l=rt(be,"users",t,"portfolio",o.symbol);await cr(l,{symbol:o.symbol,coinId:o.coinId,amount:o.amount,name:o.name||o.symbol,valueUsd:0,createdAt:new Date,updatedAt:new Date},{merge:!0}),console.log(` Holding ${o.symbol} migrado para documento separado`),i++}else console.warn(" Holding invlido no array:",o);await fo(s.ref),console.log(' Documento "holdings" antigo deletado aps migrao'),r++}catch(o){console.error(' Erro ao migrar documento "holdings":',o)}continue}if(!a.symbol||!a.coinId||a.amount===void 0){console.warn(` Deletando documento invlido: ${s.id}`,a);try{await fo(s.ref),r++,console.log(` Documento ${s.id} deletado`)}catch(o){console.error(` Erro ao deletar documento ${s.id}:`,o)}}}i>0&&console.log(` ${i} holding(s) migrado(s) de estrutura antiga para nova`),r>0&&console.log(` ${r} documento(s) invlido(s) removido(s) do portfolio`),i===0&&r===0&&console.log(" Nenhum documento invlido encontrado")}catch(e){console.error(" Erro ao limpar documentos invlidos:",e)}}const Ft=t=>Array.from({length:t},()=>Math.floor(Math.random()*10)).join(""),Fte=()=>{const t=Ft(8),e=Math.floor(Math.random()*10);return`${t}-${e}`},Is=(t,e,n)=>{const r=Ft(2);return`${t}${r}${e}${n}`},Bte={BR:{bankCode:"336",branchCode:"0001",swift:"NEXCBRBR"},US:{routingNumber:"021000021",swift:"NEXCUSNY"},PT:{bankCode:"0035",swift:"NEXCPTPL"},ES:{bankCode:"2100",swift:"NEXCESMM"},FR:{bankCode:"30004",branchCode:"00001",swift:"NEXCFRPP"},DE:{bankCode:"10050000",swift:"NEXCDEFF"},IT:{bankCode:"05034",branchCode:"01600",swift:"NEXCITM1"},GB:{sortCode:"60-16-13",swift:"NEXCGB2L"},NL:{bankCode:"NEXC",swift:"NEXCNL2A"},BE:{bankCode:"735",swift:"NEXCBEBB"},CH:{bankCode:"00235",swift:"NEXCCHZZ"},AT:{bankCode:"12000",swift:"NEXCATWW"},CA:{routingNumber:"000010001",swift:"NEXCCATT"},AU:{routingNumber:"062-000",swift:"NEXCAU2S"},MX:{bankCode:"072",swift:"NEXCMXMM"},AR:{bankCode:"336",branchCode:"0001",swift:"NEXCARBA"},CL:{bankCode:"055",swift:"NEXCCLRM"},CO:{bankCode:"0001",swift:"NEXCCOBB"}},_z=(t,e)=>{const n=e?`${e}_${t}_${Date.now()}`:`${t}_${Date.now()}`,r=new Date,i=Bte[t],a={BR:{country:"BR",countryName:"Brasil",flagCode:"br",currency:"BRL",accountNumber:Fte(),bankCode:i?.bankCode,branchCode:i?.branchCode,bankName:"NexCoin transactions",accountType:"Conta Corrente",swift:i?.swift},US:{country:"US",countryName:"Estados Unidos",flagCode:"us",currency:"USD",accountNumber:Ft(12),routingNumber:i?.routingNumber,bankName:"NexCoin transactions",accountType:"Checking Account",swift:i?.swift},PT:{country:"PT",countryName:"Portugal",flagCode:"pt",currency:"EUR",accountNumber:Ft(11),iban:Is("PT",i?.bankCode||"0000",Ft(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Conta  Ordem",bankCode:i?.bankCode},ES:{country:"ES",countryName:"Espanha",flagCode:"es",currency:"EUR",accountNumber:Ft(10),iban:Is("ES",i?.bankCode||"0000",Ft(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente",bankCode:i?.bankCode},FR:{country:"FR",countryName:"Frana",flagCode:"fr",currency:"EUR",accountNumber:Ft(11),iban:Is("FR",i?.bankCode||"00000",Ft(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Compte Courant",bankCode:i?.bankCode,branchCode:i?.branchCode},DE:{country:"DE",countryName:"Alemanha",flagCode:"de",currency:"EUR",accountNumber:Ft(10),iban:Is("DE",i?.bankCode||"00000000",Ft(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Girokonto",bankCode:i?.bankCode},IT:{country:"IT",countryName:"Itlia",flagCode:"it",currency:"EUR",accountNumber:Ft(12),iban:Is("IT",(i?.bankCode||"00000")+(i?.branchCode||"00000"),Ft(12)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Conto Corrente",bankCode:i?.bankCode,branchCode:i?.branchCode},GB:{country:"GB",countryName:"Reino Unido",flagCode:"gb",currency:"GBP",accountNumber:Ft(8),iban:Is("GB",i?.sortCode?.replace(/-/g,"")||"000000",Ft(8)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Current Account",sortCode:i?.sortCode},NL:{country:"NL",countryName:"Holanda",flagCode:"nl",currency:"EUR",accountNumber:Ft(10),iban:Is("NL",i?.bankCode||"NEXC",Ft(10)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Betaalrekening",bankCode:i?.bankCode},BE:{country:"BE",countryName:"Blgica",flagCode:"be",currency:"EUR",accountNumber:Ft(12),iban:Is("BE",i?.bankCode||"000",Ft(12)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Compte  Vue",bankCode:i?.bankCode},CH:{country:"CH",countryName:"Sua",flagCode:"ch",currency:"CHF",accountNumber:Ft(9),iban:Is("CH",i?.bankCode||"00000",Ft(9)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Privatkonto",bankCode:i?.bankCode},AT:{country:"AT",countryName:"ustria",flagCode:"at",currency:"EUR",accountNumber:Ft(11),iban:Is("AT",i?.bankCode||"00000",Ft(11)),swift:i?.swift,bankName:"NexCoin transactions",accountType:"Girokonto",bankCode:i?.bankCode},CA:{country:"CA",countryName:"Canad",flagCode:"ca",currency:"CAD",accountNumber:Ft(12),routingNumber:i?.routingNumber,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Chequing Account"},AU:{country:"AU",countryName:"Austrlia",flagCode:"au",currency:"AUD",accountNumber:Ft(9),routingNumber:i?.routingNumber,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Transaction Account"},MX:{country:"MX",countryName:"Mxico",flagCode:"mx",currency:"MXN",accountNumber:Ft(18),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta de Cheques"},AR:{country:"AR",countryName:"Argentina",flagCode:"ar",currency:"ARS",accountNumber:Ft(14),bankCode:i?.bankCode,branchCode:i?.branchCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente"},CL:{country:"CL",countryName:"Chile",flagCode:"cl",currency:"CLP",accountNumber:Ft(12),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta Corriente"},CO:{country:"CO",countryName:"Colmbia",flagCode:"co",currency:"COP",accountNumber:Ft(11),bankCode:i?.bankCode,swift:i?.swift,bankName:"NexCoin transactions",accountType:"Cuenta de Ahorros"}}[t]||{country:t,countryName:"Pas",flagCode:t.toLowerCase(),currency:"USD",accountNumber:Ft(10),iban:Is(t,"0000",Ft(10)),swift:`NEXC${t}XX`,bankName:"NexCoin transactions",accountType:"Account"};return{id:n,...a,createdAt:r}},zte=()=>[{code:"BR",name:"Brasil",flag:"br",currency:"BRL"},{code:"US",name:"Estados Unidos",flag:"us",currency:"USD"},{code:"PT",name:"Portugal",flag:"pt",currency:"EUR"},{code:"ES",name:"Espanha",flag:"es",currency:"EUR"},{code:"FR",name:"Frana",flag:"fr",currency:"EUR"},{code:"DE",name:"Alemanha",flag:"de",currency:"EUR"},{code:"IT",name:"Itlia",flag:"it",currency:"EUR"},{code:"GB",name:"Reino Unido",flag:"gb",currency:"GBP"},{code:"NL",name:"Holanda",flag:"nl",currency:"EUR"},{code:"BE",name:"Blgica",flag:"be",currency:"EUR"},{code:"CH",name:"Sua",flag:"ch",currency:"CHF"},{code:"AT",name:"ustria",flag:"at",currency:"EUR"},{code:"CA",name:"Canad",flag:"ca",currency:"CAD"},{code:"AU",name:"Austrlia",flag:"au",currency:"AUD"},{code:"MX",name:"Mxico",flag:"mx",currency:"MXN"},{code:"AR",name:"Argentina",flag:"ar",currency:"ARS"},{code:"CL",name:"Chile",flag:"cl",currency:"CLP"},{code:"CO",name:"Colmbia",flag:"co",currency:"COP"}];function Ez(t){if(!t)return"";let e=t.trim();if(e.startsWith("+55"))e=e.substring(3);else if(e.startsWith("55")){const r=e.replace(/\D/g,"");(r.length===13||r.length===14)&&(e=e.substring(2))}const n=e.replace(/\D/g,"");return n.length!==10&&n.length!==11&&console.warn(` Telefone com formato invlido para PIX: ${t} (${n.length} dgitos)`),n}const Tz=E.createContext({user:null,userData:null,loading:!0,isAuthenticated:!1,isPinVerified:!1,auth:wn,signUp:async()=>{},signIn:async()=>{},signInWithPhoneAndPin:async()=>{},signInWithGoogle:async()=>{},logout:async()=>{},verifyPin:async()=>!1,setPinVerified:()=>{},checkIfUserHasPin:async()=>!1,checkPhoneExists:async()=>!1,reloadUserData:async()=>{},updateLanguage:async()=>{},updateVisibleCards:async()=>{},dismissAlert:async()=>{},syncPixKeys:async()=>{}});function Dt(){return E.useContext(Tz)}function Ute({children:t}){const[e,n]=E.useState(null),[r,i]=E.useState(null),[s,a]=E.useState(!0),[o,l]=E.useState(!1),d=E.useRef(""),f=E.useRef(""),m="nexcoin_pin_verified",p=J=>{l(J),J&&e?.uid?(localStorage.setItem(m,e.uid),console.log(" Estado de PIN verificado salvo no localStorage")):(localStorage.removeItem(m),console.log(" Estado de PIN verificado removido do localStorage"))},y=J=>{const G=localStorage.getItem(m)===J;return console.log(" Verificando PIN do localStorage:",G?"Verificado":"No verificado"),G},v=J=>{const F=J.replace(/\D/g,"");return J.startsWith("+")?`+${F}`:`+${F}`},w=(J,F)=>`${J}_${F}_NexCoin2024!`,_=async J=>{try{const F=rt(be,"users",J),G=await Bi(F);if(G.exists()){const q=G.data();return q.userId=q.uid,q.trackLocationEnabled===void 0&&(console.log(" Inicializando trackLocationEnabled: false para usurio existente"),await bi(F,{trackLocationEnabled:!1}),q.trackLocationEnabled=!1),q.requireCameraPermission===void 0&&(console.log(" Inicializando requireCameraPermission: false para usurio existente"),await bi(F,{requireCameraPermission:!1}),q.requireCameraPermission=!1),i(q),q}return null}catch(F){return console.error("Erro ao carregar dados do usurio:",F),null}},T=async()=>{if(e){const J=await _(e.uid);i(J)}},L=async(J,F,G)=>{try{console.log(" Criando chaves PIX automticas para usurio brasileiro...");const q=nt(be,"bankAccounts"),R=It(q,yt("userId","==",J),yt("currency","==","BRL"),da(1)),U=await Pt(R);let H="",Q="";if(U.empty){console.log(" Criando conta bancria BRL...");const xe=_z("BR",J);H=(await _i(q,{...xe,userId:J,isPrimary:!0,createdAt:new Date})).id,Q=xe.accountNumber,console.log(" Conta BRL criada:",H)}else{const xe=U.docs[0];H=xe.id,Q=xe.data().accountNumber,console.log(" Conta BRL encontrada:",H)}const Z=nt(be,"pixKeys"),te=It(Z,yt("userId","==",J),yt("accountId","==",H));if(!(await Pt(te)).empty){console.log(" Chaves PIX j existem para este usurio");return}await _i(Z,{userId:J,accountId:H,accountNumber:Q,currency:"BRL",country:"BR",keyType:"email",keyValue:F,createdAt:new Date}),console.log(" Chave PIX (email) criada:",F);const re=Ez(G);await _i(Z,{userId:J,accountId:H,accountNumber:Q,currency:"BRL",country:"BR",keyType:"phone",keyValue:re,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",re),console.log(" Chaves PIX automticas criadas com sucesso!")}catch(q){console.error(" Erro ao criar chaves PIX automticas:",q)}},O=async(J,F,G)=>{try{console.log(" Sincronizando chaves PIX com novos dados do perfil...");const q=nt(be,"pixKeys"),R=It(q,yt("userId","==",J)),U=await Pt(R);if(U.empty){console.log(" Nenhuma chave PIX encontrada para sincronizar");return}const H=[];U.forEach(Q=>{const Z=Q.data(),te=rt(be,"pixKeys",Q.id);Z.keyType==="email"&&F&&(console.log(" Atualizando chave PIX de email:",F),H.push(bi(te,{keyValue:F}))),Z.keyType==="phone"&&G&&(console.log(" Atualizando chave PIX de telefone:",G),H.push(bi(te,{keyValue:G})))}),await Promise.all(H),console.log(" Chaves PIX sincronizadas com sucesso!")}catch(q){console.error(" Erro ao sincronizar chaves PIX:",q)}},z=async(J,F,G,q,R,U)=>{try{const H=v(q),Q=nt(be,"users"),Z=It(Q,yt("phone","==",H),da(1));if(!(await Pt(Z)).empty)throw new Error("Este nmero de telefone j est cadastrado");const ae=w(H,U),xe=(await rZ(wn,J,ae)).user,se=rt(be,"users",xe.uid),he={uid:xe.uid,email:xe.email||J,name:G,phone:H,country:R,accountPin:U,createdAt:new Date,aprovado:"no",hasPaid:!1,trackLocationEnabled:!1,requireCameraPermission:!1};await cr(se,he),i(he),await Rte(xe.uid),R==="BR"&&await L(xe.uid,J,H)}catch(H){const Q=H.code;throw Q==="auth/email-already-in-use"?new Error("Este e-mail j est cadastrado. Faa login ou use outro e-mail."):Q==="auth/invalid-email"?new Error("E-mail invlido. Verifique e tente novamente."):Q==="auth/weak-password"?new Error("Senha muito fraca. Use no mnimo 6 caracteres."):Q==="auth/operation-not-allowed"?new Error("Cadastro com e-mail desabilitado. Entre em contato com o suporte."):new Error(H.message||"Erro ao criar conta. Tente novamente.")}},j=async(J,F)=>{try{const G=await qk(wn,J,F),q=await _(G.user.uid);if(q&&q.phone&&q.accountPin)try{const R=v(q.phone),U=w(R,q.accountPin);await GB(G.user,U),console.log(" Senha migrada com sucesso! Agora voc pode fazer login com telefone + PIN.")}catch(R){console.error(" Erro ao migrar senha:",R)}}catch(G){const q=G.code;throw q==="auth/user-not-found"?new Error("E-mail no cadastrado. Crie uma conta primeiro."):q==="auth/wrong-password"?new Error("Senha incorreta. Tente novamente."):q==="auth/invalid-email"?new Error("E-mail invlido. Verifique e tente novamente."):q==="auth/user-disabled"?new Error("Esta conta foi desabilitada. Entre em contato com o suporte."):q==="auth/too-many-requests"?new Error("Muitas tentativas. Aguarde alguns minutos e tente novamente."):new Error("Erro ao fazer login. Verifique suas credenciais.")}},P=async(J,F)=>{try{console.log(" Iniciando login com telefone + PIN..."),console.log(" Telefone recebido (original):",J);const G=v(J);console.log(" Telefone normalizado:",G);const q=nt(be,"users");let R=It(q,yt("phone","==",G),da(1)),U=await Pt(R);if(console.log(" Busca com telefone normalizado - Encontrado:",!U.empty),U.empty&&(console.log(" No encontrou com telefone normalizado, tentando original..."),R=It(q,yt("phone","==",J),da(1)),U=await Pt(R),console.log(" Busca com telefone original - Encontrado:",!U.empty)),U.empty)throw console.error(" Telefone no cadastrado. Tentativas:"),console.error("   - Normalizado:",G),console.error("   - Original:",J),new Error("Nmero de telefone no cadastrado");const Q=U.docs[0].data();if(console.log(" Usurio encontrado:",Q.email),console.log(" Telefone cadastrado:",Q.phone),Q.accountPin!==F)throw console.error(" PIN incorreto"),new Error("PIN incorreto");console.log(" PIN correto! Autenticando no Firebase Auth...");const Z=w(G,F);try{const te=await qk(wn,Q.email,Z);console.log(" Login bem-sucedido!"),await _(te.user.uid),p(!0)}catch(te){if(console.warn(" Falha no login com senha gerada. Cdigo:",te.code),te.code==="auth/invalid-credential"||te.code==="auth/wrong-password"){console.log(" Tentando recuperar acesso para usurio antigo...");try{throw await nZ(wn,Q.email),new Error("Sua conta precisa ser atualizada. Enviamos um e-mail para redefinir sua senha. Aps redefinir, voc poder fazer login com telefone + PIN.")}catch(ae){throw ae.message.includes("Enviamos um e-mail")?ae:(console.error(" Erro ao enviar e-mail de reset:",ae),new Error("Erro ao processar login. Entre em contato com o suporte."))}}else throw te}}catch(G){throw console.error(" Erro no signInWithPhoneAndPin:",G),G.message==="Nmero de telefone no cadastrado"||G.message==="PIN incorreto"||G.message&&G.message.includes("Enviamos um e-mail")?G:G.code==="auth/wrong-password"||G.code==="auth/invalid-credential"?new Error("PIN incorreto"):G.code==="auth/user-not-found"?new Error("Nmero de telefone no cadastrado"):G.code==="auth/too-many-requests"?new Error("Muitas tentativas. Aguarde alguns minutos e tente novamente."):new Error("Erro ao fazer login. Tente novamente.")}},C=async J=>{try{console.log(" ============ CHECK PHONE EXISTS ============"),console.log(" Telefone recebido (original):",J);const F=v(J);console.log(" Telefone normalizado:",F);const G=nt(be,"users");console.log(" Buscando com telefone normalizado...");let q=It(G,yt("phone","==",F),da(1)),R=await Pt(q);if(console.log(" Resultado busca normalizado:",R.empty?"NO ENCONTRADO ":"ENCONTRADO "),!R.empty){const U=R.docs[0].data();return console.log(" Usurio encontrado:",U.name,"| Email:",U.email),console.log(" =========================================="),!0}if(console.log(" Buscando com telefone original..."),q=It(G,yt("phone","==",J),da(1)),R=await Pt(q),console.log(" Resultado busca original:",R.empty?"NO ENCONTRADO ":"ENCONTRADO "),!R.empty){const U=R.docs[0].data();return console.log(" Usurio encontrado:",U.name,"| Email:",U.email),console.log(" =========================================="),!0}return console.error(" ============ TELEFONE NO ENCONTRADO ============"),console.error(" Tentativas:"),console.error("   1. Normalizado:",F),console.error("   2. Original:",J),console.error(" ================================================"),!1}catch(F){if(console.error(" Erro ao verificar telefone:",F),F.code==="permission-denied")throw new Error("FIRESTORE_PERMISSION_DENIED");return!1}},S=async()=>{try{const J=new Ya,F=await NZ(wn,J);if(!await _(F.user.uid)){const q=rt(be,"users",F.user.uid),R={uid:F.user.uid,email:F.user.email||"",name:F.user.displayName||"",phone:"",country:"",accountPin:"",createdAt:new Date,aprovado:"no",hasPaid:!1,trackLocationEnabled:!1,requireCameraPermission:!1};await cr(q,R),i(R)}}catch(J){throw console.error("Erro ao fazer login com Google:",J),new Error(J.message||"Erro ao fazer login com Google")}},k=async()=>{try{await cZ(wn),n(null),i(null),p(!1)}catch(J){throw console.error("Erro ao fazer logout:",J),new Error(J.message||"Erro ao fazer logout")}},A=async J=>{if(!r)return!1;const F=r.accountPin===J;return F&&p(!0),F},D=async()=>r?!!r.accountPin&&r.accountPin.length===6:!1;E.useEffect(()=>lZ(wn,async F=>{if(n(F),F){await _(F.uid);try{await Lte(F.uid)}catch(q){console.error(" Erro na migrao automtica (no crtico):",q)}const G=y(F.uid);l(G)}else i(null),l(!1);a(!1)}),[]),E.useEffect(()=>{if(!e?.uid)return;console.log(" Iniciando sincronizao em tempo real dos dados do usurio...");const J=rt(be,"users",e.uid),F=hs(J,G=>{if(G.exists()){const q=G.data();console.log(" Dados do usurio atualizados em tempo real:",q.name),i(q)}else console.warn(" Documento do usurio no existe"),i(null)},G=>{console.error(" Erro na sincronizao em tempo real:",G)});return()=>{console.log(" Parando sincronizao em tempo real dos dados do usurio"),F()}},[e?.uid]),E.useEffect(()=>{if(!e?.uid||!r)return;if(r.country!=="BR"){console.log(" Usurio no  brasileiro, pulando criao de chaves PIX");return}(async()=>{try{console.log(" Verificando se chaves PIX existem para o usurio...");const F=nt(be,"pixKeys"),G=It(F,yt("userId","==",e.uid),da(1));(await Pt(G)).empty?(console.log(" Chaves PIX no encontradas, criando automaticamente..."),await L(e.uid,r.email,r.phone)):console.log(" Chaves PIX j existem para este usurio")}catch(F){console.error(" Erro ao verificar/criar chaves PIX:",F)}})()},[e?.uid,r?.country]);const M=async J=>{if(!r)return;const F=rt(be,"users",r.uid),G={...r,preferences:{...r.preferences,dismissedAlerts:[...r.preferences?.dismissedAlerts||[],J]}};await cr(F,G),i(G)},I=async J=>{if(!r)return;const F=rt(be,"users",r.uid),G={...r,language:J};await cr(F,G),i(G)},K=async J=>{if(!r)return;const F=rt(be,"users",r.uid),G={...r,preferences:{...r.preferences,visibleCards:J}};await cr(F,G),i(G)};E.useEffect(()=>{if(!e?.uid||!r)return;const J=d.current!==r.email,F=f.current!==r.phone;(J||F)&&(console.log(" Detectada mudana no perfil, sincronizando chaves PIX..."),O(e.uid,J?r.email:void 0,F?r.phone:void 0),d.current=r.email,f.current=r.phone)},[r?.email,r?.phone,e?.uid]);const Y={user:e,userData:r,loading:s,isAuthenticated:!!e,isPinVerified:o,auth:wn,signUp:z,signIn:j,signInWithPhoneAndPin:P,signInWithGoogle:S,logout:k,verifyPin:A,setPinVerified:p,checkIfUserHasPin:D,checkPhoneExists:C,reloadUserData:T,updateLanguage:I,updateVisibleCards:K,dismissAlert:M,syncPixKeys:O};return c.jsx(Tz.Provider,{value:Y,children:t})}function tu({countryCode:t,size:e="md"}){const n={sm:"w-10 h-10",md:"w-12 h-12",lg:"w-16 h-16"},r={sm:"w-6 h-6",md:"w-7 h-7",lg:"w-9 h-9"},a=`https://flagcdn.com/w80/${{BR:"br",US:"us",PT:"pt",ES:"es",FR:"fr",DE:"de",IT:"it",GB:"gb",NL:"nl",BE:"be",CH:"ch",AT:"at",EU:"eu"}[t]||t.toLowerCase()}.png`;return c.jsxs("div",{className:`${n[e]} rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden`,children:[c.jsx("img",{src:a,alt:`${t} flag`,className:`${r[e]} object-cover rounded-full`,onError:o=>{o.currentTarget.style.display="none",o.currentTarget.nextSibling&&(o.currentTarget.nextSibling.style.display="block")}}),c.jsx("span",{className:"text-sm hidden",children:t})]})}function $te({onNavigate:t}){const{language:e,setLanguage:n,t:r}=xt(),{setPhoneNumber:i}=bz(),{checkPhoneExists:s}=Dt(),[a,o]=E.useState(""),[l,d]=E.useState(!1),[f,m]=E.useState(!1),[p,y]=E.useState(""),[v,w]=E.useState(!1),[_,T]=E.useState({code:"+55",countryCode:"BR",name:"Brasil"}),L=E.useRef(null);E.useEffect(()=>{L.current&&L.current.focus()},[]);const O=[{code:"+55",countryCode:"BR",name:r.countries.BR,mask:"(XX) XXXXX-XXXX",maxLength:15},{code:"+1",countryCode:"US",name:r.countries.US,mask:"(XXX) XXX-XXXX",maxLength:14},{code:"+44",countryCode:"GB",name:r.countries.GB,mask:"XXXX XXX XXXX",maxLength:13},{code:"+33",countryCode:"FR",name:r.countries.FR,mask:"XX XX XX XX XX",maxLength:14},{code:"+49",countryCode:"DE",name:r.countries.DE,mask:"XXX XXXXXXX",maxLength:11},{code:"+39",countryCode:"IT",name:r.countries.IT,mask:"XXX XXX XXXX",maxLength:12},{code:"+34",countryCode:"ES",name:r.countries.ES,mask:"XXX XX XX XX",maxLength:11},{code:"+351",countryCode:"PT",name:r.countries.PT,mask:"XXX XXX XXX",maxLength:11}],z=(k,A)=>{const D=k.replace(/\D/g,"");if(!O.find(I=>I.countryCode===A))return D;switch(A){case"BR":return D.length<=2?D:D.length<=7?`(${D.slice(0,2)}) ${D.slice(2)}`:D.length<=11?`(${D.slice(0,2)}) ${D.slice(2,7)}-${D.slice(7)}`:`(${D.slice(0,2)}) ${D.slice(2,7)}-${D.slice(7,11)}`;case"US":return D.length<=3?D:D.length<=6?`(${D.slice(0,3)}) ${D.slice(3)}`:`(${D.slice(0,3)}) ${D.slice(3,6)}-${D.slice(6,10)}`;case"GB":return D.length<=4?D:D.length<=7?`${D.slice(0,4)} ${D.slice(4)}`:`${D.slice(0,4)} ${D.slice(4,7)} ${D.slice(7,11)}`;case"FR":return D.length<=2?D:D.length<=4?`${D.slice(0,2)} ${D.slice(2)}`:D.length<=6?`${D.slice(0,2)} ${D.slice(2,4)} ${D.slice(4)}`:D.length<=8?`${D.slice(0,2)} ${D.slice(2,4)} ${D.slice(4,6)} ${D.slice(6)}`:`${D.slice(0,2)} ${D.slice(2,4)} ${D.slice(4,6)} ${D.slice(6,8)} ${D.slice(8,10)}`;case"DE":return D.length<=3?D:`${D.slice(0,3)} ${D.slice(3,10)}`;case"IT":return D.length<=3?D:D.length<=6?`${D.slice(0,3)} ${D.slice(3)}`:`${D.slice(0,3)} ${D.slice(3,6)} ${D.slice(6,10)}`;case"ES":return D.length<=3?D:D.length<=5?`${D.slice(0,3)} ${D.slice(3)}`:D.length<=7?`${D.slice(0,3)} ${D.slice(3,5)} ${D.slice(5)}`:`${D.slice(0,3)} ${D.slice(3,5)} ${D.slice(5,7)} ${D.slice(7,9)}`;case"PT":return D.length<=3?D:D.length<=6?`${D.slice(0,3)} ${D.slice(3)}`:`${D.slice(0,3)} ${D.slice(3,6)} ${D.slice(6,9)}`;default:return D}},j=k=>{const A=z(k.target.value,_.countryCode);o(A)},C=(k=>k.replace(/\D/g,"").length>=10)(a),S=async()=>{if(a&&C){const k=`${_.code}${a.replace(/\\D/g,"")}`;i(k),w(!0),y("");try{const A=await s(k);w(!1),A?t("passwordEntry"):y(r.phoneNotFound)}catch{w(!1),y(r.phoneNotFound)}}};return c.jsxs("div",{className:"bg-black text-white p-4 pb-20",children:[l&&c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{d(!1)}}),c.jsx("div",{className:"w-full max-w-md mx-auto pt-2 pb-4",children:c.jsx("button",{onClick:()=>t("welcome"),className:"flex items-center gap-2 text-white transition-opacity active:opacity-60",children:c.jsx(vt,{className:"w-5 h-5"})})}),c.jsxs("main",{className:"w-full max-w-md mx-auto pt-4",children:[c.jsxs("div",{className:"space-y-2 mb-5",children:[c.jsx("h2",{className:"text-2xl tracking-tight text-white",children:r.welcome}),c.jsx("p",{className:"text-slate-400 text-sm",children:r.dontHaveAccount})]}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("button",{className:"h-12 flex items-center gap-2 bg-zinc-900 px-3 rounded-xl shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)] transition-colors active:opacity-70",onClick:()=>d(!l),children:[c.jsx(tu,{countryCode:_.countryCode,size:"sm"}),c.jsx("span",{className:"text-sm",children:_.code}),c.jsx(Il,{className:"w-4 h-4 text-gray-400"})]}),l&&c.jsx("div",{className:"absolute top-full mt-2 left-0 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[200px]",children:O.map(k=>c.jsxs("button",{className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{T(k),o(""),d(!1)},children:[c.jsx(tu,{countryCode:k.countryCode,size:"sm"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"text-sm",children:k.name}),c.jsx("div",{className:"text-xs text-gray-400",children:k.code})]})]},k.code))})]}),c.jsx("div",{className:"flex-1",children:c.jsx("input",{ref:L,className:"w-full h-12 bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:r.phone,type:"tel",value:a,onChange:j,onBlur:()=>m(!0)})})]}),f&&a&&!C&&c.jsx("p",{className:"text-red-500 text-xs -mt-2 mb-3",children:r.invalidPhone}),p&&c.jsx("p",{className:"text-red-500 text-xs -mt-2 mb-3",children:p}),c.jsx("a",{className:"text-blue-500 text-sm mb-5 block transition-opacity active:opacity-60",href:"#",children:r.forgotPassword}),c.jsx("button",{className:`w-full py-3.5 rounded-full mb-5 transition-all duration-300 ${a&&C?"bg-white text-black hover:opacity-90 active:scale-[0.98]":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,disabled:!a||!C,onClick:S,children:v?c.jsxs("svg",{className:"animate-spin h-5 w-5 mr-2",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.928l3-2.647z"})]}):r.continue}),c.jsx("div",{className:"text-center mb-5",children:c.jsx("button",{onClick:()=>t("signup"),className:"w-full bg-zinc-900 text-white py-3.5 rounded-full transition-colors hover:bg-zinc-800 active:scale-[0.98]",children:r.createAccount})})]})]})}const Cz=E.createContext({signUpData:null,setSignUpData:()=>{},clearSignUpData:()=>{}});function kP(){return E.useContext(Cz)}function qte({children:t}){const[e,n]=E.useState(null),r=s=>{n(s)},i=()=>{n(null)};return c.jsx(Cz.Provider,{value:{signUpData:e,setSignUpData:r,clearSignUpData:i},children:t})}function Wte(t){if(!t)return"";const e=new Set(["de","da","do","dos","das","e","em","para","com","sem","of","the","and","in","on","at","to","for","with","del","la","el","los","las","y","en","por","con","le","les","du","des","et","au","aux","di","della","degli","delle"]);return t.toLowerCase().split(" ").map((n,r)=>r===0?n.charAt(0).toUpperCase()+n.slice(1):e.has(n)?n:n.charAt(0).toUpperCase()+n.slice(1)).join(" ")}function Hte({onNavigate:t}){const{signUp:e,signInWithGoogle:n}=Dt(),{setSignUpData:r}=kP(),{language:i,setLanguage:s,t:a}=xt(),[o,l]=E.useState({name:"",email:"",phone:"",password:"",confirmPassword:""}),[d,f]=E.useState({email:!1,phone:!1,password:!1,confirmPassword:!1,name:!1}),[m,p]=E.useState(!1),[y,v]=E.useState(!1),[w,_]=E.useState(!1),[T,L]=E.useState({code:"+55",countryCode:"BR",name:"Brasil"}),O=[{code:"+55",countryCode:"BR",name:a.countries.BR,mask:"(XX) XXXXX-XXXX",maxLength:15},{code:"+1",countryCode:"US",name:a.countries.US,mask:"(XXX) XXX-XXXX",maxLength:14},{code:"+44",countryCode:"GB",name:a.countries.GB,mask:"XXXX XXX XXXX",maxLength:13},{code:"+33",countryCode:"FR",name:a.countries.FR,mask:"XX XX XX XX XX",maxLength:14},{code:"+49",countryCode:"DE",name:a.countries.DE,mask:"XXX XXXXXXX",maxLength:11},{code:"+39",countryCode:"IT",name:a.countries.IT,mask:"XXX XXX XXXX",maxLength:12},{code:"+34",countryCode:"ES",name:a.countries.ES,mask:"XXX XX XX XX",maxLength:11},{code:"+351",countryCode:"PT",name:a.countries.PT,mask:"XXX XXX XXX",maxLength:11}],z=(G,q)=>{const R=G.replace(/\D/g,"");if(!O.find(H=>H.countryCode===q))return R;switch(q){case"BR":return R.length<=2?R:R.length<=7?`(${R.slice(0,2)}) ${R.slice(2)}`:R.length<=11?`(${R.slice(0,2)}) ${R.slice(2,7)}-${R.slice(7)}`:`(${R.slice(0,2)}) ${R.slice(2,7)}-${R.slice(7,11)}`;case"US":return R.length<=3?R:R.length<=6?`(${R.slice(0,3)}) ${R.slice(3)}`:`(${R.slice(0,3)}) ${R.slice(3,6)}-${R.slice(6,10)}`;case"GB":return R.length<=4?R:R.length<=7?`${R.slice(0,4)} ${R.slice(4)}`:`${R.slice(0,4)} ${R.slice(4,7)} ${R.slice(7,11)}`;case"FR":return R.length<=2?R:R.length<=4?`${R.slice(0,2)} ${R.slice(2)}`:R.length<=6?`${R.slice(0,2)} ${R.slice(2,4)} ${R.slice(4)}`:R.length<=8?`${R.slice(0,2)} ${R.slice(2,4)} ${R.slice(4,6)} ${R.slice(6)}`:`${R.slice(0,2)} ${R.slice(2,4)} ${R.slice(4,6)} ${R.slice(6,8)} ${R.slice(8,10)}`;case"DE":return R.length<=3?R:`${R.slice(0,3)} ${R.slice(3,10)}`;case"IT":return R.length<=3?R:R.length<=6?`${R.slice(0,3)} ${R.slice(3)}`:`${R.slice(0,3)} ${R.slice(3,6)} ${R.slice(6,10)}`;case"ES":return R.length<=3?R:R.length<=5?`${R.slice(0,3)} ${R.slice(3)}`:R.length<=7?`${R.slice(0,3)} ${R.slice(3,5)} ${R.slice(5)}`:`${R.slice(0,3)} ${R.slice(3,5)} ${R.slice(5,7)} ${R.slice(7,9)}`;case"PT":return R.length<=3?R:R.length<=6?`${R.slice(0,3)} ${R.slice(3)}`:`${R.slice(0,3)} ${R.slice(3,6)} ${R.slice(6,9)}`;default:return R}},j=G=>{const q=z(G.target.value,T.countryCode);l({...o,phone:q})},P=G=>{const H=G.target.value.replace(/\s+/g," ").split(" ").slice(0,5).join(" "),Q=H.trim().length>0?Wte(H):H;l({...o,name:Q})},C=G=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(G),S=G=>G.replace(/\D/g,"").length>=10,k=G=>{const q=G.length>=8,R=/[A-Z]/.test(G),U=/[!@#$%^&*(),.?":{}|<>]/.test(G);return{hasMinLength:q,hasUpperCase:R,hasSpecialChar:U,isValid:q&&R&&U}},A=G=>{const q=G.trim().split(" ").filter(R=>R.length>0);return q.length>=1&&q.length<=5},D=C(o.email),M=S(o.phone),I=k(o.password),K=A(o.name),Y=o.password===o.confirmPassword&&o.confirmPassword.length>0,J=K&&D&&M&&I.isValid&&Y,F=()=>{if(!J)return;const G=o.phone.replace(/\D/g,""),q=`${T.code}${G}`;r({name:o.name,email:o.email,phone:q,password:o.password,country:""}),t("countrySelection")};return c.jsxs("div",{className:"bg-black text-white p-4 pb-20",children:[w&&c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>{_(!1)}}),c.jsx("div",{className:"w-full max-w-md mx-auto pt-2 pb-4",children:c.jsx("button",{onClick:()=>t("welcome"),className:"flex items-center gap-2 text-white transition-opacity active:opacity-60",children:c.jsx(vt,{className:"w-5 h-5"})})}),c.jsx("main",{className:"w-full max-w-md mx-auto pt-2 pb-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsx("h2",{className:"text-2xl font-bold tracking-tight text-white",children:a.createAccount}),c.jsx("p",{className:"text-slate-400 text-sm mb-5",children:a.dontHaveAccount}),c.jsxs("form",{className:"space-y-3 mb-5",children:[c.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.fullName||a.name,type:"text",value:o.name,onChange:P,onBlur:()=>f({...d,name:!0})}),d.name&&o.name&&!K&&c.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:a.invalidName}),c.jsxs("div",{children:[c.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.email,type:"email",value:o.email,onChange:G=>l({...o,email:G.target.value}),onBlur:()=>f({...d,email:!0})}),d.email&&o.email&&!D&&c.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:a.invalidEmail})]}),c.jsxs("div",{className:"flex gap-2 relative",children:[c.jsxs("div",{className:"relative",children:[c.jsxs("button",{type:"button",className:"flex items-center gap-2 bg-zinc-900 px-3 py-[13px] rounded-xl shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)] transition-colors active:opacity-70 h-[50px]",onClick:()=>_(!w),children:[c.jsx(tu,{countryCode:T.countryCode,size:"sm"}),c.jsx("span",{className:"font-medium text-sm",children:T.code}),c.jsx(Il,{className:"w-4 h-4 text-gray-400"})]}),w&&c.jsx("div",{className:"absolute top-full mt-2 left-0 bg-zinc-900 rounded-xl shadow-lg border border-zinc-800 overflow-hidden z-20 min-w-[200px]",children:O.map(G=>c.jsxs("button",{type:"button",className:"flex items-center gap-3 px-4 py-3 hover:bg-zinc-800 transition-colors w-full text-left",onClick:()=>{L(G),l({...o,phone:""}),_(!1)},children:[c.jsx(tu,{countryCode:G.countryCode,size:"sm"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-sm",children:G.name}),c.jsx("div",{className:"text-xs text-gray-400",children:G.code})]})]},G.code))})]}),c.jsx("div",{className:"flex-1",children:c.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.phone,type:"tel",value:o.phone,onChange:j,onBlur:()=>f({...d,phone:!0})})})]}),d.phone&&o.phone&&!M&&c.jsx("p",{className:"text-xs text-red-500 -mt-2 ml-1",children:a.invalidPhone}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 pr-12 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.password,type:m?"text":"password",value:o.password,onChange:G=>l({...o,password:G.target.value}),onBlur:()=>f({...d,password:!0})}),c.jsx("button",{type:"button",className:"absolute right-4 top-[14px] text-gray-400 hover:text-gray-300 transition-colors cursor-pointer",onMouseDown:G=>{G.preventDefault()},onClick:G=>{G.preventDefault(),G.stopPropagation(),p(!m)},children:m?c.jsx(ef,{className:"w-5 h-5"}):c.jsx(eu,{className:"w-5 h-5"})}),d.password&&o.password&&!I.isValid&&c.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:a.passwordRequirement})]}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{className:"w-full bg-zinc-900 border-none focus:ring-2 focus:ring-blue-500 text-white px-4 py-3.5 pr-12 rounded-xl placeholder-slate-500 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]",placeholder:a.confirmPassword,type:y?"text":"password",value:o.confirmPassword,onChange:G=>l({...o,confirmPassword:G.target.value}),onBlur:()=>f({...d,confirmPassword:!0})}),c.jsx("button",{type:"button",className:"absolute right-4 top-[14px] text-gray-400 hover:text-gray-300 transition-colors cursor-pointer",onMouseDown:G=>{G.preventDefault()},onClick:G=>{G.preventDefault(),G.stopPropagation(),v(!y)},children:y?c.jsx(ef,{className:"w-5 h-5"}):c.jsx(eu,{className:"w-5 h-5"})}),d.confirmPassword&&o.confirmPassword&&!Y&&c.jsx("p",{className:"text-xs text-red-500 mt-1 ml-1",children:a.passwordsDontMatch})]}),c.jsx("button",{type:"button",className:`w-full py-3.5 rounded-full font-semibold transition-all duration-300 ${J?"bg-white text-black hover:opacity-90 active:scale-[0.98]":"bg-zinc-800 text-zinc-500 cursor-not-allowed"}`,onClick:F,disabled:!J,children:a.continue})]}),c.jsx("div",{className:"text-center pt-2",children:c.jsxs("p",{className:"text-sm text-slate-400",children:[a.alreadyHaveAccount," ",c.jsx("button",{onClick:()=>t("login"),className:"text-blue-500 font-medium hover:underline",children:a.login})]})})]})})]})}function Kte({onNavigate:t}){const{userData:e,verifyPin:n,setPinVerified:r,signUp:i}=Dt(),{signUpData:s,clearSignUpData:a}=kP(),[o,l]=E.useState(["","","","","",""]),[d,f]=E.useState(["","","","","",""]),[m,p]=E.useState("create"),[y,v]=E.useState(""),[w,_]=E.useState(!1),[T,L]=E.useState(!1),O=E.useRef([]);E.useEffect(()=>{p(s?"create":"verify")},[s]),E.useEffect(()=>{O.current[0]&&O.current[0].focus()},[m]);const z=(D,M,I=!1)=>{if(M&&!/^\d$/.test(M))return;const K=I?[...d]:[...o];if(K[D]=M,I?f(K):l(K),M&&D<5&&O.current[D+1]?.focus(),K.every(Y=>Y!=="")){const Y=K.join("");if(m==="create")setTimeout(()=>{p("confirm"),v("")},100);else if(m==="confirm"){const J=o.join("");Y===J?P(Y):(v("Os PINs no coincidem. Tente novamente."),_(!0),setTimeout(()=>{_(!1),f(["","","","","",""]),O.current[0]?.focus()},500))}else m==="verify"&&(async()=>await n(Y)?(r(!0),t("home")):(v("PIN incorreto. Tente novamente."),_(!0),setTimeout(()=>{_(!1),l(["","","","","",""]),O.current[0]?.focus()},500)))()}},j=(D,M,I=!1)=>{if(M.key==="Backspace"){M.preventDefault();const K=I?[...d]:[...o];K[D]===""?D>0&&(K[D-1]="",I?f(K):l(K),O.current[D-1]?.focus()):(K[D]="",I?f(K):l(K))}},P=async D=>{if(!s){console.error("Sem dados de cadastro");return}try{L(!0),v(""),await i(s.email,s.password,s.name,s.phone,s.country,D),a(),r(!0),t("home")}catch(M){console.error("Erro ao criar conta:",M),v(M.message||"Erro ao criar conta. Tente novamente."),L(!1)}},C=()=>{m==="confirm"?(p("create"),f(["","","","","",""]),v("")):t("login")},S=()=>m==="create"?"Crie seu PIN":m==="confirm"?"Confirme seu PIN":"Digite seu PIN",k=()=>m==="create"?"Crie um PIN de 6 dgitos para proteger sua conta":m==="confirm"?"Digite o PIN novamente para confirmar":"Digite seu PIN para acessar sua conta",A=m==="confirm"?d:o;return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[c.jsx("header",{className:"px-6 pt-6 pb-4",children:c.jsx("button",{onClick:C,className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:c.jsx(vt,{className:"w-5 h-5"})})}),c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 -mt-20",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center mb-8 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:c.jsx(Cl,{className:"w-10 h-10 text-white"})}),c.jsx("h1",{className:"text-3xl font-bold mb-2 text-center",children:S()}),c.jsx("p",{className:"text-sm text-gray-400 mb-12 text-center max-w-xs",children:k()}),c.jsx("div",{className:`flex gap-3 mb-6 ${w?"animate-shake":""}`,children:A.map((D,M)=>c.jsx("input",{ref:I=>O.current[M]=I,type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:D,onChange:I=>z(M,I.target.value,m==="confirm"),onKeyDown:I=>j(M,I,m==="confirm"),className:"w-14 h-16 bg-zinc-900 border-2 border-zinc-800 rounded-2xl text-center text-2xl font-bold text-white focus:border-white focus:outline-none transition-all",style:{caretColor:"transparent"}},`${m}-${M}`))}),y&&c.jsx("p",{className:"text-red-500 text-sm mb-4 text-center animate-fade-in",children:y}),c.jsx("p",{className:"text-xs text-gray-500 text-center max-w-xs",children:m==="verify"?"Use seu PIN de 6 dgitos para acessar sua conta":"Escolha um PIN fcil de lembrar, mas difcil de adivinhar"})]}),m==="verify"&&c.jsx("footer",{className:"px-6 pb-8",children:c.jsx("button",{onClick:()=>t("login"),className:"w-full text-center text-sm text-gray-400 hover:text-white transition-colors",children:"Esqueci meu PIN"})}),c.jsx("style",{children:`
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
          20%, 40%, 60%, 80% { transform: translateX(10px); }
        }
        .animate-shake {
          animation: shake 0.5s;
        }
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(-10px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
          animation: fade-in 0.3s ease-out;
        }
      `})]})}function mR({onNavigate:t}){const{signUpData:e,setSignUpData:n}=kP(),[r,i]=E.useState(null),[s,a]=E.useState(null),[o,l]=E.useState(!1),d=[{id:"BR",name:"Brasil",code:"BR",currency:"BRL"},{id:"US",name:"Estados Unidos",code:"US",currency:"USD"},{id:"PT",name:"Portugal",code:"PT",currency:"EUR"},{id:"ES",name:"Espanha",code:"ES",currency:"EUR"},{id:"FR",name:"Frana",code:"FR",currency:"EUR"},{id:"DE",name:"Alemanha",code:"DE",currency:"EUR"},{id:"IT",name:"Itlia",code:"IT",currency:"EUR"},{id:"GB",name:"Reino Unido",code:"GB",currency:"EUR"},{id:"NL",name:"Holanda",code:"NL",currency:"EUR"},{id:"BE",name:"Blgica",code:"BE",currency:"EUR"},{id:"CH",name:"Sua",code:"CH",currency:"EUR"},{id:"AT",name:"ustria",code:"AT",currency:"EUR"}],f=[{id:"BRL",name:"Real Brasileiro",symbol:"R$",code:"BR"},{id:"USD",name:"Dlar Americano",symbol:"$",code:"US"},{id:"EUR",name:"Euro",symbol:"",code:"EU"}],m=d.find(v=>v.id===r),p=(v,w)=>{i(v),a(w),l(!1)},y=()=>{r&&s&&e&&(n({...e,country:r}),t("pinSetup"))};return c.jsxs("div",{className:"bg-black text-white min-h-screen flex flex-col p-6",children:[c.jsx("div",{className:"w-full max-w-md mx-auto pt-4 pb-8",children:c.jsx("h1",{className:"text-2xl font-bold tracking-tight text-center mb-2",children:"NexCoin"})}),c.jsxs("main",{className:"w-full max-w-md mx-auto flex-1 overflow-y-auto hide-scrollbar",children:[c.jsxs("div",{className:"space-y-2 mb-6",children:[c.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Configurao inicial"}),c.jsx("p",{className:"text-slate-400 text-sm",children:"Selecione seu pas de origem e a moeda preferencial para suas transaes."})]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Pas de origem"}),c.jsxs("div",{className:"relative",children:[c.jsx("button",{type:"button",onClick:()=>l(!o),className:"w-full bg-zinc-900 rounded-2xl p-4 flex items-center justify-between hover:bg-zinc-800 transition-all",children:m?c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(tu,{countryCode:m.code,size:"md"}),c.jsx("div",{className:"text-left",children:c.jsx("div",{className:"font-semibold",children:m.name})})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-400",children:"Selecione um pas"}),c.jsx(Il,{className:"w-5 h-5 text-gray-400"})]})}),o&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-zinc-900 rounded-2xl border border-zinc-800 max-h-80 overflow-y-auto hide-scrollbar z-50 shadow-xl",children:d.map(v=>c.jsxs("button",{type:"button",onClick:()=>p(v.id,v.currency),className:"w-full p-4 flex items-center gap-3 hover:bg-zinc-800 transition-colors first:rounded-t-2xl last:rounded-b-2xl",children:[c.jsx(tu,{countryCode:v.code,size:"sm"}),c.jsx("div",{className:"text-left flex-1",children:c.jsx("div",{className:"font-semibold",children:v.name})}),r===v.id&&c.jsx("div",{className:"w-5 h-5 rounded-full bg-white flex items-center justify-center",children:c.jsx(jn,{className:"w-3 h-3 text-black"})})]},v.id))})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("label",{className:"text-lg font-semibold",children:"Moeda Preferencial"}),c.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Escolha a moeda que deseja usar como padro"}),f.map(v=>c.jsxs("button",{type:"button",onClick:()=>a(v.id),className:`w-full bg-zinc-900 rounded-2xl p-4 flex items-center justify-between transition-all duration-300 ${s===v.id?"ring-1 ring-inset ring-white/60":"hover:bg-zinc-800"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(tu,{countryCode:v.code,size:"md"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-semibold",children:v.name}),c.jsxs("div",{className:"text-sm text-gray-400",children:[v.symbol," ",v.id]})]})]}),s===v.id&&c.jsx("div",{className:"w-6 h-6 rounded-full bg-white flex items-center justify-center",children:c.jsx(jn,{className:"w-4 h-4 text-black"})})]},v.id))]})]}),c.jsx("button",{type:"button",onClick:y,className:`w-full py-4 rounded-full font-semibold transition-all duration-300 ${r&&s?"bg-white text-black hover:opacity-90 active:scale-[0.98]":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,disabled:!r||!s,children:"Continuar"})]})}const Sz=E.createContext({prices:{},isLoading:!0,lastUpdate:null});function Ti(){return E.useContext(Sz)}function Gte({children:t}){const[e,n]=E.useState({}),[r,i]=E.useState(!0),[s,a]=E.useState(null),o=["bitcoin","ethereum","tether","binancecoin","solana","ripple","cardano","avalanche-2","dogecoin","polkadot","matic-network","chainlink","uniswap","litecoin","cosmos","stellar","tron","shiba-inu","wrapped-bitcoin","dai","leo-token","usd-coin","the-open-network","ethereum-classic","bitcoin-cash","aptos","arbitrum","optimism","internet-computer","filecoin","near","vechain","algorand","injective-protocol","aave","maker","the-graph","immutable-x","blockstack","hedera-hashgraph","fantom","the-sandbox","decentraland","axie-infinity","tezos","theta-token","eos","monero","flow","chiliz","zcash","thorchain","klay-token","dash","neo","iota","quant-network","elrond-erd-2","pepe","fetch-ai","sui","sei-network"],l=async()=>{try{const f=o.join(","),m=await fetch(`https://api.coingecko.com/api/v3/simple/price?ids=${f}&vs_currencies=usd&include_24hr_change=true&include_market_cap=true`,{method:"GET",headers:{Accept:"application/json"}});if(!m.ok){d();return}const p=m.headers.get("content-type");if(!p||!p.includes("application/json")){d();return}const y=await m.json();n(y),a(new Date),i(!1)}catch{d()}},d=()=>{n({bitcoin:{usd:87450,usd_24h_change:2.5,usd_market_cap:172e10},ethereum:{usd:2889.03,usd_24h_change:1.8,usd_market_cap:347e9},tether:{usd:1,usd_24h_change:0,usd_market_cap:958e8},binancecoin:{usd:312.45,usd_24h_change:-.8,usd_market_cap:488e8},solana:{usd:98.76,usd_24h_change:5.2,usd_market_cap:428e8},ripple:{usd:.52,usd_24h_change:1.2,usd_market_cap:28e9},"usd-coin":{usd:1,usd_24h_change:.01,usd_market_cap:32e9},cardano:{usd:.45,usd_24h_change:-.5,usd_market_cap:158e8},dogecoin:{usd:.08,usd_24h_change:3.1,usd_market_cap:112e8},tron:{usd:.12,usd_24h_change:.8,usd_market_cap:105e8},"avalanche-2":{usd:36.5,usd_24h_change:2.7,usd_market_cap:135e8},polkadot:{usd:6.85,usd_24h_change:2.3,usd_market_cap:95e8},"matic-network":{usd:.98,usd_24h_change:1.5,usd_market_cap:89e8},chainlink:{usd:14.25,usd_24h_change:3.2,usd_market_cap:78e8},"shiba-inu":{usd:9e-6,usd_24h_change:4.5,usd_market_cap:53e8},litecoin:{usd:78.5,usd_24h_change:-1.2,usd_market_cap:57e8},uniswap:{usd:11.2,usd_24h_change:2.1,usd_market_cap:67e8},stellar:{usd:.11,usd_24h_change:.5,usd_market_cap:32e8},cosmos:{usd:9.45,usd_24h_change:1.8,usd_market_cap:36e8},monero:{usd:165.2,usd_24h_change:-.3,usd_market_cap:3e9},"ethereum-classic":{usd:26.8,usd_24h_change:1.1,usd_market_cap:39e8},"bitcoin-cash":{usd:385,usd_24h_change:-1.5,usd_market_cap:76e8},near:{usd:5.2,usd_24h_change:2.9,usd_market_cap:54e8},algorand:{usd:.35,usd_24h_change:1.3,usd_market_cap:28e8},vechain:{usd:.032,usd_24h_change:.8,usd_market_cap:23e8},fantom:{usd:.68,usd_24h_change:3.5,usd_market_cap:19e8},"the-graph":{usd:.28,usd_24h_change:2.2,usd_market_cap:21e8},filecoin:{usd:5.15,usd_24h_change:-.9,usd_market_cap:25e8},"hedera-hashgraph":{usd:.075,usd_24h_change:1.7,usd_market_cap:24e8},aptos:{usd:8.9,usd_24h_change:4.2,usd_market_cap:35e8},arbitrum:{usd:.82,usd_24h_change:2.8,usd_market_cap:29e8},optimism:{usd:2.15,usd_24h_change:1.9,usd_market_cap:22e8},"render-token":{usd:7.35,usd_24h_change:5.1,usd_market_cap:28e8},"injective-protocol":{usd:22.5,usd_24h_change:3.8,usd_market_cap:21e8},sui:{usd:3.45,usd_24h_change:6.2,usd_market_cap:32e8}}),a(new Date),i(!1)};return E.useEffect(()=>{l();const f=setInterval(l,1e4);return()=>clearInterval(f)},[]),c.jsx(Sz.Provider,{value:{prices:e,isLoading:r,lastUpdate:s},children:t})}const Pz=E.createContext({portfolio:{totalBalanceUSDT:0,change24h:0,changePercent24h:0,holdings:[],priceHistory:[]},isLoading:!0,refreshHoldings:async()=>{},updateHoldings:async()=>{},addOrUpdateCrypto:async()=>{},removeCrypto:async()=>{},updateBalance:async()=>{}});function Ks(){return E.useContext(Pz)}function Xte({children:t}){const{prices:e,isLoading:n}=Ti(),{user:r,auth:i}=Dt(),[s,a]=E.useState({totalBalanceUSDT:0,change24h:0,changePercent24h:0,holdings:[],priceHistory:[]}),[o,l]=E.useState(!0),[d,f]=E.useState(!1),[m,p]=E.useState([]);E.useEffect(()=>{if(!r?.uid){l(!1);return}console.log(" Iniciando listener de portfolio para userId:",r.uid);let L=0;const O=3;let z=null,j=null,P=!1;const C=()=>{if(P){console.log(" Configurao de listener j em andamento, ignorando...");return}P=!0,z&&(console.log(" Limpando listener anterior antes de criar novo..."),z(),z=null);const S=nt(be,"users",r.uid,"portfolio"),k=It(S);z=hs(k,A=>{console.log(" Snapshot recebido - Total de ativos no portfolio:",A.size),L=0,P=!1;const D=[];A.forEach(M=>{const I=M.data();console.log(" Ativo encontrado:",{id:M.id,data:I}),D.push({symbol:I.symbol,coinId:I.coinId,amount:I.amount,name:I.name,valueUsd:I.valueUsd||0,updatedAt:I.updatedAt?.toDate()})}),console.log(" Total de holdings carregados:",D.length),a(M=>({...M,holdings:D})),l(!1),f(!1)},A=>{console.error(" Erro no listener da coleo portfolio:",A),P=!1,A.code==="permission-denied"?(console.error(" Permisso negada - verificar regras do Firestore"),f(!0),l(!1)):A.code==="unavailable"&&L<O?(L++,console.log(` Tentando reconectar... (tentativa ${L}/${O})`),j&&clearTimeout(j),j=setTimeout(()=>{z&&z(),C()},1e3*L)):l(!1)})};return C(),()=>{console.log(" Cancelando listener da coleo portfolio"),z&&z(),j&&clearTimeout(j)}},[r?.uid]),E.useEffect(()=>{if(n||!e||Object.keys(e).length===0)return;let L=0;s.holdings.forEach(P=>{const C=e[P.coinId]?.usd||0;L+=P.amount*C});let O=0;s.holdings.forEach(P=>{const C=e[P.coinId]?.usd||0,S=e[P.coinId]?.usd_24h_change||0,k=C/(1+S/100);O+=P.amount*k});const z=L-O,j=O!==0?(L-O)/O*100:0;p(P=>[...P,L].slice(-50)),a({totalBalanceUSDT:L,change24h:z,changePercent24h:j,holdings:s.holdings,priceHistory:m}),l(!1)},[e,n,s.holdings]),E.useEffect(()=>{a(L=>({...L,priceHistory:m}))},[m]);const y=async()=>{console.log(" refreshHoldings: listener automtico est ativo")},v=async L=>{console.warn(" updateHoldings est deprecated com a nova estrutura de coleo")},w=async(L,O,z,j)=>{if(!r)return;console.log(" Adicionando/atualizando crypto:",{symbol:L,coinId:O,amount:z,name:j});const P=e[O]?.usd||0,C=z*P;await wz(r.uid,L,O,z,j,C),console.log(" Crypto adicionado, aguardando atualizao do listener")},_=async L=>{r&&await jte(r.uid,L)},T=async(L,O,z,j)=>{if(!r)return;const P=e[O]?.usd||0;await kte(r.uid,L,O,z,j,P)};return c.jsx(Pz.Provider,{value:{portfolio:s,isLoading:o,refreshHoldings:y,updateHoldings:v,addOrUpdateCrypto:w,removeCrypto:_,updateBalance:T},children:t})}const Az=E.createContext({rates:{},loading:!0});function Yte({children:t}){const[e,n]=E.useState({}),[r,i]=E.useState(!0);return E.useEffect(()=>{(async()=>{try{n({USD:1,BRL:5.2,EUR:.92,GBP:.79}),i(!1)}catch(a){console.error("Erro ao buscar taxas de cmbio:",a),n({USD:1,BRL:5.2,EUR:.92,GBP:.79}),i(!1)}})()},[]),c.jsx(Az.Provider,{value:{rates:e,loading:r},children:t})}function RP(){return E.useContext(Az)}const Nz=E.createContext(void 0);function Qte({children:t}){const{userData:e}=Dt(),[n,r]=E.useState(null),[i,s]=E.useState(!0),[a,o]=E.useState(null),[l,d]=E.useState(!1),[f,m]=E.useState(!1),[p,y]=E.useState(!1),[v,w]=E.useState(null),[_,T]=E.useState(!1),[L,O]=E.useState(null),[z,j]=E.useState(null),P=E.useCallback(Y=>{console.log(" [Location] Posio obtida com sucesso:",Y);const J={latitude:Y.coords.latitude,longitude:Y.coords.longitude,accuracy:Y.coords.accuracy,altitude:Y.coords.altitude,altitudeAccuracy:Y.coords.altitudeAccuracy,heading:Y.coords.heading,speed:Y.coords.speed};r({coordinates:J,timestamp:Y.timestamp}),m(!0),s(!1),o(null),S(J.latitude,J.longitude)},[]),C=E.useCallback(Y=>{console.error(" [Location] Erro de geolocalizao:",Y);let J="Erro ao obter localizao";switch(Y.code){case Y.PERMISSION_DENIED:J="Voc bloqueou o acesso  localizao. O NexCoin exige GPS ativo por segurana.",console.error(" [Location] PERMISSO NEGADA"),m(!1);break;case Y.POSITION_UNAVAILABLE:J="Localizao indisponvel. Verifique se o GPS est ativado.",console.error(" [Location] POSIO INDISPONVEL");break;case Y.TIMEOUT:J="Tempo esgotado ao obter localizao. Tente novamente.",console.error(" [Location] TIMEOUT");break;default:J=`Erro desconhecido (cdigo ${Y.code}): ${Y.message}`}o(J),s(!1)},[]),S=async(Y,J)=>{try{console.log(" [Geocoding] Fazendo geocoding reverso...");const F=await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${Y}&lon=${J}&zoom=18&addressdetails=1`,{headers:{"User-Agent":"NexCoin/1.0"}});if(F.ok){const G=await F.json();console.log(" [Geocoding] Endereo obtido:",G);const q={city:G.address?.city||G.address?.town||G.address?.village||"Desconhecido",state:G.address?.state||"",country:G.address?.country||"",address:G.display_name||""};r(R=>R?{...R,...q}:null),k(Y,J,q)}else k(Y,J)}catch{console.log(" [Geocoding] No foi possvel obter endereo (ambiente restrito)"),k(Y,J)}},k=async(Y,J,F)=>{if(e&&e.trackLocationEnabled!==!0){console.log(" [Location] Envio para Firestore desativado pelo controle remoto (trackLocationEnabled != true)"),T(!1);return}T(!0),j(null);try{const G=wn.currentUser;if(!G){console.log(" [Firestore] Usurio NO autenticado - no salvando localizao"),console.log(" [Firestore] Faa login primeiro para salvar a localizao"),T(!1),j("Usurio no autenticado");return}console.log(" [Firestore]  Usurio autenticado:",G.uid),console.log(" [Firestore] Email:",G.email),console.log(" [Firestore] Salvando em: userLocations/"+G.uid);const q=rt(be,"userLocations",G.uid),R={userId:G.uid,userEmail:G.email||"",coordinates:{latitude:Y,longitude:J},timestamp:as(),updatedAt:as()};F?(R.city=F.city,R.state=F.state,R.country=F.country,R.address=F.address,console.log(" [Firestore] Com endereo:",F.city)):console.log(" [Firestore] Sem dados de endereo"),console.log(" [Firestore] Dados completos:",R),await cr(q,R,{merge:!0}),console.log(" [Firestore]  LOCALIZAO SALVA COM SUCESSO! "),console.log(" [Firestore] Acesse: https://console.firebase.google.com"),console.log(" [Firestore] V em: Firestore Database > userLocations"),T(!1),O(new Date),j(null)}catch(G){console.error(" [Firestore] ERRO ao salvar localizao:",G),console.error(" [Firestore] Detalhes do erro:",JSON.stringify(G,null,2));const q=G instanceof Error&&(G.message.includes("permission-denied")||G.message.includes("Missing or insufficient permissions"));T(!1),q?(j("Firestore permission-denied - Regras precisam ser publicadas"),console.error(" [Firestore] ERRO DE PERMISSO - As regras do Firestore no foram publicadas!"),console.error(" [Firestore] Execute: bash deploy-firestore-rules.sh"),console.error(" [Firestore] Ou publique manualmente em: https://console.firebase.google.com/project/nexcoin-1f42f/firestore/rules")):j("Erro ao salvar localizao no Firestore")}},A=E.useCallback(async()=>{if(!navigator.geolocation){o("Geolocalizao no  suportada pelo seu navegador");return}s(!0),o(null),navigator.geolocation.getCurrentPosition(P,C,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})},[P,C]),D=E.useCallback(()=>{if(!navigator.geolocation){o("Geolocalizao no  suportada pelo seu navegador");return}if(l){console.log(" [Location] J est monitorando localizao");return}console.log(" [Location] Iniciando monitoramento de localizao..."),s(!0),o(null),d(!0);const Y=navigator.geolocation.watchPosition(P,C,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0});w(Y),console.log(" [Location] Monitoramento iniciado com ID:",Y)},[P,C,l]),M=E.useCallback(()=>{v!==null&&(console.log(" [Location] Parando monitoramento de localizao..."),navigator.geolocation.clearWatch(v),w(null),d(!1),console.log(" [Location] Monitoramento parado"))},[v]),I=E.useCallback(async()=>{try{console.log(" [Camera] Verificando permisso...");const Y=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});console.log(" [Camera] Acesso concedido"),y(!0),Y.getTracks().forEach(J=>J.stop())}catch(Y){console.error(" [Camera] Acesso negado:",Y.name),y(!1)}},[]),K={location:n,isLoading:i,error:a,isWatching:l,hasPermission:f,watchLocation:D,stopWatching:M,getCurrentLocation:A,hasCameraPermission:p,checkCameraPermission:I,isSavingToFirestore:_,lastFirestoreSave:L,firestoreError:z};return Se.useEffect(()=>{e?.trackLocationEnabled===!0?l||(console.log(" [Location] Ativando GPS via controle remoto (Firebase: true)"),D()):(l&&(console.log(" [Location] Parando rastreamento via controle remoto (Firebase: disabled)"),M()),s(!1)),e&&I()},[e?.trackLocationEnabled,l,D,M,I,e]),c.jsx(Nz.Provider,{value:K,children:t})}function Iz(){const t=E.useContext(Nz);if(t===void 0)throw new Error("useLocation deve ser usado dentro de LocationProvider");return t}async function jz(t,e=200,n=.7){return new Promise((r,i)=>{const s=new FileReader;s.onload=a=>{const o=new Image;o.onload=()=>{let l=o.width,d=o.height;l>d?l>e&&(d=d*e/l,l=e):d>e&&(l=l*e/d,d=e);const f=document.createElement("canvas");f.width=l,f.height=d;const m=f.getContext("2d");if(!m){i(new Error("No foi possvel criar contexto do canvas"));return}m.drawImage(o,0,0,l,d);const p=f.toDataURL("image/jpeg",n),v=p.length*3/4/1024;if(console.log(" Imagem comprimida:"),console.log(`   Original: ${(t.size/1024).toFixed(2)} KB`),console.log(`   Comprimida: ${v.toFixed(2)} KB`),console.log(`   Dimenses: ${l}x${d}`),v>100&&n>.3){console.log(" Imagem ainda muito grande, comprimindo mais..."),jz(t,e*.8,n*.7).then(r).catch(i);return}r(p)},o.onerror=()=>{i(new Error("Erro ao carregar imagem"))},o.src=a.target?.result},s.onerror=()=>{i(new Error("Erro ao ler arquivo"))},s.readAsDataURL(t)})}var Ix=jV();const Jte=Ei(Ix);var Zte=t=>{switch(t){case"success":return nne;case"info":return ine;case"warning":return rne;case"error":return sne;default:return null}},ene=Array(12).fill(0),tne=({visible:t,className:e})=>Se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Se.createElement("div",{className:"sonner-spinner"},ene.map((n,r)=>Se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),nne=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rne=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),ine=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sne=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ane=Se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),one=()=>{let[t,e]=Se.useState(document.hidden);return Se.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},zT=1,lne=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:zT++,s=this.toasts.find(o=>o.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:n}),{...o,...t,id:i,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,a=r.then(async l=>{if(s=["resolve",l],Se.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(une(l)&&!l.ok){i=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,f=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:d,description:f})}else if(e.success!==void 0){i=!1;let d=typeof e.success=="function"?await e.success(l):e.success,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:d,description:f})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){i=!1;let d=typeof e.error=="function"?await e.error(l):e.error,f=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:d,description:f})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,d)=>a.then(()=>s[0]==="reject"?d(s[1]):l(s[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=e?.id||zT++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},gi=new lne,cne=(t,e)=>{let n=e?.id||zT++;return gi.addToast({title:t,...e,id:n}),n},une=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",dne=cne,fne=()=>gi.toasts,hne=()=>gi.getActiveToasts(),Ge=Object.assign(dne,{success:gi.success,info:gi.info,warning:gi.warning,error:gi.error,custom:gi.custom,message:gi.message,promise:gi.promise,dismiss:gi.dismiss,loading:gi.loading},{getHistory:fne,getToasts:hne});function mne(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}mne(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ay(t){return t.label!==void 0}var pne=3,gne="32px",yne="16px",pR=4e3,vne=356,xne=14,bne=20,wne=200;function js(...t){return t.filter(Boolean).join(" ")}function _ne(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Ene=t=>{var e,n,r,i,s,a,o,l,d,f,m;let{invert:p,toast:y,unstyled:v,interacting:w,setHeights:_,visibleToasts:T,heights:L,index:O,toasts:z,expanded:j,removeToast:P,defaultRichColors:C,closeButton:S,style:k,cancelButtonStyle:A,actionButtonStyle:D,className:M="",descriptionClassName:I="",duration:K,position:Y,gap:J,loadingIcon:F,expandByDefault:G,classNames:q,icons:R,closeButtonAriaLabel:U="Close toast",pauseWhenPageIsHidden:H}=t,[Q,Z]=Se.useState(null),[te,ae]=Se.useState(null),[re,xe]=Se.useState(!1),[se,he]=Se.useState(!1),[Te,me]=Se.useState(!1),[De,Ie]=Se.useState(!1),[Ye,Je]=Se.useState(!1),[Qe,bt]=Se.useState(0),[Vt,ut]=Se.useState(0),oe=Se.useRef(y.duration||K||pR),je=Se.useRef(null),qe=Se.useRef(null),dt=O===0,ht=O+1<=T,le=y.type,Oe=y.dismissible!==!1,wt=y.className||"",Bt=y.descriptionClassName||"",lt=Se.useMemo(()=>L.findIndex(it=>it.toastId===y.id)||0,[L,y.id]),Tn=Se.useMemo(()=>{var it;return(it=y.closeButton)!=null?it:S},[y.closeButton,S]),$n=Se.useMemo(()=>y.duration||K||pR,[y.duration,K]),ii=Se.useRef(0),Cn=Se.useRef(0),ps=Se.useRef(0),Ur=Se.useRef(null),[ac,Ra]=Y.split("-"),Da=Se.useMemo(()=>L.reduce((it,_t,zt)=>zt>=lt?it:it+_t.height,0),[L,lt]),Oa=one(),si=y.invert||p,ai=le==="loading";Cn.current=Se.useMemo(()=>lt*J+Da,[lt,Da]),Se.useEffect(()=>{oe.current=$n},[$n]),Se.useEffect(()=>{xe(!0)},[]),Se.useEffect(()=>{let it=qe.current;if(it){let _t=it.getBoundingClientRect().height;return ut(_t),_(zt=>[{toastId:y.id,height:_t,position:y.position},...zt]),()=>_(zt=>zt.filter(Rn=>Rn.toastId!==y.id))}},[_,y.id]),Se.useLayoutEffect(()=>{if(!re)return;let it=qe.current,_t=it.style.height;it.style.height="auto";let zt=it.getBoundingClientRect().height;it.style.height=_t,ut(zt),_(Rn=>Rn.find(gr=>gr.toastId===y.id)?Rn.map(gr=>gr.toastId===y.id?{...gr,height:zt}:gr):[{toastId:y.id,height:zt,position:y.position},...Rn])},[re,y.title,y.description,_,y.id]);let $r=Se.useCallback(()=>{he(!0),bt(Cn.current),_(it=>it.filter(_t=>_t.toastId!==y.id)),setTimeout(()=>{P(y)},wne)},[y,P,_,Cn]);Se.useEffect(()=>{if(y.promise&&le==="loading"||y.duration===1/0||y.type==="loading")return;let it;return j||w||H&&Oa?(()=>{if(ps.current<ii.current){let _t=new Date().getTime()-ii.current;oe.current=oe.current-_t}ps.current=new Date().getTime()})():oe.current!==1/0&&(ii.current=new Date().getTime(),it=setTimeout(()=>{var _t;(_t=y.onAutoClose)==null||_t.call(y,y),$r()},oe.current)),()=>clearTimeout(it)},[j,w,y,le,H,Oa,$r]),Se.useEffect(()=>{y.delete&&$r()},[$r,y.delete]);function Ui(){var it,_t,zt;return R!=null&&R.loading?Se.createElement("div",{className:js(q?.loader,(it=y?.classNames)==null?void 0:it.loader,"sonner-loader"),"data-visible":le==="loading"},R.loading):F?Se.createElement("div",{className:js(q?.loader,(_t=y?.classNames)==null?void 0:_t.loader,"sonner-loader"),"data-visible":le==="loading"},F):Se.createElement(tne,{className:js(q?.loader,(zt=y?.classNames)==null?void 0:zt.loader),visible:le==="loading"})}return Se.createElement("li",{tabIndex:0,ref:qe,className:js(M,wt,q?.toast,(e=y?.classNames)==null?void 0:e.toast,q?.default,q?.[le],(n=y?.classNames)==null?void 0:n[le]),"data-sonner-toast":"","data-rich-colors":(r=y.richColors)!=null?r:C,"data-styled":!(y.jsx||y.unstyled||v),"data-mounted":re,"data-promise":!!y.promise,"data-swiped":Ye,"data-removed":se,"data-visible":ht,"data-y-position":ac,"data-x-position":Ra,"data-index":O,"data-front":dt,"data-swiping":Te,"data-dismissible":Oe,"data-type":le,"data-invert":si,"data-swipe-out":De,"data-swipe-direction":te,"data-expanded":!!(j||G&&re),style:{"--index":O,"--toasts-before":O,"--z-index":z.length-O,"--offset":`${se?Qe:Cn.current}px`,"--initial-height":G?"auto":`${Vt}px`,...k,...y.style},onDragEnd:()=>{me(!1),Z(null),Ur.current=null},onPointerDown:it=>{ai||!Oe||(je.current=new Date,bt(Cn.current),it.target.setPointerCapture(it.pointerId),it.target.tagName!=="BUTTON"&&(me(!0),Ur.current={x:it.clientX,y:it.clientY}))},onPointerUp:()=>{var it,_t,zt,Rn;if(De||!Oe)return;Ur.current=null;let gr=Number(((it=qe.current)==null?void 0:it.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ut=Number(((_t=qe.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),oi=new Date().getTime()-((zt=je.current)==null?void 0:zt.getTime()),yn=Q==="x"?gr:Ut,Ir=Math.abs(yn)/oi;if(Math.abs(yn)>=bne||Ir>.11){bt(Cn.current),(Rn=y.onDismiss)==null||Rn.call(y,y),ae(Q==="x"?gr>0?"right":"left":Ut>0?"down":"up"),$r(),Ie(!0),Je(!1);return}me(!1),Z(null)},onPointerMove:it=>{var _t,zt,Rn,gr;if(!Ur.current||!Oe||((_t=window.getSelection())==null?void 0:_t.toString().length)>0)return;let Ut=it.clientY-Ur.current.y,oi=it.clientX-Ur.current.x,yn=(zt=t.swipeDirections)!=null?zt:_ne(Y);!Q&&(Math.abs(oi)>1||Math.abs(Ut)>1)&&Z(Math.abs(oi)>Math.abs(Ut)?"x":"y");let Ir={x:0,y:0};Q==="y"?(yn.includes("top")||yn.includes("bottom"))&&(yn.includes("top")&&Ut<0||yn.includes("bottom")&&Ut>0)&&(Ir.y=Ut):Q==="x"&&(yn.includes("left")||yn.includes("right"))&&(yn.includes("left")&&oi<0||yn.includes("right")&&oi>0)&&(Ir.x=oi),(Math.abs(Ir.x)>0||Math.abs(Ir.y)>0)&&Je(!0),(Rn=qe.current)==null||Rn.style.setProperty("--swipe-amount-x",`${Ir.x}px`),(gr=qe.current)==null||gr.style.setProperty("--swipe-amount-y",`${Ir.y}px`)}},Tn&&!y.jsx?Se.createElement("button",{"aria-label":U,"data-disabled":ai,"data-close-button":!0,onClick:ai||!Oe?()=>{}:()=>{var it;$r(),(it=y.onDismiss)==null||it.call(y,y)},className:js(q?.closeButton,(i=y?.classNames)==null?void 0:i.closeButton)},(s=R?.close)!=null?s:ane):null,y.jsx||E.isValidElement(y.title)?y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title:Se.createElement(Se.Fragment,null,le||y.icon||y.promise?Se.createElement("div",{"data-icon":"",className:js(q?.icon,(a=y?.classNames)==null?void 0:a.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||Ui():null,y.type!=="loading"?y.icon||R?.[le]||Zte(le):null):null,Se.createElement("div",{"data-content":"",className:js(q?.content,(o=y?.classNames)==null?void 0:o.content)},Se.createElement("div",{"data-title":"",className:js(q?.title,(l=y?.classNames)==null?void 0:l.title)},typeof y.title=="function"?y.title():y.title),y.description?Se.createElement("div",{"data-description":"",className:js(I,Bt,q?.description,(d=y?.classNames)==null?void 0:d.description)},typeof y.description=="function"?y.description():y.description):null),E.isValidElement(y.cancel)?y.cancel:y.cancel&&Ay(y.cancel)?Se.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||A,onClick:it=>{var _t,zt;Ay(y.cancel)&&Oe&&((zt=(_t=y.cancel).onClick)==null||zt.call(_t,it),$r())},className:js(q?.cancelButton,(f=y?.classNames)==null?void 0:f.cancelButton)},y.cancel.label):null,E.isValidElement(y.action)?y.action:y.action&&Ay(y.action)?Se.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||D,onClick:it=>{var _t,zt;Ay(y.action)&&((zt=(_t=y.action).onClick)==null||zt.call(_t,it),!it.defaultPrevented&&$r())},className:js(q?.actionButton,(m=y?.classNames)==null?void 0:m.actionButton)},y.action.label):null))};function gR(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Tne(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?yne:gne;function l(d){["top","right","bottom","left"].forEach(f=>{n[`${a}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${a}-${d}`]=o:n[`${a}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):l(o)}),n}var Cne=E.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:d,theme:f="light",richColors:m,duration:p,style:y,visibleToasts:v=pne,toastOptions:w,dir:_=gR(),gap:T=xne,loadingIcon:L,icons:O,containerAriaLabel:z="Notifications",pauseWhenPageIsHidden:j}=t,[P,C]=Se.useState([]),S=Se.useMemo(()=>Array.from(new Set([r].concat(P.filter(H=>H.position).map(H=>H.position)))),[P,r]),[k,A]=Se.useState([]),[D,M]=Se.useState(!1),[I,K]=Se.useState(!1),[Y,J]=Se.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),F=Se.useRef(null),G=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),q=Se.useRef(null),R=Se.useRef(!1),U=Se.useCallback(H=>{C(Q=>{var Z;return(Z=Q.find(te=>te.id===H.id))!=null&&Z.delete||gi.dismiss(H.id),Q.filter(({id:te})=>te!==H.id)})},[]);return Se.useEffect(()=>gi.subscribe(H=>{if(H.dismiss){C(Q=>Q.map(Z=>Z.id===H.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{Jte.flushSync(()=>{C(Q=>{let Z=Q.findIndex(te=>te.id===H.id);return Z!==-1?[...Q.slice(0,Z),{...Q[Z],...H},...Q.slice(Z+1)]:[H,...Q]})})})}),[]),Se.useEffect(()=>{if(f!=="system"){J(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;let H=window.matchMedia("(prefers-color-scheme: dark)");try{H.addEventListener("change",({matches:Q})=>{J(Q?"dark":"light")})}catch{H.addListener(({matches:Z})=>{try{J(Z?"dark":"light")}catch(te){console.error(te)}})}},[f]),Se.useEffect(()=>{P.length<=1&&M(!1)},[P]),Se.useEffect(()=>{let H=Q=>{var Z,te;i.every(ae=>Q[ae]||Q.code===ae)&&(M(!0),(Z=F.current)==null||Z.focus()),Q.code==="Escape"&&(document.activeElement===F.current||(te=F.current)!=null&&te.contains(document.activeElement))&&M(!1)};return document.addEventListener("keydown",H),()=>document.removeEventListener("keydown",H)},[i]),Se.useEffect(()=>{if(F.current)return()=>{q.current&&(q.current.focus({preventScroll:!0}),q.current=null,R.current=!1)}},[F.current]),Se.createElement("section",{ref:e,"aria-label":`${z} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((H,Q)=>{var Z;let[te,ae]=H.split("-");return P.length?Se.createElement("ol",{key:H,dir:_==="auto"?gR():_,tabIndex:-1,ref:F,className:o,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":te,"data-lifted":D&&P.length>1&&!s,"data-x-position":ae,style:{"--front-toast-height":`${((Z=k[0])==null?void 0:Z.height)||0}px`,"--width":`${vne}px`,"--gap":`${T}px`,...y,...Tne(l,d)},onBlur:re=>{R.current&&!re.currentTarget.contains(re.relatedTarget)&&(R.current=!1,q.current&&(q.current.focus({preventScroll:!0}),q.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||R.current||(R.current=!0,q.current=re.relatedTarget)},onMouseEnter:()=>M(!0),onMouseMove:()=>M(!0),onMouseLeave:()=>{I||M(!1)},onDragEnd:()=>M(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},P.filter(re=>!re.position&&Q===0||re.position===H).map((re,xe)=>{var se,he;return Se.createElement(Ene,{key:re.id,icons:O,index:xe,toast:re,defaultRichColors:m,duration:(se=w?.duration)!=null?se:p,className:w?.className,descriptionClassName:w?.descriptionClassName,invert:n,visibleToasts:v,closeButton:(he=w?.closeButton)!=null?he:a,interacting:I,position:H,style:w?.style,unstyled:w?.unstyled,classNames:w?.classNames,cancelButtonStyle:w?.cancelButtonStyle,actionButtonStyle:w?.actionButtonStyle,removeToast:U,toasts:P.filter(Te=>Te.position==re.position),heights:k.filter(Te=>Te.position==re.position),setHeights:A,expandByDefault:s,gap:T,loadingIcon:L,expanded:D,pauseWhenPageIsHidden:j,swipeDirections:t.swipeDirections})})):null}))});const yR={BTC:"https://coin-images.coingecko.com/coins/images/1/large/bitcoin.png",ETH:"https://coin-images.coingecko.com/coins/images/279/large/ethereum.png",USDT:"https://coin-images.coingecko.com/coins/images/325/large/Tether.png",TETHER:"https://coin-images.coingecko.com/coins/images/325/large/Tether.png",BNB:"https://coin-images.coingecko.com/coins/images/825/large/bnb-icon2_2x.png",SOL:"https://coin-images.coingecko.com/coins/images/4128/large/solana.png",XRP:"https://coin-images.coingecko.com/coins/images/44/large/xrp-symbol-white-128.png",ADA:"https://coin-images.coingecko.com/coins/images/975/large/cardano.png",AVAX:"https://coin-images.coingecko.com/coins/images/12559/large/Avalanche_Circle_RedWhite_Trans.png",DOGE:"https://coin-images.coingecko.com/coins/images/5/large/dogecoin.png",DOT:"https://coin-images.coingecko.com/coins/images/12171/large/polkadot.png",MATIC:"https://coin-images.coingecko.com/coins/images/4713/large/matic-token-icon.png",LINK:"https://coin-images.coingecko.com/coins/images/877/large/chainlink-new-logo.png",UNI:"https://coin-images.coingecko.com/coins/images/12504/large/uniswap-uni.png",LTC:"https://coin-images.coingecko.com/coins/images/2/large/litecoin.png",ATOM:"https://coin-images.coingecko.com/coins/images/1481/large/cosmos_hub.png",XLM:"https://coin-images.coingecko.com/coins/images/100/large/Stellar_symbol_black_RGB.png",TRX:"https://coin-images.coingecko.com/coins/images/1094/large/tron-logo.png",SHIB:"https://coin-images.coingecko.com/coins/images/11939/large/shiba.png",WBTC:"https://coin-images.coingecko.com/coins/images/7598/large/wrapped_bitcoin_wbtc.png",DAI:"https://coin-images.coingecko.com/coins/images/9956/large/4943.png",LEO:"https://coin-images.coingecko.com/coins/images/8418/large/leo-token.png",USDC:"https://coin-images.coingecko.com/coins/images/6319/large/USD_Coin_icon.png",TON:"https://coin-images.coingecko.com/coins/images/17980/large/ton_symbol.png",ETC:"https://coin-images.coingecko.com/coins/images/453/large/ethereum-classic-logo.png",BCH:"https://coin-images.coingecko.com/coins/images/780/large/bitcoin-cash-circle.png",APT:"https://coin-images.coingecko.com/coins/images/26455/large/aptos_round.png",ARB:"https://coin-images.coingecko.com/coins/images/16547/large/photo_2023-03-29_21.47.00.jpeg",OP:"https://coin-images.coingecko.com/coins/images/25244/large/Optimism.png",ICP:"https://coin-images.coingecko.com/coins/images/14495/large/Internet_Computer_logo.png",FIL:"https://coin-images.coingecko.com/coins/images/12817/large/filecoin.png",NEAR:"https://coin-images.coingecko.com/coins/images/10365/large/near_icon.png",VET:"https://coin-images.coingecko.com/coins/images/1167/large/VeChain-Logo-768x725.png",ALGO:"https://coin-images.coingecko.com/coins/images/4380/large/download.png",INJ:"https://coin-images.coingecko.com/coins/images/12882/large/Secondary_Symbol.png",AAVE:"https://coin-images.coingecko.com/coins/images/12645/large/AAVE.png",MKR:"https://coin-images.coingecko.com/coins/images/1364/large/Mark_Maker.png",GRT:"https://coin-images.coingecko.com/coins/images/13397/large/Graph_Token.png",IMX:"https://coin-images.coingecko.com/coins/images/17233/large/imx.png",STX:"https://coin-images.coingecko.com/coins/images/2069/large/Stacks_logo_full.png",HBAR:"https://coin-images.coingecko.com/coins/images/3688/large/hbar.png",FTM:"https://coin-images.coingecko.com/coins/images/4001/large/Fantom.png",SAND:"https://coin-images.coingecko.com/coins/images/12129/large/sandbox_logo.jpg",MANA:"https://coin-images.coingecko.com/coins/images/878/large/decentraland-mana.png",AXS:"https://coin-images.coingecko.com/coins/images/13029/large/axie_infinity_logo.png",XTZ:"https://coin-images.coingecko.com/coins/images/976/large/Tezos-logo.png",THETA:"https://coin-images.coingecko.com/coins/images/2538/large/theta-token-logo.png",EOS:"https://coin-images.coingecko.com/coins/images/738/large/eos-eos-logo.png",XMR:"https://coin-images.coingecko.com/coins/images/69/large/monero_logo.png",FLOW:"https://coin-images.coingecko.com/coins/images/13446/large/flow.png",CHZ:"https://coin-images.coingecko.com/coins/images/8834/large/Chiliz.png",ZEC:"https://coin-images.coingecko.com/coins/images/486/large/circle-zcash-color.png",RUNE:"https://coin-images.coingecko.com/coins/images/6595/large/TC-Icon-Round-Dark.png",KLAY:"https://coin-images.coingecko.com/coins/images/9672/large/klaytn.png",DASH:"https://coin-images.coingecko.com/coins/images/19/large/dash-logo.png",NEO:"https://coin-images.coingecko.com/coins/images/480/large/NEO_512_512.png",IOTA:"https://coin-images.coingecko.com/coins/images/692/large/IOTA_Swirl.png",QNT:"https://coin-images.coingecko.com/coins/images/3370/large/5ZOu7brX_400x400.jpg",EGLD:"https://coin-images.coingecko.com/coins/images/12335/large/egld-token-logo.png",PEPE:"https://coin-images.coingecko.com/coins/images/29850/large/pepe-token.jpeg",FET:"https://coin-images.coingecko.com/coins/images/5681/large/Fetch.jpg",SUI:"https://coin-images.coingecko.com/coins/images/26375/large/sui_asset.jpeg",SEI:"https://coin-images.coingecko.com/coins/images/28205/large/sei_icon.jpg",BRL:"https://flagcdn.com/w80/br.png",USD:"https://flagcdn.com/w80/us.png",EUR:"https://flagcdn.com/w80/eu.png",GBP:"https://flagcdn.com/w80/gb.png"},Sne={BTC:"#F7931A",ETH:"#627EEA",USDT:"#26A17B",TETHER:"#26A17B",BNB:"#F3BA2F",SOL:"#14F195",XRP:"#23292F",ADA:"#0033AD",AVAX:"#E84142",DOGE:"#C2A633",DOT:"#E6007A",MATIC:"#8247E5",LINK:"#2A5ADA",UNI:"#FF007A",LTC:"#345D9D",ATOM:"#2E3148",XLM:"#14B6E7",TRX:"#EB0029",SHIB:"#FFA409",WBTC:"#F09242",DAI:"#F5AC37",LEO:"#D33C40",USDC:"#2775CA",TON:"#0088CC",ETC:"#328432",BCH:"#8DC351",APT:"#000000",ARB:"#28A0F0",OP:"#FF0420",ICP:"#29ABE2",FIL:"#0090FF",NEAR:"#000000",VET:"#15BDFF",ALGO:"#000000",INJ:"#00F2FE",AAVE:"#B6509E",MKR:"#1AAB9B",GRT:"#6747ED",IMX:"#0B0D23",STX:"#5546FF",HBAR:"#000000",FTM:"#13B5EC",SAND:"#00ADEF",MANA:"#FF2D55",AXS:"#0055D5",XTZ:"#2C7DF7",THETA:"#2AB8E6",EOS:"#000000",XMR:"#FF6600",FLOW:"#00EF8B",CHZ:"#CD0124",ZEC:"#F4B728",RUNE:"#00CCFF",KLAY:"#FF3D00",DASH:"#008CE7",NEO:"#58BF00",IOTA:"#000000",QNT:"#1A1A1A",EGLD:"#000000",PEPE:"#22C55E",FET:"#0714FE",SUI:"#6FBCF0",SEI:"#A91B1B"};function $t({symbol:t,size:e="md"}){const[n,r]=E.useState(!1),i={xs:"w-6 h-6",sm:"w-8 h-8",md:"w-10 h-10",lg:"w-12 h-12"},s=yR[t.toUpperCase()]||yR.BTC,a=Sne[t.toUpperCase()]||"#6B7280";return n?c.jsx("div",{className:`${i[e]} rounded-full flex items-center justify-center text-white shadow-md`,style:{backgroundColor:a},children:c.jsx("span",{className:e==="xs"?"text-[8px]":e==="sm"?"text-[10px]":e==="md"?"text-xs":"text-sm",children:t.toUpperCase().slice(0,3)})}):c.jsx("div",{className:`${i[e]} rounded-full overflow-hidden flex items-center justify-center bg-white shadow-md`,children:c.jsx("img",{src:s,alt:`${t} icon`,className:"w-full h-full object-cover",onError:()=>r(!0),crossOrigin:"anonymous",loading:"lazy"})})}function Pne({coinId:t,color:e}){const[n,r]=E.useState([]);E.useEffect(()=>{const o=async()=>{try{const d=await fetch(`https://api.coingecko.com/api/v3/coins/${t}/market_chart?vs_currency=usd&days=1&interval=hourly`);if(!d.ok){r(i());return}const f=d.headers.get("content-type");if(!f||!f.includes("application/json")){r(i());return}const m=await d.json();if(m.prices&&m.prices.length>0){const p=m.prices.map(y=>y[1]);r(p)}else r(i())}catch{r(i())}};o();const l=setInterval(o,15e3);return()=>clearInterval(l)},[t]);const i=()=>{const o=[];let l=100;for(let d=0;d<24;d++)l+=(Math.random()-.5)*10,o.push(l);return o},s=()=>{if(n.length===0)return"M0,20 L100,20";const o=Math.min(...n),d=Math.max(...n)-o||1;return`M${n.map((m,p)=>{const y=p/(n.length-1)*100,v=40-(m-o)/d*30-5;return`${y},${v}`}).join(" L")}`},a=()=>{if(n.length===0)return"M0,20 L100,20 L100,40 L0,40 Z";const o=Math.min(...n),d=Math.max(...n)-o||1;return`M${n.map((m,p)=>{const y=p/(n.length-1)*100,v=40-(m-o)/d*30-5;return`${y},${v}`}).join(" L")} L100,40 L0,40 Z`};return c.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 40",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:`gradient-${t}`,x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:e,stopOpacity:"0.3"}),c.jsx("stop",{offset:"100%",stopColor:e,stopOpacity:"0"})]})}),c.jsx("path",{d:a(),fill:`url(#gradient-${t})`}),c.jsx("path",{d:s(),fill:"none",stroke:e,strokeLinecap:"round",strokeWidth:"2"})]})}function kz(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=kz(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Qt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=kz(t))&&(r&&(r+=" "),r+=e);return r}var Ane=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function DP(t){if(typeof t!="string")return!1;var e=Ane;return e.includes(t)}var Nne=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Ine=new Set(Nne);function Rz(t){return typeof t!="string"?!1:Ine.has(t)}function Dz(t){return typeof t=="string"&&t.startsWith("data-")}function Ws(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Rz(n)||Dz(n))&&(e[n]=t[n]);return e}function jx(t){if(t==null)return null;if(E.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ws(e)}return typeof t=="object"&&!Array.isArray(t)?Ws(t):null}function zr(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Rz(n)||Dz(n)||DP(n))&&(e[n]=t[n]);return e}function jne(t){return t==null?null:E.isValidElement(t)?zr(t.props):typeof t=="object"&&!Array.isArray(t)?zr(t):null}var kne=["children","width","height","viewBox","className","style","title","desc"];function UT(){return UT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UT.apply(null,arguments)}function Rne(t,e){if(t==null)return{};var n,r,i=Dne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Oz=E.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:d}=t,f=Rne(t,kne),m=s||{width:r,height:i,x:0,y:0},p=Qt("recharts-surface",a);return E.createElement("svg",UT({},zr(f),{className:p,width:r,height:i,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),E.createElement("title",null,l),E.createElement("desc",null,d),n)}),One=["children","className"];function $T(){return $T=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$T.apply(null,arguments)}function Mne(t,e){if(t==null)return{};var n,r,i=Lne(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var us=E.forwardRef((t,e)=>{var{children:n,className:r}=t,i=Mne(t,One),s=Qt("recharts-layer",r);return E.createElement("g",$T({className:s},zr(i),{ref:e}),n)}),Vne=E.createContext(null);function en(t){return function(){return t}}const Mz=Math.cos,Jv=Math.sin,Gs=Math.sqrt,Zv=Math.PI,kx=2*Zv,qT=Math.PI,WT=2*qT,Oc=1e-6,Fne=WT-Oc;function Lz(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Bne(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Lz;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class zne{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Lz:Bne(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,d=i-n,f=a-e,m=o-n,p=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(p>Oc)if(!(Math.abs(m*l-d*f)>Oc)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let y=r-a,v=i-o,w=l*l+d*d,_=y*y+v*v,T=Math.sqrt(w),L=Math.sqrt(p),O=s*Math.tan((qT-Math.acos((w+p-_)/(2*T*L)))/2),z=O/L,j=O/T;Math.abs(z-1)>Oc&&this._append`L${e+z*f},${n+z*m}`,this._append`A${s},${s},0,0,${+(m*y>f*v)},${this._x1=e+j*l},${this._y1=n+j*d}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),d=e+o,f=n+l,m=1^a,p=a?i-s:s-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Oc||Math.abs(this._y1-f)>Oc)&&this._append`L${d},${f}`,r&&(p<0&&(p=p%WT+WT),p>Fne?this._append`A${r},${r},0,1,${m},${e-o},${n-l}A${r},${r},0,1,${m},${this._x1=d},${this._y1=f}`:p>Oc&&this._append`A${r},${r},0,${+(p>=qT)},${m},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function OP(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new zne(e)}function MP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Vz(t){this._context=t}Vz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Rx(t){return new Vz(t)}function Fz(t){return t[0]}function Bz(t){return t[1]}function zz(t,e){var n=en(!0),r=null,i=Rx,s=null,a=OP(o);t=typeof t=="function"?t:t===void 0?Fz:en(t),e=typeof e=="function"?e:e===void 0?Bz:en(e);function o(l){var d,f=(l=MP(l)).length,m,p=!1,y;for(r==null&&(s=i(y=a())),d=0;d<=f;++d)!(d<f&&n(m=l[d],d,l))===p&&((p=!p)?s.lineStart():s.lineEnd()),p&&s.point(+t(m,d,l),+e(m,d,l));if(y)return s=null,y+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:en(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:en(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:en(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function Ny(t,e,n){var r=null,i=en(!0),s=null,a=Rx,o=null,l=OP(d);t=typeof t=="function"?t:t===void 0?Fz:en(+t),e=typeof e=="function"?e:en(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Bz:en(+n);function d(m){var p,y,v,w=(m=MP(m)).length,_,T=!1,L,O=new Array(w),z=new Array(w);for(s==null&&(o=a(L=l())),p=0;p<=w;++p){if(!(p<w&&i(_=m[p],p,m))===T)if(T=!T)y=p,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=p-1;v>=y;--v)o.point(O[v],z[v]);o.lineEnd(),o.areaEnd()}T&&(O[p]=+t(_,p,m),z[p]=+e(_,p,m),o.point(r?+r(_,p,m):O[p],n?+n(_,p,m):z[p]))}if(L)return o=null,L+""||null}function f(){return zz().defined(i).curve(a).context(s)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:en(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:en(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:en(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:en(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:en(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:en(+m),d):n},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(n)},d.lineX1=function(){return f().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:en(!!m),d):i},d.curve=function(m){return arguments.length?(a=m,s!=null&&(o=a(s)),d):a},d.context=function(m){return arguments.length?(m==null?s=o=null:o=a(s=m),d):s},d}class Uz{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Une(t){return new Uz(t,!0)}function $ne(t){return new Uz(t,!1)}const LP={draw(t,e){const n=Gs(e/Zv);t.moveTo(n,0),t.arc(0,0,n,0,kx)}},qne={draw(t,e){const n=Gs(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},$z=Gs(1/3),Wne=$z*2,Hne={draw(t,e){const n=Gs(e/Wne),r=n*$z;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Kne={draw(t,e){const n=Gs(e),r=-n/2;t.rect(r,r,n,n)}},Gne=.8908130915292852,qz=Jv(Zv/10)/Jv(7*Zv/10),Xne=Jv(kx/10)*qz,Yne=-Mz(kx/10)*qz,Qne={draw(t,e){const n=Gs(e*Gne),r=Xne*n,i=Yne*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=kx*s/5,o=Mz(a),l=Jv(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},_1=Gs(3),Jne={draw(t,e){const n=-Gs(e/(_1*3));t.moveTo(0,n*2),t.lineTo(-_1*n,-n),t.lineTo(_1*n,-n),t.closePath()}},Ji=-.5,Zi=Gs(3)/2,HT=1/Gs(12),Zne=(HT/2+1)*3,ere={draw(t,e){const n=Gs(e/Zne),r=n/2,i=n*HT,s=r,a=n*HT+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Ji*r-Zi*i,Zi*r+Ji*i),t.lineTo(Ji*s-Zi*a,Zi*s+Ji*a),t.lineTo(Ji*o-Zi*l,Zi*o+Ji*l),t.lineTo(Ji*r+Zi*i,Ji*i-Zi*r),t.lineTo(Ji*s+Zi*a,Ji*a-Zi*s),t.lineTo(Ji*o+Zi*l,Ji*l-Zi*o),t.closePath()}};function tre(t,e){let n=null,r=OP(i);t=typeof t=="function"?t:en(t||LP),e=typeof e=="function"?e:en(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:en(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:en(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function e0(){}function t0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Wz(t){this._context=t}Wz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:t0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:t0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function nre(t){return new Wz(t)}function Hz(t){this._context=t}Hz.prototype={areaStart:e0,areaEnd:e0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:t0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rre(t){return new Hz(t)}function Kz(t){this._context=t}Kz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:t0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ire(t){return new Kz(t)}function Gz(t){this._context=t}Gz.prototype={areaStart:e0,areaEnd:e0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sre(t){return new Gz(t)}function vR(t){return t<0?-1:1}function xR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(vR(s)+vR(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function bR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function E1(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function n0(t){this._context=t}n0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:E1(this,this._t0,bR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,E1(this,bR(this,n=xR(this,t,e)),n);break;default:E1(this,this._t0,n=xR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Xz(t){this._context=new Yz(t)}(Xz.prototype=Object.create(n0.prototype)).point=function(t,e){n0.prototype.point.call(this,e,t)};function Yz(t){this._context=t}Yz.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function are(t){return new n0(t)}function ore(t){return new Xz(t)}function Qz(t){this._context=t}Qz.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=wR(t),i=wR(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function wR(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function lre(t){return new Qz(t)}function Dx(t,e){this._context=t,this._t=e}Dx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function cre(t){return new Dx(t,.5)}function ure(t){return new Dx(t,0)}function dre(t){return new Dx(t,1)}function bu(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function KT(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function fre(t,e){return t[e]}function hre(t){const e=[];return e.key=t,e}function mre(){var t=en([]),e=KT,n=bu,r=fre;function i(s){var a=Array.from(t.apply(this,arguments),hre),o,l=a.length,d=-1,f;for(const m of s)for(o=0,++d;o<l;++o)(a[o][d]=[0,+r(m,a[o].key,d,s)]).data=m;for(o=0,f=MP(e(a));o<l;++o)a[f[o]].index=o;return n(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:en(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:en(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?KT:typeof s=="function"?s:en(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??bu,i):n},i}function pre(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}bu(t,e)}}function gre(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}bu(t,e)}}function yre(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,d=0;o<a;++o){for(var f=t[e[o]],m=f[r][1]||0,p=f[r-1][1]||0,y=(m-p)/2,v=0;v<o;++v){var w=t[e[v]],_=w[r][1]||0,T=w[r-1][1]||0;y+=_-T}l+=m,d+=y*m}i[r-1][1]+=i[r-1][0]=n,l&&(n-=d/l)}i[r-1][1]+=i[r-1][0]=n,bu(t,e)}}var T1={},C1={},_R;function vre(){return _R||(_R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(C1)),C1}var S1={},ER;function Jz(){return ER||(ER=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(S1)),S1}var P1={},TR;function VP(){return TR||(TR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(P1)),P1}var A1={},N1={},CR;function xre(){return CR||(CR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(N1)),N1}var SR;function FP(){return SR||(SR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xre(),n=VP();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",d="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const m=i[o];d?m==="\\"&&o+1<a?(o++,l+=i[o]):m===d?d="":l+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,s.push(l),l=""):l+=m:m==="["?(f=!0,l&&(s.push(l),l="")):m==="."?l&&(s.push(l),l=""):l+=m,o++}return l&&s.push(l),s}t.toPath=r})(A1)),A1}var PR;function BP(){return PR||(PR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vre(),n=Jz(),r=VP(),i=FP();function s(o,l,d){if(o==null)return d;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return d;const f=o[l];return f===void 0?n.isDeepKey(l)?s(o,i.toPath(l),d):d:f}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const f=o[l];return f===void 0?d:f}default:{if(Array.isArray(l))return a(o,l,d);if(Object.is(l?.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return d;const f=o[l];return f===void 0?d:f}}}function a(o,l,d){if(l.length===0)return d;let f=o;for(let m=0;m<l.length;m++){if(f==null||e.isUnsafeProperty(l[m]))return d;f=f[l[m]]}return f===void 0?d:f}t.get=s})(T1)),T1}var I1,AR;function bre(){return AR||(AR=1,I1=BP().get),I1}var wre=bre();const Ox=Ei(wre);var _re=4;function Sl(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_re,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Nn(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,s,a)=>{var o=n[a-1];return typeof o=="string"?i+o+s:o!==void 0?i+Sl(o)+s:i+s},"")}var Fs=t=>t===0?0:t>0?1:-1,Sa=t=>typeof t=="number"&&t!=+t,wu=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ze=t=>(typeof t=="number"||t instanceof Number)&&!Sa(t),Pa=t=>Ze(t)||typeof t=="string",Ere=0,$m=t=>{var e=++Ere;return"".concat(t||"").concat(e)},Hl=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ze(e)&&typeof e!="string")return r;var s;if(wu(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Sa(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},Zz=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function zn(t,e,n){return Ze(t)&&Ze(e)?Sl(t+n*(e-t)):e}function e6(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Ox(r,e))===n)}var fr=t=>t===null||typeof t>"u",Rp=t=>fr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function ga(t){return t!=null}function Du(){}var Tre=["type","size","sizeType"];function GT(){return GT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GT.apply(null,arguments)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){Cre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cre(t,e,n){return(e=Sre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sre(t){var e=Pre(t,"string");return typeof e=="symbol"?e:e+""}function Pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Are(t,e){if(t==null)return{};var n,r,i=Nre(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Nre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var t6={symbolCircle:LP,symbolCross:qne,symbolDiamond:Hne,symbolSquare:Kne,symbolStar:Qne,symbolTriangle:Jne,symbolWye:ere},Ire=Math.PI/180,jre=t=>{var e="symbol".concat(Rp(t));return t6[e]||LP},kre=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*Ire;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Rre=(t,e)=>{t6["symbol".concat(Rp(t))]=e},n6=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=Are(t,Tre),s=IR(IR({},i),{},{type:e,size:n,sizeType:r}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var p=jre(a),y=tre().type(p).size(kre(n,r,a)),v=y();if(v!==null)return v},{className:l,cx:d,cy:f}=s,m=zr(s);return Ze(d)&&Ze(f)&&Ze(n)?E.createElement("path",GT({},m,{className:Qt("recharts-symbols",l),transform:"translate(".concat(d,", ").concat(f,")"),d:o()})):null};n6.registerSymbol=Rre;var r6=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,zP=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(E.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{DP(i)&&(r[i]=(s=>n[i](n,s)))}),r},Dre=(t,e,n)=>r=>(t(e,n,r),null),Ore=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];DP(i)&&typeof s=="function"&&(r||(r={}),r[i]=Dre(s,e,n))}),r};function jR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jR(Object(n),!0).forEach(function(r){Lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lre(t,e,n){return(e=Vre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vre(t){var e=Fre(t,"string");return typeof e=="symbol"?e:e+""}function Fre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ci(t,e){var n=Mre({},t),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return s}var j1={},k1={},kR;function Bre(){return kR||(kR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],o=r(a,s,n);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(k1)),k1}var R1={},RR;function zre(){return RR||(RR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(R1)),R1}var D1={},DR;function i6(){return DR||(DR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(D1)),D1}var O1={},M1={},L1={},OR;function Ure(){return OR||(OR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(L1)),L1}var MR;function UP(){return MR||(MR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ure();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(M1)),M1}var V1={},LR;function $re(){return LR||(LR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(V1)),V1}var VR;function qre(){return VR||(VR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=UP(),n=$re();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(O1)),O1}var F1={},B1={},FR;function Wre(){return FR||(FR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BP();function n(r){return function(i){return e.get(i,r)}}t.property=n})(B1)),B1}var z1={},U1={},$1={},q1={},BR;function s6(){return BR||(BR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(q1)),q1}var W1={},zR;function a6(){return zR||(zR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(W1)),W1}var H1={},UR;function o6(){return UR||(UR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(H1)),H1}var $R;function Hre(){return $R||($R=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=s6(),n=a6(),r=o6();function i(f,m,p){return typeof p!="function"?i(f,m,()=>{}):s(f,m,function y(v,w,_,T,L,O){const z=p(v,w,_,T,L,O);return z!==void 0?!!z:s(v,w,y,O)},new Map)}function s(f,m,p,y){if(m===f)return!0;switch(typeof m){case"object":return a(f,m,p,y);case"function":return Object.keys(m).length>0?s(f,{...m},p,y):r.isEqualsSameValueZero(f,m);default:return e.isObject(f)?typeof m=="string"?m==="":!0:r.isEqualsSameValueZero(f,m)}}function a(f,m,p,y){if(m==null)return!0;if(Array.isArray(m))return l(f,m,p,y);if(m instanceof Map)return o(f,m,p,y);if(m instanceof Set)return d(f,m,p,y);const v=Object.keys(m);if(f==null||n.isPrimitive(f))return v.length===0;if(v.length===0)return!0;if(y?.has(m))return y.get(m)===f;y?.set(m,f);try{for(let w=0;w<v.length;w++){const _=v[w];if(!n.isPrimitive(f)&&!(_ in f)||m[_]===void 0&&f[_]!==void 0||m[_]===null&&f[_]!==null||!p(f[_],m[_],_,f,m,y))return!1}return!0}finally{y?.delete(m)}}function o(f,m,p,y){if(m.size===0)return!0;if(!(f instanceof Map))return!1;for(const[v,w]of m.entries()){const _=f.get(v);if(p(_,w,v,f,m,y)===!1)return!1}return!0}function l(f,m,p,y){if(m.length===0)return!0;if(!Array.isArray(f))return!1;const v=new Set;for(let w=0;w<m.length;w++){const _=m[w];let T=!1;for(let L=0;L<f.length;L++){if(v.has(L))continue;const O=f[L];let z=!1;if(p(O,_,w,f,m,y)&&(z=!0),z){v.add(L),T=!0;break}}if(!T)return!1}return!0}function d(f,m,p,y){return m.size===0?!0:f instanceof Set?l([...f],[...m],p,y):!1}t.isMatchWith=i,t.isSetMatch=d})($1)),$1}var qR;function l6(){return qR||(qR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Hre();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(U1)),U1}var K1={},G1={},X1={},WR;function Kre(){return WR||(WR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(X1)),X1}var Y1={},HR;function $P(){return HR||(HR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(Y1)),Y1}var Q1={},KR;function c6(){return KR||(KR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",d="[object Set]",f="[object Array]",m="[object Function]",p="[object ArrayBuffer]",y="[object Object]",v="[object Error]",w="[object DataView]",_="[object Uint8Array]",T="[object Uint8ClampedArray]",L="[object Uint16Array]",O="[object Uint32Array]",z="[object BigUint64Array]",j="[object Int8Array]",P="[object Int16Array]",C="[object Int32Array]",S="[object BigInt64Array]",k="[object Float32Array]",A="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=p,t.arrayTag=f,t.bigInt64ArrayTag=S,t.bigUint64ArrayTag=z,t.booleanTag=i,t.dataViewTag=w,t.dateTag=o,t.errorTag=v,t.float32ArrayTag=k,t.float64ArrayTag=A,t.functionTag=m,t.int16ArrayTag=P,t.int32ArrayTag=C,t.int8ArrayTag=j,t.mapTag=l,t.numberTag=r,t.objectTag=y,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=L,t.uint32ArrayTag=O,t.uint8ArrayTag=_,t.uint8ClampedArrayTag=T})(Q1)),Q1}var J1={},GR;function Gre(){return GR||(GR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(J1)),J1}var XR;function u6(){return XR||(XR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kre(),n=$P(),r=c6(),i=a6(),s=Gre();function a(f,m){return o(f,void 0,f,new Map,m)}function o(f,m,p,y=new Map,v=void 0){const w=v?.(f,m,p,y);if(w!==void 0)return w;if(i.isPrimitive(f))return f;if(y.has(f))return y.get(f);if(Array.isArray(f)){const _=new Array(f.length);y.set(f,_);for(let T=0;T<f.length;T++)_[T]=o(f[T],T,p,y,v);return Object.hasOwn(f,"index")&&(_.index=f.index),Object.hasOwn(f,"input")&&(_.input=f.input),_}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const _=new RegExp(f.source,f.flags);return _.lastIndex=f.lastIndex,_}if(f instanceof Map){const _=new Map;y.set(f,_);for(const[T,L]of f)_.set(T,o(L,T,p,y,v));return _}if(f instanceof Set){const _=new Set;y.set(f,_);for(const T of f)_.add(o(T,void 0,p,y,v));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const _=new(Object.getPrototypeOf(f)).constructor(f.length);y.set(f,_);for(let T=0;T<f.length;T++)_[T]=o(f[T],T,p,y,v);return _}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const _=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return y.set(f,_),l(_,f,p,y,v),_}if(typeof File<"u"&&f instanceof File){const _=new File([f],f.name,{type:f.type});return y.set(f,_),l(_,f,p,y,v),_}if(typeof Blob<"u"&&f instanceof Blob){const _=new Blob([f],{type:f.type});return y.set(f,_),l(_,f,p,y,v),_}if(f instanceof Error){const _=new f.constructor;return y.set(f,_),_.message=f.message,_.name=f.name,_.stack=f.stack,_.cause=f.cause,l(_,f,p,y,v),_}if(f instanceof Boolean){const _=new Boolean(f.valueOf());return y.set(f,_),l(_,f,p,y,v),_}if(f instanceof Number){const _=new Number(f.valueOf());return y.set(f,_),l(_,f,p,y,v),_}if(f instanceof String){const _=new String(f.valueOf());return y.set(f,_),l(_,f,p,y,v),_}if(typeof f=="object"&&d(f)){const _=Object.create(Object.getPrototypeOf(f));return y.set(f,_),l(_,f,p,y,v),_}return f}function l(f,m,p=f,y,v){const w=[...Object.keys(m),...e.getSymbols(m)];for(let _=0;_<w.length;_++){const T=w[_],L=Object.getOwnPropertyDescriptor(f,T);(L==null||L.writable)&&(f[T]=o(m[T],T,p,y,v))}}function d(f){switch(n.getTag(f)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=l})(G1)),G1}var YR;function Xre(){return YR||(YR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u6();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(K1)),K1}var QR;function Yre(){return QR||(QR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l6(),n=Xre();function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})(z1)),z1}var Z1={},e_={},t_={},JR;function Qre(){return JR||(JR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=u6(),n=$P(),r=c6();function i(s,a){return e.cloneDeepWith(s,(o,l,d,f)=>{const m=a?.(o,l,d,f);if(m!==void 0)return m;if(typeof s=="object"){if(n.getTag(s)===r.objectTag&&typeof s.constructor!="function"){const p={};return f.set(s,p),e.copyProperties(p,s,d,f),p}switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new s.constructor(s?.valueOf());return e.copyProperties(p,s),p}case r.argumentsTag:{const p={};return e.copyProperties(p,s),p.length=s.length,p[Symbol.iterator]=s[Symbol.iterator],p}default:return}}})}t.cloneDeepWith=i})(t_)),t_}var ZR;function Jre(){return ZR||(ZR=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Qre();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(e_)),e_}var n_={},r_={},eD;function d6(){return eD||(eD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(r_)),r_}var i_={},tD;function Zre(){return tD||(tD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$P();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(i_)),i_}var nD;function eie(){return nD||(nD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jz(),n=d6(),r=Zre(),i=FP();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&a?.[o]==null?l=i.toPath(o):l=[o],l.length===0)return!1;let d=a;for(let f=0;f<l.length;f++){const m=l[f];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=s})(n_)),n_}var rD;function tie(){return rD||(rD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l6(),n=VP(),r=Jre(),i=BP(),s=eie();function a(o,l){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(d){const f=i.get(d,o);return f===void 0?s.has(d,o):l===void 0?f===void 0:e.isMatch(f,l)}}t.matchesProperty=a})(Z1)),Z1}var iD;function nie(){return iD||(iD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=i6(),n=Wre(),r=Yre(),i=tie();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(F1)),F1}var sD;function rie(){return sD||(sD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Bre(),n=zre(),r=i6(),i=qre(),s=nie();function a(o,l=r.identity){return i.isArrayLikeObject(o)?e.uniqBy(Array.from(o),n.ary(s.iteratee(l),1)):[]}t.uniqBy=a})(j1)),j1}var s_,aD;function iie(){return aD||(aD=1,s_=rie().uniqBy),s_}var sie=iie();const oD=Ei(sie);function aie(t,e,n){return e===!0?oD(t,n):typeof e=="function"?oD(t,e):t}var a_={exports:{}},o_={},l_={exports:{}},c_={};var lD;function oie(){if(lD)return c_;lD=1;var t=ni();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(m,p){var y=p(),v=r({inst:{value:y,getSnapshot:p}}),w=v[0].inst,_=v[1];return s(function(){w.value=y,w.getSnapshot=p,l(w)&&_({inst:w})},[m,y,p]),i(function(){return l(w)&&_({inst:w}),m(function(){l(w)&&_({inst:w})})},[m]),a(y),y}function l(m){var p=m.getSnapshot;m=m.value;try{var y=p();return!n(m,y)}catch{return!0}}function d(m,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return c_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,c_}var cD;function lie(){return cD||(cD=1,l_.exports=oie()),l_.exports}var uD;function cie(){if(uD)return o_;uD=1;var t=ni(),e=lie();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return o_.useSyncExternalStoreWithSelector=function(d,f,m,p,y){var v=s(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=o(function(){function T(P){if(!L){if(L=!0,O=P,P=p(P),y!==void 0&&w.hasValue){var C=w.value;if(y(C,P))return z=C}return z=P}if(C=z,r(O,P))return C;var S=p(P);return y!==void 0&&y(C,S)?(O=P,C):(O=P,z=S)}var L=!1,O,z,j=m===void 0?null:m;return[function(){return T(f())},j===null?void 0:function(){return T(j())}]},[f,m,p,y]);var _=i(d,v[0],v[1]);return a(function(){w.hasValue=!0,w.value=_},[_]),l(_),_},o_}var dD;function uie(){return dD||(dD=1,a_.exports=cie()),a_.exports}var die=uie(),qP=E.createContext(null),fie=t=>t,Ar=()=>{var t=E.useContext(qP);return t?t.store.dispatch:fie},hv=()=>{},hie=()=>hv,mie=(t,e)=>t===e;function ct(t){var e=E.useContext(qP),n=E.useMemo(()=>e?r=>{if(r!=null)return t(r)}:hv,[e,t]);return die.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:hie,e?e.store.getState:hv,e?e.store.getState:hv,n,mie)}function pie(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function gie(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function yie(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var fD=t=>Array.isArray(t)?t:[t];function vie(t){const e=Array.isArray(t[0])?t[0]:t;return yie(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function xie(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var bie=class{constructor(t){this.value=t}deref(){return this.value}},wie=typeof WeakRef<"u"?WeakRef:bie,_ie=0,hD=1;function Iy(){return{s:_ie,v:void 0,o:null,p:null}}function f6(t,e={}){let n=Iy();const{resultEqualityCheck:r}=e;let i,s=0;function a(){let o=n;const{length:l}=arguments;for(let m=0,p=l;m<p;m++){const y=arguments[m];if(typeof y=="function"||typeof y=="object"&&y!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const w=v.get(y);w===void 0?(o=Iy(),v.set(y,o)):o=w}else{let v=o.p;v===null&&(o.p=v=new Map);const w=v.get(y);w===void 0?(o=Iy(),v.set(y,o)):o=w}}const d=o;let f;if(o.s===hD)f=o.v;else if(f=t.apply(null,arguments),s++,r){const m=i?.deref?.()??i;m!=null&&r(m,f)&&(f=m,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new wie(f):f}return d.s=hD,d.v=f,f}return a.clearCache=()=>{n=Iy(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function Eie(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,o,l={},d=i.pop();typeof d=="object"&&(l=d,d=i.pop()),pie(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...n,...l},{memoize:m,memoizeOptions:p=[],argsMemoize:y=f6,argsMemoizeOptions:v=[]}=f,w=fD(p),_=fD(v),T=vie(i),L=m(function(){return s++,d.apply(null,arguments)},...w),O=y(function(){a++;const j=xie(T,arguments);return o=L.apply(null,j),o},..._);return Object.assign(O,{resultFunc:d,memoizedResultFunc:L,dependencies:T,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var ye=Eie(f6),Tie=Object.assign((t,e=ye)=>{gie(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,o,l)=>(a[n[l]]=o,a),{}))},{withTypes:()=>Tie}),u_={},d_={},f_={},mD;function Cie(){return mD||(mD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=n})(f_)),f_}var h_={},m_={},pD;function h6(){return pD||(pD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(m_)),m_}var gD;function Sie(){return gD||(gD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h6(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(h_)),h_}var yD;function Pie(){return yD||(yD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cie(),n=Sie(),r=FP();function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(y=>String(y));const d=(y,v)=>{let w=y;for(let _=0;_<v.length&&w!=null;++_)w=w[v[_]];return w},f=(y,v)=>v==null||y==null?v:typeof y=="object"&&"key"in y?Object.hasOwn(v,y.key)?v[y.key]:d(v,y.path):typeof y=="function"?y(v):Array.isArray(y)?d(v,y):typeof v=="object"?v[y]:v,m=a.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return s.map(y=>({original:y,criteria:m.map(v=>f(v,y))})).slice().sort((y,v)=>{for(let w=0;w<m.length;w++){const _=e.compareValues(y.criteria[w],v.criteria[w],o[w]);if(_!==0)return _}return 0}).map(y=>y.original)}t.orderBy=i})(d_)),d_}var p_={},vD;function Aie(){return vD||(vD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let d=0;d<o.length;d++){const f=o[d];Array.isArray(f)&&l<s?a(f,l+1):i.push(f)}};return a(n,0),i}t.flatten=e})(p_)),p_}var g_={},xD;function m6(){return xD||(xD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=d6(),n=UP(),r=s6(),i=o6();function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],a):!1}t.isIterateeCall=s})(g_)),g_}var bD;function Nie(){return bD||(bD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Pie(),n=Aie(),r=m6();function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(u_)),u_}var y_,wD;function Iie(){return wD||(wD=1,y_=Nie().sortBy),y_}var jie=Iie();const Mx=Ei(jie);var p6=t=>t.legend.settings,kie=t=>t.legend.size,Rie=t=>t.legend.payload;ye([Rie,p6],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?Mx(r,n):r});var jy=1;function Die(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=E.useState({height:0,left:0,top:0,width:0}),r=E.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>jy||Math.abs(a.left-e.left)>jy||Math.abs(a.top-e.top)>jy||Math.abs(a.width-e.width)>jy)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function wr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Oie=typeof Symbol=="function"&&Symbol.observable||"@@observable",_D=Oie,v_=()=>Math.random().toString(36).substring(7).split("").join("."),Mie={INIT:`@@redux/INIT${v_()}`,REPLACE:`@@redux/REPLACE${v_()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${v_()}`},r0=Mie;function WP(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function g6(t,e,n){if(typeof t!="function")throw new Error(wr(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(wr(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(wr(1));return n(g6)(t,e)}let r=t,i=e,s=new Map,a=s,o=0,l=!1;function d(){a===s&&(a=new Map,s.forEach((_,T)=>{a.set(T,_)}))}function f(){if(l)throw new Error(wr(3));return i}function m(_){if(typeof _!="function")throw new Error(wr(4));if(l)throw new Error(wr(5));let T=!0;d();const L=o++;return a.set(L,_),function(){if(T){if(l)throw new Error(wr(6));T=!1,d(),a.delete(L),s=null}}}function p(_){if(!WP(_))throw new Error(wr(7));if(typeof _.type>"u")throw new Error(wr(8));if(typeof _.type!="string")throw new Error(wr(17));if(l)throw new Error(wr(9));try{l=!0,i=r(i,_)}finally{l=!1}return(s=a).forEach(L=>{L()}),_}function y(_){if(typeof _!="function")throw new Error(wr(10));r=_,p({type:r0.REPLACE})}function v(){const _=m;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(wr(11));function L(){const z=T;z.next&&z.next(f())}return L(),{unsubscribe:_(L)}},[_D](){return this}}}return p({type:r0.INIT}),{dispatch:p,subscribe:m,getState:f,replaceReducer:y,[_D]:v}}function Lie(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:r0.INIT})>"u")throw new Error(wr(12));if(typeof n(void 0,{type:r0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(wr(13))})}function y6(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{Lie(n)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const d={};for(let f=0;f<r.length;f++){const m=r[f],p=n[m],y=a[m],v=p(y,o);if(typeof v>"u")throw o&&o.type,new Error(wr(14));d[m]=v,l=l||v!==y}return l=l||r.length!==Object.keys(a).length,l?d:a}}function i0(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Vie(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(wr(15))};const a={getState:i.getState,dispatch:(l,...d)=>s(l,...d)},o=t.map(l=>l(a));return s=i0(...o)(i.dispatch),{...i,dispatch:s}}}function v6(t){return WP(t)&&"type"in t&&typeof t.type=="string"}var x6=Symbol.for("immer-nothing"),ED=Symbol.for("immer-draftable"),ti=Symbol.for("immer-state");function Ds(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mi=Object,Ef=Mi.getPrototypeOf,s0="constructor",Lx="prototype",XT="configurable",a0="enumerable",mv="writable",qm="value",po=t=>!!t&&!!t[ti];function Hs(t){return t?b6(t)||Fx(t)||!!t[ED]||!!t[s0]?.[ED]||Bx(t)||zx(t):!1}var Fie=Mi[Lx][s0].toString(),TD=new WeakMap;function b6(t){if(!t||!HP(t))return!1;const e=Ef(t);if(e===null||e===Mi[Lx])return!0;const n=Mi.hasOwnProperty.call(e,s0)&&e[s0];if(n===Object)return!0;if(!Vd(n))return!1;let r=TD.get(n);return r===void 0&&(r=Function.toString.call(n),TD.set(n,r)),r===Fie}function Vx(t,e,n=!0){Dp(t)===0?(n?Reflect.ownKeys(t):Mi.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Dp(t){const e=t[ti];return e?e.type_:Fx(t)?1:Bx(t)?2:zx(t)?3:0}var CD=(t,e,n=Dp(t))=>n===2?t.has(e):Mi[Lx].hasOwnProperty.call(t,e),YT=(t,e,n=Dp(t))=>n===2?t.get(e):t[e],o0=(t,e,n,r=Dp(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Bie(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Fx=Array.isArray,Bx=t=>t instanceof Map,zx=t=>t instanceof Set,HP=t=>typeof t=="object",Vd=t=>typeof t=="function",x_=t=>typeof t=="boolean";function zie(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Xa=t=>t.copy_||t.base_,KP=t=>t.modified_?t.copy_:t.base_;function QT(t,e){if(Bx(t))return new Map(t);if(zx(t))return new Set(t);if(Fx(t))return Array[Lx].slice.call(t);const n=b6(t);if(e===!0||e==="class_only"&&!n){const r=Mi.getOwnPropertyDescriptors(t);delete r[ti];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o[mv]===!1&&(o[mv]=!0,o[XT]=!0),(o.get||o.set)&&(r[a]={[XT]:!0,[mv]:!0,[a0]:o[a0],[qm]:t[a]})}return Mi.create(Ef(t),r)}else{const r=Ef(t);if(r!==null&&n)return{...t};const i=Mi.create(r);return Mi.assign(i,t)}}function GP(t,e=!1){return Ux(t)||po(t)||!Hs(t)||(Dp(t)>1&&Mi.defineProperties(t,{set:ky,add:ky,clear:ky,delete:ky}),Mi.freeze(t),e&&Vx(t,(n,r)=>{GP(r,!0)},!1)),t}function Uie(){Ds(2)}var ky={[qm]:Uie};function Ux(t){return t===null||!HP(t)?!0:Mi.isFrozen(t)}var l0="MapSet",JT="Patches",SD="ArrayMethods",w6={};function _u(t){const e=w6[t];return e||Ds(0,t),e}var PD=t=>!!w6[t],Wm,_6=()=>Wm,$ie=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:PD(l0)?_u(l0):void 0,arrayMethodsPlugin_:PD(SD)?_u(SD):void 0});function AD(t,e){e&&(t.patchPlugin_=_u(JT),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ZT(t){eC(t),t.drafts_.forEach(qie),t.drafts_=null}function eC(t){t===Wm&&(Wm=t.parent_)}var ND=t=>Wm=$ie(Wm,t);function qie(t){const e=t[ti];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ID(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[ti].modified_&&(ZT(e),Ds(4)),Hs(t)&&(t=jD(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[ti].base_,t,e)}else t=jD(e,n);return Wie(e,t,!0),ZT(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==x6?t:void 0}function jD(t,e){if(Ux(e))return e;const n=e[ti];if(!n)return c0(e,t.handledSet_,t);if(!$x(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);C6(n,t)}return n.copy_}function Wie(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&GP(e,n)}function E6(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var $x=(t,e)=>t.scope_===e,Hie=[];function T6(t,e,n,r){const i=Xa(t),s=t.type_;if(r!==void 0&&YT(i,r,s)===e){o0(i,r,n,s);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;Vx(i,(l,d)=>{if(po(d)){const f=o.get(d)||[];f.push(l),o.set(d,f)}})}const a=t.draftLocations_.get(e)??Hie;for(const o of a)o0(i,o,n,s)}function Kie(t,e,n){t.callbacks_.push(function(i){const s=e;if(!s||!$x(s,i))return;i.mapSetPlugin_?.fixSetContents(s);const a=KP(s);T6(t,s.draft_??s,a,n),C6(s,i)})}function C6(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}E6(t)}}function Gie(t,e,n){const{scope_:r}=t;if(po(n)){const i=n[ti];$x(i,r)&&i.callbacks_.push(function(){pv(t);const a=KP(i);T6(t,n,a,e)})}else Hs(n)&&t.callbacks_.push(function(){const s=Xa(t);t.type_===3?s.has(n)&&c0(n,r.handledSet_,r):YT(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&c0(YT(t.copy_,e,t.type_),r.handledSet_,r)})}function c0(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||po(t)||e.has(t)||!Hs(t)||Ux(t)||(e.add(t),Vx(t,(r,i)=>{if(po(i)){const s=i[ti];if($x(s,n)){const a=KP(s);o0(t,r,a,t.type_),E6(s)}}else Hs(i)&&c0(i,e,n)})),t}function Xie(t,e){const n=Fx(t),r={type_:n?1:0,scope_:e?e.scope_:_6(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=u0;n&&(i=[r],s=Hm);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,[o,r]}var u0={get(t,e){if(e===ti)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=Xa(t);if(!CD(i,e,t.type_))return Yie(t,i,e);const s=i[e];if(t.finalized_||!Hs(s)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&zie(e))return s;if(s===b_(t.base_,e)){pv(t);const a=t.type_===1?+e:e,o=nC(t.scope_,s,t,a);return t.copy_[a]=o}return s},has(t,e){return e in Xa(t)},ownKeys(t){return Reflect.ownKeys(Xa(t))},set(t,e,n){const r=S6(Xa(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=b_(Xa(t),e),s=i?.[ti];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Bie(n,i)&&(n!==void 0||CD(t.base_,e,t.type_)))return!0;pv(t),tC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Gie(t,e,n)),!0},deleteProperty(t,e){return pv(t),b_(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),tC(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Xa(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[mv]:!0,[XT]:t.type_!==1||e!=="length",[a0]:r[a0],[qm]:n[e]}},defineProperty(){Ds(11)},getPrototypeOf(t){return Ef(t.base_)},setPrototypeOf(){Ds(12)}},Hm={};for(let t in u0){let e=u0[t];Hm[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Hm.deleteProperty=function(t,e){return Hm.set.call(this,t,e,void 0)};Hm.set=function(t,e,n){return u0.set.call(this,t[0],e,n,t[0])};function b_(t,e){const n=t[ti];return(n?Xa(n):t)[e]}function Yie(t,e,n){const r=S6(e,n);return r?qm in r?r[qm]:r.get?.call(t.draft_):void 0}function S6(t,e){if(!(e in t))return;let n=Ef(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Ef(n)}}function tC(t){t.modified_||(t.modified_=!0,t.parent_&&tC(t.parent_))}function pv(t){t.copy_||(t.assigned_=new Map,t.copy_=QT(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Qie=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Vd(n)&&!Vd(r)){const a=r;r=n;const o=this;return function(d=a,...f){return o.produce(d,m=>r.call(this,m,...f))}}Vd(r)||Ds(6),i!==void 0&&!Vd(i)&&Ds(7);let s;if(Hs(n)){const a=ND(this),o=nC(a,n,void 0);let l=!0;try{s=r(o),l=!1}finally{l?ZT(a):eC(a)}return AD(a,i),ID(s,a)}else if(!n||!HP(n)){if(s=r(n),s===void 0&&(s=n),s===x6&&(s=void 0),this.autoFreeze_&&GP(s,!0),i){const a=[],o=[];_u(JT).generateReplacementPatches_(n,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else Ds(1,n)},this.produceWithPatches=(n,r)=>{if(Vd(n))return(o,...l)=>this.produceWithPatches(o,d=>n(d,...l));let i,s;return[this.produce(n,r,(o,l)=>{i=o,s=l}),i,s]},x_(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),x_(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),x_(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Hs(e)||Ds(8),po(e)&&(e=Us(e));const n=ND(this),r=nC(n,e,void 0);return r[ti].isManual_=!0,eC(n),r}finishDraft(e,n){const r=e&&e[ti];(!r||!r.isManual_)&&Ds(9);const{scope_:i}=r;return AD(i,n),ID(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const s=n[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(n=n.slice(r+1));const i=_u(JT).applyPatches_;return po(e)?i(e,n):this.produce(e,s=>i(s,n))}};function nC(t,e,n,r){const[i,s]=Bx(e)?_u(l0).proxyMap_(e,n):zx(e)?_u(l0).proxySet_(e,n):Xie(e,n);return(n?.scope_??_6()).drafts_.push(i),s.callbacks_=n?.callbacks_??[],s.key_=r,n&&r!==void 0?Kie(n,s,r):s.callbacks_.push(function(l){l.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:d}=l;s.modified_&&d&&d.generatePatches_(s,[],l)}),i}function Us(t){return po(t)||Ds(10,t),P6(t)}function P6(t){if(!Hs(t)||Ux(t))return t;const e=t[ti];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=QT(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=QT(t,!0);return Vx(n,(i,s)=>{o0(n,i,P6(s))},r),e&&(e.finalized_=!1),n}var Jie=new Qie,A6=Jie.produce;function N6(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Zie=N6(),ese=N6,tse=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?i0:i0.apply(null,arguments)};function ds(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Li(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>v6(r)&&r.type===t,n}var I6=class um extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,um.prototype)}static get[Symbol.species](){return um}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new um(...e[0].concat(this)):new um(...e.concat(this))}};function kD(t){return Hs(t)?A6(t,()=>{}):t}function Ry(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function nse(t){return typeof t=="boolean"}var rse=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new I6;return n&&(nse(n)?a.push(Zie):a.push(ese(n.extraArgument))),a},j6="RTK_autoBatch",fn=()=>t=>({payload:t,meta:{[j6]:!0}}),RD=t=>e=>{setTimeout(e,t)},k6=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:RD(10):t.type==="callback"?t.queueNotification:RD(t.timeout),d=()=>{a=!1,s&&(s=!1,o.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const m=()=>i&&f(),p=r.subscribe(m);return o.add(f),()=>{p(),o.delete(f)}},dispatch(f){try{return i=!f?.meta?.[j6],s=!i,s&&(a||(a=!0,l(d))),r.dispatch(f)}finally{i=!0}}})},ise=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new I6(t);return r&&i.push(k6(typeof r=="object"?r:void 0)),i};function sse(t){const e=rse(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(WP(n))o=y6(n);else throw new Error(Li(1));let l;typeof r=="function"?l=r(e):l=e();let d=i0;i&&(d=tse({trace:!1,...typeof i=="object"&&i}));const f=Vie(...l),m=ise(f);let p=typeof a=="function"?a(m):m();const y=d(...p);return g6(o,s,y)}function R6(t){const e={},n=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Li(28));if(o in e)throw new Error(Li(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&n.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function ase(t){return typeof t=="function"}function ose(t,e){let[n,r,i]=R6(e),s;if(ase(t))s=()=>kD(t());else{const o=kD(t);s=()=>o}function a(o=s(),l){let d=[n[l.type],...r.filter(({matcher:f})=>f(l)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,m)=>{if(m)if(po(f)){const y=m(f,l);return y===void 0?f:y}else{if(Hs(f))return A6(f,p=>m(p,l));{const p=m(f,l);if(p===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return f},o)}return a.getInitialState=s,a}var lse="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cse=(t=21)=>{let e="",n=t;for(;n--;)e+=lse[Math.random()*64|0];return e},use=Symbol.for("rtk-slice-createasyncthunk");function dse(t,e){return`${t}/${e}`}function fse({creators:t}={}){const e=t?.asyncThunk?.[use];return function(r){const{name:i,reducerPath:s=i}=r;if(!i)throw new Error(Li(11));const a=(typeof r.reducers=="function"?r.reducers(mse()):r.reducers)||{},o=Object.keys(a),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(O,z){const j=typeof O=="string"?O:O.type;if(!j)throw new Error(Li(12));if(j in l.sliceCaseReducersByType)throw new Error(Li(13));return l.sliceCaseReducersByType[j]=z,d},addMatcher(O,z){return l.sliceMatchers.push({matcher:O,reducer:z}),d},exposeAction(O,z){return l.actionCreators[O]=z,d},exposeCaseReducer(O,z){return l.sliceCaseReducersByName[O]=z,d}};o.forEach(O=>{const z=a[O],j={reducerName:O,type:dse(i,O),createNotation:typeof r.reducers=="function"};gse(z)?vse(j,z,d,e):pse(j,z,d)});function f(){const[O={},z=[],j=void 0]=typeof r.extraReducers=="function"?R6(r.extraReducers):[r.extraReducers],P={...O,...l.sliceCaseReducersByType};return ose(r.initialState,C=>{for(let S in P)C.addCase(S,P[S]);for(let S of l.sliceMatchers)C.addMatcher(S.matcher,S.reducer);for(let S of z)C.addMatcher(S.matcher,S.reducer);j&&C.addDefaultCase(j)})}const m=O=>O,p=new Map,y=new WeakMap;let v;function w(O,z){return v||(v=f()),v(O,z)}function _(){return v||(v=f()),v.getInitialState()}function T(O,z=!1){function j(C){let S=C[O];return typeof S>"u"&&z&&(S=Ry(y,j,_)),S}function P(C=m){const S=Ry(p,z,()=>new WeakMap);return Ry(S,C,()=>{const k={};for(const[A,D]of Object.entries(r.selectors??{}))k[A]=hse(D,C,()=>Ry(y,C,_),z);return k})}return{reducerPath:O,getSelectors:P,get selectors(){return P(j)},selectSlice:j}}const L={name:i,reducer:w,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:_,...T(s),injectInto(O,{reducerPath:z,...j}={}){const P=z??s;return O.inject({reducerPath:P,reducer:w},j),{...L,...T(P,!0)}}};return L}}function hse(t,e,n,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=n()),t(o,...a)}return i.unwrapped=t,i}var Si=fse();function mse(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function pse({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!yse(r))throw new Error(Li(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?ds(t,a):ds(t))}function gse(t){return t._reducerDefinitionType==="asyncThunk"}function yse(t){return t._reducerDefinitionType==="reducerWithPrepare"}function vse({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Li(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:d,options:f}=n,m=i(t,s,f);r.exposeAction(e,m),a&&r.addCase(m.fulfilled,a),o&&r.addCase(m.pending,o),l&&r.addCase(m.rejected,l),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:a||Dy,pending:o||Dy,rejected:l||Dy,settled:d||Dy})}function Dy(){}var xse="task",D6="listener",O6="completed",XP="cancelled",bse=`task-${XP}`,wse=`task-${O6}`,rC=`${D6}-${XP}`,_se=`${D6}-${O6}`,qx=class{constructor(t){this.code=t,this.message=`${xse} ${XP} (reason: ${t})`}name="TaskAbortError";message},YP=(t,e)=>{if(typeof t!="function")throw new TypeError(Li(32))},d0=()=>{},M6=(t,e=d0)=>(t.catch(e),t),L6=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),nu=t=>{if(t.aborted)throw new qx(t.reason)};function V6(t,e){let n=d0;return new Promise((r,i)=>{const s=()=>i(new qx(t.reason));if(t.aborted){s();return}n=L6(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=d0})}var Ese=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof qx?"cancelled":"rejected",error:n}}finally{e?.()}},f0=t=>e=>M6(V6(t,e).then(n=>(nu(t),n))),F6=t=>{const e=f0(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:tf}=Object,DD={},Wx="listenerMiddleware",Tse=(t,e)=>{const n=r=>L6(t,()=>r.abort(t.reason));return(r,i)=>{YP(r);const s=new AbortController;n(s);const a=Ese(async()=>{nu(t),nu(s.signal);const o=await r({pause:f0(s.signal),delay:F6(s.signal),signal:s.signal});return nu(s.signal),o},()=>s.abort(wse));return i?.autoJoin&&e.push(a.catch(d0)),{result:f0(t)(a),cancel(){s.abort(bse)}}}},Cse=(t,e)=>{const n=async(r,i)=>{nu(e);let s=()=>{};const o=[new Promise((l,d)=>{let f=t({predicate:r,effect:(m,p)=>{p.unsubscribe(),l([m,p.getState(),p.getOriginalState()])}});s=()=>{f(),d()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await V6(e,Promise.race(o));return nu(e),l}finally{s()}};return(r,i)=>M6(n(r,i))},B6=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=ds(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Li(21));return YP(s),{predicate:i,type:e,effect:s}},z6=tf(t=>{const{type:e,predicate:n,effect:r}=B6(t);return{id:cse(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Li(22))}}},{withTypes:()=>z6}),OD=(t,e)=>{const{type:n,effect:r,predicate:i}=B6(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},iC=t=>{t.pending.forEach(e=>{e.abort(rC)})},Sse=(t,e)=>()=>{for(const n of e.keys())iC(n);t.clear()},MD=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},U6=tf(ds(`${Wx}/add`),{withTypes:()=>U6}),Pse=ds(`${Wx}/removeAll`),$6=tf(ds(`${Wx}/remove`),{withTypes:()=>$6}),Ase=(...t)=>{console.error(`${Wx}/error`,...t)},Op=(t={})=>{const e=new Map,n=new Map,r=y=>{const v=n.get(y)??0;n.set(y,v+1)},i=y=>{const v=n.get(y)??1;v===1?n.delete(y):n.set(y,v-1)},{extra:s,onError:a=Ase}=t;YP(a);const o=y=>(y.unsubscribe=()=>e.delete(y.id),e.set(y.id,y),v=>{y.unsubscribe(),v?.cancelActive&&iC(y)}),l=y=>{const v=OD(e,y)??z6(y);return o(v)};tf(l,{withTypes:()=>l});const d=y=>{const v=OD(e,y);return v&&(v.unsubscribe(),y.cancelActive&&iC(v)),!!v};tf(d,{withTypes:()=>d});const f=async(y,v,w,_)=>{const T=new AbortController,L=Cse(l,T.signal),O=[];try{y.pending.add(T),r(y),await Promise.resolve(y.effect(v,tf({},w,{getOriginalState:_,condition:(z,j)=>L(z,j).then(Boolean),take:L,delay:F6(T.signal),pause:f0(T.signal),extra:s,signal:T.signal,fork:Tse(T.signal,O),unsubscribe:y.unsubscribe,subscribe:()=>{e.set(y.id,y)},cancelActiveListeners:()=>{y.pending.forEach((z,j,P)=>{z!==T&&(z.abort(rC),P.delete(z))})},cancel:()=>{T.abort(rC),y.pending.delete(T)},throwIfCancelled:()=>{nu(T.signal)}})))}catch(z){z instanceof qx||MD(a,z,{raisedBy:"effect"})}finally{await Promise.all(O),T.abort(_se),i(y),y.pending.delete(T)}},m=Sse(e,n);return{middleware:y=>v=>w=>{if(!v6(w))return v(w);if(U6.match(w))return l(w.payload);if(Pse.match(w)){m();return}if($6.match(w))return d(w.payload);let _=y.getState();const T=()=>{if(_===DD)throw new Error(Li(23));return _};let L;try{if(L=v(w),e.size>0){const O=y.getState(),z=Array.from(e.values());for(const j of z){let P=!1;try{P=j.predicate(w,O,_)}catch(C){P=!1,MD(a,C,{raisedBy:"predicate"})}P&&f(j,w,y,T)}}}finally{_=DD}return L},startListening:l,stopListening:d,clearListeners:m}};function Li(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Nse={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},q6=Si({name:"chartLayout",initialState:Nse,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,s;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:Ise,setLayout:jse,setChartSize:kse,setScale:Rse}=q6.actions,Dse=q6.reducer;function W6(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Mt(t){return Number.isFinite(t)}function Kl(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){Ose(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ose(t,e,n){return(e=Mse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mse(t){var e=Lse(t,"string");return typeof e=="symbol"?e:e+""}function Lse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yn(t,e,n){return fr(t)||fr(e)?n:Pa(e)?Ox(t,e,n):typeof e=="function"?e(t):n}var Vse=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&Ze(t[s]))return Bd(Bd({},t),{},{[s]:t[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&Ze(t[a]))return Bd(Bd({},t),{},{[a]:t[a]+(i||0)})}return t},Xs=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Fse=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0,o=0;o<n;++o){var l=t[o],d=l?.[i];if(d!=null){var f=d[1],m=d[0],p=Sa(f)?m:f;p>=0?(d[0]=s,s+=p,d[1]=s):(d[0]=a,a+=p,d[1]=a)}}}},Bse=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var s=0,a=0;a<n;++a){var o=t[a],l=o?.[i];if(l!=null){var d=Sa(l[1])?l[0]:l[1];d>=0?(l[0]=s,s+=d,l[1]=s):(l[0]=0,l[1]=0)}}}},zse={sign:Fse,expand:pre,none:bu,silhouette:gre,wiggle:yre,positive:Bse},Use=(t,e,n)=>{var r,i=(r=zse[n])!==null&&r!==void 0?r:bu,s=mre().keys(e).value((o,l)=>Number(Yn(o,l,0))).order(KT).offset(i),a=s(t);return a.forEach((o,l)=>{o.forEach((d,f)=>{var m=Yn(t[f],e[l],0);Array.isArray(m)&&m.length===2&&Ze(m[0])&&Ze(m[1])&&(d[0]=m[0],d[1]=m[1])})}),a};function $se(t){return t==null?void 0:String(t)}function h0(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!fr(i[e.dataKey])){var o=e6(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n!=null&&n[s]?n[s].coordinate+r/2:null}var l=Yn(i,fr(a)?e.dataKey:a),d=e.scale.map(l);return Ze(d)?d:null}var qse=t=>{var e=t.flat(2).filter(Ze);return[Math.min(...e),Math.max(...e)]},Wse=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Hse=(t,e,n)=>{if(t!=null)return Wse(Object.keys(t).reduce((r,i)=>{var s=t[i];if(!s)return r;var{stackedData:a}=s,o=a.reduce((l,d)=>{var f=W6(d,e,n),m=qse(f);return!Mt(m[0])||!Mt(m[1])?l:[Math.min(l[0],m[0]),Math.max(l[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},VD=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,FD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tf=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=Mx(e,f=>f.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],d=i[a-1];s=Math.min((l?.coordinate||0)-(d?.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function BD(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Bd(Bd({},e),{},{dataKey:n,payload:r,value:i,name:s})}function Hx(t,e){if(t)return String(t);if(typeof e=="string")return e}var Kse=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Gse=(t,e)=>e==="centric"?t.angle:t.radius,Ao=t=>t.layout.width,No=t=>t.layout.height,Xse=t=>t.layout.scale,H6=t=>t.layout.margin,Kx=ye(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Gx=ye(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Yse="data-recharts-item-index",Qse="data-recharts-item-id",Mp=60;function zD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zD(Object(n),!0).forEach(function(r){Jse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jse(t,e,n){return(e=Zse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zse(t){var e=eae(t,"string");return typeof e=="symbol"?e:e+""}function eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tae=t=>t.brush.height;function nae(t){var e=Gx(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mp;return n+i}return n},0)}function rae(t){var e=Gx(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Mp;return n+i}return n},0)}function iae(t){var e=Kx(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function sae(t){var e=Kx(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Nr=ye([Ao,No,H6,tae,nae,rae,iae,sae,p6,kie],(t,e,n,r,i,s,a,o,l,d)=>{var f={left:(n.left||0)+i,right:(n.right||0)+s},m={top:(n.top||0)+a,bottom:(n.bottom||0)+o},p=Oy(Oy({},m),f),y=p.bottom;p.bottom+=r,p=Vse(p,l,d);var v=t-p.left-p.right,w=e-p.top-p.bottom;return Oy(Oy({brushBottom:y},p),{},{width:Math.max(v,0),height:Math.max(w,0)})}),aae=ye(Nr,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),oae=ye(Ao,No,(t,e)=>({x:0,y:0,width:t,height:e})),lae=E.createContext(null),Pi=()=>E.useContext(lae)!=null,Xx=t=>t.brush,Yx=ye([Xx,Nr,H6],(t,e,n)=>({height:t.height,x:Ze(t.x)?t.x:e.left,y:Ze(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Ze(t.width)?t.width:e.width})),w_={},__={},E_={},UD;function cae(){return UD||(UD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),d=s==null||s.includes("trailing"),f=()=>{o!==null&&(n.apply(a,o),a=void 0,o=null)},m=()=>{d&&f(),w()};let p=null;const y=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,m()},r)},v=()=>{p!==null&&(clearTimeout(p),p=null)},w=()=>{v(),a=void 0,o=null},_=()=>{f()},T=function(...L){if(i?.aborted)return;a=this,o=L;const O=p==null;y(),l&&O&&f()};return T.schedule=y,T.cancel=w,T.flush=_,i?.addEventListener("abort",w,{once:!0}),T}t.debounce=e})(E_)),E_}var $D;function uae(){return $D||($D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cae();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,d=Array(2);a&&(d[0]="leading"),o&&(d[1]="trailing");let f,m=null;const p=e.debounce(function(...w){f=r.apply(this,w),m=null},i,{edges:d}),y=function(...w){return l!=null&&(m===null&&(m=Date.now()),Date.now()-m>=l)?(f=r.apply(this,w),m=Date.now(),p.cancel(),p.schedule(),f):(p.apply(this,w),f)},v=()=>(p.flush(),f);return y.cancel=p.cancel,y.flush=v,y}t.debounce=n})(__)),__}var qD;function dae(){return qD||(qD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uae();function n(r,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(r,i,{leading:a,maxWait:i,trailing:o})}t.throttle=n})(w_)),w_}var T_,WD;function fae(){return WD||(WD=1,T_=dae().throttle),T_}var hae=fae();const mae=Ei(hae);var HD=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(n.replace(/%s/g,()=>i[a++]))}},ya={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},K6=(t,e,n)=>{var{width:r=ya.width,height:i=ya.height,aspect:s,maxHeight:a}=n,o=wu(r)?t:Number(r),l=wu(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},pae={width:0,height:0,overflow:"visible"},gae={width:0,overflowX:"visible"},yae={height:0,overflowY:"visible"},vae={},xae=t=>{var{width:e,height:n}=t,r=wu(e),i=wu(n);return r&&i?pae:r?gae:i?yae:vae};function bae(t){var{width:e,height:n,aspect:r}=t,i=e,s=n;return i===void 0&&s===void 0?(i=ya.width,s=ya.height):i===void 0?i=r&&r>0?void 0:ya.width:s===void 0&&(s=r&&r>0?void 0:ya.height),{width:i,height:s}}function sC(){return sC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sC.apply(null,arguments)}function KD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KD(Object(n),!0).forEach(function(r){wae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wae(t,e,n){return(e=_ae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ae(t){var e=Eae(t,"string");return typeof e=="symbol"?e:e+""}function Eae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G6=E.createContext(ya.initialDimension);function Tae(t){return Kl(t.width)&&Kl(t.height)}function X6(t){var{children:e,width:n,height:r}=t,i=E.useMemo(()=>({width:n,height:r}),[n,r]);return Tae(i)?E.createElement(G6.Provider,{value:i},e):null}var QP=()=>E.useContext(G6),Cae=E.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=ya.initialDimension,width:i,height:s,minWidth:a=ya.minWidth,minHeight:o,maxHeight:l,children:d,debounce:f=ya.debounce,id:m,className:p,onResize:y,style:v={}}=t,w=E.useRef(null),_=E.useRef();_.current=y,E.useImperativeHandle(e,()=>w.current);var[T,L]=E.useState({containerWidth:r.width,containerHeight:r.height}),O=E.useCallback((S,k)=>{L(A=>{var D=Math.round(S),M=Math.round(k);return A.containerWidth===D&&A.containerHeight===M?A:{containerWidth:D,containerHeight:M}})},[]);E.useEffect(()=>{if(w.current==null||typeof ResizeObserver>"u")return Du;var S=M=>{var I,K=M[0];if(K!=null){var{width:Y,height:J}=K.contentRect;O(Y,J),(I=_.current)===null||I===void 0||I.call(_,Y,J)}};f>0&&(S=mae(S,f,{trailing:!0,leading:!1}));var k=new ResizeObserver(S),{width:A,height:D}=w.current.getBoundingClientRect();return O(A,D),k.observe(w.current),()=>{k.disconnect()}},[O,f]);var{containerWidth:z,containerHeight:j}=T;HD(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:P,calculatedHeight:C}=K6(z,j,{width:i,height:s,aspect:n,maxHeight:l});return HD(P!=null&&P>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,C,i,s,a,o,n),E.createElement("div",{id:m?"".concat(m):void 0,className:Qt("recharts-responsive-container",p),style:GD(GD({},v),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:w},E.createElement("div",{style:xae({width:i,height:s})},E.createElement(X6,{width:P,height:C},d)))}),Y6=E.forwardRef((t,e)=>{var n=QP();if(Kl(n.width)&&Kl(n.height))return t.children;var{width:r,height:i}=bae({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=K6(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ze(s)&&Ze(a)?E.createElement(X6,{width:s,height:a},t.children):E.createElement(Cae,sC({},t,{width:r,height:i,ref:e}))});function JP(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Qx=()=>{var t,e=Pi(),n=ct(aae),r=ct(Yx),i=(t=ct(Xx))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},Sae={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Pae=()=>{var t;return(t=ct(Nr))!==null&&t!==void 0?t:Sae},Aae=()=>ct(Ao),Nae=()=>ct(No),rn=t=>t.layout.layoutType,Ou=()=>ct(rn),Q6=()=>{var t=Ou();if(t==="horizontal"||t==="vertical")return t},J6=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},Iae=()=>{var t=Ou();return t!==void 0},Lp=t=>{var e=Ar(),n=Pi(),{width:r,height:i}=t,s=QP(),a=r,o=i;return s&&(a=s.width>0?s.width:r,o=s.height>0?s.height:i),E.useEffect(()=>{!n&&Kl(a)&&Kl(o)&&e(kse({width:a,height:o}))},[e,n,a,o]),null},Z6=Symbol.for("immer-nothing"),XD=Symbol.for("immer-draftable"),zi=Symbol.for("immer-state");function Os(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Km=Object.getPrototypeOf;function Cf(t){return!!t&&!!t[zi]}function Eu(t){return t?eU(t)||Array.isArray(t)||!!t[XD]||!!t.constructor?.[XD]||Vp(t)||Zx(t):!1}var jae=Object.prototype.constructor.toString(),YD=new WeakMap;function eU(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=YD.get(n);return r===void 0&&(r=Function.toString.call(n),YD.set(n,r)),r===jae}function m0(t,e,n=!0){Jx(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Jx(t){const e=t[zi];return e?e.type_:Array.isArray(t)?1:Vp(t)?2:Zx(t)?3:0}function aC(t,e){return Jx(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function tU(t,e,n){const r=Jx(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function kae(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Vp(t){return t instanceof Map}function Zx(t){return t instanceof Set}function Mc(t){return t.copy_||t.base_}function oC(t,e){if(Vp(t))return new Map(t);if(Zx(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=eU(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[zi];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(Km(t),r)}else{const r=Km(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function ZP(t,e=!1){return eb(t)||Cf(t)||!Eu(t)||(Jx(t)>1&&Object.defineProperties(t,{set:My,add:My,clear:My,delete:My}),Object.freeze(t),e&&Object.values(t).forEach(n=>ZP(n,!0))),t}function Rae(){Os(2)}var My={value:Rae};function eb(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var Dae={};function Tu(t){const e=Dae[t];return e||Os(0,t),e}var Gm;function nU(){return Gm}function Oae(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function QD(t,e){e&&(Tu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function lC(t){cC(t),t.drafts_.forEach(Mae),t.drafts_=null}function cC(t){t===Gm&&(Gm=t.parent_)}function JD(t){return Gm=Oae(Gm,t)}function Mae(t){const e=t[zi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ZD(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[zi].modified_&&(lC(e),Os(4)),Eu(t)&&(t=p0(e,t),e.parent_||g0(e,t)),e.patches_&&Tu("Patches").generateReplacementPatches_(n[zi].base_,t,e.patches_,e.inversePatches_)):t=p0(e,n,[]),lC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Z6?t:void 0}function p0(t,e,n){if(eb(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[zi];if(!i)return m0(e,(s,a)=>eO(t,i,e,s,a,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return g0(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),m0(a,(l,d)=>eO(t,i,s,l,d,n,o),r),g0(t,s,!1),n&&t.patches_&&Tu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function eO(t,e,n,r,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=eb(i);if(!(o&&!a)){if(Cf(i)){const l=s&&e&&e.type_!==3&&!aC(e.assigned_,r)?s.concat(r):void 0,d=p0(t,i,l);if(tU(n,r,d),Cf(d))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(Eu(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;p0(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Vp(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&g0(t,i)}}}function g0(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&ZP(e,n)}function Lae(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:nU(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=eA;n&&(i=[r],s=Xm);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var eA={get(t,e){if(e===zi)return t;const n=Mc(t);if(!aC(n,e))return Vae(t,n,e);const r=n[e];return t.finalized_||!Eu(r)?r:r===C_(t.base_,e)?(S_(t),t.copy_[e]=dC(r,t)):r},has(t,e){return e in Mc(t)},ownKeys(t){return Reflect.ownKeys(Mc(t))},set(t,e,n){const r=rU(Mc(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=C_(Mc(t),e),s=i?.[zi];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(kae(n,i)&&(n!==void 0||aC(t.base_,e)))return!0;S_(t),uC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return C_(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,S_(t),uC(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Mc(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Os(11)},getPrototypeOf(t){return Km(t.base_)},setPrototypeOf(){Os(12)}},Xm={};m0(eA,(t,e)=>{Xm[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Xm.deleteProperty=function(t,e){return Xm.set.call(this,t,e,void 0)};Xm.set=function(t,e,n){return eA.set.call(this,t[0],e,n,t[0])};function C_(t,e){const n=t[zi];return(n?Mc(n):t)[e]}function Vae(t,e,n){const r=rU(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function rU(t,e){if(!(e in t))return;let n=Km(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Km(n)}}function uC(t){t.modified_||(t.modified_=!0,t.parent_&&uC(t.parent_))}function S_(t){t.copy_||(t.copy_=oC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Fae=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(l=s,...d){return a.produce(l,f=>n.call(this,f,...d))}}typeof n!="function"&&Os(6),r!==void 0&&typeof r!="function"&&Os(7);let i;if(Eu(e)){const s=JD(this),a=dC(e,void 0);let o=!0;try{i=n(a),o=!1}finally{o?lC(s):cC(s)}return QD(s,r),ZD(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===Z6&&(i=void 0),this.autoFreeze_&&ZP(i,!0),r){const s=[],a=[];Tu("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else Os(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,n,(a,o)=>{r=a,i=o}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Eu(t)||Os(8),Cf(t)&&(t=Bae(t));const e=JD(this),n=dC(t,void 0);return n[zi].isManual_=!0,cC(e),n}finishDraft(t,e){const n=t&&t[zi];(!n||!n.isManual_)&&Os(9);const{scope_:r}=n;return QD(r,e),ZD(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Tu("Patches").applyPatches_;return Cf(t)?r(t,e):this.produce(t,i=>r(i,e))}};function dC(t,e){const n=Vp(t)?Tu("MapSet").proxyMap_(t,e):Zx(t)?Tu("MapSet").proxySet_(t,e):Lae(t,e);return(e?e.scope_:nU()).drafts_.push(n),n}function Bae(t){return Cf(t)||Os(10,t),iU(t)}function iU(t){if(!Eu(t)||eb(t))return t;const e=t[zi];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=oC(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=oC(t,!0);return m0(n,(i,s)=>{tU(n,i,iU(s))},r),e&&(e.finalized_=!1),n}var zae=new Fae;zae.produce;var Uae={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},sU=Si({name:"legend",initialState:Uae,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:fn()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Us(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:fn()},removeLegendPayload:{reducer(t,e){var n=Us(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:fn()}}}),{setLegendSize:zPe,setLegendSettings:UPe,addLegendPayload:$ae,replaceLegendPayload:qae,removeLegendPayload:Wae}=sU.actions,Hae=sU.reducer;function fC(){return fC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fC.apply(null,arguments)}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $h(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){Kae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kae(t,e,n){return(e=Gae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gae(t){var e=Xae(t,"string");return typeof e=="symbol"?e:e+""}function Xae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yae(t){return Array.isArray(t)&&Pa(t[0])&&Pa(t[1])?t.join(" ~ "):t}var Pd={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},Qae=t=>{var{separator:e=Pd.separator,contentStyle:n,itemStyle:r,labelStyle:i=Pd.labelStyle,payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:d,label:f,labelFormatter:m,accessibilityLayer:p=Pd.accessibilityLayer}=t,y=()=>{if(s&&s.length){var j={padding:0,margin:0},P=(o?Mx(s,o):s).map((C,S)=>{if(C.type==="none")return null;var k=C.formatter||a||Yae,{value:A,name:D}=C,M=A,I=D;if(k){var K=k(A,D,C,S,s);if(Array.isArray(K))[M,I]=K;else if(K!=null)M=K;else return null}var Y=$h($h({},Pd.itemStyle),{},{color:C.color||Pd.itemStyle.color},r);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:Y},Pa(I)?E.createElement("span",{className:"recharts-tooltip-item-name"},I):null,Pa(I)?E.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,E.createElement("span",{className:"recharts-tooltip-item-value"},M),E.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:j},P)}return null},v=$h($h({},Pd.contentStyle),n),w=$h({margin:0},i),_=!fr(f),T=_?f:"",L=Qt("recharts-default-tooltip",l),O=Qt("recharts-tooltip-label",d);_&&m&&s!==void 0&&s!==null&&(T=m(f,s));var z=p?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",fC({className:L,style:v},z),E.createElement("p",{className:O,style:w},E.isValidElement(T)?T:"".concat(T)),y())},qh="recharts-tooltip-wrapper",Jae={visibility:"hidden"};function Zae(t){var{coordinate:e,translateX:n,translateY:r}=t;return Qt(qh,{["".concat(qh,"-right")]:Ze(n)&&e&&Ze(e.x)&&n>=e.x,["".concat(qh,"-left")]:Ze(n)&&e&&Ze(e.x)&&n<e.x,["".concat(qh,"-bottom")]:Ze(r)&&e&&Ze(e.y)&&r>=e.y,["".concat(qh,"-top")]:Ze(r)&&e&&Ze(e.y)&&r<e.y})}function nO(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:d}=t;if(s&&Ze(s[r]))return s[r];var f=n[r]-o-(i>0?i:0),m=n[r]+i;if(e[r])return a[r]?f:m;var p=l[r];if(p==null)return 0;if(a[r]){var y=f,v=p;return y<v?Math.max(m,p):Math.max(f,p)}if(d==null)return 0;var w=m+o,_=p+d;return w>_?Math.max(f,p):Math.max(m,p)}function eoe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function toe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:s,reverseDirection:a,tooltipBox:o,useTranslate3d:l,viewBox:d}=t,f,m,p;return o.height>0&&o.width>0&&n?(m=nO({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),p=nO({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=eoe({translateX:m,translateY:p,useTranslate3d:l})):f=Jae,{cssProperties:f,cssClasses:Zae({translateX:m,translateY:p,coordinate:n})}}function rO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ly(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(n),!0).forEach(function(r){hC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hC(t,e,n){return(e=noe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function noe(t){var e=roe(t,"string");return typeof e=="symbol"?e:e+""}function roe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ioe extends E.PureComponent{constructor(){super(...arguments),hC(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),hC(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:d,position:f,reverseDirection:m,useTranslate3d:p,viewBox:y,wrapperStyle:v,lastBoundingBox:w,innerRef:_,hasPortalFromProps:T}=this.props,L=typeof d=="number"?d:d.x,O=typeof d=="number"?d:d.y,{cssClasses:z,cssProperties:j}=toe({allowEscapeViewBox:n,coordinate:a,offsetLeft:L,offsetTop:O,position:f,reverseDirection:m,tooltipBox:{height:w.height,width:w.width},useTranslate3d:p,viewBox:y}),P=T?{}:Ly(Ly({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=Ly(Ly({},P),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},v);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:z,style:C,ref:_},s)}}var aU=()=>{var t;return(t=ct(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function mC(){return mC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mC.apply(null,arguments)}function iO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(n),!0).forEach(function(r){soe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function soe(t,e,n){return(e=aoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aoe(t){var e=ooe(t,"string");return typeof e=="symbol"?e:e+""}function ooe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aO={curveBasisClosed:rre,curveBasisOpen:ire,curveBasis:nre,curveBumpX:Une,curveBumpY:$ne,curveLinearClosed:sre,curveLinear:Rx,curveMonotoneX:are,curveMonotoneY:ore,curveNatural:lre,curveStep:cre,curveStepAfter:dre,curveStepBefore:ure},y0=t=>Mt(t.x)&&Mt(t.y),oO=t=>t.base!=null&&y0(t.base)&&y0(t),Wh=t=>t.x,Hh=t=>t.y,loe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Rp(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=aO["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return aO[n]||Rx},lO={connectNulls:!1,type:"linear"},coe=t=>{var{type:e=lO.type,points:n=[],baseLine:r,layout:i,connectNulls:s=lO.connectNulls}=t,a=loe(e,i),o=s?n.filter(y0):n;if(Array.isArray(r)){var l,d=n.map((v,w)=>sO(sO({},v),{},{base:r[w]}));i==="vertical"?l=Ny().y(Hh).x1(Wh).x0(v=>v.base.x):l=Ny().x(Wh).y1(Hh).y0(v=>v.base.y);var f=l.defined(oO).curve(a),m=s?d.filter(oO):d;return f(m)}var p;i==="vertical"&&Ze(r)?p=Ny().y(Hh).x1(Wh).x0(r):Ze(r)?p=Ny().x(Wh).y1(Hh).y0(r):p=zz().x(Wh).y(Hh);var y=p.defined(y0).curve(a);return y(o)},_m=t=>{var{className:e,points:n,path:r,pathRef:i}=t,s=Ou();if((!n||!n.length)&&!r)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},o=n&&n.length?coe(a):r;return E.createElement("path",mC({},Ws(t),zP(t),{className:Qt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},uoe=["x","y","top","left","width","height","className"];function pC(){return pC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pC.apply(null,arguments)}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function doe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){foe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function foe(t,e,n){return(e=hoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hoe(t){var e=moe(t,"string");return typeof e=="symbol"?e:e+""}function moe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function poe(t,e){if(t==null)return{};var n,r,i=goe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function goe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var yoe=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),voe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=t,l=poe(t,uoe),d=doe({x:e,y:n,top:r,left:i,width:s,height:a},l);return!Ze(e)||!Ze(n)||!Ze(s)||!Ze(a)||!Ze(r)||!Ze(i)?null:E.createElement("path",pC({},zr(d),{className:Qt("recharts-cross",o),d:yoe(e,n,s,a,r,i)}))};function xoe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function uO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uO(Object(n),!0).forEach(function(r){boe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function boe(t,e,n){return(e=woe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function woe(t){var e=_oe(t,"string");return typeof e=="symbol"?e:e+""}function _oe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eoe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),oU=(t,e,n)=>t.map(r=>"".concat(Eoe(r)," ").concat(e,"ms ").concat(n)).join(","),Toe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),Ym=(t,e)=>Object.keys(e).reduce((n,r)=>dO(dO({},n),{},{[r]:t(r,e[r])}),{});function fO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fO(Object(n),!0).forEach(function(r){Coe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Coe(t,e,n){return(e=Soe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Soe(t){var e=Poe(t,"string");return typeof e=="symbol"?e:e+""}function Poe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v0=(t,e,n)=>t+(e-t)*n,gC=t=>{var{from:e,to:n}=t;return e!==n},lU=(t,e,n)=>{var r=Ym((i,s)=>{if(gC(s)){var[a,o]=t(s.from,s.to,s.velocity);return Gn(Gn({},s),{},{from:a,velocity:o})}return s},e);return n<1?Ym((i,s)=>gC(s)&&r[i]!=null?Gn(Gn({},s),{},{velocity:v0(s.velocity,r[i].velocity,n),from:v0(s.from,r[i].from,n)}):s,e):lU(t,r,n-1)};function Aoe(t,e,n,r,i,s){var a,o=r.reduce((p,y)=>Gn(Gn({},p),{},{[y]:{from:t[y],velocity:0,to:e[y]}}),{}),l=()=>Ym((p,y)=>y.from,o),d=()=>!Object.values(o).filter(gC).length,f=null,m=p=>{a||(a=p);var y=p-a,v=y/n.dt;o=lU(n,o,v),i(Gn(Gn(Gn({},t),e),l())),a=p,d()||(f=s.setTimeout(m))};return()=>(f=s.setTimeout(m),()=>{var p;(p=f)===null||p===void 0||p()})}function Noe(t,e,n,r,i,s,a){var o=null,l=i.reduce((m,p)=>{var y=t[p],v=e[p];return y==null||v==null?m:Gn(Gn({},m),{},{[p]:[y,v]})},{}),d,f=m=>{d||(d=m);var p=(m-d)/r,y=Ym((w,_)=>v0(..._,n(p)),l);if(s(Gn(Gn(Gn({},t),e),y)),p<1)o=a.setTimeout(f);else{var v=Ym((w,_)=>v0(..._,n(1)),l);s(Gn(Gn(Gn({},t),e),v))}};return()=>(o=a.setTimeout(f),()=>{var m;(m=o)===null||m===void 0||m()})}const Ioe=(t,e,n,r,i,s)=>{var a=Toe(t,e);return n==null?()=>(i(Gn(Gn({},t),e)),()=>{}):n.isStepper===!0?Aoe(t,e,n,a,i,s):Noe(t,e,n,r,a,i,s)};var x0=1e-4,cU=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],uU=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),hO=(t,e)=>n=>{var r=cU(t,e);return uU(r,n)},joe=(t,e)=>n=>{var r=cU(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return uU(i,n)},koe=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},Roe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=koe(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},Doe=(t,e,n,r)=>{var i=hO(t,n),s=hO(e,r),a=joe(t,n),o=d=>d>1?1:d<0?0:d,l=d=>{for(var f=d>1?1:d,m=f,p=0;p<8;++p){var y=i(m)-f,v=a(m);if(Math.abs(y-f)<x0||v<x0)return s(m);m=o(m-y/v)}return s(m)};return l.isStepper=!1,l},mO=function(){return Doe(...Roe(...arguments))},Ooe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,o,l)=>{var d=-(a-o)*n,f=l*r,m=l+(d-f)*i/1e3,p=l*i/1e3+a;return Math.abs(p-o)<x0&&Math.abs(m)<x0?[o,0]:[p,m]};return s.isStepper=!0,s.dt=i,s},Moe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return mO(t);case"spring":return Ooe();default:if(t.split("(")[0]==="cubic-bezier")return mO(t)}return typeof t=="function"?t:null};function Loe(t){var e,n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...d]=o;if(typeof l=="number"){i=t.setTimeout(s.bind(null,d),l);return}s(l),i=t.setTimeout(s.bind(null,d));return}typeof a=="string"&&(e=a,n(e)),typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}class Voe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function Foe(){return Loe(new Voe)}var Boe=E.createContext(Foe);function zoe(t,e){var n=E.useContext(Boe);return E.useMemo(()=>e??n(t),[t,e,n])}var Uoe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Fp={isSsr:Uoe()},$oe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},pO={t:0},P_={t:1};function tb(t){var e=Ci(t,$oe),{isActive:n,canBegin:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:d}=e,f=n==="auto"?!Fp.isSsr:n,m=zoe(e.animationId,e.animationManager),[p,y]=E.useState(f?pO:P_),v=E.useRef(null);return E.useEffect(()=>{f||y(P_)},[f]),E.useEffect(()=>{if(!f||!r)return Du;var w=Ioe(pO,P_,Moe(s),i,y,m.getTimeoutController()),_=()=>{v.current=w()};return m.start([l,a,_,i,o]),()=>{m.stop(),v.current&&v.current(),o()}},[f,r,i,s,a,l,o,m]),d(p.t)}function nb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=E.useRef($m(e)),r=E.useRef(t);return r.current!==t&&(n.current=$m(e),r.current=t),n.current}var qoe=["radius"],Woe=["radius"],gO,yO,vO,xO,bO,wO,_O,EO,TO,CO;function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){Hoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hoe(t,e,n){return(e=Koe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Koe(t){var e=Goe(t,"string");return typeof e=="symbol"?e:e+""}function Goe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b0.apply(null,arguments)}function AO(t,e){if(t==null)return{};var n,r,i=Xoe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function sa(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var NO=(t,e,n,r,i)=>{var s=Sl(n),a=Sl(r),o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,d=s>=0?1:-1,f=a>=0&&s>=0||a<0&&s<0?1:0,m;if(o>0&&Array.isArray(i)){for(var p=[0,0,0,0],y=0,v=4;y<v;y++){var w,_=(w=i[y])!==null&&w!==void 0?w:0;p[y]=_>o?o:_}m=Nn(gO||(gO=sa(["M",",",""])),t,e+l*p[0]),p[0]>0&&(m+=Nn(yO||(yO=sa(["A ",",",",0,0,",",",",",""])),p[0],p[0],f,t+d*p[0],e)),m+=Nn(vO||(vO=sa(["L ",",",""])),t+n-d*p[1],e),p[1]>0&&(m+=Nn(xO||(xO=sa(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],f,t+n,e+l*p[1])),m+=Nn(bO||(bO=sa(["L ",",",""])),t+n,e+r-l*p[2]),p[2]>0&&(m+=Nn(wO||(wO=sa(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],f,t+n-d*p[2],e+r)),m+=Nn(_O||(_O=sa(["L ",",",""])),t+d*p[3],e+r),p[3]>0&&(m+=Nn(EO||(EO=sa(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],f,t,e+r-l*p[3])),m+="Z"}else if(o>0&&i===+i&&i>0){var T=Math.min(o,i);m=Nn(TO||(TO=sa(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*T,T,T,f,t+d*T,e,t+n-d*T,e,T,T,f,t+n,e+l*T,t+n,e+r-l*T,T,T,f,t+n-d*T,e+r,t+d*T,e+r,T,T,f,t,e+r-l*T)}else m=Nn(CO||(CO=sa(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return m},IO={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dU=t=>{var e=Ci(t,IO),n=E.useRef(null),[r,i]=E.useState(-1);E.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var F=n.current.getTotalLength();F&&i(F)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:d,className:f}=e,{animationEasing:m,animationDuration:p,animationBegin:y,isAnimationActive:v,isUpdateAnimationActive:w}=e,_=E.useRef(o),T=E.useRef(l),L=E.useRef(s),O=E.useRef(a),z=E.useMemo(()=>({x:s,y:a,width:o,height:l,radius:d}),[s,a,o,l,d]),j=nb(z,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var P=Qt("recharts-rectangle",f);if(!w){var C=zr(e),{radius:S}=C,k=AO(C,qoe);return E.createElement("path",b0({},k,{x:Sl(s),y:Sl(a),width:Sl(o),height:Sl(l),radius:typeof d=="number"?d:void 0,className:P,d:NO(s,a,o,l,d)}))}var A=_.current,D=T.current,M=L.current,I=O.current,K="0px ".concat(r===-1?1:r,"px"),Y="".concat(r,"px 0px"),J=oU(["strokeDasharray"],p,typeof m=="string"?m:IO.animationEasing);return E.createElement(tb,{animationId:j,key:j,canBegin:r>0,duration:p,easing:m,isActive:w,begin:y},F=>{var G=zn(A,o,F),q=zn(D,l,F),R=zn(M,s,F),U=zn(I,a,F);n.current&&(_.current=G,T.current=q,L.current=R,O.current=U);var H;v?F>0?H={transition:J,strokeDasharray:Y}:H={strokeDasharray:K}:H={strokeDasharray:Y};var Q=zr(e),{radius:Z}=Q,te=AO(Q,Woe);return E.createElement("path",b0({},te,{radius:typeof d=="number"?d:void 0,className:P,d:NO(R,U,G,q,d),ref:n,style:PO(PO({},H),e.style)}))})};function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){Yoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yoe(t,e,n){return(e=Qoe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qoe(t){var e=Joe(t,"string");return typeof e=="symbol"?e:e+""}function Joe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var w0=Math.PI/180,Zoe=t=>t*180/Math.PI,Sr=(t,e,n,r)=>({x:t+Math.cos(-w0*r)*n,y:e+Math.sin(-w0*r)*n}),ele=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},tle=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},nle=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=tle({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(n-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:Zoe(l),angleInRadian:l}},rle=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},ile=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},sle=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:s}=nle({x:n,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:d}=rle(e),f=s,m;if(l<=d){for(;f>d;)f-=360;for(;f<l;)f+=360;m=f>=l&&f<=d}else{for(;f>l;)f-=360;for(;f<d;)f+=360;m=f>=d&&f<=l}return m?kO(kO({},e),{},{radius:i,angle:ile(f,e)}):null};function fU(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=Sr(e,n,r,i),o=Sr(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}var RO,DO,OO,MO,LO,VO,FO;function yC(){return yC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yC.apply(null,arguments)}function Kc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var ale=(t,e)=>{var n=Fs(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Vy=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=t,d=o*(a?1:-1)+r,f=Math.asin(o/d)/w0,m=l?i:i+s*f,p=Sr(e,n,d,m),y=Sr(e,n,r,m),v=l?i-s*f:i,w=Sr(e,n,d*Math.cos(f*w0),v);return{center:p,circleTangency:y,lineTangency:w,theta:f}},hU=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,o=ale(s,a),l=s+o,d=Sr(e,n,i,s),f=Sr(e,n,i,l),m=Nn(RO||(RO=Kc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(o)>180),+(s>l),f.x,f.y);if(r>0){var p=Sr(e,n,r,s),y=Sr(e,n,r,l);m+=Nn(DO||(DO=Kc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),y.x,y.y,r,r,+(Math.abs(o)>180),+(s<=l),p.x,p.y)}else m+=Nn(OO||(OO=Kc(["L ",","," Z"])),e,n);return m},ole=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:d}=t,f=Fs(d-l),{circleTangency:m,lineTangency:p,theta:y}=Vy({cx:e,cy:n,radius:i,angle:l,sign:f,cornerRadius:s,cornerIsExternal:o}),{circleTangency:v,lineTangency:w,theta:_}=Vy({cx:e,cy:n,radius:i,angle:d,sign:-f,cornerRadius:s,cornerIsExternal:o}),T=o?Math.abs(l-d):Math.abs(l-d)-y-_;if(T<0)return a?Nn(MO||(MO=Kc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,s,s,s*2,s,s,-s*2):hU({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:d});var L=Nn(LO||(LO=Kc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,s,s,+(f<0),m.x,m.y,i,i,+(T>180),+(f<0),v.x,v.y,s,s,+(f<0),w.x,w.y);if(r>0){var{circleTangency:O,lineTangency:z,theta:j}=Vy({cx:e,cy:n,radius:r,angle:l,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:P,lineTangency:C,theta:S}=Vy({cx:e,cy:n,radius:r,angle:d,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),k=o?Math.abs(l-d):Math.abs(l-d)-j-S;if(k<0&&s===0)return"".concat(L,"L").concat(e,",").concat(n,"Z");L+=Nn(VO||(VO=Kc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,s,s,+(f<0),P.x,P.y,r,r,+(k>180),+(f>0),O.x,O.y,s,s,+(f<0),z.x,z.y)}else L+=Nn(FO||(FO=Kc(["L",",","Z"])),e,n);return L},lle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mU=t=>{var e=Ci(t,lle),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:d,endAngle:f,className:m}=e;if(s<i||d===f)return null;var p=Qt("recharts-sector",m),y=s-i,v=Hl(a,y,0,!0),w;return v>0&&Math.abs(d-f)<360?w=ole({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(v,y/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:d,endAngle:f}):w=hU({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:f}),E.createElement("path",yC({},zr(e),{className:p,d:w}))};function cle(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(r6(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,l=Sr(r,i,s,o),d=Sr(r,i,a,o);return[{x:l.x,y:l.y},{x:d.x,y:d.y}]}return fU(e)}}var A_={},N_={},I_={},BO;function ule(){return BO||(BO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=h6();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(I_)),I_}var zO;function dle(){return zO||(zO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ule();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(N_)),N_}var UO;function fle(){return UO||(UO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m6(),n=dle();function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let d=0;d<o;d++)l[d]=i,i+=a;return l}t.range=r})(A_)),A_}var j_,$O;function hle(){return $O||($O=1,j_=fle().range),j_}var mle=hle();const pU=Ei(mle);function kl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ple(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function tA(t){let e,n,r;t.length!==2?(e=kl,n=(o,l)=>kl(t(o),l),r=(o,l)=>t(o)-l):(e=t===kl||t===ple?t:gle,n=t,r=t);function i(o,l,d=0,f=o.length){if(d<f){if(e(l,l)!==0)return f;do{const m=d+f>>>1;n(o[m],l)<0?d=m+1:f=m}while(d<f)}return d}function s(o,l,d=0,f=o.length){if(d<f){if(e(l,l)!==0)return f;do{const m=d+f>>>1;n(o[m],l)<=0?d=m+1:f=m}while(d<f)}return d}function a(o,l,d=0,f=o.length){const m=i(o,l,d,f-1);return m>d&&r(o[m-1],l)>-r(o[m],l)?m-1:m}return{left:i,center:a,right:s}}function gle(){return 0}function gU(t){return t===null?NaN:+t}function*yle(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const vle=tA(kl),Bp=vle.right;tA(gU).center;class qO extends Map{constructor(e,n=wle){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(WO(this,e))}has(e){return super.has(WO(this,e))}set(e,n){return super.set(xle(this,e),n)}delete(e){return super.delete(ble(this,e))}}function WO({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function xle({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ble({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function wle(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _le(t=kl){if(t===kl)return yU;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function yU(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Ele=Math.sqrt(50),Tle=Math.sqrt(10),Cle=Math.sqrt(2);function _0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Ele?10:s>=Tle?5:s>=Cle?2:1;let o,l,d;return i<0?(d=Math.pow(10,-i)/a,o=Math.round(t*d),l=Math.round(e*d),o/d<t&&++o,l/d>e&&--l,d=-d):(d=Math.pow(10,i)*a,o=Math.round(t/d),l=Math.round(e/d),o*d<t&&++o,l*d>e&&--l),l<o&&.5<=n&&n<2?_0(t,e,n*2):[o,l,d]}function vC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?_0(e,t,n):_0(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let d=0;d<o;++d)l[d]=(s-d)/-a;else for(let d=0;d<o;++d)l[d]=(s-d)*a;else if(a<0)for(let d=0;d<o;++d)l[d]=(i+d)/-a;else for(let d=0;d<o;++d)l[d]=(i+d)*a;return l}function xC(t,e,n){return e=+e,t=+t,n=+n,_0(t,e,n)[2]}function bC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?xC(e,t,n):xC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function HO(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function KO(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function vU(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?yU:_le(i);r>n;){if(r-n>600){const l=r-n+1,d=e-n+1,f=Math.log(l),m=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*m*(l-m)/l)*(d-l/2<0?-1:1),y=Math.max(n,Math.floor(e-d*m/l+p)),v=Math.min(r,Math.floor(e+(l-d)*m/l+p));vU(t,e,y,v,i)}const s=t[e];let a=n,o=r;for(Kh(t,n,e),i(t[r],s)>0&&Kh(t,n,r);a<o;){for(Kh(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Kh(t,n,o):(++o,Kh(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Kh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Sle(t,e,n){if(t=Float64Array.from(yle(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return KO(t);if(e>=1)return HO(t);var r,i=(r-1)*e,s=Math.floor(i),a=HO(vU(t,s).subarray(0,s+1)),o=KO(t.subarray(s+1));return a+(o-a)*(i-s)}}function Ple(t,e,n=gU){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Ale(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ms(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Io(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const wC=Symbol("implicit");function nA(){var t=new qO,e=[],n=[],r=wC;function i(s){let a=t.get(s);if(a===void 0){if(r!==wC)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new qO;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return nA(e,n).unknown(r)},ms.apply(i,arguments),i}function rA(){var t=nA().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,d=0,f=.5;delete t.unknown;function m(){var p=e().length,y=i<r,v=y?i:r,w=y?r:i;s=(w-v)/Math.max(1,p-l+d*2),o&&(s=Math.floor(s)),v+=(w-v-s*(p-l))*f,a=s*(1-l),o&&(v=Math.round(v),a=Math.round(a));var _=Ale(p).map(function(T){return v+s*T});return n(y?_.reverse():_)}return t.domain=function(p){return arguments.length?(e(p),m()):e()},t.range=function(p){return arguments.length?([r,i]=p,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(p){return[r,i]=p,r=+r,i=+i,o=!0,m()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(p){return arguments.length?(o=!!p,m()):o},t.padding=function(p){return arguments.length?(l=Math.min(1,d=+p),m()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),m()):l},t.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},t.copy=function(){return rA(e(),[r,i]).round(o).paddingInner(l).paddingOuter(d).align(f)},ms.apply(m(),arguments)}function xU(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return xU(e())},t}function Nle(){return xU(rA.apply(null,arguments).paddingInner(1))}function iA(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function bU(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function zp(){}var Qm=.7,E0=1/Qm,nf="\\s*([+-]?\\d+)\\s*",Jm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_a="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ile=/^#([0-9a-f]{3,8})$/,jle=new RegExp(`^rgb\\(${nf},${nf},${nf}\\)$`),kle=new RegExp(`^rgb\\(${_a},${_a},${_a}\\)$`),Rle=new RegExp(`^rgba\\(${nf},${nf},${nf},${Jm}\\)$`),Dle=new RegExp(`^rgba\\(${_a},${_a},${_a},${Jm}\\)$`),Ole=new RegExp(`^hsl\\(${Jm},${_a},${_a}\\)$`),Mle=new RegExp(`^hsla\\(${Jm},${_a},${_a},${Jm}\\)$`),GO={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};iA(zp,Zm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:XO,formatHex:XO,formatHex8:Lle,formatHsl:Vle,formatRgb:YO,toString:YO});function XO(){return this.rgb().formatHex()}function Lle(){return this.rgb().formatHex8()}function Vle(){return wU(this).formatHsl()}function YO(){return this.rgb().formatRgb()}function Zm(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ile.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?QO(e):n===3?new wi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Fy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Fy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=jle.exec(t))?new wi(e[1],e[2],e[3],1):(e=kle.exec(t))?new wi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Rle.exec(t))?Fy(e[1],e[2],e[3],e[4]):(e=Dle.exec(t))?Fy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ole.exec(t))?e5(e[1],e[2]/100,e[3]/100,1):(e=Mle.exec(t))?e5(e[1],e[2]/100,e[3]/100,e[4]):GO.hasOwnProperty(t)?QO(GO[t]):t==="transparent"?new wi(NaN,NaN,NaN,0):null}function QO(t){return new wi(t>>16&255,t>>8&255,t&255,1)}function Fy(t,e,n,r){return r<=0&&(t=e=n=NaN),new wi(t,e,n,r)}function Fle(t){return t instanceof zp||(t=Zm(t)),t?(t=t.rgb(),new wi(t.r,t.g,t.b,t.opacity)):new wi}function _C(t,e,n,r){return arguments.length===1?Fle(t):new wi(t,e,n,r??1)}function wi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}iA(wi,_C,bU(zp,{brighter(t){return t=t==null?E0:Math.pow(E0,t),new wi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qm:Math.pow(Qm,t),new wi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wi(ru(this.r),ru(this.g),ru(this.b),T0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:JO,formatHex:JO,formatHex8:Ble,formatRgb:ZO,toString:ZO}));function JO(){return`#${Gc(this.r)}${Gc(this.g)}${Gc(this.b)}`}function Ble(){return`#${Gc(this.r)}${Gc(this.g)}${Gc(this.b)}${Gc((isNaN(this.opacity)?1:this.opacity)*255)}`}function ZO(){const t=T0(this.opacity);return`${t===1?"rgb(":"rgba("}${ru(this.r)}, ${ru(this.g)}, ${ru(this.b)}${t===1?")":`, ${t})`}`}function T0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ru(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gc(t){return t=ru(t),(t<16?"0":"")+t.toString(16)}function e5(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ms(t,e,n,r)}function wU(t){if(t instanceof Ms)return new Ms(t.h,t.s,t.l,t.opacity);if(t instanceof zp||(t=Zm(t)),!t)return new Ms;if(t instanceof Ms)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Ms(a,o,l,t.opacity)}function zle(t,e,n,r){return arguments.length===1?wU(t):new Ms(t,e,n,r??1)}function Ms(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}iA(Ms,zle,bU(zp,{brighter(t){return t=t==null?E0:Math.pow(E0,t),new Ms(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qm:Math.pow(Qm,t),new Ms(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new wi(k_(t>=240?t-240:t+120,i,r),k_(t,i,r),k_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ms(t5(this.h),By(this.s),By(this.l),T0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=T0(this.opacity);return`${t===1?"hsl(":"hsla("}${t5(this.h)}, ${By(this.s)*100}%, ${By(this.l)*100}%${t===1?")":`, ${t})`}`}}));function t5(t){return t=(t||0)%360,t<0?t+360:t}function By(t){return Math.max(0,Math.min(1,t||0))}function k_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const sA=t=>()=>t;function Ule(t,e){return function(n){return t+n*e}}function $le(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function qle(t){return(t=+t)==1?_U:function(e,n){return n-e?$le(e,n,t):sA(isNaN(e)?n:e)}}function _U(t,e){var n=e-t;return n?Ule(t,n):sA(isNaN(t)?e:t)}const n5=(function t(e){var n=qle(e);function r(i,s){var a=n((i=_C(i)).r,(s=_C(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),d=_U(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=l(f),i.opacity=d(f),i+""}}return r.gamma=t,r})(1);function Wle(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Hle(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Kle(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=qf(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function Gle(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function C0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Xle(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=qf(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var EC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,R_=new RegExp(EC.source,"g");function Yle(t){return function(){return t}}function Qle(t){return function(e){return t(e)+""}}function Jle(t,e){var n=EC.lastIndex=R_.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=EC.exec(t))&&(i=R_.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:C0(r,i)})),n=R_.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Qle(l[0].x):Yle(e):(e=l.length,function(d){for(var f=0,m;f<e;++f)o[(m=l[f]).i]=m.x(d);return o.join("")})}function qf(t,e){var n=typeof e,r;return e==null||n==="boolean"?sA(e):(n==="number"?C0:n==="string"?(r=Zm(e))?(e=r,n5):Jle:e instanceof Zm?n5:e instanceof Date?Gle:Hle(e)?Wle:Array.isArray(e)?Kle:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Xle:C0)(t,e)}function aA(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Zle(t,e){e===void 0&&(e=t,t=qf);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function ece(t){return function(){return t}}function S0(t){return+t}var r5=[0,1];function Qr(t){return t}function TC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:ece(isNaN(e)?NaN:.5)}function tce(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function nce(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=TC(i,r),s=n(a,s)):(r=TC(r,i),s=n(s,a)),function(o){return s(r(o))}}function rce(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=TC(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=Bp(t,o,1,r)-1;return s[l](i[l](o))}}function Up(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rb(){var t=r5,e=r5,n=qf,r,i,s,a=Qr,o,l,d;function f(){var p=Math.min(t.length,e.length);return a!==Qr&&(a=tce(t[0],t[p-1])),o=p>2?rce:nce,l=d=null,m}function m(p){return p==null||isNaN(p=+p)?s:(l||(l=o(t.map(r),e,n)))(r(a(p)))}return m.invert=function(p){return a(i((d||(d=o(e,t.map(r),C0)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,S0),f()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),n=aA,f()},m.clamp=function(p){return arguments.length?(a=p?!0:Qr,f()):a!==Qr},m.interpolate=function(p){return arguments.length?(n=p,f()):n},m.unknown=function(p){return arguments.length?(s=p,m):s},function(p,y){return r=p,i=y,f()}}function oA(){return rb()(Qr,Qr)}function ice(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function P0(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Sf(t){return t=P0(Math.abs(t)),t?t[1]:NaN}function sce(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function ace(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var oce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ep(t){if(!(e=oce.exec(t)))throw new Error("invalid format: "+t);var e;return new lA({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}ep.prototype=lA.prototype;function lA(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lA.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lce(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var A0;function cce(t,e){var n=P0(t,e);if(!n)return A0=void 0,t.toPrecision(e);var r=n[0],i=n[1],s=i-(A0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+P0(t,Math.max(0,e+s-1))[0]}function i5(t,e){var n=P0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const s5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ice,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>i5(t*100,e),r:i5,s:cce,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function a5(t){return t}var o5=Array.prototype.map,l5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function uce(t){var e=t.grouping===void 0||t.thousands===void 0?a5:sce(o5.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?a5:ace(o5.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function d(m,p){m=ep(m);var y=m.fill,v=m.align,w=m.sign,_=m.symbol,T=m.zero,L=m.width,O=m.comma,z=m.precision,j=m.trim,P=m.type;P==="n"?(O=!0,P="g"):s5[P]||(z===void 0&&(z=12),j=!0,P="g"),(T||y==="0"&&v==="=")&&(T=!0,y="0",v="=");var C=(p&&p.prefix!==void 0?p.prefix:"")+(_==="$"?n:_==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():""),S=(_==="$"?r:/[%p]/.test(P)?a:"")+(p&&p.suffix!==void 0?p.suffix:""),k=s5[P],A=/[defgprs%]/.test(P);z=z===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,z)):Math.max(0,Math.min(20,z));function D(M){var I=C,K=S,Y,J,F;if(P==="c")K=k(M)+K,M="";else{M=+M;var G=M<0||1/M<0;if(M=isNaN(M)?l:k(Math.abs(M),z),j&&(M=lce(M)),G&&+M==0&&w!=="+"&&(G=!1),I=(G?w==="("?w:o:w==="-"||w==="("?"":w)+I,K=(P==="s"&&!isNaN(M)&&A0!==void 0?l5[8+A0/3]:"")+K+(G&&w==="("?")":""),A){for(Y=-1,J=M.length;++Y<J;)if(F=M.charCodeAt(Y),48>F||F>57){K=(F===46?i+M.slice(Y+1):M.slice(Y))+K,M=M.slice(0,Y);break}}}O&&!T&&(M=e(M,1/0));var q=I.length+M.length+K.length,R=q<L?new Array(L-q+1).join(y):"";switch(O&&T&&(M=e(R+M,R.length?L-K.length:1/0),R=""),v){case"<":M=I+M+K+R;break;case"=":M=I+R+M+K;break;case"^":M=R.slice(0,q=R.length>>1)+I+M+K+R.slice(q);break;default:M=R+I+M+K;break}return s(M)}return D.toString=function(){return m+""},D}function f(m,p){var y=Math.max(-8,Math.min(8,Math.floor(Sf(p)/3)))*3,v=Math.pow(10,-y),w=d((m=ep(m),m.type="f",m),{suffix:l5[8+y/3]});return function(_){return w(v*_)}}return{format:d,formatPrefix:f}}var zy,cA,EU;dce({thousands:",",grouping:[3],currency:["$",""]});function dce(t){return zy=uce(t),cA=zy.format,EU=zy.formatPrefix,zy}function fce(t){return Math.max(0,-Sf(Math.abs(t)))}function hce(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sf(e)/3)))*3-Sf(Math.abs(t)))}function mce(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Sf(e)-Sf(t))+1}function TU(t,e,n,r){var i=bC(t,e,n),s;switch(r=ep(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=hce(i,a))&&(r.precision=s),EU(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=mce(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=fce(i))&&(r.precision=s-(r.type==="%")*2);break}}return cA(r)}function rc(t){var e=t.domain;return t.ticks=function(n){var r=e();return vC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return TU(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,d,f=10;for(o<a&&(d=a,a=o,o=d,d=i,i=s,s=d);f-- >0;){if(d=xC(a,o,n),d===l)return r[i]=a,r[s]=o,e(r);if(d>0)a=Math.floor(a/d)*d,o=Math.ceil(o/d)*d;else if(d<0)a=Math.ceil(a*d)/d,o=Math.floor(o*d)/d;else break;l=d}return t},t}function CU(){var t=oA();return t.copy=function(){return Up(t,CU())},ms.apply(t,arguments),rc(t)}function SU(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,S0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return SU(t).unknown(e)},t=arguments.length?Array.from(t,S0):[0,1],rc(n)}function PU(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function c5(t){return Math.log(t)}function u5(t){return Math.exp(t)}function pce(t){return-Math.log(-t)}function gce(t){return-Math.exp(-t)}function yce(t){return isFinite(t)?+("1e"+t):t<0?0:t}function vce(t){return t===10?yce:t===Math.E?Math.exp:e=>Math.pow(t,e)}function xce(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function d5(t){return(e,n)=>-t(-e,n)}function uA(t){const e=t(c5,u5),n=e.domain;let r=10,i,s;function a(){return i=xce(r),s=vce(r),n()[0]<0?(i=d5(i),s=d5(s),t(pce,gce)):t(c5,u5),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let d=l[0],f=l[l.length-1];const m=f<d;m&&([d,f]=[f,d]);let p=i(d),y=i(f),v,w;const _=o==null?10:+o;let T=[];if(!(r%1)&&y-p<_){if(p=Math.floor(p),y=Math.ceil(y),d>0){for(;p<=y;++p)for(v=1;v<r;++v)if(w=p<0?v/s(-p):v*s(p),!(w<d)){if(w>f)break;T.push(w)}}else for(;p<=y;++p)for(v=r-1;v>=1;--v)if(w=p>0?v/s(-p):v*s(p),!(w<d)){if(w>f)break;T.push(w)}T.length*2<_&&(T=vC(d,f,_))}else T=vC(p,y,Math.min(y-p,_)).map(s);return m?T.reverse():T},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=ep(l)).precision==null&&(l.trim=!0),l=cA(l)),o===1/0)return l;const d=Math.max(1,r*o/e.ticks().length);return f=>{let m=f/s(Math.round(i(f)));return m*r<r-.5&&(m*=r),m<=d?l(f):""}},e.nice=()=>n(PU(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function AU(){const t=uA(rb()).domain([1,10]);return t.copy=()=>Up(t,AU()).base(t.base()),ms.apply(t,arguments),t}function f5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function h5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function dA(t){var e=1,n=t(f5(e),h5(e));return n.constant=function(r){return arguments.length?t(f5(e=+r),h5(e)):e},rc(n)}function NU(){var t=dA(rb());return t.copy=function(){return Up(t,NU()).constant(t.constant())},ms.apply(t,arguments)}function m5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function bce(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function wce(t){return t<0?-t*t:t*t}function fA(t){var e=t(Qr,Qr),n=1;function r(){return n===1?t(Qr,Qr):n===.5?t(bce,wce):t(m5(n),m5(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},rc(e)}function hA(){var t=fA(rb());return t.copy=function(){return Up(t,hA()).exponent(t.exponent())},ms.apply(t,arguments),t}function _ce(){return hA.apply(null,arguments).exponent(.5)}function p5(t){return Math.sign(t)*t*t}function Ece(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function IU(){var t=oA(),e=[0,1],n=!1,r;function i(s){var a=Ece(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(p5(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,S0)).map(p5)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return IU(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ms.apply(i,arguments),rc(i)}function jU(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=Ple(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Bp(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(kl),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return jU().domain(t).range(e).unknown(r)},ms.apply(s,arguments)}function kU(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Bp(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var d=i.indexOf(l);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return kU().domain([t,e]).range(i).unknown(s)},ms.apply(rc(a),arguments)}function RU(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Bp(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return RU().domain(t).range(e).unknown(n)},ms.apply(i,arguments)}const D_=new Date,O_=new Date;function Zn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let d;do l.push(d=new Date(+s)),e(s,o),t(s);while(d<s&&s<a);return l},i.filter=s=>Zn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(D_.setTime(+s),O_.setTime(+a),t(D_),t(O_),Math.floor(n(D_,O_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const N0=Zn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);N0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Zn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):N0);N0.range;const no=1e3,rs=no*60,ro=rs*60,go=ro*24,mA=go*7,g5=go*30,M_=go*365,Xc=Zn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*no)},(t,e)=>(e-t)/no,t=>t.getUTCSeconds());Xc.range;const pA=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*no)},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getMinutes());pA.range;const gA=Zn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*rs)},(t,e)=>(e-t)/rs,t=>t.getUTCMinutes());gA.range;const yA=Zn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*no-t.getMinutes()*rs)},(t,e)=>{t.setTime(+t+e*ro)},(t,e)=>(e-t)/ro,t=>t.getHours());yA.range;const vA=Zn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ro)},(t,e)=>(e-t)/ro,t=>t.getUTCHours());vA.range;const $p=Zn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*rs)/go,t=>t.getDate()-1);$p.range;const ib=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/go,t=>t.getUTCDate()-1);ib.range;const DU=Zn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/go,t=>Math.floor(t/go));DU.range;function Mu(t){return Zn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*rs)/mA)}const sb=Mu(0),I0=Mu(1),Tce=Mu(2),Cce=Mu(3),Pf=Mu(4),Sce=Mu(5),Pce=Mu(6);sb.range;I0.range;Tce.range;Cce.range;Pf.range;Sce.range;Pce.range;function Lu(t){return Zn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/mA)}const ab=Lu(0),j0=Lu(1),Ace=Lu(2),Nce=Lu(3),Af=Lu(4),Ice=Lu(5),jce=Lu(6);ab.range;j0.range;Ace.range;Nce.range;Af.range;Ice.range;jce.range;const xA=Zn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());xA.range;const bA=Zn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());bA.range;const yo=Zn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());yo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});yo.range;const vo=Zn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());vo.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Zn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});vo.range;function OU(t,e,n,r,i,s){const a=[[Xc,1,no],[Xc,5,5*no],[Xc,15,15*no],[Xc,30,30*no],[s,1,rs],[s,5,5*rs],[s,15,15*rs],[s,30,30*rs],[i,1,ro],[i,3,3*ro],[i,6,6*ro],[i,12,12*ro],[r,1,go],[r,2,2*go],[n,1,mA],[e,1,g5],[e,3,3*g5],[t,1,M_]];function o(d,f,m){const p=f<d;p&&([d,f]=[f,d]);const y=m&&typeof m.range=="function"?m:l(d,f,m),v=y?y.range(d,+f+1):[];return p?v.reverse():v}function l(d,f,m){const p=Math.abs(f-d)/m,y=tA(([,,_])=>_).right(a,p);if(y===a.length)return t.every(bC(d/M_,f/M_,m));if(y===0)return N0.every(Math.max(bC(d,f,m),1));const[v,w]=a[p/a[y-1][2]<a[y][2]/p?y-1:y];return v.every(w)}return[o,l]}const[kce,Rce]=OU(vo,bA,ab,DU,vA,gA),[Dce,Oce]=OU(yo,xA,sb,$p,yA,pA);function L_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function V_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Mce(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,d=Xh(i),f=Yh(i),m=Xh(s),p=Yh(s),y=Xh(a),v=Yh(a),w=Xh(o),_=Yh(o),T=Xh(l),L=Yh(l),O={a:F,A:G,b:q,B:R,c:null,d:_5,e:_5,f:sue,g:pue,G:yue,H:nue,I:rue,j:iue,L:MU,m:aue,M:oue,p:U,q:H,Q:C5,s:S5,S:lue,u:cue,U:uue,V:due,w:fue,W:hue,x:null,X:null,y:mue,Y:gue,Z:vue,"%":T5},z={a:Q,A:Z,b:te,B:ae,c:null,d:E5,e:E5,f:_ue,g:kue,G:Due,H:xue,I:bue,j:wue,L:VU,m:Eue,M:Tue,p:re,q:xe,Q:C5,s:S5,S:Cue,u:Sue,U:Pue,V:Aue,w:Nue,W:Iue,x:null,X:null,y:jue,Y:Rue,Z:Oue,"%":T5},j={a:A,A:D,b:M,B:I,c:K,d:b5,e:b5,f:Jce,g:x5,G:v5,H:w5,I:w5,j:Gce,L:Qce,m:Kce,M:Xce,p:k,q:Hce,Q:eue,s:tue,S:Yce,u:zce,U:Uce,V:$ce,w:Bce,W:qce,x:Y,X:J,y:x5,Y:v5,Z:Wce,"%":Zce};O.x=P(n,O),O.X=P(r,O),O.c=P(e,O),z.x=P(n,z),z.X=P(r,z),z.c=P(e,z);function P(se,he){return function(Te){var me=[],De=-1,Ie=0,Ye=se.length,Je,Qe,bt;for(Te instanceof Date||(Te=new Date(+Te));++De<Ye;)se.charCodeAt(De)===37&&(me.push(se.slice(Ie,De)),(Qe=y5[Je=se.charAt(++De)])!=null?Je=se.charAt(++De):Qe=Je==="e"?" ":"0",(bt=he[Je])&&(Je=bt(Te,Qe)),me.push(Je),Ie=De+1);return me.push(se.slice(Ie,De)),me.join("")}}function C(se,he){return function(Te){var me=Gh(1900,void 0,1),De=S(me,se,Te+="",0),Ie,Ye;if(De!=Te.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(he&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Ie=V_(Gh(me.y,0,1)),Ye=Ie.getUTCDay(),Ie=Ye>4||Ye===0?j0.ceil(Ie):j0(Ie),Ie=ib.offset(Ie,(me.V-1)*7),me.y=Ie.getUTCFullYear(),me.m=Ie.getUTCMonth(),me.d=Ie.getUTCDate()+(me.w+6)%7):(Ie=L_(Gh(me.y,0,1)),Ye=Ie.getDay(),Ie=Ye>4||Ye===0?I0.ceil(Ie):I0(Ie),Ie=$p.offset(Ie,(me.V-1)*7),me.y=Ie.getFullYear(),me.m=Ie.getMonth(),me.d=Ie.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),Ye="Z"in me?V_(Gh(me.y,0,1)).getUTCDay():L_(Gh(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(Ye+5)%7:me.w+me.U*7-(Ye+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,V_(me)):L_(me)}}function S(se,he,Te,me){for(var De=0,Ie=he.length,Ye=Te.length,Je,Qe;De<Ie;){if(me>=Ye)return-1;if(Je=he.charCodeAt(De++),Je===37){if(Je=he.charAt(De++),Qe=j[Je in y5?he.charAt(De++):Je],!Qe||(me=Qe(se,Te,me))<0)return-1}else if(Je!=Te.charCodeAt(me++))return-1}return me}function k(se,he,Te){var me=d.exec(he.slice(Te));return me?(se.p=f.get(me[0].toLowerCase()),Te+me[0].length):-1}function A(se,he,Te){var me=y.exec(he.slice(Te));return me?(se.w=v.get(me[0].toLowerCase()),Te+me[0].length):-1}function D(se,he,Te){var me=m.exec(he.slice(Te));return me?(se.w=p.get(me[0].toLowerCase()),Te+me[0].length):-1}function M(se,he,Te){var me=T.exec(he.slice(Te));return me?(se.m=L.get(me[0].toLowerCase()),Te+me[0].length):-1}function I(se,he,Te){var me=w.exec(he.slice(Te));return me?(se.m=_.get(me[0].toLowerCase()),Te+me[0].length):-1}function K(se,he,Te){return S(se,e,he,Te)}function Y(se,he,Te){return S(se,n,he,Te)}function J(se,he,Te){return S(se,r,he,Te)}function F(se){return a[se.getDay()]}function G(se){return s[se.getDay()]}function q(se){return l[se.getMonth()]}function R(se){return o[se.getMonth()]}function U(se){return i[+(se.getHours()>=12)]}function H(se){return 1+~~(se.getMonth()/3)}function Q(se){return a[se.getUTCDay()]}function Z(se){return s[se.getUTCDay()]}function te(se){return l[se.getUTCMonth()]}function ae(se){return o[se.getUTCMonth()]}function re(se){return i[+(se.getUTCHours()>=12)]}function xe(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var he=P(se+="",O);return he.toString=function(){return se},he},parse:function(se){var he=C(se+="",!1);return he.toString=function(){return se},he},utcFormat:function(se){var he=P(se+="",z);return he.toString=function(){return se},he},utcParse:function(se){var he=C(se+="",!0);return he.toString=function(){return se},he}}}var y5={"-":"",_:" ",0:"0"},hr=/^\s*\d+/,Lce=/^%/,Vce=/[\\^$*+?|[\]().{}]/g;function Lt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Fce(t){return t.replace(Vce,"\\$&")}function Xh(t){return new RegExp("^(?:"+t.map(Fce).join("|")+")","i")}function Yh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Bce(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function zce(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Uce(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function $ce(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function qce(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function v5(t,e,n){var r=hr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function x5(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Wce(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Hce(t,e,n){var r=hr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Kce(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function b5(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Gce(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function w5(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Xce(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Yce(t,e,n){var r=hr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Qce(t,e,n){var r=hr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Jce(t,e,n){var r=hr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Zce(t,e,n){var r=Lce.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function eue(t,e,n){var r=hr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function tue(t,e,n){var r=hr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _5(t,e){return Lt(t.getDate(),e,2)}function nue(t,e){return Lt(t.getHours(),e,2)}function rue(t,e){return Lt(t.getHours()%12||12,e,2)}function iue(t,e){return Lt(1+$p.count(yo(t),t),e,3)}function MU(t,e){return Lt(t.getMilliseconds(),e,3)}function sue(t,e){return MU(t,e)+"000"}function aue(t,e){return Lt(t.getMonth()+1,e,2)}function oue(t,e){return Lt(t.getMinutes(),e,2)}function lue(t,e){return Lt(t.getSeconds(),e,2)}function cue(t){var e=t.getDay();return e===0?7:e}function uue(t,e){return Lt(sb.count(yo(t)-1,t),e,2)}function LU(t){var e=t.getDay();return e>=4||e===0?Pf(t):Pf.ceil(t)}function due(t,e){return t=LU(t),Lt(Pf.count(yo(t),t)+(yo(t).getDay()===4),e,2)}function fue(t){return t.getDay()}function hue(t,e){return Lt(I0.count(yo(t)-1,t),e,2)}function mue(t,e){return Lt(t.getFullYear()%100,e,2)}function pue(t,e){return t=LU(t),Lt(t.getFullYear()%100,e,2)}function gue(t,e){return Lt(t.getFullYear()%1e4,e,4)}function yue(t,e){var n=t.getDay();return t=n>=4||n===0?Pf(t):Pf.ceil(t),Lt(t.getFullYear()%1e4,e,4)}function vue(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Lt(e/60|0,"0",2)+Lt(e%60,"0",2)}function E5(t,e){return Lt(t.getUTCDate(),e,2)}function xue(t,e){return Lt(t.getUTCHours(),e,2)}function bue(t,e){return Lt(t.getUTCHours()%12||12,e,2)}function wue(t,e){return Lt(1+ib.count(vo(t),t),e,3)}function VU(t,e){return Lt(t.getUTCMilliseconds(),e,3)}function _ue(t,e){return VU(t,e)+"000"}function Eue(t,e){return Lt(t.getUTCMonth()+1,e,2)}function Tue(t,e){return Lt(t.getUTCMinutes(),e,2)}function Cue(t,e){return Lt(t.getUTCSeconds(),e,2)}function Sue(t){var e=t.getUTCDay();return e===0?7:e}function Pue(t,e){return Lt(ab.count(vo(t)-1,t),e,2)}function FU(t){var e=t.getUTCDay();return e>=4||e===0?Af(t):Af.ceil(t)}function Aue(t,e){return t=FU(t),Lt(Af.count(vo(t),t)+(vo(t).getUTCDay()===4),e,2)}function Nue(t){return t.getUTCDay()}function Iue(t,e){return Lt(j0.count(vo(t)-1,t),e,2)}function jue(t,e){return Lt(t.getUTCFullYear()%100,e,2)}function kue(t,e){return t=FU(t),Lt(t.getUTCFullYear()%100,e,2)}function Rue(t,e){return Lt(t.getUTCFullYear()%1e4,e,4)}function Due(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Af(t):Af.ceil(t),Lt(t.getUTCFullYear()%1e4,e,4)}function Oue(){return"+0000"}function T5(){return"%"}function C5(t){return+t}function S5(t){return Math.floor(+t/1e3)}var Ad,BU,zU;Mue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mue(t){return Ad=Mce(t),BU=Ad.format,Ad.parse,zU=Ad.utcFormat,Ad.utcParse,Ad}function Lue(t){return new Date(t)}function Vue(t){return t instanceof Date?+t:+new Date(+t)}function wA(t,e,n,r,i,s,a,o,l,d){var f=oA(),m=f.invert,p=f.domain,y=d(".%L"),v=d(":%S"),w=d("%I:%M"),_=d("%I %p"),T=d("%a %d"),L=d("%b %d"),O=d("%B"),z=d("%Y");function j(P){return(l(P)<P?y:o(P)<P?v:a(P)<P?w:s(P)<P?_:r(P)<P?i(P)<P?T:L:n(P)<P?O:z)(P)}return f.invert=function(P){return new Date(m(P))},f.domain=function(P){return arguments.length?p(Array.from(P,Vue)):p().map(Lue)},f.ticks=function(P){var C=p();return t(C[0],C[C.length-1],P??10)},f.tickFormat=function(P,C){return C==null?j:d(C)},f.nice=function(P){var C=p();return(!P||typeof P.range!="function")&&(P=e(C[0],C[C.length-1],P??10)),P?p(PU(C,P)):f},f.copy=function(){return Up(f,wA(t,e,n,r,i,s,a,o,l,d))},f}function Fue(){return ms.apply(wA(Dce,Oce,yo,xA,sb,$p,yA,pA,Xc,BU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Bue(){return ms.apply(wA(kce,Rce,vo,bA,ab,ib,vA,gA,Xc,zU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ob(){var t=0,e=1,n,r,i,s,a=Qr,o=!1,l;function d(m){return m==null||isNaN(m=+m)?l:a(i===0?.5:(m=(s(m)-n)*i,o?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(o=!!m,d):o},d.interpolator=function(m){return arguments.length?(a=m,d):a};function f(m){return function(p){var y,v;return arguments.length?([y,v]=p,a=m(y,v),d):[a(0),a(1)]}}return d.range=f(qf),d.rangeRound=f(aA),d.unknown=function(m){return arguments.length?(l=m,d):l},function(m){return s=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function ic(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UU(){var t=rc(ob()(Qr));return t.copy=function(){return ic(t,UU())},Io.apply(t,arguments)}function $U(){var t=uA(ob()).domain([1,10]);return t.copy=function(){return ic(t,$U()).base(t.base())},Io.apply(t,arguments)}function qU(){var t=dA(ob());return t.copy=function(){return ic(t,qU()).constant(t.constant())},Io.apply(t,arguments)}function _A(){var t=fA(ob());return t.copy=function(){return ic(t,_A()).exponent(t.exponent())},Io.apply(t,arguments)}function zue(){return _A.apply(null,arguments).exponent(.5)}function WU(){var t=[],e=Qr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Bp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(kl),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Sle(t,s/r))},n.copy=function(){return WU(e).domain(t)},Io.apply(n,arguments)}function lb(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,d=Qr,f,m=!1,p;function y(w){return isNaN(w=+w)?p:(w=.5+((w=+f(w))-s)*(r*w<r*s?o:l),d(m?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([t,e,n]=w,i=f(t=+t),s=f(e=+e),a=f(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,y):[t,e,n]},y.clamp=function(w){return arguments.length?(m=!!w,y):m},y.interpolator=function(w){return arguments.length?(d=w,y):d};function v(w){return function(_){var T,L,O;return arguments.length?([T,L,O]=_,d=Zle(w,[T,L,O]),y):[d(0),d(.5),d(1)]}}return y.range=v(qf),y.rangeRound=v(aA),y.unknown=function(w){return arguments.length?(p=w,y):p},function(w){return f=w,i=w(t),s=w(e),a=w(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,y}}function HU(){var t=rc(lb()(Qr));return t.copy=function(){return ic(t,HU())},Io.apply(t,arguments)}function KU(){var t=uA(lb()).domain([.1,1,10]);return t.copy=function(){return ic(t,KU()).base(t.base())},Io.apply(t,arguments)}function GU(){var t=dA(lb());return t.copy=function(){return ic(t,GU()).constant(t.constant())},Io.apply(t,arguments)}function EA(){var t=fA(lb());return t.copy=function(){return ic(t,EA()).exponent(t.exponent())},Io.apply(t,arguments)}function Uue(){return EA.apply(null,arguments).exponent(.5)}const dm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rA,scaleDiverging:HU,scaleDivergingLog:KU,scaleDivergingPow:EA,scaleDivergingSqrt:Uue,scaleDivergingSymlog:GU,scaleIdentity:SU,scaleImplicit:wC,scaleLinear:CU,scaleLog:AU,scaleOrdinal:nA,scalePoint:Nle,scalePow:hA,scaleQuantile:jU,scaleQuantize:kU,scaleRadial:IU,scaleSequential:UU,scaleSequentialLog:$U,scaleSequentialPow:_A,scaleSequentialQuantile:WU,scaleSequentialSqrt:zue,scaleSequentialSymlog:qU,scaleSqrt:_ce,scaleSymlog:NU,scaleThreshold:RU,scaleTime:Fue,scaleUtc:Bue,tickFormat:TU},Symbol.toStringTag,{value:"Module"}));var jo=t=>t.chartData,XU=ye([jo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),TA=(t,e,n,r)=>r?XU(t):jo(t),$ue=(t,e,n)=>n?XU(t):jo(t);function xo(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Mt(e)&&Mt(n))return!0}return!1}function P5(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function YU(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Mt(n))i=n;else if(typeof n=="function")return;if(Mt(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(xo(a))return a}}function que(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(xo(r))return P5(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Ze(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e?.[0]))}catch{}else if(typeof i=="string"&&VD.test(i)){var l=VD.exec(i);if(l==null||l[1]==null||e==null)a=void 0;else{var d=+l[1];a=e[0]-d}}else a=e?.[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(Ze(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e?.[1]))}catch{}else if(typeof s=="string"&&FD.test(s)){var f=FD.exec(s);if(f==null||f[1]==null||e==null)o=void 0;else{var m=+f[1];o=e[1]+m}}else o=e?.[1];var p=[a,o];if(xo(p))return e==null?p:P5(p,e,n)}}}var Wf=1e9,Wue={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},SA,pn=!0,fs="[DecimalError] ",iu=fs+"Invalid argument: ",CA=fs+"Exponent out of range: ",Hf=Math.floor,Lc=Math.pow,Hue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Oi,or=1e7,on=7,QU=9007199254740991,k0=Hf(QU/on),Be={};Be.absoluteValue=Be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Be.comparedTo=Be.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Be.decimalPlaces=Be.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*on;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Be.dividedBy=Be.div=function(t){return so(this,new this.constructor(t))};Be.dividedToIntegerBy=Be.idiv=function(t){var e=this,n=e.constructor;return Yt(so(e,new n(t),0,1),n.precision)};Be.equals=Be.eq=function(t){return!this.cmp(t)};Be.exponent=function(){return Un(this)};Be.greaterThan=Be.gt=function(t){return this.cmp(t)>0};Be.greaterThanOrEqualTo=Be.gte=function(t){return this.cmp(t)>=0};Be.isInteger=Be.isint=function(){return this.e>this.d.length-2};Be.isNegative=Be.isneg=function(){return this.s<0};Be.isPositive=Be.ispos=function(){return this.s>0};Be.isZero=function(){return this.s===0};Be.lessThan=Be.lt=function(t){return this.cmp(t)<0};Be.lessThanOrEqualTo=Be.lte=function(t){return this.cmp(t)<1};Be.logarithm=Be.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Oi))throw Error(fs+"NaN");if(n.s<1)throw Error(fs+(n.s?"NaN":"-Infinity"));return n.eq(Oi)?new r(0):(pn=!1,e=so(tp(n,s),tp(t,s),s),pn=!0,Yt(e,i))};Be.minus=Be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?e$(e,t):JU(e,(t.s=-t.s,t))};Be.modulo=Be.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(fs+"NaN");return n.s?(pn=!1,e=so(n,t,0,1).times(t),pn=!0,n.minus(e)):Yt(new r(n),i)};Be.naturalExponential=Be.exp=function(){return ZU(this)};Be.naturalLogarithm=Be.ln=function(){return tp(this)};Be.negated=Be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Be.plus=Be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?JU(e,t):e$(e,(t.s=-t.s,t))};Be.precision=Be.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(iu+t);if(e=Un(i)+1,r=i.d.length-1,n=r*on+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Be.squareRoot=Be.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(fs+"NaN")}for(t=Un(o),pn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=va(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Hf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(so(o,s,a+2)).times(.5),va(s.d).slice(0,a)===(e=va(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Yt(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return pn=!0,Yt(r,n)};Be.times=Be.mul=function(t){var e,n,r,i,s,a,o,l,d,f=this,m=f.constructor,p=f.d,y=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,n=f.e+t.e,l=p.length,d=y.length,l<d&&(s=p,p=y,y=s,a=l,l=d,d=a),s=[],a=l+d,r=a;r--;)s.push(0);for(r=d;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+y[r]*p[i-r-1]+e,s[i--]=o%or|0,e=o/or|0;s[i]=(s[i]+e)%or|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,pn?Yt(t,m.precision):t};Be.toDecimalPlaces=Be.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Aa(t,0,Wf),e===void 0?e=r.rounding:Aa(e,0,8),Yt(n,t+Un(n)+1,e))};Be.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Cu(r,!0):(Aa(t,0,Wf),e===void 0?e=i.rounding:Aa(e,0,8),r=Yt(new i(r),t+1,e),n=Cu(r,!0,t+1)),n};Be.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Cu(i):(Aa(t,0,Wf),e===void 0?e=s.rounding:Aa(e,0,8),r=Yt(new s(i),t+Un(i)+1,e),n=Cu(r.abs(),!1,t+Un(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Be.toInteger=Be.toint=function(){var t=this,e=t.constructor;return Yt(new e(t),Un(t)+1,e.rounding)};Be.toNumber=function(){return+this};Be.toPower=Be.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,d=12,f=+(t=new l(t));if(!t.s)return new l(Oi);if(o=new l(o),!o.s){if(t.s<1)throw Error(fs+"Infinity");return o}if(o.eq(Oi))return o;if(r=l.precision,t.eq(Oi))return Yt(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=f<0?-f:f)<=QU){for(i=new l(Oi),e=Math.ceil(r/on+4),pn=!1;n%2&&(i=i.times(o),N5(i.d,e)),n=Hf(n/2),n!==0;)o=o.times(o),N5(o.d,e);return pn=!0,t.s<0?new l(Oi).div(i):Yt(i,r)}}else if(s<0)throw Error(fs+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,pn=!1,i=t.times(tp(o,r+d)),pn=!0,i=ZU(i),i.s=s,i};Be.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Un(i),r=Cu(i,n<=s.toExpNeg||n>=s.toExpPos)):(Aa(t,1,Wf),e===void 0?e=s.rounding:Aa(e,0,8),i=Yt(new s(i),t,e),n=Un(i),r=Cu(i,t<=n||n<=s.toExpNeg,t)),r};Be.toSignificantDigits=Be.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Aa(t,1,Wf),e===void 0?e=r.rounding:Aa(e,0,8)),Yt(new r(n),t,e)};Be.toString=Be.valueOf=Be.val=Be.toJSON=Be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Un(t),n=t.constructor;return Cu(t,e<=n.toExpNeg||e>=n.toExpPos)};function JU(t,e){var n,r,i,s,a,o,l,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),pn?Yt(e,m):e;if(l=t.d,d=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=d.length):(r=d,i=a,o=l.length),a=Math.ceil(m/on),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=d.length,o-s<0&&(s=o,r=d,d=l,l=r),n=0;s;)n=(l[--s]=l[s]+d[s]+n)/or|0,l[s]%=or;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,pn?Yt(e,m):e}function Aa(t,e,n){if(t!==~~t||t<e||t>n)throw Error(iu+t)}function va(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=on-r.length,n&&(s+=ml(n)),s+=r;a=t[e],r=a+"",n=on-r.length,n&&(s+=ml(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var so=(function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%or|0,a=s/or|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*or+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,d,f,m,p,y,v,w,_,T,L,O,z,j,P,C,S,k=r.constructor,A=r.s==i.s?1:-1,D=r.d,M=i.d;if(!r.s)return new k(r);if(!i.s)throw Error(fs+"Division by zero");for(l=r.e-i.e,C=M.length,j=D.length,y=new k(A),v=y.d=[],d=0;M[d]==(D[d]||0);)++d;if(M[d]>(D[d]||0)&&--l,s==null?L=s=k.precision:a?L=s+(Un(r)-Un(i))+1:L=s,L<0)return new k(0);if(L=L/on+2|0,d=0,C==1)for(f=0,M=M[0],L++;(d<j||f)&&L--;d++)O=f*or+(D[d]||0),v[d]=O/M|0,f=O%M|0;else{for(f=or/(M[0]+1)|0,f>1&&(M=t(M,f),D=t(D,f),C=M.length,j=D.length),z=C,w=D.slice(0,C),_=w.length;_<C;)w[_++]=0;S=M.slice(),S.unshift(0),P=M[0],M[1]>=or/2&&++P;do f=0,o=e(M,w,C,_),o<0?(T=w[0],C!=_&&(T=T*or+(w[1]||0)),f=T/P|0,f>1?(f>=or&&(f=or-1),m=t(M,f),p=m.length,_=w.length,o=e(m,w,p,_),o==1&&(f--,n(m,C<p?S:M,p))):(f==0&&(o=f=1),m=M.slice()),p=m.length,p<_&&m.unshift(0),n(w,m,_),o==-1&&(_=w.length,o=e(M,w,C,_),o<1&&(f++,n(w,C<_?S:M,_))),_=w.length):o===0&&(f++,w=[0]),v[d++]=f,o&&w[0]?w[_++]=D[z]||0:(w=[D[z]],_=1);while((z++<j||w[0]!==void 0)&&L--)}return v[0]||v.shift(),y.e=l,Yt(y,a?s+Un(y)+1:s)}})();function ZU(t,e){var n,r,i,s,a,o,l=0,d=0,f=t.constructor,m=f.precision;if(Un(t)>16)throw Error(CA+Un(t));if(!t.s)return new f(Oi);for(pn=!1,o=m,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),d+=5;for(r=Math.log(Lc(2,d))/Math.LN10*2+5|0,o+=r,n=i=s=new f(Oi),f.precision=o;;){if(i=Yt(i.times(t),o),n=n.times(++l),a=s.plus(so(i,n,o)),va(a.d).slice(0,o)===va(s.d).slice(0,o)){for(;d--;)s=Yt(s.times(s),o);return f.precision=m,e==null?(pn=!0,Yt(s,m)):s}s=a}}function Un(t){for(var e=t.e*on,n=t.d[0];n>=10;n/=10)e++;return e}function F_(t,e,n){if(e>t.LN10.sd())throw pn=!0,n&&(t.precision=n),Error(fs+"LN10 precision limit exceeded");return Yt(new t(t.LN10),e)}function ml(t){for(var e="";t--;)e+="0";return e}function tp(t,e){var n,r,i,s,a,o,l,d,f,m=1,p=10,y=t,v=y.d,w=y.constructor,_=w.precision;if(y.s<1)throw Error(fs+(y.s?"NaN":"-Infinity"));if(y.eq(Oi))return new w(0);if(e==null?(pn=!1,d=_):d=e,y.eq(10))return e==null&&(pn=!0),F_(w,d);if(d+=p,w.precision=d,n=va(v),r=n.charAt(0),s=Un(y),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(t),n=va(y.d),r=n.charAt(0),m++;s=Un(y),r>1?(y=new w("0."+n),s++):y=new w(r+"."+n.slice(1))}else return l=F_(w,d+2,_).times(s+""),y=tp(new w(r+"."+n.slice(1)),d-p).plus(l),w.precision=_,e==null?(pn=!0,Yt(y,_)):y;for(o=a=y=so(y.minus(Oi),y.plus(Oi),d),f=Yt(y.times(y),d),i=3;;){if(a=Yt(a.times(f),d),l=o.plus(so(a,new w(i),d)),va(l.d).slice(0,d)===va(o.d).slice(0,d))return o=o.times(2),s!==0&&(o=o.plus(F_(w,d+2,_).times(s+""))),o=so(o,new w(m),d),w.precision=_,e==null?(pn=!0,Yt(o,_)):o;o=l,i+=2}}function A5(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Hf(n/on),t.d=[],r=(n+1)%on,n<0&&(r+=on),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=on;r<i;)t.d.push(+e.slice(r,r+=on));e=e.slice(r),r=on-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),pn&&(t.e>k0||t.e<-k0))throw Error(CA+n)}else t.s=0,t.e=0,t.d=[0];return t}function Yt(t,e,n){var r,i,s,a,o,l,d,f,m=t.d;for(a=1,s=m[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=on,i=e,d=m[f=0];else{if(f=Math.ceil((r+1)/on),s=m.length,f>=s)return t;for(d=s=m[f],a=1;s>=10;s/=10)a++;r%=on,i=r-on+a}if(n!==void 0&&(s=Lc(10,a-i-1),o=d/s%10|0,l=e<0||m[f+1]!==void 0||d%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?d/Lc(10,a-i):0:m[f-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return l?(s=Un(t),m.length=1,e=e-s-1,m[0]=Lc(10,(on-e%on)%on),t.e=Hf(-e/on)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=f,s=1,f--):(m.length=f+1,s=Lc(10,on-r),m[f]=i>0?(d/Lc(10,a-i)%Lc(10,i)|0)*s:0),l)for(;;)if(f==0){(m[0]+=s)==or&&(m[0]=1,++t.e);break}else{if(m[f]+=s,m[f]!=or)break;m[f--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(pn&&(t.e>k0||t.e<-k0))throw Error(CA+Un(t));return t}function e$(t,e){var n,r,i,s,a,o,l,d,f,m,p=t.constructor,y=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),pn?Yt(e,y):e;if(l=t.d,m=e.d,r=e.e,d=t.e,l=l.slice(),a=d-r,a){for(f=a<0,f?(n=l,a=-a,o=m.length):(n=m,r=d,o=l.length),i=Math.max(Math.ceil(y/on),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=m.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(l[i]!=m[i]){f=l[i]<m[i];break}a=0}for(f&&(n=l,l=m,m=n,e.s=-e.s),o=l.length,i=m.length-o;i>0;--i)l[o++]=0;for(i=m.length;i>a;){if(l[--i]<m[i]){for(s=i;s&&l[--s]===0;)l[s]=or-1;--l[s],l[i]+=or}l[i]-=m[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,pn?Yt(e,y):e):new p(0)}function Cu(t,e,n){var r,i=Un(t),s=va(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+ml(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ml(-i-1)+s,n&&(r=n-a)>0&&(s+=ml(r))):i>=a?(s+=ml(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+ml(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=ml(r))),t.s<0?"-"+s:s}function N5(t,e){if(t.length>e)return t.length=e,!0}function t$(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(iu+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return A5(a,s.toString())}else if(typeof s!="string")throw Error(iu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Hue.test(s))A5(a,s);else throw Error(iu+s)}if(i.prototype=Be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=t$,i.config=i.set=Kue,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Kue(t){if(!t||typeof t!="object")throw Error(fs+"Object expected");var e,n,r,i=["precision",1,Wf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Hf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(iu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(iu+n+": "+r);return this}var SA=t$(Wue);Oi=new SA(1);const Wt=SA;function n$(t){var e;return t===0?e=1:e=Math.floor(new Wt(t).abs().log(10).toNumber())+1,e}function r$(t,e,n){for(var r=new Wt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var i$=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},s$=(t,e,n)=>{if(t.lte(0))return new Wt(0);var r=n$(t.toNumber()),i=new Wt(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Wt(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?new Wt(l.toNumber()):new Wt(Math.ceil(l.toNumber()))},Gue=(t,e,n)=>{var r=new Wt(1),i=new Wt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Wt(10).pow(n$(t)-1),i=new Wt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Wt(Math.floor(t)))}else t===0?i=new Wt(Math.floor((e-1)/2)):n||(i=new Wt(Math.floor(t)));for(var a=Math.floor((e-1)/2),o=[],l=0;l<e;l++)o.push(i.add(new Wt(l-a).mul(r)).toNumber());return o},a$=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Wt(0),tickMin:new Wt(0),tickMax:new Wt(0)};var a=s$(new Wt(n).sub(e).div(r-1),i,s),o;e<=0&&n>=0?o=new Wt(0):(o=new Wt(e).add(n).div(2),o=o.sub(new Wt(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),d=Math.ceil(new Wt(n).sub(o).div(a).toNumber()),f=l+d+1;return f>r?a$(e,n,r,i,s+1):(f<r&&(d=n>0?d+(r-f):d,l=n>0?l:l+(r-f)),{step:a,tickMin:o.sub(new Wt(l).mul(a)),tickMax:o.add(new Wt(d).mul(a))})},Xue=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=i$([n,r]);if(o===-1/0||l===1/0){var d=l===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),l];return n>r?d.reverse():d}if(o===l)return Gue(o,i,s);var{step:f,tickMin:m,tickMax:p}=a$(o,l,a,s,0),y=r$(m,p.add(new Wt(.1).mul(f)),f);return n>r?y.reverse():y},Yue=function(e,n){var[r,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=i$([r,i]);if(a===-1/0||o===1/0)return[r,i];if(a===o)return[a];var l=Math.max(n,2),d=s$(new Wt(o).sub(a).div(l-1),s,0),f=[...r$(new Wt(a),new Wt(o),d),o];return s===!1&&(f=f.map(m=>Math.round(m))),r>i?f.reverse():f},Que=t=>t.rootProps.barCategoryGap,cb=t=>t.rootProps.stackOffset,o$=t=>t.rootProps.reverseStackOrder,PA=t=>t.options.chartName,AA=t=>t.rootProps.syncId,l$=t=>t.rootProps.syncMethod,NA=t=>t.options.eventEmitter,Jue=t=>t.rootProps.baseValue,Jr={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ic={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},aa={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},ub=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function IA(t,e,n){if(n!=="auto")return n;if(t!=null)return Xs(t,e)?"category":"number"}function I5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(n),!0).forEach(function(r){Zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zue(t,e,n){return(e=ede(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ede(t){var e=tde(t,"string");return typeof e=="symbol"?e:e+""}function tde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j5={allowDataOverflow:Ic.allowDataOverflow,allowDecimals:Ic.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ic.angleAxisId,includeHidden:!1,name:void 0,reversed:Ic.reversed,scale:Ic.scale,tick:Ic.tick,tickCount:void 0,ticks:void 0,type:Ic.type,unit:void 0},k5={allowDataOverflow:aa.allowDataOverflow,allowDecimals:aa.allowDecimals,allowDuplicatedCategory:aa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:aa.radiusAxisId,includeHidden:aa.includeHidden,name:void 0,reversed:aa.reversed,scale:aa.scale,tick:aa.tick,tickCount:aa.tickCount,ticks:void 0,type:aa.type,unit:void 0},nde=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},jA=ye([nde,J6],(t,e)=>{var n;if(t!=null)return t;var r=(n=IA(e,"angleAxis",j5.type))!==null&&n!==void 0?n:"category";return R0(R0({},j5),{},{type:r})}),rde=(t,e)=>t.polarAxis.radiusAxis[e],kA=ye([rde,J6],(t,e)=>{var n;if(t!=null)return t;var r=(n=IA(e,"radiusAxis",k5.type))!==null&&n!==void 0?n:"category";return R0(R0({},k5),{},{type:r})}),db=t=>t.polarOptions,RA=ye([Ao,No,Nr],ele),c$=ye([db,RA],(t,e)=>{if(t!=null)return Hl(t.innerRadius,e,0)}),u$=ye([db,RA],(t,e)=>{if(t!=null)return Hl(t.outerRadius,e,e*.8)}),ide=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},d$=ye([db],ide);ye([jA,d$],ub);var f$=ye([RA,c$,u$],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ye([kA,f$],ub);var h$=ye([rn,db,c$,u$,Ao,No],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:d}=e;return{cx:Hl(a,i,i/2),cy:Hl(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:d,clockWise:!1}}}),mr=(t,e)=>e,fb=(t,e,n)=>n;function DA(t){return t?.id}function m$(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=n,a=new Map;return t.forEach(o=>{var l,d=(l=o.data)!==null&&l!==void 0?l:r;if(!(d==null||d.length===0)){var f=DA(o);d.forEach((m,p)=>{var y=s==null||i?p:String(Yn(m,s,null)),v=Yn(m,o.dataKey,0),w;a.has(y)?w=a.get(y):w={},Object.assign(w,{[f]:v}),a.set(y,w)})}}),Array.from(a.values())}function OA(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var hb=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function mb(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function sde(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var pr=t=>{var e=rn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Kf=t=>t.tooltip.settings.axisId;function ade(t){if(t in dm)return dm[t]();var e="scale".concat(Rp(t));if(e in dm)return dm[e]()}function R5(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(s){function a(){return s.apply(this,arguments)}return a.toString=function(){return s.toString()},a})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(s){var a=i[0],o=i[1];return a<=o?s>=a&&s<=o:s>=o&&s<=a},bandwidth:n?()=>n.call(t):void 0,ticks:e?s=>e.call(t,s):void 0,map:(s,a)=>{var o=t(s);if(o!=null){if(t.bandwidth&&a!==null&&a!==void 0&&a.position){var l=t.bandwidth();switch(a.position){case"middle":o+=l/2;break;case"end":o+=l;break}}return o}}}}function D5(t,e,n){if(typeof t=="function")return R5(t.copy().domain(e).range(n));if(t!=null){var r=ade(t);if(r!=null)return r.domain(e).range(n),R5(r)}}var ode=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!xo(e)){for(var n,r,i=0;i<e.length;i++){var s=e[i];Mt(s)&&((n===void 0||s<n)&&(n=s),(r===void 0||s>r)&&(r=s))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function O5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O5(Object(n),!0).forEach(function(r){lde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lde(t,e,n){return(e=cde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cde(t){var e=ude(t,"string");return typeof e=="symbol"?e:e+""}function ude(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CC=[0,"auto"],p$={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},dde=(t,e)=>t.cartesianAxis.xAxis[e],ko=(t,e)=>{var n=dde(t,e);return n??p$},sr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:CC,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Mp},g$=(t,e)=>t.cartesianAxis.yAxis[e],Ro=(t,e)=>{var n=g$(t,e);return n??sr},fde={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},MA=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??fde},ri=(t,e,n)=>{switch(e){case"xAxis":return ko(t,n);case"yAxis":return Ro(t,n);case"zAxis":return MA(t,n);case"angleAxis":return jA(t,n);case"radiusAxis":return kA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},hde=(t,e,n)=>{switch(e){case"xAxis":return ko(t,n);case"yAxis":return Ro(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},qp=(t,e,n)=>{switch(e){case"xAxis":return ko(t,n);case"yAxis":return Ro(t,n);case"angleAxis":return jA(t,n);case"radiusAxis":return kA(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},y$=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function v$(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var LA=t=>t.graphicalItems.cartesianItems,mde=ye([mr,fb],v$),x$=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Wp=ye([LA,ri,mde],x$,{memoizeOptions:{resultEqualityCheck:mb}}),b$=ye([Wp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(OA)),w$=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),pde=ye([Wp],w$),_$=t=>t.map(e=>e.data).filter(Boolean).flat(1),gde=ye([Wp],_$,{memoizeOptions:{resultEqualityCheck:mb}}),E$=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},VA=ye([gde,TA],E$),T$=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:Yn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:Yn(i,r)}))):t.map(r=>({value:r})),pb=ye([VA,ri,Wp],T$);function C$(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function gv(t){if(Pa(t)||t instanceof Date){var e=Number(t);if(Mt(e))return e}}function M5(t){if(Array.isArray(t)){var e=[gv(t[0]),gv(t[1])];return xo(e)?e:void 0}var n=gv(t);if(n!=null)return[n,n]}function bo(t){return t.map(gv).filter(ga)}function yde(t,e,n){return!n||typeof e!="number"||Sa(e)?[]:n.length?bo(n.flatMap(r=>{var i=Yn(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Mt(s)||!Mt(a)))return[e-s,e+a]})):[]}var er=t=>{var e=pr(t),n=Kf(t);return qp(t,e,n)},Hp=ye([er],t=>t?.dataKey),vde=ye([b$,TA,er],m$),S$=(t,e,n,r)=>{var i={},s=e.reduce((a,o)=>{if(o.stackId==null)return a;var l=a[o.stackId];return l==null&&(l=[]),l.push(o),a[o.stackId]=l,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,d=r?[...l].reverse():l,f=d.map(DA);return[o,{stackedData:Use(t,f,n),graphicalItems:d}]}))},P$=ye([vde,b$,cb,o$],S$),A$=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(r==null&&n!=="zAxis"){var a=Hse(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},xde=ye([ri],t=>t.allowDataOverflow),FA=t=>{var e;if(t==null||!("domain"in t))return CC;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=bo(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:CC},N$=ye([ri],FA),I$=ye([N$,xde],YU),bde=ye([P$,jo,mr,I$],A$,{memoizeOptions:{resultEqualityCheck:hb}}),BA=t=>t.errorBars,wde=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>C$(n,r)),O0=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},j$=(t,e,n,r,i)=>{var s,a;if(n.length>0&&t.forEach(o=>{n.forEach(l=>{var d,f,m=(d=r[l.id])===null||d===void 0?void 0:d.filter(T=>C$(i,T)),p=Yn(o,(f=e.dataKey)!==null&&f!==void 0?f:l.dataKey),y=yde(o,p,m);if(y.length>=2){var v=Math.min(...y),w=Math.max(...y);(s==null||v<s)&&(s=v),(a==null||w>a)&&(a=w)}var _=M5(p);_!=null&&(s=s==null?_[0]:Math.min(s,_[0]),a=a==null?_[1]:Math.max(a,_[1]))})}),e?.dataKey!=null&&t.forEach(o=>{var l=M5(Yn(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),Mt(s)&&Mt(a))return[s,a]},_de=ye([VA,ri,pde,BA,mr],j$,{memoizeOptions:{resultEqualityCheck:hb}});function Ede(t){var{value:e}=t;if(Pa(e)||e instanceof Date)return e}var Tde=(t,e,n)=>{var r=t.map(Ede).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Zz(r))?pU(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},k$=t=>t.referenceElements.dots,Gf=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),Cde=ye([k$,mr,fb],Gf),R$=t=>t.referenceElements.areas,Sde=ye([R$,mr,fb],Gf),D$=t=>t.referenceElements.lines,Pde=ye([D$,mr,fb],Gf),O$=(t,e)=>{if(t!=null){var n=bo(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Ade=ye(Cde,mr,O$),M$=(t,e)=>{if(t!=null){var n=bo(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},Nde=ye([Sde,mr],M$);function Ide(t){var e;if(t.x!=null)return bo([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:bo(n)}function jde(t){var e;if(t.y!=null)return bo([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:bo(n)}var L$=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?Ide(r):jde(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},kde=ye([Pde,mr],L$),Rde=ye(Ade,kde,Nde,(t,e,n)=>O0(t,n,e)),V$=(t,e,n,r,i,s,a,o)=>{if(n!=null)return n;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",d=l?O0(r,s,i):O0(s,i);return que(e,d,t.allowDataOverflow)},Dde=ye([ri,N$,I$,bde,_de,Rde,rn,mr],V$,{memoizeOptions:{resultEqualityCheck:hb}}),Ode=[0,1],F$=(t,e,n,r,i,s,a)=>{if(!((t==null||n==null||n.length===0)&&a===void 0)){var{dataKey:o,type:l}=t,d=Xs(e,s);if(d&&o==null){var f;return pU(0,(f=n?.length)!==null&&f!==void 0?f:0)}return l==="category"?Tde(r,t,d):i==="expand"?Ode:a}},zA=ye([ri,rn,VA,pb,cb,mr,Dde],F$);function Mde(t){return t in dm}var B$=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var s="scale".concat(Rp(r));return Mde(s)?s:"point"}}},Xf=ye([ri,y$,PA],B$);function UA(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?D5(t.scale,n,r):D5(e,n,r)}var z$=(t,e,n)=>{var r=FA(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&xo(t))return Xue(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&xo(t))return Yue(t,e.tickCount,e.allowDecimals)}},$A=ye([zA,qp,Xf],z$),U$=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&xo(e)&&Array.isArray(n)&&n.length>0){var i,s,a=e[0],o=(i=n[0])!==null&&i!==void 0?i:0,l=e[1],d=(s=n[n.length-1])!==null&&s!==void 0?s:0;return[Math.min(a,o),Math.max(l,d)]}return e},Lde=ye([ri,zA,$A,mr],U$),Vde=ye(pb,ri,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(bo(t.map(m=>m.value))).sort((m,p)=>m-p),i=r[0],s=r[r.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],d=r[o+1];if(!(l==null||d==null)){var f=d-l;n=Math.min(n,f)}}return n/a}}),$$=ye(Vde,rn,Que,Nr,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Mt(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=Hl(n,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),Fde=(t,e,n)=>{var r=ko(t,e);return r==null||typeof r.padding!="string"?0:$$(t,"xAxis",e,n,r.padding)},Bde=(t,e,n)=>{var r=Ro(t,e);return r==null||typeof r.padding!="string"?0:$$(t,"yAxis",e,n,r.padding)},zde=ye(ko,Fde,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),Ude=ye(Ro,Bde,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),$de=ye([Nr,zde,Yx,Xx,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),qde=ye([Nr,rn,Ude,Yx,Xx,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Kp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return $de(t,n,r);case"yAxis":return qde(t,n,r);case"zAxis":return(i=MA(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return d$(t);case"radiusAxis":return f$(t,n);default:return}},q$=ye([ri,Kp],ub),Wde=ye([Xf,Lde],ode),gb=ye([ri,Xf,Wde,q$],UA);ye([Wp,BA,mr],wde);function W$(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var yb=(t,e)=>e,vb=(t,e,n)=>n,Hde=ye(Kx,yb,vb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(W$)),Kde=ye(Gx,yb,vb,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(W$)),H$=(t,e)=>({width:t.width,height:e.height}),Gde=(t,e)=>{var n=typeof e.width=="number"?e.width:Mp;return{width:n,height:t.height}};ye(Nr,ko,H$);var Xde=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Yde=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Qde=ye(No,Nr,Hde,yb,vb,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=H$(e,o);a==null&&(a=Xde(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(d)*l.height,a+=(d?-1:1)*l.height}),s}),Jde=ye(Ao,Nr,Kde,yb,vb,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=Gde(e,o);a==null&&(a=Yde(e,r,t));var d=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(d)*l.width,a+=(d?-1:1)*l.width}),s}),Zde=(t,e)=>{var n=ko(t,e);if(n!=null)return Qde(t,n.orientation,n.mirror)};ye([Nr,ko,Zde,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}});var efe=(t,e)=>{var n=Ro(t,e);if(n!=null)return Jde(t,n.orientation,n.mirror)},tfe=ye([Nr,Ro,efe,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),nfe=ye(Nr,Ro,(t,e)=>{var n=typeof e.width=="number"?e.width:Mp;return{width:n,height:t.height}}),K$=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,o=Xs(t,r),l=e.map(d=>d.value);if(a&&o&&s==="category"&&i&&Zz(l))return l}},qA=ye([rn,pb,ri,mr],K$),G$=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Xs(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},WA=ye([rn,pb,qp,mr],G$);ye([rn,hde,Xf,gb,qA,WA,Kp,$A,mr],(t,e,n,r,i,s,a,o,l)=>{if(e!=null){var d=Xs(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:d,niceTicks:o,range:a,realScaleType:n,scale:r}}});var rfe=(t,e,n,r,i,s,a,o,l)=>{if(!(e==null||r==null)){var d=Xs(t,l),{type:f,ticks:m,tickCount:p}=e,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,v=f==="category"&&r.bandwidth?r.bandwidth()/y:0;v=l==="angleAxis"&&s!=null&&s.length>=2?Fs(s[0]-s[1])*2*v:v;var w=m||i;return w?w.map((_,T)=>{var L=a?a.indexOf(_):_,O=r.map(L);return Mt(O)?{index:T,coordinate:O+v,value:_,offset:v}:null}).filter(ga):d&&o?o.map((_,T)=>{var L=r.map(_);return Mt(L)?{coordinate:L+v,value:_,index:T,offset:v}:null}).filter(ga):r.ticks?r.ticks(p).map((_,T)=>{var L=r.map(_);return Mt(L)?{coordinate:L+v,value:_,index:T,offset:v}:null}).filter(ga):r.domain().map((_,T)=>{var L=r.map(_);return Mt(L)?{coordinate:L+v,value:a?a[_]:_,index:T,offset:v}:null}).filter(ga)}},ife=ye([rn,qp,Xf,gb,$A,Kp,qA,WA,mr],rfe),sfe=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Xs(t,a),{tickCount:l}=e,d=0;return d=a==="angleAxis"&&r?.length>=2?Fs(r[0]-r[1])*2*d:d,o&&s?s.map((f,m)=>{var p=n.map(f);return Mt(p)?{coordinate:p+d,value:f,index:m,offset:d}:null}).filter(ga):n.ticks?n.ticks(l).map((f,m)=>{var p=n.map(f);return Mt(p)?{coordinate:p+d,value:f,index:m,offset:d}:null}).filter(ga):n.domain().map((f,m)=>{var p=n.map(f);return Mt(p)?{coordinate:p+d,value:i?i[f]:f,index:m,offset:d}:null}).filter(ga)}},xb=ye([rn,qp,gb,Kp,qA,WA,mr],sfe),bb=ye(ri,gb,(t,e)=>{if(!(t==null||e==null))return D0(D0({},t),{},{scale:e})}),afe=ye([ri,Xf,zA,q$],UA);ye((t,e,n)=>MA(t,n),afe,(t,e)=>{if(!(t==null||e==null))return D0(D0({},t),{},{scale:e})});var ofe=ye([rn,Kx,Gx],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),X$=t=>t.options.defaultTooltipEventType,Y$=t=>t.options.validateTooltipEventTypes;function Q$(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function HA(t,e){var n=X$(t),r=Y$(t);return Q$(e,n,r)}function lfe(t){return ct(e=>HA(e,t))}var J$=(t,e)=>{var n,r=Number(e);if(!(Sa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},cfe=t=>t.tooltip.settings,_l={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ufe={itemInteraction:{click:_l,hover:_l},axisInteraction:{click:_l,hover:_l},keyboardInteraction:_l,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Z$=Si({name:"tooltip",initialState:ufe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:fn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Us(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:fn()},removeTooltipEntrySettings:{reducer(t,e){var n=Us(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:fn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:dfe,replaceTooltipEntrySettings:ffe,removeTooltipEntrySettings:hfe,setTooltipSettingsState:mfe,setActiveMouseOverItemIndex:pfe,mouseLeaveItem:$Pe,mouseLeaveChart:e8,setActiveClickItemIndex:qPe,setMouseOverAxisIndex:t8,setMouseClickAxisIndex:gfe,setSyncInteraction:SC,setKeyboardInteraction:PC}=Z$.actions,yfe=Z$.reducer;function L5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Uy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(n),!0).forEach(function(r){vfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vfe(t,e,n){return(e=xfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xfe(t){var e=bfe(t,"string");return typeof e=="symbol"?e:e+""}function bfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wfe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function _fe(t){return t.index!=null}var n8=(t,e,n,r)=>{if(e==null)return _l;var i=wfe(t,e,n);if(i==null)return _l;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(_fe(i)){if(s)return Uy(Uy({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Uy(Uy({},_l),{},{coordinate:i.coordinate})};function Efe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Tfe(t,e){var n=Efe(t),r=e[0],i=e[1];if(n===void 0)return!1;var s=Math.min(r,i),a=Math.max(r,i);return n>=s&&n<=a}function Cfe(t,e,n){if(n==null||e==null)return!0;var r=Yn(t,e);return r==null||!xo(n)?!0:Tfe(r,n)}var KA=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var s=Number(i);if(!Mt(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),d=e[l];return d==null||Cfe(d,n,r)?String(l):null},r8=(t,e,n,r,i,s,a)=>{if(s!=null){var o=a[0],l=o?.getPosition(s);if(l!=null)return l;var d=i?.[Number(s)];if(d)return n==="horizontal"?{x:d.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:d.coordinate}}},i8=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},s8=t=>t.options.tooltipPayloadSearcher,Yf=t=>t.tooltip;function V5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V5(Object(n),!0).forEach(function(r){Sfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sfe(t,e,n){return(e=Pfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pfe(t){var e=Afe(t,"string");return typeof e=="symbol"?e:e+""}function Afe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nfe(t,e){return t??e}var a8=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:d,dataEndIndex:f}=n,m=[];return t.reduce((p,y)=>{var v,{dataDefinedOnItem:w,settings:_}=y,T=Nfe(w,o),L=Array.isArray(T)?W6(T,d,f):T,O=(v=_?.dataKey)!==null&&v!==void 0?v:r,z=_?.nameKey,j;if(r&&Array.isArray(L)&&!Array.isArray(L[0])&&a==="axis"?j=e6(L,r,i):j=s(L,e,l,z),Array.isArray(j))j.forEach(C=>{var S=F5(F5({},_),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});p.push(BD({tooltipEntrySettings:S,dataKey:C.dataKey,payload:C.payload,value:Yn(C.payload,C.dataKey),name:C.name}))});else{var P;p.push(BD({tooltipEntrySettings:_,dataKey:O,payload:j,value:Yn(j,O),name:(P=Yn(j,z))!==null&&P!==void 0?P:_?.name}))}return p},m)}},GA=ye([er,y$,PA],B$),Ife=ye([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),jfe=ye([pr,Kf],v$),Qf=ye([Ife,er,jfe],x$,{memoizeOptions:{resultEqualityCheck:mb}}),kfe=ye([Qf],t=>t.filter(OA)),Rfe=ye([Qf],_$,{memoizeOptions:{resultEqualityCheck:mb}}),Jf=ye([Rfe,jo],E$),Dfe=ye([kfe,jo,er],m$),XA=ye([Jf,er,Qf],T$),o8=ye([er],FA),Ofe=ye([er],t=>t.allowDataOverflow),l8=ye([o8,Ofe],YU),Mfe=ye([Qf],t=>t.filter(OA)),Lfe=ye([Dfe,Mfe,cb,o$],S$),Vfe=ye([Lfe,jo,pr,l8],A$),Ffe=ye([Qf],w$),Bfe=ye([Jf,er,Ffe,BA,pr],j$,{memoizeOptions:{resultEqualityCheck:hb}}),zfe=ye([k$,pr,Kf],Gf),Ufe=ye([zfe,pr],O$),$fe=ye([R$,pr,Kf],Gf),qfe=ye([$fe,pr],M$),Wfe=ye([D$,pr,Kf],Gf),Hfe=ye([Wfe,pr],L$),Kfe=ye([Ufe,Hfe,qfe],O0),Gfe=ye([er,o8,l8,Vfe,Bfe,Kfe,rn,pr],V$),Gp=ye([er,rn,Jf,XA,cb,pr,Gfe],F$),Xfe=ye([Gp,er,GA],z$),Yfe=ye([er,Gp,Xfe,pr],U$),c8=t=>{var e=pr(t),n=Kf(t),r=!1;return Kp(t,e,n,r)},u8=ye([er,c8],ub),d8=ye([er,GA,Yfe,u8],UA),Qfe=ye([rn,XA,er,pr],K$),Jfe=ye([rn,XA,er,pr],G$),Zfe=(t,e,n,r,i,s,a,o)=>{if(e){var{type:l}=e,d=Xs(t,o);if(r){var f=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=l==="category"&&r.bandwidth?r.bandwidth()/f:0;return m=o==="angleAxis"&&i!=null&&i?.length>=2?Fs(i[0]-i[1])*2*m:m,d&&a?a.map((p,y)=>{var v=r.map(p);return Mt(v)?{coordinate:v+m,value:p,index:y,offset:m}:null}).filter(ga):r.domain().map((p,y)=>{var v=r.map(p);return Mt(v)?{coordinate:v+m,value:s?s[p]:p,index:y,offset:m}:null}).filter(ga)}}},Do=ye([rn,er,GA,d8,c8,Qfe,Jfe,pr],Zfe),YA=ye([X$,Y$,cfe],(t,e,n)=>Q$(n.shared,t,e)),f8=t=>t.tooltip.settings.trigger,QA=t=>t.tooltip.settings.defaultIndex,Xp=ye([Yf,YA,f8,QA],n8),np=ye([Xp,Jf,Hp,Gp],KA),h8=ye([Do,np],J$),ehe=ye([Xp],t=>{if(t)return t.dataKey});ye([Xp],t=>{if(t)return t.graphicalItemId});var m8=ye([Yf,YA,f8,QA],i8),the=ye([Ao,No,rn,Nr,Do,QA,m8],r8),nhe=ye([Xp,the],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),rhe=ye([Xp],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),ihe=ye([m8,np,jo,Hp,h8,s8,YA],a8),she=ye([ihe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function B5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B5(Object(n),!0).forEach(function(r){ahe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ahe(t,e,n){return(e=ohe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ohe(t){var e=lhe(t,"string");return typeof e=="symbol"?e:e+""}function lhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var che=()=>ct(er),uhe=()=>{var t=che(),e=ct(Do),n=ct(d8);return Tf(!t||!n?void 0:z5(z5({},t),{},{scale:n}),e)};function U5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U5(Object(n),!0).forEach(function(r){dhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dhe(t,e,n){return(e=fhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fhe(t){var e=hhe(t,"string");return typeof e=="symbol"?e:e+""}function hhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mhe=(t,e,n,r)=>{var i=e.find(s=>s&&s.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},phe=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=r;return Nd(Nd(Nd({},r),Sr(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return Nd(Nd(Nd({},r),Sr(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function ghe(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var p8=(t,e,n,r,i)=>{var s,a=(s=e?.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<a;o++){var l,d,f,m,p,y=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(d=n[a-1])===null||d===void 0?void 0:d.coordinate,v=(f=n[o])===null||f===void 0?void 0:f.coordinate,w=o>=a-1?(m=n[0])===null||m===void 0?void 0:m.coordinate:(p=n[o+1])===null||p===void 0?void 0:p.coordinate,_=void 0;if(!(y==null||v==null||w==null))if(Fs(v-y)!==Fs(w-v)){var T=[];if(Fs(w-v)===Fs(i[1]-i[0])){_=w;var L=v+i[1]-i[0];T[0]=Math.min(L,(L+y)/2),T[1]=Math.max(L,(L+y)/2)}else{_=y;var O=w+i[1]-i[0];T[0]=Math.min(v,(O+v)/2),T[1]=Math.max(v,(O+v)/2)}var z=[Math.min(v,(_+v)/2),Math.max(v,(_+v)/2)];if(t>z[0]&&t<=z[1]||t>=T[0]&&t<=T[1]){var j;return(j=n[o])===null||j===void 0?void 0:j.index}}else{var P=Math.min(y,w),C=Math.max(y,w);if(t>(P+v)/2&&t<=(C+v)/2){var S;return(S=n[o])===null||S===void 0?void 0:S.index}}}else if(e)for(var k=0;k<a;k++){var A=e[k];if(A!=null){var D=e[k+1],M=e[k-1];if(k===0&&D!=null&&t<=(A.coordinate+D.coordinate)/2||k===a-1&&M!=null&&t>(A.coordinate+M.coordinate)/2||k>0&&k<a-1&&M!=null&&D!=null&&t>(A.coordinate+M.coordinate)/2&&t<=(A.coordinate+D.coordinate)/2)return A.index}}return-1},g8=()=>ct(PA),JA=(t,e)=>e,y8=(t,e,n)=>n,ZA=(t,e,n,r)=>r,yhe=ye(Do,t=>Mx(t,e=>e.coordinate)),eN=ye([Yf,JA,y8,ZA],n8),tN=ye([eN,Jf,Hp,Gp],KA),vhe=(t,e,n)=>{if(e!=null){var r=Yf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},v8=ye([Yf,JA,y8,ZA],i8),M0=ye([Ao,No,rn,Nr,Do,ZA,v8],r8),xhe=ye([eN,M0],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),x8=ye([Do,tN],J$),bhe=ye([v8,tN,jo,Hp,x8,s8,JA],a8),whe=ye([eN,tN],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),_he=(t,e,n,r,i,s,a)=>{if(!(!t||!n||!r||!i)&&ghe(t,a)){var o=Kse(t,e),l=p8(o,s,i,n,r),d=mhe(e,i,l,t);return{activeIndex:String(l),activeCoordinate:d}}},Ehe=(t,e,n,r,i,s,a)=>{if(!(!t||!r||!i||!s||!n)){var o=sle(t,n);if(o){var l=Gse(o,e),d=p8(l,a,s,r,i),f=phe(e,s,d,o);return{activeIndex:String(d),activeCoordinate:f}}}},The=(t,e,n,r,i,s,a,o)=>{if(!(!t||!e||!r||!i||!s))return e==="horizontal"||e==="vertical"?_he(t,e,r,i,s,a,o):Ehe(t,e,n,r,i,s,a)},Che=ye(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),She=ye(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Jr)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:sde}});function $5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function q5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$5(Object(n),!0).forEach(function(r){Phe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Phe(t,e,n){return(e=Ahe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ahe(t){var e=Nhe(t,"string");return typeof e=="symbol"?e:e+""}function Nhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ihe={},jhe={zIndexMap:Object.values(Jr).reduce((t,e)=>q5(q5({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Ihe)},khe=new Set(Object.values(Jr));function Rhe(t){return khe.has(t)}var b8=Si({name:"zIndex",initialState:jhe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:fn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Rhe(n)&&delete t.zIndexMap[n])},prepare:fn()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:fn()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:fn()}}}),{registerZIndexPortal:Dhe,unregisterZIndexPortal:Ohe,registerZIndexPortalElement:Mhe,unregisterZIndexPortalElement:Lhe}=b8.actions,Vhe=b8.reducer;function Oo(t){var{zIndex:e,children:n}=t,r=Iae(),i=r&&e!==void 0&&e!==0,s=Pi(),a=Ar();E.useLayoutEffect(()=>i?(a(Dhe({zIndex:e})),()=>{a(Ohe({zIndex:e}))}):Du,[a,e,i]);var o=ct(l=>Che(l,e,s));return i?o?Ix.createPortal(n,o):null:n}function AC(){return AC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AC.apply(null,arguments)}function W5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(n),!0).forEach(function(r){Fhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fhe(t,e,n){return(e=Bhe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bhe(t){var e=zhe(t,"string");return typeof e=="symbol"?e:e+""}function zhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uhe(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return E.isValidElement(e)?E.cloneElement(e,r):E.createElement(n,r)}function $he(t){var e,{coordinate:n,payload:r,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:d,chartName:f}=t,m=n,p=r,y=i;if(!l||!m||f!=="ScatterChart"&&d!=="axis")return null;var v,w,_;if(f==="ScatterChart")v=m,w=voe,_=Jr.cursorLine;else if(f==="BarChart")v=xoe(o,m,s,a),w=dU,_=Jr.cursorRectangle;else if(o==="radial"&&r6(m)){var{cx:T,cy:L,radius:O,startAngle:z,endAngle:j}=fU(m);v={cx:T,cy:L,startAngle:z,endAngle:j,innerRadius:O,outerRadius:O},w=mU,_=Jr.cursorLine}else v={points:cle(o,m,s)},w=_m,_=Jr.cursorLine;var P=typeof l=="object"&&"className"in l?l.className:void 0,C=$y($y($y($y({stroke:"#ccc",pointerEvents:"none"},s),v),jx(l)),{},{payload:p,payloadIndex:y,className:Qt("recharts-tooltip-cursor",P)});return E.createElement(Oo,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:_},E.createElement(Uhe,{cursor:l,cursorComp:w,cursorProps:C}))}function qhe(t){var e=uhe(),n=Pae(),r=Ou(),i=g8();return e==null||n==null||r==null||i==null?null:E.createElement($he,AC({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var w8=E.createContext(null),Whe=()=>E.useContext(w8),B_={exports:{}},H5;function Hhe(){return H5||(H5=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,d,f){this.fn=l,this.context=d,this.once=f||!1}function s(l,d,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,m||l,p),v=n?n+d:d;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],y]:l._events[v].push(y):(l._events[v]=y,l._eventsCount++),l}function a(l,d){--l._eventsCount===0?l._events=new r:delete l._events[d]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)e.call(f,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},o.prototype.listeners=function(d){var f=n?n+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,y=m.length,v=new Array(y);p<y;p++)v[p]=m[p].fn;return v},o.prototype.listenerCount=function(d){var f=n?n+d:d,m=this._events[f];return m?m.fn?1:m.length:0},o.prototype.emit=function(d,f,m,p,y,v){var w=n?n+d:d;if(!this._events[w])return!1;var _=this._events[w],T=arguments.length,L,O;if(_.fn){switch(_.once&&this.removeListener(d,_.fn,void 0,!0),T){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,m),!0;case 4:return _.fn.call(_.context,f,m,p),!0;case 5:return _.fn.call(_.context,f,m,p,y),!0;case 6:return _.fn.call(_.context,f,m,p,y,v),!0}for(O=1,L=new Array(T-1);O<T;O++)L[O-1]=arguments[O];_.fn.apply(_.context,L)}else{var z=_.length,j;for(O=0;O<z;O++)switch(_[O].once&&this.removeListener(d,_[O].fn,void 0,!0),T){case 1:_[O].fn.call(_[O].context);break;case 2:_[O].fn.call(_[O].context,f);break;case 3:_[O].fn.call(_[O].context,f,m);break;case 4:_[O].fn.call(_[O].context,f,m,p);break;default:if(!L)for(j=1,L=new Array(T-1);j<T;j++)L[j-1]=arguments[j];_[O].fn.apply(_[O].context,L)}}return!0},o.prototype.on=function(d,f,m){return s(this,d,f,m,!1)},o.prototype.once=function(d,f,m){return s(this,d,f,m,!0)},o.prototype.removeListener=function(d,f,m,p){var y=n?n+d:d;if(!this._events[y])return this;if(!f)return a(this,y),this;var v=this._events[y];if(v.fn)v.fn===f&&(!p||v.once)&&(!m||v.context===m)&&a(this,y);else{for(var w=0,_=[],T=v.length;w<T;w++)(v[w].fn!==f||p&&!v[w].once||m&&v[w].context!==m)&&_.push(v[w]);_.length?this._events[y]=_.length===1?_[0]:_:a(this,y)}return this},o.prototype.removeAllListeners=function(d){var f;return d?(f=n?n+d:d,this._events[f]&&a(this,f)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(B_)),B_.exports}var Khe=Hhe();const Ghe=Ei(Khe);var rp=new Ghe,NC="recharts.syncEvent.tooltip",K5="recharts.syncEvent.brush",_8=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Sa(n))return t[n]}},Xhe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},E8=Si({name:"options",initialState:Xhe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Yhe=E8.reducer,{createEventEmitter:Qhe}=E8.actions;function Jhe(t){return t.tooltip.syncInteraction}var Zhe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},T8=Si({name:"chartData",initialState:Zhe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:G5,setDataStartEndIndexes:eme,setComputedData:WPe}=T8.actions,tme=T8.reducer,nme=["x","y"];function X5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Id(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X5(Object(n),!0).forEach(function(r){rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rme(t,e,n){return(e=ime(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ime(t){var e=sme(t,"string");return typeof e=="symbol"?e:e+""}function sme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ame(t,e){if(t==null)return{};var n,r,i=ome(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ome(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lme(){var t=ct(AA),e=ct(NA),n=Ar(),r=ct(l$),i=ct(Do),s=Ou(),a=Qx(),o=ct(l=>l.rootProps.className);E.useEffect(()=>{if(t==null)return Du;var l=(d,f,m)=>{if(e!==m&&t===d){if(r==="index"){var p;if(a&&f!==null&&f!==void 0&&(p=f.payload)!==null&&p!==void 0&&p.coordinate&&f.payload.sourceViewBox){var y=f.payload.coordinate,{x:v,y:w}=y,_=ame(y,nme),{x:T,y:L,width:O,height:z}=f.payload.sourceViewBox,j=Id(Id({},_),{},{x:a.x+(O?(v-T)/O:0)*a.width,y:a.y+(z?(w-L)/z:0)*a.height});n(Id(Id({},f),{},{payload:Id(Id({},f.payload),{},{coordinate:j})}))}else n(f);return}if(i!=null){var P;if(typeof r=="function"){var C={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},S=r(i,C);P=i[S]}else r==="value"&&(P=i.find(J=>String(J.value)===f.payload.label));var{coordinate:k}=f.payload;if(P==null||f.payload.active===!1||k==null||a==null){n(SC({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:A,y:D}=k,M=Math.min(A,a.x+a.width),I=Math.min(D,a.y+a.height),K={x:s==="horizontal"?P.coordinate:M,y:s==="horizontal"?I:P.coordinate},Y=SC({active:f.payload.active,coordinate:K,dataKey:f.payload.dataKey,index:String(P.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});n(Y)}}};return rp.on(NC,l),()=>{rp.off(NC,l)}},[o,n,e,t,r,i,s,a])}function cme(){var t=ct(AA),e=ct(NA),n=Ar();E.useEffect(()=>{if(t==null)return Du;var r=(i,s,a)=>{e!==a&&t===i&&n(eme(s))};return rp.on(K5,r),()=>{rp.off(K5,r)}},[n,e,t])}function ume(){var t=Ar();E.useEffect(()=>{t(Qhe())},[t]),lme(),cme()}function dme(t,e,n,r,i,s){var a=ct(y=>vhe(y,t,e)),o=ct(NA),l=ct(AA),d=ct(l$),f=ct(Jhe),m=f?.active,p=Qx();E.useEffect(()=>{if(!m&&l!=null&&o!=null){var y=SC({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});rp.emit(NC,l,y,o)}},[m,n,a,i,r,o,l,d,s,p])}function Y5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y5(Object(n),!0).forEach(function(r){fme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fme(t,e,n){return(e=hme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hme(t){var e=mme(t,"string");return typeof e=="symbol"?e:e+""}function mme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pme(t){return t.dataKey}function gme(t,e){return E.isValidElement(t)?E.cloneElement(t,e):typeof t=="function"?E.createElement(t,e):E.createElement(Qae,e)}var J5=[],yme={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function vme(t){var e,n,r=Ci(t,yme),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:p,position:y,reverseDirection:v,useTranslate3d:w,wrapperStyle:_,cursor:T,shared:L,trigger:O,defaultIndex:z,portal:j,axisId:P}=r,C=Ar(),S=typeof z=="number"?String(z):z;E.useEffect(()=>{C(mfe({shared:L,trigger:O,axisId:P,active:i,defaultIndex:S}))},[C,L,O,P,i,S]);var k=Qx(),A=aU(),D=lfe(L),{activeIndex:M,isActive:I}=(e=ct(re=>whe(re,D,O,S)))!==null&&e!==void 0?e:{},K=ct(re=>bhe(re,D,O,S)),Y=ct(re=>x8(re,D,O,S)),J=ct(re=>xhe(re,D,O,S)),F=K,G=Whe(),q=(n=i??I)!==null&&n!==void 0?n:!1,[R,U]=Die([F,q]),H=D==="axis"?Y:void 0;dme(D,O,J,H,M,q);var Q=j??G;if(Q==null||k==null||D==null)return null;var Z=F??J5;q||(Z=J5),d&&Z.length&&(Z=aie(Z.filter(re=>re.value!=null&&(re.hide!==!0||r.includeHidden)),p,pme));var te=Z.length>0,ae=E.createElement(ioe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:f,active:q,coordinate:J,hasPayload:te,offset:m,position:y,reverseDirection:v,useTranslate3d:w,viewBox:k,wrapperStyle:_,lastBoundingBox:R,innerRef:U,hasPortalFromProps:!!j},gme(l,Q5(Q5({},r),{},{payload:Z,label:H,active:q,activeIndex:M,coordinate:J,accessibilityLayer:A})));return E.createElement(E.Fragment,null,Ix.createPortal(ae,Q),q&&E.createElement(qhe,{cursor:T,tooltipEventType:D,coordinate:J,payload:Z,index:M}))}function xme(t,e,n){return(e=bme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bme(t){var e=wme(t,"string");return typeof e=="symbol"?e:e+""}function wme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _me{constructor(e){xme(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Z5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eme(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z5(Object(n),!0).forEach(function(r){Tme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tme(t,e,n){return(e=Cme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cme(t){var e=Sme(t,"string");return typeof e=="symbol"?e:e+""}function Sme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pme={cacheSize:2e3,enableCache:!0},C8=Eme({},Pme),eM=new _me(C8.cacheSize),Ame={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},tM="recharts_measurement_span";function Nme(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var nM=(t,e)=>{try{var n=document.getElementById(tM);n||(n=document.createElement("span"),n.setAttribute("id",tM),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,Ame,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Em=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Fp.isSsr)return{width:0,height:0};if(!C8.enableCache)return nM(e,n);var r=Nme(e,n),i=eM.get(r);if(i)return i;var s=nM(e,n);return eM.set(r,s),s},S8;function Ime(t,e,n){return(e=jme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jme(t){var e=kme(t,"string");return typeof e=="symbol"?e:e+""}function kme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rme=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Dme=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ome={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Mme=["cm","mm","pt","pc","in","Q","px"];function Lme(t){return Mme.includes(t)}var zd="NaN";function Vme(t,e){return t*Ome[e]}class Er{static parse(e){var n,[,r,i]=(n=Dme.exec(e))!==null&&n!==void 0?n:[];return r==null?Er.NaN:new Er(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Sa(e)&&(this.unit=""),n!==""&&!Rme.test(n)&&(this.num=NaN,this.unit=""),Lme(n)&&(this.num=Vme(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new Er(NaN,""):new Er(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Er(NaN,""):new Er(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Er(NaN,""):new Er(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Er(NaN,""):new Er(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Sa(this.num)}}S8=Er;Ime(Er,"NaN",new S8(NaN,""));function P8(t){if(t==null||t.includes(zd))return zd;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=rM.exec(e))!==null&&n!==void 0?n:[],a=Er.parse(r??""),o=Er.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return zd;e=e.replace(rM,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,m,p]=(d=iM.exec(e))!==null&&d!==void 0?d:[],y=Er.parse(f??""),v=Er.parse(p??""),w=m==="+"?y.add(v):y.subtract(v);if(w.isNaN())return zd;e=e.replace(iM,w.toString())}return e}var sM=/\(([^()]*)\)/;function Fme(t){for(var e=t,n;(n=sM.exec(e))!=null;){var[,r]=n;e=e.replace(sM,P8(r))}return e}function Bme(t){var e=t.replace(/\s+/g,"");return e=Fme(e),e=P8(e),e}function zme(t){try{return Bme(t)}catch{return zd}}function z_(t){var e=zme(t.slice(5,-1));return e===zd?"":e}var Ume=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],$me=["dx","dy","angle","className","breakAll"];function IC(){return IC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IC.apply(null,arguments)}function aM(t,e){if(t==null)return{};var n,r,i=qme(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function qme(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var A8=/[ \f\n\r\t\v\u2028\u2029]+/,N8=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];fr(e)||(n?i=e.toString().split(""):i=e.toString().split(A8));var s=i.map(o=>({word:o,width:Em(o,r).width})),a=n?0:Em("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function Wme(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var I8=(t,e,n,r)=>t.reduce((i,s)=>{var{word:a,width:o}=s,l=i[i.length-1];if(l&&o!=null&&(e==null||r||l.width+o+n<Number(e)))l.words.push(a),l.width+=o+n;else{var d={words:[a],width:o};i.push(d)}return i},[]),j8=t=>t.reduce((e,n)=>e.width>n.width?e:n),Hme="",oM=(t,e,n,r,i,s,a,o)=>{var l=t.slice(0,e),d=N8({breakAll:n,style:r,children:l+Hme});if(!d)return[!1,[]];var f=I8(d.wordsWithComputedWidth,s,a,o),m=f.length>i||j8(f).width>Number(s);return[m,f]},Kme=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=t,d=Ze(s),f=String(a),m=I8(e,r,n,i);if(!d||i)return m;var p=m.length>s||j8(m).width>Number(r);if(!p)return m;for(var y=0,v=f.length-1,w=0,_;y<=v&&w<=f.length-1;){var T=Math.floor((y+v)/2),L=T-1,[O,z]=oM(f,L,l,o,s,r,n,i),[j]=oM(f,T,l,o,s,r,n,i);if(!O&&!j&&(y=T+1),O&&j&&(v=T-1),!O&&j){_=z;break}w++}return _||m},lM=t=>{var e=fr(t)?[]:t.toString().split(A8);return[{words:e,width:void 0}]},Gme=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!Fp.isSsr){var o,l,d=N8({breakAll:s,children:r,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:m}=d;o=f,l=m}else return lM(r);return Kme({breakAll:s,children:r,maxLines:a,style:i},o,l,e,!!n)}return lM(r)},k8="#808080",Xme={angle:0,breakAll:!1,capHeight:"0.71em",fill:k8,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},nN=E.forwardRef((t,e)=>{var n=Ci(t,Xme),{x:r,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:d,verticalAnchor:f}=n,m=aM(n,Ume),p=E.useMemo(()=>Gme({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:y,dy:v,angle:w,className:_,breakAll:T}=m,L=aM(m,$me);if(!Pa(r)||!Pa(i)||p.length===0)return null;var O=Number(r)+(Ze(y)?y:0),z=Number(i)+(Ze(v)?v:0);if(!Mt(O)||!Mt(z))return null;var j;switch(f){case"start":j=z_("calc(".concat(a,")"));break;case"middle":j=z_("calc(".concat((p.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:j=z_("calc(".concat(p.length-1," * -").concat(s,")"));break}var P=[],C=p[0];if(l&&C!=null){var S=C.width,{width:k}=m;P.push("scale(".concat(Ze(k)&&Ze(S)?k/S:1,")"))}return w&&P.push("rotate(".concat(w,", ").concat(O,", ").concat(z,")")),P.length&&(L.transform=P.join(" ")),E.createElement("text",IC({},zr(L),{ref:e,x:O,y:z,className:Qt("recharts-text",_),textAnchor:d,fill:o.includes("url")?k8:o}),p.map((A,D)=>{var M=A.words.join(T?"":" ");return E.createElement("tspan",{x:O,dy:D===0?j:s,key:"".concat(M,"-").concat(D)},M)}))});nN.displayName="Text";function cM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cM(Object(n),!0).forEach(function(r){Yme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yme(t,e,n){return(e=Qme(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qme(t){var e=Jme(t,"string");return typeof e=="symbol"?e:e+""}function Jme(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zme=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:s,y:a,height:o,upperWidth:l,lowerWidth:d}=JP(e),f=s,m=s+(l-d)/2,p=(f+m)/2,y=(l+d)/2,v=f+l/2,w=o>=0?1:-1,_=w*r,T=w>0?"end":"start",L=w>0?"start":"end",O=l>=0?1:-1,z=O*r,j=O>0?"end":"start",P=O>0?"start":"end",C=i;if(n==="top"){var S={x:f+l/2,y:a-_,horizontalAnchor:"middle",verticalAnchor:T};return C&&(S.height=Math.max(a-C.y,0),S.width=l),S}if(n==="bottom"){var k={x:m+d/2,y:a+o+_,horizontalAnchor:"middle",verticalAnchor:L};return C&&(k.height=Math.max(C.y+C.height-(a+o),0),k.width=d),k}if(n==="left"){var A={x:p-z,y:a+o/2,horizontalAnchor:j,verticalAnchor:"middle"};return C&&(A.width=Math.max(A.x-C.x,0),A.height=o),A}if(n==="right"){var D={x:p+y+z,y:a+o/2,horizontalAnchor:P,verticalAnchor:"middle"};return C&&(D.width=Math.max(C.x+C.width-D.x,0),D.height=o),D}var M=C?{width:y,height:o}:{};return n==="insideLeft"?oa({x:p+z,y:a+o/2,horizontalAnchor:P,verticalAnchor:"middle"},M):n==="insideRight"?oa({x:p+y-z,y:a+o/2,horizontalAnchor:j,verticalAnchor:"middle"},M):n==="insideTop"?oa({x:f+l/2,y:a+_,horizontalAnchor:"middle",verticalAnchor:L},M):n==="insideBottom"?oa({x:m+d/2,y:a+o-_,horizontalAnchor:"middle",verticalAnchor:T},M):n==="insideTopLeft"?oa({x:f+z,y:a+_,horizontalAnchor:P,verticalAnchor:L},M):n==="insideTopRight"?oa({x:f+l-z,y:a+_,horizontalAnchor:j,verticalAnchor:L},M):n==="insideBottomLeft"?oa({x:m+z,y:a+o-_,horizontalAnchor:P,verticalAnchor:T},M):n==="insideBottomRight"?oa({x:m+d-z,y:a+o-_,horizontalAnchor:j,verticalAnchor:T},M):n&&typeof n=="object"&&(Ze(n.x)||wu(n.x))&&(Ze(n.y)||wu(n.y))?oa({x:s+Hl(n.x,y),y:a+Hl(n.y,o),horizontalAnchor:"end",verticalAnchor:"end"},M):oa({x:v,y:a+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},M)},epe=["labelRef"],tpe=["content"];function uM(t,e){if(t==null)return{};var n,r,i=npe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function npe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function dM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dM(Object(n),!0).forEach(function(r){rpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rpe(t,e,n){return(e=ipe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ipe(t){var e=spe(t,"string");return typeof e=="symbol"?e:e+""}function spe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qa(){return Qa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qa.apply(null,arguments)}var R8=E.createContext(null),ape=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a,children:o}=t,l=E.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:s,height:a}),[e,n,r,i,s,a]);return E.createElement(R8.Provider,{value:l},o)},D8=()=>{var t=E.useContext(R8),e=Qx();return t||(e?JP(e):void 0)},ope=E.createContext(null),lpe=()=>{var t=E.useContext(ope),e=ct(h$);return t||e},cpe=t=>{var{value:e,formatter:n}=t,r=fr(t.children)?e:t.children;return typeof n=="function"?n(r):r},rN=t=>t!=null&&typeof t=="function",upe=(t,e)=>{var n=Fs(e-t),r=Math.min(Math.abs(e-t),360);return n*r},dpe=(t,e,n,r,i)=>{var{offset:s,className:a}=t,{cx:o,cy:l,innerRadius:d,outerRadius:f,startAngle:m,endAngle:p,clockWise:y}=i,v=(d+f)/2,w=upe(m,p),_=w>=0?1:-1,T,L;switch(e){case"insideStart":T=m+_*s,L=y;break;case"insideEnd":T=p-_*s,L=!y;break;case"end":T=p+_*s,L=y;break;default:throw new Error("Unsupported position ".concat(e))}L=w<=0?L:!L;var O=Sr(o,l,v,T),z=Sr(o,l,v,T+(L?1:-1)*359),j="M".concat(O.x,",").concat(O.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(L?0:1,`,
    `).concat(z.x,",").concat(z.y),P=fr(t.id)?$m("recharts-radial-line-"):t.id;return E.createElement("text",Qa({},r,{dominantBaseline:"central",className:Qt("recharts-radial-bar-label",a)}),E.createElement("defs",null,E.createElement("path",{id:P,d:j})),E.createElement("textPath",{xlinkHref:"#".concat(P)},n))},fpe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=t,d=(o+l)/2;if(n==="outside"){var{x:f,y:m}=Sr(r,i,a+e,d);return{x:f,y:m,textAnchor:f>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var p=(s+a)/2,{x:y,y:v}=Sr(r,i,p,d);return{x:y,y:v,textAnchor:"middle",verticalAnchor:"middle"}},yv=t=>t!=null&&"cx"in t&&Ze(t.cx),hpe={angle:0,offset:5,zIndex:Jr.label,position:"middle",textBreakAll:!1};function mpe(t){if(!yv(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function pl(t){var e=Ci(t,hpe),{viewBox:n,parentViewBox:r,position:i,value:s,children:a,content:o,className:l="",textBreakAll:d,labelRef:f}=e,m=lpe(),p=D8(),y=i==="center"?p:m??p,v,w,_;n==null?v=y:yv(n)?v=n:v=JP(n);var T=mpe(v);if(!v||fr(s)&&fr(a)&&!E.isValidElement(o)&&typeof o!="function")return null;var L=fm(fm({},e),{},{viewBox:v});if(E.isValidElement(o)){var{labelRef:O}=L,z=uM(L,epe);return E.cloneElement(o,z)}if(typeof o=="function"){var{content:j}=L,P=uM(L,tpe);if(w=E.createElement(o,P),E.isValidElement(w))return w}else w=cpe(e);var C=zr(e);if(yv(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return dpe(e,i,w,C,v);_=fpe(v,e.offset,e.position)}else{if(!T)return null;var S=Zme({viewBox:T,position:i,offset:e.offset,parentViewBox:yv(r)?void 0:r});_=fm(fm({x:S.x,y:S.y,textAnchor:S.horizontalAnchor,verticalAnchor:S.verticalAnchor},S.width!==void 0?{width:S.width}:{}),S.height!==void 0?{height:S.height}:{})}return E.createElement(Oo,{zIndex:e.zIndex},E.createElement(nN,Qa({ref:f,className:Qt("recharts-label",l)},C,_,{textAnchor:Wme(C.textAnchor)?C.textAnchor:_.textAnchor,breakAll:d}),w))}pl.displayName="Label";var ppe=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?E.createElement(pl,Qa({key:"label-implicit"},r)):Pa(t)?E.createElement(pl,Qa({key:"label-implicit",value:t},r)):E.isValidElement(t)?t.type===pl?E.cloneElement(t,fm({key:"label-implicit"},r)):E.createElement(pl,Qa({key:"label-implicit",content:t},r)):rN(t)?E.createElement(pl,Qa({key:"label-implicit",content:t},r)):t&&typeof t=="object"?E.createElement(pl,Qa({},t,{key:"label-implicit"},r)):null};function gpe(t){var{label:e,labelRef:n}=t,r=D8();return ppe(e,r,n)||null}var U_={},$_={},fM;function ype(){return fM||(fM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})($_)),$_}var q_={},hM;function vpe(){return hM||(hM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(q_)),q_}var mM;function xpe(){return mM||(mM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ype(),n=vpe(),r=UP();function i(s){if(r.isArrayLike(s))return e.last(n.toArray(s))}t.last=i})(U_)),U_}var W_,pM;function bpe(){return pM||(pM=1,W_=xpe().last),W_}var wpe=bpe();const _pe=Ei(wpe);var Epe=["valueAccessor"],Tpe=["dataKey","clockWise","id","textBreakAll","zIndex"];function L0(){return L0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},L0.apply(null,arguments)}function gM(t,e){if(t==null)return{};var n,r,i=Cpe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Cpe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Spe=t=>Array.isArray(t.value)?_pe(t.value):t.value,O8=E.createContext(void 0),M8=O8.Provider,L8=E.createContext(void 0);L8.Provider;function Ppe(){return E.useContext(O8)}function Ape(){return E.useContext(L8)}function vv(t){var{valueAccessor:e=Spe}=t,n=gM(t,Epe),{dataKey:r,clockWise:i,id:s,textBreakAll:a,zIndex:o}=n,l=gM(n,Tpe),d=Ppe(),f=Ape(),m=d||f;return!m||!m.length?null:E.createElement(Oo,{zIndex:o??Jr.label},E.createElement(us,{className:"recharts-label-list"},m.map((p,y)=>{var v,w=fr(r)?e(p,y):Yn(p.payload,r),_=fr(s)?{}:{id:"".concat(s,"-").concat(y)};return E.createElement(pl,L0({key:"label-".concat(y)},zr(p),l,_,{fill:(v=n.fill)!==null&&v!==void 0?v:p.fill,parentViewBox:p.parentViewBox,value:w,textBreakAll:a,viewBox:p.viewBox,index:y,zIndex:0}))})))}vv.displayName="LabelList";function V8(t){var{label:e}=t;return e?e===!0?E.createElement(vv,{key:"labelList-implicit"}):E.isValidElement(e)||rN(e)?E.createElement(vv,{key:"labelList-implicit",content:e}):typeof e=="object"?E.createElement(vv,L0({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function jC(){return jC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jC.apply(null,arguments)}var F8=t=>{var{cx:e,cy:n,r,className:i}=t,s=Qt("recharts-dot",i);return Ze(e)&&Ze(n)&&Ze(r)?E.createElement("circle",jC({},Ws(t),zP(t),{className:s,cx:e,cy:n,r})):null},Npe={radiusAxis:{},angleAxis:{}},B8=Si({name:"polarAxis",initialState:Npe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:HPe,removeRadiusAxis:KPe,addAngleAxis:GPe,removeAngleAxis:XPe}=B8.actions,Ipe=B8.reducer;function jpe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var iN=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,H_={},yM;function kpe(){return yM||(yM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(H_)),H_}var K_,vM;function Rpe(){return vM||(vM=1,K_=kpe().isPlainObject),K_}var Dpe=Rpe();const Ope=Ei(Dpe);var xM,bM,wM,_M,EM;function TM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TM(Object(n),!0).forEach(function(r){Mpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mpe(t,e,n){return(e=Lpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lpe(t){var e=Vpe(t,"string");return typeof e=="symbol"?e:e+""}function Vpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V0(){return V0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V0.apply(null,arguments)}function Qh(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var SM=(t,e,n,r,i)=>{var s=n-r,a;return a=Nn(xM||(xM=Qh(["M ",",",""])),t,e),a+=Nn(bM||(bM=Qh(["L ",",",""])),t+n,e),a+=Nn(wM||(wM=Qh(["L ",",",""])),t+n-s/2,e+i),a+=Nn(_M||(_M=Qh(["L ",",",""])),t+n-s/2-r,e+i),a+=Nn(EM||(EM=Qh(["L ",","," Z"])),t,e),a},Fpe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bpe=t=>{var e=Ci(t,Fpe),{x:n,y:r,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:d,animationBegin:f,isUpdateAnimationActive:m}=e,p=E.useRef(null),[y,v]=E.useState(-1),w=E.useRef(i),_=E.useRef(s),T=E.useRef(a),L=E.useRef(n),O=E.useRef(r),z=nb(t,"trapezoid-");if(E.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var K=p.current.getTotalLength();K&&v(K)}catch{}},[]),n!==+n||r!==+r||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var j=Qt("recharts-trapezoid",o);if(!m)return E.createElement("g",null,E.createElement("path",V0({},zr(e),{className:j,d:SM(n,r,i,s,a)})));var P=w.current,C=_.current,S=T.current,k=L.current,A=O.current,D="0px ".concat(y===-1?1:y,"px"),M="".concat(y,"px 0px"),I=oU(["strokeDasharray"],d,l);return E.createElement(tb,{animationId:z,key:z,canBegin:y>0,duration:d,easing:l,isActive:m,begin:f},K=>{var Y=zn(P,i,K),J=zn(C,s,K),F=zn(S,a,K),G=zn(k,n,K),q=zn(A,r,K);p.current&&(w.current=Y,_.current=J,T.current=F,L.current=G,O.current=q);var R=K>0?{transition:I,strokeDasharray:M}:{strokeDasharray:D};return E.createElement("path",V0({},zr(e),{className:j,d:SM(G,q,Y,J,F),ref:p,style:CM(CM({},R),e.style)}))})},zpe=["option","shapeType","activeClassName"];function Upe(t,e){if(t==null)return{};var n,r,i=$pe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $pe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function PM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PM(Object(n),!0).forEach(function(r){qpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qpe(t,e,n){return(e=Wpe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wpe(t){var e=Hpe(t,"string");return typeof e=="symbol"?e:e+""}function Hpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kpe(t,e){return F0(F0({},e),t)}function Gpe(t,e){return t==="symbols"}function AM(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return E.createElement(dU,n);case"trapezoid":return E.createElement(Bpe,n);case"sector":return E.createElement(mU,n);case"symbols":if(Gpe(e))return E.createElement(n6,n);break;case"curve":return E.createElement(_m,n);default:return null}}function Xpe(t){return E.isValidElement(t)?t.props:t}function Ype(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=Upe(t,zpe),s;if(E.isValidElement(e))s=E.cloneElement(e,F0(F0({},i),Xpe(e)));else if(typeof e=="function")s=e(i,i.index);else if(Ope(e)&&typeof e!="boolean"){var a=Kpe(e,i);s=E.createElement(AM,{shapeType:n,elementProps:a})}else{var o=i;s=E.createElement(AM,{shapeType:n,elementProps:o})}return i.isActive?E.createElement(us,{className:r},s):s}function z8(t){var{tooltipEntrySettings:e}=t,n=Ar(),r=Pi(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n(dfe(e)):i.current!==e&&n(ffe({prev:i.current,next:e})),i.current=e)},[e,n,r]),E.useLayoutEffect(()=>()=>{i.current&&(n(hfe(i.current)),i.current=null)},[n]),null}function U8(t){var{legendPayload:e}=t,n=Ar(),r=Pi(),i=E.useRef(null);return E.useLayoutEffect(()=>{r||(i.current===null?n($ae(e)):i.current!==e&&n(qae({prev:i.current,next:e})),i.current=e)},[n,r,e]),E.useLayoutEffect(()=>()=>{i.current&&(n(Wae(i.current)),i.current=null)},[n]),null}var G_,Qpe=()=>{var[t]=E.useState(()=>$m("uid-"));return t},Jpe=(G_=tH.useId)!==null&&G_!==void 0?G_:Qpe;function Zpe(t,e){var n=Jpe();return e||(t?"".concat(t,"-").concat(n):n)}var ege=E.createContext(void 0),$8=t=>{var{id:e,type:n,children:r}=t,i=Zpe("recharts-".concat(n),e);return E.createElement(ege.Provider,{value:i},r(i))},tge={cartesianItems:[],polarItems:[]},q8=Si({name:"graphicalItems",initialState:tge,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:fn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=Us(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:fn()},removeCartesianGraphicalItem:{reducer(t,e){var n=Us(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:fn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:fn()},removePolarGraphicalItem:{reducer(t,e){var n=Us(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:fn()}}}),{addCartesianGraphicalItem:nge,replaceCartesianGraphicalItem:rge,removeCartesianGraphicalItem:ige,addPolarGraphicalItem:YPe,removePolarGraphicalItem:QPe}=q8.actions,sge=q8.reducer,age=t=>{var e=Ar(),n=E.useRef(null);return E.useLayoutEffect(()=>{n.current===null?e(nge(t)):n.current!==t&&e(rge({prev:n.current,next:t})),n.current=t},[e,t]),E.useLayoutEffect(()=>()=>{n.current&&(e(ige(n.current)),n.current=null)},[e]),null},W8=E.memo(age),oge=["points"];function NM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NM(Object(n),!0).forEach(function(r){lge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lge(t,e,n){return(e=cge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cge(t){var e=uge(t,"string");return typeof e=="symbol"?e:e+""}function uge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B0(){return B0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B0.apply(null,arguments)}function dge(t,e){if(t==null)return{};var n,r,i=fge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function hge(t){var{option:e,dotProps:n,className:r}=t;if(E.isValidElement(e))return E.cloneElement(e,n);if(typeof e=="function")return e(n);var i=Qt(r,typeof e!="boolean"?e.className:""),s=n??{},{points:a}=s,o=dge(s,oge);return E.createElement(F8,B0({},o,{className:i}))}function mge(t,e){return t==null?!1:e?!0:t.length===1}function H8(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:s,baseProps:a,needClip:o,clipPathId:l,zIndex:d=Jr.scatter}=t;if(!mge(e,n))return null;var f=iN(n),m=jne(n),p=e.map((v,w)=>{var _,T,L=X_(X_(X_({r:3},a),m),{},{index:w,cx:(_=v.x)!==null&&_!==void 0?_:void 0,cy:(T=v.y)!==null&&T!==void 0?T:void 0,dataKey:s,value:v.value,payload:v.payload,points:e});return E.createElement(hge,{key:"dot-".concat(w),option:n,dotProps:L,className:i})}),y={};return o&&l!=null&&(y.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(l,")")),E.createElement(Oo,{zIndex:d},E.createElement(us,B0({className:r},y),p))}function IM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IM(Object(n),!0).forEach(function(r){pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pge(t,e,n){return(e=gge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gge(t){var e=yge(t,"string");return typeof e=="symbol"?e:e+""}function yge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K8=0,vge={xAxis:{},yAxis:{},zAxis:{}},G8=Si({name:"cartesianAxis",initialState:vge,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:fn()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:fn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:fn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:fn()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:fn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:fn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:fn()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:fn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:fn()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var s,a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-((s=a[0])!==null&&s!==void 0?s:0))<=1)return;var o=[...a,r].slice(-3);t.yAxis[n]=jM(jM({},i),{},{width:r,widthHistory:o})}}}}),{addXAxis:JPe,replaceXAxis:ZPe,removeXAxis:eAe,addYAxis:xge,replaceYAxis:bge,removeYAxis:wge,addZAxis:tAe,replaceZAxis:nAe,removeZAxis:rAe,updateYAxisWidth:_ge}=G8.actions,Ege=G8.reducer,Tge=ye([Nr],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Cge=ye([Tge,Ao,No],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),wb=()=>ct(Cge),Sge=()=>ct(she);function kM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Y_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kM(Object(n),!0).forEach(function(r){Pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pge(t,e,n){return(e=Age(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Age(t){var e=Nge(t,"string");return typeof e=="symbol"?e:e+""}function Nge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ige=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:s,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=Y_(Y_(Y_({},o),jx(i)),zP(i)),d;return E.isValidElement(i)?d=E.cloneElement(i,l):typeof i=="function"?d=i(l):d=E.createElement(F8,l),E.createElement(us,{className:"recharts-active-dot",clipPath:a},d)};function kC(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:s,zIndex:a=Jr.activeDot}=t,o=ct(np),l=Sge();if(e==null||l==null)return null;var d=e.find(f=>l.includes(f.payload));return fr(d)?null:E.createElement(Oo,{zIndex:a},E.createElement(Ige,{point:d,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:s}))}var jge=t=>{var{chartData:e}=t,n=Ar(),r=Pi();return E.useEffect(()=>r?()=>{}:(n(G5(e)),()=>{n(G5(void 0))}),[e,n,r]),null},RM={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},X8=Si({name:"brush",initialState:RM,reducers:{setBrushSettings(t,e){return e.payload==null?RM:e.payload}}}),{setBrushSettings:iAe}=X8.actions,kge=X8.reducer;function Rge(t){return(t%180+180)%180}var Dge=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Rge(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Oge={dots:[],areas:[],lines:[]},Y8=Si({name:"referenceElements",initialState:Oge,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=Us(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=Us(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=Us(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:sAe,removeDot:aAe,addArea:oAe,removeArea:lAe,addLine:cAe,removeLine:uAe}=Y8.actions,Mge=Y8.reducer,Lge=E.createContext(void 0),Vge=t=>{var{children:e}=t,[n]=E.useState("".concat($m("recharts"),"-clip")),r=wb();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return E.createElement(Lge.Provider,{value:n},E.createElement("defs",null,E.createElement("clipPath",{id:n},E.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function Q8(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function Fge(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Dge(r,n)}function Bge(t,e,n){var r=n==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function ip(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function zge(t,e){return Q8(t,e+1)}function Uge(t,e,n,r,i){for(var s=(r||[]).slice(),{start:a,end:o}=e,l=0,d=1,f=a,m=function(){var v=r?.[l];if(v===void 0)return{v:Q8(r,d)};var w=l,_,T=()=>(_===void 0&&(_=n(v,w)),_),L=v.coordinate,O=l===0||ip(t,L,T,f,o);O||(l=0,f=a,d+=1),O&&(f=L+t*(T()/2+i),l+=d)},p;d<=s.length;)if(p=m(),p)return p.v;return[]}function $ge(t,e,n,r,i){var s=(r||[]).slice(),a=s.length;if(a===0)return[];for(var{start:o,end:l}=e,d=1;d<=a;d++){for(var f=(a-1)%d,m=o,p=!0,y=function(){var z=r[w];if(z==null)return 0;var j=w,P,C=()=>(P===void 0&&(P=n(z,j)),P),S=z.coordinate,k=w===f||ip(t,S,C,m,l);if(!k)return p=!1,1;k&&(m=S+t*(C()/2+i))},v,w=f;w<a&&(v=y(),!(v!==0&&v===1));w+=d);if(p){for(var _=[],T=f;T<a;T+=d){var L=r[T];L!=null&&_.push(L)}return _}}return[]}function DM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DM(Object(n),!0).forEach(function(r){qge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qge(t,e,n){return(e=Wge(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wge(t){var e=Hge(t,"string");return typeof e=="symbol"?e:e+""}function Hge(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kge(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,d=function(p){var y=s[p];if(y==null)return 1;var v=y,w,_=()=>(w===void 0&&(w=n(y,p)),w);if(p===a-1){var T=t*(v.coordinate+t*_()/2-l);s[p]=v=Mr(Mr({},v),{},{tickCoord:T>0?v.coordinate-T*t:v.coordinate})}else s[p]=v=Mr(Mr({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var L=ip(t,v.tickCoord,_,o,l);L&&(l=v.tickCoord-t*(_()/2+i),s[p]=Mr(Mr({},v),{},{isShow:!0}))}},f=a-1;f>=0;f--)d(f);return s}function Gge(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,{start:l,end:d}=e;if(s){var f=r[o-1];if(f!=null){var m=n(f,o-1),p=t*(f.coordinate+t*m/2-d);if(a[o-1]=f=Mr(Mr({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate}),f.tickCoord!=null){var y=ip(t,f.tickCoord,()=>m,l,d);y&&(d=f.tickCoord-t*(m/2+i),a[o-1]=Mr(Mr({},f),{},{isShow:!0}))}}}for(var v=s?o-1:o,w=function(L){var O=a[L];if(O==null)return 1;var z=O,j,P=()=>(j===void 0&&(j=n(O,L)),j);if(L===0){var C=t*(z.coordinate-t*P()/2-l);a[L]=z=Mr(Mr({},z),{},{tickCoord:C<0?z.coordinate-C*t:z.coordinate})}else a[L]=z=Mr(Mr({},z),{},{tickCoord:z.coordinate});if(z.tickCoord!=null){var S=ip(t,z.tickCoord,P,l,d);S&&(l=z.tickCoord+t*(P()/2+i),a[L]=Mr(Mr({},z),{},{isShow:!0}))}},_=0;_<v;_++)w(_);return a}function Xge(t,e,n){var{tick:r,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:d,unit:f,angle:m}=t;if(!i||!i.length||!r)return[];if(Ze(l)||Fp.isSsr){var p;return(p=zge(i,Ze(l)?l:0))!==null&&p!==void 0?p:[]}var y=[],v=o==="top"||o==="bottom"?"width":"height",w=f&&v==="width"?Em(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},_=(j,P)=>{var C=typeof d=="function"?d(j.value,P):j.value;return v==="width"?Fge(Em(C,{fontSize:e,letterSpacing:n}),w,m):Em(C,{fontSize:e,letterSpacing:n})[v]},T=i[0],L=i[1],O=i.length>=2&&T!=null&&L!=null?Fs(L.coordinate-T.coordinate):1,z=Bge(s,O,v);return l==="equidistantPreserveStart"?Uge(O,z,_,i,a):l==="equidistantPreserveEnd"?$ge(O,z,_,i,a):(l==="preserveStart"||l==="preserveStartEnd"?y=Gge(O,z,_,i,a,l==="preserveStartEnd"):y=Kge(O,z,_,i,a),y.filter(j=>j.isShow))}var Yge=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(f=>{if(f){var m=f.getBoundingClientRect();m.width>a&&(a=m.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+s,d=a+l+o+(n?r:0);return Math.round(d)}return 0},Qge=["axisLine","width","height","className","hide","ticks","axisType"];function Jge(t,e){if(t==null)return{};var n,r,i=Zge(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Zge(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(null,arguments)}function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){eye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eye(t,e,n){return(e=tye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tye(t){var e=nye(t,"string");return typeof e=="symbol"?e:e+""}function nye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xv={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Jr.axis};function rye(t){var{x:e,y:n,width:r,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var d=An(An(An({},l),Ws(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);d=An(An({},d),{},{x1:e,y1:n+f*i,x2:e+r,y2:n+f*i})}else{var m=+(s==="left"&&!a||s==="right"&&a);d=An(An({},d),{},{x1:e+m*r,y1:n,x2:e+m*r,y2:n+i})}return E.createElement("line",Su({},d,{className:Qt("recharts-cartesian-axis-line",Ox(o,"className"))}))}function iye(t,e,n,r,i,s,a,o,l){var d,f,m,p,y,v,w=o?-1:1,_=t.tickSize||a,T=Ze(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":d=f=t.coordinate,p=n+ +!o*i,m=p-w*_,v=m-w*l,y=T;break;case"left":m=p=t.coordinate,f=e+ +!o*r,d=f-w*_,y=d-w*l,v=T;break;case"right":m=p=t.coordinate,f=e+ +o*r,d=f+w*_,y=d+w*l,v=T;break;default:d=f=t.coordinate,p=n+ +o*i,m=p+w*_,v=m+w*l,y=T;break}return{line:{x1:d,y1:m,x2:f,y2:p},tick:{x:y,y:v}}}function sye(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function aye(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function oye(t){var{option:e,tickProps:n,value:r}=t,i,s=Qt(n.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(e))i=E.cloneElement(e,An(An({},n),{},{className:s}));else if(typeof e=="function")i=e(An(An({},n),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Qt(a,jpe(e))),i=E.createElement(nN,Su({},n,{className:a}),r)}return i}var lye=E.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:d,orientation:f,mirror:m,x:p,y,width:v,height:w,tickSize:_,tickMargin:T,fontSize:L,letterSpacing:O,getTicksConfig:z,events:j,axisType:P}=t,C=Xge(An(An({},z),{},{ticks:n}),L,O),S=sye(f,m),k=aye(f,m),A=Ws(z),D=jx(r),M={};typeof i=="object"&&(M=i);var I=An(An({},A),{},{fill:"none"},M),K=C.map(F=>An({entry:F},iye(F,p,y,v,w,f,_,m,T))),Y=K.map(F=>{var{entry:G,line:q}=F;return E.createElement(us,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(G.value,"-").concat(G.coordinate,"-").concat(G.tickCoord)},i&&E.createElement("line",Su({},I,q,{className:Qt("recharts-cartesian-axis-tick-line",Ox(i,"className"))})))}),J=K.map((F,G)=>{var q,R,{entry:U,tick:H}=F,Q=An(An(An(An({verticalAnchor:k},A),{},{textAnchor:S,stroke:"none",fill:s},H),{},{index:G,payload:U,visibleTicksCount:C.length,tickFormatter:a,padding:l},d),{},{angle:(q=(R=d?.angle)!==null&&R!==void 0?R:A.angle)!==null&&q!==void 0?q:0}),Z=An(An({},Q),D);return E.createElement(us,Su({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(U.value,"-").concat(U.coordinate,"-").concat(U.tickCoord)},Ore(j,U,G)),r&&E.createElement(oye,{option:r,tickProps:Z,value:"".concat(typeof a=="function"?a(U.value,G):U.value).concat(o||"")}))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},J.length>0&&E.createElement(Oo,{zIndex:Jr.label},E.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:e},J)),Y.length>0&&E.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},Y))}),cye=E.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:s,hide:a,ticks:o,axisType:l}=t,d=Jge(t,Qge),[f,m]=E.useState(""),[p,y]=E.useState(""),v=E.useRef(null);E.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var _;return Yge({ticks:v.current,label:(_=t.labelRef)===null||_===void 0?void 0:_.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var w=E.useCallback(_=>{if(_){var T=_.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=T;var L=T[0];if(L){var O=window.getComputedStyle(L),z=O.fontSize,j=O.letterSpacing;(z!==f||j!==p)&&(m(z),y(j))}}},[f,p]);return a||r!=null&&r<=0||i!=null&&i<=0?null:E.createElement(Oo,{zIndex:t.zIndex},E.createElement(us,{className:Qt("recharts-cartesian-axis",s)},E.createElement(rye,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Ws(t)}),E.createElement(lye,{ref:w,axisType:l,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:p,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),E.createElement(ape,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},E.createElement(gpe,{label:t.label,labelRef:t.labelRef}),t.children)))}),J8=E.forwardRef((t,e)=>{var n=Ci(t,xv);return E.createElement(cye,Su({},n,{ref:e}))});J8.displayName="CartesianAxis";var uye={},Z8=Si({name:"errorBars",initialState:uye,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(s=>s.dataKey===r.dataKey&&s.direction===r.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:dAe,replaceErrorBar:fAe,removeErrorBar:hAe}=Z8.actions,dye=Z8.reducer,fye=["children"];function hye(t,e){if(t==null)return{};var n,r,i=mye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var pye={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},gye=E.createContext(pye);function yye(t){var{children:e}=t,n=hye(t,fye);return E.createElement(gye.Provider,{value:n},e)}function sN(t,e){var n,r,i=ct(d=>ko(d,t)),s=ct(d=>Ro(d,e)),a=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:p$.allowDataOverflow,o=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:sr.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function e9(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=wb(),{needClipX:s,needClipY:a,needClip:o}=sN(e,n);if(!o||!i)return null;var{x:l,y:d,width:f,height:m}=i;return E.createElement("clipPath",{id:"clipPath-".concat(r)},E.createElement("rect",{x:s?l:l-f/2,y:a?d:d-m/2,width:s?f:f*2,height:a?m:m*2}))}var t9=(t,e,n,r)=>bb(t,"xAxis",e,r),n9=(t,e,n,r)=>xb(t,"xAxis",e,r),r9=(t,e,n,r)=>bb(t,"yAxis",n,r),i9=(t,e,n,r)=>xb(t,"yAxis",n,r),vye=ye([rn,t9,r9,n9,i9],(t,e,n,r,i)=>Xs(t,"xAxis")?Tf(e,r,!1):Tf(n,i,!1)),xye=(t,e,n,r,i)=>i;function bye(t){return t.type==="line"}var wye=ye([LA,xye],(t,e)=>t.filter(bye).find(n=>n.id===e)),_ye=ye([rn,t9,r9,n9,i9,wye,vye,TA],(t,e,n,r,i,s,a,o)=>{var{chartData:l,dataStartIndex:d,dataEndIndex:f}=o;if(!(s==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||a==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:m,data:p}=s,y;if(p!=null&&p.length>0?y=p:y=l?.slice(d,f+1),y!=null)return lve({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:m,bandSize:a,displayedData:y})}});function s9(t){var e=jx(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),o=Number(s);return(Number.isNaN(a)||a<0)&&(a=n),(Number.isNaN(o)||o<0)&&(o=r),{r:a,strokeWidth:o}}return{r:n,strokeWidth:r}}var Q_={exports:{}},J_={};var MM;function Eye(){if(MM)return J_;MM=1;var t=ni();function e(l,d){return l===d&&(l!==0||1/l===1/d)||l!==l&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,o=t.useDebugValue;return J_.useSyncExternalStoreWithSelector=function(l,d,f,m,p){var y=i(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=a(function(){function _(j){if(!T){if(T=!0,L=j,j=m(j),p!==void 0&&v.hasValue){var P=v.value;if(p(P,j))return O=P}return O=j}if(P=O,n(L,j))return P;var C=m(j);return p!==void 0&&p(P,C)?(L=j,P):(L=j,O=C)}var T=!1,L,O,z=f===void 0?null:f;return[function(){return _(d())},z===null?void 0:function(){return _(z())}]},[d,f,m,p]);var w=r(l,y[0],y[1]);return s(function(){v.hasValue=!0,v.value=w},[w]),o(w),w},J_}var LM;function Tye(){return LM||(LM=1,Q_.exports=Eye()),Q_.exports}Tye();function Cye(t){t()}function Sye(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Cye(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var VM={notify(){},get:()=>[]};function Pye(t,e){let n,r=VM,i=0,s=!1;function a(w){f();const _=r.subscribe(w);let T=!1;return()=>{T||(T=!0,_(),m())}}function o(){r.notify()}function l(){v.onStateChange&&v.onStateChange()}function d(){return s}function f(){i++,n||(n=t.subscribe(l),r=Sye())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=VM)}function p(){s||(s=!0,f())}function y(){s&&(s=!1,m())}const v={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:d,trySubscribe:p,tryUnsubscribe:y,getListeners:()=>r};return v}var Aye=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nye=Aye(),Iye=()=>typeof navigator<"u"&&navigator.product==="ReactNative",jye=Iye(),kye=()=>Nye||jye?E.useLayoutEffect:E.useEffect,Rye=kye();function FM(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function Dye(t,e){if(FM(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!FM(t[n[i]],e[n[i]]))return!1;return!0}var Oye=Symbol.for("react-redux-context"),Mye=typeof globalThis<"u"?globalThis:{};function Lye(){if(!E.createContext)return{};const t=Mye[Oye]??=new Map;let e=t.get(E.createContext);return e||(e=E.createContext(null),t.set(E.createContext,e)),e}var Vye=Lye();function Fye(t){const{children:e,context:n,serverState:r,store:i}=t,s=E.useMemo(()=>{const l=Pye(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=E.useMemo(()=>i.getState(),[i]);Rye(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=n||Vye;return E.createElement(o.Provider,{value:s},e)}var Bye=Fye,zye=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Uye(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function _b(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(zye.has(r)){if(t[r]==null&&e[r]==null)continue;if(!Dye(t[r],e[r]))return!1}else if(!Uye(t[r],e[r]))return!1;return!0}var $ye=["id"],qye=["type","layout","connectNulls","needClip","shape"],Wye=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function sp(){return sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sp.apply(null,arguments)}function BM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BM(Object(n),!0).forEach(function(r){Hye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hye(t,e,n){return(e=Kye(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kye(t){var e=Gye(t,"string");return typeof e=="symbol"?e:e+""}function Gye(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aN(t,e){if(t==null)return{};var n,r,i=Xye(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Xye(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Yye=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:s}=t;return[{inactive:s,dataKey:e,type:i,color:r,value:Hx(n,e),payload:t}]},Qye=E.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l,tooltipType:d,id:f}=t,m={dataDefinedOnItem:n,getPosition:Du,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Hx(a,e),hide:o,type:d,color:r,unit:l,graphicalItemId:f}};return E.createElement(z8,{tooltipEntrySettings:m})}),a9=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Jye(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Zye=(t,e,n)=>{var r=n.reduce((y,v)=>y+v);if(!r)return a9(e,t);for(var i=Math.floor(t/r),s=t%r,a=e-t,o=[],l=0,d=0;l<n.length;d+=(f=n[l])!==null&&f!==void 0?f:0,++l){var f,m=n[l];if(m!=null&&d+m>s){o=[...n.slice(0,l),s-d];break}}var p=o.length%2===0?[0,a]:[a];return[...Jye(n,i),...o,...p].map(y=>"".concat(y,"px")).join(", ")};function eve(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:s,needClip:a}=r,{id:o}=r,l=aN(r,$ye),d=Ws(l);return E.createElement(H8,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:d,needClip:a,clipPathId:e})}function tve(t){var{showLabels:e,children:n,points:r}=t,i=E.useMemo(()=>r?.map(s=>{var a,o,l={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return fa(fa({},l),{},{value:s.value,payload:s.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return E.createElement(M8,{value:e?i:void 0},n)}function zM(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:s}=t,{type:a,layout:o,connectNulls:l,needClip:d,shape:f}=s,m=aN(s,qye),p=fa(fa({},zr(m)),{},{fill:"none",className:"recharts-line-curve",clipPath:d?"url(#clipPath-".concat(e,")"):void 0,points:r,type:a,layout:o,connectNulls:l,strokeDasharray:i??s.strokeDasharray});return E.createElement(E.Fragment,null,r?.length>1&&E.createElement(Ype,sp({shapeType:"curve",option:f},p,{pathRef:n})),E.createElement(eve,{points:r,clipPathId:e,props:s}))}function nve(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function rve(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=t,{points:a,strokeDasharray:o,isAnimationActive:l,animationBegin:d,animationDuration:f,animationEasing:m,animateNewValues:p,width:y,height:v,onAnimationEnd:w,onAnimationStart:_}=n,T=i.current,L=nb(a,"recharts-line-"),O=E.useRef(L),[z,j]=E.useState(!1),P=!z,C=E.useCallback(()=>{typeof w=="function"&&w(),j(!1)},[w]),S=E.useCallback(()=>{typeof _=="function"&&_(),j(!0)},[_]),k=nve(r.current),A=E.useRef(0);O.current!==L&&(A.current=s.current,O.current=L);var D=A.current;return E.createElement(tve,{points:a,showLabels:P},n.children,E.createElement(tb,{animationId:L,begin:d,duration:f,isActive:l,easing:m,onAnimationEnd:C,onAnimationStart:S,key:L},M=>{var I=zn(D,k+D,M),K=Math.min(I,k),Y;if(l)if(o){var J="".concat(o).split(/[,\s]+/gim).map(q=>parseFloat(q));Y=Zye(K,k,J)}else Y=a9(k,K);else Y=o==null?void 0:String(o);if(M>0&&k>0&&(i.current=a,s.current=Math.max(s.current,K)),T){var F=T.length/a.length,G=M===1?a:a.map((q,R)=>{var U=Math.floor(R*F);if(T[U]){var H=T[U];return fa(fa({},q),{},{x:zn(H.x,q.x,M),y:zn(H.y,q.y,M)})}return p?fa(fa({},q),{},{x:zn(y*2,q.x,M),y:zn(v/2,q.y,M)}):fa(fa({},q),{},{x:q.x,y:q.y})});return i.current=G,E.createElement(zM,{props:n,points:G,clipPathId:e,pathRef:r,strokeDasharray:Y})}return E.createElement(zM,{props:n,points:a,clipPathId:e,pathRef:r,strokeDasharray:Y})}),E.createElement(V8,{label:n.label}))}function ive(t){var{clipPathId:e,props:n}=t,r=E.useRef(null),i=E.useRef(0),s=E.useRef(null);return E.createElement(rve,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:s})}var sve=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:Yn(t.payload,e)}};class ave extends E.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:s,yAxisId:a,top:o,left:l,width:d,height:f,id:m,needClip:p,zIndex:y}=this.props;if(e)return null;var v=Qt("recharts-line",i),w=m,{r:_,strokeWidth:T}=s9(n),L=iN(n),O=_*2+T,z=p?"url(#clipPath-".concat(L?"":"dots-").concat(w,")"):void 0;return E.createElement(Oo,{zIndex:y},E.createElement(us,{className:v},p&&E.createElement("defs",null,E.createElement(e9,{clipPathId:w,xAxisId:s,yAxisId:a}),!L&&E.createElement("clipPath",{id:"clipPath-dots-".concat(w)},E.createElement("rect",{x:l-O/2,y:o-O/2,width:d+O,height:f+O}))),E.createElement(yye,{xAxisId:s,yAxisId:a,data:r,dataPointFormatter:sve,errorBarOffset:0},E.createElement(ive,{props:this.props,clipPathId:w}))),E.createElement(kC,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:z}))}}var o9={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:Jr.line,type:"linear"};function ove(t){var e=Ci(t,o9),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,hide:d,isAnimationActive:f,label:m,legendType:p,xAxisId:y,yAxisId:v,id:w}=e,_=aN(e,Wye),{needClip:T}=sN(y,v),L=wb(),O=Ou(),z=Pi(),j=ct(A=>_ye(A,y,v,z,w));if(O!=="horizontal"&&O!=="vertical"||j==null||L==null)return null;var{height:P,width:C,x:S,y:k}=L;return E.createElement(ave,sp({},_,{id:w,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:a,isAnimationActive:f,hide:d,label:m,legendType:p,xAxisId:y,yAxisId:v,points:j,layout:O,height:P,width:C,left:S,top:k,needClip:T}))}function lve(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:a,bandSize:o,displayedData:l}=t;return l.map((d,f)=>{var m=Yn(d,a);if(e==="horizontal"){var p=h0({axis:n,ticks:i,bandSize:o,entry:d,index:f}),y=fr(m)?null:r.scale.map(m);return{x:p,y:y??null,value:m,payload:d}}var v=fr(m)?null:n.scale.map(m),w=h0({axis:r,ticks:s,bandSize:o,entry:d,index:f});return v==null||w==null?null:{x:v,y:w,value:m,payload:d}}).filter(Boolean)}function cve(t){var e=Ci(t,o9),n=Pi();return E.createElement($8,{id:e.id,type:"line"},r=>E.createElement(E.Fragment,null,E.createElement(U8,{legendPayload:Yye(e)}),E.createElement(Qye,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),E.createElement(W8,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),E.createElement(ove,sp({},e,{id:r}))))}var l9=E.memo(cve,_b);l9.displayName="Line";function oN(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.xAxisId)!==null&&n!==void 0?n:K8}function lN(t,e){var n,r;return(n=(r=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||r===void 0?void 0:r.yAxisId)!==null&&n!==void 0?n:K8}var c9=(t,e,n)=>bb(t,"xAxis",oN(t,e),n),u9=(t,e,n)=>xb(t,"xAxis",oN(t,e),n),d9=(t,e,n)=>bb(t,"yAxis",lN(t,e),n),f9=(t,e,n)=>xb(t,"yAxis",lN(t,e),n),uve=ye([rn,c9,d9,u9,f9],(t,e,n,r,i)=>Xs(t,"xAxis")?Tf(e,r,!1):Tf(n,i,!1)),dve=(t,e)=>e,h9=ye([LA,dve],(t,e)=>t.filter(n=>n.type==="area").find(n=>n.id===e)),m9=t=>{var e=rn(t),n=Xs(e,"xAxis");return n?"yAxis":"xAxis"},fve=(t,e)=>{var n=m9(t);return n==="yAxis"?lN(t,e):oN(t,e)},hve=(t,e,n)=>P$(t,m9(t),fve(t,e),n),mve=ye([h9,hve],(t,e)=>{var n;if(!(t==null||e==null)){var{stackId:r}=t,i=DA(t);if(!(r==null||i==null)){var s=(n=e[r])===null||n===void 0?void 0:n.stackedData,a=s?.find(o=>o.key===i);if(a!=null)return a.map(o=>[o[0],o[1]])}}}),pve=ye([rn,c9,d9,u9,f9,mve,$ue,uve,h9,Jue],(t,e,n,r,i,s,a,o,l,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:p}=a;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||n==null||r==null||i==null||r.length===0||i.length===0||o==null)){var{data:y}=l,v;if(y&&y.length>0?v=y:v=f?.slice(m,p+1),v!=null)return Dve({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:m,areaSettings:l,stackedData:s,displayedData:v,chartBaseValue:d,bandSize:o})}}),gve=["id"],yve=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},su.apply(null,arguments)}function p9(t,e){if(t==null)return{};var n,r,i=vve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function UM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UM(Object(n),!0).forEach(function(r){xve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xve(t,e,n){return(e=bve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bve(t){var e=wve(t,"string");return typeof e=="symbol"?e:e+""}function wve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function z0(t,e){return t&&t!=="none"?t:e}var _ve=t=>{var{dataKey:e,name:n,stroke:r,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:z0(r,i),value:Hx(n,e),payload:t}]},Eve=E.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:s,name:a,hide:o,unit:l,tooltipType:d,id:f}=t,m={dataDefinedOnItem:n,getPosition:Du,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:Hx(a,e),hide:o,type:d,color:z0(r,s),unit:l,graphicalItemId:f}};return E.createElement(z8,{tooltipEntrySettings:m})});function Tve(t){var{clipPathId:e,points:n,props:r}=t,{needClip:i,dot:s,dataKey:a}=r,o=Ws(r);return E.createElement(H8,{points:n,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:o,needClip:i,clipPathId:e})}function Cve(t){var{showLabels:e,children:n,points:r}=t,i=r.map(s=>{var a,o,l={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ud(Ud({},l),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return E.createElement(M8,{value:e?i:void 0},n)}function $M(t){var{points:e,baseLine:n,needClip:r,clipPathId:i,props:s}=t,{layout:a,type:o,stroke:l,connectNulls:d,isRange:f}=s,{id:m}=s,p=p9(s,gve),y=Ws(p),v=zr(p);return E.createElement(E.Fragment,null,e?.length>1&&E.createElement(us,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},E.createElement(_m,su({},v,{id:m,points:e,connectNulls:d,type:o,baseLine:n,layout:a,stroke:"none",className:"recharts-area-area"})),l!=="none"&&E.createElement(_m,su({},y,{className:"recharts-area-curve",layout:a,type:o,connectNulls:d,fill:"none",points:e})),l!=="none"&&f&&E.createElement(_m,su({},y,{className:"recharts-area-curve",layout:a,type:o,connectNulls:d,fill:"none",points:n}))),E.createElement(Tve,{points:e,props:p,clipPathId:i}))}function Sve(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=t,o=(e=s[0])===null||e===void 0?void 0:e.y,l=(n=s[s.length-1])===null||n===void 0?void 0:n.y;if(!Mt(o)||!Mt(l))return null;var d=r*Math.abs(o-l),f=Math.max(...s.map(m=>m.x||0));return Ze(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(m=>m.x||0),f)),Ze(f)?E.createElement("rect",{x:0,y:o<l?o:o-d,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(d)}):null}function Pve(t){var e,n,{alpha:r,baseLine:i,points:s,strokeWidth:a}=t,o=(e=s[0])===null||e===void 0?void 0:e.x,l=(n=s[s.length-1])===null||n===void 0?void 0:n.x;if(!Mt(o)||!Mt(l))return null;var d=r*Math.abs(o-l),f=Math.max(...s.map(m=>m.y||0));return Ze(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(m=>m.y||0),f)),Ze(f)?E.createElement("rect",{x:o<l?o:o-d,y:0,width:d,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}function Ave(t){var{alpha:e,layout:n,points:r,baseLine:i,strokeWidth:s}=t;return n==="vertical"?E.createElement(Sve,{alpha:e,points:r,baseLine:i,strokeWidth:s}):E.createElement(Pve,{alpha:e,points:r,baseLine:i,strokeWidth:s})}function Nve(t){var{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=t,{points:a,baseLine:o,isAnimationActive:l,animationBegin:d,animationDuration:f,animationEasing:m,onAnimationStart:p,onAnimationEnd:y}=r,v=E.useMemo(()=>({points:a,baseLine:o}),[a,o]),w=nb(v,"recharts-area-"),_=Q6(),[T,L]=E.useState(!1),O=!T,z=E.useCallback(()=>{typeof y=="function"&&y(),L(!1)},[y]),j=E.useCallback(()=>{typeof p=="function"&&p(),L(!0)},[p]);if(_==null)return null;var P=i.current,C=s.current;return E.createElement(Cve,{showLabels:O,points:a},r.children,E.createElement(tb,{animationId:w,begin:d,duration:f,isActive:l,easing:m,onAnimationEnd:z,onAnimationStart:j,key:w},S=>{if(P){var k=P.length/a.length,A=S===1?a:a.map((M,I)=>{var K=Math.floor(I*k);if(P[K]){var Y=P[K];return Ud(Ud({},M),{},{x:zn(Y.x,M.x,S),y:zn(Y.y,M.y,S)})}return M}),D;return Ze(o)?D=zn(C,o,S):fr(o)||Sa(o)?D=zn(C,0,S):D=o.map((M,I)=>{var K=Math.floor(I*k);if(Array.isArray(C)&&C[K]){var Y=C[K];return Ud(Ud({},M),{},{x:zn(Y.x,M.x,S),y:zn(Y.y,M.y,S)})}return M}),S>0&&(i.current=A,s.current=D),E.createElement($M,{points:A,baseLine:D,needClip:e,clipPathId:n,props:r})}return S>0&&(i.current=a,s.current=o),E.createElement(us,null,l&&E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(n)},E.createElement(Ave,{alpha:S,points:a,baseLine:o,layout:_,strokeWidth:r.strokeWidth}))),E.createElement(us,{clipPath:"url(#animationClipPath-".concat(n,")")},E.createElement($M,{points:a,baseLine:o,needClip:e,clipPathId:n,props:r})))}),E.createElement(V8,{label:r.label}))}function Ive(t){var{needClip:e,clipPathId:n,props:r}=t,i=E.useRef(null),s=E.useRef();return E.createElement(Nve,{needClip:e,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s})}class jve extends E.PureComponent{render(){var{hide:e,dot:n,points:r,className:i,top:s,left:a,needClip:o,xAxisId:l,yAxisId:d,width:f,height:m,id:p,baseLine:y,zIndex:v}=this.props;if(e)return null;var w=Qt("recharts-area",i),_=p,{r:T,strokeWidth:L}=s9(n),O=iN(n),z=T*2+L,j=o?"url(#clipPath-".concat(O?"":"dots-").concat(_,")"):void 0;return E.createElement(Oo,{zIndex:v},E.createElement(us,{className:w},o&&E.createElement("defs",null,E.createElement(e9,{clipPathId:_,xAxisId:l,yAxisId:d}),!O&&E.createElement("clipPath",{id:"clipPath-dots-".concat(_)},E.createElement("rect",{x:a-z/2,y:s-z/2,width:f+z,height:m+z}))),E.createElement(Ive,{needClip:o,clipPathId:_,props:this.props})),E.createElement(kC,{points:r,mainColor:z0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}),this.props.isRange&&Array.isArray(y)&&E.createElement(kC,{points:y,mainColor:z0(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}))}}var g9={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Jr.area};function kve(t){var e,n=Ci(t,g9),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,fill:d,fillOpacity:f,hide:m,isAnimationActive:p,legendType:y,stroke:v,xAxisId:w,yAxisId:_}=n,T=p9(n,yve),L=Ou(),O=g8(),{needClip:z}=sN(w,_),j=Pi(),{points:P,isRange:C,baseLine:S}=(e=ct(K=>pve(K,t.id,j)))!==null&&e!==void 0?e:{},k=wb();if(L!=="horizontal"&&L!=="vertical"||k==null||O!=="AreaChart"&&O!=="ComposedChart")return null;var{height:A,width:D,x:M,y:I}=k;return!P||!P.length?null:E.createElement(jve,su({},T,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:S,connectNulls:o,dot:l,fill:d,fillOpacity:f,height:A,hide:m,layout:L,isAnimationActive:p==="auto"?!Fp.isSsr:p,isRange:C,legendType:y,needClip:z,points:P,stroke:v,width:D,left:M,top:I,xAxisId:w,yAxisId:_}))}var Rve=(t,e,n,r,i)=>{var s=n??e;if(Ze(s))return s;var a=t==="horizontal"?i:r,o=a.scale.domain();if(a.type==="number"){var l=Math.max(o[0],o[1]),d=Math.min(o[0],o[1]);return s==="dataMin"?d:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function Dve(t){var{areaSettings:{connectNulls:e,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:a,xAxis:o,yAxis:l,displayedData:d,dataStartIndex:f,xAxisTicks:m,yAxisTicks:p,bandSize:y}=t,v=i&&i.length,w=Rve(s,a,n,o,l),_=s==="horizontal",T=!1,L=d.map((z,j)=>{var P,C,S,k;if(v)k=i[f+j];else{var A=Yn(z,r);Array.isArray(A)?(k=A,T=!0):k=[w,A]}var D=(P=(C=k)===null||C===void 0?void 0:C[1])!==null&&P!==void 0?P:null,M=D==null||v&&!e&&Yn(z,r)==null;if(_){var I;return{x:h0({axis:o,ticks:m,bandSize:y,entry:z,index:j}),y:M?null:(I=l.scale.map(D))!==null&&I!==void 0?I:null,value:k,payload:z}}return{x:M?null:(S=o.scale.map(D))!==null&&S!==void 0?S:null,y:h0({axis:l,ticks:p,bandSize:y,entry:z,index:j}),value:k,payload:z}}),O;return v||T?O=L.map(z=>{var j,P=Array.isArray(z.value)?z.value[0]:null;if(_){var C;return{x:z.x,y:P!=null&&z.y!=null&&(C=l.scale.map(P))!==null&&C!==void 0?C:null,payload:z.payload}}return{x:P!=null&&(j=o.scale.map(P))!==null&&j!==void 0?j:null,y:z.y,payload:z.payload}}):O=_?l.scale.map(w):o.scale.map(w),{points:L,baseLine:O??0,isRange:T}}function Ove(t){var e=Ci(t,g9),n=Pi();return E.createElement($8,{id:e.id,type:"area"},r=>E.createElement(E.Fragment,null,E.createElement(U8,{legendPayload:_ve(e)}),E.createElement(Eve,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),E.createElement(W8,{type:"area",id:r,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:$se(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:n,connectNulls:e.connectNulls}),E.createElement(kve,su({},e,{id:r}))))}var RC=E.memo(Ove,_b);RC.displayName="Area";var Mve=["domain","range"],Lve=["domain","range"];function qM(t,e){if(t==null)return{};var n,r,i=Vve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Vve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function WM(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Fve(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=qM(t,Mve),{domain:s,range:a}=e,o=qM(e,Lve);return!WM(n,s)||!WM(r,a)?!1:_b(i,o)}var Bve=["type"],zve=["dangerouslySetInnerHTML","ticks","scale"],Uve=["id","scale"];function DC(){return DC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DC.apply(null,arguments)}function HM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HM(Object(n),!0).forEach(function(r){$ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $ve(t,e,n){return(e=qve(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qve(t){var e=Wve(t,"string");return typeof e=="symbol"?e:e+""}function Wve(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OC(t,e){if(t==null)return{};var n,r,i=Hve(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hve(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kve(t){var e=Ar(),n=E.useRef(null),r=Q6(),{type:i}=t,s=OC(t,Bve),a=IA(r,"yAxis",i),o=E.useMemo(()=>{if(a!=null)return KM(KM({},s),{},{type:a})},[a,s]);return E.useLayoutEffect(()=>{o!=null&&(n.current===null?e(xge(o)):n.current!==o&&e(bge({prev:n.current,next:o})),n.current=o)},[o,e]),E.useLayoutEffect(()=>()=>{n.current&&(e(wge(n.current)),n.current=null)},[e]),null}function Gve(t){var{yAxisId:e,className:n,width:r,label:i}=t,s=E.useRef(null),a=E.useRef(null),o=ct(oae),l=Pi(),d=Ar(),f="yAxis",m=ct(P=>nfe(P,e)),p=ct(P=>tfe(P,e)),y=ct(P=>ife(P,f,e,l)),v=ct(P=>g$(P,e));if(E.useLayoutEffect(()=>{if(!(r!=="auto"||!m||rN(i)||E.isValidElement(i)||v==null)){var P=s.current;if(P){var C=P.getCalculatedWidth();Math.round(m.width)!==Math.round(C)&&d(_ge({id:e,width:C}))}}},[y,m,d,i,e,r,v]),m==null||p==null||v==null)return null;var{dangerouslySetInnerHTML:w,ticks:_,scale:T}=t,L=OC(t,zve),{id:O,scale:z}=v,j=OC(v,Uve);return E.createElement(J8,DC({},L,j,{ref:s,labelRef:a,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:m.width,height:m.height,className:Qt("recharts-".concat(f," ").concat(f),n),viewBox:o,ticks:y,axisType:f}))}var Xve={allowDataOverflow:sr.allowDataOverflow,allowDecimals:sr.allowDecimals,allowDuplicatedCategory:sr.allowDuplicatedCategory,angle:sr.angle,axisLine:xv.axisLine,hide:!1,includeHidden:sr.includeHidden,interval:sr.interval,label:!1,minTickGap:sr.minTickGap,mirror:sr.mirror,orientation:sr.orientation,padding:sr.padding,reversed:sr.reversed,scale:sr.scale,tick:sr.tick,tickCount:sr.tickCount,tickLine:xv.tickLine,tickSize:xv.tickSize,type:sr.type,width:sr.width,yAxisId:0},Yve=t=>{var e=Ci(t,Xve);return E.createElement(E.Fragment,null,E.createElement(Kve,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),E.createElement(Gve,e))},y9=E.memo(Yve,Fve);y9.displayName="YAxis";var Qve=(t,e)=>e,cN=ye([Qve,rn,h$,pr,u8,Do,yhe,Nr],The),uN=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},v9=ds("mouseClick"),x9=Op();x9.startListening({actionCreator:v9,effect:(t,e)=>{var n=t.payload,r=cN(e.getState(),uN(n));r?.activeIndex!=null&&e.dispatch(gfe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var MC=ds("mouseMove"),b9=Op(),qy=null;b9.startListening({actionCreator:MC,effect:(t,e)=>{var n=t.payload;qy!==null&&cancelAnimationFrame(qy);var r=uN(n);qy=requestAnimationFrame(()=>{var i=e.getState(),s=HA(i,i.tooltip.settings.shared);if(s==="axis"){var a=cN(i,r);a?.activeIndex!=null?e.dispatch(t8({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(e8())}qy=null})}});function Jve(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var GM={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},w9=Si({name:"rootProps",initialState:GM,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:GM.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Zve=w9.reducer,{updateOptions:e0e}=w9.actions,t0e=null,n0e={updatePolarOptions:(t,e)=>e.payload},_9=Si({name:"polarOptions",initialState:t0e,reducers:n0e}),{updatePolarOptions:mAe}=_9.actions,r0e=_9.reducer,E9=ds("keyDown"),T9=ds("focus"),dN=Op();dN.startListening({actionCreator:E9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=KA(i,Jf(n),Hp(n),Gp(n)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=Do(n);if(s==="Enter"){var d=M0(n,"axis","hover",String(i.index));e.dispatch(PC({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=ofe(n),m=f==="left-to-right"?1:-1,p=s==="ArrowRight"?1:-1,y=o+p*m;if(!(l==null||y>=l.length||y<0)){var v=M0(n,"axis","hover",String(y));e.dispatch(PC({active:!0,activeIndex:y.toString(),activeCoordinate:v}))}}}}}});dN.startListening({actionCreator:T9,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=M0(n,"axis","hover",String(s));e.dispatch(PC({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var es=ds("externalEvent"),C9=Op(),Z_=new Map;C9.startListening({actionCreator:es,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,s=Z_.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:nhe(o),activeDataKey:ehe(o),activeIndex:np(o),activeLabel:h8(o),activeTooltipIndex:np(o),isTooltipActive:rhe(o)};n(l,r)}finally{Z_.delete(i)}});Z_.set(i,a)}}});var i0e=ye([Yf],t=>t.tooltipItemPayloads),s0e=ye([i0e,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(s=>s.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),S9=ds("touchMove"),P9=Op();P9.startListening({actionCreator:S9,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=HA(r,r.tooltip.settings.shared);if(i==="axis"){var s=n.touches[0];if(s==null)return;var a=cN(r,uN({clientX:s.clientX,clientY:s.clientY,currentTarget:n.currentTarget}));a?.activeIndex!=null&&e.dispatch(t8({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var d=document.elementFromPoint(l.clientX,l.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(Yse),m=(o=d.getAttribute(Qse))!==null&&o!==void 0?o:void 0,p=Qf(r).find(w=>w.id===m);if(f==null||p==null||m==null)return;var{dataKey:y}=p,v=s0e(r,f,m);e.dispatch(pfe({activeDataKey:y,activeIndex:f,activeCoordinate:v,activeGraphicalItemId:m}))}}}});var a0e=y6({brush:kge,cartesianAxis:Ege,chartData:tme,errorBars:dye,graphicalItems:sge,layout:Dse,legend:Hae,options:Yhe,polarAxis:Ipe,polarOptions:r0e,referenceElements:Mge,rootProps:Zve,tooltip:yfe,zIndex:Vhe}),o0e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return sse({reducer:a0e,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([x9.middleware,b9.middleware,dN.middleware,C9.middleware,P9.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(k6({type:"raf"}))},devTools:{serialize:{replacer:Jve},name:"recharts-".concat(n)}})};function l0e(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=Pi(),s=E.useRef(null);if(i)return n;s.current==null&&(s.current=o0e(e,r));var a=qP;return E.createElement(Bye,{context:a,store:s.current},n)}function c0e(t){var{layout:e,margin:n}=t,r=Ar(),i=Pi();return E.useEffect(()=>{i||(r(jse(e)),r(Ise(n)))},[r,i,e,n]),null}var u0e=E.memo(c0e,_b);function d0e(t){var e=Ar();return E.useEffect(()=>{e(e0e(t))},[e,t]),null}function XM(t){var{zIndex:e,isPanorama:n}=t,r=E.useRef(null),i=Ar();return E.useLayoutEffect(()=>(r.current&&i(Mhe({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Lhe({zIndex:e,isPanorama:n}))}),[i,e,n]),E.createElement("g",{tabIndex:-1,ref:r})}function YM(t){var{children:e,isPanorama:n}=t,r=ct(She);if(!r||r.length===0)return e;var i=r.filter(a=>a<0),s=r.filter(a=>a>0);return E.createElement(E.Fragment,null,i.map(a=>E.createElement(XM,{key:a,zIndex:a,isPanorama:n})),e,s.map(a=>E.createElement(XM,{key:a,zIndex:a,isPanorama:n})))}var f0e=["children"];function h0e(t,e){if(t==null)return{};var n,r,i=m0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function m0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},U0.apply(null,arguments)}var p0e={width:"100%",height:"100%",display:"block"},g0e=E.forwardRef((t,e)=>{var n=Aae(),r=Nae(),i=aU();if(!Kl(n)||!Kl(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=t,d,f;return a!=null&&(typeof a.tabIndex=="number"?d=a.tabIndex:d=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0),E.createElement(Oz,U0({},a,{title:o,desc:l,role:f,tabIndex:d,width:n,height:r,style:p0e,ref:e}),s)}),y0e=t=>{var{children:e}=t,n=ct(Yx);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return E.createElement(Oz,{width:r,height:i,x:a,y:s},e)},QM=E.forwardRef((t,e)=>{var{children:n}=t,r=h0e(t,f0e),i=Pi();return i?E.createElement(y0e,null,E.createElement(YM,{isPanorama:!0},n)):E.createElement(g0e,U0({ref:e},r),E.createElement(YM,{isPanorama:!1},n))});function v0e(){var t=Ar(),[e,n]=E.useState(null),r=ct(Xse);return E.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Mt(s)&&s!==r&&t(Rse(s))}},[e,t,r]),n}function JM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function x0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JM(Object(n),!0).forEach(function(r){b0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function b0e(t,e,n){return(e=w0e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w0e(t){var e=_0e(t,"string");return typeof e=="symbol"?e:e+""}function _0e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rl(){return Rl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rl.apply(null,arguments)}var E0e=()=>(ume(),null);function $0(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var T0e=E.forwardRef((t,e)=>{var n,r,i=E.useRef(null),[s,a]=E.useState({containerWidth:$0((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:$0((r=t.style)===null||r===void 0?void 0:r.height)}),o=E.useCallback((d,f)=>{a(m=>{var p=Math.round(d),y=Math.round(f);return m.containerWidth===p&&m.containerHeight===y?m:{containerWidth:p,containerHeight:y}})},[]),l=E.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:m}=d.getBoundingClientRect();o(f,m);var p=v=>{var w=v[0];if(w!=null){var{width:_,height:T}=w.contentRect;o(_,T)}},y=new ResizeObserver(p);y.observe(d),i.current=y}},[e,o]);return E.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[o]),E.createElement(E.Fragment,null,E.createElement(Lp,{width:s.containerWidth,height:s.containerHeight}),E.createElement("div",Rl({ref:l},t)))}),C0e=E.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,s]=E.useState({containerWidth:$0(n),containerHeight:$0(r)}),a=E.useCallback((l,d)=>{s(f=>{var m=Math.round(l),p=Math.round(d);return f.containerWidth===m&&f.containerHeight===p?f:{containerWidth:m,containerHeight:p}})},[]),o=E.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:d,height:f}=l.getBoundingClientRect();a(d,f)}},[e,a]);return E.createElement(E.Fragment,null,E.createElement(Lp,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",Rl({ref:o},t)))}),S0e=E.forwardRef((t,e)=>{var{width:n,height:r}=t;return E.createElement(E.Fragment,null,E.createElement(Lp,{width:n,height:r}),E.createElement("div",Rl({ref:e},t)))}),P0e=E.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?E.createElement(C0e,Rl({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?E.createElement(S0e,Rl({},t,{width:n,height:r,ref:e})):E.createElement(E.Fragment,null,E.createElement(Lp,{width:n,height:r}),E.createElement("div",Rl({ref:e},t)))});function A0e(t){return t?T0e:P0e}var N0e=E.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:d,onMouseLeave:f,onMouseMove:m,onMouseUp:p,onTouchEnd:y,onTouchMove:v,onTouchStart:w,style:_,width:T,responsive:L,dispatchTouchEvents:O=!0}=t,z=E.useRef(null),j=Ar(),[P,C]=E.useState(null),[S,k]=E.useState(null),A=v0e(),D=QP(),M=D?.width>0?D.width:T,I=D?.height>0?D.height:i,K=E.useCallback(se=>{A(se),typeof e=="function"&&e(se),C(se),k(se),se!=null&&(z.current=se)},[A,e,C,k]),Y=E.useCallback(se=>{j(v9(se)),j(es({handler:s,reactEvent:se}))},[j,s]),J=E.useCallback(se=>{j(MC(se)),j(es({handler:d,reactEvent:se}))},[j,d]),F=E.useCallback(se=>{j(e8()),j(es({handler:f,reactEvent:se}))},[j,f]),G=E.useCallback(se=>{j(MC(se)),j(es({handler:m,reactEvent:se}))},[j,m]),q=E.useCallback(()=>{j(T9())},[j]),R=E.useCallback(se=>{j(E9(se.key))},[j]),U=E.useCallback(se=>{j(es({handler:a,reactEvent:se}))},[j,a]),H=E.useCallback(se=>{j(es({handler:o,reactEvent:se}))},[j,o]),Q=E.useCallback(se=>{j(es({handler:l,reactEvent:se}))},[j,l]),Z=E.useCallback(se=>{j(es({handler:p,reactEvent:se}))},[j,p]),te=E.useCallback(se=>{j(es({handler:w,reactEvent:se}))},[j,w]),ae=E.useCallback(se=>{O&&j(S9(se)),j(es({handler:v,reactEvent:se}))},[j,O,v]),re=E.useCallback(se=>{j(es({handler:y,reactEvent:se}))},[j,y]),xe=A0e(L);return E.createElement(w8.Provider,{value:P},E.createElement(Vne.Provider,{value:S},E.createElement(xe,{width:M??_?.width,height:I??_?.height,className:Qt("recharts-wrapper",r),style:x0e({position:"relative",cursor:"default",width:M,height:I},_),onClick:Y,onContextMenu:U,onDoubleClick:H,onFocus:q,onKeyDown:R,onMouseDown:Q,onMouseEnter:J,onMouseLeave:F,onMouseMove:G,onMouseUp:Z,onTouchEnd:re,onTouchMove:ae,onTouchStart:te,ref:K},E.createElement(E0e,null),n)))}),I0e=["width","height","responsive","children","className","style","compact","title","desc"];function j0e(t,e){if(t==null)return{};var n,r,i=k0e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function k0e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var R0e=E.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:s,className:a,style:o,compact:l,title:d,desc:f}=t,m=j0e(t,I0e),p=Ws(m);return l?E.createElement(E.Fragment,null,E.createElement(Lp,{width:n,height:r}),E.createElement(QM,{otherAttributes:p,title:d,desc:f},s)):E.createElement(N0e,{className:a,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},E.createElement(QM,{otherAttributes:p,title:d,desc:f,ref:e},E.createElement(Vge,null,s)))});function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LC.apply(null,arguments)}var D0e={top:5,right:5,bottom:5,left:5},O0e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:D0e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},A9=E.forwardRef(function(e,n){var r,i=Ci(e.categoricalChartProps,O0e),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:d}=e,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return E.createElement(l0e,{preloadedState:{options:f},reduxStoreName:(r=d.id)!==null&&r!==void 0?r:s},E.createElement(jge,{chartData:d.data}),E.createElement(u0e,{layout:i.layout,margin:i.margin}),E.createElement(d0e,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(R0e,LC({},i,{ref:n})))}),M0e=["axis"],L0e=E.forwardRef((t,e)=>E.createElement(A9,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:M0e,tooltipPayloadSearcher:_8,categoricalChartProps:t,ref:e})),V0e=["axis"],F0e=E.forwardRef((t,e)=>E.createElement(A9,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:V0e,tooltipPayloadSearcher:_8,categoricalChartProps:t,ref:e}));function B0e({value:t}){const[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{const s=()=>{const l=[],d=t,f=t*.003;for(let m=0;m<24;m++){const p=m/24,y=(Math.random()-.5)*2,v=Math.sin(p*Math.PI*2)*.5,w=d+f*y*.5+f*v;l.push({value:w,timestamp:Date.now()-(24-m)*36e5})}return l};n(s()),i(!1);const a=setInterval(()=>{n(s())},60*1e3);return()=>clearInterval(a)},[t]),e.length===0?c.jsx("div",{className:"w-full h-full",style:{minHeight:"48px"}}):c.jsx("div",{className:"w-full h-full",style:{minWidth:"300px",minHeight:"48px"},children:c.jsx(Y6,{width:"100%",height:"100%",minHeight:48,children:c.jsxs(L0e,{data:e,children:[c.jsx(y9,{hide:!0,domain:["dataMin","dataMax"]}),c.jsx(l9,{type:"monotone",dataKey:"value",stroke:"rgba(255, 255, 255, 0.2)",strokeWidth:2,dot:!1,animationDuration:1e3,isAnimationActive:!0})]})})})}const eE=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin"},{id:"ethereum",symbol:"ETH",name:"Ethereum"},{id:"tether",symbol:"USDT",name:"Tether"},{id:"binancecoin",symbol:"BNB",name:"BNB"},{id:"solana",symbol:"SOL",name:"Solana"},{id:"ripple",symbol:"XRP",name:"XRP"},{id:"cardano",symbol:"ADA",name:"Cardano"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin"},{id:"polkadot",symbol:"DOT",name:"Polkadot"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu"}];function z0e({isOpen:t,onClose:e}){const[n,r]=E.useState(""),[i,s]=E.useState(eE),{prices:a}=Ti();E.useEffect(()=>{if(n.trim()==="")s(eE);else{const l=eE.filter(d=>d.name.toLowerCase().includes(n.toLowerCase())||d.symbol.toLowerCase().includes(n.toLowerCase()));s(l)}},[n]);const o=l=>new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:l<1?6:2}).format(l);return t?c.jsxs("div",{className:"fixed inset-0 z-50 bg-black/80 backdrop-blur-sm animate-in fade-in overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:`
        .search-modal-container::-webkit-scrollbar {
          display: none;
        }
      `}),c.jsxs("div",{className:"min-h-screen p-6 pt-12 search-modal-container",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsxs("div",{className:"flex-1 bg-white/5 backdrop-blur-md rounded-2xl px-4 py-3 flex items-center gap-3 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[c.jsx(Wl,{className:"text-white/60 w-5 h-5"}),c.jsx("input",{type:"text",placeholder:"Pesquisar criptomoeda...",value:n,onChange:l=>r(l.target.value),autoFocus:!0,className:"flex-1 bg-transparent text-white placeholder:text-white/40 outline-none text-sm"}),n&&c.jsx("button",{onClick:()=>r(""),className:"text-white/60 hover:text-white",children:c.jsx(qs,{className:"w-4 h-4"})})]}),c.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:c.jsx(qs,{className:"text-white w-5 h-5"})})]}),c.jsx("div",{className:"space-y-2",children:i.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-white/50 text-sm",children:"Nenhuma criptomoeda encontrada"})}):i.map(l=>{const d=a[l.id]?.usd||0,f=a[l.id]?.usd_24h_change||0,m=f>=0;return c.jsxs("button",{className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 flex items-center justify-between border border-white/10 hover:border-white/20 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx($t,{symbol:l.symbol,size:"sm"}),c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"text-white font-semibold text-sm",children:l.name}),c.jsx("p",{className:"text-white/50 text-xs",children:l.symbol})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-white font-semibold text-sm",children:d>0?`$${o(d)}`:""}),d>0&&c.jsxs("div",{className:`flex items-center justify-end gap-1 text-xs font-medium ${m?"text-[#34c759]":"text-[#ff3b30]"}`,children:[m?c.jsx(os,{className:"w-3 h-3"}):c.jsx(xu,{className:"w-3 h-3"}),Math.abs(f).toFixed(2).replace(".",","),"%"]})]})]},l.id)})})]})]}):null}function Gr(t,e){const n=typeof t=="string"?parseFloat(t):t;if(isNaN(n))return"0,00";const r=new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(n);if(e){const s={USD:"$",BRL:"R$",GBP:"",EUR:""}[e]||"";return s?`${s} ${r}`:r}return r}function ns(t){return t===0?"0":t<1e-8?t.toFixed(8):t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:8}).replace(/,(\d*?)0+$/,",$1").replace(/,$/,"")}function Wy(t,e=2){return new Intl.NumberFormat("pt-BR",{minimumFractionDigits:e,maximumFractionDigits:e}).format(t)}function U0e({isOpen:t,onClose:e}){const{portfolio:n}=Ks(),{prices:r}=Ti(),{t:i}=xt(),s=l=>{const f=Wy(l,2).split(",");return{main:f[0],cents:f[1]||"00"}},a=n.change24h>=0,o=n.holdings.map(l=>{const d=r[l.coinId]?.usd||(l.symbol==="USDT"?1:0),f=l.amount*d,m=f/n.totalBalanceUSDT*100;return{...l,valueUSDT:f,percentage:m,price:d}}).sort((l,d)=>d.valueUSDT-l.valueUSDT);return t?c.jsxs("div",{className:"fixed inset-0 z-50 bg-black/90 backdrop-blur-md animate-in fade-in overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:`
        .stats-modal-container::-webkit-scrollbar {
          display: none;
        }
      `}),c.jsxs("div",{className:"min-h-screen p-6 pt-12 pb-24 stats-modal-container",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center",children:c.jsx(dv,{className:"text-white w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-white text-lg",children:i.statsPage.title}),c.jsx("p",{className:"text-white/50 text-sm",children:i.statsPage.portfolioAnalysis})]})]}),c.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center border border-white/10 hover:bg-white/20 transition-all",children:c.jsx(qs,{className:"text-white w-5 h-5"})})]}),c.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 mb-6 border border-white/10",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-white/50 text-sm mb-2",children:i.statsPage.totalBalance}),c.jsxs("h1",{className:"text-3xl text-white mb-3",children:[s(n.totalBalanceUSDT).main,c.jsxs("span",{className:"text-xl",children:[",",s(n.totalBalanceUSDT).cents]}),c.jsx("span",{className:"text-lg text-white/50 ml-2",children:"USDT"})]}),c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsxs("div",{className:`flex items-center gap-1 px-3 py-1 rounded-full ${a?"bg-[#34c759]/20":"bg-[#ff3b30]/20"}`,children:[a?c.jsx(os,{className:`w-4 h-4 ${a?"text-[#34c759]":"text-[#ff3b30]"}`}):c.jsx(xu,{className:`w-4 h-4 ${a?"text-[#34c759]":"text-[#ff3b30]"}`}),c.jsxs("span",{className:`text-sm ${a?"text-[#34c759]":"text-[#ff3b30]"}`,children:[Wy(Math.abs(n.change24h))," USDT"]})]}),c.jsx("div",{className:`px-3 py-1 rounded-full ${a?"bg-[#34c759]/20":"bg-[#ff3b30]/20"}`,children:c.jsxs("span",{className:`text-sm ${a?"text-[#34c759]":"text-[#ff3b30]"}`,children:[a?"+":"",n.changePercent24h.toFixed(2).replace(".",","),"%"]})})]})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(dR,{className:"w-4 h-4 text-white/70"}),c.jsx("p",{className:"text-white/50 text-xs",children:i.statsPage.totalAssets})]}),c.jsx("p",{className:"text-white text-2xl",children:o.length})]}),c.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(dv,{className:"w-4 h-4 text-white/70"}),c.jsx("p",{className:"text-white/50 text-xs",children:i.statsPage.largestAsset})]}),c.jsx("p",{className:"text-white text-lg",children:o[0]?.symbol||""}),c.jsxs("p",{className:"text-white/50 text-xs",children:[o[0]?.percentage.toFixed(1).replace(".",","),"%"]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"text-white text-lg mb-4 flex items-center gap-2",children:[c.jsx(dR,{className:"w-5 h-5"}),i.statsPage.assetDistribution]}),c.jsx("div",{className:"space-y-3",children:o.map(l=>{const d=r[l.coinId]?.usd_24h_change||0,f=d>=0;return c.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx($t,{symbol:l.symbol,size:"sm"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-white text-sm",children:l.name}),c.jsxs("p",{className:"text-white/50 text-xs",children:[Wy(l.amount,4)," ",l.symbol]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-white text-sm",children:[Wy(l.valueUSDT)," USDT"]}),c.jsxs("div",{className:`text-xs ${f?"text-[#34c759]":"text-[#ff3b30]"}`,children:[f?"+":"",d.toFixed(2).replace(".",","),"%"]})]})]}),c.jsx("div",{className:"relative h-2 bg-white/10 rounded-full overflow-hidden",children:c.jsx("div",{className:"absolute left-0 top-0 h-full bg-white/30 rounded-full transition-all",style:{width:`${l.percentage}%`}})}),c.jsxs("p",{className:"text-white/50 text-xs mt-2",children:[l.percentage.toFixed(2).replace(".",","),"% ",i.statsPage.ofPortfolio]})]},l.symbol)})})]}),n.priceHistory.length>1&&c.jsxs("div",{className:"mb-6",children:[c.jsxs("h3",{className:"text-white text-lg mb-4 flex items-center gap-2",children:[c.jsx(dv,{className:"w-5 h-5"}),i.statsPage.portfolioHistory]}),c.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10",children:[c.jsx("div",{className:"h-32 relative",children:c.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[c.jsx("stop",{offset:"0%",stopColor:a?"#34c759":"#ff3b30",stopOpacity:"0.15"}),c.jsx("stop",{offset:"100%",stopColor:a?"#34c759":"#ff3b30",stopOpacity:"0"})]}),c.jsxs("filter",{id:"glow",children:[c.jsx("feGaussianBlur",{stdDeviation:"0.5",result:"coloredBlur"}),c.jsxs("feMerge",{children:[c.jsx("feMergeNode",{in:"coloredBlur"}),c.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),c.jsx("path",{d:(()=>{const l=n.priceHistory,d=Math.min(...l),m=Math.max(...l)-d||1,p=l.map((w,_)=>{const T=_/(l.length-1)*100,L=100-(w-d)/m*70-15;return{x:T,y:L}});let y=`M${p[0].x},${p[0].y}`;for(let w=0;w<p.length-1;w++){const _=p[Math.max(0,w-1)],T=p[w],L=p[w+1],O=p[Math.min(p.length-1,w+2)],z=T.x+(L.x-_.x)/6,j=T.y+(L.y-_.y)/6,P=L.x-(O.x-T.x)/6,C=L.y-(O.y-T.y)/6;y+=` C${z},${j} ${P},${C} ${L.x},${L.y}`}return`${y} L100,100 L0,100 Z`})(),fill:"url(#chartGradient)"}),c.jsx("path",{d:(()=>{const l=n.priceHistory,d=Math.min(...l),m=Math.max(...l)-d||1,p=l.map((v,w)=>{const _=w/(l.length-1)*100,T=100-(v-d)/m*70-15;return{x:_,y:T}});let y=`M${p[0].x},${p[0].y}`;for(let v=0;v<p.length-1;v++){const w=p[Math.max(0,v-1)],_=p[v],T=p[v+1],L=p[Math.min(p.length-1,v+2)],O=_.x+(T.x-w.x)/6,z=_.y+(T.y-w.y)/6,j=T.x-(L.x-_.x)/6,P=T.y-(L.y-_.y)/6;y+=` C${O},${z} ${j},${P} ${T.x},${T.y}`}return y})(),fill:"none",stroke:a?"#34c759":"#ff3b30",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)"})]})}),c.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs text-white/50",children:[c.jsx("span",{children:i.statsPage.lastUpdates.replace("{count}",String(n.priceHistory.length))}),c.jsx("span",{children:i.statsPage.updatesEvery5Min})]})]})]})]})]}):null}const $0e=[{symbol:"BTC",name:"Bitcoin",coinId:"bitcoin"},{symbol:"ETH",name:"Ethereum",coinId:"ethereum"},{symbol:"BNB",name:"BNB",coinId:"binancecoin"},{symbol:"SOL",name:"Solana",coinId:"solana"},{symbol:"XRP",name:"Ripple",coinId:"ripple"},{symbol:"ADA",name:"Cardano",coinId:"cardano"},{symbol:"AVAX",name:"Avalanche",coinId:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",coinId:"dogecoin"},{symbol:"DOT",name:"Polkadot",coinId:"polkadot"},{symbol:"MATIC",name:"Polygon",coinId:"matic-network"},{symbol:"LINK",name:"Chainlink",coinId:"chainlink"},{symbol:"UNI",name:"Uniswap",coinId:"uniswap"},{symbol:"LTC",name:"Litecoin",coinId:"litecoin"},{symbol:"ATOM",name:"Cosmos",coinId:"cosmos"},{symbol:"XLM",name:"Stellar",coinId:"stellar"},{symbol:"TRX",name:"Tron",coinId:"tron"},{symbol:"SHIB",name:"Shiba Inu",coinId:"shiba-inu"},{symbol:"WBTC",name:"Wrapped Bitcoin",coinId:"wrapped-bitcoin"},{symbol:"DAI",name:"Dai",coinId:"dai"},{symbol:"LEO",name:"UNUS SED LEO",coinId:"leo-token"},{symbol:"USDC",name:"USD Coin",coinId:"usd-coin"},{symbol:"TON",name:"Toncoin",coinId:"the-open-network"},{symbol:"ETC",name:"Ethereum Classic",coinId:"ethereum-classic"},{symbol:"BCH",name:"Bitcoin Cash",coinId:"bitcoin-cash"},{symbol:"APT",name:"Aptos",coinId:"aptos"},{symbol:"ARB",name:"Arbitrum",coinId:"arbitrum"},{symbol:"OP",name:"Optimism",coinId:"optimism"},{symbol:"ICP",name:"Internet Computer",coinId:"internet-computer"},{symbol:"FIL",name:"Filecoin",coinId:"filecoin"},{symbol:"NEAR",name:"NEAR Protocol",coinId:"near"},{symbol:"VET",name:"VeChain",coinId:"vechain"},{symbol:"ALGO",name:"Algorand",coinId:"algorand"},{symbol:"INJ",name:"Injective",coinId:"injective-protocol"},{symbol:"AAVE",name:"Aave",coinId:"aave"},{symbol:"MKR",name:"Maker",coinId:"maker"},{symbol:"GRT",name:"The Graph",coinId:"the-graph"},{symbol:"IMX",name:"Immutable X",coinId:"immutable-x"},{symbol:"STX",name:"Stacks",coinId:"blockstack"},{symbol:"HBAR",name:"Hedera",coinId:"hedera-hashgraph"},{symbol:"FTM",name:"Fantom",coinId:"fantom"},{symbol:"SAND",name:"The Sandbox",coinId:"the-sandbox"},{symbol:"MANA",name:"Decentraland",coinId:"decentraland"},{symbol:"AXS",name:"Axie Infinity",coinId:"axie-infinity"},{symbol:"XTZ",name:"Tezos",coinId:"tezos"},{symbol:"THETA",name:"Theta Network",coinId:"theta-token"},{symbol:"EOS",name:"EOS",coinId:"eos"},{symbol:"XMR",name:"Monero",coinId:"monero"},{symbol:"FLOW",name:"Flow",coinId:"flow"},{symbol:"CHZ",name:"Chiliz",coinId:"chiliz"},{symbol:"ZEC",name:"Zcash",coinId:"zcash"},{symbol:"RUNE",name:"THORChain",coinId:"thorchain"},{symbol:"KLAY",name:"Klaytn",coinId:"klay-token"},{symbol:"DASH",name:"Dash",coinId:"dash"},{symbol:"NEO",name:"Neo",coinId:"neo"},{symbol:"IOTA",name:"IOTA",coinId:"iota"},{symbol:"QNT",name:"Quant",coinId:"quant-network"},{symbol:"EGLD",name:"MultiversX",coinId:"elrond-erd-2"},{symbol:"PEPE",name:"Pepe",coinId:"pepe"},{symbol:"FET",name:"Fetch.ai",coinId:"fetch-ai"},{symbol:"SUI",name:"Sui",coinId:"sui"},{symbol:"SEI",name:"Sei",coinId:"sei-network"}];function q0e({isOpen:t,onClose:e,visibleCards:n,onToggleCard:r}){const{prices:i}=Ti();if(!t)return null;const s=a=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(a);return c.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[c.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:e}),c.jsxs("div",{className:"relative w-full max-w-md bg-[#1c1c1e] rounded-t-3xl sm:rounded-3xl shadow-2xl max-h-[85vh] flex flex-col animate-slide-up",children:[c.jsxs("div",{className:"px-6 py-5 border-b border-white/10 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl font-bold text-white",children:"Gerenciar Criptomoedas"}),c.jsx("button",{onClick:e,className:"w-8 h-8 rounded-full bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors",children:c.jsx(qs,{className:"w-5 h-5 text-white/70"})})]}),c.jsx("div",{className:"px-6 py-3 bg-white/5",children:c.jsx("p",{className:"text-sm text-white/50",children:"Selecione as criptomoedas para exibir na tela inicial"})}),c.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:c.jsx("div",{className:"space-y-2",children:$0e.map(a=>{const o=n.includes(a.symbol),l=i[a.coinId]?.usd||0,d=i[a.coinId]?.usd_24h_change||0;return c.jsxs("button",{onClick:()=>r(a.symbol),className:`w-full rounded-2xl p-4 flex items-center justify-between transition-all border ${o?"bg-white/10 border-white/20":"bg-white/5 border-white/5 hover:bg-white/10"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx($t,{symbol:a.symbol,size:"md"}),c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"text-base font-bold text-white",children:a.name}),c.jsx("p",{className:"text-sm text-white/50",children:a.symbol})]})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm font-semibold text-white",children:s(l)}),c.jsxs("div",{className:`text-xs ${d>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[d>=0?"+":"",d.toFixed(2).replace(".",","),"%"]})]}),c.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-all ${o?"bg-green-500":"bg-white/10 border border-white/20"}`,children:o?c.jsx(jn,{className:"w-4 h-4 text-white"}):c.jsx(vu,{className:"w-4 h-4 text-white/50"})})]})]},a.symbol)})})}),c.jsx("div",{className:"px-6 py-4 border-t border-white/10",children:c.jsx("button",{onClick:e,className:"w-full py-3.5 rounded-full bg-blue-500 hover:bg-blue-600 text-white font-semibold transition-colors",children:"Concluir"})})]})]})}function N9(t,e,n={}){const{maxRetries:r=3,retryDelay:i=1e3,onError:s}=n;let a=0,o=null,l=!1;const d=()=>{if(!l)try{o=hs(t,f=>{a=0,e(f)},f=>{if(console.error(" Erro no listener Firestore:",f),s&&s(f),f.code==="permission-denied"){console.error(" Erro de permisso - no ser feito retry");return}if(a<r&&!l){a++;const m=i*Math.pow(2,a-1);console.log(` Tentando reconectar (${a}/${r}) em ${m}ms...`),setTimeout(()=>{l||d()},m)}else console.error(" Mximo de tentativas de reconexo atingido")})}catch(f){console.error(" Erro ao configurar listener:",f)}};return d(),()=>{if(l=!0,o)try{o()}catch(f){console.error(" Erro ao desinscrever listener:",f)}}}function Yp(){const{user:t}=Dt(),[e,n]=E.useState([]),[r,i]=E.useState(!0),[s,a]=E.useState(!1);E.useEffect(()=>{if(!t?.uid){i(!1),n([]),a(!1);return}console.log(" Iniciando listener de saldos fiat para userId:",t.uid);const d=nt(be,"users",t.uid,"fiatBalances"),f=It(d),m=N9(f,p=>{console.log(" Snapshot de saldos fiat recebido - Total:",p.size);const y=[];p.forEach(v=>{const w=v.data();y.push({currency:w.currency||v.id,balance:w.balance||0,updatedAt:w.updatedAt?.toDate()||new Date})}),n(y),i(!1),a(!1),console.log(" Saldos fiat carregados:",y)},{maxRetries:3,retryDelay:1e3,onError:p=>{console.error(" Erro no listener de saldos fiat:",p),p.code==="permission-denied"&&(console.warn(" ERRO DE PERMISSO: Configure as regras do Firestore!"),a(!0)),i(!1)}});return()=>{console.log(" Cancelando listener de saldos fiat"),m()}},[t?.uid]);const o=d=>e.find(m=>m.currency===d)?.balance||0;return{balances:e,isLoading:r,hasPermissionError:s,getBalance:o,hasEnoughBalance:(d,f)=>o(d)>=f}}function ha({value:t,symbol:e,className:n="text-xl font-light",showSymbol:r=!0,decimalScale:i=.65}){const a=(typeof t=="number"?t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):t).split(","),o=a[0],l=a[1]||"00";return c.jsxs("span",{className:n,children:[r&&e&&`${e} `,o,c.jsxs("span",{style:{fontSize:`${i}em`},children:[",",l]})]})}var tE={},nE={},Jh={},rE={},ZM;function W0e(){return ZM||(ZM=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=e})(rE)),rE}var iE,e4;function H0e(){if(e4)return iE;e4=1;var t="Expected a function",e=NaN,n="[object Symbol]",r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt,l=typeof yy=="object"&&yy&&yy.Object===Object&&yy,d=typeof self=="object"&&self&&self.Object===Object&&self,f=l||d||Function("return this")(),m=Object.prototype,p=m.toString,y=Math.max,v=Math.min,w=function(){return f.Date.now()};function _(j,P,C){var S,k,A,D,M,I,K=0,Y=!1,J=!1,F=!0;if(typeof j!="function")throw new TypeError(t);P=z(P)||0,T(C)&&(Y=!!C.leading,J="maxWait"in C,A=J?y(z(C.maxWait)||0,P):A,F="trailing"in C?!!C.trailing:F);function G(re){var xe=S,se=k;return S=k=void 0,K=re,D=j.apply(se,xe),D}function q(re){return K=re,M=setTimeout(H,P),Y?G(re):D}function R(re){var xe=re-I,se=re-K,he=P-xe;return J?v(he,A-se):he}function U(re){var xe=re-I,se=re-K;return I===void 0||xe>=P||xe<0||J&&se>=A}function H(){var re=w();if(U(re))return Q(re);M=setTimeout(H,R(re))}function Q(re){return M=void 0,F&&S?G(re):(S=k=void 0,D)}function Z(){M!==void 0&&clearTimeout(M),K=0,S=I=k=M=void 0}function te(){return M===void 0?D:Q(w())}function ae(){var re=w(),xe=U(re);if(S=arguments,k=this,I=re,xe){if(M===void 0)return q(I);if(J)return M=setTimeout(H,P),G(I)}return M===void 0&&(M=setTimeout(H,P)),D}return ae.cancel=Z,ae.flush=te,ae}function T(j){var P=typeof j;return!!j&&(P=="object"||P=="function")}function L(j){return!!j&&typeof j=="object"}function O(j){return typeof j=="symbol"||L(j)&&p.call(j)==n}function z(j){if(typeof j=="number")return j;if(O(j))return e;if(T(j)){var P=typeof j.valueOf=="function"?j.valueOf():j;j=T(P)?P+"":P}if(typeof j!="string")return j===0?j:+j;j=j.replace(r,"");var C=s.test(j);return C||a.test(j)?o(j.slice(2),C?2:8):i.test(j)?e:+j}return iE=_,iE}var sE={exports:{}};var t4;function Eb(){return t4||(t4=1,(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,r(o)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(sE)),sE.exports}var Me={},aE={},n4;function I9(){return n4||(n4=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(ni());function n(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=r})(aE)),aE}var r4;function Qp(){if(r4)return Me;r4=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.checkSpecKeys=Me.checkNavigable=Me.changeSlide=Me.canUseDOM=Me.canGoNext=void 0,Me.clamp=d,Me.extractObject=void 0,Me.filterSettings=G,Me.validSettings=Me.swipeStart=Me.swipeMove=Me.swipeEnd=Me.slidesOnRight=Me.slidesOnLeft=Me.slideHandler=Me.siblingDirection=Me.safePreventDefault=Me.lazyStartIndex=Me.lazySlidesOnRight=Me.lazySlidesOnLeft=Me.lazyEndIndex=Me.keyHandler=Me.initializedState=Me.getWidth=Me.getTrackLeft=Me.getTrackCSS=Me.getTrackAnimateCSS=Me.getTotalSlides=Me.getSwipeDirection=Me.getSlideCount=Me.getRequiredLazySlides=Me.getPreClones=Me.getPostClones=Me.getOnDemandLazySlides=Me.getNavigableIndexes=Me.getHeight=void 0;var t=n(ni()),e=n(I9());function n(q){return q&&q.__esModule?q:{default:q}}function r(q){"@babel/helpers - typeof";return r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},r(q)}function i(q,R){var U=Object.keys(q);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols(q);R&&(H=H.filter(function(Q){return Object.getOwnPropertyDescriptor(q,Q).enumerable})),U.push.apply(U,H)}return U}function s(q){for(var R=1;R<arguments.length;R++){var U=arguments[R]!=null?arguments[R]:{};R%2?i(Object(U),!0).forEach(function(H){a(q,H,U[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(U)):i(Object(U)).forEach(function(H){Object.defineProperty(q,H,Object.getOwnPropertyDescriptor(U,H))})}return q}function a(q,R,U){return(R=o(R))in q?Object.defineProperty(q,R,{value:U,enumerable:!0,configurable:!0,writable:!0}):q[R]=U,q}function o(q){var R=l(q,"string");return r(R)=="symbol"?R:R+""}function l(q,R){if(r(q)!="object"||!q)return q;var U=q[Symbol.toPrimitive];if(U!==void 0){var H=U.call(q,R);if(r(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(R==="string"?String:Number)(q)}function d(q,R,U){return Math.max(R,Math.min(q,U))}var f=Me.safePreventDefault=function(R){var U=["onTouchStart","onTouchMove","onWheel"];U.includes(R._reactName)||R.preventDefault()},m=Me.getOnDemandLazySlides=function(R){for(var U=[],H=p(R),Q=y(R),Z=H;Z<Q;Z++)R.lazyLoadedList.indexOf(Z)<0&&U.push(Z);return U};Me.getRequiredLazySlides=function(R){for(var U=[],H=p(R),Q=y(R),Z=H;Z<Q;Z++)U.push(Z);return U};var p=Me.lazyStartIndex=function(R){return R.currentSlide-v(R)},y=Me.lazyEndIndex=function(R){return R.currentSlide+w(R)},v=Me.lazySlidesOnLeft=function(R){return R.centerMode?Math.floor(R.slidesToShow/2)+(parseInt(R.centerPadding)>0?1:0):0},w=Me.lazySlidesOnRight=function(R){return R.centerMode?Math.floor((R.slidesToShow-1)/2)+1+(parseInt(R.centerPadding)>0?1:0):R.slidesToShow},_=Me.getWidth=function(R){return R&&R.offsetWidth||0},T=Me.getHeight=function(R){return R&&R.offsetHeight||0},L=Me.getSwipeDirection=function(R){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,H,Q,Z,te;return H=R.startX-R.curX,Q=R.startY-R.curY,Z=Math.atan2(Q,H),te=Math.round(Z*180/Math.PI),te<0&&(te=360-Math.abs(te)),te<=45&&te>=0||te<=360&&te>=315?"left":te>=135&&te<=225?"right":U===!0?te>=35&&te<=135?"up":"down":"vertical"},O=Me.canGoNext=function(R){var U=!0;return R.infinite||(R.centerMode&&R.currentSlide>=R.slideCount-1||R.slideCount<=R.slidesToShow||R.currentSlide>=R.slideCount-R.slidesToShow)&&(U=!1),U};Me.extractObject=function(R,U){var H={};return U.forEach(function(Q){return H[Q]=R[Q]}),H},Me.initializedState=function(R){var U=t.default.Children.count(R.children),H=R.listRef,Q=Math.ceil(_(H)),Z=R.trackRef&&R.trackRef.node,te=Math.ceil(_(Z)),ae;if(R.vertical)ae=Q;else{var re=R.centerMode&&parseInt(R.centerPadding)*2;typeof R.centerPadding=="string"&&R.centerPadding.slice(-1)==="%"&&(re*=Q/100),ae=Math.ceil((Q-re)/R.slidesToShow)}var xe=H&&T(H.querySelector('[data-index="0"]')),se=xe*R.slidesToShow,he=R.currentSlide===void 0?R.initialSlide:R.currentSlide;R.rtl&&R.currentSlide===void 0&&(he=U-1-R.initialSlide);var Te=R.lazyLoadedList||[],me=m(s(s({},R),{},{currentSlide:he,lazyLoadedList:Te}));Te=Te.concat(me);var De={slideCount:U,slideWidth:ae,listWidth:Q,trackWidth:te,currentSlide:he,slideHeight:xe,listHeight:se,lazyLoadedList:Te};return R.autoplaying===null&&R.autoplay&&(De.autoplaying="playing"),De},Me.slideHandler=function(R){var U=R.waitForAnimate,H=R.animating,Q=R.fade,Z=R.infinite,te=R.index,ae=R.slideCount,re=R.lazyLoad,xe=R.currentSlide,se=R.centerMode,he=R.slidesToScroll,Te=R.slidesToShow,me=R.useCSS,De=R.lazyLoadedList;if(U&&H)return{};var Ie=te,Ye,Je,Qe,bt={},Vt={},ut=Z?te:d(te,0,ae-1);if(Q){if(!Z&&(te<0||te>=ae))return{};te<0?Ie=te+ae:te>=ae&&(Ie=te-ae),re&&De.indexOf(Ie)<0&&(De=De.concat(Ie)),bt={animating:!0,currentSlide:Ie,lazyLoadedList:De,targetSlide:Ie},Vt={animating:!1,targetSlide:Ie}}else Ye=Ie,Ie<0?(Ye=Ie+ae,Z?ae%he!==0&&(Ye=ae-ae%he):Ye=0):!O(R)&&Ie>xe?Ie=Ye=xe:se&&Ie>=ae?(Ie=Z?ae:ae-1,Ye=Z?0:ae-1):Ie>=ae&&(Ye=Ie-ae,Z?ae%he!==0&&(Ye=0):Ye=ae-Te),!Z&&Ie+Te>=ae&&(Ye=ae-Te),Je=A(s(s({},R),{},{slideIndex:Ie})),Qe=A(s(s({},R),{},{slideIndex:Ye})),Z||(Je===Qe&&(Ie=Ye),Je=Qe),re&&(De=De.concat(m(s(s({},R),{},{currentSlide:Ie})))),me?(bt={animating:!0,currentSlide:Ye,trackStyle:k(s(s({},R),{},{left:Je})),lazyLoadedList:De,targetSlide:ut},Vt={animating:!1,currentSlide:Ye,trackStyle:S(s(s({},R),{},{left:Qe})),swipeLeft:null,targetSlide:ut}):bt={currentSlide:Ye,trackStyle:S(s(s({},R),{},{left:Qe})),lazyLoadedList:De,targetSlide:ut};return{state:bt,nextState:Vt}},Me.changeSlide=function(R,U){var H,Q,Z,te,ae,re=R.slidesToScroll,xe=R.slidesToShow,se=R.slideCount,he=R.currentSlide,Te=R.targetSlide,me=R.lazyLoad,De=R.infinite;if(te=se%re!==0,H=te?0:(se-he)%re,U.message==="previous")Z=H===0?re:xe-H,ae=he-Z,me&&!De&&(Q=he-Z,ae=Q===-1?se-1:Q),De||(ae=Te-re);else if(U.message==="next")Z=H===0?re:H,ae=he+Z,me&&!De&&(ae=(he+re)%se+H),De||(ae=Te+re);else if(U.message==="dots")ae=U.index*U.slidesToScroll;else if(U.message==="children"){if(ae=U.index,De){var Ie=K(s(s({},R),{},{targetSlide:ae}));ae>U.currentSlide&&Ie==="left"?ae=ae-se:ae<U.currentSlide&&Ie==="right"&&(ae=ae+se)}}else U.message==="index"&&(ae=Number(U.index));return ae},Me.keyHandler=function(R,U,H){return R.target.tagName.match("TEXTAREA|INPUT|SELECT")||!U?"":R.keyCode===37?H?"next":"previous":R.keyCode===39?H?"previous":"next":""},Me.swipeStart=function(R,U,H){return R.target.tagName==="IMG"&&f(R),!U||!H&&R.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:R.touches?R.touches[0].pageX:R.clientX,startY:R.touches?R.touches[0].pageY:R.clientY,curX:R.touches?R.touches[0].pageX:R.clientX,curY:R.touches?R.touches[0].pageY:R.clientY}}},Me.swipeMove=function(R,U){var H=U.scrolling,Q=U.animating,Z=U.vertical,te=U.swipeToSlide,ae=U.verticalSwiping,re=U.rtl,xe=U.currentSlide,se=U.edgeFriction,he=U.edgeDragged,Te=U.onEdge,me=U.swiped,De=U.swiping,Ie=U.slideCount,Ye=U.slidesToScroll,Je=U.infinite,Qe=U.touchObject,bt=U.swipeEvent,Vt=U.listHeight,ut=U.listWidth;if(!H){if(Q)return f(R);Z&&te&&ae&&f(R);var oe,je={},qe=A(U);Qe.curX=R.touches?R.touches[0].pageX:R.clientX,Qe.curY=R.touches?R.touches[0].pageY:R.clientY,Qe.swipeLength=Math.round(Math.sqrt(Math.pow(Qe.curX-Qe.startX,2)));var dt=Math.round(Math.sqrt(Math.pow(Qe.curY-Qe.startY,2)));if(!ae&&!De&&dt>10)return{scrolling:!0};ae&&(Qe.swipeLength=dt);var ht=(re?-1:1)*(Qe.curX>Qe.startX?1:-1);ae&&(ht=Qe.curY>Qe.startY?1:-1);var le=Math.ceil(Ie/Ye),Oe=L(U.touchObject,ae),wt=Qe.swipeLength;return Je||(xe===0&&(Oe==="right"||Oe==="down")||xe+1>=le&&(Oe==="left"||Oe==="up")||!O(U)&&(Oe==="left"||Oe==="up"))&&(wt=Qe.swipeLength*se,he===!1&&Te&&(Te(Oe),je.edgeDragged=!0)),!me&&bt&&(bt(Oe),je.swiped=!0),Z?oe=qe+wt*(Vt/ut)*ht:re?oe=qe-wt*ht:oe=qe+wt*ht,ae&&(oe=qe+wt*ht),je=s(s({},je),{},{touchObject:Qe,swipeLeft:oe,trackStyle:S(s(s({},U),{},{left:oe}))}),Math.abs(Qe.curX-Qe.startX)<Math.abs(Qe.curY-Qe.startY)*.8||Qe.swipeLength>10&&(je.swiping=!0,f(R)),je}},Me.swipeEnd=function(R,U){var H=U.dragging,Q=U.swipe,Z=U.touchObject,te=U.listWidth,ae=U.touchThreshold,re=U.verticalSwiping,xe=U.listHeight,se=U.swipeToSlide,he=U.scrolling,Te=U.onSwipe,me=U.targetSlide,De=U.currentSlide,Ie=U.infinite;if(!H)return Q&&f(R),{};var Ye=re?xe/ae:te/ae,Je=L(Z,re),Qe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(he||!Z.swipeLength)return Qe;if(Z.swipeLength>Ye){f(R),Te&&Te(Je);var bt,Vt,ut=Ie?De:me;switch(Je){case"left":case"up":Vt=ut+P(U),bt=se?j(U,Vt):Vt,Qe.currentDirection=0;break;case"right":case"down":Vt=ut-P(U),bt=se?j(U,Vt):Vt,Qe.currentDirection=1;break;default:bt=ut}Qe.triggerSlideHandler=bt}else{var oe=A(U);Qe.trackStyle=k(s(s({},U),{},{left:oe}))}return Qe};var z=Me.getNavigableIndexes=function(R){for(var U=R.infinite?R.slideCount*2:R.slideCount,H=R.infinite?R.slidesToShow*-1:0,Q=R.infinite?R.slidesToShow*-1:0,Z=[];H<U;)Z.push(H),H=Q+R.slidesToScroll,Q+=Math.min(R.slidesToScroll,R.slidesToShow);return Z},j=Me.checkNavigable=function(R,U){var H=z(R),Q=0;if(U>H[H.length-1])U=H[H.length-1];else for(var Z in H){if(U<H[Z]){U=Q;break}Q=H[Z]}return U},P=Me.getSlideCount=function(R){var U=R.centerMode?R.slideWidth*Math.floor(R.slidesToShow/2):0;if(R.swipeToSlide){var H,Q=R.listRef,Z=Q.querySelectorAll&&Q.querySelectorAll(".slick-slide")||[];if(Array.from(Z).every(function(re){if(R.vertical){if(re.offsetTop+T(re)/2>R.swipeLeft*-1)return H=re,!1}else if(re.offsetLeft-U+_(re)/2>R.swipeLeft*-1)return H=re,!1;return!0}),!H)return 0;var te=R.rtl===!0?R.slideCount-R.currentSlide:R.currentSlide,ae=Math.abs(H.dataset.index-te)||1;return ae}else return R.slidesToScroll},C=Me.checkSpecKeys=function(R,U){return U.reduce(function(H,Q){return H&&R.hasOwnProperty(Q)},!0)?null:console.error("Keys Missing:",R)},S=Me.getTrackCSS=function(R){C(R,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var U,H;if(!R.vertical)U=I(R)*R.slideWidth;else{var Q=R.unslick?R.slideCount:R.slideCount+2*R.slidesToShow;H=Q*R.slideHeight}var Z={opacity:1,transition:"",WebkitTransition:""};if(R.useTransform){var te=R.vertical?"translate3d(0px, "+R.left+"px, 0px)":"translate3d("+R.left+"px, 0px, 0px)",ae=R.vertical?"translate3d(0px, "+R.left+"px, 0px)":"translate3d("+R.left+"px, 0px, 0px)",re=R.vertical?"translateY("+R.left+"px)":"translateX("+R.left+"px)";Z=s(s({},Z),{},{WebkitTransform:te,transform:ae,msTransform:re})}else R.vertical?Z.top=R.left:Z.left=R.left;return R.fade&&(Z={opacity:1}),U&&(Z.width=U),H&&(Z.height=H),window&&!window.addEventListener&&window.attachEvent&&(R.vertical?Z.marginTop=R.left+"px":Z.marginLeft=R.left+"px"),Z},k=Me.getTrackAnimateCSS=function(R){C(R,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var U=S(R);return R.useTransform?(U.WebkitTransition="-webkit-transform "+R.speed+"ms "+R.cssEase,U.transition="transform "+R.speed+"ms "+R.cssEase):R.vertical?U.transition="top "+R.speed+"ms "+R.cssEase:U.transition="left "+R.speed+"ms "+R.cssEase,U},A=Me.getTrackLeft=function(R){if(R.unslick)return 0;C(R,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var U=R.slideIndex,H=R.trackRef,Q=R.infinite,Z=R.centerMode,te=R.slideCount,ae=R.slidesToShow,re=R.slidesToScroll,xe=R.slideWidth,se=R.listWidth,he=R.variableWidth,Te=R.slideHeight,me=R.fade,De=R.vertical,Ie=0,Ye,Je,Qe=0;if(me||R.slideCount===1)return 0;var bt=0;if(Q?(bt=-D(R),te%re!==0&&U+re>te&&(bt=-(U>te?ae-(U-te):te%re)),Z&&(bt+=parseInt(ae/2))):(te%re!==0&&U+re>te&&(bt=ae-te%re),Z&&(bt=parseInt(ae/2))),Ie=bt*xe,Qe=bt*Te,De?Ye=U*Te*-1+Qe:Ye=U*xe*-1+Ie,he===!0){var Vt,ut=H&&H.node;if(Vt=U+D(R),Je=ut&&ut.childNodes[Vt],Ye=Je?Je.offsetLeft*-1:0,Z===!0){Vt=Q?U+D(R):U,Je=ut&&ut.children[Vt],Ye=0;for(var oe=0;oe<Vt;oe++)Ye-=ut&&ut.children[oe]&&ut.children[oe].offsetWidth;Ye-=parseInt(R.centerPadding),Ye+=Je&&(se-Je.offsetWidth)/2}}return Ye},D=Me.getPreClones=function(R){return R.unslick||!R.infinite?0:R.variableWidth?R.slideCount:R.slidesToShow+(R.centerMode?1:0)},M=Me.getPostClones=function(R){return R.unslick||!R.infinite?0:R.variableWidth?R.slideCount:R.slidesToShow+(R.centerMode?1:0)},I=Me.getTotalSlides=function(R){return R.slideCount===1?1:D(R)+R.slideCount+M(R)},K=Me.siblingDirection=function(R){return R.targetSlide>R.currentSlide?R.targetSlide>R.currentSlide+Y(R)?"left":"right":R.targetSlide<R.currentSlide-J(R)?"right":"left"},Y=Me.slidesOnRight=function(R){var U=R.slidesToShow,H=R.centerMode,Q=R.rtl,Z=R.centerPadding;if(H){var te=(U-1)/2+1;return parseInt(Z)>0&&(te+=1),Q&&U%2===0&&(te+=1),te}return Q?0:U-1},J=Me.slidesOnLeft=function(R){var U=R.slidesToShow,H=R.centerMode,Q=R.rtl,Z=R.centerPadding;if(H){var te=(U-1)/2+1;return parseInt(Z)>0&&(te+=1),!Q&&U%2===0&&(te+=1),te}return Q?U-1:0};Me.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var F=Me.validSettings=Object.keys(e.default);function G(q){return F.reduce(function(R,U){return q.hasOwnProperty(U)&&(R[U]=q[U]),R},{})}return Me}var Zh={},i4;function K0e(){if(i4)return Zh;i4=1,Object.defineProperty(Zh,"__esModule",{value:!0}),Zh.Track=void 0;var t=r(ni()),e=r(Eb()),n=Qp();function r(k){return k&&k.__esModule?k:{default:k}}function i(k){"@babel/helpers - typeof";return i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},i(k)}function s(){return s=Object.assign?Object.assign.bind():function(k){for(var A=1;A<arguments.length;A++){var D=arguments[A];for(var M in D)({}).hasOwnProperty.call(D,M)&&(k[M]=D[M])}return k},s.apply(null,arguments)}function a(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function o(k,A){for(var D=0;D<A.length;D++){var M=A[D];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(k,O(M.key),M)}}function l(k,A,D){return A&&o(k.prototype,A),Object.defineProperty(k,"prototype",{writable:!1}),k}function d(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function");k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,writable:!0,configurable:!0}}),Object.defineProperty(k,"prototype",{writable:!1}),A&&f(k,A)}function f(k,A){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(D,M){return D.__proto__=M,D},f(k,A)}function m(k){var A=v();return function(){var D,M=w(k);if(A){var I=w(this).constructor;D=Reflect.construct(M,arguments,I)}else D=M.apply(this,arguments);return p(this,D)}}function p(k,A){if(A&&(i(A)=="object"||typeof A=="function"))return A;if(A!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y(k)}function y(k){if(k===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k}function v(){try{var k=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v=function(){return!!k})()}function w(k){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},w(k)}function _(k,A){var D=Object.keys(k);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(k);A&&(M=M.filter(function(I){return Object.getOwnPropertyDescriptor(k,I).enumerable})),D.push.apply(D,M)}return D}function T(k){for(var A=1;A<arguments.length;A++){var D=arguments[A]!=null?arguments[A]:{};A%2?_(Object(D),!0).forEach(function(M){L(k,M,D[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(D)):_(Object(D)).forEach(function(M){Object.defineProperty(k,M,Object.getOwnPropertyDescriptor(D,M))})}return k}function L(k,A,D){return(A=O(A))in k?Object.defineProperty(k,A,{value:D,enumerable:!0,configurable:!0,writable:!0}):k[A]=D,k}function O(k){var A=z(k,"string");return i(A)=="symbol"?A:A+""}function z(k,A){if(i(k)!="object"||!k)return k;var D=k[Symbol.toPrimitive];if(D!==void 0){var M=D.call(k,A);if(i(M)!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(k)}var j=function(A){var D,M,I,K,Y;A.rtl?Y=A.slideCount-1-A.index:Y=A.index,I=Y<0||Y>=A.slideCount,A.centerMode?(K=Math.floor(A.slidesToShow/2),M=(Y-A.currentSlide)%A.slideCount===0,Y>A.currentSlide-K-1&&Y<=A.currentSlide+K&&(D=!0)):D=A.currentSlide<=Y&&Y<A.currentSlide+A.slidesToShow;var J;A.targetSlide<0?J=A.targetSlide+A.slideCount:A.targetSlide>=A.slideCount?J=A.targetSlide-A.slideCount:J=A.targetSlide;var F=Y===J;return{"slick-slide":!0,"slick-active":D,"slick-center":M,"slick-cloned":I,"slick-current":F}},P=function(A){var D={};return(A.variableWidth===void 0||A.variableWidth===!1)&&(D.width=A.slideWidth),A.fade&&(D.position="relative",A.vertical?D.top=-A.index*parseInt(A.slideHeight):D.left=-A.index*parseInt(A.slideWidth),D.opacity=A.currentSlide===A.index?1:0,D.zIndex=A.currentSlide===A.index?999:998,A.useCSS&&(D.transition="opacity "+A.speed+"ms "+A.cssEase+", visibility "+A.speed+"ms "+A.cssEase)),D},C=function(A,D){return A.key||D},S=function(A){var D,M=[],I=[],K=[],Y=t.default.Children.count(A.children),J=(0,n.lazyStartIndex)(A),F=(0,n.lazyEndIndex)(A);return t.default.Children.forEach(A.children,function(G,q){var R,U={message:"children",index:q,slidesToScroll:A.slidesToScroll,currentSlide:A.currentSlide};!A.lazyLoad||A.lazyLoad&&A.lazyLoadedList.indexOf(q)>=0?R=G:R=t.default.createElement("div",null);var H=P(T(T({},A),{},{index:q})),Q=R.props.className||"",Z=j(T(T({},A),{},{index:q}));if(M.push(t.default.cloneElement(R,{key:"original"+C(R,q),"data-index":q,className:(0,e.default)(Z,Q),tabIndex:"-1","aria-hidden":!Z["slick-active"],style:T(T({outline:"none"},R.props.style||{}),H),onClick:function(re){R.props&&R.props.onClick&&R.props.onClick(re),A.focusOnSelect&&A.focusOnSelect(U)}})),A.infinite&&Y>1&&A.fade===!1&&!A.unslick){var te=Y-q;te<=(0,n.getPreClones)(A)&&(D=-te,D>=J&&(R=G),Z=j(T(T({},A),{},{index:D})),I.push(t.default.cloneElement(R,{key:"precloned"+C(R,D),"data-index":D,tabIndex:"-1",className:(0,e.default)(Z,Q),"aria-hidden":!Z["slick-active"],style:T(T({},R.props.style||{}),H),onClick:function(re){R.props&&R.props.onClick&&R.props.onClick(re),A.focusOnSelect&&A.focusOnSelect(U)}}))),q<(0,n.getPostClones)(A)&&(D=Y+q,D<F&&(R=G),Z=j(T(T({},A),{},{index:D})),K.push(t.default.cloneElement(R,{key:"postcloned"+C(R,D),"data-index":D,tabIndex:"-1",className:(0,e.default)(Z,Q),"aria-hidden":!Z["slick-active"],style:T(T({},R.props.style||{}),H),onClick:function(re){R.props&&R.props.onClick&&R.props.onClick(re),A.focusOnSelect&&A.focusOnSelect(U)}})))}}),A.rtl?I.concat(M,K).reverse():I.concat(M,K)};return Zh.Track=(function(k){d(D,k);var A=m(D);function D(){var M;a(this,D);for(var I=arguments.length,K=new Array(I),Y=0;Y<I;Y++)K[Y]=arguments[Y];return M=A.call.apply(A,[this].concat(K)),L(y(M),"node",null),L(y(M),"handleRef",function(J){M.node=J}),M}return l(D,[{key:"render",value:function(){var I=S(this.props),K=this.props,Y=K.onMouseEnter,J=K.onMouseOver,F=K.onMouseLeave,G={onMouseEnter:Y,onMouseOver:J,onMouseLeave:F};return t.default.createElement("div",s({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},G),I)}}]),D})(t.default.PureComponent),Zh}var em={},s4;function G0e(){if(s4)return em;s4=1;function t(j){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},t(j)}Object.defineProperty(em,"__esModule",{value:!0}),em.Dots=void 0;var e=i(ni()),n=i(Eb()),r=Qp();function i(j){return j&&j.__esModule?j:{default:j}}function s(j,P){var C=Object.keys(j);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(j);P&&(S=S.filter(function(k){return Object.getOwnPropertyDescriptor(j,k).enumerable})),C.push.apply(C,S)}return C}function a(j){for(var P=1;P<arguments.length;P++){var C=arguments[P]!=null?arguments[P]:{};P%2?s(Object(C),!0).forEach(function(S){o(j,S,C[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(C)):s(Object(C)).forEach(function(S){Object.defineProperty(j,S,Object.getOwnPropertyDescriptor(C,S))})}return j}function o(j,P,C){return(P=m(P))in j?Object.defineProperty(j,P,{value:C,enumerable:!0,configurable:!0,writable:!0}):j[P]=C,j}function l(j,P){if(!(j instanceof P))throw new TypeError("Cannot call a class as a function")}function d(j,P){for(var C=0;C<P.length;C++){var S=P[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(j,m(S.key),S)}}function f(j,P,C){return P&&d(j.prototype,P),Object.defineProperty(j,"prototype",{writable:!1}),j}function m(j){var P=p(j,"string");return t(P)=="symbol"?P:P+""}function p(j,P){if(t(j)!="object"||!j)return j;var C=j[Symbol.toPrimitive];if(C!==void 0){var S=C.call(j,P);if(t(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}function y(j,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(P&&P.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),P&&v(j,P)}function v(j,P){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,S){return C.__proto__=S,C},v(j,P)}function w(j){var P=L();return function(){var C,S=O(j);if(P){var k=O(this).constructor;C=Reflect.construct(S,arguments,k)}else C=S.apply(this,arguments);return _(this,C)}}function _(j,P){if(P&&(t(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(j)}function T(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function L(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L=function(){return!!j})()}function O(j){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},O(j)}var z=function(P){var C;return P.infinite?C=Math.ceil(P.slideCount/P.slidesToScroll):C=Math.ceil((P.slideCount-P.slidesToShow)/P.slidesToScroll)+1,C};return em.Dots=(function(j){y(C,j);var P=w(C);function C(){return l(this,C),P.apply(this,arguments)}return f(C,[{key:"clickHandler",value:function(k,A){A.preventDefault(),this.props.clickHandler(k)}},{key:"render",value:function(){for(var k=this.props,A=k.onMouseEnter,D=k.onMouseOver,M=k.onMouseLeave,I=k.infinite,K=k.slidesToScroll,Y=k.slidesToShow,J=k.slideCount,F=k.currentSlide,G=z({slideCount:J,slidesToScroll:K,slidesToShow:Y,infinite:I}),q={onMouseEnter:A,onMouseOver:D,onMouseLeave:M},R=[],U=0;U<G;U++){var H=(U+1)*K-1,Q=I?H:(0,r.clamp)(H,0,J-1),Z=Q-(K-1),te=I?Z:(0,r.clamp)(Z,0,J-1),ae=(0,n.default)({"slick-active":I?F>=te&&F<=Q:F===te}),re={message:"dots",index:U,slidesToScroll:K,currentSlide:F},xe=this.clickHandler.bind(this,re);R=R.concat(e.default.createElement("li",{key:U,className:ae},e.default.cloneElement(this.props.customPaging(U),{onClick:xe})))}return e.default.cloneElement(this.props.appendDots(R),a({className:this.props.dotsClass},q))}}]),C})(e.default.PureComponent),em}var jc={},a4;function X0e(){if(a4)return jc;a4=1;function t(j){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},t(j)}Object.defineProperty(jc,"__esModule",{value:!0}),jc.PrevArrow=jc.NextArrow=void 0;var e=i(ni()),n=i(Eb()),r=Qp();function i(j){return j&&j.__esModule?j:{default:j}}function s(){return s=Object.assign?Object.assign.bind():function(j){for(var P=1;P<arguments.length;P++){var C=arguments[P];for(var S in C)({}).hasOwnProperty.call(C,S)&&(j[S]=C[S])}return j},s.apply(null,arguments)}function a(j,P){var C=Object.keys(j);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(j);P&&(S=S.filter(function(k){return Object.getOwnPropertyDescriptor(j,k).enumerable})),C.push.apply(C,S)}return C}function o(j){for(var P=1;P<arguments.length;P++){var C=arguments[P]!=null?arguments[P]:{};P%2?a(Object(C),!0).forEach(function(S){l(j,S,C[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(C)):a(Object(C)).forEach(function(S){Object.defineProperty(j,S,Object.getOwnPropertyDescriptor(C,S))})}return j}function l(j,P,C){return(P=p(P))in j?Object.defineProperty(j,P,{value:C,enumerable:!0,configurable:!0,writable:!0}):j[P]=C,j}function d(j,P){if(!(j instanceof P))throw new TypeError("Cannot call a class as a function")}function f(j,P){for(var C=0;C<P.length;C++){var S=P[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(j,p(S.key),S)}}function m(j,P,C){return P&&f(j.prototype,P),Object.defineProperty(j,"prototype",{writable:!1}),j}function p(j){var P=y(j,"string");return t(P)=="symbol"?P:P+""}function y(j,P){if(t(j)!="object"||!j)return j;var C=j[Symbol.toPrimitive];if(C!==void 0){var S=C.call(j,P);if(t(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(j)}function v(j,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(P&&P.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),Object.defineProperty(j,"prototype",{writable:!1}),P&&w(j,P)}function w(j,P){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(C,S){return C.__proto__=S,C},w(j,P)}function _(j){var P=O();return function(){var C,S=z(j);if(P){var k=z(this).constructor;C=Reflect.construct(S,arguments,k)}else C=S.apply(this,arguments);return T(this,C)}}function T(j,P){if(P&&(t(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(j)}function L(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function O(){try{var j=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!j})()}function z(j){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(P){return P.__proto__||Object.getPrototypeOf(P)},z(j)}return jc.PrevArrow=(function(j){v(C,j);var P=_(C);function C(){return d(this,C),P.apply(this,arguments)}return m(C,[{key:"clickHandler",value:function(k,A){A&&A.preventDefault(),this.props.clickHandler(k,A)}},{key:"render",value:function(){var k={"slick-arrow":!0,"slick-prev":!0},A=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(k["slick-disabled"]=!0,A=null);var D={key:"0","data-role":"none",className:(0,n.default)(k),style:{display:"block"},onClick:A},M={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},I;return this.props.prevArrow?I=e.default.cloneElement(this.props.prevArrow,o(o({},D),M)):I=e.default.createElement("button",s({key:"0",type:"button"},D)," ","Previous"),I}}]),C})(e.default.PureComponent),jc.NextArrow=(function(j){v(C,j);var P=_(C);function C(){return d(this,C),P.apply(this,arguments)}return m(C,[{key:"clickHandler",value:function(k,A){A&&A.preventDefault(),this.props.clickHandler(k,A)}},{key:"render",value:function(){var k={"slick-arrow":!0,"slick-next":!0},A=this.clickHandler.bind(this,{message:"next"});(0,r.canGoNext)(this.props)||(k["slick-disabled"]=!0,A=null);var D={key:"1","data-role":"none",className:(0,n.default)(k),style:{display:"block"},onClick:A},M={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},I;return this.props.nextArrow?I=e.default.cloneElement(this.props.nextArrow,o(o({},D),M)):I=e.default.createElement("button",s({key:"1",type:"button"},D)," ","Next"),I}}]),C})(e.default.PureComponent),jc}var j9=(function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,s){return i[0]===n?(r=s,!0):!1}),r}return(function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var a=s[i];n.call(r,a[1],a[0])}},e})()})(),VC=typeof window<"u"&&typeof document<"u"&&window.document===document,q0=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),Y0e=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(q0):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}})(),Q0e=2;function J0e(t,e){var n=!1,r=!1,i=0;function s(){n&&(n=!1,t()),r&&o()}function a(){Y0e(s)}function o(){var l=Date.now();if(n){if(l-i<Q0e)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=l}return o}var Z0e=20,exe=["top","right","bottom","left","width","height","size","weight"],txe=typeof MutationObserver<"u",nxe=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=J0e(this.refresh.bind(this),Z0e)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!VC||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),txe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!VC||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=exe.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),k9=(function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t}),Nf=(function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||q0}),R9=Tb(0,0,0,0);function W0(t){return parseFloat(t)||0}function o4(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var s=t["border-"+i+"-width"];return r+W0(s)},0)}function rxe(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var s=i[r],a=t["padding-"+s];n[s]=W0(a)}return n}function ixe(t){var e=t.getBBox();return Tb(0,0,e.width,e.height)}function sxe(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return R9;var r=Nf(t).getComputedStyle(t),i=rxe(r),s=i.left+i.right,a=i.top+i.bottom,o=W0(r.width),l=W0(r.height);if(r.boxSizing==="border-box"&&(Math.round(o+s)!==e&&(o-=o4(r,"left","right")+s),Math.round(l+a)!==n&&(l-=o4(r,"top","bottom")+a)),!oxe(t)){var d=Math.round(o+s)-e,f=Math.round(l+a)-n;Math.abs(d)!==1&&(o-=d),Math.abs(f)!==1&&(l-=f)}return Tb(i.left,i.top,o,l)}var axe=(function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Nf(t).SVGGraphicsElement}:function(t){return t instanceof Nf(t).SVGElement&&typeof t.getBBox=="function"}})();function oxe(t){return t===Nf(t).document.documentElement}function lxe(t){return VC?axe(t)?ixe(t):sxe(t):R9}function cxe(t){var e=t.x,n=t.y,r=t.width,i=t.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(s.prototype);return k9(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function Tb(t,e,n,r){return{x:t,y:e,width:n,height:r}}var uxe=(function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Tb(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=lxe(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t})(),dxe=(function(){function t(e,n){var r=cxe(n);k9(this,{target:e,contentRect:r})}return t})(),fxe=(function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new j9,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Nf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new uxe(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Nf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new dxe(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),D9=typeof WeakMap<"u"?new WeakMap:new j9,O9=(function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=nxe.getInstance(),r=new fxe(e,n,this);D9.set(this,r)}return t})();["observe","unobserve","disconnect"].forEach(function(t){O9.prototype[t]=function(){var e;return(e=D9.get(this))[t].apply(e,arguments)}});var hxe=(function(){return typeof q0.ResizeObserver<"u"?q0.ResizeObserver:O9})();const mxe=Object.freeze(Object.defineProperty({__proto__:null,default:hxe},Symbol.toStringTag,{value:"Module"})),pxe=QW(mxe);var l4;function gxe(){if(l4)return Jh;l4=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.InnerSlider=void 0;var t=d(ni()),e=d(W0e()),n=d(H0e()),r=d(Eb()),i=Qp(),s=K0e(),a=G0e(),o=X0e(),l=d(pxe);function d(I){return I&&I.__esModule?I:{default:I}}function f(I){"@babel/helpers - typeof";return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},f(I)}function m(){return m=Object.assign?Object.assign.bind():function(I){for(var K=1;K<arguments.length;K++){var Y=arguments[K];for(var J in Y)({}).hasOwnProperty.call(Y,J)&&(I[J]=Y[J])}return I},m.apply(null,arguments)}function p(I,K){if(I==null)return{};var Y,J,F=y(I,K);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(I);for(J=0;J<G.length;J++)Y=G[J],K.includes(Y)||{}.propertyIsEnumerable.call(I,Y)&&(F[Y]=I[Y])}return F}function y(I,K){if(I==null)return{};var Y={};for(var J in I)if({}.hasOwnProperty.call(I,J)){if(K.includes(J))continue;Y[J]=I[J]}return Y}function v(I,K){var Y=Object.keys(I);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(I);K&&(J=J.filter(function(F){return Object.getOwnPropertyDescriptor(I,F).enumerable})),Y.push.apply(Y,J)}return Y}function w(I){for(var K=1;K<arguments.length;K++){var Y=arguments[K]!=null?arguments[K]:{};K%2?v(Object(Y),!0).forEach(function(J){A(I,J,Y[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(Y)):v(Object(Y)).forEach(function(J){Object.defineProperty(I,J,Object.getOwnPropertyDescriptor(Y,J))})}return I}function _(I,K){if(!(I instanceof K))throw new TypeError("Cannot call a class as a function")}function T(I,K){for(var Y=0;Y<K.length;Y++){var J=K[Y];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(I,D(J.key),J)}}function L(I,K,Y){return K&&T(I.prototype,K),Object.defineProperty(I,"prototype",{writable:!1}),I}function O(I,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(K&&K.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),Object.defineProperty(I,"prototype",{writable:!1}),K&&z(I,K)}function z(I,K){return z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Y,J){return Y.__proto__=J,Y},z(I,K)}function j(I){var K=S();return function(){var Y,J=k(I);if(K){var F=k(this).constructor;Y=Reflect.construct(J,arguments,F)}else Y=J.apply(this,arguments);return P(this,Y)}}function P(I,K){if(K&&(f(K)=="object"||typeof K=="function"))return K;if(K!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(I)}function C(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}function S(){try{var I=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!I})()}function k(I){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(K){return K.__proto__||Object.getPrototypeOf(K)},k(I)}function A(I,K,Y){return(K=D(K))in I?Object.defineProperty(I,K,{value:Y,enumerable:!0,configurable:!0,writable:!0}):I[K]=Y,I}function D(I){var K=M(I,"string");return f(K)=="symbol"?K:K+""}function M(I,K){if(f(I)!="object"||!I)return I;var Y=I[Symbol.toPrimitive];if(Y!==void 0){var J=Y.call(I,K);if(f(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(I)}return Jh.InnerSlider=(function(I){O(Y,I);var K=j(Y);function Y(J){var F;_(this,Y),F=K.call(this,J),A(C(F),"listRefHandler",function(q){return F.list=q}),A(C(F),"trackRefHandler",function(q){return F.track=q}),A(C(F),"adaptHeight",function(){if(F.props.adaptiveHeight&&F.list){var q=F.list.querySelector('[data-index="'.concat(F.state.currentSlide,'"]'));F.list.style.height=(0,i.getHeight)(q)+"px"}}),A(C(F),"componentDidMount",function(){if(F.props.onInit&&F.props.onInit(),F.props.lazyLoad){var q=(0,i.getOnDemandLazySlides)(w(w({},F.props),F.state));q.length>0&&(F.setState(function(U){return{lazyLoadedList:U.lazyLoadedList.concat(q)}}),F.props.onLazyLoad&&F.props.onLazyLoad(q))}var R=w({listRef:F.list,trackRef:F.track},F.props);F.updateState(R,!0,function(){F.adaptHeight(),F.props.autoplay&&F.autoPlay("update")}),F.props.lazyLoad==="progressive"&&(F.lazyLoadTimer=setInterval(F.progressiveLazyLoad,1e3)),F.ro=new l.default(function(){F.state.animating?(F.onWindowResized(!1),F.callbackTimers.push(setTimeout(function(){return F.onWindowResized()},F.props.speed))):F.onWindowResized()}),F.ro.observe(F.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(U){U.onfocus=F.props.pauseOnFocus?F.onSlideFocus:null,U.onblur=F.props.pauseOnFocus?F.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",F.onWindowResized):window.attachEvent("onresize",F.onWindowResized)}),A(C(F),"componentWillUnmount",function(){F.animationEndCallback&&clearTimeout(F.animationEndCallback),F.lazyLoadTimer&&clearInterval(F.lazyLoadTimer),F.callbackTimers.length&&(F.callbackTimers.forEach(function(q){return clearTimeout(q)}),F.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",F.onWindowResized):window.detachEvent("onresize",F.onWindowResized),F.autoplayTimer&&clearInterval(F.autoplayTimer),F.ro.disconnect()}),A(C(F),"componentDidUpdate",function(q){if(F.checkImagesLoad(),F.props.onReInit&&F.props.onReInit(),F.props.lazyLoad){var R=(0,i.getOnDemandLazySlides)(w(w({},F.props),F.state));R.length>0&&(F.setState(function(Q){return{lazyLoadedList:Q.lazyLoadedList.concat(R)}}),F.props.onLazyLoad&&F.props.onLazyLoad(R))}F.adaptHeight();var U=w(w({listRef:F.list,trackRef:F.track},F.props),F.state),H=F.didPropsChange(q);H&&F.updateState(U,H,function(){F.state.currentSlide>=t.default.Children.count(F.props.children)&&F.changeSlide({message:"index",index:t.default.Children.count(F.props.children)-F.props.slidesToShow,currentSlide:F.state.currentSlide}),F.props.autoplay?F.autoPlay("update"):F.pause("paused")})}),A(C(F),"onWindowResized",function(q){F.debouncedResize&&F.debouncedResize.cancel(),F.debouncedResize=(0,n.default)(function(){return F.resizeWindow(q)},50),F.debouncedResize()}),A(C(F),"resizeWindow",function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,R=!!(F.track&&F.track.node);if(R){var U=w(w({listRef:F.list,trackRef:F.track},F.props),F.state);F.updateState(U,q,function(){F.props.autoplay?F.autoPlay("update"):F.pause("paused")}),F.setState({animating:!1}),clearTimeout(F.animationEndCallback),delete F.animationEndCallback}}),A(C(F),"updateState",function(q,R,U){var H=(0,i.initializedState)(q);q=w(w(w({},q),H),{},{slideIndex:H.currentSlide});var Q=(0,i.getTrackLeft)(q);q=w(w({},q),{},{left:Q});var Z=(0,i.getTrackCSS)(q);(R||t.default.Children.count(F.props.children)!==t.default.Children.count(q.children))&&(H.trackStyle=Z),F.setState(H,U)}),A(C(F),"ssrInit",function(){if(F.props.variableWidth){var q=0,R=0,U=[],H=(0,i.getPreClones)(w(w(w({},F.props),F.state),{},{slideCount:F.props.children.length})),Q=(0,i.getPostClones)(w(w(w({},F.props),F.state),{},{slideCount:F.props.children.length}));F.props.children.forEach(function(Je){U.push(Je.props.style.width),q+=Je.props.style.width});for(var Z=0;Z<H;Z++)R+=U[U.length-1-Z],q+=U[U.length-1-Z];for(var te=0;te<Q;te++)q+=U[te];for(var ae=0;ae<F.state.currentSlide;ae++)R+=U[ae];var re={width:q+"px",left:-R+"px"};if(F.props.centerMode){var xe="".concat(U[F.state.currentSlide],"px");re.left="calc(".concat(re.left," + (100% - ").concat(xe,") / 2 ) ")}return{trackStyle:re}}var se=t.default.Children.count(F.props.children),he=w(w(w({},F.props),F.state),{},{slideCount:se}),Te=(0,i.getPreClones)(he)+(0,i.getPostClones)(he)+se,me=100/F.props.slidesToShow*Te,De=100/Te,Ie=-De*((0,i.getPreClones)(he)+F.state.currentSlide)*me/100;F.props.centerMode&&(Ie+=(100-De*me/100)/2);var Ye={width:me+"%",left:Ie+"%"};return{slideWidth:De+"%",trackStyle:Ye}}),A(C(F),"checkImagesLoad",function(){var q=F.list&&F.list.querySelectorAll&&F.list.querySelectorAll(".slick-slide img")||[],R=q.length,U=0;Array.prototype.forEach.call(q,function(H){var Q=function(){return++U&&U>=R&&F.onWindowResized()};if(!H.onclick)H.onclick=function(){return H.parentNode.focus()};else{var Z=H.onclick;H.onclick=function(te){Z(te),H.parentNode.focus()}}H.onload||(F.props.lazyLoad?H.onload=function(){F.adaptHeight(),F.callbackTimers.push(setTimeout(F.onWindowResized,F.props.speed))}:(H.onload=Q,H.onerror=function(){Q(),F.props.onLazyLoadError&&F.props.onLazyLoadError()}))})}),A(C(F),"progressiveLazyLoad",function(){for(var q=[],R=w(w({},F.props),F.state),U=F.state.currentSlide;U<F.state.slideCount+(0,i.getPostClones)(R);U++)if(F.state.lazyLoadedList.indexOf(U)<0){q.push(U);break}for(var H=F.state.currentSlide-1;H>=-(0,i.getPreClones)(R);H--)if(F.state.lazyLoadedList.indexOf(H)<0){q.push(H);break}q.length>0?(F.setState(function(Q){return{lazyLoadedList:Q.lazyLoadedList.concat(q)}}),F.props.onLazyLoad&&F.props.onLazyLoad(q)):F.lazyLoadTimer&&(clearInterval(F.lazyLoadTimer),delete F.lazyLoadTimer)}),A(C(F),"slideHandler",function(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,U=F.props,H=U.asNavFor,Q=U.beforeChange,Z=U.onLazyLoad,te=U.speed,ae=U.afterChange,re=F.state.currentSlide,xe=(0,i.slideHandler)(w(w(w({index:q},F.props),F.state),{},{trackRef:F.track,useCSS:F.props.useCSS&&!R})),se=xe.state,he=xe.nextState;if(se){Q&&Q(re,se.currentSlide);var Te=se.lazyLoadedList.filter(function(me){return F.state.lazyLoadedList.indexOf(me)<0});Z&&Te.length>0&&Z(Te),!F.props.waitForAnimate&&F.animationEndCallback&&(clearTimeout(F.animationEndCallback),ae&&ae(re),delete F.animationEndCallback),F.setState(se,function(){H&&F.asNavForIndex!==q&&(F.asNavForIndex=q,H.innerSlider.slideHandler(q)),he&&(F.animationEndCallback=setTimeout(function(){var me=he.animating,De=p(he,["animating"]);F.setState(De,function(){F.callbackTimers.push(setTimeout(function(){return F.setState({animating:me})},10)),ae&&ae(se.currentSlide),delete F.animationEndCallback})},te))})}}),A(C(F),"changeSlide",function(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,U=w(w({},F.props),F.state),H=(0,i.changeSlide)(U,q);if(!(H!==0&&!H)&&(R===!0?F.slideHandler(H,R):F.slideHandler(H),F.props.autoplay&&F.autoPlay("update"),F.props.focusOnSelect)){var Q=F.list.querySelectorAll(".slick-current");Q[0]&&Q[0].focus()}}),A(C(F),"clickHandler",function(q){F.clickable===!1&&(q.stopPropagation(),q.preventDefault()),F.clickable=!0}),A(C(F),"keyHandler",function(q){var R=(0,i.keyHandler)(q,F.props.accessibility,F.props.rtl);R!==""&&F.changeSlide({message:R})}),A(C(F),"selectHandler",function(q){F.changeSlide(q)}),A(C(F),"disableBodyScroll",function(){var q=function(U){U=U||window.event,U.preventDefault&&U.preventDefault(),U.returnValue=!1};window.ontouchmove=q}),A(C(F),"enableBodyScroll",function(){window.ontouchmove=null}),A(C(F),"swipeStart",function(q){F.props.verticalSwiping&&F.disableBodyScroll();var R=(0,i.swipeStart)(q,F.props.swipe,F.props.draggable);R!==""&&F.setState(R)}),A(C(F),"swipeMove",function(q){var R=(0,i.swipeMove)(q,w(w(w({},F.props),F.state),{},{trackRef:F.track,listRef:F.list,slideIndex:F.state.currentSlide}));R&&(R.swiping&&(F.clickable=!1),F.setState(R))}),A(C(F),"swipeEnd",function(q){var R=(0,i.swipeEnd)(q,w(w(w({},F.props),F.state),{},{trackRef:F.track,listRef:F.list,slideIndex:F.state.currentSlide}));if(R){var U=R.triggerSlideHandler;delete R.triggerSlideHandler,F.setState(R),U!==void 0&&(F.slideHandler(U),F.props.verticalSwiping&&F.enableBodyScroll())}}),A(C(F),"touchEnd",function(q){F.swipeEnd(q),F.clickable=!0}),A(C(F),"slickPrev",function(){F.callbackTimers.push(setTimeout(function(){return F.changeSlide({message:"previous"})},0))}),A(C(F),"slickNext",function(){F.callbackTimers.push(setTimeout(function(){return F.changeSlide({message:"next"})},0))}),A(C(F),"slickGoTo",function(q){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(q=Number(q),isNaN(q))return"";F.callbackTimers.push(setTimeout(function(){return F.changeSlide({message:"index",index:q,currentSlide:F.state.currentSlide},R)},0))}),A(C(F),"play",function(){var q;if(F.props.rtl)q=F.state.currentSlide-F.props.slidesToScroll;else if((0,i.canGoNext)(w(w({},F.props),F.state)))q=F.state.currentSlide+F.props.slidesToScroll;else return!1;F.slideHandler(q)}),A(C(F),"autoPlay",function(q){F.autoplayTimer&&clearInterval(F.autoplayTimer);var R=F.state.autoplaying;if(q==="update"){if(R==="hovered"||R==="focused"||R==="paused")return}else if(q==="leave"){if(R==="paused"||R==="focused")return}else if(q==="blur"&&(R==="paused"||R==="hovered"))return;F.autoplayTimer=setInterval(F.play,F.props.autoplaySpeed+50),F.setState({autoplaying:"playing"})}),A(C(F),"pause",function(q){F.autoplayTimer&&(clearInterval(F.autoplayTimer),F.autoplayTimer=null);var R=F.state.autoplaying;q==="paused"?F.setState({autoplaying:"paused"}):q==="focused"?(R==="hovered"||R==="playing")&&F.setState({autoplaying:"focused"}):R==="playing"&&F.setState({autoplaying:"hovered"})}),A(C(F),"onDotsOver",function(){return F.props.autoplay&&F.pause("hovered")}),A(C(F),"onDotsLeave",function(){return F.props.autoplay&&F.state.autoplaying==="hovered"&&F.autoPlay("leave")}),A(C(F),"onTrackOver",function(){return F.props.autoplay&&F.pause("hovered")}),A(C(F),"onTrackLeave",function(){return F.props.autoplay&&F.state.autoplaying==="hovered"&&F.autoPlay("leave")}),A(C(F),"onSlideFocus",function(){return F.props.autoplay&&F.pause("focused")}),A(C(F),"onSlideBlur",function(){return F.props.autoplay&&F.state.autoplaying==="focused"&&F.autoPlay("blur")}),A(C(F),"render",function(){var q=(0,r.default)("slick-slider",F.props.className,{"slick-vertical":F.props.vertical,"slick-initialized":!0}),R=w(w({},F.props),F.state),U=(0,i.extractObject)(R,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),H=F.props.pauseOnHover;U=w(w({},U),{},{onMouseEnter:H?F.onTrackOver:null,onMouseLeave:H?F.onTrackLeave:null,onMouseOver:H?F.onTrackOver:null,focusOnSelect:F.props.focusOnSelect&&F.clickable?F.selectHandler:null});var Q;if(F.props.dots===!0&&F.state.slideCount>=F.props.slidesToShow){var Z=(0,i.extractObject)(R,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),te=F.props.pauseOnDotsHover;Z=w(w({},Z),{},{clickHandler:F.changeSlide,onMouseEnter:te?F.onDotsLeave:null,onMouseOver:te?F.onDotsOver:null,onMouseLeave:te?F.onDotsLeave:null}),Q=t.default.createElement(a.Dots,Z)}var ae,re,xe=(0,i.extractObject)(R,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);xe.clickHandler=F.changeSlide,F.props.arrows&&(ae=t.default.createElement(o.PrevArrow,xe),re=t.default.createElement(o.NextArrow,xe));var se=null;F.props.vertical&&(se={height:F.state.listHeight});var he=null;F.props.vertical===!1?F.props.centerMode===!0&&(he={padding:"0px "+F.props.centerPadding}):F.props.centerMode===!0&&(he={padding:F.props.centerPadding+" 0px"});var Te=w(w({},se),he),me=F.props.touchMove,De={className:"slick-list",style:Te,onClick:F.clickHandler,onMouseDown:me?F.swipeStart:null,onMouseMove:F.state.dragging&&me?F.swipeMove:null,onMouseUp:me?F.swipeEnd:null,onMouseLeave:F.state.dragging&&me?F.swipeEnd:null,onTouchStart:me?F.swipeStart:null,onTouchMove:F.state.dragging&&me?F.swipeMove:null,onTouchEnd:me?F.touchEnd:null,onTouchCancel:F.state.dragging&&me?F.swipeEnd:null,onKeyDown:F.props.accessibility?F.keyHandler:null},Ie={className:q,dir:"ltr",style:F.props.style};return F.props.unslick&&(De={className:"slick-list"},Ie={className:q,style:F.props.style}),t.default.createElement("div",Ie,F.props.unslick?"":ae,t.default.createElement("div",m({ref:F.listRefHandler},De),t.default.createElement(s.Track,m({ref:F.trackRefHandler},U),F.props.children)),F.props.unslick?"":re,F.props.unslick?"":Q)}),F.list=null,F.track=null,F.state=w(w({},e.default),{},{currentSlide:F.props.initialSlide,targetSlide:F.props.initialSlide?F.props.initialSlide:0,slideCount:t.default.Children.count(F.props.children)}),F.callbackTimers=[],F.clickable=!0,F.debouncedResize=null;var G=F.ssrInit();return F.state=w(w({},F.state),G),F}return L(Y,[{key:"didPropsChange",value:function(F){for(var G=!1,q=0,R=Object.keys(this.props);q<R.length;q++){var U=R[q];if(!F.hasOwnProperty(U)){G=!0;break}if(!(f(F[U])==="object"||typeof F[U]=="function"||isNaN(F[U]))&&F[U]!==this.props[U]){G=!0;break}}return G||t.default.Children.count(this.props.children)!==t.default.Children.count(F.children)}}]),Y})(t.default.Component),Jh}var oE,c4;function yxe(){if(c4)return oE;c4=1;var t=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return oE=t,oE}var lE,u4;function vxe(){if(u4)return lE;u4=1;var t=yxe(),e=function(i){var s=/[height|width]$/;return s.test(i)},n=function(i){var s="",a=Object.keys(i);return a.forEach(function(o,l){var d=i[o];o=t(o),e(o)&&typeof d=="number"&&(d=d+"px"),d===!0?s+=o:d===!1?s+="not "+o:s+="("+o+": "+d+")",l<a.length-1&&(s+=" and ")}),s},r=function(i){var s="";return typeof i=="string"?i:i instanceof Array?(i.forEach(function(a,o){s+=n(a),o<i.length-1&&(s+=", ")}),s):n(i)};return lE=r,lE}var d4;function xxe(){return d4||(d4=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=a(ni()),n=gxe(),r=a(vxe()),i=a(I9()),s=Qp();function a(S){return S&&S.__esModule?S:{default:S}}function o(S){"@babel/helpers - typeof";return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},o(S)}function l(){return l=Object.assign?Object.assign.bind():function(S){for(var k=1;k<arguments.length;k++){var A=arguments[k];for(var D in A)({}).hasOwnProperty.call(A,D)&&(S[D]=A[D])}return S},l.apply(null,arguments)}function d(S,k){var A=Object.keys(S);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(S);k&&(D=D.filter(function(M){return Object.getOwnPropertyDescriptor(S,M).enumerable})),A.push.apply(A,D)}return A}function f(S){for(var k=1;k<arguments.length;k++){var A=arguments[k]!=null?arguments[k]:{};k%2?d(Object(A),!0).forEach(function(D){j(S,D,A[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(A)):d(Object(A)).forEach(function(D){Object.defineProperty(S,D,Object.getOwnPropertyDescriptor(A,D))})}return S}function m(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function p(S,k){for(var A=0;A<k.length;A++){var D=k[A];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,P(D.key),D)}}function y(S,k,A){return k&&p(S.prototype,k),Object.defineProperty(S,"prototype",{writable:!1}),S}function v(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),k&&w(S,k)}function w(S,k){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(A,D){return A.__proto__=D,A},w(S,k)}function _(S){var k=O();return function(){var A,D=z(S);if(k){var M=z(this).constructor;A=Reflect.construct(D,arguments,M)}else A=D.apply(this,arguments);return T(this,A)}}function T(S,k){if(k&&(o(k)=="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L(S)}function L(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function O(){try{var S=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O=function(){return!!S})()}function z(S){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},z(S)}function j(S,k,A){return(k=P(k))in S?Object.defineProperty(S,k,{value:A,enumerable:!0,configurable:!0,writable:!0}):S[k]=A,S}function P(S){var k=C(S,"string");return o(k)=="symbol"?k:k+""}function C(S,k){if(o(S)!="object"||!S)return S;var A=S[Symbol.toPrimitive];if(A!==void 0){var D=A.call(S,k);if(o(D)!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(k==="string"?String:Number)(S)}t.default=(function(S){v(A,S);var k=_(A);function A(D){var M;return m(this,A),M=k.call(this,D),j(L(M),"innerSliderRefHandler",function(I){return M.innerSlider=I}),j(L(M),"slickPrev",function(){return M.innerSlider.slickPrev()}),j(L(M),"slickNext",function(){return M.innerSlider.slickNext()}),j(L(M),"slickGoTo",function(I){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return M.innerSlider.slickGoTo(I,K)}),j(L(M),"slickPause",function(){return M.innerSlider.pause("paused")}),j(L(M),"slickPlay",function(){return M.innerSlider.autoPlay("play")}),M.state={breakpoint:null},M._responsiveMediaHandlers=[],M}return y(A,[{key:"media",value:function(M,I){var K=window.matchMedia(M),Y=function(F){var G=F.matches;G&&I()};K.addListener(Y),this._responsiveMediaHandlers.push({mql:K,query:M,listener:Y})}},{key:"componentDidMount",value:function(){var M=this;if(this.props.responsive){var I=this.props.responsive.map(function(Y){return Y.breakpoint});I.sort(function(Y,J){return Y-J}),I.forEach(function(Y,J){var F;J===0?F=(0,r.default)({minWidth:0,maxWidth:Y}):F=(0,r.default)({minWidth:I[J-1]+1,maxWidth:Y}),(0,s.canUseDOM)()&&M.media(F,function(){M.setState({breakpoint:Y})})});var K=(0,r.default)({minWidth:I.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(K,function(){M.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(M){M.mql.removeListener(M.listener)})}},{key:"render",value:function(){var M=this,I,K;this.state.breakpoint?(K=this.props.responsive.filter(function(Z){return Z.breakpoint===M.state.breakpoint}),I=K[0].settings==="unslick"?"unslick":f(f(f({},i.default),this.props),K[0].settings)):I=f(f({},i.default),this.props),I.centerMode&&(I.slidesToScroll>1,I.slidesToScroll=1),I.fade&&(I.slidesToShow>1,I.slidesToScroll>1,I.slidesToShow=1,I.slidesToScroll=1);var Y=e.default.Children.toArray(this.props.children);Y=Y.filter(function(Z){return typeof Z=="string"?!!Z.trim():!!Z}),I.variableWidth&&(I.rows>1||I.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),I.variableWidth=!1);for(var J=[],F=null,G=0;G<Y.length;G+=I.rows*I.slidesPerRow){for(var q=[],R=G;R<G+I.rows*I.slidesPerRow;R+=I.slidesPerRow){for(var U=[],H=R;H<R+I.slidesPerRow&&(I.variableWidth&&Y[H].props.style&&(F=Y[H].props.style.width),!(H>=Y.length));H+=1)U.push(e.default.cloneElement(Y[H],{key:100*G+10*R+H,tabIndex:-1,style:{width:"".concat(100/I.slidesPerRow,"%"),display:"inline-block"}}));q.push(e.default.createElement("div",{key:10*G+R},U))}I.variableWidth?J.push(e.default.createElement("div",{key:G,style:{width:F}},q)):J.push(e.default.createElement("div",{key:G},q))}if(I==="unslick"){var Q="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:Q},Y)}else J.length<=I.slidesToShow&&(I.unslick=!0);return e.default.createElement(n.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(I)),J)}}]),A})(e.default.Component)})(nE)),nE}var f4;function bxe(){return f4||(f4=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=n(xxe());function n(r){return r&&r.__esModule?r:{default:r}}t.default=e.default})(tE)),tE}var wxe=bxe();const _xe=Ei(wxe);function Exe({onAccountClick:t,onAddAccountClick:e}){const{user:n}=Dt(),{getBalance:r}=Yp(),{t:i}=xt(),[s,a]=E.useState([]),[o,l]=E.useState(!0),[d,f]=E.useState(!1);E.useEffect(()=>{if(!n?.uid)return;console.log(" Iniciando listener de contas bancrias para userId:",n.uid);let w=0;const _=3;let T=null,L=null,O=!1;const z=()=>{if(O){console.log(" Configurao de listener j em andamento, ignorando...");return}O=!0,T&&(console.log(" Limpando listener anterior antes de criar novo..."),T(),T=null);const j=nt(be,"bankAccounts"),P=It(j,yt("userId","==",n.uid));T=hs(P,C=>{console.log(" Contas bancrias recebidas:",C.size),w=0,O=!1;const S=C.docs.map(k=>({...k.data(),id:k.id,createdAt:k.data().createdAt?.toDate()||new Date}));console.log(" Total de contas carregadas:",S.length),console.log(" Pases das contas:",S.map(k=>`${k.country} (${k.currency})`).join(", ")),a(S),f(!1),l(!1)},C=>{console.error(" Erro no listener de contas bancrias:",C),O=!1,C.code==="permission-denied"?(console.log(" Erro de permisso, tentando getDocs..."),m()):C.code==="unavailable"&&w<_?(w++,console.log(` Tentando reconectar listener de contas... (tentativa ${w}/${_})`),L=setTimeout(()=>{T&&T(),z()},1e3*w)):(f(!0),l(!1))})};return z(),()=>{console.log(" Desconectando listener de contas bancrias"),T&&T(),L&&clearTimeout(L)}},[n]);const m=async()=>{if(n?.uid)try{const w=nt(be,"bankAccounts"),_=It(w,yt("userId","==",n.uid)),L=(await Pt(_)).docs.map(O=>({...O.data(),id:O.id,createdAt:O.data().createdAt?.toDate()||new Date}));a(L),f(!1)}catch(w){console.error(" Erro ao carregar contas com getDocs:",w),f(!0)}finally{l(!1)}},p={dots:!1,infinite:!1,speed:300,slidesToShow:1.2,slidesToScroll:1,arrows:!1,swipeToSlide:!0},y=w=>{switch(w.country){case"BR":return{label:"Pix",icon:""};case"US":return{label:` ${w.accountNumber.slice(-4)}`};case"EU":return{label:` ${w.iban?.slice(-4)||w.accountNumber.slice(-4)}`};default:return{label:` ${w.accountNumber.slice(-4)}`}}},v={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",KRW:"",ZAR:"R",ARS:"$",CLP:"$"};return o?c.jsxs("div",{className:"px-6 mb-8",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:i.myAccounts}),c.jsx("div",{className:"animate-pulse",children:c.jsx("div",{className:"bg-zinc-900/50 rounded-3xl h-48 w-[85%]"})})]}):d?c.jsxs("div",{className:"px-6 mb-8",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:i.myAccounts}),c.jsx("div",{className:"text-red-500",children:"Ocorreu um erro ao carregar suas contas. Tente novamente mais tarde."})]}):!n||s.length===0?null:c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4 px-6",children:i.myAccounts}),c.jsx("div",{className:"px-3",children:c.jsxs(_xe,{...p,children:[s.map(w=>{const _=y(w);return c.jsx("div",{className:"px-3",children:c.jsxs("button",{onClick:()=>t?.(w),className:"w-full bg-gradient-to-br from-zinc-800/90 via-zinc-900/95 to-black backdrop-blur-xl rounded-3xl p-5 border border-zinc-700/60 hover:border-zinc-600 shadow-lg shadow-black/40 transition-all active:scale-[0.98] text-left relative overflow-hidden group",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] via-transparent to-transparent pointer-events-none"}),c.jsxs("div",{className:"flex items-center justify-between mb-10 relative z-10",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800 border border-zinc-700",children:c.jsx("img",{src:`https://flagcdn.com/w80/${w.country.toLowerCase()}.png`,alt:w.currency,className:"w-full h-full object-cover"})}),c.jsx("div",{className:"text-xl font-semibold text-white",children:w.currency})]}),c.jsxs("div",{className:"px-4 py-2 rounded-full bg-zinc-800/80 backdrop-blur-sm border border-zinc-700/50 flex items-center gap-2",children:[_.icon&&c.jsx("span",{className:"text-cyan-400 text-sm",children:_.icon}),c.jsx("span",{className:"text-xs font-medium text-gray-300",children:_.label})]})]}),(w.iban||w.accountNumber)&&c.jsx("div",{className:"text-xs text-gray-500 mb-3 font-mono tracking-wider relative z-10",children:w.iban?c.jsxs(c.Fragment,{children:["  ",w.iban.slice(-6)]}):c.jsxs(c.Fragment,{children:["  ",w.accountNumber.slice(-6)]})}),c.jsx("div",{className:"relative z-10 tabular-nums text-white",children:c.jsx(ha,{value:r(w.currency),symbol:v[w.currency],className:"text-2xl font-light"})})]})},w.id)}),c.jsx("div",{className:"px-3",children:c.jsxs("div",{onClick:e,className:"w-full bg-transparent backdrop-blur-xl rounded-3xl p-5 border-2 border-dashed border-zinc-700/60 hover:border-zinc-600 hover:bg-white/5 shadow-lg shadow-black/40 transition-all active:scale-[0.98] text-left relative overflow-hidden group h-full min-h-[180px] flex flex-col cursor-pointer",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-auto relative z-10",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 backdrop-blur-md border border-white/20 flex items-center justify-center",children:c.jsx(vu,{className:"text-white text-2xl font-light"})}),c.jsx("span",{className:"text-white/70 font-semibold",children:"Nova Conta"})]}),c.jsx("div",{className:"flex-1 flex items-center justify-center relative z-10",children:c.jsxs("p",{className:"text-white/50 text-sm text-center",children:["Adicione uma conta",c.jsx("br",{}),"de outro pas"]})})]})})]})})]})}function Txe({onClose:t}){const[e,n]=E.useState(!1),r=`rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    
    //  Localizaes dos usurios
    match /userLocations/{userId} {
      allow read: if request.auth != null && request.auth.uid == userId;
      allow write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Dados dos usurios
    match /users/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Saldos dos usurios
    match /balances/{userId} {
      allow read, write: if request.auth != null && request.auth.uid == userId;
    }
    
    //  Transaes
    match /transactions/{transactionId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null;
    }
    
    //  Transferncias de cripto
    match /cryptoTransfers/{transferId} {
      allow read: if request.auth != null;
      allow create: if request.auth != null;
    }

    //  Contas bancrias
    match /bankAccounts/{accountId} {
      allow read, write: if request.auth != null;
    }
  }
}`,i=async()=>{try{await navigator.clipboard.writeText(r),n(!0),setTimeout(()=>n(!1),2e3)}catch(s){console.error("Erro ao copiar:",s)}};return c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:c.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-3xl border border-white/20 max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-[0_0_40px_rgba(255,255,255,0.1)]",children:[c.jsxs("div",{className:"sticky top-0 bg-white/5 backdrop-blur-md border-b border-white/10 px-6 py-4 flex items-center justify-between",children:[c.jsx("h2",{className:"text-xl text-white",children:" Configurar Firestore"}),c.jsx("button",{onClick:t,className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center hover:bg-white/20 transition-all",children:c.jsx(qs,{className:"w-5 h-5 text-white"})})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-4",children:c.jsx("p",{className:"text-red-400 text-sm",children:" As regras de segurana do Firestore precisam ser configuradas para permitir o salvamento de localizaes."})}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[c.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"1"}),"Acesse o Firebase Console"]}),c.jsxs("a",{href:"https://console.firebase.google.com/project/nexcoin-1f42f/firestore/rules",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-blue-500/20 backdrop-blur-md rounded-xl px-4 py-3 border border-blue-500/30 hover:bg-blue-500/30 transition-all",children:[c.jsx(pz,{className:"w-4 h-4 text-blue-400"}),c.jsx("span",{className:"text-sm text-blue-400 flex-1 font-medium",children:"Clique aqui para abrir Firestore Rules"})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[c.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"2"}),"Navegue at as regras"]}),c.jsx("div",{className:"bg-white/5 rounded-xl px-4 py-3 border border-white/10",children:c.jsxs("p",{className:"text-xs text-white/60",children:["Firestore Database  ",c.jsx("span",{className:"text-white",children:"Rules"})]})})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[c.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"3"}),"Cole estas regras"]}),c.jsxs("div",{className:"relative",children:[c.jsx("pre",{className:"bg-black/40 rounded-xl p-4 border border-white/10 overflow-x-auto text-xs text-white/80 font-mono",children:r}),c.jsx("button",{onClick:i,className:"absolute top-3 right-3 bg-white/10 hover:bg-white/20 backdrop-blur-md rounded-lg px-3 py-1.5 flex items-center gap-2 border border-white/10 transition-all",children:e?c.jsxs(c.Fragment,{children:[c.jsx(Nx,{className:"w-4 h-4 text-green-400"}),c.jsx("span",{className:"text-xs text-green-400",children:"Copiado!"})]}):c.jsxs(c.Fragment,{children:[c.jsx(bn,{className:"w-4 h-4 text-white/60"}),c.jsx("span",{className:"text-xs text-white/60",children:"Copiar"})]})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("h3",{className:"text-white font-medium flex items-center gap-2",children:[c.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center text-xs",children:"4"}),"Publique as regras"]}),c.jsx("div",{className:"bg-white/5 rounded-xl px-4 py-3 border border-white/10",children:c.jsxs("p",{className:"text-xs text-white/60",children:["Clique no boto ",c.jsx("span",{className:"text-white font-medium",children:"Publicar"})," (Publish)"]})})]}),c.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4",children:c.jsx("p",{className:"text-green-400 text-sm",children:" Aps publicar, aguarde 1 minuto e recarregue a pgina. As localizaes sero salvas automaticamente!"})}),c.jsx("button",{onClick:t,className:"w-full bg-white/10 hover:bg-white/15 backdrop-blur-md rounded-xl px-4 py-3 border border-white/10 text-white transition-all",children:"Entendi"})]})]})})}function Cxe(t){return t>=1?t.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:6}):t.toLocaleString("pt-BR",{minimumFractionDigits:6,maximumFractionDigits:8})}function h4({onNavigate:t,onNavigateWithAccount:e}){const{prices:n}=Ti(),{portfolio:r}=Ks(),{rates:i}=RP(),{user:s,userData:a,updateVisibleCards:o}=Dt(),{location:l,firestoreError:d}=Iz(),{t:f}=xt(),[m,p]=E.useState(!1),[y,v]=E.useState(!1),[w,_]=E.useState(!1),[T,L]=E.useState(!1),[O,z]=E.useState(""),[j,P]=E.useState(["BTC","ETH","SOL","BNB"]),[C,S]=E.useState(["USD"]),[k,A]=E.useState([]);E.useEffect(()=>{a?.preferences?.visibleCards&&P(a.preferences.visibleCards)},[a]),E.useEffect(()=>{if(!s)return;(async()=>{try{const te=nt(be,"bankAccounts"),ae=It(te,yt("userId","==",s.uid)),re=await Pt(ae);if(re.empty){S(["USD"]),K("USD");return}const xe={USD:"USD",BRL:"BRL",GBP:"GBP",EUR:"EUR"},se=re.docs.map(Te=>{const me=Te.data();return xe[me.currency]}).filter(Te=>Te!==void 0),he=Array.from(new Set(se));he.length>0?(S(he),he.includes(I)||K(he[0])):(S(["USD"]),K("USD")),A(re.docs.map(Te=>Te.data()))}catch(te){console.error("Erro ao carregar moedas disponveis:",te),S(["USD"])}})()},[s]);const D=async Z=>{const te=j.includes(Z)?j.filter(ae=>ae!==Z):[...j,Z];P(te);try{await o(te)}catch(ae){console.error("Erro ao salvar preferncias:",ae)}},M=[{symbol:"BTC",name:"Bitcoin",coinId:"bitcoin"},{symbol:"ETH",name:"Ethereum",coinId:"ethereum"},{symbol:"SOL",name:"Solana",coinId:"solana"},{symbol:"BNB",name:"BNB",coinId:"binancecoin"},{symbol:"XRP",name:"Ripple",coinId:"ripple"},{symbol:"ADA",name:"Cardano",coinId:"cardano"},{symbol:"AVAX",name:"Avalanche",coinId:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",coinId:"dogecoin"},{symbol:"DOT",name:"Polkadot",coinId:"polkadot"},{symbol:"MATIC",name:"Polygon",coinId:"matic-network"},{symbol:"LINK",name:"Chainlink",coinId:"chainlink"},{symbol:"UNI",name:"Uniswap",coinId:"uniswap"},{symbol:"LTC",name:"Litecoin",coinId:"litecoin"},{symbol:"ATOM",name:"Cosmos",coinId:"cosmos"},{symbol:"XLM",name:"Stellar",coinId:"stellar"},{symbol:"TRX",name:"Tron",coinId:"tron"},{symbol:"SHIB",name:"Shiba Inu",coinId:"shiba-inu"},{symbol:"WBTC",name:"Wrapped Bitcoin",coinId:"wrapped-bitcoin"},{symbol:"DAI",name:"Dai",coinId:"dai"},{symbol:"LEO",name:"UNUS SED LEO",coinId:"leo-token"},{symbol:"USDC",name:"USD Coin",coinId:"usd-coin"},{symbol:"TON",name:"Toncoin",coinId:"the-open-network"},{symbol:"ETC",name:"Ethereum Classic",coinId:"ethereum-classic"},{symbol:"BCH",name:"Bitcoin Cash",coinId:"bitcoin-cash"},{symbol:"APT",name:"Aptos",coinId:"aptos"},{symbol:"ARB",name:"Arbitrum",coinId:"arbitrum"},{symbol:"OP",name:"Optimism",coinId:"optimism"},{symbol:"ICP",name:"Internet Computer",coinId:"internet-computer"},{symbol:"FIL",name:"Filecoin",coinId:"filecoin"},{symbol:"NEAR",name:"NEAR Protocol",coinId:"near"},{symbol:"VET",name:"VeChain",coinId:"vechain"},{symbol:"ALGO",name:"Algorand",coinId:"algorand"},{symbol:"INJ",name:"Injective",coinId:"injective-protocol"},{symbol:"AAVE",name:"Aave",coinId:"aave"},{symbol:"MKR",name:"Maker",coinId:"maker"},{symbol:"GRT",name:"The Graph",coinId:"the-graph"},{symbol:"IMX",name:"Immutable X",coinId:"immutable-x"},{symbol:"STX",name:"Stacks",coinId:"blockstack"},{symbol:"HBAR",name:"Hedera",coinId:"hedera-hashgraph"},{symbol:"FTM",name:"Fantom",coinId:"fantom"},{symbol:"SAND",name:"The Sandbox",coinId:"the-sandbox"},{symbol:"MANA",name:"Decentraland",coinId:"decentraland"},{symbol:"AXS",name:"Axie Infinity",coinId:"axie-infinity"},{symbol:"XTZ",name:"Tezos",coinId:"tezos"},{symbol:"THETA",name:"Theta Network",coinId:"theta-token"},{symbol:"EOS",name:"EOS",coinId:"eos"},{symbol:"XMR",name:"Monero",coinId:"monero"},{symbol:"FLOW",name:"Flow",coinId:"flow"},{symbol:"CHZ",name:"Chiliz",coinId:"chiliz"},{symbol:"ZEC",name:"Zcash",coinId:"zcash"},{symbol:"RUNE",name:"THORChain",coinId:"thorchain"},{symbol:"KLAY",name:"Klaytn",coinId:"klay-token"},{symbol:"DASH",name:"Dash",coinId:"dash"},{symbol:"NEO",name:"Neo",coinId:"neo"},{symbol:"IOTA",name:"IOTA",coinId:"iota"},{symbol:"QNT",name:"Quant",coinId:"quant-network"},{symbol:"EGLD",name:"MultiversX",coinId:"elrond-erd-2"},{symbol:"PEPE",name:"Pepe",coinId:"pepe"},{symbol:"FET",name:"Fetch.ai",coinId:"fetch-ai"},{symbol:"SUI",name:"Sui",coinId:"sui"},{symbol:"SEI",name:"Sei",coinId:"sei-network"}],[I,K]=E.useState("USD"),[Y,J]=E.useState(0);E.useEffect(()=>{a?.photoURL&&z(a.photoURL)},[a]),E.useEffect(()=>(m||y||w?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[m,y,w]),E.useEffect(()=>{if(d&&(d.includes("Firestore")||d.includes("permission"))){console.log(" [NewHome] Erro de Firestore detectado:",d),console.log(" [NewHome] Abrindo modal de instrues...");const Z=setTimeout(()=>{L(!0)},2e3);return()=>clearTimeout(Z)}},[d]),n.bitcoin?.usd,n.ethereum?.usd;const F=1;n.bitcoin?.usd_24h_change,n.ethereum?.usd_24h_change,n.tether?.usd_24h_change,n.solana?.usd,n.binancecoin?.usd,n.solana?.usd_24h_change,n.binancecoin?.usd_24h_change;const G=r.totalBalanceUSDT;r.change24h,r.changePercent24h;const q=r.holdings.find(Z=>Z.symbol==="USDT");q&&q.amount;const R=G*F*(i[I]||1);E.useEffect(()=>{Y===0&&R>0&&J(R)},[R]),E.useEffect(()=>{if(Y===0)return;const Z=Y,te=R,ae=400,re=performance.now(),xe=se=>{const he=se-re,Te=Math.min(he/ae,1),me=1-Math.pow(1-Te,3),De=Z+(te-Z)*me;J(De),Te<1&&requestAnimationFrame(xe)};requestAnimationFrame(xe)},[I]);const U=()=>{if(C.length===0)return;const Z=new(window.AudioContext||window.webkitAudioContext),te=8,ae=.02,re=.05;for(let he=0;he<te;he++){const Te=Z.createOscillator(),me=Z.createGain();Te.connect(me),me.connect(Z.destination);const De=Z.currentTime+he*re;Te.frequency.setValueAtTime(1200+he*50,De);const Ie=.15*(1-he/te*.5);me.gain.setValueAtTime(Ie,De),me.gain.exponentialRampToValueAtTime(.01,De+ae),Te.start(De),Te.stop(De+ae)}const se=(C.indexOf(I)+1)%C.length;K(C[se])},H=Z=>({USD:"$",BRL:"R$",GBP:"",EUR:""})[Z]||"$",Q=async Z=>{const te=Z.target.files?.[0];if(!(!te||!s))try{Ge.loading("Comprimindo foto...",{id:"upload-photo"});const ae=await jz(te,200,.7);z(ae),Ge.loading("Salvando foto...",{id:"upload-photo"}),await bi(rt(be,"users",s.uid),{photoURL:ae}),Ge.success("Foto atualizada com sucesso!",{id:"upload-photo"})}catch(ae){console.error("Erro ao salvar foto:",ae),Ge.error("Erro ao enviar foto. Tente novamente.",{id:"upload-photo"}),a?.photoURL&&z(a.photoURL)}};return c.jsxs("div",{className:"min-h-screen relative flex flex-col bg-gradient-to-b from-[#1a2942] via-black to-black",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[c.jsxs("header",{className:"px-6 pt-12 pb-4 flex items-center justify-between gap-3 relative z-10",children:[c.jsx("label",{htmlFor:"profile-photo-input",className:"w-10 h-10 rounded-full overflow-hidden border-2 border-white/10 cursor-pointer hover:border-white/30 transition-all active:scale-95 block bg-white/10",children:O?c.jsx("img",{alt:"User Avatar",className:"w-full h-full object-cover",src:O}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-white/60 text-lg font-bold",children:a?.displayName?.[0]?.toUpperCase()||"U"})}),c.jsx("input",{type:"file",id:"profile-photo-input",className:"hidden",accept:"image/*",onChange:Q}),c.jsxs("button",{className:"flex-1 bg-white/5 backdrop-blur-md rounded-full px-4 py-2.5 flex items-center gap-2 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",onClick:()=>p(!0),children:[c.jsx(Wl,{className:"text-white/60 w-5 h-5"}),c.jsx("span",{className:"text-white/60 text-sm font-medium",children:f.search})]}),c.jsx("button",{className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",onClick:()=>v(!0),children:c.jsx(dv,{className:"text-white w-5 h-5"})})]}),c.jsx("section",{className:"mt-8 px-6 text-center relative z-10",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-xs font-medium text-white/60 mb-2 px-3 py-1 rounded-full bg-white/10 backdrop-blur-md border border-white/20 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:f.cashAndStablecoins}),c.jsxs("h1",{className:"text-5xl font-bold flex flex-col items-center gap-1 text-white",children:[c.jsx("button",{onClick:U,className:"font-bold text-white hover:text-white/80 transition-colors cursor-pointer active:scale-95 flex items-baseline",children:c.jsx(ha,{value:Y,symbol:H(I),className:"text-4xl font-light tabular-nums"})}),c.jsxs("span",{className:"text-base font-medium text-white/50",children:[" ",c.jsx(ha,{value:G,className:"text-base font-light",showSymbol:!1})," USDT"]})]}),c.jsx("div",{className:"mt-2 w-screen h-12 opacity-40 -mx-6",children:c.jsx(B0e,{value:G})})]})}),c.jsxs("section",{className:"mt-1 px-6 grid grid-cols-2 gap-8 relative z-10",children:[c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("button",{onClick:()=>{k.length>0,t("selectFiatAccount")},className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:c.jsx(hz,{className:"text-white w-6 h-6"})}),c.jsx("span",{className:"text-white text-sm font-light tracking-wide",children:f.deposit})]}),c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx("button",{onClick:()=>{const Z=k.find(te=>te.currency==="BRL");Z&&e?e("withdrawFiat",Z):t("withdrawFiat")},className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:c.jsx(VT,{className:"text-white w-6 h-6"})}),c.jsx("span",{className:"text-white text-sm font-light tracking-wide",children:f.transfer})]})]}),c.jsx("section",{className:"mt-8 relative z-10",children:c.jsx(Exe,{onAccountClick:Z=>{e&&e("fiatAccountDetails",Z)},onAddAccountClick:()=>{t&&t("accountData")}})}),c.jsx("section",{className:"mt-8 px-4 relative z-10",children:c.jsx("button",{onClick:()=>t("transactions"),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-3 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] hover:bg-white/10 transition-all active:scale-[0.98]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:c.jsx(Pte,{className:"w-4 h-4 text-white"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"text-sm font-bold text-white",children:f.statement}),c.jsx("p",{className:"text-xs text-white/50",children:f.viewAllTransactions})]})]}),c.jsx(mo,{className:"w-4 h-4 text-white/50"})]})})}),r.holdings.filter(Z=>Z.amount>0).length>0&&c.jsxs("section",{className:"mt-6 px-4 relative z-10",children:[c.jsx("h3",{className:"text-white/40 text-xs font-medium mb-3 px-1",children:f.assets}),c.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] overflow-hidden",children:r.holdings.filter(Z=>Z.amount>0).map((Z,te,ae)=>{const xe=M.find(me=>me.symbol===Z.symbol)?.coinId||Z.coinId||Z.symbol.toLowerCase(),se=n[xe]?.usd||0,he=n[xe]?.usd_24h_change||0,Te=Z.amount*se;return c.jsxs("div",{className:`px-4 py-3 flex items-center justify-between ${te!==ae.length-1?"border-b border-white/5":""} hover:bg-white/5 transition-colors`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx($t,{symbol:Z.symbol,size:"sm"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-semibold text-white",children:Z.name}),c.jsxs("p",{className:"text-xs text-white/40",children:[c.jsx(ha,{value:Te,className:"text-xs font-light",showSymbol:!1})," USDT"]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-white",children:Z.symbol==="USDT"?c.jsxs(c.Fragment,{children:[c.jsx(ha,{value:Z.amount,className:"text-sm font-light",showSymbol:!1})," ",Z.symbol]}):c.jsxs(c.Fragment,{children:[Cxe(Z.amount)," ",Z.symbol]})}),c.jsxs("div",{className:`flex items-center justify-end text-xs ${he>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[he>=0?c.jsx(os,{className:"w-3 h-3"}):c.jsx(xu,{className:"w-3 h-3"}),Math.abs(he).toFixed(2).replace(".",","),"%"]})]})]},Z.symbol)})})]}),c.jsxs("section",{className:"mt-10 px-4 space-y-4 relative z-10 pb-32",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2 px-1",children:[c.jsx("h3",{className:"text-white/50 text-xs font-semibold",children:f.market}),c.jsxs("button",{onClick:()=>_(!0),className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-full text-xs font-medium transition-all bg-white/5 backdrop-blur-md text-white/50 border border-white/10 hover:bg-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[c.jsx(Nte,{className:"w-3.5 h-3.5"}),f.edit]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-4",children:M.filter(Z=>j.includes(Z.symbol)).map(Z=>{const te=n[Z.coinId]?.usd||0,ae=n[Z.coinId]?.usd_24h_change||0;return c.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsxs("h4",{className:"text-sm font-bold text-white/50",children:[Z.symbol,"-USDT"]}),c.jsx($t,{symbol:Z.symbol,size:"sm"})]}),c.jsx("div",{className:"text-white mb-1",children:c.jsx(ha,{value:te,className:"text-lg font-light",showSymbol:!1})}),c.jsxs("div",{className:`flex items-center text-xs font-semibold mb-3 ${ae>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[ae>=0?c.jsx(os,{className:"w-4 h-4"}):c.jsx(xu,{className:"w-4 h-4"}),Math.abs(ae).toFixed(2).replace(".",","),"%"]}),c.jsx("div",{className:"h-10 w-full mt-2",children:c.jsx(Pne,{coinId:Z.coinId,color:ae>=0?"#34c759":"#ff3b30"})})]},`${Z.symbol}-${te}-${ae}`)})})]})]}),c.jsx(z0e,{isOpen:m,onClose:()=>p(!1)}),c.jsx(U0e,{isOpen:y,onClose:()=>v(!1)}),c.jsx(q0e,{isOpen:w,onClose:()=>_(!1),visibleCards:j,onToggleCard:D}),d&&d.includes("Firestore")&&T&&c.jsx(Txe,{onClose:()=>L(!1)})]})}function Sxe({onNavigate:t}){const[e,n]=E.useState(!0),{portfolio:r,isLoading:i,addOrUpdateCrypto:s,removeCrypto:a}=Ks(),{prices:o}=Ti(),{t:l}=xt();return c.jsx("div",{className:"min-h-screen bg-black text-white flex flex-col",children:c.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[c.jsxs("header",{className:"px-6 pt-8 pb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-lg",children:l.wallet}),c.jsx("button",{onClick:()=>n(!e),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:e?c.jsx(eu,{className:"w-5 h-5"}):c.jsx(ef,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-8",children:[c.jsxs("button",{onClick:()=>t("receive"),className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:c.jsx(SP,{className:"w-6 h-6 text-white"})}),c.jsx("span",{className:"text-sm font-light text-white",children:l.receive})]}),c.jsxs("button",{onClick:()=>t("convert"),className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:c.jsx(hte,{className:"w-6 h-6 text-white"})}),c.jsx("span",{className:"text-sm font-light text-white",children:l.convert})]}),c.jsxs("button",{onClick:()=>t("withdraw"),className:"flex flex-col items-center gap-2",children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center transition-transform active:scale-95 border-2 border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)]",children:c.jsx(PP,{className:"w-6 h-6 text-white"})}),c.jsx("span",{className:"text-sm font-light text-white",children:l.send})]})]})]}),c.jsx("div",{className:"px-6 space-y-6 mb-24",children:i?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"}),c.jsx("p",{className:"text-white/50 mt-4",children:l.loadingAssets})]}):r.holdings.length===0?c.jsxs("div",{className:"text-center py-16",children:[c.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:l.noAssetsInPortfolio}),c.jsxs("p",{className:"text-sm text-white/40 mb-8 max-w-xs mx-auto",children:[l.startAddingCryptos," ",c.jsx("span",{className:"text-white font-semibold",children:l.crypto})]}),c.jsx("button",{onClick:()=>t("crypto"),className:"px-8 py-4 bg-white/5 backdrop-blur-md rounded-2xl font-semibold text-white hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.goToCrypto})]}):c.jsxs(c.Fragment,{children:[r.holdings.some(d=>d.symbol==="USDT")&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:l.cashAndStablecoins}),r.holdings.filter(d=>d.symbol==="USDT").map(d=>{const f=o[d.coinId]?.usd||0;d.amount*f;const m=o[d.coinId]?.usd_24h_change||0;return c.jsx("div",{className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-5 hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] relative group",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx($t,{symbol:d.symbol,size:"md"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-semibold text-lg mb-1",children:d.symbol}),c.jsx("div",{className:"text-sm text-gray-400",children:d.name||d.symbol})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-light text-lg tabular-nums",children:e?`${ns(d.amount)} ${d.symbol}`:""}),c.jsxs("div",{className:`text-sm ${m>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[m>=0?"":""," ",Math.abs(m).toFixed(2),"%"]})]})]})},d.symbol)})]}),r.holdings.some(d=>d.symbol!=="USDT")?c.jsxs("div",{children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsx("h2",{className:"text-lg font-semibold",children:l.cryptocurrencies})}),c.jsx("div",{className:"space-y-4",children:r.holdings.filter(d=>d.symbol!=="USDT").map(d=>{const f=o[d.coinId]?.usd||0;d.amount*f;const m=o[d.coinId]?.usd_24h_change||0;return c.jsx("div",{className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-5 hover:bg-white/10 transition-colors border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] relative group",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx($t,{symbol:d.symbol,size:"md"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-semibold text-lg mb-1",children:d.symbol}),c.jsx("div",{className:"text-sm text-gray-400",children:d.name||d.symbol})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-light text-lg tabular-nums",children:e?`${ns(d.amount)} ${d.symbol}`:""}),c.jsxs("div",{className:`text-sm ${m>=0?"text-[#34c759]":"text-[#ff3b30]"}`,children:[m>=0?"":""," ",Math.abs(m).toFixed(2),"%"]})]})]})},d.symbol)})})]}):c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:l.cryptocurrencies}),c.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-8 border border-white/10 text-center",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto mb-4 flex items-center justify-center",children:c.jsx(vu,{className:"w-8 h-8 text-white/30"})}),c.jsx("p",{className:"text-white/50 text-sm mb-4",children:l.addCryptosToPortfolio}),c.jsx("button",{onClick:()=>t("crypto"),className:"px-6 py-3 bg-white text-black rounded-xl font-semibold hover:bg-gray-200 transition-colors",children:l.goToCrypto})]})]})]})})]})})}const Pxe="modulepreload",Axe=function(t){return"/"+t},m4={},fN=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=l(n.map(d=>{if(d=Axe(d),d in m4)return;m4[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":Pxe,f||(p.as="script"),p.crossOrigin="",p.href=d,o&&p.setAttribute("nonce",o),document.head.appendChild(p),f)return new Promise((y,v)=>{p.addEventListener("load",y),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};async function Nxe(t,e){try{if(console.log(" Salvando converso:",e),!t)throw new Error("userId  obrigatrio");const n=nt(be,"users",t,"conversions"),r={fromCurrency:e.fromCurrency,toCurrency:e.toCurrency,fromAmount:e.fromAmount,toAmount:e.toAmount,exchangeRate:e.exchangeRate,fee:e.fee,feePercentage:e.feePercentage,conversionMode:e.conversionMode,status:e.status,createdAt:jt.fromDate(new Date),completedAt:e.status==="completed"?jt.fromDate(new Date):null};e.fromCoinId!==void 0&&(r.fromCoinId=e.fromCoinId),e.toCoinId!==void 0&&(r.toCoinId=e.toCoinId),e.fromName!==void 0&&(r.fromName=e.fromName),e.toName!==void 0&&(r.toName=e.toName);const i=await _i(n,r);console.log(" Converso salva com ID:",i.id);try{const s=nt(be,"users",t,"transactions");await _i(s,{type:"convert",status:e.status,amount:e.toAmount,currency:e.toCurrency,fromAmount:e.fromAmount,fromCurrency:e.fromCurrency,toAmount:e.toAmount,toCurrency:e.toCurrency,fee:e.fee||0,feeCurrency:e.fromCurrency,description:`Converso de ${e.fromAmount} ${e.fromCurrency} para ${e.toAmount} ${e.toCurrency}`,createdAt:jt.fromDate(new Date),completedAt:e.status==="completed"?jt.fromDate(new Date):null}),console.log(" Transao de converso criada no histrico")}catch(s){console.error(" Erro ao criar transao de converso (no crtico):",s)}return i.id}catch(n){throw console.error(" Erro ao salvar converso:",n),n}}function FC(t,e=.5){return t*(e/100)}function p4(t,e,n){return t>=e+n}async function la(t,e){try{const n=rt(be,"users",t,"fiatBalances",e),r=await Bi(n);return r.exists()&&r.data().balance||0}catch(n){return console.error(` Erro ao buscar saldo de ${e}:`,n),0}}async function Vc(t,e,n,r,i){for(let o=1;o<=3;o++)try{console.log(` Atualizando saldo fiat ${e} (tentativa ${o}/3):`,n);const l=rt(be,"users",t,"fiatBalances",e),d=await Bi(l);let f=0;d.exists()&&(f=d.data().balance||0);const m=f+n;return m<0?{success:!1,newBalance:f,message:`Saldo insuficiente. Saldo atual: ${f.toFixed(2)} ${e}`}:(d.exists()?await bi(l,{balance:m,updatedAt:as()}):await cr(l,{currency:e,balance:m,createdAt:as(),updatedAt:as()}),console.log(` Saldo de ${e} atualizado: ${f.toFixed(2)}  ${m.toFixed(2)}`),await Ixe(t,{userId:t,currency:e,amount:Math.abs(n),type:n>=0?"credit":"debit",description:r,relatedConversionId:i,balanceBefore:f,balanceAfter:m,createdAt:new Date}),{success:!0,newBalance:m})}catch(l){if(console.error(` Erro ao atualizar saldo de ${e} (tentativa ${o}/3):`,l),o===3)return{success:!1,newBalance:0,message:l instanceof Error?l.message:"Erro ao atualizar saldo"};await new Promise(d=>setTimeout(d,500*o))}return{success:!1,newBalance:0,message:"Erro inesperado ao atualizar saldo"}}async function Ixe(t,e){try{const n=rt(be,"users",t,"fiatTransactions",`${Date.now()}`),r={userId:e.userId,currency:e.currency,amount:e.amount,type:e.type,description:e.description,balanceBefore:e.balanceBefore,balanceAfter:e.balanceAfter,createdAt:as()};e.relatedConversionId!==void 0&&(r.relatedConversionId=e.relatedConversionId),await cr(n,r),console.log(" Transao fiat salva no histrico")}catch(n){console.error(" Erro ao salvar transao fiat:",n)}}class jxe{locks=new Map;LOCK_TIMEOUT=3e4;async acquireLock(e,n){const r=this.locks.get(e);if(r){if(Date.now()-r.timestamp<this.LOCK_TIMEOUT)return console.warn(" Converso j em andamento para este usurio"),!1;console.warn(" Lock expirado removido:",r),this.locks.delete(e)}return this.locks.set(e,{userId:e,timestamp:Date.now(),operation:n}),console.log(" Lock adquirido:",{userId:e,operation:n}),!0}releaseLock(e){const n=this.locks.get(e);n&&(console.log(" Lock liberado:",{userId:e,duration:Date.now()-n.timestamp}),this.locks.delete(e))}hasActiveLock(e){const n=this.locks.get(e);return n?Date.now()-n.timestamp>=this.LOCK_TIMEOUT?(this.locks.delete(e),!1):!0:!1}clearAllLocks(){console.warn(" Limpando todos os locks"),this.locks.clear()}}const g4=new jxe;async function cl(t,e){try{if(!t||t.trim()===""){console.warn(" userId invlido para salvar log de auditoria");return}const n=rt(be,"users",t,"auditLogs",`${Date.now()}_${Math.random().toString(36).substr(2,9)}`),r={userId:t,operation:e.operation,fromCurrency:e.fromCurrency,toCurrency:e.toCurrency,fromAmount:e.fromAmount,toAmount:e.toAmount,conversionMode:e.conversionMode,balancesBefore:e.balancesBefore||null,balancesAfter:e.balancesAfter||null,conversionId:e.conversionId||null,errorMessage:e.errorMessage||null,metadata:e.metadata||null,timestamp:as(),userAgent:typeof navigator<"u"?navigator.userAgent:null};await cr(n,r),console.log(" Log de auditoria salvo:",e.operation)}catch(n){n instanceof Error&&n.message?.includes("permission-denied")?console.warn(" Log de auditoria desabilitado (permisso negada)"):console.error(" Erro ao salvar log de auditoria:",n)}}function jd(t,e){return{from:Number(t.toFixed(8)),to:Number(e.toFixed(8))}}function kxe(){const{user:t}=Dt(),{portfolio:e,updateBalance:n}=Ks(),[r,i]=E.useState([]),[s,a]=E.useState(!0);return E.useEffect(()=>{if(!t?.uid){a(!1);return}console.log(" Iniciando listener de converses para userId:",t.uid);let l=null;const d=nt(be,"users",t.uid,"conversions"),f=It(d,Cp("createdAt","desc"),da(50));return l=hs(f,m=>{console.log(" Snapshot de converses recebido - Total:",m.size);const p=[];m.forEach(y=>{const v=y.data();p.push({id:y.id,fromCurrency:v.fromCurrency,toCurrency:v.toCurrency,fromAmount:v.fromAmount,toAmount:v.toAmount,exchangeRate:v.exchangeRate,fee:v.fee,feePercentage:v.feePercentage,conversionMode:v.conversionMode,fromCoinId:v.fromCoinId,toCoinId:v.toCoinId,fromName:v.fromName,toName:v.toName,status:v.status,createdAt:v.createdAt?.toDate()||new Date,completedAt:v.completedAt?.toDate()})}),i(p),a(!1)},m=>{console.error(" Erro no listener de converses:",m),a(!1)}),()=>{console.log(" Cancelando listener de converses"),l&&l()}},[t?.uid]),{conversions:r,isLoading:s,executeConversion:async(l,d,f,m,p,y,v,w,_,T)=>{if(!t?.uid)return{success:!1,message:"Usurio no autenticado"};if(!await g4.acquireLock(t.uid,`${l}->${d}`))return{success:!1,message:"Aguarde a converso anterior finalizar"};let O=!1,z=!1,j;try{console.log(" Iniciando converso segura:",{from:l,to:d,amount:f,mode:y});const P=FC(f),C=f+P;let S=0,k=0;if(y==="crypto-crypto"){if(S=e.holdings.find(J=>J.symbol===l)?.amount||0,k=e.holdings.find(J=>J.symbol===d)?.amount||0,!p4(S,f,P))throw new Error(`Saldo insuficiente. Necessrio: ${C.toFixed(8)} ${l}`);await cl(t.uid,{operation:"conversion_start",fromCurrency:l,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:jd(S,k),metadata:{fee:P,totalDeducted:C,exchangeRate:p}}),console.log(" [CRYPTOCRYPTO] Saldo validado:",{available:S,required:C}),console.log(` [CRYPTOCRYPTO] Debitando ${C} ${l}`);const Y=e.holdings.find(J=>J.symbol===l)?.amount||0;if(!p4(Y,f,P))throw new Error("Saldo alterado durante converso. Tente novamente.");await n(l,v,-C,_),O=!0,console.log(" Dbito concludo"),await new Promise(J=>setTimeout(J,100)),console.log(` [CRYPTOCRYPTO] Creditando ${m} ${d}`),await n(d,w,m,T),z=!0,console.log(" Crdito concludo")}else if(y==="crypto-fiat")if(["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(l)){if(S=e.holdings.find(G=>G.symbol===l)?.amount||0,k=await la(t.uid,d),S<f)throw new Error(`Saldo insuficiente. Disponvel: ${S.toFixed(8)} ${l}, Necessrio: ${f.toFixed(8)} ${l}`);if(await cl(t.uid,{operation:"conversion_start",fromCurrency:l,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:jd(S,k),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [CRYPTOFIAT] Saldo crypto validado:",{available:S,required:f}),console.log(` [CRYPTOFIAT] Debitando ${f} ${l}`),(e.holdings.find(G=>G.symbol===l)?.amount||0)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");await n(l,v,-f,_),O=!0,console.log(" Dbito cripto concludo"),console.log(` [CRYPTOFIAT] Creditando ${m} ${d}`);const F=await Vc(t.uid,d,m,`Converso de ${f} ${l} para ${d}`);if(!F.success)throw new Error(F.message||"Erro ao adicionar saldo fiat");z=!0,console.log(" Crdito fiat concludo")}else{if(S=await la(t.uid,l),k=e.holdings.find(F=>F.symbol===d)?.amount||0,S<f)throw new Error(`Saldo insuficiente. Disponvel: ${S.toFixed(2)} ${l}, Necessrio: ${f.toFixed(2)} ${l}`);if(await cl(t.uid,{operation:"conversion_start",fromCurrency:l,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:jd(S,k),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [FIATCRYPTO] Saldo fiat validado:",{available:S,required:f}),console.log(` [FIATCRYPTO] Debitando ${f} ${l}`),await la(t.uid,l)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");const J=await Vc(t.uid,l,-f,`Converso de ${f} ${l} para ${d}`);if(!J.success)throw new Error(J.message||"Erro ao debitar saldo fiat");O=!0,console.log(" Dbito fiat concludo"),console.log(` [FIATCRYPTO] Creditando ${m} ${d}`),await n(d,w,m,T),z=!0,console.log(" Crdito cripto concludo")}else if(y==="fiat-fiat"){if(S=await la(t.uid,l),k=await la(t.uid,d),S<f)throw new Error(`Saldo insuficiente. Disponvel: ${S.toFixed(2)} ${l}, Necessrio: ${f.toFixed(2)} ${l}`);if(await cl(t.uid,{operation:"conversion_start",fromCurrency:l,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:jd(S,k),metadata:{fee:0,totalDeducted:f,exchangeRate:p}}),console.log(" [FIATFIAT] Saldo validado:",{available:S,required:f}),console.log(` [FIATFIAT] Debitando ${f} ${l}`),await la(t.uid,l)<f)throw new Error("Saldo alterado durante converso. Tente novamente.");const I=await Vc(t.uid,l,-f,`Converso de ${f} ${l} para ${d}`);if(!I.success)throw new Error(I.message||"Erro ao debitar saldo");O=!0,console.log(" Dbito fiat concludo"),console.log(` [FIATFIAT] Creditando ${m} ${d}`);const K=await Vc(t.uid,d,m,`Converso de ${f} ${l} para ${d}`);if(!K.success)throw new Error(K.message||"Erro ao adicionar saldo");z=!0,console.log(" Crdito fiat concludo")}j=await Nxe(t.uid,{fromCurrency:l,toCurrency:d,fromAmount:f,toAmount:m,exchangeRate:p,fee:P,feePercentage:.5,conversionMode:y,fromCoinId:v,toCoinId:w,fromName:_,toName:T,status:"completed"}),console.log(" Converso executada com sucesso!",{conversionId:j});let A=0,D=0;if(y==="crypto-crypto"){const M=e.holdings.find(K=>K.symbol===l),I=e.holdings.find(K=>K.symbol===d);A=M?.amount||0,D=I?.amount||0}else y==="crypto-fiat"?["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(l)?(A=e.holdings.find(Y=>Y.symbol===l)?.amount||0,D=await la(t.uid,d)):(A=await la(t.uid,l),D=e.holdings.find(Y=>Y.symbol===d)?.amount||0):(A=await la(t.uid,l),D=await la(t.uid,d));return await cl(t.uid,{operation:"conversion_success",conversionId:j,fromCurrency:l,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,balancesBefore:jd(S,k),balancesAfter:jd(A,D)}),{success:!0,message:"Converso realizada com sucesso!",conversionId:j}}catch(P){console.error(" Erro ao executar converso:",P);const C=P instanceof Error?P.message:"Erro ao executar converso";if(O&&!z){console.warn(" Iniciando ROLLBACK automtico...");try{if(y==="crypto-crypto"){const S=FC(f),k=f+S;await n(l,v,k,_),console.log(" ROLLBACK concludo: Dbito revertido")}else y==="crypto-fiat"?["BTC","ETH","USDT","BNB","SOL","XRP","ADA","AVAX","DOGE","DOT","MATIC","LINK","UNI","LTC","ATOM","XLM","TRX"].includes(l)?(await n(l,v,f,_),console.log(" ROLLBACK concludo: Dbito cripto revertido")):(await Vc(t.uid,l,f,`ROLLBACK: Converso falhou - ${C}`),console.log(" ROLLBACK concludo: Dbito fiat revertido")):y==="fiat-fiat"&&(await Vc(t.uid,l,f,`ROLLBACK: Converso falhou - ${C}`),console.log(" ROLLBACK concludo: Dbito fiat revertido"));await cl(t.uid,{operation:"conversion_rollback",fromCurrency:l,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:`Rollback executado: ${C}`,metadata:{debitCompleted:O,creditCompleted:z}})}catch(S){console.error(" ERRO CRTICO NO ROLLBACK:",S),await cl(t.uid,{operation:"conversion_failed",fromCurrency:l,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:`ERRO CRTICO: Rollback falhou - ${S instanceof Error?S.message:"Erro desconhecido"}`,metadata:{originalError:C,debitCompleted:O,creditCompleted:z}})}}else await cl(t.uid,{operation:"conversion_failed",fromCurrency:l,toCurrency:d,fromAmount:f,toAmount:m,conversionMode:y,errorMessage:C,metadata:{debitCompleted:O,creditCompleted:z}});return{success:!1,message:C}}finally{g4.releaseLock(t.uid)}}}}function Cb(){const[t,e]=E.useState([]),[n,r]=E.useState(!0),{user:i}=Dt(),{t:s,language:a}=xt();E.useEffect(()=>{if(!i?.uid){e([]),r(!1);return}r(!0);const v=nt(be,"users",i.uid,"transactions"),w=It(v,Cp("createdAt","desc")),_=N9(w,T=>{const O=T.docs.map(z=>{const j=z.data();let P;j.createdAt?.toDate?P=j.createdAt.toDate():j.createdAt instanceof Date?P=j.createdAt:typeof j.createdAt=="string"||typeof j.createdAt=="number"?P=new Date(j.createdAt):P=new Date;let C;return j.completedAt?.toDate?C=j.completedAt.toDate():j.completedAt instanceof Date?C=j.completedAt:j.completedAt&&(C=new Date(j.completedAt)),{...j,id:z.id,createdAt:P,completedAt:C}}).sort((z,j)=>j.createdAt.getTime()-z.createdAt.getTime());e(O),r(!1)},{maxRetries:3,retryDelay:1e3,onError:T=>{console.error(" Erro ao carregar transaes:",T),e([]),r(!1)}});return()=>{try{_()}catch(T){console.error(" Erro ao desinscrever listener:",T)}}},[i?.uid]);const o=async v=>{if(!i?.uid)throw new Error("Usurio no autenticado");try{const w=nt(be,"transactions"),_=await _i(w,{...v,userId:i.uid,createdAt:jt.now(),completedAt:v.status==="completed"?jt.now():null});return console.log(" Transao salva:",_.id),_.id}catch(w){throw console.error(" Erro ao salvar transao:",w),w}},l=(v,w=2)=>{const _=a==="pt"?"pt-BR":a==="es"?"es-ES":"en-US";return v.toLocaleString(_,{minimumFractionDigits:w,maximumFractionDigits:w})};return{transactions:t,isLoading:n,addTransaction:o,formatAmount:l,getCurrencySymbol:v=>({BRL:"R$",USD:"$",EUR:"",GBP:"",USDT:"",BTC:"",ETH:""})[v]||v,formatTransactionDescription:v=>{switch(v.type){case"send_crypto":return`${s.transactionsPage.types.sendCrypto} ${v.currency}`;case"receive_crypto":return`${s.transactionsPage.types.receiveCrypto} ${v.currency}`;case"crypto_send":return`${s.transactionsPage.types.sent} ${v.currency}`;case"crypto_receive":return`${s.transactionsPage.types.received} ${v.currency}`;case"pix_send":return s.transactionsPage.types.pixSent;case"pix_receive":return s.transactionsPage.types.pixReceived;case"convert":return`${s.transactionsPage.types.conversion} ${v.fromCurrency}  ${v.toCurrency}`;case"deposit_fiat":return`${s.transactionsPage.types.deposit} ${v.currency}`;case"withdraw_fiat":return`${s.transactionsPage.types.withdrawal} ${v.currency}`;case"buy_crypto":return`${s.transactionsPage.types.buy} ${v.currency}`;case"sell_crypto":return`${s.transactionsPage.types.sell} ${v.currency}`;default:return v.description||s.transactions}},formatTransactionAmount:v=>{const _=["receive_crypto","crypto_receive","pix_receive","deposit_fiat","convert"].includes(v.type)?"+":"-";if(v.type==="convert"&&v.toAmount&&v.toCurrency)return`${_} ${l(v.toAmount)} ${v.toCurrency}`;const T=Math.abs(v.amount);return`${_} ${l(T)} ${v.currency}`},getTransactionIcon:v=>v.type==="convert"?"":["send_crypto","crypto_send","pix_send","withdraw_fiat"].includes(v.type)?"":["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(v.type)?"":"",getTransactionIconType:v=>v.type==="convert"?"conversao":["send_crypto","crypto_send","pix_send","withdraw_fiat"].includes(v.type)?"saida":(["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(v.type),"entrada")}}async function Rxe(t,e,n,r,i){try{const s=nt(be,"notifications");await _i(s,{userId:t,type:e,title:n,message:r,timestamp:as(),read:!1,metadata:i||{},createdAt:as()}),console.log(" Notification created:",{userId:t,type:e,title:n})}catch(s){throw console.error(" Error creating notification:",s),s}}async function Dxe(t){try{const e=nt(be,"notifications"),n=It(e,yt("userId","==",t),Cp("timestamp","desc")),r=await Pt(n),i=[];return r.forEach(s=>{const a=s.data();i.push({id:s.id,userId:a.userId,type:a.type,title:a.title,message:a.message,timestamp:a.timestamp?.toDate()||new Date,read:a.read||!1,metadata:a.metadata||{}})}),console.log(` Loaded ${i.length} notifications for user ${t}`),i}catch(e){throw console.error(" Error loading notifications:",e),e}}async function Oxe(t){try{const e=rt(be,"notifications",t);await bi(e,{read:!0,readAt:as()}),console.log(" Notification marked as read:",t)}catch(e){throw console.error(" Error marking notification as read:",e),e}}async function Mxe(t){try{const e=nt(be,"notifications"),n=It(e,yt("userId","==",t),yt("read","==",!1)),r=await Pt(n),i=qc(be);r.forEach(s=>{i.update(s.ref,{read:!0,readAt:as()})}),await i.commit(),console.log(` Marked ${r.size} notifications as read`)}catch(e){throw console.error(" Error marking all notifications as read:",e),e}}async function Lxe(t,e,n,r,i){await Rxe(t,"transaction","Converso realizada",`Voc converteu ${e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})} ${n} para ${r.toLocaleString("pt-BR",{minimumFractionDigits:8,maximumFractionDigits:8})} ${i}`,{fromAmount:e,fromCurrency:n,toAmount:r,toCurrency:i,type:"conversion"})}function Vxe({onNavigate:t,onNavigateWithAccount:e}){const{user:n}=Dt(),{language:r,t:i}=xt(),[s,a]=E.useState(""),[o,l]=E.useState(""),[d,f]=E.useState("BTC"),[m,p]=E.useState("USDT"),[y,v]=E.useState(!1),[w,_]=E.useState(!1),[T,L]=E.useState("crypto-crypto"),[O,z]=E.useState(!1),[j,P]=E.useState(!1),[C,S]=E.useState([]),[k,A]=E.useState(!1),{prices:D}=Ti(),{rates:M}=RP(),{portfolio:I}=Ks(),{conversions:K,isLoading:Y,executeConversion:J}=kxe(),{getBalance:F}=Yp(),{addTransaction:G}=Cb(),q=E.useRef(null);E.useEffect(()=>{q.current&&q.current.focus()},[]),E.useEffect(()=>(j?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[j]),E.useEffect(()=>{if(!n?.uid)return;(async()=>{try{const je=nt(be,"bankAccounts"),qe=It(je,yt("userId","==",n.uid)),ht=(await Pt(qe)).docs.map(le=>({...le.data(),id:le.id}));S(ht),console.log(" Contas bancrias carregadas:",ht.length)}catch(je){console.error(" Erro ao carregar contas bancrias:",je)}})()},[n]);const R=[{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BNB",name:"BNB",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"},{symbol:"XLM",name:"Stellar",id:"stellar"},{symbol:"TRX",name:"Tron",id:"tron"}],U=[{symbol:"BRL",name:i.brazilianReal,flag:"https://flagcdn.com/w80/br.png"},{symbol:"USD",name:i.usDollar,flag:"https://flagcdn.com/w80/us.png"},{symbol:"EUR",name:i.euro,flag:"https://flagcdn.com/w80/eu.png"},{symbol:"GBP",name:i.sterling,flag:"https://flagcdn.com/w80/gb.png"}],H=E.useMemo(()=>{if(C.length===0)return[];const oe=[...new Set(C.map(je=>je.currency))];return U.filter(je=>oe.includes(je.symbol))},[C]),Q=E.useMemo(()=>R.filter(oe=>{const je=I.holdings.find(qe=>qe.symbol===oe.symbol);return je&&je.amount>0}),[I.holdings]),Z=oe=>I.holdings.find(qe=>qe.symbol===oe)?.amount||0,te=oe=>F(oe),ae={BTC:"bitcoin",ETH:"ethereum",USDT:"tether",BNB:"binancecoin",SOL:"solana",XRP:"ripple",ADA:"cardano",AVAX:"avalanche-2",DOGE:"dogecoin",DOT:"polkadot",MATIC:"matic-network",LINK:"chainlink",UNI:"uniswap",LTC:"litecoin",ATOM:"cosmos",XLM:"stellar",TRX:"tron"},re=oe=>R.some(je=>je.symbol===oe),xe=oe=>U.some(je=>je.symbol===oe),se=oe=>{if(oe==="fiat-fiat"&&H.length<2){Ge.error(i.convertPage.needTwoAccounts);return}if(oe==="crypto-fiat"&&H.length===0){Ge.error(i.convertPage.needBankAccount);return}if(L(oe),oe==="crypto-crypto"){const je=Q.length>0?Q[0].symbol:"BTC";f(je),p(je==="USDT"?"BTC":"USDT")}else if(oe==="crypto-fiat"){const je=Q.length>0?Q[0].symbol:"BTC";f(je);const qe=H.length>0?H[0].symbol:"BRL";p(qe)}else{const je=H[0]?.symbol||"BRL",qe=H[1]?.symbol||"USD";f(je),p(qe)}a(""),l("")},he=()=>{const oe=d,je=s;f(m),p(oe),a(o),l(je)},Te=oe=>{const je=oe.replace(/\D/g,"");if(!je){a("");return}const dt=parseInt(je,10)/100;a(dt.toString())},me=oe=>{if(!oe)return"0,00";const je=parseFloat(oe);if(isNaN(je))return"0,00";const qe=je.toFixed(2),[dt,ht]=qe.split(".");return`${dt.replace(/\B(?=(\d{3})+(?!\d))/g,".")},${ht}`},De=E.useMemo(()=>{if(T==="crypto-crypto"){const oe=ae[d],je=ae[m],qe=D[oe]?.usd||1,dt=D[je]?.usd||1;return qe/dt}else if(T==="crypto-fiat")if(re(d)){const je=ae[d],qe=D[je]?.usd||1,dt=M[m]||1;return qe*dt}else{const je=ae[m],qe=D[je]?.usd||1;return(M[d]||1)/qe}else if(T==="fiat-fiat"){const oe=M[d]||1;return(M[m]||1)/oe}return 1},[T,d,m,D,M,ae,re]);E.useEffect(()=>{if(!s){l("");return}const oe=parseFloat(s);if(isNaN(oe)){l("");return}if(T==="crypto-crypto"){const je=ae[d],qe=ae[m],dt=D[je]?.usd||0,ht=D[qe]?.usd||1,le=oe*dt/ht;l(m==="USDT"?le.toFixed(2):le.toString())}else if(T==="crypto-fiat")if(re(d)){const qe=ae[d],dt=D[qe]?.usd||0,ht=M[m]||1,Oe=oe*dt*ht;l(Oe.toFixed(2))}else{const qe=ae[m],dt=D[qe]?.usd||0,ht=M[d]||1,Oe=oe/ht/dt;l(m==="USDT"?Oe.toFixed(2):Oe.toString())}else if(T==="fiat-fiat"){const je=M[d]||1,qe=M[m]||1,ht=oe/je*qe;l(ht.toFixed(2))}},[s,d,m,D,M,T,ae,re]);const Ie=E.useMemo(()=>{if(!s)return!1;const oe=parseFloat(s);if(isNaN(oe)||oe<=0)return!1;if(T==="crypto-crypto"){const je=FC(oe),qe=oe+je;return Z(d)<qe}else{if(T==="crypto-fiat")return re(d)?Z(d)<oe:te(d)<oe;if(T==="fiat-fiat")return te(d)<oe}return!1},[s,d,T,Z,te,re]),Ye=()=>{if(!s)return null;const oe=parseFloat(s);if(isNaN(oe)||oe<=0)return null;if(T==="crypto-crypto"){if(Z(d)===0)return`${i.convertPage.noBalance} ${d}`;if(Ie)return i.convertPage.insufficientBalanceWithFee}else if(T==="crypto-fiat"){if(Z(d)===0)return`${i.convertPage.noBalance} ${d}`;if(Ie)return i.convertPage.insufficientBalance}else if(T==="fiat-fiat"){if(te(d)===0)return`${i.convertPage.noBalance} ${d}`;if(Ie)return i.convertPage.insufficientBalance}return null},Je=async()=>{if(!(!o||!s)){z(!0);try{const oe=R.find(lt=>lt.symbol===d),je=R.find(lt=>lt.symbol===m),qe=U.find(lt=>lt.symbol===d),dt=U.find(lt=>lt.symbol===m);let ht,le,Oe,wt;T==="crypto-crypto"?(ht=oe?.id,le=je?.id,Oe=oe?.name,wt=je?.name):T==="crypto-fiat"?re(d)?(ht=oe?.id,le=void 0,Oe=oe?.name,wt=dt?.name):(ht=void 0,le=je?.id,Oe=qe?.name,wt=je?.name):T==="fiat-fiat"&&(ht=void 0,le=void 0,Oe=qe?.name,wt=dt?.name);const Bt=await J(d,m,parseFloat(s),parseFloat(o),De,T,ht,le,Oe,wt);if(Bt.success){try{await G({type:"convert",status:"completed",amount:parseFloat(o),currency:m,fromAmount:parseFloat(s),fromCurrency:d,toAmount:parseFloat(o),toCurrency:m,fee:T==="crypto-crypto"?parseFloat(s)*.005:0,feeCurrency:d,description:`Converso ${d}  ${m}`}),console.log(" Transao salva no Firestore")}catch(lt){console.error(" Erro ao salvar transao:",lt)}a(""),l(""),Ge.success(i.convertPage.conversionSuccess),P(!0),n?.uid&&await Lxe(n.uid,parseFloat(s),d,parseFloat(o),m)}else Ge.error(Bt.message)}catch(oe){console.error("Erro ao executar a converso:",oe),Ge.error(i.convertPage.conversionError)}finally{z(!1)}}},Qe=()=>{P(!1)},bt=()=>{P(!1),t("home")},Vt=async oe=>{if(!(!n?.uid||!oe||!window.confirm(i.convertPage.deleteConversion)))try{const{deleteDoc:qe,doc:dt}=await fN(async()=>{const{deleteDoc:ht,doc:le}=await Promise.resolve().then(()=>eJ);return{deleteDoc:ht,doc:le}},void 0);await qe(dt(be,"users",n.uid,"conversions",oe)),Ge.success(i.convertPage.conversionDeleted),console.log(` Converso ${oe} removida`)}catch(qe){console.error(" Erro ao excluir converso:",qe),Ge.error(i.convertPage.errorDeletingConversion)}},ut=()=>{const oe=re(d)?Z(d):te(d);if(oe<=0){Ge.error(i.convertPage.insufficientBalance);return}let je;T==="crypto-crypto"?je=oe/1.005:je=oe;const dt=Math.floor(je*100).toString();Te(dt)};return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col relative",children:[c.jsxs("div",{className:"px-6 pt-12 pb-2 flex items-center flex-shrink-0",children:[c.jsx("button",{className:"w-10 h-10 flex items-center justify-start text-white",onClick:()=>t("home"),children:c.jsx(vt,{className:"w-6 h-6"})}),c.jsx("h1",{className:"flex-1 text-center text-lg",children:i.convertPage.exchange}),c.jsx("div",{className:"w-10 h-10"})]}),c.jsx("div",{className:"flex-1 overflow-y-auto hide-scrollbar pb-28",children:c.jsxs("div",{className:"flex flex-col px-4 pt-6",children:[c.jsxs("div",{className:"flex gap-2 mb-6 bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-1.5",children:[c.jsx("button",{onClick:()=>se("crypto-crypto"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${T==="crypto-crypto"?"bg-white text-black":"text-gray-500"}`,children:i.convertPage.cryptoToCrypto}),c.jsx("button",{onClick:()=>se("crypto-fiat"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${T==="crypto-fiat"?"bg-white text-black":"text-gray-500"}`,children:i.convertPage.cryptoToFiat}),c.jsx("button",{onClick:()=>se("fiat-fiat"),className:`flex-1 py-2.5 rounded-xl text-xs transition-all ${T==="fiat-fiat"?"bg-white text-black":"text-gray-500"}`,children:i.convertPage.fiatToFiat})]}),c.jsxs("div",{className:"relative space-y-2",children:[c.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-3xl p-6 flex items-center justify-between h-32 relative",children:[c.jsx("button",{className:"absolute top-3 right-3 text-[10px] text-gray-500 hover:text-white transition-colors px-2 py-1 rounded-lg hover:bg-white/5",onClick:ut,children:i.convertPage.convertAll}),c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs("button",{className:"flex items-center gap-2 group",onClick:()=>{v(!y),_(!1)},children:[c.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center",children:re(d)?c.jsx($t,{symbol:d,size:"xs"}):c.jsx("img",{src:U.find(oe=>oe.symbol===d)?.flag,alt:d,className:"w-full h-full object-cover"})}),c.jsx("span",{className:"text-xl text-white",children:d}),c.jsx(Il,{className:"w-4 h-4 text-gray-500"})]}),c.jsx("p",{className:"text-gray-500 text-xs mt-1",children:re(d)?`${i.convertPage.balance}: ${ns(Z(d))} ${d}`:`${i.convertPage.balance}: ${Gr(te(d).toString(),d)}`})]}),c.jsx("div",{className:"text-right",children:c.jsx("input",{type:"text",inputMode:"numeric",value:me(s),onChange:oe=>Te(oe.target.value),placeholder:"0,00",className:"text-base font-normal text-white bg-transparent text-right focus:outline-none w-32 placeholder-gray-700",style:{caretColor:"#0A84FF"},ref:q})}),y&&c.jsxs("div",{className:"absolute left-6 top-20 bg-zinc-900 rounded-xl p-2 shadow-2xl border border-zinc-700 z-50 w-[200px] max-h-[280px] overflow-y-auto",children:[T==="crypto-crypto"&&Q.map(oe=>c.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===m&&p(d),f(oe.symbol),v(!1)},children:[c.jsx($t,{symbol:oe.symbol,size:"xs"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-sm",children:oe.name}),c.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),T==="crypto-fiat"&&c.jsxs(c.Fragment,{children:[R.map(oe=>c.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{f(oe.symbol),v(!1)},children:[c.jsx($t,{symbol:oe.symbol,size:"xs"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm",children:oe.name}),c.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),c.jsx("div",{className:"h-px bg-zinc-700 my-2"}),H.map(oe=>c.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{f(oe.symbol),v(!1)},children:[c.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm",children:oe.name}),c.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]}),T==="fiat-fiat"&&H.map(oe=>c.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===m&&p(d),f(oe.symbol),v(!1)},children:[c.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm",children:oe.name}),c.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]})]}),c.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10",children:c.jsx("button",{className:"w-10 h-10 bg-white/10 backdrop-blur-md text-white rounded-full flex items-center justify-center border border-white/20 active:scale-90 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.1),0_4px_15px_rgba(0,0,0,0.5),inset_0_1px_2px_rgba(255,255,255,0.3),inset_0_-1px_2px_rgba(0,0,0,0.3)]",onClick:he,children:c.jsxs("div",{className:"flex flex-col items-center justify-center gap-0",children:[c.jsx(PP,{className:"w-3.5 h-3.5 stroke-[2.5]"}),c.jsx(SP,{className:"w-3.5 h-3.5 stroke-[2.5]"})]})})}),c.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-3xl p-6 flex items-center justify-between h-32 relative",children:[c.jsxs("div",{className:"flex flex-col gap-1",children:[c.jsxs("button",{className:"flex items-center gap-2 group",onClick:()=>{_(!w),v(!1)},children:[c.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center",children:re(m)?c.jsx($t,{symbol:m,size:"xs"}):c.jsx("img",{src:U.find(oe=>oe.symbol===m)?.flag,alt:m,className:"w-full h-full object-cover"})}),c.jsx("span",{className:"text-xl text-white",children:m}),c.jsx(Il,{className:"w-4 h-4 text-gray-500"})]}),c.jsx("p",{className:"text-gray-500 text-xs mt-1",children:re(m)?`${i.convertPage.balance}: 0 ${m}`:`${i.convertPage.balance}: $ 0,00`})]}),c.jsxs("div",{className:"text-right flex items-center",children:[c.jsx("div",{className:"text-base font-normal text-white text-right w-32 flex items-baseline justify-end",children:o?xe(m)?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-base",children:Gr(o,m).split(",")[0]}),Gr(o,m).includes(",")&&c.jsxs("span",{className:"text-sm",children:[",",Gr(o,m).split(",")[1]]})]}):m==="USDT"?Gr(o):ns(parseFloat(o)):"0"}),c.jsx("div",{className:"h-6 w-[2px] bg-[#0A84FF] ml-0.5 animate-pulse"})]}),w&&c.jsxs("div",{className:"absolute left-6 top-20 bg-zinc-900 rounded-xl p-2 shadow-2xl border border-zinc-700 z-50 w-[200px] max-h-[280px] overflow-y-auto",children:[T==="crypto-crypto"&&R.map(oe=>c.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===d&&f(m),p(oe.symbol),_(!1)},children:[c.jsx($t,{symbol:oe.symbol,size:"xs"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-sm",children:oe.name}),c.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),T==="crypto-fiat"&&c.jsxs(c.Fragment,{children:[R.map(oe=>c.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{p(oe.symbol),_(!1)},children:[c.jsx($t,{symbol:oe.symbol,size:"xs"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm",children:oe.name}),c.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol)),c.jsx("div",{className:"h-px bg-zinc-700 my-2"}),H.map(oe=>c.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{p(oe.symbol),_(!1)},children:[c.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm",children:oe.name}),c.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]}),T==="fiat-fiat"&&H.map(oe=>c.jsxs("button",{className:"flex items-center gap-3 py-2.5 px-3 w-full text-left hover:bg-zinc-800 rounded-lg transition-colors",onClick:()=>{oe.symbol===d&&f(m),p(oe.symbol),_(!1)},children:[c.jsx("img",{src:oe.flag,alt:oe.name,className:"w-5 h-5"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm",children:oe.name}),c.jsx("div",{className:"text-xs text-gray-500",children:oe.symbol})]})]},oe.symbol))]})]})]}),c.jsxs("div",{className:"mt-6 px-4 space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-500 text-xs",children:i.convertPage.exchangeRate}),c.jsxs("span",{className:"text-xs text-white",children:[s||"1"," ",d," = ",re(m)&&m!=="USDT"?ns((parseFloat(s)||1)*De):Gr((parseFloat(s)||1)*De)," ",m]})]}),T==="crypto-crypto"&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-500 text-xs",children:i.convertPage.conversionFee}),c.jsxs("span",{className:"text-xs text-white",children:[s?re(d)&&d!=="USDT"?ns(parseFloat(s)*.005):Gr(parseFloat(s)*.005):"0"," ",d]})]}),c.jsxs("div",{className:"flex justify-between items-center border-b border-zinc-900 pb-3",children:[c.jsx("span",{className:"text-gray-500 text-xs",children:i.convertPage.processing}),c.jsxs("span",{className:"text-xs text-white",children:["~ 30 ",i.convertPage.seconds]})]})]}),c.jsxs("div",{className:"mt-6 px-2 pb-6",children:[c.jsx("button",{className:`w-full h-14 text-base rounded-2xl transition-opacity ${o&&s?"bg-white text-black active:opacity-90":"bg-zinc-800 text-gray-600 cursor-not-allowed"}`,disabled:!o||!s||Ie,onClick:Je,children:O?i.convertPage.converting:i.convertPage.confirmExchange}),Ie&&c.jsx("p",{className:"text-red-500 text-xs mt-2 text-center",children:Ye()})]}),c.jsxs("div",{className:"mt-10 px-2 pb-24",children:[c.jsxs("button",{className:"w-full flex items-center justify-between mb-4 active:opacity-70 transition-opacity",onClick:()=>A(!k),children:[c.jsx("h2",{className:"text-white text-lg",children:i.convertPage.conversionHistory}),c.jsx(Il,{className:`w-5 h-5 text-gray-500 transition-transform ${k?"rotate-180":""}`})]}),k&&c.jsxs(c.Fragment,{children:[(console.log(" [Convert] Estado do histrico:",{isLoading:Y,conversionsCount:K.length,conversions:K.slice(0,3)}),null),Y?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-white border-r-transparent"}),c.jsx("p",{className:"text-white/50 text-sm mt-4",children:i.convertPage.loadingHistory})]}):K.length===0?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-white/50 text-sm",children:i.convertPage.noConversions})}):c.jsx("div",{className:"space-y-1",children:K.map((oe,je)=>{const qe=je<K.length-1,ht=oe.createdAt.toLocaleDateString("pt-BR",{day:"2-digit",month:"short",hour:"2-digit",minute:"2-digit"});return c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between py-4 active:bg-zinc-900/50 transition-colors cursor-pointer",onDoubleClick:()=>oe.id&&Vt(oe.id),title:i.convertPage.clickToDelete,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center border border-zinc-800",children:c.jsx("svg",{className:"w-5 h-5 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"})})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-white",children:[oe.fromCurrency," para ",oe.toCurrency]}),c.jsx("p",{className:"text-[10px] text-gray-500",children:ht})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"text-xs text-white",children:["+",oe.toCurrency==="USDT"||xe(oe.toCurrency)?Gr(oe.toAmount):ns(oe.toAmount)," ",oe.toCurrency]}),c.jsxs("p",{className:"text-[10px] text-gray-500",children:["-",oe.fromCurrency==="USDT"||xe(oe.fromCurrency)?Gr(oe.fromAmount):ns(oe.fromAmount)," ",oe.fromCurrency]})]})]}),qe&&c.jsx("div",{className:"h-px bg-zinc-900 w-full ml-12"})]},oe.id||je)})})]})]})]})}),j&&c.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6 overflow-hidden",children:c.jsxs("div",{className:"bg-black w-full h-full flex flex-col items-center justify-start pt-20 px-8 overflow-hidden",children:[c.jsx("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:c.jsx("svg",{className:"w-8 h-8 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),c.jsx("h2",{className:"text-white text-xl font-bold mb-3 text-center",children:i.convertPage.conversionCompleted}),c.jsx("p",{className:"text-white/70 text-sm mb-8 text-center",children:i.convertPage.anotherConversion}),c.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-sm",children:[c.jsx("button",{className:"w-full h-14 bg-white text-black font-bold text-base rounded-2xl transition-opacity active:opacity-90",onClick:Qe,children:i.convertPage.yesAnother}),c.jsx("button",{className:"w-full h-14 bg-white/10 backdrop-blur-md border border-white/20 text-white font-bold text-base rounded-2xl transition-opacity active:opacity-90",onClick:bt,children:i.convertPage.noGoHome})]})]})})]})}function Fxe({onNavigate:t}){const[e,n]=E.useState("all"),{prices:r}=Ti(),{portfolio:i}=Ks(),{user:s}=Dt(),{t:a}=xt(),[o,l]=E.useState(!1),[d,f]=E.useState(""),[m,p]=E.useState([]);E.useEffect(()=>{(async()=>{if(!s?.uid){p([]);return}try{const I=await Bi(rt(be,"users",s.uid,"preferences","crypto-favorites"));if(I.exists()){const K=I.data();p(K.favorites||[])}else p([])}catch(I){I?.code!=="permission-denied"&&console.error("Erro ao carregar favoritos:",I),p([])}})()},[s]);const y=async M=>{if(!s?.uid){Ge.error("Faa login para salvar favoritos");return}const I=m.includes(M)?m.filter(K=>K!==M):[...m,M];p(I);try{await cr(rt(be,"users",s.uid,"preferences","crypto-favorites"),{favorites:I,updatedAt:new Date}),I.includes(M)?Ge.success("Adicionado aos favoritos"):Ge.success("Removido dos favoritos")}catch(K){console.error("Erro ao salvar favoritos:",K),Ge.error("Erro ao salvar favorito"),p(m)}},[v,w]=E.useState(0),[_,T]=E.useState(!1),L=[{id:"bitcoin",symbol:"BTC",name:"Bitcoin"},{id:"ethereum",symbol:"ETH",name:"Ethereum"},{id:"tether",symbol:"USDT",name:"Tether"},{id:"binancecoin",symbol:"BNB",name:"Binance Coin"},{id:"solana",symbol:"SOL",name:"Solana"},{id:"ripple",symbol:"XRP",name:"XRP"},{id:"usd-coin",symbol:"USDC",name:"USD Coin"},{id:"cardano",symbol:"ADA",name:"Cardano"},{id:"dogecoin",symbol:"DOGE",name:"Dogecoin"},{id:"tron",symbol:"TRX",name:"TRON"},{id:"avalanche-2",symbol:"AVAX",name:"Avalanche"},{id:"polkadot",symbol:"DOT",name:"Polkadot"},{id:"matic-network",symbol:"MATIC",name:"Polygon"},{id:"chainlink",symbol:"LINK",name:"Chainlink"},{id:"shiba-inu",symbol:"SHIB",name:"Shiba Inu"},{id:"litecoin",symbol:"LTC",name:"Litecoin"},{id:"uniswap",symbol:"UNI",name:"Uniswap"},{id:"stellar",symbol:"XLM",name:"Stellar"},{id:"cosmos",symbol:"ATOM",name:"Cosmos"},{id:"monero",symbol:"XMR",name:"Monero"},{id:"ethereum-classic",symbol:"ETC",name:"Ethereum Classic"},{id:"bitcoin-cash",symbol:"BCH",name:"Bitcoin Cash"},{id:"near",symbol:"NEAR",name:"NEAR Protocol"},{id:"algorand",symbol:"ALGO",name:"Algorand"},{id:"vechain",symbol:"VET",name:"VeChain"},{id:"fantom",symbol:"FTM",name:"Fantom"},{id:"the-graph",symbol:"GRT",name:"The Graph"},{id:"filecoin",symbol:"FIL",name:"Filecoin"},{id:"hedera-hashgraph",symbol:"HBAR",name:"Hedera"},{id:"aptos",symbol:"APT",name:"Aptos"},{id:"arbitrum",symbol:"ARB",name:"Arbitrum"},{id:"optimism",symbol:"OP",name:"Optimism"},{id:"render-token",symbol:"RNDR",name:"Render"},{id:"injective-protocol",symbol:"INJ",name:"Injective"},{id:"sui",symbol:"SUI",name:"Sui"}],O=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(M),z=M=>M>=1e12?`$ ${(M/1e12).toFixed(1)}T`:M>=1e9?`$ ${(M/1e9).toFixed(0)}B`:M>=1e6?`$ ${(M/1e6).toFixed(0)}M`:`$ ${M.toFixed(0)}`,j=L.map(M=>{const I=r[M.id],K=I?.usd||0,Y=I?.usd_24h_change||0,J=I?.usd_market_cap||0;return{...M,price:O(K),change:`${Y>=0?"+":""}${Y.toFixed(1)}%`,trend:Y>0?"up":Y<0?"down":"neutral",marketCap:z(J),isFavorite:m.includes(M.id),changePercent:Y,rawPrice:K}}),P=E.useMemo(()=>j.filter(M=>M.changePercent>0).sort((M,I)=>I.changePercent-M.changePercent).slice(0,5),[j]),C=M=>{const I=M.rawPrice,K=M.changePercent,Y=[];for(let J=0;J<24;J++){const F=J/23,G=(Math.random()-.5)*(K/5),q=K*F/100+G,R=K*.3,U=(Math.random()-.5)*(R/5),H=R*F/100+U;Y.push({time:`${J}h`,price:I*(1+q/100),pricePast:I*.95*(1+H/100)})}return Y};E.useEffect(()=>{if(P.length===0||_)return;const M=setInterval(()=>{w(I=>(I+1)%P.length)},5e3);return()=>clearInterval(M)},[P.length,_]);const S=i.holdings.map(M=>M.coinId),k=j.filter(M=>!S.includes(M.id)),A=E.useMemo(()=>{let M=k;if(d.trim()){const I=d.toLowerCase();M=M.filter(K=>K.name.toLowerCase().includes(I)||K.symbol.toLowerCase().includes(I))}return e==="favorites"&&(M=M.filter(I=>I.isFavorite)),M},[k,d,e,m]),D="bg-white/5 backdrop-blur-md border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]";return c.jsx("div",{className:"min-h-screen bg-black text-white flex flex-col",children:c.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[c.jsxs("header",{className:"px-6 pt-8 pb-6",children:[c.jsx("h1",{className:"text-lg font-semibold mb-6",children:a.cryptoMarket}),c.jsxs("div",{className:"relative mb-6",children:[c.jsx(Wl,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2 z-10"}),c.jsx("input",{type:"text",placeholder:a.cryptoPage.searchCrypto,className:`w-full rounded-2xl pl-12 pr-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-zinc-700 ${D}`,value:d,onChange:M=>f(M.target.value)})]}),c.jsxs("div",{className:"flex gap-3 mb-6",children:[c.jsx("button",{onClick:()=>n("all"),className:e==="all"?"flex-1 py-3 rounded-full font-semibold transition-colors bg-white text-black":`flex-1 py-3 rounded-full font-semibold transition-colors text-gray-400 ${D}`,children:a.cryptoPage.all}),c.jsxs("button",{onClick:()=>n("favorites"),className:e==="favorites"?"flex-1 py-3 rounded-full font-semibold transition-colors bg-white text-black":`flex-1 py-3 rounded-full font-semibold transition-colors text-gray-400 ${D}`,children:[a.cryptoPage.favorites," ",c.jsx(fR,{className:"w-4 h-4 inline ml-1"})]})]})]}),c.jsx("div",{className:"px-6 mb-6",children:P.length>0&&P[v]&&c.jsx("div",{className:"relative",children:c.jsxs("div",{className:`rounded-2xl p-4 overflow-hidden relative ${D} transition-all`,onMouseLeave:()=>T(!1),onMouseEnter:()=>T(!0),children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#34c759]/10 via-transparent to-[#34c759]/5 pointer-events-none"}),c.jsxs("div",{className:"relative z-10 flex items-center justify-between mb-3",children:[c.jsx("div",{className:"flex items-center gap-2",children:c.jsx("h2",{className:"text-sm font-bold",children:a.cryptoPage.trendingUp})}),c.jsxs("div",{className:"flex items-center gap-1 text-xs text-[#34c759] font-semibold",children:[c.jsx(os,{className:"w-3 h-3"}),a.cryptoPage.realTime]})]}),c.jsxs("div",{className:"relative z-10 grid grid-cols-2 gap-3 mb-3",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx($t,{symbol:P[v].symbol,size:"sm"}),c.jsx("div",{children:c.jsx("h3",{className:"text-base font-bold text-white",children:P[v].symbol})})]}),c.jsxs("div",{className:"mb-2",children:[c.jsx("p",{className:"text-xs text-white/40",children:a.cryptoPage.price}),c.jsx("p",{className:"text-white",children:c.jsx(ha,{value:P[v].rawPrice,symbol:"$",className:"text-lg font-light"})})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-white/40",children:a.cryptoPage.change24h}),c.jsxs("p",{className:"text-lg font-bold text-[#34c759] flex items-center gap-1",children:["+",P[v].changePercent.toFixed(2),"%",c.jsx(os,{className:"w-3 h-3"})]})]})]}),c.jsx("div",{className:"h-24 w-full",children:c.jsx(Y6,{width:"100%",height:"100%",children:c.jsxs(F0e,{data:C(P[v]),children:[c.jsxs("defs",{children:[c.jsxs("linearGradient",{id:"colorCurrent",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#34c759",stopOpacity:.8}),c.jsx("stop",{offset:"95%",stopColor:"#34c759",stopOpacity:0})]}),c.jsxs("linearGradient",{id:"colorPast",x1:"0",y1:"0",x2:"0",y2:"1",children:[c.jsx("stop",{offset:"5%",stopColor:"#ff9f0a",stopOpacity:.4}),c.jsx("stop",{offset:"95%",stopColor:"#ff9f0a",stopOpacity:0})]})]}),c.jsx(vme,{contentStyle:{backgroundColor:"rgba(0, 0, 0, 0.95)",border:"1px solid rgba(52, 199, 89, 0.3)",borderRadius:"8px"},labelStyle:{display:"none"}}),c.jsx(RC,{type:"monotone",dataKey:"pricePast",stroke:"#ff9f0a",strokeWidth:1.5,fill:"url(#colorPast)",dot:!1}),c.jsx(RC,{type:"monotone",dataKey:"price",stroke:"#34c759",strokeWidth:2,fill:"url(#colorCurrent)",dot:!1})]})})})]})]})})}),c.jsxs("div",{className:"px-6 space-y-4 pb-24",children:[c.jsx("button",{onClick:()=>l(!o),className:`w-full rounded-2xl p-4 hover:bg-white/10 transition-all ${D}`,children:c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center",children:c.jsx(mo,{className:`w-6 h-6 text-white transition-transform ${o?"rotate-90":""}`})}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-semibold text-white",children:o?a.cryptoPage.hideList:a.cryptoPage.seeAllCryptos}),c.jsxs("div",{className:"text-sm text-gray-400",children:[A.length," ",A.length===1?a.cryptoPage.activeAvailable:a.cryptoPage.activesAvailable]})]})]})})}),o&&c.jsx("div",{className:"space-y-4",children:A.length>0?A.map(M=>c.jsxs("div",{className:`w-full rounded-2xl p-4 hover:bg-white/10 transition-colors ${D}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx($t,{symbol:M.symbol,size:"md"}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-semibold",children:M.name}),c.jsx("div",{className:"text-sm text-gray-400",children:M.symbol})]})]}),c.jsx("button",{className:"text-gray-400 hover:text-yellow-500 transition-colors",onClick:I=>{I.stopPropagation(),y(M.id)},children:c.jsx(fR,{className:`w-5 h-5 ${M.isFavorite?"fill-yellow-500 text-yellow-500":""}`})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-lg font-semibold",children:M.price}),c.jsxs("div",{className:`flex items-center gap-1 text-sm font-medium ${M.trend==="up"?"text-green-500":M.trend==="down"?"text-red-500":"text-gray-400"}`,children:[M.trend==="up"&&c.jsx(os,{className:"w-4 h-4"}),M.trend==="down"&&c.jsx(xu,{className:"w-4 h-4"}),M.change]})]})]},M.id)):c.jsx("div",{className:`rounded-2xl p-8 text-center ${D}`,children:c.jsx("p",{className:"text-white font-semibold",children:a.cryptoPage.noFavorites||"Nada encontrado"})})})]})]})})}function Bxe({onNavigate:t}){const{userData:e,logout:n}=Dt(),{t:r}=xt(),i=o=>{const l=o.split(" ");return l.length>=2?`${l[0][0]}${l[1][0]}`.toUpperCase():o.substring(0,2).toUpperCase()},s=async()=>{try{console.log(" Fazendo logout..."),await n(),console.log(" Logout concludo! Redirecionando..."),t("welcome")}catch(o){console.error("Erro ao fazer logout:",o),Ge.error("Erro ao fazer logout")}},a=[{title:r.account,items:[{icon:jP,label:r.personalInfo,action:()=>t("personalInfo")},{icon:yte,label:r.accountData,action:()=>t("accountData")},{icon:_f,label:r.security,action:()=>t("security")},{icon:wm,label:r.notifications,action:()=>t("notifications")}]},{title:r.support,items:[{icon:mz,label:r.helpCenter,action:()=>t("helpCenter")},{icon:gz,label:r.termsAndPrivacy,action:()=>t("termsMenu")}]},{title:r.settings,items:[{icon:FT,label:r.language,action:()=>t("languageSettings")},{icon:_te,label:r.logout,action:s,danger:!0}]},{title:r.dangerZone,items:[{icon:Hc,label:r.deleteAccount,action:()=>t("deleteAccount"),danger:!0}]}];return c.jsx("div",{className:"min-h-screen bg-black text-white flex flex-col",children:c.jsxs("div",{className:"flex-1 overflow-y-auto pb-24",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsx("h1",{className:"text-xl mb-4",children:r.myProfile}),c.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center text-lg overflow-hidden",children:e?.photoURL?c.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):e?i(e.name):"U"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h2",{className:"",children:e?.name||"Usurio"}),c.jsx("p",{className:"text-sm text-gray-400",children:e?.email||""})]})]})})]}),a.map((o,l)=>c.jsxs("section",{className:"px-6 mb-6",children:[c.jsx("h3",{className:"text-xs text-gray-400 mb-2 px-1",children:o.title.toUpperCase()}),c.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl overflow-hidden border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:o.items.map((d,f)=>{const m=d.icon;return c.jsxs("div",{children:[c.jsxs("button",{onClick:d.action,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/10 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(m,{className:`w-5 h-5 ${d.danger?"text-red-500":"text-gray-400"}`}),c.jsx("span",{className:d.danger?"text-red-500":"",children:d.label})]}),c.jsx(mo,{className:"w-5 h-5 text-gray-400"})]}),f<o.items.length-1&&c.jsx("div",{className:"h-px bg-white/10 mx-4"})]},d.label)})})]},l)),c.jsxs("div",{className:"text-center mt-6 text-sm text-gray-500",children:[c.jsx("span",{className:"font-bold italic",children:"NexCoin"})," v1.0.0"]})]})})}function zxe({onNavigate:t}){const{userData:e,user:n}=Dt(),{t:r}=xt(),[i,s]=E.useState(!1),[a,o]=E.useState(!1),[l,d]=E.useState({birthDate:e?.birthDate||"",address:e?.address||"",city:e?.city||"",state:e?.state||"",zipCode:e?.zipCode||"",document:e?.document||"",patrimony:e?.patrimony||"",accountPurpose:e?.accountPurpose||[]}),f=y=>{const v=y.split(" ");return v.length>=2?`${v[0][0]}${v[1][0]}`.toUpperCase():y.substring(0,2).toUpperCase()},m=async()=>{if(!(!n||!e)){o(!0);try{const y=rt(be,"users",n.uid);await bi(y,l),Object.assign(e,l),s(!1),alert("Perfil atualizado com sucesso!")}catch(y){console.error("Erro ao atualizar perfil:",y),alert("Erro ao atualizar perfil. Tente novamente.")}finally{o(!1)}}},p=y=>{if(!y)return"";const v=y.replace(/\D/g,"");return v.length===13?`+${v.slice(0,2)} ${v.slice(2,4)} ${v.slice(4,9)}-${v.slice(9)}`:y};return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-zinc-900 transition-colors",children:c.jsx(AP,{className:"w-6 h-6"})}),i&&c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>s(!1),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:c.jsx(qs,{className:"w-5 h-5"})}),c.jsx("button",{onClick:m,disabled:a,className:"w-10 h-10 flex items-center justify-center rounded-full bg-gradient-to-r from-orange-500 to-purple-500 hover:opacity-90 transition-opacity disabled:opacity-50",children:c.jsx(yz,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"flex items-start justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold flex-1",children:r.personalInfo}),!i&&c.jsx("div",{style:{display:"none"}}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs("span",{className:"text-blue-500",children:["@",e?.name?.toLowerCase().replace(/\s+/g,"")||"usuario"]})})]}),c.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center text-lg font-bold overflow-hidden",children:e?.photoURL?c.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):e?f(e.name):"U"})]})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h2",{className:"text-base font-semibold mb-3",children:r.personalAccount}),c.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-4 space-y-4",children:[c.jsxs("div",{className:"py-2",children:[c.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.fullName}),c.jsx("p",{className:"text-sm",children:e?.name?.toUpperCase()||r.notInformed})]}),c.jsx("div",{className:"h-px bg-white/10"}),c.jsxs("div",{className:"py-2",children:[c.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.dateOfBirth}),i?c.jsx("input",{type:"date",value:l.birthDate,onChange:y=>d({...l,birthDate:y.target.value}),className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):c.jsx("p",{className:"text-sm",children:e?.birthDate||r.notInformed})]}),c.jsx("div",{className:"h-px bg-white/10"}),c.jsxs("div",{className:"py-2",children:[c.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.idDocument}),i?c.jsx("input",{type:"text",value:l.document,onChange:y=>d({...l,document:y.target.value}),placeholder:r.enterIdDocument,className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):c.jsx("p",{className:"text-sm",children:e?.document||r.notInformed})]}),c.jsx("div",{className:"h-px bg-white/10"}),c.jsxs("div",{className:"py-2",children:[c.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.residentialAddress}),i?c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{type:"text",value:l.address,onChange:y=>d({...l,address:y.target.value}),placeholder:r.addressPlaceholder,className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsx("input",{type:"text",value:l.city,onChange:y=>d({...l,city:y.target.value}),placeholder:r.city,className:"bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}),c.jsx("input",{type:"text",value:l.state,onChange:y=>d({...l,state:y.target.value}),placeholder:r.state,className:"bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"})]}),c.jsx("input",{type:"text",value:l.zipCode,onChange:y=>d({...l,zipCode:y.target.value}),placeholder:r.zipCode,className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"})]}):c.jsx("p",{className:"text-sm",children:e?.address&&e?.city&&e?.state&&e?.zipCode?`${e.address}, ${e.zipCode}, ${e.city}, ${e.state}`:r.notInformed})]}),c.jsx("div",{className:"h-px bg-white/10"}),c.jsxs("div",{className:"py-2",children:[c.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.phoneNumber}),c.jsx("p",{className:"text-sm",children:p(e?.phone||"")||r.notInformed})]}),c.jsx("div",{className:"h-px bg-white/10"}),c.jsxs("div",{className:"py-2",children:[c.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.emailLabel}),c.jsx("p",{className:"text-sm text-orange-500",children:e?.email||r.notInformed})]}),c.jsx("div",{className:"h-px bg-white/10"}),c.jsxs("div",{className:"py-2",children:[c.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.taxResidence}),c.jsx("p",{className:"text-sm",children:e?.country||r.notInformed})]})]})]}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-base font-semibold mb-3",children:r.patrimony}),c.jsx("div",{className:"bg-zinc-900 rounded-3xl p-4",children:c.jsxs("div",{className:"py-2",children:[c.jsx("span",{className:"text-xs text-gray-400 block mb-1.5",children:r.reportedPatrimony}),i?c.jsx("input",{type:"text",value:l.patrimony,onChange:y=>d({...l,patrimony:y.target.value}),placeholder:r.patrimonyPlaceholder,className:"w-full bg-black/50 rounded-xl px-3 py-2 text-sm border border-white/10 focus:border-orange-500 outline-none"}):c.jsx("p",{className:"text-sm",children:e?.patrimony||r.notInformed})]})})]})]})]})}async function Sb(t){try{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",e.style.opacity="0",e.setAttribute("readonly",""),document.body.appendChild(e),e.focus(),e.select(),e.setSelectionRange(0,t.length);const n=document.execCommand("copy");if(document.body.removeChild(e),n)return!0}catch(e){console.warn("Legacy copy method failed, trying Clipboard API",e)}if(navigator.clipboard&&window.isSecureContext)try{return await navigator.clipboard.writeText(t),!0}catch(e){console.error("Clipboard API also failed",e)}return console.error("All clipboard methods failed"),!1}const Uxe=({code:t})=>c.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800",children:c.jsx("img",{src:`https://flagcdn.com/w40/${t.toLowerCase()}.png`,alt:t,className:"w-full h-full object-cover"})});function $xe({account:t,onBack:e,onDelete:n}){const[r,i]=E.useState(null),{t:s}=xt(),a=(d,f)=>{Sb(d),i(f),setTimeout(()=>i(null),2e3)},o=t.iban!==void 0,l=t.country==="BR";return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[c.jsx("header",{className:"px-6 py-4 flex items-center",children:c.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-zinc-900 transition-colors",children:c.jsx(vt,{className:"w-6 h-6"})})}),c.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:s.fiatAccounts.accountData}),c.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[c.jsx(Uxe,{code:t.flagCode}),c.jsx("span",{className:"font-semibold",children:s.countries[t.country]||t.countryName})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6 mb-4",children:[c.jsx("p",{className:"text-xs font-semibold mb-6",children:o?s.fiatAccounts.internationalOnly:s.fiatAccounts.domesticOnly}),c.jsxs("div",{className:"mb-5",children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.institution}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.bankName}),c.jsx("button",{onClick:()=>a(t.bankName,"bankName"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:c.jsxs("div",{className:"relative",children:[c.jsx(bn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="bankName"?"opacity-0":"opacity-100"}`}),r==="bankName"&&c.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),c.jsxs("div",{className:"mb-5",children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.accountType}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.accountType}),c.jsx("button",{onClick:()=>a(t.accountType,"accountType"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:c.jsxs("div",{className:"relative",children:[c.jsx(bn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="accountType"?"opacity-0":"opacity-100"}`}),r==="accountType"&&c.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),c.jsxs("div",{className:"mb-5",children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.accountNumber}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.accountNumber}),c.jsx("button",{onClick:()=>a(t.accountNumber,"accountNumber"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:c.jsxs("div",{className:"relative",children:[c.jsx(bn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="accountNumber"?"opacity-0":"opacity-100"}`}),r==="accountNumber"&&c.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),o&&c.jsxs(c.Fragment,{children:[t.iban&&c.jsxs("div",{className:"mb-5",children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.iban}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.iban}),c.jsx("button",{onClick:()=>a(t.iban,"iban"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:c.jsxs("div",{className:"relative",children:[c.jsx(bn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="iban"?"opacity-0":"opacity-100"}`}),r==="iban"&&c.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),t.swift&&c.jsxs("div",{className:"mb-5",children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.swiftBic}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.swift}),c.jsx("button",{onClick:()=>a(t.swift,"swift"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:c.jsxs("div",{className:"relative",children:[c.jsx(bn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="swift"?"opacity-0":"opacity-100"}`}),r==="swift"&&c.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]})]}),!o&&c.jsxs(c.Fragment,{children:[t.sortCode&&c.jsxs("div",{className:"mb-5",children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.sortCode}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.sortCode}),c.jsx("button",{onClick:()=>a(t.sortCode,"sortCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:c.jsxs("div",{className:"relative",children:[c.jsx(bn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="sortCode"?"opacity-0":"opacity-100"}`}),r==="sortCode"&&c.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),t.branchCode&&c.jsxs("div",{className:"mb-5",children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:l?s.fiatAccounts.agency:s.fiatAccounts.branchCode}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.branchCode}),c.jsx("button",{onClick:()=>a(t.branchCode,"branchCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:c.jsxs("div",{className:"relative",children:[c.jsx(bn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="branchCode"?"opacity-0":"opacity-100"}`}),r==="branchCode"&&c.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),t.routingNumber&&c.jsxs("div",{className:"mb-5",children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:t.country==="US"?s.fiatAccounts.routingNumber:t.country==="GB"?s.fiatAccounts.sortCode:t.country==="AU"?s.fiatAccounts.bsb:s.fiatAccounts.routingNumber}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.routingNumber}),c.jsx("button",{onClick:()=>a(t.routingNumber,"routingNumber"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:c.jsxs("div",{className:"relative",children:[c.jsx(bn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="routingNumber"?"opacity-0":"opacity-100"}`}),r==="routingNumber"&&c.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),t.bankCode&&c.jsxs("div",{className:"mb-5",children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:l?s.fiatAccounts.institutionCode:s.fiatAccounts.bankCode}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.bankCode}),c.jsx("button",{onClick:()=>a(t.bankCode,"bankCode"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:c.jsxs("div",{className:"relative",children:[c.jsx(bn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="bankCode"?"opacity-0":"opacity-100"}`}),r==="bankCode"&&c.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]}),t.swift&&c.jsxs("div",{className:"mb-5",children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:s.fiatAccounts.swiftBic}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-blue-400 font-semibold",children:t.swift}),c.jsx("button",{onClick:()=>a(t.swift,"swift"),className:"w-8 h-8 rounded-full flex items-center justify-center hover:bg-zinc-800 transition-colors",children:c.jsxs("div",{className:"relative",children:[c.jsx(bn,{className:`w-4 h-4 text-blue-400 transition-opacity ${r==="swift"?"opacity-0":"opacity-100"}`}),r==="swift"&&c.jsx("span",{className:"absolute inset-0 text-[10px] text-green-400 font-bold",children:"OK"})]})})]})]})]}),c.jsxs("button",{className:"w-full bg-zinc-700 hover:bg-zinc-600 rounded-full py-3 flex items-center justify-center gap-2 transition-colors mt-6",children:[c.jsx(IP,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm font-semibold",children:s.fiatAccounts.shareData})]})]}),o?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:c.jsx(Um,{className:"w-5 h-5"})})}),c.jsx("div",{children:c.jsx("p",{className:"text-sm font-semibold",children:s.fiatAccounts.transferTimeTip})})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:c.jsx(cR,{className:"w-5 h-5"})})}),c.jsx("div",{children:c.jsx("p",{className:"text-sm font-semibold",children:s.fiatAccounts.feeTip})})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:c.jsx(uR,{className:"w-5 h-5"})})}),c.jsx("div",{children:c.jsx("p",{className:"text-sm font-semibold",children:s.fiatAccounts.swiftOnlyTip})})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 mb-4 flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:c.jsx(cR,{className:"w-5 h-5"})})}),c.jsx("div",{children:c.jsx("p",{className:"text-sm font-semibold",children:s.fiatAccounts.noFeeTip})})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-5 flex gap-4",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center",children:c.jsx(uR,{className:"w-5 h-5"})})}),c.jsx("div",{children:c.jsx("p",{className:"text-sm font-semibold",children:s.fiatAccounts.pixTip})})]})]}),n&&t.id&&c.jsxs("button",{onClick:()=>n(t.id),className:"w-full mt-6 bg-red-900/20 hover:bg-red-900/30 border border-red-800 rounded-3xl py-4 flex items-center justify-center gap-2 transition-colors",children:[c.jsx(Hc,{className:"w-5 h-5 text-red-500"}),c.jsx("span",{className:"text-sm font-semibold text-red-500",children:s.fiatAccounts.closeAccount})]})]})]})}const hN=E.createContext({});function mN(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const M9=typeof window<"u",L9=M9?E.useLayoutEffect:E.useEffect,Pb=E.createContext(null);function pN(t,e){t.indexOf(e)===-1&&t.push(e)}function H0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Na=(t,e,n)=>n>e?e:n<t?t:n;let gN=()=>{};const wo={},V9=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function F9(t){return typeof t=="object"&&t!==null}const B9=t=>/^0[^.\s]+$/u.test(t);function yN(t){let e;return()=>(e===void 0&&(e=t()),e)}const ls=t=>t,qxe=(t,e)=>n=>e(t(n)),Jp=(...t)=>t.reduce(qxe),ap=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class vN{constructor(){this.subscriptions=[]}add(e){return pN(this.subscriptions,e),()=>H0(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $s=t=>t*1e3,is=t=>t/1e3;function z9(t,e){return e?t*(1e3/e):0}const U9=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Wxe=1e-7,Hxe=12;function Kxe(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=U9(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>Wxe&&++o<Hxe);return a}function Zp(t,e,n,r){if(t===e&&n===r)return ls;const i=s=>Kxe(s,0,1,t,n);return s=>s===0||s===1?s:U9(i(s),e,r)}const $9=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,q9=t=>e=>1-t(1-e),W9=Zp(.33,1.53,.69,.99),xN=q9(W9),H9=$9(xN),K9=t=>(t*=2)<1?.5*xN(t):.5*(2-Math.pow(2,-10*(t-1))),bN=t=>1-Math.sin(Math.acos(t)),G9=q9(bN),X9=$9(bN),Gxe=Zp(.42,0,1,1),Xxe=Zp(0,0,.58,1),Y9=Zp(.42,0,.58,1),Yxe=t=>Array.isArray(t)&&typeof t[0]!="number",Q9=t=>Array.isArray(t)&&typeof t[0]=="number",Qxe={linear:ls,easeIn:Gxe,easeInOut:Y9,easeOut:Xxe,circIn:bN,circInOut:X9,circOut:G9,backIn:xN,backInOut:H9,backOut:W9,anticipate:K9},Jxe=t=>typeof t=="string",y4=t=>{if(Q9(t)){gN(t.length===4);const[e,n,r,i]=t;return Zp(e,n,r,i)}else if(Jxe(t))return Qxe[t];return t},Hy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Zxe(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(f){a.has(f)&&(d.schedule(f),t()),f(o)}const d={schedule:(f,m=!1,p=!1)=>{const v=p&&i?n:r;return m&&a.add(f),v.has(f)||v.add(f),f},cancel:f=>{r.delete(f),a.delete(f)},process:f=>{if(o=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const ebe=40;function J9(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Hy.reduce((O,z)=>(O[z]=Zxe(s),O),{}),{setup:o,read:l,resolveKeyframes:d,preUpdate:f,update:m,preRender:p,render:y,postRender:v}=a,w=()=>{const O=wo.useManualTiming?i.timestamp:performance.now();n=!1,wo.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(O-i.timestamp,ebe),1)),i.timestamp=O,i.isProcessing=!0,o.process(i),l.process(i),d.process(i),f.process(i),m.process(i),p.process(i),y.process(i),v.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},_=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:Hy.reduce((O,z)=>{const j=a[z];return O[z]=(P,C=!1,S=!1)=>(n||_(),j.schedule(P,C,S)),O},{}),cancel:O=>{for(let z=0;z<Hy.length;z++)a[Hy[z]].cancel(O)},state:i,steps:a}}const{schedule:tn,cancel:Gl,state:_r,steps:cE}=J9(typeof requestAnimationFrame<"u"?requestAnimationFrame:ls,!0);let bv;function tbe(){bv=void 0}const Zr={now:()=>(bv===void 0&&Zr.set(_r.isProcessing||wo.useManualTiming?_r.timestamp:performance.now()),bv),set:t=>{bv=t,queueMicrotask(tbe)}},Z9=t=>e=>typeof e=="string"&&e.startsWith(t),eq=Z9("--"),nbe=Z9("var(--"),wN=t=>nbe(t)?rbe.test(t.split("/*")[0].trim()):!1,rbe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function v4(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const Zf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},op={...Zf,transform:t=>Na(0,1,t)},Ky={...Zf,default:1},Tm=t=>Math.round(t*1e5)/1e5,_N=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ibe(t){return t==null}const sbe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,EN=(t,e)=>n=>!!(typeof n=="string"&&sbe.test(n)&&n.startsWith(t)||e&&!ibe(n)&&Object.prototype.hasOwnProperty.call(n,e)),tq=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(_N);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},abe=t=>Na(0,255,t),uE={...Zf,transform:t=>Math.round(abe(t))},Yc={test:EN("rgb","red"),parse:tq("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+uE.transform(t)+", "+uE.transform(e)+", "+uE.transform(n)+", "+Tm(op.transform(r))+")"};function obe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const BC={test:EN("#"),parse:obe,transform:Yc.transform},eg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),hl=eg("deg"),Ea=eg("%"),Ue=eg("px"),lbe=eg("vh"),cbe=eg("vw"),x4={...Ea,parse:t=>Ea.parse(t)/100,transform:t=>Ea.transform(t*100)},$d={test:EN("hsl","hue"),parse:tq("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ea.transform(Tm(e))+", "+Ea.transform(Tm(n))+", "+Tm(op.transform(r))+")"},Bn={test:t=>Yc.test(t)||BC.test(t)||$d.test(t),parse:t=>Yc.test(t)?Yc.parse(t):$d.test(t)?$d.parse(t):BC.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Yc.transform(t):$d.transform(t),getAnimatableNone:t=>{const e=Bn.parse(t);return e.alpha=0,Bn.transform(e)}},ube=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function dbe(t){return isNaN(t)&&typeof t=="string"&&(t.match(_N)?.length||0)+(t.match(ube)?.length||0)>0}const nq="number",rq="color",fbe="var",hbe="var(",b4="${}",mbe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lp(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(mbe,l=>(Bn.test(l)?(r.color.push(s),i.push(rq),n.push(Bn.parse(l))):l.startsWith(hbe)?(r.var.push(s),i.push(fbe),n.push(l)):(r.number.push(s),i.push(nq),n.push(parseFloat(l))),++s,b4)).split(b4);return{values:n,split:o,indexes:r,types:i}}function iq(t){return lp(t).values}function sq(t){const{split:e,types:n}=lp(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===nq?s+=Tm(i[a]):o===rq?s+=Bn.transform(i[a]):s+=i[a]}return s}}const pbe=t=>typeof t=="number"?0:Bn.test(t)?Bn.getAnimatableNone(t):t;function gbe(t){const e=iq(t);return sq(t)(e.map(pbe))}const Xl={test:dbe,parse:iq,createTransformer:sq,getAnimatableNone:gbe};function dE(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ybe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=dE(l,o,t+1/3),s=dE(l,o,t),a=dE(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function K0(t,e){return n=>n>0?e:t}const _n=(t,e,n)=>t+(e-t)*n,fE=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},vbe=[BC,Yc,$d],xbe=t=>vbe.find(e=>e.test(t));function w4(t){const e=xbe(t);if(!e)return!1;let n=e.parse(t);return e===$d&&(n=ybe(n)),n}const _4=(t,e)=>{const n=w4(t),r=w4(e);if(!n||!r)return K0(t,e);const i={...n};return s=>(i.red=fE(n.red,r.red,s),i.green=fE(n.green,r.green,s),i.blue=fE(n.blue,r.blue,s),i.alpha=_n(n.alpha,r.alpha,s),Yc.transform(i))},zC=new Set(["none","hidden"]);function bbe(t,e){return zC.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function wbe(t,e){return n=>_n(t,e,n)}function TN(t){return typeof t=="number"?wbe:typeof t=="string"?wN(t)?K0:Bn.test(t)?_4:Tbe:Array.isArray(t)?aq:typeof t=="object"?Bn.test(t)?_4:_be:K0}function aq(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>TN(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function _be(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=TN(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function Ebe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const Tbe=(t,e)=>{const n=Xl.createTransformer(e),r=lp(t),i=lp(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?zC.has(t)&&!i.values.length||zC.has(e)&&!r.values.length?bbe(t,e):Jp(aq(Ebe(r,i),i.values),n):K0(t,e)};function oq(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_n(t,e,n):TN(t)(t,e)}const Cbe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>tn.update(e,n),stop:()=>Gl(e),now:()=>_r.isProcessing?_r.timestamp:Zr.now()}},lq=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},G0=2e4;function CN(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<G0;)e+=n,r=t.next(e);return e>=G0?1/0:e}function Sbe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(CN(r),G0);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:is(i)}}const Pbe=5;function cq(t,e,n){const r=Math.max(e-Pbe,0);return z9(n-t(r),e-r)}const In={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hE=.001;function Abe({duration:t=In.duration,bounce:e=In.bounce,velocity:n=In.velocity,mass:r=In.mass}){let i,s,a=1-e;a=Na(In.minDamping,In.maxDamping,a),t=Na(In.minDuration,In.maxDuration,is(t)),a<1?(i=d=>{const f=d*a,m=f*t,p=f-n,y=UC(d,a),v=Math.exp(-m);return hE-p/y*v},s=d=>{const m=d*a*t,p=m*n+n,y=Math.pow(a,2)*Math.pow(d,2)*t,v=Math.exp(-m),w=UC(Math.pow(d,2),a);return(-i(d)+hE>0?-1:1)*((p-y)*v)/w}):(i=d=>{const f=Math.exp(-d*t),m=(d-n)*t+1;return-hE+f*m},s=d=>{const f=Math.exp(-d*t),m=(n-d)*(t*t);return f*m});const o=5/t,l=Ibe(i,s,o);if(t=$s(t),isNaN(l))return{stiffness:In.stiffness,damping:In.damping,duration:t};{const d=Math.pow(l,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:t}}}const Nbe=12;function Ibe(t,e,n){let r=n;for(let i=1;i<Nbe;i++)r=r-t(r)/e(r);return r}function UC(t,e){return t*Math.sqrt(1-e*e)}const jbe=["duration","bounce"],kbe=["stiffness","damping","mass"];function E4(t,e){return e.some(n=>t[n]!==void 0)}function Rbe(t){let e={velocity:In.velocity,stiffness:In.stiffness,damping:In.damping,mass:In.mass,isResolvedFromDuration:!1,...t};if(!E4(t,kbe)&&E4(t,jbe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Na(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:In.mass,stiffness:i,damping:s}}else{const n=Abe(t);e={...e,...n,mass:In.mass},e.isResolvedFromDuration=!0}return e}function X0(t=In.visualDuration,e=In.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:d,mass:f,duration:m,velocity:p,isResolvedFromDuration:y}=Rbe({...n,velocity:-is(n.velocity||0)}),v=p||0,w=d/(2*Math.sqrt(l*f)),_=a-s,T=is(Math.sqrt(l/f)),L=Math.abs(_)<5;r||(r=L?In.restSpeed.granular:In.restSpeed.default),i||(i=L?In.restDelta.granular:In.restDelta.default);let O;if(w<1){const j=UC(T,w);O=P=>{const C=Math.exp(-w*T*P);return a-C*((v+w*T*_)/j*Math.sin(j*P)+_*Math.cos(j*P))}}else if(w===1)O=j=>a-Math.exp(-T*j)*(_+(v+T*_)*j);else{const j=T*Math.sqrt(w*w-1);O=P=>{const C=Math.exp(-w*T*P),S=Math.min(j*P,300);return a-C*((v+w*T*_)*Math.sinh(S)+j*_*Math.cosh(S))/j}}const z={calculatedDuration:y&&m||null,next:j=>{const P=O(j);if(y)o.done=j>=m;else{let C=j===0?v:0;w<1&&(C=j===0?$s(v):cq(O,j,P));const S=Math.abs(C)<=r,k=Math.abs(a-P)<=i;o.done=S&&k}return o.value=o.done?a:P,o},toString:()=>{const j=Math.min(CN(z),G0),P=lq(C=>z.next(j*C).value,j,30);return j+"ms "+P},toTransition:()=>{}};return z}X0.applyToOptions=t=>{const e=Sbe(t,100,X0);return t.ease=e.ease,t.duration=$s(e.duration),t.type="keyframes",t};function $C({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:d=.5,restSpeed:f}){const m=t[0],p={done:!1,value:m},y=S=>o!==void 0&&S<o||l!==void 0&&S>l,v=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let w=n*e;const _=m+w,T=a===void 0?_:a(_);T!==_&&(w=T-m);const L=S=>-w*Math.exp(-S/r),O=S=>T+L(S),z=S=>{const k=L(S),A=O(S);p.done=Math.abs(k)<=d,p.value=p.done?T:A};let j,P;const C=S=>{y(p.value)&&(j=S,P=X0({keyframes:[p.value,v(p.value)],velocity:cq(O,S,p.value),damping:i,stiffness:s,restDelta:d,restSpeed:f}))};return C(0),{calculatedDuration:null,next:S=>{let k=!1;return!P&&j===void 0&&(k=!0,z(S),C(S)),j!==void 0&&S>=j?P.next(S-j):(!k&&z(S),p)}}}function Dbe(t,e,n){const r=[],i=n||wo.mix||oq,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||ls:e;o=Jp(l,o)}r.push(o)}return r}function Obe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(gN(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=Dbe(e,r,i),l=o.length,d=f=>{if(a&&f<t[0])return e[0];let m=0;if(l>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const p=ap(t[m],t[m+1],f);return o[m](p)};return n?f=>d(Na(t[0],t[s-1],f)):d}function Mbe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ap(0,e,r);t.push(_n(n,1,i))}}function Lbe(t){const e=[0];return Mbe(e,t.length-1),e}function Vbe(t,e){return t.map(n=>n*e)}function Fbe(t,e){return t.map(()=>e||Y9).splice(0,t.length-1)}function Cm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Yxe(r)?r.map(y4):y4(r),s={done:!1,value:e[0]},a=Vbe(n&&n.length===e.length?n:Lbe(e),t),o=Obe(a,e,{ease:Array.isArray(i)?i:Fbe(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const Bbe=t=>t!==null;function SN(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(Bbe),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const zbe={decay:$C,inertia:$C,tween:Cm,keyframes:Cm,spring:X0};function uq(t){typeof t.type=="string"&&(t.type=zbe[t.type])}class PN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Ube=t=>t/100;class AN extends PN{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Zr.now()&&this.tick(Zr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;uq(e);const{type:n=Cm,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=n||Cm;l!==Cm&&typeof o[0]!="number"&&(this.mixKeyframes=Jp(Ube,oq(o[0],o[1])),o=[0,100]);const d=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),d.calculatedDuration===null&&(d.calculatedDuration=CN(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=d}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:p,repeatDelay:y,type:v,onUpdate:w,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const T=this.currentTime-d*(this.playbackSpeed>=0?1:-1),L=this.playbackSpeed>=0?T<0:T>i;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let O=this.currentTime,z=r;if(m){const S=Math.min(this.currentTime,i)/o;let k=Math.floor(S),A=S%1;!A&&S>=1&&(A=1),A===1&&k--,k=Math.min(k,m+1),k%2&&(p==="reverse"?(A=1-A,y&&(A-=y/o)):p==="mirror"&&(z=a)),O=Na(0,1,A)*o}const j=L?{done:!1,value:f[0]}:z.next(O);s&&(j.value=s(j.value));let{done:P}=j;!L&&l!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return C&&v!==$C&&(j.value=SN(f,this.options,_,this.speed)),w&&w(j.value),C&&this.finish(),j}then(e,n){return this.finished.then(e,n)}get duration(){return is(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+is(e)}get time(){return is(this.currentTime)}set time(e){e=$s(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Zr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=is(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=Cbe,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Zr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function $be(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Qc=t=>t*180/Math.PI,qC=t=>{const e=Qc(Math.atan2(t[1],t[0]));return WC(e)},qbe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qC,rotateZ:qC,skewX:t=>Qc(Math.atan(t[1])),skewY:t=>Qc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},WC=t=>(t=t%360,t<0&&(t+=360),t),T4=qC,C4=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),S4=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Wbe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:C4,scaleY:S4,scale:t=>(C4(t)+S4(t))/2,rotateX:t=>WC(Qc(Math.atan2(t[6],t[5]))),rotateY:t=>WC(Qc(Math.atan2(-t[2],t[0]))),rotateZ:T4,rotate:T4,skewX:t=>Qc(Math.atan(t[4])),skewY:t=>Qc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function HC(t){return t.includes("scale")?1:0}function KC(t,e){if(!t||t==="none")return HC(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Wbe,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=qbe,i=o}if(!i)return HC(e);const s=r[e],a=i[1].split(",").map(Kbe);return typeof s=="function"?s(a):a[s]}const Hbe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return KC(n,e)};function Kbe(t){return parseFloat(t.trim())}const eh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],th=new Set(eh),P4=t=>t===Zf||t===Ue,Gbe=new Set(["x","y","z"]),Xbe=eh.filter(t=>!Gbe.has(t));function Ybe(t){const e=[];return Xbe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Pl={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>KC(e,"x"),y:(t,{transform:e})=>KC(e,"y")};Pl.translateX=Pl.x;Pl.translateY=Pl.y;const au=new Set;let GC=!1,XC=!1,YC=!1;function dq(){if(XC){const t=Array.from(au).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Ybe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}XC=!1,GC=!1,au.forEach(t=>t.complete(YC)),au.clear()}function fq(){au.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(XC=!0)})}function Qbe(){YC=!0,fq(),dq(),YC=!1}class NN{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(au.add(this),GC||(GC=!0,tn.read(fq),tn.resolveKeyframes(dq))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}$be(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),au.delete(this)}cancel(){this.state==="scheduled"&&(au.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Jbe=t=>t.startsWith("--");function Zbe(t,e,n){Jbe(e)?t.style.setProperty(e,n):t.style[e]=n}const ewe=yN(()=>window.ScrollTimeline!==void 0),twe={};function nwe(t,e){const n=yN(t);return()=>twe[e]??n()}const hq=nwe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,A4={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hm([0,.65,.55,1]),circOut:hm([.55,0,1,.45]),backIn:hm([.31,.01,.66,-.59]),backOut:hm([.33,1.53,.69,.99])};function mq(t,e){if(t)return typeof t=="function"?hq()?lq(t,e):"ease-out":Q9(t)?hm(t):Array.isArray(t)?t.map(n=>mq(n,e)||A4.easeOut):A4[t]}function rwe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},d=void 0){const f={[e]:n};l&&(f.offset=l);const m=mq(o,i);Array.isArray(m)&&(f.easing=m);const p={delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(f,p)}function pq(t){return typeof t=="function"&&"applyToOptions"in t}function iwe({type:t,...e}){return pq(t)&&hq()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class gq extends PN{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,gN(typeof e.type!="string");const d=iwe(e);this.animation=rwe(n,r,i,d,s),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=SN(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(f):Zbe(n,r,f),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return is(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+is(e)}get time(){return is(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=$s(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&ewe()?(this.animation.timeline=e,ls):n(this)}}const yq={anticipate:K9,backInOut:H9,circInOut:X9};function swe(t){return t in yq}function awe(t){typeof t.ease=="string"&&swe(t.ease)&&(t.ease=yq[t.ease])}const mE=10;class owe extends gq{constructor(e){awe(e),uq(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new AN({...a,autoplay:!1}),l=Math.max(mE,Zr.now()-this.startTime),d=Na(0,mE,l-mE);n.setWithVelocity(o.sample(Math.max(0,l-d)).value,o.sample(l).value,d),o.stop()}}const N4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Xl.test(t)||t==="0")&&!t.startsWith("url("));function lwe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function cwe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=N4(i,e),o=N4(s,e);return!a||!o?!1:lwe(t)||(n==="spring"||pq(n))&&r}function QC(t){t.duration=0,t.type="keyframes"}const uwe=new Set(["opacity","clipPath","filter","transform"]),dwe=yN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function fwe(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:d}=e.owner.getProps();return dwe()&&n&&uwe.has(n)&&(n!=="transform"||!d)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const hwe=40;class mwe extends PN{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:d,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Zr.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:d,element:f,...m},y=f?.KeyframeResolver||NN;this.keyframeResolver=new y(o,(v,w,_)=>this.onKeyframesResolved(v,w,p,!_),l,d,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:d,onUpdate:f}=r;this.resolvedAt=Zr.now(),cwe(e,s,a,o)||((wo.instantAnimations||!l)&&f?.(SN(e,r,n)),e[0]=e[e.length-1],QC(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>hwe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!d&&fwe(p),v=p.motionValue?.owner?.current,w=y?new owe({...p,element:v}):new AN(p);w.finished.then(()=>{this.notifyFinished()}).catch(ls),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Qbe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function vq(t,e,n,r=0,i=1){const s=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}const pwe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gwe(t){const e=pwe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function xq(t,e,n=1){const[r,i]=gwe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return V9(a)?parseFloat(a):a}return wN(i)?xq(i,e,n+1):i}const ywe={type:"spring",stiffness:500,damping:25,restSpeed:10},vwe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xwe={type:"keyframes",duration:.8},bwe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wwe=(t,{keyframes:e})=>e.length>2?xwe:th.has(t)?t.startsWith("scale")?vwe(e[1]):ywe:bwe,_we=t=>t!==null;function Ewe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(_we),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}function bq(t,e){if(t?.inherit&&e){const{inherit:n,...r}=t;return{...e,...r}}return t}function IN(t,e){const n=t?.[e]??t?.default??t;return n!==t?bq(n,t):n}function Twe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:d,...f}){return!!Object.keys(f).length}const jN=(t,e,n,r={},i,s)=>a=>{const o=IN(r,t)||{},l=o.delay||r.delay||0;let{elapsed:d=0}=r;d=d-$s(l);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-d,onUpdate:p=>{e.set(p),o.onUpdate&&o.onUpdate(p)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};Twe(o)||Object.assign(f,wwe(t,f)),f.duration&&(f.duration=$s(f.duration)),f.repeatDelay&&(f.repeatDelay=$s(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(QC(f),f.delay===0&&(m=!0)),(wo.instantAnimations||wo.skipAnimations||i?.shouldSkipAnimations)&&(m=!0,QC(f),f.delay=0),f.allowFlatten=!o.type&&!o.ease,m&&!s&&e.get()!==void 0){const p=Ewe(f.keyframes,o);if(p!==void 0){tn.update(()=>{f.onUpdate(p),f.onComplete()});return}}return o.isSync?new AN(f):new mwe(f)};function I4(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function kN(t,e,n,r){if(typeof e=="function"){const[i,s]=I4(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=I4(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function rf(t,e,n){const r=t.getProps();return kN(r,e,n!==void 0?n:r.custom,t)}const wq=new Set(["width","height","top","left","right","bottom",...eh]),j4=30,Cwe=t=>!isNaN(parseFloat(t));class Swe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Zr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Zr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Cwe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new vN);const r=this.events[e].add(n);return e==="change"?()=>{r(),tn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Zr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>j4)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,j4);return z9(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function If(t,e){return new Swe(t,e)}const JC=t=>Array.isArray(t);function Pwe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,If(n))}function Awe(t){return JC(t)?t[t.length-1]||0:t}function Nwe(t,e){const n=rf(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=Awe(s[a]);Pwe(t,a,o)}}const Vr=t=>!!(t&&t.getVelocity);function Iwe(t){return!!(Vr(t)&&t.add)}function ZC(t,e){const n=t.getValue("willChange");if(Iwe(n))return n.add(e);if(!n&&wo.WillChange){const r=new wo.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function RN(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const jwe="framerAppearId",_q="data-"+RN(jwe);function Eq(t){return t.props[_q]}function kwe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Tq(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s,transitionEnd:a,...o}=e;const l=t.getDefaultTransition();s=s?bq(s,l):l;const d=s?.reduceMotion;r&&(s=r);const f=[],m=i&&t.animationState&&t.animationState.getState()[i];for(const p in o){const y=t.getValue(p,t.latestValues[p]??null),v=o[p];if(v===void 0||m&&kwe(m,p))continue;const w={delay:n,...IN(s||{},p)},_=y.get();if(_!==void 0&&!y.isAnimating&&!Array.isArray(v)&&v===_&&!w.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const z=Eq(t);if(z){const j=window.MotionHandoffAnimation(z,p,tn);j!==null&&(w.startTime=j,T=!0)}}ZC(t,p);const L=d??t.shouldReduceMotion;y.start(jN(p,y,v,L&&wq.has(p)?{type:!1}:w,t,T));const O=y.animation;O&&f.push(O)}if(a){const p=()=>tn.update(()=>{a&&Nwe(t,a)});f.length?Promise.all(f).then(p):p()}return f}function eS(t,e,n={}){const r=rf(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Tq(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:m}=i;return Rwe(t,e,l,d,f,m,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,d]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>d())}else return Promise.all([s(),a(n.delay)])}function Rwe(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(eS(l,e,{...a,delay:n+(typeof r=="function"?0:r)+vq(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function Dwe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>eS(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=eS(t,e,n);else{const i=typeof e=="function"?rf(t,e,n.custom):e;r=Promise.all(Tq(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Owe={test:t=>t==="auto",parse:t=>t},Cq=t=>e=>e.test(t),Sq=[Zf,Ue,Ea,hl,cbe,lbe,Owe],k4=t=>Sq.find(Cq(t));function Mwe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||B9(t):!0}const Lwe=new Set(["brightness","contrast","saturate","opacity"]);function Vwe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(_N)||[];if(!r)return t;const i=n.replace(r,"");let s=Lwe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Fwe=/\b([a-z-]*)\(.*?\)/gu,tS={...Xl,getAnimatableNone:t=>{const e=t.match(Fwe);return e?e.map(Vwe).join(" "):t}},R4={...Zf,transform:Math.round},Bwe={rotate:hl,rotateX:hl,rotateY:hl,rotateZ:hl,scale:Ky,scaleX:Ky,scaleY:Ky,scaleZ:Ky,skew:hl,skewX:hl,skewY:hl,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:op,originX:x4,originY:x4,originZ:Ue},DN={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,inset:Ue,insetBlock:Ue,insetBlockStart:Ue,insetBlockEnd:Ue,insetInline:Ue,insetInlineStart:Ue,insetInlineEnd:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,paddingBlock:Ue,paddingBlockStart:Ue,paddingBlockEnd:Ue,paddingInline:Ue,paddingInlineStart:Ue,paddingInlineEnd:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,marginBlock:Ue,marginBlockStart:Ue,marginBlockEnd:Ue,marginInline:Ue,marginInlineStart:Ue,marginInlineEnd:Ue,fontSize:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue,...Bwe,zIndex:R4,fillOpacity:op,strokeOpacity:op,numOctaves:R4},zwe={...DN,color:Bn,backgroundColor:Bn,outlineColor:Bn,fill:Bn,stroke:Bn,borderColor:Bn,borderTopColor:Bn,borderRightColor:Bn,borderBottomColor:Bn,borderLeftColor:Bn,filter:tS,WebkitFilter:tS},Pq=t=>zwe[t];function Aq(t,e){let n=Pq(t);return n!==tS&&(n=Xl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Uwe=new Set(["auto","none","0"]);function $we(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Uwe.has(s)&&lp(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Aq(n,i)}class qwe extends NN{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let m=e[f];if(typeof m=="string"&&(m=m.trim(),wN(m))){const p=xq(m,n.current);p!==void 0&&(e[f]=p),f===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!wq.has(r)||e.length!==2)return;const[i,s]=e,a=k4(i),o=k4(s),l=v4(i),d=v4(s);if(l!==d&&Pl[r]){this.needsMeasurement=!0;return}if(a!==o)if(P4(a)&&P4(o))for(let f=0;f<e.length;f++){const m=e[f];typeof m=="string"&&(e[f]=parseFloat(m))}else Pl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||Mwe(e[i]))&&r.push(i);r.length&&$we(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pl[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Pl[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,l])=>{e.getValue(o).set(l)}),this.resolveNoneKeyframes()}}const Wwe=new Set(["opacity","clipPath","filter","transform"]);function Nq(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const Iq=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function nS(t){return F9(t)&&"offsetHeight"in t}const{schedule:ON}=J9(queueMicrotask,!1),Rs={x:!1,y:!1};function jq(){return Rs.x||Rs.y}function Hwe(t){return t==="x"||t==="y"?Rs[t]?null:(Rs[t]=!0,()=>{Rs[t]=!1}):Rs.x||Rs.y?null:(Rs.x=Rs.y=!0,()=>{Rs.x=Rs.y=!1})}function kq(t,e){const n=Nq(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Kwe(t){return!(t.pointerType==="touch"||jq())}function Gwe(t,e,n={}){const[r,i,s]=kq(t,n);return r.forEach(a=>{let o=!1,l=!1,d;const f=()=>{a.removeEventListener("pointerleave",v)},m=_=>{d&&(d(_),d=void 0),f()},p=_=>{o=!1,window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",p),l&&(l=!1,m(_))},y=()=>{o=!0,window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",p,i)},v=_=>{if(_.pointerType!=="touch"){if(o){l=!0;return}m(_)}},w=_=>{if(!Kwe(_))return;l=!1;const T=e(a,_);typeof T=="function"&&(d=T,a.addEventListener("pointerleave",v,i))};a.addEventListener("pointerenter",w,i),a.addEventListener("pointerdown",y,i)}),s}const Rq=(t,e)=>e?t===e?!0:Rq(t,e.parentElement):!1,MN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Xwe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ywe(t){return Xwe.has(t.tagName)||t.isContentEditable===!0}const Qwe=new Set(["INPUT","SELECT","TEXTAREA"]);function Jwe(t){return Qwe.has(t.tagName)||t.isContentEditable===!0}const wv=new WeakSet;function D4(t){return e=>{e.key==="Enter"&&t(e)}}function pE(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Zwe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=D4(()=>{if(wv.has(n))return;pE(n,"down");const i=D4(()=>{pE(n,"up")}),s=()=>pE(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function O4(t){return MN(t)&&!jq()}const M4=new WeakSet;function e1e(t,e,n={}){const[r,i,s]=kq(t,n),a=o=>{const l=o.currentTarget;if(!O4(o)||M4.has(o))return;wv.add(l),n.stopPropagation&&M4.add(o);const d=e(l,o),f=(y,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),wv.has(l)&&wv.delete(l),O4(y)&&typeof d=="function"&&d(y,{success:v})},m=y=>{f(y,l===window||l===document||n.useGlobalTarget||Rq(l,y.target))},p=y=>{f(y,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",p,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),nS(o)&&(o.addEventListener("focus",d=>Zwe(d,i)),!Ywe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function LN(t){return F9(t)&&"ownerSVGElement"in t}const _v=new WeakMap;let Ev;const Dq=(t,e,n)=>(r,i)=>i&&i[0]?i[0][t+"Size"]:LN(r)&&"getBBox"in r?r.getBBox()[e]:r[n],t1e=Dq("inline","width","offsetWidth"),n1e=Dq("block","height","offsetHeight");function r1e({target:t,borderBoxSize:e}){_v.get(t)?.forEach(n=>{n(t,{get width(){return t1e(t,e)},get height(){return n1e(t,e)}})})}function i1e(t){t.forEach(r1e)}function s1e(){typeof ResizeObserver>"u"||(Ev=new ResizeObserver(i1e))}function a1e(t,e){Ev||s1e();const n=Nq(t);return n.forEach(r=>{let i=_v.get(r);i||(i=new Set,_v.set(r,i)),i.add(e),Ev?.observe(r)}),()=>{n.forEach(r=>{const i=_v.get(r);i?.delete(e),i?.size||Ev?.unobserve(r)})}}const Tv=new Set;let qd;function o1e(){qd=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};Tv.forEach(e=>e(t))},window.addEventListener("resize",qd)}function l1e(t){return Tv.add(t),qd||o1e(),()=>{Tv.delete(t),!Tv.size&&typeof qd=="function"&&(window.removeEventListener("resize",qd),qd=void 0)}}function L4(t,e){return typeof t=="function"?l1e(t):a1e(t,e)}function c1e(t){return LN(t)&&t.tagName==="svg"}const u1e=[...Sq,Bn,Xl],d1e=t=>u1e.find(Cq(t)),V4=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wd=()=>({x:V4(),y:V4()}),F4=()=>({min:0,max:0}),Kn=()=>({x:F4(),y:F4()}),f1e=new WeakMap;function Ab(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function cp(t){return typeof t=="string"||Array.isArray(t)}const VN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],FN=["initial",...VN];function Nb(t){return Ab(t.animate)||FN.some(e=>cp(t[e]))}function Oq(t){return!!(Nb(t)||t.variants)}function h1e(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Vr(i))t.addValue(r,i);else if(Vr(s))t.addValue(r,If(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,If(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const rS={current:null},Mq={current:!1},m1e=typeof window<"u";function p1e(){if(Mq.current=!0,!!m1e)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rS.current=t.matches;t.addEventListener("change",e),e()}else rS.current=!1}const B4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Y0={};function Lq(t){Y0=t}function g1e(){return Y0}class y1e{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,skipAnimations:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=NN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Zr.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,tn.render(this.render,!1,!0))};const{latestValues:d,renderState:f}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.skipAnimationsConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=Nb(n),this.isVariantNode=Oq(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in p){const v=p[y];d[y]!==void 0&&Vr(v)&&v.set(d[y])}}mount(e){if(this.hasBeenMounted)for(const n in this.initialValues)this.values.get(n)?.jump(this.initialValues[n]),this.latestValues[n]=this.initialValues[n];this.current=e,f1e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Mq.current||p1e(),this.shouldReduceMotion=rS.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Gl(this.notifyUpdate),Gl(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),n.accelerate&&Wwe.has(e)&&this.current instanceof HTMLElement){const{factory:a,keyframes:o,times:l,ease:d,duration:f}=n.accelerate,m=new gq({element:this.current,name:e,keyframes:o,times:l,ease:d,duration:$s(f)}),p=a(m);this.valueSubscriptions.set(e,()=>{p(),m.cancel()});return}const r=th.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&tn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Y0){const n=Y0[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Kn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<B4.length;r++){const i=B4[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=h1e(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=If(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(V9(r)||B9(r))?r=parseFloat(r):!d1e(r)&&Xl.test(n)&&(r=Aq(e,n)),this.setBaseTarget(e,Vr(r)?r.get():r)),Vr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=kN(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Vr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new vN),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){ON.render(this.render)}}class Vq extends y1e{constructor(){super(...arguments),this.KeyframeResolver=qwe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class sc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function Fq({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function v1e({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function x1e(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function gE(t){return t===void 0||t===1}function iS({scale:t,scaleX:e,scaleY:n}){return!gE(t)||!gE(e)||!gE(n)}function Fc(t){return iS(t)||Bq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Bq(t){return z4(t.x)||z4(t.y)}function z4(t){return t&&t!=="0%"}function Q0(t,e,n){const r=t-n,i=e*r;return n+i}function U4(t,e,n,r,i){return i!==void 0&&(t=Q0(t,i,r)),Q0(t,n,r)+e}function sS(t,e=0,n=1,r,i){t.min=U4(t.min,e,n,r,i),t.max=U4(t.max,e,n,r,i)}function zq(t,{x:e,y:n}){sS(t.x,e.translate,e.scale,e.originPoint),sS(t.y,n.translate,n.scale,n.originPoint)}const $4=.999999999999,q4=1.0000000000001;function b1e(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Kd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,zq(t,a)),r&&Fc(s.latestValues)&&Kd(t,s.latestValues))}e.x<q4&&e.x>$4&&(e.x=1),e.y<q4&&e.y>$4&&(e.y=1)}function Hd(t,e){t.min=t.min+e,t.max=t.max+e}function W4(t,e,n,r,i=.5){const s=_n(t.min,t.max,i);sS(t,e,n,s,r)}function Kd(t,e){W4(t.x,e.x,e.scaleX,e.scale,e.originX),W4(t.y,e.y,e.scaleY,e.scale,e.originY)}function Uq(t,e){return Fq(x1e(t.getBoundingClientRect(),e))}function w1e(t,e,n){const r=Uq(t,n),{scroll:i}=e;return i&&(Hd(r.x,i.offset.x),Hd(r.y,i.offset.y)),r}const _1e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},E1e=eh.length;function T1e(t,e,n){let r="",i=!0;for(let s=0;s<E1e;s++){const a=eh[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number")l=o===(a.startsWith("scale")?1:0);else{const d=parseFloat(o);l=a.startsWith("scale")?d===1:d===0}if(!l||n){const d=Iq(o,DN[a]);if(!l){i=!1;const f=_1e[a]||a;r+=`${f}(${d}) `}n&&(e[a]=d)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function BN(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const d=e[l];if(th.has(l)){a=!0;continue}else if(eq(l)){i[l]=d;continue}else{const f=Iq(d,DN[l]);l.startsWith("origin")?(o=!0,s[l]=f):r[l]=f}}if(e.transform||(a||n?r.transform=T1e(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:d="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${d} ${f}`}}function $q(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function H4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ue.test(t))t=parseFloat(t);else return t;const n=H4(t,e.target.x),r=H4(t,e.target.y);return`${n}% ${r}%`}},C1e={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Xl.parse(t);if(i.length>5)return r;const s=Xl.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const d=_n(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),s(i)}},aS={borderRadius:{...tm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tm,borderTopRightRadius:tm,borderBottomLeftRadius:tm,borderBottomRightRadius:tm,boxShadow:C1e};function qq(t,{layout:e,layoutId:n}){return th.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!aS[t]||t==="opacity")}function zN(t,e,n){const r=t.style,i=e?.style,s={};if(!r)return s;for(const a in r)(Vr(r[a])||i&&Vr(i[a])||qq(a,t)||n?.getValue(a)?.liveStyle!==void 0)&&(s[a]=r[a]);return s}function S1e(t){return window.getComputedStyle(t)}class P1e extends Vq{constructor(){super(...arguments),this.type="html",this.renderInstance=$q}readValueFromInstance(e,n){if(th.has(n))return this.projection?.isProjecting?HC(n):Hbe(e,n);{const r=S1e(e),i=(eq(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Uq(e,n)}build(e,n,r){BN(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return zN(e,n,r)}}const A1e={offset:"stroke-dashoffset",array:"stroke-dasharray"},N1e={offset:"strokeDashoffset",array:"strokeDasharray"};function I1e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?A1e:N1e;t[s.offset]=`${-r}`,t[s.array]=`${e} ${n}`}const j1e=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Wq(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,d,f){if(BN(t,o,d),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=f?.transformBox??"fill-box",delete m.transformBox);for(const y of j1e)m[y]!==void 0&&(p[y]=m[y],delete m[y]);e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),i!==void 0&&I1e(m,i,s,a,!1)}const Hq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Kq=t=>typeof t=="string"&&t.toLowerCase()==="svg";function k1e(t,e,n,r){$q(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Hq.has(i)?i:RN(i),e.attrs[i])}function Gq(t,e,n){const r=zN(t,e,n);for(const i in t)if(Vr(t[i])||Vr(e[i])){const s=eh.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}class R1e extends Vq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Kn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(th.has(n)){const r=Pq(n);return r&&r.default||0}return n=Hq.has(n)?n:RN(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Gq(e,n,r)}build(e,n,r){Wq(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){k1e(e,n,r,i)}mount(e){this.isSVGTag=Kq(e.tagName),super.mount(e)}}const D1e=FN.length;function Xq(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Xq(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<D1e;n++){const r=FN[n],i=t.props[r];(cp(i)||i===!1)&&(e[r]=i)}return e}function Yq(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const O1e=[...VN].reverse(),M1e=VN.length;function L1e(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Dwe(t,n,r)))}function V1e(t){let e=L1e(t),n=K4(),r=!0;const i=l=>(d,f)=>{const m=rf(t,f,l==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:p,transitionEnd:y,...v}=m;d={...d,...v,...y}}return d};function s(l){e=l(t)}function a(l){const{props:d}=t,f=Xq(t.parent)||{},m=[],p=new Set;let y={},v=1/0;for(let _=0;_<M1e;_++){const T=O1e[_],L=n[T],O=d[T]!==void 0?d[T]:f[T],z=cp(O),j=T===l?L.isActive:null;j===!1&&(v=_);let P=O===f[T]&&O!==d[T]&&z;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),L.protectedKeys={...y},!L.isActive&&j===null||!O&&!L.prevProp||Ab(O)||typeof O=="boolean")continue;if(T==="exit"&&L.isActive&&j!==!0){L.prevResolvedValues&&(y={...y,...L.prevResolvedValues});continue}const C=F1e(L.prevProp,O);let S=C||T===l&&L.isActive&&!P&&z||_>v&&z,k=!1;const A=Array.isArray(O)?O:[O];let D=A.reduce(i(T),{});j===!1&&(D={});const{prevResolvedValues:M={}}=L,I={...M,...D},K=F=>{S=!0,p.has(F)&&(k=!0,p.delete(F)),L.needsAnimating[F]=!0;const G=t.getValue(F);G&&(G.liveStyle=!1)};for(const F in I){const G=D[F],q=M[F];if(y.hasOwnProperty(F))continue;let R=!1;JC(G)&&JC(q)?R=!Yq(G,q):R=G!==q,R?G!=null?K(F):p.add(F):G!==void 0&&p.has(F)?K(F):L.protectedKeys[F]=!0}L.prevProp=O,L.prevResolvedValues=D,L.isActive&&(y={...y,...D}),r&&t.blockInitialAnimation&&(S=!1);const Y=P&&C;S&&(!Y||k)&&m.push(...A.map(F=>{const G={type:T};if(typeof F=="string"&&r&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:q}=t,R=rf(q,F);if(q.enteringChildren&&R){const{delayChildren:U}=R.transition||{};G.delay=vq(q.enteringChildren,t,U)}}return{animation:F,options:G}}))}if(p.size){const _={};if(typeof d.initial!="boolean"){const T=rf(t,Array.isArray(d.initial)?d.initial[0]:d.initial);T&&T.transition&&(_.transition=T.transition)}p.forEach(T=>{const L=t.getBaseTarget(T),O=t.getValue(T);O&&(O.liveStyle=!0),_[T]=L??null}),m.push({animation:_})}let w=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),r=!1,w?e(m):Promise.resolve()}function o(l,d){if(n[l].isActive===d)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(l,d)),n[l].isActive=d;const f=a(l);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=K4()}}}function F1e(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Yq(e,t):!1}function kc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K4(){return{animate:kc(!0),whileInView:kc(),whileHover:kc(),whileTap:kc(),whileDrag:kc(),whileFocus:kc(),exit:kc()}}function G4(t,e){t.min=e.min,t.max=e.max}function ks(t,e){G4(t.x,e.x),G4(t.y,e.y)}function X4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Qq=1e-4,B1e=1-Qq,z1e=1+Qq,Jq=.01,U1e=0-Jq,$1e=0+Jq;function ei(t){return t.max-t.min}function q1e(t,e,n){return Math.abs(t-e)<=n}function Y4(t,e,n,r=.5){t.origin=r,t.originPoint=_n(e.min,e.max,t.origin),t.scale=ei(n)/ei(e),t.translate=_n(n.min,n.max,t.origin)-t.originPoint,(t.scale>=B1e&&t.scale<=z1e||isNaN(t.scale))&&(t.scale=1),(t.translate>=U1e&&t.translate<=$1e||isNaN(t.translate))&&(t.translate=0)}function Sm(t,e,n,r){Y4(t.x,e.x,n.x,r?r.originX:void 0),Y4(t.y,e.y,n.y,r?r.originY:void 0)}function Q4(t,e,n){t.min=n.min+e.min,t.max=t.min+ei(e)}function W1e(t,e,n){Q4(t.x,e.x,n.x),Q4(t.y,e.y,n.y)}function J4(t,e,n){t.min=e.min-n.min,t.max=t.min+ei(e)}function J0(t,e,n){J4(t.x,e.x,n.x),J4(t.y,e.y,n.y)}function Z4(t,e,n,r,i){return t-=e,t=Q0(t,1/n,r),i!==void 0&&(t=Q0(t,1/i,r)),t}function H1e(t,e=0,n=1,r=.5,i,s=t,a=t){if(Ea.test(e)&&(e=parseFloat(e),e=_n(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=_n(s.min,s.max,r);t===s&&(o-=e),t.min=Z4(t.min,e,n,o,i),t.max=Z4(t.max,e,n,o,i)}function eL(t,e,[n,r,i],s,a){H1e(t,e[n],e[r],e[i],e.scale,s,a)}const K1e=["x","scaleX","originX"],G1e=["y","scaleY","originY"];function tL(t,e,n,r){eL(t.x,e,K1e,n?n.x:void 0,r?r.x:void 0),eL(t.y,e,G1e,n?n.y:void 0,r?r.y:void 0)}function nL(t){return t.translate===0&&t.scale===1}function Zq(t){return nL(t.x)&&nL(t.y)}function rL(t,e){return t.min===e.min&&t.max===e.max}function X1e(t,e){return rL(t.x,e.x)&&rL(t.y,e.y)}function iL(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function e7(t,e){return iL(t.x,e.x)&&iL(t.y,e.y)}function sL(t){return ei(t.x)/ei(t.y)}function aL(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function ua(t){return[t("x"),t("y")]}function Y1e(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:p,skewX:y,skewY:v}=n;d&&(r=`perspective(${d}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),p&&(r+=`rotateY(${p}deg) `),y&&(r+=`skewX(${y}deg) `),v&&(r+=`skewY(${v}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const t7=["TopLeft","TopRight","BottomLeft","BottomRight"],Q1e=t7.length,oL=t=>typeof t=="string"?parseFloat(t):t,lL=t=>typeof t=="number"||Ue.test(t);function J1e(t,e,n,r,i,s){i?(t.opacity=_n(0,n.opacity??1,Z1e(r)),t.opacityExit=_n(e.opacity??1,0,e_e(r))):s&&(t.opacity=_n(e.opacity??1,n.opacity??1,r));for(let a=0;a<Q1e;a++){const o=`border${t7[a]}Radius`;let l=cL(e,o),d=cL(n,o);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||lL(l)===lL(d)?(t[o]=Math.max(_n(oL(l),oL(d),r),0),(Ea.test(d)||Ea.test(l))&&(t[o]+="%")):t[o]=d}(e.rotate||n.rotate)&&(t.rotate=_n(e.rotate||0,n.rotate||0,r))}function cL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Z1e=n7(0,.5,G9),e_e=n7(.5,.95,ls);function n7(t,e,n){return r=>r<t?0:r>e?1:n(ap(t,e,r))}function t_e(t,e,n){const r=Vr(t)?t:If(t);return r.start(jN("",r,e,n)),r.animation}function up(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const n_e=(t,e)=>t.depth-e.depth;class r_e{constructor(){this.children=[],this.isDirty=!1}add(e){pN(this.children,e),this.isDirty=!0}remove(e){H0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(n_e),this.isDirty=!1,this.children.forEach(e)}}function i_e(t,e){const n=Zr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Gl(r),t(s-e))};return tn.setup(r,!0),()=>Gl(r)}function Cv(t){return Vr(t)?t.get():t}class s_e{constructor(){this.members=[]}add(e){pN(this.members,e);for(let n=this.members.length-1;n>=0;n--){const r=this.members[n];if(r===e||r===this.lead||r===this.prevLead)continue;const i=r.instance;i&&i.isConnected===!1&&r.isPresent!==!1&&!r.snapshot&&H0(this.members,r)}e.scheduleRender()}remove(e){if(H0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i],a=s.instance;if(s.isPresent!==!1&&(!a||a.isConnected!==!1)){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;if(!(i!==void 0&&s!==void 0&&i===s)){const l=r.instance;l&&l.isConnected===!1&&!r.snapshot||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Sv={hasAnimatedSinceResize:!0,hasEverUpdated:!1},yE=["","X","Y","Z"],a_e=1e3;let o_e=0;function vE(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function r7(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Eq(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",tn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&r7(r)}function i7({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=o_e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(u_e),this.nodes.forEach(m_e),this.nodes.forEach(p_e),this.nodes.forEach(d_e)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new r_e)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new vN),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=LN(a)&&!c1e(a),this.instance=a;const{layoutId:o,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let f,m=0;const p=()=>this.root.updateBlockedByResize=!1;tn.read(()=>{m=window.innerWidth}),t(a,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,f&&f(),f=i_e(p,250),Sv.hasAnimatedSinceResize&&(Sv.hasAnimatedSinceResize=!1,this.nodes.forEach(fL)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||b_e,{onLayoutAnimationStart:w,onLayoutAnimationComplete:_}=d.getProps(),T=!this.targetLayout||!e7(this.targetLayout,y),L=!m&&p;if(this.options.layoutRoot||this.resumeFrom||L||m&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...IN(v,"layout"),onPlay:w,onComplete:_};(d.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(f,L)}else m||fL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(g_e),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&r7(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uL);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(dL);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(h_e),this.nodes.forEach(l_e),this.nodes.forEach(c_e)):this.nodes.forEach(dL),this.clearAllSnapshots();const o=Zr.now();_r.delta=Na(0,1e3/60,o-_r.timestamp),_r.timestamp=o,_r.isProcessing=!0,cE.update.process(_r),cE.preRender.process(_r),cE.render.process(_r),_r.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ON.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(f_e),this.sharedNodes.forEach(y_e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ei(this.snapshot.measuredBox.x)&&!ei(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Kn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Zq(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;a&&this.instance&&(o||Fc(this.latestValues)||f)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),w_e(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Kn();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(__e))){const{scroll:d}=this.root;d&&(Hd(o.x,d.offset.x),Hd(o.y,d.offset.y))}return o}removeElementScroll(a){const o=Kn();if(ks(o,a),this.scroll?.wasRoot)return o;for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:f,options:m}=d;d!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&ks(o,a),Hd(o.x,f.offset.x),Hd(o.y,f.offset.y))}return o}applyTransform(a,o=!1){const l=Kn();ks(l,a);for(let d=0;d<this.path.length;d++){const f=this.path[d];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Kd(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Fc(f.latestValues)&&Kd(l,f.latestValues)}return Fc(this.latestValues)&&Kd(l,this.latestValues),l}removeTransform(a){const o=Kn();ks(o,a);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!Fc(d.latestValues))continue;iS(d.latestValues)&&d.updateSnapshot();const f=Kn(),m=d.measurePageBox();ks(f,m),tL(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Fc(this.latestValues)&&tL(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_r.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!this.layout||!(f||m))return;this.resolvedRelativeTargetAt=_r.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Kn(),this.targetWithTransforms=Kn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),W1e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ks(this.target,this.layout.layoutBox),zq(this.target,this.targetDelta)):ks(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||iS(this.parent.latestValues)||Bq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Kn(),this.relativeTargetOrigin=Kn(),J0(this.relativeTargetOrigin,o,l),ks(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===_r.timestamp&&(l=!1),l)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;ks(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;b1e(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Kn());const{target:y}=a;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(X4(this.prevProjectionDelta.x,this.projectionDelta.x),X4(this.prevProjectionDelta.y,this.projectionDelta.y)),Sm(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!aL(this.projectionDelta.x,this.prevProjectionDelta.x)||!aL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wd(),this.projectionDelta=Wd(),this.projectionDeltaWithTransform=Wd()}setAnimationOrigin(a,o=!1){const l=this.snapshot,d=l?l.latestValues:{},f={...this.latestValues},m=Wd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Kn(),y=l?l.source:void 0,v=this.layout?this.layout.source:void 0,w=y!==v,_=this.getStack(),T=!_||_.members.length<=1,L=!!(w&&!T&&this.options.crossfade===!0&&!this.path.some(x_e));this.animationProgress=0;let O;this.mixTargetDelta=z=>{const j=z/1e3;hL(m.x,a.x,j),hL(m.y,a.y,j),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(J0(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),v_e(this.relativeTarget,this.relativeTargetOrigin,p,j),O&&X1e(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Kn()),ks(O,this.relativeTarget)),w&&(this.animationValues=f,J1e(f,d,this.latestValues,j,L,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Gl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=tn.update(()=>{Sv.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=If(0)),this.currentAnimation=t_e(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(a_e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:d,latestValues:f}=a;if(!(!o||!l||!d)){if(this!==a&&this.layout&&d&&s7(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||Kn();const m=ei(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+m;const p=ei(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+p}ks(o,l),Kd(o,f),Sm(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new s_e),this.sharedNodes.get(a).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const d={};l.z&&vE("z",a,d,this.animationValues);for(let f=0;f<yE.length;f++)vE(`rotate${yE[f]}`,a,d,this.animationValues),vE(`skew${yE[f]}`,a,d,this.animationValues);a.render();for(const f in d)a.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Cv(o?.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Cv(o?.pointerEvents)||""),this.hasProjected&&!Fc(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=Y1e(this.projectionDeltaWithTransform,this.treeScale,f);l&&(m=l(f,m)),a.transform=m;const{x:p,y}=this.projectionDelta;a.transformOrigin=`${p.origin*100}% ${y.origin*100}% 0`,d.animationValues?a.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in aS){if(f[v]===void 0)continue;const{correct:w,applyTo:_,isCSSVariable:T}=aS[v],L=m==="none"?f[v]:w(f[v],d);if(_){const O=_.length;for(let z=0;z<O;z++)a[_[z]]=L}else T?this.options.visualElement.renderState.vars[v]=L:a[v]=L}this.options.layoutId&&(a.pointerEvents=d===this?Cv(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(uL),this.root.sharedNodes.clear()}}}function l_e(t){t.updateLayout()}function c_e(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?ua(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],p=ei(m);m.min=n[f].min,m.max=m.min+p}):s7(i,e.layoutBox,n)&&ua(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],p=ei(n[f]);m.max=m.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const a=Wd();Sm(a,n,e.layoutBox);const o=Wd();s?Sm(o,t.applyTransform(r,!0),e.measuredBox):Sm(o,n,e.layoutBox);const l=!Zq(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:p}=f;if(m&&p){const y=Kn();J0(y,e.layoutBox,m.layoutBox);const v=Kn();J0(v,n,p.layoutBox),e7(y,v)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function u_e(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function d_e(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function f_e(t){t.clearSnapshot()}function uL(t){t.clearMeasurements()}function dL(t){t.isLayoutDirty=!1}function h_e(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fL(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function m_e(t){t.resolveTargetDelta()}function p_e(t){t.calcProjection()}function g_e(t){t.resetSkewAndRotation()}function y_e(t){t.removeLeadSnapshot()}function hL(t,e,n){t.translate=_n(e.translate,0,n),t.scale=_n(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mL(t,e,n,r){t.min=_n(e.min,n.min,r),t.max=_n(e.max,n.max,r)}function v_e(t,e,n,r){mL(t.x,e.x,n.x,r),mL(t.y,e.y,n.y,r)}function x_e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const b_e={duration:.45,ease:[.4,0,.1,1]},pL=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),gL=pL("applewebkit/")&&!pL("chrome/")?Math.round:ls;function yL(t){t.min=gL(t.min),t.max=gL(t.max)}function w_e(t){yL(t.x),yL(t.y)}function s7(t,e,n){return t==="position"||t==="preserve-aspect"&&!q1e(sL(e),sL(n),.2)}function __e(t){return t!==t.root&&t.scroll?.wasRoot}const E_e=i7({attachResizeListener:(t,e)=>up(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),xE={current:void 0},a7=i7({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xE.current){const t=new E_e({});t.mount(window),t.setOptions({layoutScroll:!0}),xE.current=t}return xE.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),UN=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function vL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function T_e(...t){return e=>{let n=!1;const r=t.map(i=>{const s=vL(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():vL(t[i],null)}}}}function C_e(...t){return E.useCallback(T_e(...t),t)}class S_e extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const r=n.offsetParent,i=nS(r)&&r.offsetWidth||0,s=nS(r)&&r.offsetHeight||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left,a.bottom=s-a.height-a.top}return null}componentDidUpdate(){}render(){return this.props.children}}function P_e({children:t,isPresent:e,anchorX:n,anchorY:r,root:i,pop:s}){const a=E.useId(),o=E.useRef(null),l=E.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=E.useContext(UN),f=t.props?.ref??t?.ref,m=C_e(o,f);return E.useInsertionEffect(()=>{const{width:p,height:y,top:v,left:w,right:_,bottom:T}=l.current;if(e||s===!1||!o.current||!p||!y)return;const L=n==="left"?`left: ${w}`:`right: ${_}`,O=r==="bottom"?`bottom: ${T}`:`top: ${v}`;o.current.dataset.motionPopId=a;const z=document.createElement("style");d&&(z.nonce=d);const j=i??document.head;return j.appendChild(z),z.sheet&&z.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${y}px !important;
            ${L}px !important;
            ${O}px !important;
          }
        `),()=>{j.contains(z)&&j.removeChild(z)}},[e]),c.jsx(S_e,{isPresent:e,childRef:o,sizeRef:l,pop:s,children:s===!1?t:E.cloneElement(t,{ref:m})})}const A_e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,anchorY:l,root:d})=>{const f=mN(N_e),m=E.useId();let p=!0,y=E.useMemo(()=>(p=!1,{id:m,initial:e,isPresent:n,custom:i,onExitComplete:v=>{f.set(v,!0);for(const w of f.values())if(!w)return;r&&r()},register:v=>(f.set(v,!1),()=>f.delete(v))}),[n,f,r]);return s&&p&&(y={...y}),E.useMemo(()=>{f.forEach((v,w)=>f.set(w,!1))},[n]),E.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),t=c.jsx(P_e,{pop:a==="popLayout",isPresent:n,anchorX:o,anchorY:l,root:d,children:t}),c.jsx(Pb.Provider,{value:y,children:t})};function N_e(){return new Map}function o7(t=!0){const e=E.useContext(Pb);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=E.useId();E.useEffect(()=>{if(t)return i(s)},[t]);const a=E.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const Gy=t=>t.key||"";function xL(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const $N=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",anchorY:l="top",root:d})=>{const[f,m]=o7(a),p=E.useMemo(()=>xL(t),[t]),y=a&&!f?[]:p.map(Gy),v=E.useRef(!0),w=E.useRef(p),_=mN(()=>new Map),T=E.useRef(new Set),[L,O]=E.useState(p),[z,j]=E.useState(p);L9(()=>{v.current=!1,w.current=p;for(let S=0;S<z.length;S++){const k=Gy(z[S]);y.includes(k)?(_.delete(k),T.current.delete(k)):_.get(k)!==!0&&_.set(k,!1)}},[z,y.length,y.join("-")]);const P=[];if(p!==L){let S=[...p];for(let k=0;k<z.length;k++){const A=z[k],D=Gy(A);y.includes(D)||(S.splice(k,0,A),P.push(A))}return s==="wait"&&P.length&&(S=P),j(xL(S)),O(p),null}const{forceRender:C}=E.useContext(hN);return c.jsx(c.Fragment,{children:z.map(S=>{const k=Gy(S),A=a&&!f?!1:p===z||y.includes(k),D=()=>{if(T.current.has(k))return;if(T.current.add(k),_.has(k))_.set(k,!0);else return;let M=!0;_.forEach(I=>{I||(M=!1)}),M&&(C?.(),j(w.current),a&&m?.(),r&&r())};return c.jsx(A_e,{isPresent:A,initial:!v.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:d,onExitComplete:A?void 0:D,anchorX:o,anchorY:l,children:S},k)})})},l7=E.createContext({strict:!1}),bL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let wL=!1;function I_e(){if(wL)return;const t={};for(const e in bL)t[e]={isEnabled:n=>bL[e].some(r=>!!n[r])};Lq(t),wL=!0}function c7(){return I_e(),g1e()}function j_e(t){const e=c7();for(const n in t)e[n]={...e[n],...t[n]};Lq(e)}const k_e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Z0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||k_e.has(t)}let u7=t=>!Z0(t);function R_e(t){typeof t=="function"&&(u7=e=>e.startsWith("on")?!Z0(e):t(e))}try{R_e(require("@emotion/is-prop-valid").default)}catch{}function D_e(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(u7(i)||n===!0&&Z0(i)||!e&&!Z0(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Ib=E.createContext({});function O_e(t,e){if(Nb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||cp(n)?n:void 0,animate:cp(r)?r:void 0}}return t.inherit!==!1?e:{}}function M_e(t){const{initial:e,animate:n}=O_e(t,E.useContext(Ib));return E.useMemo(()=>({initial:e,animate:n}),[_L(e),_L(n)])}function _L(t){return Array.isArray(t)?t.join(" "):t}const qN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function d7(t,e,n){for(const r in e)!Vr(e[r])&&!qq(r,n)&&(t[r]=e[r])}function L_e({transformTemplate:t},e){return E.useMemo(()=>{const n=qN();return BN(n,e,t),Object.assign({},n.vars,n.style)},[e])}function V_e(t,e){const n=t.style||{},r={};return d7(r,n,t),Object.assign(r,L_e(t,e)),r}function F_e(t,e){const n={},r=V_e(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const f7=()=>({...qN(),attrs:{}});function B_e(t,e,n,r){const i=E.useMemo(()=>{const s=f7();return Wq(s,e,Kq(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};d7(s,t.style,t),i.style={...s,...i.style}}return i}const z_e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function WN(t){return typeof t!="string"||t.includes("-")?!1:!!(z_e.indexOf(t)>-1||/[A-Z]/u.test(t))}function U_e(t,e,n,{latestValues:r},i,s=!1,a){const l=(a??WN(t)?B_e:F_e)(e,r,i,t),d=D_e(e,typeof t=="string",s),f=t!==E.Fragment?{...d,...l,ref:n}:{},{children:m}=e,p=E.useMemo(()=>Vr(m)?m.get():m,[m]);return E.createElement(t,{...f,children:p})}function $_e({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:q_e(n,r,i,t),renderState:e()}}function q_e(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=Cv(s[p]);let{initial:a,animate:o}=t;const l=Nb(t),d=Oq(t);e&&d&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let f=n?n.initial===!1:!1;f=f||a===!1;const m=f?o:a;if(m&&typeof m!="boolean"&&!Ab(m)){const p=Array.isArray(m)?m:[m];for(let y=0;y<p.length;y++){const v=kN(t,p[y]);if(v){const{transitionEnd:w,transition:_,...T}=v;for(const L in T){let O=T[L];if(Array.isArray(O)){const z=f?O.length-1:0;O=O[z]}O!==null&&(i[L]=O)}for(const L in w)i[L]=w[L]}}}return i}const h7=t=>(e,n)=>{const r=E.useContext(Ib),i=E.useContext(Pb),s=()=>$_e(t,e,r,i);return n?s():mN(s)},W_e=h7({scrapeMotionValuesFromProps:zN,createRenderState:qN}),H_e=h7({scrapeMotionValuesFromProps:Gq,createRenderState:f7}),K_e=Symbol.for("motionComponentSymbol");function G_e(t,e,n){const r=E.useRef(n);E.useInsertionEffect(()=>{r.current=n});const i=E.useRef(null);return E.useCallback(s=>{s&&t.onMount?.(s),e&&(s?e.mount(s):e.unmount());const a=r.current;if(typeof a=="function")if(s){const o=a(s);typeof o=="function"&&(i.current=o)}else i.current?(i.current(),i.current=null):a(s);else a&&(a.current=s)},[e])}const m7=E.createContext({});function Fd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function X_e(t,e,n,r,i,s){const{visualElement:a}=E.useContext(Ib),o=E.useContext(l7),l=E.useContext(Pb),d=E.useContext(UN),f=d.reducedMotion,m=d.skipAnimations,p=E.useRef(null),y=E.useRef(!1);r=r||o.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:f,skipAnimations:m,isSVG:s}),y.current&&p.current&&(p.current.manuallyAnimateOnMount=!0));const v=p.current,w=E.useContext(m7);v&&!v.projection&&i&&(v.type==="html"||v.type==="svg")&&Y_e(p.current,n,i,w);const _=E.useRef(!1);E.useInsertionEffect(()=>{v&&_.current&&v.update(n,l)});const T=n[_q],L=E.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return L9(()=>{y.current=!0,v&&(_.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),v.scheduleRenderMicrotask(),L.current&&v.animationState&&v.animationState.animateChanges())}),E.useEffect(()=>{v&&(!L.current&&v.animationState&&v.animationState.animateChanges(),L.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),L.current=!1),v.enteringChildren=void 0)}),v}function Y_e(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:p7(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Fd(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:l,layoutRoot:d})}function p7(t){if(t)return t.options.allowProjection!==!1?t.projection:p7(t.parent)}function bE(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&j_e(r);const s=n?n==="svg":WN(t),a=s?H_e:W_e;function o(d,f){let m;const p={...E.useContext(UN),...d,layoutId:Q_e(d)},{isStatic:y}=p,v=M_e(d),w=a(d,y);if(!y&&M9){J_e();const _=Z_e(p);m=_.MeasureLayout,v.visualElement=X_e(t,w,p,i,_.ProjectionNode,s)}return c.jsxs(Ib.Provider,{value:v,children:[m&&v.visualElement?c.jsx(m,{visualElement:v.visualElement,...p}):null,U_e(t,d,G_e(w,v.visualElement,f),w,y,e,s)]})}o.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=E.forwardRef(o);return l[K_e]=t,l}function Q_e({layoutId:t}){const e=E.useContext(hN).id;return e&&t!==void 0?e+"-"+t:t}function J_e(t,e){E.useContext(l7).strict}function Z_e(t){const e=c7(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n?.isEnabled(t)||r?.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function eEe(t,e){if(typeof Proxy>"u")return bE;const n=new Map,r=(s,a)=>bE(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,bE(a,void 0,t,e)),n.get(a))})}const tEe=(t,e)=>e.isSVG??WN(t)?new R1e(e):new P1e(e,{allowProjection:t!==E.Fragment});class nEe extends sc{constructor(e){super(e),e.animationState||(e.animationState=V1e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ab(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let rEe=0;class iEe extends sc{constructor(){super(...arguments),this.id=rEe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const sEe={animation:{Feature:nEe},exit:{Feature:iEe}};function tg(t){return{point:{x:t.pageX,y:t.pageY}}}const aEe=t=>e=>MN(e)&&t(e,tg(e));function Pm(t,e,n,r){return up(t,e,aEe(n),r)}const g7=({current:t})=>t?t.ownerDocument.defaultView:null,EL=(t,e)=>Math.abs(t-e);function oEe(t,e){const n=EL(t.x,e.x),r=EL(t.y,e.y);return Math.sqrt(n**2+r**2)}const TL=new Set(["auto","scroll"]);class y7{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3,element:o}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=y=>{this.handleScroll(y.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=_E(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,w=oEe(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!w)return;const{point:_}=y,{timestamp:T}=_r;this.history.push({..._,timestamp:T});const{onStart:L,onMove:O}=this.handlers;v||(L&&L(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=wE(v,this.transformPagePoint),tn.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:w,onSessionEnd:_,resumeAnimation:T}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=_E(y.type==="pointercancel"?this.lastMoveEventInfo:wE(v,this.transformPagePoint),this.history);this.startEvent&&w&&w(y,L),_&&_(y,L)},!MN(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const l=tg(e),d=wE(l,this.transformPagePoint),{point:f}=d,{timestamp:m}=_r;this.history=[{...f,timestamp:m}];const{onSessionStart:p}=n;p&&p(e,_E(d,this.history)),this.removeListeners=Jp(Pm(this.contextWindow,"pointermove",this.handlePointerMove),Pm(this.contextWindow,"pointerup",this.handlePointerUp),Pm(this.contextWindow,"pointercancel",this.handlePointerUp)),o&&this.startScrollTracking(o)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(TL.has(r.overflowX)||TL.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),tn.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Gl(this.updatePoint)}}function wE(t,e){return e?{point:e(t.point)}:t}function CL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function _E({point:t},e){return{point:t,delta:CL(t,v7(e)),offset:CL(t,lEe(e)),velocity:cEe(e,.1)}}function lEe(t){return t[0]}function v7(t){return t[t.length-1]}function cEe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=v7(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>$s(e)));)n--;if(!r)return{x:0,y:0};r===t[0]&&t.length>2&&i.timestamp-r.timestamp>$s(e)*2&&(r=t[1]);const s=is(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function uEe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_n(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_n(n,t,r.max):Math.min(t,n)),t}function SL(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function dEe(t,{top:e,left:n,bottom:r,right:i}){return{x:SL(t.x,n,i),y:SL(t.y,e,r)}}function PL(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function fEe(t,e){return{x:PL(t.x,e.x),y:PL(t.y,e.y)}}function hEe(t,e){let n=.5;const r=ei(t),i=ei(e);return i>r?n=ap(e.min,e.max-r,t.min):r>i&&(n=ap(t.min,t.max-i,e.min)),Na(0,1,n)}function mEe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const oS=.35;function pEe(t=oS){return t===!1?t=0:t===!0&&(t=oS),{x:AL(t,"left","right"),y:AL(t,"top","bottom")}}function AL(t,e,n){return{min:NL(t,e),max:NL(t,n)}}function NL(t,e){return typeof t=="number"?t:t[e]||0}const gEe=new WeakMap;class yEe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Kn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{n&&this.snapToCursor(tg(m).point),this.stopAnimation()},a=(m,p)=>{const{drag:y,dragPropagation:v,onDragStart:w}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Hwe(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ua(T=>{let L=this.getAxisMotionValue(T).get()||0;if(Ea.test(L)){const{projection:O}=this.visualElement;if(O&&O.layout){const z=O.layout.layoutBox[T];z&&(L=ei(z)*(parseFloat(L)/100))}}this.originPoint[T]=L}),w&&tn.update(()=>w(m,p),!1,!0),ZC(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:w,onDrag:_}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:T}=p;if(v&&this.currentDirection===null){this.currentDirection=xEe(T),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,T),this.updateAxis("y",p.point,T),this.visualElement.render(),_&&tn.update(()=>_(m,p),!1,!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>{const{dragSnapToOrigin:m}=this.getProps();(m||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:f}=this.getProps();this.panSession=new y7(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:g7(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&tn.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Xy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=uEe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&Fd(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=dEe(r.layoutBox,e):this.constraints=!1,this.elastic=pEe(n),i!==this.constraints&&!Fd(e)&&r&&this.constraints&&!this.hasMutatedConstraints&&ua(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=mEe(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Fd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=w1e(r,i.root,this.visualElement.getTransformPagePoint());let a=fEe(i.layout.layoutBox,s);if(n){const o=n(v1e(a));this.hasMutatedConstraints=!!o,o&&(a=Fq(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},d=ua(f=>{if(!Xy(f,n,this.currentDirection))return;let m=l&&l[f]||{};a&&(m={min:0,max:0});const p=i?200:1e6,y=i?40:1e7,v={type:"inertia",velocity:r?e[f]:0,bounceStiffness:p,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,v)});return Promise.all(d).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ZC(this.visualElement,e),r.start(jN(e,r,0,n,this.visualElement,!1))}stopAnimation(){ua(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ua(n=>{const{drag:r}=this.getProps();if(!Xy(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n],l=s.get()||0;s.set(e[n]-_n(a,o,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ua(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=hEe({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.constraints=!1,this.resolveConstraints(),ua(a=>{if(!Xy(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:d}=this.constraints[a];o.set(_n(l,d,i[a]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;gEe.set(this.visualElement,this);const e=this.visualElement.current,n=Pm(e,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps(),p=d.target,y=p!==e&&Jwe(p);f&&m&&!y&&this.start(d)});let r;const i=()=>{const{dragConstraints:d}=this.getProps();Fd(d)&&d.current&&(this.constraints=this.resolveRefConstraints(),r||(r=vEe(e,d.current,()=>this.scalePositionWithinConstraints())))},{projection:s}=this.visualElement,a=s.addEventListener("measure",i);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),tn.read(i);const o=up(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(ua(m=>{const p=this.getAxisMotionValue(m);p&&(this.originPoint[m]+=d[m].translate,p.set(p.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),l&&l(),r&&r()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=oS,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function IL(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function vEe(t,e,n){const r=L4(t,IL(n)),i=L4(e,IL(n));return()=>{r(),i()}}function Xy(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function xEe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class bEe extends sc{constructor(e){super(e),this.removeGroupControls=ls,this.removeListeners=ls,this.controls=new yEe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ls}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const EE=t=>(e,n)=>{t&&tn.update(()=>t(e,n),!1,!0)};class wEe extends sc{constructor(){super(...arguments),this.removePointerDownListener=ls}onPointerDown(e){this.session=new y7(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:g7(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:EE(e),onStart:EE(n),onMove:EE(r),onEnd:(s,a)=>{delete this.session,i&&tn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Pm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let TE=!1;class _Ee extends E.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),TE&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Sv.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,e.layoutDependency!==n&&a.setOptions({...a.options,layoutDependency:n}),TE=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||tn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ON.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;TE=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function x7(t){const[e,n]=o7(),r=E.useContext(hN);return c.jsx(_Ee,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(m7),isPresent:e,safeToRemove:n})}const EEe={pan:{Feature:wEe},drag:{Feature:bEe,ProjectionNode:a7,MeasureLayout:x7}};function jL(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&tn.postRender(()=>s(e,tg(e)))}class TEe extends sc{mount(){const{current:e}=this.node;e&&(this.unmount=Gwe(e,(n,r)=>(jL(this.node,r,"Start"),i=>jL(this.node,i,"End"))))}unmount(){}}class CEe extends sc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jp(up(this.node.current,"focus",()=>this.onFocus()),up(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kL(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&tn.postRender(()=>s(e,tg(e)))}class SEe extends sc{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:n,propagate:r}=this.node.props;this.unmount=e1e(e,(i,s)=>(kL(this.node,s,"Start"),(a,{success:o})=>kL(this.node,a,o?"End":"Cancel")),{useGlobalTarget:n,stopPropagation:r?.tap===!1})}unmount(){}}const lS=new WeakMap,CE=new WeakMap,PEe=t=>{const e=lS.get(t.target);e&&e(t)},AEe=t=>{t.forEach(PEe)};function NEe({root:t,...e}){const n=t||document;CE.has(n)||CE.set(n,{});const r=CE.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(AEe,{root:t,...e})),r[i]}function IEe(t,e,n){const r=NEe(e);return lS.set(t,n),r.observe(t),()=>{lS.delete(t),r.unobserve(t)}}const jEe={some:0,all:1};class kEe extends sc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:jEe[i]},o=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),p=d?f:m;p&&p(l)};return IEe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(REe(e,n))&&this.startObserver()}unmount(){}}function REe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const DEe={inView:{Feature:kEe},tap:{Feature:SEe},focus:{Feature:CEe},hover:{Feature:TEe}},OEe={layout:{ProjectionNode:a7,MeasureLayout:x7}},MEe={...sEe,...DEe,...EEe,...OEe},Xn=eEe(MEe,tEe);function LEe({isOpen:t,countryName:e,onComplete:n}){const{t:r}=xt(),[i,s]=E.useState(0),[a,o]=E.useState([]),l=E.useMemo(()=>[{id:1,label:r.fiatAccounts.validating,duration:1500},{id:2,label:r.fiatAccounts.generating,duration:2e3},{id:3,label:r.fiatAccounts.security,duration:1800},{id:4,label:r.fiatAccounts.finalizing,duration:1500}],[r]);return E.useEffect(()=>{if(!t){s(0),o([]);return}let d;return(async()=>{for(let m=0;m<l.length;m++)s(m),await new Promise(p=>{d=setTimeout(p,l[m].duration)}),o(p=>[...p,m]);await new Promise(m=>{d=setTimeout(m,500)}),n()})(),()=>{d&&clearTimeout(d)}},[t,n,l]),t?Ix.createPortal(c.jsx($N,{children:c.jsxs("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-6",children:[c.jsx(Xn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/90 backdrop-blur-md"}),c.jsxs(Xn.div,{initial:{opacity:0,scale:.8,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:40},transition:{type:"spring",duration:.5},className:"relative bg-zinc-900/95 backdrop-blur-xl rounded-3xl p-10 w-full max-w-md border border-white/20 shadow-[0_20px_100px_rgba(0,0,0,0.9)]",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-br from-white/20 to-white/5 flex items-center justify-center border border-white/20",children:c.jsx(Xn.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:c.jsx(Qv,{className:"w-8 h-8 text-white"})})}),c.jsx("h3",{className:"text-xl text-white mb-2",children:r.fiatAccounts.openingAccount}),c.jsx("p",{className:"text-sm text-white/60",children:r.fiatAccounts.configuringAccount.replace("{country}",e)})]}),c.jsx("div",{className:"space-y-4 mb-8",children:l.map((d,f)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center transition-all ${i>f?"bg-green-500/20 border-2 border-green-500":i===f?"bg-white/20 border-2 border-white animate-pulse":"bg-white/5 border-2 border-white/20"}`,children:i>f?c.jsx(jn,{className:"w-5 h-5 text-green-500"}):c.jsx("span",{className:"text-sm text-white",children:f+1})}),c.jsx("div",{className:"flex-1",children:c.jsx("p",{className:`text-sm transition-all ${i>f?"text-green-400":i===f?"text-white":"text-white/40"}`,children:d.label})})]},d.id))}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("p",{className:"text-xs text-white/40",children:r.fiatAccounts.completedSteps.replace("{completed}",a.length.toString()).replace("{total}",l.length.toString())})})]})]})}),document.body):null}const VEe=async(t,e,n,r,i)=>{try{console.log(" Criando chaves PIX automticas para conta BRL...");const s=nt(be,"pixKeys"),a=It(s,yt("userId","==",t),yt("accountId","==",e));if(!(await Pt(a)).empty){console.log(" Chaves PIX j existem para esta conta");return}await _i(s,{userId:t,accountId:e,accountNumber:n,currency:"BRL",country:"BR",keyType:"email",keyValue:r,createdAt:new Date}),console.log(" Chave PIX (email) criada:",r),await _i(s,{userId:t,accountId:e,accountNumber:n,currency:"BRL",country:"BR",keyType:"phone",keyValue:i,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",i)}catch(s){console.error(" Erro ao criar chaves PIX automticas:",s)}},RL=({code:t})=>c.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden flex items-center justify-center bg-zinc-800",children:c.jsx("img",{src:`https://flagcdn.com/w40/${t.toLowerCase()}.png`,alt:t,className:"w-full h-full object-cover"})});function FEe({onNavigate:t}){const{user:e}=Dt(),{t:n}=xt(),[r,i]=E.useState(""),[s,a]=E.useState(!1),[o,l]=E.useState(null),[d,f]=E.useState([]),[m,p]=E.useState(!0),[y,v]=E.useState(!1),[w,_]=E.useState(!1),[T,L]=E.useState(!1),[O,z]=E.useState("");E.useEffect(()=>{if(!e)return;(async()=>{try{const D=nt(be,"bankAccounts"),M=It(D,yt("userId","==",e.uid)),K=(await Pt(M)).docs.map(Y=>({...Y.data(),id:Y.id,createdAt:Y.data().createdAt?.toDate()||new Date}));f(K),_(!1)}catch(D){console.error(" Erro ao carregar contas:",D),D?.code==="permission-denied"&&_(!0)}finally{p(!1)}})()},[e]);const P=zte().filter(A=>!d.some(D=>D.country===A.code)).filter(A=>(n.countries[A.code]||A.name).toLowerCase().includes(r.toLowerCase())||A.code.toLowerCase().includes(r.toLowerCase())||A.currency.toLowerCase().includes(r.toLowerCase())),C=A=>{z(A),L(!0)},S=async()=>{if(!(!e||!O)){L(!1),v(!0);try{const A=nt(be,"bankAccounts"),D=It(A,yt("userId","==",e.uid),yt("country","==",O));if(!(await Pt(D)).empty){console.log(" Conta j existe para:",O);const F=n.countries[O]||O;Ge.error(n.fiatAccounts.accountExists,{description:n.fiatAccounts.accountExistsDesc.replace("{country}",F),duration:4e3}),i(""),a(!1),v(!1);return}const I=_z(O),K=await _i(A,{...I,userId:e.uid,createdAt:new Date}),Y={...I,id:K.id,createdAt:new Date};f(F=>[...F,Y]),i(""),a(!1),console.log(" Conta criada com sucesso para:",O);const J=n.countries[O]||O;if(Ge.success(n.fiatAccounts.accountCreated,{description:n.fiatAccounts.accountCreatedDesc.replace("{country}",J),duration:3e3}),O==="BR"){const F=rt(be,"users",e.uid),q=(await Bi(F)).data();q?.email&&q?.phone?(await VEe(e.uid,K.id,I.accountNumber,q.email,q.phone),console.log(" Chaves PIX criadas automaticamente!"),setTimeout(()=>{Ge.success(n.fiatAccounts.pixKeysCreated,{description:n.fiatAccounts.pixKeysCreatedDesc,duration:4e3})},1500)):console.log(" Email ou telefone no encontrado no perfil do usurio")}setTimeout(()=>{t("home")},1e3)}catch(A){console.error(" Erro ao adicionar conta:",A),Ge.error(n.fiatAccounts.errorCreatingAccount,{description:n.fiatAccounts.errorCreatingAccountDesc,duration:3e3})}finally{v(!1)}}},k=async A=>{if(!A){Ge.error(n.fiatAccounts.error,{description:n.fiatAccounts.accountIdNotFound,duration:3e3});return}if(window.confirm(n.fiatAccounts.closeAccountConfirm))try{await fo(rt(be,"bankAccounts",A)),f(M=>M.filter(I=>I.id!==A)),l(null),Ge.success(n.fiatAccounts.accountClosed,{description:n.fiatAccounts.accountClosedDesc,duration:3e3}),console.log(" Conta deletada com sucesso:",A)}catch(M){console.error(" Erro ao deletar conta:",M),M?.code==="permission-denied"?Ge.error(n.fiatAccounts.firestoreRulesWarning,{description:n.fiatAccounts.firestoreRulesDesc,duration:8e3}):Ge.error(n.fiatAccounts.errorClosingAccount,{description:n.fiatAccounts.errorClosingAccountDesc,duration:3e3})}};return o?c.jsx($xe,{account:o,onBack:()=>l(null),onDelete:k}):c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[c.jsx("header",{className:"sticky top-0 z-20 backdrop-blur-lg bg-black/80 border-b border-white/5",children:c.jsx("div",{className:"px-6 py-4 flex items-center gap-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-zinc-900 transition-colors",children:c.jsx(AP,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl",children:n.fiatAccounts.title}),c.jsx("p",{className:"text-sm text-white/50",children:n.fiatAccounts.subtitle})]})]})})}),c.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[c.jsx("h1",{className:"text-xl mb-6",children:n.fiatAccounts.accountData}),m&&c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"w-8 h-8 border-3 border-zinc-700 border-t-white rounded-full animate-spin"})}),w&&!m&&c.jsx("div",{className:"bg-red-900/20 border border-red-800 rounded-2xl p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(jl,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-red-500 mb-1",children:n.fiatAccounts.permissionError}),c.jsx("p",{className:"text-sm text-gray-300",children:n.fiatAccounts.permissionErrorDesc})]})]})}),!m&&d.length>0&&c.jsx("div",{className:"bg-zinc-900 rounded-3xl overflow-hidden mb-6",children:d.map((A,D)=>c.jsxs("div",{children:[c.jsxs("button",{className:"w-full px-4 py-4 flex items-center justify-between hover:bg-zinc-800 transition-colors",onClick:()=>l(A),children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(RL,{code:A.flagCode}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"font-semibold",children:n.countries[A.country]||A.countryName}),c.jsx("p",{className:"text-sm text-gray-400",children:A.currency})]})]}),c.jsx(mo,{className:"w-5 h-5 text-gray-400"})]}),D<d.length-1&&c.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},A.id))}),c.jsx("div",{className:"bg-zinc-900 rounded-3xl overflow-hidden",children:P.map((A,D)=>c.jsxs("div",{children:[c.jsxs("div",{className:"px-4 py-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(RL,{code:A.flag}),c.jsxs("div",{className:"text-left",children:[c.jsx("p",{className:"font-semibold",children:n.countries[A.code]||A.name}),c.jsx("p",{className:"text-sm text-gray-400",children:A.currency})]})]}),c.jsx("button",{className:"px-5 py-2 bg-zinc-700 hover:bg-zinc-600 rounded-full text-sm font-semibold transition-colors disabled:opacity-50",onClick:()=>C(A.code),disabled:y,children:y?n.fiatAccounts.creating:n.fiatAccounts.add})]}),D<P.length-1&&c.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},A.code))})]}),c.jsx(LEe,{isOpen:T,countryName:n.countries[O]||"",onComplete:S})]})}function BEe({onNavigate:t}){const[e,n]=E.useState(!1),[r,i]=E.useState(!0),{userData:s}=Dt(),{t:a}=xt(),o=[{title:a.authentication,items:[{icon:Cl,label:a.changePassword,description:a.lastChanged,action:()=>t("changePassword"),type:"button"},{icon:ts,label:a.twoFactor,description:a.addExtraLayer,action:()=>n(!e),type:"toggle",enabled:e}]},{title:a.securityNotifications,items:[{icon:wf,label:a.emailAlerts,description:a.receiveSuspiciousActivity,action:()=>i(!r),type:"toggle",enabled:r},{icon:BT,label:a.recentActivity,description:a.viewDevicesAccess,action:()=>{},type:"button"}]},{title:a.privacy,items:[{icon:eu,label:a.connectedDevices,description:a.activeDevices,action:()=>{},type:"button"},{icon:bte,label:a.activeSessions,description:a.manageSessions,action:()=>{},type:"button"}]}];return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[c.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:c.jsx(vt,{className:"w-5 h-5 font-light"})}),c.jsx("h1",{className:"text-xl",children:a.security})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[c.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(_f,{className:"w-5 h-5 text-green-500 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"mb-1",children:a.yourAccountProtected}),c.jsx("p",{className:"text-sm text-gray-400",children:a.keepInfoSecure})]})]})}),c.jsx("div",{className:"space-y-6",children:o.map((l,d)=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs text-gray-400 mb-2 px-1",children:l.title}),c.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl overflow-hidden shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:l.items.map((f,m)=>{const p=f.icon;return c.jsxs("div",{children:[c.jsxs("button",{onClick:f.action,className:"w-full px-4 py-3 flex items-center justify-between hover:bg-white/10 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[c.jsx(p,{className:"w-5 h-5 text-gray-400"}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"text-white",children:f.label}),c.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:f.description})]})]}),f.type==="toggle"?c.jsx("div",{className:`w - 12 h - 6 rounded - full transition - colors ${f.enabled?"bg-green-500":"bg-zinc-700"} `,children:c.jsx("div",{className:`w - 5 h - 5 bg - white rounded - full mt - 0.5 transition - transform ${f.enabled?"translate-x-6":"translate-x-0.5"} `})}):c.jsx(mo,{className:"w-5 h-5 text-gray-400"})]}),m<l.items.length-1&&c.jsx("div",{className:"h-px bg-white/10 mx-4"})]},f.label)})})]},d))}),c.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[c.jsxs("h4",{className:"mb-2 flex items-center gap-2",children:[c.jsx(_f,{className:"w-4 h-4 text-green-500"}),a.securityTips]}),c.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-500 mt-0.5",children:""}),c.jsx("span",{children:a.useStrongPassword})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-500 mt-0.5",children:""}),c.jsx("span",{children:a.enableTwoFactor})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-500 mt-0.5",children:""}),c.jsx("span",{children:a.neverShareCredentials})]})]})]})]})]})}function zEe({onNavigate:t}){const[e,n]=E.useState(""),[r,i]=E.useState(""),[s,a]=E.useState(""),[o,l]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(!1),[y,v]=E.useState(!1),[w,_]=E.useState(""),[T,L]=E.useState(!1),z=(C=>({length:C.length>=8,uppercase:/[A-Z]/.test(C),lowercase:/[a-z]/.test(C),number:/[0-9]/.test(C),special:/[!@#$%^&*(),.?":{}|<>]/.test(C)}))(r),j=Object.values(z).every(Boolean),P=async()=>{if(!e||!r||!s){_("Preencha todos os campos");return}if(r!==s){_("As senhas no coincidem");return}if(!j){_("A nova senha no atende aos requisitos de segurana");return}if(r===e){_("A nova senha deve ser diferente da senha atual");return}v(!0),_("");try{const C=wn.currentUser;if(!C||!C.email)throw new Error("Usurio no autenticado");const S=Ru.credential(C.email,e);await tZ(C,S),await GB(C,r),L(!0),n(""),i(""),a(""),setTimeout(()=>{t("security")},2e3)}catch(C){console.error("Erro ao alterar senha:",C),C.code==="auth/wrong-password"?_("Senha atual incorreta"):C.code==="auth/weak-password"?_("A nova senha  muito fraca"):C.code==="auth/requires-recent-login"?_("Por segurana, faa login novamente antes de alterar a senha"):C.code==="auth/network-request-failed"?_("Erro de conexo. Verifique sua internet"):_("Erro ao alterar senha. Tente novamente")}finally{v(!1)}};return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[c.jsx("button",{onClick:()=>t("security"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:c.jsx(vt,{className:"w-5 h-5 font-light"})}),c.jsx("h1",{className:"text-xl",children:"Alterar senha"})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[T&&c.jsx("div",{className:"bg-green-500/10 border border-green-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(jn,{className:"w-5 h-5 text-green-500 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-green-500 mb-1",children:"Senha alterada com sucesso!"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Redirecionando..."})]})]})}),w&&c.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-2xl p-4 mb-6 backdrop-blur-md",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(jl,{className:"w-5 h-5 text-red-500 mt-0.5"}),c.jsx("div",{className:"flex-1",children:c.jsx("p",{className:"text-sm text-red-400",children:w})})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Senha atual"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:c.jsx(Cl,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:o?"text":"password",value:e,onChange:C=>n(C.target.value),placeholder:"Digite sua senha atual",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||T}),c.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||T,children:o?c.jsx(ef,{className:"w-5 h-5"}):c.jsx(eu,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Nova senha"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:c.jsx(Cl,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:d?"text":"password",value:r,onChange:C=>i(C.target.value),placeholder:"Digite sua nova senha",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||T}),c.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||T,children:d?c.jsx(ef,{className:"w-5 h-5"}):c.jsx(eu,{className:"w-5 h-5"})})]}),r&&c.jsxs("div",{className:"mt-3 p-3 bg-white/5 backdrop-blur-md border border-white/10 rounded-xl",children:[c.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Requisitos da senha:"}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.length?"text-green-500":"text-gray-500"}`,children:[c.jsx(jn,{className:"w-3 h-3"}),"Mnimo de 8 caracteres"]}),c.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.uppercase?"text-green-500":"text-gray-500"}`,children:[c.jsx(jn,{className:"w-3 h-3"}),"Letra maiscula (A-Z)"]}),c.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.lowercase?"text-green-500":"text-gray-500"}`,children:[c.jsx(jn,{className:"w-3 h-3"}),"Letra minscula (a-z)"]}),c.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.number?"text-green-500":"text-gray-500"}`,children:[c.jsx(jn,{className:"w-3 h-3"}),"Nmero (0-9)"]}),c.jsxs("div",{className:`text-xs flex items-center gap-2 ${z.special?"text-green-500":"text-gray-500"}`,children:[c.jsx(jn,{className:"w-3 h-3"}),"Caractere especial (!@#$%...)"]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"Confirmar nova senha"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2",children:c.jsx(Cl,{className:"w-5 h-5 text-gray-400"})}),c.jsx("input",{type:m?"text":"password",value:s,onChange:C=>a(C.target.value),placeholder:"Confirme sua nova senha",className:"w-full bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl px-12 py-4 text-white placeholder:text-gray-500 focus:outline-none focus:border-white/30 transition-colors",disabled:y||T}),c.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",disabled:y||T,children:m?c.jsx(ef,{className:"w-5 h-5"}):c.jsx(eu,{className:"w-5 h-5"})})]}),s&&r!==s&&c.jsx("p",{className:"text-xs text-red-400 mt-2",children:"As senhas no coincidem"})]}),c.jsx("button",{onClick:P,disabled:y||T||!e||!r||!s||!j||r!==s,className:"w-full bg-white text-black py-4 rounded-2xl disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-200 transition-colors active:scale-95",children:y?"Alterando senha...":"Alterar senha"})]}),c.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl",children:[c.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm",children:[c.jsx(Cl,{className:"w-4 h-4 text-gray-400"}),"Dicas de segurana"]}),c.jsxs("ul",{className:"space-y-2 text-xs text-gray-400",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),c.jsx("span",{children:"Nunca compartilhe sua senha com ningum"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),c.jsx("span",{children:"Use uma senha nica para cada servio"})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-gray-500 mt-0.5",children:""}),c.jsx("span",{children:"Considere usar um gerenciador de senhas"})]})]})]})]})]})}function Pr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function UEe(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Yy=43200,DL=1440;let $Ee={};function qEe(){return $Ee}function OL(t){const e=Pr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Pv(t,e){const n=Pr(t),r=Pr(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function WEe(t){return UEe(t,Date.now())}function HEe(t,e){const n=Pr(t),r=Pr(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function KEe(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function GEe(t,e){return+Pr(t)-+Pr(e)}function XEe(t){const e=Pr(t);return e.setHours(23,59,59,999),e}function YEe(t){const e=Pr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function QEe(t){const e=Pr(t);return+XEe(e)==+YEe(e)}function JEe(t,e){const n=Pr(t),r=Pr(e),i=Pv(n,r),s=Math.abs(HEe(n,r));let a;if(s<1)a=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let o=Pv(n,r)===-i;QEe(Pr(t))&&s===1&&Pv(t,r)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function ZEe(t,e,n){const r=GEe(t,e)/1e3;return KEe(n?.roundingMethod)(r)}const eTe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},tTe=(t,e,n)=>{let r;const i=eTe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ao(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const nTe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iTe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sTe={date:ao({formats:nTe,defaultWidth:"full"}),time:ao({formats:rTe,defaultWidth:"full"}),dateTime:ao({formats:iTe,defaultWidth:"full"})},aTe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oTe=(t,e,n,r)=>aTe[t];function Xr(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const lTe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cTe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},uTe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dTe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mTe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pTe={ordinalNumber:mTe,era:Xr({values:lTe,defaultWidth:"wide"}),quarter:Xr({values:cTe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xr({values:uTe,defaultWidth:"wide"}),day:Xr({values:dTe,defaultWidth:"wide"}),dayPeriod:Xr({values:fTe,defaultWidth:"wide",formattingValues:hTe,defaultFormattingWidth:"wide"})};function Yr(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?yTe(o,m=>m.test(a)):gTe(o,m=>m.test(a));let d;d=t.valueCallback?t.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;const f=e.slice(a.length);return{value:d,rest:f}}}function gTe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function yTe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function HN(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const vTe=/^(\d+)(th|st|nd|rd)?/i,xTe=/\d+/i,bTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wTe={any:[/^b/i,/^(a|c)/i]},_Te={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ETe={any:[/1/i,/2/i,/3/i,/4/i]},TTe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},STe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},PTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ATe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},NTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},ITe={ordinalNumber:HN({matchPattern:vTe,parsePattern:xTe,valueCallback:t=>parseInt(t,10)}),era:Yr({matchPatterns:bTe,defaultMatchWidth:"wide",parsePatterns:wTe,defaultParseWidth:"any"}),quarter:Yr({matchPatterns:_Te,defaultMatchWidth:"wide",parsePatterns:ETe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yr({matchPatterns:TTe,defaultMatchWidth:"wide",parsePatterns:CTe,defaultParseWidth:"any"}),day:Yr({matchPatterns:STe,defaultMatchWidth:"wide",parsePatterns:PTe,defaultParseWidth:"any"}),dayPeriod:Yr({matchPatterns:ATe,defaultMatchWidth:"any",parsePatterns:NTe,defaultParseWidth:"any"})},b7={code:"en-US",formatDistance:tTe,formatLong:sTe,formatRelative:oTe,localize:pTe,match:ITe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jTe(t,e,n){const r=qEe(),i=n?.locale??r.locale??b7,s=2520,a=Pv(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:a});let l,d;a>0?(l=Pr(e),d=Pr(t)):(l=Pr(t),d=Pr(e));const f=ZEe(d,l),m=(OL(d)-OL(l))/1e3,p=Math.round((f-m)/60);let y;if(p<2)return n?.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,o):f<10?i.formatDistance("lessThanXSeconds",10,o):f<20?i.formatDistance("lessThanXSeconds",20,o):f<40?i.formatDistance("halfAMinute",0,o):f<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):p===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",p,o);if(p<45)return i.formatDistance("xMinutes",p,o);if(p<90)return i.formatDistance("aboutXHours",1,o);if(p<DL){const v=Math.round(p/60);return i.formatDistance("aboutXHours",v,o)}else{if(p<s)return i.formatDistance("xDays",1,o);if(p<Yy){const v=Math.round(p/DL);return i.formatDistance("xDays",v,o)}else if(p<Yy*2)return y=Math.round(p/Yy),i.formatDistance("aboutXMonths",y,o)}if(y=JEe(d,l),y<12){const v=Math.round(p/Yy);return i.formatDistance("xMonths",v,o)}else{const v=y%12,w=Math.trunc(y/12);return v<3?i.formatDistance("aboutXYears",w,o):v<9?i.formatDistance("overXYears",w,o):i.formatDistance("almostXYears",w+1,o)}}function kTe(t,e){return jTe(t,WEe(t),e)}const RTe={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},DTe=(t,e,n)=>{let r;const i=RTe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},OTe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},MTe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},LTe={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VTe={date:ao({formats:OTe,defaultWidth:"full"}),time:ao({formats:MTe,defaultWidth:"full"}),dateTime:ao({formats:LTe,defaultWidth:"full"})},FTe={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},BTe={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},zTe=(t,e,n,r)=>e.getHours()!==1?BTe[t]:FTe[t],UTe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},$Te={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},qTe={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},WTe={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},HTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},KTe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},GTe=(t,e)=>Number(t)+"",XTe={ordinalNumber:GTe,era:Xr({values:UTe,defaultWidth:"wide"}),quarter:Xr({values:$Te,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:Xr({values:qTe,defaultWidth:"wide"}),day:Xr({values:WTe,defaultWidth:"wide"}),dayPeriod:Xr({values:HTe,defaultWidth:"wide",formattingValues:KTe,defaultFormattingWidth:"wide"})},YTe=/^(\d+)()?/i,QTe=/\d+/i,JTe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},ZTe={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},eCe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},tCe={any:[/1/i,/2/i,/3/i,/4/i]},nCe={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},rCe={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},iCe={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},sCe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},aCe={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},oCe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},lCe={ordinalNumber:HN({matchPattern:YTe,parsePattern:QTe,valueCallback:function(t){return parseInt(t,10)}}),era:Yr({matchPatterns:JTe,defaultMatchWidth:"wide",parsePatterns:ZTe,defaultParseWidth:"any"}),quarter:Yr({matchPatterns:eCe,defaultMatchWidth:"wide",parsePatterns:tCe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yr({matchPatterns:nCe,defaultMatchWidth:"wide",parsePatterns:rCe,defaultParseWidth:"any"}),day:Yr({matchPatterns:iCe,defaultMatchWidth:"wide",parsePatterns:sCe,defaultParseWidth:"any"}),dayPeriod:Yr({matchPatterns:aCe,defaultMatchWidth:"any",parsePatterns:oCe,defaultParseWidth:"any"})},cCe={code:"es",formatDistance:DTe,formatLong:VTe,formatRelative:zTe,localize:XTe,match:lCe,options:{weekStartsOn:1,firstWeekContainsDate:1}},uCe={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},dCe=(t,e,n)=>{let r;const i=uCe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",String(e)),n?.addSuffix?n.comparison&&n.comparison>0?"em "+r:"h "+r:r},fCe={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},hCe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},mCe={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pCe={date:ao({formats:fCe,defaultWidth:"full"}),time:ao({formats:hCe,defaultWidth:"full"}),dateTime:ao({formats:mCe,defaultWidth:"full"})},gCe={lastWeek:t=>{const e=t.getDay();return"'"+(e===0||e===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},yCe=(t,e,n,r)=>{const i=gCe[t];return typeof i=="function"?i(e):i},vCe={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},xCe={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},bCe={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},wCe={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},_Ce={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},ECe={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},TCe=(t,e)=>{const n=Number(t);return e?.unit==="week"?n+"":n+""},CCe={ordinalNumber:TCe,era:Xr({values:vCe,defaultWidth:"wide"}),quarter:Xr({values:xCe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xr({values:bCe,defaultWidth:"wide"}),day:Xr({values:wCe,defaultWidth:"wide"}),dayPeriod:Xr({values:_Ce,defaultWidth:"wide",formattingValues:ECe,defaultFormattingWidth:"wide"})},SCe=/^(\d+)[o]?/i,PCe=/\d+/i,ACe={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},NCe={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},ICe={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},jCe={any:[/1/i,/2/i,/3/i,/4/i]},kCe={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},RCe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},DCe={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},OCe={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},MCe={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},LCe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},VCe={ordinalNumber:HN({matchPattern:SCe,parsePattern:PCe,valueCallback:t=>parseInt(t,10)}),era:Yr({matchPatterns:ACe,defaultMatchWidth:"wide",parsePatterns:NCe,defaultParseWidth:"any"}),quarter:Yr({matchPatterns:ICe,defaultMatchWidth:"wide",parsePatterns:jCe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yr({matchPatterns:kCe,defaultMatchWidth:"wide",parsePatterns:RCe,defaultParseWidth:"any"}),day:Yr({matchPatterns:DCe,defaultMatchWidth:"wide",parsePatterns:OCe,defaultParseWidth:"any"}),dayPeriod:Yr({matchPatterns:MCe,defaultMatchWidth:"any",parsePatterns:LCe,defaultParseWidth:"any"})},FCe={code:"pt-BR",formatDistance:dCe,formatLong:pCe,formatRelative:yCe,localize:CCe,match:VCe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function BCe({onNavigate:t}){const{user:e}=Dt(),{t:n,language:r}=xt(),[i,s]=E.useState("all"),[a,o]=E.useState([]),[l,d]=E.useState(!0);E.useEffect(()=>{f()},[e]);const f=async()=>{if(e)try{d(!0);const T=await Dxe(e.uid);o(T)}catch(T){console.error("Error loading notifications:",T)}finally{d(!1)}},m=(T,L)=>T==="transaction"?L?.type==="deposit"?os:L?.type==="withdrawal"?xu:L?.type==="conversion"?vz:os:T==="security"?_f:T==="alert"?jl:T==="info"?Nx:wm,p=[{label:n.filterAll,value:"all"},{label:n.filterTransactions,value:"transactions"},{label:n.filterSecurity,value:"security"},{label:n.filterUpdates,value:"updates"}],y=a.filter(T=>i==="all"?!0:i==="transactions"?T.type==="transaction":i==="security"?T.type==="security":i==="updates"?T.type==="info"||T.type==="alert":!0),v=a.filter(T=>!T.read).length,w=async T=>{try{await Oxe(T),o(a.map(L=>L.id===T?{...L,read:!0}:L))}catch(L){console.error("Error marking notification as read:",L)}},_=async()=>{if(e)try{await Mxe(e.uid),o(a.map(T=>({...T,read:!0})))}catch(T){console.error("Error marking all notifications as read:",T)}};return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-xl font-bold",children:n.notificationsTitle}),v>0&&c.jsx("p",{className:"text-xs text-gray-400",children:n.unreadMessages.replace("{count}",String(v)).replace("{plural}",v>1?"s":"")})]})]}),v>0&&c.jsx("button",{onClick:_,className:"text-sm text-white/70 hover:text-white transition-colors",children:n.markAll})]}),c.jsx("div",{className:"flex gap-2 overflow-x-auto hide-scrollbar snap-x snap-mandatory",children:p.map(T=>c.jsx("button",{onClick:()=>s(T.value),className:`px-4 py-2 rounded-full whitespace-nowrap transition-colors snap-start flex-shrink-0 ${i===T.value?"bg-white text-black":"bg-zinc-900 text-gray-400 hover:bg-zinc-800"}`,children:T.label},T.value))})]}),c.jsx("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:l?c.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-900 flex items-center justify-center mb-4",children:c.jsx(wm,{className:"w-8 h-8 text-gray-600"})}),c.jsx("h3",{className:"font-semibold mb-2",children:n.loading}),c.jsx("p",{className:"text-sm text-gray-400 text-center",children:n.loadingNotifications})]}):y.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-zinc-900 flex items-center justify-center mb-4",children:c.jsx(wm,{className:"w-8 h-8 text-gray-600"})}),c.jsx("h3",{className:"font-semibold mb-2",children:n.noNotificationsTitle}),c.jsx("p",{className:"text-sm text-gray-400 text-center",children:n.noNotificationsDesc})]}):c.jsx("div",{className:"space-y-2",children:y.map(T=>{const L=m(T.type,T.metadata),O=T.read?"text-white/70":"text-white";return c.jsx("button",{onClick:()=>w(T.id),className:`w-full p-4 rounded-2xl transition-colors text-left ${T.read?"bg-zinc-900/50 hover:bg-zinc-900":"bg-zinc-900 hover:bg-zinc-800"}`,children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center flex-shrink-0",children:c.jsx(L,{className:`w-5 h-5 ${O}`})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[c.jsx("h3",{className:`font-semibold ${T.read?"text-gray-300":"text-white"}`,children:T.title}),!T.read&&c.jsx("div",{className:"w-2 h-2 rounded-full bg-white flex-shrink-0 mt-1.5"})]}),c.jsx("p",{className:"text-sm text-gray-400 mb-1",children:T.message}),c.jsx("p",{className:"text-xs text-gray-500",children:kTe(new Date(T.timestamp),{locale:r==="pt"?FCe:r==="es"?cCe:b7,addSuffix:!0})})]})]})},T.id)})})}),c.jsx("div",{className:"px-6 pb-6 space-y-3",children:c.jsxs("button",{onClick:()=>t("pushSettings"),className:"w-full py-3 rounded-2xl bg-zinc-900 hover:bg-zinc-800 transition-colors text-sm flex items-center justify-center gap-2",children:[c.jsx(ts,{className:"w-4 h-4"}),c.jsx("span",{children:n.pushSettingsButton})]})})]})}function zCe({onNavigate:t}){const{t:e}=xt(),[n,r]=E.useState(!0),[i,s]=E.useState(!0),[a,o]=E.useState(!0),[l,d]=E.useState(!0),[f,m]=E.useState(!0),[p,y]=E.useState(!0),[v,w]=E.useState(!0),[_,T]=E.useState(!1),[L,O]=E.useState(!1),z=[{title:e.pushSettingsPage.sections.general,items:[{icon:wm,label:e.pushSettingsPage.items.enablePush,description:e.pushSettingsPage.items.enablePushDesc,value:n,onChange:r,main:!0}]},{title:e.pushSettingsPage.sections.transactions,items:[{icon:os,label:e.pushSettingsPage.items.allTransactions,description:e.pushSettingsPage.items.allTransactionsDesc,value:i,onChange:s,disabled:!n},{icon:os,label:e.pushSettingsPage.items.deposits,description:e.pushSettingsPage.items.depositsDesc,value:a,onChange:o,disabled:!n||!i,nested:!0},{icon:xu,label:e.pushSettingsPage.items.withdrawals,description:e.pushSettingsPage.items.withdrawalsDesc,value:l,onChange:d,disabled:!n||!i,nested:!0}]},{title:e.pushSettingsPage.sections.security,items:[{icon:_f,label:e.pushSettingsPage.items.securityAlerts,description:e.pushSettingsPage.items.securityAlertsDesc,value:f,onChange:m,disabled:!n},{icon:ts,label:e.pushSettingsPage.items.newDevices,description:e.pushSettingsPage.items.newDevicesDesc,value:p,onChange:y,disabled:!n||!f,nested:!0},{icon:jl,label:e.pushSettingsPage.items.suspiciousActivity,description:e.pushSettingsPage.items.suspiciousActivityDesc,value:v,onChange:w,disabled:!n||!f,nested:!0}]},{title:e.pushSettingsPage.sections.market,items:[{icon:vte,label:e.pushSettingsPage.items.priceAlerts,description:e.pushSettingsPage.items.priceAlertsDesc,value:_,onChange:T,disabled:!n},{icon:wf,label:e.pushSettingsPage.items.marketNews,description:e.pushSettingsPage.items.marketNewsDesc,value:L,onChange:O,disabled:!n}]}];return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[c.jsx("header",{className:"px-6 pt-6 pb-4",children:c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("button",{onClick:()=>t("notifications"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold",children:e.pushSettingsPage.title})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[c.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ts,{className:"w-5 h-5 text-white/70 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold mb-1",children:e.pushSettingsPage.keepInformed}),c.jsx("p",{className:"text-sm text-gray-400",children:e.pushSettingsPage.keepInformedDesc})]})]})}),c.jsx("div",{className:"space-y-6",children:z.map((j,P)=>c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs text-gray-400 font-semibold mb-2 px-1",children:j.title}),c.jsx("div",{className:"bg-zinc-900 rounded-2xl overflow-hidden",children:j.items.map((C,S)=>{const k=C.icon,A=C.disabled||!1;return c.jsxs("div",{children:[c.jsx("div",{className:`px-4 py-3 ${C.nested?"pl-12":""} ${A?"opacity-50":""}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[c.jsx(k,{className:"w-5 h-5 mt-0.5 flex-shrink-0 text-gray-400"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:C.label}),c.jsx("div",{className:"text-xs text-gray-400 mt-0.5",children:C.description})]})]}),c.jsx("button",{onClick:()=>!A&&C.onChange(!C.value),disabled:A,className:`w-12 h-6 rounded-full transition-colors flex-shrink-0 ml-3 ${A?"cursor-not-allowed":""} ${C.value&&!A?"bg-white/20":"bg-zinc-700"}`,children:c.jsx("div",{className:`w-5 h-5 bg-white rounded-full mt-0.5 transition-transform ${C.value?"translate-x-6":"translate-x-0.5"}`})})]})}),S<j.items.length-1&&c.jsx("div",{className:"h-px bg-zinc-800 mx-4"})]},C.label)})})]},P))}),c.jsx("div",{className:"mt-6 p-4 bg-zinc-900 rounded-2xl",children:c.jsxs("p",{className:"text-xs text-gray-400 leading-relaxed",children:[c.jsx("strong",{className:"text-white",children:e.pushSettingsPage.tipTitle})," ",e.pushSettingsPage.tipContent]})})]})]})}function UCe({onNavigate:t}){const{t:e}=xt(),[n,r]=E.useState("options"),[i,s]=E.useState(""),[a,o]=E.useState(""),[l,d]=E.useState(""),[f,m]=E.useState([]),[p,y]=E.useState(3),[v,w]=E.useState(null),[_,T]=E.useState(!1),L=E.useRef(null);E.useEffect(()=>{L.current?.scrollIntoView({behavior:"smooth"})},[f,_]);const O=[{question:e.helpCenterPage.faqs.deposit.q,answer:e.helpCenterPage.faqs.deposit.a},{question:e.helpCenterPage.faqs.withdraw.q,answer:e.helpCenterPage.faqs.withdraw.a},{question:e.helpCenterPage.faqs.fees.q,answer:e.helpCenterPage.faqs.fees.a},{question:e.helpCenterPage.faqs.security.q,answer:e.helpCenterPage.faqs.security.a}],z=()=>{i&&a&&(alert(e.helpCenterPage.emailSent),s(""),o(""),r("options"))},j=()=>{r("waiting"),setTimeout(()=>{y(2)},3e3),setTimeout(()=>{y(1)},6e3),setTimeout(()=>{m([{sender:"system",text:e.helpCenterPage.connectedWithAgent,time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})},{sender:"agent",text:e.helpCenterPage.agentGreeting,time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}]),r("chatActive")},9e3)},P=()=>{if(l.trim()){const D={sender:"user",text:l,time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};m([...f,D]),d(""),T(!0),setTimeout(()=>{const M={sender:"agent",text:e.helpCenterPage.agentResponse,time:new Date().toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})};m(I=>[...I,M]),T(!1)},4e3)}},C=()=>c.jsxs("div",{className:"px-6 space-y-4",children:[c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("h2",{className:"font-semibold mb-2",children:e.helpCenterPage.howCanWeHelp}),c.jsx("p",{className:"text-sm text-gray-400",children:e.helpCenterPage.chooseOption})]}),c.jsx("button",{onClick:()=>r("email"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:c.jsx(wf,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold mb-1",children:e.helpCenterPage.sendEmail}),c.jsx("p",{className:"text-sm text-gray-400",children:e.helpCenterPage.sendEmailDesc})]})]})}),c.jsx("button",{onClick:j,className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:c.jsx(Tte,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold mb-1",children:e.helpCenterPage.liveChat}),c.jsx("p",{className:"text-sm text-gray-400",children:e.helpCenterPage.liveChatDesc}),c.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),c.jsx("span",{className:"text-xs text-green-500",children:e.helpCenterPage.availableNow})]})]})]})}),c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("h3",{className:"font-semibold mb-3 text-sm",children:e.helpCenterPage.faq}),c.jsx("div",{className:"space-y-2",children:O.map((D,M)=>c.jsxs("div",{children:[c.jsx("button",{onClick:()=>w(v===M?null:M),className:"w-full text-left text-sm text-gray-400 hover:text-white transition-colors py-2",children:D.question}),v===M&&c.jsx("div",{className:"mt-2 mb-2 bg-black rounded-xl p-3",children:c.jsx("p",{className:"text-xs text-gray-400",children:D.answer})})]},M))})]})]}),S=()=>c.jsxs("div",{className:"px-6 space-y-4",children:[c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("h2",{className:"font-semibold mb-2",children:e.helpCenterPage.sendEmail}),c.jsx("p",{className:"text-sm text-gray-400",children:e.helpCenterPage.chooseOption})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:e.helpCenterPage.subject}),c.jsx("input",{type:"text",value:i,onChange:D=>s(D.target.value),placeholder:e.helpCenterPage.enterSubject,className:"w-full bg-zinc-900 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:e.helpCenterPage.message}),c.jsx("textarea",{value:a,onChange:D=>o(D.target.value),placeholder:e.helpCenterPage.enterMessage,rows:6,className:"w-full bg-zinc-900 rounded-xl px-4 py-3 text-sm focus:outline-none focus:ring-2 focus:ring-green-500 resize-none"})]}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>r("options"),className:"flex-1 py-3 rounded-xl bg-zinc-900 hover:bg-zinc-800 transition-colors",children:e.helpCenterPage.cancel}),c.jsx("button",{onClick:z,disabled:!i||!a,className:"flex-1 py-3 rounded-xl bg-green-500 hover:bg-green-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.helpCenterPage.send})]})]})]}),k=()=>c.jsx("div",{className:"px-6",children:c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-8 text-center",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-4",children:c.jsx(Um,{className:"w-8 h-8 text-green-500 animate-pulse"})}),c.jsx("h2",{className:"font-semibold mb-2",children:e.helpCenterPage.waitingSupport}),c.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e.helpCenterPage.youAreInQueue}),c.jsxs("div",{className:"bg-black rounded-xl p-4 mb-4",children:[c.jsx("div",{className:"text-3xl font-bold text-green-500 mb-1",children:p}),c.jsx("div",{className:"text-xs text-gray-400",children:e.helpCenterPage.peopleAhead})]}),c.jsx("button",{onClick:()=>r("options"),className:"w-full py-3 rounded-xl bg-zinc-800 hover:bg-zinc-700 transition-colors",children:e.helpCenterPage.cancel})]})}),A=()=>c.jsxs("div",{className:"flex flex-col h-[calc(100vh-140px)]",children:[c.jsx("div",{className:"px-6 pb-4 bg-zinc-900 flex-shrink-0",children:c.jsxs("div",{className:"flex items-center gap-3 py-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-orange-500 to-purple-500 flex items-center justify-center",children:c.jsx(jP,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-semibold text-sm",children:e.helpCenterPage.agentName}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),c.jsx("span",{className:"text-xs text-gray-400",children:e.helpCenterPage.online})]})]})]})}),c.jsxs("div",{className:"flex-1 overflow-y-auto px-6 py-4 space-y-4 hide-scrollbar min-h-0",children:[f.map((D,M)=>c.jsx("div",{children:D.sender==="system"?c.jsx("div",{className:"text-center",children:c.jsx("span",{className:"text-xs text-gray-500 bg-zinc-900 px-3 py-1 rounded-full",children:D.text})}):c.jsx("div",{className:`flex ${D.sender==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-[75%] ${D.sender==="user"?"bg-white text-black":"bg-zinc-900"} rounded-2xl px-4 py-2.5`,children:[c.jsx("p",{className:"text-xs",children:D.text}),c.jsx("span",{className:"text-[10px] opacity-70 mt-1 block",children:D.time})]})})},M)),_&&c.jsx("div",{className:"flex justify-start",children:c.jsxs("div",{className:"max-w-[75%] bg-zinc-900 rounded-2xl px-4 py-3 flex items-center gap-1",children:[c.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms",animationDuration:"1s"}}),c.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms",animationDuration:"1s"}}),c.jsx("div",{className:"w-1 h-1 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms",animationDuration:"1s"}})]})}),c.jsx("div",{ref:L})]}),c.jsx("div",{className:"px-6 pb-6 pt-4 border-t border-zinc-900 flex-shrink-0",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:l,onChange:D=>d(D.target.value),onKeyPress:D=>D.key==="Enter"&&P(),placeholder:e.helpCenterPage.typeMessage,className:"flex-1 bg-zinc-900 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-orange-500"}),c.jsx("button",{onClick:P,disabled:!l.trim(),className:"w-12 h-12 rounded-xl bg-white hover:bg-gray-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:c.jsx(Ate,{className:"w-5 h-5 text-black"})})]})})]});return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[c.jsx("header",{className:"px-6 pt-6 pb-4",children:c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("button",{onClick:()=>n==="options"?t("profile"):r("options"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold",children:e.helpCenterPage.title})]})}),c.jsxs("div",{className:"flex-1 pb-24",children:[n==="options"&&C(),n==="email"&&S(),n==="waiting"&&k(),n==="chatActive"&&A()]})]})}function $Ce({onNavigate:t}){const{t:e}=xt(),n=e.termsAndConditionsPage.sections;return c.jsxs("div",{className:"min-h-screen bg-black text-white",children:[c.jsx("header",{className:"px-6 pt-6 pb-4 sticky top-0 bg-black z-10",children:c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold",children:e.termsAndConditionsPage.title})]})}),c.jsxs("div",{className:"px-6 pb-24 space-y-6",children:[c.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:c.jsx("p",{className:"text-xs text-gray-400",children:e.termsAndConditionsPage.lastUpdate})}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[1].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[1].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[2].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[2].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[3].title}),c.jsx("div",{className:"space-y-2 text-sm text-gray-400",children:n[3].content.map((r,i)=>c.jsx("p",{className:"leading-relaxed",children:r},i))})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[4].title}),c.jsxs("div",{className:"space-y-2 text-sm text-gray-400",children:[c.jsx("p",{className:"leading-relaxed font-semibold text-white",children:n[4].content}),n[4].items.map((r,i)=>c.jsx("p",{className:"leading-relaxed",children:r},i))]})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[5].title}),c.jsx("div",{className:"space-y-2 text-sm text-gray-400",children:n[5].items.map((r,i)=>c.jsx("p",{className:"leading-relaxed",children:r},i))})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[6].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[6].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[7].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[7].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[8].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[8].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[9].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[9].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[10].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[10].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[11].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[11].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[12].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[12].content})]}),c.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-8",children:c.jsx("p",{className:"text-xs text-gray-400 text-center",children:e.termsAndConditionsPage.agreement})})]})]})}function qCe({onNavigate:t}){const{t:e}=xt(),n=e.privacyPolicyPage.sections;return c.jsxs("div",{className:"min-h-screen bg-black text-white",children:[c.jsx("header",{className:"px-6 pt-6 pb-4 sticky top-0 bg-black z-10",children:c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold",children:e.privacyPolicyPage.title})]})}),c.jsxs("div",{className:"px-6 pb-24 space-y-6",children:[c.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:c.jsx("p",{className:"text-xs text-gray-400",children:e.privacyPolicyPage.lastUpdate})}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[1].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[1].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[2].title}),c.jsx("div",{className:"space-y-3 text-sm text-gray-400",children:n[2].items.map((r,i)=>c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-white mb-1",children:r.title}),c.jsx("p",{className:"leading-relaxed",children:r.content})]},i))})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[3].title}),c.jsx("div",{className:"space-y-2 text-sm text-gray-400",children:n[3].content.map((r,i)=>c.jsx("p",{className:"leading-relaxed",children:r},i))})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[4].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[4].intro}),c.jsx("div",{className:"space-y-2 text-sm text-gray-400",children:n[4].content.map((r,i)=>c.jsx("p",{className:"leading-relaxed",children:r},i))})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[5].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[5].intro}),c.jsx("div",{className:"space-y-2 text-sm text-gray-400",children:n[5].content.map((r,i)=>c.jsx("p",{className:"leading-relaxed",children:r},i))})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[6].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[6].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[7].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[7].intro}),c.jsx("div",{className:"space-y-2 text-sm text-gray-400",children:n[7].content.map((r,i)=>c.jsx("p",{className:"leading-relaxed",children:r},i))})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[8].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[8].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[9].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[9].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[10].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[10].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[11].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[11].content})]}),c.jsxs("section",{className:"space-y-3",children:[c.jsx("h2",{className:"text-lg font-semibold",children:n[12].title}),c.jsx("p",{className:"text-sm text-gray-400 leading-relaxed",children:n[12].content})]}),c.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-8",children:c.jsx("p",{className:"text-xs text-gray-400 text-center",children:e.privacyPolicyPage.agreement})})]})]})}function WCe({onNavigate:t}){const{t:e}=xt();return c.jsxs("div",{className:"min-h-screen bg-black text-white",children:[c.jsx("header",{className:"px-6 pt-6 pb-4",children:c.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[c.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 flex items-center justify-center rounded-full bg-zinc-900 hover:bg-zinc-800 transition-colors",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold",children:e.termsMenuPage.title})]})}),c.jsxs("div",{className:"px-6 space-y-4",children:[c.jsx("button",{onClick:()=>t("termsAndConditions"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:c.jsx(gz,{className:"w-6 h-6 text-blue-500"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold mb-1",children:e.termsMenuPage.termsOfUse}),c.jsx("p",{className:"text-sm text-gray-400",children:e.termsMenuPage.termsDesc})]})]})}),c.jsx("button",{onClick:()=>t("privacyPolicy"),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 text-left",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500/20 flex items-center justify-center flex-shrink-0",children:c.jsx(Cl,{className:"w-6 h-6 text-purple-500"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold mb-1",children:e.termsMenuPage.privacyPolicy}),c.jsx("p",{className:"text-sm text-gray-400",children:e.termsMenuPage.privacyDesc})]})]})}),c.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 mt-6",children:c.jsx("p",{className:"text-xs text-gray-400",children:e.termsMenuPage.lastUpdate})})]})]})}var kd={},SE={exports:{}},PE,ML;function HCe(){if(ML)return PE;ML=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return PE=t,PE}var AE,LL;function KCe(){if(LL)return AE;LL=1;var t=HCe();function e(){}function n(){}return n.resetWarningCache=e,AE=function(){function r(a,o,l,d,f,m){if(m!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},AE}var VL;function w7(){return VL||(VL=1,SE.exports=KCe()()),SE.exports}var NE,FL;function _7(){return FL||(FL=1,NE={L:1,M:0,Q:3,H:2}),NE}var IE,BL;function E7(){return BL||(BL=1,IE={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}),IE}var jE,zL;function GCe(){if(zL)return jE;zL=1;var t=E7();function e(n){this.mode=t.MODE_8BIT_BYTE,this.data=n}return e.prototype={getLength:function(n){return this.data.length},write:function(n){for(var r=0;r<this.data.length;r++)n.put(this.data.charCodeAt(r),8)}},jE=e,jE}var kE,UL;function XCe(){if(UL)return kE;UL=1;var t=_7();function e(n,r){this.totalCount=n,this.dataCount=r}return e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(n,r){var i=e.getRsBlockTable(n,r);if(i==null)throw new Error("bad rs block @ typeNumber:"+n+"/errorCorrectLevel:"+r);for(var s=i.length/3,a=new Array,o=0;o<s;o++)for(var l=i[o*3+0],d=i[o*3+1],f=i[o*3+2],m=0;m<l;m++)a.push(new e(d,f));return a},e.getRsBlockTable=function(n,r){switch(r){case t.L:return e.RS_BLOCK_TABLE[(n-1)*4+0];case t.M:return e.RS_BLOCK_TABLE[(n-1)*4+1];case t.Q:return e.RS_BLOCK_TABLE[(n-1)*4+2];case t.H:return e.RS_BLOCK_TABLE[(n-1)*4+3];default:return}},kE=e,kE}var RE,$L;function YCe(){if($L)return RE;$L=1;function t(){this.buffer=new Array,this.length=0}return t.prototype={get:function(e){var n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)==1},put:function(e,n){for(var r=0;r<n;r++)this.putBit((e>>>n-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},RE=t,RE}var DE,qL;function T7(){if(qL)return DE;qL=1;for(var t={glog:function(n){if(n<1)throw new Error("glog("+n+")");return t.LOG_TABLE[n]},gexp:function(n){for(;n<0;)n+=255;for(;n>=256;)n-=255;return t.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},e=0;e<8;e++)t.EXP_TABLE[e]=1<<e;for(var e=8;e<256;e++)t.EXP_TABLE[e]=t.EXP_TABLE[e-4]^t.EXP_TABLE[e-5]^t.EXP_TABLE[e-6]^t.EXP_TABLE[e-8];for(var e=0;e<255;e++)t.LOG_TABLE[t.EXP_TABLE[e]]=e;return DE=t,DE}var OE,WL;function C7(){if(WL)return OE;WL=1;var t=T7();function e(n,r){if(n.length==null)throw new Error(n.length+"/"+r);for(var i=0;i<n.length&&n[i]==0;)i++;this.num=new Array(n.length-i+r);for(var s=0;s<n.length-i;s++)this.num[s]=n[s+i]}return e.prototype={get:function(n){return this.num[n]},getLength:function(){return this.num.length},multiply:function(n){for(var r=new Array(this.getLength()+n.getLength()-1),i=0;i<this.getLength();i++)for(var s=0;s<n.getLength();s++)r[i+s]^=t.gexp(t.glog(this.get(i))+t.glog(n.get(s)));return new e(r,0)},mod:function(n){if(this.getLength()-n.getLength()<0)return this;for(var r=t.glog(this.get(0))-t.glog(n.get(0)),i=new Array(this.getLength()),s=0;s<this.getLength();s++)i[s]=this.get(s);for(var s=0;s<n.getLength();s++)i[s]^=t.gexp(t.glog(n.get(s))+r);return new e(i,0).mod(n)}},OE=e,OE}var ME,HL;function QCe(){if(HL)return ME;HL=1;var t=E7(),e=C7(),n=T7(),r={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},i={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(s){for(var a=s<<10;i.getBCHDigit(a)-i.getBCHDigit(i.G15)>=0;)a^=i.G15<<i.getBCHDigit(a)-i.getBCHDigit(i.G15);return(s<<10|a)^i.G15_MASK},getBCHTypeNumber:function(s){for(var a=s<<12;i.getBCHDigit(a)-i.getBCHDigit(i.G18)>=0;)a^=i.G18<<i.getBCHDigit(a)-i.getBCHDigit(i.G18);return s<<12|a},getBCHDigit:function(s){for(var a=0;s!=0;)a++,s>>>=1;return a},getPatternPosition:function(s){return i.PATTERN_POSITION_TABLE[s-1]},getMask:function(s,a,o){switch(s){case r.PATTERN000:return(a+o)%2==0;case r.PATTERN001:return a%2==0;case r.PATTERN010:return o%3==0;case r.PATTERN011:return(a+o)%3==0;case r.PATTERN100:return(Math.floor(a/2)+Math.floor(o/3))%2==0;case r.PATTERN101:return a*o%2+a*o%3==0;case r.PATTERN110:return(a*o%2+a*o%3)%2==0;case r.PATTERN111:return(a*o%3+(a+o)%2)%2==0;default:throw new Error("bad maskPattern:"+s)}},getErrorCorrectPolynomial:function(s){for(var a=new e([1],0),o=0;o<s;o++)a=a.multiply(new e([1,n.gexp(o)],0));return a},getLengthInBits:function(s,a){if(1<=a&&a<10)switch(s){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw new Error("mode:"+s)}else if(a<27)switch(s){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw new Error("mode:"+s)}else if(a<41)switch(s){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw new Error("mode:"+s)}else throw new Error("type:"+a)},getLostPoint:function(s){for(var a=s.getModuleCount(),o=0,l=0;l<a;l++)for(var d=0;d<a;d++){for(var f=0,m=s.isDark(l,d),p=-1;p<=1;p++)if(!(l+p<0||a<=l+p))for(var y=-1;y<=1;y++)d+y<0||a<=d+y||p==0&&y==0||m==s.isDark(l+p,d+y)&&f++;f>5&&(o+=3+f-5)}for(var l=0;l<a-1;l++)for(var d=0;d<a-1;d++){var v=0;s.isDark(l,d)&&v++,s.isDark(l+1,d)&&v++,s.isDark(l,d+1)&&v++,s.isDark(l+1,d+1)&&v++,(v==0||v==4)&&(o+=3)}for(var l=0;l<a;l++)for(var d=0;d<a-6;d++)s.isDark(l,d)&&!s.isDark(l,d+1)&&s.isDark(l,d+2)&&s.isDark(l,d+3)&&s.isDark(l,d+4)&&!s.isDark(l,d+5)&&s.isDark(l,d+6)&&(o+=40);for(var d=0;d<a;d++)for(var l=0;l<a-6;l++)s.isDark(l,d)&&!s.isDark(l+1,d)&&s.isDark(l+2,d)&&s.isDark(l+3,d)&&s.isDark(l+4,d)&&!s.isDark(l+5,d)&&s.isDark(l+6,d)&&(o+=40);for(var w=0,d=0;d<a;d++)for(var l=0;l<a;l++)s.isDark(l,d)&&w++;var _=Math.abs(100*w/a/a-50)/5;return o+=_*10,o}};return ME=i,ME}var LE,KL;function JCe(){if(KL)return LE;KL=1;var t=GCe(),e=XCe(),n=YCe(),r=QCe(),i=C7();function s(o,l){this.typeNumber=o,this.errorCorrectLevel=l,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var a=s.prototype;return a.addData=function(o){var l=new t(o);this.dataList.push(l),this.dataCache=null},a.isDark=function(o,l){if(o<0||this.moduleCount<=o||l<0||this.moduleCount<=l)throw new Error(o+","+l);return this.modules[o][l]},a.getModuleCount=function(){return this.moduleCount},a.make=function(){if(this.typeNumber<1){var o=1;for(o=1;o<40;o++){for(var l=e.getRSBlocks(o,this.errorCorrectLevel),d=new n,f=0,m=0;m<l.length;m++)f+=l[m].dataCount;for(var m=0;m<this.dataList.length;m++){var p=this.dataList[m];d.put(p.mode,4),d.put(p.getLength(),r.getLengthInBits(p.mode,o)),p.write(d)}if(d.getLengthInBits()<=f*8)break}this.typeNumber=o}this.makeImpl(!1,this.getBestMaskPattern())},a.makeImpl=function(o,l){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++)this.modules[d][f]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(o,l),this.typeNumber>=7&&this.setupTypeNumber(o),this.dataCache==null&&(this.dataCache=s.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,l)},a.setupPositionProbePattern=function(o,l){for(var d=-1;d<=7;d++)if(!(o+d<=-1||this.moduleCount<=o+d))for(var f=-1;f<=7;f++)l+f<=-1||this.moduleCount<=l+f||(0<=d&&d<=6&&(f==0||f==6)||0<=f&&f<=6&&(d==0||d==6)||2<=d&&d<=4&&2<=f&&f<=4?this.modules[o+d][l+f]=!0:this.modules[o+d][l+f]=!1)},a.getBestMaskPattern=function(){for(var o=0,l=0,d=0;d<8;d++){this.makeImpl(!0,d);var f=r.getLostPoint(this);(d==0||o>f)&&(o=f,l=d)}return l},a.createMovieClip=function(o,l,d){var f=o.createEmptyMovieClip(l,d),m=1;this.make();for(var p=0;p<this.modules.length;p++)for(var y=p*m,v=0;v<this.modules[p].length;v++){var w=v*m,_=this.modules[p][v];_&&(f.beginFill(0,100),f.moveTo(w,y),f.lineTo(w+m,y),f.lineTo(w+m,y+m),f.lineTo(w,y+m),f.endFill())}return f},a.setupTimingPattern=function(){for(var o=8;o<this.moduleCount-8;o++)this.modules[o][6]==null&&(this.modules[o][6]=o%2==0);for(var l=8;l<this.moduleCount-8;l++)this.modules[6][l]==null&&(this.modules[6][l]=l%2==0)},a.setupPositionAdjustPattern=function(){for(var o=r.getPatternPosition(this.typeNumber),l=0;l<o.length;l++)for(var d=0;d<o.length;d++){var f=o[l],m=o[d];if(this.modules[f][m]==null)for(var p=-2;p<=2;p++)for(var y=-2;y<=2;y++)p==-2||p==2||y==-2||y==2||p==0&&y==0?this.modules[f+p][m+y]=!0:this.modules[f+p][m+y]=!1}},a.setupTypeNumber=function(o){for(var l=r.getBCHTypeNumber(this.typeNumber),d=0;d<18;d++){var f=!o&&(l>>d&1)==1;this.modules[Math.floor(d/3)][d%3+this.moduleCount-8-3]=f}for(var d=0;d<18;d++){var f=!o&&(l>>d&1)==1;this.modules[d%3+this.moduleCount-8-3][Math.floor(d/3)]=f}},a.setupTypeInfo=function(o,l){for(var d=this.errorCorrectLevel<<3|l,f=r.getBCHTypeInfo(d),m=0;m<15;m++){var p=!o&&(f>>m&1)==1;m<6?this.modules[m][8]=p:m<8?this.modules[m+1][8]=p:this.modules[this.moduleCount-15+m][8]=p}for(var m=0;m<15;m++){var p=!o&&(f>>m&1)==1;m<8?this.modules[8][this.moduleCount-m-1]=p:m<9?this.modules[8][15-m-1+1]=p:this.modules[8][15-m-1]=p}this.modules[this.moduleCount-8][8]=!o},a.mapData=function(o,l){for(var d=-1,f=this.moduleCount-1,m=7,p=0,y=this.moduleCount-1;y>0;y-=2)for(y==6&&y--;;){for(var v=0;v<2;v++)if(this.modules[f][y-v]==null){var w=!1;p<o.length&&(w=(o[p]>>>m&1)==1);var _=r.getMask(l,f,y-v);_&&(w=!w),this.modules[f][y-v]=w,m--,m==-1&&(p++,m=7)}if(f+=d,f<0||this.moduleCount<=f){f-=d,d=-d;break}}},s.PAD0=236,s.PAD1=17,s.createData=function(o,l,d){for(var f=e.getRSBlocks(o,l),m=new n,p=0;p<d.length;p++){var y=d[p];m.put(y.mode,4),m.put(y.getLength(),r.getLengthInBits(y.mode,o)),y.write(m)}for(var v=0,p=0;p<f.length;p++)v+=f[p].dataCount;if(m.getLengthInBits()>v*8)throw new Error("code length overflow. ("+m.getLengthInBits()+">"+v*8+")");for(m.getLengthInBits()+4<=v*8&&m.put(0,4);m.getLengthInBits()%8!=0;)m.putBit(!1);for(;!(m.getLengthInBits()>=v*8||(m.put(s.PAD0,8),m.getLengthInBits()>=v*8));)m.put(s.PAD1,8);return s.createBytes(m,f)},s.createBytes=function(o,l){for(var d=0,f=0,m=0,p=new Array(l.length),y=new Array(l.length),v=0;v<l.length;v++){var w=l[v].dataCount,_=l[v].totalCount-w;f=Math.max(f,w),m=Math.max(m,_),p[v]=new Array(w);for(var T=0;T<p[v].length;T++)p[v][T]=255&o.buffer[T+d];d+=w;var L=r.getErrorCorrectPolynomial(_),O=new i(p[v],L.getLength()-1),z=O.mod(L);y[v]=new Array(L.getLength()-1);for(var T=0;T<y[v].length;T++){var j=T+z.getLength()-y[v].length;y[v][T]=j>=0?z.get(j):0}}for(var P=0,T=0;T<l.length;T++)P+=l[T].totalCount;for(var C=new Array(P),S=0,T=0;T<f;T++)for(var v=0;v<l.length;v++)T<p[v].length&&(C[S++]=p[v][T]);for(var T=0;T<m;T++)for(var v=0;v<l.length;v++)T<y[v].length&&(C[S++]=y[v][T]);return C},LE=s,LE}var Qy={},GL;function ZCe(){if(GL)return Qy;GL=1,Object.defineProperty(Qy,"__esModule",{value:!0});var t=Object.assign||function(d){for(var f=1;f<arguments.length;f++){var m=arguments[f];for(var p in m)Object.prototype.hasOwnProperty.call(m,p)&&(d[p]=m[p])}return d},e=w7(),n=s(e),r=ni(),i=s(r);function s(d){return d&&d.__esModule?d:{default:d}}function a(d,f){var m={};for(var p in d)f.indexOf(p)>=0||Object.prototype.hasOwnProperty.call(d,p)&&(m[p]=d[p]);return m}var o={bgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,bgD:n.default.string.isRequired,fgColor:n.default.oneOfType([n.default.object,n.default.string]).isRequired,fgD:n.default.string.isRequired,size:n.default.number.isRequired,title:n.default.string,viewBoxSize:n.default.number.isRequired,xmlns:n.default.string},l=(0,r.forwardRef)(function(d,f){var m=d.bgColor,p=d.bgD,y=d.fgD,v=d.fgColor,w=d.size,_=d.title,T=d.viewBoxSize,L=d.xmlns,O=L===void 0?"http://www.w3.org/2000/svg":L,z=a(d,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return i.default.createElement("svg",t({},z,{height:w,ref:f,viewBox:"0 0 "+T+" "+T,width:w,xmlns:O}),_?i.default.createElement("title",null,_):null,i.default.createElement("path",{d:p,fill:m}),i.default.createElement("path",{d:y,fill:v}))});return l.displayName="QRCodeSvg",l.propTypes=o,Qy.default=l,Qy}var XL;function eSe(){if(XL)return kd;XL=1,Object.defineProperty(kd,"__esModule",{value:!0}),kd.QRCode=void 0;var t=Object.assign||function(w){for(var _=1;_<arguments.length;_++){var T=arguments[_];for(var L in T)Object.prototype.hasOwnProperty.call(T,L)&&(w[L]=T[L])}return w},e=w7(),n=m(e),r=_7(),i=m(r),s=JCe(),a=m(s),o=ni(),l=m(o),d=ZCe(),f=m(d);function m(w){return w&&w.__esModule?w:{default:w}}function p(w,_){var T={};for(var L in w)_.indexOf(L)>=0||Object.prototype.hasOwnProperty.call(w,L)&&(T[L]=w[L]);return T}var y={bgColor:n.default.oneOfType([n.default.object,n.default.string]),fgColor:n.default.oneOfType([n.default.object,n.default.string]),level:n.default.string,size:n.default.number,value:n.default.string.isRequired},v=(0,o.forwardRef)(function(w,_){var T=w.bgColor,L=T===void 0?"#FFFFFF":T,O=w.fgColor,z=O===void 0?"#000000":O,j=w.level,P=j===void 0?"L":j,C=w.size,S=C===void 0?256:C,k=w.value,A=p(w,["bgColor","fgColor","level","size","value"]),D=new a.default(-1,i.default[P]);D.addData(k),D.make();var M=D.modules;return l.default.createElement(f.default,t({},A,{bgColor:L,bgD:M.map(function(I,K){return I.map(function(Y,J){return Y?"":"M "+J+" "+K+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:z,fgD:M.map(function(I,K){return I.map(function(Y,J){return Y?"M "+J+" "+K+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:_,size:S,viewBoxSize:M.length}))});return kd.QRCode=v,v.displayName="QRCode",v.propTypes=y,kd.default=v,kd}var tSe=eSe();const nSe=Ei(tSe);function rSe({onNavigate:t}){const[e,n]=E.useState(""),[r,i]=E.useState(null),[s,a]=E.useState("Ethereum"),[o,l]=E.useState(!1),[d,f]=E.useState(!1),{prices:m}=Ti(),{portfolio:p}=Ks(),y=j=>{a(j),l(!1),f(!1)},v=[{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"BNB",name:"Binance Coin",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"}],w=j=>p.holdings.find(C=>C.symbol===j)?.amount||0,_=[{id:"Ethereum",name:"Ethereum",icon:"ETH"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB"},{id:"Polygon",name:"Polygon",icon:"MATIC"},{id:"Arbitrum",name:"Arbitrum",icon:"ARB"},{id:"Optimism",name:"Optimism",icon:"OP"},{id:"Base",name:"Base",icon:"BASE"},{id:"Avalanche",name:"Avalanche C-Chain",icon:"AVAX"},{id:"Solana",name:"Solana",icon:"SOL"},{id:"Tron",name:"Tron",icon:"TRX"},{id:"Fantom",name:"Fantom",icon:"FTM"},{id:"zkSync",name:"zkSync Era",icon:"ZK"},{id:"Cronos",name:"Cronos",icon:"CRO"}],T=(j,P)=>(m[j]?.usd||0)*P,L=v.filter(j=>j.symbol.toLowerCase().includes(e.toLowerCase())||j.name.toLowerCase().includes(e.toLowerCase())),O=j=>{const P=document.createElement("textarea");P.value=j,P.style.position="fixed",P.style.left="-999999px",P.style.top="-999999px",document.body.appendChild(P),P.focus(),P.select();try{document.execCommand("copy"),l(!0),setTimeout(()=>l(!1),2e3)}catch(C){console.error("Erro ao copiar:",C)}document.body.removeChild(P)},z=(j,P)=>{const C=K=>{let Y=5381;for(let J=0;J<K.length;J++){const F=K.charCodeAt(J);Y=(Y<<5)+Y+F}return Math.abs(Y)+999999},S=(K,Y)=>{const J=[];let F=C(K);for(let G=0;G<Y;G++){F=F*1664525+1013904223&2147483647;const q=(F^F>>16)&255;J.push(q===0?G%255+1:q)}return J},k=K=>K.map(Y=>Y.toString(16).padStart(2,"0")).join(""),A=K=>{const Y="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let J=BigInt("0x"+k(K)),F="";for(;J>0;){const G=Number(J%58n);F=Y[G]+F,J=J/58n}for(const G of K)if(G===0)F="1"+F;else break;return F},D=K=>{const Y="qpzry9x8gf2tvdw0s3jn54khce6mua7l";let J="";for(const F of K)J+=Y[F%Y.length];return J},M=`${j}-${P}-nexcoin-wallet`;if(P==="Tron"){const K=S(M,20);return"T"+A(K).substring(1,34)}if(j==="BTC"){const K=S(M,32);return"bc1q"+D(K).substring(0,38)}if(j==="SOL"||P==="Solana"){const K=S(M,32);return A(K).substring(0,44)}if(j==="ETH"||P==="Ethereum"||P==="Polygon"||P==="Optimism"||P==="BSC"||P==="Arbitrum"||P==="Base"||P==="Avalanche"||P==="Fantom"||P==="zkSync"||P==="Cronos"||j==="BNB"||j==="MATIC"||j==="LINK"||j==="UNI"||j==="AVAX"||j==="USDT"){const K=S(M,20);return"0x"+k(K)}if(j==="XRP"){const K=[0,...S(M,20)];return"r"+A(K).substring(1,34)}if(j==="ADA"){const K=S(M,57);return"addr1"+D(K).substring(0,98)}if(j==="DOT"){const K=[0,...S(M,32)];return A(K).substring(0,48)}if(j==="DOGE"){const K=[30,...S(M,20)];return A(K).substring(0,34)}if(j==="LTC"){const K=S(M,32);return"ltc1q"+D(K).substring(0,38)}if(j==="ATOM"){const K=S(M,32);return"cosmos1"+D(K).substring(0,38)}const I=S(M,20);return"0x"+k(I)};if(r){const j=v.find(C=>C.symbol===r);if(!j)return null;const P=z(j.symbol,s);return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsxs("h1",{className:"text-4xl mb-1 text-gray-400",children:["Receber ",j.symbol]}),c.jsx("p",{className:"text-lg text-gray-500",children:j.name})]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx($t,{symbol:j.symbol,size:"lg"})})]})]}),c.jsx("div",{className:"px-6 py-8 flex items-center justify-center",children:c.jsx("div",{className:"w-64 h-64 bg-zinc-900 rounded-3xl p-6 flex items-center justify-center",children:c.jsx("div",{className:"w-full h-full bg-white rounded-2xl p-4 flex items-center justify-center",children:c.jsx(nSe,{value:P,size:180})})})}),c.jsx("div",{className:"px-6 mb-6",children:c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:"Endereo da carteira"}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"flex-1 bg-zinc-800 rounded-xl px-4 py-3 text-sm font-mono text-gray-300 overflow-hidden",children:c.jsx("div",{className:"truncate",children:P})}),c.jsx("button",{onClick:()=>O(P),className:"flex-shrink-0 w-12 h-12 rounded-xl bg-zinc-800 hover:bg-zinc-700 flex items-center justify-center transition-all active:scale-95",children:o?c.jsx(jn,{className:"w-5 h-5 text-green-500"}):c.jsx(bn,{className:"w-5 h-5 text-gray-400"})})]}),o&&c.jsx("p",{className:"text-xs text-green-500 mt-2 text-center font-semibold",children:"Endereo copiado!"})]})}),c.jsx("div",{className:"flex-1 px-6",children:c.jsxs("div",{className:"bg-zinc-900 rounded-3xl p-6",children:[c.jsx("h2",{className:"text-xl mb-3",children:"Selecione a rede"}),c.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Certifique-se de selecionar a rede correta ou seus fundos podem ser perdidos."," ",c.jsx("a",{href:"#",className:"text-blue-500 hover:text-blue-400",children:"Saber mais"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>f(!d),className:"w-full bg-zinc-800 rounded-2xl p-4 flex items-center gap-4 hover:bg-zinc-700 transition-all",children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:c.jsx($t,{symbol:_.find(C=>C.id===s)?.icon||"ETH",size:"sm"})}),c.jsx("div",{className:"flex-1 text-left",children:c.jsx("div",{className:"text-lg font-semibold",children:_.find(C=>C.id===s)?.name||"Ethereum"})}),c.jsx(Il,{className:`w-5 h-5 text-gray-400 transition-transform duration-200 ${d?"rotate-180":""}`})]}),d&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),c.jsx("div",{className:"absolute z-20 w-full mt-2 bg-zinc-800/95 backdrop-blur-xl rounded-2xl border border-zinc-700/50 shadow-2xl overflow-hidden",children:c.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:_.map(C=>c.jsxs("button",{onClick:()=>y(C.id),className:`w-full p-4 flex items-center gap-4 transition-all border-b border-zinc-700/30 last:border-b-0 ${s===C.id?"bg-blue-500/20":"hover:bg-zinc-700/50"}`,children:[c.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:c.jsx($t,{symbol:C.icon,size:"sm"})}),c.jsx("div",{className:"flex-1 text-left",children:c.jsxs("div",{className:"text-base font-semibold",children:[" ",C.name]})}),s===C.id&&c.jsx("div",{className:"w-6 h-6 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0",children:c.jsx(jn,{className:"w-4 h-4 text-white",strokeWidth:3})})]},C.id))})})]})]})]})})]})}return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[c.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-3xl",children:"Receber"})]}),c.jsx("div",{className:"px-6 mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(Wl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Pesquise criptomoedas compatveis",value:e,onChange:j=>n(j.target.value),className:"w-full bg-zinc-900 text-white rounded-full py-3.5 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-gray-700 placeholder-gray-500"})]})}),c.jsxs("div",{className:"flex-1 px-6",children:[c.jsx("div",{className:"space-y-0",children:L.map(j=>{const P=w(j.symbol),C=T(j.id,P);return c.jsxs("button",{className:"w-full bg-zinc-900/50 hover:bg-zinc-800/50 transition-colors p-4 flex items-center gap-4 border-b border-zinc-800/50 last:border-b-0",onClick:()=>i(j.symbol),children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx($t,{symbol:j.symbol,size:"md"})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"font-semibold text-base",children:j.symbol}),c.jsx("div",{className:"text-sm text-gray-400",children:j.name})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-semibold text-base",children:[j.symbol==="USDT"?Gr(P):ns(P)," ",j.symbol]}),c.jsxs("div",{className:"text-sm text-gray-400",children:[Gr(C)," USDT"]})]})]},j.symbol)})}),L.length===0&&c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-400",children:"Nenhuma criptomoeda encontrada"})})]})]})}function S7(t,e){const n=Date.now(),r=Math.random().toString(36).substring(2,15),i="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",s=a=>{let o="";for(let l=0;l<a;l++)o+=i[Math.floor(Math.random()*i.length)];return o};switch(t){case"Ethereum":case"BSC":case"Polygon":return`0x${e.substring(0,8)}${n.toString(16)}${r}`.substring(0,42);case"Bitcoin":return`bc1q${e.substring(0,6)}${r}${n.toString(36)}`.substring(0,42);case"Tron":return`T${s(33)}`;case"Solana":return`${e.substring(0,8)}${r}${n.toString(36)}Solana`.substring(0,44);case"Ripple":return`r${e.substring(0,7)}${r}${n.toString(36)}`.substring(0,34);default:return`${t.substring(0,3).toUpperCase()}${e.substring(0,8)}${r}${n.toString(36)}`}}async function P7(t,e,n){const r=n||S7(e,t);console.log(` Salvando endereo ${e}: ${r}`);const i=rt(be,"users",t,"walletAddresses",e),s={network:e,address:r,userId:t,createdAt:new Date,updatedAt:new Date};await cr(i,s),console.log(" Endereo salvo no documento do usurio");const a=rt(be,"walletAddressIndex",r.toLowerCase());return await cr(a,{address:r,userId:t,network:e,updatedAt:new Date}),console.log(` Endereo indexado globalmente: ${r}`),await new Promise(o=>setTimeout(o,300)),s}async function iSe(t,e){try{const n=rt(be,"users",t,"walletAddresses",e),r=await Bi(n);return r.exists()?r.data().address:(await P7(t,e)).address}catch(n){return console.error(" Erro ao buscar endereo:",n),null}}async function sSe(t){try{console.log(" Buscando userId para endereo:",t);const e=rt(be,"walletAddressIndex",t.toLowerCase()),n=await Bi(e);if(n.exists()){const r=n.data();return console.log(" Endereo encontrado no ndice global:",r.userId),r.userId}return console.warn(" Endereo no encontrado no ndice global:",t),console.warn(" Execute a migrao de endereos em: Perfil  Configuraes  Teste de Endereos"),null}catch(e){return console.error(" Erro ao buscar usurio por endereo:",e),null}}async function aSe(t,e){try{const n=rt(be,"users",t,"walletAddresses",e),r=await Bi(n);if(r.exists()){const s=r.data();console.log(` Removendo ndice antigo: ${s.address}`);const a=rt(be,"walletAddressIndex",s.address.toLowerCase());await fo(a)}const i=S7(e,t);return await P7(t,e,i),i}catch(n){throw console.error(" Erro ao regenerar endereo:",n),n}}async function oSe(t,e,n){try{console.log(" Validando endereo:",t,"na rede:",e);const r=await sSe(t);if(!r)return console.warn(" Endereo no encontrado no ndice:",t),{isValid:!1,userId:null,userName:null,error:"Endereo no encontrado. Certifique-se de que o destinatrio possui uma conta NexCoin."};if(n&&r===n)return console.warn(" Tentativa de auto-transferncia detectada"),{isValid:!1,userId:null,userName:null,error:"Voc no pode transferir para o seu prprio endereo."};console.log(" Usurio encontrado:",r);const i=rt(be,"users",r,"walletAddresses",e),s=await Bi(i);if(!s.exists())return console.warn(` Endereo no pertence  rede ${e}`),{isValid:!1,userId:null,userName:null,error:`Este endereo no pertence  rede ${e}`};const a=s.data();if(a.address.toLowerCase()!==t.toLowerCase())return console.warn(` Endereo no corresponde: esperado ${a.address}, recebido ${t}`),{isValid:!1,userId:null,userName:null,error:`Endereo no corresponde  rede ${e}`};const o=rt(be,"users",r),l=await Bi(o),d=l.exists()&&(l.data().name||l.data().email)||"Usurio";return console.log(" Endereo vlido! Destinatrio:",d,"(",r,")"),{isValid:!0,userId:r,userName:d}}catch(r){return console.error(" Erro ao validar endereo:",r),{isValid:!1,userId:null,userName:null,error:"Erro ao validar endereo"}}}async function lSe(t){try{console.log(" Iniciando transferncia de cripto:",t);const{fromUserId:e,toUserId:n,coinId:r,coinSymbol:i,amount:s,fee:a,network:o,toAddress:l}=t;if(!e||!n)throw new Error("Remetente ou destinatrio invlido");if(e===n)throw new Error("No  possvel transferir para si mesmo");if(s<=0)throw new Error("Valor invlido");const d=s+a,f=await hP(be,async v=>{const w=rt(be,"users",e,"portfolio",i),_=await v.get(w),T=rt(be,"users",n,"portfolio",i),L=await v.get(T);if(!_.exists())throw new Error("Voc no possui saldo desta criptomoeda");const O=_.data().amount||0;if(O<d)throw new Error(`Saldo insuficiente. Necessrio: ${d} ${i}, Disponvel: ${O} ${i}`);const z=O-d;v.update(w,{amount:z,updatedAt:new Date}),console.log(` Debitado ${d} ${i} de ${e}. Novo saldo: ${z}`);let j;return L.exists()?(j=(L.data().amount||0)+s,v.update(T,{amount:j,updatedAt:new Date})):(j=s,v.set(T,{coinId:r,symbol:i,amount:j,name:i,createdAt:new Date,updatedAt:new Date})),console.log(` Creditado ${s} ${i} para ${n}. Novo saldo: ${j}`),{newFromBalance:z,newToBalance:j}}),m=`txn_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,p=rt(nt(be,"users",e,"transactions"));await cr(p,{id:p.id,type:"crypto_send",coinId:r,coinSymbol:i,currency:i,amount:-d,amountSent:s,fee:a,feeCurrency:i,network:o,toUserId:n,toAddress:l,status:"completed",transactionHash:t.transactionHash,transactionId:m,createdAt:jt.fromDate(new Date),description:`Enviado ${s} ${i} via ${o}`});const y=rt(nt(be,"users",n,"transactions"));return await cr(y,{id:y.id,type:"crypto_receive",coinId:r,coinSymbol:i,currency:i,amount:s,fee:0,feeCurrency:i,network:o,fromUserId:e,fromAddress:t.fromAddress||"NexCoin User",status:"completed",transactionHash:t.transactionHash,transactionId:m,createdAt:jt.fromDate(new Date),description:`Recebido ${s} ${i} via ${o}`}),console.log(" Transferncia concluda com sucesso!"),{success:!0,transactionId:p.id}}catch(e){return console.error(" Erro ao processar transferncia:",e),{success:!1,error:e.message||"Erro ao processar transferncia"}}}function cSe(){const t=Date.now().toString(16),e=Math.random().toString(16).substring(2);return`0x${t}${e}`.substring(0,66)}function A7(){const{user:t}=Dt(),[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{if(!t?.uid){n([]),i(!1);return}console.log(" Iniciando listener de endereos de wallet...");const o=nt(be,"users",t.uid,"walletAddresses"),l=hs(o,d=>{const f=[];d.forEach(m=>{const p=m.data();f.push({network:p.network,address:p.address,userId:p.userId,createdAt:p.createdAt?.toDate()||new Date,updatedAt:p.updatedAt?.toDate()||new Date})}),n(f),i(!1),console.log(" Endereos carregados:",f)},d=>{console.error(" Erro ao carregar endereos:",d),i(!1)});return()=>{console.log(" Cancelando listener de endereos"),l()}},[t?.uid]),{addresses:e,isLoading:r,getAddressForNetwork:async o=>{if(!t?.uid)throw new Error("Usurio no autenticado");const l=e.find(f=>f.network===o);return l?l.address:await iSe(t.uid,o)||""},regenerateAddress:async o=>{if(!t?.uid)throw new Error("Usurio no autenticado");const l=await aSe(t.uid,o);return console.log(` Novo endereo gerado para ${o}:`,l),l}}}function uSe({crypto:t,network:e,onBack:n}){const[r,i]=E.useState(""),[s,a]=E.useState(""),[o,l]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(!1),[y,v]=E.useState(!1),[w,_]=E.useState(""),[T,L]=E.useState(""),[O,z]=E.useState(!1),[j,P]=E.useState(!1),[C,S]=E.useState(null),{prices:k}=Ti(),{user:A}=Dt(),{getAddressForNetwork:D}=A7(),{t:M,language:I}=xt();E.useEffect(()=>{const U=setTimeout(async()=>{if(!r||r.length<10){S(null);return}v(!0),S(null);try{const H=await oSe(r,e.id,A?.uid);S(H)}catch(H){console.error("Erro ao validar:",H),S({isValid:!1,userName:null,userId:null,error:M.withdrawAddress.invalidAddress})}finally{v(!1)}},800);return()=>clearTimeout(U)},[r,e.id,A?.uid]);const K=R=>R>=1?R.toLocaleString(I==="pt"?"pt-BR":I==="es"?"es-ES":"en-US",{minimumFractionDigits:2,maximumFractionDigits:8}):R.toFixed(8),Y=parseFloat(e.fee.split(" ")[0]),J=parseFloat(s)||0,F=J+Y,G=r&&s&&parseFloat(s)>0&&parseFloat(s)<=t.balance&&C?.isValid===!0,q=async()=>{if(!G||!A?.uid||!C?.userId){Ge.error("Dados invlidos para transferncia");return}p(!0);try{const R=cSe(),U=await D(e.id),H=await lSe({fromUserId:A.uid,toUserId:C.userId,coinId:t.id,coinSymbol:t.symbol,amount:J,fee:Y,network:e.id,toAddress:r,fromAddress:U,status:"completed",transactionHash:R,createdAt:new Date});H.success?(_(R),L(new Date().toLocaleString(I==="pt"?"pt-BR":I==="es"?"es-ES":"en-US")),l(!0),Ge.success(M.withdrawAddress.transferSuccess||"Transferncia realizada com sucesso!")):Ge.error(H.error||"Erro ao processar transferncia")}catch(R){console.error("Erro ao enviar:",R),Ge.error(R.message||"Erro ao processar transferncia")}finally{p(!1)}};return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsx("button",{onClick:n,className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h1",{className:"text-lg",children:[M.withdrawAddress.title," ",t.symbol]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx($t,{symbol:t.symbol,size:"md"})})]}),c.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-400",children:M.withdrawAddress.availableBalance||M.withdrawCrypto.availableBalance}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-semibold",children:[K(t.balance)," ",t.symbol]}),c.jsxs("div",{className:"text-xs text-gray-400",children:["$",((k[t.id]?.usd||0)*t.balance).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]}),c.jsxs("div",{className:"flex-1 px-6 space-y-6 overflow-y-auto",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-3",children:M.withdrawAddress.selectedNetwork}),c.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:c.jsx($t,{symbol:e.icon,size:"sm"})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"font-semibold text-sm",children:e.name}),c.jsxs("div",{className:"text-xs text-gray-400",children:[M.withdrawAddress.fee||M.withdrawCrypto.fee,": ",e.fee]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-3",children:M.withdrawAddress.walletAddress}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",placeholder:M.withdrawAddress.addressPlaceholder,value:r,onChange:R=>i(R.target.value),className:`w-full bg-zinc-900 text-white rounded-xl py-4 pl-4 pr-12 focus:outline-none focus:ring-2 placeholder-gray-500 transition-all ${C?.isValid?"focus:ring-green-500 ring-2 ring-green-500/50":C?.isValid===!1?"focus:ring-red-500 ring-2 ring-red-500/50":"focus:ring-gray-600"}`}),c.jsxs("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[y&&c.jsx("div",{className:"w-5 h-5 border-2 border-white/20 border-t-white rounded-full animate-spin"}),C?.isValid&&c.jsx(hR,{className:"w-5 h-5 text-green-500"}),C?.isValid===!1&&c.jsx(qs,{className:"w-5 h-5 text-red-500"})]})]}),C?.isValid&&C.userName&&c.jsxs("div",{className:"mt-3 bg-green-500/10 border border-green-500/20 rounded-xl p-3 flex items-start gap-3",children:[c.jsx(hR,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-green-500 text-sm font-semibold mb-0.5",children:M.withdrawAddress.recipientFound}),c.jsxs("p",{className:"text-green-200/80 text-xs",children:[M.withdrawAddress.sendingTo,": ",c.jsx("span",{className:"font-semibold",children:C.userName})]})]})]}),C?.isValid===!1&&C.error&&c.jsxs("div",{className:"mt-3 bg-red-500/10 border border-red-500/20 rounded-xl p-3 flex items-start gap-3",children:[c.jsx(jl,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-red-500 text-sm font-semibold mb-0.5",children:M.withdrawAddress.invalidAddress}),c.jsx("p",{className:"text-red-200/80 text-xs",children:C.error})]})]}),r&&!C&&!y&&c.jsxs("div",{className:"mt-2 flex items-start gap-2 text-xs text-gray-400",children:[c.jsx(jl,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),c.jsx("p",{children:M.withdrawAddress.addressWarning})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("label",{className:"text-sm font-semibold",children:M.withdrawAddress.amount}),c.jsx("button",{onClick:()=>a(t.balance.toString()),className:"text-xs text-gray-400 hover:text-white transition-colors",children:M.withdrawAddress.useMax})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("input",{type:"number",placeholder:"0.00",value:s,onChange:R=>a(R.target.value),className:"flex-1 bg-transparent text-2xl font-bold outline-none placeholder-gray-600",step:"0.00000001"}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx($t,{symbol:t.symbol,size:"sm"}),c.jsx("span",{className:"font-semibold text-lg",children:t.symbol})]})]}),s&&c.jsxs("div",{className:"mt-2 text-sm text-gray-400",children:[" $",(parseFloat(s)*(k[t.id]?.usd||0)).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),s&&r&&C?.isValid&&c.jsxs("div",{className:"bg-zinc-900 rounded-xl p-4 space-y-3",children:[c.jsx("h3",{className:"font-semibold text-sm mb-3",children:M.withdrawAddress.summary}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:M.withdrawAddress.quantity}),c.jsxs("span",{className:"font-semibold",children:[s," ",t.symbol]})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:M.withdrawAddress.networkFee}),c.jsxs("span",{className:"font-semibold",children:[Y," ",t.symbol]})]}),c.jsx("div",{className:"h-px bg-zinc-800 my-2"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-400",children:M.withdrawAddress.total}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-bold text-lg",children:[t.symbol==="USDT"?Gr(F):ns(F)," ",t.symbol]}),c.jsxs("div",{className:"text-xs text-gray-400",children:[" ",Gr(F*(k[t.id]?.usd||0))," USDT"]})]})]})]}),c.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 flex gap-3",children:[c.jsx(jl,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),c.jsxs("div",{className:"text-sm text-yellow-200/90",children:[c.jsx("p",{className:"font-semibold mb-1",children:M.withdrawAddress.attention}),c.jsx("p",{className:"text-xs text-yellow-200/70",children:M.withdrawAddress.attentionWarning})]})]})]}),c.jsxs("div",{className:"px-6 py-4 bg-black",children:[c.jsx("button",{disabled:!G||m,className:`w-full py-4 rounded-xl font-semibold text-lg transition-all ${G&&!m?"bg-white text-black hover:bg-gray-200":"bg-zinc-800 text-gray-500 cursor-not-allowed"}`,onClick:q,children:m?c.jsxs("span",{className:"flex items-center justify-center gap-2",children:[c.jsx("div",{className:"w-5 h-5 border-2 border-black/20 border-t-black rounded-full animate-spin"}),M.withdrawAddress.processing]}):M.withdrawAddress.title}),!C?.isValid&&r&&!y&&c.jsx("p",{className:"text-center text-xs text-gray-400 mt-2",children:M.withdrawAddress.mustBeRegistered})]}),c.jsx($N,{children:o&&c.jsx(Xn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 px-6",onClick:()=>{l(!1),n()},children:c.jsxs(Xn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",duration:.5},className:"bg-zinc-900 rounded-3xl p-8 max-w-sm w-full text-center relative overflow-hidden",onClick:R=>R.stopPropagation(),children:[c.jsxs(Xn.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-6 relative",children:[c.jsx(Xn.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"w-16 h-16 bg-green-500/30 rounded-full flex items-center justify-center",children:c.jsx(Xn.svg,{initial:{pathLength:0},animate:{pathLength:1},transition:{delay:.5,duration:.5},className:"w-10 h-10 text-green-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:c.jsx(Xn.path,{d:"M20 6L9 17l-5-5"})})}),c.jsx(Xn.div,{initial:{scale:.8,opacity:.5},animate:{scale:2.5,opacity:0},transition:{duration:1,ease:"easeOut"},className:"absolute inset-0 bg-green-500 rounded-full"})]}),c.jsxs(Xn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},children:[c.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:M.withdrawAddress.sentSuccess}),c.jsx("p",{className:"text-gray-400 text-sm mb-2",children:M.withdrawAddress.transactionProcessed}),C?.userName&&c.jsxs("p",{className:"text-green-400 text-sm font-semibold mb-6",children:[M.withdrawAddress.recipient,": ",C.userName]}),c.jsxs("div",{className:"bg-black/50 rounded-2xl p-4 mb-6 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:M.withdrawAddress.amount}),c.jsxs("span",{className:"font-semibold text-white",children:[s," ",t.symbol]})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:M.withdrawAddress.selectedNetwork}),c.jsx("span",{className:"font-semibold text-white",children:e.name})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:M.to||"Para"}),c.jsxs("span",{className:"font-semibold text-white text-xs",children:[r.slice(0,8),"...",r.slice(-6)]})]})]}),c.jsx("button",{onClick:()=>{l(!1),f(!0)},className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-gray-200 transition-colors mb-3",children:M.withdrawAddress.viewReceipt}),c.jsx("button",{onClick:()=>{l(!1),n()},className:"w-full bg-zinc-800 text-white font-semibold py-3 rounded-xl hover:bg-zinc-700 transition-colors",children:M.close||"Fechar"})]})]})})})]})}function dSe({onNavigate:t}){const[e,n]=E.useState(""),[r,i]=E.useState(null),[s,a]=E.useState(null),{prices:o}=Ti(),{portfolio:l}=Ks(),{t:d,language:f}=xt(),m=O=>l.holdings.find(j=>j.coinId===O)?.amount||0,p=[{symbol:"USDT",name:"Tether",balance:m("tether"),id:"tether"},{symbol:"BTC",name:"Bitcoin",balance:m("bitcoin"),id:"bitcoin"},{symbol:"ETH",name:"Ethereum",balance:m("ethereum"),id:"ethereum"},{symbol:"BNB",name:"Binance Coin",balance:m("binancecoin"),id:"binancecoin"},{symbol:"SOL",name:"Solana",balance:m("solana"),id:"solana"},{symbol:"ADA",name:"Cardano",balance:m("cardano"),id:"cardano"},{symbol:"XRP",name:"Ripple",balance:m("ripple"),id:"ripple"},{symbol:"DOT",name:"Polkadot",balance:m("polkadot"),id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",balance:m("dogecoin"),id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",balance:m("avalanche-2"),id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",balance:m("matic-network"),id:"matic-network"},{symbol:"LINK",name:"Chainlink",balance:m("chainlink"),id:"chainlink"},{symbol:"UNI",name:"Uniswap",balance:m("uniswap"),id:"uniswap"},{symbol:"LTC",name:"Litecoin",balance:m("litecoin"),id:"litecoin"},{symbol:"ATOM",name:"Cosmos",balance:m("cosmos"),id:"cosmos"}],y=[{id:"Ethereum",name:"Ethereum (ERC20)",icon:"ETH",fee:"2.5 USDT"},{id:"Tron",name:"Tron (TRC20)",icon:"TRX",fee:"1.0 USDT"},{id:"Polygon",name:"Polygon",icon:"MATIC",fee:"0.5 USDT"},{id:"Solana",name:"Solana",icon:"SOL",fee:"0.3 USDT"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB",fee:"0.8 USDT"}],v=O=>O>=1?O.toLocaleString(f==="pt"?"pt-BR":f==="es"?"es-ES":"en-US",{minimumFractionDigits:2,maximumFractionDigits:8}):O.toFixed(8),w=(O,z)=>(o[O]?.usd||0)*z,_=p.filter(O=>O.symbol.toLowerCase().includes(e.toLowerCase())||O.name.toLowerCase().includes(e.toLowerCase())),T=p.find(O=>O.symbol===r),L=y.find(O=>O.id===s);return r&&T&&s&&L?c.jsx(uSe,{crypto:T,network:L,onBack:()=>{a(null)}}):r&&T?c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsx("button",{onClick:()=>i(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("h1",{className:"text-lg",children:[d.withdrawCrypto.sendCrypto," ",T.symbol]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx($t,{symbol:T.symbol,size:"md"})})]}),c.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-400",children:d.withdrawCrypto.availableBalance}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-semibold",children:[v(T.balance)," ",T.symbol]}),c.jsxs("div",{className:"text-xs text-gray-400",children:["$",w(T.id,T.balance).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]})})]}),c.jsx("div",{className:"flex-1 px-6 overflow-y-auto",children:c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-semibold mb-3",children:d.withdrawCrypto.selectNetwork}),c.jsx("div",{className:"space-y-2",children:y.map(O=>c.jsxs("button",{onClick:()=>a(O.id),className:"w-full bg-zinc-900 rounded-xl p-4 flex items-center gap-3 transition-all hover:bg-zinc-800",children:[c.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-800 flex items-center justify-center flex-shrink-0",children:c.jsx($t,{symbol:O.icon,size:"sm"})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"font-semibold text-sm",children:O.name}),c.jsxs("div",{className:"text-xs text-gray-400",children:[d.withdrawCrypto.fee,": ",O.fee]})]})]},O.id))})]})})]}):c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[c.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-lg",children:d.withdrawCrypto.title})]}),c.jsx("div",{className:"px-6 mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(Wl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:d.withdrawCrypto.searchPlaceholder,value:e,onChange:O=>n(O.target.value),className:"w-full bg-zinc-900 text-white rounded-full py-3.5 pl-12 pr-4 focus:outline-none focus:ring-2 focus:ring-gray-700 placeholder-gray-500"})]})}),c.jsxs("div",{className:"flex-1 px-6 overflow-y-auto",children:[c.jsx("div",{className:"space-y-0",children:_.map(O=>{const z=w(O.id,O.balance);return c.jsxs("button",{className:"w-full bg-zinc-900/50 hover:bg-zinc-800/50 transition-colors p-4 flex items-center gap-4 border-b border-zinc-800/50 last:border-b-0",onClick:()=>i(O.symbol),children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx($t,{symbol:O.symbol,size:"md"})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"font-semibold text-base",children:O.symbol}),c.jsx("div",{className:"text-sm text-gray-400",children:O.name})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-semibold text-base",children:[v(O.balance)," ",O.symbol]}),c.jsx("div",{className:"text-sm text-gray-400",children:z.toLocaleString(f==="pt"?"pt-BR":f==="es"?"es-ES":"en-US",{style:"currency",currency:"USD"})})]})]},O.symbol)})}),_.length===0&&c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-gray-400",children:d.withdrawCrypto.noCryptosFound})})]})]})}async function fSe(t,e){try{console.log(" ============ VALIDAO DE CHAVE PIX ============"),console.log(" Chave digitada pelo usurio:",t),console.log(" User ID atual:",e);const n=t.includes("@");let r;n?r=t.trim().replace(/\s/g,"").toLowerCase():r=t.trim().replace(/\s/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\+/g,"").toLowerCase(),console.log(" Tipo detectado:",n?"EMAIL":"TELEFONE/CPF/CNPJ"),console.log(" Chave PIX limpa para busca:",r);const i=nt(be,"pixKeys");console.log(" Buscando todas as chaves PIX no Firestore...");const s=await Pt(i);console.log(" Total de chaves PIX no sistema:",s.size),console.log(" ============ TODAS AS CHAVES NO SISTEMA ============"),s.docs.forEach((m,p)=>{const y=m.data();console.log(`  [${p+1}] ID: ${m.id}`),console.log(`      keyValue: "${y.keyValue}"`),console.log(`      keyType: ${y.keyType}`),console.log(`      userId: ${y.userId}`)}),console.log(" ====================================================");let a=null;for(const m of s.docs){const p=m.data(),y=p.keyValue||"",v=y.includes("@");let w;if(v?w=y.trim().replace(/\s/g,"").toLowerCase():w=y.trim().replace(/\s/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\+/g,"").toLowerCase(),console.log(" Comparando:"),console.log(`   Digitado (limpo): "${r}"`),console.log(`   Armazenado (original): "${y}"`),console.log(`   Armazenado (limpo): "${w}"`),console.log(`   Match: ${w===r?" SIM":" NO"}`),w===r){a={id:m.id,...p},console.log(" ============ CHAVE ENCONTRADA! ============"),console.log(" Documento ID:",m.id),console.log(" User ID:",p.userId),console.log(" Key Type:",p.keyType),console.log(" Key Value:",p.keyValue),console.log(" ==========================================");break}}if(!a)return console.error(" ============ CHAVE NO ENCONTRADA ============"),console.error(" Chave digitada:",t),console.error(" Chave limpa:",r),console.error(" Total de chaves no sistema:",s.size),console.error(" ============================================="),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Chave PIX no encontrada no sistema NexCoin"};const o=a;if(!o.userId)return console.error(" Chave encontrada mas sem userId!"),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Chave PIX invlida (sem usurio vinculado)"};if(e&&o.userId===e)return console.warn(" Tentativa de auto-transferncia PIX detectada"),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Voc no pode transferir para a sua prpria chave PIX."};const l=rt(be,"users",o.userId),d=await Bi(l),f=d.exists()&&(d.data().name||d.data().email)||"Usurio";return console.log(" Chave PIX vlida! Destinatrio:",f,"(",o.userId,")"),{isValid:!0,userId:o.userId,userName:f,pixKeyType:o.keyType||"unknown"}}catch(n){return console.error(" ============ ERRO NA VALIDAO ============"),console.error(" Erro:",n),console.error(" ========================================="),{isValid:!1,userId:null,userName:null,pixKeyType:null,error:"Erro ao validar chave PIX"}}}async function hSe(t){try{console.log(" Iniciando transferncia PIX:",t);const{fromUserId:e,toUserId:n,currency:r,amount:i,pixKey:s,pixKeyType:a,description:o,transactionId:l}=t;if(!e||!n)throw new Error("Remetente ou destinatrio invlido");if(e===n)throw new Error("No  possvel transferir para si mesmo");if(i<=0)throw new Error("Valor invlido");return await hP(be,async d=>{const f=rt(be,"users",e,"fiatBalances",r),m=await d.get(f),p=rt(be,"users",n,"fiatBalances",r),y=await d.get(p);let v=0;m.exists()&&(v=m.data().balance||m.data().amount||0),v<i&&(console.warn(` Saldo fiat insuficiente (${v} ${r}). Isso indica que o usurio est usando saldo do portfolio.`),console.warn(" A validao do saldo j foi feita no frontend. Permitindo transferncia."));const w=Math.max(0,v-i);let _=0;y.exists()&&(_=y.data().balance||y.data().amount||0);const T=_+i;m.exists()?d.update(f,{balance:w,updatedAt:new Date}):d.set(f,{currency:r,balance:w,createdAt:new Date,updatedAt:new Date}),console.log(` Debitado ${i} ${r} de ${e}. Novo saldo: ${w}`),y.exists()?d.update(p,{balance:T,updatedAt:new Date}):d.set(p,{currency:r,balance:T,createdAt:new Date,updatedAt:new Date}),console.log(` Creditado ${i} ${r} para ${n}. Novo saldo: ${T}`);const L=rt(nt(be,"users",e,"transactions"));d.set(L,{id:L.id,type:"pix_send",currency:r,amount:-i,fee:0,feeCurrency:r,pixKey:s,pixKeyType:a,toUserId:n,status:"completed",transactionId:l,createdAt:jt.fromDate(new Date),description:o||`PIX enviado para ${s}`});const O=rt(nt(be,"users",n,"transactions"));d.set(O,{id:O.id,type:"pix_receive",currency:r,amount:i,fee:0,feeCurrency:r,pixKey:s,pixKeyType:a,fromUserId:e,status:"completed",transactionId:l,createdAt:jt.fromDate(new Date),description:o||`PIX recebido de ${s}`})}),console.log(" Transferncia PIX concluda com sucesso!"),{success:!0,transactionId:l}}catch(e){return console.error(" Erro ao processar transferncia PIX:",e),{success:!1,error:e.message||"Erro ao processar transferncia PIX"}}}function mSe(){const t=Date.now(),e=Math.random().toString(36).substring(2,9).toUpperCase();return`PIX${t}${e}`}function pSe({onNavigate:t,transactionData:e}){const[n,r]=E.useState(null),[i,s]=E.useState("idle"),{t:a}=xt(),o=(d,f)=>{const m=document.createElement("textarea");m.value=d,m.style.position="fixed",m.style.left="-999999px",m.style.top="-999999px",document.body.appendChild(m),m.focus(),m.select();try{document.execCommand("copy"),r(f),setTimeout(()=>r(null),2e3)}catch(p){console.error("Erro ao copiar:",p)}document.body.removeChild(m)},l=async()=>{const d=`${a.withdrawReceipt.shareTextHeader}

 ${a.withdrawReceipt.amount||"Valor"}: ${e.symbol} ${e.amount}
 ${a.withdrawReceipt.currency||"Moeda"}: ${e.currency}
 ID: ${e.transactionId}

 ${a.withdrawReceipt.method}: ${e.method}
 ${a.withdrawReceipt.recipient}: ${e.recipientInfo}

 Status: ${e.status}
 ${a.withdrawReceipt.fee}: ${e.symbol} ${e.fee.toFixed(2)}
 ${a.withdrawReceipt.processing}: ${e.processingTime}
 ${a.withdrawReceipt.date}: ${e.date}

${a.withdrawReceipt.shareTextFooter}`;s("sharing");const f=p=>{try{const y=document.createElement("textarea");y.value=p,y.style.position="fixed",y.style.left="-999999px",y.style.top="-999999px",y.style.opacity="0",document.body.appendChild(y),y.focus(),y.select();const v=document.execCommand("copy");return document.body.removeChild(y),v?(console.log(" Comprovante copiado para rea de transferncia"),s("copied"),setTimeout(()=>s("idle"),3e3),!0):!1}catch(y){return console.error(" Erro ao copiar:",y),!1}},m=window.isSecureContext;try{if(m&&navigator.share&&typeof navigator.canShare=="function"&&navigator.canShare({text:d}))try{await navigator.share({title:" Comprovante de Transferncia - NexCoin",text:d}),console.log(" Comprovante compartilhado com sucesso"),s("idle");return}catch(y){if(y.name==="AbortError"){console.log(" Compartilhamento cancelado pelo usurio"),s("idle");return}console.log(" Web Share API no disponvel, usando mtodo alternativo...")}if(m&&navigator.clipboard&&typeof navigator.clipboard.writeText=="function")try{await navigator.clipboard.writeText(d),console.log(" Comprovante copiado para rea de transferncia"),s("copied"),setTimeout(()=>s("idle"),3e3);return}catch{console.log(" Clipboard API no disponvel, usando mtodo compatvel...")}f(d)||(console.error(" No foi possvel copiar o comprovante"),s("idle"),alert("No foi possvel copiar o comprovante. Por favor, tire um screenshot desta tela."))}catch(p){console.error(" Erro inesperado:",p),f(d)||(s("idle"),alert("No foi possvel copiar o comprovante. Por favor, tire um screenshot desta tela."))}};return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsx("button",{onClick:()=>t("home"),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex flex-col items-center mb-6",children:[c.jsx("div",{className:"w-20 h-20 bg-green-500/20 rounded-full flex items-center justify-center mb-4 relative",children:c.jsx("div",{className:"w-16 h-16 bg-green-500/30 rounded-full flex items-center justify-center",children:c.jsx(gte,{className:"w-10 h-10 text-green-500"})})}),c.jsx("h1",{className:"text-2xl font-bold mb-1",children:a.withdrawReceipt.title}),c.jsx("p",{className:"text-sm text-gray-400",children:a.withdrawReceipt.subtitle})]})]}),c.jsxs("div",{className:"flex-1 px-6 space-y-4",children:[c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:a.withdrawReceipt.status}),c.jsx("div",{className:"bg-green-500/20 px-3 py-1 rounded-full",children:c.jsx("span",{className:"text-xs font-semibold text-green-500",children:e.status})})]}),c.jsx("div",{className:"h-px bg-zinc-800 mb-3"}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-4xl font-bold mb-1",children:[e.symbol," ",e.amount]}),c.jsx("div",{className:"text-sm text-gray-400",children:e.currency})]})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:a.withdrawReceipt.transactionId}),c.jsx("button",{onClick:()=>o(e.transactionId,"txid"),className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:n==="txid"?c.jsxs(c.Fragment,{children:[c.jsx(jn,{className:"w-3 h-3"})," ",a.withdrawReceipt.copied]}):c.jsxs(c.Fragment,{children:[c.jsx(bn,{className:"w-3 h-3"})," ",a.withdrawReceipt.copy]})})]}),c.jsx("div",{className:"font-mono text-sm bg-zinc-800 rounded-lg px-3 py-2 break-all",children:e.transactionId})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[c.jsx("h3",{className:"text-xs text-gray-400 font-semibold mb-3",children:a.withdrawReceipt.details}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:a.withdrawReceipt.method}),c.jsx("span",{className:"font-semibold",children:e.method})]}),c.jsx("div",{className:"h-px bg-zinc-800"}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:a.withdrawReceipt.fee}),c.jsxs("span",{className:"font-semibold",children:[e.symbol," ",e.fee.toFixed(2)]})]}),c.jsx("div",{className:"h-px bg-zinc-800"}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:a.withdrawReceipt.processing}),c.jsx("span",{className:"font-semibold text-yellow-500",children:e.processingTime})]}),c.jsx("div",{className:"h-px bg-zinc-800"}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:a.withdrawReceipt.date}),c.jsx("span",{className:"font-semibold",children:e.date})]})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-xs text-gray-400 font-semibold",children:a.withdrawReceipt.recipient}),c.jsx("button",{onClick:()=>o(e.recipientInfo,"recipient"),className:"text-xs text-gray-400 hover:text-white transition-colors flex items-center gap-1",children:n==="recipient"?c.jsxs(c.Fragment,{children:[c.jsx(jn,{className:"w-3 h-3"})," ",a.withdrawReceipt.copied]}):c.jsxs(c.Fragment,{children:[c.jsx(bn,{className:"w-3 h-3"})," ",a.withdrawReceipt.copy]})})]}),c.jsx("div",{className:"text-sm text-white break-all",children:e.recipientInfo})]}),c.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-xl p-4 text-sm",children:c.jsxs("p",{className:"text-blue-200/90",children:[c.jsxs("span",{className:"font-semibold",children:[a.withdrawReceipt.important,":"]})," ",a.withdrawReceipt.importantNotice," ",e.processingTime,"."]})})]}),c.jsxs("div",{className:"px-6 pt-4 space-y-3",children:[c.jsx("button",{onClick:l,disabled:i==="sharing",className:`w-full font-semibold py-4 rounded-xl transition-colors flex items-center justify-center gap-2 ${i==="copied"?"bg-green-500 text-white":"bg-zinc-900 text-white hover:bg-zinc-800"} ${i==="sharing"?"opacity-50 cursor-not-allowed":""}`,children:i==="sharing"?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),a.withdrawReceipt.sharing]}):i==="copied"?c.jsxs(c.Fragment,{children:[c.jsx(jn,{className:"w-5 h-5"}),a.withdrawReceipt.copiedToClipboard]}):c.jsxs(c.Fragment,{children:[c.jsx(IP,{className:"w-5 h-5"}),a.withdrawReceipt.shareReceipt]})}),c.jsx("button",{onClick:()=>t("home"),className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-gray-200 transition-colors",children:a.withdrawReceipt.backToHome})]})]})}function gSe({onNavigate:t,onBack:e}){const[n,r]=E.useState("BR"),[i,s]=E.useState(null),[a,o]=E.useState(null),[l,d]=E.useState(""),[f,m]=E.useState(!1),[p,y]=E.useState(!1),[v,w]=E.useState(!1),[_,T]=E.useState(null),[L,O]=E.useState(""),{rates:z}=RP(),{portfolio:j}=Ks(),{user:P}=Dt(),{getBalance:C}=Yp(),{addTransaction:S}=Cb(),[k,A]=E.useState([]),[D,M]=E.useState(!0),{t:I,language:K}=xt(),[Y,J]=E.useState(""),[F,G]=E.useState(null),[q,R]=E.useState(null),[U,H]=E.useState({bank:"",bankCode:"",agency:"",account:"",accountType:"Conta Corrente",name:"",document:""}),[Q,Z]=E.useState({accountNumber:"",routingNumber:"",accountType:"Checking",name:"",address:""}),[te,ae]=E.useState({iban:"",bic:"",name:"",address:""}),[re,xe]=E.useState({accountNumber:"",sortCode:"",name:"",address:""}),he=[{code:"BR",name:"Brasil",flag:"",currency:"BRL",symbol:"R$"},{code:"US",name:"Estados Unidos",flag:"",currency:"USD",symbol:"$"},{code:"EU",name:"Unio Europeia",flag:"",currency:"EUR",symbol:""},{code:"GB",name:"Reino Unido",flag:"",currency:"GBP",symbol:""}].find(le=>le.code===n),Te=j.totalBalanceUSDT,me=le=>le*(z[he.currency]||1),De=me(Te),Ye={BR:[{id:"pix",name:I.withdrawTransfer.pix,icon:ts,description:I.withdrawTransfer.instantTransfer,processingTime:I.withdrawTransfer.instant,minAmount:.01,maxAmount:1/0,fee:0},{id:"bank",name:I.withdrawTransfer.bankTransfer,icon:ll,description:I.withdrawTransfer.tedOrDoc,processingTime:I.withdrawTransfer.businessDays,minAmount:.01,maxAmount:1/0,fee:0}],US:[{id:"ach",name:I.withdrawTransfer.achTransfer,icon:ll,description:I.withdrawTransfer.electronicBankTransfer,processingTime:`3-5 ${I.withdrawTransfer.businessDays}`,minAmount:.01,maxAmount:1/0,fee:0},{id:"wire",name:I.withdrawTransfer.wireTransfer,icon:ts,description:I.withdrawTransfer.domesticWire,processingTime:I.withdrawTransfer.instant,minAmount:.01,maxAmount:1/0,fee:25}],EU:[{id:"sepa",name:I.withdrawTransfer.sepaTransfer,icon:ll,description:I.withdrawTransfer.singleEuroPaymentsArea,processingTime:`1-2 ${I.withdrawTransfer.businessDays}`,minAmount:.01,maxAmount:1/0,fee:0},{id:"instant",name:I.withdrawTransfer.sepaInstant,icon:ts,description:I.withdrawTransfer.instantSepaTransfer,processingTime:I.withdrawTransfer.instant,minAmount:.01,maxAmount:1/0,fee:2}],GB:[{id:"faster",name:I.withdrawTransfer.fasterPayments,icon:ts,description:I.withdrawTransfer.instantBankTransfer,processingTime:I.withdrawTransfer.instant,minAmount:.01,maxAmount:1/0,fee:0},{id:"bacs",name:I.withdrawTransfer.bacsTransfer,icon:ll,description:I.withdrawTransfer.standardBankTransfer,processingTime:`3 ${I.withdrawTransfer.businessDays}`,minAmount:.01,maxAmount:1/0,fee:0}]}[n],Je=Ye.find(le=>le.id===a);E.useEffect(()=>{if(!P?.uid){M(!1);return}const le=nt(be,"bankAccounts"),Oe=It(le,yt("userId","==",P.uid)),wt=hs(Oe,Bt=>{const lt=Bt.docs.map(Tn=>({...Tn.data(),id:Tn.id,createdAt:Tn.data().createdAt?.toDate()||new Date}));if(A(lt),M(!1),lt.length>0&&!i){const Tn=lt[0];s(Tn);const ii={BR:"BR",US:"US",PT:"EU",ES:"EU",FR:"EU",DE:"EU",IT:"EU",GB:"GB",UK:"GB"}[Tn.country]||"BR";r(ii)}},Bt=>{console.error(" Erro ao carregar contas:",Bt),M(!1)});return()=>wt()},[P]);const Qe={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",KRW:"",ZAR:"R",ARS:"$",CLP:"$"},bt=le=>{switch(le.country){case"BR":return{label:I.withdrawTransfer.pix,icon:""};case"US":return{label:` ${le.accountNumber.slice(-4)}`};case"PT":case"ES":case"FR":case"DE":case"IT":return{label:` ${le.iban?.slice(-4)||le.accountNumber.slice(-4)}`};default:return{label:` ${le.accountNumber.slice(-4)}`}}},Vt=le=>{const Oe=Qe[le]||le,Bt=C(le).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});return`${Oe} ${Bt}`},ut=le=>new Intl.NumberFormat("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}).format(le),oe=le=>{const Oe=le.replace(/\D/g,"");if(Oe===""){d("");return}let Bt=parseInt(Oe,10)/100;const lt=C(he.currency);Bt>lt&&(Bt=lt);const Tn=Bt.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2});d(Tn)},je=le=>{if(!le)return{isValid:!1,type:null,error:null};const Oe=le.replace(/\s/g,"");return/^\d{11}$/.test(Oe)?{isValid:!0,type:"CPF",error:null}:/^\d{14}$/.test(Oe)?{isValid:!0,type:"CNPJ",error:null}:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(le)?{isValid:!0,type:"E-mail",error:null}:/^(\+55)?(\d{10,11})$/.test(Oe)?{isValid:!0,type:"Telefone",error:null}:/^[a-f0-9]{8}-?[a-f0-9]{4}-?[a-f0-9]{4}-?[a-f0-9]{4}-?[a-f0-9]{12}$/i.test(Oe)?{isValid:!0,type:"Chave Aleatria",error:null}:{isValid:!1,type:null,error:I.withdrawTransfer.pixKeyInvalidType}},qe=le=>{let Oe=le.toLowerCase();Oe=Oe.replace(/[\s\-()]/g,""),J(Oe);const wt=je(Oe);G(wt.type),R(wt.error)},dt=async()=>{if(!P?.uid){Ge.error(I.withdrawTransfer.userNotAuthenticated);return}const le=parseFloat(l.replace(/\./g,"").replace(",","."));if(console.log(" ============ VALIDAO DE TRANSFERNCIA PIX ============"),console.log(" Valor digitado (formatado):",l),console.log(" Valor convertido (nmero):",le),console.log(" Moeda:",he.currency),console.log(" Valor mnimo permitido:",Je?.minAmount),!le||le<(Je?.minAmount||0)){Ge.error(`${I.withdrawTransfer.minAmount}: ${he.symbol} ${Je?.minAmount}`);return}const Oe=C(he.currency),wt=me(Te);console.log(" ====== DEBUG DE SALDOS ======"),console.log(" Saldo Fiat (Firestore):",Oe),console.log(" Saldo Portfolio (USDT):",Te),console.log(" Saldo Portfolio Convertido:",wt),console.log(" Taxa de converso:",z[he.currency]);const Bt=Math.max(Oe,wt);if(console.log("  Saldo disponvel TOTAL para transferncia:",Bt),console.log(" Comparao:",le,">",Bt,"=",le>Bt),le>Bt){console.error(" SALDO INSUFICIENTE!"),console.error(" Tentou transferir:",le),console.error(" Saldo disponvel:",Bt),console.error(" Diferena:",le-Bt),Ge.error(`${I.withdrawTransfer.insufficientBalance}: ${he.symbol} ${ut(Bt)}`);return}if(console.log(" Validao de saldo OK!"),console.log(" ===================================================="),n==="BR"&&a==="pix"){if(!Y){Ge.error(I.withdrawTransfer.informPixKeyError);return}const lt=je(Y);if(!lt.isValid){Ge.error(lt.error||I.withdrawTransfer.pixKeyInvalid);return}}if(n==="BR"&&a==="bank"&&(!U.bank||!U.agency||!U.account||!U.name)){Ge.error(I.withdrawTransfer.fillBankDetails);return}if(n==="US"&&(!Q.accountNumber||!Q.routingNumber||!Q.name)){Ge.error(I.withdrawTransfer.fillBankDetails);return}if(n==="EU"&&(!te.iban||!te.name)){Ge.error(I.withdrawTransfer.fillBankDetails);return}if(n==="GB"&&(!re.accountNumber||!re.sortCode||!re.name)){Ge.error(I.withdrawTransfer.fillBankDetails);return}w(!0);try{if(n==="BR"&&a==="pix"){console.log(" Verificando se chave PIX pertence a um usurio NexCoin...");const Cn=await fSe(Y,P.uid);if(Cn.isValid&&Cn.userId){console.log(" Chave PIX encontrada no sistema NexCoin"),console.log(` Remetente: ${P.uid}`),console.log(` Destinatrio: ${Cn.userId} (${Cn.userName})`);const ps=mSe(),Ur=await hSe({fromUserId:P.uid,toUserId:Cn.userId,currency:he.currency,amount:le,pixKey:Y,pixKeyType:Cn.pixKeyType||F||"unknown",description:`${I.withdrawTransfer.pixTransferTo} ${Cn.userName}`,transactionId:ps,createdAt:new Date});if(!Ur.success)throw new Error(Ur.error||I.withdrawTransfer.errorProcessingPix);console.log(" Transferncia PIX entre usurios concluda!"),Ge.success(`${I.withdrawTransfer.transferSentTo} ${Cn.userName}!`),O(ps),w(!1),m(!0);return}else{console.warn(" Chave PIX no encontrada no sistema NexCoin"),Ge.error(Cn.error||I.withdrawTransfer.pixKeyNotFound),w(!1);return}}let lt="";n==="BR"&&a==="pix"?lt=`${I.withdrawTransfer.pixTransfer} - ${Y}`:n==="BR"&&a==="bank"?lt=`${I.withdrawTransfer.tedTransfer} - ${U.name}`:lt=`${I.withdrawTransfer.transferVia} ${Je?.name}`;const Tn=await Vc(P.uid,he.currency,-le,lt);if(!Tn.success)throw new Error(Tn.message||I.withdrawTransfer.errorProcessingTransfer);let $n="";n==="BR"&&a==="pix"?$n=`${I.withdrawTransfer.pixKey}: ${Y} (${F})`:n==="BR"&&a==="bank"?$n=`${U.name} - ${U.bank} Ag: ${U.agency} Conta: ${U.account}`:n==="US"?$n=`${Q.name} - Account: ${Q.accountNumber}`:n==="EU"?$n=`${te.name} - IBAN: ${te.iban}`:n==="GB"&&($n=`${re.name} - Sort Code: ${re.sortCode} Account: ${re.accountNumber}`);const ii=`TX${Date.now()}${Math.floor(Math.random()*1e3)}`;O(ii),await S({type:"withdraw_fiat",status:"completed",amount:le,currency:he.currency,fee:Je?.fee||0,feeCurrency:he.currency,description:lt,recipientInfo:$n,transactionHash:ii}),console.log(" Transferncia processada com sucesso"),Ge.success(I.withdrawTransfer.transferSuccess),w(!1),m(!0)}catch(lt){console.error(" Erro ao processar transferncia:",lt),Ge.error(lt.message||I.withdrawTransfer.errorProcessingTransfer),w(!1)}},ht=()=>a?n==="BR"&&a==="pix"?c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsx("button",{onClick:()=>o(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-start justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg mb-1",children:I.withdrawTransfer.transferViaPix})," ",c.jsx("p",{className:"text-sm text-gray-400",children:I.withdrawTransfer.instantTransfer})," "]}),c.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:c.jsx(ts,{className:"w-6 h-6 text-white"})})]})]}),c.jsx("div",{className:"px-6 mb-6",children:c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-1",children:I.withdrawTransfer.availableBalance})," ",c.jsx("div",{className:"text-white",children:c.jsx(ha,{value:ut(C("BRL")),symbol:"R$"})})]})}),c.jsxs("div",{className:"px-6 space-y-4",children:[c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:I.withdrawTransfer.amountToTransfer})," ",c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-xl font-light text-white",children:he.symbol}),c.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:le=>oe(le.target.value),className:"flex-1 bg-transparent text-xl font-light text-white outline-none placeholder-gray-600"})]}),c.jsxs("div",{className:"text-xs text-gray-400 mt-2",children:[I.withdrawTransfer.min,": ",he.symbol," ",Je?.minAmount,"  ",I.withdrawTransfer.max,": ",he.symbol," ",ut(Je?.maxAmount||0)," "]})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("label",{className:"block text-xs text-gray-400 mb-2",children:I.withdrawTransfer.pixKeyRecipient})," ",c.jsx("input",{type:"text",placeholder:I.withdrawTransfer.pixKeyPlaceholder,value:Y,onChange:le=>qe(le.target.value),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),c.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[I.withdrawTransfer.informPixKey," "]}),q&&c.jsx("p",{className:"text-xs text-red-500 mt-1",children:q})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:I.withdrawTransfer.fee})," ",c.jsxs("span",{className:"text-white",children:[he.symbol," 0,00"]})]}),c.jsx("div",{className:"h-px bg-zinc-800"}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:I.withdrawTransfer.time})," ",c.jsx("span",{className:"text-green-500",children:I.withdrawTransfer.instant})," "]})]}),c.jsxs("button",{onClick:dt,disabled:v,className:"w-full bg-white text-black py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:[v?I.withdrawTransfer.processing:I.withdrawTransfer.confirmTransfer," "]})]})]}):n==="BR"&&a==="bank"?c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsx("button",{onClick:()=>o(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-start justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg mb-1",children:I.withdrawTransfer.bankTransfer})," ",c.jsx("p",{className:"text-sm text-gray-400",children:I.withdrawTransfer.tedOrDoc})," "]}),c.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:c.jsx(ll,{className:"w-6 h-6 text-white"})})]})]}),c.jsx("div",{className:"px-6 mb-6",children:c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-1",children:I.withdrawTransfer.availableBalance})," ",c.jsxs("div",{className:"text-2xl font-bold text-white",children:[he.symbol," ",ut(De)]})]})}),c.jsxs("div",{className:"px-6 space-y-4",children:[c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:I.withdrawTransfer.amount})," ",c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl font-bold text-white",children:he.symbol}),c.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:le=>oe(le.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[c.jsx("input",{type:"text",placeholder:I.withdrawTransfer.bank,value:U.bank,onChange:le=>H({...U,bank:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx("input",{type:"text",placeholder:I.withdrawTransfer.code,value:U.bankCode,onChange:le=>H({...U,bankCode:le.target.value}),className:"bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",c.jsx("input",{type:"text",placeholder:I.withdrawTransfer.agency,value:U.agency,onChange:le=>H({...U,agency:le.target.value}),className:"bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," "]}),c.jsx("input",{type:"text",placeholder:I.withdrawTransfer.account,value:U.account,onChange:le=>H({...U,account:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",c.jsxs("select",{value:U.accountType,onChange:le=>H({...U,accountType:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none",children:[c.jsx("option",{value:"Conta Corrente",children:I.withdrawTransfer.checkingAccount})," ",c.jsx("option",{value:"Conta Poupana",children:I.withdrawTransfer.savingsAccount})," "]}),c.jsx("input",{type:"text",placeholder:I.withdrawTransfer.fullName,value:U.name,onChange:le=>H({...U,name:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",c.jsx("input",{type:"text",placeholder:I.withdrawTransfer.cpfCnpj,value:U.document,onChange:le=>H({...U,document:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," "]}),c.jsxs("button",{onClick:dt,disabled:v,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:[v?I.withdrawTransfer.processing:I.withdrawTransfer.confirmTransfer," "]})]})]}):n==="US"&&(a==="ach"||a==="wire")?c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsx("button",{onClick:()=>o(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-start justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-1",children:a==="ach"?I.withdrawTransfer.achTransfer:I.withdrawTransfer.wireTransfer}),c.jsx("p",{className:"text-sm text-gray-400",children:a==="ach"?I.withdrawTransfer.electronicBankTransfer:I.withdrawTransfer.domesticWire})]}),c.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:a==="ach"?c.jsx(ll,{className:"w-6 h-6 text-white"}):c.jsx(ts,{className:"w-6 h-6 text-white"})})]})]}),c.jsx("div",{className:"px-6 mb-6",children:c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-1",children:I.withdrawTransfer.availableBalance})," ",c.jsxs("div",{className:"text-2xl font-bold text-white",children:[he.symbol," ",ut(De)]})]})}),c.jsxs("div",{className:"px-6 space-y-4",children:[c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:I.withdrawTransfer.amount})," ",c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl font-bold text-white",children:he.symbol}),c.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:le=>oe(le.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[c.jsx("input",{type:"text",placeholder:"Routing Number",value:Q.routingNumber,onChange:le=>Z({...Q,routingNumber:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),c.jsx("input",{type:"text",placeholder:"Account Number",value:Q.accountNumber,onChange:le=>Z({...Q,accountNumber:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),c.jsxs("select",{value:Q.accountType,onChange:le=>Z({...Q,accountType:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none",children:[c.jsx("option",{value:"Checking",children:I.withdrawTransfer.checking})," ",c.jsx("option",{value:"Savings",children:I.withdrawTransfer.savings})," "]}),c.jsx("input",{type:"text",placeholder:I.withdrawTransfer.accountHolderName,value:Q.name,onChange:le=>Z({...Q,name:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",c.jsx("input",{type:"text",placeholder:I.withdrawTransfer.address,value:Q.address,onChange:le=>Z({...Q,address:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," "]}),c.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:I.withdrawTransfer.fee})," ",c.jsxs("span",{className:"font-semibold text-white",children:[he.symbol," ",Je?.fee||0]})]})}),c.jsxs("button",{onClick:dt,disabled:v,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:[v?I.withdrawTransfer.processing:I.withdrawTransfer.confirmTransfer," "]})]})]}):n==="EU"&&(a==="sepa"||a==="instant")?c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsx("button",{onClick:()=>o(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-start justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-1",children:a==="sepa"?I.withdrawTransfer.sepaTransfer:I.withdrawTransfer.sepaInstant}),c.jsx("p",{className:"text-sm text-gray-400",children:a==="sepa"?I.withdrawTransfer.singleEuroPaymentsArea:I.withdrawTransfer.instantTransfer})]}),c.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:a==="sepa"?c.jsx(ll,{className:"w-6 h-6 text-white"}):c.jsx(ts,{className:"w-6 h-6 text-white"})})]})]}),c.jsx("div",{className:"px-6 mb-6",children:c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-1",children:I.withdrawTransfer.availableBalance})," ",c.jsxs("div",{className:"text-2xl font-bold text-white",children:[he.symbol," ",ut(De)]})]})}),c.jsxs("div",{className:"px-6 space-y-4",children:[c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:I.withdrawTransfer.amount})," ",c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl font-bold text-white",children:he.symbol}),c.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:le=>oe(le.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[c.jsx("input",{type:"text",placeholder:"IBAN",value:te.iban,onChange:le=>ae({...te,iban:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500 font-mono text-sm"}),c.jsx("input",{type:"text",placeholder:"BIC/SWIFT (optional)",value:te.bic,onChange:le=>ae({...te,bic:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),c.jsx("input",{type:"text",placeholder:I.withdrawTransfer.beneficiaryName,value:te.name,onChange:le=>ae({...te,name:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",c.jsx("input",{type:"text",placeholder:I.withdrawTransfer.address,value:te.address,onChange:le=>ae({...te,address:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," "]}),c.jsx("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-2",children:c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:I.withdrawTransfer.fee})," ",c.jsxs("span",{className:"font-semibold text-white",children:[he.symbol," ",Je?.fee||0]})]})}),c.jsxs("button",{onClick:dt,disabled:v,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:[v?I.withdrawTransfer.processing:I.withdrawTransfer.confirmTransfer," "]})]})]}):n==="GB"&&(a==="faster"||a==="bacs")?c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24 overflow-y-auto",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsx("button",{onClick:()=>o(null),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-start justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-1",children:a==="faster"?I.withdrawTransfer.fasterPayments:I.withdrawTransfer.bacsTransfer}),c.jsx("p",{className:"text-sm text-gray-400",children:a==="faster"?I.withdrawTransfer.instantBankTransfer:I.withdrawTransfer.standardBankTransfer})]}),c.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-900 flex items-center justify-center",children:a==="faster"?c.jsx(ts,{className:"w-6 h-6 text-white"}):c.jsx(ll,{className:"w-6 h-6 text-white"})})]})]}),c.jsx("div",{className:"px-6 mb-6",children:c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-1",children:I.withdrawTransfer.availableBalance})," ",c.jsxs("div",{className:"text-2xl font-bold text-white",children:[he.symbol," ",ut(De)]})]})}),c.jsxs("div",{className:"px-6 space-y-4",children:[c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("label",{className:"block text-xs text-gray-400 mb-2 font-semibold",children:I.withdrawTransfer.amount})," ",c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl font-bold text-white",children:he.symbol}),c.jsx("input",{type:"text",inputMode:"decimal",placeholder:"0.00",value:l,onChange:le=>oe(le.target.value),className:"flex-1 bg-transparent text-2xl font-bold text-white outline-none placeholder-gray-600"})]})]}),c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4 space-y-3",children:[c.jsx("input",{type:"text",placeholder:"Sort Code (12-34-56)",value:re.sortCode,onChange:le=>xe({...re,sortCode:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),c.jsx("input",{type:"text",placeholder:"Account Number",value:re.accountNumber,onChange:le=>xe({...re,accountNumber:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"}),c.jsx("input",{type:"text",placeholder:I.withdrawTransfer.accountHolderName,value:re.name,onChange:le=>xe({...re,name:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," ",c.jsx("input",{type:"text",placeholder:I.withdrawTransfer.address,value:re.address,onChange:le=>xe({...re,address:le.target.value}),className:"w-full bg-zinc-800 text-white rounded-xl px-4 py-3 outline-none placeholder-gray-500"})," "]}),c.jsxs("button",{onClick:dt,disabled:v,className:"w-full bg-white text-black font-bold py-4 rounded-xl hover:bg-gray-200 transition-colors disabled:opacity-50",children:[v?I.withdrawTransfer.processing:I.withdrawTransfer.confirmTransfer," "]})]})]}):null:null;if(f){let le="";n==="BR"&&a==="pix"?le=`${I.withdrawTransfer.pixKey}: ${Y} (${F})`:n==="BR"&&a==="bank"?le=`${U.name} - ${U.bank} Ag: ${U.agency} Conta: ${U.account}`:n==="US"?le=`${Q.name} - Account: ${Q.accountNumber}`:n==="EU"?le=`${te.name} - IBAN: ${te.iban}`:n==="GB"&&(le=`${re.name} - Sort Code: ${re.sortCode} Account: ${re.accountNumber}`);const Oe={transactionId:L,amount:l,currency:he.currency,symbol:he.symbol,method:Je?.name||"",processingTime:Je?.processingTime||"",fee:Je?.fee||0,recipientInfo:le,date:new Date().toLocaleDateString(K==="pt"?"pt-BR":K==="es"?"es-ES":"en-US",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),status:I.withdrawTransfer.processingStatus};return c.jsx(pSe,{onNavigate:t,transactionData:Oe})}return a?ht():c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsx("button",{onClick:()=>e(),className:"w-10 h-10 rounded-full bg-zinc-900 flex items-center justify-center hover:bg-zinc-800 transition-colors mb-6",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-lg mb-2",children:I.withdrawTransfer.sendMoney})," ",c.jsxs("p",{className:"text-gray-400 text-sm",children:[I.withdrawTransfer.chooseCountryAndMethod," "]})]}),c.jsxs("div",{className:"px-6 mb-6",children:[c.jsx("label",{className:"block text-xs text-gray-400 mb-3 font-semibold",children:I.withdrawTransfer.selectAccount})," ",D?c.jsx("div",{className:"bg-zinc-900/50 rounded-2xl h-32 animate-pulse"}):k.length===0?c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-6 text-center",children:[c.jsx("p",{className:"text-gray-400 text-sm mb-2",children:I.fiatAccounts.noAccountsFound})," ",c.jsx("p",{className:"text-xs text-gray-500",children:I.withdrawTransfer.addAccountHome})," "]}):c.jsx("div",{className:"space-y-3",children:k.map(le=>{const Oe=bt(le),wt=i?.id===le.id;return c.jsxs("button",{onClick:()=>{s(le);const lt={BR:"BR",US:"US",PT:"EU",ES:"EU",FR:"EU",DE:"EU",IT:"EU",GB:"GB",UK:"GB"}[le.country]||"BR";r(lt)},className:`w-full bg-gradient-to-br from-zinc-800/90 via-zinc-900/95 to-black backdrop-blur-xl rounded-2xl p-4 border transition-all active:scale-[0.98] text-left relative overflow-hidden group ${wt?"ring-2 ring-white border-white/30":"border-zinc-700/60 hover:border-zinc-600"}`,children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/[0.05] via-transparent to-transparent pointer-events-none"}),c.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[c.jsx("div",{className:"flex items-center gap-3 flex-1",children:c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-lg font-semibold text-white mb-1",children:le.currency}),c.jsxs("div",{className:"flex items-center gap-2",children:[Oe.icon&&c.jsx("span",{className:"text-cyan-400 text-xs",children:Oe.icon}),c.jsx("span",{className:"text-xs text-gray-400",children:Oe.label})]})]})}),c.jsxs("div",{className:"text-right ml-3",children:[c.jsx("div",{className:"text-base font-semibold text-white tabular-nums",children:Vt(le.currency)}),(le.iban||le.accountNumber)&&c.jsxs("div",{className:"text-xs text-gray-500 mt-1 font-mono",children:[" ",(le.iban||le.accountNumber).slice(-4)]})]})]})]},le.id)})})]}),c.jsx("div",{className:"px-6 mb-6",children:c.jsxs("div",{className:"bg-zinc-900 rounded-2xl p-4",children:[c.jsx("div",{className:"text-xs text-gray-400 mb-1",children:I.withdrawTransfer.availableForTransfer})," ",c.jsx("div",{className:"text-white",children:i?c.jsx(ha,{value:ut(C(i.currency)),symbol:Qe[i.currency]}):c.jsx(ha,{value:ut(C(he.currency)),symbol:he.symbol})}),c.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[i?`${I.withdrawTransfer.account} ${i.currency}`:` ${ut(Te)} USDT`," "]})]})}),c.jsxs("div",{className:"flex-1 px-6",children:[c.jsx("label",{className:"block text-xs text-gray-400 mb-3 font-semibold",children:I.withdrawTransfer.transferMethods})," ",c.jsx("div",{className:"space-y-3",children:Ye.map(le=>{const Oe=le.icon;return c.jsxs("button",{onClick:()=>o(le.id),className:"w-full bg-zinc-900 hover:bg-zinc-800 transition-colors rounded-2xl p-4 flex items-center gap-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-white/5 flex items-center justify-center flex-shrink-0",children:c.jsx(Oe,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"font-semibold text-lg mb-1",children:le.name}),c.jsx("div",{className:"text-sm text-gray-400",children:le.description}),c.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[le.processingTime,"  ",I.withdrawTransfer.noTransferLimit," "]})]}),c.jsx("div",{className:"text-gray-400",children:c.jsx(vt,{className:"w-5 h-5 rotate-180"})})]},le.id)})})]}),c.jsx("div",{className:"px-6 pt-4",children:c.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-xl p-4 text-sm text-yellow-200/90",children:[c.jsxs("p",{className:"font-semibold mb-1",children:[" ",I.withdrawTransfer.important]})," ",c.jsxs("p",{className:"text-xs text-yellow-200/70",children:[I.withdrawTransfer.verifyBankData," "]})]})})]})}const ySe=t=>{const e=new Map;e.set("web",{name:"web"});const n=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},r=(s,a)=>{n.platforms.set(s,a)},i=s=>{n.platforms.has(s)&&(n.currentPlatform=n.platforms.get(s))};return n.addPlatform=r,n.setPlatform=i,n},vSe=t=>t.CapacitorPlatforms=ySe(t),N7=vSe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});N7.addPlatform;N7.setPlatform;var jf;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(jf||(jf={}));class VE extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const xSe=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},bSe=t=>{var e,n,r,i,s;const a=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},l=o.Plugins=o.Plugins||{},d=t.CapacitorPlatforms,f=()=>a!==null?a.name:xSe(t),m=((e=d?.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||f,p=()=>m()!=="web",y=((n=d?.currentPlatform)===null||n===void 0?void 0:n.isNativePlatform)||p,v=C=>{const S=z.get(C);return!!(S?.platforms.has(m())||T(C))},w=((r=d?.currentPlatform)===null||r===void 0?void 0:r.isPluginAvailable)||v,_=C=>{var S;return(S=o.PluginHeaders)===null||S===void 0?void 0:S.find(k=>k.name===C)},T=((i=d?.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||_,L=C=>t.console.error(C),O=(C,S,k)=>Promise.reject(`${k} does not have an implementation of "${S}".`),z=new Map,j=(C,S={})=>{const k=z.get(C);if(k)return console.warn(`Capacitor plugin "${C}" already registered. Cannot register plugins twice.`),k.proxy;const A=m(),D=T(C);let M;const I=async()=>(!M&&A in S?M=typeof S[A]=="function"?M=await S[A]():M=S[A]:a!==null&&!M&&"web"in S&&(M=typeof S.web=="function"?M=await S.web():M=S.web),M),K=(R,U)=>{var H,Q;if(D){const Z=D?.methods.find(te=>U===te.name);if(Z)return Z.rtype==="promise"?te=>o.nativePromise(C,U.toString(),te):(te,ae)=>o.nativeCallback(C,U.toString(),te,ae);if(R)return(H=R[U])===null||H===void 0?void 0:H.bind(R)}else{if(R)return(Q=R[U])===null||Q===void 0?void 0:Q.bind(R);throw new VE(`"${C}" plugin is not implemented on ${A}`,jf.Unimplemented)}},Y=R=>{let U;const H=(...Q)=>{const Z=I().then(te=>{const ae=K(te,R);if(ae){const re=ae(...Q);return U=re?.remove,re}else throw new VE(`"${C}.${R}()" is not implemented on ${A}`,jf.Unimplemented)});return R==="addListener"&&(Z.remove=async()=>U()),Z};return H.toString=()=>`${R.toString()}() { [capacitor code] }`,Object.defineProperty(H,"name",{value:R,writable:!1,configurable:!1}),H},J=Y("addListener"),F=Y("removeListener"),G=(R,U)=>{const H=J({eventName:R},U),Q=async()=>{const te=await H;F({eventName:R,callbackId:te},U)},Z=new Promise(te=>H.then(()=>te({remove:Q})));return Z.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Q()},Z},q=new Proxy({},{get(R,U){switch(U){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return D?G:J;case"removeListener":return F;default:return Y(U)}}});return l[C]=q,z.set(C,{name:C,proxy:q,platforms:new Set([...Object.keys(S),...D?[A]:[]])}),q},P=((s=d?.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||j;return o.convertFileSrc||(o.convertFileSrc=C=>C),o.getPlatform=m,o.handleError=L,o.isNativePlatform=y,o.isPluginAvailable=w,o.pluginMethodNoop=O,o.registerPlugin=P,o.Exception=VE,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},wSe=t=>t.Capacitor=bSe(t),ex=wSe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),ng=ex.registerPlugin;ex.Plugins;class I7{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),r&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(n))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new ex.Exception(e,jf.Unimplemented)}unavailable(e="not available"){return new ex.Exception(e,jf.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const YL=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),QL=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class _Se extends I7{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=QL(i).trim(),s=QL(s).trim(),n[i]=s}),n}async setCookie(e){try{const n=YL(e.key),r=YL(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${s}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}ng("CapacitorCookies",{web:()=>new _Se});const ESe=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),TSe=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},CSe=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[s,a]=i;let o,l;return Array.isArray(a)?(l="",a.forEach(d=>{o=e?encodeURIComponent(d):d,l+=`${s}=${o}&`}),l.slice(0,-1)):(o=e?encodeURIComponent(a):a,l=`${s}=${o}`),`${r}&${l}`},"").substr(1):null,SSe=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=TSe(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))s.set(a,o);n.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((o,l)=>{s.append(l,o)});else for(const o of Object.keys(t.data))s.append(o,t.data[o]);n.body=s;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class PSe extends I7{async request(e){const n=SSe(e,e.webFetchExtra),r=CSe(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,s=await fetch(i,n),a=s.headers.get("content-type")||"";let{responseType:o="text"}=s.ok?e:{};a.includes("application/json")&&(o="json");let l,d;switch(o){case"arraybuffer":case"blob":d=await s.blob(),l=await ESe(d);break;case"json":l=await s.json();break;default:l=await s.text()}const f={};return s.headers.forEach((m,p)=>{f[p]=m}),{data:l,headers:f,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}ng("CapacitorHttp",{web:()=>new PSe});const ASe=ng("Share",{web:()=>fN(()=>import("./web-BwZ76Iny.js"),[]).then(t=>new t.ShareWeb)});var Rd={},FE,JL;function NSe(){return JL||(JL=1,FE=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),FE}var BE={},ul={},ZL;function Vu(){if(ZL)return ul;ZL=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ul.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},ul.getSymbolTotalCodewords=function(r){return e[r]},ul.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},ul.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},ul.isKanjiModeEnabled=function(){return typeof t<"u"},ul.toSJIS=function(r){return t(r)},ul}var zE={},eV;function KN(){return eV||(eV=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(zE)),zE}var UE,tV;function ISe(){if(tV)return UE;tV=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},UE=t,UE}var $E,nV;function jSe(){if(nV)return $E;nV=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},$E=t,$E}var qE={},rV;function kSe(){return rV||(rV=1,(function(t){const e=Vu().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),a=s===145?26:Math.ceil((s-13)/(2*i-2))*2,o=[s-7];for(let l=1;l<i-1;l++)o[l]=o[l-1]-a;return o.push(6),o.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),a=s.length;for(let o=0;o<a;o++)for(let l=0;l<a;l++)o===0&&l===0||o===0&&l===a-1||o===a-1&&l===0||i.push([s[o],s[l]]);return i}})(qE)),qE}var WE={},iV;function RSe(){if(iV)return WE;iV=1;const t=Vu().getSymbolSize,e=7;return WE.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},WE}var HE={},sV;function DSe(){return sV||(sV=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let a=0,o=0,l=0,d=null,f=null;for(let m=0;m<s;m++){o=l=0,d=f=null;for(let p=0;p<s;p++){let y=i.get(m,p);y===d?o++:(o>=5&&(a+=e.N1+(o-5)),d=y,o=1),y=i.get(p,m),y===f?l++:(l>=5&&(a+=e.N1+(l-5)),f=y,l=1)}o>=5&&(a+=e.N1+(o-5)),l>=5&&(a+=e.N1+(l-5))}return a},t.getPenaltyN2=function(i){const s=i.size;let a=0;for(let o=0;o<s-1;o++)for(let l=0;l<s-1;l++){const d=i.get(o,l)+i.get(o,l+1)+i.get(o+1,l)+i.get(o+1,l+1);(d===4||d===0)&&a++}return a*e.N2},t.getPenaltyN3=function(i){const s=i.size;let a=0,o=0,l=0;for(let d=0;d<s;d++){o=l=0;for(let f=0;f<s;f++)o=o<<1&2047|i.get(d,f),f>=10&&(o===1488||o===93)&&a++,l=l<<1&2047|i.get(f,d),f>=10&&(l===1488||l===93)&&a++}return a*e.N3},t.getPenaltyN4=function(i){let s=0;const a=i.data.length;for(let l=0;l<a;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/a/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(i,s){const a=s.size;for(let o=0;o<a;o++)for(let l=0;l<a;l++)s.isReserved(l,o)||s.xor(l,o,n(i,l,o))},t.getBestMask=function(i,s){const a=Object.keys(t.Patterns).length;let o=0,l=1/0;for(let d=0;d<a;d++){s(d),t.applyMask(d,i);const f=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(d,i),f<l&&(l=f,o=d)}return o}})(HE)),HE}var Jy={},aV;function j7(){if(aV)return Jy;aV=1;const t=KN(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Jy.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},Jy.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},Jy}var KE={},nm={},oV;function OSe(){if(oV)return nm;oV=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),nm.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},nm.exp=function(r){return t[r]},nm.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},nm}var lV;function MSe(){return lV||(lV=1,(function(t){const e=OSe();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let a=0;a<r.length;a++)for(let o=0;o<i.length;o++)s[a+o]^=e.mul(r[a],i[o]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const a=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],a);let o=0;for(;o<s.length&&s[o]===0;)o++;s=s.slice(o)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(KE)),KE}var GE,cV;function LSe(){if(cV)return GE;cV=1;const t=MSe();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),a=this.degree-s.length;if(a>0){const o=new Uint8Array(this.degree);return o.set(s,a),o}return s},GE=e,GE}var XE={},YE={},QE={},uV;function k7(){return uV||(uV=1,QE.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),QE}var ca={},dV;function R7(){if(dV)return ca;dV=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;ca.KANJI=new RegExp(n,"g"),ca.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),ca.BYTE=new RegExp(r,"g"),ca.NUMERIC=new RegExp(t,"g"),ca.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+t+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return ca.testKanji=function(l){return i.test(l)},ca.testNumeric=function(l){return s.test(l)},ca.testAlphanumeric=function(l){return a.test(l)},ca}var fV;function Fu(){return fV||(fV=1,(function(t){const e=k7(),n=R7();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,a){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?s.ccBits[0]:a<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,a){if(t.isValid(s))return s;try{return r(s)}catch{return a}}})(YE)),YE}var hV;function VSe(){return hV||(hV=1,(function(t){const e=Vu(),n=j7(),r=KN(),i=Fu(),s=k7(),a=7973,o=e.getBCHDigit(a);function l(p,y,v){for(let w=1;w<=40;w++)if(y<=t.getCapacity(w,v,p))return w}function d(p,y){return i.getCharCountIndicator(p,y)+4}function f(p,y){let v=0;return p.forEach(function(w){const _=d(w.mode,y);v+=_+w.getBitsLength()}),v}function m(p,y){for(let v=1;v<=40;v++)if(f(p,v)<=t.getCapacity(v,y,i.MIXED))return v}t.from=function(y,v){return s.isValid(y)?parseInt(y,10):v},t.getCapacity=function(y,v,w){if(!s.isValid(y))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=i.BYTE);const _=e.getSymbolTotalCodewords(y),T=n.getTotalCodewordsCount(y,v),L=(_-T)*8;if(w===i.MIXED)return L;const O=L-d(w,y);switch(w){case i.NUMERIC:return Math.floor(O/10*3);case i.ALPHANUMERIC:return Math.floor(O/11*2);case i.KANJI:return Math.floor(O/13);case i.BYTE:default:return Math.floor(O/8)}},t.getBestVersionForData=function(y,v){let w;const _=r.from(v,r.M);if(Array.isArray(y)){if(y.length>1)return m(y,_);if(y.length===0)return 1;w=y[0]}else w=y;return l(w.mode,w.getLength(),_)},t.getEncodedBits=function(y){if(!s.isValid(y)||y<7)throw new Error("Invalid QR Code version");let v=y<<12;for(;e.getBCHDigit(v)-o>=0;)v^=a<<e.getBCHDigit(v)-o;return y<<12|v}})(XE)),XE}var JE={},mV;function FSe(){if(mV)return JE;mV=1;const t=Vu(),e=1335,n=21522,r=t.getBCHDigit(e);return JE.getEncodedBits=function(s,a){const o=s.bit<<3|a;let l=o<<10;for(;t.getBCHDigit(l)-r>=0;)l^=e<<t.getBCHDigit(l)-r;return(o<<10|l)^n},JE}var ZE={},eT,pV;function BSe(){if(pV)return eT;pV=1;const t=Fu();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,a;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),a=parseInt(s,10),r.put(a,10);const o=this.data.length-i;o>0&&(s=this.data.substr(i),a=parseInt(s,10),r.put(a,o*3+1))},eT=e,eT}var tT,gV;function zSe(){if(gV)return tT;gV=1;const t=Fu(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let a=e.indexOf(this.data[s])*45;a+=e.indexOf(this.data[s+1]),i.put(a,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},tT=n,tT}var nT,yV;function USe(){if(yV)return nT;yV=1;const t=Fu();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},nT=e,nT}var rT,vV;function $Se(){if(vV)return rT;vV=1;const t=Fu(),e=Vu();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},rT=n,rT}var iT={exports:{}},xV;function qSe(){return xV||(xV=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},a={};a[r]=0;var o=e.PriorityQueue.make();o.push(r,0);for(var l,d,f,m,p,y,v,w,_;!o.empty();){l=o.pop(),d=l.value,m=l.cost,p=n[d]||{};for(f in p)p.hasOwnProperty(f)&&(y=p[f],v=m+y,w=a[f],_=typeof a[f]>"u",(_||w>v)&&(a[f]=v,o.push(f,v),s[f]=d))}if(typeof i<"u"&&typeof a[i]>"u"){var T=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(T)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(iT)),iT.exports}var bV;function WSe(){return bV||(bV=1,(function(t){const e=Fu(),n=BSe(),r=zSe(),i=USe(),s=$Se(),a=R7(),o=Vu(),l=qSe();function d(T){return unescape(encodeURIComponent(T)).length}function f(T,L,O){const z=[];let j;for(;(j=T.exec(O))!==null;)z.push({data:j[0],index:j.index,mode:L,length:j[0].length});return z}function m(T){const L=f(a.NUMERIC,e.NUMERIC,T),O=f(a.ALPHANUMERIC,e.ALPHANUMERIC,T);let z,j;return o.isKanjiModeEnabled()?(z=f(a.BYTE,e.BYTE,T),j=f(a.KANJI,e.KANJI,T)):(z=f(a.BYTE_KANJI,e.BYTE,T),j=[]),L.concat(O,z,j).sort(function(C,S){return C.index-S.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function p(T,L){switch(L){case e.NUMERIC:return n.getBitsLength(T);case e.ALPHANUMERIC:return r.getBitsLength(T);case e.KANJI:return s.getBitsLength(T);case e.BYTE:return i.getBitsLength(T)}}function y(T){return T.reduce(function(L,O){const z=L.length-1>=0?L[L.length-1]:null;return z&&z.mode===O.mode?(L[L.length-1].data+=O.data,L):(L.push(O),L)},[])}function v(T){const L=[];for(let O=0;O<T.length;O++){const z=T[O];switch(z.mode){case e.NUMERIC:L.push([z,{data:z.data,mode:e.ALPHANUMERIC,length:z.length},{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.ALPHANUMERIC:L.push([z,{data:z.data,mode:e.BYTE,length:z.length}]);break;case e.KANJI:L.push([z,{data:z.data,mode:e.BYTE,length:d(z.data)}]);break;case e.BYTE:L.push([{data:z.data,mode:e.BYTE,length:d(z.data)}])}}return L}function w(T,L){const O={},z={start:{}};let j=["start"];for(let P=0;P<T.length;P++){const C=T[P],S=[];for(let k=0;k<C.length;k++){const A=C[k],D=""+P+k;S.push(D),O[D]={node:A,lastCount:0},z[D]={};for(let M=0;M<j.length;M++){const I=j[M];O[I]&&O[I].node.mode===A.mode?(z[I][D]=p(O[I].lastCount+A.length,A.mode)-p(O[I].lastCount,A.mode),O[I].lastCount+=A.length):(O[I]&&(O[I].lastCount=A.length),z[I][D]=p(A.length,A.mode)+4+e.getCharCountIndicator(A.mode,L))}}j=S}for(let P=0;P<j.length;P++)z[j[P]].end=0;return{map:z,table:O}}function _(T,L){let O;const z=e.getBestModeForData(T);if(O=e.from(L,z),O!==e.BYTE&&O.bit<z.bit)throw new Error('"'+T+'" cannot be encoded with mode '+e.toString(O)+`.
 Suggested mode is: `+e.toString(z));switch(O===e.KANJI&&!o.isKanjiModeEnabled()&&(O=e.BYTE),O){case e.NUMERIC:return new n(T);case e.ALPHANUMERIC:return new r(T);case e.KANJI:return new s(T);case e.BYTE:return new i(T)}}t.fromArray=function(L){return L.reduce(function(O,z){return typeof z=="string"?O.push(_(z,null)):z.data&&O.push(_(z.data,z.mode)),O},[])},t.fromString=function(L,O){const z=m(L,o.isKanjiModeEnabled()),j=v(z),P=w(j,O),C=l.find_path(P.map,"start","end"),S=[];for(let k=1;k<C.length-1;k++)S.push(P.table[C[k]].node);return t.fromArray(y(S))},t.rawSplit=function(L){return t.fromArray(m(L,o.isKanjiModeEnabled()))}})(ZE)),ZE}var wV;function HSe(){if(wV)return BE;wV=1;const t=Vu(),e=KN(),n=ISe(),r=jSe(),i=kSe(),s=RSe(),a=DSe(),o=j7(),l=LSe(),d=VSe(),f=FSe(),m=Fu(),p=WSe();function y(P,C){const S=P.size,k=s.getPositions(C);for(let A=0;A<k.length;A++){const D=k[A][0],M=k[A][1];for(let I=-1;I<=7;I++)if(!(D+I<=-1||S<=D+I))for(let K=-1;K<=7;K++)M+K<=-1||S<=M+K||(I>=0&&I<=6&&(K===0||K===6)||K>=0&&K<=6&&(I===0||I===6)||I>=2&&I<=4&&K>=2&&K<=4?P.set(D+I,M+K,!0,!0):P.set(D+I,M+K,!1,!0))}}function v(P){const C=P.size;for(let S=8;S<C-8;S++){const k=S%2===0;P.set(S,6,k,!0),P.set(6,S,k,!0)}}function w(P,C){const S=i.getPositions(C);for(let k=0;k<S.length;k++){const A=S[k][0],D=S[k][1];for(let M=-2;M<=2;M++)for(let I=-2;I<=2;I++)M===-2||M===2||I===-2||I===2||M===0&&I===0?P.set(A+M,D+I,!0,!0):P.set(A+M,D+I,!1,!0)}}function _(P,C){const S=P.size,k=d.getEncodedBits(C);let A,D,M;for(let I=0;I<18;I++)A=Math.floor(I/3),D=I%3+S-8-3,M=(k>>I&1)===1,P.set(A,D,M,!0),P.set(D,A,M,!0)}function T(P,C,S){const k=P.size,A=f.getEncodedBits(C,S);let D,M;for(D=0;D<15;D++)M=(A>>D&1)===1,D<6?P.set(D,8,M,!0):D<8?P.set(D+1,8,M,!0):P.set(k-15+D,8,M,!0),D<8?P.set(8,k-D-1,M,!0):D<9?P.set(8,15-D-1+1,M,!0):P.set(8,15-D-1,M,!0);P.set(k-8,8,1,!0)}function L(P,C){const S=P.size;let k=-1,A=S-1,D=7,M=0;for(let I=S-1;I>0;I-=2)for(I===6&&I--;;){for(let K=0;K<2;K++)if(!P.isReserved(A,I-K)){let Y=!1;M<C.length&&(Y=(C[M]>>>D&1)===1),P.set(A,I-K,Y),D--,D===-1&&(M++,D=7)}if(A+=k,A<0||S<=A){A-=k,k=-k;break}}}function O(P,C,S){const k=new n;S.forEach(function(K){k.put(K.mode.bit,4),k.put(K.getLength(),m.getCharCountIndicator(K.mode,P)),K.write(k)});const A=t.getSymbolTotalCodewords(P),D=o.getTotalCodewordsCount(P,C),M=(A-D)*8;for(k.getLengthInBits()+4<=M&&k.put(0,4);k.getLengthInBits()%8!==0;)k.putBit(0);const I=(M-k.getLengthInBits())/8;for(let K=0;K<I;K++)k.put(K%2?17:236,8);return z(k,P,C)}function z(P,C,S){const k=t.getSymbolTotalCodewords(C),A=o.getTotalCodewordsCount(C,S),D=k-A,M=o.getBlocksCount(C,S),I=k%M,K=M-I,Y=Math.floor(k/M),J=Math.floor(D/M),F=J+1,G=Y-J,q=new l(G);let R=0;const U=new Array(M),H=new Array(M);let Q=0;const Z=new Uint8Array(P.buffer);for(let se=0;se<M;se++){const he=se<K?J:F;U[se]=Z.slice(R,R+he),H[se]=q.encode(U[se]),R+=he,Q=Math.max(Q,he)}const te=new Uint8Array(k);let ae=0,re,xe;for(re=0;re<Q;re++)for(xe=0;xe<M;xe++)re<U[xe].length&&(te[ae++]=U[xe][re]);for(re=0;re<G;re++)for(xe=0;xe<M;xe++)te[ae++]=H[xe][re];return te}function j(P,C,S,k){let A;if(Array.isArray(P))A=p.fromArray(P);else if(typeof P=="string"){let Y=C;if(!Y){const J=p.rawSplit(P);Y=d.getBestVersionForData(J,S)}A=p.fromString(P,Y||40)}else throw new Error("Invalid data");const D=d.getBestVersionForData(A,S);if(!D)throw new Error("The amount of data is too big to be stored in a QR Code");if(!C)C=D;else if(C<D)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+D+`.
`);const M=O(C,S,A),I=t.getSymbolSize(C),K=new r(I);return y(K,C),v(K),w(K,C),T(K,S,0),C>=7&&_(K,C),L(K,M),isNaN(k)&&(k=a.getBestMask(K,T.bind(null,K,S))),a.applyMask(k,K),T(K,S,k),{modules:K,version:C,errorCorrectionLevel:S,maskPattern:k,segments:A}}return BE.create=function(C,S){if(typeof C>"u"||C==="")throw new Error("No input text");let k=e.M,A,D;return typeof S<"u"&&(k=e.from(S.errorCorrectionLevel,e.M),A=d.from(S.version),D=a.from(S.maskPattern),S.toSJISFunc&&t.setToSJISFunction(S.toSJISFunc)),j(C,A,k,D)},BE}var sT={},aT={},_V;function D7(){return _V||(_V=1,(function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,a=r.scale||4;return{width:s,scale:s?4:a,margin:i,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const a=i.modules.size,o=i.modules.data,l=t.getScale(a,s),d=Math.floor((a+s.margin*2)*l),f=s.margin*l,m=[s.color.light,s.color.dark];for(let p=0;p<d;p++)for(let y=0;y<d;y++){let v=(p*d+y)*4,w=s.color.light;if(p>=f&&y>=f&&p<d-f&&y<d-f){const _=Math.floor((p-f)/l),T=Math.floor((y-f)/l);w=m[o[_*a+T]?1:0]}r[v++]=w.r,r[v++]=w.g,r[v++]=w.b,r[v]=w.a}}})(aT)),aT}var EV;function KSe(){return EV||(EV=1,(function(t){const e=D7();function n(i,s,a){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=a,s.width=a,s.style.height=a+"px",s.style.width=a+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,a,o){let l=o,d=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(d=r()),l=e.getOptions(l);const f=e.getImageWidth(s.modules.size,l),m=d.getContext("2d"),p=m.createImageData(f,f);return e.qrToImageData(p.data,s,l),n(m,d,f),m.putImageData(p,0,0),d},t.renderToDataURL=function(s,a,o){let l=o;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const d=t.render(s,a,l),f=l.type||"image/png",m=l.rendererOpts||{};return d.toDataURL(f,m.quality)}})(sT)),sT}var oT={},TV;function GSe(){if(TV)return oT;TV=1;const t=D7();function e(i,s){const a=i.a/255,o=s+'="'+i.hex+'"';return a<1?o+" "+s+'-opacity="'+a.toFixed(2).slice(1)+'"':o}function n(i,s,a){let o=i+s;return typeof a<"u"&&(o+=" "+a),o}function r(i,s,a){let o="",l=0,d=!1,f=0;for(let m=0;m<i.length;m++){const p=Math.floor(m%s),y=Math.floor(m/s);!p&&!d&&(d=!0),i[m]?(f++,m>0&&p>0&&i[m-1]||(o+=d?n("M",p+a,.5+y+a):n("m",l,0),l=0,d=!1),p+1<s&&i[m+1]||(o+=n("h",f),f=0)):l++}return o}return oT.render=function(s,a,o){const l=t.getOptions(a),d=s.modules.size,f=s.modules.data,m=d+l.margin*2,p=l.color.light.a?"<path "+e(l.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",y="<path "+e(l.color.dark,"stroke")+' d="'+r(f,d,l.margin)+'"/>',v='viewBox="0 0 '+m+" "+m+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+v+' shape-rendering="crispEdges">'+p+y+`</svg>
`;return typeof o=="function"&&o(null,_),_},oT}var CV;function XSe(){if(CV)return Rd;CV=1;const t=NSe(),e=HSe(),n=KSe(),r=GSe();function i(s,a,o,l,d){const f=[].slice.call(arguments,1),m=f.length,p=typeof f[m-1]=="function";if(!p&&!t())throw new Error("Callback required as last argument");if(p){if(m<2)throw new Error("Too few arguments provided");m===2?(d=o,o=a,a=l=void 0):m===3&&(a.getContext&&typeof d>"u"?(d=l,l=void 0):(d=l,l=o,o=a,a=void 0))}else{if(m<1)throw new Error("Too few arguments provided");return m===1?(o=a,a=l=void 0):m===2&&!a.getContext&&(l=o,o=a,a=void 0),new Promise(function(y,v){try{const w=e.create(o,l);y(s(w,a,l))}catch(w){v(w)}})}try{const y=e.create(o,l);d(null,s(y,a,l))}catch(y){d(y)}}return Rd.create=e.create,Rd.toCanvas=i.bind(null,n.render),Rd.toDataURL=i.bind(null,n.renderToDataURL),Rd.toString=i.bind(null,function(s,a,o){return r.render(s,o)}),Rd}var YSe=XSe();const QSe=Ei(YSe),SV=[{symbol:"USDT",name:"Tether",id:"tether"},{symbol:"BTC",name:"Bitcoin",id:"bitcoin"},{symbol:"ETH",name:"Ethereum",id:"ethereum"},{symbol:"BNB",name:"Binance Coin",id:"binancecoin"},{symbol:"SOL",name:"Solana",id:"solana"},{symbol:"ADA",name:"Cardano",id:"cardano"},{symbol:"XRP",name:"Ripple",id:"ripple"},{symbol:"DOT",name:"Polkadot",id:"polkadot"},{symbol:"DOGE",name:"Dogecoin",id:"dogecoin"},{symbol:"AVAX",name:"Avalanche",id:"avalanche-2"},{symbol:"MATIC",name:"Polygon",id:"matic-network"},{symbol:"LINK",name:"Chainlink",id:"chainlink"},{symbol:"UNI",name:"Uniswap",id:"uniswap"},{symbol:"LTC",name:"Litecoin",id:"litecoin"},{symbol:"ATOM",name:"Cosmos",id:"cosmos"},{symbol:"TRX",name:"Tron",id:"tron"}],rm=[{id:"Ethereum",name:"Ethereum (ERC20)",icon:"ETH",shortName:"ETH"},{id:"Tron",name:"Tron (TRC20)",icon:"TRX",shortName:"TRX"},{id:"Polygon",name:"Polygon",icon:"MATIC",shortName:"MATIC"},{id:"Solana",name:"Solana",icon:"SOL",shortName:"SOL"},{id:"BSC",name:"BNB Smart Chain",icon:"BNB",shortName:"BNB"},{id:"Bitcoin",name:"Bitcoin",icon:"BTC",shortName:"BTC"},{id:"Ripple",name:"Ripple",icon:"XRP",shortName:"XRP"}];function JSe({onNavigate:t}){const[e,n]=E.useState(null),[r,i]=E.useState("Tron"),[s,a]=E.useState(""),[o,l]=E.useState(!1),[d,f]=E.useState(!1),[m,p]=E.useState(""),[y,v]=E.useState(""),[w,_]=E.useState(!1),[T,L]=E.useState(!1),O=E.useRef(null),z=E.useRef(null),{getAddressForNetwork:j,regenerateAddress:P,isLoading:C}=A7(),{portfolio:S}=Ks(),{prices:k}=Ti(),{t:A,language:D}=xt();E.useEffect(()=>{const Q=Z=>{z.current&&!z.current.contains(Z.target)&&_(!1)};return w&&document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[w]);const M=Q=>S.holdings.find(te=>te.symbol===Q)?.amount||0,I=(Q,Z)=>(k[Q]?.usd||0)*Z,K=SV.filter(Q=>Q.symbol.toLowerCase().includes(m.toLowerCase())||Q.name.toLowerCase().includes(m.toLowerCase()));E.useEffect(()=>{e&&Y()},[r,e]),E.useEffect(()=>{s&&O.current&&QSe.toCanvas(O.current,s,{width:192,margin:2,color:{dark:"#FFFFFF",light:"#09090b"}}).catch(Q=>{console.error("Erro ao gerar QR Code:",Q)})},[s]);const Y=async()=>{try{const Q=await j(r);a(Q),f(!1),console.log(` Endereo carregado para ${r}:`,Q)}catch(Q){console.error(" Erro ao carregar endereo:",Q),Ge.error(A.receiveCrypto.generatingAddress)}},J=async()=>{if(!s){Ge.error("Nenhum endereo disponvel");return}if(await Sb(s)){f(!0);const Z=rm.find(te=>te.id===r);Ge.success(A.receiveCrypto.copied,{description:`${Z?.shortName}  ${s.substring(0,8)}...`}),setTimeout(()=>{f(!1)},3e3)}},F=async()=>{if(r){l(!0);try{console.log(` Regenerando endereo para ${r}...`);const Q=await P(r);a(Q),f(!1);const Z=rm.find(te=>te.id===r);Ge.success(A.receiveCrypto.copied,{description:`${Z?.shortName}  ${Q.substring(0,8)}...`}),console.log(` Novo endereo gerado para ${r}:`,Q)}catch(Q){console.error(" Erro ao regenerar endereo:",Q),Ge.error("Erro ao gerar novo endereo")}finally{l(!1)}}},G=async()=>{if(s)try{await ASe.share({title:`Meu endereo ${e}`,text:`Meu endereo ${e} (${r}): ${s}`,url:"",dialogTitle:"Compartilhar endereo"})}catch(Q){console.error("Erro ao compartilhar:",Q)}},q=Q=>{n(Q.symbol),p("")},R=()=>{e?(n(null),a(""),v("")):t("wallet")},U=rm.find(Q=>Q.id===r),H=SV.find(Q=>Q.symbol===e);return T?c.jsx("div",{className:"min-h-screen bg-black text-white pb-6",children:c.jsxs("div",{className:"px-6 pt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx("button",{onClick:()=>L(!1),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:c.jsx(vt,{className:"w-5 h-5 text-white"})}),c.jsx("h1",{className:"text-lg text-white",children:A.receiveCrypto.helpTitle}),c.jsx("div",{className:"w-10"})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"bg-yellow-500/10 border border-yellow-500/20 rounded-2xl p-5",children:c.jsxs("div",{className:"flex gap-3",children:[c.jsx("div",{className:"text-yellow-500 text-2xl",children:""}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-yellow-200 font-semibold mb-2",children:A.receiveCrypto.attention}),c.jsx("p",{className:"text-yellow-200/80 text-sm leading-relaxed",children:A.receiveCrypto.attentionDesc})]})]})}),c.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"text-2xl",children:""}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white font-semibold mb-2",children:A.receiveCrypto.uniqueAddress}),c.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:A.receiveCrypto.uniqueAddressDesc})]})]})}),c.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"text-2xl",children:""}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white font-semibold mb-2",children:A.receiveCrypto.security}),c.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:A.receiveCrypto.securityDesc})]})]})}),c.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"text-2xl",children:""}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white font-semibold mb-2",children:A.receiveCrypto.howItWorks}),c.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:A.receiveCrypto.howItWorksDesc})]})]})}),c.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-5",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"text-2xl",children:""}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white font-semibold mb-2",children:A.receiveCrypto.importantTip}),c.jsx("p",{className:"text-white/70 text-sm leading-relaxed",children:A.receiveCrypto.importantTipDesc})]})]})})]})]})}):e?c.jsx("div",{className:"min-h-screen bg-black text-white pb-6",children:c.jsxs("div",{className:"px-6 pt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx("button",{onClick:R,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:c.jsx(vt,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-lg text-white",children:A.receiveCrypto.receiveCryptoTitle.replace("{crypto}",e)}),c.jsx("p",{className:"text-sm text-white/60",children:H?.name})]}),c.jsx("div",{className:"w-10"})]}),c.jsxs("div",{className:"mb-6",ref:z,children:[c.jsx("label",{className:"block text-white/70 text-sm font-semibold mb-3",children:A.receiveCrypto.selectNetwork}),c.jsx("button",{onClick:()=>_(!w),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex items-center gap-3",children:U&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:c.jsx($t,{symbol:U.icon,size:"sm"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-white font-semibold",children:U.name}),c.jsx("div",{className:"text-xs text-gray-400",children:U.shortName})]})]})}),c.jsx("svg",{className:`w-5 h-5 text-white/60 transition-transform ${w?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),w&&c.jsx("div",{className:"mt-2 bg-white/5 backdrop-blur-md rounded-2xl overflow-hidden shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:c.jsxs("div",{className:"max-h-[176px] overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[c.jsx("style",{children:`
                  div::-webkit-scrollbar {
                    display: none;
                  }
                `}),rm.map((Q,Z)=>c.jsxs("button",{onClick:()=>{i(Q.id),_(!1)},className:`w-full p-4 flex items-center justify-between transition-all ${r===Q.id?"bg-white/10":"hover:bg-white/5"} ${Z!==rm.length-1?"border-b border-white/5":""}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:c.jsx($t,{symbol:Q.icon,size:"sm"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-white font-semibold",children:Q.name}),c.jsx("div",{className:"text-xs text-gray-400",children:Q.shortName})]})]}),r===Q.id&&c.jsx("div",{className:"w-2 h-2 rounded-full bg-[#34c759]"})]},Q.id))]})})]}),c.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 mb-6 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:[c.jsx("div",{className:"flex items-center justify-center mb-8",children:c.jsxs("div",{className:"relative rounded-[2.2rem] shadow-[0_0_50px_rgba(0,0,0,0.8)] group transition-all duration-500 hover:shadow-blue-500/10",children:[c.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-[2.5rem] blur opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),c.jsx("div",{className:"relative bg-zinc-950 rounded-[2.1rem] p-6 flex items-center justify-center overflow-hidden",children:C?c.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-8",children:[c.jsx(wte,{className:"w-12 h-12 text-white/20 animate-spin mb-4"}),c.jsx("p",{className:"text-white/40 text-[10px] font-bold uppercase tracking-widest",children:A.receiveCrypto.generatingAddress})]}):c.jsx("canvas",{ref:O,className:"w-48 h-48 rounded-xl opacity-90 group-hover:opacity-100 transition-opacity"})})]})}),c.jsxs("div",{className:"mb-8",children:[c.jsx("p",{className:"text-white/40 text-[10px] uppercase tracking-widest font-bold mb-3 text-center",children:A.receiveCrypto.yourAddress}),C?c.jsx("div",{className:"flex items-center justify-center py-4",children:c.jsx("div",{className:"w-6 h-6 border-2 border-white/20 border-t-white rounded-full animate-spin"})}):c.jsx("div",{className:"bg-black/40 rounded-2xl p-4 group active:scale-[0.99] transition-transform overflow-hidden",children:c.jsx("p",{className:"font-mono text-[11px] whitespace-nowrap text-white/90 text-center leading-relaxed",children:s||A.receiveCrypto.generatingAddress})})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsx("button",{className:"bg-transparent rounded-2xl py-4 flex flex-col items-center gap-2 hover:bg-white/5 transition-all disabled:opacity-50 disabled:cursor-not-allowed group",onClick:J,disabled:!s||C,children:d?c.jsxs(c.Fragment,{children:[c.jsx(Nx,{className:"w-5 h-5 text-[#34c759]"}),c.jsx("span",{className:"text-[10px] text-[#34c759] font-bold uppercase tracking-tight",children:A.receiveCrypto.copied})]}):c.jsxs(c.Fragment,{children:[c.jsx(bn,{className:"w-5 h-5 text-white/60 group-hover:text-white transition-colors"}),c.jsx("span",{className:"text-[10px] text-white/60 font-bold uppercase tracking-tight group-hover:text-white transition-colors",children:A.receiveCrypto.copy})]})}),c.jsxs("button",{className:"bg-transparent rounded-2xl py-4 flex flex-col items-center gap-2 hover:bg-white/5 transition-all disabled:opacity-50 disabled:cursor-not-allowed group",onClick:F,disabled:o||!s||C,children:[c.jsx(NP,{className:`w-5 h-5 text-white/60 group-hover:text-white transition-colors ${o?"animate-spin":""}`}),c.jsx("span",{className:"text-[10px] text-white/60 font-bold uppercase tracking-tight group-hover:text-white transition-colors",children:o?A.receiveCrypto.generating:A.receiveCrypto.new})]}),c.jsxs("button",{className:"bg-transparent rounded-2xl py-4 flex flex-col items-center gap-2 hover:bg-white/5 transition-all disabled:opacity-50 disabled:cursor-not-allowed group",onClick:G,disabled:!s||C,children:[c.jsx(IP,{className:"w-5 h-5 text-white/60 group-hover:text-white transition-colors"}),c.jsx("span",{className:"text-[10px] text-white/60 font-bold uppercase tracking-tight group-hover:text-white transition-colors",children:"Compartilhar"})]})]})]}),c.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-3.5",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(mz,{className:"w-4 h-4 text-white/60"}),c.jsxs("p",{className:"text-white/70 text-xs text-center",children:[A.receiveCrypto.transactionQuestions," ",c.jsx("span",{onClick:()=>L(!0),className:"text-white font-semibold underline cursor-pointer hover:text-white/90 transition-colors",children:A.receiveCrypto.helpHere})]})]})})]})}):c.jsx("div",{className:"min-h-screen bg-black text-white pb-24",children:c.jsxs("div",{className:"px-6 pt-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-8",children:[c.jsx("button",{onClick:R,className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:c.jsx(vt,{className:"w-5 h-5 text-white"})}),c.jsxs("h1",{className:"text-lg text-white",children:[A.receiveCrypto.title," ",A.crypto]}),c.jsx("div",{className:"w-10"})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"relative",children:[c.jsx(Wl,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-white/40"}),c.jsx("input",{type:"text",placeholder:A.receiveCrypto.searchPlaceholder,value:m,onChange:Q=>p(Q.target.value),className:"w-full bg-white/5 backdrop-blur-md text-white rounded-2xl pl-12 pr-4 py-4 focus:outline-none focus:ring-2 focus:ring-white/20 placeholder-white/40 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]"})]})}),c.jsx("div",{className:"space-y-3",children:K.map(Q=>{const Z=M(Q.symbol),te=I(Q.id,Z);return c.jsx("button",{onClick:()=>q(Q),className:"w-full bg-white/5 backdrop-blur-md rounded-2xl p-4 hover:bg-white/10 transition-all shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4)]",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center",children:c.jsx($t,{symbol:Q.symbol,size:"md"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-white font-semibold text-base",children:Q.name}),c.jsx("div",{className:"text-sm text-white/50",children:Q.symbol})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-white font-semibold",children:Z.toLocaleString(D==="pt"?"pt-BR":D==="es"?"es-ES":"en-US",{minimumFractionDigits:2,maximumFractionDigits:8})}),c.jsx("div",{className:"text-sm text-white/50",children:te.toLocaleString(D==="pt"?"pt-BR":D==="es"?"es-ES":"en-US",{style:"currency",currency:"USD"})})]})]})},Q.symbol)})})]})})}function ZSe({onNavigate:t}){const{transactions:e,isLoading:n,formatAmount:r,getCurrencySymbol:i,formatTransactionDescription:s,formatTransactionAmount:a,getTransactionIconType:o}=Cb(),{t:l,language:d}=xt(),[f,m]=E.useState(""),p=E.useMemo(()=>{const w=e.filter(T=>{if(f){const L=f.toLowerCase();if(!s(T).toLowerCase().includes(L))return!1}return!0}),_={};return w.forEach(T=>{const L=T.createdAt,O=new Date,z=new Date(O);z.setDate(z.getDate()-1);let j;if(L.getDate()===O.getDate()&&L.getMonth()===O.getMonth()&&L.getFullYear()===O.getFullYear())j=l.transactionsPage.today;else if(L.getDate()===z.getDate()&&L.getMonth()===z.getMonth()&&L.getFullYear()===z.getFullYear())j=l.transactionsPage.yesterday;else{const P=d==="pt"?"pt-BR":d==="es"?"es-ES":"en-US";j=L.toLocaleDateString(P,{day:"numeric",month:"long",year:L.getFullYear()!==O.getFullYear()?"numeric":void 0})}_[j]||(_[j]=[]),_[j].push(T)}),_},[e,f,s,l,d]),y=w=>{const _=d==="pt"?"pt-BR":d==="es"?"es-ES":"en-US";return w.toLocaleTimeString(_,{hour:"2-digit",minute:"2-digit"})},v=w=>{switch(w){case"completed":return"text-green-500";case"pending":case"processing":return"text-yellow-500";case"failed":return"text-red-500";default:return"text-gray-400"}};return c.jsxs("div",{className:"min-h-screen bg-black pb-24",children:[c.jsxs("div",{className:"px-6 pt-4 pb-6",children:[c.jsx("button",{onClick:()=>t("home"),className:"w-12 h-12 rounded-full border border-gray-700 flex items-center justify-center mb-6",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-lg mb-6",children:l.transactionsPage.title}),c.jsx("div",{className:"flex gap-3 mb-6",children:c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(Wl,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),c.jsx("input",{type:"text",placeholder:l.transactionsPage.search,value:f,onChange:w=>m(w.target.value),className:`w-full bg-zinc-900/80 rounded-full pl-10 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-zinc-700 ${f?"pr-10":"pr-4"} py-3`}),f&&c.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-500",onClick:()=>m(""),children:c.jsx(qs,{className:"w-5 h-5"})})]})})]}),n&&c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(Qv,{className:"w-8 h-8 animate-spin text-gray-400"})}),!n&&e.length===0&&c.jsxs("div",{className:"px-6 py-12 text-center",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-900 flex items-center justify-center mx-auto mb-4",children:c.jsx(Um,{className:"w-10 h-10 text-gray-600"})}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:l.transactionsPage.noTransactions}),c.jsx("p",{className:"text-gray-400 text-sm",children:l.transactionsPage.noTransactionsDesc})]}),!n&&e.length>0&&Object.keys(p).length===0&&c.jsxs("div",{className:"px-6 py-12 text-center",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-zinc-900 flex items-center justify-center mx-auto mb-4",children:c.jsx(Wl,{className:"w-10 h-10 text-gray-600"})}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:l.transactionsPage.noResults}),c.jsx("p",{className:"text-gray-400 text-sm",children:l.transactionsPage.noResultsDesc})]}),!n&&Object.keys(p).length>0&&c.jsx("div",{className:"px-6 space-y-6",children:Object.entries(p).map(([w,_])=>c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold text-gray-400 mb-3",children:w}),c.jsx("div",{className:"space-y-3",children:_.map(T=>c.jsxs("button",{className:"w-full bg-zinc-900/80 backdrop-blur rounded-2xl p-4 flex items-center justify-between hover:bg-zinc-800/80 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:`w-12 h-12 rounded-full bg-white/5 flex items-center justify-center flex-shrink-0 ${o(T)==="entrada"?"text-green-500":o(T)==="saida"?"text-red-500":"text-orange-500"}`,children:[o(T)==="entrada"&&c.jsx(SP,{className:"w-4 h-4"}),o(T)==="saida"&&c.jsx(PP,{className:"w-4 h-4"}),o(T)==="conversao"&&c.jsx(mte,{className:"w-4 h-4"})]}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"font-semibold text-white",children:s(T)}),c.jsxs("div",{className:"text-sm text-gray-400 flex items-center gap-1",children:[c.jsx(Um,{className:"w-3.5 h-3.5"}),y(T.createdAt),c.jsx("span",{className:"mx-1",children:""}),c.jsxs("span",{className:v(T.status),children:[T.status==="completed"&&l.transactionsPage.status.completed,T.status==="pending"&&l.transactionsPage.status.pending,T.status==="processing"&&l.transactionsPage.status.processing,T.status==="failed"&&l.transactionsPage.status.failed]})]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:`font-semibold ${["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(T.type)?"text-green-500":"text-white"}`,children:a(T)}),T.fee>0&&c.jsxs("div",{className:"text-sm text-gray-400",children:[l.transactionsPage.fee,": ",i(T.feeCurrency)," ",r(T.fee)]})]})]},T.id))})]},w))})]})}function ePe({currentScreen:t,onNavigate:e}){const{t:n}=xt(),r=[{id:"home",icon:xte,label:n.bottomNav.home},{id:"wallet",icon:vz,label:n.bottomNav.wallet},{id:"convert",icon:fv,label:n.bottomNav.convert},{id:"crypto",icon:os,label:n.bottomNav.crypto},{id:"profile",icon:jP,label:n.bottomNav.profile}];return c.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-black border-t border-gray-800 z-[9999]",children:c.jsx("div",{className:"flex justify-around items-center py-3 px-4 max-w-md mx-auto relative z-10 pointer-events-auto",style:{transform:"translateZ(0)",willChange:"transform"},children:r.map(i=>{const s=i.icon,a=t===i.id;return c.jsxs("button",{onClick:()=>e(i.id),className:"flex flex-col items-center gap-1 transition-colors",children:[c.jsx(s,{className:`w-6 h-6 ${a?"text-white":"text-gray-500"}`}),c.jsx("span",{className:`text-xs ${a?"text-white":"text-gray-500"}`,children:i.label})]},i.id)})})})}function tPe({onNavigate:t}){const{t:e}=xt(),{phoneNumber:n}=bz(),{signInWithPhoneAndPin:r}=Dt(),[i,s]=E.useState(["","","","","",""]),[a,o]=E.useState(!1),[l,d]=E.useState(!1),[f,m]=E.useState(""),p=E.useRef([]);E.useEffect(()=>{p.current[0]?.focus()},[]);const y=(T,L)=>{if(L&&!/^\d$/.test(L))return;a&&o(!1);const O=[...i];if(O[T]=L,s(O),L&&T<5&&p.current[T+1]?.focus(),T===5&&L){const z=[...O.slice(0,5),L].join("");v(z)}},v=T=>{d(!0),m(""),console.log("[PasswordEntry] Validando PIN:",T),console.log("[PasswordEntry] Telefone:",n),setTimeout(()=>{r(n,T).then(()=>{console.log("[PasswordEntry]  Login bem-sucedido!"),t("home")}).catch(L=>{console.log("[PasswordEntry]  Erro no login:",L.message),o(!0),m(L.message||e.loginError),console.log("[PasswordEntry] Exibindo mensagem de erro:",L.message),setTimeout(()=>{s(["","","","","",""]),p.current[0]?.focus(),o(!1),m("")},1500)}).finally(()=>{d(!1)})},300)},w=(T,L)=>{L.key==="Backspace"&&!i[T]&&T>0&&p.current[T-1]?.focus()},_=T=>{T.preventDefault();const L=T.clipboardData.getData("text").replace(/\D/g,"").slice(0,6);if(L){const O=[...i];L.split("").forEach((P,C)=>{C<6&&(O[C]=P)}),s(O);const z=O.findIndex(P=>!P),j=z===-1?5:z;p.current[j]?.focus()}};return c.jsx("div",{className:"bg-black text-white min-h-screen flex items-start justify-center p-4",children:c.jsxs("div",{className:"w-full max-w-[400px] flex flex-col",children:[c.jsx("header",{className:"pt-3 px-4 pb-1",children:c.jsx("button",{"aria-label":"Voltar",className:"flex items-center justify-center w-7 h-7 -ml-1 rounded-full active:bg-slate-800 transition-colors",onClick:()=>t("login"),children:c.jsx(vt,{className:"w-4 h-4"})})}),c.jsxs("main",{className:"flex-1 px-4",children:[c.jsx("h1",{className:"text-xl font-bold tracking-tight mb-3",children:e.password}),c.jsxs("div",{className:`flex items-center gap-1 mb-2 ${a?"animate-shake":""}`,children:[c.jsx("div",{className:"flex gap-1",children:[0,1,2].map(T=>c.jsx("div",{className:`w-[36px] h-[44px] rounded-lg flex items-center justify-center transition-all ${a?"bg-red-900/20 shadow-[inset_0_0_0_2px_rgba(239,68,68,0.5)]":"bg-zinc-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]"}`,children:c.jsx("input",{ref:L=>p.current[T]=L,"aria-label":`${e.password} ${T+1}`,className:`w-full h-full bg-transparent border-none text-center text-lg font-bold focus:ring-0 focus:outline-none ${a?"text-red-500":"text-white"}`,maxLength:1,type:"password",value:i[T],onChange:L=>y(T,L.target.value),onKeyDown:L=>w(T,L),onPaste:_,inputMode:"numeric",disabled:l})},T))}),c.jsx("div",{className:"text-slate-500 font-bold",children:c.jsx("span",{className:`block w-1 h-0.5 rounded-full ${a?"bg-red-500":"bg-slate-500"}`})}),c.jsx("div",{className:"flex gap-1",children:[3,4,5].map(T=>c.jsx("div",{className:`w-[36px] h-[44px] rounded-lg flex items-center justify-center transition-all ${a?"bg-red-900/20 shadow-[inset_0_0_0_2px_rgba(239,68,68,0.5)]":"bg-zinc-900 shadow-[inset_0_0_0_1px_rgba(255,255,255,0.05)]"}`,children:c.jsx("input",{ref:L=>p.current[T]=L,"aria-label":`${e.password} ${T+1}`,className:`w-full h-full bg-transparent border-none text-center text-lg font-bold focus:ring-0 focus:outline-none ${a?"text-red-500":"text-white"}`,maxLength:1,type:"password",value:i[T],onChange:L=>y(T,L.target.value),onKeyDown:L=>w(T,L),onPaste:_,inputMode:"numeric",disabled:l})},T))})]}),a&&c.jsx("p",{className:"text-red-500 text-[11px] font-medium mb-2 animate-fadeIn",children:f||e.incorrectPassword}),c.jsx("button",{className:"text-blue-500 font-semibold text-[13px] hover:underline transition-all",onClick:()=>{console.log("Forgot password clicked")},children:e.forgotPassword})]})]})})}function nPe({onNavigate:t}){const{portfolio:e,addOrUpdateCrypto:n,removeCrypto:r,isLoading:i}=Ks(),{prices:s}=Ti(),[a,o]=E.useState(null),[l,d]=E.useState(""),[f,m]=E.useState(!1),[p,y]=E.useState(null),[v,w]=E.useState(""),_=[{symbol:"BTC",coinId:"bitcoin",name:"Bitcoin"},{symbol:"ETH",coinId:"ethereum",name:"Ethereum"},{symbol:"USDT",coinId:"tether",name:"Tether"},{symbol:"BNB",coinId:"binancecoin",name:"Binance Coin"},{symbol:"SOL",coinId:"solana",name:"Solana"},{symbol:"ADA",coinId:"cardano",name:"Cardano"},{symbol:"XRP",coinId:"ripple",name:"Ripple"},{symbol:"DOT",coinId:"polkadot",name:"Polkadot"},{symbol:"DOGE",coinId:"dogecoin",name:"Dogecoin"},{symbol:"AVAX",coinId:"avalanche-2",name:"Avalanche"},{symbol:"MATIC",coinId:"matic-network",name:"Polygon"},{symbol:"LINK",coinId:"chainlink",name:"Chainlink"},{symbol:"UNI",coinId:"uniswap",name:"Uniswap"},{symbol:"LTC",coinId:"litecoin",name:"Litecoin"},{symbol:"ATOM",coinId:"cosmos",name:"Cosmos"}],T=(j,P)=>{o(j),d(P.toString())},L=async(j,P,C)=>{const S=parseFloat(l);if(isNaN(S)||S<0){alert("Por favor, insira um valor vlido");return}try{await n(j,P,S,C),o(null),d("")}catch(k){console.error("Erro ao atualizar holding:",k),alert("Erro ao atualizar. Tente novamente.")}},O=async j=>{if(confirm(`Tem certeza que deseja remover ${j} do seu portflio?`))try{await r(j)}catch(P){console.error("Erro ao remover holding:",P),alert("Erro ao remover. Tente novamente.")}},z=async()=>{if(!p){alert("Selecione uma criptomoeda");return}const j=parseFloat(v);if(isNaN(j)||j<=0){alert("Por favor, insira um valor vlido");return}try{await n(p.symbol,p.coinId,j,p.name),m(!1),y(null),w("")}catch(P){console.error("Erro ao adicionar holding:",P),alert("Erro ao adicionar. Tente novamente.")}};return c.jsxs("div",{className:"min-h-screen bg-black text-white pb-24",children:[c.jsxs("div",{className:"bg-gradient-to-b from-zinc-900 to-black px-6 pt-12 pb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("button",{onClick:()=>t("wallet"),className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsx("h1",{className:"text-xl font-bold",children:"Gerenciar Ativos"}),c.jsx("button",{onClick:()=>m(!0),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center hover:bg-white/10 transition-colors shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:c.jsx(vu,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-4 border border-white/10",children:[c.jsx("p",{className:"text-white/50 text-sm mb-1",children:"Saldo Total"}),c.jsxs("p",{className:"text-2xl font-bold",children:[Gr(e.totalBalanceUSDT)," USDT"]})]})]}),c.jsxs("div",{className:"px-6 pt-6",children:[c.jsx("h2",{className:"text-lg font-bold mb-4",children:"Seus Ativos"}),i?c.jsx("div",{className:"text-center py-12",children:c.jsx("div",{className:"inline-block w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}):e.holdings.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("p",{className:"text-white/50",children:"Nenhum ativo no portflio"}),c.jsx("button",{onClick:()=>m(!0),className:"mt-4 px-6 py-3 bg-blue-600 rounded-xl font-semibold",children:"Adicionar Primeiro Ativo"})]}):c.jsx("div",{className:"space-y-3",children:e.holdings.map(j=>{const P=s[j.coinId]?.usd||0,C=j.amount*P,S=a===j.symbol;return c.jsxs("div",{className:"bg-white/5 backdrop-blur-xl rounded-2xl p-4 border border-white/10",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx($t,{symbol:j.symbol,size:"md"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold",children:j.name||j.symbol}),c.jsx("p",{className:"text-white/50 text-sm",children:j.symbol})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold",children:[ns(j.amount)," ",j.symbol]}),c.jsx("p",{className:"text-white/50 text-sm",children:Gr(C)})]})]}),S?c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"number",value:l,onChange:k=>d(k.target.value),placeholder:"Quantidade",className:"flex-1 bg-white/10 rounded-xl px-4 py-2 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-600"}),c.jsx("button",{onClick:()=>L(j.symbol,j.coinId,j.name||j.symbol),className:"w-10 h-10 bg-green-600 rounded-xl flex items-center justify-center",children:c.jsx(yz,{className:"w-5 h-5"})}),c.jsx("button",{onClick:()=>{o(null),d("")},className:"w-10 h-10 bg-white/10 rounded-xl flex items-center justify-center",children:c.jsx(qs,{className:"w-5 h-5"})})]}):c.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[c.jsxs("p",{className:"text-white/50 text-sm",children:["Quantidade: ",c.jsx("span",{className:"text-white font-semibold",children:ns(j.amount)})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>T(j.symbol,j.amount),className:"w-8 h-8 bg-blue-600/20 rounded-lg flex items-center justify-center",children:c.jsx(Cte,{className:"w-4 h-4 text-blue-400"})}),c.jsx("button",{onClick:()=>O(j.symbol),className:"w-8 h-8 bg-red-600/20 rounded-lg flex items-center justify-center",children:c.jsx(Hc,{className:"w-4 h-4 text-red-400"})})]})]})]},j.symbol)})})]}),c.jsx($N,{children:f&&c.jsx(Xn.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/90 backdrop-blur-md z-50 flex items-end",children:c.jsxs(Xn.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},className:"w-full bg-zinc-900 rounded-t-3xl p-6 pb-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-bold",children:"Adicionar Ativo"}),c.jsx("button",{onClick:()=>{m(!1),y(null),w("")},className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center",children:c.jsx(qs,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-white/50 text-sm mb-2 block",children:"Criptomoeda"}),c.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:_.map(j=>c.jsxs("button",{onClick:()=>y(j),className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all ${p?.symbol===j.symbol?"bg-white/10 border-2 border-white/30":"bg-white/5 border border-white/10"}`,children:[c.jsx($t,{symbol:j.symbol,size:"sm"}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("p",{className:"font-semibold",children:j.name}),c.jsx("p",{className:"text-white/50 text-sm",children:j.symbol})]})]},j.symbol))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-white/50 text-sm mb-2 block",children:"Quantidade"}),c.jsx("input",{type:"number",value:v,onChange:j=>w(j.target.value),placeholder:"0.00",className:"w-full bg-white/10 rounded-xl px-4 py-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),c.jsx("button",{onClick:z,disabled:!p||!v,className:"w-full bg-white text-black rounded-xl py-4 font-semibold hover:bg-white/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-[0_0_20px_rgba(255,255,255,0.2),0_4px_15px_rgba(0,0,0,0.4)]",children:"Adicionar"})]})]})})})]})}function rPe({onNavigate:t,onSelectAccount:e,onNavigateWithAccount:n}){const{user:r}=Dt(),{getBalance:i}=Yp(),{t:s}=xt(),[a,o]=E.useState([]),[l,d]=E.useState(!0);E.useEffect(()=>{if(!r?.uid){d(!1);return}console.log(" [SelectFiatAccount] Iniciando listener de contas bancrias para userId:",r.uid);const v=nt(be,"bankAccounts"),w=It(v,yt("userId","==",r.uid)),_=hs(w,T=>{console.log(" [SelectFiatAccount] Contas bancrias recebidas:",T.size);const L=T.docs.map(O=>({...O.data(),id:O.id,createdAt:O.data().createdAt?.toDate()||new Date}));console.log(" [SelectFiatAccount] Total de contas carregadas:",L.length),console.log(" [SelectFiatAccount] Pases das contas:",L.map(O=>`${O.country} (${O.currency})`).join(", ")),o(L),d(!1)},T=>{console.error(" [SelectFiatAccount] Erro no listener de contas bancrias:",T),d(!1)});return()=>{console.log(" [SelectFiatAccount] Desconectando listener de contas bancrias"),_()}},[r]);const f={BRL:{flag:"",name:s.brazilianReal,color:"#34c759"},USD:{flag:"",name:s.usDollar,color:"#007aff"},EUR:{flag:"",name:s.euro,color:"#5856d6"},GBP:{flag:"",name:s.sterling,color:"#ff9500"},JPY:{flag:"",name:s.japaneseYen,color:"#ff2d55"},CAD:{flag:"",name:s.canadianDollar,color:"#ff3b30"},AUD:{flag:"",name:s.australianDollar,color:"#ff9500"},CHF:{flag:"",name:s.swissFranc,color:"#af52de"},CNY:{flag:"",name:s.chineseYuan,color:"#ff3b30"},INR:{flag:"",name:s.indianRupee,color:"#ff9500"},MXN:{flag:"",name:s.mexicanPeso,color:"#34c759"},ARS:{flag:"",name:s.argentinePeso,color:"#5ac8fa"}},m={BRL:"R$",USD:"$",EUR:"",GBP:"",JPY:"",CAD:"CA$",AUD:"A$",CHF:"Fr",CNY:"",INR:"",MXN:"Mex$",ARS:"$"},p=v=>{e&&e(v),n&&n("fiatAccountDetails",v)},y=v=>{const w=m[v]||v,_=i(v);let T;return v==="BRL"?T=_.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):T=_.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","),`${w} ${T}`};return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsx("button",{onClick:()=>t("home"),className:"w-9 h-9 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center border border-white/10 hover:bg-white/10 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)] mb-4",children:c.jsx(vt,{className:"w-4 h-4"})}),c.jsx("h1",{className:"text-xl mb-1",children:s.fiatAccounts.selectAccount}),c.jsx("p",{className:"text-white/50 text-xs",children:s.fiatAccounts.chooseAccountToTransact})]}),c.jsx("div",{className:"flex-1 px-6 pb-24",children:l?c.jsx("div",{className:"space-y-2.5",children:[1,2,3].map(v=>c.jsx("div",{className:"w-full bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10 animate-pulse",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-11 h-11 rounded-full bg-white/10"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"h-4 bg-white/10 rounded mb-1.5 w-28"}),c.jsx("div",{className:"h-3 bg-white/10 rounded mb-1.5 w-20"}),c.jsx("div",{className:"h-5 bg-white/10 rounded w-24"})]})]})},v))}):c.jsx("div",{className:"space-y-2.5",children:a.length>0?c.jsxs(c.Fragment,{children:[a.map((v,w)=>{const _=f[v.currency]||{name:v.currency};return c.jsx("button",{onClick:()=>p(v),className:"w-full bg-white/5 backdrop-blur-md rounded-xl p-4 border border-white/10 hover:bg-white/10 transition-all active:scale-[0.98] shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-11 h-11 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center overflow-hidden border border-white/20 shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1)] flex-shrink-0",children:c.jsx("img",{src:`https://flagcdn.com/w80/${v.country.toLowerCase()}.png`,alt:v.currency,className:"w-full h-full object-cover"})}),c.jsxs("div",{className:"flex-1 text-left min-w-0",children:[c.jsx("h3",{className:"text-sm font-semibold text-white mb-0.5 truncate",children:_.name}),c.jsx("p",{className:"text-xs text-white/40 mb-1 font-mono",children:v.iban?` ${v.iban.slice(-6)}`:` ${v.accountNumber.slice(-6)}`}),c.jsx("p",{className:"text-base font-bold text-white tabular-nums",children:y(v.currency)})]}),c.jsx(mo,{className:"w-4 h-4 text-white/30 flex-shrink-0"})]})},`${v.currency}-${v.id||w}`)}),c.jsx("button",{onClick:()=>t("accountData"),className:"w-full mt-4 bg-white rounded-xl p-3.5 hover:bg-white/90 transition-all active:scale-[0.98] shadow-[0_4px_20px_rgba(255,255,255,0.15)]",children:c.jsxs("div",{className:"flex items-center justify-center gap-2.5",children:[c.jsx(vu,{className:"w-5 h-5 text-black"}),c.jsx("span",{className:"text-sm font-semibold text-black",children:s.fiatAccounts.addNewAccount})]})})]}):c.jsxs("div",{className:"text-center py-10",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 backdrop-blur-md flex items-center justify-center mx-auto mb-3 border border-white/10",children:c.jsx(vu,{className:"w-8 h-8 text-white/30"})}),c.jsx("h3",{className:"text-base font-bold text-white mb-1",children:s.fiatAccounts.noAccountsFound}),c.jsx("p",{className:"text-xs text-white/50 mb-4",children:s.fiatAccounts.addFiatAccount}),c.jsx("button",{onClick:()=>t("accountData"),className:"px-5 py-2.5 bg-white/10 backdrop-blur-md rounded-full text-sm text-white font-semibold border border-white/20 hover:bg-white/20 transition-all active:scale-95 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:s.fiatAccounts.addAccount})]})})})]})}function iPe(){const[t,e]=E.useState(!1),[n,r]=E.useState(!1),[i,s]=E.useState(!1),{user:a,userData:o,dismissAlert:l}=Dt();E.useEffect(()=>{if(o?.preferences?.dismissedAlerts?.includes("walletsMigration")){e(!0);return}const f=console.error;return console.error=(...m)=>{const p=m.join(" ");(p.includes("permission-denied")||p.includes("Missing or insufficient permissions"))&&s(!0),f.apply(console,m)},()=>{console.error=f}},[o]);const d=async()=>{if(a)try{await l("walletsMigration")}catch(f){console.error("Erro ao salvar dismiss:",f)}e(!0)};return!a||t||!i?null:c.jsx("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-md z-[100] flex items-center justify-center px-4",children:c.jsxs("div",{className:"max-w-md w-full bg-gradient-to-br from-red-600 to-red-700 rounded-2xl p-6 shadow-2xl border border-red-400/30 backdrop-blur-xl",children:[c.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center flex-shrink-0",children:c.jsx(jl,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:" Ao Obrigatria!"}),c.jsx("p",{className:"text-white/90 text-sm",children:"Deploy das regras do Firestore necessrio"})]})]}),c.jsxs("div",{className:"bg-black/30 rounded-xl p-4 mb-4 border border-white/10",children:[c.jsx("p",{className:"text-red-200 text-sm font-semibold mb-2",children:" Erro atual:"}),c.jsx("code",{className:"text-xs text-white/80 block",children:"FirebaseError: permission-denied"})]}),n?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"bg-black/30 rounded-xl p-4 mb-4 border border-white/10 max-h-64 overflow-y-auto",children:[c.jsx("h4",{className:"font-bold text-white mb-3",children:" Passo a Passo (2 minutos):"}),c.jsxs("div",{className:"space-y-3 text-sm text-white/90",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:"1. Abra o Firebase Console:"}),c.jsx("p",{className:"text-xs",children:"console.firebase.google.com"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:"2. V para Firestore Database:"}),c.jsx("p",{className:"text-xs",children:'Menu lateral  Firestore Database  Aba "Regras"'})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:"3. Cole as novas regras:"}),c.jsx("p",{className:"text-xs",children:"Copie o contedo de /firestore.rules e cole l"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-yellow-200 mb-1",children:'4. Clique em "Publicar":'}),c.jsx("p",{className:"text-xs",children:"Aguarde alguns segundos e recarregue esta pgina"})]})]}),c.jsx("div",{className:"mt-4 pt-3 border-t border-white/20",children:c.jsxs("p",{className:"text-xs text-white/70",children:[" Arquivo completo com instrues detalhadas: ",c.jsx("span",{className:"font-mono text-yellow-200",children:"DEPLOY_FIRESTORE_RULES.md"})]})})]}),c.jsxs("a",{href:"https://console.firebase.google.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full bg-white text-red-600 rounded-xl py-3 px-4 font-bold text-sm hover:bg-red-50 transition-colors mb-2",children:[c.jsx("span",{children:" Abrir Firebase Console"}),c.jsx(pz,{className:"w-4 h-4"})]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"text-white/90 text-sm space-y-2 mb-4",children:[c.jsx("p",{children:" Nova estrutura de wallets implementada"}),c.jsx("p",{className:"font-semibold text-yellow-200",children:" As regras de segurana precisam ser publicadas no Firebase"})]}),c.jsx("button",{onClick:()=>r(!0),className:"w-full bg-white text-red-600 rounded-xl py-3 px-4 font-bold text-sm hover:bg-red-50 transition-colors mb-2",children:" Ver Instrues Passo a Passo"})]}),c.jsx("button",{onClick:d,className:"w-full bg-white/10 text-white rounded-xl py-2 px-4 font-semibold text-sm hover:bg-white/20 transition-colors",children:n?"J fiz o deploy, fechar":"Fechar (no recomendado)"}),!n&&c.jsx("p",{className:"text-xs text-white/60 text-center mt-3",children:" A aplicao no funcionar at o deploy das regras"})]})})}function sPe(){const{user:t}=Dt(),{prices:e,isLoading:n}=Ti(),r=E.useRef(""),i=E.useRef(!1);E.useEffect(()=>{if(!(!t?.uid||n||Object.keys(e).length===0)){if(!i.current){i.current=!0;const a=setTimeout(()=>{s()},2e3);return()=>clearTimeout(a)}s()}},[t?.uid,e,n]);const s=()=>{if(!t?.uid||Object.keys(e).length===0)return;const a=JSON.stringify(Object.entries(e).map(([l,d])=>`${l}:${d.usd}`).sort().join(","));if(a===r.current)return;r.current=a,(async()=>{try{await Dte(t.uid,e)}catch(l){console.error(" Erro ao sincronizar valores das wallets:",l)}})()};return null}function GN(){const{user:t}=Dt(),[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{if(!t?.uid){n([]),i(!1);return}console.log(" Iniciando listener de chaves PIX para userId:",t.uid);const o=nt(be,"pixKeys"),l=It(o,yt("userId","==",t.uid)),d=hs(l,f=>{console.log(" Snapshot de chaves PIX recebido - Total:",f.size);const m=[];f.forEach(p=>{const y=p.data();m.push({id:p.id,userId:y.userId,accountId:y.accountId,accountNumber:y.accountNumber,currency:y.currency,country:y.country,keyType:y.keyType,keyValue:y.keyValue,createdAt:y.createdAt?.toDate()||new Date})}),m.sort((p,y)=>y.createdAt.getTime()-p.createdAt.getTime()),n(m),i(!1)},f=>{console.error(" Erro no listener de chaves PIX:",f),i(!1)});return()=>{console.log(" Cancelando listener de chaves PIX"),d()}},[t?.uid]),{pixKeys:e,isLoading:r,addPixKey:async o=>{if(t?.uid)try{await _i(nt(be,"pixKeys"),{...o,userId:t.uid,createdAt:new Date})}catch(l){throw console.error("Erro ao adicionar chave PIX:",l),l}},deletePixKey:async o=>{if(t?.uid)try{await fo(rt(be,"pixKeys",o))}catch(l){throw console.error("Erro ao deletar chave PIX:",l),l}}}}function aPe({account:t,onBack:e}){const{t:n}=xt(),{pixKeys:r,isLoading:i}=GN(),{user:s,userData:a}=Dt(),[o,l]=E.useState(!0);E.useEffect(()=>{o&&(async()=>{if(!s?.uid||!a?.email||!a?.phone||!t.id){console.log(" Dados do usurio incompletos para criar chaves PIX"),l(!1);return}if(t.currency!=="BRL"){console.log(" Conta no  BRL, pulando criao de chaves PIX"),l(!1);return}try{console.log(" Verificando chaves PIX para conta:",t.id);const v=nt(be,"pixKeys"),w=It(v,yt("userId","==",s.uid),yt("accountId","==",t.id));if(!(await Pt(w)).empty){console.log(" Chaves PIX j existem para esta conta. Nenhuma ao necessria."),l(!1);return}console.log(" Criando chaves PIX automaticamente...");const T=a.email;await _i(v,{userId:s.uid,accountId:t.id,accountNumber:t.accountNumber,currency:"BRL",country:"BR",keyType:"email",keyValue:T,createdAt:new Date}),console.log(" Chave PIX (email) criada:",T);const L=Ez(a.phone);await _i(v,{userId:s.uid,accountId:t.id,accountNumber:t.accountNumber,currency:"BRL",country:"BR",keyType:"phone",keyValue:L,createdAt:new Date}),console.log(" Chave PIX (telefone) criada:",L),console.log(" Chaves PIX criadas com sucesso!")}catch(v){console.error(" Erro ao inicializar chaves PIX:",v)}finally{l(!1)}})()},[s?.uid,a?.email,a?.phone,t.id,t.currency,t.accountNumber,o]);const d=r.filter(y=>y.accountId===t.id),f=y=>{switch(y){case"email":return wf;case"phone":return Ste;default:return wf}},m=y=>{switch(y){case"email":return n.email;case"phone":return n.phone;default:return y}},p=async(y,v)=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(y);else{const w=document.createElement("textarea");w.value=y,w.style.position="fixed",w.style.left="-999999px",w.style.top="-999999px",document.body.appendChild(w),w.focus(),w.select();const _=document.execCommand("copy");if(document.body.removeChild(w),!_)throw new Error("Falha ao copiar")}Ge.success(n.copied)}catch(w){console.error("Erro ao copiar chave:",w),Ge.error(n.fiatAccounts.errorCopying)}};return c.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black flex flex-col z-50",children:[c.jsx("div",{className:"flex items-center px-6 pt-6 pb-4",children:c.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-zinc-800/50 backdrop-blur-md flex items-center justify-center hover:bg-zinc-700/50 transition-colors",children:c.jsx(AP,{className:"w-5 h-5 text-white"})})}),c.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:n.fiatAccounts.yourPixKeys}),c.jsx("p",{className:"text-gray-400 text-base",children:n.fiatAccounts.registeredKeys})]}),c.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 mb-6",children:d.length>0?c.jsx("p",{className:"text-gray-300 text-sm text-center",children:n.fiatAccounts.keysAutoCreated}):c.jsx("p",{className:"text-gray-300 text-sm text-center",children:n.fiatAccounts.noKeysFound})}),c.jsx("div",{className:"space-y-3",children:i?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-400",children:n.loading})}):d.length===0?c.jsx("div",{className:"text-center py-8",children:c.jsx("p",{className:"text-gray-400",children:n.fiatAccounts.noKeysFound})}):d.map(y=>{const v=f(y.keyType);return c.jsx("div",{className:"bg-zinc-900/80 backdrop-blur-xl rounded-3xl p-5 border border-zinc-800/50",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800/50 flex items-center justify-center flex-shrink-0",children:c.jsx(v,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-white font-semibold mb-1",children:m(y.keyType)}),c.jsx("p",{className:"text-gray-400 text-sm font-mono truncate",children:y.keyValue})]}),c.jsx("button",{onClick:()=>p(y.keyValue,y.id),className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center flex-shrink-0 transition-colors",children:c.jsx(bn,{className:"w-4 h-4 text-white"})})]})},y.id)})})]})]})}function oPe({onNavigate:t}){const{user:e}=Dt();GN();const[n,r]=E.useState("tarifas"),[i,s]=E.useState(!1),[a,o]=E.useState(null),[l,d]=E.useState(!0);E.useEffect(()=>{(async()=>{if(!e?.uid){d(!1);return}try{const v=nt(be,"bankAccounts"),w=It(v,yt("userId","==",e.uid),yt("currency","==","BRL")),_=await Pt(w);if(_.empty)console.log(" Conta BRL no encontrada, usando dados padro");else{const T=_.docs[0].data();o(T)}}catch(v){console.error(" Erro ao carregar conta BRL:",v)}finally{d(!1)}})()},[e]);const f=(y,v)=>{Sb(y),Ge.success("Copiado!",{description:`${v} copiado para a rea de transferncia`,duration:2e3})},m=async()=>{const y=`
Receba BRL
Do Brasil com Pix

Nmero da conta: ${a?.accountNumber||"N/A"}
Agncia: ${a?.branchCode||"0001"}
    `.trim();if(navigator.share)try{await navigator.share({title:"Dados da Conta",text:y})}catch{console.log("Compartilhamento cancelado")}else f(y,"Informaes")},p=()=>{};return l?c.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center",children:c.jsx("div",{className:"text-white",children:"Carregando..."})}):c.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black flex flex-col z-50",children:[c.jsxs("div",{className:"flex items-center justify-between px-6 pt-6 pb-4",children:[c.jsx("button",{onClick:()=>t("home"),className:"w-10 h-10 rounded-full bg-zinc-800/50 backdrop-blur-md flex items-center justify-center hover:bg-zinc-700/50 transition-colors",children:c.jsx(vt,{className:"w-5 h-5 text-white"})}),c.jsxs("div",{className:"flex-1 text-center",children:[c.jsx("div",{className:"text-white font-semibold",children:"BRL"}),c.jsx("div",{className:"text-xs text-gray-400",children:"Minhas Chaves Pix"})]}),c.jsx("div",{className:"w-10"})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto px-6 pb-24",children:[c.jsxs("div",{className:"mb-6 mt-4",children:[c.jsx("h1",{className:"text-2xl font-bold text-white mb-1",children:"Receba BRL"}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Do Brasil com Pix"})]}),c.jsx("button",{onClick:m,className:"w-full mb-6 px-6 py-3 rounded-2xl bg-white/10 hover:bg-white/15 backdrop-blur-md border border-white/20 text-white font-semibold transition-all shadow-lg",children:"Compartilhar"}),c.jsxs("div",{className:"bg-zinc-900/80 backdrop-blur-xl rounded-3xl p-5 mb-6 border border-zinc-800/50",children:[c.jsxs("div",{className:"flex items-start justify-between mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-gray-400 text-sm mb-2",children:"Nmero da conta"}),c.jsx("p",{className:"text-white font-mono text-xl font-semibold",children:a?.accountNumber||"N/A"})]}),c.jsx("button",{onClick:()=>f(a?.accountNumber||"","Nmero da conta"),className:"ml-3 w-10 h-10 rounded-full bg-zinc-800/50 hover:bg-zinc-700/50 flex items-center justify-center transition-colors flex-shrink-0",children:c.jsx(bn,{className:"w-4 h-4 text-cyan-400"})})]}),c.jsxs("button",{className:"text-sm text-gray-400 hover:text-gray-300 transition-colors",children:["Clique ",c.jsx("span",{className:"underline",children:"aqui"})," para ver os seus dados de conta completos"]})]}),c.jsx("button",{onClick:()=>s(!0),className:"w-full mb-6 px-6 py-4 rounded-2xl bg-zinc-800/50 hover:bg-zinc-700/50 text-white font-semibold transition-all",children:"Gerenciar"}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Informaes resumidas"}),c.jsxs("div",{className:"flex gap-2 mb-4",children:[c.jsx("button",{onClick:()=>r("tarifas"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="tarifas"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Tarifas"}),c.jsx("button",{onClick:()=>r("tempo"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="tempo"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Tempo"}),c.jsx("button",{onClick:()=>r("limites"),className:`px-5 py-2 rounded-full text-sm font-semibold transition-all ${n==="limites"?"bg-white/20 backdrop-blur-md border border-white/30 text-white":"bg-zinc-800/50 text-white hover:bg-zinc-700/50"}`,children:"Limites"})]}),n==="tarifas"&&c.jsx("div",{className:"space-y-3",children:c.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:[c.jsx("p",{className:"text-sm font-semibold text-white mb-1",children:"Quanto custa?"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-white",children:"Do Brasil (domstico)"}),c.jsx("p",{className:"text-cyan-400 font-semibold",children:"Sem tarifas"})]}),c.jsx(mo,{className:"w-5 h-5 text-gray-400"})]})]})}),n==="tempo"&&c.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:c.jsx("p",{className:"text-gray-400 text-sm",children:"Transferncias Pix so instantneas"})}),n==="limites"&&c.jsx("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50",children:c.jsx("p",{className:"text-gray-400 text-sm",children:"Sem limite de recebimento"})})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Disponibilidade"}),c.jsxs("div",{className:"bg-zinc-900/50 backdrop-blur-xl rounded-2xl p-4 border border-zinc-800/50 flex items-start gap-3",children:[c.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500/20 flex items-center justify-center flex-shrink-0 mt-0.5",children:c.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"})}),c.jsx("p",{className:"text-white text-sm",children:"DDAs (dbitos automticos) no disponveis"})]})]}),c.jsxs("div",{className:"text-center text-gray-400 text-sm mb-4",children:[c.jsx("p",{className:"mb-2",children:"Como podemos melhorar? Os dados no foram aceitos?"}),c.jsx("button",{className:"text-white hover:underline font-semibold",children:"Envie sua sugesto"})]})]}),i&&a&&c.jsx(aPe,{account:a,onBack:()=>s(!1),onSuccess:p})]})}var lPe=Object.defineProperty,tx=Object.getOwnPropertySymbols,O7=Object.prototype.hasOwnProperty,M7=Object.prototype.propertyIsEnumerable,PV=(t,e,n)=>e in t?lPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cS=(t,e)=>{for(var n in e||(e={}))O7.call(e,n)&&PV(t,n,e[n]);if(tx)for(var n of tx(e))M7.call(e,n)&&PV(t,n,e[n]);return t},uS=(t,e)=>{var n={};for(var r in t)O7.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&tx)for(var r of tx(t))e.indexOf(r)<0&&M7.call(t,r)&&(n[r]=t[r]);return n};var Pu;(t=>{const e=class gt{constructor(l,d,f,m){if(this.version=l,this.errorCorrectionLevel=d,this.modules=[],this.isFunction=[],l<gt.MIN_VERSION||l>gt.MAX_VERSION)throw new RangeError("Version value out of range");if(m<-1||m>7)throw new RangeError("Mask value out of range");this.size=l*4+17;let p=[];for(let v=0;v<this.size;v++)p.push(!1);for(let v=0;v<this.size;v++)this.modules.push(p.slice()),this.isFunction.push(p.slice());this.drawFunctionPatterns();const y=this.addEccAndInterleave(f);if(this.drawCodewords(y),m==-1){let v=1e9;for(let w=0;w<8;w++){this.applyMask(w),this.drawFormatBits(w);const _=this.getPenaltyScore();_<v&&(m=w,v=_),this.applyMask(w)}}i(0<=m&&m<=7),this.mask=m,this.applyMask(m),this.drawFormatBits(m),this.isFunction=[]}static encodeText(l,d){const f=t.QrSegment.makeSegments(l);return gt.encodeSegments(f,d)}static encodeBinary(l,d){const f=t.QrSegment.makeBytes(l);return gt.encodeSegments([f],d)}static encodeSegments(l,d,f=1,m=40,p=-1,y=!0){if(!(gt.MIN_VERSION<=f&&f<=m&&m<=gt.MAX_VERSION)||p<-1||p>7)throw new RangeError("Invalid value");let v,w;for(v=f;;v++){const O=gt.getNumDataCodewords(v,d)*8,z=a.getTotalBits(l,v);if(z<=O){w=z;break}if(v>=m)throw new RangeError("Data too long")}for(const O of[gt.Ecc.MEDIUM,gt.Ecc.QUARTILE,gt.Ecc.HIGH])y&&w<=gt.getNumDataCodewords(v,O)*8&&(d=O);let _=[];for(const O of l){n(O.mode.modeBits,4,_),n(O.numChars,O.mode.numCharCountBits(v),_);for(const z of O.getData())_.push(z)}i(_.length==w);const T=gt.getNumDataCodewords(v,d)*8;i(_.length<=T),n(0,Math.min(4,T-_.length),_),n(0,(8-_.length%8)%8,_),i(_.length%8==0);for(let O=236;_.length<T;O^=253)n(O,8,_);let L=[];for(;L.length*8<_.length;)L.push(0);return _.forEach((O,z)=>L[z>>>3]|=O<<7-(z&7)),new gt(v,d,L,p)}getModule(l,d){return 0<=l&&l<this.size&&0<=d&&d<this.size&&this.modules[d][l]}getModules(){return this.modules}drawFunctionPatterns(){for(let f=0;f<this.size;f++)this.setFunctionModule(6,f,f%2==0),this.setFunctionModule(f,6,f%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const l=this.getAlignmentPatternPositions(),d=l.length;for(let f=0;f<d;f++)for(let m=0;m<d;m++)f==0&&m==0||f==0&&m==d-1||f==d-1&&m==0||this.drawAlignmentPattern(l[f],l[m]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(l){const d=this.errorCorrectionLevel.formatBits<<3|l;let f=d;for(let p=0;p<10;p++)f=f<<1^(f>>>9)*1335;const m=(d<<10|f)^21522;i(m>>>15==0);for(let p=0;p<=5;p++)this.setFunctionModule(8,p,r(m,p));this.setFunctionModule(8,7,r(m,6)),this.setFunctionModule(8,8,r(m,7)),this.setFunctionModule(7,8,r(m,8));for(let p=9;p<15;p++)this.setFunctionModule(14-p,8,r(m,p));for(let p=0;p<8;p++)this.setFunctionModule(this.size-1-p,8,r(m,p));for(let p=8;p<15;p++)this.setFunctionModule(8,this.size-15+p,r(m,p));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let l=this.version;for(let f=0;f<12;f++)l=l<<1^(l>>>11)*7973;const d=this.version<<12|l;i(d>>>18==0);for(let f=0;f<18;f++){const m=r(d,f),p=this.size-11+f%3,y=Math.floor(f/3);this.setFunctionModule(p,y,m),this.setFunctionModule(y,p,m)}}drawFinderPattern(l,d){for(let f=-4;f<=4;f++)for(let m=-4;m<=4;m++){const p=Math.max(Math.abs(m),Math.abs(f)),y=l+m,v=d+f;0<=y&&y<this.size&&0<=v&&v<this.size&&this.setFunctionModule(y,v,p!=2&&p!=4)}}drawAlignmentPattern(l,d){for(let f=-2;f<=2;f++)for(let m=-2;m<=2;m++)this.setFunctionModule(l+m,d+f,Math.max(Math.abs(m),Math.abs(f))!=1)}setFunctionModule(l,d,f){this.modules[d][l]=f,this.isFunction[d][l]=!0}addEccAndInterleave(l){const d=this.version,f=this.errorCorrectionLevel;if(l.length!=gt.getNumDataCodewords(d,f))throw new RangeError("Invalid argument");const m=gt.NUM_ERROR_CORRECTION_BLOCKS[f.ordinal][d],p=gt.ECC_CODEWORDS_PER_BLOCK[f.ordinal][d],y=Math.floor(gt.getNumRawDataModules(d)/8),v=m-y%m,w=Math.floor(y/m);let _=[];const T=gt.reedSolomonComputeDivisor(p);for(let O=0,z=0;O<m;O++){let j=l.slice(z,z+w-p+(O<v?0:1));z+=j.length;const P=gt.reedSolomonComputeRemainder(j,T);O<v&&j.push(0),_.push(j.concat(P))}let L=[];for(let O=0;O<_[0].length;O++)_.forEach((z,j)=>{(O!=w-p||j>=v)&&L.push(z[O])});return i(L.length==y),L}drawCodewords(l){if(l.length!=Math.floor(gt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let d=0;for(let f=this.size-1;f>=1;f-=2){f==6&&(f=5);for(let m=0;m<this.size;m++)for(let p=0;p<2;p++){const y=f-p,w=(f+1&2)==0?this.size-1-m:m;!this.isFunction[w][y]&&d<l.length*8&&(this.modules[w][y]=r(l[d>>>3],7-(d&7)),d++)}}i(d==l.length*8)}applyMask(l){if(l<0||l>7)throw new RangeError("Mask value out of range");for(let d=0;d<this.size;d++)for(let f=0;f<this.size;f++){let m;switch(l){case 0:m=(f+d)%2==0;break;case 1:m=d%2==0;break;case 2:m=f%3==0;break;case 3:m=(f+d)%3==0;break;case 4:m=(Math.floor(f/3)+Math.floor(d/2))%2==0;break;case 5:m=f*d%2+f*d%3==0;break;case 6:m=(f*d%2+f*d%3)%2==0;break;case 7:m=((f+d)%2+f*d%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[d][f]&&m&&(this.modules[d][f]=!this.modules[d][f])}}getPenaltyScore(){let l=0;for(let p=0;p<this.size;p++){let y=!1,v=0,w=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[p][_]==y?(v++,v==5?l+=gt.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,w),y||(l+=this.finderPenaltyCountPatterns(w)*gt.PENALTY_N3),y=this.modules[p][_],v=1);l+=this.finderPenaltyTerminateAndCount(y,v,w)*gt.PENALTY_N3}for(let p=0;p<this.size;p++){let y=!1,v=0,w=[0,0,0,0,0,0,0];for(let _=0;_<this.size;_++)this.modules[_][p]==y?(v++,v==5?l+=gt.PENALTY_N1:v>5&&l++):(this.finderPenaltyAddHistory(v,w),y||(l+=this.finderPenaltyCountPatterns(w)*gt.PENALTY_N3),y=this.modules[_][p],v=1);l+=this.finderPenaltyTerminateAndCount(y,v,w)*gt.PENALTY_N3}for(let p=0;p<this.size-1;p++)for(let y=0;y<this.size-1;y++){const v=this.modules[p][y];v==this.modules[p][y+1]&&v==this.modules[p+1][y]&&v==this.modules[p+1][y+1]&&(l+=gt.PENALTY_N2)}let d=0;for(const p of this.modules)d=p.reduce((y,v)=>y+(v?1:0),d);const f=this.size*this.size,m=Math.ceil(Math.abs(d*20-f*10)/f)-1;return i(0<=m&&m<=9),l+=m*gt.PENALTY_N4,i(0<=l&&l<=2568888),l}getAlignmentPatternPositions(){if(this.version==1)return[];{const l=Math.floor(this.version/7)+2,d=this.version==32?26:Math.ceil((this.version*4+4)/(l*2-2))*2;let f=[6];for(let m=this.size-7;f.length<l;m-=d)f.splice(1,0,m);return f}}static getNumRawDataModules(l){if(l<gt.MIN_VERSION||l>gt.MAX_VERSION)throw new RangeError("Version number out of range");let d=(16*l+128)*l+64;if(l>=2){const f=Math.floor(l/7)+2;d-=(25*f-10)*f-55,l>=7&&(d-=36)}return i(208<=d&&d<=29648),d}static getNumDataCodewords(l,d){return Math.floor(gt.getNumRawDataModules(l)/8)-gt.ECC_CODEWORDS_PER_BLOCK[d.ordinal][l]*gt.NUM_ERROR_CORRECTION_BLOCKS[d.ordinal][l]}static reedSolomonComputeDivisor(l){if(l<1||l>255)throw new RangeError("Degree out of range");let d=[];for(let m=0;m<l-1;m++)d.push(0);d.push(1);let f=1;for(let m=0;m<l;m++){for(let p=0;p<d.length;p++)d[p]=gt.reedSolomonMultiply(d[p],f),p+1<d.length&&(d[p]^=d[p+1]);f=gt.reedSolomonMultiply(f,2)}return d}static reedSolomonComputeRemainder(l,d){let f=d.map(m=>0);for(const m of l){const p=m^f.shift();f.push(0),d.forEach((y,v)=>f[v]^=gt.reedSolomonMultiply(y,p))}return f}static reedSolomonMultiply(l,d){if(l>>>8||d>>>8)throw new RangeError("Byte out of range");let f=0;for(let m=7;m>=0;m--)f=f<<1^(f>>>7)*285,f^=(d>>>m&1)*l;return i(f>>>8==0),f}finderPenaltyCountPatterns(l){const d=l[1];i(d<=this.size*3);const f=d>0&&l[2]==d&&l[3]==d*3&&l[4]==d&&l[5]==d;return(f&&l[0]>=d*4&&l[6]>=d?1:0)+(f&&l[6]>=d*4&&l[0]>=d?1:0)}finderPenaltyTerminateAndCount(l,d,f){return l&&(this.finderPenaltyAddHistory(d,f),d=0),d+=this.size,this.finderPenaltyAddHistory(d,f),this.finderPenaltyCountPatterns(f)}finderPenaltyAddHistory(l,d){d[0]==0&&(l+=this.size),d.pop(),d.unshift(l)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function n(o,l,d){if(l<0||l>31||o>>>l)throw new RangeError("Value out of range");for(let f=l-1;f>=0;f--)d.push(o>>>f&1)}function r(o,l){return(o>>>l&1)!=0}function i(o){if(!o)throw new Error("Assertion error")}const s=class Pn{constructor(l,d,f){if(this.mode=l,this.numChars=d,this.bitData=f,d<0)throw new RangeError("Invalid argument");this.bitData=f.slice()}static makeBytes(l){let d=[];for(const f of l)n(f,8,d);return new Pn(Pn.Mode.BYTE,l.length,d)}static makeNumeric(l){if(!Pn.isNumeric(l))throw new RangeError("String contains non-numeric characters");let d=[];for(let f=0;f<l.length;){const m=Math.min(l.length-f,3);n(parseInt(l.substring(f,f+m),10),m*3+1,d),f+=m}return new Pn(Pn.Mode.NUMERIC,l.length,d)}static makeAlphanumeric(l){if(!Pn.isAlphanumeric(l))throw new RangeError("String contains unencodable characters in alphanumeric mode");let d=[],f;for(f=0;f+2<=l.length;f+=2){let m=Pn.ALPHANUMERIC_CHARSET.indexOf(l.charAt(f))*45;m+=Pn.ALPHANUMERIC_CHARSET.indexOf(l.charAt(f+1)),n(m,11,d)}return f<l.length&&n(Pn.ALPHANUMERIC_CHARSET.indexOf(l.charAt(f)),6,d),new Pn(Pn.Mode.ALPHANUMERIC,l.length,d)}static makeSegments(l){return l==""?[]:Pn.isNumeric(l)?[Pn.makeNumeric(l)]:Pn.isAlphanumeric(l)?[Pn.makeAlphanumeric(l)]:[Pn.makeBytes(Pn.toUtf8ByteArray(l))]}static makeEci(l){let d=[];if(l<0)throw new RangeError("ECI assignment value out of range");if(l<128)n(l,8,d);else if(l<16384)n(2,2,d),n(l,14,d);else if(l<1e6)n(6,3,d),n(l,21,d);else throw new RangeError("ECI assignment value out of range");return new Pn(Pn.Mode.ECI,0,d)}static isNumeric(l){return Pn.NUMERIC_REGEX.test(l)}static isAlphanumeric(l){return Pn.ALPHANUMERIC_REGEX.test(l)}getData(){return this.bitData.slice()}static getTotalBits(l,d){let f=0;for(const m of l){const p=m.mode.numCharCountBits(d);if(m.numChars>=1<<p)return 1/0;f+=4+p+m.bitData.length}return f}static toUtf8ByteArray(l){l=encodeURI(l);let d=[];for(let f=0;f<l.length;f++)l.charAt(f)!="%"?d.push(l.charCodeAt(f)):(d.push(parseInt(l.substring(f+1,f+3),16)),f+=2);return d}};s.NUMERIC_REGEX=/^[0-9]*$/,s.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,s.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let a=s;t.QrSegment=s})(Pu||(Pu={}));(t=>{(e=>{const n=class{constructor(i,s){this.ordinal=i,this.formatBits=s}};n.LOW=new n(0,1),n.MEDIUM=new n(1,0),n.QUARTILE=new n(2,3),n.HIGH=new n(3,2),e.Ecc=n})(t.QrCode||(t.QrCode={}))})(Pu||(Pu={}));(t=>{(e=>{const n=class{constructor(i,s){this.modeBits=i,this.numBitsCharCount=s}numCharCountBits(i){return this.numBitsCharCount[Math.floor((i+7)/17)]}};n.NUMERIC=new n(1,[10,12,14]),n.ALPHANUMERIC=new n(2,[9,11,13]),n.BYTE=new n(4,[8,16,16]),n.KANJI=new n(8,[8,10,12]),n.ECI=new n(7,[0,0,0]),e.Mode=n})(t.QrSegment||(t.QrSegment={}))})(Pu||(Pu={}));var Gd=Pu;var cPe={L:Gd.QrCode.Ecc.LOW,M:Gd.QrCode.Ecc.MEDIUM,Q:Gd.QrCode.Ecc.QUARTILE,H:Gd.QrCode.Ecc.HIGH},L7=128,V7="L",F7="#FFFFFF",B7="#000000",z7=!1,U7=1,uPe=4,dPe=0,fPe=.1;function $7(t,e=0){const n=[];return t.forEach(function(r,i){let s=null;r.forEach(function(a,o){if(!a&&s!==null){n.push(`M${s+e} ${i+e}h${o-s}v1H${s+e}z`),s=null;return}if(o===r.length-1){if(!a)return;s===null?n.push(`M${o+e},${i+e} h1v1H${o+e}z`):n.push(`M${s+e},${i+e} h${o+1-s}v1H${s+e}z`);return}a&&s===null&&(s=o)})}),n.join("")}function q7(t,e){return t.slice().map((n,r)=>r<e.y||r>=e.y+e.h?n:n.map((i,s)=>s<e.x||s>=e.x+e.w?i:!1))}function hPe(t,e,n,r){if(r==null)return null;const i=t.length+n*2,s=Math.floor(e*fPe),a=i/e,o=(r.width||s)*a,l=(r.height||s)*a,d=r.x==null?t.length/2-o/2:r.x*a,f=r.y==null?t.length/2-l/2:r.y*a,m=r.opacity==null?1:r.opacity;let p=null;if(r.excavate){let v=Math.floor(d),w=Math.floor(f),_=Math.ceil(o+d-v),T=Math.ceil(l+f-w);p={x:v,y:w,w:_,h:T}}const y=r.crossOrigin;return{x:d,y:f,h:l,w:o,excavation:p,opacity:m,crossOrigin:y}}function mPe(t,e){return e!=null?Math.max(Math.floor(e),0):t?uPe:dPe}function W7({value:t,level:e,minVersion:n,includeMargin:r,marginSize:i,imageSettings:s,size:a,boostLevel:o}){let l=Se.useMemo(()=>{const v=(Array.isArray(t)?t:[t]).reduce((w,_)=>(w.push(...Gd.QrSegment.makeSegments(_)),w),[]);return Gd.QrCode.encodeSegments(v,cPe[e],n,void 0,void 0,o)},[t,e,n,o]);const{cells:d,margin:f,numCells:m,calculatedImageSettings:p}=Se.useMemo(()=>{let y=l.getModules();const v=mPe(r,i),w=y.length+v*2,_=hPe(y,a,v,s);return{cells:y,margin:v,numCells:w,calculatedImageSettings:_}},[l,a,s,r,i]);return{qrcode:l,margin:f,cells:d,numCells:m,calculatedImageSettings:p}}var pPe=(function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0})(),gPe=Se.forwardRef(function(e,n){const r=e,{value:i,size:s=L7,level:a=V7,bgColor:o=F7,fgColor:l=B7,includeMargin:d=z7,minVersion:f=U7,boostLevel:m,marginSize:p,imageSettings:y}=r,w=uS(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:_}=w,T=uS(w,["style"]),L=y?.src,O=Se.useRef(null),z=Se.useRef(null),j=Se.useCallback(K=>{O.current=K,typeof n=="function"?n(K):n&&(n.current=K)},[n]),[P,C]=Se.useState(!1),{margin:S,cells:k,numCells:A,calculatedImageSettings:D}=W7({value:i,level:a,minVersion:f,boostLevel:m,includeMargin:d,marginSize:p,imageSettings:y,size:s});Se.useEffect(()=>{if(O.current!=null){const K=O.current,Y=K.getContext("2d");if(!Y)return;let J=k;const F=z.current,G=D!=null&&F!==null&&F.complete&&F.naturalHeight!==0&&F.naturalWidth!==0;G&&D.excavation!=null&&(J=q7(k,D.excavation));const q=window.devicePixelRatio||1;K.height=K.width=s*q;const R=s/A*q;Y.scale(R,R),Y.fillStyle=o,Y.fillRect(0,0,A,A),Y.fillStyle=l,pPe?Y.fill(new Path2D($7(J,S))):k.forEach(function(U,H){U.forEach(function(Q,Z){Q&&Y.fillRect(Z+S,H+S,1,1)})}),D&&(Y.globalAlpha=D.opacity),G&&Y.drawImage(F,D.x+S,D.y+S,D.w,D.h)}}),Se.useEffect(()=>{C(!1)},[L]);const M=cS({height:s,width:s},_);let I=null;return L!=null&&(I=Se.createElement("img",{src:L,key:L,style:{display:"none"},onLoad:()=>{C(!0)},ref:z,crossOrigin:D?.crossOrigin})),Se.createElement(Se.Fragment,null,Se.createElement("canvas",cS({style:M,height:s,width:s,ref:j,role:"img"},T)),I)});gPe.displayName="QRCodeCanvas";var H7=Se.forwardRef(function(e,n){const r=e,{value:i,size:s=L7,level:a=V7,bgColor:o=F7,fgColor:l=B7,includeMargin:d=z7,minVersion:f=U7,boostLevel:m,title:p,marginSize:y,imageSettings:v}=r,w=uS(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:_,cells:T,numCells:L,calculatedImageSettings:O}=W7({value:i,level:a,minVersion:f,boostLevel:m,includeMargin:d,marginSize:y,imageSettings:v,size:s});let z=T,j=null;v!=null&&O!=null&&(O.excavation!=null&&(z=q7(T,O.excavation)),j=Se.createElement("image",{href:v.src,height:O.h,width:O.w,x:O.x+_,y:O.y+_,preserveAspectRatio:"none",opacity:O.opacity,crossOrigin:O.crossOrigin}));const P=$7(z,_);return Se.createElement("svg",cS({height:s,width:s,viewBox:`0 0 ${L} ${L}`,ref:n,role:"img"},w),!!p&&Se.createElement("title",null,p),Se.createElement("path",{fill:o,d:`M0,0 h${L}v${L}H0z`,shapeRendering:"crispEdges"}),Se.createElement("path",{fill:l,d:P,shapeRendering:"crispEdges"}),j)});H7.displayName="QRCodeSVG";function yPe({account:t,onClose:e}){const{user:n}=Dt(),{t:r}=xt(),{pixKeys:i}=GN(),[s,a]=E.useState("transfer"),[o,l]=E.useState(""),[d,f]=E.useState(!1),[m,p]=E.useState(null),[y,v]=E.useState(""),[w,_]=E.useState(!1),T=t.country==="BR",L=t.currency==="BRL"?"R$":t.currency==="USD"?"$":t.currency==="EUR"?"":"";E.useEffect(()=>{i.length>0&&!y&&v(i[0].id)},[i,y]);const O=i.find(A=>A.id===y),z=(A,D)=>{Sb(A),p(D),Ge.success(r.copiedToClipboard),setTimeout(()=>p(null),2e3)},j=A=>{const D=A.replace(/\D/g,"");return D?(parseInt(D)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""},P=A=>{const D=j(A);l(D)},S=(()=>{if(!O||!o)return"";const A=parseFloat(o.replace(/\./g,"").replace(",","."));if(A<=0)return"";const D={pixKey:O.keyValue,description:"Depsito NexCoin",merchantName:"NexCoin",merchantCity:"SAO PAULO",txid:Math.random().toString(36).substring(2,15).toUpperCase(),amount:A.toFixed(2)};return JSON.stringify(D)})(),k=A=>{switch(A){case"cpf":return"CPF";case"cnpj":return"CNPJ";case"email":return r.email;case"phone":return r.phone;case"random":return"Aleatria";default:return A}};return c.jsxs("div",{className:"fixed inset-0 bg-black z-50 flex flex-col",children:[c.jsxs("div",{className:"px-6 pt-12 pb-4 flex items-center flex-shrink-0",children:[c.jsx("button",{className:"w-10 h-10 flex items-center justify-start text-white",onClick:e,children:c.jsx(vt,{className:"w-6 h-6"})}),c.jsx("h1",{className:"flex-1 text-center font-semibold text-lg pr-10",children:r.fiatAccounts.addFunds})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto hide-scrollbar px-6 pb-6",children:[c.jsx("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-4 mb-6",children:c.jsx("div",{className:"flex items-center gap-3 mb-2",children:c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-semibold text-white",children:t.bankName}),c.jsx("p",{className:"text-xs text-gray-400",children:t.accountNumber})]})})}),T&&c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-sm text-gray-400 mb-3",children:r.fiatAccounts.depositMethod}),c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:()=>a("transfer"),className:`flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all ${s==="transfer"?"bg-white text-black":"bg-[#0A0A0A] text-gray-400 border border-[#1A1A1A]"}`,children:r.transferMethod}),c.jsx("button",{onClick:()=>a("pix"),className:`flex-1 py-3 px-4 rounded-xl text-sm font-medium transition-all ${s==="pix"?"bg-white text-black":"bg-[#0A0A0A] text-gray-400 border border-[#1A1A1A]"}`,children:r.withdrawTransfer.pix})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("p",{className:"text-sm text-gray-400 mb-3",children:r.fiatAccounts.depositAmount}),c.jsxs("div",{className:"relative",children:[c.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl font-semibold text-white",children:L}),c.jsx("input",{type:"text",inputMode:"decimal",value:o,onChange:A=>P(A.target.value),placeholder:"0,00",className:"w-full bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl py-4 pl-12 pr-4 text-2xl font-semibold text-white placeholder-gray-600 focus:outline-none focus:border-white/20"})]})]}),s==="transfer"&&c.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-4 mb-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-white mb-4",children:r.fiatAccounts.transferDetails}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:r.fiatAccounts.bank}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-white font-medium",children:t.bankName}),c.jsx("button",{onClick:()=>z(t.bankName,"bank"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="bank"?c.jsx(jn,{className:"w-4 h-4 text-green-500"}):c.jsx(bn,{className:"w-4 h-4 text-gray-400"})})]})]}),t.branchCode&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:r.withdrawTransfer.agency}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-white font-mono",children:t.branchCode}),c.jsx("button",{onClick:()=>z(t.branchCode,"branch"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="branch"?c.jsx(jn,{className:"w-4 h-4 text-green-500"}):c.jsx(bn,{className:"w-4 h-4 text-gray-400"})})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:r.withdrawTransfer.account}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-white font-mono",children:t.accountNumber}),c.jsx("button",{onClick:()=>z(t.accountNumber,"account"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="account"?c.jsx(jn,{className:"w-4 h-4 text-green-500"}):c.jsx(bn,{className:"w-4 h-4 text-gray-400"})})]})]}),t.iban&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"IBAN"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-white font-mono",children:t.iban}),c.jsx("button",{onClick:()=>z(t.iban,"iban"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="iban"?c.jsx(jn,{className:"w-4 h-4 text-green-500"}):c.jsx(bn,{className:"w-4 h-4 text-gray-400"})})]})]}),t.swift&&c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"SWIFT/BIC"}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-sm text-white font-mono",children:t.swift}),c.jsx("button",{onClick:()=>z(t.swift,"swift"),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:m==="swift"?c.jsx(jn,{className:"w-4 h-4 text-green-500"}):c.jsx(bn,{className:"w-4 h-4 text-gray-400"})})]})]})]})]}),s==="pix"&&c.jsx("div",{className:"space-y-4",children:i.length>0?c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-400 mb-3",children:r.fiatAccounts.selectPixKey}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>_(!w),className:"w-full bg-[#0A0A0A] border border-[#1A1A1A] rounded-xl p-4 flex items-center justify-between text-left",children:[O?c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:k(O.keyType)}),c.jsx("p",{className:"text-sm text-white font-mono",children:O.keyValue})]}):c.jsx("p",{className:"text-sm text-gray-400",children:r.fiatAccounts.selectKey}),c.jsx(Il,{className:`w-5 h-5 text-gray-400 transition-transform ${w?"rotate-180":""}`})]}),w&&c.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-[#0A0A0A] border border-[#1A1A1A] rounded-xl overflow-hidden z-10 max-h-60 overflow-y-auto",children:i.map(A=>c.jsxs("button",{onClick:()=>{v(A.id),_(!1)},className:`w-full p-4 text-left hover:bg-white/5 transition-colors border-b border-[#1A1A1A] last:border-b-0 ${y===A.id?"bg-white/5":""}`,children:[c.jsx("p",{className:"text-xs text-gray-400 mb-1",children:k(A.keyType)}),c.jsx("p",{className:"text-sm text-white font-mono",children:A.keyValue})]},A.id))})]})]}),O&&o&&parseFloat(o.replace(/\./g,"").replace(",","."))>0&&c.jsxs("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-6",children:[c.jsx("h3",{className:"text-sm font-semibold text-white mb-4 text-center",children:r.fiatAccounts.pixQrCode}),c.jsx("div",{className:"bg-white rounded-2xl p-6 mb-4 flex items-center justify-center",children:c.jsx(H7,{value:S,size:200,level:"H",includeMargin:!1,className:"w-full h-auto"})}),c.jsxs("div",{className:"space-y-3 mb-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs text-gray-400",children:r.withdrawTransfer.amount}),c.jsxs("span",{className:"text-sm text-white font-semibold",children:[L," ",t.currency==="BRL"?parseFloat(o.replace(/\./g,"").replace(",",".")).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):parseFloat(o.replace(/\./g,"").replace(",",".")).toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs text-gray-400",children:r.withdrawTransfer.pixKey}),c.jsx("span",{className:"text-sm text-white font-mono truncate ml-4",children:O.keyValue})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-xs text-gray-400",children:r.fiatAccounts.recipient}),c.jsx("span",{className:"text-sm text-white",children:"NexCoin"})]})]}),c.jsx("button",{onClick:()=>z(S,"pixPayload"),className:"w-full bg-white/10 hover:bg-white/15 border border-white/20 rounded-xl py-3 flex items-center justify-center gap-2 transition-colors",children:m==="pixPayload"?c.jsxs(c.Fragment,{children:[c.jsx(jn,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{className:"text-sm font-medium text-green-500",children:r.fiatAccounts.codeCopied})]}):c.jsxs(c.Fragment,{children:[c.jsx(bn,{className:"w-4 h-4 text-white"}),c.jsx("span",{className:"text-sm font-medium text-white",children:r.fiatAccounts.copyPixCode})]})})]})]}):c.jsx("div",{className:"bg-[#0A0A0A] border border-[#1A1A1A] rounded-2xl p-6 text-center",children:c.jsx("p",{className:"text-gray-400 mb-4",children:r.fiatAccounts.noPixKeys})})}),c.jsx("div",{className:"mt-6",children:c.jsxs("p",{className:"text-xs text-white/70",children:[" ",c.jsx("strong",{children:"Dica:"})," ",r.fiatAccounts.depositHint]})})]}),c.jsx("div",{className:"p-6 border-t border-[#1A1A1A] bg-black",children:c.jsx("button",{onClick:()=>{Ge.info(r.convertPage.needTwoAccounts),e()},className:"w-full bg-white text-black font-semibold py-4 rounded-xl hover:bg-gray-100 transition-colors",children:r.done||"Concludo"})})]})}function AV({account:t,onClose:e,onNavigateToConvert:n,onNavigateToWithdraw:r}){const[i,s]=E.useState("transactions"),[a,o]=E.useState(!1),[l,d]=E.useState(!1),{getBalance:f}=Yp(),{transactions:m,isLoading:p,formatTransactionDescription:y,getTransactionIconType:v}=Cb(),{t:w,language:_}=xt(),T=E.useMemo(()=>m.filter(P=>P.currency===t.currency||P.fromCurrency===t.currency||P.toCurrency===t.currency).slice(0,10),[m,t.currency]),L=P=>{const C=f(P),S=_==="pt"?"pt-BR":_==="es"?"es-ES":"en-US";return`${C.toLocaleString(S,{minimumFractionDigits:2,maximumFractionDigits:2})} ${P}`},O=P=>{let C=0,S=t.currency;P.type==="convert"?P.fromCurrency===t.currency?(C=-P.fromAmount,S=P.fromCurrency):P.toCurrency===t.currency&&(C=P.toAmount,S=P.toCurrency):P.type==="withdraw_fiat"||P.type==="send_crypto"||P.type==="crypto_send"||P.type==="pix_send"?(C=-Math.abs(P.amount),S=P.currency):(C=Math.abs(P.amount),S=P.currency);const k=C>=0?"+":"-",A=Math.abs(C),D=_==="pt"?"pt-BR":_==="es"?"es-ES":"en-US",M=A.toLocaleString(D,{minimumFractionDigits:2,maximumFractionDigits:2});return{formatted:`${k} ${M} ${S}`,amount:C}},z=P=>{const C=_==="pt"?"pt-BR":_==="es"?"es-ES":"en-US";return P.toLocaleDateString(C,{day:"numeric",month:"short"})},j=P=>{switch(P){case"saida":return c.jsx(VT,{className:"w-5 h-5 text-white"});case"entrada":return c.jsx(hz,{className:"w-5 h-5 text-white"});case"conversao":return c.jsx(fv,{className:"w-5 h-5 text-white"})}};return c.jsx(c.Fragment,{children:l?c.jsx(yPe,{account:t,onClose:()=>d(!1)}):a?c.jsx(oPe,{onNavigate:P=>{P==="home"&&(o(!1),e())}}):c.jsxs("div",{className:"fixed inset-0 bg-gradient-to-b from-[#1a2942] via-black to-black z-50 overflow-y-auto",children:[c.jsx("div",{className:"flex items-center justify-between p-4 relative z-10",children:c.jsx("button",{onClick:e,className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center backdrop-blur-md border border-white/10 hover:bg-white/15 transition-all",children:c.jsx(qs,{className:"w-5 h-5 text-white"})})}),c.jsxs("div",{className:"flex flex-col items-center mt-8 px-4 relative z-10",children:[c.jsx("div",{className:"text-white/60 text-sm font-semibold mb-2 tracking-widest uppercase",children:t.currency}),c.jsx("div",{className:"text-xl font-light text-white mb-8 tabular-nums",children:L(t.currency)}),t.currency==="BRL"&&c.jsx("button",{onClick:()=>o(!0),className:"mb-8 px-6 py-2.5 rounded-full bg-white/10 hover:bg-white/15 backdrop-blur-md border border-white/20 transition-all flex items-center gap-2 text-white font-semibold text-sm shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:w.fiatAccounts.pixKeys}),c.jsxs("div",{className:"flex items-center gap-8 mb-10",children:[c.jsxs("button",{onClick:()=>d(!0),className:"flex flex-col items-center gap-2 group",children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:c.jsx(vu,{className:"w-6 h-6 text-white"})}),c.jsx("span",{className:"text-xs text-white/70 font-light",children:w.fiatAccounts.addButton})]}),c.jsxs("button",{onClick:()=>{n&&n()},className:"flex flex-col items-center gap-2 group",children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:c.jsx(fv,{className:"w-6 h-6 text-white"})}),c.jsx("span",{className:"text-xs text-white/70 font-light",children:w.bottomNav.convert})]}),c.jsxs("button",{onClick:()=>{r&&r()},className:"flex flex-col items-center gap-2 group",children:[c.jsx("div",{className:"w-14 h-14 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 transition-all flex items-center justify-center shadow-[inset_0_1px_0_0_rgba(255,255,255,0.1),0_4px_12px_rgba(0,0,0,0.3)] hover:bg-white/10 active:scale-95",children:c.jsx(VT,{className:"w-6 h-6 text-white"})}),c.jsx("span",{className:"text-xs text-white/70 font-light",children:w.withdrawTransfer.sendMoney})]})]})]}),c.jsx("div",{className:"px-4 mb-6",children:c.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-full p-1 flex border border-white/10",children:[c.jsx("button",{onClick:()=>s("transactions"),className:`flex-1 py-2 rounded-full text-sm font-semibold transition-all ${i==="transactions"?"bg-white/20 backdrop-blur-md text-white shadow-[0_0_20px_rgba(255,255,255,0.05)]":"text-white/50 hover:text-white/70"}`,children:w.transactions}),c.jsx("button",{onClick:()=>s("options"),className:`py-3 text-sm font-medium border-b-2 transition-colors flex-1 ${i==="options"?"border-white text-white":"border-transparent text-white/50 hover:text-white/70"}`,children:w.options})]})}),c.jsx("div",{className:"px-4 pb-8",children:i==="transactions"?c.jsx("div",{className:"space-y-3",children:p?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"inline-block w-8 h-8 border-4 border-white/20 border-t-white rounded-full animate-spin"}),c.jsx("p",{className:"text-white/50 mt-4 text-sm",children:w.loading})]}):T.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-white/5 mx-auto mb-4 flex items-center justify-center",children:c.jsx(fv,{className:"w-8 h-8 text-white/30"})}),c.jsx("p",{className:"text-white/50 text-sm",children:w.transactionsPage.noTransactions}),c.jsx("p",{className:"text-white/30 text-xs mt-2",children:w.transactionsPage.noTransactionsDesc})]}):c.jsx(c.Fragment,{children:T.map(P=>{const{formatted:C,amount:S}=O(P),k=v(P);return c.jsx("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)] hover:bg-white/10 transition-all",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0",children:j(k)}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-white font-semibold text-sm truncate",children:y(P)}),c.jsxs("div",{className:"text-white/50 text-xs",children:[P.recipientInfo||P.description||w.transactionsPage.title,"  ",z(P.createdAt)]})]}),c.jsx("div",{className:"flex flex-col items-end",children:c.jsx("div",{className:`font-semibold text-sm tabular-nums ${S>=0?"text-[#34c759]":"text-white"}`,children:C})})]})},P.id)})})}):c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-4 border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:[c.jsx("h3",{className:"text-white font-bold text-sm mb-3",children:w.fiatAccounts.accountData}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-white/50 text-xs mb-1",children:w.fiatAccounts.bank}),c.jsx("div",{className:"text-white text-sm font-semibold",children:t.bankName})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-white/50 text-xs mb-1",children:w.fiatAccounts.accountNumber}),c.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.accountNumber})]}),t.routingNumber&&c.jsxs("div",{children:[c.jsx("div",{className:"text-white/50 text-xs mb-1",children:w.fiatAccounts.bankCode}),c.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.routingNumber})]}),t.iban&&c.jsxs("div",{children:[c.jsx("div",{className:"text-white/50 text-xs mb-1",children:w.fiatAccounts.iban}),c.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.iban})]}),t.swift&&c.jsxs("div",{children:[c.jsx("div",{className:"text-white/50 text-xs mb-1",children:w.fiatAccounts.swiftBic}),c.jsx("div",{className:"text-white text-sm font-semibold tabular-nums",children:t.swift})]})]})]}),c.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl overflow-hidden border border-white/10 shadow-[0_0_20px_rgba(255,255,255,0.05)]",children:[c.jsxs("button",{className:"w-full p-4 flex items-center justify-between hover:bg-white/10 transition-all border-b border-white/5",children:[c.jsx("span",{className:"text-white text-sm font-semibold",children:w.fiatAccounts.accountSettings}),c.jsx(mo,{className:"w-4 h-4 text-white/50"})]}),c.jsxs("button",{className:"w-full p-4 flex items-center justify-between hover:bg-white/10 transition-all",children:[c.jsx("span",{className:"text-[#ff3b30] text-sm font-semibold",children:w.fiatAccounts.removeAccount}),c.jsx(mo,{className:"w-4 h-4 text-[#ff3b30]/50"})]})]})]})})]})})}function vPe(){const{userData:t,logout:e}=Dt(),{t:n}=xt(),r=async()=>{try{await e()}catch(a){console.error("Erro ao fazer logout:",a)}},i=t?.name?.split(" ")[0]||"usurio",s=t?.email||"";return c.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-4",children:c.jsxs("div",{className:"max-w-md w-full",children:[c.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-8 text-center",children:[c.jsx("div",{className:"mb-6 flex justify-center",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-yellow-500/20 rounded-full blur-xl animate-pulse"}),c.jsx("div",{className:"relative bg-gradient-to-br from-yellow-500 to-orange-500 rounded-full p-4",children:c.jsx(Um,{className:"w-12 h-12 text-white"})})]})}),c.jsx("h1",{className:"text-2xl font-bold mb-3",children:n.pendingApproval.title}),c.jsxs("p",{className:"text-gray-400 mb-8 leading-relaxed",children:[n.pendingApproval.greeting.replace("{name}",i)," ",n.pendingApproval.description.replace("NexCoin","")," ",c.jsx("span",{className:"text-white font-bold italic",children:"NexCoin"})]}),c.jsxs("div",{className:"space-y-4 mb-8 text-left",children:[c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"mt-1",children:c.jsx(Nx,{className:"w-5 h-5 text-green-500"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white font-medium",children:n.pendingApproval.step1Title}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n.pendingApproval.step1Desc})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"mt-1",children:c.jsx("div",{className:"w-5 h-5 border-2 border-yellow-500 border-t-transparent rounded-full animate-spin"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-white font-medium",children:n.pendingApproval.step2Title}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n.pendingApproval.step2Desc})]})]}),c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("div",{className:"mt-1",children:c.jsx("div",{className:"w-5 h-5 border-2 border-white/20 rounded-full"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-gray-400 font-medium",children:n.pendingApproval.step3Title}),c.jsx("p",{className:"text-xs text-gray-400 mt-1",children:n.pendingApproval.step3Desc})]})]})]}),c.jsx("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4 mb-6",children:c.jsxs("div",{className:"flex items-start gap-3 text-left",children:[c.jsx(wf,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm text-gray-300",children:[c.jsx("span",{className:"font-semibold text-white",children:n.pendingApproval.estimatedTime})," ",n.pendingApproval.timeValue]}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:n.pendingApproval.emailNotice.replace("{email}",s)})]})]})}),c.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400 mb-6",children:[c.jsx(_f,{className:"w-4 h-4 text-green-500"}),c.jsx("span",{children:n.pendingApproval.securityBadge})]}),c.jsx("button",{onClick:r,className:"w-full py-3 px-4 bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl text-white font-medium transition-all",children:n.pendingApproval.logoutButton})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsxs("p",{className:"text-sm text-gray-400",children:[n.pendingApproval.needHelp," ",c.jsx("a",{href:"mailto:suporte@nexcoin.com",className:"text-white hover:underline",children:n.pendingApproval.contactUs})]})})]})})}async function xPe(t){try{console.log(" ============ INICIANDO EXCLUSO DE CONTA ============"),console.log(" User ID:",t),console.log(" [1/6] Deletando subcolees do usurio...");const e=["portfolio","assets","transactions","conversions","fiatBalances","fiatTransactions","pixKeys","wallets","walletAddresses","receiveAddresses","auditLogs","preferences"];for(const n of e)try{const r=nt(be,"users",t,n),i=await Pt(r);if(console.log(`   Deletando ${i.size} documentos de ${n}...`),i.size>0){const s=[];let a=qc(be),o=0;const l=500;i.docs.forEach(d=>{a.delete(d.ref),o++,o===l&&(s.push(a),a=qc(be),o=0)}),o>0&&s.push(a);for(const d of s)await d.commit();console.log(`   ${i.size} documentos deletados de ${n}`)}else console.log(`   Nenhum documento encontrado em ${n}`)}catch(r){console.log(`   Erro ao deletar ${n} (continuando):`,r.message)}console.log(" [2/6] Deletando documento principal do usurio...");try{const n=rt(be,"users",t);await fo(n),console.log("   Documento principal deletado")}catch{console.log("   Documento principal no encontrado ou j foi deletado (continuando)")}console.log(" [3/6] Deletando contas bancrias...");try{const n=nt(be,"bankAccounts"),r=It(n,yt("userId","==",t)),i=await Pt(r);if(console.log(`   Deletando ${i.size} contas bancrias...`),i.size>0){const s=qc(be);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} contas bancrias deletadas`)}else console.log("   Nenhuma conta bancria encontrada")}catch(n){console.log("   Erro ao deletar contas bancrias (continuando):",n.message)}console.log(" [4/6] Deletando chaves PIX...");try{const n=nt(be,"pixKeys"),r=It(n,yt("userId","==",t)),i=await Pt(r);if(console.log(`   Deletando ${i.size} chaves PIX...`),i.size>0){const s=qc(be);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} chaves PIX deletadas`)}else console.log("   Nenhuma chave PIX encontrada")}catch(n){console.log("   Erro ao deletar chaves PIX (continuando):",n.message)}console.log(" [5/6] Deletando ndice de endereos de carteira...");try{const n=nt(be,"walletAddressIndex"),r=It(n,yt("userId","==",t)),i=await Pt(r);if(i.size>0){console.log(`   Deletando ${i.size} endereos do ndice...`);const s=qc(be);i.docs.forEach(a=>{s.delete(a.ref)}),await s.commit(),console.log(`   ${i.size} endereos deletados do ndice`)}else console.log("   Nenhum endereo no ndice encontrado")}catch(n){console.log("   Erro ao deletar ndice de endereos (continuando):",n.message)}if(console.log(" [6/6] Deletando usurio do Firebase Auth..."),!wn.currentUser)throw new Error("Usurio no est autenticado");if(wn.currentUser.uid!==t)throw new Error("Erro de segurana: UID no corresponde ao usurio autenticado");return await uZ(wn.currentUser),console.log("   Usurio deletado do Firebase Auth"),console.log(" ============ CONTA EXCLUDA COM SUCESSO ============"),{success:!0}}catch(e){console.error(" ============ ERRO NA EXCLUSO DE CONTA ============"),console.error(" Erro:",e),console.error(" Mensagem:",e.message),console.error(" ================================================");let n="Erro ao excluir conta. Tente novamente.";return e.code==="auth/requires-recent-login"?n="Por segurana, faa login novamente antes de excluir sua conta.":e.code==="permission-denied"?n="Voc no tem permisso para excluir esta conta.":e.message&&(n=e.message),{success:!1,error:n}}}async function bPe(t){try{const e={assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0};try{const n=await Pt(nt(be,"users",t,"assets"));e.assets=n.size}catch{}try{const n=await Pt(nt(be,"users",t,"transactions"));e.transactions=n.size}catch{}try{const n=await Pt(nt(be,"users",t,"conversions"));e.conversions=n.size}catch{}try{const n=await Pt(nt(be,"users",t,"fiatBalances"));e.fiatBalances=n.size}catch{}try{const n=It(nt(be,"bankAccounts"),yt("userId","==",t)),r=await Pt(n);e.bankAccounts=r.size}catch{}try{const n=It(nt(be,"pixKeys"),yt("userId","==",t)),r=await Pt(n);e.pixKeys=r.size}catch{}return e.total=e.assets+e.transactions+e.conversions+e.fiatBalances+e.bankAccounts+e.pixKeys,console.log(" Contagem de dados do usurio:",e),e}catch(e){return console.error(" Erro geral ao contar dados do usurio:",e),{assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0}}}function wPe({onNavigate:t}){const{user:e,logout:n,verifyPin:r,userData:i}=Dt(),[s,a]=E.useState("warning"),[o,l]=E.useState(""),[d,f]=E.useState(""),[m,p]=E.useState(""),[y,v]=E.useState(!1),[w,_]=E.useState("password"),[T,L]=E.useState({assets:0,transactions:0,conversions:0,fiatBalances:0,bankAccounts:0,pixKeys:0,total:0}),[O,z]=E.useState(!0);E.useEffect(()=>{e?.uid&&(P(),j())},[e?.uid]);const j=()=>{if(!wn.currentUser)return;const S=wn.currentUser.providerData;if(console.log(" Provedor de autenticao completo:",JSON.stringify(S,null,2)),console.log(" Email do usurio:",wn.currentUser.email),console.log(" Email verificado:",wn.currentUser.emailVerified),console.log(" Metadata:",wn.currentUser.metadata),S.length>0){const k=S[0].providerId;console.log(" Provider ID detectado:",k),k==="password"?(_("password"),console.log(" Usurio usa email/senha")):k==="google.com"?(_("google"),console.log(" Usurio usa login do Google - NO PRECISA DE SENHA")):(_("other"),console.log(" Usurio usa outro mtodo:",k))}else console.log(" Nenhum provedor encontrado!")},P=async()=>{if(e?.uid){z(!0);try{const S=await bPe(e.uid);L(S)}catch(S){console.error(" Erro ao carregar contagem:",S)}finally{z(!1)}}},C=async()=>{if(!e?.uid){Ge.error("Usurio no autenticado");return}if(!wn.currentUser){Ge.error("Erro: usurio no encontrado");return}const S=i&&i.accountPin;if(S){if(!d||d.length!==6){Ge.error("Digite seu PIN de 6 dgitos");return}if(o!=="EXCLUIR"){Ge.error('Digite "EXCLUIR" para confirmar a excluso');return}}else if(o!=="EXCLUIR"){Ge.error('Digite "EXCLUIR" para confirmar a excluso');return}a("deleting"),v(!0);try{if(S){if(console.log(" Validando PIN..."),!await r(d)){console.error(" PIN incorreto"),p("PIN incorreto. Tente novamente."),Ge.error("PIN incorreto. Verifique e tente novamente."),a("pin"),v(!1);return}console.log(" PIN validado com sucesso!")}else console.log(" Usurio sem dados no Firestore. Pulando validao de PIN.");console.log(" Iniciando excluso da conta...");const k=await xPe(e.uid);if(!k.success)throw new Error(k.error||"Erro ao excluir conta");console.log(" Conta excluda com sucesso!"),a("done"),setTimeout(()=>{n()},3e3)}catch(k){console.error(" Erro ao excluir conta:",k),console.error(" Cdigo:",k.code),console.error(" Mensagem:",k.message);let A="Erro ao excluir conta. Tente novamente.";k.code==="auth/requires-recent-login"?A="Por segurana, faa logout e login novamente antes de excluir sua conta.":k.code==="auth/network-request-failed"?A="Erro de conexo. Verifique sua internet e tente novamente.":k.message&&(A=k.message),Ge.error(A),a(S?"pin":"confirm"),v(!1)}};return s==="done"?c.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:c.jsxs(Xn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center mx-auto mb-6",children:c.jsx(Xn.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2},children:c.jsx("svg",{className:"w-10 h-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),c.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Conta Excluda"}),c.jsx("p",{className:"text-gray-400 mb-6",children:"Sua conta e todos os dados foram removidos permanentemente."}),c.jsx("p",{className:"text-sm text-gray-500",children:"Redirecionando..."})]})}):s==="deleting"?c.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:c.jsxs(Xn.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-6",children:c.jsx(Qv,{className:"w-10 h-10 text-red-500 animate-spin"})}),c.jsx("h1",{className:"text-3xl font-bold mb-3",children:"Excluindo Conta..."}),c.jsx("p",{className:"text-gray-400 mb-6",children:"Removendo todos os seus dados do sistema."}),c.jsx("p",{className:"text-sm text-gray-500",children:"Isso pode levar alguns segundos."})]})}):c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col pb-24",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4",children:[c.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border border-white/10 flex items-center justify-center hover:bg-white/10 transition-colors mb-6",children:c.jsx(vt,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex items-start justify-between mb-2",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold mb-1",children:"Excluir Conta"}),c.jsx("p",{className:"text-sm text-gray-400",children:"Ao permanente e irreversvel"})]}),c.jsx("div",{className:"w-12 h-12 rounded-full bg-red-500/20 flex items-center justify-center",children:c.jsx(BT,{className:"w-6 h-6 text-red-500"})})]})]}),c.jsxs("div",{className:"flex-1 px-6 space-y-4",children:[s==="warning"&&c.jsxs(Xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[c.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-4",children:[c.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[c.jsx(Hc,{className:"w-5 h-5 text-red-500"}),"Dados que sero excludos"]}),O?c.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(S=>c.jsx("div",{className:"h-8 bg-white/5 rounded-lg animate-pulse"},S))}):c.jsxs("div",{className:"space-y-3",children:[T.assets>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:"Ativos de criptomoedas"}),c.jsx("span",{className:"font-semibold text-white",children:T.assets})]}),T.transactions>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:"Transaes"}),c.jsx("span",{className:"font-semibold text-white",children:T.transactions})]}),T.conversions>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:"Converses"}),c.jsx("span",{className:"font-semibold text-white",children:T.conversions})]}),T.fiatBalances>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:"Saldos fiat"}),c.jsx("span",{className:"font-semibold text-white",children:T.fiatBalances})]}),T.bankAccounts>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:"Contas bancrias"}),c.jsx("span",{className:"font-semibold text-white",children:T.bankAccounts})]}),T.pixKeys>0&&c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-400",children:"Chaves PIX"}),c.jsx("span",{className:"font-semibold text-white",children:T.pixKeys})]}),T.total===0&&c.jsx("div",{className:"text-center text-gray-500 py-4",children:"Nenhum dado encontrado"}),T.total>0&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-px bg-white/10 my-3"}),c.jsxs("div",{className:"flex justify-between text-base",children:[c.jsx("span",{className:"font-bold text-white",children:"Total"}),c.jsxs("span",{className:"font-bold text-red-500",children:[T.total," itens"]})]})]})]})]}),c.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-red-500 mb-3 flex items-center gap-2",children:[c.jsx(BT,{className:"w-5 h-5"})," Ateno"]}),c.jsxs("ul",{className:"space-y-2 text-sm text-red-200/90",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-red-500 mt-0.5",children:""}),c.jsxs("span",{children:["Todos os seus ativos e saldos sero ",c.jsx("strong",{children:"permanentemente excludos"})]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-red-500 mt-0.5",children:""}),c.jsxs("span",{children:["Seu histrico de transaes ser ",c.jsx("strong",{children:"apagado completamente"})]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-red-500 mt-0.5",children:""}),c.jsxs("span",{children:["Suas chaves PIX e contas bancrias sero ",c.jsx("strong",{children:"removidas"})]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-red-500 mt-0.5",children:""}),c.jsxs("span",{children:[c.jsx("strong",{children:"No ser possvel recuperar"})," nenhum dado aps a excluso"]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-red-500 mt-0.5",children:""}),c.jsxs("span",{children:["Sua conta ",c.jsx("span",{className:"font-bold italic",children:"NexCoin"})," ser ",c.jsx("strong",{children:"encerrada definitivamente"})]})]})]})]}),c.jsxs("div",{className:"bg-yellow-500/10 border border-yellow-500/30 rounded-2xl p-6 mb-6",children:[c.jsx("h3",{className:"text-lg font-bold text-yellow-500 mb-3",children:" Recomendao"}),c.jsx("p",{className:"text-sm text-yellow-200/90",children:"Antes de excluir sua conta, certifique-se de ter sacado todos os seus saldos e transferido seus ativos."})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onClick:()=>a("confirm"),className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors flex items-center justify-center gap-2",children:[c.jsx(Hc,{className:"w-5 h-5"}),"Continuar com Excluso"]}),c.jsx("button",{onClick:()=>t("profile"),className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors",children:"Cancelar"})]})]}),s==="confirm"&&c.jsxs(Xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[c.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-6",children:[c.jsx("h2",{className:"text-lg font-bold mb-3",children:"Confirmao de Excluso"}),c.jsxs("p",{className:"text-sm text-gray-400 mb-6",children:["Para confirmar que voc entende que esta ao  irreversvel, digite ",c.jsx("strong",{className:"text-red-500",children:"EXCLUIR"})," no campo abaixo."]}),c.jsx("input",{type:"text",placeholder:"Digite EXCLUIR",value:o,onChange:S=>l(S.target.value.toUpperCase()),className:"w-full bg-white/5 border border-white/10 text-white rounded-xl px-4 py-3 outline-none focus:ring-2 focus:ring-red-500 placeholder-gray-500 text-center font-bold text-lg",autoFocus:!0}),o&&o!=="EXCLUIR"&&c.jsx("p",{className:"text-xs text-red-500 mt-2 text-center",children:'O texto no corresponde. Digite exatamente "EXCLUIR"'})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:()=>{i&&i.accountPin?a("pin"):C()},disabled:o!=="EXCLUIR",className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Continuar"}),c.jsx("button",{onClick:()=>a("warning"),className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors",children:"Voltar"})]})]}),s==="pin"&&c.jsxs(Xn.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[c.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-6 mb-6",children:[c.jsxs("h2",{className:"text-lg font-bold mb-3 flex items-center gap-2",children:[c.jsx(Cl,{className:"w-5 h-5"}),"Digite seu PIN"]}),c.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Por segurana, digite seu PIN para confirmar a excluso da conta."}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"password",placeholder:"Seu PIN",value:d,onChange:S=>f(S.target.value),className:"w-full bg-white/5 border border-white/10 text-white rounded-xl px-4 py-3 pr-12 outline-none focus:ring-2 focus:ring-red-500 placeholder-gray-500",autoFocus:!0}),c.jsx("button",{type:"button",onClick:()=>f(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:c.jsx(Hc,{className:"w-5 h-5"})})]}),m&&c.jsx("p",{className:"text-xs text-red-500 mt-2 text-center",children:m})]}),c.jsx("div",{className:"bg-red-500/10 border border-red-500/30 rounded-2xl p-6 mb-6",children:c.jsxs("p",{className:"text-sm text-red-200/90 text-center",children:[c.jsx("strong",{children:"ltima confirmao:"}),' Ao clicar em "Excluir Minha Conta", todos os seus dados sero ',c.jsx("strong",{children:"permanentemente removidos"})," do ",c.jsx("span",{className:"font-bold italic",children:"NexCoin"}),"."]})}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("button",{onClick:C,disabled:!d||y,className:"w-full bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:y?c.jsxs(c.Fragment,{children:[c.jsx(Qv,{className:"w-5 h-5 animate-spin"}),"Excluindo..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Hc,{className:"w-5 h-5"}),"Excluir Minha Conta Permanentemente"]})}),c.jsx("button",{onClick:()=>a("confirm"),disabled:y,className:"w-full bg-white/5 hover:bg-white/10 border border-white/10 text-white font-bold py-4 rounded-xl transition-colors disabled:opacity-50",children:"Voltar"})]})]})]})]})}function _Pe({onNavigate:t}){const{language:e,setLanguage:n,t:r}=xt(),i=[{code:"pt",name:r.portuguese,nativeName:"Portugus (Brasil)",flag:""},{code:"en",name:r.english,nativeName:"English (US)",flag:""},{code:"es",name:r.spanish,nativeName:"Espaol",flag:""}],s=async a=>{await n(a),Ge.success(r.languageUpdated)};return c.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col",children:[c.jsxs("header",{className:"px-6 pt-6 pb-4 flex items-center gap-4",children:[c.jsx("button",{onClick:()=>t("profile"),className:"w-10 h-10 rounded-full bg-white/5 backdrop-blur-md border-2 border-white/20 flex items-center justify-center active:scale-95 transition-transform shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:c.jsx(vt,{className:"w-5 h-5 font-light"})}),c.jsx("h1",{className:"text-xl",children:r.languageSettings})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto pb-24 px-6",children:[c.jsx("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl p-4 mb-6 shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(FT,{className:"w-5 h-5 text-green-500 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"mb-1",children:r.selectLanguage}),c.jsx("p",{className:"text-sm text-gray-400",children:e==="pt"?"O idioma ser aplicado em todo o aplicativo":e==="es"?"El idioma se aplicar en toda la aplicacin":"The language will be applied throughout the app"})]})]})}),c.jsx("div",{className:"space-y-3",children:i.map(a=>c.jsx("button",{onClick:()=>s(a.code),className:`w-full p-4 rounded-2xl border transition-all active:scale-95 ${e===a.code?"bg-green-500/20 border-green-500/30":"bg-white/5 backdrop-blur-md border-white/10"} shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-3xl",children:a.flag}),c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-white mb-0.5",children:a.nativeName}),c.jsx("div",{className:"text-xs text-gray-400",children:a.name})]})]}),e===a.code&&c.jsx("div",{className:"w-6 h-6 rounded-full bg-green-500 flex items-center justify-center",children:c.jsx(jn,{className:"w-4 h-4 text-white"})})]})},a.code))}),c.jsxs("div",{className:"mt-6 p-4 bg-white/5 backdrop-blur-md border border-white/10 rounded-2xl shadow-[0_0_20px_rgba(255,255,255,0.05),0_4px_15px_rgba(0,0,0,0.4),inset_0_1px_1px_rgba(255,255,255,0.15),inset_0_-1px_1px_rgba(0,0,0,0.25)]",children:[c.jsxs("h4",{className:"mb-2 flex items-center gap-2 text-sm",children:[c.jsx(FT,{className:"w-4 h-4 text-green-500"}),e==="pt"?"Idiomas disponveis":e==="es"?"Idiomas disponibles":"Available languages"]}),c.jsxs("ul",{className:"space-y-2 text-xs text-gray-400",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-500 mt-0.5",children:""}),c.jsxs("span",{children:["Portugus - ",e==="pt"?"Idioma padro para Brasil":e==="es"?"Idioma predeterminado para Brasil":"Default language for Brazil"]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-500 mt-0.5",children:""}),c.jsxs("span",{children:["English - ",e==="pt"?"Idioma padro para usurios internacionais":e==="es"?"Idioma predeterminado para usuarios internacionales":"Default language for international users"]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-green-500 mt-0.5",children:""}),c.jsxs("span",{children:["Espaol - ",e==="pt"?"Idioma padro para hispanofalantes":e==="es"?"Idioma predeterminado para hispanohablantes":"Default language for Spanish speakers"]})]})]})]})]})]})}class EPe extends Se.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,n){console.error("ErrorBoundary capturou erro:",e,n)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center p-6",children:c.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl border border-white/10 p-6 max-w-md",children:[c.jsx("h2",{className:"text-xl mb-4",children:"Algo deu errado"}),c.jsx("p",{className:"text-white/60 text-sm mb-4",children:this.state.error?.message||"Erro desconhecido"}),c.jsx("button",{onClick:()=>window.location.reload(),className:"w-full bg-white/10 hover:bg-white/20 text-white py-3 px-4 rounded-xl transition-all",children:"Recarregar pgina"})]})}):this.props.children}}function TPe(){return c.jsx("div",{className:"fixed inset-0 bg-black flex items-center justify-center z-50",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsxs("div",{className:"relative inline-block animate-pulse",children:[c.jsx("h1",{className:"text-4xl font-bold italic relative nexcoin-logo-text",children:"NexCoin"}),c.jsx("div",{className:"h-[2px] w-full mx-auto mt-2 rounded-full",style:{background:"linear-gradient(90deg, transparent, #00d4ff, #7b2ff7, transparent)",boxShadow:"0 0 10px rgba(0, 212, 255, 0.8)"}})]}),c.jsx("div",{className:"mt-8",children:c.jsx("div",{className:"w-8 h-8 border-4 border-t-[#00d4ff] border-r-transparent border-b-[#7b2ff7] border-l-transparent rounded-full animate-spin"})})]})})}function CPe({onRetry:t}){return c.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black flex flex-col items-center justify-center p-6 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-red-500/10 rounded-full flex items-center justify-center mb-6",children:c.jsx(Ete,{className:"w-10 h-10 text-red-500"})}),c.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Acesso  Localizao Obrigatrio"}),c.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed",children:"Para sua segurana e proteo contra fraudes, o NexCoin exige acesso  sua localizao. Por favor, habilite o GPS nas configuraes do seu dispositivo e clique em tentar novamente."}),c.jsxs("button",{onClick:t,className:"w-full max-w-xs bg-white text-black font-bold py-4 rounded-full flex items-center justify-center gap-2 active:scale-[0.98] transition-all",children:[c.jsx(NP,{className:"w-5 h-5"}),"Tentar Novamente"]}),c.jsx("p",{className:"mt-8 text-xs text-gray-500",children:"Este requisito est em conformidade com nossa Poltica de Privacidade e Termos de Uso."})]})}function SPe({onRetry:t}){return c.jsxs("div",{className:"fixed inset-0 z-[9999] bg-black flex flex-col items-center justify-center p-6 text-center",children:[c.jsx("div",{className:"w-20 h-20 bg-blue-500/10 rounded-full flex items-center justify-center mb-6",children:c.jsx(pte,{className:"w-10 h-10 text-blue-500"})}),c.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Acesso  Cmera Obrigatrio"}),c.jsx("p",{className:"text-gray-400 mb-8 leading-relaxed",children:"O NexCoin exige acesso  cmera para verificao de identidade (KYC) e segurana da sua conta. Por favor, habilite a permisso de cmera nas configuraes do seu dispositivo e clique em tentar novamente."}),c.jsxs("button",{onClick:t,className:"w-full max-w-xs bg-white text-black font-bold py-4 rounded-full flex items-center justify-center gap-2 active:scale-[0.98] transition-all",children:[c.jsx(NP,{className:"w-5 h-5"}),"Tentar Novamente"]}),c.jsx("p",{className:"mt-8 text-xs text-gray-500",children:"Este requisito garante a integridade das suas transaes e protege sua conta contra acessos no autorizados."})]})}const dl=ng("PushNotifications",{});var NV;(function(t){t[t.Sunday=1]="Sunday",t[t.Monday=2]="Monday",t[t.Tuesday=3]="Tuesday",t[t.Wednesday=4]="Wednesday",t[t.Thursday=5]="Thursday",t[t.Friday=6]="Friday",t[t.Saturday=7]="Saturday"})(NV||(NV={}));const IV=ng("LocalNotifications",{web:()=>fN(()=>import("./web-BblMvET6.js"),[]).then(t=>new t.LocalNotificationsWeb)}),PPe=E.createContext(void 0);function APe({children:t}){const{userData:e,isAuthenticated:n}=Dt(),{t:r}=xt(),[i,s]=E.useState(null),[a,o]=E.useState(!1),l=E.useCallback(async()=>{try{console.log(" [Notifications] Iniciando registro de Push...");const f=await dl.checkPermissions();return f.receive==="prompt"&&(await dl.requestPermissions()).receive!=="granted"?(console.warn(" [Notifications] Permisso de Push negada"),!1):f.receive!=="granted"&&(await dl.requestPermissions()).receive!=="granted"?!1:(await dl.register(),dl.addListener("registration",m=>{if(console.log(" [Notifications] Token de Push recebido:",m.value),s(m.value),e?.uid){const p=rt(be,"users",e.uid);bi(p,{pushToken:m.value}).catch(y=>{console.error(" Erro ao salvar pushToken:",y)})}}),dl.addListener("registrationError",m=>{console.error(" [Notifications] Erro no registro de Push:",m)}),dl.addListener("pushNotificationReceived",m=>{console.log(" [Notifications] Push recebido (Foreground):",m)}),dl.addListener("pushNotificationActionPerformed",m=>{console.log(" [Notifications] Ao de Push executada:",m)}),!0)}catch(f){return console.error(" [Notifications] Erro ao configurar Push:",f),!1}},[e?.uid]),d=async(f,m,p)=>{try{await IV.schedule({notifications:[{title:f,body:m,id:Math.floor(Math.random()*1e4),schedule:{at:new Date(Date.now()+100)},extra:p,sound:"default"}]})}catch(y){console.error(" [Notifications] Erro ao enviar Local Notification:",y)}};return E.useEffect(()=>{if(!n||!e?.uid)return;console.log(" [Notifications] Iniciando monitor de transaes para notificaes...");const f=nt(be,"users",e.uid,"transactions"),m=It(f,yt("status","==","completed"),Cp("createdAt","desc"),da(5)),p=hs(m,y=>{y.docChanges().forEach(v=>{if(v.type==="added"){const w=v.doc.data(),_=v.doc.id,T=`nexcoin_notified_txs_${e.uid}`,L=JSON.parse(localStorage.getItem(T)||"[]");if(L.includes(_))return;const O=w.createdAt?.toDate?w.createdAt.toDate():new Date(w.createdAt);if(Math.abs(new Date().getTime()-O.getTime())/(1e3*60*60)<24&&(console.log(" [Notifications] Nova transao detectada (ou no vista):",w),["receive_crypto","crypto_receive","pix_receive","deposit_fiat"].includes(w.type))){const S=w.type.includes("pix")?"PIX Recebido":"Cripto Recebida",k=`Voc recebeu ${w.amount} ${w.currency}!`;d(S,k,{txId:_});const A=[...L,_];A.length>50&&A.shift(),localStorage.setItem(T,JSON.stringify(A))}}})});return()=>p()},[n,e?.uid]),E.useEffect(()=>{n&&!a&&(o(!0),IV.requestPermissions())},[n,a,l]),c.jsx(PPe.Provider,{value:{pushToken:i,requestPermissions:l,sendLocalNotification:d},children:t})}function NPe(){const t=navigator.userAgent,e=/iPad|iPhone|iPod/.test(t),n=/Safari/.test(t)&&!/Chrome|CriOS|FxiOS/.test(t);return e||n}function IPe(){const{isAuthenticated:t,isPinVerified:e,userData:n}=Dt(),r=E.useRef(!1);E.useEffect(()=>{const i=NPe();if(console.log(" usePermissionsRequest - Estado atual:",{isAuthenticated:t,isPinVerified:e,hasUserData:!!n,userId:n?.userId,permissionsRequested:n?.permissionsRequested,hasRequestedRef:r.current,isIOSSafari:i}),!t){console.log(" No autenticado, aguardando...");return}if(!e){console.log(" PIN no verificado, aguardando...");return}if(!n){console.log(" Sem userData, aguardando...");return}if(r.current){console.log(" J solicitou nesta sesso");return}if(n.permissionsRequested){console.log(" J solicitou anteriormente (Firestore)");return}console.log(" TODAS VALIDAES PASSARAM! Iniciando solicitao de permisses em 1 segundo..."),r.current=!0;const s=setTimeout(()=>{console.log(" Timer disparado! Executando requestPermissions()"),a()},1e3);return()=>clearTimeout(s);async function a(){console.log(" === INICIANDO SOLICITAO DE PERMISSES ===");const o={location:"not_requested",camera:"not_requested"};try{if(n?.trackLocationEnabled===!0){console.log(" Solicitando permisso de LOCALIZAO (nativo)");try{await new Promise((l,d)=>{navigator.geolocation.getCurrentPosition(f=>{console.log(" Localizao concedida:",f.coords),o.location="granted",l()},f=>{console.log(" Localizao negada ou bloqueada:",f.message),f.code===1?o.location="denied":f.code===2?o.location="unavailable":o.location="timeout",l()},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})})}catch(l){console.error("Erro ao solicitar localizao:",l),o.location="error"}}else console.log(" Pulando solicitao de LOCALIZAO (desativado via Firebase)"),o.location="skipped_remote";await new Promise(l=>setTimeout(l,1e3)),console.log(" Solicitando permisso de CMERA (nativo)");try{const l=await navigator.mediaDevices.getUserMedia({video:{facingMode:"user"},audio:!1});console.log(" Cmera concedida"),o.camera="granted",l.getTracks().forEach(d=>d.stop())}catch(l){console.log(" Cmera no permitida:",l.name),l.name==="NotAllowedError"?o.camera="denied":l.name==="NotFoundError"?o.camera="not_found":l.name==="NotReadableError"?o.camera="in_use":l.name==="NotSupportedError"?o.camera="not_supported":o.camera="error"}if(console.log(" Salvando permisses:",o),n?.userId)try{const l=rt(be,"users",n.userId);await bi(l,{permissionsRequested:!0,locationPermission:o.location,cameraPermission:o.camera,permissionsRequestedAt:new Date().toISOString()}),console.log(" Permisses salvas no Firestore")}catch(l){console.error(" Erro ao salvar permisses:",l)}}catch(l){console.error(" Erro geral ao solicitar permisses:",l)}}},[t,e,n])}const jPe=console.error;console.error=(...t)=>{typeof t[0]=="string"&&(t[0].includes("WebChannelConnection")||t[0].includes("RPC")||t[0].includes("transport errored"))||jPe.apply(console,t)};function kPe(){const{isAuthenticated:t,isPinVerified:e,userData:n,loading:r}=Dt(),{hasPermission:i,hasCameraPermission:s,isLoading:a,getCurrentLocation:o,checkCameraPermission:l}=Iz(),[d,f]=E.useState("welcome"),[m,p]=E.useState(!1),[y,v]=E.useState("fade"),[w,_]=E.useState(null),[T,L]=E.useState(null),[O,z]=E.useState(!1);IPe(),E.useEffect(()=>{if(!r){if(!O){t&&e?(console.log(" Inicializao: Usurio autenticado, indo para home"),f("home")):(console.log(" Inicializao: Usurio no autenticado, ficando em welcome"),f("welcome")),z(!0);return}if(t)t&&!e?["login","signup"].includes(d)&&(console.log(" Redirecionando para pinVerify (vindo de login/signup)"),f("pinVerify")):t&&e&&["welcome","login","signup","pinVerify"].includes(d)&&(console.log(" Redirecionando para home"),f("home"));else return}},[t,e,r,O]);const j=k=>({welcome:"fade",login:"slide",signup:"slideup",pinSetup:"slideup",pinVerify:"slideup",country:"scale",countrySelection:"scale",completeProfile:"slideup",home:"fade",wallet:"slide",convert:"scale",crypto:"slideup",profile:"slide",personalInfo:"slide",accountData:"slide",security:"scale",changePassword:"slideup",notifications:"slideup",pushSettings:"slideup",helpCenter:"slideup",termsAndConditions:"slideup",privacyPolicy:"slideup",termsMenu:"slideup",deposit:"slideup",withdraw:"slide",withdrawFiat:"slide",receive:"fade",transactions:"scale",passwordEntry:"slideup",manageHoldings:"slideup",fiatAccountDetails:"slideup",selectFiatAccount:"slideup",deleteAccount:"slideup",languageSettings:"slideup"})[k]||"slide",P=k=>{console.log(" handleNavigate chamado para:",k),console.log(" Tela atual:",d),console.log(" isAuthenticated:",t),console.log(" isPinVerified:",e),console.log(" loading:",r),p(!0),setTimeout(()=>{console.log(" Mudando tela para:",k),f(k),v(j(k)),p(!1)},700)},C=(k,A)=>{_(A),P(k)},S=()=>{switch(d){case"welcome":return c.jsx(lR,{onNavigate:P});case"login":return c.jsx($te,{onNavigate:P});case"signup":return c.jsx(Hte,{onNavigate:P});case"pinSetup":return c.jsx(Kte,{onNavigate:P});case"country":return c.jsx(mR,{onNavigate:P});case"countrySelection":return c.jsx(mR,{onNavigate:P});case"home":return c.jsx(h4,{onNavigate:P,onNavigateWithAccount:C});case"wallet":return c.jsx(Sxe,{onNavigate:P});case"convert":return c.jsx(Vxe,{onNavigate:P,onNavigateWithAccount:C});case"crypto":return c.jsx(Fxe,{onNavigate:P});case"profile":return c.jsx(Bxe,{onNavigate:P});case"personalInfo":return c.jsx(zxe,{onNavigate:P});case"accountData":return c.jsx(FEe,{onNavigate:P});case"security":return c.jsx(BEe,{onNavigate:P});case"changePassword":return c.jsx(zEe,{onNavigate:P});case"notifications":return c.jsx(BCe,{onNavigate:P});case"pushSettings":return c.jsx(zCe,{onNavigate:P});case"helpCenter":return c.jsx(UCe,{onNavigate:P});case"termsAndConditions":return c.jsx($Ce,{onNavigate:P});case"privacyPolicy":return c.jsx(qCe,{onNavigate:P});case"termsMenu":return c.jsx(WCe,{onNavigate:P});case"deposit":return c.jsx(rSe,{onNavigate:P});case"withdraw":return c.jsx(dSe,{onNavigate:P});case"withdrawFiat":return c.jsx(gSe,{onNavigate:P,onBack:()=>P("home")});case"receive":return c.jsx(JSe,{onNavigate:P});case"transactions":return c.jsx(ZSe,{onNavigate:P});case"passwordEntry":return c.jsx(tPe,{onNavigate:P});case"manageHoldings":return c.jsx(nPe,{onNavigate:P});case"fiatAccountDetails":return w?c.jsx(AV,{account:w,onClose:()=>P("home"),onNavigateToConvert:()=>P("convert"),onNavigateToWithdraw:()=>C("withdrawFiat",w)}):c.jsx(h4,{onNavigate:P,onNavigateWithAccount:C});case"selectFiatAccount":return c.jsx(rPe,{onNavigate:P,onNavigateWithAccount:C});case"deleteAccount":return c.jsx(wPe,{onNavigate:P});case"languageSettings":return c.jsx(_Pe,{onNavigate:P});default:return c.jsx(lR,{onNavigate:P})}};return r||!O?c.jsx(TPe,{}):t&&n?.trackLocationEnabled===!0&&!i&&!a&&!["welcome","login","signup"].includes(d)?c.jsx(CPe,{onRetry:()=>o()}):t&&n?.requireCameraPermission===!0&&!s&&!a&&!["welcome","login","signup","pinSetup","pinVerify"].includes(d)?c.jsx(SPe,{onRetry:()=>l()}):c.jsxs("div",{className:"min-h-screen bg-black text-white w-full max-w-[430px] mx-auto relative",children:[t&&n&&n.aprovado==="no"?c.jsx(vPe,{}):c.jsxs(c.Fragment,{children:[d==="fiatAccountDetails"&&w?c.jsx(AV,{account:w,onClose:()=>P("home"),onNavigateToConvert:()=>P("convert"),onNavigateToWithdraw:()=>C("withdrawFiat",w)}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:m?`page-${y}-exit`:`page-${y}-enter`,children:S()}),["home","wallet","convert","crypto","profile"].includes(d)&&c.jsx(ePe,{onNavigate:P,currentScreen:d})]}),t&&c.jsx(iPe,{}),c.jsx(sPe,{})]}),c.jsx(Cne,{position:"top-center",theme:"dark",toastOptions:{style:{background:"#18181b",border:"1px solid rgba(255, 255, 255, 0.1)",color:"#fff"}}})]})}function RPe(){return c.jsx(EPe,{children:c.jsx(cte,{children:c.jsx(qte,{children:c.jsx(Ite,{children:c.jsx(Ute,{children:c.jsx(Gte,{children:c.jsx(Yte,{children:c.jsx(Xte,{children:c.jsx(Qte,{children:c.jsx(APe,{children:c.jsx(kPe,{})})})})})})})})})})})}oH.createRoot(document.getElementById("root")).render(c.jsx(Se.StrictMode,{children:c.jsx(RPe,{})}));export{I7 as W};
